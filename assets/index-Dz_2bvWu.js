var Y9=Object.defineProperty;var X9=(e,t,r)=>t in e?Y9(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Qe=(e,t,r)=>X9(e,typeof t!="symbol"?t+"":t,r);function J9(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();const bu=globalThis||void 0||self;/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function $E(e){const t=Object.create(null);for(const r of e.split(","))t[r]=1;return r=>r in t}const tr={},wu=[],ma=()=>{},e7=()=>!1,Iy=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),UE=e=>e.startsWith("onUpdate:"),nn=Object.assign,VE=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},t7=Object.prototype.hasOwnProperty,Qt=(e,t)=>t7.call(e,t),Rt=Array.isArray,Su=e=>Py(e)==="[object Map]",y6=e=>Py(e)==="[object Set]",It=e=>typeof e=="function",_r=e=>typeof e=="string",Qa=e=>typeof e=="symbol",sr=e=>e!==null&&typeof e=="object",g6=e=>(sr(e)||It(e))&&It(e.then)&&It(e.catch),_6=Object.prototype.toString,Py=e=>_6.call(e),r7=e=>Py(e).slice(8,-1),b6=e=>Py(e)==="[object Object]",HE=e=>_r(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,vp=$E(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Oy=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},n7=/-(\w)/g,wi=Oy(e=>e.replace(n7,(t,r)=>r?r.toUpperCase():"")),i7=/\B([A-Z])/g,jo=Oy(e=>e.replace(i7,"-$1").toLowerCase()),Ny=Oy(e=>e.charAt(0).toUpperCase()+e.slice(1)),Kg=Oy(e=>e?`on${Ny(e)}`:""),Ro=(e,t)=>!Object.is(e,t),Qg=(e,...t)=>{for(let r=0;r<e.length;r++)e[r](...t)},v6=(e,t,r,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:r})},a7=e=>{const t=parseFloat(e);return isNaN(t)?e:t},o7=e=>{const t=_r(e)?Number(e):NaN;return isNaN(t)?e:t};let VR;const Dy=()=>VR||(VR=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof bu<"u"?bu:{});function kr(e){if(Rt(e)){const t={};for(let r=0;r<e.length;r++){const n=e[r],i=_r(n)?f7(n):kr(n);if(i)for(const a in i)t[a]=i[a]}return t}else if(_r(e)||sr(e))return e}const s7=/;(?![^(]*\))/g,u7=/:([^]+)/,l7=/\/\*[^]*?\*\//g;function f7(e){const t={};return e.replace(l7,"").split(s7).forEach(r=>{if(r){const n=r.split(u7);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function vt(e){let t="";if(_r(e))t=e;else if(Rt(e))for(let r=0;r<e.length;r++){const n=vt(e[r]);n&&(t+=n+" ")}else if(sr(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}function tn(e){if(!e)return null;let{class:t,style:r}=e;return t&&!_r(t)&&(e.class=vt(t)),r&&(e.style=kr(r)),e}const c7="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",d7=$E(c7);function w6(e){return!!e||e===""}const S6=e=>!!(e&&e.__v_isRef===!0),Gt=e=>_r(e)?e:e==null?"":Rt(e)||sr(e)&&(e.toString===_6||!It(e.toString))?S6(e)?Gt(e.value):JSON.stringify(e,E6,2):String(e),E6=(e,t)=>S6(t)?E6(e,t.value):Su(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[n,i],a)=>(r[Zg(n,a)+" =>"]=i,r),{})}:y6(t)?{[`Set(${t.size})`]:[...t.values()].map(r=>Zg(r))}:Qa(t)?Zg(t):sr(t)&&!Rt(t)&&!b6(t)?String(t):t,Zg=(e,t="")=>{var r;return Qa(e)?`Symbol(${(r=e.description)!=null?r:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Pn;class h7{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Pn,!t&&Pn&&(this.index=(Pn.scopes||(Pn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].pause();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].resume();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].resume()}}run(t){if(this._active){const r=Pn;try{return Pn=this,t()}finally{Pn=r}}}on(){Pn=this}off(){Pn=this.parent}stop(t){if(this._active){this._active=!1;let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(this.effects.length=0,r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function T6(){return Pn}function p7(e,t=!1){Pn&&Pn.cleanups.push(e)}let or;const Yg=new WeakSet;class x6{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Pn&&Pn.active&&Pn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Yg.has(this)&&(Yg.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||A6(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,HR(this),I6(this);const t=or,r=qi;or=this,qi=!0;try{return this.fn()}finally{P6(this),or=t,qi=r,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)WE(t);this.deps=this.depsTail=void 0,HR(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Yg.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){JS(this)&&this.run()}get dirty(){return JS(this)}}let R6=0,wp,Sp;function A6(e,t=!1){if(e.flags|=8,t){e.next=Sp,Sp=e;return}e.next=wp,wp=e}function zE(){R6++}function GE(){if(--R6>0)return;if(Sp){let t=Sp;for(Sp=void 0;t;){const r=t.next;t.next=void 0,t.flags&=-9,t=r}}let e;for(;wp;){let t=wp;for(wp=void 0;t;){const r=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=r}}if(e)throw e}function I6(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function P6(e){let t,r=e.depsTail,n=r;for(;n;){const i=n.prevDep;n.version===-1?(n===r&&(r=i),WE(n),m7(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=i}e.deps=t,e.depsTail=r}function JS(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(O6(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function O6(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Cp))return;e.globalVersion=Cp;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!JS(e)){e.flags&=-3;return}const r=or,n=qi;or=e,qi=!0;try{I6(e);const i=e.fn(e._value);(t.version===0||Ro(i,e._value))&&(e._value=i,t.version++)}catch(i){throw t.version++,i}finally{or=r,qi=n,P6(e),e.flags&=-3}}function WE(e,t=!1){const{dep:r,prevSub:n,nextSub:i}=e;if(n&&(n.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=n,e.nextSub=void 0),r.subs===e&&(r.subs=n,!n&&r.computed)){r.computed.flags&=-5;for(let a=r.computed.deps;a;a=a.nextDep)WE(a,!0)}!t&&!--r.sc&&r.map&&r.map.delete(r.key)}function m7(e){const{prevDep:t,nextDep:r}=e;t&&(t.nextDep=r,e.prevDep=void 0),r&&(r.prevDep=t,e.nextDep=void 0)}let qi=!0;const N6=[];function qo(){N6.push(qi),qi=!1}function Bo(){const e=N6.pop();qi=e===void 0?!0:e}function HR(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const r=or;or=void 0;try{t()}finally{or=r}}}let Cp=0;class y7{constructor(t,r){this.sub=t,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class KE{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!or||!qi||or===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==or)r=this.activeLink=new y7(or,this),or.deps?(r.prevDep=or.depsTail,or.depsTail.nextDep=r,or.depsTail=r):or.deps=or.depsTail=r,D6(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const n=r.nextDep;n.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=n),r.prevDep=or.depsTail,r.nextDep=void 0,or.depsTail.nextDep=r,or.depsTail=r,or.deps===r&&(or.deps=n)}return r}trigger(t){this.version++,Cp++,this.notify(t)}notify(t){zE();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{GE()}}}function D6(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)D6(n)}const r=e.dep.subs;r!==e&&(e.prevSub=r,r&&(r.nextSub=e)),e.dep.subs=e}}const uy=new WeakMap,Ls=Symbol(""),eE=Symbol(""),Lp=Symbol("");function gn(e,t,r){if(qi&&or){let n=uy.get(e);n||uy.set(e,n=new Map);let i=n.get(r);i||(n.set(r,i=new KE),i.map=n,i.key=r),i.track()}}function Ba(e,t,r,n,i,a){const o=uy.get(e);if(!o){Cp++;return}const s=l=>{l&&l.trigger()};if(zE(),t==="clear")o.forEach(s);else{const l=Rt(e),u=l&&HE(r);if(l&&r==="length"){const f=Number(n);o.forEach((d,c)=>{(c==="length"||c===Lp||!Qa(c)&&c>=f)&&s(d)})}else switch((r!==void 0||o.has(void 0))&&s(o.get(r)),u&&s(o.get(Lp)),t){case"add":l?u&&s(o.get("length")):(s(o.get(Ls)),Su(e)&&s(o.get(eE)));break;case"delete":l||(s(o.get(Ls)),Su(e)&&s(o.get(eE)));break;case"set":Su(e)&&s(o.get(Ls));break}}GE()}function g7(e,t){const r=uy.get(e);return r&&r.get(t)}function su(e){const t=Vt(e);return t===e?t:(gn(t,"iterate",Lp),_i(e)?t:t.map(_n))}function Cy(e){return gn(e=Vt(e),"iterate",Lp),e}const _7={__proto__:null,[Symbol.iterator](){return Xg(this,Symbol.iterator,_n)},concat(...e){return su(this).concat(...e.map(t=>Rt(t)?su(t):t))},entries(){return Xg(this,"entries",e=>(e[1]=_n(e[1]),e))},every(e,t){return Ra(this,"every",e,t,void 0,arguments)},filter(e,t){return Ra(this,"filter",e,t,r=>r.map(_n),arguments)},find(e,t){return Ra(this,"find",e,t,_n,arguments)},findIndex(e,t){return Ra(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Ra(this,"findLast",e,t,_n,arguments)},findLastIndex(e,t){return Ra(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Ra(this,"forEach",e,t,void 0,arguments)},includes(...e){return Jg(this,"includes",e)},indexOf(...e){return Jg(this,"indexOf",e)},join(e){return su(this).join(e)},lastIndexOf(...e){return Jg(this,"lastIndexOf",e)},map(e,t){return Ra(this,"map",e,t,void 0,arguments)},pop(){return Nl(this,"pop")},push(...e){return Nl(this,"push",e)},reduce(e,...t){return zR(this,"reduce",e,t)},reduceRight(e,...t){return zR(this,"reduceRight",e,t)},shift(){return Nl(this,"shift")},some(e,t){return Ra(this,"some",e,t,void 0,arguments)},splice(...e){return Nl(this,"splice",e)},toReversed(){return su(this).toReversed()},toSorted(e){return su(this).toSorted(e)},toSpliced(...e){return su(this).toSpliced(...e)},unshift(...e){return Nl(this,"unshift",e)},values(){return Xg(this,"values",_n)}};function Xg(e,t,r){const n=Cy(e),i=n[t]();return n!==e&&!_i(e)&&(i._next=i.next,i.next=()=>{const a=i._next();return a.value&&(a.value=r(a.value)),a}),i}const b7=Array.prototype;function Ra(e,t,r,n,i,a){const o=Cy(e),s=o!==e&&!_i(e),l=o[t];if(l!==b7[t]){const d=l.apply(e,a);return s?_n(d):d}let u=r;o!==e&&(s?u=function(d,c){return r.call(this,_n(d),c,e)}:r.length>2&&(u=function(d,c){return r.call(this,d,c,e)}));const f=l.call(o,u,n);return s&&i?i(f):f}function zR(e,t,r,n){const i=Cy(e);let a=r;return i!==e&&(_i(e)?r.length>3&&(a=function(o,s,l){return r.call(this,o,s,l,e)}):a=function(o,s,l){return r.call(this,o,_n(s),l,e)}),i[t](a,...n)}function Jg(e,t,r){const n=Vt(e);gn(n,"iterate",Lp);const i=n[t](...r);return(i===-1||i===!1)&&YE(r[0])?(r[0]=Vt(r[0]),n[t](...r)):i}function Nl(e,t,r=[]){qo(),zE();const n=Vt(e)[t].apply(e,r);return GE(),Bo(),n}const v7=$E("__proto__,__v_isRef,__isVue"),C6=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Qa));function w7(e){Qa(e)||(e=String(e));const t=Vt(this);return gn(t,"has",e),t.hasOwnProperty(e)}class L6{constructor(t=!1,r=!1){this._isReadonly=t,this._isShallow=r}get(t,r,n){if(r==="__v_skip")return t.__v_skip;const i=this._isReadonly,a=this._isShallow;if(r==="__v_isReactive")return!i;if(r==="__v_isReadonly")return i;if(r==="__v_isShallow")return a;if(r==="__v_raw")return n===(i?a?N7:j6:a?F6:k6).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const o=Rt(t);if(!i){let l;if(o&&(l=_7[r]))return l;if(r==="hasOwnProperty")return w7}const s=Reflect.get(t,r,zr(t)?t:n);return(Qa(r)?C6.has(r):v7(r))||(i||gn(t,"get",r),a)?s:zr(s)?o&&HE(r)?s:s.value:sr(s)?i?q6(s):Za(s):s}}class M6 extends L6{constructor(t=!1){super(!1,t)}set(t,r,n,i){let a=t[r];if(!this._isShallow){const l=Fs(a);if(!_i(n)&&!Fs(n)&&(a=Vt(a),n=Vt(n)),!Rt(t)&&zr(a)&&!zr(n))return l?!1:(a.value=n,!0)}const o=Rt(t)&&HE(r)?Number(r)<t.length:Qt(t,r),s=Reflect.set(t,r,n,zr(t)?t:i);return t===Vt(i)&&(o?Ro(n,a)&&Ba(t,"set",r,n):Ba(t,"add",r,n)),s}deleteProperty(t,r){const n=Qt(t,r);t[r];const i=Reflect.deleteProperty(t,r);return i&&n&&Ba(t,"delete",r,void 0),i}has(t,r){const n=Reflect.has(t,r);return(!Qa(r)||!C6.has(r))&&gn(t,"has",r),n}ownKeys(t){return gn(t,"iterate",Rt(t)?"length":Ls),Reflect.ownKeys(t)}}class S7 extends L6{constructor(t=!1){super(!0,t)}set(t,r){return!0}deleteProperty(t,r){return!0}}const E7=new M6,T7=new S7,x7=new M6(!0);const tE=e=>e,Y0=e=>Reflect.getPrototypeOf(e);function R7(e,t,r){return function(...n){const i=this.__v_raw,a=Vt(i),o=Su(a),s=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,u=i[e](...n),f=r?tE:t?rE:_n;return!t&&gn(a,"iterate",l?eE:Ls),{next(){const{value:d,done:c}=u.next();return c?{value:d,done:c}:{value:s?[f(d[0]),f(d[1])]:f(d),done:c}},[Symbol.iterator](){return this}}}}function X0(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function A7(e,t){const r={get(i){const a=this.__v_raw,o=Vt(a),s=Vt(i);e||(Ro(i,s)&&gn(o,"get",i),gn(o,"get",s));const{has:l}=Y0(o),u=t?tE:e?rE:_n;if(l.call(o,i))return u(a.get(i));if(l.call(o,s))return u(a.get(s));a!==o&&a.get(i)},get size(){const i=this.__v_raw;return!e&&gn(Vt(i),"iterate",Ls),Reflect.get(i,"size",i)},has(i){const a=this.__v_raw,o=Vt(a),s=Vt(i);return e||(Ro(i,s)&&gn(o,"has",i),gn(o,"has",s)),i===s?a.has(i):a.has(i)||a.has(s)},forEach(i,a){const o=this,s=o.__v_raw,l=Vt(s),u=t?tE:e?rE:_n;return!e&&gn(l,"iterate",Ls),s.forEach((f,d)=>i.call(a,u(f),u(d),o))}};return nn(r,e?{add:X0("add"),set:X0("set"),delete:X0("delete"),clear:X0("clear")}:{add(i){!t&&!_i(i)&&!Fs(i)&&(i=Vt(i));const a=Vt(this);return Y0(a).has.call(a,i)||(a.add(i),Ba(a,"add",i,i)),this},set(i,a){!t&&!_i(a)&&!Fs(a)&&(a=Vt(a));const o=Vt(this),{has:s,get:l}=Y0(o);let u=s.call(o,i);u||(i=Vt(i),u=s.call(o,i));const f=l.call(o,i);return o.set(i,a),u?Ro(a,f)&&Ba(o,"set",i,a):Ba(o,"add",i,a),this},delete(i){const a=Vt(this),{has:o,get:s}=Y0(a);let l=o.call(a,i);l||(i=Vt(i),l=o.call(a,i)),s&&s.call(a,i);const u=a.delete(i);return l&&Ba(a,"delete",i,void 0),u},clear(){const i=Vt(this),a=i.size!==0,o=i.clear();return a&&Ba(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{r[i]=R7(i,e,t)}),r}function QE(e,t){const r=A7(e,t);return(n,i,a)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?n:Reflect.get(Qt(r,i)&&i in n?r:n,i,a)}const I7={get:QE(!1,!1)},P7={get:QE(!1,!0)},O7={get:QE(!0,!1)};const k6=new WeakMap,F6=new WeakMap,j6=new WeakMap,N7=new WeakMap;function D7(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function C7(e){return e.__v_skip||!Object.isExtensible(e)?0:D7(r7(e))}function Za(e){return Fs(e)?e:ZE(e,!1,E7,I7,k6)}function L7(e){return ZE(e,!1,x7,P7,F6)}function q6(e){return ZE(e,!0,T7,O7,j6)}function ZE(e,t,r,n,i){if(!sr(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=i.get(e);if(a)return a;const o=C7(e);if(o===0)return e;const s=new Proxy(e,o===2?n:r);return i.set(e,s),s}function Eu(e){return Fs(e)?Eu(e.__v_raw):!!(e&&e.__v_isReactive)}function Fs(e){return!!(e&&e.__v_isReadonly)}function _i(e){return!!(e&&e.__v_isShallow)}function YE(e){return e?!!e.__v_raw:!1}function Vt(e){const t=e&&e.__v_raw;return t?Vt(t):e}function $s(e){return!Qt(e,"__v_skip")&&Object.isExtensible(e)&&v6(e,"__v_skip",!0),e}const _n=e=>sr(e)?Za(e):e,rE=e=>sr(e)?q6(e):e;function zr(e){return e?e.__v_isRef===!0:!1}function Je(e){return M7(e,!1)}function M7(e,t){return zr(e)?e:new k7(e,t)}class k7{constructor(t,r){this.dep=new KE,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?t:Vt(t),this._value=r?t:_n(t),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(t){const r=this._rawValue,n=this.__v_isShallow||_i(t)||Fs(t);t=n?t:Vt(t),Ro(t,r)&&(this._rawValue=t,this._value=n?t:_n(t),this.dep.trigger())}}function Fe(e){return zr(e)?e.value:e}function F7(e){return It(e)?e():Fe(e)}const j7={get:(e,t,r)=>t==="__v_raw"?e:Fe(Reflect.get(e,t,r)),set:(e,t,r,n)=>{const i=e[t];return zr(i)&&!zr(r)?(i.value=r,!0):Reflect.set(e,t,r,n)}};function B6(e){return Eu(e)?e:new Proxy(e,j7)}class q7{constructor(t,r,n){this._object=t,this._key=r,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return g7(Vt(this._object),this._key)}}class B7{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Mp(e,t,r){return zr(e)?e:It(e)?new B7(e):sr(e)&&arguments.length>1?$7(e,t,r):Je(e)}function $7(e,t,r){const n=e[t];return zr(n)?n:new q7(e,t,r)}class U7{constructor(t,r,n){this.fn=t,this.setter=r,this._value=void 0,this.dep=new KE(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Cp-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&or!==this)return A6(this,!0),!0}get value(){const t=this.dep.track();return O6(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function V7(e,t,r=!1){let n,i;return It(e)?n=e:(n=e.get,i=e.set),new U7(n,i,r)}const J0={},ly=new WeakMap;let Ss;function H7(e,t=!1,r=Ss){if(r){let n=ly.get(r);n||ly.set(r,n=[]),n.push(e)}}function z7(e,t,r=tr){const{immediate:n,deep:i,once:a,scheduler:o,augmentJob:s,call:l}=r,u=S=>i?S:_i(S)||i===!1||i===0?$a(S,1):$a(S);let f,d,c,p,b=!1,v=!1;if(zr(e)?(d=()=>e.value,b=_i(e)):Eu(e)?(d=()=>u(e),b=!0):Rt(e)?(v=!0,b=e.some(S=>Eu(S)||_i(S)),d=()=>e.map(S=>{if(zr(S))return S.value;if(Eu(S))return u(S);if(It(S))return l?l(S,2):S()})):It(e)?t?d=l?()=>l(e,2):e:d=()=>{if(c){qo();try{c()}finally{Bo()}}const S=Ss;Ss=f;try{return l?l(e,3,[p]):e(p)}finally{Ss=S}}:d=ma,t&&i){const S=d,x=i===!0?1/0:i;d=()=>$a(S(),x)}const _=T6(),y=()=>{f.stop(),_&&_.active&&VE(_.effects,f)};if(a&&t){const S=t;t=(...x)=>{S(...x),y()}}let m=v?new Array(e.length).fill(J0):J0;const g=S=>{if(!(!(f.flags&1)||!f.dirty&&!S))if(t){const x=f.run();if(i||b||(v?x.some((I,N)=>Ro(I,m[N])):Ro(x,m))){c&&c();const I=Ss;Ss=f;try{const N=[x,m===J0?void 0:v&&m[0]===J0?[]:m,p];l?l(t,3,N):t(...N),m=x}finally{Ss=I}}}else f.run()};return s&&s(g),f=new x6(d),f.scheduler=o?()=>o(g,!1):g,p=S=>H7(S,!1,f),c=f.onStop=()=>{const S=ly.get(f);if(S){if(l)l(S,4);else for(const x of S)x();ly.delete(f)}},t?n?g(!0):m=f.run():o?o(g.bind(null,!0),!0):f.run(),y.pause=f.pause.bind(f),y.resume=f.resume.bind(f),y.stop=y,y}function $a(e,t=1/0,r){if(t<=0||!sr(e)||e.__v_skip||(r=r||new Set,r.has(e)))return e;if(r.add(e),t--,zr(e))$a(e.value,t,r);else if(Rt(e))for(let n=0;n<e.length;n++)$a(e[n],t,r);else if(y6(e)||Su(e))e.forEach(n=>{$a(n,t,r)});else if(b6(e)){for(const n in e)$a(e[n],t,r);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&$a(e[n],t,r)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function e0(e,t,r,n){try{return n?e(...n):e()}catch(i){Ly(i,t,r)}}function Ui(e,t,r,n){if(It(e)){const i=e0(e,t,r,n);return i&&g6(i)&&i.catch(a=>{Ly(a,t,r)}),i}if(Rt(e)){const i=[];for(let a=0;a<e.length;a++)i.push(Ui(e[a],t,r,n));return i}}function Ly(e,t,r,n=!0){const i=t?t.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||tr;if(t){let s=t.parent;const l=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${r}`;for(;s;){const f=s.ec;if(f){for(let d=0;d<f.length;d++)if(f[d](e,l,u)===!1)return}s=s.parent}if(a){qo(),e0(a,null,10,[e,l,u]),Bo();return}}G7(e,r,i,n,o)}function G7(e,t,r,n=!0,i=!1){if(i)throw e;console.error(e)}const On=[];let aa=-1;const Tu=[];let _o=null,yu=0;const $6=Promise.resolve();let fy=null;function Ar(e){const t=fy||$6;return e?t.then(this?e.bind(this):e):t}function W7(e){let t=aa+1,r=On.length;for(;t<r;){const n=t+r>>>1,i=On[n],a=kp(i);a<e||a===e&&i.flags&2?t=n+1:r=n}return t}function XE(e){if(!(e.flags&1)){const t=kp(e),r=On[On.length-1];!r||!(e.flags&2)&&t>=kp(r)?On.push(e):On.splice(W7(t),0,e),e.flags|=1,U6()}}function U6(){fy||(fy=$6.then(H6))}function K7(e){Rt(e)?Tu.push(...e):_o&&e.id===-1?_o.splice(yu+1,0,e):e.flags&1||(Tu.push(e),e.flags|=1),U6()}function GR(e,t,r=aa+1){for(;r<On.length;r++){const n=On[r];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;On.splice(r,1),r--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function V6(e){if(Tu.length){const t=[...new Set(Tu)].sort((r,n)=>kp(r)-kp(n));if(Tu.length=0,_o){_o.push(...t);return}for(_o=t,yu=0;yu<_o.length;yu++){const r=_o[yu];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}_o=null,yu=0}}const kp=e=>e.id==null?e.flags&2?-1:1/0:e.id;function H6(e){try{for(aa=0;aa<On.length;aa++){const t=On[aa];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),e0(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;aa<On.length;aa++){const t=On[aa];t&&(t.flags&=-2)}aa=-1,On.length=0,V6(),fy=null,(On.length||Tu.length)&&H6()}}let rn=null,z6=null;function cy(e){const t=rn;return rn=e,z6=e&&e.type.__scopeId||null,t}function bt(e,t=rn,r){if(!t||e._n)return e;const n=(...i)=>{n._d&&o2(-1);const a=cy(t);let o;try{o=e(...i)}finally{cy(a),n._d&&o2(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function Ao(e,t){if(rn===null)return e;const r=qy(rn),n=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[a,o,s,l=tr]=t[i];a&&(It(a)&&(a={mounted:a,updated:a}),a.deep&&$a(o),n.push({dir:a,instance:r,value:o,oldValue:void 0,arg:s,modifiers:l}))}return e}function is(e,t,r,n){const i=e.dirs,a=t&&t.dirs;for(let o=0;o<i.length;o++){const s=i[o];a&&(s.oldValue=a[o].value);let l=s.dir[n];l&&(qo(),Ui(l,r,8,[e.el,s,e,t]),Bo())}}const G6=Symbol("_vte"),W6=e=>e.__isTeleport,Ep=e=>e&&(e.disabled||e.disabled===""),WR=e=>e&&(e.defer||e.defer===""),KR=e=>typeof SVGElement<"u"&&e instanceof SVGElement,QR=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,nE=(e,t)=>{const r=e&&e.to;return _r(r)?t?t(r):null:r},K6={name:"Teleport",__isTeleport:!0,process(e,t,r,n,i,a,o,s,l,u){const{mc:f,pc:d,pbc:c,o:{insert:p,querySelector:b,createText:v,createComment:_}}=u,y=Ep(t.props);let{shapeFlag:m,children:g,dynamicChildren:S}=t;if(e==null){const x=t.el=v(""),I=t.anchor=v("");p(x,r,n),p(I,r,n);const N=(D,M)=>{m&16&&(i&&i.isCE&&(i.ce._teleportTarget=D),f(g,D,M,i,a,o,s,l))},q=()=>{const D=t.target=nE(t.props,b),M=Q6(D,t,v,p);D&&(o!=="svg"&&KR(D)?o="svg":o!=="mathml"&&QR(D)&&(o="mathml"),y||(N(D,M),Jm(t,!1)))};y&&(N(r,I),Jm(t,!0)),WR(t.props)?In(()=>{q(),t.el.__isMounted=!0},a):q()}else{if(WR(t.props)&&!e.el.__isMounted){In(()=>{K6.process(e,t,r,n,i,a,o,s,l,u),delete e.el.__isMounted},a);return}t.el=e.el,t.targetStart=e.targetStart;const x=t.anchor=e.anchor,I=t.target=e.target,N=t.targetAnchor=e.targetAnchor,q=Ep(e.props),D=q?r:I,M=q?x:N;if(o==="svg"||KR(I)?o="svg":(o==="mathml"||QR(I))&&(o="mathml"),S?(c(e.dynamicChildren,S,D,i,a,o,s),eT(e,t,!0)):l||d(e,t,D,M,i,a,o,s,!1),y)q?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):em(t,r,x,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const j=t.target=nE(t.props,b);j&&em(t,j,null,u,0)}else q&&em(t,I,N,u,1);Jm(t,y)}},remove(e,t,r,{um:n,o:{remove:i}},a){const{shapeFlag:o,children:s,anchor:l,targetStart:u,targetAnchor:f,target:d,props:c}=e;if(d&&(i(u),i(f)),a&&i(l),o&16){const p=a||!Ep(c);for(let b=0;b<s.length;b++){const v=s[b];n(v,t,r,p,!!v.dynamicChildren)}}},move:em,hydrate:Q7};function em(e,t,r,{o:{insert:n},m:i},a=2){a===0&&n(e.targetAnchor,t,r);const{el:o,anchor:s,shapeFlag:l,children:u,props:f}=e,d=a===2;if(d&&n(o,t,r),(!d||Ep(f))&&l&16)for(let c=0;c<u.length;c++)i(u[c],t,r,2);d&&n(s,t,r)}function Q7(e,t,r,n,i,a,{o:{nextSibling:o,parentNode:s,querySelector:l,insert:u,createText:f}},d){const c=t.target=nE(t.props,l);if(c){const p=Ep(t.props),b=c._lpa||c.firstChild;if(t.shapeFlag&16)if(p)t.anchor=d(o(e),t,s(e),r,n,i,a),t.targetStart=b,t.targetAnchor=b&&o(b);else{t.anchor=o(e);let v=b;for(;v;){if(v&&v.nodeType===8){if(v.data==="teleport start anchor")t.targetStart=v;else if(v.data==="teleport anchor"){t.targetAnchor=v,c._lpa=t.targetAnchor&&o(t.targetAnchor);break}}v=o(v)}t.targetAnchor||Q6(c,t,f,u),d(b&&o(b),t,c,r,n,i,a)}Jm(t,p)}return t.anchor&&o(t.anchor)}const Z7=K6;function Jm(e,t){const r=e.ctx;if(r&&r.ut){let n,i;for(t?(n=e.el,i=e.anchor):(n=e.targetStart,i=e.targetAnchor);n&&n!==i;)n.nodeType===1&&n.setAttribute("data-v-owner",r.uid),n=n.nextSibling;r.ut()}}function Q6(e,t,r,n){const i=t.targetStart=r(""),a=t.targetAnchor=r("");return i[G6]=a,e&&(n(i,e),n(a,e)),a}const bo=Symbol("_leaveCb"),tm=Symbol("_enterCb");function Y7(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ir(()=>{e.isMounted=!0}),t0(()=>{e.isUnmounting=!0}),e}const ci=[Function,Array],Z6={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ci,onEnter:ci,onAfterEnter:ci,onEnterCancelled:ci,onBeforeLeave:ci,onLeave:ci,onAfterLeave:ci,onLeaveCancelled:ci,onBeforeAppear:ci,onAppear:ci,onAfterAppear:ci,onAppearCancelled:ci},Y6=e=>{const t=e.subTree;return t.component?Y6(t.component):t},X7={name:"BaseTransition",props:Z6,setup(e,{slots:t}){const r=Oj(),n=Y7();return()=>{const i=t.default&&ej(t.default(),!0);if(!i||!i.length)return;const a=X6(i),o=Vt(e),{mode:s}=o;if(n.isLeaving)return e_(a);const l=ZR(a);if(!l)return e_(a);let u=iE(l,o,n,r,d=>u=d);l.type!==Dn&&Fp(l,u);let f=r.subTree&&ZR(r.subTree);if(f&&f.type!==Dn&&!Is(l,f)&&Y6(r).type!==Dn){let d=iE(f,o,n,r);if(Fp(f,d),s==="out-in"&&l.type!==Dn)return n.isLeaving=!0,d.afterLeave=()=>{n.isLeaving=!1,r.job.flags&8||r.update(),delete d.afterLeave,f=void 0},e_(a);s==="in-out"&&l.type!==Dn?d.delayLeave=(c,p,b)=>{const v=J6(n,f);v[String(f.key)]=f,c[bo]=()=>{p(),c[bo]=void 0,delete u.delayedLeave,f=void 0},u.delayedLeave=()=>{b(),delete u.delayedLeave,f=void 0}}:f=void 0}else f&&(f=void 0);return a}}};function X6(e){let t=e[0];if(e.length>1){for(const r of e)if(r.type!==Dn){t=r;break}}return t}const J7=X7;function J6(e,t){const{leavingVNodes:r}=e;let n=r.get(t.type);return n||(n=Object.create(null),r.set(t.type,n)),n}function iE(e,t,r,n,i){const{appear:a,mode:o,persisted:s=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:f,onEnterCancelled:d,onBeforeLeave:c,onLeave:p,onAfterLeave:b,onLeaveCancelled:v,onBeforeAppear:_,onAppear:y,onAfterAppear:m,onAppearCancelled:g}=t,S=String(e.key),x=J6(r,e),I=(D,M)=>{D&&Ui(D,n,9,M)},N=(D,M)=>{const j=M[1];I(D,M),Rt(D)?D.every(P=>P.length<=1)&&j():D.length<=1&&j()},q={mode:o,persisted:s,beforeEnter(D){let M=l;if(!r.isMounted)if(a)M=_||l;else return;D[bo]&&D[bo](!0);const j=x[S];j&&Is(e,j)&&j.el[bo]&&j.el[bo](),I(M,[D])},enter(D){let M=u,j=f,P=d;if(!r.isMounted)if(a)M=y||u,j=m||f,P=g||d;else return;let B=!1;const Y=D[tm]=ie=>{B||(B=!0,ie?I(P,[D]):I(j,[D]),q.delayedLeave&&q.delayedLeave(),D[tm]=void 0)};M?N(M,[D,Y]):Y()},leave(D,M){const j=String(e.key);if(D[tm]&&D[tm](!0),r.isUnmounting)return M();I(c,[D]);let P=!1;const B=D[bo]=Y=>{P||(P=!0,M(),Y?I(v,[D]):I(b,[D]),D[bo]=void 0,x[j]===e&&delete x[j])};x[j]=e,p?N(p,[D,B]):B()},clone(D){const M=iE(D,t,r,n,i);return i&&i(M),M}};return q}function e_(e){if(My(e))return e=No(e),e.children=null,e}function ZR(e){if(!My(e))return W6(e.type)&&e.children?X6(e.children):e;const{shapeFlag:t,children:r}=e;if(r){if(t&16)return r[0];if(t&32&&It(r.default))return r.default()}}function Fp(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Fp(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ej(e,t=!1,r){let n=[],i=0;for(let a=0;a<e.length;a++){let o=e[a];const s=r==null?o.key:String(r)+String(o.key!=null?o.key:a);o.type===wt?(o.patchFlag&128&&i++,n=n.concat(ej(o.children,t,s))):(t||o.type!==Dn)&&n.push(s!=null?No(o,{key:s}):o)}if(i>1)for(let a=0;a<n.length;a++)n[a].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function zt(e,t){return It(e)?nn({name:e.name},t,{setup:e}):e}function tj(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function dy(e,t,r,n,i=!1){if(Rt(e)){e.forEach((b,v)=>dy(b,t&&(Rt(t)?t[v]:t),r,n,i));return}if(xu(n)&&!i){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&dy(e,t,r,n.component.subTree);return}const a=n.shapeFlag&4?qy(n.component):n.el,o=i?null:a,{i:s,r:l}=e,u=t&&t.r,f=s.refs===tr?s.refs={}:s.refs,d=s.setupState,c=Vt(d),p=d===tr?()=>!1:b=>Qt(c,b);if(u!=null&&u!==l&&(_r(u)?(f[u]=null,p(u)&&(d[u]=null)):zr(u)&&(u.value=null)),It(l))e0(l,s,12,[o,f]);else{const b=_r(l),v=zr(l);if(b||v){const _=()=>{if(e.f){const y=b?p(l)?d[l]:f[l]:l.value;i?Rt(y)&&VE(y,a):Rt(y)?y.includes(a)||y.push(a):b?(f[l]=[a],p(l)&&(d[l]=f[l])):(l.value=[a],e.k&&(f[e.k]=l.value))}else b?(f[l]=o,p(l)&&(d[l]=o)):v&&(l.value=o,e.k&&(f[e.k]=o))};o?(_.id=-1,In(_,r)):_()}}}Dy().requestIdleCallback;Dy().cancelIdleCallback;const xu=e=>!!e.type.__asyncLoader,My=e=>e.type.__isKeepAlive;function eU(e,t){rj(e,"a",t)}function tU(e,t){rj(e,"da",t)}function rj(e,t,r=ln){const n=e.__wdc||(e.__wdc=()=>{let i=r;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(ky(t,n,r),r){let i=r.parent;for(;i&&i.parent;)My(i.parent.vnode)&&rU(n,t,r,i),i=i.parent}}function rU(e,t,r,n){const i=ky(t,e,n,!0);Gi(()=>{VE(n[t],i)},r)}function ky(e,t,r=ln,n=!1){if(r){const i=r[e]||(r[e]=[]),a=t.__weh||(t.__weh=(...o)=>{qo();const s=r0(r),l=Ui(t,r,e,o);return s(),Bo(),l});return n?i.unshift(a):i.push(a),a}}const Ya=e=>(t,r=ln)=>{(!Bp||e==="sp")&&ky(e,(...n)=>t(...n),r)},nU=Ya("bm"),ir=Ya("m"),nj=Ya("bu"),ij=Ya("u"),t0=Ya("bum"),Gi=Ya("um"),iU=Ya("sp"),aU=Ya("rtg"),oU=Ya("rtc");function sU(e,t=ln){ky("ec",e,t)}const aj="components";function ea(e,t){return sj(aj,e,!0,t)||e}const oj=Symbol.for("v-ndc");function _a(e){return _r(e)?sj(aj,e,!1)||e:e||oj}function sj(e,t,r=!0,n=!1){const i=rn||ln;if(i){const a=i.type;{const s=HU(a,!1);if(s&&(s===t||s===wi(t)||s===Ny(wi(t))))return a}const o=YR(i[e]||a[e],t)||YR(i.appContext[e],t);return!o&&n?a:o}}function YR(e,t){return e&&(e[t]||e[wi(t)]||e[Ny(wi(t))])}function pr(e,t,r,n){let i;const a=r,o=Rt(e);if(o||_r(e)){const s=o&&Eu(e);let l=!1;s&&(l=!_i(e),e=Cy(e)),i=new Array(e.length);for(let u=0,f=e.length;u<f;u++)i[u]=t(l?_n(e[u]):e[u],u,void 0,a)}else if(typeof e=="number"){i=new Array(e);for(let s=0;s<e;s++)i[s]=t(s+1,s,void 0,a)}else if(sr(e))if(e[Symbol.iterator])i=Array.from(e,(s,l)=>t(s,l,void 0,a));else{const s=Object.keys(e);i=new Array(s.length);for(let l=0,u=s.length;l<u;l++){const f=s[l];i[l]=t(e[f],f,l,a)}}else i=[];return i}function bn(e,t){for(let r=0;r<t.length;r++){const n=t[r];if(Rt(n))for(let i=0;i<n.length;i++)e[n[i].name]=n[i].fn;else n&&(e[n.name]=n.key?(...i)=>{const a=n.fn(...i);return a&&(a.key=n.key),a}:n.fn)}return e}function pt(e,t,r={},n,i){if(rn.ce||rn.parent&&xu(rn.parent)&&rn.parent.ce)return t!=="default"&&(r.name=t),Ze(),Pt(wt,null,[kt("slot",r,n)],64);let a=e[t];a&&a._c&&(a._d=!1),Ze();const o=a&&uj(a(r)),s=r.key||o&&o.key,l=Pt(wt,{key:(s&&!Qa(s)?s:`_${t}`)+""},o||[],o&&e._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),a&&a._c&&(a._d=!0),l}function uj(e){return e.some(t=>qp(t)?!(t.type===Dn||t.type===wt&&!uj(t.children)):!0)?e:null}const aE=e=>e?Nj(e)?qy(e):aE(e.parent):null,Tp=nn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>aE(e.parent),$root:e=>aE(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>dj(e),$forceUpdate:e=>e.f||(e.f=()=>{XE(e.update)}),$nextTick:e=>e.n||(e.n=Ar.bind(e.proxy)),$watch:e=>IU.bind(e)}),t_=(e,t)=>e!==tr&&!e.__isScriptSetup&&Qt(e,t),uU={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:r,setupState:n,data:i,props:a,accessCache:o,type:s,appContext:l}=e;let u;if(t[0]!=="$"){const p=o[t];if(p!==void 0)switch(p){case 1:return n[t];case 2:return i[t];case 4:return r[t];case 3:return a[t]}else{if(t_(n,t))return o[t]=1,n[t];if(i!==tr&&Qt(i,t))return o[t]=2,i[t];if((u=e.propsOptions[0])&&Qt(u,t))return o[t]=3,a[t];if(r!==tr&&Qt(r,t))return o[t]=4,r[t];oE&&(o[t]=0)}}const f=Tp[t];let d,c;if(f)return t==="$attrs"&&gn(e.attrs,"get",""),f(e);if((d=s.__cssModules)&&(d=d[t]))return d;if(r!==tr&&Qt(r,t))return o[t]=4,r[t];if(c=l.config.globalProperties,Qt(c,t))return c[t]},set({_:e},t,r){const{data:n,setupState:i,ctx:a}=e;return t_(i,t)?(i[t]=r,!0):n!==tr&&Qt(n,t)?(n[t]=r,!0):Qt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:n,appContext:i,propsOptions:a}},o){let s;return!!r[o]||e!==tr&&Qt(e,o)||t_(t,o)||(s=a[0])&&Qt(s,o)||Qt(n,o)||Qt(Tp,o)||Qt(i.config.globalProperties,o)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:Qt(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};function Us(){return fj().slots}function lj(){return fj().attrs}function fj(){const e=Oj();return e.setupContext||(e.setupContext=Cj(e))}function XR(e){return Rt(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}let oE=!0;function lU(e){const t=dj(e),r=e.proxy,n=e.ctx;oE=!1,t.beforeCreate&&JR(t.beforeCreate,e,"bc");const{data:i,computed:a,methods:o,watch:s,provide:l,inject:u,created:f,beforeMount:d,mounted:c,beforeUpdate:p,updated:b,activated:v,deactivated:_,beforeDestroy:y,beforeUnmount:m,destroyed:g,unmounted:S,render:x,renderTracked:I,renderTriggered:N,errorCaptured:q,serverPrefetch:D,expose:M,inheritAttrs:j,components:P,directives:B,filters:Y}=t;if(u&&fU(u,n,null),o)for(const le in o){const ae=o[le];It(ae)&&(n[le]=ae.bind(r))}if(i){const le=i.call(r,r);sr(le)&&(e.data=Za(le))}if(oE=!0,a)for(const le in a){const ae=a[le],ne=It(ae)?ae.bind(r,r):It(ae.get)?ae.get.bind(r,r):ma,H=!It(ae)&&It(ae.set)?ae.set.bind(r):ma,oe=tt({get:ne,set:H});Object.defineProperty(n,le,{enumerable:!0,configurable:!0,get:()=>oe.value,set:he=>oe.value=he})}if(s)for(const le in s)cj(s[le],n,r,le);if(l){const le=It(l)?l.call(r):l;Reflect.ownKeys(le).forEach(ae=>{ha(ae,le[ae])})}f&&JR(f,e,"c");function X(le,ae){Rt(ae)?ae.forEach(ne=>le(ne.bind(r))):ae&&le(ae.bind(r))}if(X(nU,d),X(ir,c),X(nj,p),X(ij,b),X(eU,v),X(tU,_),X(sU,q),X(oU,I),X(aU,N),X(t0,m),X(Gi,S),X(iU,D),Rt(M))if(M.length){const le=e.exposed||(e.exposed={});M.forEach(ae=>{Object.defineProperty(le,ae,{get:()=>r[ae],set:ne=>r[ae]=ne})})}else e.exposed||(e.exposed={});x&&e.render===ma&&(e.render=x),j!=null&&(e.inheritAttrs=j),P&&(e.components=P),B&&(e.directives=B),D&&tj(e)}function fU(e,t,r=ma){Rt(e)&&(e=sE(e));for(const n in e){const i=e[n];let a;sr(i)?"default"in i?a=ei(i.from||n,i.default,!0):a=ei(i.from||n):a=ei(i),zr(a)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>a.value,set:o=>a.value=o}):t[n]=a}}function JR(e,t,r){Ui(Rt(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,r)}function cj(e,t,r,n){let i=n.includes(".")?xj(r,n):()=>r[n];if(_r(e)){const a=t[e];It(a)&&Xr(i,a)}else if(It(e))Xr(i,e.bind(r));else if(sr(e))if(Rt(e))e.forEach(a=>cj(a,t,r,n));else{const a=It(e.handler)?e.handler.bind(r):t[e.handler];It(a)&&Xr(i,a,e)}}function dj(e){const t=e.type,{mixins:r,extends:n}=t,{mixins:i,optionsCache:a,config:{optionMergeStrategies:o}}=e.appContext,s=a.get(t);let l;return s?l=s:!i.length&&!r&&!n?l=t:(l={},i.length&&i.forEach(u=>hy(l,u,o,!0)),hy(l,t,o)),sr(t)&&a.set(t,l),l}function hy(e,t,r,n=!1){const{mixins:i,extends:a}=t;a&&hy(e,a,r,!0),i&&i.forEach(o=>hy(e,o,r,!0));for(const o in t)if(!(n&&o==="expose")){const s=cU[o]||r&&r[o];e[o]=s?s(e[o],t[o]):t[o]}return e}const cU={data:e2,props:t2,emits:t2,methods:fp,computed:fp,beforeCreate:Rn,created:Rn,beforeMount:Rn,mounted:Rn,beforeUpdate:Rn,updated:Rn,beforeDestroy:Rn,beforeUnmount:Rn,destroyed:Rn,unmounted:Rn,activated:Rn,deactivated:Rn,errorCaptured:Rn,serverPrefetch:Rn,components:fp,directives:fp,watch:hU,provide:e2,inject:dU};function e2(e,t){return t?e?function(){return nn(It(e)?e.call(this,this):e,It(t)?t.call(this,this):t)}:t:e}function dU(e,t){return fp(sE(e),sE(t))}function sE(e){if(Rt(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function Rn(e,t){return e?[...new Set([].concat(e,t))]:t}function fp(e,t){return e?nn(Object.create(null),e,t):t}function t2(e,t){return e?Rt(e)&&Rt(t)?[...new Set([...e,...t])]:nn(Object.create(null),XR(e),XR(t??{})):t}function hU(e,t){if(!e)return t;if(!t)return e;const r=nn(Object.create(null),e);for(const n in t)r[n]=Rn(e[n],t[n]);return r}function hj(){return{app:null,config:{isNativeTag:e7,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let pU=0;function mU(e,t){return function(n,i=null){It(n)||(n=nn({},n)),i!=null&&!sr(i)&&(i=null);const a=hj(),o=new WeakSet,s=[];let l=!1;const u=a.app={_uid:pU++,_component:n,_props:i,_container:null,_context:a,_instance:null,version:GU,get config(){return a.config},set config(f){},use(f,...d){return o.has(f)||(f&&It(f.install)?(o.add(f),f.install(u,...d)):It(f)&&(o.add(f),f(u,...d))),u},mixin(f){return a.mixins.includes(f)||a.mixins.push(f),u},component(f,d){return d?(a.components[f]=d,u):a.components[f]},directive(f,d){return d?(a.directives[f]=d,u):a.directives[f]},mount(f,d,c){if(!l){const p=u._ceVNode||kt(n,i);return p.appContext=a,c===!0?c="svg":c===!1&&(c=void 0),e(p,f,c),l=!0,u._container=f,f.__vue_app__=u,qy(p.component)}},onUnmount(f){s.push(f)},unmount(){l&&(Ui(s,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(f,d){return a.provides[f]=d,u},runWithContext(f){const d=Ru;Ru=u;try{return f()}finally{Ru=d}}};return u}}let Ru=null;function ha(e,t){if(ln){let r=ln.provides;const n=ln.parent&&ln.parent.provides;n===r&&(r=ln.provides=Object.create(n)),r[e]=t}}function ei(e,t,r=!1){const n=ln||rn;if(n||Ru){const i=Ru?Ru._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return r&&It(t)?t.call(n&&n.proxy):t}}const pj={},mj=()=>Object.create(pj),yj=e=>Object.getPrototypeOf(e)===pj;function yU(e,t,r,n=!1){const i={},a=mj();e.propsDefaults=Object.create(null),gj(e,t,i,a);for(const o in e.propsOptions[0])o in i||(i[o]=void 0);r?e.props=n?i:L7(i):e.type.props?e.props=i:e.props=a,e.attrs=a}function gU(e,t,r,n){const{props:i,attrs:a,vnode:{patchFlag:o}}=e,s=Vt(i),[l]=e.propsOptions;let u=!1;if((n||o>0)&&!(o&16)){if(o&8){const f=e.vnode.dynamicProps;for(let d=0;d<f.length;d++){let c=f[d];if(Fy(e.emitsOptions,c))continue;const p=t[c];if(l)if(Qt(a,c))p!==a[c]&&(a[c]=p,u=!0);else{const b=wi(c);i[b]=uE(l,s,b,p,e,!1)}else p!==a[c]&&(a[c]=p,u=!0)}}}else{gj(e,t,i,a)&&(u=!0);let f;for(const d in s)(!t||!Qt(t,d)&&((f=jo(d))===d||!Qt(t,f)))&&(l?r&&(r[d]!==void 0||r[f]!==void 0)&&(i[d]=uE(l,s,d,void 0,e,!0)):delete i[d]);if(a!==s)for(const d in a)(!t||!Qt(t,d))&&(delete a[d],u=!0)}u&&Ba(e.attrs,"set","")}function gj(e,t,r,n){const[i,a]=e.propsOptions;let o=!1,s;if(t)for(let l in t){if(vp(l))continue;const u=t[l];let f;i&&Qt(i,f=wi(l))?!a||!a.includes(f)?r[f]=u:(s||(s={}))[f]=u:Fy(e.emitsOptions,l)||(!(l in n)||u!==n[l])&&(n[l]=u,o=!0)}if(a){const l=Vt(r),u=s||tr;for(let f=0;f<a.length;f++){const d=a[f];r[d]=uE(i,l,d,u[d],e,!Qt(u,d))}}return o}function uE(e,t,r,n,i,a){const o=e[r];if(o!=null){const s=Qt(o,"default");if(s&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&It(l)){const{propsDefaults:u}=i;if(r in u)n=u[r];else{const f=r0(i);n=u[r]=l.call(null,t),f()}}else n=l;i.ce&&i.ce._setProp(r,n)}o[0]&&(a&&!s?n=!1:o[1]&&(n===""||n===jo(r))&&(n=!0))}return n}const _U=new WeakMap;function _j(e,t,r=!1){const n=r?_U:t.propsCache,i=n.get(e);if(i)return i;const a=e.props,o={},s=[];let l=!1;if(!It(e)){const f=d=>{l=!0;const[c,p]=_j(d,t,!0);nn(o,c),p&&s.push(...p)};!r&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!a&&!l)return sr(e)&&n.set(e,wu),wu;if(Rt(a))for(let f=0;f<a.length;f++){const d=wi(a[f]);r2(d)&&(o[d]=tr)}else if(a)for(const f in a){const d=wi(f);if(r2(d)){const c=a[f],p=o[d]=Rt(c)||It(c)?{type:c}:nn({},c),b=p.type;let v=!1,_=!0;if(Rt(b))for(let y=0;y<b.length;++y){const m=b[y],g=It(m)&&m.name;if(g==="Boolean"){v=!0;break}else g==="String"&&(_=!1)}else v=It(b)&&b.name==="Boolean";p[0]=v,p[1]=_,(v||Qt(p,"default"))&&s.push(d)}}const u=[o,s];return sr(e)&&n.set(e,u),u}function r2(e){return e[0]!=="$"&&!vp(e)}const bj=e=>e[0]==="_"||e==="$stable",JE=e=>Rt(e)?e.map(ua):[ua(e)],bU=(e,t,r)=>{if(t._n)return t;const n=bt((...i)=>JE(t(...i)),r);return n._c=!1,n},vj=(e,t,r)=>{const n=e._ctx;for(const i in e){if(bj(i))continue;const a=e[i];if(It(a))t[i]=bU(i,a,n);else if(a!=null){const o=JE(a);t[i]=()=>o}}},wj=(e,t)=>{const r=JE(t);e.slots.default=()=>r},Sj=(e,t,r)=>{for(const n in t)(r||n!=="_")&&(e[n]=t[n])},vU=(e,t,r)=>{const n=e.slots=mj();if(e.vnode.shapeFlag&32){const i=t._;i?(Sj(n,t,r),r&&v6(n,"_",i,!0)):vj(t,n)}else t&&wj(e,t)},wU=(e,t,r)=>{const{vnode:n,slots:i}=e;let a=!0,o=tr;if(n.shapeFlag&32){const s=t._;s?r&&s===1?a=!1:Sj(i,t,r):(a=!t.$stable,vj(t,i)),o=t}else t&&(wj(e,t),o={default:1});if(a)for(const s in i)!bj(s)&&o[s]==null&&delete i[s]},In=MU;function SU(e){return EU(e)}function EU(e,t){const r=Dy();r.__VUE__=!0;const{insert:n,remove:i,patchProp:a,createElement:o,createText:s,createComment:l,setText:u,setElementText:f,parentNode:d,nextSibling:c,setScopeId:p=ma,insertStaticContent:b}=e,v=(w,T,k,U=null,re=null,fe=null,ve=void 0,ce=null,Ie=!!T.dynamicChildren)=>{if(w===T)return;w&&!Is(w,T)&&(U=A(w),he(w,re,fe,!0),w=null),T.patchFlag===-2&&(Ie=!1,T.dynamicChildren=null);const{type:be,ref:Te,shapeFlag:je}=T;switch(be){case jy:_(w,T,k,U);break;case Dn:y(w,T,k,U);break;case n_:w==null&&m(T,k,U,ve);break;case wt:P(w,T,k,U,re,fe,ve,ce,Ie);break;default:je&1?x(w,T,k,U,re,fe,ve,ce,Ie):je&6?B(w,T,k,U,re,fe,ve,ce,Ie):(je&64||je&128)&&be.process(w,T,k,U,re,fe,ve,ce,Ie,pe)}Te!=null&&re&&dy(Te,w&&w.ref,fe,T||w,!T)},_=(w,T,k,U)=>{if(w==null)n(T.el=s(T.children),k,U);else{const re=T.el=w.el;T.children!==w.children&&u(re,T.children)}},y=(w,T,k,U)=>{w==null?n(T.el=l(T.children||""),k,U):T.el=w.el},m=(w,T,k,U)=>{[w.el,w.anchor]=b(w.children,T,k,U,w.el,w.anchor)},g=({el:w,anchor:T},k,U)=>{let re;for(;w&&w!==T;)re=c(w),n(w,k,U),w=re;n(T,k,U)},S=({el:w,anchor:T})=>{let k;for(;w&&w!==T;)k=c(w),i(w),w=k;i(T)},x=(w,T,k,U,re,fe,ve,ce,Ie)=>{T.type==="svg"?ve="svg":T.type==="math"&&(ve="mathml"),w==null?I(T,k,U,re,fe,ve,ce,Ie):D(w,T,re,fe,ve,ce,Ie)},I=(w,T,k,U,re,fe,ve,ce)=>{let Ie,be;const{props:Te,shapeFlag:je,transition:Ae,dirs:Oe}=w;if(Ie=w.el=o(w.type,fe,Te&&Te.is,Te),je&8?f(Ie,w.children):je&16&&q(w.children,Ie,null,U,re,r_(w,fe),ve,ce),Oe&&is(w,null,U,"created"),N(Ie,w,w.scopeId,ve,U),Te){for(const Ke in Te)Ke!=="value"&&!vp(Ke)&&a(Ie,Ke,null,Te[Ke],fe,U);"value"in Te&&a(Ie,"value",null,Te.value,fe),(be=Te.onVnodeBeforeMount)&&ta(be,U,w)}Oe&&is(w,null,U,"beforeMount");const ke=TU(re,Ae);ke&&Ae.beforeEnter(Ie),n(Ie,T,k),((be=Te&&Te.onVnodeMounted)||ke||Oe)&&In(()=>{be&&ta(be,U,w),ke&&Ae.enter(Ie),Oe&&is(w,null,U,"mounted")},re)},N=(w,T,k,U,re)=>{if(k&&p(w,k),U)for(let fe=0;fe<U.length;fe++)p(w,U[fe]);if(re){let fe=re.subTree;if(T===fe||Aj(fe.type)&&(fe.ssContent===T||fe.ssFallback===T)){const ve=re.vnode;N(w,ve,ve.scopeId,ve.slotScopeIds,re.parent)}}},q=(w,T,k,U,re,fe,ve,ce,Ie=0)=>{for(let be=Ie;be<w.length;be++){const Te=w[be]=ce?vo(w[be]):ua(w[be]);v(null,Te,T,k,U,re,fe,ve,ce)}},D=(w,T,k,U,re,fe,ve)=>{const ce=T.el=w.el;let{patchFlag:Ie,dynamicChildren:be,dirs:Te}=T;Ie|=w.patchFlag&16;const je=w.props||tr,Ae=T.props||tr;let Oe;if(k&&as(k,!1),(Oe=Ae.onVnodeBeforeUpdate)&&ta(Oe,k,T,w),Te&&is(T,w,k,"beforeUpdate"),k&&as(k,!0),(je.innerHTML&&Ae.innerHTML==null||je.textContent&&Ae.textContent==null)&&f(ce,""),be?M(w.dynamicChildren,be,ce,k,U,r_(T,re),fe):ve||ae(w,T,ce,null,k,U,r_(T,re),fe,!1),Ie>0){if(Ie&16)j(ce,je,Ae,k,re);else if(Ie&2&&je.class!==Ae.class&&a(ce,"class",null,Ae.class,re),Ie&4&&a(ce,"style",je.style,Ae.style,re),Ie&8){const ke=T.dynamicProps;for(let Ke=0;Ke<ke.length;Ke++){const Ue=ke[Ke],it=je[Ue],ye=Ae[Ue];(ye!==it||Ue==="value")&&a(ce,Ue,it,ye,re,k)}}Ie&1&&w.children!==T.children&&f(ce,T.children)}else!ve&&be==null&&j(ce,je,Ae,k,re);((Oe=Ae.onVnodeUpdated)||Te)&&In(()=>{Oe&&ta(Oe,k,T,w),Te&&is(T,w,k,"updated")},U)},M=(w,T,k,U,re,fe,ve)=>{for(let ce=0;ce<T.length;ce++){const Ie=w[ce],be=T[ce],Te=Ie.el&&(Ie.type===wt||!Is(Ie,be)||Ie.shapeFlag&70)?d(Ie.el):k;v(Ie,be,Te,null,U,re,fe,ve,!0)}},j=(w,T,k,U,re)=>{if(T!==k){if(T!==tr)for(const fe in T)!vp(fe)&&!(fe in k)&&a(w,fe,T[fe],null,re,U);for(const fe in k){if(vp(fe))continue;const ve=k[fe],ce=T[fe];ve!==ce&&fe!=="value"&&a(w,fe,ce,ve,re,U)}"value"in k&&a(w,"value",T.value,k.value,re)}},P=(w,T,k,U,re,fe,ve,ce,Ie)=>{const be=T.el=w?w.el:s(""),Te=T.anchor=w?w.anchor:s("");let{patchFlag:je,dynamicChildren:Ae,slotScopeIds:Oe}=T;Oe&&(ce=ce?ce.concat(Oe):Oe),w==null?(n(be,k,U),n(Te,k,U),q(T.children||[],k,Te,re,fe,ve,ce,Ie)):je>0&&je&64&&Ae&&w.dynamicChildren?(M(w.dynamicChildren,Ae,k,re,fe,ve,ce),(T.key!=null||re&&T===re.subTree)&&eT(w,T,!0)):ae(w,T,k,Te,re,fe,ve,ce,Ie)},B=(w,T,k,U,re,fe,ve,ce,Ie)=>{T.slotScopeIds=ce,w==null?T.shapeFlag&512?re.ctx.activate(T,k,U,ve,Ie):Y(T,k,U,re,fe,ve,Ie):ie(w,T,Ie)},Y=(w,T,k,U,re,fe,ve)=>{const ce=w.component=BU(w,U,re);if(My(w)&&(ce.ctx.renderer=pe),$U(ce,!1,ve),ce.asyncDep){if(re&&re.registerDep(ce,X,ve),!w.el){const Ie=ce.subTree=kt(Dn);y(null,Ie,T,k)}}else X(ce,w,T,k,re,fe,ve)},ie=(w,T,k)=>{const U=T.component=w.component;if(CU(w,T,k))if(U.asyncDep&&!U.asyncResolved){le(U,T,k);return}else U.next=T,U.update();else T.el=w.el,U.vnode=T},X=(w,T,k,U,re,fe,ve)=>{const ce=()=>{if(w.isMounted){let{next:je,bu:Ae,u:Oe,parent:ke,vnode:Ke}=w;{const K=Ej(w);if(K){je&&(je.el=Ke.el,le(w,je,ve)),K.asyncDep.then(()=>{w.isUnmounted||ce()});return}}let Ue=je,it;as(w,!1),je?(je.el=Ke.el,le(w,je,ve)):je=Ke,Ae&&Qg(Ae),(it=je.props&&je.props.onVnodeBeforeUpdate)&&ta(it,ke,je,Ke),as(w,!0);const ye=i2(w),F=w.subTree;w.subTree=ye,v(F,ye,d(F.el),A(F),w,re,fe),je.el=ye.el,Ue===null&&LU(w,ye.el),Oe&&In(Oe,re),(it=je.props&&je.props.onVnodeUpdated)&&In(()=>ta(it,ke,je,Ke),re)}else{let je;const{el:Ae,props:Oe}=T,{bm:ke,m:Ke,parent:Ue,root:it,type:ye}=w,F=xu(T);as(w,!1),ke&&Qg(ke),!F&&(je=Oe&&Oe.onVnodeBeforeMount)&&ta(je,Ue,T),as(w,!0);{it.ce&&it.ce._injectChildStyle(ye);const K=w.subTree=i2(w);v(null,K,k,U,w,re,fe),T.el=K.el}if(Ke&&In(Ke,re),!F&&(je=Oe&&Oe.onVnodeMounted)){const K=T;In(()=>ta(je,Ue,K),re)}(T.shapeFlag&256||Ue&&xu(Ue.vnode)&&Ue.vnode.shapeFlag&256)&&w.a&&In(w.a,re),w.isMounted=!0,T=k=U=null}};w.scope.on();const Ie=w.effect=new x6(ce);w.scope.off();const be=w.update=Ie.run.bind(Ie),Te=w.job=Ie.runIfDirty.bind(Ie);Te.i=w,Te.id=w.uid,Ie.scheduler=()=>XE(Te),as(w,!0),be()},le=(w,T,k)=>{T.component=w;const U=w.vnode.props;w.vnode=T,w.next=null,gU(w,T.props,U,k),wU(w,T.children,k),qo(),GR(w),Bo()},ae=(w,T,k,U,re,fe,ve,ce,Ie=!1)=>{const be=w&&w.children,Te=w?w.shapeFlag:0,je=T.children,{patchFlag:Ae,shapeFlag:Oe}=T;if(Ae>0){if(Ae&128){H(be,je,k,U,re,fe,ve,ce,Ie);return}else if(Ae&256){ne(be,je,k,U,re,fe,ve,ce,Ie);return}}Oe&8?(Te&16&&O(be,re,fe),je!==be&&f(k,je)):Te&16?Oe&16?H(be,je,k,U,re,fe,ve,ce,Ie):O(be,re,fe,!0):(Te&8&&f(k,""),Oe&16&&q(je,k,U,re,fe,ve,ce,Ie))},ne=(w,T,k,U,re,fe,ve,ce,Ie)=>{w=w||wu,T=T||wu;const be=w.length,Te=T.length,je=Math.min(be,Te);let Ae;for(Ae=0;Ae<je;Ae++){const Oe=T[Ae]=Ie?vo(T[Ae]):ua(T[Ae]);v(w[Ae],Oe,k,null,re,fe,ve,ce,Ie)}be>Te?O(w,re,fe,!0,!1,je):q(T,k,U,re,fe,ve,ce,Ie,je)},H=(w,T,k,U,re,fe,ve,ce,Ie)=>{let be=0;const Te=T.length;let je=w.length-1,Ae=Te-1;for(;be<=je&&be<=Ae;){const Oe=w[be],ke=T[be]=Ie?vo(T[be]):ua(T[be]);if(Is(Oe,ke))v(Oe,ke,k,null,re,fe,ve,ce,Ie);else break;be++}for(;be<=je&&be<=Ae;){const Oe=w[je],ke=T[Ae]=Ie?vo(T[Ae]):ua(T[Ae]);if(Is(Oe,ke))v(Oe,ke,k,null,re,fe,ve,ce,Ie);else break;je--,Ae--}if(be>je){if(be<=Ae){const Oe=Ae+1,ke=Oe<Te?T[Oe].el:U;for(;be<=Ae;)v(null,T[be]=Ie?vo(T[be]):ua(T[be]),k,ke,re,fe,ve,ce,Ie),be++}}else if(be>Ae)for(;be<=je;)he(w[be],re,fe,!0),be++;else{const Oe=be,ke=be,Ke=new Map;for(be=ke;be<=Ae;be++){const se=T[be]=Ie?vo(T[be]):ua(T[be]);se.key!=null&&Ke.set(se.key,be)}let Ue,it=0;const ye=Ae-ke+1;let F=!1,K=0;const _e=new Array(ye);for(be=0;be<ye;be++)_e[be]=0;for(be=Oe;be<=je;be++){const se=w[be];if(it>=ye){he(se,re,fe,!0);continue}let ge;if(se.key!=null)ge=Ke.get(se.key);else for(Ue=ke;Ue<=Ae;Ue++)if(_e[Ue-ke]===0&&Is(se,T[Ue])){ge=Ue;break}ge===void 0?he(se,re,fe,!0):(_e[ge-ke]=be+1,ge>=K?K=ge:F=!0,v(se,T[ge],k,null,re,fe,ve,ce,Ie),it++)}const Pe=F?xU(_e):wu;for(Ue=Pe.length-1,be=ye-1;be>=0;be--){const se=ke+be,ge=T[se],de=se+1<Te?T[se+1].el:U;_e[be]===0?v(null,ge,k,de,re,fe,ve,ce,Ie):F&&(Ue<0||be!==Pe[Ue]?oe(ge,k,de,2):Ue--)}}},oe=(w,T,k,U,re=null)=>{const{el:fe,type:ve,transition:ce,children:Ie,shapeFlag:be}=w;if(be&6){oe(w.component.subTree,T,k,U);return}if(be&128){w.suspense.move(T,k,U);return}if(be&64){ve.move(w,T,k,pe);return}if(ve===wt){n(fe,T,k);for(let je=0;je<Ie.length;je++)oe(Ie[je],T,k,U);n(w.anchor,T,k);return}if(ve===n_){g(w,T,k);return}if(U!==2&&be&1&&ce)if(U===0)ce.beforeEnter(fe),n(fe,T,k),In(()=>ce.enter(fe),re);else{const{leave:je,delayLeave:Ae,afterLeave:Oe}=ce,ke=()=>n(fe,T,k),Ke=()=>{je(fe,()=>{ke(),Oe&&Oe()})};Ae?Ae(fe,ke,Ke):Ke()}else n(fe,T,k)},he=(w,T,k,U=!1,re=!1)=>{const{type:fe,props:ve,ref:ce,children:Ie,dynamicChildren:be,shapeFlag:Te,patchFlag:je,dirs:Ae,cacheIndex:Oe}=w;if(je===-2&&(re=!1),ce!=null&&dy(ce,null,k,w,!0),Oe!=null&&(T.renderCache[Oe]=void 0),Te&256){T.ctx.deactivate(w);return}const ke=Te&1&&Ae,Ke=!xu(w);let Ue;if(Ke&&(Ue=ve&&ve.onVnodeBeforeUnmount)&&ta(Ue,T,w),Te&6)ee(w.component,k,U);else{if(Te&128){w.suspense.unmount(k,U);return}ke&&is(w,null,T,"beforeUnmount"),Te&64?w.type.remove(w,T,k,pe,U):be&&!be.hasOnce&&(fe!==wt||je>0&&je&64)?O(be,T,k,!1,!0):(fe===wt&&je&384||!re&&Te&16)&&O(Ie,T,k),U&&Z(w)}(Ke&&(Ue=ve&&ve.onVnodeUnmounted)||ke)&&In(()=>{Ue&&ta(Ue,T,w),ke&&is(w,null,T,"unmounted")},k)},Z=w=>{const{type:T,el:k,anchor:U,transition:re}=w;if(T===wt){Q(k,U);return}if(T===n_){S(w);return}const fe=()=>{i(k),re&&!re.persisted&&re.afterLeave&&re.afterLeave()};if(w.shapeFlag&1&&re&&!re.persisted){const{leave:ve,delayLeave:ce}=re,Ie=()=>ve(k,fe);ce?ce(w.el,fe,Ie):Ie()}else fe()},Q=(w,T)=>{let k;for(;w!==T;)k=c(w),i(w),w=k;i(T)},ee=(w,T,k)=>{const{bum:U,scope:re,job:fe,subTree:ve,um:ce,m:Ie,a:be}=w;n2(Ie),n2(be),U&&Qg(U),re.stop(),fe&&(fe.flags|=8,he(ve,w,T,k)),ce&&In(ce,T),In(()=>{w.isUnmounted=!0},T),T&&T.pendingBranch&&!T.isUnmounted&&w.asyncDep&&!w.asyncResolved&&w.suspenseId===T.pendingId&&(T.deps--,T.deps===0&&T.resolve())},O=(w,T,k,U=!1,re=!1,fe=0)=>{for(let ve=fe;ve<w.length;ve++)he(w[ve],T,k,U,re)},A=w=>{if(w.shapeFlag&6)return A(w.component.subTree);if(w.shapeFlag&128)return w.suspense.next();const T=c(w.anchor||w.el),k=T&&T[G6];return k?c(k):T};let $=!1;const te=(w,T,k)=>{w==null?T._vnode&&he(T._vnode,null,null,!0):v(T._vnode||null,w,T,null,null,null,k),T._vnode=w,$||($=!0,GR(),V6(),$=!1)},pe={p:v,um:he,m:oe,r:Z,mt:Y,mc:q,pc:ae,pbc:M,n:A,o:e};return{render:te,hydrate:void 0,createApp:mU(te)}}function r_({type:e,props:t},r){return r==="svg"&&e==="foreignObject"||r==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:r}function as({effect:e,job:t},r){r?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function TU(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function eT(e,t,r=!1){const n=e.children,i=t.children;if(Rt(n)&&Rt(i))for(let a=0;a<n.length;a++){const o=n[a];let s=i[a];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=i[a]=vo(i[a]),s.el=o.el),!r&&s.patchFlag!==-2&&eT(o,s)),s.type===jy&&(s.el=o.el)}}function xU(e){const t=e.slice(),r=[0];let n,i,a,o,s;const l=e.length;for(n=0;n<l;n++){const u=e[n];if(u!==0){if(i=r[r.length-1],e[i]<u){t[n]=i,r.push(n);continue}for(a=0,o=r.length-1;a<o;)s=a+o>>1,e[r[s]]<u?a=s+1:o=s;u<e[r[a]]&&(a>0&&(t[n]=r[a-1]),r[a]=n)}}for(a=r.length,o=r[a-1];a-- >0;)r[a]=o,o=t[o];return r}function Ej(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Ej(t)}function n2(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const RU=Symbol.for("v-scx"),AU=()=>ei(RU);function Tj(e,t){return tT(e,null,t)}function Xr(e,t,r){return tT(e,t,r)}function tT(e,t,r=tr){const{immediate:n,deep:i,flush:a,once:o}=r,s=nn({},r),l=t&&n||!t&&a!=="post";let u;if(Bp){if(a==="sync"){const p=AU();u=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=ma,p.resume=ma,p.pause=ma,p}}const f=ln;s.call=(p,b,v)=>Ui(p,f,b,v);let d=!1;a==="post"?s.scheduler=p=>{In(p,f&&f.suspense)}:a!=="sync"&&(d=!0,s.scheduler=(p,b)=>{b?p():XE(p)}),s.augmentJob=p=>{t&&(p.flags|=4),d&&(p.flags|=2,f&&(p.id=f.uid,p.i=f))};const c=z7(e,t,s);return Bp&&(u?u.push(c):l&&c()),c}function IU(e,t,r){const n=this.proxy,i=_r(e)?e.includes(".")?xj(n,e):()=>n[e]:e.bind(n,n);let a;It(t)?a=t:(a=t.handler,r=t);const o=r0(this),s=tT(i,a.bind(n),r);return o(),s}function xj(e,t){const r=t.split(".");return()=>{let n=e;for(let i=0;i<r.length&&n;i++)n=n[r[i]];return n}}const PU=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${wi(t)}Modifiers`]||e[`${jo(t)}Modifiers`];function OU(e,t,...r){if(e.isUnmounted)return;const n=e.vnode.props||tr;let i=r;const a=t.startsWith("update:"),o=a&&PU(n,t.slice(7));o&&(o.trim&&(i=r.map(f=>_r(f)?f.trim():f)),o.number&&(i=r.map(a7)));let s,l=n[s=Kg(t)]||n[s=Kg(wi(t))];!l&&a&&(l=n[s=Kg(jo(t))]),l&&Ui(l,e,6,i);const u=n[s+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[s])return;e.emitted[s]=!0,Ui(u,e,6,i)}}function Rj(e,t,r=!1){const n=t.emitsCache,i=n.get(e);if(i!==void 0)return i;const a=e.emits;let o={},s=!1;if(!It(e)){const l=u=>{const f=Rj(u,t,!0);f&&(s=!0,nn(o,f))};!r&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!a&&!s?(sr(e)&&n.set(e,null),null):(Rt(a)?a.forEach(l=>o[l]=null):nn(o,a),sr(e)&&n.set(e,o),o)}function Fy(e,t){return!e||!Iy(t)?!1:(t=t.slice(2).replace(/Once$/,""),Qt(e,t[0].toLowerCase()+t.slice(1))||Qt(e,jo(t))||Qt(e,t))}function i2(e){const{type:t,vnode:r,proxy:n,withProxy:i,propsOptions:[a],slots:o,attrs:s,emit:l,render:u,renderCache:f,props:d,data:c,setupState:p,ctx:b,inheritAttrs:v}=e,_=cy(e);let y,m;try{if(r.shapeFlag&4){const S=i||n,x=S;y=ua(u.call(x,S,f,d,p,c,b)),m=s}else{const S=t;y=ua(S.length>1?S(d,{attrs:s,slots:o,emit:l}):S(d,null)),m=t.props?s:NU(s)}}catch(S){xp.length=0,Ly(S,e,1),y=kt(Dn)}let g=y;if(m&&v!==!1){const S=Object.keys(m),{shapeFlag:x}=g;S.length&&x&7&&(a&&S.some(UE)&&(m=DU(m,a)),g=No(g,m,!1,!0))}return r.dirs&&(g=No(g,null,!1,!0),g.dirs=g.dirs?g.dirs.concat(r.dirs):r.dirs),r.transition&&Fp(g,r.transition),y=g,cy(_),y}const NU=e=>{let t;for(const r in e)(r==="class"||r==="style"||Iy(r))&&((t||(t={}))[r]=e[r]);return t},DU=(e,t)=>{const r={};for(const n in e)(!UE(n)||!(n.slice(9)in t))&&(r[n]=e[n]);return r};function CU(e,t,r){const{props:n,children:i,component:a}=e,{props:o,children:s,patchFlag:l}=t,u=a.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return n?a2(n,o,u):!!o;if(l&8){const f=t.dynamicProps;for(let d=0;d<f.length;d++){const c=f[d];if(o[c]!==n[c]&&!Fy(u,c))return!0}}}else return(i||s)&&(!s||!s.$stable)?!0:n===o?!1:n?o?a2(n,o,u):!0:!!o;return!1}function a2(e,t,r){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let i=0;i<n.length;i++){const a=n[i];if(t[a]!==e[a]&&!Fy(r,a))return!0}return!1}function LU({vnode:e,parent:t},r){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=r,t=t.parent;else break}}const Aj=e=>e.__isSuspense;function MU(e,t){t&&t.pendingBranch?Rt(e)?t.effects.push(...e):t.effects.push(e):K7(e)}const wt=Symbol.for("v-fgt"),jy=Symbol.for("v-txt"),Dn=Symbol.for("v-cmt"),n_=Symbol.for("v-stc"),xp=[];let Yn=null;function Ze(e=!1){xp.push(Yn=e?null:[])}function kU(){xp.pop(),Yn=xp[xp.length-1]||null}let jp=1;function o2(e,t=!1){jp+=e,e<0&&Yn&&t&&(Yn.hasOnce=!0)}function Ij(e){return e.dynamicChildren=jp>0?Yn||wu:null,kU(),jp>0&&Yn&&Yn.push(e),e}function et(e,t,r,n,i,a){return Ij(_t(e,t,r,n,i,a,!0))}function Pt(e,t,r,n,i){return Ij(kt(e,t,r,n,i,!0))}function qp(e){return e?e.__v_isVNode===!0:!1}function Is(e,t){return e.type===t.type&&e.key===t.key}const Pj=({key:e})=>e??null,ey=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?_r(e)||zr(e)||It(e)?{i:rn,r:e,k:t,f:!!r}:e:null);function _t(e,t=null,r=null,n=0,i=null,a=e===wt?0:1,o=!1,s=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Pj(t),ref:t&&ey(t),scopeId:z6,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:rn};return s?(rT(l,r),a&128&&e.normalize(l)):r&&(l.shapeFlag|=_r(r)?8:16),jp>0&&!o&&Yn&&(l.patchFlag>0||a&6)&&l.patchFlag!==32&&Yn.push(l),l}const kt=FU;function FU(e,t=null,r=null,n=0,i=null,a=!1){if((!e||e===oj)&&(e=Dn),qp(e)){const s=No(e,t,!0);return r&&rT(s,r),jp>0&&!a&&Yn&&(s.shapeFlag&6?Yn[Yn.indexOf(e)]=s:Yn.push(s)),s.patchFlag=-2,s}if(zU(e)&&(e=e.__vccOpts),t){t=Cn(t);let{class:s,style:l}=t;s&&!_r(s)&&(t.class=vt(s)),sr(l)&&(YE(l)&&!Rt(l)&&(l=nn({},l)),t.style=kr(l))}const o=_r(e)?1:Aj(e)?128:W6(e)?64:sr(e)?4:It(e)?2:0;return _t(e,t,r,n,i,o,a,!0)}function Cn(e){return e?YE(e)||yj(e)?nn({},e):e:null}function No(e,t,r=!1,n=!1){const{props:i,ref:a,patchFlag:o,children:s,transition:l}=e,u=t?Fr(i||{},t):i,f={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&Pj(u),ref:t&&t.ref?r&&a?Rt(a)?a.concat(ey(t)):[a,ey(t)]:ey(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==wt?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&No(e.ssContent),ssFallback:e.ssFallback&&No(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&n&&Fp(f,l.clone(f)),f}function Si(e=" ",t=0){return kt(jy,null,e,t)}function rt(e="",t=!1){return t?(Ze(),Pt(Dn,null,e)):kt(Dn,null,e)}function ua(e){return e==null||typeof e=="boolean"?kt(Dn):Rt(e)?kt(wt,null,e.slice()):qp(e)?vo(e):kt(jy,null,String(e))}function vo(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:No(e)}function rT(e,t){let r=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(Rt(t))r=16;else if(typeof t=="object")if(n&65){const i=t.default;i&&(i._c&&(i._d=!1),rT(e,i()),i._c&&(i._d=!0));return}else{r=32;const i=t._;!i&&!yj(t)?t._ctx=rn:i===3&&rn&&(rn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else It(t)?(t={default:t,_ctx:rn},r=32):(t=String(t),n&64?(r=16,t=[Si(t)]):r=8);e.children=t,e.shapeFlag|=r}function Fr(...e){const t={};for(let r=0;r<e.length;r++){const n=e[r];for(const i in n)if(i==="class")t.class!==n.class&&(t.class=vt([t.class,n.class]));else if(i==="style")t.style=kr([t.style,n.style]);else if(Iy(i)){const a=t[i],o=n[i];o&&a!==o&&!(Rt(a)&&a.includes(o))&&(t[i]=a?[].concat(a,o):o)}else i!==""&&(t[i]=n[i])}return t}function ta(e,t,r,n=null){Ui(e,t,7,[r,n])}const jU=hj();let qU=0;function BU(e,t,r){const n=e.type,i=(t?t.appContext:e.appContext)||jU,a={uid:qU++,vnode:e,type:n,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new h7(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:_j(n,i),emitsOptions:Rj(n,i),emit:null,emitted:null,propsDefaults:tr,inheritAttrs:n.inheritAttrs,ctx:tr,data:tr,props:tr,attrs:tr,slots:tr,refs:tr,setupState:tr,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=OU.bind(null,a),e.ce&&e.ce(a),a}let ln=null;const Oj=()=>ln||rn;let py,lE;{const e=Dy(),t=(r,n)=>{let i;return(i=e[r])||(i=e[r]=[]),i.push(n),a=>{i.length>1?i.forEach(o=>o(a)):i[0](a)}};py=t("__VUE_INSTANCE_SETTERS__",r=>ln=r),lE=t("__VUE_SSR_SETTERS__",r=>Bp=r)}const r0=e=>{const t=ln;return py(e),e.scope.on(),()=>{e.scope.off(),py(t)}},s2=()=>{ln&&ln.scope.off(),py(null)};function Nj(e){return e.vnode.shapeFlag&4}let Bp=!1;function $U(e,t=!1,r=!1){t&&lE(t);const{props:n,children:i}=e.vnode,a=Nj(e);yU(e,n,a,t),vU(e,i,r);const o=a?UU(e,t):void 0;return t&&lE(!1),o}function UU(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,uU);const{setup:n}=r;if(n){qo();const i=e.setupContext=n.length>1?Cj(e):null,a=r0(e),o=e0(n,e,0,[e.props,i]),s=g6(o);if(Bo(),a(),(s||e.sp)&&!xu(e)&&tj(e),s){if(o.then(s2,s2),t)return o.then(l=>{u2(e,l)}).catch(l=>{Ly(l,e,0)});e.asyncDep=o}else u2(e,o)}else Dj(e)}function u2(e,t,r){It(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:sr(t)&&(e.setupState=B6(t)),Dj(e)}function Dj(e,t,r){const n=e.type;e.render||(e.render=n.render||ma);{const i=r0(e);qo();try{lU(e)}finally{Bo(),i()}}}const VU={get(e,t){return gn(e,"get",""),e[t]}};function Cj(e){const t=r=>{e.exposed=r||{}};return{attrs:new Proxy(e.attrs,VU),slots:e.slots,emit:e.emit,expose:t}}function qy(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(B6($s(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in Tp)return Tp[r](e)},has(t,r){return r in t||r in Tp}})):e.proxy}function HU(e,t=!0){return It(e)?e.displayName||e.name:e.name||t&&e.__name}function zU(e){return It(e)&&"__vccOpts"in e}const tt=(e,t)=>V7(e,t,Bp);function Xa(e,t,r){const n=arguments.length;return n===2?sr(t)&&!Rt(t)?qp(t)?kt(e,null,[t]):kt(e,t):kt(e,null,t):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&qp(r)&&(r=[r]),kt(e,t,r))}const GU="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let fE;const l2=typeof window<"u"&&window.trustedTypes;if(l2)try{fE=l2.createPolicy("vue",{createHTML:e=>e})}catch{}const Lj=fE?e=>fE.createHTML(e):e=>e,WU="http://www.w3.org/2000/svg",KU="http://www.w3.org/1998/Math/MathML",ja=typeof document<"u"?document:null,f2=ja&&ja.createElement("template"),QU={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,n)=>{const i=t==="svg"?ja.createElementNS(WU,e):t==="mathml"?ja.createElementNS(KU,e):r?ja.createElement(e,{is:r}):ja.createElement(e);return e==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:e=>ja.createTextNode(e),createComment:e=>ja.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>ja.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,n,i,a){const o=r?r.previousSibling:t.lastChild;if(i&&(i===a||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),r),!(i===a||!(i=i.nextSibling)););else{f2.innerHTML=Lj(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const s=f2.content;if(n==="svg"||n==="mathml"){const l=s.firstChild;for(;l.firstChild;)s.appendChild(l.firstChild);s.removeChild(l)}t.insertBefore(s,r)}return[o?o.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}},ao="transition",Dl="animation",$p=Symbol("_vtc"),Mj={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},ZU=nn({},Z6,Mj),YU=e=>(e.displayName="Transition",e.props=ZU,e),Qu=YU((e,{slots:t})=>Xa(J7,XU(e),t)),os=(e,t=[])=>{Rt(e)?e.forEach(r=>r(...t)):e&&e(...t)},c2=e=>e?Rt(e)?e.some(t=>t.length>1):e.length>1:!1;function XU(e){const t={};for(const P in e)P in Mj||(t[P]=e[P]);if(e.css===!1)return t;const{name:r="v",type:n,duration:i,enterFromClass:a=`${r}-enter-from`,enterActiveClass:o=`${r}-enter-active`,enterToClass:s=`${r}-enter-to`,appearFromClass:l=a,appearActiveClass:u=o,appearToClass:f=s,leaveFromClass:d=`${r}-leave-from`,leaveActiveClass:c=`${r}-leave-active`,leaveToClass:p=`${r}-leave-to`}=e,b=JU(i),v=b&&b[0],_=b&&b[1],{onBeforeEnter:y,onEnter:m,onEnterCancelled:g,onLeave:S,onLeaveCancelled:x,onBeforeAppear:I=y,onAppear:N=m,onAppearCancelled:q=g}=t,D=(P,B,Y,ie)=>{P._enterCancelled=ie,ss(P,B?f:s),ss(P,B?u:o),Y&&Y()},M=(P,B)=>{P._isLeaving=!1,ss(P,d),ss(P,p),ss(P,c),B&&B()},j=P=>(B,Y)=>{const ie=P?N:m,X=()=>D(B,P,Y);os(ie,[B,X]),d2(()=>{ss(B,P?l:a),Aa(B,P?f:s),c2(ie)||h2(B,n,v,X)})};return nn(t,{onBeforeEnter(P){os(y,[P]),Aa(P,a),Aa(P,o)},onBeforeAppear(P){os(I,[P]),Aa(P,l),Aa(P,u)},onEnter:j(!1),onAppear:j(!0),onLeave(P,B){P._isLeaving=!0;const Y=()=>M(P,B);Aa(P,d),P._enterCancelled?(Aa(P,c),y2()):(y2(),Aa(P,c)),d2(()=>{P._isLeaving&&(ss(P,d),Aa(P,p),c2(S)||h2(P,n,_,Y))}),os(S,[P,Y])},onEnterCancelled(P){D(P,!1,void 0,!0),os(g,[P])},onAppearCancelled(P){D(P,!0,void 0,!0),os(q,[P])},onLeaveCancelled(P){M(P),os(x,[P])}})}function JU(e){if(e==null)return null;if(sr(e))return[i_(e.enter),i_(e.leave)];{const t=i_(e);return[t,t]}}function i_(e){return o7(e)}function Aa(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.add(r)),(e[$p]||(e[$p]=new Set)).add(t)}function ss(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.remove(n));const r=e[$p];r&&(r.delete(t),r.size||(e[$p]=void 0))}function d2(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let eV=0;function h2(e,t,r,n){const i=e._endId=++eV,a=()=>{i===e._endId&&n()};if(r!=null)return setTimeout(a,r);const{type:o,timeout:s,propCount:l}=tV(e,t);if(!o)return n();const u=o+"end";let f=0;const d=()=>{e.removeEventListener(u,c),a()},c=p=>{p.target===e&&++f>=l&&d()};setTimeout(()=>{f<l&&d()},s+1),e.addEventListener(u,c)}function tV(e,t){const r=window.getComputedStyle(e),n=b=>(r[b]||"").split(", "),i=n(`${ao}Delay`),a=n(`${ao}Duration`),o=p2(i,a),s=n(`${Dl}Delay`),l=n(`${Dl}Duration`),u=p2(s,l);let f=null,d=0,c=0;t===ao?o>0&&(f=ao,d=o,c=a.length):t===Dl?u>0&&(f=Dl,d=u,c=l.length):(d=Math.max(o,u),f=d>0?o>u?ao:Dl:null,c=f?f===ao?a.length:l.length:0);const p=f===ao&&/\b(transform|all)(,|$)/.test(n(`${ao}Property`).toString());return{type:f,timeout:d,propCount:c,hasTransform:p}}function p2(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((r,n)=>m2(r)+m2(e[n])))}function m2(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function y2(){return document.body.offsetHeight}function rV(e,t,r){const n=e[$p];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}const my=Symbol("_vod"),kj=Symbol("_vsh"),ty={beforeMount(e,{value:t},{transition:r}){e[my]=e.style.display==="none"?"":e.style.display,r&&t?r.beforeEnter(e):Cl(e,t)},mounted(e,{value:t},{transition:r}){r&&t&&r.enter(e)},updated(e,{value:t,oldValue:r},{transition:n}){!t!=!r&&(n?t?(n.beforeEnter(e),Cl(e,!0),n.enter(e)):n.leave(e,()=>{Cl(e,!1)}):Cl(e,t))},beforeUnmount(e,{value:t}){Cl(e,t)}};function Cl(e,t){e.style.display=t?e[my]:"none",e[kj]=!t}const nV=Symbol(""),iV=/(^|;)\s*display\s*:/;function aV(e,t,r){const n=e.style,i=_r(r);let a=!1;if(r&&!i){if(t)if(_r(t))for(const o of t.split(";")){const s=o.slice(0,o.indexOf(":")).trim();r[s]==null&&ry(n,s,"")}else for(const o in t)r[o]==null&&ry(n,o,"");for(const o in r)o==="display"&&(a=!0),ry(n,o,r[o])}else if(i){if(t!==r){const o=n[nV];o&&(r+=";"+o),n.cssText=r,a=iV.test(r)}}else t&&e.removeAttribute("style");my in e&&(e[my]=a?n.display:"",e[kj]&&(n.display="none"))}const g2=/\s*!important$/;function ry(e,t,r){if(Rt(r))r.forEach(n=>ry(e,t,n));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const n=oV(e,t);g2.test(r)?e.setProperty(jo(n),r.replace(g2,""),"important"):e[n]=r}}const _2=["Webkit","Moz","ms"],a_={};function oV(e,t){const r=a_[t];if(r)return r;let n=wi(t);if(n!=="filter"&&n in e)return a_[t]=n;n=Ny(n);for(let i=0;i<_2.length;i++){const a=_2[i]+n;if(a in e)return a_[t]=a}return t}const b2="http://www.w3.org/1999/xlink";function v2(e,t,r,n,i,a=d7(t)){n&&t.startsWith("xlink:")?r==null?e.removeAttributeNS(b2,t.slice(6,t.length)):e.setAttributeNS(b2,t,r):r==null||a&&!w6(r)?e.removeAttribute(t):e.setAttribute(t,a?"":Qa(r)?String(r):r)}function w2(e,t,r,n,i){if(t==="innerHTML"||t==="textContent"){r!=null&&(e[t]=t==="innerHTML"?Lj(r):r);return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const s=a==="OPTION"?e.getAttribute("value")||"":e.value,l=r==null?e.type==="checkbox"?"on":"":String(r);(s!==l||!("_value"in e))&&(e.value=l),r==null&&e.removeAttribute(t),e._value=r;return}let o=!1;if(r===""||r==null){const s=typeof e[t];s==="boolean"?r=w6(r):r==null&&s==="string"?(r="",o=!0):s==="number"&&(r=0,o=!0)}try{e[t]=r}catch{}o&&e.removeAttribute(i||t)}function sV(e,t,r,n){e.addEventListener(t,r,n)}function uV(e,t,r,n){e.removeEventListener(t,r,n)}const S2=Symbol("_vei");function lV(e,t,r,n,i=null){const a=e[S2]||(e[S2]={}),o=a[t];if(n&&o)o.value=n;else{const[s,l]=fV(t);if(n){const u=a[t]=hV(n,i);sV(e,s,u,l)}else o&&(uV(e,s,o,l),a[t]=void 0)}}const E2=/(?:Once|Passive|Capture)$/;function fV(e){let t;if(E2.test(e)){t={};let n;for(;n=e.match(E2);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):jo(e.slice(2)),t]}let o_=0;const cV=Promise.resolve(),dV=()=>o_||(cV.then(()=>o_=0),o_=Date.now());function hV(e,t){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;Ui(pV(n,r.value),t,5,[n])};return r.value=e,r.attached=dV(),r}function pV(e,t){if(Rt(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(n=>i=>!i._stopped&&n&&n(i))}else return t}const T2=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,mV=(e,t,r,n,i,a)=>{const o=i==="svg";t==="class"?rV(e,n,o):t==="style"?aV(e,r,n):Iy(t)?UE(t)||lV(e,t,r,n,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):yV(e,t,n,o))?(w2(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&v2(e,t,n,o,a,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!_r(n))?w2(e,wi(t),n,a,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),v2(e,t,n,o))};function yV(e,t,r,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&T2(t)&&It(r));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return T2(t)&&_r(r)?!1:t in e}const gV=["ctrl","shift","alt","meta"],_V={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>gV.some(r=>e[`${r}Key`]&&!t.includes(r))},Up=(e,t)=>{const r=e._withMods||(e._withMods={}),n=t.join(".");return r[n]||(r[n]=(i,...a)=>{for(let o=0;o<t.length;o++){const s=_V[t[o]];if(s&&s(i,t))return}return e(i,...a)})},bV={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},vV=(e,t)=>{const r=e._withKeys||(e._withKeys={}),n=t.join(".");return r[n]||(r[n]=i=>{if(!("key"in i))return;const a=jo(i.key);if(t.some(o=>o===a||bV[o]===a))return e(i)})},wV=nn({patchProp:mV},QU);let x2;function Fj(){return x2||(x2=SU(wV))}const cE=(...e)=>{Fj().render(...e)},SV=(...e)=>{const t=Fj().createApp(...e),{mount:r}=t;return t.mount=n=>{const i=TV(n);if(!i)return;const a=t._component;!It(a)&&!a.render&&!a.template&&(a.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=r(i,!1,EV(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},t};function EV(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function TV(e){return _r(e)?document.querySelector(e):e}const xV="modulepreload",RV=function(e,t){return new URL(e,t).href},R2={},bi=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){const o=document.getElementsByTagName("link"),s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(r.map(u=>{if(u=RV(u,n),u in R2)return;R2[u]=!0;const f=u.endsWith(".css"),d=f?'[rel="stylesheet"]':"";if(!!n)for(let b=o.length-1;b>=0;b--){const v=o[b];if(v.href===u&&(!f||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${d}`))return;const p=document.createElement("link");if(p.rel=f?"stylesheet":xV,f||(p.as="script"),p.crossOrigin="",p.href=u,l&&p.setAttribute("nonce",l),document.head.appendChild(p),f)return new Promise((b,v)=>{p.addEventListener("load",b),p.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return t().catch(a)})},A2=(e,t)=>{for(const r of Object.keys(t))e.on(r,t[r])},jj=e=>{for(const t of Object.keys(e)){const r=e[t];r&&wo(r.cancel)&&r.cancel()}},AV=e=>!e||typeof e.charAt!="function"?e:e.charAt(0).toUpperCase()+e.slice(1),wo=e=>typeof e=="function",Vs=(e,t,r)=>{for(const n in r){const i="set"+AV(n);e[i]?Xr(()=>r[n],(a,o)=>{e[i](a,o)}):t[i]&&Xr(()=>r[n],a=>{t[i](a)})}},Hs=(e,t,r={})=>{const n={...r};for(const i in e){const a=t[i],o=e[i];a&&(a&&a.custom===!0||o!==void 0&&(n[i]=o))}return n},Zu=e=>{const t={},r={};for(const n in e)if(n.startsWith("on")&&!n.startsWith("onUpdate")&&n!=="onReady"){const i=n.slice(2).toLocaleLowerCase();t[i]=e[n]}else r[n]=e[n];return{listeners:t,attrs:r}},IV=async e=>{const t=await Promise.all([bi(()=>import("./marker-icon-2x-D4k_ikNW.js"),[],import.meta.url),bi(()=>import("./marker-icon-C2eJqgqv.js"),[],import.meta.url),bi(()=>import("./marker-shadow-DU6CIJ0p.js"),[],import.meta.url)]);delete e.Default.prototype._getIconUrl,e.Default.mergeOptions({iconRetinaUrl:t[0].default,iconUrl:t[1].default,shadowUrl:t[2].default})},rm=e=>{const t=Je((...n)=>console.warn(`Method ${e} has been invoked without being replaced`)),r=(...n)=>t.value(...n);return r.wrapped=t,ha(e,r),r},nm=(e,t)=>e.wrapped.value=t,Ha=typeof self=="object"&&self.self===self&&self||typeof bu=="object"&&bu.global===bu&&bu||globalThis,Bi=e=>{const t=ei(e);if(t===void 0)throw new Error(`Attempt to inject ${e.description} before it was provided.`);return t},zs=Symbol("useGlobalLeaflet"),n0=Symbol("addLayer"),qj=Symbol("removeLayer"),Bj=Symbol("registerControl"),PV=Symbol("registerLayerControl"),$j=Symbol("canSetParentHtml"),Uj=Symbol("setParentHtml"),Vj=Symbol("setIcon"),Hj=Symbol("bindPopup"),OV=Symbol("bindTooltip"),zj=Symbol("unbindPopup"),NV=Symbol("unbindTooltip"),i0={options:{type:Object,default:()=>({}),custom:!0}},a0=e=>({options:e.options,methods:{}}),Yu={...i0,pane:{type:String},attribution:{type:String},name:{type:String,custom:!0},layerType:{type:String,custom:!0},visible:{type:Boolean,custom:!0,default:!0}},Gj=(e,t,r)=>{const n=Bi(n0),i=Bi(qj),{options:a,methods:o}=a0(e),s=Hs(e,Yu,a),l=()=>n({leafletObject:t.value}),u=()=>i({leafletObject:t.value}),f={...o,setAttribution(d){u(),t.value.options.attribution=d,e.visible&&l()},setName(){u(),e.visible&&l()},setLayerType(){u(),e.visible&&l()},setVisible(d){t.value&&(d?l():u())},bindPopup(d){if(!t.value||!wo(t.value.bindPopup)){console.warn("Attempt to bind popup before bindPopup method available on layer.");return}t.value.bindPopup(d)},bindTooltip(d){if(!t.value||!wo(t.value.bindTooltip)){console.warn("Attempt to bind tooltip before bindTooltip method available on layer.");return}t.value.bindTooltip(d)},unbindTooltip(){t.value&&(wo(t.value.closeTooltip)&&t.value.closeTooltip(),wo(t.value.unbindTooltip)&&t.value.unbindTooltip())},unbindPopup(){t.value&&(wo(t.value.closePopup)&&t.value.closePopup(),wo(t.value.unbindPopup)&&t.value.unbindPopup())},updateVisibleProp(d){r.emit("update:visible",d)}};return ha(Hj,f.bindPopup),ha(OV,f.bindTooltip),ha(zj,f.unbindPopup),ha(NV,f.unbindTooltip),Gi(()=>{f.unbindPopup(),f.unbindTooltip(),u()}),{options:s,methods:f}},DV=(e,t)=>{if(e&&t.default)return Xa("div",{style:{display:"none"}},t.default())},CV={...Yu,interactive:{type:Boolean,default:void 0},bubblingMouseEvents:{type:Boolean,default:void 0}},Wj={...CV,stroke:{type:Boolean,default:void 0},color:{type:String},weight:{type:Number},opacity:{type:Number},lineCap:{type:String},lineJoin:{type:String},dashArray:{type:String},dashOffset:{type:String},fill:{type:Boolean,default:void 0},fillColor:{type:String},fillOpacity:{type:Number},fillRule:{type:String},className:{type:String}},LV={...Wj,radius:{type:Number},latLng:{type:[Object,Array],required:!0,custom:!0}};({...LV});const Xu={...i0,position:{type:String}},MV=(e,t)=>{const{options:r,methods:n}=a0(e),i=Hs(e,Xu,r),a={...n,setPosition(o){t.value&&t.value.setPosition(o)}};return Gi(()=>{t.value&&t.value.remove()}),{options:i,methods:a}},kV=e=>e.default?Xa("div",{ref:"root"},e.default()):null;({...Xu});({...Xu});({...Xu});({...Xu});({...Xu});const Kj={...Yu};({...Kj});({...Kj});const nT={...Yu,opacity:{type:Number},zIndex:{type:Number},tileSize:{type:[Number,Array,Object]},noWrap:{type:Boolean,default:void 0},minZoom:{type:Number},maxZoom:{type:Number},className:{type:String}},Qj=(e,t,r)=>{const{options:n,methods:i}=Gj(e,t,r),a=Hs(e,nT,n),o={...i,setTileComponent(){var s;(s=t.value)==null||s.redraw()}};return Gi(()=>{t.value.off()}),{options:a,methods:o}},FV=(e,t,r,n)=>e.extend({initialize(i){this.tileComponents={},this.on("tileunload",this._unloadTile),r.setOptions(this,i)},createTile(i){const a=this._tileCoordsToKey(i);this.tileComponents[a]=t.create("div");const o=Xa({setup:n,props:["coords"]},{coords:i});return cE(o,this.tileComponents[a]),this.tileComponents[a]},_unloadTile(i){const a=this._tileCoordsToKey(i.coords);this.tileComponents[a]&&(this.tileComponents[a].innerHTML="",this.tileComponents[a]=void 0)}});({...nT});const I2={iconUrl:{type:String},iconRetinaUrl:{type:String},iconSize:{type:[Object,Array]},iconAnchor:{type:[Object,Array]},popupAnchor:{type:[Object,Array]},tooltipAnchor:{type:[Object,Array]},shadowUrl:{type:String},shadowRetinaUrl:{type:String},shadowSize:{type:[Object,Array]},shadowAnchor:{type:[Object,Array]},bgPos:{type:[Object,Array]},className:{type:String}};({...I2,...i0});({...Yu});function Zj(e,t,r){var n,i,a;t===void 0&&(t=50),r===void 0&&(r={});var o=(n=r.isImmediate)!=null&&n,s=(i=r.callback)!=null&&i,l=r.maxWait,u=Date.now(),f=[];function d(){if(l!==void 0){var p=Date.now()-u;if(p+t>=l)return l-p}return t}var c=function(){var p=[].slice.call(arguments),b=this;return new Promise(function(v,_){var y=o&&a===void 0;if(a!==void 0&&clearTimeout(a),a=setTimeout(function(){if(a=void 0,u=Date.now(),!o){var g=e.apply(b,p);s&&s(g),f.forEach(function(S){return(0,S.resolve)(g)}),f=[]}},d()),y){var m=e.apply(b,p);return s&&s(m),v(m)}f.push({resolve:v,reject:_})})};return c.cancel=function(p){a!==void 0&&clearTimeout(a),f.forEach(function(b){return(0,b.reject)(p)}),f=[]},c}const P2={...i0,center:{type:[Object,Array]},bounds:{type:[Array,Object]},maxBounds:{type:[Array,Object]},zoom:{type:Number},minZoom:{type:Number},maxZoom:{type:Number},paddingBottomRight:{type:[Object,Array]},paddingTopLeft:{type:Object},padding:{type:Object},worldCopyJump:{type:Boolean,default:void 0},crs:{type:[String,Object]},maxBoundsViscosity:{type:Number},inertia:{type:Boolean,default:void 0},inertiaDeceleration:{type:Number},inertiaMaxSpeed:{type:Number},easeLinearity:{type:Number},zoomAnimation:{type:Boolean,default:void 0},zoomAnimationThreshold:{type:Number},fadeAnimation:{type:Boolean,default:void 0},markerZoomAnimation:{type:Boolean,default:void 0},noBlockingAnimations:{type:Boolean,default:void 0},useGlobalLeaflet:{type:Boolean,default:!0,custom:!0}},jV=zt({inheritAttrs:!1,emits:["ready","update:zoom","update:center","update:bounds"],props:P2,setup(e,t){const r=Je(),n=Za({ready:!1,layersToAdd:[],layersInControl:[]}),{options:i}=a0(e),a=Hs(e,P2,i),{listeners:o,attrs:s}=Zu(t.attrs),l=rm(n0),u=rm(qj),f=rm(Bj),d=rm(PV);ha(zs,e.useGlobalLeaflet);const c=tt(()=>{const y={};return e.noBlockingAnimations&&(y.animate=!1),y}),p=tt(()=>{const y=c.value;return e.padding&&(y.padding=e.padding),e.paddingTopLeft&&(y.paddingTopLeft=e.paddingTopLeft),e.paddingBottomRight&&(y.paddingBottomRight=e.paddingBottomRight),y}),b={moveend:Zj(y=>{n.leafletRef&&(t.emit("update:zoom",n.leafletRef.getZoom()),t.emit("update:center",n.leafletRef.getCenter()),t.emit("update:bounds",n.leafletRef.getBounds()))}),overlayadd(y){const m=n.layersInControl.find(g=>g.name===y.name);m&&m.updateVisibleProp(!0)},overlayremove(y){const m=n.layersInControl.find(g=>g.name===y.name);m&&m.updateVisibleProp(!1)}};ir(async()=>{e.useGlobalLeaflet&&(Ha.L=Ha.L||await bi(()=>Promise.resolve().then(()=>tae),void 0,import.meta.url));const{map:y,CRS:m,Icon:g,latLngBounds:S,latLng:x,stamp:I}=e.useGlobalLeaflet?Ha.L:await bi(()=>import("./leaflet-src.esm-HdBnhJze.js"),[],import.meta.url);try{a.beforeMapMount&&await a.beforeMapMount()}catch(D){console.error(`The following error occurred running the provided beforeMapMount hook ${D.message}`)}await IV(g);const N=typeof a.crs=="string"?m[a.crs]:a.crs;a.crs=N||m.EPSG3857;const q={addLayer(D){D.layerType!==void 0&&(n.layerControl===void 0?n.layersToAdd.push(D):n.layersInControl.find(M=>I(M.leafletObject)===I(D.leafletObject))||(n.layerControl.addLayer(D),n.layersInControl.push(D))),D.visible!==!1&&n.leafletRef.addLayer(D.leafletObject)},removeLayer(D){D.layerType!==void 0&&(n.layerControl===void 0?n.layersToAdd=n.layersToAdd.filter(M=>M.name!==D.name):(n.layerControl.removeLayer(D.leafletObject),n.layersInControl=n.layersInControl.filter(M=>I(M.leafletObject)!==I(D.leafletObject)))),n.leafletRef.removeLayer(D.leafletObject)},registerLayerControl(D){n.layerControl=D,n.layersToAdd.forEach(M=>{n.layerControl.addLayer(M)}),n.layersToAdd=[],f(D)},registerControl(D){n.leafletRef.addControl(D.leafletObject)},setZoom(D){const M=n.leafletRef.getZoom();D!==M&&n.leafletRef.setZoom(D,c.value)},setCrs(D){const M=n.leafletRef.getBounds();n.leafletRef.options.crs=D,n.leafletRef.fitBounds(M,{animate:!1,padding:[0,0]})},fitBounds(D){n.leafletRef.fitBounds(D,p.value)},setBounds(D){if(!D)return;const M=S(D);M.isValid()&&!(n.lastSetBounds||n.leafletRef.getBounds()).equals(M,0)&&(n.lastSetBounds=M,n.leafletRef.fitBounds(M))},setCenter(D){if(D==null)return;const M=x(D),j=n.lastSetCenter||n.leafletRef.getCenter();(j.lat!==M.lat||j.lng!==M.lng)&&(n.lastSetCenter=M,n.leafletRef.panTo(M,c.value))}};nm(l,q.addLayer),nm(u,q.removeLayer),nm(f,q.registerControl),nm(d,q.registerLayerControl),n.leafletRef=$s(y(r.value,a)),Vs(q,n.leafletRef,e),A2(n.leafletRef,b),A2(n.leafletRef,o),n.ready=!0,Ar(()=>t.emit("ready",n.leafletRef))}),t0(()=>{jj(b),n.leafletRef&&(n.leafletRef.off(),n.leafletRef.remove())});const v=tt(()=>n.leafletRef),_=tt(()=>n.ready);return{root:r,ready:_,leafletObject:v,attrs:s}},render({attrs:e}){return e.style||(e.style={}),e.style.width||(e.style.width="100%"),e.style.height||(e.style.height="100%"),Xa("div",{...e,ref:"root"},this.ready&&this.$slots.default?this.$slots.default():{})}}),qV=["Symbol(Comment)","Symbol(Text)"],BV=["LTooltip","LPopup"],Yj={...Yu,draggable:{type:Boolean,default:void 0},icon:{type:[Object]},zIndexOffset:{type:Number},latLng:{type:[Object,Array],custom:!0,required:!0}},$V=(e,t,r)=>{const{options:n,methods:i}=Gj(e,t,r),a=Hs(e,Yj,n),o={...i,setDraggable(s){t.value.dragging&&(s?t.value.dragging.enable():t.value.dragging.disable())},latLngSync(s){r.emit("update:latLng",s.latlng),r.emit("update:lat-lng",s.latlng)},setLatLng(s){if(s!=null&&t.value){const l=t.value.getLatLng();(!l||!l.equals(s))&&t.value.setLatLng(s)}}};return{options:a,methods:o}},UV=(e,t)=>{const r=t.slots.default&&t.slots.default();return r&&r.length&&r.some(VV)};function VV(e){return!(qV.includes(e.type.toString())||BV.includes(e.type.name))}const HV=zt({name:"LMarker",props:Yj,setup(e,t){const r=Je(),n=Je(!1),i=ei(zs),a=Bi(n0);ha($j,()=>{var u;return!!((u=r.value)!=null&&u.getElement())}),ha(Uj,u=>{var f,d;const c=wo((f=r.value)==null?void 0:f.getElement)&&((d=r.value)==null?void 0:d.getElement());c&&(c.innerHTML=u)}),ha(Vj,u=>{var f;return((f=r.value)==null?void 0:f.setIcon)&&r.value.setIcon(u)});const{options:o,methods:s}=$V(e,r,t),l={moveHandler:Zj(s.latLngSync)};return ir(async()=>{const{marker:u,divIcon:f}=i?Ha.L:await bi(()=>import("./leaflet-src.esm-HdBnhJze.js"),[],import.meta.url);UV(o,t)&&(o.icon=f({className:""})),r.value=$s(u(e.latLng,o));const{listeners:d}=Zu(t.attrs);r.value.on(d),r.value.on("move",l.moveHandler),Vs(s,r.value,e),a({...e,...s,leafletObject:r.value}),n.value=!0,Ar(()=>t.emit("ready",r.value))}),t0(()=>jj(l)),{ready:n,leafletObject:r}},render(){return DV(this.ready,this.$slots)}}),zV={...Wj,smoothFactor:{type:Number},noClip:{type:Boolean,default:void 0},latLngs:{type:Array,required:!0,custom:!0}},O2={...zV},Xj={...i0,content:{type:String,default:null}},GV=(e,t)=>{const{options:r,methods:n}=a0(e),i={...n,setContent(a){t.value&&a!==null&&a!==void 0&&t.value.setContent(a)}};return{options:r,methods:i}},WV=e=>e.default?Xa("div",{ref:"root"},e.default()):null,KV={...Xj,latLng:{type:[Object,Array],default:()=>[]}},QV=(e,t)=>{const{options:r,methods:n}=GV(e,t);return{options:r,methods:n}},ZV=zt({name:"LPopup",props:KV,setup(e,t){const r=Je(),n=Je(null),i=ei(zs),a=Bi(Hj),o=Bi(zj),{options:s,methods:l}=QV(e,r);return ir(async()=>{const{popup:u}=i?Ha.L:await bi(()=>import("./leaflet-src.esm-HdBnhJze.js"),[],import.meta.url);r.value=$s(u(s)),e.latLng!==void 0&&r.value.setLatLng(e.latLng),Vs(l,r.value,e);const{listeners:f}=Zu(t.attrs);r.value.on(f),r.value.setContent(e.content||n.value||""),a(r.value),Ar(()=>t.emit("ready",r.value))}),t0(()=>{o()}),{root:n,leafletObject:r}},render(){return WV(this.$slots)}});({...O2,latLngs:{...O2.latLngs}});const iT={...nT,tms:{type:Boolean,default:void 0},subdomains:{type:[String,Array],validator:e=>typeof e=="string"?!0:Array.isArray(e)?e.every(t=>typeof t=="string"):!1},detectRetina:{type:Boolean,default:void 0},url:{type:String,required:!0,custom:!0}},YV=(e,t,r)=>{const{options:n,methods:i}=Qj(e,t,r),a=Hs(e,iT,n),o={...i};return{options:a,methods:o}},XV=zt({props:iT,setup(e,t){const r=Je(),n=ei(zs),i=Bi(n0),{options:a,methods:o}=YV(e,r,t);return ir(async()=>{const{tileLayer:s}=n?Ha.L:await bi(()=>import("./leaflet-src.esm-HdBnhJze.js"),[],import.meta.url);r.value=$s(s(e.url,a));const{listeners:l}=Zu(t.attrs);r.value.on(l),Vs(o,r.value,e),i({...e,...o,leafletObject:r.value}),Ar(()=>t.emit("ready",r.value))}),{leafletObject:r}},render(){return null}});({...Xj});({...iT});const JV=["primary","secondary","success","danger","warning","info","light","dark"],eH="rgba({{color}}, 0.2) 0, rgba({{color}}, 0.3) 40%, rgba({{color}}, 0.4) 50%, rgba({{color}}, 0.5) 60%, rgba({{color}}, 0) 70%",tH=[0,0,0],N2=.5,rH=e=>e&&JV.includes(e.toLowerCase()),nH=(e,t)=>{const r=a=>(a.length<7&&(a=`#${a[1]}${a[1]}${a[2]}${a[2]}${a[3]}${a[3]}`),[parseInt(a.substr(1,2),16),parseInt(a.substr(3,2),16),parseInt(a.substr(5,2),16)]),n=a=>{const o=document.body.appendChild(document.createElement("fictum")),s="rgb(1, 2, 3)";return o.style.color=s,o.style.color!==s||(o.style.color=a,o.style.color===s||o.style.color==="")?(document.body.removeChild(o),t):(a=getComputedStyle(o).color,document.body.removeChild(o),a)},i=a=>{const o=a.match(/[.\d]+/g);if(o===null)return;const s=o.map(l=>+Number(l));return s.length=3,s};return typeof e=="string"&&e.toLowerCase()==="transparent"?t:typeof e=="string"&&e[0]==="#"?r(e):(typeof e=="string"&&e.indexOf("rgb")===-1&&(e=n(e)),typeof e=="string"&&e.indexOf("rgb")===0?i(e):t)},iH=({offsetX:e,offsetY:t,height:r,width:n})=>{const i=t<=r/2,a=e<=n/2,o=(d,c)=>Math.sqrt(d**2+c**2),s=t===r/2&&e===n/2,l={first:i===!0&&a===!1,second:i===!0&&a===!0,third:i===!1&&a===!0,fourth:i===!1&&a===!1},u={topLeft:o(e,t),topRight:o(n-e,t),bottomLeft:o(e,r-t),bottomRight:o(n-e,r-t)};let f=0;return s||l.fourth?f=u.topLeft:l.third?f=u.topRight:l.second?f=u.bottomRight:l.first&&(f=u.bottomLeft),f*2},aH=(e,t)=>{for(const r in t)e.style[r]=t[r]},oH=e=>{const t=nH(e,tH);if(e!==""&&t){const r=t.join(",");return`radial-gradient(circle, ${eH.split("{{color}}").join(`${r}`)})`}},sH=(e,t,r)=>{const n=document.createElement("div");n.classList.add("ripple-wave");const i={offsetX:r.centered?t.height/2:t.left,offsetY:r.centered?t.width/2:t.top,height:t.height,width:t.width},a=iH(i),o=r.radius||a/2,s={delay:r.duration&&r.duration*N2,duration:r.duration&&r.duration-r.duration*N2},l={left:r.centered?`${Math.round(t.width/2-o)}px`:`${Math.round(t.left-o)}px`,top:r.centered?`${Math.round(t.height/2-o)}px`:`${Math.round(t.top-o)}px`,height:`${Math.round(r.radius&&r.radius*2||a)}px`,width:`${Math.round(r.radius&&r.radius*2||a)}px`,transitionDelay:`0s, ${s.delay}ms`,transitionDuration:`${r.duration}ms, ${s.duration}ms`};r.unbound&&e.classList.add("ripple-surface-unbound"),rH(r.color)?e.classList.add(`ripple-surface-${r.color}`):l.backgroundImage=oH(r.color),aH(n,l),e.appendChild(n),setTimeout(()=>{n.classList.add("active")},50),setTimeout(()=>{e.removeChild(n)},r.duration?r.duration+1e3:1e3)},Jj={mounted(e,t){if(t.value===!1)return;const r={centered:t.value&&t.value.centered||!1,color:t.value&&t.value.color||"",duration:t.value&&t.value.duration||500,radius:t.value&&t.value.radius||0,unbound:t.value&&t.value.unbound||!1};e.classList.add("ripple-surface"),e.waves=n=>{const i={top:n.offsetY,left:n.offsetX,height:e.offsetHeight,width:e.offsetWidth};sH(e,i,r)},e.addEventListener("click",n=>e.waves(n))},updated(e,t){t.value!==!1&&(e.classList.contains("ripple-surface")||e.classList.add("ripple-surface"))},unmounted(e){e.removeEventListener("click",t=>e.waves(t))}},uH={name:"MDBBtn"},eq=zt({...uH,props:{color:String,size:String,outline:String,rounded:Boolean,floating:Boolean,toggler:Boolean,toggle:Boolean,role:{type:String,default:"button"},type:{type:String,default:"button"},tag:{type:String,default:"button"},block:{type:Boolean,default:!1},ripple:{type:[Object,Boolean],default:e=>e.outline||e.color==="light"||e.color==="link"?{color:"dark"}:!0},picker:Boolean},emits:["update:toggle"],setup(e,{emit:t}){const r=e,n=Je(r.toggle),i=tt(()=>[!r.picker&&"btn",r.color&&`btn-${r.color}`,r.size&&`btn-${r.size}`,r.outline&&`btn-outline-${r.outline}`,r.rounded&&"btn-rounded",r.floating&&"btn-floating",r.block&&"btn-block",n.value&&"active"]),a=()=>{r.toggler&&(n.value=!n.value,t("update:toggle",n.value))};return(o,s)=>Ao((Ze(),Pt(_a(e.tag),{type:e.type,role:e.role,class:vt(i.value),onClick:a},{default:bt(()=>[pt(o.$slots,"default")]),_:3},8,["type","role","class"])),[[Fe(Jj),e.ripple]])}}),lH=1e6,fH=e=>{do e+=Math.floor(Math.random()*lH);while(document.getElementById(e));return e},cH=/\..*/,dH={mouseenter:"mouseover",mouseleave:"mouseout"},hH=["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"];function tq(e,t,r){const n=typeof t=="string",i=n?r:t;let a=e.replace(cH,"");const o=dH[a];return o&&(a=o),hH.indexOf(a)>-1||(a=e),[n,i,a]}function pH(e,t,r,n){if(typeof t!="string"||!e)return;const[i,a,o]=tq(t,r,n);e.addEventListener(o,a,i)}function mH(e,t,r,n){e.removeEventListener(t,r,!!n)}const yH=function(e,t,r,n=void 0){pH(e,t,r,n)},gH=function(e,t,r,n=void 0){if(typeof t!="string"||!e)return;const[i,a,o]=tq(t,r,n);mH(e,o,a,i?r:void 0)},dE={stopProp(e){e.stopPropagation()},mounted(e,t){const r=i=>{const a=i.target;!e.contains(a)&&e!==a&&t.value(i)};e.clickOutside=r;const n=t.modifiers.mousedown?"mousedown":"click";document.addEventListener(n,i=>{var a;return(a=e.clickOutside)==null?void 0:a.call(e,i)}),document.addEventListener("touchstart",i=>{var a;return(a=e.clickOutside)==null?void 0:a.call(e,i)})},unmounted(e,t){if(!e.clickOutside)return;const r=t.modifiers.mousedown?"mousedown":"click";document.removeEventListener(r,n=>{var i;return(i=e.clickOutside)==null?void 0:i.call(e,n)}),document.removeEventListener("touchstart",n=>{var i;return(i=e.clickOutside)==null?void 0:i.call(e,n)}),delete e.clickOutside}},_H={key:1,class:"visually-hidden"},bH={name:"MDBDropdownToggle"};({...bH,props:{...eq.props}});const vH={name:"MDBCol"},wH=zt({...vH,props:{tag:{type:String,default:"div"},col:String,sm:String,md:String,lg:String,xl:String,offset:String,offsetSm:String,offsetMd:String,offsetLg:String,offsetXl:String,auto:{type:Boolean,default:!1}},setup(e){const t=e,r=tt(()=>[t.col?"col-"+t.col:"",t.sm?"col-sm-"+t.sm:"",t.md?"col-md-"+t.md:"",t.lg?"col-lg-"+t.lg:"",t.xl?"col-xl-"+t.xl:"",!t.col&&!t.sm&&!t.md&&!t.lg&&!t.xl?"col":"",t.offset?"offset-"+t.offset:"",t.offsetSm?"offset-sm-"+t.offsetSm:"",t.offsetMd?"offset-md-"+t.offsetMd:"",t.offsetLg?"offset-lg-"+t.offsetLg:"",t.offsetXl?"offset-xl-"+t.offsetXl:"",t.auto?"col-auto":""]);return(n,i)=>(Ze(),Pt(_a(e.tag),{class:vt(r.value)},{default:bt(()=>[pt(n.$slots,"default")]),_:3},8,["class"]))}}),SH={name:"MDBRow"},EH=zt({...SH,props:{tag:{type:String,default:"div"},start:{type:Boolean,default:!1},end:{type:Boolean,default:!1},center:{type:Boolean,default:!1},between:{type:Boolean,default:!1},around:{type:Boolean,default:!1},cols:[String,Array]},setup(e){const t=e,r=tt(()=>{const i=t.cols;return["row",t.cols&&i?`${n(i)}`:"",t.start&&"justify-content-start",t.end&&"justify-content-end",t.center&&"justify-content-center",t.between&&"justify-content-between",t.around&&"justify-content-around"]}),n=i=>typeof i=="string"?`row-cols-${i}`:i.map(a=>`row-cols-${a}`.trim()).join(" ");return(i,a)=>(Ze(),Pt(_a(e.tag),{class:vt(r.value)},{default:bt(()=>[pt(i.$slots,"default")]),_:3},8,["class"]))}}),TH={name:"MDBContainer"},xH=zt({...TH,props:{tag:{type:String,default:"div"},sm:{type:Boolean,default:!1},md:{type:Boolean,default:!1},lg:{type:Boolean,default:!1},xl:{type:Boolean,default:!1},xxl:{type:Boolean,default:!1},fluid:{type:Boolean,default:!1}},setup(e){const t=e,r=tt(()=>[t.fluid?"container-fluid":"",t.sm?"container-sm":"",t.md?"container-md":"",t.lg?"container-lg":"",t.xl?"container-xl":"",t.xxl?"container-xxl":"",!t.fluid&&!t.sm&&!t.md&&!t.lg&&!t.xl&&!t.xxl?"container":""]);return(n,i)=>(Ze(),Pt(_a(e.tag),{class:vt(r.value)},{default:bt(()=>[pt(n.$slots,"default")]),_:3},8,["class"]))}}),RH=["id","value"],AH=["for"],IH={key:2,class:"form-helper"},PH={key:3,class:"form-helper"},OH={class:"form-counter"},NH=_t("div",{class:"form-notch-trailing"},null,-1),DH=["id","value"],CH=["for"],LH={key:1,class:"form-helper"},MH={key:2,class:"form-helper"},kH={class:"form-counter"},FH=_t("div",{class:"form-notch-trailing"},null,-1),jH={key:9,class:"form-text"},qH={name:"MDBInput",inheritAttrs:!1},BH=zt({...qH,props:{id:String,label:String,labelClass:String,modelValue:[String,Number,Date],size:String,formOutline:{type:Boolean,default:!0},wrapperClass:String,inputGroup:{type:[Boolean,String],default:!1},wrap:{type:Boolean,default:!0},formText:String,white:Boolean,validationEvent:String,isValidated:Boolean,isValid:Boolean,validFeedback:String,invalidFeedback:String,tooltipFeedback:{type:Boolean,default:!1},tag:{type:String,default:"div"},helper:String,counter:Boolean,maxlength:{type:Number,default:0}},emits:["update:modelValue","click-outside","on-validate"],setup(e,{expose:t,emit:r}){const n=e,i=lj(),a=Je(null),o=Je(n.modelValue),s=Je(null),l=Je(!1),u=Je(9),f=Je(0),d=n.id||fH("MDBInput-"),c=Je(!1),p=tt(()=>[n.formOutline&&"form-outline",y.value,n.white&&"form-white",n.wrapperClass]),b=tt(()=>["form-control",n.size?`form-control-${n.size}`:n.inputGroup&&n.inputGroup!==!0&&`form-control-${n.inputGroup}`,(o.value||o.value===0)&&"active",l.value&&"placeholder-active",x.value&&I.value&&"is-valid",x.value&&!I.value&&"is-invalid",B.value&&v()]),v=()=>B.value?o.value||o.value===0||c.value?"opacity-1":"opacity-0":"",_=tt(()=>["form-label",n.labelClass]),y=tt(()=>{if(n.inputGroup)return n.inputGroup!==!0?`input-group input-group-${n.inputGroup}`:"input-group"}),m=tt(()=>n.inputGroup&&x.value?{marginBottom:"1rem"}:""),g=tt(()=>n.tooltipFeedback?"valid-tooltip":"valid-feedback"),S=tt(()=>n.tooltipFeedback?"invalid-tooltip":"invalid-feedback"),x=Je(n.isValidated),I=Je(n.isValid),N=Je(""),q=tt(()=>x.value&&!I.value&&n.validationEvent?N.value:n.invalidFeedback),D=O=>{const A=O.target;I.value=A.checkValidity(),I.value||(N.value=A.validationMessage),x.value=!0,r("on-validate",I.value)},M=()=>{n.validationEvent!=="submit"&&a.value&&n.validationEvent&&yH(a.value,n.validationEvent,D)};function j(){s.value&&(f.value=s.value.clientWidth*.8+8)}const P=tt(()=>n.label&&s.value&&f.value===8&&s.value.textContent!==""),B=tt(()=>["date","time","datetime-local","month","week"].includes(i.type));function Y(){i.placeholder&&!s.value?l.value=!0:l.value=!1}const ie=Je(null);ie.value=typeof o.value=="string"&&o.value?o.value.length:0;function X(O){const A=O.target;if(n.maxlength&&A.value.length>n.maxlength&&typeof o.value=="string"){A.value=o.value;return}ie.value=A.value.length,o.value=A.value,r("update:modelValue",o.value)}function le(){Q(!0),c.value=!0,n.label&&P.value&&j()}function ae(){Q(),c.value=!1}function ne(){r("click-outside")}const H=Je(null),oe=Je(null),he=O=>{oe.value&&oe.value.forEach(A=>A.style.opacity=O?"0":"1"),O&&H.value&&(H.value.style.opacity="1")},Z=i.type&&i.type==="date",Q=(O=!1)=>{var A;n.label&&n.formOutline&&oe.value&&((A=oe.value)==null?void 0:A.length)>1&&he(O),Z&&a.value&&(a.value.type=O?"date":"text")},ee=O=>![...O.parentNode.children].findIndex(A=>A===O);return ir(()=>{var O;if(j(),Y(),Q(),n.label&&n.formOutline&&a.value&&(oe.value=((O=a.value.parentNode)==null?void 0:O.querySelectorAll(".form-notch"))||null),n.label&&n.formOutline&&s.value&&a.value&&!ee(a.value)){const A=parseFloat(getComputedStyle(s.value).left);s.value.style.left=`${A+a.value.offsetLeft}px`,u.value+=a.value.offsetLeft}n.validationEvent&&M()}),ij(()=>{j(),Y()}),Gi(()=>{a.value&&n.validationEvent&&gH(a.value,n.validationEvent,D)}),Tj(()=>{var O,A;if(typeof n.modelValue=="string"){if(n.maxlength&&((O=n.modelValue)==null?void 0:O.length)>n.maxlength){o.value=n.modelValue.slice(0,n.maxlength),ie.value=n.maxlength;return}ie.value=((A=n.modelValue)==null?void 0:A.length)||0}o.value=n.modelValue}),Xr(()=>n.isValidated,O=>x.value=O),Xr(()=>n.isValid,O=>I.value=O),t({inputRef:a}),(O,A)=>(Ze(),et(wt,null,[e.wrap?rt("",!0):Ao((Ze(),et("input",Fr({key:0,class:b.value,id:Fe(d),value:o.value},O.$attrs,{onInput:X,ref_key:"inputRef",ref:a,onFocus:le,onBlur:ae}),null,16,RH)),[[Fe(dE),ne]]),e.label&&!e.wrap?(Ze(),et("label",{key:1,ref_key:"labelRef",ref:s,class:vt(_.value),for:Fe(d)},Gt(e.label),11,AH)):rt("",!0),!e.wrap&&e.helper?(Ze(),et("div",IH,Gt(e.helper),1)):rt("",!0),!e.wrap&&e.counter?(Ze(),et("div",PH,[_t("div",OH,Gt(ie.value)+" / "+Gt(e.maxlength),1)])):rt("",!0),e.wrap?rt("",!0):pt(O.$slots,"default",{key:4}),!e.wrap&&e.validFeedback?(Ze(),et("div",{key:5,class:vt(g.value)},Gt(e.validFeedback),3)):rt("",!0),!e.wrap&&q.value?(Ze(),et("div",{key:6,class:vt(S.value)},Gt(q.value),3)):rt("",!0),!e.wrap&&e.formOutline?(Ze(),et("div",{key:7,class:"form-notch",ref_key:"notchRef",ref:H},[_t("div",{class:"form-notch-leading",style:kr({width:`${u.value}px`})},null,4),_t("div",{class:"form-notch-middle",style:kr({width:`${f.value}px`})},null,4),NH],512)):rt("",!0),e.wrap?Ao((Ze(),Pt(_a(e.tag),{key:8,class:vt(p.value),style:kr(m.value)},{default:bt(()=>[pt(O.$slots,"prepend"),_t("input",Fr({class:b.value},O.$attrs,{id:Fe(d),value:o.value,onInput:X,ref_key:"inputRef",ref:a,onFocus:le,onBlur:ae}),null,16,DH),e.label?(Ze(),et("label",{key:0,ref_key:"labelRef",ref:s,class:vt(_.value),for:Fe(d)},Gt(e.label),11,CH)):rt("",!0),e.helper?(Ze(),et("div",LH,Gt(e.helper),1)):rt("",!0),e.counter?(Ze(),et("div",MH,[_t("div",kH,Gt(ie.value)+" / "+Gt(e.maxlength),1)])):rt("",!0),pt(O.$slots,"default"),e.validFeedback?(Ze(),et("div",{key:3,class:vt(g.value)},Gt(e.validFeedback),3)):rt("",!0),q.value?(Ze(),et("div",{key:4,class:vt(S.value)},Gt(q.value),3)):rt("",!0),e.formOutline?(Ze(),et("div",{key:5,class:"form-notch",ref_key:"notchRef",ref:H},[_t("div",{class:"form-notch-leading",style:kr({width:`${u.value}px`})},null,4),_t("div",{class:"form-notch-middle",style:kr({width:`${f.value}px`})},null,4),FH],512)):rt("",!0)]),_:3},8,["class","style"])),[[Fe(dE),ne]]):rt("",!0),e.formText?(Ze(),et("div",jH,Gt(e.formText),1)):rt("",!0)],64))}}),rq=6048e5,$H=864e5,UH=6e4,nq=36e5,VH=1e3,D2=Symbol.for("constructDateFrom");function Xt(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&D2 in e?e[D2](t):e instanceof Date?new e.constructor(t):new Date(t)}function Et(e,t){return Xt(t||e,e)}function mi(e,t,r){const n=Et(e,r==null?void 0:r.in);return isNaN(t)?Xt((r==null?void 0:r.in)||e,NaN):(t&&n.setDate(n.getDate()+t),n)}function $i(e,t,r){const n=Et(e,r==null?void 0:r.in);if(isNaN(t))return Xt(e,NaN);if(!t)return n;const i=n.getDate(),a=Xt(e,n.getTime());a.setMonth(n.getMonth()+t+1,0);const o=a.getDate();return i>=o?a:(n.setFullYear(a.getFullYear(),a.getMonth(),i),n)}function iq(e,t,r){const{years:n=0,months:i=0,weeks:a=0,days:o=0,hours:s=0,minutes:l=0,seconds:u=0}=t,f=Et(e,r==null?void 0:r.in),d=i||n?$i(f,i+n*12):f,c=o||a?mi(d,o+a*7):d,p=l+s*60,v=(u+p*60)*1e3;return Xt(e,+c+v)}function HH(e,t,r){return Xt(e,+Et(e)+t)}function zH(e,t,r){return HH(e,t*nq)}let GH={};function Gs(){return GH}function Vi(e,t){var s,l,u,f;const r=Gs(),n=(t==null?void 0:t.weekStartsOn)??((l=(s=t==null?void 0:t.locale)==null?void 0:s.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??0,i=Et(e,t==null?void 0:t.in),a=i.getDay(),o=(a<n?7:0)+a-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Nu(e,t){return Vi(e,{...t,weekStartsOn:1})}function aq(e,t){const r=Et(e,t==null?void 0:t.in),n=r.getFullYear(),i=Xt(r,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const a=Nu(i),o=Xt(r,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const s=Nu(o);return r.getTime()>=a.getTime()?n+1:r.getTime()>=s.getTime()?n:n-1}function yy(e){const t=Et(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function o0(e,...t){const r=Xt.bind(null,t.find(n=>typeof n=="object"));return t.map(r)}function C2(e,t){const r=Et(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function oq(e,t,r){const[n,i]=o0(r==null?void 0:r.in,e,t),a=C2(n),o=C2(i),s=+a-yy(a),l=+o-yy(o);return Math.round((s-l)/$H)}function WH(e,t){const r=aq(e,t),n=Xt(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Nu(n)}function KH(e,t,r){return $i(e,t*3,r)}function aT(e,t,r){return $i(e,t*12,r)}function L2(e,t){const r=+Et(e)-+Et(t);return r<0?-1:r>0?1:r}function sq(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Rp(e){return!(!sq(e)&&typeof e!="number"||isNaN(+Et(e)))}function M2(e,t){const r=Et(e,t==null?void 0:t.in);return Math.trunc(r.getMonth()/3)+1}function QH(e,t,r){const[n,i]=o0(r==null?void 0:r.in,e,t);return n.getFullYear()-i.getFullYear()}function ZH(e,t,r){const[n,i]=o0(r==null?void 0:r.in,e,t),a=L2(n,i),o=Math.abs(QH(n,i));n.setFullYear(1584),i.setFullYear(1584);const s=L2(n,i)===-a,l=a*(o-+s);return l===0?0:l}function uq(e,t){const[r,n]=o0(e,t.start,t.end);return{start:r,end:n}}function lq(e,t){const{start:r,end:n}=uq(t==null?void 0:t.in,e);let i=+r>+n;const a=i?+r:+n,o=i?n:r;o.setHours(0,0,0,0);let s=1;const l=[];for(;+o<=a;)l.push(Xt(r,o)),o.setDate(o.getDate()+s),o.setHours(0,0,0,0);return i?l.reverse():l}function Ns(e,t){const r=Et(e,t==null?void 0:t.in),n=r.getMonth(),i=n-n%3;return r.setMonth(i,1),r.setHours(0,0,0,0),r}function YH(e,t){const{start:r,end:n}=uq(t==null?void 0:t.in,e);let i=+r>+n;const a=i?+Ns(r):+Ns(n);let o=Ns(i?n:r),s=1;const l=[];for(;+o<=a;)l.push(Xt(r,o)),o=KH(o,s);return i?l.reverse():l}function XH(e,t){const r=Et(e,t==null?void 0:t.in);return r.setDate(1),r.setHours(0,0,0,0),r}function fq(e,t){const r=Et(e,t==null?void 0:t.in),n=r.getFullYear();return r.setFullYear(n+1,0,0),r.setHours(23,59,59,999),r}function Vp(e,t){const r=Et(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function cq(e,t){var s,l,u,f;const r=Gs(),n=(t==null?void 0:t.weekStartsOn)??((l=(s=t==null?void 0:t.locale)==null?void 0:s.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??0,i=Et(e,t==null?void 0:t.in),a=i.getDay(),o=(a<n?-7:0)+6-(a-n);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}function k2(e,t){const r=Et(e,t==null?void 0:t.in),n=r.getMonth(),i=n-n%3+3;return r.setMonth(i,0),r.setHours(23,59,59,999),r}const JH={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ez=(e,t,r)=>{let n;const i=JH[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function s_(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const tz={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},rz={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},nz={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},iz={date:s_({formats:tz,defaultWidth:"full"}),time:s_({formats:rz,defaultWidth:"full"}),dateTime:s_({formats:nz,defaultWidth:"full"})},az={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},oz=(e,t,r,n)=>az[e];function Ll(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,s=r!=null&&r.width?String(r.width):o;i=e.formattingValues[s]||e.formattingValues[o]}else{const o=e.defaultWidth,s=r!=null&&r.width?String(r.width):e.defaultWidth;i=e.values[s]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const sz={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},uz={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},lz={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},fz={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},cz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},dz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},hz=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},pz={ordinalNumber:hz,era:Ll({values:sz,defaultWidth:"wide"}),quarter:Ll({values:uz,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ll({values:lz,defaultWidth:"wide"}),day:Ll({values:fz,defaultWidth:"wide"}),dayPeriod:Ll({values:cz,defaultWidth:"wide",formattingValues:dz,defaultFormattingWidth:"wide"})};function Ml(e){return(t,r={})=>{const n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const o=a[0],s=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(s)?yz(s,d=>d.test(o)):mz(s,d=>d.test(o));let u;u=e.valueCallback?e.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;const f=t.slice(o.length);return{value:u,rest:f}}}function mz(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function yz(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function gz(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const s=t.slice(i.length);return{value:o,rest:s}}}const _z=/^(\d+)(th|st|nd|rd)?/i,bz=/\d+/i,vz={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},wz={any:[/^b/i,/^(a|c)/i]},Sz={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ez={any:[/1/i,/2/i,/3/i,/4/i]},Tz={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},xz={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Rz={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Az={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Iz={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Pz={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Oz={ordinalNumber:gz({matchPattern:_z,parsePattern:bz,valueCallback:e=>parseInt(e,10)}),era:Ml({matchPatterns:vz,defaultMatchWidth:"wide",parsePatterns:wz,defaultParseWidth:"any"}),quarter:Ml({matchPatterns:Sz,defaultMatchWidth:"wide",parsePatterns:Ez,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ml({matchPatterns:Tz,defaultMatchWidth:"wide",parsePatterns:xz,defaultParseWidth:"any"}),day:Ml({matchPatterns:Rz,defaultMatchWidth:"wide",parsePatterns:Az,defaultParseWidth:"any"}),dayPeriod:Ml({matchPatterns:Iz,defaultMatchWidth:"any",parsePatterns:Pz,defaultParseWidth:"any"})},dq={code:"en-US",formatDistance:ez,formatLong:iz,formatRelative:oz,localize:pz,match:Oz,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Nz(e,t){const r=Et(e,t==null?void 0:t.in);return oq(r,Vp(r))+1}function oT(e,t){const r=Et(e,t==null?void 0:t.in),n=+Nu(r)-+WH(r);return Math.round(n/rq)+1}function sT(e,t){var f,d,c,p;const r=Et(e,t==null?void 0:t.in),n=r.getFullYear(),i=Gs(),a=(t==null?void 0:t.firstWeekContainsDate)??((d=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(c=i.locale)==null?void 0:c.options)==null?void 0:p.firstWeekContainsDate)??1,o=Xt((t==null?void 0:t.in)||e,0);o.setFullYear(n+1,0,a),o.setHours(0,0,0,0);const s=Vi(o,t),l=Xt((t==null?void 0:t.in)||e,0);l.setFullYear(n,0,a),l.setHours(0,0,0,0);const u=Vi(l,t);return+r>=+s?n+1:+r>=+u?n:n-1}function Dz(e,t){var s,l,u,f;const r=Gs(),n=(t==null?void 0:t.firstWeekContainsDate)??((l=(s=t==null?void 0:t.locale)==null?void 0:s.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,i=sT(e,t),a=Xt((t==null?void 0:t.in)||e,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),Vi(a,t)}function uT(e,t){const r=Et(e,t==null?void 0:t.in),n=+Vi(r,t)-+Dz(r,t);return Math.round(n/rq)+1}function Yt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const oo={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Yt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Yt(r+1,2)},d(e,t){return Yt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Yt(e.getHours()%12||12,t.length)},H(e,t){return Yt(e.getHours(),t.length)},m(e,t){return Yt(e.getMinutes(),t.length)},s(e,t){return Yt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return Yt(i,t.length)}},uu={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},F2={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return oo.y(e,t)},Y:function(e,t,r,n){const i=sT(e,n),a=i>0?i:1-i;if(t==="YY"){const o=a%100;return Yt(o,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):Yt(a,t.length)},R:function(e,t){const r=aq(e);return Yt(r,t.length)},u:function(e,t){const r=e.getFullYear();return Yt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Yt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Yt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return oo.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Yt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const i=uT(e,n);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):Yt(i,t.length)},I:function(e,t,r){const n=oT(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Yt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):oo.d(e,t)},D:function(e,t,r){const n=Nz(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Yt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Yt(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Yt(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return Yt(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let i;switch(n===12?i=uu.noon:n===0?i=uu.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let i;switch(n>=17?i=uu.evening:n>=12?i=uu.afternoon:n>=4?i=uu.morning:i=uu.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return oo.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):oo.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Yt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Yt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):oo.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):oo.s(e,t)},S:function(e,t){return oo.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return q2(n);case"XXXX":case"XX":return Es(n);case"XXXXX":case"XXX":default:return Es(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return q2(n);case"xxxx":case"xx":return Es(n);case"xxxxx":case"xxx":default:return Es(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+j2(n,":");case"OOOO":default:return"GMT"+Es(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+j2(n,":");case"zzzz":default:return"GMT"+Es(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return Yt(n,t.length)},T:function(e,t,r){return Yt(+e,t.length)}};function j2(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),a=n%60;return a===0?r+String(i):r+String(i)+t+Yt(a,2)}function q2(e,t){return e%60===0?(e>0?"-":"+")+Yt(Math.abs(e)/60,2):Es(e,t)}function Es(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Yt(Math.trunc(n/60),2),a=Yt(n%60,2);return r+i+t+a}const B2=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},hq=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Cz=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return B2(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",B2(n,t)).replace("{{time}}",hq(i,t))},hE={p:hq,P:Cz},Lz=/^D+$/,Mz=/^Y+$/,kz=["D","DD","YY","YYYY"];function pq(e){return Lz.test(e)}function mq(e){return Mz.test(e)}function pE(e,t,r){const n=Fz(e,t,r);if(console.warn(n),kz.includes(e))throw new RangeError(n)}function Fz(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const jz=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,qz=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Bz=/^'([^]*?)'?$/,$z=/''/g,Uz=/[a-zA-Z]/;function ya(e,t,r){var f,d,c,p,b,v,_,y;const n=Gs(),i=(r==null?void 0:r.locale)??n.locale??dq,a=(r==null?void 0:r.firstWeekContainsDate)??((d=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:d.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(c=n.locale)==null?void 0:c.options)==null?void 0:p.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((v=(b=r==null?void 0:r.locale)==null?void 0:b.options)==null?void 0:v.weekStartsOn)??n.weekStartsOn??((y=(_=n.locale)==null?void 0:_.options)==null?void 0:y.weekStartsOn)??0,s=Et(e,r==null?void 0:r.in);if(!Rp(s))throw new RangeError("Invalid time value");let l=t.match(qz).map(m=>{const g=m[0];if(g==="p"||g==="P"){const S=hE[g];return S(m,i.formatLong)}return m}).join("").match(jz).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const g=m[0];if(g==="'")return{isToken:!1,value:Vz(m)};if(F2[g])return{isToken:!0,value:m};if(g.match(Uz))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:m}});i.localize.preprocessor&&(l=i.localize.preprocessor(s,l));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return l.map(m=>{if(!m.isToken)return m.value;const g=m.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&mq(g)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&pq(g))&&pE(g,t,String(e));const S=F2[g[0]];return S(s,g,i.localize,u)}).join("")}function Vz(e){const t=e.match(Bz);return t?t[1].replace($z,"'"):e}function Hz(e,t){return Et(e,t==null?void 0:t.in).getDay()}function zz(e,t){const r=Et(e,t==null?void 0:t.in),n=r.getFullYear(),i=r.getMonth(),a=Xt(r,0);return a.setFullYear(n,i+1,0),a.setHours(0,0,0,0),a.getDate()}function Gz(){return Object.assign({},Gs())}function Ga(e,t){return Et(e,t==null?void 0:t.in).getHours()}function Wz(e,t){const r=Et(e,t==null?void 0:t.in).getDay();return r===0?7:r}function Do(e,t){return Et(e,t==null?void 0:t.in).getMinutes()}function jt(e,t){return Et(e,t==null?void 0:t.in).getMonth()}function Du(e){return Et(e).getSeconds()}function At(e,t){return Et(e,t==null?void 0:t.in).getFullYear()}function js(e,t){return+Et(e)>+Et(t)}function Cu(e,t){return+Et(e)<+Et(t)}function vu(e,t){return+Et(e)==+Et(t)}function Kz(e,t){const r=Qz(t)?new t(0):Xt(t,0);return r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r}function Qz(e){var t;return typeof e=="function"&&((t=e.prototype)==null?void 0:t.constructor)===e}const Zz=10;class yq{constructor(){Qe(this,"subPriority",0)}validate(t,r){return!0}}class Yz extends yq{constructor(t,r,n,i,a){super(),this.value=t,this.validateValue=r,this.setValue=n,this.priority=i,a&&(this.subPriority=a)}validate(t,r){return this.validateValue(t,this.value,r)}set(t,r,n){return this.setValue(t,r,this.value,n)}}class Xz extends yq{constructor(r,n){super();Qe(this,"priority",Zz);Qe(this,"subPriority",-1);this.context=r||(i=>Xt(n,i))}set(r,n){return n.timestampIsSet?r:Xt(r,Kz(r,this.context))}}let Wt=class{run(t,r,n,i){const a=this.parse(t,r,n,i);return a?{setter:new Yz(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(t,r,n){return!0}};class Jz extends Wt{constructor(){super(...arguments);Qe(this,"priority",140);Qe(this,"incompatibleTokens",["R","u","t","T"])}parse(r,n,i){switch(n){case"G":case"GG":case"GGG":return i.era(r,{width:"abbreviated"})||i.era(r,{width:"narrow"});case"GGGGG":return i.era(r,{width:"narrow"});case"GGGG":default:return i.era(r,{width:"wide"})||i.era(r,{width:"abbreviated"})||i.era(r,{width:"narrow"})}}set(r,n,i){return n.era=i,r.setFullYear(i,0,1),r.setHours(0,0,0,0),r}}const jr={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},la={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function qr(e,t){return e&&{value:t(e.value),rest:e.rest}}function wr(e,t){const r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function fa(e,t){const r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};const n=r[1]==="+"?1:-1,i=r[2]?parseInt(r[2],10):0,a=r[3]?parseInt(r[3],10):0,o=r[5]?parseInt(r[5],10):0;return{value:n*(i*nq+a*UH+o*VH),rest:t.slice(r[0].length)}}function gq(e){return wr(jr.anyDigitsSigned,e)}function Ir(e,t){switch(e){case 1:return wr(jr.singleDigit,t);case 2:return wr(jr.twoDigits,t);case 3:return wr(jr.threeDigits,t);case 4:return wr(jr.fourDigits,t);default:return wr(new RegExp("^\\d{1,"+e+"}"),t)}}function gy(e,t){switch(e){case 1:return wr(jr.singleDigitSigned,t);case 2:return wr(jr.twoDigitsSigned,t);case 3:return wr(jr.threeDigitsSigned,t);case 4:return wr(jr.fourDigitsSigned,t);default:return wr(new RegExp("^-?\\d{1,"+e+"}"),t)}}function lT(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function _q(e,t){const r=t>0,n=r?t:1-t;let i;if(n<=50)i=e||100;else{const a=n+50,o=Math.trunc(a/100)*100,s=e>=a%100;i=e+o-(s?100:0)}return r?i:1-i}function bq(e){return e%400===0||e%4===0&&e%100!==0}class eG extends Wt{constructor(){super(...arguments);Qe(this,"priority",130);Qe(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,n,i){const a=o=>({year:o,isTwoDigitYear:n==="yy"});switch(n){case"y":return qr(Ir(4,r),a);case"yo":return qr(i.ordinalNumber(r,{unit:"year"}),a);default:return qr(Ir(n.length,r),a)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,i){const a=r.getFullYear();if(i.isTwoDigitYear){const s=_q(i.year,a);return r.setFullYear(s,0,1),r.setHours(0,0,0,0),r}const o=!("era"in n)||n.era===1?i.year:1-i.year;return r.setFullYear(o,0,1),r.setHours(0,0,0,0),r}}class tG extends Wt{constructor(){super(...arguments);Qe(this,"priority",130);Qe(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,n,i){const a=o=>({year:o,isTwoDigitYear:n==="YY"});switch(n){case"Y":return qr(Ir(4,r),a);case"Yo":return qr(i.ordinalNumber(r,{unit:"year"}),a);default:return qr(Ir(n.length,r),a)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,i,a){const o=sT(r,a);if(i.isTwoDigitYear){const l=_q(i.year,o);return r.setFullYear(l,0,a.firstWeekContainsDate),r.setHours(0,0,0,0),Vi(r,a)}const s=!("era"in n)||n.era===1?i.year:1-i.year;return r.setFullYear(s,0,a.firstWeekContainsDate),r.setHours(0,0,0,0),Vi(r,a)}}class rG extends Wt{constructor(){super(...arguments);Qe(this,"priority",130);Qe(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,n){return gy(n==="R"?4:n.length,r)}set(r,n,i){const a=Xt(r,0);return a.setFullYear(i,0,4),a.setHours(0,0,0,0),Nu(a)}}class nG extends Wt{constructor(){super(...arguments);Qe(this,"priority",130);Qe(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,n){return gy(n==="u"?4:n.length,r)}set(r,n,i){return r.setFullYear(i,0,1),r.setHours(0,0,0,0),r}}class iG extends Wt{constructor(){super(...arguments);Qe(this,"priority",120);Qe(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,i){switch(n){case"Q":case"QQ":return Ir(n.length,r);case"Qo":return i.ordinalNumber(r,{unit:"quarter"});case"QQQ":return i.quarter(r,{width:"abbreviated",context:"formatting"})||i.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(r,{width:"wide",context:"formatting"})||i.quarter(r,{width:"abbreviated",context:"formatting"})||i.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=1&&n<=4}set(r,n,i){return r.setMonth((i-1)*3,1),r.setHours(0,0,0,0),r}}class aG extends Wt{constructor(){super(...arguments);Qe(this,"priority",120);Qe(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,i){switch(n){case"q":case"qq":return Ir(n.length,r);case"qo":return i.ordinalNumber(r,{unit:"quarter"});case"qqq":return i.quarter(r,{width:"abbreviated",context:"standalone"})||i.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(r,{width:"wide",context:"standalone"})||i.quarter(r,{width:"abbreviated",context:"standalone"})||i.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=1&&n<=4}set(r,n,i){return r.setMonth((i-1)*3,1),r.setHours(0,0,0,0),r}}class oG extends Wt{constructor(){super(...arguments);Qe(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Qe(this,"priority",110)}parse(r,n,i){const a=o=>o-1;switch(n){case"M":return qr(wr(jr.month,r),a);case"MM":return qr(Ir(2,r),a);case"Mo":return qr(i.ordinalNumber(r,{unit:"month"}),a);case"MMM":return i.month(r,{width:"abbreviated",context:"formatting"})||i.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(r,{width:"wide",context:"formatting"})||i.month(r,{width:"abbreviated",context:"formatting"})||i.month(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=11}set(r,n,i){return r.setMonth(i,1),r.setHours(0,0,0,0),r}}class sG extends Wt{constructor(){super(...arguments);Qe(this,"priority",110);Qe(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,n,i){const a=o=>o-1;switch(n){case"L":return qr(wr(jr.month,r),a);case"LL":return qr(Ir(2,r),a);case"Lo":return qr(i.ordinalNumber(r,{unit:"month"}),a);case"LLL":return i.month(r,{width:"abbreviated",context:"standalone"})||i.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(r,{width:"wide",context:"standalone"})||i.month(r,{width:"abbreviated",context:"standalone"})||i.month(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=11}set(r,n,i){return r.setMonth(i,1),r.setHours(0,0,0,0),r}}function uG(e,t,r){const n=Et(e,r==null?void 0:r.in),i=uT(n,r)-t;return n.setDate(n.getDate()-i*7),Et(n,r==null?void 0:r.in)}class lG extends Wt{constructor(){super(...arguments);Qe(this,"priority",100);Qe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,n,i){switch(n){case"w":return wr(jr.week,r);case"wo":return i.ordinalNumber(r,{unit:"week"});default:return Ir(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,i,a){return Vi(uG(r,i,a),a)}}function fG(e,t,r){const n=Et(e,r==null?void 0:r.in),i=oT(n,r)-t;return n.setDate(n.getDate()-i*7),n}class cG extends Wt{constructor(){super(...arguments);Qe(this,"priority",100);Qe(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,n,i){switch(n){case"I":return wr(jr.week,r);case"Io":return i.ordinalNumber(r,{unit:"week"});default:return Ir(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,i){return Nu(fG(r,i))}}const dG=[31,28,31,30,31,30,31,31,30,31,30,31],hG=[31,29,31,30,31,30,31,31,30,31,30,31];class pG extends Wt{constructor(){super(...arguments);Qe(this,"priority",90);Qe(this,"subPriority",1);Qe(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,n,i){switch(n){case"d":return wr(jr.date,r);case"do":return i.ordinalNumber(r,{unit:"date"});default:return Ir(n.length,r)}}validate(r,n){const i=r.getFullYear(),a=bq(i),o=r.getMonth();return a?n>=1&&n<=hG[o]:n>=1&&n<=dG[o]}set(r,n,i){return r.setDate(i),r.setHours(0,0,0,0),r}}class mG extends Wt{constructor(){super(...arguments);Qe(this,"priority",90);Qe(this,"subpriority",1);Qe(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,n,i){switch(n){case"D":case"DD":return wr(jr.dayOfYear,r);case"Do":return i.ordinalNumber(r,{unit:"date"});default:return Ir(n.length,r)}}validate(r,n){const i=r.getFullYear();return bq(i)?n>=1&&n<=366:n>=1&&n<=365}set(r,n,i){return r.setMonth(0,i),r.setHours(0,0,0,0),r}}function fT(e,t,r){var d,c,p,b;const n=Gs(),i=(r==null?void 0:r.weekStartsOn)??((c=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((b=(p=n.locale)==null?void 0:p.options)==null?void 0:b.weekStartsOn)??0,a=Et(e,r==null?void 0:r.in),o=a.getDay(),l=(t%7+7)%7,u=7-i,f=t<0||t>6?t-(o+u)%7:(l+u)%7-(o+u)%7;return mi(a,f,r)}class yG extends Wt{constructor(){super(...arguments);Qe(this,"priority",90);Qe(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,n,i){switch(n){case"E":case"EE":case"EEE":return i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(r,{width:"wide",context:"formatting"})||i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,i,a){return r=fT(r,i,a),r.setHours(0,0,0,0),r}}class gG extends Wt{constructor(){super(...arguments);Qe(this,"priority",90);Qe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,n,i,a){const o=s=>{const l=Math.floor((s-1)/7)*7;return(s+a.weekStartsOn+6)%7+l};switch(n){case"e":case"ee":return qr(Ir(n.length,r),o);case"eo":return qr(i.ordinalNumber(r,{unit:"day"}),o);case"eee":return i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"});case"eeeee":return i.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(r,{width:"wide",context:"formatting"})||i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,i,a){return r=fT(r,i,a),r.setHours(0,0,0,0),r}}class _G extends Wt{constructor(){super(...arguments);Qe(this,"priority",90);Qe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,n,i,a){const o=s=>{const l=Math.floor((s-1)/7)*7;return(s+a.weekStartsOn+6)%7+l};switch(n){case"c":case"cc":return qr(Ir(n.length,r),o);case"co":return qr(i.ordinalNumber(r,{unit:"day"}),o);case"ccc":return i.day(r,{width:"abbreviated",context:"standalone"})||i.day(r,{width:"short",context:"standalone"})||i.day(r,{width:"narrow",context:"standalone"});case"ccccc":return i.day(r,{width:"narrow",context:"standalone"});case"cccccc":return i.day(r,{width:"short",context:"standalone"})||i.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(r,{width:"wide",context:"standalone"})||i.day(r,{width:"abbreviated",context:"standalone"})||i.day(r,{width:"short",context:"standalone"})||i.day(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=6}set(r,n,i,a){return r=fT(r,i,a),r.setHours(0,0,0,0),r}}function bG(e,t,r){const n=Et(e,r==null?void 0:r.in),i=Wz(n,r),a=t-i;return mi(n,a,r)}class vG extends Wt{constructor(){super(...arguments);Qe(this,"priority",90);Qe(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,n,i){const a=o=>o===0?7:o;switch(n){case"i":case"ii":return Ir(n.length,r);case"io":return i.ordinalNumber(r,{unit:"day"});case"iii":return qr(i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"}),a);case"iiiii":return qr(i.day(r,{width:"narrow",context:"formatting"}),a);case"iiiiii":return qr(i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"}),a);case"iiii":default:return qr(i.day(r,{width:"wide",context:"formatting"})||i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"}),a)}}validate(r,n){return n>=1&&n<=7}set(r,n,i){return r=bG(r,i),r.setHours(0,0,0,0),r}}class wG extends Wt{constructor(){super(...arguments);Qe(this,"priority",80);Qe(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,n,i){switch(n){case"a":case"aa":case"aaa":return i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(r,{width:"wide",context:"formatting"})||i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,i){return r.setHours(lT(i),0,0,0),r}}class SG extends Wt{constructor(){super(...arguments);Qe(this,"priority",80);Qe(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,n,i){switch(n){case"b":case"bb":case"bbb":return i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(r,{width:"wide",context:"formatting"})||i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,i){return r.setHours(lT(i),0,0,0),r}}class EG extends Wt{constructor(){super(...arguments);Qe(this,"priority",80);Qe(this,"incompatibleTokens",["a","b","t","T"])}parse(r,n,i){switch(n){case"B":case"BB":case"BBB":return i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(r,{width:"wide",context:"formatting"})||i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,i){return r.setHours(lT(i),0,0,0),r}}class TG extends Wt{constructor(){super(...arguments);Qe(this,"priority",70);Qe(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,n,i){switch(n){case"h":return wr(jr.hour12h,r);case"ho":return i.ordinalNumber(r,{unit:"hour"});default:return Ir(n.length,r)}}validate(r,n){return n>=1&&n<=12}set(r,n,i){const a=r.getHours()>=12;return a&&i<12?r.setHours(i+12,0,0,0):!a&&i===12?r.setHours(0,0,0,0):r.setHours(i,0,0,0),r}}class xG extends Wt{constructor(){super(...arguments);Qe(this,"priority",70);Qe(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,n,i){switch(n){case"H":return wr(jr.hour23h,r);case"Ho":return i.ordinalNumber(r,{unit:"hour"});default:return Ir(n.length,r)}}validate(r,n){return n>=0&&n<=23}set(r,n,i){return r.setHours(i,0,0,0),r}}class RG extends Wt{constructor(){super(...arguments);Qe(this,"priority",70);Qe(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,n,i){switch(n){case"K":return wr(jr.hour11h,r);case"Ko":return i.ordinalNumber(r,{unit:"hour"});default:return Ir(n.length,r)}}validate(r,n){return n>=0&&n<=11}set(r,n,i){return r.getHours()>=12&&i<12?r.setHours(i+12,0,0,0):r.setHours(i,0,0,0),r}}class AG extends Wt{constructor(){super(...arguments);Qe(this,"priority",70);Qe(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,n,i){switch(n){case"k":return wr(jr.hour24h,r);case"ko":return i.ordinalNumber(r,{unit:"hour"});default:return Ir(n.length,r)}}validate(r,n){return n>=1&&n<=24}set(r,n,i){const a=i<=24?i%24:i;return r.setHours(a,0,0,0),r}}class IG extends Wt{constructor(){super(...arguments);Qe(this,"priority",60);Qe(this,"incompatibleTokens",["t","T"])}parse(r,n,i){switch(n){case"m":return wr(jr.minute,r);case"mo":return i.ordinalNumber(r,{unit:"minute"});default:return Ir(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,i){return r.setMinutes(i,0,0),r}}class PG extends Wt{constructor(){super(...arguments);Qe(this,"priority",50);Qe(this,"incompatibleTokens",["t","T"])}parse(r,n,i){switch(n){case"s":return wr(jr.second,r);case"so":return i.ordinalNumber(r,{unit:"second"});default:return Ir(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,i){return r.setSeconds(i,0),r}}class OG extends Wt{constructor(){super(...arguments);Qe(this,"priority",30);Qe(this,"incompatibleTokens",["t","T"])}parse(r,n){const i=a=>Math.trunc(a*Math.pow(10,-n.length+3));return qr(Ir(n.length,r),i)}set(r,n,i){return r.setMilliseconds(i),r}}class NG extends Wt{constructor(){super(...arguments);Qe(this,"priority",10);Qe(this,"incompatibleTokens",["t","T","x"])}parse(r,n){switch(n){case"X":return fa(la.basicOptionalMinutes,r);case"XX":return fa(la.basic,r);case"XXXX":return fa(la.basicOptionalSeconds,r);case"XXXXX":return fa(la.extendedOptionalSeconds,r);case"XXX":default:return fa(la.extended,r)}}set(r,n,i){return n.timestampIsSet?r:Xt(r,r.getTime()-yy(r)-i)}}class DG extends Wt{constructor(){super(...arguments);Qe(this,"priority",10);Qe(this,"incompatibleTokens",["t","T","X"])}parse(r,n){switch(n){case"x":return fa(la.basicOptionalMinutes,r);case"xx":return fa(la.basic,r);case"xxxx":return fa(la.basicOptionalSeconds,r);case"xxxxx":return fa(la.extendedOptionalSeconds,r);case"xxx":default:return fa(la.extended,r)}}set(r,n,i){return n.timestampIsSet?r:Xt(r,r.getTime()-yy(r)-i)}}class CG extends Wt{constructor(){super(...arguments);Qe(this,"priority",40);Qe(this,"incompatibleTokens","*")}parse(r){return gq(r)}set(r,n,i){return[Xt(r,i*1e3),{timestampIsSet:!0}]}}class LG extends Wt{constructor(){super(...arguments);Qe(this,"priority",20);Qe(this,"incompatibleTokens","*")}parse(r){return gq(r)}set(r,n,i){return[Xt(r,i),{timestampIsSet:!0}]}}const MG={G:new Jz,y:new eG,Y:new tG,R:new rG,u:new nG,Q:new iG,q:new aG,M:new oG,L:new sG,w:new lG,I:new cG,d:new pG,D:new mG,E:new yG,e:new gG,c:new _G,i:new vG,a:new wG,b:new SG,B:new EG,h:new TG,H:new xG,K:new RG,k:new AG,m:new IG,s:new PG,S:new OG,X:new NG,x:new DG,t:new CG,T:new LG},kG=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,FG=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,jG=/^'([^]*?)'?$/,qG=/''/g,BG=/\S/,$G=/[a-zA-Z]/;function mE(e,t,r,n){var _,y,m,g,S,x,I,N;const i=()=>Xt((n==null?void 0:n.in)||r,NaN),a=Gz(),o=(n==null?void 0:n.locale)??a.locale??dq,s=(n==null?void 0:n.firstWeekContainsDate)??((y=(_=n==null?void 0:n.locale)==null?void 0:_.options)==null?void 0:y.firstWeekContainsDate)??a.firstWeekContainsDate??((g=(m=a.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??1,l=(n==null?void 0:n.weekStartsOn)??((x=(S=n==null?void 0:n.locale)==null?void 0:S.options)==null?void 0:x.weekStartsOn)??a.weekStartsOn??((N=(I=a.locale)==null?void 0:I.options)==null?void 0:N.weekStartsOn)??0;if(!t)return e?i():Et(r,n==null?void 0:n.in);const u={firstWeekContainsDate:s,weekStartsOn:l,locale:o},f=[new Xz(n==null?void 0:n.in,r)],d=t.match(FG).map(q=>{const D=q[0];if(D in hE){const M=hE[D];return M(q,o.formatLong)}return q}).join("").match(kG),c=[];for(let q of d){!(n!=null&&n.useAdditionalWeekYearTokens)&&mq(q)&&pE(q,t,e),!(n!=null&&n.useAdditionalDayOfYearTokens)&&pq(q)&&pE(q,t,e);const D=q[0],M=MG[D];if(M){const{incompatibleTokens:j}=M;if(Array.isArray(j)){const B=c.find(Y=>j.includes(Y.token)||Y.token===D);if(B)throw new RangeError(`The format string mustn't contain \`${B.fullToken}\` and \`${q}\` at the same time`)}else if(M.incompatibleTokens==="*"&&c.length>0)throw new RangeError(`The format string mustn't contain \`${q}\` and any other token at the same time`);c.push({token:D,fullToken:q});const P=M.run(e,q,o.match,u);if(!P)return i();f.push(P.setter),e=P.rest}else{if(D.match($G))throw new RangeError("Format string contains an unescaped latin alphabet character `"+D+"`");if(q==="''"?q="'":D==="'"&&(q=UG(q)),e.indexOf(q)===0)e=e.slice(q.length);else return i()}}if(e.length>0&&BG.test(e))return i();const p=f.map(q=>q.priority).sort((q,D)=>D-q).filter((q,D,M)=>M.indexOf(q)===D).map(q=>f.filter(D=>D.priority===q).sort((D,M)=>M.subPriority-D.subPriority)).map(q=>q[0]);let b=Et(r,n==null?void 0:n.in);if(isNaN(+b))return i();const v={};for(const q of p){if(!q.validate(b,u))return i();const D=q.set(b,v,u);Array.isArray(D)?(b=D[0],Object.assign(v,D[1])):b=D}return b}function UG(e){return e.match(jG)[1].replace(qG,"'")}function $2(e,t,r){const[n,i]=o0(r==null?void 0:r.in,e,t);return+Ns(n)==+Ns(i)}function vq(e,t,r){return mi(e,-t,r)}function wq(e,t,r){const n=Et(e,r==null?void 0:r.in),i=n.getFullYear(),a=n.getDate(),o=Xt(e,0);o.setFullYear(i,t,15),o.setHours(0,0,0,0);const s=zz(o);return n.setMonth(t,Math.min(a,s)),n}function nr(e,t,r){let n=Et(e,r==null?void 0:r.in);return isNaN(+n)?Xt(e,NaN):(t.year!=null&&n.setFullYear(t.year),t.month!=null&&(n=wq(n,t.month)),t.date!=null&&n.setDate(t.date),t.hours!=null&&n.setHours(t.hours),t.minutes!=null&&n.setMinutes(t.minutes),t.seconds!=null&&n.setSeconds(t.seconds),t.milliseconds!=null&&n.setMilliseconds(t.milliseconds),n)}function VG(e,t,r){const n=Et(e,r==null?void 0:r.in);return n.setHours(t),n}function Sq(e,t,r){const n=Et(e,r==null?void 0:r.in);return n.setMilliseconds(t),n}function HG(e,t,r){const n=Et(e,r==null?void 0:r.in);return n.setMinutes(t),n}function Eq(e,t,r){const n=Et(e,r==null?void 0:r.in);return n.setSeconds(t),n}function pa(e,t,r){const n=Et(e,r==null?void 0:r.in);return isNaN(+n)?Xt(e,NaN):(n.setFullYear(t),n)}function Lu(e,t,r){return $i(e,-t,r)}function zG(e,t,r){const{years:n=0,months:i=0,weeks:a=0,days:o=0,hours:s=0,minutes:l=0,seconds:u=0}=t,f=Lu(e,i+n*12,r),d=vq(f,o+a*7,r),c=l+s*60,b=(u+c*60)*1e3;return Xt(e,+d-b)}function Tq(e,t,r){return aT(e,-t,r)}function Ju(){const e=lj();return Ze(),et("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img",...e},[_t("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),_t("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),_t("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),_t("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}Ju.compatConfig={MODE:3};function xq(){return Ze(),et("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[_t("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),_t("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}xq.compatConfig={MODE:3};function cT(){return Ze(),et("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[_t("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}cT.compatConfig={MODE:3};function dT(){return Ze(),et("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[_t("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}dT.compatConfig={MODE:3};function hT(){return Ze(),et("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[_t("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),_t("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}hT.compatConfig={MODE:3};function pT(){return Ze(),et("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[_t("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}pT.compatConfig={MODE:3};function mT(){return Ze(),et("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[_t("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}mT.compatConfig={MODE:3};const zn=(e,t)=>t?new Date(e.toLocaleString("en-US",{timeZone:t})):new Date(e),yT=(e,t,r)=>yE(e,t,r)||st(),GG=(e,t,r)=>{const n=t.dateInTz?zn(new Date(e),t.dateInTz):st(e);return r?dn(n,!0):n},yE=(e,t,r)=>{if(!e)return null;const n=r?dn(st(e),!0):st(e);return t?t.exactMatch?GG(e,t,r):zn(n,t.timezone):n},WG=e=>{const t=new Date(e.getFullYear(),0,1).getTimezoneOffset();return e.getTimezoneOffset()<t},KG=(e,t)=>{if(!e)return 0;const r=new Date,n=new Date(r.toLocaleString("en-US",{timeZone:"UTC"})),i=new Date(r.toLocaleString("en-US",{timeZone:e})),a=(WG(t??i)?i:t??i).getTimezoneOffset()/60;return(+n-+i)/(1e3*60*60)-a};var Mi=(e=>(e.month="month",e.year="year",e))(Mi||{}),ki=(e=>(e.top="top",e.bottom="bottom",e))(ki||{}),Ms=(e=>(e.header="header",e.calendar="calendar",e.timePicker="timePicker",e))(Ms||{}),yn=(e=>(e.month="month",e.year="year",e.calendar="calendar",e.time="time",e.minutes="minutes",e.hours="hours",e.seconds="seconds",e))(yn||{});const QG=["timestamp","date","iso"];var An=(e=>(e.up="up",e.down="down",e.left="left",e.right="right",e))(An||{}),cr=(e=>(e.arrowUp="ArrowUp",e.arrowDown="ArrowDown",e.arrowLeft="ArrowLeft",e.arrowRight="ArrowRight",e.enter="Enter",e.space=" ",e.esc="Escape",e.tab="Tab",e.home="Home",e.end="End",e.pageUp="PageUp",e.pageDown="PageDown",e))(cr||{}),Au=(e=>(e.MONTH_AND_YEAR="MM-yyyy",e.YEAR="yyyy",e.DATE="dd-MM-yyyy",e))(Au||{});function U2(e){return t=>new Intl.DateTimeFormat(e,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${t}T00:00:00+00:00`)).slice(0,2)}function ZG(e){return t=>ya(zn(new Date(`2017-01-0${t}T00:00:00+00:00`),"UTC"),"EEEEEE",{locale:e})}const YG=(e,t,r)=>{const n=[1,2,3,4,5,6,7];let i;if(e!==null)try{i=n.map(ZG(e))}catch{i=n.map(U2(t))}else i=n.map(U2(t));const a=i.slice(0,r),o=i.slice(r+1,i.length);return[i[r]].concat(...o).concat(...a)},gT=(e,t,r)=>{const n=[];for(let i=+e[0];i<=+e[1];i++)n.push({value:+i,text:Pq(i,t)});return r?n.reverse():n},Rq=(e,t,r)=>{const n=[1,2,3,4,5,6,7,8,9,10,11,12].map(a=>{const o=a<10?`0${a}`:a;return new Date(`2017-${o}-01T00:00:00+00:00`)});if(e!==null)try{const a=r==="long"?"LLLL":"LLL";return n.map((o,s)=>{const l=ya(zn(o,"UTC"),a,{locale:e});return{text:l.charAt(0).toUpperCase()+l.substring(1),value:s}})}catch{}const i=new Intl.DateTimeFormat(t,{month:r,timeZone:"UTC"});return n.map((a,o)=>{const s=i.format(a);return{text:s.charAt(0).toUpperCase()+s.substring(1),value:o}})},XG=e=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][e],Zr=e=>{const t=Fe(e);return t!=null&&t.$el?t==null?void 0:t.$el:t},JG=e=>({type:"dot",...e??{}}),Aq=e=>Array.isArray(e)?!!e[0]&&!!e[1]:!1,_T={prop:e=>`"${e}" prop must be enabled!`,dateArr:e=>`You need to use array as "model-value" binding in order to support "${e}"`},en=e=>e,V2=e=>e===0?e:!e||isNaN(+e)?null:+e,H2=e=>e===null,Iq=e=>{if(e)return[...e.querySelectorAll("input, button, select, textarea, a[href]")][0]},eW=e=>{const t=[],r=n=>n.filter(i=>i);for(let n=0;n<e.length;n+=3){const i=[e[n],e[n+1],e[n+2]];t.push(r(i))}return t},Hp=(e,t,r)=>{const n=r!=null,i=t!=null;if(!n&&!i)return!1;const a=+r,o=+t;return n&&i?+e>a||+e<o:n?+e>a:i?+e<o:!1},Mu=(e,t)=>eW(e).map(r=>r.map(n=>{const{active:i,disabled:a,isBetween:o,highlighted:s}=t(n);return{...n,active:i,disabled:a,className:{dp__overlay_cell_active:i,dp__overlay_cell:!i,dp__overlay_cell_disabled:a,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:a&&i,dp__cell_in_between:o,"dp--highlighted":s}}})),Io=(e,t,r=!1)=>{e&&t.allowStopPropagation&&(r&&e.stopImmediatePropagation(),e.stopPropagation())},tW=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function rW(e,t){let r=[...document.querySelectorAll(tW())];r=r.filter(i=>!e.contains(i)||i.hasAttribute("data-datepicker-instance"));const n=r.indexOf(e);if(n>=0&&(t?n-1>=0:n+1<=r.length))return r[n+(t?-1:1)]}const gE=(e,t)=>e==null?void 0:e.querySelector(`[data-dp-element="${t}"]`),Pq=(e,t)=>new Intl.NumberFormat(t,{useGrouping:!1,style:"decimal"}).format(e),bT=(e,t)=>ya(e,t??Au.DATE),u_=e=>Array.isArray(e),_y=(e,t,r)=>t.get(bT(e,r)),nW=(e,t)=>e?t?t instanceof Map?!!_y(e,t):t(st(e)):!1:!0,Ln=(e,t,r=!1,n)=>{if(e.key===cr.enter||e.key===cr.space)return r&&e.preventDefault(),t();if(n)return n(e)},iW=()=>"ontouchstart"in window||navigator.maxTouchPoints>0,aW=(e,t)=>e?Au.MONTH_AND_YEAR:t?Au.YEAR:Au.DATE,Oq=e=>e<10?`0${e}`:e,z2=(e,t,r,n,i,a)=>{const o=mE(e,t.slice(0,e.length),new Date,{locale:a});return Rp(o)&&sq(o)?n||i?o:nr(o,{hours:+r.hours,minutes:+(r==null?void 0:r.minutes),seconds:+(r==null?void 0:r.seconds),milliseconds:0}):null},oW=(e,t,r,n,i,a)=>{const o=Array.isArray(r)?r[0]:r;if(typeof t=="string")return z2(e,t,o,n,i,a);if(Array.isArray(t)){let s=null;for(const l of t)if(s=z2(e,l,o,n,i,a),s)break;return s}return typeof t=="function"?t(e):null},st=e=>e?new Date(e):new Date,sW=(e,t,r)=>{if(t){const i=(e.getMonth()+1).toString().padStart(2,"0"),a=e.getDate().toString().padStart(2,"0"),o=e.getHours().toString().padStart(2,"0"),s=e.getMinutes().toString().padStart(2,"0"),l=r?e.getSeconds().toString().padStart(2,"0"):"00";return`${e.getFullYear()}-${i}-${a}T${o}:${s}:${l}.000Z`}const n=Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds());return new Date(n).toISOString()},dn=(e,t)=>{const r=st(JSON.parse(JSON.stringify(e))),n=nr(r,{hours:0,minutes:0,seconds:0,milliseconds:0});return t?XH(n):n},Po=(e,t,r,n)=>{let i=e?st(e):st();return(t||t===0)&&(i=VG(i,+t)),(r||r===0)&&(i=HG(i,+r)),(n||n===0)&&(i=Eq(i,+n)),Sq(i,0)},Rr=(e,t)=>!e||!t?!1:Cu(dn(e),dn(t)),qt=(e,t)=>!e||!t?!1:vu(dn(e),dn(t)),Mr=(e,t)=>!e||!t?!1:js(dn(e),dn(t)),zp=(e,t,r)=>e!=null&&e[0]&&e!=null&&e[1]?Mr(r,e[0])&&Rr(r,e[1]):e!=null&&e[0]&&t?Mr(r,e[0])&&Rr(r,t)||Rr(r,e[0])&&Mr(r,t):!1,Fi=e=>{const t=nr(new Date(e),{date:1});return dn(t)},l_=(e,t,r)=>t&&(r||r===0)?Object.fromEntries(["hours","minutes","seconds"].map(n=>n===t?[n,r]:[n,isNaN(+e[n])?void 0:+e[n]])):{hours:isNaN(+e.hours)?void 0:+e.hours,minutes:isNaN(+e.minutes)?void 0:+e.minutes,seconds:isNaN(+e.seconds)?void 0:+e.seconds},ks=e=>({hours:Ga(e),minutes:Do(e),seconds:Du(e)}),Nq=(e,t)=>{if(t){const r=At(st(t));if(r>e)return 12;if(r===e)return jt(st(t))}},Dq=(e,t)=>{if(t){const r=At(st(t));return r<e?-1:r===e?jt(st(t)):void 0}},ku=e=>{if(e)return At(st(e))},Cq=(e,t)=>{const r=Mr(e,t)?t:e,n=Mr(t,e)?t:e;return lq({start:r,end:n})},uW=e=>{const t=$i(e,1);return{month:jt(t),year:At(t)}},qa=(e,t)=>{const r=Vi(e,{weekStartsOn:+t}),n=cq(e,{weekStartsOn:+t});return[r,n]},Lq=(e,t)=>{const r={hours:Ga(st()),minutes:Do(st()),seconds:t?Du(st()):0};return Object.assign(r,e)},To=(e,t,r)=>[nr(st(e),{date:1}),nr(st(),{month:t,year:r,date:1})],Ua=(e,t,r)=>{let n=e?st(e):st();return(t||t===0)&&(n=wq(n,t)),r&&(n=pa(n,r)),n},Mq=(e,t,r,n,i)=>{if(!n||i&&!t||!i&&!r)return!1;const a=i?$i(e,1):Lu(e,1),o=[jt(a),At(a)];return i?!fW(...o,t):!lW(...o,r)},lW=(e,t,r)=>Rr(...To(r,e,t))||qt(...To(r,e,t)),fW=(e,t,r)=>Mr(...To(r,e,t))||qt(...To(r,e,t)),kq=(e,t,r,n,i,a,o)=>{if(typeof t=="function"&&!o)return t(e);const s=r?{locale:r}:void 0;return Array.isArray(e)?`${ya(e[0],a,s)}${i&&!e[1]?"":n}${e[1]?ya(e[1],a,s):""}`:ya(e,a,s)},lu=e=>{if(e)return null;throw new Error(_T.prop("partial-range"))},im=(e,t)=>{if(t)return e();throw new Error(_T.prop("range"))},_E=e=>Array.isArray(e)?Rp(e[0])&&(e[1]?Rp(e[1]):!0):e?Rp(e):!1,cW=(e,t)=>nr(t??st(),{hours:+e.hours||0,minutes:+e.minutes||0,seconds:+e.seconds||0}),f_=(e,t,r,n)=>{if(!e)return!0;if(n){const i=r==="max"?Cu(e,t):js(e,t),a={seconds:0,milliseconds:0};return i||vu(nr(e,a),nr(t,a))}return r==="max"?e.getTime()<=t.getTime():e.getTime()>=t.getTime()},c_=(e,t,r)=>e?cW(e,t):st(r??t),G2=(e,t,r,n,i)=>{if(Array.isArray(n)){const o=c_(e,n[0],t),s=c_(e,n[1],t);return f_(n[0],o,r,!!t)&&f_(n[1],s,r,!!t)&&i}const a=c_(e,n,t);return f_(n,a,r,!!t)&&i},d_=e=>nr(st(),ks(e)),dW=(e,t,r)=>{if(e instanceof Map){const n=`${Oq(r+1)}-${t}`;return e.size?e.has(n):!1}return!1},hW=(e,t,r)=>{if(e instanceof Map){const n=`${Oq(r+1)}-${t}`;return e.size?e.has(n):!0}return!0},Fq=(e,t,r)=>typeof e=="function"?e({month:t,year:r}):!!e.months.find(n=>n.month===t&&n.year===r),vT=(e,t)=>typeof e=="function"?e(t):e.years.includes(t),bE=e=>`dp-${ya(e,"yyyy-MM-dd")}`,W2=(e,t)=>{const r=vq(dn(t),e),n=mi(dn(t),e);return{before:r,after:n}},kl=Za({menuFocused:!1,shiftKeyInMenu:!1}),jq=()=>{const e=r=>{kl.menuFocused=r},t=r=>{kl.shiftKeyInMenu!==r&&(kl.shiftKeyInMenu=r)};return{control:tt(()=>({shiftKeyInMenu:kl.shiftKeyInMenu,menuFocused:kl.menuFocused})),setMenuFocused:e,setShiftKey:t}},fr=Za({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),h_=Je(null),am=Je(!1),p_=Je(!1),m_=Je(!1),y_=Je(!1),hn=Je(0),Cr=Je(0),$o=()=>{const e=tt(()=>am.value?[...fr.selectionGrid,fr.actionRow].filter(d=>d.length):p_.value?[...fr.timePicker[0],...fr.timePicker[1],y_.value?[]:[h_.value],fr.actionRow].filter(d=>d.length):m_.value?[...fr.monthPicker,fr.actionRow]:[fr.monthYear,...fr.calendar,fr.time,fr.actionRow].filter(d=>d.length)),t=d=>{hn.value=d?hn.value+1:hn.value-1;let c=null;e.value[Cr.value]&&(c=e.value[Cr.value][hn.value]),!c&&e.value[Cr.value+(d?1:-1)]?(Cr.value=Cr.value+(d?1:-1),hn.value=d?0:e.value[Cr.value].length-1):c||(hn.value=d?hn.value-1:hn.value+1)},r=d=>{Cr.value===0&&!d||Cr.value===e.value.length&&d||(Cr.value=d?Cr.value+1:Cr.value-1,e.value[Cr.value]?e.value[Cr.value]&&!e.value[Cr.value][hn.value]&&hn.value!==0&&(hn.value=e.value[Cr.value].length-1):Cr.value=d?Cr.value-1:Cr.value+1)},n=d=>{let c=null;e.value[Cr.value]&&(c=e.value[Cr.value][hn.value]),c?c.focus({preventScroll:!am.value}):hn.value=d?hn.value-1:hn.value+1},i=()=>{t(!0),n(!0)},a=()=>{t(!1),n(!1)},o=()=>{r(!1),n(!0)},s=()=>{r(!0),n(!0)},l=(d,c)=>{fr[c]=d},u=(d,c)=>{fr[c]=d},f=()=>{hn.value=0,Cr.value=0};return{buildMatrix:l,buildMultiLevelMatrix:u,setTimePickerBackRef:d=>{h_.value=d},setSelectionGrid:d=>{am.value=d,f(),d||(fr.selectionGrid=[])},setTimePicker:(d,c=!1)=>{p_.value=d,y_.value=c,f(),d||(fr.timePicker[0]=[],fr.timePicker[1]=[])},setTimePickerElements:(d,c=0)=>{fr.timePicker[c]=d},arrowRight:i,arrowLeft:a,arrowUp:o,arrowDown:s,clearArrowNav:()=>{fr.monthYear=[],fr.calendar=[],fr.time=[],fr.actionRow=[],fr.selectionGrid=[],fr.timePicker[0]=[],fr.timePicker[1]=[],am.value=!1,p_.value=!1,y_.value=!1,m_.value=!1,f(),h_.value=null},setMonthPicker:d=>{m_.value=d,f()},refSets:fr}},K2=e=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...e??{}}),pW=e=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:t=>`Increment ${t}`,decrementValue:t=>`Decrement ${t}`,openTpOverlay:t=>`Open ${t} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:void 0,weekDay:void 0,clearInput:"Clear value",calendarIcon:"Calendar icon",timePicker:"Time picker",monthPicker:t=>`Month picker${t?" overlay":""}`,yearPicker:t=>`Year picker${t?" overlay":""}`,timeOverlay:t=>`${t} overlay`,...e??{}}),Q2=e=>e?typeof e=="boolean"?e?2:0:+e>=2?+e:2:0,mW=e=>{const t=typeof e=="object"&&e,r={static:!0,solo:!1};if(!e)return{...r,count:Q2(!1)};const n=t?e:{},i=t?n.count??!0:e,a=Q2(i);return Object.assign(r,n,{count:a})},yW=(e,t,r)=>e||(typeof r=="string"?r:t),gW=e=>typeof e=="boolean"?e?K2({}):!1:K2(e),_W=e=>{const t={enterSubmit:!0,tabSubmit:!0,openMenu:"open",selectOnFocus:!1,rangeSeparator:" - ",escClose:!0};return typeof e=="object"?{...t,...e??{},enabled:!0}:{...t,enabled:e}},bW=e=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...e??{}}),vW=e=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...e??{}}),wW=e=>{const t={input:!1};return typeof e=="object"?{...t,...e??{},enabled:!0}:{enabled:e,...t}},SW=e=>({allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,arrowLeft:void 0,keepViewOnOffsetClick:!1,timeArrowHoldThreshold:0,shadowDom:!1,mobileBreakpoint:600,setDateOnMenuClose:!1,...e??{}}),EW=e=>{const t={dates:Array.isArray(e)?e.map(r=>st(r)):[],years:[],months:[],quarters:[],weeks:[],weekdays:[],options:{highlightDisabled:!1}};return typeof e=="function"?e:{...t,...e??{}}},TW=e=>typeof e=="object"?{type:(e==null?void 0:e.type)??"local",hideOnOffsetDates:(e==null?void 0:e.hideOnOffsetDates)??!1}:{type:e,hideOnOffsetDates:!1},xW=e=>{const t={noDisabledRange:!1,showLastInRange:!0,minMaxRawRange:!1,partialRange:!0,disableTimeRangeValidation:!1,maxRange:void 0,minRange:void 0,autoRange:void 0,fixedStart:!1,fixedEnd:!1};return typeof e=="object"?{enabled:!0,...t,...e}:{enabled:e,...t}},RW=e=>e?typeof e=="string"?{timezone:e,exactMatch:!1,dateInTz:void 0,emitTimezone:void 0,convertModel:!0}:{timezone:e.timezone,exactMatch:e.exactMatch??!1,dateInTz:e.dateInTz??void 0,emitTimezone:e.emitTimezone??void 0,convertModel:e.convertModel??!0}:{timezone:void 0,exactMatch:!1,emitTimezone:void 0},g_=(e,t,r,n)=>new Map(e.map(i=>{const a=yT(i,t,n);return[bT(a,r),a]})),AW=(e,t)=>e.length?new Map(e.map(r=>{const n=yT(r.date,t);return[bT(n,Au.DATE),r]})):null,IW=e=>{var t;const r=aW(e.isMonthPicker,e.isYearPicker);return{minDate:yE(e.minDate,e.timezone,e.isSpecific),maxDate:yE(e.maxDate,e.timezone,e.isSpecific),disabledDates:u_(e.disabledDates)?g_(e.disabledDates,e.timezone,r,e.isSpecific):e.disabledDates,allowedDates:u_(e.allowedDates)?g_(e.allowedDates,e.timezone,r,e.isSpecific):null,highlight:typeof e.highlight=="object"&&u_((t=e.highlight)==null?void 0:t.dates)?g_(e.highlight.dates,e.timezone,r):e.highlight,markers:AW(e.markers,e.timezone)}},PW=e=>typeof e=="boolean"?{enabled:e,dragSelect:!0,limit:null}:{enabled:!!e,limit:e.limit?+e.limit:null,dragSelect:e.dragSelect??!0},OW=e=>({...Object.fromEntries(Object.keys(e).map(t=>{const r=t,n=e[r],i=typeof e[r]=="string"?{[n]:!0}:Object.fromEntries(n.map(a=>[a,!0]));return[t,i]}))}),br=e=>{const t=()=>{const I=e.enableSeconds?":ss":"",N=e.enableMinutes?":mm":"";return e.is24?`HH${N}${I}`:`hh${N}${I} aa`},r=()=>{var I;return e.format?e.format:e.monthPicker?"MM/yyyy":e.timePicker?t():e.weekPicker?`${((I=_.value)==null?void 0:I.type)==="iso"?"II":"ww"}-RR`:e.yearPicker?"yyyy":e.quarterPicker?"QQQ/yyyy":e.enableTimePicker?`MM/dd/yyyy, ${t()}`:"MM/dd/yyyy"},n=I=>Lq(I,e.enableSeconds),i=()=>S.value.enabled?e.startTime&&Array.isArray(e.startTime)?[n(e.startTime[0]),n(e.startTime[1])]:null:e.startTime&&!Array.isArray(e.startTime)?n(e.startTime):null,a=tt(()=>mW(e.multiCalendars)),o=tt(()=>i()),s=tt(()=>pW(e.ariaLabels)),l=tt(()=>bW(e.filters)),u=tt(()=>gW(e.transitions)),f=tt(()=>vW(e.actionRow)),d=tt(()=>yW(e.previewFormat,e.format,r())),c=tt(()=>_W(e.textInput)),p=tt(()=>wW(e.inline)),b=tt(()=>SW(e.config)),v=tt(()=>EW(e.highlight)),_=tt(()=>TW(e.weekNumbers)),y=tt(()=>RW(e.timezone)),m=tt(()=>PW(e.multiDates)),g=tt(()=>IW({minDate:e.minDate,maxDate:e.maxDate,disabledDates:e.disabledDates,allowedDates:e.allowedDates,highlight:v.value,markers:e.markers,timezone:y.value,isSpecific:e.monthPicker||e.yearPicker||e.quarterPicker,isMonthPicker:e.monthPicker,isYearPicker:e.yearPicker})),S=tt(()=>xW(e.range)),x=tt(()=>OW(e.ui));return{defaultedTransitions:u,defaultedMultiCalendars:a,defaultedStartTime:o,defaultedAriaLabels:s,defaultedFilters:l,defaultedActionRow:f,defaultedPreviewFormat:d,defaultedTextInput:c,defaultedInline:p,defaultedConfig:b,defaultedHighlight:v,defaultedWeekNumbers:_,defaultedRange:S,propDates:g,defaultedTz:y,defaultedMultiDates:m,defaultedUI:x,getDefaultPattern:r,getDefaultStartTime:i}},NW=(e,t,r)=>{const n=Je(),{defaultedTextInput:i,defaultedRange:a,defaultedTz:o,defaultedMultiDates:s,getDefaultPattern:l}=br(t),u=Je(""),f=Mp(t,"format"),d=Mp(t,"formatLocale");Xr(n,()=>{typeof t.onInternalModelChange=="function"&&e("internal-model-change",n.value,O(!0))},{deep:!0}),Xr(a,(A,$)=>{A.enabled!==$.enabled&&(n.value=null)}),Xr(f,()=>{ae()});const c=A=>o.value.timezone&&o.value.convertModel?zn(A,o.value.timezone):A,p=A=>{if(o.value.timezone&&o.value.convertModel){const $=KG(o.value.timezone,A);return zH(A,$)}return A},b=(A,$,te=!1)=>kq(A,t.format,t.formatLocale,i.value.rangeSeparator,t.modelAuto,$??l(),te),v=A=>A?t.modelType?H(A):{hours:Ga(A),minutes:Do(A),seconds:t.enableSeconds?Du(A):0}:null,_=A=>t.modelType?H(A):{month:jt(A),year:At(A)},y=A=>Array.isArray(A)?s.value.enabled?A.map($=>m($,pa(st(),$))):im(()=>[pa(st(),A[0]),A[1]?pa(st(),A[1]):lu(a.value.partialRange)],a.value.enabled):pa(st(),+A),m=(A,$)=>(typeof A=="string"||typeof A=="number")&&t.modelType?ne(A):$,g=A=>Array.isArray(A)?[m(A[0],Po(null,+A[0].hours,+A[0].minutes,A[0].seconds)),m(A[1],Po(null,+A[1].hours,+A[1].minutes,A[1].seconds))]:m(A,Po(null,A.hours,A.minutes,A.seconds)),S=A=>{const $=nr(st(),{date:1});return Array.isArray(A)?s.value.enabled?A.map(te=>m(te,Ua($,+te.month,+te.year))):im(()=>[m(A[0],Ua($,+A[0].month,+A[0].year)),m(A[1],A[1]?Ua($,+A[1].month,+A[1].year):lu(a.value.partialRange))],a.value.enabled):m(A,Ua($,+A.month,+A.year))},x=A=>{if(Array.isArray(A))return A.map($=>ne($));throw new Error(_T.dateArr("multi-dates"))},I=A=>{if(Array.isArray(A)&&a.value.enabled){const $=A[0],te=A[1];return[st(Array.isArray($)?$[0]:null),Array.isArray(te)&&te.length?st(te[0]):null]}return st(A[0])},N=A=>t.modelAuto?Array.isArray(A)?[ne(A[0]),ne(A[1])]:t.autoApply?[ne(A)]:[ne(A),null]:Array.isArray(A)?im(()=>A[1]?[ne(A[0]),A[1]?ne(A[1]):lu(a.value.partialRange)]:[ne(A[0])],a.value.enabled):ne(A),q=()=>{Array.isArray(n.value)&&a.value.enabled&&n.value.length===1&&n.value.push(lu(a.value.partialRange))},D=()=>{const A=n.value;return[H(A[0]),A[1]?H(A[1]):lu(a.value.partialRange)]},M=()=>n.value[1]?D():H(en(n.value[0])),j=()=>(n.value||[]).map(A=>H(A)),P=(A=!1)=>(A||q(),t.modelAuto?M():s.value.enabled?j():Array.isArray(n.value)?im(()=>D(),a.value.enabled):H(en(n.value))),B=A=>!A||Array.isArray(A)&&!A.length?null:t.timePicker?g(en(A)):t.monthPicker?S(en(A)):t.yearPicker?y(en(A)):s.value.enabled?x(en(A)):t.weekPicker?I(en(A)):N(en(A)),Y=A=>{const $=B(A);_E(en($))?(n.value=en($),ae()):(n.value=null,u.value="")},ie=()=>{const A=$=>ya($,i.value.format);return`${A(n.value[0])} ${i.value.rangeSeparator} ${n.value[1]?A(n.value[1]):""}`},X=()=>r.value&&n.value?Array.isArray(n.value)?ie():ya(n.value,i.value.format):b(n.value),le=()=>n.value?s.value.enabled?n.value.map(A=>b(A)).join("; "):i.value.enabled&&typeof i.value.format=="string"?X():b(n.value):"",ae=()=>{!t.format||typeof t.format=="string"||i.value.enabled&&typeof i.value.format=="string"?u.value=le():u.value=t.format(n.value)},ne=A=>{if(t.utc){const $=new Date(A);return t.utc==="preserve"?new Date($.getTime()+$.getTimezoneOffset()*6e4):$}return t.modelType?QG.includes(t.modelType)?c(new Date(A)):t.modelType==="format"&&(typeof t.format=="string"||!t.format)?c(mE(A,l(),new Date,{locale:d.value})):c(mE(A,t.modelType,new Date,{locale:d.value})):c(new Date(A))},H=A=>A?t.utc?sW(A,t.utc==="preserve",t.enableSeconds):t.modelType?t.modelType==="timestamp"?+p(A):t.modelType==="iso"?p(A).toISOString():t.modelType==="format"&&(typeof t.format=="string"||!t.format)?b(p(A)):b(p(A),t.modelType,!0):p(A):"",oe=(A,$=!1,te=!1)=>{if(te)return A;if(e("update:model-value",A),o.value.emitTimezone&&$){const pe=Array.isArray(A)?A.map(R=>zn(en(R),o.value.emitTimezone)):zn(en(A),o.value.emitTimezone);e("update:model-timezone-value",pe)}},he=A=>Array.isArray(n.value)?s.value.enabled?n.value.map($=>A($)):[A(n.value[0]),n.value[1]?A(n.value[1]):lu(a.value.partialRange)]:A(en(n.value)),Z=()=>{if(Array.isArray(n.value)){const A=qa(n.value[0],t.weekStart),$=n.value[1]?qa(n.value[1],t.weekStart):[];return[A.map(te=>st(te)),$.map(te=>st(te))]}return qa(n.value,t.weekStart).map(A=>st(A))},Q=(A,$)=>oe(en(he(A)),!1,$),ee=A=>{const $=Z();return A?$:e("update:model-value",Z())},O=(A=!1)=>(A||ae(),t.monthPicker?Q(_,A):t.timePicker?Q(v,A):t.yearPicker?Q(At,A):t.weekPicker?ee(A):oe(P(A),!0,A));return{inputValue:u,internalModelValue:n,checkBeforeEmit:()=>n.value?a.value.enabled?a.value.partialRange?n.value.length>=1:n.value.length===2:!!n.value:!1,parseExternalModelValue:Y,formatInputValue:ae,emitModelValue:O}},DW=(e,t)=>{const{defaultedFilters:r,propDates:n}=br(e),{validateMonthYearInRange:i}=Uo(e),a=(f,d)=>{let c=f;return r.value.months.includes(jt(c))?(c=d?$i(f,1):Lu(f,1),a(c,d)):c},o=(f,d)=>{let c=f;return r.value.years.includes(At(c))?(c=d?aT(f,1):Tq(f,1),o(c,d)):c},s=(f,d=!1)=>{const c=nr(st(),{month:e.month,year:e.year});let p=f?$i(c,1):Lu(c,1);e.disableYearSelect&&(p=pa(p,e.year));let b=jt(p),v=At(p);r.value.months.includes(b)&&(p=a(p,f),b=jt(p),v=At(p)),r.value.years.includes(v)&&(p=o(p,f),v=At(p)),i(b,v,f,e.preventMinMaxNavigation)&&l(b,v,d)},l=(f,d,c)=>{t("update-month-year",{month:f,year:d,fromNav:c})},u=tt(()=>f=>Mq(nr(st(),{month:e.month,year:e.year}),n.value.maxDate,n.value.minDate,e.preventMinMaxNavigation,f));return{handleMonthYearChange:s,isDisabled:u,updateMonthYear:l}},By={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:[Boolean,String],default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:[String,Object],default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},highlight:{type:[Function,Object],default:null},teleport:{type:[Boolean,String,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:[Object,Boolean],default:!1},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},alwaysClearable:{type:Boolean,default:!1},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:[Boolean,Object],default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},onInternalModelChange:{type:[Function,Object],default:null},enableMinutes:{type:Boolean,default:!0},ui:{type:Object,default:()=>({})}},Wi={...By,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},menuWrapRef:{type:Object,default:null},getInputRect:{type:Function,default:()=>({})},isTextInputDate:{type:Boolean,default:!1},isMobile:{type:Boolean,default:void 0}},CW=["title"],LW=["disabled"],MW=zt({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...Wi},emits:["close-picker","select-date","select-now","invalid-select"],setup(e,{emit:t}){const r=t,n=e,{defaultedActionRow:i,defaultedPreviewFormat:a,defaultedMultiCalendars:o,defaultedTextInput:s,defaultedInline:l,defaultedRange:u,defaultedMultiDates:f}=br(n),{isTimeValid:d,isMonthValid:c}=Uo(n),{buildMatrix:p}=$o(),b=Je(null),v=Je(null),_=Je(!1),y=Je({}),m=Je(null),g=Je(null);ir(()=>{n.arrowNavigation&&p([Zr(b),Zr(v)],"actionRow"),S(),window.addEventListener("resize",S)}),Gi(()=>{window.removeEventListener("resize",S)});const S=()=>{_.value=!1,setTimeout(()=>{var Y,ie;const X=(Y=m.value)==null?void 0:Y.getBoundingClientRect(),le=(ie=g.value)==null?void 0:ie.getBoundingClientRect();X&&le&&(y.value.maxWidth=`${le.width-X.width-20}px`),_.value=!0},0)},x=tt(()=>u.value.enabled&&!u.value.partialRange&&n.internalModelValue?n.internalModelValue.length===2:!0),I=tt(()=>!d.value(n.internalModelValue)||!c.value(n.internalModelValue)||!x.value),N=()=>{const Y=a.value;return n.timePicker||n.monthPicker,Y(en(n.internalModelValue))},q=()=>{const Y=n.internalModelValue;return o.value.count>0?`${D(Y[0])} - ${D(Y[1])}`:[D(Y[0]),D(Y[1])]},D=Y=>kq(Y,a.value,n.formatLocale,s.value.rangeSeparator,n.modelAuto,a.value),M=tt(()=>!n.internalModelValue||!n.menuMount?"":typeof a.value=="string"?Array.isArray(n.internalModelValue)?n.internalModelValue.length===2&&n.internalModelValue[1]?q():f.value.enabled?n.internalModelValue.map(Y=>`${D(Y)}`):n.modelAuto?`${D(n.internalModelValue[0])}`:`${D(n.internalModelValue[0])} -`:D(n.internalModelValue):N()),j=()=>f.value.enabled?"; ":" - ",P=tt(()=>Array.isArray(M.value)?M.value.join(j()):M.value),B=()=>{d.value(n.internalModelValue)&&c.value(n.internalModelValue)&&x.value?r("select-date"):r("invalid-select")};return(Y,ie)=>(Ze(),et("div",{ref_key:"actionRowRef",ref:g,class:"dp__action_row"},[Y.$slots["action-row"]?pt(Y.$slots,"action-row",tn(Fr({key:0},{internalModelValue:Y.internalModelValue,disabled:I.value,selectDate:()=>Y.$emit("select-date"),closePicker:()=>Y.$emit("close-picker")}))):(Ze(),et(wt,{key:1},[Fe(i).showPreview?(Ze(),et("div",{key:0,class:"dp__selection_preview",title:P.value,style:kr(y.value)},[Y.$slots["action-preview"]&&_.value?pt(Y.$slots,"action-preview",{key:0,value:Y.internalModelValue}):rt("",!0),!Y.$slots["action-preview"]&&_.value?(Ze(),et(wt,{key:1},[Si(Gt(P.value),1)],64)):rt("",!0)],12,CW)):rt("",!0),_t("div",{ref_key:"actionBtnContainer",ref:m,class:"dp__action_buttons","data-dp-element":"action-row"},[Y.$slots["action-buttons"]?pt(Y.$slots,"action-buttons",{key:0,value:Y.internalModelValue}):rt("",!0),Y.$slots["action-buttons"]?rt("",!0):(Ze(),et(wt,{key:1},[!Fe(l).enabled&&Fe(i).showCancel?(Ze(),et("button",{key:0,ref_key:"cancelButtonRef",ref:b,type:"button",class:"dp__action_button dp__action_cancel",onClick:ie[0]||(ie[0]=X=>Y.$emit("close-picker")),onKeydown:ie[1]||(ie[1]=X=>Fe(Ln)(X,()=>Y.$emit("close-picker")))},Gt(Y.cancelText),545)):rt("",!0),Fe(i).showNow?(Ze(),et("button",{key:1,type:"button",class:"dp__action_button dp__action_cancel",onClick:ie[2]||(ie[2]=X=>Y.$emit("select-now")),onKeydown:ie[3]||(ie[3]=X=>Fe(Ln)(X,()=>Y.$emit("select-now")))},Gt(Y.nowButtonLabel),33)):rt("",!0),Fe(i).showSelect?(Ze(),et("button",{key:2,ref_key:"selectButtonRef",ref:v,type:"button",class:"dp__action_button dp__action_select",disabled:I.value,"data-test-id":"select-button",onKeydown:ie[4]||(ie[4]=X=>Fe(Ln)(X,()=>B())),onClick:B},Gt(Y.selectText),41,LW)):rt("",!0)],64))],512)],64))],512))}}),kW=["role","aria-label","tabindex"],FW={class:"dp__selection_grid_header"},jW=["aria-selected","aria-disabled","data-test-id","onClick","onKeydown","onMouseover"],qW=["aria-label"],s0=zt({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{},menuWrapRef:{},ariaLabels:{},overlayLabel:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(e,{expose:t,emit:r}){const{setSelectionGrid:n,buildMultiLevelMatrix:i,setMonthPicker:a}=$o(),o=r,s=e,{defaultedAriaLabels:l,defaultedTextInput:u,defaultedConfig:f}=br(s),{hideNavigationButtons:d}=Vy(),c=Je(!1),p=Je(null),b=Je(null),v=Je([]),_=Je(),y=Je(null),m=Je(0),g=Je(null);nj(()=>{p.value=null}),ir(()=>{Ar().then(()=>j()),s.noOverlayFocus||x(),S(!0)}),Gi(()=>S(!1));const S=he=>{var Z;s.arrowNavigation&&((Z=s.headerRefs)!=null&&Z.length?a(he):n(he))},x=()=>{var he;const Z=Zr(b);Z&&(u.value.enabled||(p.value?(he=p.value)==null||he.focus({preventScroll:!0}):Z.focus({preventScroll:!0})),c.value=Z.clientHeight<Z.scrollHeight)},I=tt(()=>({dp__overlay:!0,"dp--overlay-absolute":!s.useRelative,"dp--overlay-relative":s.useRelative})),N=tt(()=>s.useRelative?{height:`${s.height}px`,width:"var(--dp-menu-min-width)"}:void 0),q=tt(()=>({dp__overlay_col:!0})),D=tt(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:c.value,dp__button_bottom:s.isLast})),M=tt(()=>{var he,Z;return{dp__overlay_container:!0,dp__container_flex:((he=s.items)==null?void 0:he.length)<=6,dp__container_block:((Z=s.items)==null?void 0:Z.length)>6}});Xr(()=>s.items,()=>j(!1),{deep:!0});const j=(he=!0)=>{Ar().then(()=>{const Z=Zr(p),Q=Zr(b),ee=Zr(y),O=Zr(g),A=ee?ee.getBoundingClientRect().height:0;Q&&(Q.getBoundingClientRect().height?m.value=Q.getBoundingClientRect().height-A:m.value=f.value.modeHeight-A),Z&&O&&he&&(O.scrollTop=Z.offsetTop-O.offsetTop-(m.value/2-Z.getBoundingClientRect().height)-A)})},P=he=>{he.disabled||o("selected",he.value)},B=()=>{o("toggle"),o("reset-flow")},Y=()=>{s.escClose&&B()},ie=(he,Z,Q,ee)=>{he&&((Z.active||Z.value===s.focusValue)&&(p.value=he),s.arrowNavigation&&(Array.isArray(v.value[Q])?v.value[Q][ee]=he:v.value[Q]=[he],X()))},X=()=>{var he,Z;const Q=(he=s.headerRefs)!=null&&he.length?[s.headerRefs].concat(v.value):v.value.concat([s.skipButtonRef?[]:[y.value]]);i(en(Q),(Z=s.headerRefs)!=null&&Z.length?"monthPicker":"selectionGrid")},le=he=>{s.arrowNavigation||Io(he,f.value,!0)},ae=he=>{_.value=he,o("hover-value",he)},ne=()=>{if(B(),!s.isLast){const he=gE(s.menuWrapRef??null,"action-row");if(he){const Z=Iq(he);Z==null||Z.focus()}}},H=he=>{switch(he.key){case cr.esc:return Y();case cr.arrowLeft:return le(he);case cr.arrowRight:return le(he);case cr.arrowUp:return le(he);case cr.arrowDown:return le(he);default:return}},oe=he=>{if(he.key===cr.enter)return B();if(he.key===cr.tab)return ne()};return t({focusGrid:x}),(he,Z)=>{var Q;return Ze(),et("div",{ref_key:"gridWrapRef",ref:b,class:vt(I.value),style:kr(N.value),role:he.useRelative?void 0:"dialog","aria-label":he.overlayLabel,tabindex:he.useRelative?void 0:"0",onKeydown:H,onClick:Z[0]||(Z[0]=Up(()=>{},["prevent"]))},[_t("div",{ref_key:"containerRef",ref:g,class:vt(M.value),style:kr({"--dp-overlay-height":`${m.value}px`}),role:"grid"},[_t("div",FW,[pt(he.$slots,"header")]),he.$slots.overlay?pt(he.$slots,"overlay",{key:0}):(Ze(!0),et(wt,{key:1},pr(he.items,(ee,O)=>(Ze(),et("div",{key:O,class:vt(["dp__overlay_row",{dp__flex_row:he.items.length>=3}]),role:"row"},[(Ze(!0),et(wt,null,pr(ee,(A,$)=>(Ze(),et("div",{key:A.value,ref_for:!0,ref:te=>ie(te,A,O,$),role:"gridcell",class:vt(q.value),"aria-selected":A.active||void 0,"aria-disabled":A.disabled||void 0,tabindex:"0","data-test-id":A.text,onClick:Up(te=>P(A),["prevent"]),onKeydown:te=>Fe(Ln)(te,()=>P(A),!0),onMouseover:te=>ae(A.value)},[_t("div",{class:vt(A.className)},[he.$slots.item?pt(he.$slots,"item",{key:0,item:A}):rt("",!0),he.$slots.item?rt("",!0):(Ze(),et(wt,{key:1},[Si(Gt(A.text),1)],64))],2)],42,jW))),128))],2))),128))],6),he.$slots["button-icon"]?Ao((Ze(),et("button",{key:0,ref_key:"toggleButton",ref:y,type:"button","aria-label":(Q=Fe(l))==null?void 0:Q.toggleOverlay,class:vt(D.value),tabindex:"0",onClick:B,onKeydown:oe},[pt(he.$slots,"button-icon")],42,qW)),[[ty,!Fe(d)(he.hideNavigation,he.type)]]):rt("",!0)],46,kW)}}}),BW=["data-dp-mobile"],$y=zt({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean},collapse:{type:Boolean},isMobile:{type:Boolean}},setup(e){const t=e,r=tt(()=>t.multiCalendars>0?[...Array(t.multiCalendars).keys()]:[0]),n=tt(()=>({dp__instance_calendar:t.multiCalendars>0}));return(i,a)=>(Ze(),et("div",{class:vt({dp__menu_inner:!i.stretch,"dp--menu--inner-stretched":i.stretch,dp__flex_display:i.multiCalendars>0,"dp--flex-display-collapsed":i.collapse}),"data-dp-mobile":i.isMobile},[(Ze(!0),et(wt,null,pr(r.value,(o,s)=>(Ze(),et("div",{key:o,class:vt(n.value)},[pt(i.$slots,"default",{instance:o,index:s})],2))),128))],10,BW))}}),$W=["data-dp-element","aria-label","aria-disabled"],Ap=zt({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},elName:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(e,{emit:t}){const r=t,n=Je(null);return ir(()=>r("set-ref",n)),(i,a)=>(Ze(),et("button",{ref_key:"elRef",ref:n,type:"button","data-dp-element":i.elName,class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":i.ariaLabel,"aria-disabled":i.disabled||void 0,onClick:a[0]||(a[0]=o=>i.$emit("activate")),onKeydown:a[1]||(a[1]=o=>Fe(Ln)(o,()=>i.$emit("activate"),!0))},[_t("span",{class:vt(["dp__inner_nav",{dp__inner_nav_disabled:i.disabled}])},[pt(i.$slots,"default")],2)],40,$W))}}),UW=["aria-label","data-test-id"],qq=zt({__name:"YearModePicker",props:{...Wi,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(e,{emit:t}){const r=t,n=e,{showRightIcon:i,showLeftIcon:a}=Vy(),{defaultedConfig:o,defaultedMultiCalendars:s,defaultedAriaLabels:l,defaultedTransitions:u,defaultedUI:f}=br(n),{showTransition:d,transitionName:c}=u0(u),p=Je(!1),b=(y=!1,m)=>{p.value=!p.value,r("toggle-year-picker",{flow:y,show:m})},v=y=>{p.value=!1,r("year-select",y)},_=(y=!1)=>{r("handle-year",y)};return(y,m)=>{var g,S,x,I,N;return Ze(),et(wt,null,[_t("div",{class:vt(["dp--year-mode-picker",{"dp--hidden-el":p.value}])},[Fe(a)(Fe(s),e.instance)?(Ze(),Pt(Ap,{key:0,ref:"mpPrevIconRef","aria-label":(g=Fe(l))==null?void 0:g.prevYear,disabled:e.isDisabled(!1),class:vt((S=Fe(f))==null?void 0:S.navBtnPrev),onActivate:m[0]||(m[0]=q=>_(!1))},{default:bt(()=>[y.$slots["arrow-left"]?pt(y.$slots,"arrow-left",{key:0}):rt("",!0),y.$slots["arrow-left"]?rt("",!0):(Ze(),Pt(Fe(cT),{key:1}))]),_:3},8,["aria-label","disabled","class"])):rt("",!0),_t("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":`${e.year}-${(x=Fe(l))==null?void 0:x.openYearsOverlay}`,"data-test-id":`year-mode-btn-${e.instance}`,onClick:m[1]||(m[1]=()=>b(!1)),onKeydown:m[2]||(m[2]=vV(()=>b(!1),["enter"]))},[y.$slots.year?pt(y.$slots,"year",{key:0,year:e.year}):rt("",!0),y.$slots.year?rt("",!0):(Ze(),et(wt,{key:1},[Si(Gt(e.year),1)],64))],40,UW),Fe(i)(Fe(s),e.instance)?(Ze(),Pt(Ap,{key:1,ref:"mpNextIconRef","aria-label":(I=Fe(l))==null?void 0:I.nextYear,disabled:e.isDisabled(!0),class:vt((N=Fe(f))==null?void 0:N.navBtnNext),onActivate:m[3]||(m[3]=q=>_(!0))},{default:bt(()=>[y.$slots["arrow-right"]?pt(y.$slots,"arrow-right",{key:0}):rt("",!0),y.$slots["arrow-right"]?rt("",!0):(Ze(),Pt(Fe(dT),{key:1}))]),_:3},8,["aria-label","disabled","class"])):rt("",!0)],2),kt(Qu,{name:Fe(c)(e.showYearPicker),css:Fe(d)},{default:bt(()=>{var q,D;return[e.showYearPicker?(Ze(),Pt(s0,{key:0,items:e.items,"text-input":y.textInput,"esc-close":y.escClose,config:y.config,"is-last":y.autoApply&&!Fe(o).keepActionRow,"hide-navigation":y.hideNavigation,"aria-labels":y.ariaLabels,"overlay-label":(D=(q=Fe(l))==null?void 0:q.yearPicker)==null?void 0:D.call(q,!0),type:"year",onToggle:b,onSelected:m[4]||(m[4]=M=>v(M))},bn({"button-icon":bt(()=>[y.$slots["calendar-icon"]?pt(y.$slots,"calendar-icon",{key:0}):rt("",!0),y.$slots["calendar-icon"]?rt("",!0):(Ze(),Pt(Fe(Ju),{key:1}))]),_:2},[y.$slots["year-overlay-value"]?{name:"item",fn:bt(({item:M})=>[pt(y.$slots,"year-overlay-value",{text:M.text,value:M.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation","aria-labels","overlay-label"])):rt("",!0)]}),_:3},8,["name","css"])],64)}}}),wT=(e,t,r)=>{if(t.value&&Array.isArray(t.value))if(t.value.some(n=>qt(e,n))){const n=t.value.filter(i=>!qt(i,e));t.value=n.length?n:null}else(r&&+r>t.value.length||!r)&&t.value.push(e);else t.value=[e]},ST=(e,t,r)=>{let n=e.value?e.value.slice():[];return n.length===2&&n[1]!==null&&(n=[]),n.length?(Rr(t,n[0])?n.unshift(t):n[1]=t,r("range-end",t)):(n=[t],r("range-start",t)),n},Uy=(e,t,r,n)=>{e&&(e[0]&&e[1]&&r&&t("auto-apply"),e[0]&&!e[1]&&n&&r&&t("auto-apply"))},Bq=e=>{Array.isArray(e.value)&&e.value.length<=2&&e.range?e.modelValue.value=e.value.map(t=>zn(st(t),e.timezone)):Array.isArray(e.value)||(e.modelValue.value=zn(st(e.value),e.timezone))},$q=(e,t,r,n)=>Array.isArray(t.value)&&(t.value.length===2||t.value.length===1&&n.value.partialRange)?n.value.fixedStart&&(Mr(e,t.value[0])||qt(e,t.value[0]))?[t.value[0],e]:n.value.fixedEnd&&(Rr(e,t.value[1])||qt(e,t.value[1]))?[e,t.value[1]]:(r("invalid-fixed-range",e),t.value):[],Uq=({multiCalendars:e,range:t,highlight:r,propDates:n,calendars:i,modelValue:a,props:o,filters:s,year:l,month:u,emit:f})=>{const d=tt(()=>gT(o.yearRange,o.locale,o.reverseYears)),c=Je([!1]),p=tt(()=>(M,j)=>{const P=nr(Fi(new Date),{month:u.value(M),year:l.value(M)}),B=j?fq(P):Vp(P);return Mq(B,n.value.maxDate,n.value.minDate,o.preventMinMaxNavigation,j)}),b=()=>Array.isArray(a.value)&&e.value.solo&&a.value[1],v=()=>{for(let M=0;M<e.value.count;M++)if(M===0)i.value[M]=i.value[0];else if(M===e.value.count-1&&b())i.value[M]={month:jt(a.value[1]),year:At(a.value[1])};else{const j=nr(st(),i.value[M-1]);i.value[M]={month:jt(j),year:At(aT(j,1))}}},_=M=>{if(!M)return v();const j=nr(st(),i.value[M]);return i.value[0].year=At(Tq(j,e.value.count-1)),v()},y=(M,j)=>{const P=ZH(j,M);return t.value.showLastInRange&&P>1?j:M},m=M=>o.focusStartDate||e.value.solo?M[0]:M[1]?y(M[0],M[1]):M[0],g=()=>{if(a.value){const M=Array.isArray(a.value)?m(a.value):a.value;i.value[0]={month:jt(M),year:At(M)}}},S=()=>{g(),e.value.count&&v()};Xr(a,(M,j)=>{o.isTextInputDate&&JSON.stringify(M??{})!==JSON.stringify(j??{})&&S()}),ir(()=>{S()});const x=(M,j)=>{i.value[j].year=M,f("update-month-year",{instance:j,year:M,month:i.value[j].month}),e.value.count&&!e.value.solo&&_(j)},I=tt(()=>M=>Mu(d.value,j=>{var P;const B=l.value(M)===j.value,Y=Hp(j.value,ku(n.value.minDate),ku(n.value.maxDate))||((P=s.value.years)==null?void 0:P.includes(l.value(M))),ie=vT(r.value,j.value);return{active:B,disabled:Y,highlighted:ie}})),N=(M,j)=>{x(M,j),D(j)},q=(M,j=!1)=>{if(!p.value(M,j)){const P=j?l.value(M)+1:l.value(M)-1;x(P,M)}},D=(M,j=!1,P)=>{j||f("reset-flow"),P!==void 0?c.value[M]=P:c.value[M]=!c.value[M],c.value[M]?f("overlay-toggle",{open:!0,overlay:yn.year}):(f("overlay-closed"),f("overlay-toggle",{open:!1,overlay:yn.year}))};return{isDisabled:p,groupedYears:I,showYearPicker:c,selectYear:x,toggleYearPicker:D,handleYearSelect:N,handleYear:q}},VW=(e,t)=>{const{defaultedMultiCalendars:r,defaultedAriaLabels:n,defaultedTransitions:i,defaultedConfig:a,defaultedRange:o,defaultedHighlight:s,propDates:l,defaultedTz:u,defaultedFilters:f,defaultedMultiDates:d}=br(e),c=()=>{e.isTextInputDate&&S(At(st(e.startDate)),0)},{modelValue:p,year:b,month:v,calendars:_}=l0(e,t,c),y=tt(()=>Rq(e.formatLocale,e.locale,e.monthNameFormat)),m=Je(null),{checkMinMaxRange:g}=Uo(e),{selectYear:S,groupedYears:x,showYearPicker:I,toggleYearPicker:N,handleYearSelect:q,handleYear:D,isDisabled:M}=Uq({modelValue:p,multiCalendars:r,range:o,highlight:s,calendars:_,year:b,propDates:l,month:v,filters:f,props:e,emit:t});ir(()=>{e.startDate&&(p.value&&e.focusStartDate||!p.value)&&S(At(st(e.startDate)),0)});const j=Q=>Q?{month:jt(Q),year:At(Q)}:{month:null,year:null},P=()=>p.value?Array.isArray(p.value)?p.value.map(Q=>j(Q)):j(p.value):j(),B=(Q,ee)=>{const O=_.value[Q],A=P();return Array.isArray(A)?A.some($=>$.year===(O==null?void 0:O.year)&&$.month===ee):(O==null?void 0:O.year)===A.year&&ee===A.month},Y=(Q,ee,O)=>{var A,$;const te=P();return Array.isArray(te)?b.value(ee)===((A=te[O])==null?void 0:A.year)&&Q===(($=te[O])==null?void 0:$.month):!1},ie=(Q,ee)=>{if(o.value.enabled){const O=P();if(Array.isArray(p.value)&&Array.isArray(O)){const A=Y(Q,ee,0)||Y(Q,ee,1),$=Ua(Fi(st()),Q,b.value(ee));return zp(p.value,m.value,$)&&!A}return!1}return!1},X=tt(()=>Q=>Mu(y.value,ee=>{var O;const A=B(Q,ee.value),$=Hp(ee.value,Nq(b.value(Q),l.value.minDate),Dq(b.value(Q),l.value.maxDate))||dW(l.value.disabledDates,b.value(Q),ee.value)||((O=f.value.months)==null?void 0:O.includes(ee.value))||!hW(l.value.allowedDates,b.value(Q),ee.value),te=ie(ee.value,Q),pe=Fq(s.value,ee.value,b.value(Q));return{active:A,disabled:$,isBetween:te,highlighted:pe}})),le=(Q,ee)=>Ua(Fi(st()),Q,b.value(ee)),ae=(Q,ee)=>{const O=p.value?p.value:Fi(new Date);p.value=Ua(O,Q,b.value(ee)),t("auto-apply"),t("update-flow-step")},ne=(Q,ee)=>{const O=le(Q,ee);o.value.fixedEnd||o.value.fixedStart?p.value=$q(O,p,t,o):p.value?g(O,p.value)&&(p.value=ST(p,le(Q,ee),t)):p.value=[le(Q,ee)],Ar().then(()=>{Uy(p.value,t,e.autoApply,e.modelAuto)})},H=(Q,ee)=>{wT(le(Q,ee),p,d.value.limit),t("auto-apply",!0)},oe=(Q,ee)=>(_.value[ee].month=Q,Z(ee,_.value[ee].year,Q),d.value.enabled?H(Q,ee):o.value.enabled?ne(Q,ee):ae(Q,ee)),he=(Q,ee)=>{S(Q,ee),Z(ee,Q,null)},Z=(Q,ee,O)=>{let A=O;if(!A&&A!==0){const $=P();A=Array.isArray($)?$[Q].month:$.month}t("update-month-year",{instance:Q,year:ee,month:A})};return{groupedMonths:X,groupedYears:x,year:b,isDisabled:M,defaultedMultiCalendars:r,defaultedAriaLabels:n,defaultedTransitions:i,defaultedConfig:a,showYearPicker:I,modelValue:p,presetDate:(Q,ee)=>{Bq({value:Q,modelValue:p,range:o.value.enabled,timezone:ee?void 0:u.value.timezone}),t("auto-apply")},setHoverDate:(Q,ee)=>{m.value=le(Q,ee)},selectMonth:oe,selectYear:he,toggleYearPicker:N,handleYearSelect:q,handleYear:D,getModelMonthYear:P}},HW=zt({compatConfig:{MODE:3},__name:"MonthPicker",props:{...Wi},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","update-flow-step","mount","invalid-fixed-range","overlay-toggle"],setup(e,{expose:t,emit:r}){const n=r,i=Us(),a=Xn(i,"yearMode"),o=e;ir(()=>{o.shadow||n("mount",null)});const{groupedMonths:s,groupedYears:l,year:u,isDisabled:f,defaultedMultiCalendars:d,defaultedConfig:c,showYearPicker:p,modelValue:b,presetDate:v,setHoverDate:_,selectMonth:y,selectYear:m,toggleYearPicker:g,handleYearSelect:S,handleYear:x,getModelMonthYear:I}=VW(o,n);return t({getSidebarProps:()=>({modelValue:b,year:u,getModelMonthYear:I,selectMonth:y,selectYear:m,handleYear:x}),presetDate:v,toggleYearPicker:N=>g(0,N)}),(N,q)=>(Ze(),Pt($y,{"multi-calendars":Fe(d).count,collapse:N.collapse,stretch:"","is-mobile":N.isMobile},{default:bt(({instance:D})=>[N.$slots["top-extra"]?pt(N.$slots,"top-extra",{key:0,value:N.internalModelValue}):rt("",!0),N.$slots["month-year"]?pt(N.$slots,"month-year",tn(Fr({key:1},{year:Fe(u),months:Fe(s)(D),years:Fe(l)(D),selectMonth:Fe(y),selectYear:Fe(m),instance:D}))):(Ze(),Pt(s0,{key:2,items:Fe(s)(D),"arrow-navigation":N.arrowNavigation,"is-last":N.autoApply&&!Fe(c).keepActionRow,"esc-close":N.escClose,height:Fe(c).modeHeight,config:N.config,"no-overlay-focus":!!(N.noOverlayFocus||N.textInput),"use-relative":"",type:"month",onSelected:M=>Fe(y)(M,D),onHoverValue:M=>Fe(_)(M,D)},bn({header:bt(()=>[kt(qq,Fr(N.$props,{items:Fe(l)(D),instance:D,"show-year-picker":Fe(p)[D],year:Fe(u)(D),"is-disabled":M=>Fe(f)(D,M),onHandleYear:M=>Fe(x)(D,M),onYearSelect:M=>Fe(S)(M,D),onToggleYearPicker:M=>Fe(g)(D,M==null?void 0:M.flow,M==null?void 0:M.show)}),bn({_:2},[pr(Fe(a),(M,j)=>({name:M,fn:bt(P=>[pt(N.$slots,M,tn(Cn(P)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},[N.$slots["month-overlay-value"]?{name:"item",fn:bt(({item:M})=>[pt(N.$slots,"month-overlay-value",{text:M.text,value:M.value})]),key:"0"}:void 0]),1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars","collapse","is-mobile"]))}}),zW=(e,t)=>{const r=()=>{e.isTextInputDate&&(f.value=At(st(e.startDate)))},{modelValue:n}=l0(e,t,r),i=Je(null),{defaultedHighlight:a,defaultedMultiDates:o,defaultedFilters:s,defaultedRange:l,propDates:u}=br(e),f=Je();ir(()=>{e.startDate&&(n.value&&e.focusStartDate||!n.value)&&(f.value=At(st(e.startDate)))});const d=y=>Array.isArray(n.value)?n.value.some(m=>At(m)===y):n.value?At(n.value)===y:!1,c=y=>l.value.enabled&&Array.isArray(n.value)?zp(n.value,i.value,_(y)):!1,p=y=>u.value.allowedDates instanceof Map?u.value.allowedDates.size?u.value.allowedDates.has(`${y}`):!1:!0,b=y=>u.value.disabledDates instanceof Map?u.value.disabledDates.size?u.value.disabledDates.has(`${y}`):!1:!0,v=tt(()=>Mu(gT(e.yearRange,e.locale,e.reverseYears),y=>{const m=d(y.value),g=Hp(y.value,ku(u.value.minDate),ku(u.value.maxDate))||s.value.years.includes(y.value)||!p(y.value)||b(y.value),S=c(y.value)&&!m,x=vT(a.value,y.value);return{active:m,disabled:g,isBetween:S,highlighted:x}})),_=y=>pa(Fi(Vp(new Date)),y);return{groupedYears:v,modelValue:n,focusYear:f,setHoverValue:y=>{i.value=pa(Fi(new Date),y)},selectYear:y=>{var m;if(t("update-month-year",{instance:0,year:y}),o.value.enabled)return n.value?Array.isArray(n.value)&&(((m=n.value)==null?void 0:m.map(g=>At(g))).includes(y)?n.value=n.value.filter(g=>At(g)!==y):n.value.push(pa(dn(st()),y))):n.value=[pa(dn(Vp(st())),y)],t("auto-apply",!0);l.value.enabled?(n.value=ST(n,_(y),t),Ar().then(()=>{Uy(n.value,t,e.autoApply,e.modelAuto)})):(n.value=_(y),t("auto-apply"))}}},GW=zt({compatConfig:{MODE:3},__name:"YearPicker",props:{...Wi},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply","update-month-year"],setup(e,{expose:t,emit:r}){const n=r,i=e,{groupedYears:a,modelValue:o,focusYear:s,selectYear:l,setHoverValue:u}=zW(i,n),{defaultedConfig:f}=br(i);return t({getSidebarProps:()=>({modelValue:o,selectYear:l})}),(d,c)=>(Ze(),et("div",null,[d.$slots["top-extra"]?pt(d.$slots,"top-extra",{key:0,value:d.internalModelValue}):rt("",!0),d.$slots["month-year"]?pt(d.$slots,"month-year",tn(Fr({key:1},{years:Fe(a),selectYear:Fe(l)}))):(Ze(),Pt(s0,{key:2,items:Fe(a),"is-last":d.autoApply&&!Fe(f).keepActionRow,height:Fe(f).modeHeight,config:d.config,"no-overlay-focus":!!(d.noOverlayFocus||d.textInput),"focus-value":Fe(s),type:"year","use-relative":"",onSelected:Fe(l),onHoverValue:Fe(u)},bn({_:2},[d.$slots["year-overlay-value"]?{name:"item",fn:bt(({item:p})=>[pt(d.$slots,"year-overlay-value",{text:p.text,value:p.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),WW={key:0,class:"dp__time_input"},KW=["data-compact","data-collapsed"],QW=["data-test-id","aria-label","onKeydown","onClick","onMousedown"],ZW=["aria-label","disabled","data-test-id","onKeydown","onClick"],YW=["data-test-id","aria-label","onKeydown","onClick","onMousedown"],XW={key:0},JW=["aria-label","data-compact"],eK=zt({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Wi},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","overlay-opened","am-pm-change"],setup(e,{expose:t,emit:r}){const n=r,i=e,{setTimePickerElements:a,setTimePickerBackRef:o}=$o(),{defaultedAriaLabels:s,defaultedTransitions:l,defaultedFilters:u,defaultedConfig:f,defaultedRange:d,defaultedMultiCalendars:c}=br(i),{transitionName:p,showTransition:b}=u0(l),v=Za({hours:!1,minutes:!1,seconds:!1}),_=Je("AM"),y=Je(null),m=Je([]),g=Je(),S=Je(!1);ir(()=>{n("mounted")});const x=U=>nr(new Date,{hours:U.hours,minutes:U.minutes,seconds:i.enableSeconds?U.seconds:0,milliseconds:0}),I=tt(()=>U=>ne(U,i[U])||q(U,i[U])),N=tt(()=>({hours:i.hours,minutes:i.minutes,seconds:i.seconds})),q=(U,re)=>d.value.enabled&&!d.value.disableTimeRangeValidation?!i.validateTime(U,re):!1,D=(U,re)=>{if(d.value.enabled&&!d.value.disableTimeRangeValidation){const fe=re?+i[`${U}Increment`]:-+i[`${U}Increment`],ve=i[U]+fe;return!i.validateTime(U,ve)}return!1},M=tt(()=>U=>!Q(+i[U]+ +i[`${U}Increment`],U)||D(U,!0)),j=tt(()=>U=>!Q(+i[U]-+i[`${U}Increment`],U)||D(U,!1)),P=(U,re)=>iq(nr(st(),U),re),B=(U,re)=>zG(nr(st(),U),re),Y=tt(()=>({dp__time_col:!0,dp__time_col_block:!i.timePickerInline,dp__time_col_reg_block:!i.enableSeconds&&i.is24&&!i.timePickerInline,dp__time_col_reg_inline:!i.enableSeconds&&i.is24&&i.timePickerInline,dp__time_col_reg_with_button:!i.enableSeconds&&!i.is24,dp__time_col_sec:i.enableSeconds&&i.is24,dp__time_col_sec_with_button:i.enableSeconds&&!i.is24})),ie=tt(()=>i.timePickerInline&&d.value.enabled&&!c.value.count),X=tt(()=>{const U=[{type:"hours"}];return i.enableMinutes&&U.push({type:"",separator:!0},{type:"minutes"}),i.enableSeconds&&U.push({type:"",separator:!0},{type:"seconds"}),U}),le=tt(()=>X.value.filter(U=>!U.separator)),ae=tt(()=>U=>{if(U==="hours"){const re=pe(+i.hours);return{text:re<10?`0${re}`:`${re}`,value:re}}return{text:i[U]<10?`0${i[U]}`:`${i[U]}`,value:i[U]}}),ne=(U,re)=>{var fe;if(!i.disabledTimesConfig)return!1;const ve=i.disabledTimesConfig(i.order,U==="hours"?re:void 0);return ve[U]?!!((fe=ve[U])!=null&&fe.includes(re)):!0},H=(U,re)=>re!=="hours"||_.value==="AM"?U:U+12,oe=U=>{const re=i.is24?24:12,fe=U==="hours"?re:60,ve=+i[`${U}GridIncrement`],ce=U==="hours"&&!i.is24?ve:0,Ie=[];for(let be=ce;be<fe;be+=ve)Ie.push({value:i.is24?be:H(be,U),text:be<10?`0${be}`:`${be}`});return U==="hours"&&!i.is24&&Ie.unshift({value:_.value==="PM"?12:0,text:"12"}),Mu(Ie,be=>({active:!1,disabled:u.value.times[U].includes(be.value)||!Q(be.value,U)||ne(U,be.value)||q(U,be.value)}))},he=U=>U>=0?U:59,Z=U=>U>=0?U:23,Q=(U,re)=>{const fe=i.minTime?x(l_(i.minTime)):null,ve=i.maxTime?x(l_(i.maxTime)):null,ce=x(l_(N.value,re,re==="minutes"||re==="seconds"?he(U):Z(U)));return fe&&ve?(Cu(ce,ve)||vu(ce,ve))&&(js(ce,fe)||vu(ce,fe)):fe?js(ce,fe)||vu(ce,fe):ve?Cu(ce,ve)||vu(ce,ve):!0},ee=U=>i[`no${U[0].toUpperCase()+U.slice(1)}Overlay`],O=U=>{ee(U)||(v[U]=!v[U],v[U]?(S.value=!0,n("overlay-opened",U)):(S.value=!1,n("overlay-closed",U)))},A=U=>U==="hours"?Ga:U==="minutes"?Do:Du,$=()=>{g.value&&clearTimeout(g.value)},te=(U,re=!0,fe)=>{const ve=re?P:B,ce=re?+i[`${U}Increment`]:-+i[`${U}Increment`];Q(+i[U]+ce,U)&&n(`update:${U}`,A(U)(ve({[U]:+i[U]},{[U]:+i[`${U}Increment`]}))),!(fe!=null&&fe.keyboard)&&f.value.timeArrowHoldThreshold&&(g.value=setTimeout(()=>{te(U,re)},f.value.timeArrowHoldThreshold))},pe=U=>i.is24?U:(U>=12?_.value="PM":_.value="AM",XG(U)),R=()=>{_.value==="PM"?(_.value="AM",n("update:hours",i.hours-12)):(_.value="PM",n("update:hours",i.hours+12)),n("am-pm-change",_.value)},w=U=>{v[U]=!0},T=(U,re,fe)=>{if(U&&i.arrowNavigation){Array.isArray(m.value[re])?m.value[re][fe]=U:m.value[re]=[U];const ve=m.value.reduce((ce,Ie)=>Ie.map((be,Te)=>[...ce[Te]||[],Ie[Te]]),[]);o(i.closeTimePickerBtn),y.value&&(ve[1]=ve[1].concat(y.value)),a(ve,i.order)}},k=(U,re)=>(O(U),n(`update:${U}`,re));return t({openChildCmp:w}),(U,re)=>{var fe;return U.disabled?rt("",!0):(Ze(),et("div",WW,[(Ze(!0),et(wt,null,pr(X.value,(ve,ce)=>{var Ie,be,Te;return Ze(),et("div",{key:ce,class:vt(Y.value),"data-compact":ie.value&&!U.enableSeconds,"data-collapsed":ie.value&&U.enableSeconds},[ve.separator?(Ze(),et(wt,{key:0},[S.value?rt("",!0):(Ze(),et(wt,{key:0},[Si(":")],64))],64)):(Ze(),et(wt,{key:1},[_t("button",{ref_for:!0,ref:je=>T(je,ce,0),type:"button",class:vt({dp__btn:!0,dp__inc_dec_button:!U.timePickerInline,dp__inc_dec_button_inline:U.timePickerInline,dp__tp_inline_btn_top:U.timePickerInline,dp__inc_dec_button_disabled:M.value(ve.type),"dp--hidden-el":S.value}),"data-test-id":`${ve.type}-time-inc-btn-${i.order}`,"aria-label":(Ie=Fe(s))==null?void 0:Ie.incrementValue(ve.type),tabindex:"0",onKeydown:je=>Fe(Ln)(je,()=>te(ve.type,!0,{keyboard:!0}),!0),onClick:je=>Fe(f).timeArrowHoldThreshold?void 0:te(ve.type,!0),onMousedown:je=>Fe(f).timeArrowHoldThreshold?te(ve.type,!0):void 0,onMouseup:$},[i.timePickerInline?(Ze(),et(wt,{key:1},[U.$slots["tp-inline-arrow-up"]?pt(U.$slots,"tp-inline-arrow-up",{key:0}):(Ze(),et(wt,{key:1},[re[2]||(re[2]=_t("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1)),re[3]||(re[3]=_t("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1))],64))],64)):(Ze(),et(wt,{key:0},[U.$slots["arrow-up"]?pt(U.$slots,"arrow-up",{key:0}):rt("",!0),U.$slots["arrow-up"]?rt("",!0):(Ze(),Pt(Fe(pT),{key:1}))],64))],42,QW),_t("button",{ref_for:!0,ref:je=>T(je,ce,1),type:"button","aria-label":`${ae.value(ve.type).text}-${(be=Fe(s))==null?void 0:be.openTpOverlay(ve.type)}`,class:vt({dp__time_display:!0,dp__time_display_block:!U.timePickerInline,dp__time_display_inline:U.timePickerInline,"dp--time-invalid":I.value(ve.type),"dp--time-overlay-btn":!I.value(ve.type),"dp--hidden-el":S.value}),disabled:ee(ve.type),tabindex:"0","data-test-id":`${ve.type}-toggle-overlay-btn-${i.order}`,onKeydown:je=>Fe(Ln)(je,()=>O(ve.type),!0),onClick:je=>O(ve.type)},[U.$slots[ve.type]?pt(U.$slots,ve.type,{key:0,text:ae.value(ve.type).text,value:ae.value(ve.type).value}):rt("",!0),U.$slots[ve.type]?rt("",!0):(Ze(),et(wt,{key:1},[Si(Gt(ae.value(ve.type).text),1)],64))],42,ZW),_t("button",{ref_for:!0,ref:je=>T(je,ce,2),type:"button",class:vt({dp__btn:!0,dp__inc_dec_button:!U.timePickerInline,dp__inc_dec_button_inline:U.timePickerInline,dp__tp_inline_btn_bottom:U.timePickerInline,dp__inc_dec_button_disabled:j.value(ve.type),"dp--hidden-el":S.value}),"data-test-id":`${ve.type}-time-dec-btn-${i.order}`,"aria-label":(Te=Fe(s))==null?void 0:Te.decrementValue(ve.type),tabindex:"0",onKeydown:je=>Fe(Ln)(je,()=>te(ve.type,!1,{keyboard:!0}),!0),onClick:je=>Fe(f).timeArrowHoldThreshold?void 0:te(ve.type,!1),onMousedown:je=>Fe(f).timeArrowHoldThreshold?te(ve.type,!1):void 0,onMouseup:$},[i.timePickerInline?(Ze(),et(wt,{key:1},[U.$slots["tp-inline-arrow-down"]?pt(U.$slots,"tp-inline-arrow-down",{key:0}):(Ze(),et(wt,{key:1},[re[4]||(re[4]=_t("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1)),re[5]||(re[5]=_t("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1))],64))],64)):(Ze(),et(wt,{key:0},[U.$slots["arrow-down"]?pt(U.$slots,"arrow-down",{key:0}):rt("",!0),U.$slots["arrow-down"]?rt("",!0):(Ze(),Pt(Fe(mT),{key:1}))],64))],42,YW)],64))],10,KW)}),128)),U.is24?rt("",!0):(Ze(),et("div",XW,[U.$slots["am-pm-button"]?pt(U.$slots,"am-pm-button",{key:0,toggle:R,value:_.value}):rt("",!0),U.$slots["am-pm-button"]?rt("",!0):(Ze(),et("button",{key:1,ref_key:"amPmButton",ref:y,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(fe=Fe(s))==null?void 0:fe.amPmButton,tabindex:"0","data-compact":ie.value,onClick:R,onKeydown:re[0]||(re[0]=ve=>Fe(Ln)(ve,()=>R(),!0))},Gt(_.value),41,JW))])),(Ze(!0),et(wt,null,pr(le.value,(ve,ce)=>(Ze(),Pt(Qu,{key:ce,name:Fe(p)(v[ve.type]),css:Fe(b)},{default:bt(()=>{var Ie,be;return[v[ve.type]?(Ze(),Pt(s0,{key:0,items:oe(ve.type),"is-last":U.autoApply&&!Fe(f).keepActionRow,"esc-close":U.escClose,type:ve.type,"text-input":U.textInput,config:U.config,"arrow-navigation":U.arrowNavigation,"aria-labels":U.ariaLabels,"overlay-label":(be=(Ie=Fe(s)).timeOverlay)==null?void 0:be.call(Ie,ve.type),onSelected:Te=>k(ve.type,Te),onToggle:Te=>O(ve.type),onResetFlow:re[1]||(re[1]=Te=>U.$emit("reset-flow"))},bn({"button-icon":bt(()=>[U.$slots["clock-icon"]?pt(U.$slots,"clock-icon",{key:0}):rt("",!0),U.$slots["clock-icon"]?rt("",!0):(Ze(),Pt(_a(U.timePickerInline?Fe(Ju):Fe(hT)),{key:1}))]),_:2},[U.$slots[`${ve.type}-overlay-value`]?{name:"item",fn:bt(({item:Te})=>[pt(U.$slots,`${ve.type}-overlay-value`,{text:Te.text,value:Te.value})]),key:"0"}:void 0,U.$slots[`${ve.type}-overlay-header`]?{name:"header",fn:bt(()=>[pt(U.$slots,`${ve.type}-overlay-header`,{toggle:()=>O(ve.type)})]),key:"1"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","aria-labels","overlay-label","onSelected","onToggle"])):rt("",!0)]}),_:2},1032,["name","css"]))),128))]))}}}),tK=["data-dp-mobile"],rK=["aria-label","tabindex"],nK=["role","aria-label","tabindex"],iK=["aria-label"],Vq=zt({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Wi},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(e,{expose:t,emit:r}){const n=r,i=e,{buildMatrix:a,setTimePicker:o}=$o(),s=Us(),{defaultedTransitions:l,defaultedAriaLabels:u,defaultedTextInput:f,defaultedConfig:d,defaultedRange:c}=br(i),{transitionName:p,showTransition:b}=u0(l),{hideNavigationButtons:v}=Vy(),_=Je(null),y=Je(null),m=Je([]),g=Je(null),S=Je(!1);ir(()=>{n("mount"),!i.timePicker&&i.arrowNavigation?a([Zr(_.value)],"time"):o(!0,i.timePicker)});const x=tt(()=>c.value.enabled&&i.modelAuto?Aq(i.internalModelValue):!0),I=Je(!1),N=ne=>({hours:Array.isArray(i.hours)?i.hours[ne]:i.hours,minutes:Array.isArray(i.minutes)?i.minutes[ne]:i.minutes,seconds:Array.isArray(i.seconds)?i.seconds[ne]:i.seconds}),q=tt(()=>{const ne=[];if(c.value.enabled)for(let H=0;H<2;H++)ne.push(N(H));else ne.push(N(0));return ne}),D=(ne,H=!1,oe="")=>{H||n("reset-flow"),I.value=ne,n(ne?"overlay-opened":"overlay-closed",yn.time),i.arrowNavigation&&o(ne),Ar(()=>{oe!==""&&m.value[0]&&m.value[0].openChildCmp(oe)})},M=tt(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:i.autoApply&&!d.value.keepActionRow})),j=Xn(s,"timePicker"),P=(ne,H,oe)=>c.value.enabled?H===0?[ne,q.value[1][oe]]:[q.value[0][oe],ne]:ne,B=ne=>{n("update:hours",ne)},Y=ne=>{n("update:minutes",ne)},ie=ne=>{n("update:seconds",ne)},X=()=>{if(g.value&&!f.value.enabled&&!i.noOverlayFocus){const ne=Iq(g.value);ne&&ne.focus({preventScroll:!0})}},le=ne=>{S.value=!1,n("overlay-closed",ne)},ae=ne=>{S.value=!0,n("overlay-opened",ne)};return t({toggleTimePicker:D}),(ne,H)=>{var oe;return Ze(),et("div",{class:"dp--tp-wrap","data-dp-mobile":ne.isMobile},[!ne.timePicker&&!ne.timePickerInline?Ao((Ze(),et("button",{key:0,ref_key:"openTimePickerBtn",ref:_,type:"button",class:vt({...M.value,"dp--hidden-el":I.value}),"aria-label":(oe=Fe(u))==null?void 0:oe.openTimePicker,tabindex:ne.noOverlayFocus?void 0:0,"data-test-id":"open-time-picker-btn",onKeydown:H[0]||(H[0]=he=>Fe(Ln)(he,()=>D(!0))),onClick:H[1]||(H[1]=he=>D(!0))},[ne.$slots["clock-icon"]?pt(ne.$slots,"clock-icon",{key:0}):rt("",!0),ne.$slots["clock-icon"]?rt("",!0):(Ze(),Pt(Fe(hT),{key:1}))],42,rK)),[[ty,!Fe(v)(ne.hideNavigation,"time")]]):rt("",!0),kt(Qu,{name:Fe(p)(I.value),css:Fe(b)&&!ne.timePickerInline},{default:bt(()=>{var he,Z;return[I.value||ne.timePicker||ne.timePickerInline?(Ze(),et("div",{key:0,ref_key:"overlayRef",ref:g,role:ne.timePickerInline?void 0:"dialog",class:vt({dp__overlay:!ne.timePickerInline,"dp--overlay-absolute":!i.timePicker&&!ne.timePickerInline,"dp--overlay-relative":i.timePicker}),style:kr(ne.timePicker?{height:`${Fe(d).modeHeight}px`}:void 0),"aria-label":(he=Fe(u))==null?void 0:he.timePicker,tabindex:ne.timePickerInline?void 0:0},[_t("div",{class:vt(ne.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[ne.$slots["time-picker-overlay"]?pt(ne.$slots,"time-picker-overlay",{key:0,hours:e.hours,minutes:e.minutes,seconds:e.seconds,setHours:B,setMinutes:Y,setSeconds:ie}):rt("",!0),ne.$slots["time-picker-overlay"]?rt("",!0):(Ze(),et("div",{key:1,class:vt(ne.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(Ze(!0),et(wt,null,pr(q.value,(Q,ee)=>Ao((Ze(),Pt(eK,Fr({key:ee,ref_for:!0},{...ne.$props,order:ee,hours:Q.hours,minutes:Q.minutes,seconds:Q.seconds,closeTimePickerBtn:y.value,disabledTimesConfig:e.disabledTimesConfig,disabled:ee===0?Fe(c).fixedStart:Fe(c).fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:m,"validate-time":(O,A)=>e.validateTime(O,P(A,ee,O)),"onUpdate:hours":O=>B(P(O,ee,"hours")),"onUpdate:minutes":O=>Y(P(O,ee,"minutes")),"onUpdate:seconds":O=>ie(P(O,ee,"seconds")),onMounted:X,onOverlayClosed:le,onOverlayOpened:ae,onAmPmChange:H[2]||(H[2]=O=>ne.$emit("am-pm-change",O))}),bn({_:2},[pr(Fe(j),(O,A)=>({name:O,fn:bt($=>[pt(ne.$slots,O,Fr({ref_for:!0},$))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[ty,ee===0?!0:x.value]])),128))],2)),!ne.timePicker&&!ne.timePickerInline?Ao((Ze(),et("button",{key:2,ref_key:"closeTimePickerBtn",ref:y,type:"button",class:vt({...M.value,"dp--hidden-el":S.value}),"aria-label":(Z=Fe(u))==null?void 0:Z.closeTimePicker,tabindex:"0",onKeydown:H[3]||(H[3]=Q=>Fe(Ln)(Q,()=>D(!1))),onClick:H[4]||(H[4]=Q=>D(!1))},[ne.$slots["calendar-icon"]?pt(ne.$slots,"calendar-icon",{key:0}):rt("",!0),ne.$slots["calendar-icon"]?rt("",!0):(Ze(),Pt(Fe(Ju),{key:1}))],42,iK)),[[ty,!Fe(v)(ne.hideNavigation,"time")]]):rt("",!0)],2)],14,nK)):rt("",!0)]}),_:3},8,["name","css"])],8,tK)}}}),Hq=(e,t,r,n)=>{const{defaultedRange:i}=br(e),a=(g,S)=>Array.isArray(t[g])?t[g][S]:t[g],o=g=>e.enableSeconds?Array.isArray(t.seconds)?t.seconds[g]:t.seconds:0,s=(g,S)=>g?S!==void 0?Po(g,a("hours",S),a("minutes",S),o(S)):Po(g,t.hours,t.minutes,o()):Eq(st(),o(S)),l=(g,S)=>{t[g]=S},u=tt(()=>e.modelAuto&&i.value.enabled?Array.isArray(r.value)?r.value.length>1:!1:i.value.enabled),f=(g,S)=>{const x=Object.fromEntries(Object.keys(t).map(I=>I===g?[I,S]:[I,t[I]].slice()));if(u.value&&!i.value.disableTimeRangeValidation){const I=q=>r.value?Po(r.value[q],x.hours[q],x.minutes[q],x.seconds[q]):null,N=q=>Sq(r.value[q],0);return!(qt(I(0),I(1))&&(js(I(0),N(1))||Cu(I(1),N(0))))}return!0},d=(g,S)=>{f(g,S)&&(l(g,S),n&&n())},c=g=>{d("hours",g)},p=g=>{d("minutes",g)},b=g=>{d("seconds",g)},v=(g,S,x,I)=>{S&&c(g),!S&&!x&&p(g),x&&b(g),r.value&&I(r.value)},_=g=>{if(g){const S=Array.isArray(g),x=S?[+g[0].hours,+g[1].hours]:+g.hours,I=S?[+g[0].minutes,+g[1].minutes]:+g.minutes,N=S?[+g[0].seconds,+g[1].seconds]:+g.seconds;l("hours",x),l("minutes",I),e.enableSeconds&&l("seconds",N)}},y=(g,S)=>{const x={hours:Array.isArray(t.hours)?t.hours[g]:t.hours,disabledArr:[]};return(S||S===0)&&(x.hours=S),Array.isArray(e.disabledTimes)&&(x.disabledArr=i.value.enabled&&Array.isArray(e.disabledTimes[g])?e.disabledTimes[g]:e.disabledTimes),x},m=tt(()=>(g,S)=>{var x;if(Array.isArray(e.disabledTimes)){const{disabledArr:I,hours:N}=y(g,S),q=I.filter(D=>+D.hours===N);return((x=q[0])==null?void 0:x.minutes)==="*"?{hours:[N],minutes:void 0,seconds:void 0}:{hours:[],minutes:(q==null?void 0:q.map(D=>+D.minutes))??[],seconds:(q==null?void 0:q.map(D=>D.seconds?+D.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:l,updateHours:c,updateMinutes:p,updateSeconds:b,getSetDateTime:s,updateTimeValues:v,getSecondsValue:o,assignStartTime:_,validateTime:f,disabledTimesConfig:m}},aK=(e,t)=>{const r=()=>{e.isTextInputDate&&S()},{modelValue:n,time:i}=l0(e,t,r),{defaultedStartTime:a,defaultedRange:o,defaultedTz:s}=br(e),{updateTimeValues:l,getSetDateTime:u,setTime:f,assignStartTime:d,disabledTimesConfig:c,validateTime:p}=Hq(e,i,n,b);function b(){t("update-flow-step")}const v=I=>{const{hours:N,minutes:q,seconds:D}=I;return{hours:+N,minutes:+q,seconds:D?+D:0}},_=()=>{if(e.startTime){if(Array.isArray(e.startTime)){const N=v(e.startTime[0]),q=v(e.startTime[1]);return[nr(st(),N),nr(st(),q)]}const I=v(e.startTime);return nr(st(),I)}return o.value.enabled?[null,null]:null},y=()=>{if(o.value.enabled){const[I,N]=_();n.value=[zn(u(I,0),s.value.timezone),zn(u(N,1),s.value.timezone)]}else n.value=zn(u(_()),s.value.timezone)},m=I=>Array.isArray(I)?[ks(st(I[0])),ks(st(I[1]))]:[ks(I??st())],g=(I,N,q)=>{f("hours",I),f("minutes",N),f("seconds",e.enableSeconds?q:0)},S=()=>{const[I,N]=m(n.value);return o.value.enabled?g([I.hours,N.hours],[I.minutes,N.minutes],[I.seconds,N.seconds]):g(I.hours,I.minutes,I.seconds)};ir(()=>{if(!e.shadow)return d(a.value),n.value?S():y()});const x=()=>{Array.isArray(n.value)?n.value=n.value.map((I,N)=>I&&u(I,N)):n.value=u(n.value),t("time-update")};return{modelValue:n,time:i,disabledTimesConfig:c,updateTime:(I,N=!0,q=!1)=>{l(I,N,q,x)},validateTime:p}},oK=zt({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...Wi},emits:["update:internal-model-value","time-update","am-pm-change","mount","reset-flow","update-flow-step","overlay-toggle"],setup(e,{expose:t,emit:r}){const n=r,i=e,a=Us(),o=Xn(a,"timePicker"),s=Je(null),{time:l,modelValue:u,disabledTimesConfig:f,updateTime:d,validateTime:c}=aK(i,n);return ir(()=>{i.shadow||n("mount",null)}),t({getSidebarProps:()=>({modelValue:u,time:l,updateTime:d}),toggleTimePicker:(p,b=!1,v="")=>{var _;(_=s.value)==null||_.toggleTimePicker(p,b,v)}}),(p,b)=>(Ze(),Pt($y,{"multi-calendars":0,stretch:"","is-mobile":p.isMobile},{default:bt(()=>[kt(Vq,Fr({ref_key:"tpRef",ref:s},p.$props,{hours:Fe(l).hours,minutes:Fe(l).minutes,seconds:Fe(l).seconds,"internal-model-value":p.internalModelValue,"disabled-times-config":Fe(f),"validate-time":Fe(c),"onUpdate:hours":b[0]||(b[0]=v=>Fe(d)(v)),"onUpdate:minutes":b[1]||(b[1]=v=>Fe(d)(v,!1)),"onUpdate:seconds":b[2]||(b[2]=v=>Fe(d)(v,!1,!0)),onAmPmChange:b[3]||(b[3]=v=>p.$emit("am-pm-change",v)),onResetFlow:b[4]||(b[4]=v=>p.$emit("reset-flow")),onOverlayClosed:b[5]||(b[5]=v=>p.$emit("overlay-toggle",{open:!1,overlay:v})),onOverlayOpened:b[6]||(b[6]=v=>p.$emit("overlay-toggle",{open:!0,overlay:v}))}),bn({_:2},[pr(Fe(o),(v,_)=>({name:v,fn:bt(y=>[pt(p.$slots,v,tn(Cn(y)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3},8,["is-mobile"]))}}),sK={class:"dp--header-wrap"},uK={key:0,class:"dp__month_year_wrap"},lK={key:0},fK={class:"dp__month_year_wrap"},cK=["data-dp-element","aria-label","data-test-id","onClick","onKeydown"],dK=zt({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...Wi},emits:["update-month-year","mount","reset-flow","overlay-closed","overlay-opened"],setup(e,{expose:t,emit:r}){const n=r,i=e,{defaultedTransitions:a,defaultedAriaLabels:o,defaultedMultiCalendars:s,defaultedFilters:l,defaultedConfig:u,defaultedHighlight:f,propDates:d,defaultedUI:c}=br(i),{transitionName:p,showTransition:b}=u0(a),{buildMatrix:v}=$o(),{handleMonthYearChange:_,isDisabled:y,updateMonthYear:m}=DW(i,n),{showLeftIcon:g,showRightIcon:S}=Vy(),x=Je(!1),I=Je(!1),N=Je(!1),q=Je([null,null,null,null]);ir(()=>{n("mount")});const D=Z=>({get:()=>i[Z],set:Q=>{const ee=Z===Mi.month?Mi.year:Mi.month;n("update-month-year",{[Z]:Q,[ee]:i[ee]}),Z===Mi.month?le(!0):ae(!0)}}),M=tt(D(Mi.month)),j=tt(D(Mi.year)),P=tt(()=>Z=>({month:i.month,year:i.year,items:Z===Mi.month?i.months:i.years,instance:i.instance,updateMonthYear:m,toggle:Z===Mi.month?le:ae})),B=tt(()=>i.months.find(Q=>Q.value===i.month)||{text:"",value:0}),Y=tt(()=>Mu(i.months,Z=>{const Q=i.month===Z.value,ee=Hp(Z.value,Nq(i.year,d.value.minDate),Dq(i.year,d.value.maxDate))||l.value.months.includes(Z.value),O=Fq(f.value,Z.value,i.year);return{active:Q,disabled:ee,highlighted:O}})),ie=tt(()=>Mu(i.years,Z=>{const Q=i.year===Z.value,ee=Hp(Z.value,ku(d.value.minDate),ku(d.value.maxDate))||l.value.years.includes(Z.value),O=vT(f.value,Z.value);return{active:Q,disabled:ee,highlighted:O}})),X=(Z,Q,ee)=>{ee!==void 0?Z.value=ee:Z.value=!Z.value,Z.value?(N.value=!0,n("overlay-opened",Q)):(N.value=!1,n("overlay-closed",Q))},le=(Z=!1,Q)=>{ne(Z),X(x,yn.month,Q)},ae=(Z=!1,Q)=>{ne(Z),X(I,yn.year,Q)},ne=Z=>{Z||n("reset-flow")},H=(Z,Q)=>{i.arrowNavigation&&(q.value[Q]=Zr(Z),v(q.value,"monthYear"))},oe=tt(()=>{var Z,Q,ee,O,A,$;return[{type:Mi.month,index:1,toggle:le,modelValue:M.value,updateModelValue:te=>M.value=te,text:B.value.text,showSelectionGrid:x.value,items:Y.value,ariaLabel:(Z=o.value)==null?void 0:Z.openMonthsOverlay,overlayLabel:((ee=(Q=o.value).monthPicker)==null?void 0:ee.call(Q,!0))??void 0},{type:Mi.year,index:2,toggle:ae,modelValue:j.value,updateModelValue:te=>j.value=te,text:Pq(i.year,i.locale),showSelectionGrid:I.value,items:ie.value,ariaLabel:(O=o.value)==null?void 0:O.openYearsOverlay,overlayLabel:(($=(A=o.value).yearPicker)==null?void 0:$.call(A,!0))??void 0}]}),he=tt(()=>i.disableYearSelect?[oe.value[0]]:i.yearFirst?[...oe.value].reverse():oe.value);return t({toggleMonthPicker:le,toggleYearPicker:ae,handleMonthYearChange:_}),(Z,Q)=>{var ee,O,A,$,te,pe;return Ze(),et("div",sK,[Z.$slots["month-year"]?(Ze(),et("div",uK,[pt(Z.$slots,"month-year",tn(Cn({month:e.month,year:e.year,months:e.months,years:e.years,updateMonthYear:Fe(m),handleMonthYearChange:Fe(_),instance:e.instance,isDisabled:Fe(y)})))])):(Ze(),et(wt,{key:1},[Z.$slots["top-extra"]?(Ze(),et("div",lK,[pt(Z.$slots,"top-extra",{value:Z.internalModelValue})])):rt("",!0),_t("div",fK,[Fe(g)(Fe(s),e.instance)&&!Z.vertical?(Ze(),Pt(Ap,{key:0,"aria-label":(ee=Fe(o))==null?void 0:ee.prevMonth,disabled:Fe(y)(!1),class:vt((O=Fe(c))==null?void 0:O.navBtnPrev),"el-name":"action-prev",onActivate:Q[0]||(Q[0]=R=>Fe(_)(!1,!0)),onSetRef:Q[1]||(Q[1]=R=>H(R,0))},{default:bt(()=>[Z.$slots["arrow-left"]?pt(Z.$slots,"arrow-left",{key:0}):rt("",!0),Z.$slots["arrow-left"]?rt("",!0):(Ze(),Pt(Fe(cT),{key:1}))]),_:3},8,["aria-label","disabled","class"])):rt("",!0),_t("div",{class:vt(["dp__month_year_wrap",{dp__year_disable_select:Z.disableYearSelect}])},[(Ze(!0),et(wt,null,pr(he.value,(R,w)=>(Ze(),et(wt,{key:R.type},[_t("button",{ref_for:!0,ref:T=>H(T,w+1),type:"button","data-dp-element":`overlay-${R.type}`,class:vt(["dp__btn dp__month_year_select",{"dp--hidden-el":N.value}]),"aria-label":`${R.text}-${R.ariaLabel}`,"data-test-id":`${R.type}-toggle-overlay-${e.instance}`,onClick:R.toggle,onKeydown:T=>Fe(Ln)(T,()=>R.toggle(),!0)},[Z.$slots[R.type]?pt(Z.$slots,R.type,{key:0,text:R.text,value:i[R.type]}):rt("",!0),Z.$slots[R.type]?rt("",!0):(Ze(),et(wt,{key:1},[Si(Gt(R.text),1)],64))],42,cK),kt(Qu,{name:Fe(p)(R.showSelectionGrid),css:Fe(b)},{default:bt(()=>[R.showSelectionGrid?(Ze(),Pt(s0,{key:0,items:R.items,"arrow-navigation":Z.arrowNavigation,"hide-navigation":Z.hideNavigation,"is-last":Z.autoApply&&!Fe(u).keepActionRow,"skip-button-ref":!1,config:Z.config,type:R.type,"header-refs":[],"esc-close":Z.escClose,"menu-wrap-ref":Z.menuWrapRef,"text-input":Z.textInput,"aria-labels":Z.ariaLabels,"overlay-label":R.overlayLabel,onSelected:R.updateModelValue,onToggle:R.toggle},bn({"button-icon":bt(()=>[Z.$slots["calendar-icon"]?pt(Z.$slots,"calendar-icon",{key:0}):rt("",!0),Z.$slots["calendar-icon"]?rt("",!0):(Ze(),Pt(Fe(Ju),{key:1}))]),_:2},[Z.$slots[`${R.type}-overlay-value`]?{name:"item",fn:bt(({item:T})=>[pt(Z.$slots,`${R.type}-overlay-value`,{text:T.text,value:T.value})]),key:"0"}:void 0,Z.$slots[`${R.type}-overlay`]?{name:"overlay",fn:bt(()=>[pt(Z.$slots,`${R.type}-overlay`,Fr({ref_for:!0},P.value(R.type)))]),key:"1"}:void 0,Z.$slots[`${R.type}-overlay-header`]?{name:"header",fn:bt(()=>[pt(Z.$slots,`${R.type}-overlay-header`,{toggle:R.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","menu-wrap-ref","text-input","aria-labels","overlay-label","onSelected","onToggle"])):rt("",!0)]),_:2},1032,["name","css"])],64))),128))],2),Fe(g)(Fe(s),e.instance)&&Z.vertical?(Ze(),Pt(Ap,{key:1,"aria-label":(A=Fe(o))==null?void 0:A.prevMonth,"el-name":"action-prev",disabled:Fe(y)(!1),class:vt(($=Fe(c))==null?void 0:$.navBtnPrev),onActivate:Q[2]||(Q[2]=R=>Fe(_)(!1,!0))},{default:bt(()=>[Z.$slots["arrow-up"]?pt(Z.$slots,"arrow-up",{key:0}):rt("",!0),Z.$slots["arrow-up"]?rt("",!0):(Ze(),Pt(Fe(pT),{key:1}))]),_:3},8,["aria-label","disabled","class"])):rt("",!0),Fe(S)(Fe(s),e.instance)?(Ze(),Pt(Ap,{key:2,ref:"rightIcon","el-name":"action-next",disabled:Fe(y)(!0),"aria-label":(te=Fe(o))==null?void 0:te.nextMonth,class:vt((pe=Fe(c))==null?void 0:pe.navBtnNext),onActivate:Q[3]||(Q[3]=R=>Fe(_)(!0,!0)),onSetRef:Q[4]||(Q[4]=R=>H(R,Z.disableYearSelect?2:3))},{default:bt(()=>[Z.$slots[Z.vertical?"arrow-down":"arrow-right"]?pt(Z.$slots,Z.vertical?"arrow-down":"arrow-right",{key:0}):rt("",!0),Z.$slots[Z.vertical?"arrow-down":"arrow-right"]?rt("",!0):(Ze(),Pt(_a(Z.vertical?Fe(mT):Fe(dT)),{key:1}))]),_:3},8,["disabled","aria-label","class"])):rt("",!0)])],64))])}}}),hK={class:"dp__calendar_header",role:"row"},pK={key:0,class:"dp__calendar_header_item",role:"gridcell"},mK=["aria-label"],yK={key:0,class:"dp__calendar_item dp__week_num",role:"gridcell"},gK={class:"dp__cell_inner"},_K=["id","aria-pressed","aria-disabled","aria-label","tabindex","data-test-id","onClick","onTouchend","onKeydown","onMouseenter","onMouseleave","onMousedown"],bK=zt({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Wi},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(e,{expose:t,emit:r}){const n=r,i=e,{buildMultiLevelMatrix:a}=$o(),{defaultedTransitions:o,defaultedConfig:s,defaultedAriaLabels:l,defaultedMultiCalendars:u,defaultedWeekNumbers:f,defaultedMultiDates:d,defaultedUI:c}=br(i),p=Je(null),b=Je({bottom:"",left:"",transform:""}),v=Je([]),_=Je(null),y=Je(!0),m=Je(""),g=Je({startX:0,endX:0,startY:0,endY:0}),S=Je([]),x=Je({left:"50%"}),I=Je(!1),N=tt(()=>i.calendar?i.calendar(i.mappedDates):i.mappedDates),q=tt(()=>i.dayNames?Array.isArray(i.dayNames)?i.dayNames:i.dayNames(i.locale,+i.weekStart):YG(i.formatLocale,i.locale,+i.weekStart));ir(()=>{n("mount",{cmp:"calendar",refs:v}),s.value.noSwipe||_.value&&(_.value.addEventListener("touchstart",H,{passive:!1}),_.value.addEventListener("touchend",oe,{passive:!1}),_.value.addEventListener("touchmove",he,{passive:!1})),i.monthChangeOnScroll&&_.value&&_.value.addEventListener("wheel",ee,{passive:!1})});const D=R=>R?i.vertical?"vNext":"next":i.vertical?"vPrevious":"previous",M=(R,w)=>{if(i.transitions){const T=dn(Ua(st(),i.month,i.year));m.value=Mr(dn(Ua(st(),R,w)),T)?o.value[D(!0)]:o.value[D(!1)],y.value=!1,Ar(()=>{y.value=!0})}},j=tt(()=>({...c.value.calendar??{}})),P=tt(()=>R=>{const w=JG(R);return{dp__marker_dot:w.type==="dot",dp__marker_line:w.type==="line"}}),B=tt(()=>R=>qt(R,p.value)),Y=tt(()=>({dp__calendar:!0,dp__calendar_next:u.value.count>0&&i.instance!==0})),ie=tt(()=>R=>i.hideOffsetDates?R.current:!0),X=async(R,w)=>{const{width:T,height:k}=R.getBoundingClientRect();p.value=w.value;let U={left:`${T/2}px`},re=-50;if(await Ar(),S.value[0]){const{left:fe,width:ve}=S.value[0].getBoundingClientRect();fe<0&&(U={left:"0"},re=0,x.value.left=`${T/2}px`),window.innerWidth<fe+ve&&(U={right:"0"},re=0,x.value.left=`${ve-T/2}px`)}b.value={bottom:`${k}px`,...U,transform:`translateX(${re}%)`}},le=async(R,w,T)=>{var k,U,re;const fe=Zr(v.value[w][T]);fe&&((k=R.marker)!=null&&k.customPosition&&(re=(U=R.marker)==null?void 0:U.tooltip)!=null&&re.length?b.value=R.marker.customPosition(fe):await X(fe,R),n("tooltip-open",R.marker))},ae=async(R,w,T)=>{var k,U;if(I.value&&d.value.enabled&&d.value.dragSelect)return n("select-date",R);if(n("set-hover-date",R),(U=(k=R.marker)==null?void 0:k.tooltip)!=null&&U.length){if(i.hideOffsetDates&&!R.current)return;await le(R,w,T)}},ne=R=>{p.value&&(p.value=null,b.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),n("tooltip-close",R.marker))},H=R=>{g.value.startX=R.changedTouches[0].screenX,g.value.startY=R.changedTouches[0].screenY},oe=R=>{g.value.endX=R.changedTouches[0].screenX,g.value.endY=R.changedTouches[0].screenY,Z()},he=R=>{i.vertical&&!i.inline&&R.preventDefault()},Z=()=>{const R=i.vertical?"Y":"X";Math.abs(g.value[`start${R}`]-g.value[`end${R}`])>10&&n("handle-swipe",g.value[`start${R}`]>g.value[`end${R}`]?"right":"left")},Q=(R,w,T)=>{R&&(Array.isArray(v.value[w])?v.value[w][T]=R:v.value[w]=[R]),i.arrowNavigation&&a(v.value,"calendar")},ee=R=>{i.monthChangeOnScroll&&(R.preventDefault(),n("handle-scroll",R))},O=R=>f.value.type==="local"?uT(R.value,{weekStartsOn:+i.weekStart}):f.value.type==="iso"?oT(R.value):typeof f.value.type=="function"?f.value.type(R.value):"",A=R=>{const w=R[0];return f.value.hideOnOffsetDates?R.some(T=>T.current)?O(w):"":O(w)},$=(R,w,T=!0)=>{!T&&iW()||(!d.value.enabled||s.value.allowPreventDefault)&&(Io(R,s.value),n("select-date",w))},te=R=>{Io(R,s.value)},pe=R=>{d.value.enabled&&d.value.dragSelect?(I.value=!0,n("select-date",R)):d.value.enabled&&n("select-date",R)};return t({triggerTransition:M}),(R,w)=>(Ze(),et("div",{class:vt(Y.value)},[_t("div",{ref_key:"calendarWrapRef",ref:_,class:vt(j.value),role:"grid"},[_t("div",hK,[R.weekNumbers?(Ze(),et("div",pK,Gt(R.weekNumName),1)):rt("",!0),(Ze(!0),et(wt,null,pr(q.value,(T,k)=>{var U,re;return Ze(),et("div",{key:k,class:"dp__calendar_header_item",role:"gridcell","data-test-id":"calendar-header","aria-label":(re=(U=Fe(l))==null?void 0:U.weekDay)==null?void 0:re.call(U,k)},[R.$slots["calendar-header"]?pt(R.$slots,"calendar-header",{key:0,day:T,index:k}):rt("",!0),R.$slots["calendar-header"]?rt("",!0):(Ze(),et(wt,{key:1},[Si(Gt(T),1)],64))],8,mK)}),128))]),w[2]||(w[2]=_t("div",{class:"dp__calendar_header_separator"},null,-1)),kt(Qu,{name:m.value,css:!!R.transitions},{default:bt(()=>[y.value?(Ze(),et("div",{key:0,class:"dp__calendar",role:"rowgroup",onMouseleave:w[1]||(w[1]=T=>I.value=!1)},[(Ze(!0),et(wt,null,pr(N.value,(T,k)=>(Ze(),et("div",{key:k,class:"dp__calendar_row",role:"row"},[R.weekNumbers?(Ze(),et("div",yK,[_t("div",gK,Gt(A(T.days)),1)])):rt("",!0),(Ze(!0),et(wt,null,pr(T.days,(U,re)=>{var fe,ve,ce;return Ze(),et("div",{id:Fe(bE)(U.value),ref_for:!0,ref:Ie=>Q(Ie,k,re),key:re+k,role:"gridcell",class:"dp__calendar_item","aria-pressed":(U.classData.dp__active_date||U.classData.dp__range_start||U.classData.dp__range_start)??void 0,"aria-disabled":U.classData.dp__cell_disabled||void 0,"aria-label":(ve=(fe=Fe(l))==null?void 0:fe.day)==null?void 0:ve.call(fe,U),tabindex:!U.current&&R.hideOffsetDates?void 0:0,"data-test-id":Fe(bE)(U.value),onClick:Up(Ie=>$(Ie,U),["prevent"]),onTouchend:Ie=>$(Ie,U,!1),onKeydown:Ie=>Fe(Ln)(Ie,()=>R.$emit("select-date",U)),onMouseenter:Ie=>ae(U,k,re),onMouseleave:Ie=>ne(U),onMousedown:Ie=>pe(U),onMouseup:w[0]||(w[0]=Ie=>I.value=!1)},[_t("div",{class:vt(["dp__cell_inner",U.classData])},[R.$slots.day&&ie.value(U)?pt(R.$slots,"day",{key:0,day:+U.text,date:U.value}):rt("",!0),R.$slots.day?rt("",!0):(Ze(),et(wt,{key:1},[Si(Gt(U.text),1)],64)),U.marker&&ie.value(U)?(Ze(),et(wt,{key:2},[R.$slots.marker?pt(R.$slots,"marker",{key:0,marker:U.marker,day:+U.text,date:U.value}):(Ze(),et("div",{key:1,class:vt(P.value(U.marker)),style:kr(U.marker.color?{backgroundColor:U.marker.color}:{})},null,6))],64)):rt("",!0),B.value(U.value)?(Ze(),et("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:S,class:"dp__marker_tooltip",style:kr(b.value)},[(ce=U.marker)!=null&&ce.tooltip?(Ze(),et("div",{key:0,class:"dp__tooltip_content",onClick:te},[(Ze(!0),et(wt,null,pr(U.marker.tooltip,(Ie,be)=>(Ze(),et("div",{key:be,class:"dp__tooltip_text"},[R.$slots["marker-tooltip"]?pt(R.$slots,"marker-tooltip",{key:0,tooltip:Ie,day:U.value}):rt("",!0),R.$slots["marker-tooltip"]?rt("",!0):(Ze(),et(wt,{key:1},[_t("div",{class:"dp__tooltip_mark",style:kr(Ie.color?{backgroundColor:Ie.color}:{})},null,4),_t("div",null,Gt(Ie.text),1)],64))]))),128)),_t("div",{class:"dp__arrow_bottom_tp",style:kr(x.value)},null,4)])):rt("",!0)],4)):rt("",!0)],2)],40,_K)}),128))]))),128))],32)):rt("",!0)]),_:3},8,["name","css"])],2)],2))}}),Z2=e=>Array.isArray(e),vK=(e,t,r,n)=>{const i=Je([]),a=Je(new Date),o=Je(),s=()=>oe(e.isTextInputDate),{modelValue:l,calendars:u,time:f,today:d}=l0(e,t,s),{defaultedMultiCalendars:c,defaultedStartTime:p,defaultedRange:b,defaultedConfig:v,defaultedTz:_,propDates:y,defaultedMultiDates:m}=br(e),{validateMonthYearInRange:g,isDisabled:S,isDateRangeAllowed:x,checkMinMaxRange:I}=Uo(e),{updateTimeValues:N,getSetDateTime:q,setTime:D,assignStartTime:M,validateTime:j,disabledTimesConfig:P}=Hq(e,f,l,n),B=tt(()=>Re=>u.value[Re]?u.value[Re].month:0),Y=tt(()=>Re=>u.value[Re]?u.value[Re].year:0),ie=Re=>!v.value.keepViewOnOffsetClick||Re?!0:!o.value,X=(Re,Be,V,xe=!1)=>{var Ce,me;ie(xe)&&(u.value[Re]||(u.value[Re]={month:0,year:0}),u.value[Re].month=H2(Be)?(Ce=u.value[Re])==null?void 0:Ce.month:Be,u.value[Re].year=H2(V)?(me=u.value[Re])==null?void 0:me.year:V)},le=()=>{e.autoApply&&t("select-date")},ae=()=>{p.value&&M(p.value)};ir(()=>{e.shadow||(l.value||(w(),ae()),oe(!0),e.focusStartDate&&e.startDate&&w())});const ne=tt(()=>{var Re;return(Re=e.flow)!=null&&Re.length&&!e.partialFlow?e.flowStep===e.flow.length:!0}),H=()=>{e.autoApply&&ne.value&&t("auto-apply",e.partialFlow?e.flowStep!==e.flow.length:!1)},oe=(Re=!1)=>{if(l.value)return Array.isArray(l.value)?(i.value=l.value,$(Re)):Q(l.value,Re);if(c.value.count&&Re&&!e.startDate)return Z(st(),Re)},he=()=>Array.isArray(l.value)&&b.value.enabled?jt(l.value[0])===jt(l.value[1]??l.value[0]):!1,Z=(Re=new Date,Be=!1)=>{if((!c.value.count||!c.value.static||Be)&&X(0,jt(Re),At(Re)),c.value.count&&(!l.value||he()||!c.value.solo)&&(!c.value.solo||Be))for(let V=1;V<c.value.count;V++){const xe=nr(st(),{month:B.value(V-1),year:Y.value(V-1)}),Ce=iq(xe,{months:1});u.value[V]={month:jt(Ce),year:At(Ce)}}},Q=(Re,Be)=>{Z(Re),D("hours",Ga(Re)),D("minutes",Do(Re)),D("seconds",Du(Re)),c.value.count&&Be&&R()},ee=Re=>{if(c.value.count){if(c.value.solo)return 0;const Be=jt(Re[0]),V=jt(Re[1]);return Math.abs(V-Be)<c.value.count?0:1}return 1},O=(Re,Be)=>{Re[1]&&b.value.showLastInRange?Z(Re[ee(Re)],Be):Z(Re[0],Be);const V=(xe,Ce)=>[xe(Re[0]),Re[1]?xe(Re[1]):f[Ce][1]];D("hours",V(Ga,"hours")),D("minutes",V(Do,"minutes")),D("seconds",V(Du,"seconds"))},A=(Re,Be)=>{if((b.value.enabled||e.weekPicker)&&!m.value.enabled)return O(Re,Be);if(m.value.enabled&&Be){const V=Re[Re.length-1];return Q(V,Be)}},$=Re=>{const Be=l.value;A(Be,Re),c.value.count&&c.value.solo&&R()},te=(Re,Be)=>{const V=nr(st(),{month:B.value(Be),year:Y.value(Be)}),xe=Re<0?$i(V,1):Lu(V,1);g(jt(xe),At(xe),Re<0,e.preventMinMaxNavigation)&&(X(Be,jt(xe),At(xe)),t("update-month-year",{instance:Be,month:jt(xe),year:At(xe)}),c.value.count&&!c.value.solo&&pe(Be),r())},pe=Re=>{for(let Be=Re-1;Be>=0;Be--){const V=Lu(nr(st(),{month:B.value(Be+1),year:Y.value(Be+1)}),1);X(Be,jt(V),At(V))}for(let Be=Re+1;Be<=c.value.count-1;Be++){const V=$i(nr(st(),{month:B.value(Be-1),year:Y.value(Be-1)}),1);X(Be,jt(V),At(V))}},R=()=>{if(Array.isArray(l.value)&&l.value.length===2){const Re=st(st(l.value[1]?l.value[1]:$i(l.value[0],1))),[Be,V]=[jt(l.value[0]),At(l.value[0])],[xe,Ce]=[jt(l.value[1]),At(l.value[1])];(Be!==xe||Be===xe&&V!==Ce)&&c.value.solo&&X(1,jt(Re),At(Re))}else l.value&&!Array.isArray(l.value)&&(X(0,jt(l.value),At(l.value)),Z(st()))},w=()=>{e.startDate&&(X(0,jt(st(e.startDate)),At(st(e.startDate))),c.value.count&&pe(0))},T=(Re,Be)=>{if(e.monthChangeOnScroll){const V=new Date().getTime()-a.value.getTime(),xe=Math.abs(Re.deltaY);let Ce=500;xe>1&&(Ce=100),xe>100&&(Ce=0),V>Ce&&(a.value=new Date,te(e.monthChangeOnScroll!=="inverse"?-Re.deltaY:Re.deltaY,Be))}},k=(Re,Be,V=!1)=>{e.monthChangeOnArrows&&e.vertical===V&&U(Re,Be)},U=(Re,Be)=>{te(Re==="right"?-1:1,Be)},re=Re=>{if(y.value.markers)return _y(Re.value,y.value.markers)},fe=(Re,Be)=>{switch(e.sixWeeks===!0?"append":e.sixWeeks){case"prepend":return[!0,!1];case"center":return[Re==0,!0];case"fair":return[Re==0||Be>Re,!0];case"append":return[!1,!1];default:return[!1,!1]}},ve=(Re,Be,V,xe)=>{if(e.sixWeeks&&Re.length<6){const Ce=6-Re.length,me=(Be.getDay()+7-xe)%7,Me=6-(V.getDay()+7-xe)%7,[He,ft]=fe(me,Me);for(let we=1;we<=Ce;we++)if(ft?!!(we%2)==He:He){const W=Re[0].days[0],G=ce(mi(W.value,-7),jt(Be));Re.unshift({days:G})}else{const W=Re[Re.length-1],G=W.days[W.days.length-1],J=ce(mi(G.value,1),jt(Be));Re.push({days:J})}}return Re},ce=(Re,Be)=>{const V=st(Re),xe=[];for(let Ce=0;Ce<7;Ce++){const me=mi(V,Ce),Me=jt(me)!==Be;xe.push({text:e.hideOffsetDates&&Me?"":me.getDate(),value:me,current:!Me,classData:{}})}return xe},Ie=(Re,Be)=>{const V=[],xe=new Date(Be,Re),Ce=new Date(Be,Re+1,0),me=e.weekStart,Me=Vi(xe,{weekStartsOn:me}),He=ft=>{const we=ce(ft,Re);if(V.push({days:we}),!V[V.length-1].days.some(W=>qt(dn(W.value),dn(Ce)))){const W=mi(ft,7);He(W)}};return He(Me),ve(V,xe,Ce,me)},be=Re=>{const Be=Po(st(Re.value),f.hours,f.minutes,Ue());t("date-update",Be),m.value.enabled?wT(Be,l,m.value.limit):l.value=Be,n(),Ar().then(()=>{H()})},Te=Re=>b.value.noDisabledRange?Cq(i.value[0],Re).some(Be=>S(Be)):!1,je=()=>{i.value=l.value?l.value.slice():[],i.value.length===2&&!(b.value.fixedStart||b.value.fixedEnd)&&(i.value=[])},Ae=(Re,Be)=>{const V=[st(Re.value),mi(st(Re.value),+b.value.autoRange)];x(V)?(Be&&Oe(Re.value),i.value=V):t("invalid-date",Re.value)},Oe=Re=>{const Be=jt(st(Re)),V=At(st(Re));if(X(0,Be,V),c.value.count>0)for(let xe=1;xe<c.value.count;xe++){const Ce=uW(nr(st(Re),{year:Y.value(xe-1),month:B.value(xe-1)}));X(xe,Ce.month,Ce.year)}},ke=Re=>{if(Te(Re.value)||!I(Re.value,l.value,b.value.fixedStart?0:1))return t("invalid-date",Re.value);i.value=$q(st(Re.value),l,t,b)},Ke=(Re,Be)=>{if(je(),b.value.autoRange)return Ae(Re,Be);if(b.value.fixedStart||b.value.fixedEnd)return ke(Re);i.value[0]?I(st(Re.value),l.value)&&!Te(Re.value)?Rr(st(Re.value),st(i.value[0]))?(i.value.unshift(st(Re.value)),t("range-end",i.value[0])):(i.value[1]=st(Re.value),t("range-end",i.value[1])):(e.autoApply&&t("auto-apply-invalid",Re.value),t("invalid-date",Re.value)):(i.value[0]=st(Re.value),t("range-start",i.value[0]))},Ue=(Re=!0)=>e.enableSeconds?Array.isArray(f.seconds)?Re?f.seconds[0]:f.seconds[1]:f.seconds:0,it=Re=>{i.value[Re]=Po(i.value[Re],f.hours[Re],f.minutes[Re],Ue(Re!==1))},ye=()=>{var Re,Be;i.value[0]&&i.value[1]&&+((Re=i.value)==null?void 0:Re[0])>+((Be=i.value)==null?void 0:Be[1])&&(i.value.reverse(),t("range-start",i.value[0]),t("range-end",i.value[1]))},F=()=>{i.value.length&&(i.value[0]&&!i.value[1]?it(0):(it(0),it(1),n()),ye(),l.value=i.value.slice(),Uy(i.value,t,e.autoApply,e.modelAuto))},K=(Re,Be=!1)=>{if(S(Re.value)||!Re.current&&e.hideOffsetDates)return t("invalid-date",Re.value);if(o.value=JSON.parse(JSON.stringify(Re)),!b.value.enabled)return be(Re);Z2(f.hours)&&Z2(f.minutes)&&!m.value.enabled&&(Ke(Re,Be),F())},_e=(Re,Be)=>{var V;X(Re,Be.month,Be.year,!0),c.value.count&&!c.value.solo&&pe(Re),t("update-month-year",{instance:Re,month:Be.month,year:Be.year}),r(c.value.solo?Re:void 0);const xe=(V=e.flow)!=null&&V.length?e.flow[e.flowStep]:void 0;!Be.fromNav&&(xe===yn.month||xe===yn.year)&&n()},Pe=(Re,Be)=>{Bq({value:Re,modelValue:l,range:b.value.enabled,timezone:Be?void 0:_.value.timezone}),le(),e.multiCalendars&&Ar().then(()=>oe(!0))},se=()=>{const Re=yT(st(),_.value);!b.value.enabled&&!m.value.enabled?l.value=Re:l.value&&Array.isArray(l.value)&&l.value[0]?m.value.enabled?l.value=[...l.value,Re]:l.value=Rr(Re,l.value[0])?[Re,l.value[0]]:[l.value[0],Re]:l.value=[Re],le()},ge=()=>{if(Array.isArray(l.value))if(m.value.enabled){const Re=de();l.value[l.value.length-1]=q(Re)}else l.value=l.value.map((Re,Be)=>Re&&q(Re,Be));else l.value=q(l.value);t("time-update")},de=()=>Array.isArray(l.value)&&l.value.length?l.value[l.value.length-1]:null;return{calendars:u,modelValue:l,month:B,year:Y,time:f,disabledTimesConfig:P,today:d,validateTime:j,getCalendarDays:Ie,getMarker:re,handleScroll:T,handleSwipe:U,handleArrow:k,selectDate:K,updateMonthYear:_e,presetDate:Pe,selectCurrentDate:se,updateTime:(Re,Be=!0,V=!1)=>{N(Re,Be,V,ge)},assignMonthAndYear:Z,setStartTime:ae}},wK={key:0},SK=zt({__name:"DatePicker",props:{...Wi},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(e,{expose:t,emit:r}){const n=r,i=e,{calendars:a,month:o,year:s,modelValue:l,time:u,disabledTimesConfig:f,today:d,validateTime:c,getCalendarDays:p,getMarker:b,handleArrow:v,handleScroll:_,handleSwipe:y,selectDate:m,updateMonthYear:g,presetDate:S,selectCurrentDate:x,updateTime:I,assignMonthAndYear:N,setStartTime:q}=vK(i,n,he,Z),D=Us(),{setHoverDate:M,getDayClassData:j,clearHoverDate:P}=qK(l,i),{defaultedMultiCalendars:B}=br(i),Y=Je([]),ie=Je([]),X=Je(null),le=Xn(D,"calendar"),ae=Xn(D,"monthYear"),ne=Xn(D,"timePicker"),H=T=>{i.shadow||n("mount",T)};Xr(a,()=>{i.shadow||setTimeout(()=>{n("recalculate-position")},0)},{deep:!0}),Xr(B,(T,k)=>{T.count-k.count>0&&N()},{deep:!0});const oe=tt(()=>T=>p(o.value(T),s.value(T)).map(k=>({...k,days:k.days.map(U=>(U.marker=b(U),U.classData=j(U),U))})));function he(T){var k;T||T===0?(k=ie.value[T])==null||k.triggerTransition(o.value(T),s.value(T)):ie.value.forEach((U,re)=>U.triggerTransition(o.value(re),s.value(re)))}function Z(){n("update-flow-step")}const Q=(T,k=!1)=>{m(T,k),i.spaceConfirm&&n("select-date")},ee=(T,k,U=0)=>{var re;(re=Y.value[U])==null||re.toggleMonthPicker(T,k)},O=(T,k,U=0)=>{var re;(re=Y.value[U])==null||re.toggleYearPicker(T,k)},A=(T,k,U)=>{var re;(re=X.value)==null||re.toggleTimePicker(T,k,U)},$=(T,k)=>{var U;if(!i.range){const re=l.value?l.value:d,fe=k?new Date(k):re,ve=T?Vi(fe,{weekStartsOn:1}):cq(fe,{weekStartsOn:1});m({value:ve,current:jt(fe)===o.value(0),text:"",classData:{}}),(U=document.getElementById(bE(ve)))==null||U.focus()}},te=T=>{var k;(k=Y.value[0])==null||k.handleMonthYearChange(T,!0)},pe=T=>{g(0,{month:o.value(0),year:s.value(0)+(T?1:-1),fromNav:!0})},R=(T,k)=>{T===yn.time&&n(`time-picker-${k?"open":"close"}`),n("overlay-toggle",{open:k,overlay:T})},w=T=>{n("overlay-toggle",{open:!1,overlay:T}),n("focus-menu")};return t({clearHoverDate:P,presetDate:S,selectCurrentDate:x,toggleMonthPicker:ee,toggleYearPicker:O,toggleTimePicker:A,handleArrow:v,updateMonthYear:g,getSidebarProps:()=>({modelValue:l,month:o,year:s,time:u,updateTime:I,updateMonthYear:g,selectDate:m,presetDate:S}),changeMonth:te,changeYear:pe,selectWeekDate:$,setStartTime:q}),(T,k)=>(Ze(),et(wt,null,[kt($y,{"multi-calendars":Fe(B).count,collapse:T.collapse,"is-mobile":T.isMobile},{default:bt(({instance:U,index:re})=>[T.disableMonthYearSelect?rt("",!0):(Ze(),Pt(dK,Fr({key:0,ref:fe=>{fe&&(Y.value[re]=fe)},months:Fe(Rq)(T.formatLocale,T.locale,T.monthNameFormat),years:Fe(gT)(T.yearRange,T.locale,T.reverseYears),month:Fe(o)(U),year:Fe(s)(U),instance:U},T.$props,{onMount:k[0]||(k[0]=fe=>H(Fe(Ms).header)),onResetFlow:k[1]||(k[1]=fe=>T.$emit("reset-flow")),onUpdateMonthYear:fe=>Fe(g)(U,fe),onOverlayClosed:w,onOverlayOpened:k[2]||(k[2]=fe=>T.$emit("overlay-toggle",{open:!0,overlay:fe}))}),bn({_:2},[pr(Fe(ae),(fe,ve)=>({name:fe,fn:bt(ce=>[pt(T.$slots,fe,tn(Cn(ce)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),kt(bK,Fr({ref:fe=>{fe&&(ie.value[re]=fe)},"mapped-dates":oe.value(U),month:Fe(o)(U),year:Fe(s)(U),instance:U},T.$props,{onSelectDate:fe=>Fe(m)(fe,U!==1),onHandleSpace:fe=>Q(fe,U!==1),onSetHoverDate:k[3]||(k[3]=fe=>Fe(M)(fe)),onHandleScroll:fe=>Fe(_)(fe,U),onHandleSwipe:fe=>Fe(y)(fe,U),onMount:k[4]||(k[4]=fe=>H(Fe(Ms).calendar)),onResetFlow:k[5]||(k[5]=fe=>T.$emit("reset-flow")),onTooltipOpen:k[6]||(k[6]=fe=>T.$emit("tooltip-open",fe)),onTooltipClose:k[7]||(k[7]=fe=>T.$emit("tooltip-close",fe))}),bn({_:2},[pr(Fe(le),(fe,ve)=>({name:fe,fn:bt(ce=>[pt(T.$slots,fe,tn(Cn({...ce})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars","collapse","is-mobile"]),T.enableTimePicker?(Ze(),et("div",wK,[T.$slots["time-picker"]?pt(T.$slots,"time-picker",tn(Fr({key:0},{time:Fe(u),updateTime:Fe(I)}))):(Ze(),Pt(Vq,Fr({key:1,ref_key:"timePickerRef",ref:X},T.$props,{hours:Fe(u).hours,minutes:Fe(u).minutes,seconds:Fe(u).seconds,"internal-model-value":T.internalModelValue,"disabled-times-config":Fe(f),"validate-time":Fe(c),onMount:k[8]||(k[8]=U=>H(Fe(Ms).timePicker)),"onUpdate:hours":k[9]||(k[9]=U=>Fe(I)(U)),"onUpdate:minutes":k[10]||(k[10]=U=>Fe(I)(U,!1)),"onUpdate:seconds":k[11]||(k[11]=U=>Fe(I)(U,!1,!0)),onResetFlow:k[12]||(k[12]=U=>T.$emit("reset-flow")),onOverlayClosed:k[13]||(k[13]=U=>R(U,!1)),onOverlayOpened:k[14]||(k[14]=U=>R(U,!0)),onAmPmChange:k[15]||(k[15]=U=>T.$emit("am-pm-change",U))}),bn({_:2},[pr(Fe(ne),(U,re)=>({name:U,fn:bt(fe=>[pt(T.$slots,U,tn(Cn(fe)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):rt("",!0)],64))}}),EK=(e,t)=>{const r=Je(),{defaultedMultiCalendars:n,defaultedConfig:i,defaultedHighlight:a,defaultedRange:o,propDates:s,defaultedFilters:l,defaultedMultiDates:u}=br(e),{modelValue:f,year:d,month:c,calendars:p}=l0(e,t),{isDisabled:b}=Uo(e),{selectYear:v,groupedYears:_,showYearPicker:y,isDisabled:m,toggleYearPicker:g,handleYearSelect:S,handleYear:x}=Uq({modelValue:f,multiCalendars:n,range:o,highlight:a,calendars:p,propDates:s,month:c,year:d,filters:l,props:e,emit:t}),I=(ie,X)=>[ie,X].map(le=>ya(le,"MMMM",{locale:e.formatLocale})).join("-"),N=tt(()=>ie=>f.value?Array.isArray(f.value)?f.value.some(X=>$2(ie,X)):$2(f.value,ie):!1),q=ie=>{if(o.value.enabled){if(Array.isArray(f.value)){const X=qt(ie,f.value[0])||qt(ie,f.value[1]);return zp(f.value,r.value,ie)&&!X}return!1}return!1},D=(ie,X)=>ie.quarter===M2(X)&&ie.year===At(X),M=ie=>typeof a.value=="function"?a.value({quarter:M2(ie),year:At(ie)}):!!a.value.quarters.find(X=>D(X,ie)),j=tt(()=>ie=>{const X=nr(new Date,{year:d.value(ie)});return YH({start:Vp(X),end:fq(X)}).map(le=>{const ae=Ns(le),ne=k2(le),H=b(le),oe=q(ae),he=M(ae);return{text:I(ae,ne),value:ae,active:N.value(ae),highlighted:he,disabled:H,isBetween:oe}})}),P=ie=>{wT(ie,f,u.value.limit),t("auto-apply",!0)},B=ie=>{f.value=ST(f,ie,t),Uy(f.value,t,e.autoApply,e.modelAuto)},Y=ie=>{f.value=ie,t("auto-apply")};return{defaultedConfig:i,defaultedMultiCalendars:n,groupedYears:_,year:d,isDisabled:m,quarters:j,showYearPicker:y,modelValue:f,setHoverDate:ie=>{r.value=ie},selectYear:v,selectQuarter:(ie,X,le)=>{if(!le)return p.value[X].month=jt(k2(ie)),u.value.enabled?P(ie):o.value.enabled?B(ie):Y(ie)},toggleYearPicker:g,handleYearSelect:S,handleYear:x}},TK={class:"dp--quarter-items"},xK=["data-test-id","disabled","onClick","onMouseover"],RK=zt({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...Wi},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end","overlay-toggle","update-month-year"],setup(e,{expose:t,emit:r}){const n=r,i=e,a=Us(),o=Xn(a,"yearMode"),{defaultedMultiCalendars:s,defaultedConfig:l,groupedYears:u,year:f,isDisabled:d,quarters:c,modelValue:p,showYearPicker:b,setHoverDate:v,selectQuarter:_,toggleYearPicker:y,handleYearSelect:m,handleYear:g}=EK(i,n);return t({getSidebarProps:()=>({modelValue:p,year:f,selectQuarter:_,handleYearSelect:m,handleYear:g})}),(S,x)=>(Ze(),Pt($y,{"multi-calendars":Fe(s).count,collapse:S.collapse,stretch:"","is-mobile":S.isMobile},{default:bt(({instance:I})=>[_t("div",{class:"dp-quarter-picker-wrap",style:kr({minHeight:`${Fe(l).modeHeight}px`})},[S.$slots["top-extra"]?pt(S.$slots,"top-extra",{key:0,value:S.internalModelValue}):rt("",!0),_t("div",null,[kt(qq,Fr(S.$props,{items:Fe(u)(I),instance:I,"show-year-picker":Fe(b)[I],year:Fe(f)(I),"is-disabled":N=>Fe(d)(I,N),onHandleYear:N=>Fe(g)(I,N),onYearSelect:N=>Fe(m)(N,I),onToggleYearPicker:N=>Fe(y)(I,N==null?void 0:N.flow,N==null?void 0:N.show)}),bn({_:2},[pr(Fe(o),(N,q)=>({name:N,fn:bt(D=>[pt(S.$slots,N,tn(Cn(D)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_t("div",TK,[(Ze(!0),et(wt,null,pr(Fe(c)(I),(N,q)=>(Ze(),et("div",{key:q},[_t("button",{type:"button",class:vt(["dp--qr-btn",{"dp--qr-btn-active":N.active,"dp--qr-btn-between":N.isBetween,"dp--qr-btn-disabled":N.disabled,"dp--highlighted":N.highlighted}]),"data-test-id":N.value,disabled:N.disabled,onClick:D=>Fe(_)(N.value,I,N.disabled),onMouseover:D=>Fe(v)(N.value)},[S.$slots.quarter?pt(S.$slots,"quarter",{key:0,value:N.value,text:N.text}):(Ze(),et(wt,{key:1},[Si(Gt(N.text),1)],64))],42,xK)]))),128))])],4)]),_:3},8,["multi-calendars","collapse","is-mobile"]))}}),zq=(e,t)=>{const r=Je(0);ir(()=>{n(),window.addEventListener("resize",n,{passive:!0})}),Gi(()=>{window.removeEventListener("resize",n)});const n=()=>{r.value=window.document.documentElement.clientWidth};return{isMobile:tt(()=>r.value<=e.value.mobileBreakpoint&&!t?!0:void 0)}},AK=["id","tabindex","role","aria-label"],IK={key:0,class:"dp--menu-load-container"},PK={key:1,class:"dp--menu-header"},OK=["data-dp-mobile"],NK={key:0,class:"dp__sidebar_left"},DK=["data-dp-mobile"],CK=["data-test-id","data-dp-mobile","onClick","onKeydown"],LK={key:2,class:"dp__sidebar_right"},MK={key:3,class:"dp__action_extra"},Y2=zt({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...By,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},getInputRect:{type:Function,default:()=>({})},isTextInputDate:{type:Boolean,default:!1}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date","overlay-toggle","menu-blur"],setup(e,{expose:t,emit:r}){const n=r,i=e,a=Je(null),o=tt(()=>{const{openOnTop:be,...Te}=i;return{...Te,isMobile:v.value,flowStep:j.value,menuWrapRef:a.value}}),{setMenuFocused:s,setShiftKey:l,control:u}=jq(),f=Us(),{defaultedTextInput:d,defaultedInline:c,defaultedConfig:p,defaultedUI:b}=br(i),{isMobile:v}=zq(p,i.shadow),_=Je(null),y=Je(0),m=Je(null),g=Je(!1),S=Je(null),x=Je(!1);ir(()=>{if(!i.shadow){g.value=!0,I(),window.addEventListener("resize",I);const be=Zr(a);if(be&&!d.value.enabled&&!c.value.enabled&&(s(!0),ae()),be){const Te=je=>{x.value=!0,p.value.allowPreventDefault&&je.preventDefault(),Io(je,p.value,!0)};be.addEventListener("pointerdown",Te),be.addEventListener("mousedown",Te)}}document.addEventListener("mousedown",Ie)}),Gi(()=>{window.removeEventListener("resize",I),document.addEventListener("mousedown",Ie)});const I=()=>{const be=Zr(m);be&&(y.value=be.getBoundingClientRect().width)},{arrowRight:N,arrowLeft:q,arrowDown:D,arrowUp:M}=$o(),{flowStep:j,updateFlowStep:P,childMount:B,resetFlow:Y,handleFlow:ie}=BK(i,n,S),X=tt(()=>i.monthPicker?HW:i.yearPicker?GW:i.timePicker?oK:i.quarterPicker?RK:SK),le=tt(()=>{var be;if(p.value.arrowLeft)return p.value.arrowLeft;const Te=(be=a.value)==null?void 0:be.getBoundingClientRect(),je=i.getInputRect();return(je==null?void 0:je.width)<(y==null?void 0:y.value)&&(je==null?void 0:je.left)<=((Te==null?void 0:Te.left)??0)?`${(je==null?void 0:je.width)/2}px`:(je==null?void 0:je.right)>=((Te==null?void 0:Te.right)??0)&&(je==null?void 0:je.width)<(y==null?void 0:y.value)?`${(y==null?void 0:y.value)-(je==null?void 0:je.width)/2}px`:"50%"}),ae=()=>{const be=Zr(a);be&&be.focus({preventScroll:!0})},ne=tt(()=>{var be;return((be=S.value)==null?void 0:be.getSidebarProps())||{}}),H=()=>{i.openOnTop&&n("recalculate-position")},oe=Xn(f,"action"),he=tt(()=>i.monthPicker||i.yearPicker?Xn(f,"monthYear"):i.timePicker?Xn(f,"timePicker"):Xn(f,"shared")),Z=tt(()=>i.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),Q=tt(()=>({dp__menu_disabled:i.disabled,dp__menu_readonly:i.readonly,"dp-menu-loading":i.loading})),ee=tt(()=>({dp__menu:!0,dp__menu_index:!c.value.enabled,dp__relative:c.value.enabled,...b.value.menu??{}})),O=be=>{Io(be,p.value,!0)},A=()=>{i.escClose&&n("close-picker")},$=be=>{if(i.arrowNavigation){if(be===An.up)return M();if(be===An.down)return D();if(be===An.left)return q();if(be===An.right)return N()}else be===An.left||be===An.up?T("handleArrow",An.left,0,be===An.up):T("handleArrow",An.right,0,be===An.down)},te=be=>{l(be.shiftKey),!i.disableMonthYearSelect&&be.code===cr.tab&&be.target.classList.contains("dp__menu")&&u.value.shiftKeyInMenu&&(be.preventDefault(),Io(be,p.value,!0),n("close-picker"))},pe=()=>{ae(),n("time-picker-close")},R=be=>{var Te,je,Ae;(Te=S.value)==null||Te.toggleTimePicker(!1,!1),(je=S.value)==null||je.toggleMonthPicker(!1,!1,be),(Ae=S.value)==null||Ae.toggleYearPicker(!1,!1,be)},w=(be,Te=0)=>{var je,Ae,Oe;return be==="month"?(je=S.value)==null?void 0:je.toggleMonthPicker(!1,!0,Te):be==="year"?(Ae=S.value)==null?void 0:Ae.toggleYearPicker(!1,!0,Te):be==="time"?(Oe=S.value)==null?void 0:Oe.toggleTimePicker(!0,!1):R(Te)},T=(be,...Te)=>{var je,Ae;(je=S.value)!=null&&je[be]&&((Ae=S.value)==null||Ae[be](...Te))},k=()=>{T("selectCurrentDate")},U=(be,Te)=>{T("presetDate",F7(be),Te)},re=()=>{T("clearHoverDate")},fe=(be,Te)=>{T("updateMonthYear",be,Te)},ve=(be,Te)=>{be.preventDefault(),$(Te)},ce=be=>{var Te,je,Ae;if(te(be),be.key===cr.home||be.key===cr.end)return T("selectWeekDate",be.key===cr.home,be.target.getAttribute("id"));switch((be.key===cr.pageUp||be.key===cr.pageDown)&&(be.shiftKey?(T("changeYear",be.key===cr.pageUp),(Te=gE(a.value,"overlay-year"))==null||Te.focus()):(T("changeMonth",be.key===cr.pageUp),(je=gE(a.value,be.key===cr.pageUp?"action-prev":"action-next"))==null||je.focus()),be.target.getAttribute("id")&&((Ae=a.value)==null||Ae.focus({preventScroll:!0}))),be.key){case cr.esc:return A();case cr.arrowLeft:return ve(be,An.left);case cr.arrowRight:return ve(be,An.right);case cr.arrowUp:return ve(be,An.up);case cr.arrowDown:return ve(be,An.down);default:return}},Ie=be=>{var Te;c.value.enabled&&!c.value.input&&!((Te=a.value)!=null&&Te.contains(be.target))&&x.value&&(x.value=!1,n("menu-blur"))};return t({updateMonthYear:fe,switchView:w,handleFlow:ie,onValueCleared:()=>{var be,Te;(Te=(be=S.value)==null?void 0:be.setStartTime)==null||Te.call(be)}}),(be,Te)=>{var je,Ae,Oe;return Ze(),et("div",{id:be.uid?`dp-menu-${be.uid}`:void 0,ref_key:"dpMenuRef",ref:a,tabindex:Fe(c).enabled?void 0:"0",role:Fe(c).enabled?void 0:"dialog","aria-label":(je=be.ariaLabels)==null?void 0:je.menu,class:vt(ee.value),style:kr({"--dp-arrow-left":le.value}),onMouseleave:re,onClick:O,onKeydown:ce},[(be.disabled||be.readonly)&&Fe(c).enabled||be.loading?(Ze(),et("div",{key:0,class:vt(Q.value)},[be.loading?(Ze(),et("div",IK,Te[19]||(Te[19]=[_t("span",{class:"dp--menu-loader"},null,-1)]))):rt("",!0)],2)):rt("",!0),be.$slots["menu-header"]?(Ze(),et("div",PK,[pt(be.$slots,"menu-header")])):rt("",!0),!Fe(c).enabled&&!be.teleportCenter?(Ze(),et("div",{key:2,class:vt(Z.value)},null,2)):rt("",!0),_t("div",{ref_key:"innerMenuRef",ref:m,class:vt({dp__menu_content_wrapper:((Ae=be.presetDates)==null?void 0:Ae.length)||!!be.$slots["left-sidebar"]||!!be.$slots["right-sidebar"],"dp--menu-content-wrapper-collapsed":e.collapse&&(((Oe=be.presetDates)==null?void 0:Oe.length)||!!be.$slots["left-sidebar"]||!!be.$slots["right-sidebar"])}),"data-dp-mobile":Fe(v),style:kr({"--dp-menu-width":`${y.value}px`})},[be.$slots["left-sidebar"]?(Ze(),et("div",NK,[pt(be.$slots,"left-sidebar",tn(Cn(ne.value)))])):rt("",!0),be.presetDates.length?(Ze(),et("div",{key:1,class:vt({"dp--preset-dates-collapsed":e.collapse,"dp--preset-dates":!0}),"data-dp-mobile":Fe(v)},[(Ze(!0),et(wt,null,pr(be.presetDates,(ke,Ke)=>(Ze(),et(wt,{key:Ke},[ke.slot?pt(be.$slots,ke.slot,{key:0,presetDate:U,label:ke.label,value:ke.value}):(Ze(),et("button",{key:1,type:"button",style:kr(ke.style||{}),class:vt(["dp__btn dp--preset-range",{"dp--preset-range-collapsed":e.collapse}]),"data-test-id":ke.testId??void 0,"data-dp-mobile":Fe(v),onClick:Up(Ue=>U(ke.value,ke.noTz),["prevent"]),onKeydown:Ue=>Fe(Ln)(Ue,()=>U(ke.value,ke.noTz),!0)},Gt(ke.label),47,CK))],64))),128))],10,DK)):rt("",!0),_t("div",{ref_key:"calendarWrapperRef",ref:_,class:"dp__instance_calendar",role:"document"},[(Ze(),Pt(_a(X.value),Fr({ref_key:"dynCmpRef",ref:S},o.value,{"flow-step":Fe(j),onMount:Fe(B),onUpdateFlowStep:Fe(P),onResetFlow:Fe(Y),onFocusMenu:ae,onSelectDate:Te[0]||(Te[0]=ke=>be.$emit("select-date")),onDateUpdate:Te[1]||(Te[1]=ke=>be.$emit("date-update",ke)),onTooltipOpen:Te[2]||(Te[2]=ke=>be.$emit("tooltip-open",ke)),onTooltipClose:Te[3]||(Te[3]=ke=>be.$emit("tooltip-close",ke)),onAutoApply:Te[4]||(Te[4]=ke=>be.$emit("auto-apply",ke)),onRangeStart:Te[5]||(Te[5]=ke=>be.$emit("range-start",ke)),onRangeEnd:Te[6]||(Te[6]=ke=>be.$emit("range-end",ke)),onInvalidFixedRange:Te[7]||(Te[7]=ke=>be.$emit("invalid-fixed-range",ke)),onTimeUpdate:Te[8]||(Te[8]=ke=>be.$emit("time-update")),onAmPmChange:Te[9]||(Te[9]=ke=>be.$emit("am-pm-change",ke)),onTimePickerOpen:Te[10]||(Te[10]=ke=>be.$emit("time-picker-open",ke)),onTimePickerClose:pe,onRecalculatePosition:H,onUpdateMonthYear:Te[11]||(Te[11]=ke=>be.$emit("update-month-year",ke)),onAutoApplyInvalid:Te[12]||(Te[12]=ke=>be.$emit("auto-apply-invalid",ke)),onInvalidDate:Te[13]||(Te[13]=ke=>be.$emit("invalid-date",ke)),onOverlayToggle:Te[14]||(Te[14]=ke=>be.$emit("overlay-toggle",ke)),"onUpdate:internalModelValue":Te[15]||(Te[15]=ke=>be.$emit("update:internal-model-value",ke))}),bn({_:2},[pr(he.value,(ke,Ke)=>({name:ke,fn:bt(Ue=>[pt(be.$slots,ke,tn(Cn({...Ue})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),be.$slots["right-sidebar"]?(Ze(),et("div",LK,[pt(be.$slots,"right-sidebar",tn(Cn(ne.value)))])):rt("",!0),be.$slots["action-extra"]?(Ze(),et("div",MK,[be.$slots["action-extra"]?pt(be.$slots,"action-extra",{key:0,selectCurrentDate:k}):rt("",!0)])):rt("",!0)],14,OK),!be.autoApply||Fe(p).keepActionRow?(Ze(),Pt(MW,Fr({key:3,"menu-mount":g.value},o.value,{"calendar-width":y.value,onClosePicker:Te[16]||(Te[16]=ke=>be.$emit("close-picker")),onSelectDate:Te[17]||(Te[17]=ke=>be.$emit("select-date")),onInvalidSelect:Te[18]||(Te[18]=ke=>be.$emit("invalid-select")),onSelectNow:k}),bn({_:2},[pr(Fe(oe),(ke,Ke)=>({name:ke,fn:bt(Ue=>[pt(be.$slots,ke,tn(Cn({...Ue})))])}))]),1040,["menu-mount","calendar-width"])):rt("",!0)],46,AK)}}});var gu=(e=>(e.center="center",e.left="left",e.right="right",e))(gu||{});const kK=({menuRef:e,menuRefInner:t,inputRef:r,pickerWrapperRef:n,inline:i,emit:a,props:o,slots:s})=>{const{defaultedConfig:l}=br(o),u=Je({}),f=Je(!1),d=Je({top:"0",left:"0"}),c=Je(!1),p=Mp(o,"teleportCenter");Xr(p,()=>{d.value=JSON.parse(JSON.stringify({})),x()});const b=X=>{if(o.teleport){const le=X.getBoundingClientRect();return{left:le.left+window.scrollX,top:le.top+window.scrollY}}return{top:0,left:0}},v=(X,le)=>{d.value.left=`${X+le-u.value.width}px`},_=X=>{d.value.left=`${X}px`},y=(X,le)=>{o.position===gu.left&&_(X),o.position===gu.right&&v(X,le),o.position===gu.center&&(d.value.left=`${X+le/2-u.value.width/2}px`)},m=X=>{const{width:le,height:ae}=X.getBoundingClientRect(),{top:ne,left:H}=b(X);return{top:+ne,left:+H,width:le,height:ae}},g=()=>{d.value.left="50%",d.value.top="50%",d.value.transform="translate(-50%, -50%)",d.value.position="fixed",delete d.value.opacity},S=()=>{const X=Zr(r);d.value=o.altPosition(X)},x=(X=!0)=>{var le;if(!i.value.enabled){if(p.value)return g();if(o.altPosition!==null)return S();if(X){const ae=o.teleport?(le=t.value)==null?void 0:le.$el:e.value;ae&&(u.value=ae.getBoundingClientRect()),a("recalculate-position")}return P()}},I=({inputEl:X,left:le,width:ae})=>{window.screen.width>768&&!f.value&&y(le,ae),D(X)},N=X=>{const{top:le,left:ae,height:ne,width:H}=m(X);d.value.top=`${ne+le+ +o.offset}px`,c.value=!1,f.value||(d.value.left=`${ae+H/2-u.value.width/2}px`),I({inputEl:X,left:ae,width:H})},q=X=>{const{top:le,left:ae,width:ne}=m(X);d.value.top=`${le-+o.offset-u.value.height}px`,c.value=!0,I({inputEl:X,left:ae,width:ne})},D=X=>{if(o.autoPosition){const{left:le,width:ae}=m(X),{left:ne,right:H}=u.value;if(!f.value){if(Math.abs(ne)!==Math.abs(H)){if(ne<=0)return f.value=!0,_(le);if(H>=document.documentElement.clientWidth)return f.value=!0,v(le,ae)}return y(le,ae)}}},M=()=>{const X=Zr(r);if(X){if(o.autoPosition===ki.top)return ki.top;if(o.autoPosition===ki.bottom)return ki.bottom;const{height:le}=u.value,{top:ae,height:ne}=X.getBoundingClientRect(),H=window.innerHeight-ae-ne,oe=ae;return le<=H?ki.bottom:le>H&&le<=oe?ki.top:H>=oe?ki.bottom:ki.top}return ki.bottom},j=X=>M()===ki.bottom?N(X):q(X),P=()=>{const X=Zr(r);if(X)return o.autoPosition?j(X):N(X)},B=function(X){if(X){const le=X.scrollHeight>X.clientHeight,ae=window.getComputedStyle(X).overflowY.indexOf("hidden")!==-1;return le&&!ae}return!0},Y=function(X){return!X||X===document.body||X.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:B(X)?X:Y(X.assignedSlot&&l.value.shadowDom?X.assignedSlot.parentNode:X.parentNode)},ie=X=>{if(X)switch(o.position){case gu.left:return{left:0,transform:"translateX(0)"};case gu.right:return{left:`${X.width}px`,transform:"translateX(-100%)"};default:return{left:`${X.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:c,menuStyle:d,xCorrect:f,setMenuPosition:x,getScrollableParent:Y,shadowRender:(X,le)=>{var ae,ne,H;const oe=document.createElement("div"),he=(ae=Zr(r))==null?void 0:ae.getBoundingClientRect();oe.setAttribute("id","dp--temp-container");const Z=(ne=n.value)!=null&&ne.clientWidth?n.value:document.body;Z.append(oe);const Q=ie(he),ee=l.value.shadowDom?Object.keys(s).filter(A=>["right-sidebar","left-sidebar","top-extra","action-extra"].includes(A)):Object.keys(s),O=Xa(X,{...le,shadow:!0,style:{opacity:0,position:"absolute",...Q}},Object.fromEntries(ee.map(A=>[A,s[A]])));cE(O,oe),u.value=(H=O.el)==null?void 0:H.getBoundingClientRect(),cE(null,oe),Z.removeChild(oe)}}},so=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"hours-overlay-header",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-header",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-header",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]},{name:"top-extra",use:["shared","month-year"]},{name:"tp-inline-arrow-up",use:["shared","time"]},{name:"tp-inline-arrow-down",use:["shared","time"]},{name:"menu-header",use:["menu"]}],FK=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],jK={all:()=>so,monthYear:()=>so.filter(e=>e.use.includes("month-year")),input:()=>FK,timePicker:()=>so.filter(e=>e.use.includes("time")),action:()=>so.filter(e=>e.use.includes("action")),calendar:()=>so.filter(e=>e.use.includes("calendar")),menu:()=>so.filter(e=>e.use.includes("menu")),shared:()=>so.filter(e=>e.use.includes("shared")),yearMode:()=>so.filter(e=>e.use.includes("year-mode"))},Xn=(e,t,r)=>{const n=[];return jK[t]().forEach(i=>{e[i.name]&&n.push(i.name)}),r!=null&&r.length&&r.forEach(i=>{i.slot&&n.push(i.slot)}),n},u0=e=>{const t=tt(()=>n=>e.value?n?e.value.open:e.value.close:""),r=tt(()=>n=>e.value?n?e.value.menuAppearTop:e.value.menuAppearBottom:"");return{transitionName:t,showTransition:!!e.value,menuTransition:r}},l0=(e,t,r)=>{const{defaultedRange:n,defaultedTz:i}=br(e),a=st(zn(st(),i.value.timezone)),o=Je([{month:jt(a),year:At(a)}]),s=c=>{const p={hours:Ga(a),minutes:Do(a),seconds:0};return n.value.enabled?[p[c],p[c]]:p[c]},l=Za({hours:s("hours"),minutes:s("minutes"),seconds:s("seconds")});Xr(n,(c,p)=>{c.enabled!==p.enabled&&(l.hours=s("hours"),l.minutes=s("minutes"),l.seconds=s("seconds"))},{deep:!0});const u=tt({get:()=>e.internalModelValue,set:c=>{!e.readonly&&!e.disabled&&t("update:internal-model-value",c)}}),f=tt(()=>c=>o.value[c]?o.value[c].month:0),d=tt(()=>c=>o.value[c]?o.value[c].year:0);return Xr(u,(c,p)=>{r&&JSON.stringify(c??{})!==JSON.stringify(p??{})&&r()},{deep:!0}),{calendars:o,time:l,modelValue:u,month:f,year:d,today:a}},qK=(e,t)=>{const{defaultedMultiCalendars:r,defaultedMultiDates:n,defaultedUI:i,defaultedHighlight:a,defaultedTz:o,propDates:s,defaultedRange:l}=br(t),{isDisabled:u}=Uo(t),f=Je(null),d=Je(zn(new Date,o.value.timezone)),c=A=>{!A.current&&t.hideOffsetDates||(f.value=A.value)},p=()=>{f.value=null},b=A=>Array.isArray(e.value)&&l.value.enabled&&e.value[0]&&f.value?A?Mr(f.value,e.value[0]):Rr(f.value,e.value[0]):!0,v=(A,$)=>{const te=()=>e.value?$?e.value[0]||null:e.value[1]:null,pe=e.value&&Array.isArray(e.value)?te():null;return qt(st(A.value),pe)},_=A=>{const $=Array.isArray(e.value)?e.value[0]:null;return A?!Rr(f.value??null,$):!0},y=(A,$=!0)=>(l.value.enabled||t.weekPicker)&&Array.isArray(e.value)&&e.value.length===2?t.hideOffsetDates&&!A.current?!1:qt(st(A.value),e.value[$?0:1]):l.value.enabled?v(A,$)&&_($)||qt(A.value,Array.isArray(e.value)?e.value[0]:null)&&b($):!1,m=(A,$)=>{if(Array.isArray(e.value)&&e.value[0]&&e.value.length===1){const te=qt(A.value,f.value);return $?Mr(e.value[0],A.value)&&te:Rr(e.value[0],A.value)&&te}return!1},g=A=>!e.value||t.hideOffsetDates&&!A.current?!1:l.value.enabled?t.modelAuto&&Array.isArray(e.value)?qt(A.value,e.value[0]?e.value[0]:d.value):!1:n.value.enabled&&Array.isArray(e.value)?e.value.some($=>qt($,A.value)):qt(A.value,e.value?e.value:d.value),S=A=>{if(l.value.autoRange||t.weekPicker){if(f.value){if(t.hideOffsetDates&&!A.current)return!1;const $=mi(f.value,+l.value.autoRange),te=qa(st(f.value),t.weekStart);return t.weekPicker?qt(te[1],st(A.value)):qt($,st(A.value))}return!1}return!1},x=A=>{if(l.value.autoRange||t.weekPicker){if(f.value){const $=mi(f.value,+l.value.autoRange);if(t.hideOffsetDates&&!A.current)return!1;const te=qa(st(f.value),t.weekStart);return t.weekPicker?Mr(A.value,te[0])&&Rr(A.value,te[1]):Mr(A.value,f.value)&&Rr(A.value,$)}return!1}return!1},I=A=>{if(l.value.autoRange||t.weekPicker){if(f.value){if(t.hideOffsetDates&&!A.current)return!1;const $=qa(st(f.value),t.weekStart);return t.weekPicker?qt($[0],A.value):qt(f.value,A.value)}return!1}return!1},N=A=>zp(e.value,f.value,A.value),q=()=>t.modelAuto&&Array.isArray(t.internalModelValue)?!!t.internalModelValue[0]:!1,D=()=>t.modelAuto?Aq(t.internalModelValue):!0,M=A=>{if(t.weekPicker)return!1;const $=l.value.enabled?!y(A)&&!y(A,!1):!0;return!u(A.value)&&!g(A)&&!(!A.current&&t.hideOffsetDates)&&$},j=A=>l.value.enabled?t.modelAuto?q()&&g(A):!1:g(A),P=A=>a.value?nW(A.value,s.value.highlight):!1,B=A=>{const $=u(A.value);return $&&(typeof a.value=="function"?!a.value(A.value,$):!a.value.options.highlightDisabled)},Y=A=>{var $;return typeof a.value=="function"?a.value(A.value):($=a.value.weekdays)==null?void 0:$.includes(A.value.getDay())},ie=A=>(l.value.enabled||t.weekPicker)&&(!(r.value.count>0)||A.current)&&D()&&!(!A.current&&t.hideOffsetDates)&&!g(A)?N(A):!1,X=A=>{if(Array.isArray(e.value)&&e.value.length===1){const{before:$,after:te}=W2(+l.value.maxRange,e.value[0]);return Cu(A.value,$)||js(A.value,te)}return!1},le=A=>{if(Array.isArray(e.value)&&e.value.length===1){const{before:$,after:te}=W2(+l.value.minRange,e.value[0]);return zp([$,te],e.value[0],A.value)}return!1},ae=A=>l.value.enabled&&(l.value.maxRange||l.value.minRange)?l.value.maxRange&&l.value.minRange?X(A)||le(A):l.value.maxRange?X(A):le(A):!1,ne=A=>{const{isRangeStart:$,isRangeEnd:te}=Z(A),pe=l.value.enabled?$||te:!1;return{dp__cell_offset:!A.current,dp__pointer:!t.disabled&&!(!A.current&&t.hideOffsetDates)&&!u(A.value)&&!ae(A),dp__cell_disabled:u(A.value)||ae(A),dp__cell_highlight:!B(A)&&(P(A)||Y(A))&&!j(A)&&!pe&&!I(A)&&!(ie(A)&&t.weekPicker)&&!te,dp__cell_highlight_active:!B(A)&&(P(A)||Y(A))&&j(A),dp__today:!t.noToday&&qt(A.value,d.value)&&A.current,"dp--past":Rr(A.value,d.value),"dp--future":Mr(A.value,d.value)}},H=A=>({dp__active_date:j(A),dp__date_hover:M(A)}),oe=A=>{if(e.value&&!Array.isArray(e.value)){const $=qa(e.value,t.weekStart);return{...ee(A),dp__range_start:qt($[0],A.value),dp__range_end:qt($[1],A.value),dp__range_between_week:Mr(A.value,$[0])&&Rr(A.value,$[1])}}return{...ee(A)}},he=A=>{if(e.value&&Array.isArray(e.value)){const $=qa(e.value[0],t.weekStart),te=e.value[1]?qa(e.value[1],t.weekStart):[];return{...ee(A),dp__range_start:qt($[0],A.value)||qt(te[0],A.value),dp__range_end:qt($[1],A.value)||qt(te[1],A.value),dp__range_between_week:Mr(A.value,$[0])&&Rr(A.value,$[1])||Mr(A.value,te[0])&&Rr(A.value,te[1]),dp__range_between:Mr(A.value,$[1])&&Rr(A.value,te[0])}}return{...ee(A)}},Z=A=>{const $=r.value.count>0?A.current&&y(A)&&D():y(A)&&D(),te=r.value.count>0?A.current&&y(A,!1)&&D():y(A,!1)&&D();return{isRangeStart:$,isRangeEnd:te}},Q=A=>{const{isRangeStart:$,isRangeEnd:te}=Z(A);return{dp__range_start:$,dp__range_end:te,dp__range_between:ie(A),dp__date_hover:qt(A.value,f.value)&&!$&&!te&&!t.weekPicker,dp__date_hover_start:m(A,!0),dp__date_hover_end:m(A,!1)}},ee=A=>({...Q(A),dp__cell_auto_range:x(A),dp__cell_auto_range_start:I(A),dp__cell_auto_range_end:S(A)}),O=A=>l.value.enabled?l.value.autoRange?ee(A):t.modelAuto?{...H(A),...Q(A)}:t.weekPicker?he(A):Q(A):t.weekPicker?oe(A):H(A);return{setHoverDate:c,clearHoverDate:p,getDayClassData:A=>t.hideOffsetDates&&!A.current?{}:{...ne(A),...O(A),[t.dayClass?t.dayClass(A.value,t.internalModelValue):""]:!0,...i.value.calendarCell??{}}}},Uo=e=>{const{defaultedFilters:t,defaultedRange:r,propDates:n,defaultedMultiDates:i}=br(e),a=Y=>n.value.disabledDates?typeof n.value.disabledDates=="function"?n.value.disabledDates(st(Y)):!!_y(Y,n.value.disabledDates):!1,o=Y=>n.value.maxDate?e.yearPicker?At(Y)>At(n.value.maxDate):Mr(Y,n.value.maxDate):!1,s=Y=>n.value.minDate?e.yearPicker?At(Y)<At(n.value.minDate):Rr(Y,n.value.minDate):!1,l=Y=>{const ie=o(Y),X=s(Y),le=a(Y),ae=t.value.months.map(Z=>+Z).includes(jt(Y)),ne=e.disabledWeekDays.length?e.disabledWeekDays.some(Z=>+Z===Hz(Y)):!1,H=p(Y),oe=At(Y),he=oe<+e.yearRange[0]||oe>+e.yearRange[1];return!(ie||X||le||ae||he||ne||H)},u=(Y,ie)=>Rr(...To(n.value.minDate,Y,ie))||qt(...To(n.value.minDate,Y,ie)),f=(Y,ie)=>Mr(...To(n.value.maxDate,Y,ie))||qt(...To(n.value.maxDate,Y,ie)),d=(Y,ie,X)=>{let le=!1;return n.value.maxDate&&X&&f(Y,ie)&&(le=!0),n.value.minDate&&!X&&u(Y,ie)&&(le=!0),le},c=(Y,ie,X,le)=>{let ae=!1;return le&&(n.value.minDate||n.value.maxDate)?n.value.minDate&&n.value.maxDate?ae=d(Y,ie,X):(n.value.minDate&&u(Y,ie)||n.value.maxDate&&f(Y,ie))&&(ae=!0):ae=!0,ae},p=Y=>Array.isArray(n.value.allowedDates)&&!n.value.allowedDates.length?!0:n.value.allowedDates?!_y(Y,n.value.allowedDates):!1,b=Y=>!l(Y),v=Y=>r.value.noDisabledRange?!lq({start:Y[0],end:Y[1]}).some(ie=>b(ie)):!0,_=Y=>{if(Y){const ie=At(Y);return ie>=+e.yearRange[0]&&ie<=e.yearRange[1]}return!0},y=(Y,ie)=>!!(Array.isArray(Y)&&Y[ie]&&(r.value.maxRange||r.value.minRange)&&_(Y[ie])),m=(Y,ie,X=0)=>{if(y(ie,X)&&_(Y)){const le=oq(Y,ie[X]),ae=Cq(ie[X],Y),ne=ae.length===1?0:ae.filter(oe=>b(oe)).length,H=Math.abs(le)-(r.value.minMaxRawRange?0:ne);if(r.value.minRange&&r.value.maxRange)return H>=+r.value.minRange&&H<=+r.value.maxRange;if(r.value.minRange)return H>=+r.value.minRange;if(r.value.maxRange)return H<=+r.value.maxRange}return!0},g=()=>!e.enableTimePicker||e.monthPicker||e.yearPicker||e.ignoreTimeValidation,S=Y=>Array.isArray(Y)?[Y[0]?d_(Y[0]):null,Y[1]?d_(Y[1]):null]:d_(Y),x=(Y,ie,X)=>Y.find(le=>+le.hours===Ga(ie)&&le.minutes==="*"?!0:+le.minutes===Do(ie)&&+le.hours===Ga(ie))&&X,I=(Y,ie,X)=>{const[le,ae]=Y,[ne,H]=ie;return!x(le,ne,X)&&!x(ae,H,X)&&X},N=(Y,ie)=>{const X=Array.isArray(ie)?ie:[ie];return Array.isArray(e.disabledTimes)?Array.isArray(e.disabledTimes[0])?I(e.disabledTimes,X,Y):!X.some(le=>x(e.disabledTimes,le,Y)):Y},q=(Y,ie)=>{const X=Array.isArray(ie)?[ks(ie[0]),ie[1]?ks(ie[1]):void 0]:ks(ie),le=!e.disabledTimes(X);return Y&&le},D=(Y,ie)=>e.disabledTimes?Array.isArray(e.disabledTimes)?N(ie,Y):q(ie,Y):ie,M=Y=>{let ie=!0;if(!Y||g())return!0;const X=!n.value.minDate&&!n.value.maxDate?S(Y):Y;return(e.maxTime||n.value.maxDate)&&(ie=G2(e.maxTime,n.value.maxDate,"max",en(X),ie)),(e.minTime||n.value.minDate)&&(ie=G2(e.minTime,n.value.minDate,"min",en(X),ie)),D(Y,ie)},j=Y=>{if(!e.monthPicker)return!0;let ie=!0;const X=st(Fi(Y));if(n.value.minDate&&n.value.maxDate){const le=st(Fi(n.value.minDate)),ae=st(Fi(n.value.maxDate));return Mr(X,le)&&Rr(X,ae)||qt(X,le)||qt(X,ae)}if(n.value.minDate){const le=st(Fi(n.value.minDate));ie=Mr(X,le)||qt(X,le)}if(n.value.maxDate){const le=st(Fi(n.value.maxDate));ie=Rr(X,le)||qt(X,le)}return ie},P=tt(()=>Y=>!e.enableTimePicker||e.ignoreTimeValidation?!0:M(Y)),B=tt(()=>Y=>e.monthPicker?Array.isArray(Y)&&(r.value.enabled||i.value.enabled)?!Y.filter(ie=>!j(ie)).length:j(Y):!0);return{isDisabled:b,validateDate:l,validateMonthYearInRange:c,isDateRangeAllowed:v,checkMinMaxRange:m,isValidTime:M,isTimeValid:P,isMonthValid:B}},Vy=()=>{const e=tt(()=>(n,i)=>n==null?void 0:n.includes(i)),t=tt(()=>(n,i)=>n.count?n.solo?!0:i===0:!0),r=tt(()=>(n,i)=>n.count?n.solo?!0:i===n.count-1:!0);return{hideNavigationButtons:e,showLeftIcon:t,showRightIcon:r}},BK=(e,t,r)=>{const n=Je(0),i=Za({[Ms.timePicker]:!e.enableTimePicker||e.timePicker||e.monthPicker,[Ms.calendar]:!1,[Ms.header]:!1}),a=tt(()=>e.monthPicker||e.timePicker),o=d=>{var c;if((c=e.flow)!=null&&c.length){if(!d&&a.value)return f();i[d]=!0,Object.keys(i).filter(p=>!i[p]).length||f()}},s=()=>{var d,c;(d=e.flow)!=null&&d.length&&n.value!==-1&&(n.value+=1,t("flow-step",n.value),f()),((c=e.flow)==null?void 0:c.length)===n.value&&Ar().then(()=>l())},l=()=>{n.value=-1},u=(d,c,...p)=>{var b,v;e.flow[n.value]===d&&r.value&&((v=(b=r.value)[c])==null||v.call(b,...p))},f=(d=0)=>{d&&(n.value+=d),u(yn.month,"toggleMonthPicker",!0),u(yn.year,"toggleYearPicker",!0),u(yn.calendar,"toggleTimePicker",!1,!0),u(yn.time,"toggleTimePicker",!0,!0);const c=e.flow[n.value];(c===yn.hours||c===yn.minutes||c===yn.seconds)&&u(c,"toggleTimePicker",!0,!0,c)};return{childMount:o,updateFlowStep:s,resetFlow:l,handleFlow:f,flowStep:n}},$K={key:1,class:"dp__input_wrap"},UK=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],VK={key:2,class:"dp--clear-btn"},HK=["aria-label"],zK=zt({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...By},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur","text-input"],setup(e,{expose:t,emit:r}){const n=r,i=e,{defaultedTextInput:a,defaultedAriaLabels:o,defaultedInline:s,defaultedConfig:l,defaultedRange:u,defaultedMultiDates:f,defaultedUI:d,getDefaultPattern:c,getDefaultStartTime:p}=br(i),{checkMinMaxRange:b}=Uo(i),v=Je(),_=Je(null),y=Je(!1),m=Je(!1),g=tt(()=>({dp__pointer:!i.disabled&&!i.readonly&&!a.value.enabled,dp__disabled:i.disabled,dp__input_readonly:!a.value.enabled,dp__input:!0,dp__input_icon_pad:!i.hideInputIcon,dp__input_valid:typeof i.state=="boolean"?i.state:!1,dp__input_invalid:typeof i.state=="boolean"?!i.state:!1,dp__input_focus:y.value||i.isMenuOpen,dp__input_reg:!a.value.enabled,...d.value.input??{}})),S=()=>{n("set-input-date",null),i.clearable&&i.autoApply&&(n("set-empty-date"),v.value=null)},x=oe=>{const he=p();return oW(oe,a.value.format??c(),he??Lq({},i.enableSeconds),i.inputValue,m.value,i.formatLocale)},I=oe=>{const{rangeSeparator:he}=a.value,[Z,Q]=oe.split(`${he}`);if(Z){const ee=x(Z.trim()),O=Q?x(Q.trim()):null;if(js(ee,O))return;const A=ee&&O?[ee,O]:[ee];b(O,A,0)&&(v.value=ee?A:null)}},N=()=>{m.value=!0},q=oe=>{if(u.value.enabled)I(oe);else if(f.value.enabled){const he=oe.split(";");v.value=he.map(Z=>x(Z.trim())).filter(Z=>Z)}else v.value=x(oe)},D=oe=>{var he;const Z=typeof oe=="string"?oe:(he=oe.target)==null?void 0:he.value;Z!==""?(a.value.openMenu&&!i.isMenuOpen&&n("open"),q(Z),n("set-input-date",v.value)):S(),m.value=!1,n("update:input-value",Z),n("text-input",oe,v.value)},M=oe=>{a.value.enabled?(q(oe.target.value),a.value.enterSubmit&&_E(v.value)&&i.inputValue!==""?(n("set-input-date",v.value,!0),v.value=null):a.value.enterSubmit&&i.inputValue===""&&(v.value=null,n("clear"))):B(oe)},j=(oe,he)=>{a.value.enabled&&a.value.tabSubmit&&!he&&q(oe.target.value),a.value.tabSubmit&&_E(v.value)&&i.inputValue!==""?(n("set-input-date",v.value,!0,!0),v.value=null):a.value.tabSubmit&&i.inputValue===""&&(v.value=null,n("clear",!0))},P=()=>{y.value=!0,n("focus"),Ar().then(()=>{var oe;a.value.enabled&&a.value.selectOnFocus&&((oe=_.value)==null||oe.select())})},B=oe=>{if(Io(oe,l.value,!0),a.value.enabled&&a.value.openMenu&&!s.value.input){if(a.value.openMenu==="open"&&!i.isMenuOpen)return n("open");if(a.value.openMenu==="toggle")return n("toggle")}else a.value.enabled||n("toggle")},Y=()=>{n("real-blur"),y.value=!1,(!i.isMenuOpen||s.value.enabled&&s.value.input)&&n("blur"),i.autoApply&&a.value.enabled&&v.value&&!i.isMenuOpen&&(n("set-input-date",v.value),n("select-date"),v.value=null)},ie=oe=>{Io(oe,l.value,!0),n("clear")},X=()=>{n("close")},le=oe=>{if(oe.key==="Tab"&&j(oe),oe.key==="Enter"&&M(oe),oe.key==="Escape"&&a.value.escClose&&X(),!a.value.enabled){if(oe.code==="Tab")return;oe.preventDefault()}},ae=()=>{var oe;(oe=_.value)==null||oe.focus({preventScroll:!0})},ne=oe=>{v.value=oe},H=oe=>{oe.key===cr.tab&&j(oe,!0)};return t({focusInput:ae,setParsedDate:ne}),(oe,he)=>{var Z,Q,ee;return Ze(),et("div",{onClick:B},[oe.$slots.trigger&&!oe.$slots["dp-input"]&&!Fe(s).enabled?pt(oe.$slots,"trigger",{key:0}):rt("",!0),!oe.$slots.trigger&&(!Fe(s).enabled||Fe(s).input)?(Ze(),et("div",$K,[oe.$slots["dp-input"]&&!oe.$slots.trigger&&(!Fe(s).enabled||Fe(s).enabled&&Fe(s).input)?pt(oe.$slots,"dp-input",{key:0,value:e.inputValue,isMenuOpen:e.isMenuOpen,onInput:D,onEnter:M,onTab:j,onClear:ie,onBlur:Y,onKeypress:le,onPaste:N,onFocus:P,openMenu:()=>oe.$emit("open"),closeMenu:()=>oe.$emit("close"),toggleMenu:()=>oe.$emit("toggle")}):rt("",!0),oe.$slots["dp-input"]?rt("",!0):(Ze(),et("input",{key:1,id:oe.uid?`dp-input-${oe.uid}`:void 0,ref_key:"inputRef",ref:_,"data-test-id":"dp-input",name:oe.name,class:vt(g.value),inputmode:Fe(a).enabled?"text":"none",placeholder:oe.placeholder,disabled:oe.disabled,readonly:oe.readonly,required:oe.required,value:e.inputValue,autocomplete:oe.autocomplete,"aria-label":(Z=Fe(o))==null?void 0:Z.input,"aria-disabled":oe.disabled||void 0,"aria-invalid":oe.state===!1?!0:void 0,onInput:D,onBlur:Y,onFocus:P,onKeypress:le,onKeydown:he[0]||(he[0]=O=>le(O)),onPaste:N},null,42,UK)),_t("div",{onClick:he[3]||(he[3]=O=>n("toggle"))},[oe.$slots["input-icon"]&&!oe.hideInputIcon?(Ze(),et("span",{key:0,class:"dp__input_icon",onClick:he[1]||(he[1]=O=>n("toggle"))},[pt(oe.$slots,"input-icon")])):rt("",!0),!oe.$slots["input-icon"]&&!oe.hideInputIcon&&!oe.$slots["dp-input"]?(Ze(),Pt(Fe(Ju),{key:1,"aria-label":(Q=Fe(o))==null?void 0:Q.calendarIcon,class:"dp__input_icon dp__input_icons",onClick:he[2]||(he[2]=O=>n("toggle"))},null,8,["aria-label"])):rt("",!0)]),oe.$slots["clear-icon"]&&(oe.alwaysClearable||e.inputValue&&oe.clearable&&!oe.disabled&&!oe.readonly)?(Ze(),et("span",VK,[pt(oe.$slots,"clear-icon",{clear:ie})])):rt("",!0),!oe.$slots["clear-icon"]&&(oe.alwaysClearable||oe.clearable&&e.inputValue&&!oe.disabled&&!oe.readonly)?(Ze(),et("button",{key:3,"aria-label":(ee=Fe(o))==null?void 0:ee.clearInput,class:"dp--clear-btn",type:"button",onKeydown:he[4]||(he[4]=O=>Fe(Ln)(O,()=>ie(O),!0,H)),onClick:he[5]||(he[5]=Up(O=>ie(O),["prevent"]))},[kt(Fe(xq),{class:"dp__input_icons","data-test-id":"clear-icon"})],40,HK)):rt("",!0)])):rt("",!0)])}}}),GK=typeof window<"u"?window:void 0,__=()=>{},WK=e=>T6()?(p7(e),!0):!1,KK=(e,t,r,n)=>{if(!e)return __;let i=__;const a=Xr(()=>Fe(e),s=>{i(),s&&(s.addEventListener(t,r,n),i=()=>{s.removeEventListener(t,r,n),i=__})},{immediate:!0,flush:"post"}),o=()=>{a(),i()};return WK(o),o},QK=(e,t,r,n={})=>{const{window:i=GK,event:a="pointerdown"}=n;return i?KK(i,a,o=>{const s=Zr(e),l=Zr(t);!s||!l||s===o.target||o.composedPath().includes(s)||o.composedPath().includes(l)||r(o)},{passive:!0}):void 0},ZK=["data-dp-mobile"],YK=zt({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...By},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date","overlay-toggle","text-input"],setup(e,{expose:t,emit:r}){const n=r,i=e,a=Us(),o=Je(!1),s=Mp(i,"modelValue"),l=Mp(i,"timezone"),u=Je(null),f=Je(null),d=Je(null),c=Je(!1),p=Je(null),b=Je(!1),v=Je(!1),_=Je(!1),y=Je(!1),{setMenuFocused:m,setShiftKey:g}=jq(),{clearArrowNav:S}=$o(),{validateDate:x,isValidTime:I}=Uo(i),{defaultedTransitions:N,defaultedTextInput:q,defaultedInline:D,defaultedConfig:M,defaultedRange:j,defaultedMultiDates:P}=br(i),{menuTransition:B,showTransition:Y}=u0(N),{isMobile:ie}=zq(M);ir(()=>{O(i.modelValue),Ar().then(()=>{if(!D.value.enabled){const xe=he(p.value);xe==null||xe.addEventListener("scroll",re),window==null||window.addEventListener("resize",fe)}}),D.value.enabled&&(o.value=!0),window==null||window.addEventListener("keyup",ve),window==null||window.addEventListener("keydown",ce)}),Gi(()=>{if(!D.value.enabled){const xe=he(p.value);xe==null||xe.removeEventListener("scroll",re),window==null||window.removeEventListener("resize",fe)}window==null||window.removeEventListener("keyup",ve),window==null||window.removeEventListener("keydown",ce)});const X=Xn(a,"all",i.presetDates),le=Xn(a,"input");Xr([s,l],()=>{O(s.value)},{deep:!0});const{openOnTop:ae,menuStyle:ne,xCorrect:H,setMenuPosition:oe,getScrollableParent:he,shadowRender:Z}=kK({menuRef:u,menuRefInner:f,inputRef:d,pickerWrapperRef:p,inline:D,emit:n,props:i,slots:a}),{inputValue:Q,internalModelValue:ee,parseExternalModelValue:O,emitModelValue:A,formatInputValue:$,checkBeforeEmit:te}=NW(n,i,c),pe=tt(()=>({dp__main:!0,dp__theme_dark:i.dark,dp__theme_light:!i.dark,dp__flex_display:D.value.enabled,"dp--flex-display-collapsed":_.value,dp__flex_display_with_input:D.value.input})),R=tt(()=>i.dark?"dp__theme_dark":"dp__theme_light"),w=tt(()=>i.teleport?{to:typeof i.teleport=="boolean"?"body":i.teleport,disabled:!i.teleport||D.value.enabled}:{}),T=tt(()=>({class:"dp__outer_menu_wrap"})),k=tt(()=>D.value.enabled&&(i.timePicker||i.monthPicker||i.yearPicker||i.quarterPicker)),U=()=>{var xe,Ce;return((Ce=(xe=d.value)==null?void 0:xe.$el)==null?void 0:Ce.getBoundingClientRect())??{width:0,left:0,right:0}},re=()=>{o.value&&(M.value.closeOnScroll?Ue():oe())},fe=()=>{var xe;o.value&&oe();const Ce=((xe=f.value)==null?void 0:xe.$el.getBoundingClientRect().width)??0;_.value=document.body.offsetWidth<=Ce},ve=xe=>{xe.key==="Tab"&&!D.value.enabled&&!i.teleport&&M.value.tabOutClosesMenu&&(p.value.contains(document.activeElement)||Ue()),v.value=xe.shiftKey},ce=xe=>{v.value=xe.shiftKey},Ie=()=>{!i.disabled&&!i.readonly&&(Z(Y2,i),oe(!1),o.value=!0,o.value&&n("open"),o.value||Ke(),O(i.modelValue))},be=()=>{var xe,Ce;Q.value="",Ke(),(xe=f.value)==null||xe.onValueCleared(),(Ce=d.value)==null||Ce.setParsedDate(null),n("update:model-value",null),n("update:model-timezone-value",null),n("cleared"),M.value.closeOnClearValue&&Ue()},Te=()=>{const xe=ee.value;return!xe||!Array.isArray(xe)&&x(xe)?!0:Array.isArray(xe)?P.value.enabled||xe.length===2&&x(xe[0])&&x(xe[1])?!0:j.value.partialRange&&!i.timePicker?x(xe[0]):!1:!1},je=()=>{te()&&Te()?(A(),Ue()):n("invalid-select",ee.value)},Ae=xe=>{Oe(),A(),M.value.closeOnAutoApply&&!xe&&Ue()},Oe=()=>{d.value&&q.value.enabled&&d.value.setParsedDate(ee.value)},ke=(xe=!1)=>{i.autoApply&&I(ee.value)&&Te()&&(j.value.enabled&&Array.isArray(ee.value)?(j.value.partialRange||ee.value.length===2)&&Ae(xe):Ae(xe))},Ke=()=>{q.value.enabled||(ee.value=null)},Ue=(xe=!1)=>{xe&&ee.value&&M.value.setDateOnMenuClose&&je(),D.value.enabled||(o.value&&(o.value=!1,H.value=!1,m(!1),g(!1),S(),n("closed"),Q.value&&O(s.value)),Ke(),n("blur"))},it=(xe,Ce,me=!1)=>{if(!xe){ee.value=null;return}const Me=Array.isArray(xe)?!xe.some(ft=>!x(ft)):x(xe),He=I(xe);Me&&He?(y.value=!0,ee.value=xe,Ce&&(b.value=me,je(),n("text-submit")),Ar().then(()=>{y.value=!1})):n("invalid-date",xe)},ye=()=>{i.autoApply&&I(ee.value)&&A(),Oe()},F=()=>o.value?Ue():Ie(),K=xe=>{ee.value=xe},_e=()=>{q.value.enabled&&(c.value=!0,$()),n("focus")},Pe=()=>{if(q.value.enabled&&(c.value=!1,O(i.modelValue),b.value)){const xe=rW(p.value,v.value);xe==null||xe.focus()}n("blur")},se=xe=>{f.value&&f.value.updateMonthYear(0,{month:V2(xe.month),year:V2(xe.year)})},ge=xe=>{O(xe??i.modelValue)},de=(xe,Ce)=>{var me;(me=f.value)==null||me.switchView(xe,Ce)},Re=(xe,Ce)=>M.value.onClickOutside?M.value.onClickOutside(xe,Ce):Ue(!0),Be=(xe=0)=>{var Ce;(Ce=f.value)==null||Ce.handleFlow(xe)},V=()=>u;return QK(u,d,xe=>Re(Te,xe)),t({closeMenu:Ue,selectDate:je,clearValue:be,openMenu:Ie,onScroll:re,formatInputValue:$,updateInternalModelValue:K,setMonthYear:se,parseModel:ge,switchView:de,toggleMenu:F,handleFlow:Be,getDpWrapMenuRef:V}),(xe,Ce)=>(Ze(),et("div",{ref_key:"pickerWrapperRef",ref:p,class:vt(pe.value),"data-datepicker-instance":"","data-dp-mobile":Fe(ie)},[kt(zK,Fr({ref_key:"inputRef",ref:d,"input-value":Fe(Q),"onUpdate:inputValue":Ce[0]||(Ce[0]=me=>zr(Q)?Q.value=me:null),"is-menu-open":o.value},xe.$props,{onClear:be,onOpen:Ie,onSetInputDate:it,onSetEmptyDate:Fe(A),onSelectDate:je,onToggle:F,onClose:Ue,onFocus:_e,onBlur:Pe,onRealBlur:Ce[1]||(Ce[1]=me=>c.value=!1),onTextInput:Ce[2]||(Ce[2]=me=>xe.$emit("text-input",me))}),bn({_:2},[pr(Fe(le),(me,Me)=>({name:me,fn:bt(He=>[pt(xe.$slots,me,tn(Cn(He)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),(Ze(),Pt(_a(xe.teleport?Z7:"div"),tn(Cn(w.value)),{default:bt(()=>[kt(Qu,{name:Fe(B)(Fe(ae)),css:Fe(Y)&&!Fe(D).enabled},{default:bt(()=>[o.value?(Ze(),et("div",Fr({key:0,ref_key:"dpWrapMenuRef",ref:u},T.value,{class:{"dp--menu-wrapper":!Fe(D).enabled},style:Fe(D).enabled?void 0:Fe(ne)}),[kt(Y2,Fr({ref_key:"dpMenuRef",ref:f},xe.$props,{"internal-model-value":Fe(ee),"onUpdate:internalModelValue":Ce[3]||(Ce[3]=me=>zr(ee)?ee.value=me:null),class:{[R.value]:!0,"dp--menu-wrapper":xe.teleport},"open-on-top":Fe(ae),"no-overlay-focus":k.value,collapse:_.value,"get-input-rect":U,"is-text-input-date":y.value,onClosePicker:Ue,onSelectDate:je,onAutoApply:ke,onTimeUpdate:ye,onFlowStep:Ce[4]||(Ce[4]=me=>xe.$emit("flow-step",me)),onUpdateMonthYear:Ce[5]||(Ce[5]=me=>xe.$emit("update-month-year",me)),onInvalidSelect:Ce[6]||(Ce[6]=me=>xe.$emit("invalid-select",Fe(ee))),onAutoApplyInvalid:Ce[7]||(Ce[7]=me=>xe.$emit("invalid-select",me)),onInvalidFixedRange:Ce[8]||(Ce[8]=me=>xe.$emit("invalid-fixed-range",me)),onRecalculatePosition:Fe(oe),onTooltipOpen:Ce[9]||(Ce[9]=me=>xe.$emit("tooltip-open",me)),onTooltipClose:Ce[10]||(Ce[10]=me=>xe.$emit("tooltip-close",me)),onTimePickerOpen:Ce[11]||(Ce[11]=me=>xe.$emit("time-picker-open",me)),onTimePickerClose:Ce[12]||(Ce[12]=me=>xe.$emit("time-picker-close",me)),onAmPmChange:Ce[13]||(Ce[13]=me=>xe.$emit("am-pm-change",me)),onRangeStart:Ce[14]||(Ce[14]=me=>xe.$emit("range-start",me)),onRangeEnd:Ce[15]||(Ce[15]=me=>xe.$emit("range-end",me)),onDateUpdate:Ce[16]||(Ce[16]=me=>xe.$emit("date-update",me)),onInvalidDate:Ce[17]||(Ce[17]=me=>xe.$emit("invalid-date",me)),onOverlayToggle:Ce[18]||(Ce[18]=me=>xe.$emit("overlay-toggle",me)),onMenuBlur:Ce[19]||(Ce[19]=me=>xe.$emit("blur"))}),bn({_:2},[pr(Fe(X),(me,Me)=>({name:me,fn:bt(He=>[pt(xe.$slots,me,tn(Cn({...He})))])}))]),1040,["internal-model-value","class","open-on-top","no-overlay-focus","collapse","is-text-input-date","onRecalculatePosition"])],16)):rt("",!0)]),_:3},8,["name","css"])]),_:3},16))],10,ZK))}}),ET=(()=>{const e=YK;return e.install=t=>{t.component("Vue3DatePicker",e)},e})(),XK=Object.freeze(Object.defineProperty({__proto__:null,default:ET},Symbol.toStringTag,{value:"Module"}));Object.entries(XK).forEach(([e,t])=>{e!=="default"&&(ET[e]=t)});function JK(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Gq={exports:{}},Br=Gq.exports={},oa,sa;function vE(){throw new Error("setTimeout has not been defined")}function wE(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?oa=setTimeout:oa=vE}catch{oa=vE}try{typeof clearTimeout=="function"?sa=clearTimeout:sa=wE}catch{sa=wE}})();function Wq(e){if(oa===setTimeout)return setTimeout(e,0);if((oa===vE||!oa)&&setTimeout)return oa=setTimeout,setTimeout(e,0);try{return oa(e,0)}catch{try{return oa.call(null,e,0)}catch{return oa.call(this,e,0)}}}function eQ(e){if(sa===clearTimeout)return clearTimeout(e);if((sa===wE||!sa)&&clearTimeout)return sa=clearTimeout,clearTimeout(e);try{return sa(e)}catch{try{return sa.call(null,e)}catch{return sa.call(this,e)}}}var Va=[],Iu=!1,Ds,ny=-1;function tQ(){!Iu||!Ds||(Iu=!1,Ds.length?Va=Ds.concat(Va):ny=-1,Va.length&&Kq())}function Kq(){if(!Iu){var e=Wq(tQ);Iu=!0;for(var t=Va.length;t;){for(Ds=Va,Va=[];++ny<t;)Ds&&Ds[ny].run();ny=-1,t=Va.length}Ds=null,Iu=!1,eQ(e)}}Br.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];Va.push(new Qq(e,t)),Va.length===1&&!Iu&&Wq(Kq)};function Qq(e,t){this.fun=e,this.array=t}Qq.prototype.run=function(){this.fun.apply(null,this.array)};Br.title="browser";Br.browser=!0;Br.env={};Br.argv=[];Br.version="";Br.versions={};function Ja(){}Br.on=Ja;Br.addListener=Ja;Br.once=Ja;Br.off=Ja;Br.removeListener=Ja;Br.removeAllListeners=Ja;Br.emit=Ja;Br.prependListener=Ja;Br.prependOnceListener=Ja;Br.listeners=function(e){return[]};Br.binding=function(e){throw new Error("process.binding is not supported")};Br.cwd=function(){return"/"};Br.chdir=function(e){throw new Error("process.chdir is not supported")};Br.umask=function(){return 0};var rQ=Gq.exports;const ze=JK(rQ);var TT={},Hy={};Hy.byteLength=aQ;Hy.toByteArray=sQ;Hy.fromByteArray=fQ;var ca=[],pi=[],nQ=typeof Uint8Array<"u"?Uint8Array:Array,b_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var fu=0,iQ=b_.length;fu<iQ;++fu)ca[fu]=b_[fu],pi[b_.charCodeAt(fu)]=fu;pi[45]=62;pi[95]=63;function Zq(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function aQ(e){var t=Zq(e),r=t[0],n=t[1];return(r+n)*3/4-n}function oQ(e,t,r){return(t+r)*3/4-r}function sQ(e){var t,r=Zq(e),n=r[0],i=r[1],a=new nQ(oQ(e,n,i)),o=0,s=i>0?n-4:n,l;for(l=0;l<s;l+=4)t=pi[e.charCodeAt(l)]<<18|pi[e.charCodeAt(l+1)]<<12|pi[e.charCodeAt(l+2)]<<6|pi[e.charCodeAt(l+3)],a[o++]=t>>16&255,a[o++]=t>>8&255,a[o++]=t&255;return i===2&&(t=pi[e.charCodeAt(l)]<<2|pi[e.charCodeAt(l+1)]>>4,a[o++]=t&255),i===1&&(t=pi[e.charCodeAt(l)]<<10|pi[e.charCodeAt(l+1)]<<4|pi[e.charCodeAt(l+2)]>>2,a[o++]=t>>8&255,a[o++]=t&255),a}function uQ(e){return ca[e>>18&63]+ca[e>>12&63]+ca[e>>6&63]+ca[e&63]}function lQ(e,t,r){for(var n,i=[],a=t;a<r;a+=3)n=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(e[a+2]&255),i.push(uQ(n));return i.join("")}function fQ(e){for(var t,r=e.length,n=r%3,i=[],a=16383,o=0,s=r-n;o<s;o+=a)i.push(lQ(e,o,o+a>s?s:o+a));return n===1?(t=e[r-1],i.push(ca[t>>2]+ca[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],i.push(ca[t>>10]+ca[t>>4&63]+ca[t<<2&63]+"=")),i.join("")}var xT={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */xT.read=function(e,t,r,n,i){var a,o,s=i*8-n-1,l=(1<<s)-1,u=l>>1,f=-7,d=r?i-1:0,c=r?-1:1,p=e[t+d];for(d+=c,a=p&(1<<-f)-1,p>>=-f,f+=s;f>0;a=a*256+e[t+d],d+=c,f-=8);for(o=a&(1<<-f)-1,a>>=-f,f+=n;f>0;o=o*256+e[t+d],d+=c,f-=8);if(a===0)a=1-u;else{if(a===l)return o?NaN:(p?-1:1)*(1/0);o=o+Math.pow(2,n),a=a-u}return(p?-1:1)*o*Math.pow(2,a-n)};xT.write=function(e,t,r,n,i,a){var o,s,l,u=a*8-i-1,f=(1<<u)-1,d=f>>1,c=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:a-1,b=n?1:-1,v=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=f):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+d>=1?t+=c/l:t+=c*Math.pow(2,1-d),t*l>=2&&(o++,l/=2),o+d>=f?(s=0,o=f):o+d>=1?(s=(t*l-1)*Math.pow(2,i),o=o+d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;e[r+p]=s&255,p+=b,s/=256,i-=8);for(o=o<<i|s,u+=i;u>0;e[r+p]=o&255,p+=b,o/=256,u-=8);e[r+p-b]|=v*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=Hy,r=xT,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=f,e.SlowBuffer=x,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i;const{Uint8Array:a,ArrayBuffer:o,SharedArrayBuffer:s}=globalThis;f.TYPED_ARRAY_SUPPORT=l(),!f.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function l(){try{const ye=new a(1),F={foo:function(){return 42}};return Object.setPrototypeOf(F,a.prototype),Object.setPrototypeOf(ye,F),ye.foo()===42}catch{return!1}}Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}});function u(ye){if(ye>i)throw new RangeError('The value "'+ye+'" is invalid for option "size"');const F=new a(ye);return Object.setPrototypeOf(F,f.prototype),F}function f(ye,F,K){if(typeof ye=="number"){if(typeof F=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return b(ye)}return d(ye,F,K)}f.poolSize=8192;function d(ye,F,K){if(typeof ye=="string")return v(ye,F);if(o.isView(ye))return y(ye);if(ye==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ye);if(Oe(ye,o)||ye&&Oe(ye.buffer,o)||typeof s<"u"&&(Oe(ye,s)||ye&&Oe(ye.buffer,s)))return m(ye,F,K);if(typeof ye=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const _e=ye.valueOf&&ye.valueOf();if(_e!=null&&_e!==ye)return f.from(_e,F,K);const Pe=g(ye);if(Pe)return Pe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof ye[Symbol.toPrimitive]=="function")return f.from(ye[Symbol.toPrimitive]("string"),F,K);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ye)}f.from=function(ye,F,K){return d(ye,F,K)},Object.setPrototypeOf(f.prototype,a.prototype),Object.setPrototypeOf(f,a);function c(ye){if(typeof ye!="number")throw new TypeError('"size" argument must be of type number');if(ye<0)throw new RangeError('The value "'+ye+'" is invalid for option "size"')}function p(ye,F,K){return c(ye),ye<=0?u(ye):F!==void 0?typeof K=="string"?u(ye).fill(F,K):u(ye).fill(F):u(ye)}f.alloc=function(ye,F,K){return p(ye,F,K)};function b(ye){return c(ye),u(ye<0?0:S(ye)|0)}f.allocUnsafe=function(ye){return b(ye)},f.allocUnsafeSlow=function(ye){return b(ye)};function v(ye,F){if((typeof F!="string"||F==="")&&(F="utf8"),!f.isEncoding(F))throw new TypeError("Unknown encoding: "+F);const K=I(ye,F)|0;let _e=u(K);const Pe=_e.write(ye,F);return Pe!==K&&(_e=_e.slice(0,Pe)),_e}function _(ye){const F=ye.length<0?0:S(ye.length)|0,K=u(F);for(let _e=0;_e<F;_e+=1)K[_e]=ye[_e]&255;return K}function y(ye){if(Oe(ye,a)){const F=new a(ye);return m(F.buffer,F.byteOffset,F.byteLength)}return _(ye)}function m(ye,F,K){if(F<0||ye.byteLength<F)throw new RangeError('"offset" is outside of buffer bounds');if(ye.byteLength<F+(K||0))throw new RangeError('"length" is outside of buffer bounds');let _e;return F===void 0&&K===void 0?_e=new a(ye):K===void 0?_e=new a(ye,F):_e=new a(ye,F,K),Object.setPrototypeOf(_e,f.prototype),_e}function g(ye){if(f.isBuffer(ye)){const F=S(ye.length)|0,K=u(F);return K.length===0||ye.copy(K,0,0,F),K}if(ye.length!==void 0)return typeof ye.length!="number"||ke(ye.length)?u(0):_(ye);if(ye.type==="Buffer"&&Array.isArray(ye.data))return _(ye.data)}function S(ye){if(ye>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return ye|0}function x(ye){return+ye!=ye&&(ye=0),f.alloc(+ye)}f.isBuffer=function(F){return F!=null&&F._isBuffer===!0&&F!==f.prototype},f.compare=function(F,K){if(Oe(F,a)&&(F=f.from(F,F.offset,F.byteLength)),Oe(K,a)&&(K=f.from(K,K.offset,K.byteLength)),!f.isBuffer(F)||!f.isBuffer(K))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(F===K)return 0;let _e=F.length,Pe=K.length;for(let se=0,ge=Math.min(_e,Pe);se<ge;++se)if(F[se]!==K[se]){_e=F[se],Pe=K[se];break}return _e<Pe?-1:Pe<_e?1:0},f.isEncoding=function(F){switch(String(F).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(F,K){if(!Array.isArray(F))throw new TypeError('"list" argument must be an Array of Buffers');if(F.length===0)return f.alloc(0);let _e;if(K===void 0)for(K=0,_e=0;_e<F.length;++_e)K+=F[_e].length;const Pe=f.allocUnsafe(K);let se=0;for(_e=0;_e<F.length;++_e){let ge=F[_e];if(Oe(ge,a))se+ge.length>Pe.length?(f.isBuffer(ge)||(ge=f.from(ge)),ge.copy(Pe,se)):a.prototype.set.call(Pe,ge,se);else if(f.isBuffer(ge))ge.copy(Pe,se);else throw new TypeError('"list" argument must be an Array of Buffers');se+=ge.length}return Pe};function I(ye,F){if(f.isBuffer(ye))return ye.length;if(o.isView(ye)||Oe(ye,o))return ye.byteLength;if(typeof ye!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ye);const K=ye.length,_e=arguments.length>2&&arguments[2]===!0;if(!_e&&K===0)return 0;let Pe=!1;for(;;)switch(F){case"ascii":case"latin1":case"binary":return K;case"utf8":case"utf-8":return Ie(ye).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return K*2;case"hex":return K>>>1;case"base64":return je(ye).length;default:if(Pe)return _e?-1:Ie(ye).length;F=(""+F).toLowerCase(),Pe=!0}}f.byteLength=I;function N(ye,F,K){let _e=!1;if((F===void 0||F<0)&&(F=0),F>this.length||((K===void 0||K>this.length)&&(K=this.length),K<=0)||(K>>>=0,F>>>=0,K<=F))return"";for(ye||(ye="utf8");;)switch(ye){case"hex":return he(this,F,K);case"utf8":case"utf-8":return le(this,F,K);case"ascii":return H(this,F,K);case"latin1":case"binary":return oe(this,F,K);case"base64":return X(this,F,K);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Z(this,F,K);default:if(_e)throw new TypeError("Unknown encoding: "+ye);ye=(ye+"").toLowerCase(),_e=!0}}f.prototype._isBuffer=!0;function q(ye,F,K){const _e=ye[F];ye[F]=ye[K],ye[K]=_e}f.prototype.swap16=function(){const F=this.length;if(F%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let K=0;K<F;K+=2)q(this,K,K+1);return this},f.prototype.swap32=function(){const F=this.length;if(F%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let K=0;K<F;K+=4)q(this,K,K+3),q(this,K+1,K+2);return this},f.prototype.swap64=function(){const F=this.length;if(F%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let K=0;K<F;K+=8)q(this,K,K+7),q(this,K+1,K+6),q(this,K+2,K+5),q(this,K+3,K+4);return this},f.prototype.toString=function(){const F=this.length;return F===0?"":arguments.length===0?le(this,0,F):N.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(F){if(!f.isBuffer(F))throw new TypeError("Argument must be a Buffer");return this===F?!0:f.compare(this,F)===0},f.prototype.inspect=function(){let F="";const K=e.INSPECT_MAX_BYTES;return F=this.toString("hex",0,K).replace(/(.{2})/g,"$1 ").trim(),this.length>K&&(F+=" ... "),"<Buffer "+F+">"},n&&(f.prototype[n]=f.prototype.inspect),f.prototype.compare=function(F,K,_e,Pe,se){if(Oe(F,a)&&(F=f.from(F,F.offset,F.byteLength)),!f.isBuffer(F))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof F);if(K===void 0&&(K=0),_e===void 0&&(_e=F?F.length:0),Pe===void 0&&(Pe=0),se===void 0&&(se=this.length),K<0||_e>F.length||Pe<0||se>this.length)throw new RangeError("out of range index");if(Pe>=se&&K>=_e)return 0;if(Pe>=se)return-1;if(K>=_e)return 1;if(K>>>=0,_e>>>=0,Pe>>>=0,se>>>=0,this===F)return 0;let ge=se-Pe,de=_e-K;const Re=Math.min(ge,de),Be=this.slice(Pe,se),V=F.slice(K,_e);for(let xe=0;xe<Re;++xe)if(Be[xe]!==V[xe]){ge=Be[xe],de=V[xe];break}return ge<de?-1:de<ge?1:0};function D(ye,F,K,_e,Pe){if(ye.length===0)return-1;if(typeof K=="string"?(_e=K,K=0):K>2147483647?K=2147483647:K<-2147483648&&(K=-2147483648),K=+K,ke(K)&&(K=Pe?0:ye.length-1),K<0&&(K=ye.length+K),K>=ye.length){if(Pe)return-1;K=ye.length-1}else if(K<0)if(Pe)K=0;else return-1;if(typeof F=="string"&&(F=f.from(F,_e)),f.isBuffer(F))return F.length===0?-1:M(ye,F,K,_e,Pe);if(typeof F=="number")return F=F&255,typeof a.prototype.indexOf=="function"?Pe?a.prototype.indexOf.call(ye,F,K):a.prototype.lastIndexOf.call(ye,F,K):M(ye,[F],K,_e,Pe);throw new TypeError("val must be string, number or Buffer")}function M(ye,F,K,_e,Pe){let se=1,ge=ye.length,de=F.length;if(_e!==void 0&&(_e=String(_e).toLowerCase(),_e==="ucs2"||_e==="ucs-2"||_e==="utf16le"||_e==="utf-16le")){if(ye.length<2||F.length<2)return-1;se=2,ge/=2,de/=2,K/=2}function Re(V,xe){return se===1?V[xe]:V.readUInt16BE(xe*se)}let Be;if(Pe){let V=-1;for(Be=K;Be<ge;Be++)if(Re(ye,Be)===Re(F,V===-1?0:Be-V)){if(V===-1&&(V=Be),Be-V+1===de)return V*se}else V!==-1&&(Be-=Be-V),V=-1}else for(K+de>ge&&(K=ge-de),Be=K;Be>=0;Be--){let V=!0;for(let xe=0;xe<de;xe++)if(Re(ye,Be+xe)!==Re(F,xe)){V=!1;break}if(V)return Be}return-1}f.prototype.includes=function(F,K,_e){return this.indexOf(F,K,_e)!==-1},f.prototype.indexOf=function(F,K,_e){return D(this,F,K,_e,!0)},f.prototype.lastIndexOf=function(F,K,_e){return D(this,F,K,_e,!1)};function j(ye,F,K,_e){K=Number(K)||0;const Pe=ye.length-K;_e?(_e=Number(_e),_e>Pe&&(_e=Pe)):_e=Pe;const se=F.length;_e>se/2&&(_e=se/2);let ge;for(ge=0;ge<_e;++ge){const de=parseInt(F.substr(ge*2,2),16);if(ke(de))return ge;ye[K+ge]=de}return ge}function P(ye,F,K,_e){return Ae(Ie(F,ye.length-K),ye,K,_e)}function B(ye,F,K,_e){return Ae(be(F),ye,K,_e)}function Y(ye,F,K,_e){return Ae(je(F),ye,K,_e)}function ie(ye,F,K,_e){return Ae(Te(F,ye.length-K),ye,K,_e)}f.prototype.write=function(F,K,_e,Pe){if(K===void 0)Pe="utf8",_e=this.length,K=0;else if(_e===void 0&&typeof K=="string")Pe=K,_e=this.length,K=0;else if(isFinite(K))K=K>>>0,isFinite(_e)?(_e=_e>>>0,Pe===void 0&&(Pe="utf8")):(Pe=_e,_e=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const se=this.length-K;if((_e===void 0||_e>se)&&(_e=se),F.length>0&&(_e<0||K<0)||K>this.length)throw new RangeError("Attempt to write outside buffer bounds");Pe||(Pe="utf8");let ge=!1;for(;;)switch(Pe){case"hex":return j(this,F,K,_e);case"utf8":case"utf-8":return P(this,F,K,_e);case"ascii":case"latin1":case"binary":return B(this,F,K,_e);case"base64":return Y(this,F,K,_e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ie(this,F,K,_e);default:if(ge)throw new TypeError("Unknown encoding: "+Pe);Pe=(""+Pe).toLowerCase(),ge=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function X(ye,F,K){return F===0&&K===ye.length?t.fromByteArray(ye):t.fromByteArray(ye.slice(F,K))}function le(ye,F,K){K=Math.min(ye.length,K);const _e=[];let Pe=F;for(;Pe<K;){const se=ye[Pe];let ge=null,de=se>239?4:se>223?3:se>191?2:1;if(Pe+de<=K){let Re,Be,V,xe;switch(de){case 1:se<128&&(ge=se);break;case 2:Re=ye[Pe+1],(Re&192)===128&&(xe=(se&31)<<6|Re&63,xe>127&&(ge=xe));break;case 3:Re=ye[Pe+1],Be=ye[Pe+2],(Re&192)===128&&(Be&192)===128&&(xe=(se&15)<<12|(Re&63)<<6|Be&63,xe>2047&&(xe<55296||xe>57343)&&(ge=xe));break;case 4:Re=ye[Pe+1],Be=ye[Pe+2],V=ye[Pe+3],(Re&192)===128&&(Be&192)===128&&(V&192)===128&&(xe=(se&15)<<18|(Re&63)<<12|(Be&63)<<6|V&63,xe>65535&&xe<1114112&&(ge=xe))}}ge===null?(ge=65533,de=1):ge>65535&&(ge-=65536,_e.push(ge>>>10&1023|55296),ge=56320|ge&1023),_e.push(ge),Pe+=de}return ne(_e)}const ae=4096;function ne(ye){const F=ye.length;if(F<=ae)return String.fromCharCode.apply(String,ye);let K="",_e=0;for(;_e<F;)K+=String.fromCharCode.apply(String,ye.slice(_e,_e+=ae));return K}function H(ye,F,K){let _e="";K=Math.min(ye.length,K);for(let Pe=F;Pe<K;++Pe)_e+=String.fromCharCode(ye[Pe]&127);return _e}function oe(ye,F,K){let _e="";K=Math.min(ye.length,K);for(let Pe=F;Pe<K;++Pe)_e+=String.fromCharCode(ye[Pe]);return _e}function he(ye,F,K){const _e=ye.length;(!F||F<0)&&(F=0),(!K||K<0||K>_e)&&(K=_e);let Pe="";for(let se=F;se<K;++se)Pe+=Ke[ye[se]];return Pe}function Z(ye,F,K){const _e=ye.slice(F,K);let Pe="";for(let se=0;se<_e.length-1;se+=2)Pe+=String.fromCharCode(_e[se]+_e[se+1]*256);return Pe}f.prototype.slice=function(F,K){const _e=this.length;F=~~F,K=K===void 0?_e:~~K,F<0?(F+=_e,F<0&&(F=0)):F>_e&&(F=_e),K<0?(K+=_e,K<0&&(K=0)):K>_e&&(K=_e),K<F&&(K=F);const Pe=this.subarray(F,K);return Object.setPrototypeOf(Pe,f.prototype),Pe};function Q(ye,F,K){if(ye%1!==0||ye<0)throw new RangeError("offset is not uint");if(ye+F>K)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUintLE=f.prototype.readUIntLE=function(F,K,_e){F=F>>>0,K=K>>>0,_e||Q(F,K,this.length);let Pe=this[F],se=1,ge=0;for(;++ge<K&&(se*=256);)Pe+=this[F+ge]*se;return Pe},f.prototype.readUintBE=f.prototype.readUIntBE=function(F,K,_e){F=F>>>0,K=K>>>0,_e||Q(F,K,this.length);let Pe=this[F+--K],se=1;for(;K>0&&(se*=256);)Pe+=this[F+--K]*se;return Pe},f.prototype.readUint8=f.prototype.readUInt8=function(F,K){return F=F>>>0,K||Q(F,1,this.length),this[F]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(F,K){return F=F>>>0,K||Q(F,2,this.length),this[F]|this[F+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(F,K){return F=F>>>0,K||Q(F,2,this.length),this[F]<<8|this[F+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(F,K){return F=F>>>0,K||Q(F,4,this.length),(this[F]|this[F+1]<<8|this[F+2]<<16)+this[F+3]*16777216},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(F,K){return F=F>>>0,K||Q(F,4,this.length),this[F]*16777216+(this[F+1]<<16|this[F+2]<<8|this[F+3])},f.prototype.readBigUInt64LE=Ue(function(F){F=F>>>0,re(F,"offset");const K=this[F],_e=this[F+7];(K===void 0||_e===void 0)&&fe(F,this.length-8);const Pe=K+this[++F]*2**8+this[++F]*2**16+this[++F]*2**24,se=this[++F]+this[++F]*2**8+this[++F]*2**16+_e*2**24;return BigInt(Pe)+(BigInt(se)<<BigInt(32))}),f.prototype.readBigUInt64BE=Ue(function(F){F=F>>>0,re(F,"offset");const K=this[F],_e=this[F+7];(K===void 0||_e===void 0)&&fe(F,this.length-8);const Pe=K*2**24+this[++F]*2**16+this[++F]*2**8+this[++F],se=this[++F]*2**24+this[++F]*2**16+this[++F]*2**8+_e;return(BigInt(Pe)<<BigInt(32))+BigInt(se)}),f.prototype.readIntLE=function(F,K,_e){F=F>>>0,K=K>>>0,_e||Q(F,K,this.length);let Pe=this[F],se=1,ge=0;for(;++ge<K&&(se*=256);)Pe+=this[F+ge]*se;return se*=128,Pe>=se&&(Pe-=Math.pow(2,8*K)),Pe},f.prototype.readIntBE=function(F,K,_e){F=F>>>0,K=K>>>0,_e||Q(F,K,this.length);let Pe=K,se=1,ge=this[F+--Pe];for(;Pe>0&&(se*=256);)ge+=this[F+--Pe]*se;return se*=128,ge>=se&&(ge-=Math.pow(2,8*K)),ge},f.prototype.readInt8=function(F,K){return F=F>>>0,K||Q(F,1,this.length),this[F]&128?(255-this[F]+1)*-1:this[F]},f.prototype.readInt16LE=function(F,K){F=F>>>0,K||Q(F,2,this.length);const _e=this[F]|this[F+1]<<8;return _e&32768?_e|4294901760:_e},f.prototype.readInt16BE=function(F,K){F=F>>>0,K||Q(F,2,this.length);const _e=this[F+1]|this[F]<<8;return _e&32768?_e|4294901760:_e},f.prototype.readInt32LE=function(F,K){return F=F>>>0,K||Q(F,4,this.length),this[F]|this[F+1]<<8|this[F+2]<<16|this[F+3]<<24},f.prototype.readInt32BE=function(F,K){return F=F>>>0,K||Q(F,4,this.length),this[F]<<24|this[F+1]<<16|this[F+2]<<8|this[F+3]},f.prototype.readBigInt64LE=Ue(function(F){F=F>>>0,re(F,"offset");const K=this[F],_e=this[F+7];(K===void 0||_e===void 0)&&fe(F,this.length-8);const Pe=this[F+4]+this[F+5]*2**8+this[F+6]*2**16+(_e<<24);return(BigInt(Pe)<<BigInt(32))+BigInt(K+this[++F]*2**8+this[++F]*2**16+this[++F]*2**24)}),f.prototype.readBigInt64BE=Ue(function(F){F=F>>>0,re(F,"offset");const K=this[F],_e=this[F+7];(K===void 0||_e===void 0)&&fe(F,this.length-8);const Pe=(K<<24)+this[++F]*2**16+this[++F]*2**8+this[++F];return(BigInt(Pe)<<BigInt(32))+BigInt(this[++F]*2**24+this[++F]*2**16+this[++F]*2**8+_e)}),f.prototype.readFloatLE=function(F,K){return F=F>>>0,K||Q(F,4,this.length),r.read(this,F,!0,23,4)},f.prototype.readFloatBE=function(F,K){return F=F>>>0,K||Q(F,4,this.length),r.read(this,F,!1,23,4)},f.prototype.readDoubleLE=function(F,K){return F=F>>>0,K||Q(F,8,this.length),r.read(this,F,!0,52,8)},f.prototype.readDoubleBE=function(F,K){return F=F>>>0,K||Q(F,8,this.length),r.read(this,F,!1,52,8)};function ee(ye,F,K,_e,Pe,se){if(!f.isBuffer(ye))throw new TypeError('"buffer" argument must be a Buffer instance');if(F>Pe||F<se)throw new RangeError('"value" argument is out of bounds');if(K+_e>ye.length)throw new RangeError("Index out of range")}f.prototype.writeUintLE=f.prototype.writeUIntLE=function(F,K,_e,Pe){if(F=+F,K=K>>>0,_e=_e>>>0,!Pe){const de=Math.pow(2,8*_e)-1;ee(this,F,K,_e,de,0)}let se=1,ge=0;for(this[K]=F&255;++ge<_e&&(se*=256);)this[K+ge]=F/se&255;return K+_e},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(F,K,_e,Pe){if(F=+F,K=K>>>0,_e=_e>>>0,!Pe){const de=Math.pow(2,8*_e)-1;ee(this,F,K,_e,de,0)}let se=_e-1,ge=1;for(this[K+se]=F&255;--se>=0&&(ge*=256);)this[K+se]=F/ge&255;return K+_e},f.prototype.writeUint8=f.prototype.writeUInt8=function(F,K,_e){return F=+F,K=K>>>0,_e||ee(this,F,K,1,255,0),this[K]=F&255,K+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(F,K,_e){return F=+F,K=K>>>0,_e||ee(this,F,K,2,65535,0),this[K]=F&255,this[K+1]=F>>>8,K+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(F,K,_e){return F=+F,K=K>>>0,_e||ee(this,F,K,2,65535,0),this[K]=F>>>8,this[K+1]=F&255,K+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(F,K,_e){return F=+F,K=K>>>0,_e||ee(this,F,K,4,4294967295,0),this[K+3]=F>>>24,this[K+2]=F>>>16,this[K+1]=F>>>8,this[K]=F&255,K+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(F,K,_e){return F=+F,K=K>>>0,_e||ee(this,F,K,4,4294967295,0),this[K]=F>>>24,this[K+1]=F>>>16,this[K+2]=F>>>8,this[K+3]=F&255,K+4};function O(ye,F,K,_e,Pe){U(F,_e,Pe,ye,K,7);let se=Number(F&BigInt(4294967295));ye[K++]=se,se=se>>8,ye[K++]=se,se=se>>8,ye[K++]=se,se=se>>8,ye[K++]=se;let ge=Number(F>>BigInt(32)&BigInt(4294967295));return ye[K++]=ge,ge=ge>>8,ye[K++]=ge,ge=ge>>8,ye[K++]=ge,ge=ge>>8,ye[K++]=ge,K}function A(ye,F,K,_e,Pe){U(F,_e,Pe,ye,K,7);let se=Number(F&BigInt(4294967295));ye[K+7]=se,se=se>>8,ye[K+6]=se,se=se>>8,ye[K+5]=se,se=se>>8,ye[K+4]=se;let ge=Number(F>>BigInt(32)&BigInt(4294967295));return ye[K+3]=ge,ge=ge>>8,ye[K+2]=ge,ge=ge>>8,ye[K+1]=ge,ge=ge>>8,ye[K]=ge,K+8}f.prototype.writeBigUInt64LE=Ue(function(F,K=0){return O(this,F,K,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeBigUInt64BE=Ue(function(F,K=0){return A(this,F,K,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeIntLE=function(F,K,_e,Pe){if(F=+F,K=K>>>0,!Pe){const Re=Math.pow(2,8*_e-1);ee(this,F,K,_e,Re-1,-Re)}let se=0,ge=1,de=0;for(this[K]=F&255;++se<_e&&(ge*=256);)F<0&&de===0&&this[K+se-1]!==0&&(de=1),this[K+se]=(F/ge>>0)-de&255;return K+_e},f.prototype.writeIntBE=function(F,K,_e,Pe){if(F=+F,K=K>>>0,!Pe){const Re=Math.pow(2,8*_e-1);ee(this,F,K,_e,Re-1,-Re)}let se=_e-1,ge=1,de=0;for(this[K+se]=F&255;--se>=0&&(ge*=256);)F<0&&de===0&&this[K+se+1]!==0&&(de=1),this[K+se]=(F/ge>>0)-de&255;return K+_e},f.prototype.writeInt8=function(F,K,_e){return F=+F,K=K>>>0,_e||ee(this,F,K,1,127,-128),F<0&&(F=255+F+1),this[K]=F&255,K+1},f.prototype.writeInt16LE=function(F,K,_e){return F=+F,K=K>>>0,_e||ee(this,F,K,2,32767,-32768),this[K]=F&255,this[K+1]=F>>>8,K+2},f.prototype.writeInt16BE=function(F,K,_e){return F=+F,K=K>>>0,_e||ee(this,F,K,2,32767,-32768),this[K]=F>>>8,this[K+1]=F&255,K+2},f.prototype.writeInt32LE=function(F,K,_e){return F=+F,K=K>>>0,_e||ee(this,F,K,4,2147483647,-2147483648),this[K]=F&255,this[K+1]=F>>>8,this[K+2]=F>>>16,this[K+3]=F>>>24,K+4},f.prototype.writeInt32BE=function(F,K,_e){return F=+F,K=K>>>0,_e||ee(this,F,K,4,2147483647,-2147483648),F<0&&(F=4294967295+F+1),this[K]=F>>>24,this[K+1]=F>>>16,this[K+2]=F>>>8,this[K+3]=F&255,K+4},f.prototype.writeBigInt64LE=Ue(function(F,K=0){return O(this,F,K,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),f.prototype.writeBigInt64BE=Ue(function(F,K=0){return A(this,F,K,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function $(ye,F,K,_e,Pe,se){if(K+_e>ye.length)throw new RangeError("Index out of range");if(K<0)throw new RangeError("Index out of range")}function te(ye,F,K,_e,Pe){return F=+F,K=K>>>0,Pe||$(ye,F,K,4),r.write(ye,F,K,_e,23,4),K+4}f.prototype.writeFloatLE=function(F,K,_e){return te(this,F,K,!0,_e)},f.prototype.writeFloatBE=function(F,K,_e){return te(this,F,K,!1,_e)};function pe(ye,F,K,_e,Pe){return F=+F,K=K>>>0,Pe||$(ye,F,K,8),r.write(ye,F,K,_e,52,8),K+8}f.prototype.writeDoubleLE=function(F,K,_e){return pe(this,F,K,!0,_e)},f.prototype.writeDoubleBE=function(F,K,_e){return pe(this,F,K,!1,_e)},f.prototype.copy=function(F,K,_e,Pe){if(!f.isBuffer(F))throw new TypeError("argument should be a Buffer");if(_e||(_e=0),!Pe&&Pe!==0&&(Pe=this.length),K>=F.length&&(K=F.length),K||(K=0),Pe>0&&Pe<_e&&(Pe=_e),Pe===_e||F.length===0||this.length===0)return 0;if(K<0)throw new RangeError("targetStart out of bounds");if(_e<0||_e>=this.length)throw new RangeError("Index out of range");if(Pe<0)throw new RangeError("sourceEnd out of bounds");Pe>this.length&&(Pe=this.length),F.length-K<Pe-_e&&(Pe=F.length-K+_e);const se=Pe-_e;return this===F&&typeof a.prototype.copyWithin=="function"?this.copyWithin(K,_e,Pe):a.prototype.set.call(F,this.subarray(_e,Pe),K),se},f.prototype.fill=function(F,K,_e,Pe){if(typeof F=="string"){if(typeof K=="string"?(Pe=K,K=0,_e=this.length):typeof _e=="string"&&(Pe=_e,_e=this.length),Pe!==void 0&&typeof Pe!="string")throw new TypeError("encoding must be a string");if(typeof Pe=="string"&&!f.isEncoding(Pe))throw new TypeError("Unknown encoding: "+Pe);if(F.length===1){const ge=F.charCodeAt(0);(Pe==="utf8"&&ge<128||Pe==="latin1")&&(F=ge)}}else typeof F=="number"?F=F&255:typeof F=="boolean"&&(F=Number(F));if(K<0||this.length<K||this.length<_e)throw new RangeError("Out of range index");if(_e<=K)return this;K=K>>>0,_e=_e===void 0?this.length:_e>>>0,F||(F=0);let se;if(typeof F=="number")for(se=K;se<_e;++se)this[se]=F;else{const ge=f.isBuffer(F)?F:f.from(F,Pe),de=ge.length;if(de===0)throw new TypeError('The value "'+F+'" is invalid for argument "value"');for(se=0;se<_e-K;++se)this[se+K]=ge[se%de]}return this};const R={};function w(ye,F,K){R[ye]=class extends K{constructor(){super(),Object.defineProperty(this,"message",{value:F.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${ye}]`,this.stack,delete this.name}get code(){return ye}set code(Pe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Pe,writable:!0})}toString(){return`${this.name} [${ye}]: ${this.message}`}}}w("ERR_BUFFER_OUT_OF_BOUNDS",function(ye){return ye?`${ye} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),w("ERR_INVALID_ARG_TYPE",function(ye,F){return`The "${ye}" argument must be of type number. Received type ${typeof F}`},TypeError),w("ERR_OUT_OF_RANGE",function(ye,F,K){let _e=`The value of "${ye}" is out of range.`,Pe=K;return Number.isInteger(K)&&Math.abs(K)>2**32?Pe=T(String(K)):typeof K=="bigint"&&(Pe=String(K),(K>BigInt(2)**BigInt(32)||K<-(BigInt(2)**BigInt(32)))&&(Pe=T(Pe)),Pe+="n"),_e+=` It must be ${F}. Received ${Pe}`,_e},RangeError);function T(ye){let F="",K=ye.length;const _e=ye[0]==="-"?1:0;for(;K>=_e+4;K-=3)F=`_${ye.slice(K-3,K)}${F}`;return`${ye.slice(0,K)}${F}`}function k(ye,F,K){re(F,"offset"),(ye[F]===void 0||ye[F+K]===void 0)&&fe(F,ye.length-(K+1))}function U(ye,F,K,_e,Pe,se){if(ye>K||ye<F){const ge=typeof F=="bigint"?"n":"";let de;throw F===0||F===BigInt(0)?de=`>= 0${ge} and < 2${ge} ** ${(se+1)*8}${ge}`:de=`>= -(2${ge} ** ${(se+1)*8-1}${ge}) and < 2 ** ${(se+1)*8-1}${ge}`,new R.ERR_OUT_OF_RANGE("value",de,ye)}k(_e,Pe,se)}function re(ye,F){if(typeof ye!="number")throw new R.ERR_INVALID_ARG_TYPE(F,"number",ye)}function fe(ye,F,K){throw Math.floor(ye)!==ye?(re(ye,K),new R.ERR_OUT_OF_RANGE("offset","an integer",ye)):F<0?new R.ERR_BUFFER_OUT_OF_BOUNDS:new R.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${F}`,ye)}const ve=/[^+/0-9A-Za-z-_]/g;function ce(ye){if(ye=ye.split("=")[0],ye=ye.trim().replace(ve,""),ye.length<2)return"";for(;ye.length%4!==0;)ye=ye+"=";return ye}function Ie(ye,F){F=F||1/0;let K;const _e=ye.length;let Pe=null;const se=[];for(let ge=0;ge<_e;++ge){if(K=ye.charCodeAt(ge),K>55295&&K<57344){if(!Pe){if(K>56319){(F-=3)>-1&&se.push(239,191,189);continue}else if(ge+1===_e){(F-=3)>-1&&se.push(239,191,189);continue}Pe=K;continue}if(K<56320){(F-=3)>-1&&se.push(239,191,189),Pe=K;continue}K=(Pe-55296<<10|K-56320)+65536}else Pe&&(F-=3)>-1&&se.push(239,191,189);if(Pe=null,K<128){if((F-=1)<0)break;se.push(K)}else if(K<2048){if((F-=2)<0)break;se.push(K>>6|192,K&63|128)}else if(K<65536){if((F-=3)<0)break;se.push(K>>12|224,K>>6&63|128,K&63|128)}else if(K<1114112){if((F-=4)<0)break;se.push(K>>18|240,K>>12&63|128,K>>6&63|128,K&63|128)}else throw new Error("Invalid code point")}return se}function be(ye){const F=[];for(let K=0;K<ye.length;++K)F.push(ye.charCodeAt(K)&255);return F}function Te(ye,F){let K,_e,Pe;const se=[];for(let ge=0;ge<ye.length&&!((F-=2)<0);++ge)K=ye.charCodeAt(ge),_e=K>>8,Pe=K%256,se.push(Pe),se.push(_e);return se}function je(ye){return t.toByteArray(ce(ye))}function Ae(ye,F,K,_e){let Pe;for(Pe=0;Pe<_e&&!(Pe+K>=F.length||Pe>=ye.length);++Pe)F[Pe+K]=ye[Pe];return Pe}function Oe(ye,F){return ye instanceof F||ye!=null&&ye.constructor!=null&&ye.constructor.name!=null&&ye.constructor.name===F.name}function ke(ye){return ye!==ye}const Ke=function(){const ye="0123456789abcdef",F=new Array(256);for(let K=0;K<16;++K){const _e=K*16;for(let Pe=0;Pe<16;++Pe)F[_e+Pe]=ye[K]+ye[Pe]}return F}();function Ue(ye){return typeof BigInt>"u"?it:ye}function it(){throw new Error("BigInt not supported")}})(TT);const Qn=TT.Buffer,cQ=TT.Buffer;var Tt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function f0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function el(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var v_,X2;function dQ(){if(X2)return v_;X2=1;let e;return v_=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:Tt):t=>(e||(e=Promise.resolve())).then(t).catch(r=>setTimeout(()=>{throw r},0)),v_}var hQ=dQ();const pQ=f0(hQ),Fl="http://www.w3.org/1999/02/22-rdf-syntax-ns#",jl="http://www.w3.org/2001/XMLSchema#",w_="http://www.w3.org/2000/10/swap/",mn={xsd:{decimal:`${jl}decimal`,boolean:`${jl}boolean`,double:`${jl}double`,integer:`${jl}integer`,string:`${jl}string`},rdf:{type:`${Fl}type`,nil:`${Fl}nil`,first:`${Fl}first`,rest:`${Fl}rest`,langString:`${Fl}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${w_}reify#forSome`,forAll:`${w_}reify#forAll`},log:{implies:`${w_}log#implies`}},{xsd:om}=mn,mQ=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,J2={"\\":"\\","'":"'",'"':'"',n:`
`,r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},yQ=/[\x00-\x20<>\\"\{\}\|\^\`]/,gQ={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},_Q=/$0^/;class RT{constructor(t){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,t=t||{},this._lineMode=!!t.lineMode){this._n3Mode=!1;for(const r in this)!(r in gQ)&&this[r]instanceof RegExp&&(this[r]=_Q)}else this._n3Mode=t.n3!==!1;this.comments=!!t.comments,this._literalClosingPos=0}_tokenizeToEnd(t,r){let n=this._input,i=n.length;for(;;){let s,l;for(;s=this._newline.exec(n);)this.comments&&(l=this._comment.exec(s[0]))&&a("comment",l[1],"",this._line,s[0].length),n=n.substr(s[0].length,n.length),i=n.length,this._line++;if(!s&&(s=this._whitespace.exec(n))&&(n=n.substr(s[0].length,n.length)),this._endOfFile.test(n))return r&&(this.comments&&(l=this._comment.exec(n))&&a("comment",l[1],"",this._line,n.length),n=null,a("eof","","",this._line,0)),this._input=n;const u=this._line,f=n[0];let d="",c="",p="",b=null,v=0,_=!1;switch(f){case"^":if(n.length<3)break;if(n[1]==="^"){if(this._previousMarker="^^",n=n.substr(2),n[0]!=="<"){_=!0;break}}else{this._n3Mode&&(v=1,d="^");break}case"<":if(b=this._unescapedIri.exec(n))d="IRI",c=b[1];else if(b=this._iri.exec(n)){if(c=this._unescape(b[1]),c===null||yQ.test(c))return o(this);d="IRI"}else n.length>1&&n[1]==="<"?(d="<<",v=2):this._n3Mode&&n.length>1&&n[1]==="="&&(d="inverse",v=2,c=">");break;case">":n.length>1&&n[1]===">"&&(d=">>",v=2);break;case"_":((b=this._blank.exec(n))||r&&(b=this._blank.exec(`${n} `)))&&(d="blank",p="_",c=b[1]);break;case'"':if(b=this._simpleQuotedString.exec(n))c=b[1];else if({value:c,matchLength:v}=this._parseLiteral(n),c===null)return o(this);(b!==null||v!==0)&&(d="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(b=this._simpleApostropheString.exec(n))c=b[1];else if({value:c,matchLength:v}=this._parseLiteral(n),c===null)return o(this);(b!==null||v!==0)&&(d="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(b=this._variable.exec(n))&&(d="var",c=b[0]);break;case"@":this._previousMarker==="literal"&&(b=this._langcode.exec(n))?(d="langcode",c=b[1]):(b=this._keyword.exec(n))&&(d=b[0]);break;case".":if(n.length===1?r:n[1]<"0"||n[1]>"9"){d=".",v=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(b=this._number.exec(n)||r&&(b=this._number.exec(`${n} `)))&&(d="literal",c=b[0],p=typeof b[1]=="string"?om.double:typeof b[2]=="string"?om.decimal:om.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(b=this._sparqlKeyword.exec(n))?d=b[0].toUpperCase():_=!0;break;case"f":case"t":(b=this._boolean.exec(n))?(d="literal",c=b[0],p=om.boolean):_=!0;break;case"a":(b=this._shortPredicates.exec(n))?(d="abbreviation",c="a"):_=!0;break;case"=":this._n3Mode&&n.length>1&&(d="abbreviation",n[1]!==">"?(v=1,c="="):(v=2,c=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(v=1,d=f);break;case"{":!this._lineMode&&n.length>=2&&(n[1]==="|"?(d="{|",v=2):(d=f,v=1));break;case"|":n.length>=2&&n[1]==="}"&&(d="|}",v=2);break;default:_=!0}if(_&&((this._previousMarker==="@prefix"||this._previousMarker==="PREFIX")&&(b=this._prefix.exec(n))?(d="prefix",c=b[1]||""):((b=this._prefixed.exec(n))||r&&(b=this._prefixed.exec(`${n} `)))&&(d="prefixed",p=b[1]||"",c=this._unescape(b[2]))),this._previousMarker==="^^")switch(d){case"prefixed":d="type";break;case"IRI":d="typeIRI";break;default:d=""}if(!d)return r||!/^'''|^"""/.test(n)&&/\n|\r/.test(n)?o(this):this._input=n;const y=v||b[0].length,m=a(d,c,p,u,y);this.previousToken=m,this._previousMarker=d,n=n.substr(y,n.length)}function a(s,l,u,f,d){const c=n?i-n.length:i,p=c+d,b={type:s,value:l,prefix:u,line:f,start:c,end:p};return t(null,b),b}function o(s){t(s._syntaxError(/^\S*/.exec(n)[0]))}}_unescape(t){let r=!1;const n=t.replace(mQ,(i,a,o,s)=>{if(typeof a=="string")return String.fromCharCode(Number.parseInt(a,16));if(typeof o=="string"){let l=Number.parseInt(o,16);return l<=65535?String.fromCharCode(Number.parseInt(o,16)):String.fromCharCode(55296+((l-=65536)>>10),56320+(l&1023))}return s in J2?J2[s]:(r=!0,"")});return r?null:n}_parseLiteral(t){if(t.length>=3){const r=t.match(/^(?:"""|"|'''|'|)/)[0],n=r.length;let i=Math.max(this._literalClosingPos,n);for(;(i=t.indexOf(r,i))>0;){let a=0;for(;t[i-a-1]==="\\";)a++;if(a%2===0){const o=t.substring(n,i),s=o.split(/\r\n|\r|\n/).length-1,l=i+n;if(n===1&&s!==0||n===3&&this._lineMode)break;return this._line+=s,{value:this._unescape(o),matchLength:l}}i++}this._literalClosingPos=t.length-n+1}return{value:"",matchLength:0}}_syntaxError(t){this._input=null;const r=new Error(`Unexpected "${t}" on line ${this._line}.`);return r.context={token:void 0,line:this._line,previousToken:this.previousToken},r}_readStartingBom(t){return t.startsWith("\uFEFF")?t.substr(1):t}tokenize(t,r){if(this._line=1,typeof t=="string")if(this._input=this._readStartingBom(t),typeof r=="function")pQ(()=>this._tokenizeToEnd(r,!0));else{const n=[];let i;if(this._tokenizeToEnd((a,o)=>a?i=a:n.push(o),!0),i)throw i;return n}else this._pendingBuffer=null,typeof t.setEncoding=="function"&&t.setEncoding("utf8"),t.on("data",n=>{this._input!==null&&n.length!==0&&(this._pendingBuffer&&(n=cQ.concat([this._pendingBuffer,n]),this._pendingBuffer=null),n[n.length-1]&128?this._pendingBuffer=n:(typeof this._input>"u"?this._input=this._readStartingBom(typeof n=="string"?n:n.toString()):this._input+=n,this._tokenizeToEnd(r,!1)))}),t.on("end",()=>{typeof this._input=="string"&&this._tokenizeToEnd(r,!0)}),t.on("error",r)}}const{rdf:bQ,xsd:Ps}=mn;let tl,vQ=0;const Ei={namedNode:Xq,blankNode:Jq,variable:t4,literal:e4,defaultGraph:wQ,quad:SE,triple:SE,fromTerm:cp,fromQuad:r4};class ri{constructor(t){this.id=t}get value(){return this.id}equals(t){return t instanceof ri?this.id===t.id:!!t&&this.termType===t.termType&&this.value===t.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}}let zy=class extends ri{get termType(){return"NamedNode"}},Pu=class Yq extends ri{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const t=this.id;let r=t.lastIndexOf('"')+1;return r<t.length&&t[r++]==="@"?t.substr(r).toLowerCase():""}get datatype(){return new zy(this.datatypeString)}get datatypeString(){const t=this.id,r=t.lastIndexOf('"')+1,n=r<t.length?t[r]:"";return n==="^"?t.substr(r+2):n!=="@"?Ps.string:bQ.langString}equals(t){return t instanceof Yq?this.id===t.id:!!t&&!!t.datatype&&this.termType===t.termType&&this.value===t.value&&this.language===t.language&&this.datatype.value===t.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}},AT=class extends ri{constructor(t){super(`_:${t}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}},IT=class extends ri{constructor(t){super(`?${t}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}},PT=class extends ri{constructor(){return super(""),tl||this}get termType(){return"DefaultGraph"}equals(t){return this===t||!!t&&this.termType===t.termType}};tl=new PT;function Cs(e,t,r){if(t=t||Ei,!e)return t.defaultGraph();switch(e[0]){case"?":return t.variable(e.substr(1));case"_":return t.blankNode(e.substr(2));case'"':if(t===Ei)return new Pu(e);if(e[e.length-1]==='"')return t.literal(e.substr(1,e.length-2));const n=e.lastIndexOf('"',e.length-1);return t.literal(e.substr(1,n-1),e[n+1]==="@"?e.substr(n+2):t.namedNode(e.substr(n+3)));case"[":e=JSON.parse(e);break;default:if(!r||!Array.isArray(e))return t.namedNode(e)}return t.quad(Cs(e[0],t,!0),Cs(e[1],t,!0),Cs(e[2],t,!0),e[3]&&Cs(e[3],t,!0))}function xo(e,t){if(typeof e=="string")return e;if(e instanceof ri&&e.termType!=="Quad")return e.id;if(!e)return tl.id;switch(e.termType){case"NamedNode":return e.value;case"BlankNode":return`_:${e.value}`;case"Variable":return`?${e.value}`;case"DefaultGraph":return"";case"Literal":return`"${e.value}"${e.language?`@${e.language}`:e.datatype&&e.datatype.value!==Ps.string?`^^${e.datatype.value}`:""}`;case"Quad":const r=[xo(e.subject,!0),xo(e.predicate,!0),xo(e.object,!0)];return e.graph&&e.graph.termType!=="DefaultGraph"&&r.push(xo(e.graph,!0)),t?r:JSON.stringify(r);default:throw new Error(`Unexpected termType: ${e.termType}`)}}let Fu=class extends ri{constructor(t,r,n,i){super(""),this._subject=t,this._predicate=r,this._object=n,this._graph=i||tl}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(t){return!!t&&this._subject.equals(t.subject)&&this._predicate.equals(t.predicate)&&this._object.equals(t.object)&&this._graph.equals(t.graph)}};function Xq(e){return new zy(e)}function Jq(e){return new AT(e||`n3-${vQ++}`)}function e4(e,t){if(typeof t=="string")return new Pu(`"${e}"@${t.toLowerCase()}`);let r=t?t.value:"";return r===""&&(typeof e=="boolean"?r=Ps.boolean:typeof e=="number"&&(Number.isFinite(e)?r=Number.isInteger(e)?Ps.integer:Ps.double:(r=Ps.double,Number.isNaN(e)||(e=e>0?"INF":"-INF")))),r===""||r===Ps.string?new Pu(`"${e}"`):new Pu(`"${e}"^^${r}`)}function t4(e){return new IT(e)}function wQ(){return tl}function SE(e,t,r,n){return new Fu(e,t,r,n)}function cp(e){if(e instanceof ri)return e;switch(e.termType){case"NamedNode":return Xq(e.value);case"BlankNode":return Jq(e.value);case"Variable":return t4(e.value);case"DefaultGraph":return tl;case"Literal":return e4(e.value,e.language||e.datatype);case"Quad":return r4(e);default:throw new Error(`Unexpected termType: ${e.termType}`)}}function r4(e){if(e instanceof Fu)return e;if(e.termType!=="Quad")throw new Error(`Unexpected termType: ${e.termType}`);return SE(cp(e.subject),cp(e.predicate),cp(e.object),cp(e.graph))}let eA=0;class Gy{constructor(t){this._contextStack=[],this._graph=null,t=t||{},this._setBase(t.baseIRI),t.factory&&n4(this,t.factory);const r=typeof t.format=="string"?t.format.match(/\w*$/)[0].toLowerCase():"",n=/turtle/.test(r),i=/trig/.test(r),a=/triple/.test(r),o=/quad/.test(r),s=this._n3Mode=/n3/.test(r),l=a||o;(this._supportsNamedGraphs=!(n||s))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(n||i||a||s),this._supportsRDFStar=r===""||/star|\*$/.test(r),l&&(this._resolveRelativeIRI=u=>null),this._blankNodePrefix=typeof t.blankNodePrefix!="string"?"":t.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=t.lexer||new RT({lineMode:l,n3:s}),this._explicitQuantifiers=!!t.explicitQuantifiers}static _resetBlankNodePrefix(){eA=0}_setBase(t){if(!t)this._base="",this._basePath="";else{const r=t.indexOf("#");r>=0&&(t=t.substr(0,r)),this._base=t,this._basePath=t.indexOf("/")<0?t:t.replace(/[^\/?]*(?:\?.*)?$/,""),t=t.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=t[0],this._baseScheme=t[1]}}_saveContext(t,r,n,i,a){const o=this._n3Mode;this._contextStack.push({type:t,subject:n,predicate:i,object:a,graph:r,inverse:o?this._inversePredicate:!1,blankPrefix:o?this._prefixes._:"",quantified:o?this._quantified:null}),o&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(t,r){const n=this._contextStack.pop();if(!n||n.type!==t)return this._error(`Unexpected ${r.type}`,r);this._subject=n.subject,this._predicate=n.predicate,this._object=n.object,this._graph=n.graph,this._n3Mode&&(this._inversePredicate=n.inverse,this._prefixes._=n.blankPrefix,this._quantified=n.quantified)}_readInTopContext(t){switch(t.type){case"eof":return this._graph!==null?this._error("Unclosed graph",t):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(t)}}_readEntity(t,r){let n;switch(t.type){case"IRI":case"typeIRI":const i=this._resolveIRI(t.value);if(i===null)return this._error("Invalid IRI",t);n=this._factory.namedNode(i);break;case"type":case"prefixed":const a=this._prefixes[t.prefix];if(a===void 0)return this._error(`Undefined prefix "${t.prefix}:"`,t);n=this._factory.namedNode(a+t.value);break;case"blank":n=this._factory.blankNode(this._prefixes[t.prefix]+t.value);break;case"var":n=this._factory.variable(t.value.substr(1));break;default:return this._error(`Expected entity but got ${t.type}`,t)}return!r&&this._n3Mode&&n.id in this._quantified&&(n=this._quantified[n.id]),n}_readSubject(t){switch(this._predicate=null,t.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._factory.blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._factory.blankNode(),null,null),this._readSubject):this._error("Unexpected graph",t);case"}":return this._readPunctuation(t);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier="blankNode",this._readQuantifierList):this._error('Unexpected "@forSome"',t);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier="variable",this._readQuantifierList):this._error('Unexpected "@forAll"',t);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",t);if(t.prefix.length===0)return this._literalValue=t.value,this._completeSubjectLiteral;this._subject=this._factory.literal(t.value,this._factory.namedNode(t.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",t);default:if((this._subject=this._readEntity(t))===void 0)return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(t){const r=t.type;switch(r){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[t.value];break;case".":case"]":case"}":return this._predicate===null?this._error(`Unexpected ${r}`,t):(this._subject=null,r==="]"?this._readBlankNodeTail(t):this._readPunctuation(t));case";":return this._predicate!==null?this._readPredicate:this._error("Expected predicate but got ;",t);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._factory.blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",t);default:if((this._predicate=this._readEntity(t))===void 0)return}return this._readObject}_readObject(t){switch(t.type){case"literal":if(t.prefix.length===0)return this._literalValue=t.value,this._readDataTypeOrLang;this._object=this._factory.literal(t.value,this._factory.namedNode(t.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._factory.blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._factory.blankNode()),this._readSubject):this._error("Unexpected graph",t);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",t);default:if((this._object=this._readEntity(t))===void 0)return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(t){return t.type==="{"?this._readGraph(t):this._readPredicate(t)}_readGraph(t){return t.type!=="{"?this._error(`Expected graph but got ${t.type}`,t):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(t){return t.type==="]"?(this._subject=null,this._readBlankNodeTail(t)):(this._predicate=null,this._readPredicate(t))}_readBlankNodeTail(t){if(t.type!=="]")return this._readBlankNodePunctuation(t);this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph);const r=this._predicate===null;return this._restoreContext("blank",t),this._object!==null?this._getContextEndReader():this._predicate!==null?this._readObject:r?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(t){switch(t.type){case".":case"}":return this._subject=null,this._readPunctuation(t);default:return this._readPredicate(t)}}_readListItem(t){let r=null,n=null,i=this._readListItem;const a=this._subject,o=this._contextStack,s=o[o.length-1];switch(t.type){case"[":this._saveContext("blank",this._graph,n=this._factory.blankNode(),this.RDF_FIRST,this._subject=r=this._factory.blankNode()),i=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,n=this._factory.blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",t),o.length!==0&&o[o.length-1].type==="list"&&this._emit(this._subject,this._predicate,this._object,this._graph),this._predicate===null){if(i=this._readPredicate,this._subject===this.RDF_NIL)return i}else if(i=this._getContextEndReader(),this._object===this.RDF_NIL)return i;n=this.RDF_NIL;break;case"literal":t.prefix.length===0?(this._literalValue=t.value,i=this._readListItemDataTypeOrLang):(r=this._factory.literal(t.value,this._factory.namedNode(t.prefix)),i=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._factory.blankNode()),this._readSubject):this._error("Unexpected graph",t);default:if((r=this._readEntity(t))===void 0)return}if(n===null&&(this._subject=n=this._factory.blankNode()),a===null?s.predicate===null?s.subject=n:s.object=n:this._emit(a,this.RDF_REST,n,this._graph),r!==null){if(this._n3Mode&&(t.type==="IRI"||t.type==="prefixed"))return this._saveContext("item",this._graph,n,this.RDF_FIRST,r),this._subject=r,this._predicate=null,this._getPathReader(this._readListItem);this._emit(n,this.RDF_FIRST,r,this._graph)}return i}_readDataTypeOrLang(t){return this._completeObjectLiteral(t,!1)}_readListItemDataTypeOrLang(t){return this._completeObjectLiteral(t,!0)}_completeLiteral(t){let r=this._factory.literal(this._literalValue);switch(t.type){case"type":case"typeIRI":const n=this._readEntity(t);if(n===void 0)return;r=this._factory.literal(this._literalValue,n),t=null;break;case"langcode":r=this._factory.literal(this._literalValue,t.value),t=null;break}return{token:t,literal:r}}_completeSubjectLiteral(t){return this._subject=this._completeLiteral(t).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(t,r){const n=this._completeLiteral(t);if(n)return this._object=n.literal,r&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),n.token===null?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(n.token))}_readFormulaTail(t){return t.type!=="}"?this._readPunctuation(t):(this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",t),this._object===null?this._readPredicate:this._getContextEndReader())}_readPunctuation(t){let r,n=this._graph;const i=this._subject,a=this._inversePredicate;switch(t.type){case"}":if(this._graph===null)return this._error("Unexpected graph closing",t);if(this._n3Mode)return this._readFormulaTail(t);this._graph=null;case".":this._subject=null,r=this._contextStack.length?this._readSubject:this._readInTopContext,a&&(this._inversePredicate=!1);break;case";":r=this._readPredicate;break;case",":r=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF-star syntax",t);const o=this._predicate,s=this._object;this._subject=this._factory.quad(i,o,s,this.DEFAULTGRAPH),r=this._readPredicate;break;case"|}":if(this._subject.termType!=="Quad")return this._error("Unexpected asserted triple closing",t);this._subject=null,r=this._readPunctuation;break;default:if(this._supportsQuads&&this._graph===null&&(n=this._readEntity(t))!==void 0){r=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,t)}if(i!==null){const o=this._predicate,s=this._object;a?this._emit(s,o,i,n):this._emit(i,o,s,n)}return r}_readBlankNodePunctuation(t){let r;switch(t.type){case";":r=this._readPredicate;break;case",":r=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,t)}return this._emit(this._subject,this._predicate,this._object,this._graph),r}_readQuadPunctuation(t){return t.type!=="."?this._error("Expected dot to follow quad",t):this._readInTopContext}_readPrefix(t){return t.type!=="prefix"?this._error("Expected prefix to follow @prefix",t):(this._prefix=t.value,this._readPrefixIRI)}_readPrefixIRI(t){if(t.type!=="IRI")return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,t);const r=this._readEntity(t);return this._prefixes[this._prefix]=r.value,this._prefixCallback(this._prefix,r),this._readDeclarationPunctuation}_readBaseIRI(t){const r=t.type==="IRI"&&this._resolveIRI(t.value);return r?(this._setBase(r),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",t)}_readNamedGraphLabel(t){switch(t.type){case"IRI":case"blank":case"prefixed":return this._readSubject(t),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",t)}}_readNamedGraphBlankLabel(t){return t.type!=="]"?this._error("Invalid graph label",t):(this._subject=this._factory.blankNode(),this._readGraph)}_readDeclarationPunctuation(t){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(t)):t.type!=="."?this._error("Expected declaration to end with a dot",t):this._readInTopContext}_readQuantifierList(t){let r;switch(t.type){case"IRI":case"prefixed":if((r=this._readEntity(t,!0))!==void 0)break;default:return this._error(`Unexpected ${t.type}`,t)}return this._explicitQuantifiers?(this._subject===null?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._factory.blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._factory.blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,r,this.QUANTIFIERS_GRAPH)):this._quantified[r.id]=this._factory[this._quantifier](this._factory.blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(t){return t.type===","?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(t))}_getPathReader(t){return this._afterPath=t,this._readPath}_readPath(t){switch(t.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const r=this._contextStack,n=r.length&&r[r.length-1];if(n&&n.type==="item"){const i=this._subject;this._restoreContext("item",t),this._emit(this._subject,this.RDF_FIRST,i,this._graph)}return this._afterPath(t)}}_readForwardPath(t){let r,n;const i=this._factory.blankNode();if((n=this._readEntity(t))!==void 0)return this._predicate===null?(r=this._subject,this._subject=i):(r=this._object,this._object=i),this._emit(r,n,i,this._graph),this._readPath}_readBackwardPath(t){const r=this._factory.blankNode();let n,i;if((n=this._readEntity(t))!==void 0)return this._predicate===null?(i=this._subject,this._subject=r):(i=this._object,this._object=r),this._emit(r,n,i,this._graph),this._readPath}_readRDFStarTailOrGraph(t){return t.type!==">>"?this._supportsQuads&&this._graph===null&&(this._graph=this._readEntity(t))!==void 0?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,t):this._readRDFStarTail(t)}_readRDFStarTail(t){if(t.type!==">>")return this._error(`Expected >> but got ${t.type}`,t);const r=this._factory.quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",t),this._subject===null?(this._subject=r,this._readPredicate):(this._object=r,this._getContextEndReader())}_getContextEndReader(){const t=this._contextStack;if(!t.length)return this._readPunctuation;switch(t[t.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(t,r,n,i){this._callback(null,this._factory.quad(t,r,n,i||this.DEFAULTGRAPH))}_error(t,r){const n=new Error(`${t} on line ${r.line}.`);n.context={token:r,line:r.line,previousToken:this._lexer.previousToken},this._callback(n),this._callback=sm}_resolveIRI(t){return/^[a-z][a-z0-9+.-]*:/i.test(t)?t:this._resolveRelativeIRI(t)}_resolveRelativeIRI(t){if(!t.length)return this._base;switch(t[0]){case"#":return this._base+t;case"?":return this._base.replace(/(?:\?.*)?$/,t);case"/":return(t[1]==="/"?this._baseScheme:this._baseRoot)+this._removeDotSegments(t);default:return/^[^/:]*:/.test(t)?null:this._removeDotSegments(this._basePath+t)}}_removeDotSegments(t){if(!/(^|\/)\.\.?($|[/#?])/.test(t))return t;const r=t.length;let n="",i=-1,a=-1,o=0,s="/";for(;i<r;){switch(s){case":":if(a<0&&t[++i]==="/"&&t[++i]==="/")for(;(a=i+1)<r&&t[a]!=="/";)i=a;break;case"?":case"#":i=r;break;case"/":if(t[i+1]===".")switch(s=t[++i+1],s){case"/":n+=t.substring(o,i-1),o=i+1;break;case void 0:case"?":case"#":return n+t.substring(o,i)+t.substr(i+1);case".":if(s=t[++i+1],s===void 0||s==="/"||s==="?"||s==="#"){if(n+=t.substring(o,i-2),(o=n.lastIndexOf("/"))>=a&&(n=n.substr(0,o)),s!=="/")return`${n}/${t.substr(i+1)}`;o=i+1}}}s=t[++i]}return n+t.substring(o)}parse(t,r,n){let i,a,o;if(r&&(r.onQuad||r.onPrefix||r.onComment)?(i=r.onQuad,a=r.onPrefix,o=r.onComment):(i=r,a=n),this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${eA++}_`,this._prefixCallback=a||sm,this._inversePredicate=!1,this._quantified=Object.create(null),!i){const l=[];let u;if(this._callback=(f,d)=>{f?u=f:d&&l.push(d)},this._lexer.tokenize(t).every(f=>this._readCallback=this._readCallback(f)),u)throw u;return l}let s=(l,u)=>{l!==null?(this._callback(l),this._callback=sm):this._readCallback&&(this._readCallback=this._readCallback(u))};o&&(this._lexer.comments=!0,s=(l,u)=>{l!==null?(this._callback(l),this._callback=sm):this._readCallback&&(u.type==="comment"?o(u.value):this._readCallback=this._readCallback(u))}),this._callback=i,this._lexer.tokenize(t,s)}}function sm(){}function n4(e,t){e._factory=t,e.DEFAULTGRAPH=t.defaultGraph(),e.RDF_FIRST=t.namedNode(mn.rdf.first),e.RDF_REST=t.namedNode(mn.rdf.rest),e.RDF_NIL=t.namedNode(mn.rdf.nil),e.N3_FORALL=t.namedNode(mn.r.forAll),e.N3_FORSOME=t.namedNode(mn.r.forSome),e.ABBREVIATIONS={a:t.namedNode(mn.rdf.type),"=":t.namedNode(mn.owl.sameAs),">":t.namedNode(mn.log.implies)},e.QUANTIFIERS_GRAPH=t.namedNode("urn:n3:quantifiers")}n4(Gy.prototype,Ei);function SQ(e){return!!e&&e.termType==="NamedNode"}function EQ(e){return!!e&&e.termType==="BlankNode"}function TQ(e){return!!e&&e.termType==="Literal"}function xQ(e){return!!e&&e.termType==="Variable"}function Gp(e){return!!e&&e.termType==="DefaultGraph"}function RQ(e){return Gp(e.graph)}function AQ(e,t){return i4({"":e.value||e},t)("")}function i4(e,t){const r=Object.create(null);for(const i in e)n(i,e[i]);t=t||Ei;function n(i,a){if(typeof a=="string"){const o=Object.create(null);r[i]=s=>o[s]||(o[s]=t.namedNode(a+s))}else if(!(i in r))throw new Error(`Unknown prefix: ${i}`);return r[i]}return n}const a4=Object.freeze(Object.defineProperty({__proto__:null,inDefaultGraph:RQ,isBlankNode:EQ,isDefaultGraph:Gp,isLiteral:TQ,isNamedNode:SQ,isVariable:xQ,prefix:AQ,prefixes:i4},Symbol.toStringTag,{value:"Module"})),ql=Ei.defaultGraph(),{rdf:IQ,xsd:cu}=mn,tA=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,rA=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,PQ={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};class Bl extends ri{equals(t){return t===this}}class c0{constructor(t,r){if(this._prefixRegex=/$0^/,t&&typeof t.write!="function"&&(r=t,t=null),r=r||{},this._lists=r.lists,t)this._outputStream=t,this._endStream=r.end===void 0?!0:!!r.end;else{let n="";this._outputStream={write(i,a,o){n+=i,o&&o()},end:i=>{i&&i(null,n)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(r.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=ql,this._prefixIRIs=Object.create(null),r.prefixes&&this.addPrefixes(r.prefixes),r.baseIRI&&(this._baseMatcher=new RegExp(`^${iA(r.baseIRI)}${r.baseIRI.endsWith("/")?"":"[#?]"}`),this._baseLength=r.baseIRI.length))}get _inDefaultGraph(){return ql.equals(this._graph)}_write(t,r){this._outputStream.write(t,"utf8",r)}_writeQuad(t,r,n,i,a){try{i.equals(this._graph)||(this._write((this._subject===null?"":this._inDefaultGraph?`.
`:`
}
`)+(ql.equals(i)?"":`${this._encodeIriOrBlank(i)} {
`)),this._graph=i,this._subject=null),t.equals(this._subject)?r.equals(this._predicate)?this._write(`, ${this._encodeObject(n)}`,a):this._write(`;
    ${this._encodePredicate(this._predicate=r)} ${this._encodeObject(n)}`,a):this._write(`${(this._subject===null?"":`.
`)+this._encodeSubject(this._subject=t)} ${this._encodePredicate(this._predicate=r)} ${this._encodeObject(n)}`,a)}catch(o){a&&a(o)}}_writeQuadLine(t,r,n,i,a){delete this._prefixMatch,this._write(this.quadToString(t,r,n,i),a)}quadToString(t,r,n,i){return`${this._encodeSubject(t)} ${this._encodeIriOrBlank(r)} ${this._encodeObject(n)}${i&&i.value?` ${this._encodeIriOrBlank(i)} .
`:` .
`}`}quadsToString(t){let r="";for(const n of t)r+=this.quadToString(n.subject,n.predicate,n.object,n.graph);return r}_encodeSubject(t){return t.termType==="Quad"?this._encodeQuad(t):this._encodeIriOrBlank(t)}_encodeIriOrBlank(t){if(t.termType!=="NamedNode")return this._lists&&t.value in this._lists&&(t=this.list(this._lists[t.value])),"id"in t?t.id:`_:${t.value}`;let r=t.value;this._baseMatcher&&this._baseMatcher.test(r)&&(r=r.substr(this._baseLength)),tA.test(r)&&(r=r.replace(rA,nA));const n=this._prefixRegex.exec(r);return n?n[1]?this._prefixIRIs[n[1]]+n[2]:r:`<${r}>`}_encodeLiteral(t){let r=t.value;if(tA.test(r)&&(r=r.replace(rA,nA)),t.language)return`"${r}"@${t.language}`;if(this._lineMode){if(t.datatype.value===cu.string)return`"${r}"`}else switch(t.datatype.value){case cu.string:return`"${r}"`;case cu.boolean:if(r==="true"||r==="false")return r;break;case cu.integer:if(/^[+-]?\d+$/.test(r))return r;break;case cu.decimal:if(/^[+-]?\d*\.\d+$/.test(r))return r;break;case cu.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(r))return r;break}return`"${r}"^^${this._encodeIriOrBlank(t.datatype)}`}_encodePredicate(t){return t.value===IQ.type?"a":this._encodeIriOrBlank(t)}_encodeObject(t){switch(t.termType){case"Quad":return this._encodeQuad(t);case"Literal":return this._encodeLiteral(t);default:return this._encodeIriOrBlank(t)}}_encodeQuad({subject:t,predicate:r,object:n,graph:i}){return`<<${this._encodeSubject(t)} ${this._encodePredicate(r)} ${this._encodeObject(n)}${Gp(i)?"":` ${this._encodeIriOrBlank(i)}`}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(t,r,n,i,a){n===void 0?this._writeQuad(t.subject,t.predicate,t.object,t.graph,r):typeof i=="function"?this._writeQuad(t,r,n,ql,i):this._writeQuad(t,r,n,i||ql,a)}addQuads(t){for(let r=0;r<t.length;r++)this.addQuad(t[r])}addPrefix(t,r,n){const i={};i[t]=r,this.addPrefixes(i,n)}addPrefixes(t,r){if(!this._prefixIRIs)return r&&r();let n=!1;for(let i in t){let a=t[i];typeof a!="string"&&(a=a.value),n=!0,this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null,this._graph=""),this._prefixIRIs[a]=i+=":",this._write(`@prefix ${i} <${a}>.
`)}if(n){let i="",a="";for(const o in this._prefixIRIs)i+=i?`|${o}`:o,a+=(a?"|":"")+this._prefixIRIs[o];i=iA(i),this._prefixRegex=new RegExp(`^(?:${a})[^/]*$|^(${i})([_a-zA-Z0-9][\\-_a-zA-Z0-9]*)$`)}this._write(n?`
`:"",r)}blank(t,r){let n=t,i,a;switch(t===void 0?n=[]:t.termType?n=[{predicate:t,object:r}]:"length"in t||(n=[t]),a=n.length){case 0:return new Bl("[]");case 1:if(i=n[0],!(i.object instanceof Bl))return new Bl(`[ ${this._encodePredicate(i.predicate)} ${this._encodeObject(i.object)} ]`);default:let o="[";for(let s=0;s<a;s++)i=n[s],i.predicate.equals(t)?o+=`, ${this._encodeObject(i.object)}`:(o+=`${(s?`;
  `:`
  `)+this._encodePredicate(i.predicate)} ${this._encodeObject(i.object)}`,t=i.predicate);return new Bl(`${o}
]`)}}list(t){const r=t&&t.length||0,n=new Array(r);for(let i=0;i<r;i++)n[i]=this._encodeObject(t[i]);return new Bl(`(${n.join(" ")})`)}end(t){this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null),this._write=this._blockedWrite;let r=t&&((n,i)=>{r=null,t(n,i)});if(this._endStream)try{return this._outputStream.end(r)}catch{}r&&r()}}function nA(e){let t=PQ[e];return t===void 0&&(e.length===1?(t=e.charCodeAt(0).toString(16),t="\\u0000".substr(0,6-t.length)+t):(t=((e.charCodeAt(0)-55296)*1024+e.charCodeAt(1)+9216).toString(16),t="\\U00000000".substr(0,10-t.length)+t)),t}function iA(e){return e.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&")}var S_={exports:{}},E_={exports:{}},T_={},aA;function Er(){return aA||(aA=1,function(e){Object.defineProperties(e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var t={},r={};r.byteLength=f,r.toByteArray=c,r.fromByteArray=v;for(var n=[],i=[],a=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=o.length;s<l;++s)n[s]=o[s],i[o.charCodeAt(s)]=s;i[45]=62,i[95]=63;function u(m){var g=m.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var S=m.indexOf("=");S===-1&&(S=g);var x=S===g?0:4-S%4;return[S,x]}function f(m){var g=u(m),S=g[0],x=g[1];return(S+x)*3/4-x}function d(m,g,S){return(g+S)*3/4-S}function c(m){var g,S=u(m),x=S[0],I=S[1],N=new a(d(m,x,I)),q=0,D=I>0?x-4:x,M;for(M=0;M<D;M+=4)g=i[m.charCodeAt(M)]<<18|i[m.charCodeAt(M+1)]<<12|i[m.charCodeAt(M+2)]<<6|i[m.charCodeAt(M+3)],N[q++]=g>>16&255,N[q++]=g>>8&255,N[q++]=g&255;return I===2&&(g=i[m.charCodeAt(M)]<<2|i[m.charCodeAt(M+1)]>>4,N[q++]=g&255),I===1&&(g=i[m.charCodeAt(M)]<<10|i[m.charCodeAt(M+1)]<<4|i[m.charCodeAt(M+2)]>>2,N[q++]=g>>8&255,N[q++]=g&255),N}function p(m){return n[m>>18&63]+n[m>>12&63]+n[m>>6&63]+n[m&63]}function b(m,g,S){for(var x,I=[],N=g;N<S;N+=3)x=(m[N]<<16&16711680)+(m[N+1]<<8&65280)+(m[N+2]&255),I.push(p(x));return I.join("")}function v(m){for(var g,S=m.length,x=S%3,I=[],N=16383,q=0,D=S-x;q<D;q+=N)I.push(b(m,q,q+N>D?D:q+N));return x===1?(g=m[S-1],I.push(n[g>>2]+n[g<<4&63]+"==")):x===2&&(g=(m[S-2]<<8)+m[S-1],I.push(n[g>>10]+n[g>>4&63]+n[g<<2&63]+"=")),I.join("")}var _={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */_.read=function(m,g,S,x,I){var N,q,D=I*8-x-1,M=(1<<D)-1,j=M>>1,P=-7,B=S?I-1:0,Y=S?-1:1,ie=m[g+B];for(B+=Y,N=ie&(1<<-P)-1,ie>>=-P,P+=D;P>0;N=N*256+m[g+B],B+=Y,P-=8);for(q=N&(1<<-P)-1,N>>=-P,P+=x;P>0;q=q*256+m[g+B],B+=Y,P-=8);if(N===0)N=1-j;else{if(N===M)return q?NaN:(ie?-1:1)*(1/0);q=q+Math.pow(2,x),N=N-j}return(ie?-1:1)*q*Math.pow(2,N-x)},_.write=function(m,g,S,x,I,N){var q,D,M,j=N*8-I-1,P=(1<<j)-1,B=P>>1,Y=I===23?Math.pow(2,-24)-Math.pow(2,-77):0,ie=x?0:N-1,X=x?1:-1,le=g<0||g===0&&1/g<0?1:0;for(g=Math.abs(g),isNaN(g)||g===1/0?(D=isNaN(g)?1:0,q=P):(q=Math.floor(Math.log(g)/Math.LN2),g*(M=Math.pow(2,-q))<1&&(q--,M*=2),q+B>=1?g+=Y/M:g+=Y*Math.pow(2,1-B),g*M>=2&&(q++,M/=2),q+B>=P?(D=0,q=P):q+B>=1?(D=(g*M-1)*Math.pow(2,I),q=q+B):(D=g*Math.pow(2,B-1)*Math.pow(2,I),q=0));I>=8;m[S+ie]=D&255,ie+=X,D/=256,I-=8);for(q=q<<I|D,j+=I;j>0;m[S+ie]=q&255,ie+=X,q/=256,j-=8);m[S+ie-X]|=le*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(m){const g=r,S=_,x=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;m.Buffer=P,m.SlowBuffer=Z,m.INSPECT_MAX_BYTES=50;const I=2147483647;m.kMaxLength=I;const{Uint8Array:N,ArrayBuffer:q,SharedArrayBuffer:D}=globalThis;P.TYPED_ARRAY_SUPPORT=M(),!P.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function M(){try{const W=new N(1),G={foo:function(){return 42}};return Object.setPrototypeOf(G,N.prototype),Object.setPrototypeOf(W,G),W.foo()===42}catch{return!1}}Object.defineProperty(P.prototype,"parent",{enumerable:!0,get:function(){if(P.isBuffer(this))return this.buffer}}),Object.defineProperty(P.prototype,"offset",{enumerable:!0,get:function(){if(P.isBuffer(this))return this.byteOffset}});function j(W){if(W>I)throw new RangeError('The value "'+W+'" is invalid for option "size"');const G=new N(W);return Object.setPrototypeOf(G,P.prototype),G}function P(W,G,J){if(typeof W=="number"){if(typeof G=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return X(W)}return B(W,G,J)}P.poolSize=8192;function B(W,G,J){if(typeof W=="string")return le(W,G);if(q.isView(W))return ne(W);if(W==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W);if(me(W,q)||W&&me(W.buffer,q)||typeof D<"u"&&(me(W,D)||W&&me(W.buffer,D)))return H(W,G,J);if(typeof W=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Se=W.valueOf&&W.valueOf();if(Se!=null&&Se!==W)return P.from(Se,G,J);const Le=oe(W);if(Le)return Le;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof W[Symbol.toPrimitive]=="function")return P.from(W[Symbol.toPrimitive]("string"),G,J);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W)}P.from=function(W,G,J){return B(W,G,J)},Object.setPrototypeOf(P.prototype,N.prototype),Object.setPrototypeOf(P,N);function Y(W){if(typeof W!="number")throw new TypeError('"size" argument must be of type number');if(W<0)throw new RangeError('The value "'+W+'" is invalid for option "size"')}function ie(W,G,J){return Y(W),W<=0?j(W):G!==void 0?typeof J=="string"?j(W).fill(G,J):j(W).fill(G):j(W)}P.alloc=function(W,G,J){return ie(W,G,J)};function X(W){return Y(W),j(W<0?0:he(W)|0)}P.allocUnsafe=function(W){return X(W)},P.allocUnsafeSlow=function(W){return X(W)};function le(W,G){if((typeof G!="string"||G==="")&&(G="utf8"),!P.isEncoding(G))throw new TypeError("Unknown encoding: "+G);const J=Q(W,G)|0;let Se=j(J);const Le=Se.write(W,G);return Le!==J&&(Se=Se.slice(0,Le)),Se}function ae(W){const G=W.length<0?0:he(W.length)|0,J=j(G);for(let Se=0;Se<G;Se+=1)J[Se]=W[Se]&255;return J}function ne(W){if(me(W,N)){const G=new N(W);return H(G.buffer,G.byteOffset,G.byteLength)}return ae(W)}function H(W,G,J){if(G<0||W.byteLength<G)throw new RangeError('"offset" is outside of buffer bounds');if(W.byteLength<G+(J||0))throw new RangeError('"length" is outside of buffer bounds');let Se;return G===void 0&&J===void 0?Se=new N(W):J===void 0?Se=new N(W,G):Se=new N(W,G,J),Object.setPrototypeOf(Se,P.prototype),Se}function oe(W){if(P.isBuffer(W)){const G=he(W.length)|0,J=j(G);return J.length===0||W.copy(J,0,0,G),J}if(W.length!==void 0)return typeof W.length!="number"||Me(W.length)?j(0):ae(W);if(W.type==="Buffer"&&Array.isArray(W.data))return ae(W.data)}function he(W){if(W>=I)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+I.toString(16)+" bytes");return W|0}function Z(W){return+W!=W&&(W=0),P.alloc(+W)}P.isBuffer=function(G){return G!=null&&G._isBuffer===!0&&G!==P.prototype},P.compare=function(G,J){if(me(G,N)&&(G=P.from(G,G.offset,G.byteLength)),me(J,N)&&(J=P.from(J,J.offset,J.byteLength)),!P.isBuffer(G)||!P.isBuffer(J))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(G===J)return 0;let Se=G.length,Le=J.length;for(let De=0,Ve=Math.min(Se,Le);De<Ve;++De)if(G[De]!==J[De]){Se=G[De],Le=J[De];break}return Se<Le?-1:Le<Se?1:0},P.isEncoding=function(G){switch(String(G).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},P.concat=function(G,J){if(!Array.isArray(G))throw new TypeError('"list" argument must be an Array of Buffers');if(G.length===0)return P.alloc(0);let Se;if(J===void 0)for(J=0,Se=0;Se<G.length;++Se)J+=G[Se].length;const Le=P.allocUnsafe(J);let De=0;for(Se=0;Se<G.length;++Se){let Ve=G[Se];if(me(Ve,N))De+Ve.length>Le.length?(P.isBuffer(Ve)||(Ve=P.from(Ve)),Ve.copy(Le,De)):N.prototype.set.call(Le,Ve,De);else if(P.isBuffer(Ve))Ve.copy(Le,De);else throw new TypeError('"list" argument must be an Array of Buffers');De+=Ve.length}return Le};function Q(W,G){if(P.isBuffer(W))return W.length;if(q.isView(W)||me(W,q))return W.byteLength;if(typeof W!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof W);const J=W.length,Se=arguments.length>2&&arguments[2]===!0;if(!Se&&J===0)return 0;let Le=!1;for(;;)switch(G){case"ascii":case"latin1":case"binary":return J;case"utf8":case"utf-8":return Re(W).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return J*2;case"hex":return J>>>1;case"base64":return xe(W).length;default:if(Le)return Se?-1:Re(W).length;G=(""+G).toLowerCase(),Le=!0}}P.byteLength=Q;function ee(W,G,J){let Se=!1;if((G===void 0||G<0)&&(G=0),G>this.length||((J===void 0||J>this.length)&&(J=this.length),J<=0)||(J>>>=0,G>>>=0,J<=G))return"";for(W||(W="utf8");;)switch(W){case"hex":return Ie(this,G,J);case"utf8":case"utf-8":return U(this,G,J);case"ascii":return ve(this,G,J);case"latin1":case"binary":return ce(this,G,J);case"base64":return k(this,G,J);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return be(this,G,J);default:if(Se)throw new TypeError("Unknown encoding: "+W);W=(W+"").toLowerCase(),Se=!0}}P.prototype._isBuffer=!0;function O(W,G,J){const Se=W[G];W[G]=W[J],W[J]=Se}P.prototype.swap16=function(){const G=this.length;if(G%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let J=0;J<G;J+=2)O(this,J,J+1);return this},P.prototype.swap32=function(){const G=this.length;if(G%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let J=0;J<G;J+=4)O(this,J,J+3),O(this,J+1,J+2);return this},P.prototype.swap64=function(){const G=this.length;if(G%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let J=0;J<G;J+=8)O(this,J,J+7),O(this,J+1,J+6),O(this,J+2,J+5),O(this,J+3,J+4);return this},P.prototype.toString=function(){const G=this.length;return G===0?"":arguments.length===0?U(this,0,G):ee.apply(this,arguments)},P.prototype.toLocaleString=P.prototype.toString,P.prototype.equals=function(G){if(!P.isBuffer(G))throw new TypeError("Argument must be a Buffer");return this===G?!0:P.compare(this,G)===0},P.prototype.inspect=function(){let G="";const J=m.INSPECT_MAX_BYTES;return G=this.toString("hex",0,J).replace(/(.{2})/g,"$1 ").trim(),this.length>J&&(G+=" ... "),"<Buffer "+G+">"},x&&(P.prototype[x]=P.prototype.inspect),P.prototype.compare=function(G,J,Se,Le,De){if(me(G,N)&&(G=P.from(G,G.offset,G.byteLength)),!P.isBuffer(G))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof G);if(J===void 0&&(J=0),Se===void 0&&(Se=G?G.length:0),Le===void 0&&(Le=0),De===void 0&&(De=this.length),J<0||Se>G.length||Le<0||De>this.length)throw new RangeError("out of range index");if(Le>=De&&J>=Se)return 0;if(Le>=De)return-1;if(J>=Se)return 1;if(J>>>=0,Se>>>=0,Le>>>=0,De>>>=0,this===G)return 0;let Ve=De-Le,$e=Se-J;const ut=Math.min(Ve,$e),lt=this.slice(Le,De),dt=G.slice(J,Se);for(let ct=0;ct<ut;++ct)if(lt[ct]!==dt[ct]){Ve=lt[ct],$e=dt[ct];break}return Ve<$e?-1:$e<Ve?1:0};function A(W,G,J,Se,Le){if(W.length===0)return-1;if(typeof J=="string"?(Se=J,J=0):J>2147483647?J=2147483647:J<-2147483648&&(J=-2147483648),J=+J,Me(J)&&(J=Le?0:W.length-1),J<0&&(J=W.length+J),J>=W.length){if(Le)return-1;J=W.length-1}else if(J<0)if(Le)J=0;else return-1;if(typeof G=="string"&&(G=P.from(G,Se)),P.isBuffer(G))return G.length===0?-1:$(W,G,J,Se,Le);if(typeof G=="number")return G=G&255,typeof N.prototype.indexOf=="function"?Le?N.prototype.indexOf.call(W,G,J):N.prototype.lastIndexOf.call(W,G,J):$(W,[G],J,Se,Le);throw new TypeError("val must be string, number or Buffer")}function $(W,G,J,Se,Le){let De=1,Ve=W.length,$e=G.length;if(Se!==void 0&&(Se=String(Se).toLowerCase(),Se==="ucs2"||Se==="ucs-2"||Se==="utf16le"||Se==="utf-16le")){if(W.length<2||G.length<2)return-1;De=2,Ve/=2,$e/=2,J/=2}function ut(dt,ct){return De===1?dt[ct]:dt.readUInt16BE(ct*De)}let lt;if(Le){let dt=-1;for(lt=J;lt<Ve;lt++)if(ut(W,lt)===ut(G,dt===-1?0:lt-dt)){if(dt===-1&&(dt=lt),lt-dt+1===$e)return dt*De}else dt!==-1&&(lt-=lt-dt),dt=-1}else for(J+$e>Ve&&(J=Ve-$e),lt=J;lt>=0;lt--){let dt=!0;for(let ct=0;ct<$e;ct++)if(ut(W,lt+ct)!==ut(G,ct)){dt=!1;break}if(dt)return lt}return-1}P.prototype.includes=function(G,J,Se){return this.indexOf(G,J,Se)!==-1},P.prototype.indexOf=function(G,J,Se){return A(this,G,J,Se,!0)},P.prototype.lastIndexOf=function(G,J,Se){return A(this,G,J,Se,!1)};function te(W,G,J,Se){J=Number(J)||0;const Le=W.length-J;Se?(Se=Number(Se),Se>Le&&(Se=Le)):Se=Le;const De=G.length;Se>De/2&&(Se=De/2);let Ve;for(Ve=0;Ve<Se;++Ve){const $e=parseInt(G.substr(Ve*2,2),16);if(Me($e))return Ve;W[J+Ve]=$e}return Ve}function pe(W,G,J,Se){return Ce(Re(G,W.length-J),W,J,Se)}function R(W,G,J,Se){return Ce(Be(G),W,J,Se)}function w(W,G,J,Se){return Ce(xe(G),W,J,Se)}function T(W,G,J,Se){return Ce(V(G,W.length-J),W,J,Se)}P.prototype.write=function(G,J,Se,Le){if(J===void 0)Le="utf8",Se=this.length,J=0;else if(Se===void 0&&typeof J=="string")Le=J,Se=this.length,J=0;else if(isFinite(J))J=J>>>0,isFinite(Se)?(Se=Se>>>0,Le===void 0&&(Le="utf8")):(Le=Se,Se=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const De=this.length-J;if((Se===void 0||Se>De)&&(Se=De),G.length>0&&(Se<0||J<0)||J>this.length)throw new RangeError("Attempt to write outside buffer bounds");Le||(Le="utf8");let Ve=!1;for(;;)switch(Le){case"hex":return te(this,G,J,Se);case"utf8":case"utf-8":return pe(this,G,J,Se);case"ascii":case"latin1":case"binary":return R(this,G,J,Se);case"base64":return w(this,G,J,Se);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,G,J,Se);default:if(Ve)throw new TypeError("Unknown encoding: "+Le);Le=(""+Le).toLowerCase(),Ve=!0}},P.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function k(W,G,J){return G===0&&J===W.length?g.fromByteArray(W):g.fromByteArray(W.slice(G,J))}function U(W,G,J){J=Math.min(W.length,J);const Se=[];let Le=G;for(;Le<J;){const De=W[Le];let Ve=null,$e=De>239?4:De>223?3:De>191?2:1;if(Le+$e<=J){let ut,lt,dt,ct;switch($e){case 1:De<128&&(Ve=De);break;case 2:ut=W[Le+1],(ut&192)===128&&(ct=(De&31)<<6|ut&63,ct>127&&(Ve=ct));break;case 3:ut=W[Le+1],lt=W[Le+2],(ut&192)===128&&(lt&192)===128&&(ct=(De&15)<<12|(ut&63)<<6|lt&63,ct>2047&&(ct<55296||ct>57343)&&(Ve=ct));break;case 4:ut=W[Le+1],lt=W[Le+2],dt=W[Le+3],(ut&192)===128&&(lt&192)===128&&(dt&192)===128&&(ct=(De&15)<<18|(ut&63)<<12|(lt&63)<<6|dt&63,ct>65535&&ct<1114112&&(Ve=ct))}}Ve===null?(Ve=65533,$e=1):Ve>65535&&(Ve-=65536,Se.push(Ve>>>10&1023|55296),Ve=56320|Ve&1023),Se.push(Ve),Le+=$e}return fe(Se)}const re=4096;function fe(W){const G=W.length;if(G<=re)return String.fromCharCode.apply(String,W);let J="",Se=0;for(;Se<G;)J+=String.fromCharCode.apply(String,W.slice(Se,Se+=re));return J}function ve(W,G,J){let Se="";J=Math.min(W.length,J);for(let Le=G;Le<J;++Le)Se+=String.fromCharCode(W[Le]&127);return Se}function ce(W,G,J){let Se="";J=Math.min(W.length,J);for(let Le=G;Le<J;++Le)Se+=String.fromCharCode(W[Le]);return Se}function Ie(W,G,J){const Se=W.length;(!G||G<0)&&(G=0),(!J||J<0||J>Se)&&(J=Se);let Le="";for(let De=G;De<J;++De)Le+=He[W[De]];return Le}function be(W,G,J){const Se=W.slice(G,J);let Le="";for(let De=0;De<Se.length-1;De+=2)Le+=String.fromCharCode(Se[De]+Se[De+1]*256);return Le}P.prototype.slice=function(G,J){const Se=this.length;G=~~G,J=J===void 0?Se:~~J,G<0?(G+=Se,G<0&&(G=0)):G>Se&&(G=Se),J<0?(J+=Se,J<0&&(J=0)):J>Se&&(J=Se),J<G&&(J=G);const Le=this.subarray(G,J);return Object.setPrototypeOf(Le,P.prototype),Le};function Te(W,G,J){if(W%1!==0||W<0)throw new RangeError("offset is not uint");if(W+G>J)throw new RangeError("Trying to access beyond buffer length")}P.prototype.readUintLE=P.prototype.readUIntLE=function(G,J,Se){G=G>>>0,J=J>>>0,Se||Te(G,J,this.length);let Le=this[G],De=1,Ve=0;for(;++Ve<J&&(De*=256);)Le+=this[G+Ve]*De;return Le},P.prototype.readUintBE=P.prototype.readUIntBE=function(G,J,Se){G=G>>>0,J=J>>>0,Se||Te(G,J,this.length);let Le=this[G+--J],De=1;for(;J>0&&(De*=256);)Le+=this[G+--J]*De;return Le},P.prototype.readUint8=P.prototype.readUInt8=function(G,J){return G=G>>>0,J||Te(G,1,this.length),this[G]},P.prototype.readUint16LE=P.prototype.readUInt16LE=function(G,J){return G=G>>>0,J||Te(G,2,this.length),this[G]|this[G+1]<<8},P.prototype.readUint16BE=P.prototype.readUInt16BE=function(G,J){return G=G>>>0,J||Te(G,2,this.length),this[G]<<8|this[G+1]},P.prototype.readUint32LE=P.prototype.readUInt32LE=function(G,J){return G=G>>>0,J||Te(G,4,this.length),(this[G]|this[G+1]<<8|this[G+2]<<16)+this[G+3]*16777216},P.prototype.readUint32BE=P.prototype.readUInt32BE=function(G,J){return G=G>>>0,J||Te(G,4,this.length),this[G]*16777216+(this[G+1]<<16|this[G+2]<<8|this[G+3])},P.prototype.readBigUInt64LE=ft(function(G){G=G>>>0,Pe(G,"offset");const J=this[G],Se=this[G+7];(J===void 0||Se===void 0)&&se(G,this.length-8);const Le=J+this[++G]*2**8+this[++G]*2**16+this[++G]*2**24,De=this[++G]+this[++G]*2**8+this[++G]*2**16+Se*2**24;return BigInt(Le)+(BigInt(De)<<BigInt(32))}),P.prototype.readBigUInt64BE=ft(function(G){G=G>>>0,Pe(G,"offset");const J=this[G],Se=this[G+7];(J===void 0||Se===void 0)&&se(G,this.length-8);const Le=J*2**24+this[++G]*2**16+this[++G]*2**8+this[++G],De=this[++G]*2**24+this[++G]*2**16+this[++G]*2**8+Se;return(BigInt(Le)<<BigInt(32))+BigInt(De)}),P.prototype.readIntLE=function(G,J,Se){G=G>>>0,J=J>>>0,Se||Te(G,J,this.length);let Le=this[G],De=1,Ve=0;for(;++Ve<J&&(De*=256);)Le+=this[G+Ve]*De;return De*=128,Le>=De&&(Le-=Math.pow(2,8*J)),Le},P.prototype.readIntBE=function(G,J,Se){G=G>>>0,J=J>>>0,Se||Te(G,J,this.length);let Le=J,De=1,Ve=this[G+--Le];for(;Le>0&&(De*=256);)Ve+=this[G+--Le]*De;return De*=128,Ve>=De&&(Ve-=Math.pow(2,8*J)),Ve},P.prototype.readInt8=function(G,J){return G=G>>>0,J||Te(G,1,this.length),this[G]&128?(255-this[G]+1)*-1:this[G]},P.prototype.readInt16LE=function(G,J){G=G>>>0,J||Te(G,2,this.length);const Se=this[G]|this[G+1]<<8;return Se&32768?Se|4294901760:Se},P.prototype.readInt16BE=function(G,J){G=G>>>0,J||Te(G,2,this.length);const Se=this[G+1]|this[G]<<8;return Se&32768?Se|4294901760:Se},P.prototype.readInt32LE=function(G,J){return G=G>>>0,J||Te(G,4,this.length),this[G]|this[G+1]<<8|this[G+2]<<16|this[G+3]<<24},P.prototype.readInt32BE=function(G,J){return G=G>>>0,J||Te(G,4,this.length),this[G]<<24|this[G+1]<<16|this[G+2]<<8|this[G+3]},P.prototype.readBigInt64LE=ft(function(G){G=G>>>0,Pe(G,"offset");const J=this[G],Se=this[G+7];(J===void 0||Se===void 0)&&se(G,this.length-8);const Le=this[G+4]+this[G+5]*2**8+this[G+6]*2**16+(Se<<24);return(BigInt(Le)<<BigInt(32))+BigInt(J+this[++G]*2**8+this[++G]*2**16+this[++G]*2**24)}),P.prototype.readBigInt64BE=ft(function(G){G=G>>>0,Pe(G,"offset");const J=this[G],Se=this[G+7];(J===void 0||Se===void 0)&&se(G,this.length-8);const Le=(J<<24)+this[++G]*2**16+this[++G]*2**8+this[++G];return(BigInt(Le)<<BigInt(32))+BigInt(this[++G]*2**24+this[++G]*2**16+this[++G]*2**8+Se)}),P.prototype.readFloatLE=function(G,J){return G=G>>>0,J||Te(G,4,this.length),S.read(this,G,!0,23,4)},P.prototype.readFloatBE=function(G,J){return G=G>>>0,J||Te(G,4,this.length),S.read(this,G,!1,23,4)},P.prototype.readDoubleLE=function(G,J){return G=G>>>0,J||Te(G,8,this.length),S.read(this,G,!0,52,8)},P.prototype.readDoubleBE=function(G,J){return G=G>>>0,J||Te(G,8,this.length),S.read(this,G,!1,52,8)};function je(W,G,J,Se,Le,De){if(!P.isBuffer(W))throw new TypeError('"buffer" argument must be a Buffer instance');if(G>Le||G<De)throw new RangeError('"value" argument is out of bounds');if(J+Se>W.length)throw new RangeError("Index out of range")}P.prototype.writeUintLE=P.prototype.writeUIntLE=function(G,J,Se,Le){if(G=+G,J=J>>>0,Se=Se>>>0,!Le){const $e=Math.pow(2,8*Se)-1;je(this,G,J,Se,$e,0)}let De=1,Ve=0;for(this[J]=G&255;++Ve<Se&&(De*=256);)this[J+Ve]=G/De&255;return J+Se},P.prototype.writeUintBE=P.prototype.writeUIntBE=function(G,J,Se,Le){if(G=+G,J=J>>>0,Se=Se>>>0,!Le){const $e=Math.pow(2,8*Se)-1;je(this,G,J,Se,$e,0)}let De=Se-1,Ve=1;for(this[J+De]=G&255;--De>=0&&(Ve*=256);)this[J+De]=G/Ve&255;return J+Se},P.prototype.writeUint8=P.prototype.writeUInt8=function(G,J,Se){return G=+G,J=J>>>0,Se||je(this,G,J,1,255,0),this[J]=G&255,J+1},P.prototype.writeUint16LE=P.prototype.writeUInt16LE=function(G,J,Se){return G=+G,J=J>>>0,Se||je(this,G,J,2,65535,0),this[J]=G&255,this[J+1]=G>>>8,J+2},P.prototype.writeUint16BE=P.prototype.writeUInt16BE=function(G,J,Se){return G=+G,J=J>>>0,Se||je(this,G,J,2,65535,0),this[J]=G>>>8,this[J+1]=G&255,J+2},P.prototype.writeUint32LE=P.prototype.writeUInt32LE=function(G,J,Se){return G=+G,J=J>>>0,Se||je(this,G,J,4,4294967295,0),this[J+3]=G>>>24,this[J+2]=G>>>16,this[J+1]=G>>>8,this[J]=G&255,J+4},P.prototype.writeUint32BE=P.prototype.writeUInt32BE=function(G,J,Se){return G=+G,J=J>>>0,Se||je(this,G,J,4,4294967295,0),this[J]=G>>>24,this[J+1]=G>>>16,this[J+2]=G>>>8,this[J+3]=G&255,J+4};function Ae(W,G,J,Se,Le){_e(G,Se,Le,W,J,7);let De=Number(G&BigInt(4294967295));W[J++]=De,De=De>>8,W[J++]=De,De=De>>8,W[J++]=De,De=De>>8,W[J++]=De;let Ve=Number(G>>BigInt(32)&BigInt(4294967295));return W[J++]=Ve,Ve=Ve>>8,W[J++]=Ve,Ve=Ve>>8,W[J++]=Ve,Ve=Ve>>8,W[J++]=Ve,J}function Oe(W,G,J,Se,Le){_e(G,Se,Le,W,J,7);let De=Number(G&BigInt(4294967295));W[J+7]=De,De=De>>8,W[J+6]=De,De=De>>8,W[J+5]=De,De=De>>8,W[J+4]=De;let Ve=Number(G>>BigInt(32)&BigInt(4294967295));return W[J+3]=Ve,Ve=Ve>>8,W[J+2]=Ve,Ve=Ve>>8,W[J+1]=Ve,Ve=Ve>>8,W[J]=Ve,J+8}P.prototype.writeBigUInt64LE=ft(function(G,J=0){return Ae(this,G,J,BigInt(0),BigInt("0xffffffffffffffff"))}),P.prototype.writeBigUInt64BE=ft(function(G,J=0){return Oe(this,G,J,BigInt(0),BigInt("0xffffffffffffffff"))}),P.prototype.writeIntLE=function(G,J,Se,Le){if(G=+G,J=J>>>0,!Le){const ut=Math.pow(2,8*Se-1);je(this,G,J,Se,ut-1,-ut)}let De=0,Ve=1,$e=0;for(this[J]=G&255;++De<Se&&(Ve*=256);)G<0&&$e===0&&this[J+De-1]!==0&&($e=1),this[J+De]=(G/Ve>>0)-$e&255;return J+Se},P.prototype.writeIntBE=function(G,J,Se,Le){if(G=+G,J=J>>>0,!Le){const ut=Math.pow(2,8*Se-1);je(this,G,J,Se,ut-1,-ut)}let De=Se-1,Ve=1,$e=0;for(this[J+De]=G&255;--De>=0&&(Ve*=256);)G<0&&$e===0&&this[J+De+1]!==0&&($e=1),this[J+De]=(G/Ve>>0)-$e&255;return J+Se},P.prototype.writeInt8=function(G,J,Se){return G=+G,J=J>>>0,Se||je(this,G,J,1,127,-128),G<0&&(G=255+G+1),this[J]=G&255,J+1},P.prototype.writeInt16LE=function(G,J,Se){return G=+G,J=J>>>0,Se||je(this,G,J,2,32767,-32768),this[J]=G&255,this[J+1]=G>>>8,J+2},P.prototype.writeInt16BE=function(G,J,Se){return G=+G,J=J>>>0,Se||je(this,G,J,2,32767,-32768),this[J]=G>>>8,this[J+1]=G&255,J+2},P.prototype.writeInt32LE=function(G,J,Se){return G=+G,J=J>>>0,Se||je(this,G,J,4,2147483647,-2147483648),this[J]=G&255,this[J+1]=G>>>8,this[J+2]=G>>>16,this[J+3]=G>>>24,J+4},P.prototype.writeInt32BE=function(G,J,Se){return G=+G,J=J>>>0,Se||je(this,G,J,4,2147483647,-2147483648),G<0&&(G=4294967295+G+1),this[J]=G>>>24,this[J+1]=G>>>16,this[J+2]=G>>>8,this[J+3]=G&255,J+4},P.prototype.writeBigInt64LE=ft(function(G,J=0){return Ae(this,G,J,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),P.prototype.writeBigInt64BE=ft(function(G,J=0){return Oe(this,G,J,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ke(W,G,J,Se,Le,De){if(J+Se>W.length)throw new RangeError("Index out of range");if(J<0)throw new RangeError("Index out of range")}function Ke(W,G,J,Se,Le){return G=+G,J=J>>>0,Le||ke(W,G,J,4),S.write(W,G,J,Se,23,4),J+4}P.prototype.writeFloatLE=function(G,J,Se){return Ke(this,G,J,!0,Se)},P.prototype.writeFloatBE=function(G,J,Se){return Ke(this,G,J,!1,Se)};function Ue(W,G,J,Se,Le){return G=+G,J=J>>>0,Le||ke(W,G,J,8),S.write(W,G,J,Se,52,8),J+8}P.prototype.writeDoubleLE=function(G,J,Se){return Ue(this,G,J,!0,Se)},P.prototype.writeDoubleBE=function(G,J,Se){return Ue(this,G,J,!1,Se)},P.prototype.copy=function(G,J,Se,Le){if(!P.isBuffer(G))throw new TypeError("argument should be a Buffer");if(Se||(Se=0),!Le&&Le!==0&&(Le=this.length),J>=G.length&&(J=G.length),J||(J=0),Le>0&&Le<Se&&(Le=Se),Le===Se||G.length===0||this.length===0)return 0;if(J<0)throw new RangeError("targetStart out of bounds");if(Se<0||Se>=this.length)throw new RangeError("Index out of range");if(Le<0)throw new RangeError("sourceEnd out of bounds");Le>this.length&&(Le=this.length),G.length-J<Le-Se&&(Le=G.length-J+Se);const De=Le-Se;return this===G&&typeof N.prototype.copyWithin=="function"?this.copyWithin(J,Se,Le):N.prototype.set.call(G,this.subarray(Se,Le),J),De},P.prototype.fill=function(G,J,Se,Le){if(typeof G=="string"){if(typeof J=="string"?(Le=J,J=0,Se=this.length):typeof Se=="string"&&(Le=Se,Se=this.length),Le!==void 0&&typeof Le!="string")throw new TypeError("encoding must be a string");if(typeof Le=="string"&&!P.isEncoding(Le))throw new TypeError("Unknown encoding: "+Le);if(G.length===1){const Ve=G.charCodeAt(0);(Le==="utf8"&&Ve<128||Le==="latin1")&&(G=Ve)}}else typeof G=="number"?G=G&255:typeof G=="boolean"&&(G=Number(G));if(J<0||this.length<J||this.length<Se)throw new RangeError("Out of range index");if(Se<=J)return this;J=J>>>0,Se=Se===void 0?this.length:Se>>>0,G||(G=0);let De;if(typeof G=="number")for(De=J;De<Se;++De)this[De]=G;else{const Ve=P.isBuffer(G)?G:P.from(G,Le),$e=Ve.length;if($e===0)throw new TypeError('The value "'+G+'" is invalid for argument "value"');for(De=0;De<Se-J;++De)this[De+J]=Ve[De%$e]}return this};const it={};function ye(W,G,J){it[W]=class extends J{constructor(){super(),Object.defineProperty(this,"message",{value:G.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${W}]`,this.stack,delete this.name}get code(){return W}set code(Le){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Le,writable:!0})}toString(){return`${this.name} [${W}]: ${this.message}`}}}ye("ERR_BUFFER_OUT_OF_BOUNDS",function(W){return W?`${W} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ye("ERR_INVALID_ARG_TYPE",function(W,G){return`The "${W}" argument must be of type number. Received type ${typeof G}`},TypeError),ye("ERR_OUT_OF_RANGE",function(W,G,J){let Se=`The value of "${W}" is out of range.`,Le=J;return Number.isInteger(J)&&Math.abs(J)>2**32?Le=F(String(J)):typeof J=="bigint"&&(Le=String(J),(J>BigInt(2)**BigInt(32)||J<-(BigInt(2)**BigInt(32)))&&(Le=F(Le)),Le+="n"),Se+=` It must be ${G}. Received ${Le}`,Se},RangeError);function F(W){let G="",J=W.length;const Se=W[0]==="-"?1:0;for(;J>=Se+4;J-=3)G=`_${W.slice(J-3,J)}${G}`;return`${W.slice(0,J)}${G}`}function K(W,G,J){Pe(G,"offset"),(W[G]===void 0||W[G+J]===void 0)&&se(G,W.length-(J+1))}function _e(W,G,J,Se,Le,De){if(W>J||W<G){const Ve=typeof G=="bigint"?"n":"";let $e;throw G===0||G===BigInt(0)?$e=`>= 0${Ve} and < 2${Ve} ** ${(De+1)*8}${Ve}`:$e=`>= -(2${Ve} ** ${(De+1)*8-1}${Ve}) and < 2 ** ${(De+1)*8-1}${Ve}`,new it.ERR_OUT_OF_RANGE("value",$e,W)}K(Se,Le,De)}function Pe(W,G){if(typeof W!="number")throw new it.ERR_INVALID_ARG_TYPE(G,"number",W)}function se(W,G,J){throw Math.floor(W)!==W?(Pe(W,J),new it.ERR_OUT_OF_RANGE("offset","an integer",W)):G<0?new it.ERR_BUFFER_OUT_OF_BOUNDS:new it.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${G}`,W)}const ge=/[^+/0-9A-Za-z-_]/g;function de(W){if(W=W.split("=")[0],W=W.trim().replace(ge,""),W.length<2)return"";for(;W.length%4!==0;)W=W+"=";return W}function Re(W,G){G=G||1/0;let J;const Se=W.length;let Le=null;const De=[];for(let Ve=0;Ve<Se;++Ve){if(J=W.charCodeAt(Ve),J>55295&&J<57344){if(!Le){if(J>56319){(G-=3)>-1&&De.push(239,191,189);continue}else if(Ve+1===Se){(G-=3)>-1&&De.push(239,191,189);continue}Le=J;continue}if(J<56320){(G-=3)>-1&&De.push(239,191,189),Le=J;continue}J=(Le-55296<<10|J-56320)+65536}else Le&&(G-=3)>-1&&De.push(239,191,189);if(Le=null,J<128){if((G-=1)<0)break;De.push(J)}else if(J<2048){if((G-=2)<0)break;De.push(J>>6|192,J&63|128)}else if(J<65536){if((G-=3)<0)break;De.push(J>>12|224,J>>6&63|128,J&63|128)}else if(J<1114112){if((G-=4)<0)break;De.push(J>>18|240,J>>12&63|128,J>>6&63|128,J&63|128)}else throw new Error("Invalid code point")}return De}function Be(W){const G=[];for(let J=0;J<W.length;++J)G.push(W.charCodeAt(J)&255);return G}function V(W,G){let J,Se,Le;const De=[];for(let Ve=0;Ve<W.length&&!((G-=2)<0);++Ve)J=W.charCodeAt(Ve),Se=J>>8,Le=J%256,De.push(Le),De.push(Se);return De}function xe(W){return g.toByteArray(de(W))}function Ce(W,G,J,Se){let Le;for(Le=0;Le<Se&&!(Le+J>=G.length||Le>=W.length);++Le)G[Le+J]=W[Le];return Le}function me(W,G){return W instanceof G||W!=null&&W.constructor!=null&&W.constructor.name!=null&&W.constructor.name===G.name}function Me(W){return W!==W}const He=function(){const W="0123456789abcdef",G=new Array(256);for(let J=0;J<16;++J){const Se=J*16;for(let Le=0;Le<16;++Le)G[Se+Le]=W[J]+W[Le]}return G}();function ft(W){return typeof BigInt>"u"?we:W}function we(){throw new Error("BigInt not supported")}})(t);const y=t.Buffer;e.Blob=t.Blob,e.BlobOptions=t.BlobOptions,e.Buffer=t.Buffer,e.File=t.File,e.FileOptions=t.FileOptions,e.INSPECT_MAX_BYTES=t.INSPECT_MAX_BYTES,e.SlowBuffer=t.SlowBuffer,e.TranscodeEncoding=t.TranscodeEncoding,e.atob=t.atob,e.btoa=t.btoa,e.constants=t.constants,e.default=y,e.isAscii=t.isAscii,e.isUtf8=t.isUtf8,e.kMaxLength=t.kMaxLength,e.kStringMaxLength=t.kStringMaxLength,e.resolveObjectURL=t.resolveObjectURL,e.transcode=t.transcode}(T_)),T_}var x_,oA;function Sr(){if(oA)return x_;oA=1;class e extends Error{constructor(r){if(!Array.isArray(r))throw new TypeError(`Expected input to be an Array, got ${typeof r}`);let n="";for(let i=0;i<r.length;i++)n+=`    ${r[i].stack}
`;super(n),this.name="AggregateError",this.errors=r}}return x_={AggregateError:e,ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,r){return t.includes(r)},ArrayPrototypeIndexOf(t,r){return t.indexOf(r)},ArrayPrototypeJoin(t,r){return t.join(r)},ArrayPrototypeMap(t,r){return t.map(r)},ArrayPrototypePop(t,r){return t.pop(r)},ArrayPrototypePush(t,r){return t.push(r)},ArrayPrototypeSlice(t,r,n){return t.slice(r,n)},Error,FunctionPrototypeCall(t,r,...n){return t.call(r,...n)},FunctionPrototypeSymbolHasInstance(t,r){return Function.prototype[Symbol.hasInstance].call(t,r)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,r){return Object.defineProperties(t,r)},ObjectDefineProperty(t,r,n){return Object.defineProperty(t,r,n)},ObjectGetOwnPropertyDescriptor(t,r){return Object.getOwnPropertyDescriptor(t,r)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,r){return Object.setPrototypeOf(t,r)},Promise,PromisePrototypeCatch(t,r){return t.catch(r)},PromisePrototypeThen(t,r,n){return t.then(r,n)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,r){return t.test(r)},SafeSet:Set,String,StringPrototypeSlice(t,r,n){return t.slice(r,n)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,r,n){return t.set(r,n)},Boolean,Uint8Array},x_}var R_={exports:{}},A_,sA;function o4(){return sA||(sA=1,A_={format(e,...t){return e.replace(/%([sdifj])/g,function(...[r,n]){const i=t.shift();return n==="f"?i.toFixed(6):n==="j"?JSON.stringify(i):n==="s"&&typeof i=="object"?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})},inspect(e){switch(typeof e){case"string":if(e.includes("'"))if(e.includes('"')){if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}else return`"${e}"`;return`'${e}'`;case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}}}),A_}var I_,uA;function jn(){if(uA)return I_;uA=1;const{format:e,inspect:t}=o4(),{AggregateError:r}=Sr(),n=globalThis.AggregateError||r,i=Symbol("kIsNodeError"),a=["string","function","number","object","Function","Object","boolean","bigint","symbol"],o=/^([A-Z][a-z0-9]*)+$/,s="__node_internal_",l={};function u(_,y){if(!_)throw new l.ERR_INTERNAL_ASSERTION(y)}function f(_){let y="",m=_.length;const g=_[0]==="-"?1:0;for(;m>=g+4;m-=3)y=`_${_.slice(m-3,m)}${y}`;return`${_.slice(0,m)}${y}`}function d(_,y,m){if(typeof y=="function")return u(y.length<=m.length,`Code: ${_}; The provided arguments length (${m.length}) does not match the required ones (${y.length}).`),y(...m);const g=(y.match(/%[dfijoOs]/g)||[]).length;return u(g===m.length,`Code: ${_}; The provided arguments length (${m.length}) does not match the required ones (${g}).`),m.length===0?y:e(y,...m)}function c(_,y,m){m||(m=Error);class g extends m{constructor(...x){super(d(_,y,x))}toString(){return`${this.name} [${_}]: ${this.message}`}}Object.defineProperties(g.prototype,{name:{value:m.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${_}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),g.prototype.code=_,g.prototype[i]=!0,l[_]=g}function p(_){const y=s+_.name;return Object.defineProperty(_,"name",{value:y}),_}function b(_,y){if(_&&y&&_!==y){if(Array.isArray(y.errors))return y.errors.push(_),y;const m=new n([y,_],y.message);return m.code=y.code,m}return _||y}class v extends Error{constructor(y="The operation was aborted",m=void 0){if(m!==void 0&&typeof m!="object")throw new l.ERR_INVALID_ARG_TYPE("options","Object",m);super(y,m),this.code="ABORT_ERR",this.name="AbortError"}}return c("ERR_ASSERTION","%s",Error),c("ERR_INVALID_ARG_TYPE",(_,y,m)=>{u(typeof _=="string","'name' must be a string"),Array.isArray(y)||(y=[y]);let g="The ";_.endsWith(" argument")?g+=`${_} `:g+=`"${_}" ${_.includes(".")?"property":"argument"} `,g+="must be ";const S=[],x=[],I=[];for(const q of y)u(typeof q=="string","All expected entries have to be of type string"),a.includes(q)?S.push(q.toLowerCase()):o.test(q)?x.push(q):(u(q!=="object",'The value "object" should be written as "Object"'),I.push(q));if(x.length>0){const q=S.indexOf("object");q!==-1&&(S.splice(S,q,1),x.push("Object"))}if(S.length>0){switch(S.length){case 1:g+=`of type ${S[0]}`;break;case 2:g+=`one of type ${S[0]} or ${S[1]}`;break;default:{const q=S.pop();g+=`one of type ${S.join(", ")}, or ${q}`}}(x.length>0||I.length>0)&&(g+=" or ")}if(x.length>0){switch(x.length){case 1:g+=`an instance of ${x[0]}`;break;case 2:g+=`an instance of ${x[0]} or ${x[1]}`;break;default:{const q=x.pop();g+=`an instance of ${x.join(", ")}, or ${q}`}}I.length>0&&(g+=" or ")}switch(I.length){case 0:break;case 1:I[0].toLowerCase()!==I[0]&&(g+="an "),g+=`${I[0]}`;break;case 2:g+=`one of ${I[0]} or ${I[1]}`;break;default:{const q=I.pop();g+=`one of ${I.join(", ")}, or ${q}`}}if(m==null)g+=`. Received ${m}`;else if(typeof m=="function"&&m.name)g+=`. Received function ${m.name}`;else if(typeof m=="object"){var N;if((N=m.constructor)!==null&&N!==void 0&&N.name)g+=`. Received an instance of ${m.constructor.name}`;else{const q=t(m,{depth:-1});g+=`. Received ${q}`}}else{let q=t(m,{colors:!1});q.length>25&&(q=`${q.slice(0,25)}...`),g+=`. Received type ${typeof m} (${q})`}return g},TypeError),c("ERR_INVALID_ARG_VALUE",(_,y,m="is invalid")=>{let g=t(y);return g.length>128&&(g=g.slice(0,128)+"..."),`The ${_.includes(".")?"property":"argument"} '${_}' ${m}. Received ${g}`},TypeError),c("ERR_INVALID_RETURN_VALUE",(_,y,m)=>{var g;const S=m!=null&&(g=m.constructor)!==null&&g!==void 0&&g.name?`instance of ${m.constructor.name}`:`type ${typeof m}`;return`Expected ${_} to be returned from the "${y}" function but got ${S}.`},TypeError),c("ERR_MISSING_ARGS",(..._)=>{u(_.length>0,"At least one arg needs to be specified");let y;const m=_.length;switch(_=(Array.isArray(_)?_:[_]).map(g=>`"${g}"`).join(" or "),m){case 1:y+=`The ${_[0]} argument`;break;case 2:y+=`The ${_[0]} and ${_[1]} arguments`;break;default:{const g=_.pop();y+=`The ${_.join(", ")}, and ${g} arguments`}break}return`${y} must be specified`},TypeError),c("ERR_OUT_OF_RANGE",(_,y,m)=>{u(y,'Missing "range" argument');let g;if(Number.isInteger(m)&&Math.abs(m)>2**32)g=f(String(m));else if(typeof m=="bigint"){g=String(m);const S=BigInt(2)**BigInt(32);(m>S||m<-S)&&(g=f(g)),g+="n"}else g=t(m);return`The value of "${_}" is out of range. It must be ${y}. Received ${g}`},RangeError),c("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),c("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),c("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),c("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),c("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),c("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),c("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),c("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),c("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),c("ERR_STREAM_WRITE_AFTER_END","write after end",Error),c("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),I_={AbortError:v,aggregateTwoErrors:p(b),hideStackFrames:p,codes:l},I_}var $l={exports:{}},lA;function Wp(){if(lA)return $l.exports;lA=1;const{AbortController:e,AbortSignal:t}=typeof self<"u"?self:typeof window<"u"?window:void 0;return $l.exports=e,$l.exports.AbortSignal=t,$l.exports.default=e,$l.exports}var um={exports:{}},fA;function Wn(){if(fA)return um.exports;fA=1;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(x,I,N){return Function.prototype.apply.call(x,I,N)},r;e&&typeof e.ownKeys=="function"?r=e.ownKeys:Object.getOwnPropertySymbols?r=function(x){return Object.getOwnPropertyNames(x).concat(Object.getOwnPropertySymbols(x))}:r=function(x){return Object.getOwnPropertyNames(x)};function n(S){console&&console.warn&&console.warn(S)}var i=Number.isNaN||function(x){return x!==x};function a(){a.init.call(this)}um.exports=a,um.exports.once=y,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var o=10;function s(S){if(typeof S!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof S)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(S){if(typeof S!="number"||S<0||i(S))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+S+".");o=S}}),a.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(x){if(typeof x!="number"||x<0||i(x))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+x+".");return this._maxListeners=x,this};function l(S){return S._maxListeners===void 0?a.defaultMaxListeners:S._maxListeners}a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(x){for(var I=[],N=1;N<arguments.length;N++)I.push(arguments[N]);var q=x==="error",D=this._events;if(D!==void 0)q=q&&D.error===void 0;else if(!q)return!1;if(q){var M;if(I.length>0&&(M=I[0]),M instanceof Error)throw M;var j=new Error("Unhandled error."+(M?" ("+M.message+")":""));throw j.context=M,j}var P=D[x];if(P===void 0)return!1;if(typeof P=="function")t(P,this,I);else for(var B=P.length,Y=b(P,B),N=0;N<B;++N)t(Y[N],this,I);return!0};function u(S,x,I,N){var q,D,M;if(s(I),D=S._events,D===void 0?(D=S._events=Object.create(null),S._eventsCount=0):(D.newListener!==void 0&&(S.emit("newListener",x,I.listener?I.listener:I),D=S._events),M=D[x]),M===void 0)M=D[x]=I,++S._eventsCount;else if(typeof M=="function"?M=D[x]=N?[I,M]:[M,I]:N?M.unshift(I):M.push(I),q=l(S),q>0&&M.length>q&&!M.warned){M.warned=!0;var j=new Error("Possible EventEmitter memory leak detected. "+M.length+" "+String(x)+" listeners added. Use emitter.setMaxListeners() to increase limit");j.name="MaxListenersExceededWarning",j.emitter=S,j.type=x,j.count=M.length,n(j)}return S}a.prototype.addListener=function(x,I){return u(this,x,I,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(x,I){return u(this,x,I,!0)};function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(S,x,I){var N={fired:!1,wrapFn:void 0,target:S,type:x,listener:I},q=f.bind(N);return q.listener=I,N.wrapFn=q,q}a.prototype.once=function(x,I){return s(I),this.on(x,d(this,x,I)),this},a.prototype.prependOnceListener=function(x,I){return s(I),this.prependListener(x,d(this,x,I)),this},a.prototype.removeListener=function(x,I){var N,q,D,M,j;if(s(I),q=this._events,q===void 0)return this;if(N=q[x],N===void 0)return this;if(N===I||N.listener===I)--this._eventsCount===0?this._events=Object.create(null):(delete q[x],q.removeListener&&this.emit("removeListener",x,N.listener||I));else if(typeof N!="function"){for(D=-1,M=N.length-1;M>=0;M--)if(N[M]===I||N[M].listener===I){j=N[M].listener,D=M;break}if(D<0)return this;D===0?N.shift():v(N,D),N.length===1&&(q[x]=N[0]),q.removeListener!==void 0&&this.emit("removeListener",x,j||I)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(x){var I,N,q;if(N=this._events,N===void 0)return this;if(N.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):N[x]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete N[x]),this;if(arguments.length===0){var D=Object.keys(N),M;for(q=0;q<D.length;++q)M=D[q],M!=="removeListener"&&this.removeAllListeners(M);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(I=N[x],typeof I=="function")this.removeListener(x,I);else if(I!==void 0)for(q=I.length-1;q>=0;q--)this.removeListener(x,I[q]);return this};function c(S,x,I){var N=S._events;if(N===void 0)return[];var q=N[x];return q===void 0?[]:typeof q=="function"?I?[q.listener||q]:[q]:I?_(q):b(q,q.length)}a.prototype.listeners=function(x){return c(this,x,!0)},a.prototype.rawListeners=function(x){return c(this,x,!1)},a.listenerCount=function(S,x){return typeof S.listenerCount=="function"?S.listenerCount(x):p.call(S,x)},a.prototype.listenerCount=p;function p(S){var x=this._events;if(x!==void 0){var I=x[S];if(typeof I=="function")return 1;if(I!==void 0)return I.length}return 0}a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function b(S,x){for(var I=new Array(x),N=0;N<x;++N)I[N]=S[N];return I}function v(S,x){for(;x+1<S.length;x++)S[x]=S[x+1];S.pop()}function _(S){for(var x=new Array(S.length),I=0;I<x.length;++I)x[I]=S[I].listener||S[I];return x}function y(S,x){return new Promise(function(I,N){function q(M){S.removeListener(x,D),N(M)}function D(){typeof S.removeListener=="function"&&S.removeListener("error",q),I([].slice.call(arguments))}g(S,x,D,{once:!0}),x!=="error"&&m(S,q,{once:!0})})}function m(S,x,I){typeof S.on=="function"&&g(S,"error",x,I)}function g(S,x,I,N){if(typeof S.on=="function")N.once?S.once(x,I):S.on(x,I);else if(typeof S.addEventListener=="function")S.addEventListener(x,function q(D){N.once&&S.removeEventListener(x,q),I(D)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof S)}return um.exports}var cA;function Gn(){return cA||(cA=1,function(e){const t=Er(),{format:r,inspect:n}=o4(),{codes:{ERR_INVALID_ARG_TYPE:i}}=jn(),{kResistStopPropagation:a,AggregateError:o,SymbolDispose:s}=Sr(),l=globalThis.AbortSignal||Wp().AbortSignal,u=globalThis.AbortController||Wp().AbortController,f=Object.getPrototypeOf(async function(){}).constructor,d=globalThis.Blob||t.Blob,c=typeof d<"u"?function(_){return _ instanceof d}:function(_){return!1},p=(v,_)=>{if(v!==void 0&&(v===null||typeof v!="object"||!("aborted"in v)))throw new i(_,"AbortSignal",v)},b=(v,_)=>{if(typeof v!="function")throw new i(_,"Function",v)};e.exports={AggregateError:o,kEmptyObject:Object.freeze({}),once(v){let _=!1;return function(...y){_||(_=!0,v.apply(this,y))}},createDeferredPromise:function(){let v,_;return{promise:new Promise((m,g)=>{v=m,_=g}),resolve:v,reject:_}},promisify(v){return new Promise((_,y)=>{v((m,...g)=>m?y(m):_(...g))})},debuglog(){return function(){}},format:r,inspect:n,types:{isAsyncFunction(v){return v instanceof f},isArrayBufferView(v){return ArrayBuffer.isView(v)}},isBlob:c,deprecate(v,_){return v},addAbortListener:Wn().addAbortListener||function(_,y){if(_===void 0)throw new i("signal","AbortSignal",_);p(_,"signal"),b(y,"listener");let m;return _.aborted?queueMicrotask(()=>y()):(_.addEventListener("abort",y,{__proto__:null,once:!0,[a]:!0}),m=()=>{_.removeEventListener("abort",y)}),{__proto__:null,[s](){var g;(g=m)===null||g===void 0||g()}}},AbortSignalAny:l.any||function(_){if(_.length===1)return _[0];const y=new u,m=()=>y.abort();return _.forEach(g=>{p(g,"signals"),g.addEventListener("abort",m,{once:!0})}),y.signal.addEventListener("abort",()=>{_.forEach(g=>g.removeEventListener("abort",m))},{once:!0}),y.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}(R_)),R_.exports}var lm={},P_,dA;function d0(){if(dA)return P_;dA=1;const{ArrayIsArray:e,ArrayPrototypeIncludes:t,ArrayPrototypeJoin:r,ArrayPrototypeMap:n,NumberIsInteger:i,NumberIsNaN:a,NumberMAX_SAFE_INTEGER:o,NumberMIN_SAFE_INTEGER:s,NumberParseInt:l,ObjectPrototypeHasOwnProperty:u,RegExpPrototypeExec:f,String:d,StringPrototypeToUpperCase:c,StringPrototypeTrim:p}=Sr(),{hideStackFrames:b,codes:{ERR_SOCKET_BAD_PORT:v,ERR_INVALID_ARG_TYPE:_,ERR_INVALID_ARG_VALUE:y,ERR_OUT_OF_RANGE:m,ERR_UNKNOWN_SIGNAL:g}}=jn(),{normalizeEncoding:S}=Gn(),{isAsyncFunction:x,isArrayBufferView:I}=Gn().types,N={};function q(ce){return ce===(ce|0)}function D(ce){return ce===ce>>>0}const M=/^[0-7]+$/,j="must be a 32-bit unsigned integer or an octal string";function P(ce,Ie,be){if(typeof ce>"u"&&(ce=be),typeof ce=="string"){if(f(M,ce)===null)throw new y(Ie,ce,j);ce=l(ce,8)}return ie(ce,Ie),ce}const B=b((ce,Ie,be=s,Te=o)=>{if(typeof ce!="number")throw new _(Ie,"number",ce);if(!i(ce))throw new m(Ie,"an integer",ce);if(ce<be||ce>Te)throw new m(Ie,`>= ${be} && <= ${Te}`,ce)}),Y=b((ce,Ie,be=-2147483648,Te=2147483647)=>{if(typeof ce!="number")throw new _(Ie,"number",ce);if(!i(ce))throw new m(Ie,"an integer",ce);if(ce<be||ce>Te)throw new m(Ie,`>= ${be} && <= ${Te}`,ce)}),ie=b((ce,Ie,be=!1)=>{if(typeof ce!="number")throw new _(Ie,"number",ce);if(!i(ce))throw new m(Ie,"an integer",ce);const Te=be?1:0,je=4294967295;if(ce<Te||ce>je)throw new m(Ie,`>= ${Te} && <= ${je}`,ce)});function X(ce,Ie){if(typeof ce!="string")throw new _(Ie,"string",ce)}function le(ce,Ie,be=void 0,Te){if(typeof ce!="number")throw new _(Ie,"number",ce);if(be!=null&&ce<be||Te!=null&&ce>Te||(be!=null||Te!=null)&&a(ce))throw new m(Ie,`${be!=null?`>= ${be}`:""}${be!=null&&Te!=null?" && ":""}${Te!=null?`<= ${Te}`:""}`,ce)}const ae=b((ce,Ie,be)=>{if(!t(be,ce)){const je="must be one of: "+r(n(be,Ae=>typeof Ae=="string"?`'${Ae}'`:d(Ae)),", ");throw new y(Ie,ce,je)}});function ne(ce,Ie){if(typeof ce!="boolean")throw new _(Ie,"boolean",ce)}function H(ce,Ie,be){return ce==null||!u(ce,Ie)?be:ce[Ie]}const oe=b((ce,Ie,be=null)=>{const Te=H(be,"allowArray",!1),je=H(be,"allowFunction",!1);if(!H(be,"nullable",!1)&&ce===null||!Te&&e(ce)||typeof ce!="object"&&(!je||typeof ce!="function"))throw new _(Ie,"Object",ce)}),he=b((ce,Ie)=>{if(ce!=null&&typeof ce!="object"&&typeof ce!="function")throw new _(Ie,"a dictionary",ce)}),Z=b((ce,Ie,be=0)=>{if(!e(ce))throw new _(Ie,"Array",ce);if(ce.length<be){const Te=`must be longer than ${be}`;throw new y(Ie,ce,Te)}});function Q(ce,Ie){Z(ce,Ie);for(let be=0;be<ce.length;be++)X(ce[be],`${Ie}[${be}]`)}function ee(ce,Ie){Z(ce,Ie);for(let be=0;be<ce.length;be++)ne(ce[be],`${Ie}[${be}]`)}function O(ce,Ie){Z(ce,Ie);for(let be=0;be<ce.length;be++){const Te=ce[be],je=`${Ie}[${be}]`;if(Te==null)throw new _(je,"AbortSignal",Te);R(Te,je)}}function A(ce,Ie="signal"){if(X(ce,Ie),N[ce]===void 0)throw N[c(ce)]!==void 0?new g(ce+" (signals must use all capital letters)"):new g(ce)}const $=b((ce,Ie="buffer")=>{if(!I(ce))throw new _(Ie,["Buffer","TypedArray","DataView"],ce)});function te(ce,Ie){const be=S(Ie),Te=ce.length;if(be==="hex"&&Te%2!==0)throw new y("encoding",Ie,`is invalid for data of length ${Te}`)}function pe(ce,Ie="Port",be=!0){if(typeof ce!="number"&&typeof ce!="string"||typeof ce=="string"&&p(ce).length===0||+ce!==+ce>>>0||ce>65535||ce===0&&!be)throw new v(Ie,ce,be);return ce|0}const R=b((ce,Ie)=>{if(ce!==void 0&&(ce===null||typeof ce!="object"||!("aborted"in ce)))throw new _(Ie,"AbortSignal",ce)}),w=b((ce,Ie)=>{if(typeof ce!="function")throw new _(Ie,"Function",ce)}),T=b((ce,Ie)=>{if(typeof ce!="function"||x(ce))throw new _(Ie,"Function",ce)}),k=b((ce,Ie)=>{if(ce!==void 0)throw new _(Ie,"undefined",ce)});function U(ce,Ie,be){if(!t(be,ce))throw new _(Ie,`('${r(be,"|")}')`,ce)}const re=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function fe(ce,Ie){if(typeof ce>"u"||!f(re,ce))throw new y(Ie,ce,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function ve(ce){if(typeof ce=="string")return fe(ce,"hints"),ce;if(e(ce)){const Ie=ce.length;let be="";if(Ie===0)return be;for(let Te=0;Te<Ie;Te++){const je=ce[Te];fe(je,"hints"),be+=je,Te!==Ie-1&&(be+=", ")}return be}throw new y("hints",ce,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}return P_={isInt32:q,isUint32:D,parseFileMode:P,validateArray:Z,validateStringArray:Q,validateBooleanArray:ee,validateAbortSignalArray:O,validateBoolean:ne,validateBuffer:$,validateDictionary:he,validateEncoding:te,validateFunction:w,validateInt32:Y,validateInteger:B,validateNumber:le,validateObject:oe,validateOneOf:ae,validatePlainFunction:T,validatePort:pe,validateSignalName:A,validateString:X,validateUint32:ie,validateUndefined:k,validateUnion:U,validateAbortSignal:R,validateLinkHeaderValue:ve},P_}var fm={exports:{}},O_={exports:{}},hA;function Ws(){if(hA)return O_.exports;hA=1;var e=O_.exports={},t,r;function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?t=setTimeout:t=n}catch{t=n}try{typeof clearTimeout=="function"?r=clearTimeout:r=i}catch{r=i}})();function a(v){if(t===setTimeout)return setTimeout(v,0);if((t===n||!t)&&setTimeout)return t=setTimeout,setTimeout(v,0);try{return t(v,0)}catch{try{return t.call(null,v,0)}catch{return t.call(this,v,0)}}}function o(v){if(r===clearTimeout)return clearTimeout(v);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(v);try{return r(v)}catch{try{return r.call(null,v)}catch{return r.call(this,v)}}}var s=[],l=!1,u,f=-1;function d(){!l||!u||(l=!1,u.length?s=u.concat(s):f=-1,s.length&&c())}function c(){if(!l){var v=a(d);l=!0;for(var _=s.length;_;){for(u=s,s=[];++f<_;)u&&u[f].run();f=-1,_=s.length}u=null,l=!1,o(v)}}e.nextTick=function(v){var _=new Array(arguments.length-1);if(arguments.length>1)for(var y=1;y<arguments.length;y++)_[y-1]=arguments[y];s.push(new p(v,_)),s.length===1&&!l&&a(c)};function p(v,_){this.fun=v,this.array=_}p.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={};function b(){}return e.on=b,e.addListener=b,e.once=b,e.off=b,e.removeListener=b,e.removeAllListeners=b,e.emit=b,e.prependListener=b,e.prependOnceListener=b,e.listeners=function(v){return[]},e.binding=function(v){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(v){throw new Error("process.chdir is not supported")},e.umask=function(){return 0},O_.exports}var N_,pA;function eo(){if(pA)return N_;pA=1;const{SymbolAsyncIterator:e,SymbolIterator:t,SymbolFor:r}=Sr(),n=r("nodejs.stream.destroyed"),i=r("nodejs.stream.errored"),a=r("nodejs.stream.readable"),o=r("nodejs.stream.writable"),s=r("nodejs.stream.disturbed"),l=r("nodejs.webstream.isClosedPromise"),u=r("nodejs.webstream.controllerErrorFunction");function f(H,oe=!1){var he;return!!(H&&typeof H.pipe=="function"&&typeof H.on=="function"&&(!oe||typeof H.pause=="function"&&typeof H.resume=="function")&&(!H._writableState||((he=H._readableState)===null||he===void 0?void 0:he.readable)!==!1)&&(!H._writableState||H._readableState))}function d(H){var oe;return!!(H&&typeof H.write=="function"&&typeof H.on=="function"&&(!H._readableState||((oe=H._writableState)===null||oe===void 0?void 0:oe.writable)!==!1))}function c(H){return!!(H&&typeof H.pipe=="function"&&H._readableState&&typeof H.on=="function"&&typeof H.write=="function")}function p(H){return H&&(H._readableState||H._writableState||typeof H.write=="function"&&typeof H.on=="function"||typeof H.pipe=="function"&&typeof H.on=="function")}function b(H){return!!(H&&!p(H)&&typeof H.pipeThrough=="function"&&typeof H.getReader=="function"&&typeof H.cancel=="function")}function v(H){return!!(H&&!p(H)&&typeof H.getWriter=="function"&&typeof H.abort=="function")}function _(H){return!!(H&&!p(H)&&typeof H.readable=="object"&&typeof H.writable=="object")}function y(H){return b(H)||v(H)||_(H)}function m(H,oe){return H==null?!1:oe===!0?typeof H[e]=="function":oe===!1?typeof H[t]=="function":typeof H[e]=="function"||typeof H[t]=="function"}function g(H){if(!p(H))return null;const oe=H._writableState,he=H._readableState,Z=oe||he;return!!(H.destroyed||H[n]||Z!=null&&Z.destroyed)}function S(H){if(!d(H))return null;if(H.writableEnded===!0)return!0;const oe=H._writableState;return oe!=null&&oe.errored?!1:typeof(oe==null?void 0:oe.ended)!="boolean"?null:oe.ended}function x(H,oe){if(!d(H))return null;if(H.writableFinished===!0)return!0;const he=H._writableState;return he!=null&&he.errored?!1:typeof(he==null?void 0:he.finished)!="boolean"?null:!!(he.finished||oe===!1&&he.ended===!0&&he.length===0)}function I(H){if(!f(H))return null;if(H.readableEnded===!0)return!0;const oe=H._readableState;return!oe||oe.errored?!1:typeof(oe==null?void 0:oe.ended)!="boolean"?null:oe.ended}function N(H,oe){if(!f(H))return null;const he=H._readableState;return he!=null&&he.errored?!1:typeof(he==null?void 0:he.endEmitted)!="boolean"?null:!!(he.endEmitted||oe===!1&&he.ended===!0&&he.length===0)}function q(H){return H&&H[a]!=null?H[a]:typeof(H==null?void 0:H.readable)!="boolean"?null:g(H)?!1:f(H)&&H.readable&&!N(H)}function D(H){return H&&H[o]!=null?H[o]:typeof(H==null?void 0:H.writable)!="boolean"?null:g(H)?!1:d(H)&&H.writable&&!S(H)}function M(H,oe){return p(H)?g(H)?!0:!((oe==null?void 0:oe.readable)!==!1&&q(H)||(oe==null?void 0:oe.writable)!==!1&&D(H)):null}function j(H){var oe,he;return p(H)?H.writableErrored?H.writableErrored:(oe=(he=H._writableState)===null||he===void 0?void 0:he.errored)!==null&&oe!==void 0?oe:null:null}function P(H){var oe,he;return p(H)?H.readableErrored?H.readableErrored:(oe=(he=H._readableState)===null||he===void 0?void 0:he.errored)!==null&&oe!==void 0?oe:null:null}function B(H){if(!p(H))return null;if(typeof H.closed=="boolean")return H.closed;const oe=H._writableState,he=H._readableState;return typeof(oe==null?void 0:oe.closed)=="boolean"||typeof(he==null?void 0:he.closed)=="boolean"?(oe==null?void 0:oe.closed)||(he==null?void 0:he.closed):typeof H._closed=="boolean"&&Y(H)?H._closed:null}function Y(H){return typeof H._closed=="boolean"&&typeof H._defaultKeepAlive=="boolean"&&typeof H._removedConnection=="boolean"&&typeof H._removedContLen=="boolean"}function ie(H){return typeof H._sent100=="boolean"&&Y(H)}function X(H){var oe;return typeof H._consuming=="boolean"&&typeof H._dumped=="boolean"&&((oe=H.req)===null||oe===void 0?void 0:oe.upgradeOrConnect)===void 0}function le(H){if(!p(H))return null;const oe=H._writableState,he=H._readableState,Z=oe||he;return!Z&&ie(H)||!!(Z&&Z.autoDestroy&&Z.emitClose&&Z.closed===!1)}function ae(H){var oe;return!!(H&&((oe=H[s])!==null&&oe!==void 0?oe:H.readableDidRead||H.readableAborted))}function ne(H){var oe,he,Z,Q,ee,O,A,$,te,pe;return!!(H&&((oe=(he=(Z=(Q=(ee=(O=H[i])!==null&&O!==void 0?O:H.readableErrored)!==null&&ee!==void 0?ee:H.writableErrored)!==null&&Q!==void 0?Q:(A=H._readableState)===null||A===void 0?void 0:A.errorEmitted)!==null&&Z!==void 0?Z:($=H._writableState)===null||$===void 0?void 0:$.errorEmitted)!==null&&he!==void 0?he:(te=H._readableState)===null||te===void 0?void 0:te.errored)!==null&&oe!==void 0?oe:!((pe=H._writableState)===null||pe===void 0)&&pe.errored))}return N_={isDestroyed:g,kIsDestroyed:n,isDisturbed:ae,kIsDisturbed:s,isErrored:ne,kIsErrored:i,isReadable:q,kIsReadable:a,kIsClosedPromise:l,kControllerErrorFunction:u,kIsWritable:o,isClosed:B,isDuplexNodeStream:c,isFinished:M,isIterable:m,isReadableNodeStream:f,isReadableStream:b,isReadableEnded:I,isReadableFinished:N,isReadableErrored:P,isNodeStream:p,isWebStream:y,isWritable:D,isWritableNodeStream:d,isWritableStream:v,isWritableEnded:S,isWritableFinished:x,isWritableErrored:j,isServerRequest:X,isServerResponse:ie,willEmitClose:le,isTransformStream:_},N_}var mA;function Vo(){if(mA)return fm.exports;mA=1;const e=Ws(),{AbortError:t,codes:r}=jn(),{ERR_INVALID_ARG_TYPE:n,ERR_STREAM_PREMATURE_CLOSE:i}=r,{kEmptyObject:a,once:o}=Gn(),{validateAbortSignal:s,validateFunction:l,validateObject:u,validateBoolean:f}=d0(),{Promise:d,PromisePrototypeThen:c,SymbolDispose:p}=Sr(),{isClosed:b,isReadable:v,isReadableNodeStream:_,isReadableStream:y,isReadableFinished:m,isReadableErrored:g,isWritable:S,isWritableNodeStream:x,isWritableStream:I,isWritableFinished:N,isWritableErrored:q,isNodeStream:D,willEmitClose:M,kIsClosedPromise:j}=eo();let P;function B(ae){return ae.setHeader&&typeof ae.abort=="function"}const Y=()=>{};function ie(ae,ne,H){var oe,he;if(arguments.length===2?(H=ne,ne=a):ne==null?ne=a:u(ne,"options"),l(H,"callback"),s(ne.signal,"options.signal"),H=o(H),y(ae)||I(ae))return X(ae,ne,H);if(!D(ae))throw new n("stream",["ReadableStream","WritableStream","Stream"],ae);const Z=(oe=ne.readable)!==null&&oe!==void 0?oe:_(ae),Q=(he=ne.writable)!==null&&he!==void 0?he:x(ae),ee=ae._writableState,O=ae._readableState,A=()=>{ae.writable||pe()};let $=M(ae)&&_(ae)===Z&&x(ae)===Q,te=N(ae,!1);const pe=()=>{te=!0,ae.destroyed&&($=!1),!($&&(!ae.readable||Z))&&(!Z||R)&&H.call(ae)};let R=m(ae,!1);const w=()=>{R=!0,ae.destroyed&&($=!1),!($&&(!ae.writable||Q))&&(!Q||te)&&H.call(ae)},T=ce=>{H.call(ae,ce)};let k=b(ae);const U=()=>{k=!0;const ce=q(ae)||g(ae);if(ce&&typeof ce!="boolean")return H.call(ae,ce);if(Z&&!R&&_(ae,!0)&&!m(ae,!1))return H.call(ae,new i);if(Q&&!te&&!N(ae,!1))return H.call(ae,new i);H.call(ae)},re=()=>{k=!0;const ce=q(ae)||g(ae);if(ce&&typeof ce!="boolean")return H.call(ae,ce);H.call(ae)},fe=()=>{ae.req.on("finish",pe)};B(ae)?(ae.on("complete",pe),$||ae.on("abort",U),ae.req?fe():ae.on("request",fe)):Q&&!ee&&(ae.on("end",A),ae.on("close",A)),!$&&typeof ae.aborted=="boolean"&&ae.on("aborted",U),ae.on("end",w),ae.on("finish",pe),ne.error!==!1&&ae.on("error",T),ae.on("close",U),k?e.nextTick(U):ee!=null&&ee.errorEmitted||O!=null&&O.errorEmitted?$||e.nextTick(re):(!Z&&(!$||v(ae))&&(te||S(ae)===!1)||!Q&&(!$||S(ae))&&(R||v(ae)===!1)||O&&ae.req&&ae.aborted)&&e.nextTick(re);const ve=()=>{H=Y,ae.removeListener("aborted",U),ae.removeListener("complete",pe),ae.removeListener("abort",U),ae.removeListener("request",fe),ae.req&&ae.req.removeListener("finish",pe),ae.removeListener("end",A),ae.removeListener("close",A),ae.removeListener("finish",pe),ae.removeListener("end",w),ae.removeListener("error",T),ae.removeListener("close",U)};if(ne.signal&&!k){const ce=()=>{const Ie=H;ve(),Ie.call(ae,new t(void 0,{cause:ne.signal.reason}))};if(ne.signal.aborted)e.nextTick(ce);else{P=P||Gn().addAbortListener;const Ie=P(ne.signal,ce),be=H;H=o((...Te)=>{Ie[p](),be.apply(ae,Te)})}}return ve}function X(ae,ne,H){let oe=!1,he=Y;if(ne.signal)if(he=()=>{oe=!0,H.call(ae,new t(void 0,{cause:ne.signal.reason}))},ne.signal.aborted)e.nextTick(he);else{P=P||Gn().addAbortListener;const Q=P(ne.signal,he),ee=H;H=o((...O)=>{Q[p](),ee.apply(ae,O)})}const Z=(...Q)=>{oe||e.nextTick(()=>H.apply(ae,Q))};return c(ae[j].promise,Z,Z),Y}function le(ae,ne){var H;let oe=!1;return ne===null&&(ne=a),(H=ne)!==null&&H!==void 0&&H.cleanup&&(f(ne.cleanup,"cleanup"),oe=ne.cleanup),new d((he,Z)=>{const Q=ie(ae,ne,ee=>{oe&&Q(),ee?Z(ee):he()})})}return fm.exports=ie,fm.exports.finished=le,fm.exports}var D_,yA;function rl(){if(yA)return D_;yA=1;const e=Ws(),{aggregateTwoErrors:t,codes:{ERR_MULTIPLE_CALLBACK:r},AbortError:n}=jn(),{Symbol:i}=Sr(),{kIsDestroyed:a,isDestroyed:o,isFinished:s,isServerRequest:l}=eo(),u=i("kDestroy"),f=i("kConstruct");function d(M,j,P){M&&(M.stack,j&&!j.errored&&(j.errored=M),P&&!P.errored&&(P.errored=M))}function c(M,j){const P=this._readableState,B=this._writableState,Y=B||P;return B!=null&&B.destroyed||P!=null&&P.destroyed?(typeof j=="function"&&j(),this):(d(M,B,P),B&&(B.destroyed=!0),P&&(P.destroyed=!0),Y.constructed?p(this,M,j):this.once(u,function(ie){p(this,t(ie,M),j)}),this)}function p(M,j,P){let B=!1;function Y(ie){if(B)return;B=!0;const X=M._readableState,le=M._writableState;d(ie,le,X),le&&(le.closed=!0),X&&(X.closed=!0),typeof P=="function"&&P(ie),ie?e.nextTick(b,M,ie):e.nextTick(v,M)}try{M._destroy(j||null,Y)}catch(ie){Y(ie)}}function b(M,j){_(M,j),v(M)}function v(M){const j=M._readableState,P=M._writableState;P&&(P.closeEmitted=!0),j&&(j.closeEmitted=!0),(P!=null&&P.emitClose||j!=null&&j.emitClose)&&M.emit("close")}function _(M,j){const P=M._readableState,B=M._writableState;B!=null&&B.errorEmitted||P!=null&&P.errorEmitted||(B&&(B.errorEmitted=!0),P&&(P.errorEmitted=!0),M.emit("error",j))}function y(){const M=this._readableState,j=this._writableState;M&&(M.constructed=!0,M.closed=!1,M.closeEmitted=!1,M.destroyed=!1,M.errored=null,M.errorEmitted=!1,M.reading=!1,M.ended=M.readable===!1,M.endEmitted=M.readable===!1),j&&(j.constructed=!0,j.destroyed=!1,j.closed=!1,j.closeEmitted=!1,j.errored=null,j.errorEmitted=!1,j.finalCalled=!1,j.prefinished=!1,j.ended=j.writable===!1,j.ending=j.writable===!1,j.finished=j.writable===!1)}function m(M,j,P){const B=M._readableState,Y=M._writableState;if(Y!=null&&Y.destroyed||B!=null&&B.destroyed)return this;B!=null&&B.autoDestroy||Y!=null&&Y.autoDestroy?M.destroy(j):j&&(j.stack,Y&&!Y.errored&&(Y.errored=j),B&&!B.errored&&(B.errored=j),P?e.nextTick(_,M,j):_(M,j))}function g(M,j){if(typeof M._construct!="function")return;const P=M._readableState,B=M._writableState;P&&(P.constructed=!1),B&&(B.constructed=!1),M.once(f,j),!(M.listenerCount(f)>1)&&e.nextTick(S,M)}function S(M){let j=!1;function P(B){if(j){m(M,B??new r);return}j=!0;const Y=M._readableState,ie=M._writableState,X=ie||Y;Y&&(Y.constructed=!0),ie&&(ie.constructed=!0),X.destroyed?M.emit(u,B):B?m(M,B,!0):e.nextTick(x,M)}try{M._construct(B=>{e.nextTick(P,B)})}catch(B){e.nextTick(P,B)}}function x(M){M.emit(f)}function I(M){return(M==null?void 0:M.setHeader)&&typeof M.abort=="function"}function N(M){M.emit("close")}function q(M,j){M.emit("error",j),e.nextTick(N,M)}function D(M,j){!M||o(M)||(!j&&!s(M)&&(j=new n),l(M)?(M.socket=null,M.destroy(j)):I(M)?M.abort():I(M.req)?M.req.abort():typeof M.destroy=="function"?M.destroy(j):typeof M.close=="function"?M.close():j?e.nextTick(q,M,j):e.nextTick(N,M),M.destroyed||(M[a]=!0))}return D_={construct:g,destroyer:D,destroy:c,undestroy:y,errorOrDestroy:m},D_}var C_,gA;function OT(){if(gA)return C_;gA=1;const{ArrayIsArray:e,ObjectSetPrototypeOf:t}=Sr(),{EventEmitter:r}=Wn();function n(a){r.call(this,a)}t(n.prototype,r.prototype),t(n,r),n.prototype.pipe=function(a,o){const s=this;function l(v){a.writable&&a.write(v)===!1&&s.pause&&s.pause()}s.on("data",l);function u(){s.readable&&s.resume&&s.resume()}a.on("drain",u),!a._isStdio&&(!o||o.end!==!1)&&(s.on("end",d),s.on("close",c));let f=!1;function d(){f||(f=!0,a.end())}function c(){f||(f=!0,typeof a.destroy=="function"&&a.destroy())}function p(v){b(),r.listenerCount(this,"error")===0&&this.emit("error",v)}i(s,"error",p),i(a,"error",p);function b(){s.removeListener("data",l),a.removeListener("drain",u),s.removeListener("end",d),s.removeListener("close",c),s.removeListener("error",p),a.removeListener("error",p),s.removeListener("end",b),s.removeListener("close",b),a.removeListener("close",b)}return s.on("end",b),s.on("close",b),a.on("close",b),a.emit("pipe",s),a};function i(a,o,s){if(typeof a.prependListener=="function")return a.prependListener(o,s);!a._events||!a._events[o]?a.on(o,s):e(a._events[o])?a._events[o].unshift(s):a._events[o]=[s,a._events[o]]}return C_={Stream:n,prependListener:i},C_}var L_={exports:{}},_A;function Wy(){return _A||(_A=1,function(e){const{SymbolDispose:t}=Sr(),{AbortError:r,codes:n}=jn(),{isNodeStream:i,isWebStream:a,kControllerErrorFunction:o}=eo(),s=Vo(),{ERR_INVALID_ARG_TYPE:l}=n;let u;const f=(d,c)=>{if(typeof d!="object"||!("aborted"in d))throw new l(c,"AbortSignal",d)};e.exports.addAbortSignal=function(c,p){if(f(c,"signal"),!i(p)&&!a(p))throw new l("stream",["ReadableStream","WritableStream","Stream"],p);return e.exports.addAbortSignalNoValidate(c,p)},e.exports.addAbortSignalNoValidate=function(d,c){if(typeof d!="object"||!("aborted"in d))return c;const p=i(c)?()=>{c.destroy(new r(void 0,{cause:d.reason}))}:()=>{c[o](new r(void 0,{cause:d.reason}))};if(d.aborted)p();else{u=u||Gn().addAbortListener;const b=u(d,p);s(c,b[t])}return c}}(L_)),L_.exports}var M_,bA;function OQ(){if(bA)return M_;bA=1;const{StringPrototypeSlice:e,SymbolIterator:t,TypedArrayPrototypeSet:r,Uint8Array:n}=Sr(),{Buffer:i}=Er(),{inspect:a}=Gn();return M_=class{constructor(){this.head=null,this.tail=null,this.length=0}push(s){const l={data:s,next:null};this.length>0?this.tail.next=l:this.head=l,this.tail=l,++this.length}unshift(s){const l={data:s,next:this.head};this.length===0&&(this.tail=l),this.head=l,++this.length}shift(){if(this.length===0)return;const s=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,s}clear(){this.head=this.tail=null,this.length=0}join(s){if(this.length===0)return"";let l=this.head,u=""+l.data;for(;(l=l.next)!==null;)u+=s+l.data;return u}concat(s){if(this.length===0)return i.alloc(0);const l=i.allocUnsafe(s>>>0);let u=this.head,f=0;for(;u;)r(l,u.data,f),f+=u.data.length,u=u.next;return l}consume(s,l){const u=this.head.data;if(s<u.length){const f=u.slice(0,s);return this.head.data=u.slice(s),f}return s===u.length?this.shift():l?this._getString(s):this._getBuffer(s)}first(){return this.head.data}*[t](){for(let s=this.head;s;s=s.next)yield s.data}_getString(s){let l="",u=this.head,f=0;do{const d=u.data;if(s>d.length)l+=d,s-=d.length;else{s===d.length?(l+=d,++f,u.next?this.head=u.next:this.head=this.tail=null):(l+=e(d,0,s),this.head=u,u.data=e(d,s));break}++f}while((u=u.next)!==null);return this.length-=f,l}_getBuffer(s){const l=i.allocUnsafe(s),u=s;let f=this.head,d=0;do{const c=f.data;if(s>c.length)r(l,c,u-s),s-=c.length;else{s===c.length?(r(l,c,u-s),++d,f.next?this.head=f.next:this.head=this.tail=null):(r(l,new n(c.buffer,c.byteOffset,s),u-s),this.head=f,f.data=c.slice(s));break}++d}while((f=f.next)!==null);return this.length-=d,l}[Symbol.for("nodejs.util.inspect.custom")](s,l){return a(this,{...l,depth:0,customInspect:!1})}},M_}var k_,vA;function Ky(){if(vA)return k_;vA=1;const{MathFloor:e,NumberIsInteger:t}=Sr(),{validateInteger:r}=d0(),{ERR_INVALID_ARG_VALUE:n}=jn().codes;let i=16*1024,a=16;function o(f,d,c){return f.highWaterMark!=null?f.highWaterMark:d?f[c]:null}function s(f){return f?a:i}function l(f,d){r(d,"value",0),f?a=d:i=d}function u(f,d,c,p){const b=o(d,p,c);if(b!=null){if(!t(b)||b<0){const v=p?`options.${c}`:"options.highWaterMark";throw new n(v,b)}return e(b)}return s(f.objectMode)}return k_={getHighWaterMark:u,getDefaultHighWaterMark:s,setDefaultHighWaterMark:l},k_}var F_={},cm={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var wA;function NQ(){return wA||(wA=1,function(e,t){var r=Er(),n=r.Buffer;function i(o,s){for(var l in o)s[l]=o[l]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=a);function a(o,s,l){return n(o,s,l)}a.prototype=Object.create(n.prototype),i(n,a),a.from=function(o,s,l){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,s,l)},a.alloc=function(o,s,l){if(typeof o!="number")throw new TypeError("Argument must be a number");var u=n(o);return s!==void 0?typeof l=="string"?u.fill(s,l):u.fill(s):u.fill(0),u},a.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},a.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}}(cm,cm.exports)),cm.exports}var SA;function ga(){if(SA)return F_;SA=1;var e=NQ().Buffer,t=e.isEncoding||function(y){switch(y=""+y,y&&y.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(y){if(!y)return"utf8";for(var m;;)switch(y){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return y;default:if(m)return;y=(""+y).toLowerCase(),m=!0}}function n(y){var m=r(y);if(typeof m!="string"&&(e.isEncoding===t||!t(y)))throw new Error("Unknown encoding: "+y);return m||y}F_.StringDecoder=i;function i(y){this.encoding=n(y);var m;switch(this.encoding){case"utf16le":this.text=d,this.end=c,m=4;break;case"utf8":this.fillLast=l,m=4;break;case"base64":this.text=p,this.end=b,m=3;break;default:this.write=v,this.end=_;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(m)}i.prototype.write=function(y){if(y.length===0)return"";var m,g;if(this.lastNeed){if(m=this.fillLast(y),m===void 0)return"";g=this.lastNeed,this.lastNeed=0}else g=0;return g<y.length?m?m+this.text(y,g):this.text(y,g):m||""},i.prototype.end=f,i.prototype.text=u,i.prototype.fillLast=function(y){if(this.lastNeed<=y.length)return y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,y.length),this.lastNeed-=y.length};function a(y){return y<=127?0:y>>5===6?2:y>>4===14?3:y>>3===30?4:y>>6===2?-1:-2}function o(y,m,g){var S=m.length-1;if(S<g)return 0;var x=a(m[S]);return x>=0?(x>0&&(y.lastNeed=x-1),x):--S<g||x===-2?0:(x=a(m[S]),x>=0?(x>0&&(y.lastNeed=x-2),x):--S<g||x===-2?0:(x=a(m[S]),x>=0?(x>0&&(x===2?x=0:y.lastNeed=x-3),x):0))}function s(y,m,g){if((m[0]&192)!==128)return y.lastNeed=0,"";if(y.lastNeed>1&&m.length>1){if((m[1]&192)!==128)return y.lastNeed=1,"";if(y.lastNeed>2&&m.length>2&&(m[2]&192)!==128)return y.lastNeed=2,""}}function l(y){var m=this.lastTotal-this.lastNeed,g=s(this,y);if(g!==void 0)return g;if(this.lastNeed<=y.length)return y.copy(this.lastChar,m,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);y.copy(this.lastChar,m,0,y.length),this.lastNeed-=y.length}function u(y,m){var g=o(this,y,m);if(!this.lastNeed)return y.toString("utf8",m);this.lastTotal=g;var S=y.length-(g-this.lastNeed);return y.copy(this.lastChar,0,S),y.toString("utf8",m,S)}function f(y){var m=y&&y.length?this.write(y):"";return this.lastNeed?m+"":m}function d(y,m){if((y.length-m)%2===0){var g=y.toString("utf16le",m);if(g){var S=g.charCodeAt(g.length-1);if(S>=55296&&S<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1],g.slice(0,-1)}return g}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=y[y.length-1],y.toString("utf16le",m,y.length-1)}function c(y){var m=y&&y.length?this.write(y):"";if(this.lastNeed){var g=this.lastTotal-this.lastNeed;return m+this.lastChar.toString("utf16le",0,g)}return m}function p(y,m){var g=(y.length-m)%3;return g===0?y.toString("base64",m):(this.lastNeed=3-g,this.lastTotal=3,g===1?this.lastChar[0]=y[y.length-1]:(this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1]),y.toString("base64",m,y.length-g))}function b(y){var m=y&&y.length?this.write(y):"";return this.lastNeed?m+this.lastChar.toString("base64",0,3-this.lastNeed):m}function v(y){return y.toString(this.encoding)}function _(y){return y&&y.length?this.write(y):""}return F_}var j_,EA;function s4(){if(EA)return j_;EA=1;const e=Ws(),{PromisePrototypeThen:t,SymbolAsyncIterator:r,SymbolIterator:n}=Sr(),{Buffer:i}=Er(),{ERR_INVALID_ARG_TYPE:a,ERR_STREAM_NULL_VALUES:o}=jn().codes;function s(l,u,f){let d;if(typeof u=="string"||u instanceof i)return new l({objectMode:!0,...f,read(){this.push(u),this.push(null)}});let c;if(u&&u[r])c=!0,d=u[r]();else if(u&&u[n])c=!1,d=u[n]();else throw new a("iterable",["Iterable"],u);const p=new l({objectMode:!0,highWaterMark:1,...f});let b=!1;p._read=function(){b||(b=!0,_())},p._destroy=function(y,m){t(v(y),()=>e.nextTick(m,y),g=>e.nextTick(m,g||y))};async function v(y){const m=y!=null,g=typeof d.throw=="function";if(m&&g){const{value:S,done:x}=await d.throw(y);if(await S,x)return}if(typeof d.return=="function"){const{value:S}=await d.return();await S}}async function _(){for(;;){try{const{value:y,done:m}=c?await d.next():d.next();if(m)p.push(null);else{const g=y&&typeof y.then=="function"?await y:y;if(g===null)throw b=!1,new o;if(p.push(g))continue;b=!1}}catch(y){p.destroy(y)}break}}return p}return j_=s,j_}var q_,TA;function Qy(){if(TA)return q_;TA=1;const e=Ws(),{ArrayPrototypeIndexOf:t,NumberIsInteger:r,NumberIsNaN:n,NumberParseInt:i,ObjectDefineProperties:a,ObjectKeys:o,ObjectSetPrototypeOf:s,Promise:l,SafeSet:u,SymbolAsyncDispose:f,SymbolAsyncIterator:d,Symbol:c}=Sr();q_=Te,Te.ReadableState=be;const{EventEmitter:p}=Wn(),{Stream:b,prependListener:v}=OT(),{Buffer:_}=Er(),{addAbortSignal:y}=Wy(),m=Vo();let g=Gn().debuglog("stream",we=>{g=we});const S=OQ(),x=rl(),{getHighWaterMark:I,getDefaultHighWaterMark:N}=Ky(),{aggregateTwoErrors:q,codes:{ERR_INVALID_ARG_TYPE:D,ERR_METHOD_NOT_IMPLEMENTED:M,ERR_OUT_OF_RANGE:j,ERR_STREAM_PUSH_AFTER_EOF:P,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:B},AbortError:Y}=jn(),{validateObject:ie}=d0(),X=c("kPaused"),{StringDecoder:le}=ga(),ae=s4();s(Te.prototype,b.prototype),s(Te,b);const ne=()=>{},{errorOrDestroy:H}=x,oe=1,he=2,Z=4,Q=8,ee=16,O=32,A=64,$=128,te=256,pe=512,R=1024,w=2048,T=4096,k=8192,U=16384,re=32768,fe=65536,ve=1<<17,ce=1<<18;function Ie(we){return{enumerable:!1,get(){return(this.state&we)!==0},set(W){W?this.state|=we:this.state&=~we}}}a(be.prototype,{objectMode:Ie(oe),ended:Ie(he),endEmitted:Ie(Z),reading:Ie(Q),constructed:Ie(ee),sync:Ie(O),needReadable:Ie(A),emittedReadable:Ie($),readableListening:Ie(te),resumeScheduled:Ie(pe),errorEmitted:Ie(R),emitClose:Ie(w),autoDestroy:Ie(T),destroyed:Ie(k),closed:Ie(U),closeEmitted:Ie(re),multiAwaitDrain:Ie(fe),readingMore:Ie(ve),dataEmitted:Ie(ce)});function be(we,W,G){typeof G!="boolean"&&(G=W instanceof Wa()),this.state=w|T|ee|O,we&&we.objectMode&&(this.state|=oe),G&&we&&we.readableObjectMode&&(this.state|=oe),this.highWaterMark=we?I(this,we,"readableHighWaterMark",G):N(!1),this.buffer=new S,this.length=0,this.pipes=[],this.flowing=null,this[X]=null,we&&we.emitClose===!1&&(this.state&=-2049),we&&we.autoDestroy===!1&&(this.state&=-4097),this.errored=null,this.defaultEncoding=we&&we.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,we&&we.encoding&&(this.decoder=new le(we.encoding),this.encoding=we.encoding)}function Te(we){if(!(this instanceof Te))return new Te(we);const W=this instanceof Wa();this._readableState=new be(we,this,W),we&&(typeof we.read=="function"&&(this._read=we.read),typeof we.destroy=="function"&&(this._destroy=we.destroy),typeof we.construct=="function"&&(this._construct=we.construct),we.signal&&!W&&y(we.signal,this)),b.call(this,we),x.construct(this,()=>{this._readableState.needReadable&&F(this,this._readableState)})}Te.prototype.destroy=x.destroy,Te.prototype._undestroy=x.undestroy,Te.prototype._destroy=function(we,W){W(we)},Te.prototype[p.captureRejectionSymbol]=function(we){this.destroy(we)},Te.prototype[f]=function(){let we;return this.destroyed||(we=this.readableEnded?null:new Y,this.destroy(we)),new l((W,G)=>m(this,J=>J&&J!==we?G(J):W(null)))},Te.prototype.push=function(we,W){return je(this,we,W,!1)},Te.prototype.unshift=function(we,W){return je(this,we,W,!0)};function je(we,W,G,J){g("readableAddChunk",W);const Se=we._readableState;let Le;if(Se.state&oe||(typeof W=="string"?(G=G||Se.defaultEncoding,Se.encoding!==G&&(J&&Se.encoding?W=_.from(W,G).toString(Se.encoding):(W=_.from(W,G),G=""))):W instanceof _?G="":b._isUint8Array(W)?(W=b._uint8ArrayToBuffer(W),G=""):W!=null&&(Le=new D("chunk",["string","Buffer","Uint8Array"],W))),Le)H(we,Le);else if(W===null)Se.state&=-9,Ue(we,Se);else if(Se.state&oe||W&&W.length>0)if(J)if(Se.state&Z)H(we,new B);else{if(Se.destroyed||Se.errored)return!1;Ae(we,Se,W,!0)}else if(Se.ended)H(we,new P);else{if(Se.destroyed||Se.errored)return!1;Se.state&=-9,Se.decoder&&!G?(W=Se.decoder.write(W),Se.objectMode||W.length!==0?Ae(we,Se,W,!1):F(we,Se)):Ae(we,Se,W,!1)}else J||(Se.state&=-9,F(we,Se));return!Se.ended&&(Se.length<Se.highWaterMark||Se.length===0)}function Ae(we,W,G,J){W.flowing&&W.length===0&&!W.sync&&we.listenerCount("data")>0?(W.state&fe?W.awaitDrainWriters.clear():W.awaitDrainWriters=null,W.dataEmitted=!0,we.emit("data",G)):(W.length+=W.objectMode?1:G.length,J?W.buffer.unshift(G):W.buffer.push(G),W.state&A&&it(we)),F(we,W)}Te.prototype.isPaused=function(){const we=this._readableState;return we[X]===!0||we.flowing===!1},Te.prototype.setEncoding=function(we){const W=new le(we);this._readableState.decoder=W,this._readableState.encoding=this._readableState.decoder.encoding;const G=this._readableState.buffer;let J="";for(const Se of G)J+=W.write(Se);return G.clear(),J!==""&&G.push(J),this._readableState.length=J.length,this};const Oe=1073741824;function ke(we){if(we>Oe)throw new j("size","<= 1GiB",we);return we--,we|=we>>>1,we|=we>>>2,we|=we>>>4,we|=we>>>8,we|=we>>>16,we++,we}function Ke(we,W){return we<=0||W.length===0&&W.ended?0:W.state&oe?1:n(we)?W.flowing&&W.length?W.buffer.first().length:W.length:we<=W.length?we:W.ended?W.length:0}Te.prototype.read=function(we){g("read",we),we===void 0?we=NaN:r(we)||(we=i(we,10));const W=this._readableState,G=we;if(we>W.highWaterMark&&(W.highWaterMark=ke(we)),we!==0&&(W.state&=-129),we===0&&W.needReadable&&((W.highWaterMark!==0?W.length>=W.highWaterMark:W.length>0)||W.ended))return g("read: emitReadable",W.length,W.ended),W.length===0&&W.ended?Ce(this):it(this),null;if(we=Ke(we,W),we===0&&W.ended)return W.length===0&&Ce(this),null;let J=(W.state&A)!==0;if(g("need readable",J),(W.length===0||W.length-we<W.highWaterMark)&&(J=!0,g("length less than watermark",J)),W.ended||W.reading||W.destroyed||W.errored||!W.constructed)J=!1,g("reading, ended or constructing",J);else if(J){g("do read"),W.state|=Q|O,W.length===0&&(W.state|=A);try{this._read(W.highWaterMark)}catch(Le){H(this,Le)}W.state&=-33,W.reading||(we=Ke(G,W))}let Se;return we>0?Se=xe(we,W):Se=null,Se===null?(W.needReadable=W.length<=W.highWaterMark,we=0):(W.length-=we,W.multiAwaitDrain?W.awaitDrainWriters.clear():W.awaitDrainWriters=null),W.length===0&&(W.ended||(W.needReadable=!0),G!==we&&W.ended&&Ce(this)),Se!==null&&!W.errorEmitted&&!W.closeEmitted&&(W.dataEmitted=!0,this.emit("data",Se)),Se};function Ue(we,W){if(g("onEofChunk"),!W.ended){if(W.decoder){const G=W.decoder.end();G&&G.length&&(W.buffer.push(G),W.length+=W.objectMode?1:G.length)}W.ended=!0,W.sync?it(we):(W.needReadable=!1,W.emittedReadable=!0,ye(we))}}function it(we){const W=we._readableState;g("emitReadable",W.needReadable,W.emittedReadable),W.needReadable=!1,W.emittedReadable||(g("emitReadable",W.flowing),W.emittedReadable=!0,e.nextTick(ye,we))}function ye(we){const W=we._readableState;g("emitReadable_",W.destroyed,W.length,W.ended),!W.destroyed&&!W.errored&&(W.length||W.ended)&&(we.emit("readable"),W.emittedReadable=!1),W.needReadable=!W.flowing&&!W.ended&&W.length<=W.highWaterMark,Re(we)}function F(we,W){!W.readingMore&&W.constructed&&(W.readingMore=!0,e.nextTick(K,we,W))}function K(we,W){for(;!W.reading&&!W.ended&&(W.length<W.highWaterMark||W.flowing&&W.length===0);){const G=W.length;if(g("maybeReadMore read 0"),we.read(0),G===W.length)break}W.readingMore=!1}Te.prototype._read=function(we){throw new M("_read()")},Te.prototype.pipe=function(we,W){const G=this,J=this._readableState;J.pipes.length===1&&(J.multiAwaitDrain||(J.multiAwaitDrain=!0,J.awaitDrainWriters=new u(J.awaitDrainWriters?[J.awaitDrainWriters]:[]))),J.pipes.push(we),g("pipe count=%d opts=%j",J.pipes.length,W);const Le=(!W||W.end!==!1)&&we!==e.stdout&&we!==e.stderr?Ve:Ne;J.endEmitted?e.nextTick(Le):G.once("end",Le),we.on("unpipe",De);function De(Ge,We){g("onunpipe"),Ge===G&&We&&We.hasUnpiped===!1&&(We.hasUnpiped=!0,lt())}function Ve(){g("onend"),we.end()}let $e,ut=!1;function lt(){g("cleanup"),we.removeListener("close",lr),we.removeListener("finish",at),$e&&we.removeListener("drain",$e),we.removeListener("error",nt),we.removeListener("unpipe",De),G.removeListener("end",Ve),G.removeListener("end",Ne),G.removeListener("data",ct),ut=!0,$e&&J.awaitDrainWriters&&(!we._writableState||we._writableState.needDrain)&&$e()}function dt(){ut||(J.pipes.length===1&&J.pipes[0]===we?(g("false write response, pause",0),J.awaitDrainWriters=we,J.multiAwaitDrain=!1):J.pipes.length>1&&J.pipes.includes(we)&&(g("false write response, pause",J.awaitDrainWriters.size),J.awaitDrainWriters.add(we)),G.pause()),$e||($e=_e(G,we),we.on("drain",$e))}G.on("data",ct);function ct(Ge){g("ondata");const We=we.write(Ge);g("dest.write",We),We===!1&&dt()}function nt(Ge){if(g("onerror",Ge),Ne(),we.removeListener("error",nt),we.listenerCount("error")===0){const We=we._writableState||we._readableState;We&&!We.errorEmitted?H(we,Ge):we.emit("error",Ge)}}v(we,"error",nt);function lr(){we.removeListener("finish",at),Ne()}we.once("close",lr);function at(){g("onfinish"),we.removeListener("close",lr),Ne()}we.once("finish",at);function Ne(){g("unpipe"),G.unpipe(we)}return we.emit("pipe",G),we.writableNeedDrain===!0?dt():J.flowing||(g("pipe resume"),G.resume()),we};function _e(we,W){return function(){const J=we._readableState;J.awaitDrainWriters===W?(g("pipeOnDrain",1),J.awaitDrainWriters=null):J.multiAwaitDrain&&(g("pipeOnDrain",J.awaitDrainWriters.size),J.awaitDrainWriters.delete(W)),(!J.awaitDrainWriters||J.awaitDrainWriters.size===0)&&we.listenerCount("data")&&we.resume()}}Te.prototype.unpipe=function(we){const W=this._readableState,G={hasUnpiped:!1};if(W.pipes.length===0)return this;if(!we){const Se=W.pipes;W.pipes=[],this.pause();for(let Le=0;Le<Se.length;Le++)Se[Le].emit("unpipe",this,{hasUnpiped:!1});return this}const J=t(W.pipes,we);return J===-1?this:(W.pipes.splice(J,1),W.pipes.length===0&&this.pause(),we.emit("unpipe",this,G),this)},Te.prototype.on=function(we,W){const G=b.prototype.on.call(this,we,W),J=this._readableState;return we==="data"?(J.readableListening=this.listenerCount("readable")>0,J.flowing!==!1&&this.resume()):we==="readable"&&!J.endEmitted&&!J.readableListening&&(J.readableListening=J.needReadable=!0,J.flowing=!1,J.emittedReadable=!1,g("on readable",J.length,J.reading),J.length?it(this):J.reading||e.nextTick(se,this)),G},Te.prototype.addListener=Te.prototype.on,Te.prototype.removeListener=function(we,W){const G=b.prototype.removeListener.call(this,we,W);return we==="readable"&&e.nextTick(Pe,this),G},Te.prototype.off=Te.prototype.removeListener,Te.prototype.removeAllListeners=function(we){const W=b.prototype.removeAllListeners.apply(this,arguments);return(we==="readable"||we===void 0)&&e.nextTick(Pe,this),W};function Pe(we){const W=we._readableState;W.readableListening=we.listenerCount("readable")>0,W.resumeScheduled&&W[X]===!1?W.flowing=!0:we.listenerCount("data")>0?we.resume():W.readableListening||(W.flowing=null)}function se(we){g("readable nexttick read 0"),we.read(0)}Te.prototype.resume=function(){const we=this._readableState;return we.flowing||(g("resume"),we.flowing=!we.readableListening,ge(this,we)),we[X]=!1,this};function ge(we,W){W.resumeScheduled||(W.resumeScheduled=!0,e.nextTick(de,we,W))}function de(we,W){g("resume",W.reading),W.reading||we.read(0),W.resumeScheduled=!1,we.emit("resume"),Re(we),W.flowing&&!W.reading&&we.read(0)}Te.prototype.pause=function(){return g("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(g("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[X]=!0,this};function Re(we){const W=we._readableState;for(g("flow",W.flowing);W.flowing&&we.read()!==null;);}Te.prototype.wrap=function(we){let W=!1;we.on("data",J=>{!this.push(J)&&we.pause&&(W=!0,we.pause())}),we.on("end",()=>{this.push(null)}),we.on("error",J=>{H(this,J)}),we.on("close",()=>{this.destroy()}),we.on("destroy",()=>{this.destroy()}),this._read=()=>{W&&we.resume&&(W=!1,we.resume())};const G=o(we);for(let J=1;J<G.length;J++){const Se=G[J];this[Se]===void 0&&typeof we[Se]=="function"&&(this[Se]=we[Se].bind(we))}return this},Te.prototype[d]=function(){return Be(this)},Te.prototype.iterator=function(we){return we!==void 0&&ie(we,"options"),Be(this,we)};function Be(we,W){typeof we.read!="function"&&(we=Te.wrap(we,{objectMode:!0}));const G=V(we,W);return G.stream=we,G}async function*V(we,W){let G=ne;function J(De){this===we?(G(),G=ne):G=De}we.on("readable",J);let Se;const Le=m(we,{writable:!1},De=>{Se=De?q(Se,De):null,G(),G=ne});try{for(;;){const De=we.destroyed?null:we.read();if(De!==null)yield De;else{if(Se)throw Se;if(Se===null)return;await new l(J)}}}catch(De){throw Se=q(Se,De),Se}finally{(Se||(W==null?void 0:W.destroyOnReturn)!==!1)&&(Se===void 0||we._readableState.autoDestroy)?x.destroyer(we,null):(we.off("readable",J),Le())}}a(Te.prototype,{readable:{__proto__:null,get(){const we=this._readableState;return!!we&&we.readable!==!1&&!we.destroyed&&!we.errorEmitted&&!we.endEmitted},set(we){this._readableState&&(this._readableState.readable=!!we)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(we){this._readableState&&(this._readableState.flowing=we)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(we){this._readableState&&(this._readableState.destroyed=we)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),a(be.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[X]!==!1},set(we){this[X]=!!we}}}),Te._fromList=xe;function xe(we,W){if(W.length===0)return null;let G;return W.objectMode?G=W.buffer.shift():!we||we>=W.length?(W.decoder?G=W.buffer.join(""):W.buffer.length===1?G=W.buffer.first():G=W.buffer.concat(W.length),W.buffer.clear()):G=W.buffer.consume(we,W.decoder),G}function Ce(we){const W=we._readableState;g("endReadable",W.endEmitted),W.endEmitted||(W.ended=!0,e.nextTick(me,W,we))}function me(we,W){if(g("endReadableNT",we.endEmitted,we.length),!we.errored&&!we.closeEmitted&&!we.endEmitted&&we.length===0){if(we.endEmitted=!0,W.emit("end"),W.writable&&W.allowHalfOpen===!1)e.nextTick(Me,W);else if(we.autoDestroy){const G=W._writableState;(!G||G.autoDestroy&&(G.finished||G.writable===!1))&&W.destroy()}}}function Me(we){we.writable&&!we.writableEnded&&!we.destroyed&&we.end()}Te.from=function(we,W){return ae(Te,we,W)};let He;function ft(){return He===void 0&&(He={}),He}return Te.fromWeb=function(we,W){return ft().newStreamReadableFromReadableStream(we,W)},Te.toWeb=function(we,W){return ft().newReadableStreamFromStreamReadable(we,W)},Te.wrap=function(we,W){var G,J;return new Te({objectMode:(G=(J=we.readableObjectMode)!==null&&J!==void 0?J:we.objectMode)!==null&&G!==void 0?G:!0,...W,destroy(Se,Le){x.destroyer(we,Se),Le(Se)}}).wrap(we)},q_}var B_,xA;function NT(){if(xA)return B_;xA=1;const e=Ws(),{ArrayPrototypeSlice:t,Error:r,FunctionPrototypeSymbolHasInstance:n,ObjectDefineProperty:i,ObjectDefineProperties:a,ObjectSetPrototypeOf:o,StringPrototypeToLowerCase:s,Symbol:l,SymbolHasInstance:u}=Sr();B_=ie,ie.WritableState=B;const{EventEmitter:f}=Wn(),d=OT().Stream,{Buffer:c}=Er(),p=rl(),{addAbortSignal:b}=Wy(),{getHighWaterMark:v,getDefaultHighWaterMark:_}=Ky(),{ERR_INVALID_ARG_TYPE:y,ERR_METHOD_NOT_IMPLEMENTED:m,ERR_MULTIPLE_CALLBACK:g,ERR_STREAM_CANNOT_PIPE:S,ERR_STREAM_DESTROYED:x,ERR_STREAM_ALREADY_FINISHED:I,ERR_STREAM_NULL_VALUES:N,ERR_STREAM_WRITE_AFTER_END:q,ERR_UNKNOWN_ENCODING:D}=jn().codes,{errorOrDestroy:M}=p;o(ie.prototype,d.prototype),o(ie,d);function j(){}const P=l("kOnFinished");function B(T,k,U){typeof U!="boolean"&&(U=k instanceof Wa()),this.objectMode=!!(T&&T.objectMode),U&&(this.objectMode=this.objectMode||!!(T&&T.writableObjectMode)),this.highWaterMark=T?v(this,T,"writableHighWaterMark",U):_(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const re=!!(T&&T.decodeStrings===!1);this.decodeStrings=!re,this.defaultEncoding=T&&T.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=H.bind(void 0,k),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,Y(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!T||T.emitClose!==!1,this.autoDestroy=!T||T.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[P]=[]}function Y(T){T.buffered=[],T.bufferedIndex=0,T.allBuffers=!0,T.allNoop=!0}B.prototype.getBuffer=function(){return t(this.buffered,this.bufferedIndex)},i(B.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function ie(T){const k=this instanceof Wa();if(!k&&!n(ie,this))return new ie(T);this._writableState=new B(T,this,k),T&&(typeof T.write=="function"&&(this._write=T.write),typeof T.writev=="function"&&(this._writev=T.writev),typeof T.destroy=="function"&&(this._destroy=T.destroy),typeof T.final=="function"&&(this._final=T.final),typeof T.construct=="function"&&(this._construct=T.construct),T.signal&&b(T.signal,this)),d.call(this,T),p.construct(this,()=>{const U=this._writableState;U.writing||Q(this,U),$(this,U)})}i(ie,u,{__proto__:null,value:function(T){return n(this,T)?!0:this!==ie?!1:T&&T._writableState instanceof B}}),ie.prototype.pipe=function(){M(this,new S)};function X(T,k,U,re){const fe=T._writableState;if(typeof U=="function")re=U,U=fe.defaultEncoding;else{if(!U)U=fe.defaultEncoding;else if(U!=="buffer"&&!c.isEncoding(U))throw new D(U);typeof re!="function"&&(re=j)}if(k===null)throw new N;if(!fe.objectMode)if(typeof k=="string")fe.decodeStrings!==!1&&(k=c.from(k,U),U="buffer");else if(k instanceof c)U="buffer";else if(d._isUint8Array(k))k=d._uint8ArrayToBuffer(k),U="buffer";else throw new y("chunk",["string","Buffer","Uint8Array"],k);let ve;return fe.ending?ve=new q:fe.destroyed&&(ve=new x("write")),ve?(e.nextTick(re,ve),M(T,ve,!0),ve):(fe.pendingcb++,le(T,fe,k,U,re))}ie.prototype.write=function(T,k,U){return X(this,T,k,U)===!0},ie.prototype.cork=function(){this._writableState.corked++},ie.prototype.uncork=function(){const T=this._writableState;T.corked&&(T.corked--,T.writing||Q(this,T))},ie.prototype.setDefaultEncoding=function(k){if(typeof k=="string"&&(k=s(k)),!c.isEncoding(k))throw new D(k);return this._writableState.defaultEncoding=k,this};function le(T,k,U,re,fe){const ve=k.objectMode?1:U.length;k.length+=ve;const ce=k.length<k.highWaterMark;return ce||(k.needDrain=!0),k.writing||k.corked||k.errored||!k.constructed?(k.buffered.push({chunk:U,encoding:re,callback:fe}),k.allBuffers&&re!=="buffer"&&(k.allBuffers=!1),k.allNoop&&fe!==j&&(k.allNoop=!1)):(k.writelen=ve,k.writecb=fe,k.writing=!0,k.sync=!0,T._write(U,re,k.onwrite),k.sync=!1),ce&&!k.errored&&!k.destroyed}function ae(T,k,U,re,fe,ve,ce){k.writelen=re,k.writecb=ce,k.writing=!0,k.sync=!0,k.destroyed?k.onwrite(new x("write")):U?T._writev(fe,k.onwrite):T._write(fe,ve,k.onwrite),k.sync=!1}function ne(T,k,U,re){--k.pendingcb,re(U),Z(k),M(T,U)}function H(T,k){const U=T._writableState,re=U.sync,fe=U.writecb;if(typeof fe!="function"){M(T,new g);return}U.writing=!1,U.writecb=null,U.length-=U.writelen,U.writelen=0,k?(k.stack,U.errored||(U.errored=k),T._readableState&&!T._readableState.errored&&(T._readableState.errored=k),re?e.nextTick(ne,T,U,k,fe):ne(T,U,k,fe)):(U.buffered.length>U.bufferedIndex&&Q(T,U),re?U.afterWriteTickInfo!==null&&U.afterWriteTickInfo.cb===fe?U.afterWriteTickInfo.count++:(U.afterWriteTickInfo={count:1,cb:fe,stream:T,state:U},e.nextTick(oe,U.afterWriteTickInfo)):he(T,U,1,fe))}function oe({stream:T,state:k,count:U,cb:re}){return k.afterWriteTickInfo=null,he(T,k,U,re)}function he(T,k,U,re){for(!k.ending&&!T.destroyed&&k.length===0&&k.needDrain&&(k.needDrain=!1,T.emit("drain"));U-- >0;)k.pendingcb--,re();k.destroyed&&Z(k),$(T,k)}function Z(T){if(T.writing)return;for(let fe=T.bufferedIndex;fe<T.buffered.length;++fe){var k;const{chunk:ve,callback:ce}=T.buffered[fe],Ie=T.objectMode?1:ve.length;T.length-=Ie,ce((k=T.errored)!==null&&k!==void 0?k:new x("write"))}const U=T[P].splice(0);for(let fe=0;fe<U.length;fe++){var re;U[fe]((re=T.errored)!==null&&re!==void 0?re:new x("end"))}Y(T)}function Q(T,k){if(k.corked||k.bufferProcessing||k.destroyed||!k.constructed)return;const{buffered:U,bufferedIndex:re,objectMode:fe}=k,ve=U.length-re;if(!ve)return;let ce=re;if(k.bufferProcessing=!0,ve>1&&T._writev){k.pendingcb-=ve-1;const Ie=k.allNoop?j:Te=>{for(let je=ce;je<U.length;++je)U[je].callback(Te)},be=k.allNoop&&ce===0?U:t(U,ce);be.allBuffers=k.allBuffers,ae(T,k,!0,k.length,be,"",Ie),Y(k)}else{do{const{chunk:Ie,encoding:be,callback:Te}=U[ce];U[ce++]=null;const je=fe?1:Ie.length;ae(T,k,!1,je,Ie,be,Te)}while(ce<U.length&&!k.writing);ce===U.length?Y(k):ce>256?(U.splice(0,ce),k.bufferedIndex=0):k.bufferedIndex=ce}k.bufferProcessing=!1}ie.prototype._write=function(T,k,U){if(this._writev)this._writev([{chunk:T,encoding:k}],U);else throw new m("_write()")},ie.prototype._writev=null,ie.prototype.end=function(T,k,U){const re=this._writableState;typeof T=="function"?(U=T,T=null,k=null):typeof k=="function"&&(U=k,k=null);let fe;if(T!=null){const ve=X(this,T,k);ve instanceof r&&(fe=ve)}return re.corked&&(re.corked=1,this.uncork()),fe||(!re.errored&&!re.ending?(re.ending=!0,$(this,re,!0),re.ended=!0):re.finished?fe=new I("end"):re.destroyed&&(fe=new x("end"))),typeof U=="function"&&(fe||re.finished?e.nextTick(U,fe):re[P].push(U)),this};function ee(T){return T.ending&&!T.destroyed&&T.constructed&&T.length===0&&!T.errored&&T.buffered.length===0&&!T.finished&&!T.writing&&!T.errorEmitted&&!T.closeEmitted}function O(T,k){let U=!1;function re(fe){if(U){M(T,fe??g());return}if(U=!0,k.pendingcb--,fe){const ve=k[P].splice(0);for(let ce=0;ce<ve.length;ce++)ve[ce](fe);M(T,fe,k.sync)}else ee(k)&&(k.prefinished=!0,T.emit("prefinish"),k.pendingcb++,e.nextTick(te,T,k))}k.sync=!0,k.pendingcb++;try{T._final(re)}catch(fe){re(fe)}k.sync=!1}function A(T,k){!k.prefinished&&!k.finalCalled&&(typeof T._final=="function"&&!k.destroyed?(k.finalCalled=!0,O(T,k)):(k.prefinished=!0,T.emit("prefinish")))}function $(T,k,U){ee(k)&&(A(T,k),k.pendingcb===0&&(U?(k.pendingcb++,e.nextTick((re,fe)=>{ee(fe)?te(re,fe):fe.pendingcb--},T,k)):ee(k)&&(k.pendingcb++,te(T,k))))}function te(T,k){k.pendingcb--,k.finished=!0;const U=k[P].splice(0);for(let re=0;re<U.length;re++)U[re]();if(T.emit("finish"),k.autoDestroy){const re=T._readableState;(!re||re.autoDestroy&&(re.endEmitted||re.readable===!1))&&T.destroy()}}a(ie.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(T){this._writableState&&(this._writableState.destroyed=T)}},writable:{__proto__:null,get(){const T=this._writableState;return!!T&&T.writable!==!1&&!T.destroyed&&!T.errored&&!T.ending&&!T.ended},set(T){this._writableState&&(this._writableState.writable=!!T)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const T=this._writableState;return T?!T.destroyed&&!T.ending&&T.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const pe=p.destroy;ie.prototype.destroy=function(T,k){const U=this._writableState;return!U.destroyed&&(U.bufferedIndex<U.buffered.length||U[P].length)&&e.nextTick(Z,U),pe.call(this,T,k),this},ie.prototype._undestroy=p.undestroy,ie.prototype._destroy=function(T,k){k(T)},ie.prototype[f.captureRejectionSymbol]=function(T){this.destroy(T)};let R;function w(){return R===void 0&&(R={}),R}return ie.fromWeb=function(T,k){return w().newStreamWritableFromWritableStream(T,k)},ie.toWeb=function(T){return w().newWritableStreamFromStreamWritable(T)},B_}var $_,RA;function DQ(){if(RA)return $_;RA=1;const e=Ws(),t=Er(),{isReadable:r,isWritable:n,isIterable:i,isNodeStream:a,isReadableNodeStream:o,isWritableNodeStream:s,isDuplexNodeStream:l,isReadableStream:u,isWritableStream:f}=eo(),d=Vo(),{AbortError:c,codes:{ERR_INVALID_ARG_TYPE:p,ERR_INVALID_RETURN_VALUE:b}}=jn(),{destroyer:v}=rl(),_=Wa(),y=Qy(),m=NT(),{createDeferredPromise:g}=Gn(),S=s4(),x=globalThis.Blob||t.Blob,I=typeof x<"u"?function(B){return B instanceof x}:function(B){return!1},N=globalThis.AbortController||Wp().AbortController,{FunctionPrototypeCall:q}=Sr();class D extends _{constructor(B){super(B),(B==null?void 0:B.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(B==null?void 0:B.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}$_=function P(B,Y){if(l(B))return B;if(o(B))return j({readable:B});if(s(B))return j({writable:B});if(a(B))return j({writable:!1,readable:!1});if(u(B))return j({readable:y.fromWeb(B)});if(f(B))return j({writable:m.fromWeb(B)});if(typeof B=="function"){const{value:X,write:le,final:ae,destroy:ne}=M(B);if(i(X))return S(D,X,{objectMode:!0,write:le,final:ae,destroy:ne});const H=X==null?void 0:X.then;if(typeof H=="function"){let oe;const he=q(H,X,Z=>{if(Z!=null)throw new b("nully","body",Z)},Z=>{v(oe,Z)});return oe=new D({objectMode:!0,readable:!1,write:le,final(Z){ae(async()=>{try{await he,e.nextTick(Z,null)}catch(Q){e.nextTick(Z,Q)}})},destroy:ne})}throw new b("Iterable, AsyncIterable or AsyncFunction",Y,X)}if(I(B))return P(B.arrayBuffer());if(i(B))return S(D,B,{objectMode:!0,writable:!1});if(u(B==null?void 0:B.readable)&&f(B==null?void 0:B.writable))return D.fromWeb(B);if(typeof(B==null?void 0:B.writable)=="object"||typeof(B==null?void 0:B.readable)=="object"){const X=B!=null&&B.readable?o(B==null?void 0:B.readable)?B==null?void 0:B.readable:P(B.readable):void 0,le=B!=null&&B.writable?s(B==null?void 0:B.writable)?B==null?void 0:B.writable:P(B.writable):void 0;return j({readable:X,writable:le})}const ie=B==null?void 0:B.then;if(typeof ie=="function"){let X;return q(ie,B,le=>{le!=null&&X.push(le),X.push(null)},le=>{v(X,le)}),X=new D({objectMode:!0,writable:!1,read(){}})}throw new p(Y,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],B)};function M(P){let{promise:B,resolve:Y}=g();const ie=new N,X=ie.signal;return{value:P(async function*(){for(;;){const ae=B;B=null;const{chunk:ne,done:H,cb:oe}=await ae;if(e.nextTick(oe),H)return;if(X.aborted)throw new c(void 0,{cause:X.reason});({promise:B,resolve:Y}=g()),yield ne}}(),{signal:X}),write(ae,ne,H){const oe=Y;Y=null,oe({chunk:ae,done:!1,cb:H})},final(ae){const ne=Y;Y=null,ne({done:!0,cb:ae})},destroy(ae,ne){ie.abort(),ne(ae)}}}function j(P){const B=P.readable&&typeof P.readable.read!="function"?y.wrap(P.readable):P.readable,Y=P.writable;let ie=!!r(B),X=!!n(Y),le,ae,ne,H,oe;function he(Z){const Q=H;H=null,Q?Q(Z):Z&&oe.destroy(Z)}return oe=new D({readableObjectMode:!!(B!=null&&B.readableObjectMode),writableObjectMode:!!(Y!=null&&Y.writableObjectMode),readable:ie,writable:X}),X&&(d(Y,Z=>{X=!1,Z&&v(B,Z),he(Z)}),oe._write=function(Z,Q,ee){Y.write(Z,Q)?ee():le=ee},oe._final=function(Z){Y.end(),ae=Z},Y.on("drain",function(){if(le){const Z=le;le=null,Z()}}),Y.on("finish",function(){if(ae){const Z=ae;ae=null,Z()}})),ie&&(d(B,Z=>{ie=!1,Z&&v(B,Z),he(Z)}),B.on("readable",function(){if(ne){const Z=ne;ne=null,Z()}}),B.on("end",function(){oe.push(null)}),oe._read=function(){for(;;){const Z=B.read();if(Z===null){ne=oe._read;return}if(!oe.push(Z))return}}),oe._destroy=function(Z,Q){!Z&&H!==null&&(Z=new c),ne=null,le=null,ae=null,H===null?Q(Z):(H=Q,v(Y,Z),v(B,Z))},oe}return $_}var U_,AA;function Wa(){if(AA)return U_;AA=1;const{ObjectDefineProperties:e,ObjectGetOwnPropertyDescriptor:t,ObjectKeys:r,ObjectSetPrototypeOf:n}=Sr();U_=o;const i=Qy(),a=NT();n(o.prototype,i.prototype),n(o,i);{const f=r(a.prototype);for(let d=0;d<f.length;d++){const c=f[d];o.prototype[c]||(o.prototype[c]=a.prototype[c])}}function o(f){if(!(this instanceof o))return new o(f);i.call(this,f),a.call(this,f),f?(this.allowHalfOpen=f.allowHalfOpen!==!1,f.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),f.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}e(o.prototype,{writable:{__proto__:null,...t(a.prototype,"writable")},writableHighWaterMark:{__proto__:null,...t(a.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...t(a.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...t(a.prototype,"writableBuffer")},writableLength:{__proto__:null,...t(a.prototype,"writableLength")},writableFinished:{__proto__:null,...t(a.prototype,"writableFinished")},writableCorked:{__proto__:null,...t(a.prototype,"writableCorked")},writableEnded:{__proto__:null,...t(a.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...t(a.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(f){this._readableState&&this._writableState&&(this._readableState.destroyed=f,this._writableState.destroyed=f)}}});let s;function l(){return s===void 0&&(s={}),s}o.fromWeb=function(f,d){return l().newStreamDuplexFromReadableWritablePair(f,d)},o.toWeb=function(f){return l().newReadableWritablePairFromDuplex(f)};let u;return o.from=function(f){return u||(u=DQ()),u(f,"body")},U_}var V_,IA;function u4(){if(IA)return V_;IA=1;const{ObjectSetPrototypeOf:e,Symbol:t}=Sr();V_=o;const{ERR_METHOD_NOT_IMPLEMENTED:r}=jn().codes,n=Wa(),{getHighWaterMark:i}=Ky();e(o.prototype,n.prototype),e(o,n);const a=t("kCallback");function o(u){if(!(this instanceof o))return new o(u);const f=u?i(this,u,"readableHighWaterMark",!0):null;f===0&&(u={...u,highWaterMark:null,readableHighWaterMark:f,writableHighWaterMark:u.writableHighWaterMark||0}),n.call(this,u),this._readableState.sync=!1,this[a]=null,u&&(typeof u.transform=="function"&&(this._transform=u.transform),typeof u.flush=="function"&&(this._flush=u.flush)),this.on("prefinish",l)}function s(u){typeof this._flush=="function"&&!this.destroyed?this._flush((f,d)=>{if(f){u?u(f):this.destroy(f);return}d!=null&&this.push(d),this.push(null),u&&u()}):(this.push(null),u&&u())}function l(){this._final!==s&&s.call(this)}return o.prototype._final=s,o.prototype._transform=function(u,f,d){throw new r("_transform()")},o.prototype._write=function(u,f,d){const c=this._readableState,p=this._writableState,b=c.length;this._transform(u,f,(v,_)=>{if(v){d(v);return}_!=null&&this.push(_),p.ended||b===c.length||c.length<c.highWaterMark?d():this[a]=d})},o.prototype._read=function(){if(this[a]){const u=this[a];this[a]=null,u()}},V_}var H_,PA;function l4(){if(PA)return H_;PA=1;const{ObjectSetPrototypeOf:e}=Sr();H_=r;const t=u4();e(r.prototype,t.prototype),e(r,t);function r(n){if(!(this instanceof r))return new r(n);t.call(this,n)}return r.prototype._transform=function(n,i,a){a(null,n)},H_}var z_,OA;function DT(){if(OA)return z_;OA=1;const e=Ws(),{ArrayIsArray:t,Promise:r,SymbolAsyncIterator:n,SymbolDispose:i}=Sr(),a=Vo(),{once:o}=Gn(),s=rl(),l=Wa(),{aggregateTwoErrors:u,codes:{ERR_INVALID_ARG_TYPE:f,ERR_INVALID_RETURN_VALUE:d,ERR_MISSING_ARGS:c,ERR_STREAM_DESTROYED:p,ERR_STREAM_PREMATURE_CLOSE:b},AbortError:v}=jn(),{validateFunction:_,validateAbortSignal:y}=d0(),{isIterable:m,isReadable:g,isReadableNodeStream:S,isNodeStream:x,isTransformStream:I,isWebStream:N,isReadableStream:q,isReadableFinished:D}=eo(),M=globalThis.AbortController||Wp().AbortController;let j,P,B;function Y(Z,Q,ee){let O=!1;Z.on("close",()=>{O=!0});const A=a(Z,{readable:Q,writable:ee},$=>{O=!$});return{destroy:$=>{O||(O=!0,s.destroyer(Z,$||new p("pipe")))},cleanup:A}}function ie(Z){return _(Z[Z.length-1],"streams[stream.length - 1]"),Z.pop()}function X(Z){if(m(Z))return Z;if(S(Z))return le(Z);throw new f("val",["Readable","Iterable","AsyncIterable"],Z)}async function*le(Z){P||(P=Qy()),yield*P.prototype[n].call(Z)}async function ae(Z,Q,ee,{end:O}){let A,$=null;const te=w=>{if(w&&(A=w),$){const T=$;$=null,T()}},pe=()=>new r((w,T)=>{A?T(A):$=()=>{A?T(A):w()}});Q.on("drain",te);const R=a(Q,{readable:!1},te);try{Q.writableNeedDrain&&await pe();for await(const w of Z)Q.write(w)||await pe();O&&(Q.end(),await pe()),ee()}catch(w){ee(A!==w?u(A,w):w)}finally{R(),Q.off("drain",te)}}async function ne(Z,Q,ee,{end:O}){I(Q)&&(Q=Q.writable);const A=Q.getWriter();try{for await(const $ of Z)await A.ready,A.write($).catch(()=>{});await A.ready,O&&await A.close(),ee()}catch($){try{await A.abort($),ee($)}catch(te){ee(te)}}}function H(...Z){return oe(Z,o(ie(Z)))}function oe(Z,Q,ee){if(Z.length===1&&t(Z[0])&&(Z=Z[0]),Z.length<2)throw new c("streams");const O=new M,A=O.signal,$=ee==null?void 0:ee.signal,te=[];y($,"options.signal");function pe(){fe(new v)}B=B||Gn().addAbortListener;let R;$&&(R=B($,pe));let w,T;const k=[];let U=0;function re(be){fe(be,--U===0)}function fe(be,Te){var je;if(be&&(!w||w.code==="ERR_STREAM_PREMATURE_CLOSE")&&(w=be),!(!w&&!Te)){for(;k.length;)k.shift()(w);(je=R)===null||je===void 0||je[i](),O.abort(),Te&&(w||te.forEach(Ae=>Ae()),e.nextTick(Q,w,T))}}let ve;for(let be=0;be<Z.length;be++){const Te=Z[be],je=be<Z.length-1,Ae=be>0,Oe=je||(ee==null?void 0:ee.end)!==!1,ke=be===Z.length-1;if(x(Te)){let Ke=function(Ue){Ue&&Ue.name!=="AbortError"&&Ue.code!=="ERR_STREAM_PREMATURE_CLOSE"&&re(Ue)};if(Oe){const{destroy:Ue,cleanup:it}=Y(Te,je,Ae);k.push(Ue),g(Te)&&ke&&te.push(it)}Te.on("error",Ke),g(Te)&&ke&&te.push(()=>{Te.removeListener("error",Ke)})}if(be===0)if(typeof Te=="function"){if(ve=Te({signal:A}),!m(ve))throw new d("Iterable, AsyncIterable or Stream","source",ve)}else m(Te)||S(Te)||I(Te)?ve=Te:ve=l.from(Te);else if(typeof Te=="function"){if(I(ve)){var ce;ve=X((ce=ve)===null||ce===void 0?void 0:ce.readable)}else ve=X(ve);if(ve=Te(ve,{signal:A}),je){if(!m(ve,!0))throw new d("AsyncIterable",`transform[${be-1}]`,ve)}else{var Ie;j||(j=l4());const Ke=new j({objectMode:!0}),Ue=(Ie=ve)===null||Ie===void 0?void 0:Ie.then;if(typeof Ue=="function")U++,Ue.call(ve,F=>{T=F,F!=null&&Ke.write(F),Oe&&Ke.end(),e.nextTick(re)},F=>{Ke.destroy(F),e.nextTick(re,F)});else if(m(ve,!0))U++,ae(ve,Ke,re,{end:Oe});else if(q(ve)||I(ve)){const F=ve.readable||ve;U++,ae(F,Ke,re,{end:Oe})}else throw new d("AsyncIterable or Promise","destination",ve);ve=Ke;const{destroy:it,cleanup:ye}=Y(ve,!1,!0);k.push(it),ke&&te.push(ye)}}else if(x(Te)){if(S(ve)){U+=2;const Ke=he(ve,Te,re,{end:Oe});g(Te)&&ke&&te.push(Ke)}else if(I(ve)||q(ve)){const Ke=ve.readable||ve;U++,ae(Ke,Te,re,{end:Oe})}else if(m(ve))U++,ae(ve,Te,re,{end:Oe});else throw new f("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],ve);ve=Te}else if(N(Te)){if(S(ve))U++,ne(X(ve),Te,re,{end:Oe});else if(q(ve)||m(ve))U++,ne(ve,Te,re,{end:Oe});else if(I(ve))U++,ne(ve.readable,Te,re,{end:Oe});else throw new f("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],ve);ve=Te}else ve=l.from(Te)}return(A!=null&&A.aborted||$!=null&&$.aborted)&&e.nextTick(pe),ve}function he(Z,Q,ee,{end:O}){let A=!1;if(Q.on("close",()=>{A||ee(new b)}),Z.pipe(Q,{end:!1}),O){let $=function(){A=!0,Q.end()};D(Z)?e.nextTick($):Z.once("end",$)}else ee();return a(Z,{readable:!0,writable:!1},$=>{const te=Z._readableState;$&&$.code==="ERR_STREAM_PREMATURE_CLOSE"&&te&&te.ended&&!te.errored&&!te.errorEmitted?Z.once("end",ee).once("error",ee):ee($)}),a(Q,{readable:!1,writable:!0},ee)}return z_={pipelineImpl:oe,pipeline:H},z_}var G_,NA;function f4(){if(NA)return G_;NA=1;const{pipeline:e}=DT(),t=Wa(),{destroyer:r}=rl(),{isNodeStream:n,isReadable:i,isWritable:a,isWebStream:o,isTransformStream:s,isWritableStream:l,isReadableStream:u}=eo(),{AbortError:f,codes:{ERR_INVALID_ARG_VALUE:d,ERR_MISSING_ARGS:c}}=jn(),p=Vo();return G_=function(...v){if(v.length===0)throw new c("streams");if(v.length===1)return t.from(v[0]);const _=[...v];if(typeof v[0]=="function"&&(v[0]=t.from(v[0])),typeof v[v.length-1]=="function"){const j=v.length-1;v[j]=t.from(v[j])}for(let j=0;j<v.length;++j)if(!(!n(v[j])&&!o(v[j]))){if(j<v.length-1&&!(i(v[j])||u(v[j])||s(v[j])))throw new d(`streams[${j}]`,_[j],"must be readable");if(j>0&&!(a(v[j])||l(v[j])||s(v[j])))throw new d(`streams[${j}]`,_[j],"must be writable")}let y,m,g,S,x;function I(j){const P=S;S=null,P?P(j):j?x.destroy(j):!M&&!D&&x.destroy()}const N=v[0],q=e(v,I),D=!!(a(N)||l(N)||s(N)),M=!!(i(q)||u(q)||s(q));if(x=new t({writableObjectMode:!!(N!=null&&N.writableObjectMode),readableObjectMode:!!(q!=null&&q.readableObjectMode),writable:D,readable:M}),D){if(n(N))x._write=function(P,B,Y){N.write(P,B)?Y():y=Y},x._final=function(P){N.end(),m=P},N.on("drain",function(){if(y){const P=y;y=null,P()}});else if(o(N)){const B=(s(N)?N.writable:N).getWriter();x._write=async function(Y,ie,X){try{await B.ready,B.write(Y).catch(()=>{}),X()}catch(le){X(le)}},x._final=async function(Y){try{await B.ready,B.close().catch(()=>{}),m=Y}catch(ie){Y(ie)}}}const j=s(q)?q.readable:q;p(j,()=>{if(m){const P=m;m=null,P()}})}if(M){if(n(q))q.on("readable",function(){if(g){const j=g;g=null,j()}}),q.on("end",function(){x.push(null)}),x._read=function(){for(;;){const j=q.read();if(j===null){g=x._read;return}if(!x.push(j))return}};else if(o(q)){const P=(s(q)?q.readable:q).getReader();x._read=async function(){for(;;)try{const{value:B,done:Y}=await P.read();if(!x.push(B))return;if(Y){x.push(null);return}}catch{return}}}}return x._destroy=function(j,P){!j&&S!==null&&(j=new f),g=null,y=null,m=null,S===null?P(j):(S=P,n(q)&&r(q,j))},x},G_}var DA;function CQ(){if(DA)return lm;DA=1;const e=globalThis.AbortController||Wp().AbortController,{codes:{ERR_INVALID_ARG_VALUE:t,ERR_INVALID_ARG_TYPE:r,ERR_MISSING_ARGS:n,ERR_OUT_OF_RANGE:i},AbortError:a}=jn(),{validateAbortSignal:o,validateInteger:s,validateObject:l}=d0(),u=Sr().Symbol("kWeak"),f=Sr().Symbol("kResistStopPropagation"),{finished:d}=Vo(),c=f4(),{addAbortSignalNoValidate:p}=Wy(),{isWritable:b,isNodeStream:v}=eo(),{deprecate:_}=Gn(),{ArrayPrototypePush:y,Boolean:m,MathFloor:g,Number:S,NumberIsNaN:x,Promise:I,PromiseReject:N,PromiseResolve:q,PromisePrototypeThen:D,Symbol:M}=Sr(),j=M("kEmpty"),P=M("kEof");function B($,te){if(te!=null&&l(te,"options"),(te==null?void 0:te.signal)!=null&&o(te.signal,"options.signal"),v($)&&!b($))throw new t("stream",$,"must be writable");const pe=c(this,$);return te!=null&&te.signal&&p(te.signal,pe),pe}function Y($,te){if(typeof $!="function")throw new r("fn",["Function","AsyncFunction"],$);te!=null&&l(te,"options"),(te==null?void 0:te.signal)!=null&&o(te.signal,"options.signal");let pe=1;(te==null?void 0:te.concurrency)!=null&&(pe=g(te.concurrency));let R=pe-1;return(te==null?void 0:te.highWaterMark)!=null&&(R=g(te.highWaterMark)),s(pe,"options.concurrency",1),s(R,"options.highWaterMark",0),R+=pe,(async function*(){const T=Gn().AbortSignalAny([te==null?void 0:te.signal].filter(m)),k=this,U=[],re={signal:T};let fe,ve,ce=!1,Ie=0;function be(){ce=!0,Te()}function Te(){Ie-=1,je()}function je(){ve&&!ce&&Ie<pe&&U.length<R&&(ve(),ve=null)}async function Ae(){try{for await(let Oe of k){if(ce)return;if(T.aborted)throw new a;try{if(Oe=$(Oe,re),Oe===j)continue;Oe=q(Oe)}catch(ke){Oe=N(ke)}Ie+=1,D(Oe,Te,be),U.push(Oe),fe&&(fe(),fe=null),!ce&&(U.length>=R||Ie>=pe)&&await new I(ke=>{ve=ke})}U.push(P)}catch(Oe){const ke=N(Oe);D(ke,Te,be),U.push(ke)}finally{ce=!0,fe&&(fe(),fe=null)}}Ae();try{for(;;){for(;U.length>0;){const Oe=await U[0];if(Oe===P)return;if(T.aborted)throw new a;Oe!==j&&(yield Oe),U.shift(),je()}await new I(Oe=>{fe=Oe})}}finally{ce=!0,ve&&(ve(),ve=null)}}).call(this)}function ie($=void 0){return $!=null&&l($,"options"),($==null?void 0:$.signal)!=null&&o($.signal,"options.signal"),(async function*(){let pe=0;for await(const w of this){var R;if($!=null&&(R=$.signal)!==null&&R!==void 0&&R.aborted)throw new a({cause:$.signal.reason});yield[pe++,w]}}).call(this)}async function X($,te=void 0){for await(const pe of H.call(this,$,te))return!0;return!1}async function le($,te=void 0){if(typeof $!="function")throw new r("fn",["Function","AsyncFunction"],$);return!await X.call(this,async(...pe)=>!await $(...pe),te)}async function ae($,te){for await(const pe of H.call(this,$,te))return pe}async function ne($,te){if(typeof $!="function")throw new r("fn",["Function","AsyncFunction"],$);async function pe(R,w){return await $(R,w),j}for await(const R of Y.call(this,pe,te));}function H($,te){if(typeof $!="function")throw new r("fn",["Function","AsyncFunction"],$);async function pe(R,w){return await $(R,w)?R:j}return Y.call(this,pe,te)}class oe extends n{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function he($,te,pe){var R;if(typeof $!="function")throw new r("reducer",["Function","AsyncFunction"],$);pe!=null&&l(pe,"options"),(pe==null?void 0:pe.signal)!=null&&o(pe.signal,"options.signal");let w=arguments.length>1;if(pe!=null&&(R=pe.signal)!==null&&R!==void 0&&R.aborted){const fe=new a(void 0,{cause:pe.signal.reason});throw this.once("error",()=>{}),await d(this.destroy(fe)),fe}const T=new e,k=T.signal;if(pe!=null&&pe.signal){const fe={once:!0,[u]:this,[f]:!0};pe.signal.addEventListener("abort",()=>T.abort(),fe)}let U=!1;try{for await(const fe of this){var re;if(U=!0,pe!=null&&(re=pe.signal)!==null&&re!==void 0&&re.aborted)throw new a;w?te=await $(te,fe,{signal:k}):(te=fe,w=!0)}if(!U&&!w)throw new oe}finally{T.abort()}return te}async function Z($){$!=null&&l($,"options"),($==null?void 0:$.signal)!=null&&o($.signal,"options.signal");const te=[];for await(const R of this){var pe;if($!=null&&(pe=$.signal)!==null&&pe!==void 0&&pe.aborted)throw new a(void 0,{cause:$.signal.reason});y(te,R)}return te}function Q($,te){const pe=Y.call(this,$,te);return(async function*(){for await(const w of pe)yield*w}).call(this)}function ee($){if($=S($),x($))return 0;if($<0)throw new i("number",">= 0",$);return $}function O($,te=void 0){return te!=null&&l(te,"options"),(te==null?void 0:te.signal)!=null&&o(te.signal,"options.signal"),$=ee($),(async function*(){var R;if(te!=null&&(R=te.signal)!==null&&R!==void 0&&R.aborted)throw new a;for await(const T of this){var w;if(te!=null&&(w=te.signal)!==null&&w!==void 0&&w.aborted)throw new a;$--<=0&&(yield T)}}).call(this)}function A($,te=void 0){return te!=null&&l(te,"options"),(te==null?void 0:te.signal)!=null&&o(te.signal,"options.signal"),$=ee($),(async function*(){var R;if(te!=null&&(R=te.signal)!==null&&R!==void 0&&R.aborted)throw new a;for await(const T of this){var w;if(te!=null&&(w=te.signal)!==null&&w!==void 0&&w.aborted)throw new a;if($-- >0&&(yield T),$<=0)return}}).call(this)}return lm.streamReturningOperators={asIndexedPairs:_(ie,"readable.asIndexedPairs will be removed in a future version."),drop:O,filter:H,flatMap:Q,map:Y,take:A,compose:B},lm.promiseReturningOperators={every:le,forEach:ne,reduce:he,toArray:Z,some:X,find:ae},lm}var W_,CA;function c4(){if(CA)return W_;CA=1;const{ArrayPrototypePop:e,Promise:t}=Sr(),{isIterable:r,isNodeStream:n,isWebStream:i}=eo(),{pipelineImpl:a}=DT(),{finished:o}=Vo();d4();function s(...l){return new t((u,f)=>{let d,c;const p=l[l.length-1];if(p&&typeof p=="object"&&!n(p)&&!r(p)&&!i(p)){const b=e(l);d=b.signal,c=b.end}a(l,(b,v)=>{b?f(b):u(v)},{signal:d,end:c})})}return W_={finished:o,pipeline:s},W_}var LA;function d4(){if(LA)return E_.exports;LA=1;const{Buffer:e}=Er(),{ObjectDefineProperty:t,ObjectKeys:r,ReflectApply:n}=Sr(),{promisify:{custom:i}}=Gn(),{streamReturningOperators:a,promiseReturningOperators:o}=CQ(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:s}}=jn(),l=f4(),{setDefaultHighWaterMark:u,getDefaultHighWaterMark:f}=Ky(),{pipeline:d}=DT(),{destroyer:c}=rl(),p=Vo(),b=c4(),v=eo(),_=E_.exports=OT().Stream;_.isDestroyed=v.isDestroyed,_.isDisturbed=v.isDisturbed,_.isErrored=v.isErrored,_.isReadable=v.isReadable,_.isWritable=v.isWritable,_.Readable=Qy();for(const m of r(a)){let S=function(...x){if(new.target)throw s();return _.Readable.from(n(g,this,x))};const g=a[m];t(S,"name",{__proto__:null,value:g.name}),t(S,"length",{__proto__:null,value:g.length}),t(_.Readable.prototype,m,{__proto__:null,value:S,enumerable:!1,configurable:!0,writable:!0})}for(const m of r(o)){let S=function(...x){if(new.target)throw s();return n(g,this,x)};const g=o[m];t(S,"name",{__proto__:null,value:g.name}),t(S,"length",{__proto__:null,value:g.length}),t(_.Readable.prototype,m,{__proto__:null,value:S,enumerable:!1,configurable:!0,writable:!0})}_.Writable=NT(),_.Duplex=Wa(),_.Transform=u4(),_.PassThrough=l4(),_.pipeline=d;const{addAbortSignal:y}=Wy();return _.addAbortSignal=y,_.finished=p,_.destroy=c,_.compose=l,_.setDefaultHighWaterMark=u,_.getDefaultHighWaterMark=f,t(_,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return b}}),t(d,i,{__proto__:null,enumerable:!0,get(){return b.pipeline}}),t(p,i,{__proto__:null,enumerable:!0,get(){return b.finished}}),_.Stream=_,_._isUint8Array=function(g){return g instanceof Uint8Array},_._uint8ArrayToBuffer=function(g){return e.from(g.buffer,g.byteOffset,g.byteLength)},E_.exports}var MA;function Ki(){return MA||(MA=1,function(e){const t=d4(),r=c4(),n=t.Readable.destroy;e.exports=t.Readable,e.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,e.exports._isUint8Array=t._isUint8Array,e.exports.isDisturbed=t.isDisturbed,e.exports.isErrored=t.isErrored,e.exports.isReadable=t.isReadable,e.exports.Readable=t.Readable,e.exports.Writable=t.Writable,e.exports.Duplex=t.Duplex,e.exports.Transform=t.Transform,e.exports.PassThrough=t.PassThrough,e.exports.addAbortSignal=t.addAbortSignal,e.exports.finished=t.finished,e.exports.destroy=t.destroy,e.exports.destroy=n,e.exports.pipeline=t.pipeline,e.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return r}}),e.exports.Stream=t.Stream,e.exports.default=e.exports}(S_)),S_.exports}var Zy=Ki();const K_=Symbol("iter");function Ip(e,t,r=4){if(r===0)return Object.assign(e,t);for(const n in t)e[n]=Ip(e[n]||Object.create(null),t[n],r-1);return e}function h4(e,t,r=4){let n=!1;for(const i in e)if(i in t){const a=r===0?null:h4(e[i],t[i],r-1);if(a!==!1)n=n||Object.create(null),n[i]=a;else if(r===3)return!1}return n}function p4(e,t,r=4){let n=!1;for(const i in e)if(!(i in t))n=n||Object.create(null),n[i]=r===0?null:Ip({},e[i],r-1);else if(r!==0){const a=p4(e[i],t[i],r-1);if(a!==!1)n=n||Object.create(null),n[i]=a;else if(r===3)return!1}return n}class CT{constructor(t={}){this._id=1,this._ids=Object.create(null),this._ids[""]=1,this._entities=Object.create(null),this._entities[1]="",this._blankNodeIndex=0,this._factory=t.factory||Ei}_termFromId(t){if(t[0]==="."){const r=this._entities,n=t.split(".");return this._factory.quad(this._termFromId(r[n[1]]),this._termFromId(r[n[2]]),this._termFromId(r[n[3]]),n[4]&&this._termFromId(r[n[4]]))}return Cs(t,this._factory)}_termToNumericId(t){if(t.termType==="Quad"){const r=this._termToNumericId(t.subject),n=this._termToNumericId(t.predicate),i=this._termToNumericId(t.object);let a;return r&&n&&i&&(Gp(t.graph)||(a=this._termToNumericId(t.graph)))&&this._ids[a?`.${r}.${n}.${i}.${a}`:`.${r}.${n}.${i}`]}return this._ids[xo(t)]}_termToNewNumericId(t){const r=t&&t.termType==="Quad"?`.${this._termToNewNumericId(t.subject)}.${this._termToNewNumericId(t.predicate)}.${this._termToNewNumericId(t.object)}${Gp(t.graph)?"":`.${this._termToNewNumericId(t.graph)}`}`:xo(t);return this._ids[r]||(this._ids[this._entities[++this._id]=r]=this._id)}createBlankNode(t){let r,n;if(t)for(r=t=`_:${t}`,n=1;this._ids[r];)r=t+n++;else do r=`_:b${this._blankNodeIndex++}`;while(this._ids[r]);return this._ids[r]=++this._id,this._entities[this._id]=r,this._factory.blankNode(r.substr(2))}}class pn{constructor(t,r){this._size=0,this._graphs=Object.create(null),!r&&t&&!t[0]&&(r=t,t=null),r=r||{},this._factory=r.factory||Ei,this._entityIndex=r.entityIndex||new CT({factory:this._factory}),this._entities=this._entityIndex._entities,this._termFromId=this._entityIndex._termFromId.bind(this._entityIndex),this._termToNumericId=this._entityIndex._termToNumericId.bind(this._entityIndex),this._termToNewNumericId=this._entityIndex._termToNewNumericId.bind(this._entityIndex),t&&this.addQuads(t)}get size(){let t=this._size;if(t!==null)return t;t=0;const r=this._graphs;let n,i;for(const a in r)for(const o in n=r[a].subjects)for(const s in i=n[o])t+=Object.keys(i[s]).length;return this._size=t}_addToIndex(t,r,n,i){const a=t[r]||(t[r]={}),o=a[n]||(a[n]={}),s=i in o;return s||(o[i]=null),!s}_removeFromIndex(t,r,n,i){const a=t[r],o=a[n];delete o[i];for(const s in o)return;delete a[n];for(const s in a)return;delete t[r]}*_findInIndex(t,r,n,i,a,o,s,l){let u,f,d;const c=this._entities,p=this._termFromId(c[l]),b={subject:null,predicate:null,object:null};r&&((u=t,t={})[r]=u[r]);for(const v in t)if(f=t[v]){b[a]=this._termFromId(c[v]),n&&((u=f,f={})[n]=u[n]);for(const _ in f)if(d=f[_]){b[o]=this._termFromId(c[_]);const y=i?i in d?[i]:[]:Object.keys(d);for(let m=0;m<y.length;m++)b[s]=this._termFromId(c[y[m]]),yield this._factory.quad(b.subject,b.predicate,b.object,p)}}}_loop(t,r){for(const n in t)r(n)}_loopByKey0(t,r,n){let i,a;if(i=t[r])for(a in i)n(a)}_loopByKey1(t,r,n){let i,a;for(i in t)a=t[i],a[r]&&n(i)}_loopBy2Keys(t,r,n,i){let a,o,s;if((a=t[r])&&(o=a[n]))for(s in o)i(s)}_countInIndex(t,r,n,i){let a=0,o,s,l;r&&((o=t,t={})[r]=o[r]);for(const u in t)if(s=t[u]){n&&((o=s,s={})[n]=o[n]);for(const f in s)(l=s[f])&&(i?i in l&&a++:a+=Object.keys(l).length)}return a}_getGraphs(t){return t=t===""?1:t&&(this._termToNumericId(t)||-1),typeof t!="number"?this._graphs:{[t]:this._graphs[t]}}_uniqueEntities(t){const r=Object.create(null);return n=>{n in r||(r[n]=!0,t(this._termFromId(this._entities[n],this._factory)))}}add(t){return this.addQuad(t),this}addQuad(t,r,n,i){r||(i=t.graph,n=t.object,r=t.predicate,t=t.subject),i=i?this._termToNewNumericId(i):1;let a=this._graphs[i];return a||(a=this._graphs[i]={subjects:{},predicates:{},objects:{}},Object.freeze(a)),t=this._termToNewNumericId(t),r=this._termToNewNumericId(r),n=this._termToNewNumericId(n),this._addToIndex(a.subjects,t,r,n)?(this._addToIndex(a.predicates,r,n,t),this._addToIndex(a.objects,n,t,r),this._size=null,!0):!1}addQuads(t){for(let r=0;r<t.length;r++)this.addQuad(t[r])}delete(t){return this.removeQuad(t),this}has(t,r,n,i){return t&&t.subject&&({subject:t,predicate:r,object:n,graph:i}=t),!this.readQuads(t,r,n,i).next().done}import(t){return t.on("data",r=>{this.addQuad(r)}),t}removeQuad(t,r,n,i){r||({subject:t,predicate:r,object:n,graph:i}=t),i=i?this._termToNumericId(i):1;const a=this._graphs;let o,s,l;if(!(t=t&&this._termToNumericId(t))||!(r=r&&this._termToNumericId(r))||!(n=n&&this._termToNumericId(n))||!(o=a[i])||!(s=o.subjects[t])||!(l=s[r])||!(n in l))return!1;this._removeFromIndex(o.subjects,t,r,n),this._removeFromIndex(o.predicates,r,n,t),this._removeFromIndex(o.objects,n,t,r),this._size!==null&&this._size--;for(t in o.subjects)return!0;return delete a[i],!0}removeQuads(t){for(let r=0;r<t.length;r++)this.removeQuad(t[r])}remove(t){return t.on("data",r=>{this.removeQuad(r)}),t}removeMatches(t,r,n,i){const a=new Zy.Readable({objectMode:!0}),o=this.readQuads(t,r,n,i);return a._read=s=>{for(;--s>=0;){const{done:l,value:u}=o.next();if(l){a.push(null);return}a.push(u)}},this.remove(a)}deleteGraph(t){return this.removeMatches(null,null,null,t)}getQuads(t,r,n,i){return[...this.readQuads(t,r,n,i)]}*readQuads(t,r,n,i){const a=this._getGraphs(i);let o,s,l,u;if(!(t&&!(s=this._termToNumericId(t))||r&&!(l=this._termToNumericId(r))||n&&!(u=this._termToNumericId(n))))for(const f in a)(o=a[f])&&(s?u?yield*this._findInIndex(o.objects,u,s,l,"object","subject","predicate",f):yield*this._findInIndex(o.subjects,s,l,null,"subject","predicate","object",f):l?yield*this._findInIndex(o.predicates,l,u,null,"predicate","object","subject",f):u?yield*this._findInIndex(o.objects,u,null,null,"object","subject","predicate",f):yield*this._findInIndex(o.subjects,null,null,null,"subject","predicate","object",f))}match(t,r,n,i){return new So(this,t,r,n,i,{entityIndex:this._entityIndex})}countQuads(t,r,n,i){const a=this._getGraphs(i);let o=0,s,l,u,f;if(t&&!(l=this._termToNumericId(t))||r&&!(u=this._termToNumericId(r))||n&&!(f=this._termToNumericId(n)))return 0;for(const d in a)(s=a[d])&&(t?n?o+=this._countInIndex(s.objects,f,l,u):o+=this._countInIndex(s.subjects,l,u,f):r?o+=this._countInIndex(s.predicates,u,f,l):o+=this._countInIndex(s.objects,f,l,u));return o}forEach(t,r,n,i,a){this.some(o=>(t(o,this),!1),r,n,i,a)}every(t,r,n,i,a){return!this.some(o=>!t(o,this),r,n,i,a)}some(t,r,n,i,a){for(const o of this.readQuads(r,n,i,a))if(t(o))return!0;return!1}getSubjects(t,r,n){const i=[];return this.forSubjects(a=>{i.push(a)},t,r,n),i}forSubjects(t,r,n,i){const a=this._getGraphs(i);let o,s,l;if(t=this._uniqueEntities(t),!(r&&!(s=this._termToNumericId(r))||n&&!(l=this._termToNumericId(n))))for(i in a)(o=a[i])&&(s?l?this._loopBy2Keys(o.predicates,s,l,t):this._loopByKey1(o.subjects,s,t):l?this._loopByKey0(o.objects,l,t):this._loop(o.subjects,t))}getPredicates(t,r,n){const i=[];return this.forPredicates(a=>{i.push(a)},t,r,n),i}forPredicates(t,r,n,i){const a=this._getGraphs(i);let o,s,l;if(t=this._uniqueEntities(t),!(r&&!(s=this._termToNumericId(r))||n&&!(l=this._termToNumericId(n))))for(i in a)(o=a[i])&&(s?l?this._loopBy2Keys(o.objects,l,s,t):this._loopByKey0(o.subjects,s,t):l?this._loopByKey1(o.predicates,l,t):this._loop(o.predicates,t))}getObjects(t,r,n){const i=[];return this.forObjects(a=>{i.push(a)},t,r,n),i}forObjects(t,r,n,i){const a=this._getGraphs(i);let o,s,l;if(t=this._uniqueEntities(t),!(r&&!(s=this._termToNumericId(r))||n&&!(l=this._termToNumericId(n))))for(i in a)(o=a[i])&&(s?l?this._loopBy2Keys(o.subjects,s,l,t):this._loopByKey1(o.objects,s,t):l?this._loopByKey0(o.predicates,l,t):this._loop(o.objects,t))}getGraphs(t,r,n){const i=[];return this.forGraphs(a=>{i.push(a)},t,r,n),i}forGraphs(t,r,n,i){for(const a in this._graphs)this.some(o=>(t(o.graph),!0),r,n,i,this._termFromId(this._entities[a]))}createBlankNode(t){return this._entityIndex.createBlankNode(t)}extractLists({remove:t=!1,ignoreErrors:r=!1}={}){const n={},i=r?()=>!0:(s,l)=>{throw new Error(`${s.value} ${l}`)},a=this.getQuads(null,mn.rdf.rest,mn.rdf.nil,null),o=t?[...a]:[];return a.forEach(s=>{const l=[];let u=!1,f,d;const c=s.graph;let p=s.subject;for(;p&&!u;){const b=this.getQuads(null,null,p,null),v=this.getQuads(p,null,null,null);let _,y=null,m=null,g=null;for(let S=0;S<v.length&&!u;S++)_=v[S],_.graph.equals(c)?f?u=i(p,"has non-list arcs out"):_.predicate.value===mn.rdf.first?y?u=i(p,"has multiple rdf:first arcs"):o.push(y=_):_.predicate.value===mn.rdf.rest?m?u=i(p,"has multiple rdf:rest arcs"):o.push(m=_):b.length?u=i(p,"can't be subject and object"):(f=_,d="subject"):u=i(p,"not confined to single graph");for(let S=0;S<b.length&&!u;++S)_=b[S],f?u=i(p,"can't have coreferences"):_.predicate.value===mn.rdf.rest?g?u=i(p,"has incoming rdf:rest arcs"):g=_:(f=_,d="object");y?l.unshift(y.object):u=i(p,"has no list head"),p=g&&g.subject}u?t=!1:f&&(n[f[d].value]=l)}),t&&this.removeQuads(o),n}addAll(t){if(t instanceof So&&(t=t.filtered),Array.isArray(t))this.addQuads(t);else if(t instanceof pn&&t._entityIndex===this._entityIndex)t._size!==0&&(this._graphs=Ip(this._graphs,t._graphs),this._size=null);else for(const r of t)this.add(r);return this}contains(t){if(t instanceof So&&(t=t.filtered),t===this)return!0;if(!(t instanceof pn)||this._entityIndex!==t._entityIndex)return t.every(u=>this.has(u));const r=this._graphs,n=t._graphs;let i,a,o,s,l;for(const u in n){if(!(i=r[u]))return!1;i=i.subjects;for(const f in a=n[u].subjects){if(!(o=i[f]))return!1;for(const d in s=a[f]){if(!(l=o[d]))return!1;for(const c in s[d])if(!(c in l))return!1}}}return!0}deleteMatches(t,r,n,i){for(const a of this.match(t,r,n,i))this.removeQuad(a);return this}difference(t){if(t&&t instanceof So&&(t=t.filtered),t===this)return new pn({entityIndex:this._entityIndex});if(t instanceof pn&&t._entityIndex===this._entityIndex){const r=new pn({entityIndex:this._entityIndex}),n=p4(this._graphs,t._graphs);return n&&(r._graphs=n,r._size=null),r}return this.filter(r=>!t.has(r))}equals(t){return t instanceof So&&(t=t.filtered),t===this||this.size===t.size&&this.contains(t)}filter(t){const r=new pn({entityIndex:this._entityIndex});for(const n of this)t(n,this)&&r.add(n);return r}intersection(t){if(t instanceof So&&(t=t.filtered),t===this){const r=new pn({entityIndex:this._entityIndex});return r._graphs=Ip(Object.create(null),this._graphs),r._size=this._size,r}else if(t instanceof pn&&this._entityIndex===t._entityIndex){const r=new pn({entityIndex:this._entityIndex}),n=h4(t._graphs,this._graphs);return n&&(r._graphs=n,r._size=null),r}return this.filter(r=>t.has(r))}map(t){const r=new pn({entityIndex:this._entityIndex});for(const n of this)r.add(t(n,this));return r}reduce(t,r){const n=this.readQuads();let i=r===void 0?n.next().value:r;for(const a of n)i=t(i,a,this);return i}toArray(){return this.getQuads()}toCanonical(){throw new Error("not implemented")}toStream(){return this.match()}toString(){return new c0().quadsToString(this)}union(t){const r=new pn({entityIndex:this._entityIndex});return r._graphs=Ip(Object.create(null),this._graphs),r._size=this._size,r.addAll(t),r}*[Symbol.iterator](){yield*this.readQuads()}}function ia(e,t,r=0){const n=t[r];if(n&&!(n in e))return!1;let i=!1;for(const a in n?{[n]:e[n]}:e){const o=r===2?null:ia(e[a],t,r+1);o!==!1&&(i=i||Object.create(null),i[a]=o)}return i}class So extends Zy.Readable{constructor(t,r,n,i,a,o){super({objectMode:!0}),Object.assign(this,{n3Store:t,subject:r,predicate:n,object:i,graph:a,options:o})}get filtered(){if(!this._filtered){const{n3Store:t,graph:r,object:n,predicate:i,subject:a}=this,o=this._filtered=new pn({factory:t._factory,entityIndex:this.options.entityIndex});let s,l,u;if(a&&!(s=o._termToNumericId(a))||i&&!(l=o._termToNumericId(i))||n&&!(u=o._termToNumericId(n)))return o;const f=t._getGraphs(r);for(const d in f){let c,p,b;!s&&l?(p=ia(f[d].predicates,[l,u,s]))&&(c=ia(f[d].subjects,[s,l,u]),b=ia(f[d].objects,[u,s,l])):u?(b=ia(f[d].objects,[u,s,l]))&&(c=ia(f[d].subjects,[s,l,u]),p=ia(f[d].predicates,[l,u,s])):(c=ia(f[d].subjects,[s,l,u]))&&(p=ia(f[d].predicates,[l,u,s]),b=ia(f[d].objects,[u,s,l])),c&&(o._graphs[d]={subjects:c,predicates:p,objects:b})}o._size=null}return this._filtered}get size(){return this.filtered.size}_read(t){t>0&&!this[K_]&&(this[K_]=this[Symbol.iterator]());const r=this[K_];for(;--t>=0;){const{done:n,value:i}=r.next();if(n){this.push(null);return}this.push(i)}}addAll(t){return this.filtered.addAll(t)}contains(t){return this.filtered.contains(t)}deleteMatches(t,r,n,i){return this.filtered.deleteMatches(t,r,n,i)}difference(t){return this.filtered.difference(t)}equals(t){return this.filtered.equals(t)}every(t,r,n,i,a){return this.filtered.every(t,r,n,i,a)}filter(t){return this.filtered.filter(t)}forEach(t,r,n,i,a){return this.filtered.forEach(t,r,n,i,a)}import(t){return this.filtered.import(t)}intersection(t){return this.filtered.intersection(t)}map(t){return this.filtered.map(t)}some(t,r,n,i,a){return this.filtered.some(t,r,n,i,a)}toCanonical(){return this.filtered.toCanonical()}toStream(){return this._filtered?this._filtered.toStream():this.n3Store.match(this.subject,this.predicate,this.object,this.graph)}union(t){return this._filtered?this._filtered.union(t):this.n3Store.match(this.subject,this.predicate,this.object,this.graph).addAll(t)}toArray(){return this._filtered?this._filtered.toArray():this.n3Store.getQuads(this.subject,this.predicate,this.object,this.graph)}reduce(t,r){return this.filtered.reduce(t,r)}toString(){return new c0().quadsToString(this)}add(t){return this.filtered.add(t)}delete(t){return this.filtered.delete(t)}has(t){return this.filtered.has(t)}match(t,r,n,i){return new So(this.filtered,t,r,n,i,this.options)}*[Symbol.iterator](){yield*this._filtered||this.n3Store.readQuads(this.subject,this.predicate,this.object,this.graph)}}class m4{dataset(t){return new pn(t)}}function y4(e){const t=[];for(const{subject:r,object:n}of e.match(null,Ei.namedNode("http://www.w3.org/2000/10/swap/log#implies"),null,Ei.defaultGraph())){const i=[...e.match(null,null,null,r)],a=[...e.match(null,null,null,n)];t.push({premise:i,conclusion:a})}return t}class g4{constructor(t){this._store=t}_add(t,r,n,i,a){this._store._addToIndex(i.subjects,t,r,n)&&(this._store._addToIndex(i.predicates,r,n,t),this._store._addToIndex(i.objects,n,t,r),a())}_evaluatePremise(t,r,n,i=0){let a,o,s,l,u;const[f,d,c]=t.premise[i].value,p=r[t.premise[i].content],b=!(s=f.value);for(s in b?p:{[s]:p[s]})if(l=p[s]){b&&(f.value=Number(s)),a=!(s=d.value);for(s in a?l:{[s]:l[s]})if(u=l[s]){a&&(d.value=Number(s)),o=!(s=c.value);for(s in o?u:{[s]:u[s]})o&&(c.value=Number(s)),i===t.premise.length-1?t.conclusion.forEach(v=>{this._add(v.subject.value,v.predicate.value,v.object.value,r,()=>{n(v)})}):this._evaluatePremise(t,r,n,i+1);o&&(c.value=null)}a&&(d.value=null)}b&&(f.value=null)}_evaluateRules(t,r,n){for(let i=0;i<t.length;i++)this._evaluatePremise(t[i],r,n)}_reasonGraphNaive(t,r){const n=[];function i(s){s.next&&s.next.forEach(l=>{n.push([s.subject.value,s.predicate.value,s.object.value,l])})}const a=s=>{s.forEach(l=>{this._add(l.subject.value,l.predicate.value,l.object.value,r,()=>{i(l)})})};this._evaluateRules(t,r,i);let o;for(;(o=n.pop())!==void 0;){const[s,l,u,f]=o,d=f.basePremise.subject.value;d||(f.basePremise.subject.value=s);const c=f.basePremise.predicate.value;c||(f.basePremise.predicate.value=l);const p=f.basePremise.object.value;p||(f.basePremise.object.value=u),f.premise.length===0?a(f.conclusion):this._evaluatePremise(f,r,i),d||(f.basePremise.subject.value=null),c||(f.basePremise.predicate.value=null),p||(f.basePremise.object.value=null)}}_createRule({premise:t,conclusion:r}){const n={},i=o=>o.termType==="Variable"?n[o.value]=n[o.value]||{}:{value:this._store._termToNewNumericId(o)},a=o=>({subject:i(o.subject),predicate:i(o.predicate),object:i(o.object)});return{premise:t.map(o=>a(o)),conclusion:r.map(o=>a(o)),variables:Object.values(n)}}reason(t){Array.isArray(t)||(t=y4(t)),t=t.map(n=>this._createRule(n));for(const n of t)for(const i of t)for(let a=0;a<i.premise.length;a++){const o=i.premise[a];for(const s of n.conclusion){if(Q_(o.subject,s.subject)&&Q_(o.predicate,s.predicate)&&Q_(o.object,s.object)){const l=new Set,u=[];o.subject.value=o.subject.value||1,o.object.value=o.object.value||1,o.predicate.value=o.predicate.value||1;for(let f=0;f<i.premise.length;f++)f!==a&&u.push(kA(i.premise[f],l));(s.next=s.next||[]).push({premise:u,conclusion:i.conclusion,basePremise:o})}i.variables.forEach(l=>{l.value=null})}}for(const n of t){const i=new Set;n.premise=n.premise.map(a=>kA(a,i))}const r=this._store._getGraphs();for(const n in r)this._reasonGraphNaive(t,r[n]);this._store._size=null}}function kA({subject:e,predicate:t,object:r},n){const i=e.value||n.has(e)||(n.add(e),!1),a=t.value||n.has(t)||(n.add(t),!1),o=r.value||n.has(r)||(n.add(r),!1);return!i&&a?{content:"predicates",value:[t,r,e]}:o?{content:"objects",value:[r,e,t]}:{content:"subjects",value:[e,t,r]}}function Q_(e,t){return e.value===null&&(e.value=t.value),e.value===t.value}class _4 extends Zy.Transform{constructor(t){super({decodeStrings:!0}),this._readableState.objectMode=!0;const r=new Gy(t);let n,i;const a={onQuad:(o,s)=>{o&&this.emit("error",o)||s&&this.push(s)},onPrefix:(o,s)=>{this.emit("prefix",o,s)}};t&&t.comments&&(a.onComment=o=>{this.emit("comment",o)}),r.parse({on:(o,s)=>{switch(o){case"data":n=s;break;case"end":i=s;break}}},a),this._transform=(o,s,l)=>{n(o),l()},this._flush=o=>{i(),o()}}import(t){return t.on("data",r=>{this.write(r)}),t.on("end",()=>{this.end()}),t.on("error",r=>{this.emit("error",r)}),this}}class b4 extends Zy.Transform{constructor(t){super({encoding:"utf8",writableObjectMode:!0});const r=this._writer=new c0({write:(n,i,a)=>{this.push(n),a&&a()},end:n=>{this.push(null),n&&n()}},t);this._transform=(n,i,a)=>{r.addQuad(n,a)},this._flush=n=>{r.end(n)}}import(t){return t.on("data",r=>{this.write(r)}),t.on("end",()=>{this.end()}),t.on("error",r=>{this.emit("error",r)}),t.on("prefix",(r,n)=>{this._writer.addPrefix(r,n)}),this}}const LQ={Lexer:RT,Parser:Gy,Writer:c0,Store:pn,StoreFactory:m4,EntityIndex:CT,StreamParser:_4,StreamWriter:b4,Util:a4,Reasoner:g4,DataFactory:Ei,Term:ri,NamedNode:zy,Literal:Pu,BlankNode:AT,Variable:IT,DefaultGraph:PT,Quad:Fu,Triple:Fu,termFromId:Cs,termToId:xo},MQ=Object.freeze(Object.defineProperty({__proto__:null,BlankNode:AT,DataFactory:Ei,DefaultGraph:PT,EntityIndex:CT,Lexer:RT,Literal:Pu,NamedNode:zy,Parser:Gy,Quad:Fu,Reasoner:g4,Store:pn,StoreFactory:m4,StreamParser:_4,StreamWriter:b4,Term:ri,Triple:Fu,Util:a4,Variable:IT,Writer:c0,default:LQ,getRulesFromDataset:y4,termFromId:Cs,termToId:xo},Symbol.toStringTag,{value:"Module"}));let FA=0;class Hr{constructor(t){Qe(this,"_exec");Qe(this,"index");this._exec=t,this.index=FA,FA+=1}asMulti(){return new Hn((t,r,n)=>this.execute(t,n))}and(...t){return new Hr((r,n,i)=>{const a=this.execute(r,i),o=t.map(s=>s.execute(r,i));return[a,...o]})}orM(...t){return new Hn((r,n,i)=>[this,...t].flatMap(o=>{try{return[o.execute(r,i)]}catch{return[]}}))}or(...t){return new Hr((r,n,i)=>{try{return this.execute(r,i)}catch{for(let o=0;o<t.length;o++)try{return t[o].execute(r,i)}catch{}}throw"nope"})}map(t){return new Hr((r,n,i)=>{const a=this.execute(r,i);return t(a)})}then(t){return new Hr((r,n,i)=>{const a=this.execute(r,i);return t.execute(a,i)})}execute(t,r=[]){return r[this.index]||(r[this.index]={}),this._exec(t,r[this.index],r)}}class Hn extends Hr{one(t){return new Hr((r,n,i)=>this.execute(r,i)[0]||t)}expectOne(){return new Hr((t,r,n)=>{const i=this.execute(t,n);if(i.length<1)throw"Nope";return i[0]})}thenAll(t){return new Hn((r,n,i)=>this.execute(r,i).flatMap(o=>{try{return[t.execute(o,i)]}catch{return[]}}))}thenSome(t){return this.thenAll(t)}thenFlat(t){return new Hn((r,n,i)=>this.execute(r,i).flatMap(o=>t.execute(o,i)))}mapAll(t){return new Hn((r,n,i)=>this.execute(r,i).map(t))}orAll(...t){return new Hn((r,n,i)=>{const a=[];try{a.push(...this.execute(r,i))}catch{}for(let o=0;o<t.length;o++)try{a.push(...t[o].execute(r,i))}catch{}return a})}filter(t){return new Hn((r,n,i)=>this.execute(r,i).filter(t))}reduce(t,r){return new Hr((n,i,a)=>this.and(r).map(([s,l])=>s.reduce((u,f)=>t.execute([f,u],a),l)).execute(n,a))}}function Jn(e){return new Hn(({quads:t,id:r})=>t.filter(i=>i.subject.equals(r)&&(!e||i.predicate.equals(e))).map(i=>({quads:t,id:i.object})))}function Z_(e){return new Hn(({quads:t,id:r})=>t.filter(i=>i.object.equals(r)&&(!e||i.predicate.equals(e))).map(i=>({quads:t,id:i.subject})))}new Hr(({id:e,quads:t})=>({id:e.subject,quads:t}));new Hr(({id:e,quads:t})=>({id:e.predicate,quads:t}));new Hr(({id:e,quads:t})=>({id:e.object,quads:t}));function kQ(){return new Hr(e=>e)}var Ul={},Y_={},jA;function FQ(){return jA||(jA=1,Y_.__esModule=!0),Y_}var X_={},qA;function jQ(){return qA||(qA=1,X_.__esModule=!0),X_}var J_={},BA;function qQ(){return BA||(BA=1,J_.__esModule=!0),J_}var eb={},$A;function BQ(){return $A||($A=1,eb.__esModule=!0),eb}var tb={},UA;function $Q(){return UA||(UA=1,function(e){e.__esModule=!0,e.RelationType=void 0,function(t){t.Relation="https://w3id.org/tree#Relation",t.Substring="https://w3id.org/tree#SubstringRelation",t.Prefix="https://w3id.org/tree#PrefixRelation",t.Suffix="https://w3id.org/tree#SuffixRelation",t.GreaterThan="https://w3id.org/tree#GreaterThanRelation",t.GreaterThanOrEqualTo="https://w3id.org/tree#GreaterThanOrEqualToRelation",t.LessThan="https://w3id.org/tree#LessThanRelation",t.LessThanOrEqualTo="https://w3id.org/tree#LessThanOrEqualToRelation",t.EqualThan="https://w3id.org/tree#EqualThanRelation",t.GeospatiallyContains="https://w3id.org/tree#GeospatiallyContainsRelation"}(e.RelationType||(e.RelationType={}))}(tb)),tb}var us={},iy={exports:{}},UQ=iy.exports,VA;function VQ(){return VA||(VA=1,function(e){(function(t,r){e.exports?e.exports=r():t.log=r()})(UQ,function(){var t=function(){},r="undefined",n=typeof window!==r&&typeof window.navigator!==r&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"],a={},o=null;function s(v,_){var y=v[_];if(typeof y.bind=="function")return y.bind(v);try{return Function.prototype.bind.call(y,v)}catch{return function(){return Function.prototype.apply.apply(y,[v,arguments])}}}function l(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function u(v){return v==="debug"&&(v="log"),typeof console===r?!1:v==="trace"&&n?l:console[v]!==void 0?s(console,v):console.log!==void 0?s(console,"log"):t}function f(){for(var v=this.getLevel(),_=0;_<i.length;_++){var y=i[_];this[y]=_<v?t:this.methodFactory(y,v,this.name)}if(this.log=this.debug,typeof console===r&&v<this.levels.SILENT)return"No console available for logging"}function d(v){return function(){typeof console!==r&&(f.call(this),this[v].apply(this,arguments))}}function c(v,_,y){return u(v)||d.apply(this,arguments)}function p(v,_){var y=this,m,g,S,x="loglevel";typeof v=="string"?x+=":"+v:typeof v=="symbol"&&(x=void 0);function I(j){var P=(i[j]||"silent").toUpperCase();if(!(typeof window===r||!x)){try{window.localStorage[x]=P;return}catch{}try{window.document.cookie=encodeURIComponent(x)+"="+P+";"}catch{}}}function N(){var j;if(!(typeof window===r||!x)){try{j=window.localStorage[x]}catch{}if(typeof j===r)try{var P=window.document.cookie,B=encodeURIComponent(x),Y=P.indexOf(B+"=");Y!==-1&&(j=/^([^;]+)/.exec(P.slice(Y+B.length+1))[1])}catch{}return y.levels[j]===void 0&&(j=void 0),j}}function q(){if(!(typeof window===r||!x)){try{window.localStorage.removeItem(x)}catch{}try{window.document.cookie=encodeURIComponent(x)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}function D(j){var P=j;if(typeof P=="string"&&y.levels[P.toUpperCase()]!==void 0&&(P=y.levels[P.toUpperCase()]),typeof P=="number"&&P>=0&&P<=y.levels.SILENT)return P;throw new TypeError("log.setLevel() called with invalid level: "+j)}y.name=v,y.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},y.methodFactory=_||c,y.getLevel=function(){return S??g??m},y.setLevel=function(j,P){return S=D(j),P!==!1&&I(S),f.call(y)},y.setDefaultLevel=function(j){g=D(j),N()||y.setLevel(j,!1)},y.resetLevel=function(){S=null,q(),f.call(y)},y.enableAll=function(j){y.setLevel(y.levels.TRACE,j)},y.disableAll=function(j){y.setLevel(y.levels.SILENT,j)},y.rebuild=function(){if(o!==y&&(m=D(o.getLevel())),f.call(y),o===y)for(var j in a)a[j].rebuild()},m=D(o?o.getLevel():"WARN");var M=N();M!=null&&(S=D(M)),f.call(y)}o=new p,o.getLogger=function(_){if(typeof _!="symbol"&&typeof _!="string"||_==="")throw new TypeError("You must supply a name when creating a logger.");var y=a[_];return y||(y=a[_]=new p(_,o.methodFactory)),y};var b=typeof window!==r?window.log:void 0;return o.noConflict=function(){return typeof window!==r&&window.log===o&&(window.log=b),o},o.getLoggers=function(){return a},o.default=o,o})}(iy)),iy.exports}var ay={exports:{}},HQ=ay.exports,HA;function zQ(){return HA||(HA=1,function(e){(function(t,r){e.exports?e.exports=r():t.prefix=r(t)})(HQ,function(t){var r=function(f){for(var d=1,c=arguments.length,p;d<c;d++)for(p in arguments[d])Object.prototype.hasOwnProperty.call(arguments[d],p)&&(f[p]=arguments[d][p]);return f},n={template:"[%t] %l:",levelFormatter:function(f){return f.toUpperCase()},nameFormatter:function(f){return f||"root"},timestampFormatter:function(f){return f.toTimeString().replace(/.*(\d{2}:\d{2}:\d{2}).*/,"$1")},format:void 0},i,a={},o=function(f){if(!f||!f.getLogger)throw new TypeError("Argument is not a root logger");i=f},s=function(f,d){if(!f||!f.setLevel)throw new TypeError("Argument is not a logger");var c=f.methodFactory,p=f.name||"",b=a[p]||a[""]||n;function v(_,y,m){var g=c(_,y,m),S=a[m]||a[""],x=S.template.indexOf("%t")!==-1,I=S.template.indexOf("%l")!==-1,N=S.template.indexOf("%n")!==-1;return function(){for(var q="",D=arguments.length,M=Array(D),j=0;j<D;j++)M[j]=arguments[j];if(p||!a[m]){var P=S.timestampFormatter(new Date),B=S.levelFormatter(_),Y=S.nameFormatter(m);S.format?q+=S.format(B,Y,P):(q+=S.template,x&&(q=q.replace(/%t/,P)),I&&(q=q.replace(/%l/,B)),N&&(q=q.replace(/%n/,Y))),M.length&&typeof M[0]=="string"?M[0]=q+" "+M[0]:M.unshift(q)}g.apply(void 0,M)}}return a[p]||(f.methodFactory=v),d=d||{},d.template&&(d.format=void 0),a[p]=r({},b,d),f.setLevel(f.getLevel()),i||f.warn("It is necessary to call the function reg() of loglevel-plugin-prefix before calling apply. From the next release, it will throw an error. See more: https://github.com/kutuluk/loglevel-plugin-prefix/blob/master/README.md"),f},l={reg:o,apply:s},u;return t&&(u=t.prefix,l.noConflict=function(){return t.prefix===l&&(t.prefix=u),l}),l})}(ay)),ay.exports}var zA;function GQ(){if(zA)return us;zA=1,us.__esModule=!0,us.getLogger=us.LoggerBrowser=void 0;var e=VQ(),t=zQ(),r=function(){function a(o,s){var l=typeof o=="string"?o:o.constructor.name;s=s&&n(s)?s:"info",e.setDefaultLevel("info"),s&&n(s)&&e.setLevel(s),t.reg(e),t.apply(e,{template:"%t [%n] %l:",levelFormatter:function(u){return u},nameFormatter:function(u){return u||"global"},timestampFormatter:function(u){return u.toISOString()}}),this.logger=e.getLogger(l)}return a.prototype.error=function(o){this.logger.error(o)},a.prototype.warn=function(o){this.logger.warn(o)},a.prototype.info=function(o){this.logger.info(o)},a.prototype.debug=function(o){this.logger.debug(o)},a.prototype.trace=function(o){this.logger.trace(o)},a}();us.LoggerBrowser=r;function n(a){return a=a.toUpperCase(),Object.keys(e.levels).includes(a)}var i=function(a){return new r(a,"info")};return us.getLogger=i,us}var Mt={},Vl={},Hl={},GA;function v4(){if(GA)return Hl;GA=1,Object.defineProperty(Hl,"__esModule",{value:!0}),Hl.BlankNode=void 0;class e{constructor(r){this.termType="BlankNode",this.value=r}equals(r){return!!r&&r.termType==="BlankNode"&&r.value===this.value}}return Hl.BlankNode=e,Hl}var zl={},Gl={},WA;function w4(){if(WA)return Gl;WA=1,Object.defineProperty(Gl,"__esModule",{value:!0}),Gl.DefaultGraph=void 0;class e{constructor(){this.termType="DefaultGraph",this.value=""}equals(r){return!!r&&r.termType==="DefaultGraph"}}return Gl.DefaultGraph=e,e.INSTANCE=new e,Gl}var Wl={},Kl={},KA;function LT(){if(KA)return Kl;KA=1,Object.defineProperty(Kl,"__esModule",{value:!0}),Kl.NamedNode=void 0;class e{constructor(r){this.termType="NamedNode",this.value=r}equals(r){return!!r&&r.termType==="NamedNode"&&r.value===this.value}}return Kl.NamedNode=e,Kl}var QA;function S4(){if(QA)return Wl;QA=1,Object.defineProperty(Wl,"__esModule",{value:!0}),Wl.Literal=void 0;const e=LT();class t{constructor(n,i){this.termType="Literal",this.value=n,typeof i=="string"?(this.language=i,this.datatype=t.RDF_LANGUAGE_STRING):i?(this.language="",this.datatype=i):(this.language="",this.datatype=t.XSD_STRING)}equals(n){return!!n&&n.termType==="Literal"&&n.value===this.value&&n.language===this.language&&this.datatype.equals(n.datatype)}}return Wl.Literal=t,t.RDF_LANGUAGE_STRING=new e.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.XSD_STRING=new e.NamedNode("http://www.w3.org/2001/XMLSchema#string"),Wl}var Ql={},ZA;function E4(){if(ZA)return Ql;ZA=1,Object.defineProperty(Ql,"__esModule",{value:!0}),Ql.Quad=void 0;class e{constructor(r,n,i,a){this.termType="Quad",this.value="",this.subject=r,this.predicate=n,this.object=i,this.graph=a}equals(r){return!!r&&(r.termType==="Quad"||!r.termType)&&this.subject.equals(r.subject)&&this.predicate.equals(r.predicate)&&this.object.equals(r.object)&&this.graph.equals(r.graph)}}return Ql.Quad=e,Ql}var Zl={},YA;function T4(){if(YA)return Zl;YA=1,Object.defineProperty(Zl,"__esModule",{value:!0}),Zl.Variable=void 0;class e{constructor(r){this.termType="Variable",this.value=r}equals(r){return!!r&&r.termType==="Variable"&&r.value===this.value}}return Zl.Variable=e,Zl}var XA;function WQ(){if(XA)return zl;XA=1,Object.defineProperty(zl,"__esModule",{value:!0}),zl.DataFactory=void 0;const e=v4(),t=w4(),r=S4(),n=LT(),i=E4(),a=T4();let o=0;class s{constructor(u){this.blankNodeCounter=0,u=u||{},this.blankNodePrefix=u.blankNodePrefix||`df_${o++}_`}namedNode(u){return new n.NamedNode(u)}blankNode(u){return new e.BlankNode(u||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(u,f){return new r.Literal(u,f)}variable(u){return new a.Variable(u)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(u,f,d,c){return new i.Quad(u,f,d,c||this.defaultGraph())}fromTerm(u){switch(u.termType){case"NamedNode":return this.namedNode(u.value);case"BlankNode":return this.blankNode(u.value);case"Literal":return u.language?this.literal(u.value,u.language):u.datatype.equals(r.Literal.XSD_STRING)?this.literal(u.value):this.literal(u.value,this.fromTerm(u.datatype));case"Variable":return this.variable(u.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(u.subject),this.fromTerm(u.predicate),this.fromTerm(u.object),this.fromTerm(u.graph))}}fromQuad(u){return this.fromTerm(u)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return zl.DataFactory=s,zl}var JA;function KQ(){return JA||(JA=1,function(e){var t=Vl.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=Vl.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(v4(),e),r(WQ(),e),r(w4(),e),r(S4(),e),r(LT(),e),r(E4(),e),r(T4(),e)}(Vl)),Vl}var eI;function QQ(){if(eI)return Mt;eI=1;var e=Mt.__spreadArray||function(s,l,u){if(u||arguments.length===2)for(var f=0,d=l.length,c;f<d;f++)(c||!(f in l))&&(c||(c=Array.prototype.slice.call(l,0,f)),c[f]=l[f]);return s.concat(c||Array.prototype.slice.call(l))};Mt.__esModule=!0,Mt.EX=Mt.SHACL=Mt.VOID=Mt.PPLAN=Mt.PROV=Mt.SDS=Mt.LDES=Mt.TREE=Mt.XSD=Mt.RDFS=Mt.RDF=Mt.FOAF=Mt.DC=Mt.createUriAndTermNamespace=Mt.createTermNamespace=Mt.createUriNamespace=Mt.createNamespace=void 0;var t=KQ(),r=new t.DataFactory;function n(s,l){for(var u=[],f=2;f<arguments.length;f++)u[f-2]=arguments[f];var d={};d.namespace=l(s),d.custom=function(v){return l(s+v)};for(var c=0,p=u;c<p.length;c++){var b=p[c];d[b]=l("".concat(s).concat(b))}return d}Mt.createNamespace=n;function i(s){for(var l=[],u=1;u<arguments.length;u++)l[u-1]=arguments[u];return n.apply(void 0,e([s,function(f){return f}],l,!1))}Mt.createUriNamespace=i;function a(s){for(var l=[],u=1;u<arguments.length;u++)l[u-1]=arguments[u];return n.apply(void 0,e([s,r.namedNode],l,!1))}Mt.createTermNamespace=a;function o(s){for(var l=[],u=1;u<arguments.length;u++)l[u-1]=arguments[u];return Object.assign(i.apply(void 0,e([s],l,!1)),{terms:a.apply(void 0,e([s],l,!1))})}return Mt.createUriAndTermNamespace=o,Mt.DC=o("http://purl.org/dc/terms/","description","modified","title"),Mt.FOAF=o("http://xmlns.com/foaf/0.1/","Agent"),Mt.RDF=o("http://www.w3.org/1999/02/22-rdf-syntax-ns#","type","Class","Property","nil","rest","first"),Mt.RDFS=o("http://www.w3.org/2000/01/rdf-schema#","label","comment","domain","range","isDefinedBy","Class","subClassOf"),Mt.XSD=o("http://www.w3.org/2001/XMLSchema#","dateTime","integer","string"),Mt.TREE=o("https://w3id.org/tree#","Collection","Relation","Node","Member","member","view","value","relation","PrefixRelation","SubstringRelation","SuffixRelation","GreaterThanRelation","GreaterThanOrEqualToRelation","LessThanRelation","LessThanOrEqualToRelation","EqualToRelation","GeospatiallyContainsRelation","path","node","shape","search","ConditionalImport","import","importStream","remainingItems","zoom","latitudeTile","longitudeTile"),Mt.LDES=o("https://w3id.org/ldes#","EventStream","timestampPath","versionOfPath","DurationAgoPolicy","Bucketization","retentionPolicy","amount","bucket","bucketProperty","bucketType","LatestVersionSubset","BucketizeStrategy"),Mt.SDS=o("https://w3id.org/sds#","Member","Record","ImmutableMember","shape","carries","dataset","Stream","payload","bucket","relationType","relationBucket","relationValue","relationPath","stream","relation"),Mt.PROV=o("http://www.w3.org/ns/prov#","used","startedAtTime","wasGeneratedBy"),Mt.PPLAN=o("http://purl.org/net/p-plan#","Activity"),Mt.VOID=o("http://rdfs.org/ns/void#","Dataset","DatasetDescription","Linkset","TechnicalFeature","feature","sparqlEndpoint","dataDump","rootResource","exampleResource","uriLookupEndpoint","openSearchDescription","uriSpace","uriRegexPattern","vocabulary","subset","propertyPartition","triples","entities","class","classes","classPartition","property","properties","distinctSubjects","distinctObjects","documents","target","subjectsTarget","objectsTarget","linkPredicate","inDataset"),Mt.SHACL=o("http://www.w3.org/ns/shacl#","NodeShape","targetClass","property","path","name","alternativePath","datatype","nodeKind","pattern","flags","minExclusive","minInclusive","maxExclusive","maxInclusive","not","and","or","xone","in","hasValue","defaultValue","minCount","maxCount"),Mt.EX=o("http://example.org/ns#"),Mt}var tI;function x4(){return tI||(tI=1,function(e){var t=Ul.__createBinding||(Object.create?function(i,a,o,s){s===void 0&&(s=o),Object.defineProperty(i,s,{enumerable:!0,get:function(){return a[o]}})}:function(i,a,o,s){s===void 0&&(s=o),i[s]=a[o]}),r=Ul.__exportStar||function(i,a){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(a,o)&&t(a,i,o)};e.__esModule=!0,e.getLogger=e.Logger=e.LoggerBrowser=void 0,r(FQ(),e),r(jQ(),e),r(qQ(),e),r(BQ(),e),r($Q(),e);var n=GQ();t(e,n,"LoggerBrowser"),t(e,n,"LoggerBrowser","Logger"),t(e,n,"getLogger"),r(QQ(),e)}(Ul)),Ul}var mt=x4(),Yl={},Xl={},rI;function R4(){if(rI)return Xl;rI=1,Object.defineProperty(Xl,"__esModule",{value:!0}),Xl.BlankNode=void 0;class e{constructor(r){this.termType="BlankNode",this.value=r}equals(r){return!!r&&r.termType==="BlankNode"&&r.value===this.value}}return Xl.BlankNode=e,Xl}var Jl={},ef={},nI;function A4(){if(nI)return ef;nI=1,Object.defineProperty(ef,"__esModule",{value:!0}),ef.DefaultGraph=void 0;class e{constructor(){this.termType="DefaultGraph",this.value=""}equals(r){return!!r&&r.termType==="DefaultGraph"}}return ef.DefaultGraph=e,e.INSTANCE=new e,ef}var tf={},rf={},iI;function MT(){if(iI)return rf;iI=1,Object.defineProperty(rf,"__esModule",{value:!0}),rf.NamedNode=void 0;class e{constructor(r){this.termType="NamedNode",this.value=r}equals(r){return!!r&&r.termType==="NamedNode"&&r.value===this.value}}return rf.NamedNode=e,rf}var aI;function I4(){if(aI)return tf;aI=1,Object.defineProperty(tf,"__esModule",{value:!0}),tf.Literal=void 0;const e=MT();class t{constructor(n,i){this.termType="Literal",this.value=n,typeof i=="string"?(this.language=i,this.datatype=t.RDF_LANGUAGE_STRING,this.direction=""):i?"termType"in i?(this.language="",this.datatype=i,this.direction=""):(this.language=i.language,this.datatype=i.direction?t.RDF_DIRECTIONAL_LANGUAGE_STRING:t.RDF_LANGUAGE_STRING,this.direction=i.direction||""):(this.language="",this.datatype=t.XSD_STRING,this.direction="")}equals(n){return!!n&&n.termType==="Literal"&&n.value===this.value&&n.language===this.language&&(n.direction===this.direction||!n.direction&&this.direction==="")&&this.datatype.equals(n.datatype)}}return tf.Literal=t,t.RDF_LANGUAGE_STRING=new e.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.RDF_DIRECTIONAL_LANGUAGE_STRING=new e.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#dirLangString"),t.XSD_STRING=new e.NamedNode("http://www.w3.org/2001/XMLSchema#string"),tf}var nf={},oI;function P4(){if(oI)return nf;oI=1,Object.defineProperty(nf,"__esModule",{value:!0}),nf.Quad=void 0;class e{constructor(r,n,i,a){this.termType="Quad",this.value="",this.subject=r,this.predicate=n,this.object=i,this.graph=a}equals(r){return!!r&&(r.termType==="Quad"||!r.termType)&&this.subject.equals(r.subject)&&this.predicate.equals(r.predicate)&&this.object.equals(r.object)&&this.graph.equals(r.graph)}}return nf.Quad=e,nf}var af={},sI;function O4(){if(sI)return af;sI=1,Object.defineProperty(af,"__esModule",{value:!0}),af.Variable=void 0;class e{constructor(r){this.termType="Variable",this.value=r}equals(r){return!!r&&r.termType==="Variable"&&r.value===this.value}}return af.Variable=e,af}var uI;function ZQ(){if(uI)return Jl;uI=1,Object.defineProperty(Jl,"__esModule",{value:!0}),Jl.DataFactory=void 0;const e=R4(),t=A4(),r=I4(),n=MT(),i=P4(),a=O4();let o=0;class s{constructor(u){this.blankNodeCounter=0,u=u||{},this.blankNodePrefix=u.blankNodePrefix||`df_${o++}_`}namedNode(u){return new n.NamedNode(u)}blankNode(u){return new e.BlankNode(u||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(u,f){return new r.Literal(u,f)}variable(u){return new a.Variable(u)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(u,f,d,c){return new i.Quad(u,f,d,c||this.defaultGraph())}fromTerm(u){switch(u.termType){case"NamedNode":return this.namedNode(u.value);case"BlankNode":return this.blankNode(u.value);case"Literal":return u.language?this.literal(u.value,u.language):u.datatype.equals(r.Literal.XSD_STRING)?this.literal(u.value):this.literal(u.value,this.fromTerm(u.datatype));case"Variable":return this.variable(u.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(u.subject),this.fromTerm(u.predicate),this.fromTerm(u.object),this.fromTerm(u.graph))}}fromQuad(u){return this.fromTerm(u)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return Jl.DataFactory=s,Jl}var lI;function YQ(){return lI||(lI=1,function(e){var t=Yl.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=Yl.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(R4(),e),r(ZQ(),e),r(A4(),e),r(I4(),e),r(MT(),e),r(P4(),e),r(O4(),e)}(Yl)),Yl}var by=YQ();mt.createTermNamespace("http://www.w3.org/2000/01/rdf-schema#","subClassOf");const Pp=mt.createTermNamespace("http://www.w3.org/ns/shacl#","Shape","NodeShape","PropertyShape","targetNode","targetClass","targetSubjectsOf","targetObjectsOf","property","path","class","name","description","defaultValue","alternativePath","zeroOrMorePath","oneOrMorePath","zeroOrOnePath","inversePath","minCount","maxCount","datatype"),of=mt.createUriAndTermNamespace("https://w3id.org/rdf-lens/ontology#","CBD","PathLens","Context","TypedExtract","EnvVariable","envKey","envDefault","datatype");var XQ={};const{literal:JQ,quad:mae}=new by.DataFactory,eZ=Jn(mt.RDF.terms.first).expectOne().and(Jn(mt.RDF.terms.rest).expectOne()),Yy=new Hr((e,t,r)=>{if(e.id.equals(mt.RDF.terms.nil))return[];const[n,i]=eZ.execute(e,r),a=Yy.execute(i,r);return a.unshift(n.id),a}),tZ=new Hr((e,t,r)=>{const n=Yy.execute(e,r),i=n.map(o=>kT.execute({id:o,quads:e.quads}));if(i.length===0)return new Hn(o=>[o]);let a=i[0];for(let o=1;o<n.length;o++)a=a.thenFlat(i[o]);return a}),rZ=new Hr((e,t,r)=>{const i=Jn(Pp.alternativePath).one().then(Yy).execute(e,r).map(a=>kT.execute({id:a,quads:e.quads},r));return i[0].orAll(...i.slice(1))}),nZ=oZ(mt.XSD.terms.custom("iri")).map(Jn),iZ=Jn(Pp.inversePath).one().then(new Hr((e,t,r)=>{const n=Yy.execute(e,r);if(n.length===0)return new Hn(a=>[a]);n.reverse();let i=Z_(n[0]);for(let a=1;a<n.length;a++)i=i.thenFlat(Z_(n[a]));return i}).or(new Hr(e=>Z_(e.id))));function rb(e,t,r){return Jn(e).one().then(new Hr((n,i,a)=>kT.execute(n,a))).map(n=>new Hn((i,a,o)=>{const s=[];let l=[i],u=0;for(t==0&&s.push(i);l.length>0;){u+=1;const f=l.slice();l=[];for(const d of f)try{const c=n.execute(d,o);console.log("adding ",c.length,"news"),l.push(...c),u>=t&&(!r||u<=r)&&s.push(d)}catch(c){console.log(c),u>=t&&(!r||u<=r)&&s.push(d);break}}return s}))}const kT=tZ.or(rZ,iZ,rb(Pp.zeroOrMorePath,0),rb(Pp.zeroOrMorePath,1),rb(Pp.zeroOrOnePath,0,1),nZ);function N4(e,t){return e.equals(mt.XSD.terms.integer)||e.equals(mt.XSD.terms.custom("float"))||e.equals(mt.XSD.terms.custom("double"))||e.equals(mt.XSD.terms.custom("decimal"))?+t.value:e.equals(mt.XSD.terms.string)?t.value:e.equals(mt.XSD.terms.dateTime)?new Date(t.value):e.equals(mt.XSD.terms.custom("boolean"))?t.value==="true":e.equals(mt.XSD.terms.custom("iri"))?new by.NamedNode(t.value):e.equals(mt.XSD.terms.custom("anyURI"))?new by.NamedNode(t.value):t}function aZ(e){const t=Jn(mt.RDF.terms.type).thenSome(new Hr(({id:a})=>{if(!a.equals(of.terms.EnvVariable))throw"expected type "+of.EnvVariable;return{checked:!0}})).expectOne(),r=Jn(of.terms.envKey).one().map(({id:a})=>({key:a.value})),n=Jn(of.terms.envDefault).one(void 0).map(a=>({defaultValue:a==null?void 0:a.id.value})),i=Jn(of.terms.datatype).one(void 0).map(a=>({dt:a==null?void 0:a.id}));return t.and(r,n,i).map(([a,{key:o},{defaultValue:s},{dt:l}])=>{const u=XQ[o]||s,f=e||l||mt.XSD.terms.custom("literal");if(u)return N4(f,JQ(u));throw"Nothing set for ENV "+o+". No default was set either!"})}function oZ(e){return aZ(e).or(kQ().map(t=>N4(e,t.id)))}new Hn(({id:e,quads:t})=>{const r=new Set,n=[e],i=[];let a=n.pop();for(;a;){const o=t.filter(s=>s.subject.equals(a));i.push(...o);for(const s of o){const l=s.object;l.termType==="BlankNode"&&(r.has(l.value)||(r.add(l.value),n.push(l)))}a=n.pop()}return i});var sf={},uf={},lf={},nb={},ff={},fI;function sZ(){if(fI)return ff;fI=1,Object.defineProperty(ff,"__esModule",{value:!0}),ff.LinkedList=void 0;class e{constructor(){this._length=0,this._head=null,this._tail=null}get length(){return this._length}get first(){var r;return(r=this._head)===null||r===void 0?void 0:r.value}get last(){var r;return(r=this._tail)===null||r===void 0?void 0:r.value}get empty(){return this._head===null}push(r){const n={value:r,next:null};this._tail===null?this._head=this._tail=n:this._tail.next=this._tail=n,this._length++}shift(){if(this._head===null)return;const{value:r,next:n}=this._head;return this._head=n,n===null&&(this._tail=null),this._length--,r}clear(){this._length=0,this._head=this._tail=null}}return ff.LinkedList=e,ff}var cf={},cI;function uZ(){if(cI)return cf;cI=1,Object.defineProperty(cf,"__esModule",{value:!0}),cf.createTaskScheduler=void 0;const e=Promise.resolve(void 0);function t(){const r=typeof queueMicrotask=="function"?queueMicrotask:o=>e.then(o),n=typeof setImmediate=="function"?setImmediate:o=>setTimeout(o,0);let i=0,a=null;return o=>{a!==null?a.push(o):++i<100?r(o):(a=[o],n(()=>{for(const s of a)r(s);a=null,i=0}))}}return cf.createTaskScheduler=t,cf}var dI;function D4(){return dI||(dI=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isIterator=e.isIterable=e.isSourceExpression=e.isPromise=e.isEventEmitter=e.isFunction=e.range=e.union=e.fromIterable=e.fromIterator=e.fromArray=e.single=e.empty=e.wrap=e.WrappingIterator=e.ClonedIterator=e.UnionIterator=e.MultiTransformIterator=e.SimpleTransformIterator=e.TransformIterator=e.BufferedIterator=e.MappingIterator=e.DESTINATION=e.identity=e.IntegerIterator=e.ArrayIterator=e.SingletonIterator=e.EmptyIterator=e.AsyncIterator=e.DESTROYED=e.ENDED=e.CLOSED=e.CLOSING=e.OPEN=e.INIT=e.setTaskScheduler=e.getTaskScheduler=e.scheduleTask=e.LinkedList=void 0;const t=Wn(),r=sZ();Object.defineProperty(e,"LinkedList",{enumerable:!0,get:function(){return r.LinkedList}});let i=uZ().createTaskScheduler();function a(w){i(w)}e.scheduleTask=a;function o(){return i}e.getTaskScheduler=o;function s(w){i=w}e.setTaskScheduler=s,e.INIT=1,e.OPEN=2,e.CLOSING=4,e.CLOSED=8,e.ENDED=16,e.DESTROYED=32;class l extends t.EventEmitter{constructor(T=e.OPEN){super(),this._readable=!1,this._state=T,this.on("newListener",u)}_changeState(T,k=!1){const U=T>this._state&&this._state<e.ENDED;return U&&(this._state=T,T===e.ENDED&&(k?i(()=>this.emit("end")):this.emit("end"))),U}read(){return null}forEach(T,k){this.on("data",ee(T,k))}close(){this._changeState(e.CLOSED)&&this._endAsync()}destroy(T){this.done||this._destroy(T,k=>{T=T||k,T&&this.emit("error",T),this._end(!0)})}_destroy(T,k){k()}_end(T=!1){this._changeState(T?e.DESTROYED:e.ENDED)&&(this._readable=!1,this.removeAllListeners("readable"),this.removeAllListeners("data"),this.removeAllListeners("end"))}_endAsync(){i(()=>this._end())}get readable(){return this._readable}set readable(T){T=!!T&&!this.done,this._readable!==T&&(this._readable=T,T&&i(()=>this.emit("readable")))}get closed(){return this._state>=e.CLOSING}get ended(){return this._state===e.ENDED}get destroyed(){return this._state===e.DESTROYED}get done(){return this._state>=e.ENDED}toString(){const T=this._toStringDetails();return`[${this.constructor.name}${T?` ${T}`:""}]`}_toStringDetails(){return""}toArray(T){const k=[],U=typeof(T==null?void 0:T.limit)=="number"?T.limit:1/0;return this.ended||U<=0?Promise.resolve(k):new Promise((re,fe)=>{const ve=()=>re(k),ce=Ie=>{k.push(Ie),k.length>=U&&(this.removeListener("error",fe),this.removeListener("data",ce),this.removeListener("end",ve),re(k))};this.on("error",fe),this.on("data",ce),this.on("end",ve)})}getProperty(T,k){const U=this._properties;if(!k)return U&&U[T];if(U&&T in U)i(()=>k(U[T]));else{let re;(re=this._propertyCallbacks)||(this._propertyCallbacks=re=Object.create(null)),T in re?re[T].push(k):re[T]=[k]}}setProperty(T,k){const U=this._properties||(this._properties=Object.create(null));U[T]=k;const re=this._propertyCallbacks||{},fe=re[T];if(fe){delete re[T],i(()=>{for(const ve of fe)ve(k)});for(T in re)return;delete this._propertyCallbacks}}getProperties(){const T=this._properties,k={};for(const U in T)k[U]=T[U];return k}setProperties(T){for(const k in T)this.setProperty(k,T[k])}copyProperties(T,k){for(const U of k)T.getProperty(U,re=>this.setProperty(U,re))}transform(T){return new M(this,T)}map(T,k){return new y(this,ee(T,k))}filter(T,k){return this.map(function(U){return T.call(k||this,U)?U:null})}uniq(T=_){const k=new Set;return this.filter(function(U){const re=T.call(this,U);return k.has(re)?!1:(k.add(re),!0)})}prepend(T){return this.transform({prepend:T})}append(T){return this.transform({append:T})}surround(T,k){return this.transform({prepend:T,append:k})}skip(T){return this.map(k=>T-- >0?null:k)}take(T){return this.transform({limit:T})}range(T,k){return this.transform({offset:T,limit:Math.max(k-T+1,0)})}clone(){return new Y(this)}[Symbol.asyncIterator](){const T=this;let k=null,U=null,re=null;T.addListener("readable",fe),T.addListener("end",fe),T.addListener("error",ve);function fe(){if(k!==null)if(re!==null)ve(re);else if(T.done)k({done:!0,value:void 0}),k=U=null,ce();else{const Ie=T.read();Ie!==null&&(k({done:!1,value:Ie}),k=U=null)}}function ve(Ie){U!==null?(U(Ie),k=U=re=null,ce()):re===null&&(re=Ie)}function ce(){T.removeListener("readable",fe),T.removeListener("end",fe),T.removeListener("error",ve)}return{next(){return new Promise((Ie,be)=>{k=Ie,U=be,fe()})}}}}e.AsyncIterator=l;function u(w){w==="data"&&(this.removeListener("newListener",u),d(this,"readable",f),this.readable&&i(()=>f.call(this)))}function f(){let w;for(;this.listenerCount("data")!==0&&(w=this.read())!==null;)this.emit("data",w);this.listenerCount("data")===0&&!this.done&&(this.removeListener("readable",f),d(this,"newListener",u))}function d(w,T,k){w.listeners(T).includes(k)||w.on(T,k)}class c extends l{constructor(){super(),this._changeState(e.ENDED,!0)}}e.EmptyIterator=c;class p extends l{constructor(T){super(),this._item=T,T===null?this.close():this.readable=!0}read(){const T=this._item;return this._item=null,this.close(),T}_toStringDetails(){return this._item===null?"":`(${this._item})`}}e.SingletonIterator=p;class b extends l{constructor(T=[],{autoStart:k=!0,preserve:U=!0}={}){super();const re=U||!Array.isArray(T)?[...T]:T;this._index=0,this._sourceStarted=k!==!1,this._truncateThreshold=U?-1:64,this._sourceStarted&&re.length===0?this.close():this._buffer=re,this.readable=!0}read(){this._sourceStarted||(this._sourceStarted=!0);let T=null;return this._buffer&&(this._index<this._buffer.length&&(T=this._buffer[this._index++]),this._index===this._buffer.length?(delete this._buffer,this.close()):this._index===this._truncateThreshold&&(this._buffer.splice(0,this._truncateThreshold),this._index=0)),T}_toStringDetails(){return`(${this._buffer?this._buffer.length-this._index:0})`}_destroy(T,k){delete this._buffer,k()}toArray(T={}){if(!this._buffer)return Promise.resolve([]);const{length:k}=this._buffer,U=this._index,re=typeof T.limit!="number"?k:U+T.limit,fe=this._buffer.slice(U,re);return this._index=re,re>=k&&this.close(),Promise.resolve(fe)}}e.ArrayIterator=b;class v extends l{constructor({start:T=0,step:k=1,end:U}={}){super(),Number.isFinite(T)&&(T=Math.trunc(T)),this._next=T,Number.isFinite(k)&&(k=Math.trunc(k)),this._step=k;const re=k>=0,fe=re?1/0:-1/0;Number.isFinite(U)?U=Math.trunc(U):U!==-fe&&(U=fe),this._last=U,!Number.isFinite(T)||(re?T>U:T<U)?this.close():this.readable=!0}read(){if(this.closed)return null;const T=this._next,k=this._step,U=this._last,re=this._next+=k;return(k>=0?re>U:re<U)&&this.close(),T}_toStringDetails(){return`(${this._next}...${this._last})`}}e.IntegerIterator=v;function _(w){return w}e.identity=_,e.DESTINATION=Symbol("destination");class y extends l{constructor(T,k=_,U={}){super(),this._map=k,this._source=m(T),this._destroySource=U.destroySource!==!1,T.done?this.close():(this._source[e.DESTINATION]=this,this._source.on("end",N),this._source.on("error",I),this._source.on("readable",x),this.readable=this._source.readable)}read(){if(!this.done){if(this._source.readable){let T,k;for(;(T=this._source.read())!==null;)if((k=this._map(T))!==null)return k}this.readable=!1,this._source.done&&this.close()}return null}_end(T){this._source.removeListener("end",N),this._source.removeListener("error",I),this._source.removeListener("readable",x),delete this._source[e.DESTINATION],this._destroySource&&this._source.destroy(),super._end(T)}}e.MappingIterator=y;function m(w,T=!1){if(!w||!O(w.read)||!O(w.on))throw new TypeError(`Invalid source: ${w}`);if(!T&&w[e.DESTINATION])throw new Error("The source already has a destination");return w}class g extends l{constructor({maxBufferSize:T=4,autoStart:k=!0}={}){super(e.INIT),this._buffer=new r.LinkedList,this._maxBufferSize=4,this._reading=!0,this._pushedCount=0,this.maxBufferSize=T,i(()=>this._init(k)),this._sourceStarted=k!==!1}get maxBufferSize(){return this._maxBufferSize}set maxBufferSize(T){T!==1/0&&(T=Number.isFinite(T)?Math.max(Math.trunc(T),1):4),this._maxBufferSize!==T&&(this._maxBufferSize=T,this._state===e.OPEN&&this._fillBuffer())}_init(T){let k=!1;this._reading=!0,this._begin(()=>{if(k)throw new Error("done callback called multiple times");k=!0,this._reading=!1,this._changeState(e.OPEN),T?this._fillBufferAsync():this.readable=!0})}_begin(T){T()}read(){if(this.done)return null;this._sourceStarted||(this._sourceStarted=!0);const T=this._buffer;let k;return T.empty?(k=null,this.readable=!1):k=T.shift(),!this._reading&&T.length<this._maxBufferSize&&(this.closed?T.empty&&this._endAsync():this._fillBufferAsync()),k}_read(T,k){k()}_push(T){this.done||(this._pushedCount++,this._buffer.push(T),this.readable=!0)}_fillBuffer(){let T;this._reading||(this.closed?this._completeClose():(T=Math.min(this._maxBufferSize-this._buffer.length,128))>0&&(this._pushedCount=0,this._reading=!0,this._read(T,()=>{if(!T)throw new Error("done callback called multiple times");T=0,this._reading=!1,this.closed?this._completeClose():this._pushedCount&&(this.readable=!0,this._buffer.length<this._maxBufferSize/2&&this._fillBufferAsync())})))}_fillBufferAsync(){this._reading||(this._reading=!0,i(()=>{this._reading=!1,this._fillBuffer()}))}close(){this._reading?this._changeState(e.CLOSING):this._completeClose()}_completeClose(){this._changeState(e.CLOSED)&&(this._reading=!0,this._flush(()=>{if(!this._reading)throw new Error("done callback called multiple times");this._reading=!1,this._buffer.empty&&this._endAsync()}))}_destroy(T,k){this._buffer.clear(),k()}_flush(T){T()}_toStringDetails(){const T=this._buffer;return`{${T.empty?"":`next: ${T.first}, `}buffer: ${T.length}}`}}e.BufferedIterator=g;class S extends g{constructor(T,k=T||{}){super(k),this._boundPush=U=>this._push(U),te(T)||(T=k.source),A(T)?this.source=T:T&&(this._createSource=$(T)?()=>T:T,this._sourceStarted&&this._loadSourceAsync()),this._optional=!!k.optional,this._destroySource=k.destroySource!==!1}get source(){return O(this._createSource)&&this._loadSourceAsync(),this._source}set source(T){const k=this._source=this._validateSource(T);k[e.DESTINATION]=this,this.done?this._destroySource&&k.destroy():k.done?this.close():(k.on("end",q),k.on("readable",D),k.on("error",I))}_loadSourceAsync(){O(this._createSource)&&(Promise.resolve(this._createSource()).then(T=>{delete this._createSource,this.source=T,this._fillBuffer()},T=>this.emit("error",T)),this._createSource=null)}_validateSource(T,k=!1){if(this._source||typeof this._createSource<"u")throw new Error("The source cannot be changed after it has been set");return m(T,k)}_read(T,k){const U=()=>{this._pushedCount<T&&!this.closed?i(()=>this._readAndTransform(U,k)):k()};this._readAndTransform(U,k)}_readAndTransform(T,k){let U;const re=this.source;!re||re.done||(U=re.read())===null?k():this._optional?this._optionalTransform(U,T):this._transform(U,T,this._boundPush)}_optionalTransform(T,k){const U=this._pushedCount;this._transform(T,()=>{U===this._pushedCount&&this._push(T),k()},this._boundPush)}_transform(T,k,U){U(T),k()}_closeWhenDone(){this.close()}_end(T){const k=this._source;k&&(k.removeListener("end",q),k.removeListener("error",I),k.removeListener("readable",D),delete k[e.DESTINATION],this._destroySource&&k.destroy()),super._end(T)}}e.TransformIterator=S;function x(){this[e.DESTINATION].readable=!0}function I(w){this[e.DESTINATION].emit("error",w)}function N(){this[e.DESTINATION].close()}function q(){this[e.DESTINATION]._closeWhenDone()}function D(){this[e.DESTINATION]._sourceStarted!==!1&&this[e.DESTINATION]._fillBuffer()}class M extends S{constructor(T,k){if(super(T,k),this._offset=0,this._limit=1/0,this._filter=U=>!0,k=k||(te(T)?null:T),k){const U=O(k)?k:k.transform,{limit:re,offset:fe,filter:ve,map:ce,prepend:Ie,append:be}=k;fe===1/0||re===-1/0?this._limit=0:(Number.isFinite(fe)&&(this._offset=Math.max(Math.trunc(fe),0)),Number.isFinite(re)&&(this._limit=Math.max(Math.trunc(re),0)),O(ve)&&(this._filter=ve),O(ce)&&(this._map=ce),this._transform=O(U)?U:null),Ie&&(this._prepender=A(Ie)?Ie:H(Ie)),be&&(this._appender=A(be)?be:H(be))}}_read(T,k){const U=()=>this._readAndTransformSimple(T,re,k);this._readAndTransformSimple(T,re,k);function re(){i(U)}}_readAndTransformSimple(T,k,U){let re;const{source:fe}=this;if(!fe||fe.done){U();return}for(this._limit===0&&this.close();!this.closed&&this._pushedCount<T&&(re=fe.read())!==null;){if(!this._filter(re)||this._offset!==0&&this._offset--)continue;const ve=typeof this._map>"u"?re:this._map(re);if(ve===null)this._optional&&this._push(re);else if(!O(this._transform))this._push(ve);else{this._optional?this._optionalTransform(ve,k):this._transform(ve,k,this._boundPush);return}--this._limit===0&&this.close()}U()}_begin(T){this._insert(this._prepender,T),delete this._prepender}_flush(T){this._insert(this._appender,T),delete this._appender}_insert(T,k){const U=fe=>this._push(fe);!T||T.done?k():(T.on("data",U),T.on("end",re));function re(){T.removeListener("data",U),T.removeListener("end",re),k()}}}e.SimpleTransformIterator=M;class j extends S{constructor(T,k){if(super(T,k),this._transformerQueue=[],k){const U=O(k)?k:k.multiTransform;U&&(this._createTransformer=U)}}_read(T,k){const U=this._transformerQueue,re=this._optional;let fe,ve;for(;(fe=U[0])&&fe.transformer.done;){re&&fe.item!==null&&(T--,this._push(fe.item)),U.shift();const{transformer:Ie}=fe;Ie.removeListener("end",D),Ie.removeListener("readable",D),Ie.removeListener("error",I)}const{source:ce}=this;for(;ce&&!ce.done&&U.length<this.maxBufferSize&&(ve=ce.read(),ve!==null);){const Ie=this._createTransformer(ve)||new c;Ie[e.DESTINATION]=this,Ie.on("end",D),Ie.on("readable",D),Ie.on("error",I),U.push({transformer:Ie,item:ve})}if(fe=U[0],fe){const{transformer:Ie}=fe;for(;T-- >0&&(ve=Ie.read())!==null;)this._push(ve),re&&(fe.item=null)}else ce&&ce.done&&this.close();k()}_createTransformer(T){return new p(T)}_closeWhenDone(){this._transformerQueue.length||this.close()}_end(T){if(super._end(T),this._destroySource)for(const k of this._transformerQueue)k.transformer.destroy()}}e.MultiTransformIterator=j;class P extends g{constructor(T,k={}){super(k),this._sources=[],this._currentSource=-1;const U=k.autoStart!==!1;if(A(T))T.on("error",re=>this.emit("error",re)),this._pending={loading:!1,sources:T},U&&this._loadSources();else if(Array.isArray(T)&&T.length>0)for(const re of T)this._addSource(re);else U&&this.close();this._destroySources=k.destroySources!==!1}_loadSources(){const T=this._pending.sources;this._pending.loading=!0,T.done?(delete this._pending,this.close()):(T.on("data",k=>{this._addSource(k),this._fillBufferAsync()}),T.on("end",()=>{delete this._pending,this._fillBuffer()}))}_addSource(T){$(T)&&(T=le(T)),T.done||(this._sources.push(T),T[e.DESTINATION]=this,T.on("error",I),T.on("readable",D),T.on("end",B))}_removeEmptySources(){this._sources=this._sources.filter((T,k)=>(T.done&&k<=this._currentSource&&this._currentSource--,!T.done)),this._fillBuffer()}_read(T,k){var U;((U=this._pending)===null||U===void 0?void 0:U.loading)===!1&&this._loadSources();let re=0,fe;for(;re!==(re=T);)for(let ve=0;ve<this._sources.length&&T>0;ve++)this._currentSource=(this._currentSource+1)%this._sources.length,(fe=this._sources[this._currentSource].read())!==null&&(T--,this._push(fe));!this._pending&&this._sources.length===0&&this.close(),k()}_end(T=!1){if(super._end(T),this._destroySources){for(const k of this._sources)k.destroy();this._pending&&(this._pending.sources.destroy(),delete this._pending)}}}e.UnionIterator=P;function B(){this[e.DESTINATION]._removeEmptySources()}class Y extends S{constructor(T){super(T,{autoStart:!1}),this._readPosition=0,this._reading=!1,T&&(this.readable=!0)}_init(){}close(){l.prototype.close.call(this)}get source(){return super.source}set source(T){const k=this._source=this._validateSource(T),U=k&&k[e.DESTINATION]||(k[e.DESTINATION]=new ie(k));this.done?this._destroySource&&k.destroy():U.endsAt(0)?this.close():(U.register(this),(k._sourceStarted===!1||U.readAt(0)!==null)&&(this.readable=!0));const re=this._propertyCallbacks;for(const fe in re){const ve=re[fe];for(const ce of ve)this._getSourceProperty(fe,ce)}}_validateSource(T,k=!1){const U=T&&T[e.DESTINATION];return super._validateSource(T,!U||U instanceof ie)}getProperty(T,k){const{source:U}=this,re=this._properties,fe=re&&T in re;if(!k)return fe?re&&re[T]:U&&U.getProperty(T);super.getProperty(T,k),U&&!fe&&this._getSourceProperty(T,k)}_getSourceProperty(T,k){this.source.getProperty(T,U=>{(!this._properties||!(T in this._properties))&&k(U)})}getProperties(){const T=this.source?this.source.getProperties():{},k=this._properties;for(const U in k)T[U]=k[U];return T}_toStringDetails(){return`{source: ${this.source?this.source.toString():"none"}}`}read(){this._sourceStarted||(this._sourceStarted=!0);const T=this.source;let k=null;if(!this.done&&T){const U=T[e.DESTINATION];(k=U.readAt(this._readPosition))!==null?this._readPosition++:this.readable=!1,U.endsAt(this._readPosition)&&this.close()}return k}_end(T){const k=this.source,U=k==null?void 0:k[e.DESTINATION];U&&U.unregister(this),g.prototype._end.call(this,T)}}e.ClonedIterator=Y;class ie{constructor(T){if(this._history=[],this._trackers=new Set,this._source=T,!T.done){const k=()=>{for(const fe of this._trackers)fe.readable=!0},U=fe=>{for(const ve of this._trackers)ve.emit("error",fe)},re=()=>{for(const fe of this._trackers)fe._sourceStarted!==!1&&fe._readPosition===this._history.length&&fe.close();this._trackers.clear(),T.removeListener("end",re),T.removeListener("error",U),T.removeListener("readable",k)};T.on("end",re),T.on("error",U),T.on("readable",k)}}register(T){this._source.done||this._trackers.add(T)}unregister(T){this._trackers.delete(T)}readAt(T){let k=null;return T<this._history.length?k=this._history[T]:!this._source.done&&(k=this._source.read())!==null&&(this._history[T]=k),k}endsAt(T){return this._source.done&&this._history.length===T}}class X extends l{constructor(T,k){super(),this._source=null,this._destroySource=(k==null?void 0:k.destroySource)!==!1,$(T)?(this._source=new l,T.then(U=>{this._source=null,this.source=U}).catch(U=>this.emit("error",U))):T&&(this.source=T)}set source(T){let k=T;if(this._source!==null)throw new Error("The source cannot be changed after it has been set");if(pe(k)&&(k=k[Symbol.iterator]()),R(k)){let U=k;k=new t.EventEmitter,k.read=()=>{if(U!==null){let re;for(;!(re=U.next()).done;)if(re.value!==null)return re.value;U=null,this.close()}return null}}else k=m(k);if(this.done){this._destroySource&&O(k.destroy)&&k.destroy();return}k[e.DESTINATION]=this,k.on("end",N),k.on("error",I),k.on("readable",x),this._source=k,this.readable=k.readable!==!1}read(){if(this._source!==null&&this._source.readable!==!1){const T=this._source.read();if(T!==null)return T;this.readable=!1}return null}_end(T=!1){this._source!==null&&(this._source.removeListener("end",N),this._source.removeListener("error",I),this._source.removeListener("readable",x),delete this._source[e.DESTINATION],this._destroySource&&O(this._source.destroy)&&this._source.destroy(),this._source=null),super._end(T)}}e.WrappingIterator=X;function le(w,T){if(T&&("autoStart"in T||"optional"in T||"source"in T||"maxBufferSize"in T))return w&&!A(w)&&(w=new X(w)),new S(w,T);if(!w)return ae();if($(w))return new X(w,T);if(w instanceof l)return w;if(Array.isArray(w))return H(w);if(pe(w)||R(w)||A(w))return new X(w,T);throw new TypeError(`Invalid source: ${w}`)}e.wrap=le;function ae(){return new c}e.empty=ae;function ne(w){return new p(w)}e.single=ne;function H(w){return new b(w)}e.fromArray=H;function oe(w){return new X(w)}e.fromIterator=oe;function he(w){return new X(w)}e.fromIterable=he;function Z(w){return new P(w)}e.union=Z;function Q(w,T,k){return new v({start:w,end:T,step:k})}e.range=Q;function ee(w,T){return T?w.bind(T):w}function O(w){return typeof w=="function"}e.isFunction=O;function A(w){return O(w==null?void 0:w.on)}e.isEventEmitter=A;function $(w){return O(w==null?void 0:w.then)}e.isPromise=$;function te(w){return w&&(A(w)||$(w)||O(w))}e.isSourceExpression=te;function pe(w){return w&&Symbol.iterator in w}e.isIterable=pe;function R(w){return O(w==null?void 0:w.next)}e.isIterator=R}(nb)),nb}var df={},hf={},hI;function C4(){if(hI)return hf;hI=1,Object.defineProperty(hf,"__esModule",{value:!0}),hf.BlankNode=void 0;class e{constructor(r){this.termType="BlankNode",this.value=r}equals(r){return!!r&&r.termType==="BlankNode"&&r.value===this.value}}return hf.BlankNode=e,hf}var pf={},mf={},pI;function L4(){if(pI)return mf;pI=1,Object.defineProperty(mf,"__esModule",{value:!0}),mf.DefaultGraph=void 0;class e{constructor(){this.termType="DefaultGraph",this.value=""}equals(r){return!!r&&r.termType==="DefaultGraph"}}return mf.DefaultGraph=e,e.INSTANCE=new e,mf}var yf={},gf={},mI;function FT(){if(mI)return gf;mI=1,Object.defineProperty(gf,"__esModule",{value:!0}),gf.NamedNode=void 0;class e{constructor(r){this.termType="NamedNode",this.value=r}equals(r){return!!r&&r.termType==="NamedNode"&&r.value===this.value}}return gf.NamedNode=e,gf}var yI;function M4(){if(yI)return yf;yI=1,Object.defineProperty(yf,"__esModule",{value:!0}),yf.Literal=void 0;const e=FT();class t{constructor(n,i){this.termType="Literal",this.value=n,typeof i=="string"?(this.language=i,this.datatype=t.RDF_LANGUAGE_STRING):i?(this.language="",this.datatype=i):(this.language="",this.datatype=t.XSD_STRING)}equals(n){return!!n&&n.termType==="Literal"&&n.value===this.value&&n.language===this.language&&this.datatype.equals(n.datatype)}}return yf.Literal=t,t.RDF_LANGUAGE_STRING=new e.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.XSD_STRING=new e.NamedNode("http://www.w3.org/2001/XMLSchema#string"),yf}var _f={},gI;function k4(){if(gI)return _f;gI=1,Object.defineProperty(_f,"__esModule",{value:!0}),_f.Quad=void 0;class e{constructor(r,n,i,a){this.termType="Quad",this.value="",this.subject=r,this.predicate=n,this.object=i,this.graph=a}equals(r){return!!r&&(r.termType==="Quad"||!r.termType)&&this.subject.equals(r.subject)&&this.predicate.equals(r.predicate)&&this.object.equals(r.object)&&this.graph.equals(r.graph)}}return _f.Quad=e,_f}var bf={},_I;function F4(){if(_I)return bf;_I=1,Object.defineProperty(bf,"__esModule",{value:!0}),bf.Variable=void 0;class e{constructor(r){this.termType="Variable",this.value=r}equals(r){return!!r&&r.termType==="Variable"&&r.value===this.value}}return bf.Variable=e,bf}var bI;function lZ(){if(bI)return pf;bI=1,Object.defineProperty(pf,"__esModule",{value:!0}),pf.DataFactory=void 0;const e=C4(),t=L4(),r=M4(),n=FT(),i=k4(),a=F4();let o=0;class s{constructor(u){this.blankNodeCounter=0,u=u||{},this.blankNodePrefix=u.blankNodePrefix||`df_${o++}_`}namedNode(u){return new n.NamedNode(u)}blankNode(u){return new e.BlankNode(u||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(u,f){return new r.Literal(u,f)}variable(u){return new a.Variable(u)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(u,f,d,c){return new i.Quad(u,f,d,c||this.defaultGraph())}fromTerm(u){switch(u.termType){case"NamedNode":return this.namedNode(u.value);case"BlankNode":return this.blankNode(u.value);case"Literal":return u.language?this.literal(u.value,u.language):u.datatype.equals(r.Literal.XSD_STRING)?this.literal(u.value):this.literal(u.value,this.fromTerm(u.datatype));case"Variable":return this.variable(u.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(u.subject),this.fromTerm(u.predicate),this.fromTerm(u.object),this.fromTerm(u.graph))}}fromQuad(u){return this.fromTerm(u)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return pf.DataFactory=s,pf}var vI;function Ho(){return vI||(vI=1,function(e){var t=df.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=df.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(C4(),e),r(lZ(),e),r(L4(),e),r(M4(),e),r(FT(),e),r(k4(),e),r(F4(),e)}(df)),df}var vf={},St={},wf={},Sf={},wI;function j4(){if(wI)return Sf;wI=1,Object.defineProperty(Sf,"__esModule",{value:!0}),Sf.BlankNode=void 0;class e{constructor(r){this.termType="BlankNode",this.value=r}equals(r){return!!r&&r.termType==="BlankNode"&&r.value===this.value}}return Sf.BlankNode=e,Sf}var Ef={},Tf={},SI;function q4(){if(SI)return Tf;SI=1,Object.defineProperty(Tf,"__esModule",{value:!0}),Tf.DefaultGraph=void 0;class e{constructor(){this.termType="DefaultGraph",this.value=""}equals(r){return!!r&&r.termType==="DefaultGraph"}}return Tf.DefaultGraph=e,e.INSTANCE=new e,Tf}var xf={},Rf={},EI;function jT(){if(EI)return Rf;EI=1,Object.defineProperty(Rf,"__esModule",{value:!0}),Rf.NamedNode=void 0;class e{constructor(r){this.termType="NamedNode",this.value=r}equals(r){return!!r&&r.termType==="NamedNode"&&r.value===this.value}}return Rf.NamedNode=e,Rf}var TI;function B4(){if(TI)return xf;TI=1,Object.defineProperty(xf,"__esModule",{value:!0}),xf.Literal=void 0;const e=jT();class t{constructor(n,i){this.termType="Literal",this.value=n,typeof i=="string"?(this.language=i,this.datatype=t.RDF_LANGUAGE_STRING):i?(this.language="",this.datatype=i):(this.language="",this.datatype=t.XSD_STRING)}equals(n){return!!n&&n.termType==="Literal"&&n.value===this.value&&n.language===this.language&&this.datatype.equals(n.datatype)}}return xf.Literal=t,t.RDF_LANGUAGE_STRING=new e.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.XSD_STRING=new e.NamedNode("http://www.w3.org/2001/XMLSchema#string"),xf}var Af={},xI;function $4(){if(xI)return Af;xI=1,Object.defineProperty(Af,"__esModule",{value:!0}),Af.Quad=void 0;class e{constructor(r,n,i,a){this.termType="Quad",this.value="",this.subject=r,this.predicate=n,this.object=i,this.graph=a}equals(r){return!!r&&(r.termType==="Quad"||!r.termType)&&this.subject.equals(r.subject)&&this.predicate.equals(r.predicate)&&this.object.equals(r.object)&&this.graph.equals(r.graph)}}return Af.Quad=e,Af}var If={},RI;function U4(){if(RI)return If;RI=1,Object.defineProperty(If,"__esModule",{value:!0}),If.Variable=void 0;class e{constructor(r){this.termType="Variable",this.value=r}equals(r){return!!r&&r.termType==="Variable"&&r.value===this.value}}return If.Variable=e,If}var AI;function fZ(){if(AI)return Ef;AI=1,Object.defineProperty(Ef,"__esModule",{value:!0}),Ef.DataFactory=void 0;const e=j4(),t=q4(),r=B4(),n=jT(),i=$4(),a=U4();let o=0;class s{constructor(u){this.blankNodeCounter=0,u=u||{},this.blankNodePrefix=u.blankNodePrefix||`df_${o++}_`}namedNode(u){return new n.NamedNode(u)}blankNode(u){return new e.BlankNode(u||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(u,f){return new r.Literal(u,f)}variable(u){return new a.Variable(u)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(u,f,d,c){return new i.Quad(u,f,d,c||this.defaultGraph())}fromTerm(u){switch(u.termType){case"NamedNode":return this.namedNode(u.value);case"BlankNode":return this.blankNode(u.value);case"Literal":return u.language?this.literal(u.value,u.language):u.datatype.equals(r.Literal.XSD_STRING)?this.literal(u.value):this.literal(u.value,this.fromTerm(u.datatype));case"Variable":return this.variable(u.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(u.subject),this.fromTerm(u.predicate),this.fromTerm(u.object),this.fromTerm(u.graph))}}fromQuad(u){return this.fromTerm(u)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return Ef.DataFactory=s,Ef}var II;function cZ(){return II||(II=1,function(e){var t=wf.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=wf.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(j4(),e),r(fZ(),e),r(q4(),e),r(B4(),e),r(jT(),e),r($4(),e),r(U4(),e)}(wf)),wf}var PI;function dZ(){if(PI)return St;PI=1,Object.defineProperty(St,"__esModule",{value:!0}),St.matchPatternMappings=St.matchPatternComplete=St.matchPattern=St.matchTerm=St.getValueNestedPath=St.someTermsNested=St.someTerms=St.everyTermsNested=St.everyTerms=St.reduceTermsNested=St.reduceTerms=St.mapTermsNested=St.mapTerms=St.filterQuadTermNamesNested=St.filterQuadTermNames=St.filterTermsNested=St.filterTerms=St.forEachTermsNested=St.forEachTerms=St.collectNamedTerms=St.getNamedTerms=St.getTermsNested=St.getTerms=St.TRIPLE_TERM_NAMES=St.QUAD_TERM_NAMES=void 0;const e=cZ(),t=new e.DataFactory;St.QUAD_TERM_NAMES=["subject","predicate","object","graph"],St.TRIPLE_TERM_NAMES=["subject","predicate","object"];function r(D,M){return M&&D.graph.termType==="DefaultGraph"?[D.subject,D.predicate,D.object]:[D.subject,D.predicate,D.object,D.graph]}St.getTerms=r;function n(D,M){const j=[];for(const P of r(D,M))P.termType==="Quad"?n(P,M).forEach(B=>j.push(B)):j.push(P);return j}St.getTermsNested=n;function i(D){return[{key:"subject",value:D.subject},{key:"predicate",value:D.predicate},{key:"object",value:D.object},{key:"graph",value:D.graph}]}St.getNamedTerms=i;function a(D,M,j){const P={};return D.forEach(B=>P[B.key]=B.value),M&&(P.subject=P.subject||M("subject"),P.predicate=P.predicate||M("predicate"),P.object=P.object||M("object"),P.graph=P.graph||M("graph")),(j||t).quad(P.subject,P.predicate,P.object,P.graph)}St.collectNamedTerms=a;function o(D,M){M(D.subject,"subject"),M(D.predicate,"predicate"),M(D.object,"object"),M(D.graph,"graph")}St.forEachTerms=o;function s(D,M,j=[]){D.subject.termType==="Quad"?s(D.subject,M,[...j,"subject"]):M(D.subject,[...j,"subject"]),D.predicate.termType==="Quad"?s(D.predicate,M,[...j,"predicate"]):M(D.predicate,[...j,"predicate"]),D.object.termType==="Quad"?s(D.object,M,[...j,"object"]):M(D.object,[...j,"object"]),D.graph.termType==="Quad"?s(D.graph,M,[...j,"graph"]):M(D.graph,[...j,"graph"])}St.forEachTermsNested=s;function l(D,M){const j=[];return M(D.subject,"subject")&&j.push(D.subject),M(D.predicate,"predicate")&&j.push(D.predicate),M(D.object,"object")&&j.push(D.object),M(D.graph,"graph")&&j.push(D.graph),j}St.filterTerms=l;function u(D,M,j=[]){let P=[];return D.subject.termType==="Quad"?P=[...P,...u(D.subject,M,[...j,"subject"])]:M(D.subject,[...j,"subject"])&&P.push(D.subject),D.predicate.termType==="Quad"?P=[...P,...u(D.predicate,M,[...j,"predicate"])]:M(D.predicate,[...j,"predicate"])&&P.push(D.predicate),D.object.termType==="Quad"?P=[...P,...u(D.object,M,[...j,"object"])]:M(D.object,[...j,"object"])&&P.push(D.object),D.graph.termType==="Quad"?P=[...P,...u(D.graph,M,[...j,"graph"])]:M(D.graph,[...j,"graph"])&&P.push(D.graph),P}St.filterTermsNested=u;function f(D,M){const j=[];return M(D.subject,"subject")&&j.push("subject"),M(D.predicate,"predicate")&&j.push("predicate"),M(D.object,"object")&&j.push("object"),M(D.graph,"graph")&&j.push("graph"),j}St.filterQuadTermNames=f;function d(D,M,j=[]){let P=[];const B=[...j,"subject"];D.subject.termType==="Quad"?P=[...P,...d(D.subject,M,B)]:M(D.subject,B)&&P.push(B);const Y=[...j,"predicate"];D.predicate.termType==="Quad"?P=[...P,...d(D.predicate,M,Y)]:M(D.predicate,Y)&&P.push(Y);const ie=[...j,"object"];D.object.termType==="Quad"?P=[...P,...d(D.object,M,ie)]:M(D.object,ie)&&P.push(ie);const X=[...j,"graph"];return D.graph.termType==="Quad"?P=[...P,...d(D.graph,M,X)]:M(D.graph,X)&&P.push(X),P}St.filterQuadTermNamesNested=d;function c(D,M,j){return(j||t).quad(M(D.subject,"subject"),M(D.predicate,"predicate"),M(D.object,"object"),M(D.graph,"graph"))}St.mapTerms=c;function p(D,M,j,P=[]){return(j||t).quad(D.subject.termType==="Quad"?p(D.subject,M,j,[...P,"subject"]):M(D.subject,[...P,"subject"]),D.predicate.termType==="Quad"?p(D.predicate,M,j,[...P,"predicate"]):M(D.predicate,[...P,"predicate"]),D.object.termType==="Quad"?p(D.object,M,j,[...P,"object"]):M(D.object,[...P,"object"]),D.graph.termType==="Quad"?p(D.graph,M,j,[...P,"graph"]):M(D.graph,[...P,"graph"]))}St.mapTermsNested=p;function b(D,M,j){let P=j;return P=M(P,D.subject,"subject"),P=M(P,D.predicate,"predicate"),P=M(P,D.object,"object"),M(P,D.graph,"graph")}St.reduceTerms=b;function v(D,M,j,P=[]){let B=j;return D.subject.termType==="Quad"?B=v(D.subject,M,B,[...P,"subject"]):B=M(B,D.subject,[...P,"subject"]),D.predicate.termType==="Quad"?B=v(D.predicate,M,B,[...P,"predicate"]):B=M(B,D.predicate,[...P,"predicate"]),D.object.termType==="Quad"?B=v(D.object,M,B,[...P,"object"]):B=M(B,D.object,[...P,"object"]),D.graph.termType==="Quad"?B=v(D.graph,M,B,[...P,"graph"]):B=M(B,D.graph,[...P,"graph"]),B}St.reduceTermsNested=v;function _(D,M){return M(D.subject,"subject")&&M(D.predicate,"predicate")&&M(D.object,"object")&&M(D.graph,"graph")}St.everyTerms=_;function y(D,M,j=[]){return(D.subject.termType==="Quad"?y(D.subject,M,[...j,"subject"]):M(D.subject,[...j,"subject"]))&&(D.predicate.termType==="Quad"?y(D.predicate,M,[...j,"predicate"]):M(D.predicate,[...j,"predicate"]))&&(D.object.termType==="Quad"?y(D.object,M,[...j,"object"]):M(D.object,[...j,"object"]))&&(D.graph.termType==="Quad"?y(D.graph,M,[...j,"graph"]):M(D.graph,[...j,"graph"]))}St.everyTermsNested=y;function m(D,M){return M(D.subject,"subject")||M(D.predicate,"predicate")||M(D.object,"object")||M(D.graph,"graph")}St.someTerms=m;function g(D,M,j=[]){return(D.subject.termType==="Quad"?g(D.subject,M,[...j,"subject"]):M(D.subject,[...j,"subject"]))||(D.predicate.termType==="Quad"?g(D.predicate,M,[...j,"predicate"]):M(D.predicate,[...j,"predicate"]))||(D.object.termType==="Quad"?g(D.object,M,[...j,"object"]):M(D.object,[...j,"object"]))||(D.graph.termType==="Quad"?g(D.graph,M,[...j,"graph"]):M(D.graph,[...j,"graph"]))}St.someTermsNested=g;function S(D,M){if(M.length===0)return D;if(D.termType==="Quad")return S(D[M[0]],M.slice(1));throw new Error(`Tried to get ${M[0]} from term of type ${D.termType}`)}St.getValueNestedPath=S;function x(D,M){return!M||M.termType==="Variable"||M.termType==="Quad"&&D.termType==="Quad"&&N(D,M)||M.equals(D)}St.matchTerm=x;function I(D,M,j,P,B){return x(D.subject,M)&&x(D.predicate,j)&&x(D.object,P)&&x(D.graph,B)}St.matchPattern=I;function N(D,M){return I(D,M.subject,M.predicate,M.object,M.graph)}St.matchPatternComplete=N;function q(D,M,j={}){const P={};function B(Y,ie){return _(Y,(X,le)=>{var ae,ne;const H=ie[le];switch(X.termType){case"Variable":return j.skipVarMapping&&H.termType==="Variable"||((ne=(ae=P[X.value])===null||ae===void 0?void 0:ae.equals(H))!==null&&ne!==void 0?ne:(P[X.value]=H,!0));case"Quad":return H.termType==="Quad"&&B(X,H);default:return X.equals(H)}})}return B(M,D)&&(j.returnMappings?P:!0)}return St.matchPatternMappings=q,St}var Lr={},ib={},on={},Pf={},Of={},OI;function V4(){if(OI)return Of;OI=1,Object.defineProperty(Of,"__esModule",{value:!0}),Of.BlankNode=void 0;class e{constructor(r){this.termType="BlankNode",this.value=r}equals(r){return!!r&&r.termType==="BlankNode"&&r.value===this.value}}return Of.BlankNode=e,Of}var Nf={},Df={},NI;function H4(){if(NI)return Df;NI=1,Object.defineProperty(Df,"__esModule",{value:!0}),Df.DefaultGraph=void 0;class e{constructor(){this.termType="DefaultGraph",this.value=""}equals(r){return!!r&&r.termType==="DefaultGraph"}}return Df.DefaultGraph=e,e.INSTANCE=new e,Df}var Cf={},Lf={},DI;function qT(){if(DI)return Lf;DI=1,Object.defineProperty(Lf,"__esModule",{value:!0}),Lf.NamedNode=void 0;class e{constructor(r){this.termType="NamedNode",this.value=r}equals(r){return!!r&&r.termType==="NamedNode"&&r.value===this.value}}return Lf.NamedNode=e,Lf}var CI;function z4(){if(CI)return Cf;CI=1,Object.defineProperty(Cf,"__esModule",{value:!0}),Cf.Literal=void 0;const e=qT();class t{constructor(n,i){this.termType="Literal",this.value=n,typeof i=="string"?(this.language=i,this.datatype=t.RDF_LANGUAGE_STRING):i?(this.language="",this.datatype=i):(this.language="",this.datatype=t.XSD_STRING)}equals(n){return!!n&&n.termType==="Literal"&&n.value===this.value&&n.language===this.language&&this.datatype.equals(n.datatype)}}return Cf.Literal=t,t.RDF_LANGUAGE_STRING=new e.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.XSD_STRING=new e.NamedNode("http://www.w3.org/2001/XMLSchema#string"),Cf}var Mf={},LI;function G4(){if(LI)return Mf;LI=1,Object.defineProperty(Mf,"__esModule",{value:!0}),Mf.Quad=void 0;class e{constructor(r,n,i,a){this.termType="Quad",this.value="",this.subject=r,this.predicate=n,this.object=i,this.graph=a}equals(r){return!!r&&(r.termType==="Quad"||!r.termType)&&this.subject.equals(r.subject)&&this.predicate.equals(r.predicate)&&this.object.equals(r.object)&&this.graph.equals(r.graph)}}return Mf.Quad=e,Mf}var kf={},MI;function W4(){if(MI)return kf;MI=1,Object.defineProperty(kf,"__esModule",{value:!0}),kf.Variable=void 0;class e{constructor(r){this.termType="Variable",this.value=r}equals(r){return!!r&&r.termType==="Variable"&&r.value===this.value}}return kf.Variable=e,kf}var kI;function hZ(){if(kI)return Nf;kI=1,Object.defineProperty(Nf,"__esModule",{value:!0}),Nf.DataFactory=void 0;const e=V4(),t=H4(),r=z4(),n=qT(),i=G4(),a=W4();let o=0;class s{constructor(u){this.blankNodeCounter=0,u=u||{},this.blankNodePrefix=u.blankNodePrefix||`df_${o++}_`}namedNode(u){return new n.NamedNode(u)}blankNode(u){return new e.BlankNode(u||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(u,f){return new r.Literal(u,f)}variable(u){return new a.Variable(u)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(u,f,d,c){return new i.Quad(u,f,d,c||this.defaultGraph())}fromTerm(u){switch(u.termType){case"NamedNode":return this.namedNode(u.value);case"BlankNode":return this.blankNode(u.value);case"Literal":return u.language?this.literal(u.value,u.language):u.datatype.equals(r.Literal.XSD_STRING)?this.literal(u.value):this.literal(u.value,this.fromTerm(u.datatype));case"Variable":return this.variable(u.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(u.subject),this.fromTerm(u.predicate),this.fromTerm(u.object),this.fromTerm(u.graph))}}fromQuad(u){return this.fromTerm(u)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return Nf.DataFactory=s,Nf}var FI;function pZ(){return FI||(FI=1,function(e){var t=Pf.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=Pf.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(V4(),e),r(hZ(),e),r(H4(),e),r(z4(),e),r(qT(),e),r(G4(),e),r(W4(),e)}(Pf)),Pf}var jI;function mZ(){if(jI)return on;jI=1,Object.defineProperty(on,"__esModule",{value:!0}),on.stringQuadToQuad=on.quadToStringQuad=on.stringToTerm=on.getLiteralLanguage=on.getLiteralType=on.getLiteralValue=on.termToString=void 0;const e=pZ(),t=new e.DataFactory;function r(u){if(u)switch(u.termType){case"NamedNode":return u.value;case"BlankNode":return"_:"+u.value;case"Literal":const f=u;return'"'+f.value+'"'+(f.datatype&&f.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&f.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+f.datatype.value:"")+(f.language?"@"+f.language:"");case"Quad":return`<<${r(u.subject)} ${r(u.predicate)} ${r(u.object)}${u.graph.termType==="DefaultGraph"?"":" "+r(u.graph)}>>`;case"Variable":return"?"+u.value;case"DefaultGraph":return u.value}}on.termToString=r;function n(u){const f=/^"([^]*)"/.exec(u);if(!f)throw new Error(u+" is not a literal");return f[1]}on.getLiteralValue=n;function i(u){const f=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(u);if(!f)throw new Error(u+" is not a literal");return f[1]||(f[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}on.getLiteralType=i;function a(u){const f=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(u);if(!f)throw new Error(u+" is not a literal");return f[1]?f[1].toLowerCase():""}on.getLiteralLanguage=a;function o(u,f){if(f=f||t,!u||!u.length)return f.defaultGraph();switch(u[0]){case"_":return f.blankNode(u.substr(2));case"?":if(!f.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return f.variable(u.substr(1));case'"':const d=a(u),c=f.namedNode(i(u));return f.literal(n(u),d||c);case"<":default:if(u[0]==="<"&&u.length>4&&u[1]==="<"&&u[u.length-1]===">"&&u[u.length-2]===">"){const p=u.slice(2,-2).trim();let b=[],v=0,_=0,y=!1;for(let m=0;m<p.length;m++){const g=p[m];if(g==="<"&&v++,g===">"){if(v===0)throw new Error("Found closing tag without opening tag in "+u);v--}if(g==='"'){let S=!1,x=m;for(;x-- >0&&p[x]==="\\";)S=!S;S||(y=!y)}if(g===" "&&!y&&v===0){for(b.push(p.slice(_,m));p[m+1]===" ";)m+=1;_=m+1}}if(v!==0)throw new Error("Found opening tag without closing tag in "+u);if(b.push(p.slice(_,p.length)),b.length!==3&&b.length!==4)throw new Error("Nested quad syntax error "+u);return b=b.map(m=>m.startsWith("<")&&!m.includes(" ")?m.slice(1,-1):m),f.quad(o(b[0]),o(b[1]),o(b[2]),b[3]?o(b[3]):void 0)}return f.namedNode(u)}}on.stringToTerm=o;function s(u){return{subject:r(u.subject),predicate:r(u.predicate),object:r(u.object),graph:r(u.graph)}}on.quadToStringQuad=s;function l(u,f){return f=f||t,f.quad(o(u.subject,f),o(u.predicate,f),o(u.object,f),o(u.graph,f))}return on.stringQuadToQuad=l,on}var qI;function h0(){return qI||(qI=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.termToString=e.stringToTerm=e.stringQuadToQuad=e.quadToStringQuad=e.getLiteralValue=e.getLiteralType=e.getLiteralLanguage=void 0;const t=mZ();Object.defineProperty(e,"getLiteralLanguage",{enumerable:!0,get:function(){return t.getLiteralLanguage}}),Object.defineProperty(e,"getLiteralType",{enumerable:!0,get:function(){return t.getLiteralType}}),Object.defineProperty(e,"getLiteralValue",{enumerable:!0,get:function(){return t.getLiteralValue}}),Object.defineProperty(e,"quadToStringQuad",{enumerable:!0,get:function(){return t.quadToStringQuad}}),Object.defineProperty(e,"stringQuadToQuad",{enumerable:!0,get:function(){return t.stringQuadToQuad}}),Object.defineProperty(e,"stringToTerm",{enumerable:!0,get:function(){return t.stringToTerm}}),Object.defineProperty(e,"termToString",{enumerable:!0,get:function(){return t.termToString}})}(ib)),ib}var BI;function yZ(){if(BI)return Lr;BI=1,Object.defineProperty(Lr,"__esModule",{value:!0}),Lr.getQuads=Lr.getDefaultGraphs=Lr.getVariables=Lr.getLiterals=Lr.getBlankNodes=Lr.getNamedNodes=Lr.getTermsOfType=Lr.uniqTerms=Lr.TERM_TYPES=void 0;const e=h0();Lr.TERM_TYPES=["NamedNode","BlankNode","Literal","Variable","DefaultGraph","Quad"];function t(u){const f={};return u.filter(d=>{const c=(0,e.termToString)(d);return!(c in f)&&(f[c]=!0)})}Lr.uniqTerms=t;function r(u,f){return u.filter(d=>d.termType===f)}Lr.getTermsOfType=r;function n(u){return r(u,"NamedNode")}Lr.getNamedNodes=n;function i(u){return r(u,"BlankNode")}Lr.getBlankNodes=i;function a(u){return r(u,"Literal")}Lr.getLiterals=a;function o(u){return r(u,"Variable")}Lr.getVariables=o;function s(u){return r(u,"DefaultGraph")}Lr.getDefaultGraphs=s;function l(u){return r(u,"Quad")}return Lr.getQuads=l,Lr}var $I;function Xy(){return $I||($I=1,function(e){var t=vf.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=vf.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(dZ(),e),r(yZ(),e)}(vf)),vf}var Ff={},UI;function K4(){if(UI)return Ff;UI=1,Object.defineProperty(Ff,"__esModule",{value:!0}),Ff.TermDictionaryNumberRecordFullTerms=void 0;const e=Ho(),t=h0();let r=class{constructor(i=new e.DataFactory){this.lastId=0,this.dictionary={},this.reverseDictionary={},this.features={quotedTriples:!1},this.dataFactory=i}encode(i){const a=(0,t.termToString)(i);let o=this.dictionary[a];return o===void 0&&(o=this.lastId++,this.dictionary[a]=o,this.reverseDictionary[o]=i),o}encodeOptional(i){const a=(0,t.termToString)(i);return this.dictionary[a]}decode(i){const a=this.reverseDictionary[i];if(a===void 0)throw new Error(`The value ${i} is not present in this dictionary`);return a}*encodings(){for(const i of Object.keys(this.reverseDictionary))yield Number.parseInt(i,10)}findQuotedTriples(i){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(i){throw new Error("findQuotedTriplesEncoded is not supported")}};return Ff.TermDictionaryNumberRecordFullTerms=r,Ff}var jf={},qf={},ab={},VI;function ba(){return VI||(VI=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.arePatternsQuoted=e.quadHasVariables=e.quadToPattern=e.encodeOptionalTerms=e.orderQuadComponents=e.getComponentOrderScore=e.getBestIndex=e.QUAD_TERM_NAMES_INVERSE=void 0;const t=Xy();e.QUAD_TERM_NAMES_INVERSE=Object.fromEntries(t.QUAD_TERM_NAMES.map((u,f)=>[u,f]));function r(u,f){if(u.length===1||f.every(p=>p!==void 0))return 0;const d=[];for(let p=0;p<t.QUAD_TERM_NAMES.length;p++)f[p]&&d.push(t.QUAD_TERM_NAMES[p]);return u.map((p,b)=>({score:n(p,d),index:b})).sort((p,b)=>b.score-p.score)[0].index}e.getBestIndex=r;function n(u,f){return u.map((d,c)=>f.includes(d)?u.length-c:0).reduce((d,c)=>d+c,0)}e.getComponentOrderScore=n;function i(u,f){return u.map(d=>{const c=e.QUAD_TERM_NAMES_INVERSE[d];return f[c]})}e.orderQuadComponents=i;function a(u,f){const d=u.map(c=>{if(c){if(c.termType==="Quad"&&s(c))return;const p=f.encodeOptional(c);return p===void 0?"none":p}return c});if(!d.includes("none"))return d}e.encodeOptionalTerms=a;function o(u,f,d,c,p){let b=!1;return[[u||void 0,f||void 0,d||void 0,c||void 0].map(_=>{if(_){if(_.termType==="Variable")return;if(_.termType==="Quad"){if(p)return _;b=!0;return}}return _}),b]}e.quadToPattern=o;function s(u){for(const f of t.QUAD_TERM_NAMES){const d=u[f];if(d.termType==="Variable"||d.termType==="Quad"&&s(d))return!0}return!1}e.quadHasVariables=s;function l(u){return u.map(f=>(f==null?void 0:f.termType)==="Quad"&&s(f))}e.arePatternsQuoted=l}(ab)),ab}var HI;function BT(){if(HI)return qf;HI=1,Object.defineProperty(qf,"__esModule",{value:!0}),qf.RdfStoreIndexNestedMap=void 0;const e=ba();let t=class{constructor(n){this.features={quotedTripleFiltering:!1},this.dictionary=n.dictionary,this.nestedMap=new Map}set(n,i){const a=this.nestedMap;let o=a.get(n[0]);o||(o=new Map,a.set(n[0],o));let s=o.get(n[1]);s||(s=new Map,o.set(n[1],s));let l=s.get(n[2]);l||(l=new Map,s.set(n[2],l));const u=l.has(n[3]);return u||l.set(n[3],i),!u}remove(n){const i=this.nestedMap,a=i.get(n[0]);if(!a)return!1;const o=a.get(n[1]);if(!o)return!1;const s=o.get(n[2]);if(!s)return!1;const l=s.delete(n[3]);return l&&s.size===0&&(o.delete(n[2]),o.size===0&&(a.delete(n[1]),a.size===0&&i.delete(n[0]))),l}get(n){const i=(0,e.encodeOptionalTerms)(n,this.dictionary);if(!(!i||i.includes(void 0)))return this.getEncoded(i)}getEncoded(n){const i=this.nestedMap.get(n[0]);if(!i)return;const a=i.get(n[1]);if(!a)return;const o=a.get(n[2]);if(o)return o.get(n[3])}*find(n){const i=(0,e.encodeOptionalTerms)(n,this.dictionary);if(!i)return;const[a,o,s,l]=i,[u,f,d,c]=n;let p,b,v,_,y,m,g;const S=this.nestedMap,x=a!==void 0?S.has(a)?[a]:[]:S.keys();for(const I of x){y=S.get(I),p=u||this.dictionary.decode(I);const N=o!==void 0?y.has(o)?[o]:[]:y.keys();for(const q of N){m=y.get(q),b=f||this.dictionary.decode(q);const D=s!==void 0?m.has(s)?[s]:[]:m.keys();for(const M of D){g=m.get(M),v=d||this.dictionary.decode(M);const j=l!==void 0?g.has(l)?[l]:[]:g.keys();for(const P of j)_=c||this.dictionary.decode(P),yield[p,b,v,_]}}}}*findEncoded(n,i){const[a,o,s,l]=n;let u,f,d;const c=this.nestedMap,p=a!==void 0?c.has(a)?[a]:[]:c.keys();for(const b of p){u=c.get(b);const v=o!==void 0?u.has(o)?[o]:[]:u.keys();for(const _ of v){f=u.get(_);const y=s!==void 0?f.has(s)?[s]:[]:f.keys();for(const m of y){d=f.get(m);const g=l!==void 0?d.has(l)?[l]:[]:d.keys();for(const S of g)yield[b,_,m,S]}}}}count(n){let i=0;const a=(0,e.encodeOptionalTerms)(n,this.dictionary);if(!a)return 0;const o=a[0],s=a[1],l=a[2],u=a[3];let f,d,c;const p=this.nestedMap,b=o!==void 0?p.has(o)?[o]:[]:p.keys();for(const v of b){f=p.get(v);const _=s!==void 0?f.has(s)?[s]:[]:f.keys();for(const y of _){d=f.get(y);const m=l!==void 0?d.has(l)?[l]:[]:d.keys();for(const g of m)c=d.get(g),u!==void 0?c.has(u)&&i++:i+=c.size}}return i}};return qf.RdfStoreIndexNestedMap=t,qf}var zI;function Q4(){if(zI)return jf;zI=1,Object.defineProperty(jf,"__esModule",{value:!0}),jf.TermDictionaryQuotedIndexed=void 0;const e=Ho(),t=BT(),r=ba();let n=class Ma{constructor(a,o=new e.DataFactory){this.quotedTriplesDictionary=[],this.features={quotedTriples:!0},this.plainTermDictionary=a;const s={indexCombinations:[],indexConstructor:void 0,dictionary:this,dataFactory:o};this.quotedTriplesReverseDictionaries=[new t.RdfStoreIndexNestedMap(s),new t.RdfStoreIndexNestedMap(s),new t.RdfStoreIndexNestedMap(s)],this.dataFactory=o}encode(a){return a.termType==="Quad"?this.encodeQuotedTriple(a,!1):this.plainTermDictionary.encode(a)}encodeQuotedTriple(a,o){if(a.graph.termType!=="DefaultGraph")throw new Error("Encoding of quoted quads outside of the default graph is not allowed");const s=(0,r.encodeOptionalTerms)([a.subject,a.predicate,a.object,a.graph],this),l=s&&s.every(c=>c!==void 0)?this.quotedTriplesReverseDictionaries[0].getEncoded(s):void 0;if(l!==void 0||o)return l===void 0?void 0:Ma.BITMASK|l;const u=[this.encode(a.subject),this.encode(a.predicate),this.encode(a.object)],f=this.quotedTriplesDictionary.length+1;this.quotedTriplesDictionary.push(u);const d=this.encode(this.dataFactory.defaultGraph());return this.quotedTriplesReverseDictionaries[0].set([u[0],u[1],u[2],d],f),this.quotedTriplesReverseDictionaries[1].set([u[1],u[2],u[0],d],f),this.quotedTriplesReverseDictionaries[2].set([u[2],u[0],u[1],d],f),Ma.BITMASK|f}encodeOptional(a){return a.termType==="Quad"?this.encodeQuotedTriple(a,!0):this.plainTermDictionary.encodeOptional(a)}decode(a){if(Ma.BITMASK&a){const o=(~Ma.BITMASK&a)-1;if(o>=this.quotedTriplesDictionary.length)throw new Error(`The value ${a} is not present in the quoted triples range of the dictionary`);const s=this.quotedTriplesDictionary[o];return this.dataFactory.quad(this.decode(s[0]),this.decode(s[1]),this.decode(s[2]))}return this.plainTermDictionary.decode(a)}*encodings(){for(const a of this.plainTermDictionary.encodings())yield a;for(const a of this.quotedTriplesDictionary.keys())yield Ma.BITMASK|1+a}*findQuotedTriples(a){for(const o of this.findQuotedTriplesEncoded(a))yield this.decode(o)}*findQuotedTriplesEncoded(a){const[o,s]=(0,r.quadToPattern)(a.subject,a.predicate,a.object,a.graph,!0);for(const l of this.patternToIterable(o[0]))for(const u of this.patternToIterable(o[1]))for(const f of this.patternToIterable(o[2]))for(const d of this.patternToIterable(o[3]))if(l&&u||!u&&!f){const c=[l,u,f,d];for(const p of this.quotedTriplesReverseDictionaries[0].findEncoded(c,o))yield Ma.BITMASK|this.quotedTriplesReverseDictionaries[0].getEncoded(p)}else if(!l&&u){const c=[u,f,l,d];for(const p of this.quotedTriplesReverseDictionaries[1].findEncoded(c,o))yield Ma.BITMASK|this.quotedTriplesReverseDictionaries[1].getEncoded(p)}else{const c=[f,l,u,d];for(const p of this.quotedTriplesReverseDictionaries[2].findEncoded(c,o))yield Ma.BITMASK|this.quotedTriplesReverseDictionaries[2].getEncoded(p)}}*patternToIterable(a){if((a==null?void 0:a.termType)==="Quad"){yield*this.findQuotedTriplesEncoded(a);return}if(a===void 0){yield void 0;return}const o=this.encodeOptional(a);o!==void 0&&(yield o)}};return n.BITMASK=1<<31,jf.TermDictionaryQuotedIndexed=n,jf}var Bf={},GI;function Z4(){if(GI)return Bf;GI=1,Object.defineProperty(Bf,"__esModule",{value:!0}),Bf.RdfStoreIndexNestedMapQuoted=void 0;const e=ba(),t=BT();let r=class extends t.RdfStoreIndexNestedMap{constructor(i){super(i),this.features={quotedTripleFiltering:!0}}*getQuotedPatternKeys(i,a){for(const o of this.dictionary.findQuotedTriplesEncoded(a))i.has(o)&&(yield o)}*find(i){const a=(0,e.encodeOptionalTerms)(i,this.dictionary);if(!a)return;const[o,s,l,u]=a,[f,d,c,p]=i,[b,v,_,y]=(0,e.arePatternsQuoted)(i);let m,g,S,x,I,N,q;const D=this.nestedMap,M=f!==void 0?b?this.getQuotedPatternKeys(D,f):D.has(o)?[o]:[]:D.keys();for(const j of M){I=D.get(j),m=!b&&f?f:this.dictionary.decode(j);const P=d!==void 0?v?this.getQuotedPatternKeys(I,d):I.has(s)?[s]:[]:I.keys();for(const B of P){N=I.get(B),g=!v&&d?d:this.dictionary.decode(B);const Y=c!==void 0?_?this.getQuotedPatternKeys(N,c):N.has(l)?[l]:[]:N.keys();for(const ie of Y){q=N.get(ie),S=!_&&c?c:this.dictionary.decode(ie);const X=p!==void 0?y?this.getQuotedPatternKeys(q,p):q.has(u)?[u]:[]:q.keys();for(const le of X)x=!y&&p?p:this.dictionary.decode(le),yield[m,g,S,x]}}}}*findEncoded(i,a){const[o,s,l,u]=i,[f,d,c,p]=a,[b,v,_,y]=(0,e.arePatternsQuoted)(a);let m,g,S;const x=this.nestedMap,I=f!==void 0?b?this.getQuotedPatternKeys(x,f):x.has(o)?[o]:[]:x.keys();for(const N of I){m=x.get(N);const q=d!==void 0?v?this.getQuotedPatternKeys(m,d):m.has(s)?[s]:[]:m.keys();for(const D of q){g=m.get(D);const M=c!==void 0?_?this.getQuotedPatternKeys(g,c):g.has(l)?[l]:[]:g.keys();for(const j of M){S=g.get(j);const P=p!==void 0?y?this.getQuotedPatternKeys(S,p):S.has(u)?[u]:[]:S.keys();for(const B of P)yield[Number.parseInt(N,10),Number.parseInt(D,10),Number.parseInt(j,10),Number.parseInt(B,10)]}}}}count(i){let a=0;const o=(0,e.encodeOptionalTerms)(i,this.dictionary);if(!o)return 0;const[s,l,u,f]=o,[d,c,p,b]=i,[v,_,y,m]=(0,e.arePatternsQuoted)(i);let g,S,x;const I=this.nestedMap,N=d!==void 0?v?this.getQuotedPatternKeys(I,d):I.has(s)?[s]:[]:I.keys();for(const q of N){g=I.get(q);const D=c!==void 0?_?this.getQuotedPatternKeys(g,c):g.has(l)?[l]:[]:g.keys();for(const M of D){S=g.get(M);const j=p!==void 0?y?this.getQuotedPatternKeys(S,p):S.has(u)?[u]:[]:S.keys();for(const P of j)x=S.get(P),b!==void 0?m?a+=[...this.getQuotedPatternKeys(x,b)].length:x.has(f)&&a++:a+=x.size}}return a}};return Bf.RdfStoreIndexNestedMapQuoted=r,Bf}var WI;function Y4(){if(WI)return lf;WI=1,Object.defineProperty(lf,"__esModule",{value:!0}),lf.RdfStore=void 0;const e=D4(),t=Ho(),r=Xy(),n=J4(),i=K4(),a=Q4(),o=Z4(),s=ba();let l=class dp{constructor(f){this.features={quotedTripleFiltering:!0},this._size=0,this.options=f,this.dataFactory=f.dataFactory,this.dictionary=f.dictionary,this.indexesWrapped=dp.constructIndexesWrapped(f),this.indexesWrappedComponentOrders=this.indexesWrapped.map(d=>d.componentOrder)}static createDefault(){return new dp({indexCombinations:dp.DEFAULT_INDEX_COMBINATIONS,indexConstructor:f=>new o.RdfStoreIndexNestedMapQuoted(f),dictionary:new a.TermDictionaryQuotedIndexed(new i.TermDictionaryNumberRecordFullTerms),dataFactory:new t.DataFactory})}static constructIndexesWrapped(f){const d=[];if(f.indexCombinations.length===0)throw new Error("At least one index combination is required");for(const c of f.indexCombinations){if(!dp.isCombinationValid(c))throw new Error(`Invalid index combination: ${c}`);d.push({index:f.indexConstructor(f),componentOrder:c,componentOrderInverse:Object.fromEntries(c.map((p,b)=>[p,b]))})}return d}static isCombinationValid(f){for(const d of r.QUAD_TERM_NAMES)if(!f.includes(d))return!1;return f.length===4}get size(){return this._size}addQuad(f){const d=[this.dictionary.encode(f.subject),this.dictionary.encode(f.predicate),this.dictionary.encode(f.object),this.dictionary.encode(f.graph)];let c=!1;for(const p of this.indexesWrapped)c=p.index.set((0,s.orderQuadComponents)(p.componentOrder,d),!0);return c?(this._size++,!0):!1}removeQuad(f){const d=[this.dictionary.encodeOptional(f.subject),this.dictionary.encodeOptional(f.predicate),this.dictionary.encodeOptional(f.object),this.dictionary.encodeOptional(f.graph)];if(d.includes(void 0))return!1;let c=!1;for(const p of this.indexesWrapped)if(c=p.index.remove((0,s.orderQuadComponents)(p.componentOrder,d)),!c)break;return c?(this._size--,!0):!1}remove(f){return f.on("data",d=>this.removeQuad(d)),f}removeMatches(f,d,c,p){return this.remove(this.match(f,d,c,p))}deleteGraph(f){return typeof f=="string"&&(f=this.dataFactory.namedNode(f)),this.removeMatches(void 0,void 0,void 0,f)}import(f){return f.on("data",d=>this.addQuad(d)),f}*readQuads(f,d,c,p){const b=!!this.dictionary.features.quotedTriples&&Object.values(this.indexesWrapped).every(g=>g.index.features.quotedTripleFiltering),[v,_]=(0,s.quadToPattern)(f,d,c,p,b),y=this.indexesWrapped[(0,s.getBestIndex)(this.indexesWrappedComponentOrders,v)],m=(0,s.orderQuadComponents)(y.componentOrder,v);for(const g of y.index.find(m)){const S=this.dataFactory.quad(g[y.componentOrderInverse.subject],g[y.componentOrderInverse.predicate],g[y.componentOrderInverse.object],g[y.componentOrderInverse.graph]);_?(0,r.matchPattern)(S,f,d,c,p)&&(yield S):yield S}}getQuads(f,d,c,p){return[...this.readQuads(f,d,c,p)]}match(f,d,c,p){return(0,e.wrap)(this.readQuads(f,d,c,p))}countQuads(f,d,c,p){const b=!!this.dictionary.features.quotedTriples&&Object.values(this.indexesWrapped).every(m=>m.index.features.quotedTripleFiltering),[v]=(0,s.quadToPattern)(f,d,c,p,b);if(v.every(m=>m===void 0))return this.size;const _=this.indexesWrapped[(0,s.getBestIndex)(this.indexesWrappedComponentOrders,v)],y=(0,s.orderQuadComponents)(_.componentOrder,v);return _.index.count(y)}asDataset(){return new n.DatasetCoreWrapper(this)}};return l.DEFAULT_INDEX_COMBINATIONS=[["graph","subject","predicate","object"],["graph","predicate","object","subject"],["graph","object","subject","predicate"]],lf.RdfStore=l,lf}var KI;function J4(){if(KI)return uf;KI=1,Object.defineProperty(uf,"__esModule",{value:!0}),uf.DatasetCoreWrapper=void 0;const e=Y4();let t=class X4{constructor(n){this.store=n}get size(){return this.store.size}add(n){return this.store.addQuad(n),this}delete(n){return this.store.removeQuad(n),this}has(n){for(const i of this.store.readQuads(n.subject,n.predicate,n.object,n.graph))return!0;return!1}match(n,i,a,o){const s=new e.RdfStore(this.store.options);for(const l of this.store.readQuads(n,i,a,o))s.addQuad(l);return new X4(s)}[Symbol.iterator](){return this.store.readQuads()}};return uf.DatasetCoreWrapper=t,uf}var ob={},QI;function gZ(){return QI||(QI=1,Object.defineProperty(ob,"__esModule",{value:!0})),ob}var $f={},ZI;function _Z(){if(ZI)return $f;ZI=1,Object.defineProperty($f,"__esModule",{value:!0}),$f.TermDictionaryNumberMap=void 0;const e=Ho(),t=h0();let r=class{constructor(i=new e.DataFactory){this.lastId=0,this.dictionary=new Map,this.reverseDictionary=new Map,this.features={quotedTriples:!1},this.dataFactory=i}encode(i){const a=(0,t.termToString)(i);let o=this.dictionary.get(a);return o===void 0&&(o=this.lastId++,this.dictionary.set(a,o),this.reverseDictionary.set(o,a)),o}encodeOptional(i){const a=(0,t.termToString)(i);return this.dictionary.get(a)}decode(i){const a=this.reverseDictionary.get(i);if(a===void 0)throw new Error(`The value ${i} is not present in this dictionary`);return(0,t.stringToTerm)(a,this.dataFactory)}encodings(){return this.reverseDictionary.keys()}findQuotedTriples(i){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(i){throw new Error("findQuotedTriplesEncoded is not supported")}};return $f.TermDictionaryNumberMap=r,$f}var Uf={},YI;function bZ(){if(YI)return Uf;YI=1,Object.defineProperty(Uf,"__esModule",{value:!0}),Uf.TermDictionaryNumberRecord=void 0;const e=Ho(),t=h0();let r=class{constructor(i=new e.DataFactory){this.lastId=0,this.dictionary={},this.reverseDictionary={},this.features={quotedTriples:!1},this.dataFactory=i}encode(i){const a=(0,t.termToString)(i);let o=this.dictionary[a];return o===void 0&&(o=this.lastId++,this.dictionary[a]=o,this.reverseDictionary[o]=a),o}encodeOptional(i){const a=(0,t.termToString)(i);return this.dictionary[a]}decode(i){const a=this.reverseDictionary[i];if(a===void 0)throw new Error(`The value ${i} is not present in this dictionary`);return(0,t.stringToTerm)(a,this.dataFactory)}*encodings(){for(const i of Object.keys(this.reverseDictionary))yield Number.parseInt(i,10)}findQuotedTriples(i){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(i){throw new Error("findQuotedTriplesEncoded is not supported")}};return Uf.TermDictionaryNumberRecord=r,Uf}var Vf={},XI;function vZ(){if(XI)return Vf;XI=1,Object.defineProperty(Vf,"__esModule",{value:!0}),Vf.TermDictionaryQuoted=void 0;const e=Ho(),t=Xy();let r=class Ts{constructor(i,a,o=new e.DataFactory){this.features={quotedTriples:!0},this.plainTermDictionary=i,this.quotedTriplesDictionary=a,this.dataFactory=o}encode(i){return i.termType==="Quad"?Ts.BITMASK|1+this.quotedTriplesDictionary.encode(i):this.plainTermDictionary.encode(i)}encodeOptional(i){if(i.termType==="Quad"){const a=this.quotedTriplesDictionary.encodeOptional(i);return a===void 0?a:Ts.BITMASK|1+a}return this.plainTermDictionary.encodeOptional(i)}decode(i){if(Ts.BITMASK&i){const a=(~Ts.BITMASK&i)-1;return this.quotedTriplesDictionary.decode(a)}return this.plainTermDictionary.decode(i)}*encodings(){for(const i of this.plainTermDictionary.encodings())yield i;for(const i of this.quotedTriplesDictionary.encodings())yield Ts.BITMASK|1+i}*findQuotedTriples(i){for(const a of this.findQuotedTriplesEncoded(i))yield this.decode(a)}*findQuotedTriplesEncoded(i){for(let a of this.quotedTriplesDictionary.encodings()){a=Ts.BITMASK|1+a;const o=this.decode(a);(0,t.matchPattern)(o,i.subject,i.predicate,i.object,i.graph)&&(yield a)}}};return r.BITMASK=1<<31,Vf.TermDictionaryQuoted=r,Vf}var Hf={},JI;function wZ(){if(JI)return Hf;JI=1,Object.defineProperty(Hf,"__esModule",{value:!0}),Hf.TermDictionaryQuotedReferential=void 0;const e=Ho(),t=Xy(),r=ba();let n=class ka{constructor(a,o=new e.DataFactory){this.quotedTriplesDictionary=[],this.quotedTriplesReverseDictionary={},this.features={quotedTriples:!0},this.plainTermDictionary=a,this.dataFactory=o}encode(a){return a.termType==="Quad"?this.encodeQuotedTriple(a,!1):this.plainTermDictionary.encode(a)}encodeQuotedTriple(a,o){var s;if(a.graph.termType!=="DefaultGraph")throw new Error("Encoding of quoted quads outside of the default graph is not allowed");const l=(s=(0,r.encodeOptionalTerms)([a.subject,a.predicate,a.object,void 0],this))===null||s===void 0?void 0:s.slice(0,3),u=l&&l.every(c=>c!==void 0)?this.quotedTriplesReverseDictionary[l.join(ka.SEPARATOR)]:void 0;if(u!==void 0||o)return u===void 0?void 0:ka.BITMASK|u;const f=[this.encode(a.subject),this.encode(a.predicate),this.encode(a.object)],d=this.quotedTriplesDictionary.length+1;return this.quotedTriplesDictionary.push(f),this.quotedTriplesReverseDictionary[f.join(ka.SEPARATOR)]=d,ka.BITMASK|d}encodeOptional(a){return a.termType==="Quad"?this.encodeQuotedTriple(a,!0):this.plainTermDictionary.encodeOptional(a)}decode(a){if(ka.BITMASK&a){const o=(~ka.BITMASK&a)-1;if(o>=this.quotedTriplesDictionary.length)throw new Error(`The value ${a} is not present in the quoted triples range of the dictionary`);const s=this.quotedTriplesDictionary[o];return this.dataFactory.quad(this.decode(s[0]),this.decode(s[1]),this.decode(s[2]))}return this.plainTermDictionary.decode(a)}*encodings(){for(const a of this.plainTermDictionary.encodings())yield a;for(const a of this.quotedTriplesDictionary.keys())yield ka.BITMASK|1+a}*findQuotedTriples(a){for(const o of this.findQuotedTriplesEncoded(a))yield this.decode(o)}*findQuotedTriplesEncoded(a){for(let o of this.quotedTriplesDictionary.keys()){o=ka.BITMASK|1+o;const s=this.decode(o);(0,t.matchPattern)(s,a.subject,a.predicate,a.object,a.graph)&&(yield o)}}};return n.BITMASK=1<<31,n.SEPARATOR="_",Hf.TermDictionaryQuotedReferential=n,Hf}var zf={},eP;function SZ(){if(eP)return zf;eP=1,Object.defineProperty(zf,"__esModule",{value:!0}),zf.TermDictionarySymbol=void 0;const e=Ho(),t=h0();let r=class{constructor(i=new e.DataFactory){this.features={quotedTriples:!1},this.dataFactory=i}encode(i){return Symbol.for(`rdf::${(0,t.termToString)(i)}`)}encodeOptional(i){return this.encode(i)}decode(i){const a=Symbol.keyFor(i);if(a===void 0)throw new Error(`The value ${String(i)} is not present in this dictionary`);return(0,t.stringToTerm)(a.slice(5),this.dataFactory)}encodings(){throw new Error("encodings is not supported")}findQuotedTriples(i){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(i){throw new Error("findQuotedTriplesEncoded is not supported")}};return zf.TermDictionarySymbol=r,zf}var sb={},tP;function EZ(){return tP||(tP=1,Object.defineProperty(sb,"__esModule",{value:!0})),sb}var Gf={},rP;function eB(){if(rP)return Gf;rP=1,Object.defineProperty(Gf,"__esModule",{value:!0}),Gf.RdfStoreIndexNestedMapRecursive=void 0;const e=ba();let t=class{constructor(n){this.features={quotedTripleFiltering:!1},this.dictionary=n.dictionary,this.nestedMap=new Map}set(n,i){let a=this.nestedMap,o=!1;for(const[s,l]of n.entries()){const u=a;let f=u.get(l);f?s===n.length-1&&(o=!0):(f=s===n.length-1?i:new Map,u.set(l,f)),a=f}return!o}remove(n){const i=this.nestedMap,a=i.get(n[0]);if(!a)return!1;const o=a.get(n[1]);if(!o)return!1;const s=o.get(n[2]);if(!s)return!1;const l=s.delete(n[3]);return l&&s.size===0&&(o.delete(n[2]),o.size===0&&(a.delete(n[1]),a.size===0&&i.delete(n[0]))),l}get(n){const i=(0,e.encodeOptionalTerms)(n,this.dictionary);if(!(!i||i.includes(void 0)))return this.getEncoded(i)}getEncoded(n){const i=this.nestedMap.get(n[0]);if(!i)return;const a=i.get(n[1]);if(!a)return;const o=a.get(n[2]);if(o)return o.get(n[3])}*find(n){const i=(0,e.encodeOptionalTerms)(n,this.dictionary);if(i)for(const a of this.findEncoded(i,n))yield[i[0]!==void 0?n[0]:this.dictionary.decode(a[0]),i[1]!==void 0?n[1]:this.dictionary.decode(a[1]),i[2]!==void 0?n[2]:this.dictionary.decode(a[2]),i[3]!==void 0?n[3]:this.dictionary.decode(a[3])]}*findEncoded(n,i){return yield*this.findEncodedInner(0,n,i,this.nestedMap,[])}*findEncodedInner(n,i,a,o,s){if(n===i.length)yield[...s];else{const l=i[n];if(a[n]){const f=l;if(f!==void 0){const d=o.get(f);d&&(s[n]=l,yield*this.findEncodedInner(n+1,i,a,d,s))}}else for(const[f,d]of o.entries())s[n]=f,yield*this.findEncodedInner(n+1,i,a,d,s)}}count(n){return this.countInner(0,n,this.nestedMap)}countInner(n,i,a){const o=i[n];let s=0;if(o){const l=this.dictionary.encodeOptional(o);if(l!==void 0){if(n===i.length-1)return a.has(l)?1:0;const u=a.get(l);u&&(s+=this.countInner(n+1,i,u))}}else{if(n===i.length-1)return a.size;for(const l of a.values())s+=this.countInner(n+1,i,l)}return s}};return Gf.RdfStoreIndexNestedMapRecursive=t,Gf}var Wf={},nP;function TZ(){if(nP)return Wf;nP=1,Object.defineProperty(Wf,"__esModule",{value:!0}),Wf.RdfStoreIndexNestedMapRecursiveQuoted=void 0;const e=ba(),t=eB();let r=class extends t.RdfStoreIndexNestedMapRecursive{constructor(i){super(i),this.features={quotedTripleFiltering:!0}}*findEncoded(i,a){return yield*this.findEncodedInnerQuoted(0,i,a,(0,e.arePatternsQuoted)(a),this.nestedMap,[])}*findEncodedInnerQuoted(i,a,o,s,l,u){if(i===a.length)yield[...u];else{const f=a[i],d=o[i];if(d)if(s[i]){const c=this.dictionary.findQuotedTriplesEncoded(d);for(const p of c){const b=l.get(p);b&&(u[i]=p,yield*this.findEncodedInnerQuoted(i+1,a,o,s,b,u))}}else{const c=f;if(c!==void 0){const p=l.get(c);p&&(u[i]=f,yield*this.findEncodedInnerQuoted(i+1,a,o,s,p,u))}}else for(const[c,p]of l.entries())u[i]=c,yield*this.findEncodedInnerQuoted(i+1,a,o,s,p,u)}}countInner(i,a,o){const s=a[i];let l=0;if(s)if(s.termType==="Quad"&&(0,e.quadHasVariables)(s)){const u=this.dictionary.findQuotedTriplesEncoded(s);for(const f of u)if(i===a.length-1)o.has(f)&&l++;else{const d=o.get(f);d&&(l+=this.countInner(i+1,a,d))}}else{const u=this.dictionary.encodeOptional(s);if(u!==void 0){if(i===a.length-1)return o.has(u)?1:0;const f=o.get(u);f&&(l+=this.countInner(i+1,a,f))}}else{if(i===a.length-1)return o.size;for(const u of o.values())l+=this.countInner(i+1,a,u)}return l}};return Wf.RdfStoreIndexNestedMapRecursiveQuoted=r,Wf}var Kf={},iP;function tB(){if(iP)return Kf;iP=1,Object.defineProperty(Kf,"__esModule",{value:!0}),Kf.RdfStoreIndexNestedRecord=void 0;const e=ba();let t=class{constructor(n){this.features={quotedTripleFiltering:!1},this.dictionary=n.dictionary,this.nestedRecords={}}set(n,i){const a=this.nestedRecords,o=a[n[0]]||(a[n[0]]={}),s=o[n[1]]||(o[n[1]]={}),l=s[n[2]]||(s[n[2]]={});return l[n[3]]?!1:(l[n[3]]=i,!0)}remove(n){const i=this.nestedRecords,a=i[n[0]];if(!a)return!1;const o=a[n[1]];if(!o)return!1;const s=o[n[2]];return!s||!s[n[3]]?!1:(delete s[n[3]],Object.keys(s).length===0&&(delete o[n[2]],Object.keys(o).length===0&&(delete a[n[1]],Object.keys(a).length===0&&delete i[n[0]])),!0)}get(n){const i=(0,e.encodeOptionalTerms)(n,this.dictionary);if(!(!i||i.includes(void 0)))return this.getEncoded(i)}getEncoded(n){var i,a,o;return(o=(a=(i=this.nestedRecords[n[0]])===null||i===void 0?void 0:i[n[1]])===null||a===void 0?void 0:a[n[2]])===null||o===void 0?void 0:o[n[3]]}*find(n){const i=(0,e.encodeOptionalTerms)(n,this.dictionary);if(!i)return;const[a,o,s,l]=i,[u,f,d,c]=n;let p,b,v,_,y,m,g;const S=this.nestedRecords,x=a!==void 0?a in S?[a]:[]:Object.keys(S);for(const I of x){y=S[I],p=u||this.dictionary.decode(Number.parseInt(I,10));const N=o!==void 0?o in y?[o]:[]:Object.keys(y);for(const q of N){m=y[q],b=f||this.dictionary.decode(Number.parseInt(q,10));const D=s!==void 0?s in m?[s]:[]:Object.keys(m);for(const M of D){g=m[M],v=d||this.dictionary.decode(Number.parseInt(M,10));const j=l!==void 0?l in g?[l]:[]:Object.keys(g);for(const P of j)_=c||this.dictionary.decode(Number.parseInt(P,10)),yield[p,b,v,_]}}}}*findEncoded(n,i){const[a,o,s,l]=n;let u,f,d;const c=this.nestedRecords,p=a!==void 0?a in c?[a]:[]:Object.keys(c);for(const b of p){u=c[b];const v=o!==void 0?o in u?[o]:[]:Object.keys(u);for(const _ of v){f=u[_];const y=s!==void 0?s in f?[s]:[]:Object.keys(f);for(const m of y){d=f[m];const g=l!==void 0?l in d?[l]:[]:Object.keys(d);for(const S of g)yield[Number.parseInt(b,10),Number.parseInt(_,10),Number.parseInt(m,10),Number.parseInt(S,10)]}}}}count(n){let i=0;const a=(0,e.encodeOptionalTerms)(n,this.dictionary);if(!a)return 0;const o=a[0],s=a[1],l=a[2],u=a[3];let f,d,c;const p=this.nestedRecords,b=o!==void 0?o in p?[o]:[]:Object.keys(p);for(const v of b){f=p[v];const _=s!==void 0?s in f?[s]:[]:Object.keys(f);for(const y of _){d=f[y];const m=l!==void 0?l in d?[l]:[]:Object.keys(d);for(const g of m)c=d[g],u!==void 0?u in c&&i++:i+=Object.keys(c).length}}return i}};return Kf.RdfStoreIndexNestedRecord=t,Kf}var Qf={},aP;function xZ(){if(aP)return Qf;aP=1,Object.defineProperty(Qf,"__esModule",{value:!0}),Qf.RdfStoreIndexNestedRecordQuoted=void 0;const e=ba(),t=tB();let r=class extends t.RdfStoreIndexNestedRecord{constructor(i){super(i),this.features={quotedTripleFiltering:!0}}*getQuotedPatternKeys(i,a){for(const o of this.dictionary.findQuotedTriplesEncoded(a))o in i&&(yield o)}*find(i){const a=(0,e.encodeOptionalTerms)(i,this.dictionary);if(!a)return;const[o,s,l,u]=a,[f,d,c,p]=i,[b,v,_,y]=(0,e.arePatternsQuoted)(i);let m,g,S,x,I,N,q;const D=this.nestedRecords,M=f!==void 0?b?this.getQuotedPatternKeys(D,f):o in D?[o]:[]:Object.keys(D);for(const j of M){I=D[j],m=!b&&f?f:this.dictionary.decode(Number.parseInt(j,10));const P=d!==void 0?v?this.getQuotedPatternKeys(I,d):s in I?[s]:[]:Object.keys(I);for(const B of P){N=I[B],g=!v&&d?d:this.dictionary.decode(Number.parseInt(B,10));const Y=c!==void 0?_?this.getQuotedPatternKeys(N,c):l in N?[l]:[]:Object.keys(N);for(const ie of Y){q=N[ie],S=!_&&c?c:this.dictionary.decode(Number.parseInt(ie,10));const X=p!==void 0?y?this.getQuotedPatternKeys(q,p):u in q?[u]:[]:Object.keys(q);for(const le of X)x=!y&&p?p:this.dictionary.decode(Number.parseInt(le,10)),yield[m,g,S,x]}}}}*findEncoded(i,a){const[o,s,l,u]=i,[f,d,c,p]=a,[b,v,_,y]=(0,e.arePatternsQuoted)(a);let m,g,S;const x=this.nestedRecords,I=f!==void 0?b?this.getQuotedPatternKeys(x,f):o in x?[o]:[]:Object.keys(x);for(const N of I){m=x[N];const q=d!==void 0?v?this.getQuotedPatternKeys(m,d):s in m?[s]:[]:Object.keys(m);for(const D of q){g=m[D];const M=c!==void 0?_?this.getQuotedPatternKeys(g,c):l in g?[l]:[]:Object.keys(g);for(const j of M){S=g[j];const P=p!==void 0?y?this.getQuotedPatternKeys(S,p):u in S?[u]:[]:Object.keys(S);for(const B of P)yield[Number.parseInt(N,10),Number.parseInt(D,10),Number.parseInt(j,10),Number.parseInt(B,10)]}}}}count(i){let a=0;const o=(0,e.encodeOptionalTerms)(i,this.dictionary);if(!o)return 0;const[s,l,u,f]=o,[d,c,p,b]=i,[v,_,y,m]=(0,e.arePatternsQuoted)(i);let g,S,x;const I=this.nestedRecords,N=d!==void 0?v?this.getQuotedPatternKeys(I,d):s in I?[s]:[]:Object.keys(I);for(const q of N){g=I[q];const D=c!==void 0?_?this.getQuotedPatternKeys(g,c):l in g?[l]:[]:Object.keys(g);for(const M of D){S=g[M];const j=p!==void 0?y?this.getQuotedPatternKeys(S,p):u in S?[u]:[]:Object.keys(S);for(const P of j)x=S[P],b!==void 0?m?a+=[...this.getQuotedPatternKeys(x,b)].length:f in x&&a++:a+=Object.keys(x).length}}return a}};return Qf.RdfStoreIndexNestedRecordQuoted=r,Qf}var ub={},oP;function RZ(){return oP||(oP=1,Object.defineProperty(ub,"__esModule",{value:!0})),ub}var lb={},sP;function AZ(){return sP||(sP=1,Object.defineProperty(lb,"__esModule",{value:!0})),lb}var uP;function rB(){return uP||(uP=1,function(e){var t=sf.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=sf.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(J4(),e),r(gZ(),e),r(_Z(),e),r(bZ(),e),r(K4(),e),r(vZ(),e),r(Q4(),e),r(wZ(),e),r(SZ(),e),r(EZ(),e),r(BT(),e),r(Z4(),e),r(eB(),e),r(TZ(),e),r(tB(),e),r(xZ(),e),r(RZ(),e),r(ba(),e),r(AZ(),e),r(Y4(),e)}(sf)),sf}var ju=rB(),Zf={},Yf={},lP;function nB(){if(lP)return Yf;lP=1,Object.defineProperty(Yf,"__esModule",{value:!0}),Yf.BlankNode=void 0;class e{constructor(r){this.termType="BlankNode",this.value=r}equals(r){return!!r&&r.termType==="BlankNode"&&r.value===this.value}}return Yf.BlankNode=e,Yf}var Xf={},Jf={},fP;function iB(){if(fP)return Jf;fP=1,Object.defineProperty(Jf,"__esModule",{value:!0}),Jf.DefaultGraph=void 0;class e{constructor(){this.termType="DefaultGraph",this.value=""}equals(r){return!!r&&r.termType==="DefaultGraph"}}return Jf.DefaultGraph=e,e.INSTANCE=new e,Jf}var ec={},tc={},cP;function $T(){if(cP)return tc;cP=1,Object.defineProperty(tc,"__esModule",{value:!0}),tc.NamedNode=void 0;class e{constructor(r){this.termType="NamedNode",this.value=r}equals(r){return!!r&&r.termType==="NamedNode"&&r.value===this.value}}return tc.NamedNode=e,tc}var dP;function aB(){if(dP)return ec;dP=1,Object.defineProperty(ec,"__esModule",{value:!0}),ec.Literal=void 0;const e=$T();class t{constructor(n,i){this.termType="Literal",this.value=n,typeof i=="string"?(this.language=i,this.datatype=t.RDF_LANGUAGE_STRING):i?(this.language="",this.datatype=i):(this.language="",this.datatype=t.XSD_STRING)}equals(n){return!!n&&n.termType==="Literal"&&n.value===this.value&&n.language===this.language&&this.datatype.equals(n.datatype)}}return ec.Literal=t,t.RDF_LANGUAGE_STRING=new e.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.XSD_STRING=new e.NamedNode("http://www.w3.org/2001/XMLSchema#string"),ec}var rc={},hP;function oB(){if(hP)return rc;hP=1,Object.defineProperty(rc,"__esModule",{value:!0}),rc.Quad=void 0;class e{constructor(r,n,i,a){this.termType="Quad",this.value="",this.subject=r,this.predicate=n,this.object=i,this.graph=a}equals(r){return!!r&&(r.termType==="Quad"||!r.termType)&&this.subject.equals(r.subject)&&this.predicate.equals(r.predicate)&&this.object.equals(r.object)&&this.graph.equals(r.graph)}}return rc.Quad=e,rc}var nc={},pP;function sB(){if(pP)return nc;pP=1,Object.defineProperty(nc,"__esModule",{value:!0}),nc.Variable=void 0;class e{constructor(r){this.termType="Variable",this.value=r}equals(r){return!!r&&r.termType==="Variable"&&r.value===this.value}}return nc.Variable=e,nc}var mP;function IZ(){if(mP)return Xf;mP=1,Object.defineProperty(Xf,"__esModule",{value:!0}),Xf.DataFactory=void 0;const e=nB(),t=iB(),r=aB(),n=$T(),i=oB(),a=sB();let o=0;class s{constructor(u){this.blankNodeCounter=0,u=u||{},this.blankNodePrefix=u.blankNodePrefix||`df_${o++}_`}namedNode(u){return new n.NamedNode(u)}blankNode(u){return new e.BlankNode(u||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(u,f){return new r.Literal(u,f)}variable(u){return new a.Variable(u)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(u,f,d,c){return new i.Quad(u,f,d,c||this.defaultGraph())}fromTerm(u){switch(u.termType){case"NamedNode":return this.namedNode(u.value);case"BlankNode":return this.blankNode(u.value);case"Literal":return u.language?this.literal(u.value,u.language):u.datatype.equals(r.Literal.XSD_STRING)?this.literal(u.value):this.literal(u.value,this.fromTerm(u.datatype));case"Variable":return this.variable(u.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(u.subject),this.fromTerm(u.predicate),this.fromTerm(u.object),this.fromTerm(u.graph))}}fromQuad(u){return this.fromTerm(u)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return Xf.DataFactory=s,Xf}var yP;function PZ(){return yP||(yP=1,function(e){var t=Zf.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=Zf.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(nB(),e),r(IZ(),e),r(iB(),e),r(aB(),e),r($T(),e),r(oB(),e),r(sB(),e)}(Zf)),Zf}var UT=PZ(),fb={},dm={},cb,gP;function ni(){if(gP)return cb;gP=1;function e(b){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},e(b)}function t(b,v,_){return Object.defineProperty(b,"prototype",{writable:!1}),b}function r(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}function n(b,v,_){return v=c(v),i(b,u()?Reflect.construct(v,_,c(b).constructor):v.apply(b,_))}function i(b,v){if(v&&(e(v)=="object"||typeof v=="function"))return v;if(v!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a(b)}function a(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}function o(b,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(v&&v.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),Object.defineProperty(b,"prototype",{writable:!1}),v&&d(b,v)}function s(b){var v=typeof Map=="function"?new Map:void 0;return s=function(y){if(y===null||!f(y))return y;if(typeof y!="function")throw new TypeError("Super expression must either be null or a function");if(v!==void 0){if(v.has(y))return v.get(y);v.set(y,m)}function m(){return l(y,arguments,c(this).constructor)}return m.prototype=Object.create(y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),d(m,y)},s(b)}function l(b,v,_){if(u())return Reflect.construct.apply(null,arguments);var y=[null];y.push.apply(y,v);var m=new(b.bind.apply(b,y));return _&&d(m,_.prototype),m}function u(){try{var b=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u=function(){return!!b})()}function f(b){try{return Function.toString.call(b).indexOf("[native code]")!==-1}catch{return typeof b=="function"}}function d(b,v){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,y){return _.__proto__=y,_},d(b,v)}function c(b){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(v){return v.__proto__||Object.getPrototypeOf(v)},c(b)}var p=function(b){function v(_){var y;return r(this,v),y=n(this,v,[`Format functions must be synchronous taking a two arguments: (info, opts)
Found: `.concat(_.toString().split(`
`)[0],`
`)]),Error.captureStackTrace(y,v),y}return o(v,b),t(v)}(s(Error));return cb=function(b){if(b.length>2)throw new p(b);function v(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=y}v.prototype.transform=b;function _(y){return new v(y)}return _.Format=v,_},cb}var ic={exports:{}},db={exports:{}},hb={exports:{}},pb={},mb={},yb,_P;function VT(){return _P||(_P=1,yb=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;t[r]=i;for(var a in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var o=Object.getOwnPropertySymbols(t);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(t,r);if(s.value!==i||s.enumerable!==!0)return!1}return!0}),yb}var gb,bP;function Jy(){if(bP)return gb;bP=1;var e=VT();return gb=function(){return e()&&!!Symbol.toStringTag},gb}var _b,vP;function HT(){return vP||(vP=1,_b=Object),_b}var bb,wP;function OZ(){return wP||(wP=1,bb=Error),bb}var vb,SP;function NZ(){return SP||(SP=1,vb=EvalError),vb}var wb,EP;function DZ(){return EP||(EP=1,wb=RangeError),wb}var Sb,TP;function CZ(){return TP||(TP=1,Sb=ReferenceError),Sb}var Eb,xP;function uB(){return xP||(xP=1,Eb=SyntaxError),Eb}var Tb,RP;function to(){return RP||(RP=1,Tb=TypeError),Tb}var xb,AP;function LZ(){return AP||(AP=1,xb=URIError),xb}var Rb,IP;function MZ(){return IP||(IP=1,Rb=Math.abs),Rb}var Ab,PP;function kZ(){return PP||(PP=1,Ab=Math.floor),Ab}var Ib,OP;function FZ(){return OP||(OP=1,Ib=Math.max),Ib}var Pb,NP;function jZ(){return NP||(NP=1,Pb=Math.min),Pb}var Ob,DP;function qZ(){return DP||(DP=1,Ob=Math.pow),Ob}var Nb,CP;function BZ(){return CP||(CP=1,Nb=Math.round),Nb}var Db,LP;function $Z(){return LP||(LP=1,Db=Number.isNaN||function(t){return t!==t}),Db}var Cb,MP;function UZ(){if(MP)return Cb;MP=1;var e=$Z();return Cb=function(r){return e(r)||r===0?r:r<0?-1:1},Cb}var Lb,kP;function VZ(){return kP||(kP=1,Lb=Object.getOwnPropertyDescriptor),Lb}var Mb,FP;function nl(){if(FP)return Mb;FP=1;var e=VZ();if(e)try{e([],"length")}catch{e=null}return Mb=e,Mb}var kb,jP;function eg(){if(jP)return kb;jP=1;var e=Object.defineProperty||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return kb=e,kb}var Fb,qP;function HZ(){if(qP)return Fb;qP=1;var e=typeof Symbol<"u"&&Symbol,t=VT();return Fb=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},Fb}var jb,BP;function lB(){return BP||(BP=1,jb=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),jb}var qb,$P;function fB(){if($P)return qb;$P=1;var e=HT();return qb=e.getPrototypeOf||null,qb}var Bb,UP;function zZ(){if(UP)return Bb;UP=1;var e="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,r=Math.max,n="[object Function]",i=function(l,u){for(var f=[],d=0;d<l.length;d+=1)f[d]=l[d];for(var c=0;c<u.length;c+=1)f[c+l.length]=u[c];return f},a=function(l,u){for(var f=[],d=u,c=0;d<l.length;d+=1,c+=1)f[c]=l[d];return f},o=function(s,l){for(var u="",f=0;f<s.length;f+=1)u+=s[f],f+1<s.length&&(u+=l);return u};return Bb=function(l){var u=this;if(typeof u!="function"||t.apply(u)!==n)throw new TypeError(e+u);for(var f=a(arguments,1),d,c=function(){if(this instanceof d){var y=u.apply(this,i(f,arguments));return Object(y)===y?y:this}return u.apply(l,i(f,arguments))},p=r(0,u.length-f.length),b=[],v=0;v<p;v++)b[v]="$"+v;if(d=Function("binder","return function ("+o(b,",")+"){ return binder.apply(this,arguments); }")(c),u.prototype){var _=function(){};_.prototype=u.prototype,d.prototype=new _,_.prototype=null}return d},Bb}var $b,VP;function p0(){if(VP)return $b;VP=1;var e=zZ();return $b=Function.prototype.bind||e,$b}var Ub,HP;function zT(){return HP||(HP=1,Ub=Function.prototype.call),Ub}var Vb,zP;function GT(){return zP||(zP=1,Vb=Function.prototype.apply),Vb}var Hb,GP;function GZ(){return GP||(GP=1,Hb=typeof Reflect<"u"&&Reflect&&Reflect.apply),Hb}var zb,WP;function cB(){if(WP)return zb;WP=1;var e=p0(),t=GT(),r=zT(),n=GZ();return zb=n||e.call(r,t),zb}var Gb,KP;function WT(){if(KP)return Gb;KP=1;var e=p0(),t=to(),r=zT(),n=cB();return Gb=function(a){if(a.length<1||typeof a[0]!="function")throw new t("a function is required");return n(e,r,a)},Gb}var Wb,QP;function WZ(){if(QP)return Wb;QP=1;var e=WT(),t=nl(),r;try{r=[].__proto__===Array.prototype}catch(o){if(!o||typeof o!="object"||!("code"in o)||o.code!=="ERR_PROTO_ACCESS")throw o}var n=!!r&&t&&t(Object.prototype,"__proto__"),i=Object,a=i.getPrototypeOf;return Wb=n&&typeof n.get=="function"?e([n.get]):typeof a=="function"?function(s){return a(s==null?s:i(s))}:!1,Wb}var Kb,ZP;function dB(){if(ZP)return Kb;ZP=1;var e=lB(),t=fB(),r=WZ();return Kb=e?function(i){return e(i)}:t?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return t(i)}:r?function(i){return r(i)}:null,Kb}var Qb,YP;function hB(){if(YP)return Qb;YP=1;var e=Function.prototype.call,t=Object.prototype.hasOwnProperty,r=p0();return Qb=r.call(e,t),Qb}var Zb,XP;function m0(){if(XP)return Zb;XP=1;var e,t=HT(),r=OZ(),n=NZ(),i=DZ(),a=CZ(),o=uB(),s=to(),l=LZ(),u=MZ(),f=kZ(),d=FZ(),c=jZ(),p=qZ(),b=BZ(),v=UZ(),_=Function,y=function(te){try{return _('"use strict"; return ('+te+").constructor;")()}catch{}},m=nl(),g=eg(),S=function(){throw new s},x=m?function(){try{return arguments.callee,S}catch{try{return m(arguments,"callee").get}catch{return S}}}():S,I=HZ()(),N=dB(),q=fB(),D=lB(),M=GT(),j=zT(),P={},B=typeof Uint8Array>"u"||!N?e:N(Uint8Array),Y={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?e:ArrayBuffer,"%ArrayIteratorPrototype%":I&&N?N([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":P,"%AsyncGenerator%":P,"%AsyncGeneratorFunction%":P,"%AsyncIteratorPrototype%":P,"%Atomics%":typeof Atomics>"u"?e:Atomics,"%BigInt%":typeof BigInt>"u"?e:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?e:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":r,"%eval%":eval,"%EvalError%":n,"%Float32Array%":typeof Float32Array>"u"?e:Float32Array,"%Float64Array%":typeof Float64Array>"u"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?e:FinalizationRegistry,"%Function%":_,"%GeneratorFunction%":P,"%Int8Array%":typeof Int8Array>"u"?e:Int8Array,"%Int16Array%":typeof Int16Array>"u"?e:Int16Array,"%Int32Array%":typeof Int32Array>"u"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":I&&N?N(N([][Symbol.iterator]())):e,"%JSON%":typeof JSON=="object"?JSON:e,"%Map%":typeof Map>"u"?e:Map,"%MapIteratorPrototype%":typeof Map>"u"||!I||!N?e:N(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":t,"%Object.getOwnPropertyDescriptor%":m,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?e:Promise,"%Proxy%":typeof Proxy>"u"?e:Proxy,"%RangeError%":i,"%ReferenceError%":a,"%Reflect%":typeof Reflect>"u"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?e:Set,"%SetIteratorPrototype%":typeof Set>"u"||!I||!N?e:N(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":I&&N?N(""[Symbol.iterator]()):e,"%Symbol%":I?Symbol:e,"%SyntaxError%":o,"%ThrowTypeError%":x,"%TypedArray%":B,"%TypeError%":s,"%Uint8Array%":typeof Uint8Array>"u"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?e:Uint32Array,"%URIError%":l,"%WeakMap%":typeof WeakMap>"u"?e:WeakMap,"%WeakRef%":typeof WeakRef>"u"?e:WeakRef,"%WeakSet%":typeof WeakSet>"u"?e:WeakSet,"%Function.prototype.call%":j,"%Function.prototype.apply%":M,"%Object.defineProperty%":g,"%Object.getPrototypeOf%":q,"%Math.abs%":u,"%Math.floor%":f,"%Math.max%":d,"%Math.min%":c,"%Math.pow%":p,"%Math.round%":b,"%Math.sign%":v,"%Reflect.getPrototypeOf%":D};if(N)try{null.error}catch(te){var ie=N(N(te));Y["%Error.prototype%"]=ie}var X=function te(pe){var R;if(pe==="%AsyncFunction%")R=y("async function () {}");else if(pe==="%GeneratorFunction%")R=y("function* () {}");else if(pe==="%AsyncGeneratorFunction%")R=y("async function* () {}");else if(pe==="%AsyncGenerator%"){var w=te("%AsyncGeneratorFunction%");w&&(R=w.prototype)}else if(pe==="%AsyncIteratorPrototype%"){var T=te("%AsyncGenerator%");T&&N&&(R=N(T.prototype))}return Y[pe]=R,R},le={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ae=p0(),ne=hB(),H=ae.call(j,Array.prototype.concat),oe=ae.call(M,Array.prototype.splice),he=ae.call(j,String.prototype.replace),Z=ae.call(j,String.prototype.slice),Q=ae.call(j,RegExp.prototype.exec),ee=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,O=/\\(\\)?/g,A=function(pe){var R=Z(pe,0,1),w=Z(pe,-1);if(R==="%"&&w!=="%")throw new o("invalid intrinsic syntax, expected closing `%`");if(w==="%"&&R!=="%")throw new o("invalid intrinsic syntax, expected opening `%`");var T=[];return he(pe,ee,function(k,U,re,fe){T[T.length]=re?he(fe,O,"$1"):U||k}),T},$=function(pe,R){var w=pe,T;if(ne(le,w)&&(T=le[w],w="%"+T[0]+"%"),ne(Y,w)){var k=Y[w];if(k===P&&(k=X(w)),typeof k>"u"&&!R)throw new s("intrinsic "+pe+" exists, but is not available. Please file an issue!");return{alias:T,name:w,value:k}}throw new o("intrinsic "+pe+" does not exist!")};return Zb=function(pe,R){if(typeof pe!="string"||pe.length===0)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof R!="boolean")throw new s('"allowMissing" argument must be a boolean');if(Q(/^%?[^%]*%?$/,pe)===null)throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var w=A(pe),T=w.length>0?w[0]:"",k=$("%"+T+"%",R),U=k.name,re=k.value,fe=!1,ve=k.alias;ve&&(T=ve[0],oe(w,H([0,1],ve)));for(var ce=1,Ie=!0;ce<w.length;ce+=1){var be=w[ce],Te=Z(be,0,1),je=Z(be,-1);if((Te==='"'||Te==="'"||Te==="`"||je==='"'||je==="'"||je==="`")&&Te!==je)throw new o("property names with quotes must have matching quotes");if((be==="constructor"||!Ie)&&(fe=!0),T+="."+be,U="%"+T+"%",ne(Y,U))re=Y[U];else if(re!=null){if(!(be in re)){if(!R)throw new s("base intrinsic for "+pe+" exists, but the property is not available.");return}if(m&&ce+1>=w.length){var Ae=m(re,be);Ie=!!Ae,Ie&&"get"in Ae&&!("originalValue"in Ae.get)?re=Ae.get:re=re[be]}else Ie=ne(re,be),re=re[be];Ie&&!fe&&(Y[U]=re)}}return re},Zb}var Yb,JP;function zo(){if(JP)return Yb;JP=1;var e=m0(),t=WT(),r=t([e("%String.prototype.indexOf%")]);return Yb=function(i,a){var o=e(i,!!a);return typeof o=="function"&&r(i,".prototype.")>-1?t([o]):o},Yb}var Xb,eO;function KZ(){if(eO)return Xb;eO=1;var e=Jy()(),t=zo(),r=t("Object.prototype.toString"),n=function(s){return e&&s&&typeof s=="object"&&Symbol.toStringTag in s?!1:r(s)==="[object Arguments]"},i=function(s){return n(s)?!0:s!==null&&typeof s=="object"&&"length"in s&&typeof s.length=="number"&&s.length>=0&&r(s)!=="[object Array]"&&"callee"in s&&r(s.callee)==="[object Function]"},a=function(){return n(arguments)}();return n.isLegacyArguments=i,Xb=a?n:i,Xb}var Jb,tO;function QZ(){if(tO)return Jb;tO=1;var e=zo(),t=Jy()(),r=hB(),n=nl(),i;if(t){var a=e("RegExp.prototype.exec"),o={},s=function(){throw o},l={toString:s,valueOf:s};typeof Symbol.toPrimitive=="symbol"&&(l[Symbol.toPrimitive]=s),i=function(c){if(!c||typeof c!="object")return!1;var p=n(c,"lastIndex"),b=p&&r(p,"value");if(!b)return!1;try{a(c,l)}catch(v){return v===o}}}else{var u=e("Object.prototype.toString"),f="[object RegExp]";i=function(c){return!c||typeof c!="object"&&typeof c!="function"?!1:u(c)===f}}return Jb=i,Jb}var ev,rO;function ZZ(){if(rO)return ev;rO=1;var e=zo(),t=QZ(),r=e("RegExp.prototype.exec"),n=to();return ev=function(a){if(!t(a))throw new n("`regex` must be a RegExp");return function(s){return r(a,s)!==null}},ev}var tv,nO;function YZ(){if(nO)return tv;nO=1;var e=zo(),t=ZZ(),r=t(/^\s*(?:function)?\*/),n=Jy()(),i=dB(),a=e("Object.prototype.toString"),o=e("Function.prototype.toString"),s=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch{}},l;return tv=function(f){if(typeof f!="function")return!1;if(r(o(f)))return!0;if(!n){var d=a(f);return d==="[object GeneratorFunction]"}if(!i)return!1;if(typeof l>"u"){var c=s();l=c?i(c):!1}return i(f)===l},tv}var rv,iO;function XZ(){if(iO)return rv;iO=1;var e=Function.prototype.toString,t=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,n;if(typeof t=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw n}}),n={},t(function(){throw 42},null,r)}catch(m){m!==n&&(t=null)}else t=null;var i=/^\s*class\b/,a=function(g){try{var S=e.call(g);return i.test(S)}catch{return!1}},o=function(g){try{return a(g)?!1:(e.call(g),!0)}catch{return!1}},s=Object.prototype.toString,l="[object Object]",u="[object Function]",f="[object GeneratorFunction]",d="[object HTMLAllCollection]",c="[object HTML document.all class]",p="[object HTMLCollection]",b=typeof Symbol=="function"&&!!Symbol.toStringTag,v=!(0 in[,]),_=function(){return!1};if(typeof document=="object"){var y=document.all;s.call(y)===s.call(document.all)&&(_=function(g){if((v||!g)&&(typeof g>"u"||typeof g=="object"))try{var S=s.call(g);return(S===d||S===c||S===p||S===l)&&g("")==null}catch{}return!1})}return rv=t?function(g){if(_(g))return!0;if(!g||typeof g!="function"&&typeof g!="object")return!1;try{t(g,null,r)}catch(S){if(S!==n)return!1}return!a(g)&&o(g)}:function(g){if(_(g))return!0;if(!g||typeof g!="function"&&typeof g!="object")return!1;if(b)return o(g);if(a(g))return!1;var S=s.call(g);return S!==u&&S!==f&&!/^\[object HTML/.test(S)?!1:o(g)},rv}var nv,aO;function JZ(){if(aO)return nv;aO=1;var e=XZ(),t=Object.prototype.toString,r=Object.prototype.hasOwnProperty,n=function(l,u,f){for(var d=0,c=l.length;d<c;d++)r.call(l,d)&&(f==null?u(l[d],d,l):u.call(f,l[d],d,l))},i=function(l,u,f){for(var d=0,c=l.length;d<c;d++)f==null?u(l.charAt(d),d,l):u.call(f,l.charAt(d),d,l)},a=function(l,u,f){for(var d in l)r.call(l,d)&&(f==null?u(l[d],d,l):u.call(f,l[d],d,l))},o=function(l,u,f){if(!e(u))throw new TypeError("iterator must be a function");var d;arguments.length>=3&&(d=f),t.call(l)==="[object Array]"?n(l,u,d):typeof l=="string"?i(l,u,d):a(l,u,d)};return nv=o,nv}var iv,oO;function eY(){return oO||(oO=1,iv=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),iv}var av,sO;function tY(){if(sO)return av;sO=1;var e=eY(),t=typeof globalThis>"u"?Tt:globalThis;return av=function(){for(var n=[],i=0;i<e.length;i++)typeof t[e[i]]=="function"&&(n[n.length]=e[i]);return n},av}var ov={exports:{}},sv,uO;function pB(){if(uO)return sv;uO=1;var e=eg(),t=uB(),r=to(),n=nl();return sv=function(a,o,s){if(!a||typeof a!="object"&&typeof a!="function")throw new r("`obj` must be an object or a function`");if(typeof o!="string"&&typeof o!="symbol")throw new r("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new r("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new r("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new r("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new r("`loose`, if provided, must be a boolean");var l=arguments.length>3?arguments[3]:null,u=arguments.length>4?arguments[4]:null,f=arguments.length>5?arguments[5]:null,d=arguments.length>6?arguments[6]:!1,c=!!n&&n(a,o);if(e)e(a,o,{configurable:f===null&&c?c.configurable:!f,enumerable:l===null&&c?c.enumerable:!l,value:s,writable:u===null&&c?c.writable:!u});else if(d||!l&&!u&&!f)a[o]=s;else throw new t("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},sv}var uv,lO;function mB(){if(lO)return uv;lO=1;var e=eg(),t=function(){return!!e};return t.hasArrayLengthDefineBug=function(){if(!e)return null;try{return e([],"length",{value:1}).length!==1}catch{return!0}},uv=t,uv}var lv,fO;function rY(){if(fO)return lv;fO=1;var e=m0(),t=pB(),r=mB()(),n=nl(),i=to(),a=e("%Math.floor%");return lv=function(s,l){if(typeof s!="function")throw new i("`fn` is not a function");if(typeof l!="number"||l<0||l>4294967295||a(l)!==l)throw new i("`length` must be a positive 32-bit integer");var u=arguments.length>2&&!!arguments[2],f=!0,d=!0;if("length"in s&&n){var c=n(s,"length");c&&!c.configurable&&(f=!1),c&&!c.writable&&(d=!1)}return(f||d||!u)&&(r?t(s,"length",l,!0,!0):t(s,"length",l)),s},lv}var fv,cO;function nY(){if(cO)return fv;cO=1;var e=p0(),t=GT(),r=cB();return fv=function(){return r(e,t,arguments)},fv}var dO;function tg(){return dO||(dO=1,function(e){var t=rY(),r=eg(),n=WT(),i=nY();e.exports=function(o){var s=n(arguments),l=o.length-(arguments.length-1);return t(s,1+(l>0?l:0),!0)},r?r(e.exports,"apply",{value:i}):e.exports.apply=i}(ov)),ov.exports}var cv,hO;function yB(){if(hO)return cv;hO=1;var e=JZ(),t=tY(),r=tg(),n=zo(),i=nl(),a=n("Object.prototype.toString"),o=Jy()(),s=typeof globalThis>"u"?Tt:globalThis,l=t(),u=n("String.prototype.slice"),f=Object.getPrototypeOf,d=n("Array.prototype.indexOf",!0)||function(_,y){for(var m=0;m<_.length;m+=1)if(_[m]===y)return m;return-1},c={__proto__:null};o&&i&&f?e(l,function(v){var _=new s[v];if(Symbol.toStringTag in _){var y=f(_),m=i(y,Symbol.toStringTag);if(!m){var g=f(y);m=i(g,Symbol.toStringTag)}c["$"+v]=r(m.get)}}):e(l,function(v){var _=new s[v],y=_.slice||_.set;y&&(c["$"+v]=r(y))});var p=function(_){var y=!1;return e(c,function(m,g){if(!y)try{"$"+m(_)===g&&(y=u(g,1))}catch{}}),y},b=function(_){var y=!1;return e(c,function(m,g){if(!y)try{m(_),y=u(g,1)}catch{}}),y};return cv=function(_){if(!_||typeof _!="object")return!1;if(!o){var y=u(a(_),8,-1);return d(l,y)>-1?y:y!=="Object"?!1:b(_)}return i?p(_):null},cv}var dv,pO;function iY(){if(pO)return dv;pO=1;var e=yB();return dv=function(r){return!!e(r)},dv}var mO;function aY(){return mO||(mO=1,function(e){var t=KZ(),r=YZ(),n=yB(),i=iY();function a(ce){return ce.call.bind(ce)}var o=typeof BigInt<"u",s=typeof Symbol<"u",l=a(Object.prototype.toString),u=a(Number.prototype.valueOf),f=a(String.prototype.valueOf),d=a(Boolean.prototype.valueOf);if(o)var c=a(BigInt.prototype.valueOf);if(s)var p=a(Symbol.prototype.valueOf);function b(ce,Ie){if(typeof ce!="object")return!1;try{return Ie(ce),!0}catch{return!1}}e.isArgumentsObject=t,e.isGeneratorFunction=r,e.isTypedArray=i;function v(ce){return typeof Promise<"u"&&ce instanceof Promise||ce!==null&&typeof ce=="object"&&typeof ce.then=="function"&&typeof ce.catch=="function"}e.isPromise=v;function _(ce){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(ce):i(ce)||Z(ce)}e.isArrayBufferView=_;function y(ce){return n(ce)==="Uint8Array"}e.isUint8Array=y;function m(ce){return n(ce)==="Uint8ClampedArray"}e.isUint8ClampedArray=m;function g(ce){return n(ce)==="Uint16Array"}e.isUint16Array=g;function S(ce){return n(ce)==="Uint32Array"}e.isUint32Array=S;function x(ce){return n(ce)==="Int8Array"}e.isInt8Array=x;function I(ce){return n(ce)==="Int16Array"}e.isInt16Array=I;function N(ce){return n(ce)==="Int32Array"}e.isInt32Array=N;function q(ce){return n(ce)==="Float32Array"}e.isFloat32Array=q;function D(ce){return n(ce)==="Float64Array"}e.isFloat64Array=D;function M(ce){return n(ce)==="BigInt64Array"}e.isBigInt64Array=M;function j(ce){return n(ce)==="BigUint64Array"}e.isBigUint64Array=j;function P(ce){return l(ce)==="[object Map]"}P.working=typeof Map<"u"&&P(new Map);function B(ce){return typeof Map>"u"?!1:P.working?P(ce):ce instanceof Map}e.isMap=B;function Y(ce){return l(ce)==="[object Set]"}Y.working=typeof Set<"u"&&Y(new Set);function ie(ce){return typeof Set>"u"?!1:Y.working?Y(ce):ce instanceof Set}e.isSet=ie;function X(ce){return l(ce)==="[object WeakMap]"}X.working=typeof WeakMap<"u"&&X(new WeakMap);function le(ce){return typeof WeakMap>"u"?!1:X.working?X(ce):ce instanceof WeakMap}e.isWeakMap=le;function ae(ce){return l(ce)==="[object WeakSet]"}ae.working=typeof WeakSet<"u"&&ae(new WeakSet);function ne(ce){return ae(ce)}e.isWeakSet=ne;function H(ce){return l(ce)==="[object ArrayBuffer]"}H.working=typeof ArrayBuffer<"u"&&H(new ArrayBuffer);function oe(ce){return typeof ArrayBuffer>"u"?!1:H.working?H(ce):ce instanceof ArrayBuffer}e.isArrayBuffer=oe;function he(ce){return l(ce)==="[object DataView]"}he.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&he(new DataView(new ArrayBuffer(1),0,1));function Z(ce){return typeof DataView>"u"?!1:he.working?he(ce):ce instanceof DataView}e.isDataView=Z;var Q=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function ee(ce){return l(ce)==="[object SharedArrayBuffer]"}function O(ce){return typeof Q>"u"?!1:(typeof ee.working>"u"&&(ee.working=ee(new Q)),ee.working?ee(ce):ce instanceof Q)}e.isSharedArrayBuffer=O;function A(ce){return l(ce)==="[object AsyncFunction]"}e.isAsyncFunction=A;function $(ce){return l(ce)==="[object Map Iterator]"}e.isMapIterator=$;function te(ce){return l(ce)==="[object Set Iterator]"}e.isSetIterator=te;function pe(ce){return l(ce)==="[object Generator]"}e.isGeneratorObject=pe;function R(ce){return l(ce)==="[object WebAssembly.Module]"}e.isWebAssemblyCompiledModule=R;function w(ce){return b(ce,u)}e.isNumberObject=w;function T(ce){return b(ce,f)}e.isStringObject=T;function k(ce){return b(ce,d)}e.isBooleanObject=k;function U(ce){return o&&b(ce,c)}e.isBigIntObject=U;function re(ce){return s&&b(ce,p)}e.isSymbolObject=re;function fe(ce){return w(ce)||T(ce)||k(ce)||U(ce)||re(ce)}e.isBoxedPrimitive=fe;function ve(ce){return typeof Uint8Array<"u"&&(oe(ce)||O(ce))}e.isAnyArrayBuffer=ve,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(ce){Object.defineProperty(e,ce,{enumerable:!1,value:function(){throw new Error(ce+" is not supported in userland")}})})}(mb)),mb}var hv,yO;function oY(){return yO||(yO=1,hv=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"}),hv}var hm={exports:{}},gO;function Or(){return gO||(gO=1,typeof Object.create=="function"?hm.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:hm.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}),hm.exports}var _O;function Pr(){return _O||(_O=1,function(e){var t={},r=Object.getOwnPropertyDescriptors||function(Q){for(var ee=Object.keys(Q),O={},A=0;A<ee.length;A++)O[ee[A]]=Object.getOwnPropertyDescriptor(Q,ee[A]);return O},n=/%[sdj%]/g;e.format=function(Z){if(!I(Z)){for(var Q=[],ee=0;ee<arguments.length;ee++)Q.push(s(arguments[ee]));return Q.join(" ")}for(var ee=1,O=arguments,A=O.length,$=String(Z).replace(n,function(pe){if(pe==="%%")return"%";if(ee>=A)return pe;switch(pe){case"%s":return String(O[ee++]);case"%d":return Number(O[ee++]);case"%j":try{return JSON.stringify(O[ee++])}catch{return"[Circular]"}default:return pe}}),te=O[ee];ee<A;te=O[++ee])g(te)||!M(te)?$+=" "+te:$+=" "+s(te);return $},e.deprecate=function(Z,Q){if(typeof ze<"u"&&ze.noDeprecation===!0)return Z;if(typeof ze>"u")return function(){return e.deprecate(Z,Q).apply(this,arguments)};var ee=!1;function O(){if(!ee){if(ze.throwDeprecation)throw new Error(Q);ze.traceDeprecation?console.trace(Q):console.error(Q),ee=!0}return Z.apply(this,arguments)}return O};var i={},a=/^$/;if(t.NODE_DEBUG){var o=t.NODE_DEBUG;o=o.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),a=new RegExp("^"+o+"$","i")}e.debuglog=function(Z){if(Z=Z.toUpperCase(),!i[Z])if(a.test(Z)){var Q=ze.pid;i[Z]=function(){var ee=e.format.apply(e,arguments);console.error("%s %d: %s",Z,Q,ee)}}else i[Z]=function(){};return i[Z]};function s(Z,Q){var ee={seen:[],stylize:u};return arguments.length>=3&&(ee.depth=arguments[2]),arguments.length>=4&&(ee.colors=arguments[3]),m(Q)?ee.showHidden=Q:Q&&e._extend(ee,Q),q(ee.showHidden)&&(ee.showHidden=!1),q(ee.depth)&&(ee.depth=2),q(ee.colors)&&(ee.colors=!1),q(ee.customInspect)&&(ee.customInspect=!0),ee.colors&&(ee.stylize=l),d(ee,Z,ee.depth)}e.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function l(Z,Q){var ee=s.styles[Q];return ee?"\x1B["+s.colors[ee][0]+"m"+Z+"\x1B["+s.colors[ee][1]+"m":Z}function u(Z,Q){return Z}function f(Z){var Q={};return Z.forEach(function(ee,O){Q[ee]=!0}),Q}function d(Z,Q,ee){if(Z.customInspect&&Q&&B(Q.inspect)&&Q.inspect!==e.inspect&&!(Q.constructor&&Q.constructor.prototype===Q)){var O=Q.inspect(ee,Z);return I(O)||(O=d(Z,O,ee)),O}var A=c(Z,Q);if(A)return A;var $=Object.keys(Q),te=f($);if(Z.showHidden&&($=Object.getOwnPropertyNames(Q)),P(Q)&&($.indexOf("message")>=0||$.indexOf("description")>=0))return p(Q);if($.length===0){if(B(Q)){var pe=Q.name?": "+Q.name:"";return Z.stylize("[Function"+pe+"]","special")}if(D(Q))return Z.stylize(RegExp.prototype.toString.call(Q),"regexp");if(j(Q))return Z.stylize(Date.prototype.toString.call(Q),"date");if(P(Q))return p(Q)}var R="",w=!1,T=["{","}"];if(y(Q)&&(w=!0,T=["[","]"]),B(Q)){var k=Q.name?": "+Q.name:"";R=" [Function"+k+"]"}if(D(Q)&&(R=" "+RegExp.prototype.toString.call(Q)),j(Q)&&(R=" "+Date.prototype.toUTCString.call(Q)),P(Q)&&(R=" "+p(Q)),$.length===0&&(!w||Q.length==0))return T[0]+R+T[1];if(ee<0)return D(Q)?Z.stylize(RegExp.prototype.toString.call(Q),"regexp"):Z.stylize("[Object]","special");Z.seen.push(Q);var U;return w?U=b(Z,Q,ee,te,$):U=$.map(function(re){return v(Z,Q,ee,te,re,w)}),Z.seen.pop(),_(U,R,T)}function c(Z,Q){if(q(Q))return Z.stylize("undefined","undefined");if(I(Q)){var ee="'"+JSON.stringify(Q).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Z.stylize(ee,"string")}if(x(Q))return Z.stylize(""+Q,"number");if(m(Q))return Z.stylize(""+Q,"boolean");if(g(Q))return Z.stylize("null","null")}function p(Z){return"["+Error.prototype.toString.call(Z)+"]"}function b(Z,Q,ee,O,A){for(var $=[],te=0,pe=Q.length;te<pe;++te)ne(Q,String(te))?$.push(v(Z,Q,ee,O,String(te),!0)):$.push("");return A.forEach(function(R){R.match(/^\d+$/)||$.push(v(Z,Q,ee,O,R,!0))}),$}function v(Z,Q,ee,O,A,$){var te,pe,R;if(R=Object.getOwnPropertyDescriptor(Q,A)||{value:Q[A]},R.get?R.set?pe=Z.stylize("[Getter/Setter]","special"):pe=Z.stylize("[Getter]","special"):R.set&&(pe=Z.stylize("[Setter]","special")),ne(O,A)||(te="["+A+"]"),pe||(Z.seen.indexOf(R.value)<0?(g(ee)?pe=d(Z,R.value,null):pe=d(Z,R.value,ee-1),pe.indexOf(`
`)>-1&&($?pe=pe.split(`
`).map(function(w){return"  "+w}).join(`
`).slice(2):pe=`
`+pe.split(`
`).map(function(w){return"   "+w}).join(`
`))):pe=Z.stylize("[Circular]","special")),q(te)){if($&&A.match(/^\d+$/))return pe;te=JSON.stringify(""+A),te.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(te=te.slice(1,-1),te=Z.stylize(te,"name")):(te=te.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),te=Z.stylize(te,"string"))}return te+": "+pe}function _(Z,Q,ee){var O=Z.reduce(function(A,$){return $.indexOf(`
`)>=0,A+$.replace(/\u001b\[\d\d?m/g,"").length+1},0);return O>60?ee[0]+(Q===""?"":Q+`
 `)+" "+Z.join(`,
  `)+" "+ee[1]:ee[0]+Q+" "+Z.join(", ")+" "+ee[1]}e.types=aY();function y(Z){return Array.isArray(Z)}e.isArray=y;function m(Z){return typeof Z=="boolean"}e.isBoolean=m;function g(Z){return Z===null}e.isNull=g;function S(Z){return Z==null}e.isNullOrUndefined=S;function x(Z){return typeof Z=="number"}e.isNumber=x;function I(Z){return typeof Z=="string"}e.isString=I;function N(Z){return typeof Z=="symbol"}e.isSymbol=N;function q(Z){return Z===void 0}e.isUndefined=q;function D(Z){return M(Z)&&ie(Z)==="[object RegExp]"}e.isRegExp=D,e.types.isRegExp=D;function M(Z){return typeof Z=="object"&&Z!==null}e.isObject=M;function j(Z){return M(Z)&&ie(Z)==="[object Date]"}e.isDate=j,e.types.isDate=j;function P(Z){return M(Z)&&(ie(Z)==="[object Error]"||Z instanceof Error)}e.isError=P,e.types.isNativeError=P;function B(Z){return typeof Z=="function"}e.isFunction=B;function Y(Z){return Z===null||typeof Z=="boolean"||typeof Z=="number"||typeof Z=="string"||typeof Z=="symbol"||typeof Z>"u"}e.isPrimitive=Y,e.isBuffer=oY();function ie(Z){return Object.prototype.toString.call(Z)}function X(Z){return Z<10?"0"+Z.toString(10):Z.toString(10)}var le=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ae(){var Z=new Date,Q=[X(Z.getHours()),X(Z.getMinutes()),X(Z.getSeconds())].join(":");return[Z.getDate(),le[Z.getMonth()],Q].join(" ")}e.log=function(){console.log("%s - %s",ae(),e.format.apply(e,arguments))},e.inherits=Or(),e._extend=function(Z,Q){if(!Q||!M(Q))return Z;for(var ee=Object.keys(Q),O=ee.length;O--;)Z[ee[O]]=Q[ee[O]];return Z};function ne(Z,Q){return Object.prototype.hasOwnProperty.call(Z,Q)}var H=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;e.promisify=function(Q){if(typeof Q!="function")throw new TypeError('The "original" argument must be of type Function');if(H&&Q[H]){var ee=Q[H];if(typeof ee!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(ee,H,{value:ee,enumerable:!1,writable:!1,configurable:!0}),ee}function ee(){for(var O,A,$=new Promise(function(R,w){O=R,A=w}),te=[],pe=0;pe<arguments.length;pe++)te.push(arguments[pe]);te.push(function(R,w){R?A(R):O(w)});try{Q.apply(this,te)}catch(R){A(R)}return $}return Object.setPrototypeOf(ee,Object.getPrototypeOf(Q)),H&&Object.defineProperty(ee,H,{value:ee,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(ee,r(Q))},e.promisify.custom=H;function oe(Z,Q){if(!Z){var ee=new Error("Promise was rejected with a falsy value");ee.reason=Z,Z=ee}return Q(Z)}function he(Z){if(typeof Z!="function")throw new TypeError('The "original" argument must be of type Function');function Q(){for(var ee=[],O=0;O<arguments.length;O++)ee.push(arguments[O]);var A=ee.pop();if(typeof A!="function")throw new TypeError("The last argument must be of type Function");var $=this,te=function(){return A.apply($,arguments)};Z.apply(this,ee).then(function(pe){ze.nextTick(te.bind(null,null,pe))},function(pe){ze.nextTick(oe.bind(null,pe,te))})}return Object.setPrototypeOf(Q,Object.getPrototypeOf(Z)),Object.defineProperties(Q,r(Z)),Q}e.callbackify=he}(pb)),pb}var pv={exports:{}},bO;function sY(){return bO||(bO=1,function(e){var t={};e.exports=t;var r={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],brightRed:[91,39],brightGreen:[92,39],brightYellow:[93,39],brightBlue:[94,39],brightMagenta:[95,39],brightCyan:[96,39],brightWhite:[97,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgGray:[100,49],bgGrey:[100,49],bgBrightRed:[101,49],bgBrightGreen:[102,49],bgBrightYellow:[103,49],bgBrightBlue:[104,49],bgBrightMagenta:[105,49],bgBrightCyan:[106,49],bgBrightWhite:[107,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(r).forEach(function(n){var i=r[n],a=t[n]=[];a.open="\x1B["+i[0]+"m",a.close="\x1B["+i[1]+"m"})}(pv)),pv.exports}var Kr={},vO;function il(){return vO||(vO=1,Kr.endianness=function(){return"LE"},Kr.hostname=function(){return typeof location<"u"?location.hostname:""},Kr.loadavg=function(){return[]},Kr.uptime=function(){return 0},Kr.freemem=function(){return Number.MAX_VALUE},Kr.totalmem=function(){return Number.MAX_VALUE},Kr.cpus=function(){return[]},Kr.type=function(){return"Browser"},Kr.release=function(){return typeof navigator<"u"?navigator.appVersion:""},Kr.networkInterfaces=Kr.getNetworkInterfaces=function(){return{}},Kr.arch=function(){return"javascript"},Kr.platform=function(){return"browser"},Kr.tmpdir=Kr.tmpDir=function(){return"/tmp"},Kr.EOL=`
`,Kr.homedir=function(){return"/"}),Kr}var mv,wO;function uY(){return wO||(wO=1,mv=function(e,t){t=t||ze.argv||[];var r=t.indexOf("--"),n=/^-{1,2}/.test(e)?"":"--",i=t.indexOf(n+e);return i!==-1&&(r===-1?!0:i<r)}),mv}var yv,SO;function lY(){if(SO)return yv;SO=1;var e={},t=il(),r=uY(),n=e,i=void 0;r("no-color")||r("no-colors")||r("color=false")?i=!1:(r("color")||r("colors")||r("color=true")||r("color=always"))&&(i=!0),"FORCE_COLOR"in n&&(i=n.FORCE_COLOR.length===0||parseInt(n.FORCE_COLOR,10)!==0);function a(l){return l===0?!1:{level:l,hasBasic:!0,has256:l>=2,has16m:l>=3}}function o(l){if(i===!1)return 0;if(r("color=16m")||r("color=full")||r("color=truecolor"))return 3;if(r("color=256"))return 2;if(l&&!l.isTTY&&i!==!0)return 0;var u=i?1:0;if(ze.platform==="win32"){var f=t.release().split(".");return Number(ze.versions.node.split(".")[0])>=8&&Number(f[0])>=10&&Number(f[2])>=10586?Number(f[2])>=14931?3:2:1}if("CI"in n)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(function(c){return c in n})||n.CI_NAME==="codeship"?1:u;if("TEAMCITY_VERSION"in n)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(n.TEAMCITY_VERSION)?1:0;if("TERM_PROGRAM"in n){var d=parseInt((n.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(n.TERM_PROGRAM){case"iTerm.app":return d>=3?3:2;case"Hyper":return 3;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(n.TERM)?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test(n.TERM)||"COLORTERM"in n?1:(n.TERM==="dumb",u)}function s(l){var u=o(l);return a(u)}return yv={supportsColor:s,stdout:s(ze.stdout),stderr:s(ze.stderr)},yv}var gv={exports:{}},EO;function fY(){return EO||(EO=1,function(e){e.exports=function(r,n){var i="";r=r||"Run the trap, drop the bass",r=r.split("");var a={a:["@","","","","","",""],b:["","","","","",""],c:["","",""],d:["","","","","",""],e:["","","","","","","",""],f:[""],g:[""],h:["","","","","",""],i:[""],j:[""],k:["","","",""],l:[""],m:["","","","","",""],n:["","","","","",""],o:["","","","","","","","",""],p:["",""],q:[""],r:["","","","","",""],s:["","","",""],t:["","",""],u:["",""],v:[""],w:["","","",""],x:["","","",""],y:["","",""],z:["",""]};return r.forEach(function(o){o=o.toLowerCase();var s=a[o]||[" "],l=Math.floor(Math.random()*s.length);typeof a[o]<"u"?i+=a[o][l]:i+=o}),i}}(gv)),gv.exports}var _v={exports:{}},TO;function cY(){return TO||(TO=1,function(e){e.exports=function(r,n){r=r||"   he is here   ";var i={up:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],down:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],mid:["","","","","","","","","","","","","","","","","","","","",""," "]},a=[].concat(i.up,i.down,i.mid);function o(u){var f=Math.floor(Math.random()*u);return f}function s(u){var f=!1;return a.filter(function(d){f=d===u}),f}function l(u,f){var d="",c,p;f=f||{},f.up=typeof f.up<"u"?f.up:!0,f.mid=typeof f.mid<"u"?f.mid:!0,f.down=typeof f.down<"u"?f.down:!0,f.size=typeof f.size<"u"?f.size:"maxi",u=u.split("");for(p in u)if(!s(p)){switch(d=d+u[p],c={up:0,down:0,mid:0},f.size){case"mini":c.up=o(8),c.mid=o(2),c.down=o(8);break;case"maxi":c.up=o(16)+3,c.mid=o(4)+1,c.down=o(64)+3;break;default:c.up=o(8)+1,c.mid=o(6)/2,c.down=o(8)+1;break}var b=["up","mid","down"];for(var v in b)for(var _=b[v],y=0;y<=c[_];y++)f[_]&&(d=d+i[_][o(i[_].length)])}return d}return l(r,n)}}(_v)),_v.exports}var bv={exports:{}},xO;function dY(){return xO||(xO=1,function(e){e.exports=function(t){return function(r,n,i){if(r===" ")return r;switch(n%3){case 0:return t.red(r);case 1:return t.white(r);case 2:return t.blue(r)}}}}(bv)),bv.exports}var vv={exports:{}},RO;function hY(){return RO||(RO=1,function(e){e.exports=function(t){return function(r,n,i){return n%2===0?r:t.inverse(r)}}}(vv)),vv.exports}var wv={exports:{}},AO;function pY(){return AO||(AO=1,function(e){e.exports=function(t){var r=["red","yellow","green","blue","magenta"];return function(n,i,a){return n===" "?n:t[r[i++%r.length]](n)}}}(wv)),wv.exports}var Sv={exports:{}},IO;function mY(){return IO||(IO=1,function(e){e.exports=function(t){var r=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta","brightYellow","brightRed","brightGreen","brightBlue","brightWhite","brightCyan","brightMagenta"];return function(n,i,a){return n===" "?n:t[r[Math.round(Math.random()*(r.length-2))]](n)}}}(Sv)),Sv.exports}var PO;function yY(){return PO||(PO=1,function(e){var t={};e.exports=t,t.themes={};var r=Pr(),n=t.styles=sY(),i=Object.defineProperties,a=new RegExp(/[\r\n]+/g);t.supportsColor=lY().supportsColor,typeof t.enabled>"u"&&(t.enabled=t.supportsColor()!==!1),t.enable=function(){t.enabled=!0},t.disable=function(){t.enabled=!1},t.stripColors=t.strip=function(v){return(""+v).replace(/\x1B\[\d+m/g,"")},t.stylize=function(_,y){if(!t.enabled)return _+"";var m=n[y];return!m&&y in t?t[y](_):m.open+_+m.close};var o=/[|\\{}()[\]^$+*?.]/g,s=function(v){if(typeof v!="string")throw new TypeError("Expected a string");return v.replace(o,"\\$&")};function l(v){var _=function y(){return d.apply(y,arguments)};return _._styles=v,_.__proto__=f,_}var u=function(){var v={};return n.grey=n.gray,Object.keys(n).forEach(function(_){n[_].closeRe=new RegExp(s(n[_].close),"g"),v[_]={get:function(){return l(this._styles.concat(_))}}}),v}(),f=i(function(){},u);function d(){var v=Array.prototype.slice.call(arguments),_=v.map(function(x){return x!=null&&x.constructor===String?x:r.inspect(x)}).join(" ");if(!t.enabled||!_)return _;for(var y=_.indexOf(`
`)!=-1,m=this._styles,g=m.length;g--;){var S=n[m[g]];_=S.open+_.replace(S.closeRe,S.open)+S.close,y&&(_=_.replace(a,function(x){return S.close+x+S.open}))}return _}t.setTheme=function(v){if(typeof v=="string"){console.log("colors.setTheme now only accepts an object, not a string.  If you are trying to set a theme from a file, it is now your (the caller's) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + '/../themes/generic-logging.js'); The new syntax looks like colors.setTheme(require(__dirname + '/../themes/generic-logging.js'));");return}for(var _ in v)(function(y){t[y]=function(m){if(typeof v[y]=="object"){var g=m;for(var S in v[y])g=t[v[y][S]](g);return g}return t[v[y]](m)}})(_)};function c(){var v={};return Object.keys(u).forEach(function(_){v[_]={get:function(){return l([_])}}}),v}var p=function(_,y){var m=y.split("");return m=m.map(_),m.join("")};t.trap=fY(),t.zalgo=cY(),t.maps={},t.maps.america=dY()(t),t.maps.zebra=hY()(t),t.maps.rainbow=pY()(t),t.maps.random=mY()(t);for(var b in t.maps)(function(v){t[v]=function(_){return p(t.maps[v],_)}})(b);i(t,c())}(hb)),hb.exports}var OO;function gB(){return OO||(OO=1,function(e){var t=yY();e.exports=t}(db)),db.exports}var Ev={},Tv={},pm={},NO;function gY(){return NO||(NO=1,pm.levels={error:0,warn:1,help:2,data:3,info:4,debug:5,prompt:6,verbose:7,input:8,silly:9},pm.colors={error:"red",warn:"yellow",help:"cyan",data:"grey",info:"green",debug:"blue",prompt:"grey",verbose:"cyan",input:"grey",silly:"magenta"}),pm}var mm={},DO;function _Y(){return DO||(DO=1,mm.levels={error:0,warn:1,info:2,http:3,verbose:4,debug:5,silly:6},mm.colors={error:"red",warn:"yellow",info:"green",http:"green",verbose:"cyan",debug:"blue",silly:"magenta"}),mm}var ym={},CO;function bY(){return CO||(CO=1,ym.levels={emerg:0,alert:1,crit:2,error:3,warning:4,notice:5,info:6,debug:7},ym.colors={emerg:"red",alert:"yellow",crit:"red",error:"red",warning:"red",notice:"yellow",info:"green",debug:"blue"}),ym}var LO;function vY(){return LO||(LO=1,function(e){Object.defineProperty(e,"cli",{value:gY()}),Object.defineProperty(e,"npm",{value:_Y()}),Object.defineProperty(e,"syslog",{value:bY()})}(Tv)),Tv}var MO;function Nr(){return MO||(MO=1,function(e){Object.defineProperty(e,"LEVEL",{value:Symbol.for("level")}),Object.defineProperty(e,"MESSAGE",{value:Symbol.for("message")}),Object.defineProperty(e,"SPLAT",{value:Symbol.for("splat")}),Object.defineProperty(e,"configs",{value:vY()})}(Ev)),Ev}var kO;function KT(){if(kO)return ic.exports;kO=1;function e(c){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},e(c)}function t(c,p){if(!(c instanceof p))throw new TypeError("Cannot call a class as a function")}function r(c,p){for(var b=0;b<p.length;b++){var v=p[b];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(c,i(v.key),v)}}function n(c,p,b){return r(c.prototype,p),r(c,b),Object.defineProperty(c,"prototype",{writable:!1}),c}function i(c){var p=a(c,"string");return e(p)=="symbol"?p:p+""}function a(c,p){if(e(c)!="object"||!c)return c;var b=c[Symbol.toPrimitive];if(b!==void 0){var v=b.call(c,p);if(e(v)!="object")return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(c)}var o=gB(),s=Nr(),l=s.LEVEL,u=s.MESSAGE;o.enabled=!0;var f=/\s+/,d=function(){function c(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t(this,c),p.colors&&this.addColors(p.colors),this.options=p}return n(c,[{key:"addColors",value:function(b){return c.addColors(b)}},{key:"colorize",value:function(b,v,_){if(typeof _>"u"&&(_=v),!Array.isArray(c.allColors[b]))return o[c.allColors[b]](_);for(var y=0,m=c.allColors[b].length;y<m;y++)_=o[c.allColors[b][y]](_);return _}},{key:"transform",value:function(b,v){return v.all&&typeof b[u]=="string"&&(b[u]=this.colorize(b[l],b.level,b[u])),(v.level||v.all||!v.message)&&(b.level=this.colorize(b[l],b.level)),(v.all||v.message)&&(b.message=this.colorize(b[l],b.level,b.message)),b}}],[{key:"addColors",value:function(b){var v=Object.keys(b).reduce(function(_,y){return _[y]=f.test(b[y])?b[y].split(f):b[y],_},{});return c.allColors=Object.assign({},c.allColors||{},v),c.allColors}}])}();return ic.exports=function(c){return new d(c)},ic.exports.Colorizer=ic.exports.Format=d,ic.exports}var xv,FO;function wY(){if(FO)return xv;FO=1;var e=KT(),t=e.Colorizer;return xv=function(r){return t.addColors(r.colors||r),r},xv}var Rv,jO;function SY(){if(jO)return Rv;jO=1;var e=ni();return Rv=e(function(t){return t.message="	".concat(t.message),t}),Rv}var gm={exports:{}},ac={exports:{}},qO;function _B(){if(qO)return ac.exports;qO=1;function e(y){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},e(y)}function t(y){return a(y)||i(y)||n(y)||r()}function r(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n(y,m){if(y){if(typeof y=="string")return o(y,m);var g={}.toString.call(y).slice(8,-1);return g==="Object"&&y.constructor&&(g=y.constructor.name),g==="Map"||g==="Set"?Array.from(y):g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g)?o(y,m):void 0}}function i(y){if(typeof Symbol<"u"&&y[Symbol.iterator]!=null||y["@@iterator"]!=null)return Array.from(y)}function a(y){if(Array.isArray(y))return o(y)}function o(y,m){(m==null||m>y.length)&&(m=y.length);for(var g=0,S=Array(m);g<m;g++)S[g]=y[g];return S}function s(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}function l(y,m){for(var g=0;g<m.length;g++){var S=m[g];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(y,f(S.key),S)}}function u(y,m,g){return l(y.prototype,m),l(y,g),Object.defineProperty(y,"prototype",{writable:!1}),y}function f(y){var m=d(y,"string");return e(m)=="symbol"?m:m+""}function d(y,m){if(e(y)!="object"||!y)return y;var g=y[Symbol.toPrimitive];if(g!==void 0){var S=g.call(y,m);if(e(S)!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(y)}var c=Nr(),p=c.configs,b=c.LEVEL,v=c.MESSAGE,_=function(){function y(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{levels:p.npm.levels};s(this,y),this.paddings=y.paddingForLevels(m.levels,m.filler),this.options=m}return u(y,[{key:"transform",value:function(g,S){return g.message="".concat(this.paddings[g[b]]).concat(g.message),g[v]&&(g[v]="".concat(this.paddings[g[b]]).concat(g[v])),g}}],[{key:"getLongestLevel",value:function(g){var S=Object.keys(g).map(function(x){return x.length});return Math.max.apply(Math,t(S))}},{key:"paddingForLevel",value:function(g,S,x){var I=x+1-g.length,N=Math.floor(I/S.length),q="".concat(S).concat(S.repeat(N));return q.slice(0,I)}},{key:"paddingForLevels",value:function(g){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:" ",x=y.getLongestLevel(g);return Object.keys(g).reduce(function(I,N){return I[N]=y.paddingForLevel(N,S,x),I},{})}}])}();return ac.exports=function(y){return new _(y)},ac.exports.Padder=ac.exports.Format=_,ac.exports}var BO;function EY(){if(BO)return gm.exports;BO=1;function e(b){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},e(b)}function t(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}function r(b,v){for(var _=0;_<v.length;_++){var y=v[_];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(b,i(y.key),y)}}function n(b,v,_){return r(b.prototype,v),Object.defineProperty(b,"prototype",{writable:!1}),b}function i(b){var v=a(b,"string");return e(v)=="symbol"?v:v+""}function a(b,v){if(e(b)!="object"||!b)return b;var _=b[Symbol.toPrimitive];if(_!==void 0){var y=_.call(b,v);if(e(y)!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(b)}var o=KT(),s=o.Colorizer,l=_B(),u=l.Padder,f=Nr(),d=f.configs,c=f.MESSAGE,p=function(){function b(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t(this,b),v.levels||(v.levels=d.cli.levels),this.colorizer=new s(v),this.padder=new u(v),this.options=v}return n(b,[{key:"transform",value:function(_,y){return this.colorizer.transform(this.padder.transform(_,y),y),_[c]="".concat(_.level,":").concat(_.message),_}}])}();return gm.exports=function(b){return new p(b)},gm.exports.Format=p,gm.exports}var _m={exports:{}},$O;function TY(){if($O)return _m.exports;$O=1;var e=ni();function t(n){if(n.every(r))return function(i){for(var a=i,o=0;o<n.length;o++)if(a=n[o].transform(a,n[o].options),!a)return!1;return a}}function r(n){if(typeof n.transform!="function")throw new Error(["No transform function found on format. Did you create a format instance?","const myFormat = format(formatFn);","const instance = myFormat();"].join(`
`));return!0}return _m.exports=function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=e(t(i)),s=o();return s.Format=o.Format,s},_m.exports.cascade=t,_m.exports}var Av,UO;function xY(){if(UO)return Av;UO=1;function e(l){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},e(l)}function t(l,u,f){return(u=r(u))in l?Object.defineProperty(l,u,{value:f,enumerable:!0,configurable:!0,writable:!0}):l[u]=f,l}function r(l){var u=n(l,"string");return e(u)=="symbol"?u:u+""}function n(l,u){if(e(l)!="object"||!l)return l;var f=l[Symbol.toPrimitive];if(f!==void 0){var d=f.call(l,u||"default");if(e(d)!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(u==="string"?String:Number)(l)}var i=ni(),a=Nr(),o=a.LEVEL,s=a.MESSAGE;return Av=i(function(l,u){var f=u.stack,d=u.cause;if(l instanceof Error){var c=Object.assign({},l,t(t(t({level:l.level},o,l[o]||l.level),"message",l.message),s,l[s]||l.message));return f&&(c.stack=l.stack),d&&(c.cause=l.cause),c}if(!(l.message instanceof Error))return l;var p=l.message;return Object.assign(l,p),l.message=p.message,l[s]=p.message,f&&(l.stack=p.stack),d&&(l.cause=p.cause),l}),Av}var bm={exports:{}},VO;function y0(){return VO||(VO=1,function(e,t){const{hasOwnProperty:r}=Object.prototype,n=y();n.configure=y,n.stringify=n,n.default=n,t.stringify=n,t.configure=y,e.exports=n;const i=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]/;function a(m){return m.length<5e3&&!i.test(m)?`"${m}"`:JSON.stringify(m)}function o(m,g){if(m.length>200||g)return m.sort(g);for(let S=1;S<m.length;S++){const x=m[S];let I=S;for(;I!==0&&m[I-1]>x;)m[I]=m[I-1],I--;m[I]=x}return m}const s=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Object.getPrototypeOf(new Int8Array)),Symbol.toStringTag).get;function l(m){return s.call(m)!==void 0&&m.length!==0}function u(m,g,S){m.length<S&&(S=m.length);const x=g===","?"":" ";let I=`"0":${x}${m[0]}`;for(let N=1;N<S;N++)I+=`${g}"${N}":${x}${m[N]}`;return I}function f(m){if(r.call(m,"circularValue")){const g=m.circularValue;if(typeof g=="string")return`"${g}"`;if(g==null)return g;if(g===Error||g===TypeError)return{toString(){throw new TypeError("Converting circular structure to JSON")}};throw new TypeError('The "circularValue" argument must be of type string or the value null or undefined')}return'"[Circular]"'}function d(m){let g;if(r.call(m,"deterministic")&&(g=m.deterministic,typeof g!="boolean"&&typeof g!="function"))throw new TypeError('The "deterministic" argument must be of type boolean or comparator function');return g===void 0?!0:g}function c(m,g){let S;if(r.call(m,g)&&(S=m[g],typeof S!="boolean"))throw new TypeError(`The "${g}" argument must be of type boolean`);return S===void 0?!0:S}function p(m,g){let S;if(r.call(m,g)){if(S=m[g],typeof S!="number")throw new TypeError(`The "${g}" argument must be of type number`);if(!Number.isInteger(S))throw new TypeError(`The "${g}" argument must be an integer`);if(S<1)throw new RangeError(`The "${g}" argument must be >= 1`)}return S===void 0?1/0:S}function b(m){return m===1?"1 item":`${m} items`}function v(m){const g=new Set;for(const S of m)(typeof S=="string"||typeof S=="number")&&g.add(String(S));return g}function _(m){if(r.call(m,"strict")){const g=m.strict;if(typeof g!="boolean")throw new TypeError('The "strict" argument must be of type boolean');if(g)return S=>{let x=`Object can not safely be stringified. Received type ${typeof S}`;throw typeof S!="function"&&(x+=` (${S.toString()})`),new Error(x)}}}function y(m){m={...m};const g=_(m);g&&(m.bigint===void 0&&(m.bigint=!1),"circularValue"in m||(m.circularValue=Error));const S=f(m),x=c(m,"bigint"),I=d(m),N=typeof I=="function"?I:void 0,q=p(m,"maximumDepth"),D=p(m,"maximumBreadth");function M(ie,X,le,ae,ne,H){let oe=X[ie];switch(typeof oe=="object"&&oe!==null&&typeof oe.toJSON=="function"&&(oe=oe.toJSON(ie)),oe=ae.call(X,ie,oe),typeof oe){case"string":return a(oe);case"object":{if(oe===null)return"null";if(le.indexOf(oe)!==-1)return S;let he="",Z=",";const Q=H;if(Array.isArray(oe)){if(oe.length===0)return"[]";if(q<le.length+1)return'"[Array]"';le.push(oe),ne!==""&&(H+=ne,he+=`
${H}`,Z=`,
${H}`);const pe=Math.min(oe.length,D);let R=0;for(;R<pe-1;R++){const T=M(String(R),oe,le,ae,ne,H);he+=T!==void 0?T:"null",he+=Z}const w=M(String(R),oe,le,ae,ne,H);if(he+=w!==void 0?w:"null",oe.length-1>D){const T=oe.length-D-1;he+=`${Z}"... ${b(T)} not stringified"`}return ne!==""&&(he+=`
${Q}`),le.pop(),`[${he}]`}let ee=Object.keys(oe);const O=ee.length;if(O===0)return"{}";if(q<le.length+1)return'"[Object]"';let A="",$="";ne!==""&&(H+=ne,Z=`,
${H}`,A=" ");const te=Math.min(O,D);I&&!l(oe)&&(ee=o(ee,N)),le.push(oe);for(let pe=0;pe<te;pe++){const R=ee[pe],w=M(R,oe,le,ae,ne,H);w!==void 0&&(he+=`${$}${a(R)}:${A}${w}`,$=Z)}if(O>D){const pe=O-D;he+=`${$}"...":${A}"${b(pe)} not stringified"`,$=Z}return ne!==""&&$.length>1&&(he=`
${H}${he}
${Q}`),le.pop(),`{${he}}`}case"number":return isFinite(oe)?String(oe):g?g(oe):"null";case"boolean":return oe===!0?"true":"false";case"undefined":return;case"bigint":if(x)return String(oe);default:return g?g(oe):void 0}}function j(ie,X,le,ae,ne,H){switch(typeof X=="object"&&X!==null&&typeof X.toJSON=="function"&&(X=X.toJSON(ie)),typeof X){case"string":return a(X);case"object":{if(X===null)return"null";if(le.indexOf(X)!==-1)return S;const oe=H;let he="",Z=",";if(Array.isArray(X)){if(X.length===0)return"[]";if(q<le.length+1)return'"[Array]"';le.push(X),ne!==""&&(H+=ne,he+=`
${H}`,Z=`,
${H}`);const O=Math.min(X.length,D);let A=0;for(;A<O-1;A++){const te=j(String(A),X[A],le,ae,ne,H);he+=te!==void 0?te:"null",he+=Z}const $=j(String(A),X[A],le,ae,ne,H);if(he+=$!==void 0?$:"null",X.length-1>D){const te=X.length-D-1;he+=`${Z}"... ${b(te)} not stringified"`}return ne!==""&&(he+=`
${oe}`),le.pop(),`[${he}]`}le.push(X);let Q="";ne!==""&&(H+=ne,Z=`,
${H}`,Q=" ");let ee="";for(const O of ae){const A=j(O,X[O],le,ae,ne,H);A!==void 0&&(he+=`${ee}${a(O)}:${Q}${A}`,ee=Z)}return ne!==""&&ee.length>1&&(he=`
${H}${he}
${oe}`),le.pop(),`{${he}}`}case"number":return isFinite(X)?String(X):g?g(X):"null";case"boolean":return X===!0?"true":"false";case"undefined":return;case"bigint":if(x)return String(X);default:return g?g(X):void 0}}function P(ie,X,le,ae,ne){switch(typeof X){case"string":return a(X);case"object":{if(X===null)return"null";if(typeof X.toJSON=="function"){if(X=X.toJSON(ie),typeof X!="object")return P(ie,X,le,ae,ne);if(X===null)return"null"}if(le.indexOf(X)!==-1)return S;const H=ne;if(Array.isArray(X)){if(X.length===0)return"[]";if(q<le.length+1)return'"[Array]"';le.push(X),ne+=ae;let A=`
${ne}`;const $=`,
${ne}`,te=Math.min(X.length,D);let pe=0;for(;pe<te-1;pe++){const w=P(String(pe),X[pe],le,ae,ne);A+=w!==void 0?w:"null",A+=$}const R=P(String(pe),X[pe],le,ae,ne);if(A+=R!==void 0?R:"null",X.length-1>D){const w=X.length-D-1;A+=`${$}"... ${b(w)} not stringified"`}return A+=`
${H}`,le.pop(),`[${A}]`}let oe=Object.keys(X);const he=oe.length;if(he===0)return"{}";if(q<le.length+1)return'"[Object]"';ne+=ae;const Z=`,
${ne}`;let Q="",ee="",O=Math.min(he,D);l(X)&&(Q+=u(X,Z,D),oe=oe.slice(X.length),O-=X.length,ee=Z),I&&(oe=o(oe,N)),le.push(X);for(let A=0;A<O;A++){const $=oe[A],te=P($,X[$],le,ae,ne);te!==void 0&&(Q+=`${ee}${a($)}: ${te}`,ee=Z)}if(he>D){const A=he-D;Q+=`${ee}"...": "${b(A)} not stringified"`,ee=Z}return ee!==""&&(Q=`
${ne}${Q}
${H}`),le.pop(),`{${Q}}`}case"number":return isFinite(X)?String(X):g?g(X):"null";case"boolean":return X===!0?"true":"false";case"undefined":return;case"bigint":if(x)return String(X);default:return g?g(X):void 0}}function B(ie,X,le){switch(typeof X){case"string":return a(X);case"object":{if(X===null)return"null";if(typeof X.toJSON=="function"){if(X=X.toJSON(ie),typeof X!="object")return B(ie,X,le);if(X===null)return"null"}if(le.indexOf(X)!==-1)return S;let ae="";const ne=X.length!==void 0;if(ne&&Array.isArray(X)){if(X.length===0)return"[]";if(q<le.length+1)return'"[Array]"';le.push(X);const Q=Math.min(X.length,D);let ee=0;for(;ee<Q-1;ee++){const A=B(String(ee),X[ee],le);ae+=A!==void 0?A:"null",ae+=","}const O=B(String(ee),X[ee],le);if(ae+=O!==void 0?O:"null",X.length-1>D){const A=X.length-D-1;ae+=`,"... ${b(A)} not stringified"`}return le.pop(),`[${ae}]`}let H=Object.keys(X);const oe=H.length;if(oe===0)return"{}";if(q<le.length+1)return'"[Object]"';let he="",Z=Math.min(oe,D);ne&&l(X)&&(ae+=u(X,",",D),H=H.slice(X.length),Z-=X.length,he=","),I&&(H=o(H,N)),le.push(X);for(let Q=0;Q<Z;Q++){const ee=H[Q],O=B(ee,X[ee],le);O!==void 0&&(ae+=`${he}${a(ee)}:${O}`,he=",")}if(oe>D){const Q=oe-D;ae+=`${he}"...":"${b(Q)} not stringified"`}return le.pop(),`{${ae}}`}case"number":return isFinite(X)?String(X):g?g(X):"null";case"boolean":return X===!0?"true":"false";case"undefined":return;case"bigint":if(x)return String(X);default:return g?g(X):void 0}}function Y(ie,X,le){if(arguments.length>1){let ae="";if(typeof le=="number"?ae=" ".repeat(Math.min(le,10)):typeof le=="string"&&(ae=le.slice(0,10)),X!=null){if(typeof X=="function")return M("",{"":ie},[],X,ae,"");if(Array.isArray(X))return j("",ie,[],v(X),ae,"")}if(ae.length!==0)return P("",ie,[],ae,"")}return B("",ie,[])}return Y}}(bm,bm.exports)),bm.exports}var Iv,HO;function RY(){if(HO)return Iv;HO=1;var e=ni(),t=Nr(),r=t.MESSAGE,n=y0();function i(a,o){return typeof o=="bigint"?o.toString():o}return Iv=e(function(a,o){var s=n.configure(o);return a[r]=s(a,o.replacer||i,o.space),a}),Iv}var Pv,zO;function AY(){if(zO)return Pv;zO=1;var e=ni();return Pv=e(function(t,r){return r.message?(t.message="[".concat(r.label,"] ").concat(t.message),t):(t.label=r.label,t)}),Pv}var Ov,GO;function IY(){if(GO)return Ov;GO=1;var e=ni(),t=Nr(),r=t.MESSAGE,n=y0();return Ov=e(function(i){var a={};return i.message&&(a["@message"]=i.message,delete i.message),i.timestamp&&(a["@timestamp"]=i.timestamp,delete i.timestamp),a["@fields"]=i,i[r]=n(a),i}),Ov}var Nv,WO;function PY(){if(WO)return Nv;WO=1;function e(s){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},e(s)}function t(s,l,u){return(l=r(l))in s?Object.defineProperty(s,l,{value:u,enumerable:!0,configurable:!0,writable:!0}):s[l]=u,s}function r(s){var l=n(s,"string");return e(l)=="symbol"?l:l+""}function n(s,l){if(e(s)!="object"||!s)return s;var u=s[Symbol.toPrimitive];if(u!==void 0){var f=u.call(s,l||"default");if(e(f)!="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(s)}var i=ni();function a(s,l,u){var f=l.reduce(function(c,p){return c[p]=s[p],delete s[p],c},{}),d=Object.keys(s).reduce(function(c,p){return c[p]=s[p],delete s[p],c},{});return Object.assign(s,f,t({},u,d)),s}function o(s,l,u){return s[u]=l.reduce(function(f,d){return f[d]=s[d],delete s[d],f},{}),s}return Nv=i(function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u="metadata";l.key&&(u=l.key);var f=[];return!l.fillExcept&&!l.fillWith&&(f.push("level"),f.push("message")),l.fillExcept&&(f=l.fillExcept),f.length>0?a(s,f,u):l.fillWith?o(s,l.fillWith,u):s}),Nv}var Dv,KO;function bB(){if(KO)return Dv;KO=1;var e=1e3,t=e*60,r=t*60,n=r*24,i=n*7,a=n*365.25;Dv=function(f,d){d=d||{};var c=typeof f;if(c==="string"&&f.length>0)return o(f);if(c==="number"&&isFinite(f))return d.long?l(f):s(f);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(f))};function o(f){if(f=String(f),!(f.length>100)){var d=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(f);if(d){var c=parseFloat(d[1]),p=(d[2]||"ms").toLowerCase();switch(p){case"years":case"year":case"yrs":case"yr":case"y":return c*a;case"weeks":case"week":case"w":return c*i;case"days":case"day":case"d":return c*n;case"hours":case"hour":case"hrs":case"hr":case"h":return c*r;case"minutes":case"minute":case"mins":case"min":case"m":return c*t;case"seconds":case"second":case"secs":case"sec":case"s":return c*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}}}function s(f){var d=Math.abs(f);return d>=n?Math.round(f/n)+"d":d>=r?Math.round(f/r)+"h":d>=t?Math.round(f/t)+"m":d>=e?Math.round(f/e)+"s":f+"ms"}function l(f){var d=Math.abs(f);return d>=n?u(f,d,n,"day"):d>=r?u(f,d,r,"hour"):d>=t?u(f,d,t,"minute"):d>=e?u(f,d,e,"second"):f+" ms"}function u(f,d,c,p){var b=d>=c*1.5;return Math.round(f/c)+" "+p+(b?"s":"")}return Dv}var Cv,QO;function OY(){if(QO)return Cv;QO=1;var e=void 0,t=ni(),r=bB();return Cv=t(function(n){var i=+new Date;return e.diff=i-(e.prevTime||i),e.prevTime=i,n.ms="+".concat(r(e.diff)),n}),Cv}var Lv,ZO;function NY(){if(ZO)return Lv;ZO=1;var e=Pr().inspect,t=ni(),r=Nr(),n=r.LEVEL,i=r.MESSAGE,a=r.SPLAT;return Lv=t(function(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=Object.assign({},o);return delete l[n],delete l[i],delete l[a],o[i]=e(l,!1,s.depth||null,s.colorize),o}),Lv}var oc={exports:{}},YO;function DY(){if(YO)return oc.exports;YO=1;function e(u){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},e(u)}function t(u,f){if(!(u instanceof f))throw new TypeError("Cannot call a class as a function")}function r(u,f){for(var d=0;d<f.length;d++){var c=f[d];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(u,i(c.key),c)}}function n(u,f,d){return r(u.prototype,f),Object.defineProperty(u,"prototype",{writable:!1}),u}function i(u){var f=a(u,"string");return e(f)=="symbol"?f:f+""}function a(u,f){if(e(u)!="object"||!u)return u;var d=u[Symbol.toPrimitive];if(d!==void 0){var c=d.call(u,f);if(e(c)!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(u)}var o=Nr(),s=o.MESSAGE,l=function(){function u(f){t(this,u),this.template=f}return n(u,[{key:"transform",value:function(d){return d[s]=this.template(d),d}}])}();return oc.exports=function(u){return new l(u)},oc.exports.Printf=oc.exports.Format=l,oc.exports}var Mv,XO;function CY(){if(XO)return Mv;XO=1;var e=ni(),t=Nr(),r=t.MESSAGE,n=y0();return Mv=e(function(i){var a=n(Object.assign({},i,{level:void 0,message:void 0,splat:void 0})),o=i.padding&&i.padding[i.level]||"";return a!=="{}"?i[r]="".concat(i.level,":").concat(o," ").concat(i.message," ").concat(a):i[r]="".concat(i.level,":").concat(o," ").concat(i.message),i}),Mv}var kv,JO;function LY(){if(JO)return kv;JO=1;function e(m){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},e(m)}function t(m){return a(m)||i(m)||n(m)||r()}function r(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n(m,g){{if(typeof m=="string")return o(m,g);var S={}.toString.call(m).slice(8,-1);return S==="Object"&&m.constructor&&(S=m.constructor.name),S==="Map"||S==="Set"?Array.from(m):S==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S)?o(m,g):void 0}}function i(m){if(typeof Symbol<"u"&&m[Symbol.iterator]!=null||m["@@iterator"]!=null)return Array.from(m)}function a(m){if(Array.isArray(m))return o(m)}function o(m,g){(g==null||g>m.length)&&(g=m.length);for(var S=0,x=Array(g);S<g;S++)x[S]=m[S];return x}function s(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function l(m,g){for(var S=0;S<g.length;S++){var x=g[S];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(m,f(x.key),x)}}function u(m,g,S){return l(m.prototype,g),Object.defineProperty(m,"prototype",{writable:!1}),m}function f(m){var g=d(m,"string");return e(g)=="symbol"?g:g+""}function d(m,g){if(e(m)!="object"||!m)return m;var S=m[Symbol.toPrimitive];if(S!==void 0){var x=S.call(m,g);if(e(x)!="object")return x;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(m)}var c=Pr(),p=Nr(),b=p.SPLAT,v=/%[scdjifoO%]/g,_=/%%/g,y=function(){function m(g){s(this,m),this.options=g}return u(m,[{key:"_splat",value:function(S,x){var I=S.message,N=S[b]||S.splat||[],q=I.match(_),D=q&&q.length||0,M=x.length-D,j=M-N.length,P=j<0?N.splice(j,-1*j):[],B=P.length;if(B)for(var Y=0;Y<B;Y++)Object.assign(S,P[Y]);return S.message=c.format.apply(c,[I].concat(t(N))),S}},{key:"transform",value:function(S){var x=S.message,I=S[b]||S.splat;if(!I||!I.length)return S;var N=x&&x.match&&x.match(v);if(!N&&(I||I.length)){var q=I.length>1?I.splice(0):I,D=q.length;if(D)for(var M=0;M<D;M++)Object.assign(S,q[M]);return S}return N?this._splat(S,N):S}}])}();return kv=function(m){return new y(m)},kv}var vB=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,yo="\\d\\d?",uo="\\d\\d",MY="\\d{3}",kY="\\d{4}",Op="[^\\s]+",wB=/\[([^]*?)\]/gm;function SB(e,t){for(var r=[],n=0,i=e.length;n<i;n++)r.push(e[n].substr(0,t));return r}var eN=function(e){return function(t,r){var n=r[e].map(function(a){return a.toLowerCase()}),i=n.indexOf(t.toLowerCase());return i>-1?i:null}};function Co(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var n=0,i=t;n<i.length;n++){var a=i[n];for(var o in a)e[o]=a[o]}return e}var EB=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],TB=["January","February","March","April","May","June","July","August","September","October","November","December"],FY=SB(TB,3),jY=SB(EB,3),QT={dayNamesShort:jY,dayNames:EB,monthNamesShort:FY,monthNames:TB,amPm:["am","pm"],DoFn:function(e){return e+["th","st","nd","rd"][e%10>3?0:(e-e%10!==10?1:0)*e%10]}},vy=Co({},QT),xB=function(e){return vy=Co(vy,e)},tN=function(e){return e.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},$n=function(e,t){for(t===void 0&&(t=2),e=String(e);e.length<t;)e="0"+e;return e},qY={D:function(e){return String(e.getDate())},DD:function(e){return $n(e.getDate())},Do:function(e,t){return t.DoFn(e.getDate())},d:function(e){return String(e.getDay())},dd:function(e){return $n(e.getDay())},ddd:function(e,t){return t.dayNamesShort[e.getDay()]},dddd:function(e,t){return t.dayNames[e.getDay()]},M:function(e){return String(e.getMonth()+1)},MM:function(e){return $n(e.getMonth()+1)},MMM:function(e,t){return t.monthNamesShort[e.getMonth()]},MMMM:function(e,t){return t.monthNames[e.getMonth()]},YY:function(e){return $n(String(e.getFullYear()),4).substr(2)},YYYY:function(e){return $n(e.getFullYear(),4)},h:function(e){return String(e.getHours()%12||12)},hh:function(e){return $n(e.getHours()%12||12)},H:function(e){return String(e.getHours())},HH:function(e){return $n(e.getHours())},m:function(e){return String(e.getMinutes())},mm:function(e){return $n(e.getMinutes())},s:function(e){return String(e.getSeconds())},ss:function(e){return $n(e.getSeconds())},S:function(e){return String(Math.round(e.getMilliseconds()/100))},SS:function(e){return $n(Math.round(e.getMilliseconds()/10),2)},SSS:function(e){return $n(e.getMilliseconds(),3)},a:function(e,t){return e.getHours()<12?t.amPm[0]:t.amPm[1]},A:function(e,t){return e.getHours()<12?t.amPm[0].toUpperCase():t.amPm[1].toUpperCase()},ZZ:function(e){var t=e.getTimezoneOffset();return(t>0?"-":"+")+$n(Math.floor(Math.abs(t)/60)*100+Math.abs(t)%60,4)},Z:function(e){var t=e.getTimezoneOffset();return(t>0?"-":"+")+$n(Math.floor(Math.abs(t)/60),2)+":"+$n(Math.abs(t)%60,2)}},rN=function(e){return+e-1},nN=[null,yo],iN=[null,Op],aN=["isPm",Op,function(e,t){var r=e.toLowerCase();return r===t.amPm[0]?0:r===t.amPm[1]?1:null}],oN=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(e){var t=(e+"").match(/([+-]|\d\d)/gi);if(t){var r=+t[1]*60+parseInt(t[2],10);return t[0]==="+"?r:-r}return 0}],BY={D:["day",yo],DD:["day",uo],Do:["day",yo+Op,function(e){return parseInt(e,10)}],M:["month",yo,rN],MM:["month",uo,rN],YY:["year",uo,function(e){var t=new Date,r=+(""+t.getFullYear()).substr(0,2);return+(""+(+e>68?r-1:r)+e)}],h:["hour",yo,void 0,"isPm"],hh:["hour",uo,void 0,"isPm"],H:["hour",yo],HH:["hour",uo],m:["minute",yo],mm:["minute",uo],s:["second",yo],ss:["second",uo],YYYY:["year",kY],S:["millisecond","\\d",function(e){return+e*100}],SS:["millisecond",uo,function(e){return+e*10}],SSS:["millisecond",MY],d:nN,dd:nN,ddd:iN,dddd:iN,MMM:["month",Op,eN("monthNamesShort")],MMMM:["month",Op,eN("monthNames")],a:aN,A:aN,ZZ:oN,Z:oN},wy={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},RB=function(e){return Co(wy,e)},AB=function(e,t,r){if(t===void 0&&(t=wy.default),r===void 0&&(r={}),typeof e=="number"&&(e=new Date(e)),Object.prototype.toString.call(e)!=="[object Date]"||isNaN(e.getTime()))throw new Error("Invalid Date pass to format");t=wy[t]||t;var n=[];t=t.replace(wB,function(a,o){return n.push(o),"@@@"});var i=Co(Co({},vy),r);return t=t.replace(vB,function(a){return qY[a](e,i)}),t.replace(/@@@/g,function(){return n.shift()})};function IB(e,t,r){if(r===void 0&&(r={}),typeof t!="string")throw new Error("Invalid format in fecha parse");if(t=wy[t]||t,e.length>1e3)return null;var n=new Date,i={year:n.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},a=[],o=[],s=t.replace(wB,function(S,x){return o.push(tN(x)),"@@@"}),l={},u={};s=tN(s).replace(vB,function(S){var x=BY[S],I=x[0],N=x[1],q=x[3];if(l[I])throw new Error("Invalid format. "+I+" specified twice in format");return l[I]=!0,q&&(u[q]=!0),a.push(x),"("+N+")"}),Object.keys(u).forEach(function(S){if(!l[S])throw new Error("Invalid format. "+S+" is required in specified format")}),s=s.replace(/@@@/g,function(){return o.shift()});var f=e.match(new RegExp(s,"i"));if(!f)return null;for(var d=Co(Co({},vy),r),c=1;c<f.length;c++){var p=a[c-1],b=p[0],v=p[2],_=v?v(f[c],d):+f[c];if(_==null)return null;i[b]=_}i.isPm===1&&i.hour!=null&&+i.hour!=12?i.hour=+i.hour+12:i.isPm===0&&+i.hour==12&&(i.hour=0);var y;if(i.timezoneOffset==null){y=new Date(i.year,i.month,i.day,i.hour,i.minute,i.second,i.millisecond);for(var m=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],c=0,g=m.length;c<g;c++)if(l[m[c][0]]&&i[m[c][0]]!==y[m[c][1]]())return null}else if(y=new Date(Date.UTC(i.year,i.month,i.day,i.hour,i.minute-i.timezoneOffset,i.second,i.millisecond)),i.month>11||i.month<0||i.day>31||i.day<1||i.hour>23||i.hour<0||i.minute>59||i.minute<0||i.second>59||i.second<0)return null;return y}var $Y={format:AB,parse:IB,defaultI18n:QT,setGlobalDateI18n:xB,setGlobalDateMasks:RB};const UY=Object.freeze(Object.defineProperty({__proto__:null,assign:Co,default:$Y,defaultI18n:QT,format:AB,parse:IB,setGlobalDateI18n:xB,setGlobalDateMasks:RB},Symbol.toStringTag,{value:"Module"})),VY=el(UY);var Fv,sN;function HY(){if(sN)return Fv;sN=1;var e=VY,t=ni();return Fv=t(function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return n.format&&(r.timestamp=typeof n.format=="function"?n.format():e.format(new Date,n.format)),r.timestamp||(r.timestamp=new Date().toISOString()),n.alias&&(r[n.alias]=r.timestamp),r}),Fv}var jv,uN;function zY(){if(uN)return jv;uN=1;var e=gB(),t=ni(),r=Nr(),n=r.MESSAGE;return jv=t(function(i,a){return a.level!==!1&&(i.level=e.strip(i.level)),a.message!==!1&&(i.message=e.strip(String(i.message))),a.raw!==!1&&i[n]&&(i[n]=e.strip(String(i[n]))),i}),jv}var lN;function PB(){if(lN)return dm;lN=1;var e=dm.format=ni();return dm.levels=wY(),Object.defineProperty(e,"align",{value:SY()}),Object.defineProperty(e,"cli",{value:EY()}),Object.defineProperty(e,"colorize",{value:KT()}),Object.defineProperty(e,"combine",{value:TY()}),Object.defineProperty(e,"errors",{value:xY()}),Object.defineProperty(e,"json",{value:RY()}),Object.defineProperty(e,"label",{value:AY()}),Object.defineProperty(e,"logstash",{value:IY()}),Object.defineProperty(e,"metadata",{value:PY()}),Object.defineProperty(e,"ms",{value:OY()}),Object.defineProperty(e,"padLevels",{value:_B()}),Object.defineProperty(e,"prettyPrint",{value:NY()}),Object.defineProperty(e,"printf",{value:DY()}),Object.defineProperty(e,"simple",{value:CY()}),Object.defineProperty(e,"splat",{value:LY()}),Object.defineProperty(e,"timestamp",{value:HY()}),Object.defineProperty(e,"uncolorize",{value:zY()}),dm}var qv={},fN;function OB(){return fN||(fN=1,function(e){var t=Pr(),r=t.format;e.warn={deprecated:function(i){return function(){throw new Error(r("{ %s } was removed in winston@3.0.0.",i))}},useFormat:function(i){return function(){throw new Error([r("{ %s } was removed in winston@3.0.0.",i),"Use a custom winston.format = winston.format(function) instead."].join(`
`))}},forFunctions:function(i,a,o){o.forEach(function(s){i[s]=e.warn[a](s)})},forProperties:function(i,a,o){o.forEach(function(s){var l=e.warn[a](s);Object.defineProperty(i,s,{get:l,set:l})})}}}(qv)),qv}const GY="winston",WY="A logger for just about everything.",KY="3.17.0",QY="Charlie Robbins <charlie.robbins@gmail.com>",ZY=["David Hyde <dabh@alumni.stanford.edu>"],YY={type:"git",url:"https://github.com/winstonjs/winston.git"},XY=["winston","logger","logging","logs","sysadmin","bunyan","pino","loglevel","tools","json","stream"],JY={"@dabh/diagnostics":"^2.0.2","@colors/colors":"^1.6.0",async:"^3.2.3","is-stream":"^2.0.0",logform:"^2.7.0","one-time":"^1.0.0","readable-stream":"^3.4.0","safe-stable-stringify":"^2.3.1","stack-trace":"0.0.x","triple-beam":"^1.3.0","winston-transport":"^4.9.0"},eX={"@babel/cli":"^7.23.9","@babel/core":"^7.24.0","@babel/preset-env":"^7.24.0","@dabh/eslint-config-populist":"^4.4.0","@types/node":"^20.11.24","abstract-winston-transport":"^0.5.1",assume:"^2.2.0","cross-spawn-async":"^2.2.5",eslint:"^8.57.0",hock:"^1.4.1",mocha:"^10.3.0",nyc:"^17.1.0",rimraf:"5.0.1",split2:"^4.1.0","std-mocks":"^2.0.0",through2:"^4.0.2","winston-compat":"^0.1.5"},tX="./lib/winston.js",rX="./dist/winston",nX="./index.d.ts",iX={lint:"eslint lib/*.js lib/winston/*.js lib/winston/**/*.js --resolve-plugins-relative-to ./node_modules/@dabh/eslint-config-populist",test:"rimraf test/fixtures/logs/* && mocha","test:coverage":"nyc npm run test:unit","test:unit":"mocha test/unit","test:integration":"mocha test/integration",build:"rimraf dist && babel lib -d dist",prepublishOnly:"npm run build"},aX={node:">= 12.0.0"},oX="MIT",sX={name:GY,description:WY,version:KY,author:QY,maintainers:ZY,repository:YY,keywords:XY,dependencies:JY,devDependencies:eX,main:tX,browser:rX,types:nX,scripts:iX,engines:aX,license:oX};var Bv={},vm={exports:{}},$v={exports:{}},Uv,cN;function rg(){if(cN)return Uv;cN=1,Uv=e;function e(r,n){if(t("noDeprecation"))return r;var i=!1;function a(){if(!i){if(t("throwDeprecation"))throw new Error(n);t("traceDeprecation")?console.trace(n):console.warn(n),i=!0}return r.apply(this,arguments)}return a}function t(r){try{if(!Tt.localStorage)return!1}catch{return!1}var n=Tt.localStorage[r];return n==null?!1:String(n).toLowerCase()==="true"}return Uv}var Vv,dN;function NB(){return dN||(dN=1,Vv=Wn().EventEmitter),Vv}var Hv,hN;function DB(){if(hN)return Hv;hN=1;function e(o,s){var l=this,u=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return u||f?(s?s(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,ze.nextTick(i,this,o)):ze.nextTick(i,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(d){!s&&d?l._writableState?l._writableState.errorEmitted?ze.nextTick(r,l):(l._writableState.errorEmitted=!0,ze.nextTick(t,l,d)):ze.nextTick(t,l,d):s?(ze.nextTick(r,l),s(d)):ze.nextTick(r,l)}),this)}function t(o,s){i(o,s),r(o)}function r(o){o._writableState&&!o._writableState.emitClose||o._readableState&&!o._readableState.emitClose||o.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(o,s){o.emit("error",s)}function a(o,s){var l=o._readableState,u=o._writableState;l&&l.autoDestroy||u&&u.autoDestroy?o.destroy(s):o.emit("error",s)}return Hv={destroy:e,undestroy:n,errorOrDestroy:a},Hv}var zv={},pN;function ng(){if(pN)return zv;pN=1;function e(s,l){s.prototype=Object.create(l.prototype),s.prototype.constructor=s,s.__proto__=l}var t={};function r(s,l,u){u||(u=Error);function f(c,p,b){return typeof l=="string"?l:l(c,p,b)}var d=function(c){e(p,c);function p(b,v,_){return c.call(this,f(b,v,_))||this}return p}(u);d.prototype.name=u.name,d.prototype.code=s,t[s]=d}function n(s,l){if(Array.isArray(s)){var u=s.length;return s=s.map(function(f){return String(f)}),u>2?"one of ".concat(l," ").concat(s.slice(0,u-1).join(", "),", or ")+s[u-1]:u===2?"one of ".concat(l," ").concat(s[0]," or ").concat(s[1]):"of ".concat(l," ").concat(s[0])}else return"of ".concat(l," ").concat(String(s))}function i(s,l,u){return s.substr(0,l.length)===l}function a(s,l,u){return(u===void 0||u>s.length)&&(u=s.length),s.substring(u-l.length,u)===l}function o(s,l,u){return typeof u!="number"&&(u=0),u+l.length>s.length?!1:s.indexOf(l,u)!==-1}return r("ERR_INVALID_OPT_VALUE",function(s,l){return'The value "'+l+'" is invalid for option "'+s+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(s,l,u){var f;typeof l=="string"&&i(l,"not ")?(f="must not be",l=l.replace(/^not /,"")):f="must be";var d;if(a(s," argument"))d="The ".concat(s," ").concat(f," ").concat(n(l,"type"));else{var c=o(s,".")?"property":"argument";d='The "'.concat(s,'" ').concat(c," ").concat(f," ").concat(n(l,"type"))}return d+=". Received type ".concat(typeof u),d},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(s){return"The "+s+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(s){return"Cannot call "+s+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(s){return"Unknown encoding: "+s},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),zv.codes=t,zv}var Gv,mN;function CB(){if(mN)return Gv;mN=1;var e=ng().codes.ERR_INVALID_OPT_VALUE;function t(n,i,a){return n.highWaterMark!=null?n.highWaterMark:i?n[a]:null}function r(n,i,a,o){var s=t(i,o,a);if(s!=null){if(!(isFinite(s)&&Math.floor(s)===s)||s<0){var l=o?a:"highWaterMark";throw new e(l,s)}return Math.floor(s)}return n.objectMode?16:16*1024}return Gv={getHighWaterMark:r},Gv}var Wv,yN;function uX(){if(yN)return Wv;yN=1;function e(b,v){var _=Object.keys(b);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(b);v&&(y=y.filter(function(m){return Object.getOwnPropertyDescriptor(b,m).enumerable})),_.push.apply(_,y)}return _}function t(b){for(var v=1;v<arguments.length;v++){var _=arguments[v]!=null?arguments[v]:{};v%2?e(Object(_),!0).forEach(function(y){r(b,y,_[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(_)):e(Object(_)).forEach(function(y){Object.defineProperty(b,y,Object.getOwnPropertyDescriptor(_,y))})}return b}function r(b,v,_){return v=o(v),v in b?Object.defineProperty(b,v,{value:_,enumerable:!0,configurable:!0,writable:!0}):b[v]=_,b}function n(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}function i(b,v){for(var _=0;_<v.length;_++){var y=v[_];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(b,o(y.key),y)}}function a(b,v,_){return i(b.prototype,v),Object.defineProperty(b,"prototype",{writable:!1}),b}function o(b){var v=s(b,"string");return typeof v=="symbol"?v:String(v)}function s(b,v){if(typeof b!="object"||b===null)return b;var _=b[Symbol.toPrimitive];if(_!==void 0){var y=_.call(b,v);if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(b)}var l=Er(),u=l.Buffer,f=Pr(),d=f.inspect,c=d&&d.custom||"inspect";function p(b,v,_){u.prototype.copy.call(b,v,_)}return Wv=function(){function b(){n(this,b),this.head=null,this.tail=null,this.length=0}return a(b,[{key:"push",value:function(_){var y={data:_,next:null};this.length>0?this.tail.next=y:this.head=y,this.tail=y,++this.length}},{key:"unshift",value:function(_){var y={data:_,next:this.head};this.length===0&&(this.tail=y),this.head=y,++this.length}},{key:"shift",value:function(){if(this.length!==0){var _=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,_}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(_){if(this.length===0)return"";for(var y=this.head,m=""+y.data;y=y.next;)m+=_+y.data;return m}},{key:"concat",value:function(_){if(this.length===0)return u.alloc(0);for(var y=u.allocUnsafe(_>>>0),m=this.head,g=0;m;)p(m.data,y,g),g+=m.data.length,m=m.next;return y}},{key:"consume",value:function(_,y){var m;return _<this.head.data.length?(m=this.head.data.slice(0,_),this.head.data=this.head.data.slice(_)):_===this.head.data.length?m=this.shift():m=y?this._getString(_):this._getBuffer(_),m}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(_){var y=this.head,m=1,g=y.data;for(_-=g.length;y=y.next;){var S=y.data,x=_>S.length?S.length:_;if(x===S.length?g+=S:g+=S.slice(0,_),_-=x,_===0){x===S.length?(++m,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=S.slice(x));break}++m}return this.length-=m,g}},{key:"_getBuffer",value:function(_){var y=u.allocUnsafe(_),m=this.head,g=1;for(m.data.copy(y),_-=m.data.length;m=m.next;){var S=m.data,x=_>S.length?S.length:_;if(S.copy(y,y.length-_,0,x),_-=x,_===0){x===S.length?(++g,m.next?this.head=m.next:this.head=this.tail=null):(this.head=m,m.data=S.slice(x));break}++g}return this.length-=g,y}},{key:c,value:function(_,y){return d(this,t(t({},y),{},{depth:0,customInspect:!1}))}}]),b}(),Wv}var Kv,gN;function lX(){if(gN)return Kv;gN=1;var e=ng().codes.ERR_STREAM_PREMATURE_CLOSE;function t(a){var o=!1;return function(){if(!o){o=!0;for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];a.apply(this,l)}}}function r(){}function n(a){return a.setHeader&&typeof a.abort=="function"}function i(a,o,s){if(typeof o=="function")return i(a,null,o);o||(o={}),s=t(s||r);var l=o.readable||o.readable!==!1&&a.readable,u=o.writable||o.writable!==!1&&a.writable,f=function(){a.writable||c()},d=a._writableState&&a._writableState.finished,c=function(){u=!1,d=!0,l||s.call(a)},p=a._readableState&&a._readableState.endEmitted,b=function(){l=!1,p=!0,u||s.call(a)},v=function(g){s.call(a,g)},_=function(){var g;if(l&&!p)return(!a._readableState||!a._readableState.ended)&&(g=new e),s.call(a,g);if(u&&!d)return(!a._writableState||!a._writableState.ended)&&(g=new e),s.call(a,g)},y=function(){a.req.on("finish",c)};return n(a)?(a.on("complete",c),a.on("abort",_),a.req?y():a.on("request",y)):u&&!a._writableState&&(a.on("end",f),a.on("close",f)),a.on("end",b),a.on("finish",c),o.error!==!1&&a.on("error",v),a.on("close",_),function(){a.removeListener("complete",c),a.removeListener("abort",_),a.removeListener("request",y),a.req&&a.req.removeListener("finish",c),a.removeListener("end",f),a.removeListener("close",f),a.removeListener("finish",c),a.removeListener("end",b),a.removeListener("error",v),a.removeListener("close",_)}}return Kv=i,Kv}var Qv,_N;function fX(){if(_N)return Qv;_N=1;var e;function t(g,S,x){return S=r(S),S in g?Object.defineProperty(g,S,{value:x,enumerable:!0,configurable:!0,writable:!0}):g[S]=x,g}function r(g){var S=n(g,"string");return typeof S=="symbol"?S:String(S)}function n(g,S){if(typeof g!="object"||g===null)return g;var x=g[Symbol.toPrimitive];if(x!==void 0){var I=x.call(g,S||"default");if(typeof I!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(g)}var i=lX(),a=Symbol("lastResolve"),o=Symbol("lastReject"),s=Symbol("error"),l=Symbol("ended"),u=Symbol("lastPromise"),f=Symbol("handlePromise"),d=Symbol("stream");function c(g,S){return{value:g,done:S}}function p(g){var S=g[a];if(S!==null){var x=g[d].read();x!==null&&(g[u]=null,g[a]=null,g[o]=null,S(c(x,!1)))}}function b(g){ze.nextTick(p,g)}function v(g,S){return function(x,I){g.then(function(){if(S[l]){x(c(void 0,!0));return}S[f](x,I)},I)}}var _=Object.getPrototypeOf(function(){}),y=Object.setPrototypeOf((e={get stream(){return this[d]},next:function(){var S=this,x=this[s];if(x!==null)return Promise.reject(x);if(this[l])return Promise.resolve(c(void 0,!0));if(this[d].destroyed)return new Promise(function(D,M){ze.nextTick(function(){S[s]?M(S[s]):D(c(void 0,!0))})});var I=this[u],N;if(I)N=new Promise(v(I,this));else{var q=this[d].read();if(q!==null)return Promise.resolve(c(q,!1));N=new Promise(this[f])}return this[u]=N,N}},t(e,Symbol.asyncIterator,function(){return this}),t(e,"return",function(){var S=this;return new Promise(function(x,I){S[d].destroy(null,function(N){if(N){I(N);return}x(c(void 0,!0))})})}),e),_),m=function(S){var x,I=Object.create(y,(x={},t(x,d,{value:S,writable:!0}),t(x,a,{value:null,writable:!0}),t(x,o,{value:null,writable:!0}),t(x,s,{value:null,writable:!0}),t(x,l,{value:S._readableState.endEmitted,writable:!0}),t(x,f,{value:function(q,D){var M=I[d].read();M?(I[u]=null,I[a]=null,I[o]=null,q(c(M,!1))):(I[a]=q,I[o]=D)},writable:!0}),x));return I[u]=null,i(S,function(N){if(N&&N.code!=="ERR_STREAM_PREMATURE_CLOSE"){var q=I[o];q!==null&&(I[u]=null,I[a]=null,I[o]=null,q(N)),I[s]=N;return}var D=I[a];D!==null&&(I[u]=null,I[a]=null,I[o]=null,D(c(void 0,!0))),I[l]=!0}),S.on("readable",b.bind(null,I)),I};return Qv=m,Qv}var Zv,bN;function cX(){return bN||(bN=1,Zv=function(){throw new Error("Readable.from is not available in the browser")}),Zv}var Yv,vN;function dX(){if(vN)return Yv;vN=1,Yv=D;var e;D.ReadableState=q,Wn().EventEmitter;var t=function(w,T){return w.listeners(T).length},r=NB(),n=Er().Buffer,i=(typeof Tt<"u"?Tt:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function a(R){return n.from(R)}function o(R){return n.isBuffer(R)||R instanceof i}var s=Pr(),l;s&&s.debuglog?l=s.debuglog("stream"):l=function(){};var u=uX(),f=DB(),d=CB(),c=d.getHighWaterMark,p=ng().codes,b=p.ERR_INVALID_ARG_TYPE,v=p.ERR_STREAM_PUSH_AFTER_EOF,_=p.ERR_METHOD_NOT_IMPLEMENTED,y=p.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,m,g,S;Or()(D,r);var x=f.errorOrDestroy,I=["error","close","destroy","pause","resume"];function N(R,w,T){if(typeof R.prependListener=="function")return R.prependListener(w,T);!R._events||!R._events[w]?R.on(w,T):Array.isArray(R._events[w])?R._events[w].unshift(T):R._events[w]=[T,R._events[w]]}function q(R,w,T){e=e||Sy(),R=R||{},typeof T!="boolean"&&(T=w instanceof e),this.objectMode=!!R.objectMode,T&&(this.objectMode=this.objectMode||!!R.readableObjectMode),this.highWaterMark=c(this,R,"readableHighWaterMark",T),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=R.emitClose!==!1,this.autoDestroy=!!R.autoDestroy,this.destroyed=!1,this.defaultEncoding=R.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,R.encoding&&(m||(m=ga().StringDecoder),this.decoder=new m(R.encoding),this.encoding=R.encoding)}function D(R){if(e=e||Sy(),!(this instanceof D))return new D(R);var w=this instanceof e;this._readableState=new q(R,this,w),this.readable=!0,R&&(typeof R.read=="function"&&(this._read=R.read),typeof R.destroy=="function"&&(this._destroy=R.destroy)),r.call(this)}Object.defineProperty(D.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(w){this._readableState&&(this._readableState.destroyed=w)}}),D.prototype.destroy=f.destroy,D.prototype._undestroy=f.undestroy,D.prototype._destroy=function(R,w){w(R)},D.prototype.push=function(R,w){var T=this._readableState,k;return T.objectMode?k=!0:typeof R=="string"&&(w=w||T.defaultEncoding,w!==T.encoding&&(R=n.from(R,w),w=""),k=!0),M(this,R,w,!1,k)},D.prototype.unshift=function(R){return M(this,R,null,!0,!1)};function M(R,w,T,k,U){l("readableAddChunk",w);var re=R._readableState;if(w===null)re.reading=!1,X(R,re);else{var fe;if(U||(fe=P(re,w)),fe)x(R,fe);else if(re.objectMode||w&&w.length>0)if(typeof w!="string"&&!re.objectMode&&Object.getPrototypeOf(w)!==n.prototype&&(w=a(w)),k)re.endEmitted?x(R,new y):j(R,re,w,!0);else if(re.ended)x(R,new v);else{if(re.destroyed)return!1;re.reading=!1,re.decoder&&!T?(w=re.decoder.write(w),re.objectMode||w.length!==0?j(R,re,w,!1):ne(R,re)):j(R,re,w,!1)}else k||(re.reading=!1,ne(R,re))}return!re.ended&&(re.length<re.highWaterMark||re.length===0)}function j(R,w,T,k){w.flowing&&w.length===0&&!w.sync?(w.awaitDrain=0,R.emit("data",T)):(w.length+=w.objectMode?1:T.length,k?w.buffer.unshift(T):w.buffer.push(T),w.needReadable&&le(R)),ne(R,w)}function P(R,w){var T;return!o(w)&&typeof w!="string"&&w!==void 0&&!R.objectMode&&(T=new b("chunk",["string","Buffer","Uint8Array"],w)),T}D.prototype.isPaused=function(){return this._readableState.flowing===!1},D.prototype.setEncoding=function(R){m||(m=ga().StringDecoder);var w=new m(R);this._readableState.decoder=w,this._readableState.encoding=this._readableState.decoder.encoding;for(var T=this._readableState.buffer.head,k="";T!==null;)k+=w.write(T.data),T=T.next;return this._readableState.buffer.clear(),k!==""&&this._readableState.buffer.push(k),this._readableState.length=k.length,this};var B=1073741824;function Y(R){return R>=B?R=B:(R--,R|=R>>>1,R|=R>>>2,R|=R>>>4,R|=R>>>8,R|=R>>>16,R++),R}function ie(R,w){return R<=0||w.length===0&&w.ended?0:w.objectMode?1:R!==R?w.flowing&&w.length?w.buffer.head.data.length:w.length:(R>w.highWaterMark&&(w.highWaterMark=Y(R)),R<=w.length?R:w.ended?w.length:(w.needReadable=!0,0))}D.prototype.read=function(R){l("read",R),R=parseInt(R,10);var w=this._readableState,T=R;if(R!==0&&(w.emittedReadable=!1),R===0&&w.needReadable&&((w.highWaterMark!==0?w.length>=w.highWaterMark:w.length>0)||w.ended))return l("read: emitReadable",w.length,w.ended),w.length===0&&w.ended?$(this):le(this),null;if(R=ie(R,w),R===0&&w.ended)return w.length===0&&$(this),null;var k=w.needReadable;l("need readable",k),(w.length===0||w.length-R<w.highWaterMark)&&(k=!0,l("length less than watermark",k)),w.ended||w.reading?(k=!1,l("reading or ended",k)):k&&(l("do read"),w.reading=!0,w.sync=!0,w.length===0&&(w.needReadable=!0),this._read(w.highWaterMark),w.sync=!1,w.reading||(R=ie(T,w)));var U;return R>0?U=A(R,w):U=null,U===null?(w.needReadable=w.length<=w.highWaterMark,R=0):(w.length-=R,w.awaitDrain=0),w.length===0&&(w.ended||(w.needReadable=!0),T!==R&&w.ended&&$(this)),U!==null&&this.emit("data",U),U};function X(R,w){if(l("onEofChunk"),!w.ended){if(w.decoder){var T=w.decoder.end();T&&T.length&&(w.buffer.push(T),w.length+=w.objectMode?1:T.length)}w.ended=!0,w.sync?le(R):(w.needReadable=!1,w.emittedReadable||(w.emittedReadable=!0,ae(R)))}}function le(R){var w=R._readableState;l("emitReadable",w.needReadable,w.emittedReadable),w.needReadable=!1,w.emittedReadable||(l("emitReadable",w.flowing),w.emittedReadable=!0,ze.nextTick(ae,R))}function ae(R){var w=R._readableState;l("emitReadable_",w.destroyed,w.length,w.ended),!w.destroyed&&(w.length||w.ended)&&(R.emit("readable"),w.emittedReadable=!1),w.needReadable=!w.flowing&&!w.ended&&w.length<=w.highWaterMark,O(R)}function ne(R,w){w.readingMore||(w.readingMore=!0,ze.nextTick(H,R,w))}function H(R,w){for(;!w.reading&&!w.ended&&(w.length<w.highWaterMark||w.flowing&&w.length===0);){var T=w.length;if(l("maybeReadMore read 0"),R.read(0),T===w.length)break}w.readingMore=!1}D.prototype._read=function(R){x(this,new _("_read()"))},D.prototype.pipe=function(R,w){var T=this,k=this._readableState;switch(k.pipesCount){case 0:k.pipes=R;break;case 1:k.pipes=[k.pipes,R];break;default:k.pipes.push(R);break}k.pipesCount+=1,l("pipe count=%d opts=%j",k.pipesCount,w);var U=(!w||w.end!==!1)&&R!==ze.stdout&&R!==ze.stderr,re=U?ve:ke;k.endEmitted?ze.nextTick(re):T.once("end",re),R.on("unpipe",fe);function fe(Ke,Ue){l("onunpipe"),Ke===T&&Ue&&Ue.hasUnpiped===!1&&(Ue.hasUnpiped=!0,be())}function ve(){l("onend"),R.end()}var ce=oe(T);R.on("drain",ce);var Ie=!1;function be(){l("cleanup"),R.removeListener("close",Ae),R.removeListener("finish",Oe),R.removeListener("drain",ce),R.removeListener("error",je),R.removeListener("unpipe",fe),T.removeListener("end",ve),T.removeListener("end",ke),T.removeListener("data",Te),Ie=!0,k.awaitDrain&&(!R._writableState||R._writableState.needDrain)&&ce()}T.on("data",Te);function Te(Ke){l("ondata");var Ue=R.write(Ke);l("dest.write",Ue),Ue===!1&&((k.pipesCount===1&&k.pipes===R||k.pipesCount>1&&pe(k.pipes,R)!==-1)&&!Ie&&(l("false write response, pause",k.awaitDrain),k.awaitDrain++),T.pause())}function je(Ke){l("onerror",Ke),ke(),R.removeListener("error",je),t(R,"error")===0&&x(R,Ke)}N(R,"error",je);function Ae(){R.removeListener("finish",Oe),ke()}R.once("close",Ae);function Oe(){l("onfinish"),R.removeListener("close",Ae),ke()}R.once("finish",Oe);function ke(){l("unpipe"),T.unpipe(R)}return R.emit("pipe",T),k.flowing||(l("pipe resume"),T.resume()),R};function oe(R){return function(){var T=R._readableState;l("pipeOnDrain",T.awaitDrain),T.awaitDrain&&T.awaitDrain--,T.awaitDrain===0&&t(R,"data")&&(T.flowing=!0,O(R))}}D.prototype.unpipe=function(R){var w=this._readableState,T={hasUnpiped:!1};if(w.pipesCount===0)return this;if(w.pipesCount===1)return R&&R!==w.pipes?this:(R||(R=w.pipes),w.pipes=null,w.pipesCount=0,w.flowing=!1,R&&R.emit("unpipe",this,T),this);if(!R){var k=w.pipes,U=w.pipesCount;w.pipes=null,w.pipesCount=0,w.flowing=!1;for(var re=0;re<U;re++)k[re].emit("unpipe",this,{hasUnpiped:!1});return this}var fe=pe(w.pipes,R);return fe===-1?this:(w.pipes.splice(fe,1),w.pipesCount-=1,w.pipesCount===1&&(w.pipes=w.pipes[0]),R.emit("unpipe",this,T),this)},D.prototype.on=function(R,w){var T=r.prototype.on.call(this,R,w),k=this._readableState;return R==="data"?(k.readableListening=this.listenerCount("readable")>0,k.flowing!==!1&&this.resume()):R==="readable"&&!k.endEmitted&&!k.readableListening&&(k.readableListening=k.needReadable=!0,k.flowing=!1,k.emittedReadable=!1,l("on readable",k.length,k.reading),k.length?le(this):k.reading||ze.nextTick(Z,this)),T},D.prototype.addListener=D.prototype.on,D.prototype.removeListener=function(R,w){var T=r.prototype.removeListener.call(this,R,w);return R==="readable"&&ze.nextTick(he,this),T},D.prototype.removeAllListeners=function(R){var w=r.prototype.removeAllListeners.apply(this,arguments);return(R==="readable"||R===void 0)&&ze.nextTick(he,this),w};function he(R){var w=R._readableState;w.readableListening=R.listenerCount("readable")>0,w.resumeScheduled&&!w.paused?w.flowing=!0:R.listenerCount("data")>0&&R.resume()}function Z(R){l("readable nexttick read 0"),R.read(0)}D.prototype.resume=function(){var R=this._readableState;return R.flowing||(l("resume"),R.flowing=!R.readableListening,Q(this,R)),R.paused=!1,this};function Q(R,w){w.resumeScheduled||(w.resumeScheduled=!0,ze.nextTick(ee,R,w))}function ee(R,w){l("resume",w.reading),w.reading||R.read(0),w.resumeScheduled=!1,R.emit("resume"),O(R),w.flowing&&!w.reading&&R.read(0)}D.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function O(R){var w=R._readableState;for(l("flow",w.flowing);w.flowing&&R.read()!==null;);}D.prototype.wrap=function(R){var w=this,T=this._readableState,k=!1;R.on("end",function(){if(l("wrapped end"),T.decoder&&!T.ended){var fe=T.decoder.end();fe&&fe.length&&w.push(fe)}w.push(null)}),R.on("data",function(fe){if(l("wrapped data"),T.decoder&&(fe=T.decoder.write(fe)),!(T.objectMode&&fe==null)&&!(!T.objectMode&&(!fe||!fe.length))){var ve=w.push(fe);ve||(k=!0,R.pause())}});for(var U in R)this[U]===void 0&&typeof R[U]=="function"&&(this[U]=function(ve){return function(){return R[ve].apply(R,arguments)}}(U));for(var re=0;re<I.length;re++)R.on(I[re],this.emit.bind(this,I[re]));return this._read=function(fe){l("wrapped _read",fe),k&&(k=!1,R.resume())},this},typeof Symbol=="function"&&(D.prototype[Symbol.asyncIterator]=function(){return g===void 0&&(g=fX()),g(this)}),Object.defineProperty(D.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(D.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(D.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(w){this._readableState&&(this._readableState.flowing=w)}}),D._fromList=A,Object.defineProperty(D.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function A(R,w){if(w.length===0)return null;var T;return w.objectMode?T=w.buffer.shift():!R||R>=w.length?(w.decoder?T=w.buffer.join(""):w.buffer.length===1?T=w.buffer.first():T=w.buffer.concat(w.length),w.buffer.clear()):T=w.buffer.consume(R,w.decoder),T}function $(R){var w=R._readableState;l("endReadable",w.endEmitted),w.endEmitted||(w.ended=!0,ze.nextTick(te,w,R))}function te(R,w){if(l("endReadableNT",R.endEmitted,R.length),!R.endEmitted&&R.length===0&&(R.endEmitted=!0,w.readable=!1,w.emit("end"),R.autoDestroy)){var T=w._writableState;(!T||T.autoDestroy&&T.finished)&&w.destroy()}}typeof Symbol=="function"&&(D.from=function(R,w){return S===void 0&&(S=cX()),S(D,R,w)});function pe(R,w){for(var T=0,k=R.length;T<k;T++)if(R[T]===w)return T;return-1}return Yv}var Xv,wN;function Sy(){if(wN)return Xv;wN=1;var e=Object.keys||function(u){var f=[];for(var d in u)f.push(d);return f};Xv=o;var t=dX(),r=ZT();Or()(o,t);for(var n=e(r.prototype),i=0;i<n.length;i++){var a=n[i];o.prototype[a]||(o.prototype[a]=r.prototype[a])}function o(u){if(!(this instanceof o))return new o(u);t.call(this,u),r.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",s)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function s(){this._writableState.ended||ze.nextTick(l,this)}function l(u){u.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(f){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=f,this._writableState.destroyed=f)}}),Xv}var Jv,SN;function ZT(){if(SN)return Jv;SN=1,Jv=q;function e(O){var A=this;this.next=null,this.entry=null,this.finish=function(){ee(A,O)}}var t;q.WritableState=I;var r={deprecate:rg()},n=NB(),i=Er().Buffer,a=(typeof Tt<"u"?Tt:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function o(O){return i.from(O)}function s(O){return i.isBuffer(O)||O instanceof a}var l=DB(),u=CB(),f=u.getHighWaterMark,d=ng().codes,c=d.ERR_INVALID_ARG_TYPE,p=d.ERR_METHOD_NOT_IMPLEMENTED,b=d.ERR_MULTIPLE_CALLBACK,v=d.ERR_STREAM_CANNOT_PIPE,_=d.ERR_STREAM_DESTROYED,y=d.ERR_STREAM_NULL_VALUES,m=d.ERR_STREAM_WRITE_AFTER_END,g=d.ERR_UNKNOWN_ENCODING,S=l.errorOrDestroy;Or()(q,n);function x(){}function I(O,A,$){t=t||Sy(),O=O||{},typeof $!="boolean"&&($=A instanceof t),this.objectMode=!!O.objectMode,$&&(this.objectMode=this.objectMode||!!O.writableObjectMode),this.highWaterMark=f(this,O,"writableHighWaterMark",$),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var te=O.decodeStrings===!1;this.decodeStrings=!te,this.defaultEncoding=O.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(pe){X(A,pe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=O.emitClose!==!1,this.autoDestroy=!!O.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}I.prototype.getBuffer=function(){for(var A=this.bufferedRequest,$=[];A;)$.push(A),A=A.next;return $},function(){try{Object.defineProperty(I.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var N;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(N=Function.prototype[Symbol.hasInstance],Object.defineProperty(q,Symbol.hasInstance,{value:function(A){return N.call(this,A)?!0:this!==q?!1:A&&A._writableState instanceof I}})):N=function(A){return A instanceof this};function q(O){t=t||Sy();var A=this instanceof t;if(!A&&!N.call(q,this))return new q(O);this._writableState=new I(O,this,A),this.writable=!0,O&&(typeof O.write=="function"&&(this._write=O.write),typeof O.writev=="function"&&(this._writev=O.writev),typeof O.destroy=="function"&&(this._destroy=O.destroy),typeof O.final=="function"&&(this._final=O.final)),n.call(this)}q.prototype.pipe=function(){S(this,new v)};function D(O,A){var $=new m;S(O,$),ze.nextTick(A,$)}function M(O,A,$,te){var pe;return $===null?pe=new y:typeof $!="string"&&!A.objectMode&&(pe=new c("chunk",["string","Buffer"],$)),pe?(S(O,pe),ze.nextTick(te,pe),!1):!0}q.prototype.write=function(O,A,$){var te=this._writableState,pe=!1,R=!te.objectMode&&s(O);return R&&!i.isBuffer(O)&&(O=o(O)),typeof A=="function"&&($=A,A=null),R?A="buffer":A||(A=te.defaultEncoding),typeof $!="function"&&($=x),te.ending?D(this,$):(R||M(this,te,O,$))&&(te.pendingcb++,pe=P(this,te,R,O,A,$)),pe},q.prototype.cork=function(){this._writableState.corked++},q.prototype.uncork=function(){var O=this._writableState;O.corked&&(O.corked--,!O.writing&&!O.corked&&!O.bufferProcessing&&O.bufferedRequest&&ne(this,O))},q.prototype.setDefaultEncoding=function(A){if(typeof A=="string"&&(A=A.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((A+"").toLowerCase())>-1))throw new g(A);return this._writableState.defaultEncoding=A,this},Object.defineProperty(q.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function j(O,A,$){return!O.objectMode&&O.decodeStrings!==!1&&typeof A=="string"&&(A=i.from(A,$)),A}Object.defineProperty(q.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function P(O,A,$,te,pe,R){if(!$){var w=j(A,te,pe);te!==w&&($=!0,pe="buffer",te=w)}var T=A.objectMode?1:te.length;A.length+=T;var k=A.length<A.highWaterMark;if(k||(A.needDrain=!0),A.writing||A.corked){var U=A.lastBufferedRequest;A.lastBufferedRequest={chunk:te,encoding:pe,isBuf:$,callback:R,next:null},U?U.next=A.lastBufferedRequest:A.bufferedRequest=A.lastBufferedRequest,A.bufferedRequestCount+=1}else B(O,A,!1,T,te,pe,R);return k}function B(O,A,$,te,pe,R,w){A.writelen=te,A.writecb=w,A.writing=!0,A.sync=!0,A.destroyed?A.onwrite(new _("write")):$?O._writev(pe,A.onwrite):O._write(pe,R,A.onwrite),A.sync=!1}function Y(O,A,$,te,pe){--A.pendingcb,$?(ze.nextTick(pe,te),ze.nextTick(Z,O,A),O._writableState.errorEmitted=!0,S(O,te)):(pe(te),O._writableState.errorEmitted=!0,S(O,te),Z(O,A))}function ie(O){O.writing=!1,O.writecb=null,O.length-=O.writelen,O.writelen=0}function X(O,A){var $=O._writableState,te=$.sync,pe=$.writecb;if(typeof pe!="function")throw new b;if(ie($),A)Y(O,$,te,A,pe);else{var R=H($)||O.destroyed;!R&&!$.corked&&!$.bufferProcessing&&$.bufferedRequest&&ne(O,$),te?ze.nextTick(le,O,$,R,pe):le(O,$,R,pe)}}function le(O,A,$,te){$||ae(O,A),A.pendingcb--,te(),Z(O,A)}function ae(O,A){A.length===0&&A.needDrain&&(A.needDrain=!1,O.emit("drain"))}function ne(O,A){A.bufferProcessing=!0;var $=A.bufferedRequest;if(O._writev&&$&&$.next){var te=A.bufferedRequestCount,pe=new Array(te),R=A.corkedRequestsFree;R.entry=$;for(var w=0,T=!0;$;)pe[w]=$,$.isBuf||(T=!1),$=$.next,w+=1;pe.allBuffers=T,B(O,A,!0,A.length,pe,"",R.finish),A.pendingcb++,A.lastBufferedRequest=null,R.next?(A.corkedRequestsFree=R.next,R.next=null):A.corkedRequestsFree=new e(A),A.bufferedRequestCount=0}else{for(;$;){var k=$.chunk,U=$.encoding,re=$.callback,fe=A.objectMode?1:k.length;if(B(O,A,!1,fe,k,U,re),$=$.next,A.bufferedRequestCount--,A.writing)break}$===null&&(A.lastBufferedRequest=null)}A.bufferedRequest=$,A.bufferProcessing=!1}q.prototype._write=function(O,A,$){$(new p("_write()"))},q.prototype._writev=null,q.prototype.end=function(O,A,$){var te=this._writableState;return typeof O=="function"?($=O,O=null,A=null):typeof A=="function"&&($=A,A=null),O!=null&&this.write(O,A),te.corked&&(te.corked=1,this.uncork()),te.ending||Q(this,te,$),this},Object.defineProperty(q.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function H(O){return O.ending&&O.length===0&&O.bufferedRequest===null&&!O.finished&&!O.writing}function oe(O,A){O._final(function($){A.pendingcb--,$&&S(O,$),A.prefinished=!0,O.emit("prefinish"),Z(O,A)})}function he(O,A){!A.prefinished&&!A.finalCalled&&(typeof O._final=="function"&&!A.destroyed?(A.pendingcb++,A.finalCalled=!0,ze.nextTick(oe,O,A)):(A.prefinished=!0,O.emit("prefinish")))}function Z(O,A){var $=H(A);if($&&(he(O,A),A.pendingcb===0&&(A.finished=!0,O.emit("finish"),A.autoDestroy))){var te=O._readableState;(!te||te.autoDestroy&&te.endEmitted)&&O.destroy()}return $}function Q(O,A,$){A.ending=!0,Z(O,A),$&&(A.finished?ze.nextTick($):O.once("finish",$)),A.ended=!0,O.writable=!1}function ee(O,A,$){var te=O.entry;for(O.entry=null;te;){var pe=te.callback;A.pendingcb--,pe($),te=te.next}A.corkedRequestsFree.next=O}return Object.defineProperty(q.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(A){this._writableState&&(this._writableState.destroyed=A)}}),q.prototype.destroy=l.destroy,q.prototype._undestroy=l.undestroy,q.prototype._destroy=function(O,A){A(O)},Jv}var EN;function LB(){if(EN)return $v.exports;EN=1;var e=Pr(),t=ZT(),r=Nr(),n=r.LEVEL,i=$v.exports=function(){var o=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.call(this,{objectMode:!0,highWaterMark:s.highWaterMark}),this.format=s.format,this.level=s.level,this.handleExceptions=s.handleExceptions,this.handleRejections=s.handleRejections,this.silent=s.silent,s.log&&(this.log=s.log),s.logv&&(this.logv=s.logv),s.close&&(this.close=s.close),this.once("pipe",function(l){o.levels=l.levels,o.parent=l}),this.once("unpipe",function(l){l===o.parent&&(o.parent=null,o.close&&o.close())})};return e.inherits(i,t),i.prototype._write=function(o,s,l){if(this.silent||o.exception===!0&&!this.handleExceptions)return l(null);var u=this.level||this.parent&&this.parent.level;if(!u||this.levels[u]>=this.levels[o[n]]){if(o&&!this.format)return this.log(o,l);var f=void 0,d=void 0;try{d=this.format.transform(Object.assign({},o),this.format.options)}catch(c){f=c}if(f||!d){if(l(),f)throw f;return}return this.log(d,l)}return this._writableState.sync=!1,l(null)},i.prototype._writev=function(o,s){if(this.logv){var l=o.filter(this._accept,this);return l.length?this.logv(l,s):s(null)}for(var u=0;u<o.length;u++)if(this._accept(o[u])){if(o[u].chunk&&!this.format){this.log(o[u].chunk,o[u].callback);continue}var f=void 0,d=void 0;try{d=this.format.transform(Object.assign({},o[u].chunk),this.format.options)}catch(c){f=c}if(f||!d){if(o[u].callback(),f)throw s(null),f}else this.log(d,o[u].callback)}return s(null)},i.prototype._accept=function(o){var s=o.chunk;if(this.silent)return!1;var l=this.level||this.parent&&this.parent.level;return!!((s.exception===!0||!l||this.levels[l]>=this.levels[s[n]])&&(this.handleExceptions||s.exception!==!0))},i.prototype._nop=function(){},$v.exports}var e1={exports:{}},TN;function hX(){if(TN)return e1.exports;TN=1;var e=Pr(),t=Nr(),r=t.LEVEL,n=LB(),i=e1.exports=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(n.call(this,o),!o.transport||typeof o.transport.log!="function")throw new Error("Invalid transport, must be an object with a log method.");this.transport=o.transport,this.level=this.level||o.transport.level,this.handleExceptions=this.handleExceptions||o.transport.handleExceptions,this._deprecated();function s(l){this.emit("error",l,this.transport)}this.transport.__winstonError||(this.transport.__winstonError=s.bind(this),this.transport.on("error",this.transport.__winstonError))};return e.inherits(i,n),i.prototype._write=function(o,s,l){if(this.silent||o.exception===!0&&!this.handleExceptions)return l(null);(!this.level||this.levels[this.level]>=this.levels[o[r]])&&this.transport.log(o[r],o.message,o,this._nop),l(null)},i.prototype._writev=function(o,s){for(var l=0;l<o.length;l++)this._accept(o[l])&&(this.transport.log(o[l].chunk[r],o[l].chunk.message,o[l].chunk,this._nop),o[l].callback());return s(null)},i.prototype._deprecated=function(){console.error([this.transport.name+" is a legacy winston transport. Consider upgrading: ","- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md"].join(`
`))},i.prototype.close=function(){this.transport.close&&this.transport.close(),this.transport.__winstonError&&(this.transport.removeListener("error",this.transport.__winstonError),this.transport.__winstonError=null)},e1.exports}var xN;function g0(){return xN||(xN=1,vm.exports=LB(),vm.exports.LegacyTransportStream=hX()),vm.exports}var t1,RN;function pX(){if(RN)return t1;RN=1;function e(m){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},e(m)}function t(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function r(m,g){for(var S=0;S<g.length;S++){var x=g[S];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(m,i(x.key),x)}}function n(m,g,S){return r(m.prototype,g),Object.defineProperty(m,"prototype",{writable:!1}),m}function i(m){var g=a(m,"string");return e(g)=="symbol"?g:g+""}function a(m,g){if(e(m)!="object"||!m)return m;var S=m[Symbol.toPrimitive];if(S!==void 0){var x=S.call(m,g);if(e(x)!="object")return x;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(m)}function o(m,g,S){return g=f(g),s(m,u()?Reflect.construct(g,S,f(m).constructor):g.apply(m,S))}function s(m,g){if(g&&(e(g)=="object"||typeof g=="function"))return g;if(g!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l(m)}function l(m){if(m===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}function u(){try{var m=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u=function(){return!!m})()}function f(m){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)},f(m)}function d(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),Object.defineProperty(m,"prototype",{writable:!1}),g&&c(m,g)}function c(m,g){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(S,x){return S.__proto__=x,S},c(m,g)}var p=il(),b=Nr(),v=b.LEVEL,_=b.MESSAGE,y=g0();return t1=function(m){function g(){var S,x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return t(this,g),S=o(this,g,[x]),S.name=x.name||"console",S.stderrLevels=S._stringArrayToSet(x.stderrLevels),S.consoleWarnLevels=S._stringArrayToSet(x.consoleWarnLevels),S.eol=typeof x.eol=="string"?x.eol:p.EOL,S.forceConsole=x.forceConsole||!1,S._consoleLog=console.log.bind(console),S._consoleWarn=console.warn.bind(console),S._consoleError=console.error.bind(console),S.setMaxListeners(30),S}return d(g,m),n(g,[{key:"log",value:function(x,I){var N=this;if(setImmediate(function(){return N.emit("logged",x)}),this.stderrLevels[x[v]]){console._stderr&&!this.forceConsole?console._stderr.write("".concat(x[_]).concat(this.eol)):this._consoleError(x[_]),I&&I();return}else if(this.consoleWarnLevels[x[v]]){console._stderr&&!this.forceConsole?console._stderr.write("".concat(x[_]).concat(this.eol)):this._consoleWarn(x[_]),I&&I();return}console._stdout&&!this.forceConsole?console._stdout.write("".concat(x[_]).concat(this.eol)):this._consoleLog(x[_]),I&&I()}},{key:"_stringArrayToSet",value:function(x,I){if(!x)return{};if(I=I||"Cannot make set from type other than Array of string elements",!Array.isArray(x))throw new Error(I);return x.reduce(function(N,q){if(typeof q!="string")throw new Error(I);return N[q]=!0,N},{})}}])}(y),t1}var mX=null;const MB=Object.freeze(Object.defineProperty({__proto__:null,default:mX},Symbol.toStringTag,{value:"Module"})),kB=el(MB);var r1,AN;function yX(){if(AN)return r1;AN=1;function e(i){if(typeof i!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(i))}function t(i,a){for(var o="",s=0,l=-1,u=0,f,d=0;d<=i.length;++d){if(d<i.length)f=i.charCodeAt(d);else{if(f===47)break;f=47}if(f===47){if(!(l===d-1||u===1))if(l!==d-1&&u===2){if(o.length<2||s!==2||o.charCodeAt(o.length-1)!==46||o.charCodeAt(o.length-2)!==46){if(o.length>2){var c=o.lastIndexOf("/");if(c!==o.length-1){c===-1?(o="",s=0):(o=o.slice(0,c),s=o.length-1-o.lastIndexOf("/")),l=d,u=0;continue}}else if(o.length===2||o.length===1){o="",s=0,l=d,u=0;continue}}a&&(o.length>0?o+="/..":o="..",s=2)}else o.length>0?o+="/"+i.slice(l+1,d):o=i.slice(l+1,d),s=d-l-1;l=d,u=0}else f===46&&u!==-1?++u:u=-1}return o}function r(i,a){var o=a.dir||a.root,s=a.base||(a.name||"")+(a.ext||"");return o?o===a.root?o+s:o+i+s:s}var n={resolve:function(){for(var a="",o=!1,s,l=arguments.length-1;l>=-1&&!o;l--){var u;l>=0?u=arguments[l]:(s===void 0&&(s=ze.cwd()),u=s),e(u),u.length!==0&&(a=u+"/"+a,o=u.charCodeAt(0)===47)}return a=t(a,!o),o?a.length>0?"/"+a:"/":a.length>0?a:"."},normalize:function(a){if(e(a),a.length===0)return".";var o=a.charCodeAt(0)===47,s=a.charCodeAt(a.length-1)===47;return a=t(a,!o),a.length===0&&!o&&(a="."),a.length>0&&s&&(a+="/"),o?"/"+a:a},isAbsolute:function(a){return e(a),a.length>0&&a.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var a,o=0;o<arguments.length;++o){var s=arguments[o];e(s),s.length>0&&(a===void 0?a=s:a+="/"+s)}return a===void 0?".":n.normalize(a)},relative:function(a,o){if(e(a),e(o),a===o||(a=n.resolve(a),o=n.resolve(o),a===o))return"";for(var s=1;s<a.length&&a.charCodeAt(s)===47;++s);for(var l=a.length,u=l-s,f=1;f<o.length&&o.charCodeAt(f)===47;++f);for(var d=o.length,c=d-f,p=u<c?u:c,b=-1,v=0;v<=p;++v){if(v===p){if(c>p){if(o.charCodeAt(f+v)===47)return o.slice(f+v+1);if(v===0)return o.slice(f+v)}else u>p&&(a.charCodeAt(s+v)===47?b=v:v===0&&(b=0));break}var _=a.charCodeAt(s+v),y=o.charCodeAt(f+v);if(_!==y)break;_===47&&(b=v)}var m="";for(v=s+b+1;v<=l;++v)(v===l||a.charCodeAt(v)===47)&&(m.length===0?m+="..":m+="/..");return m.length>0?m+o.slice(f+b):(f+=b,o.charCodeAt(f)===47&&++f,o.slice(f))},_makeLong:function(a){return a},dirname:function(a){if(e(a),a.length===0)return".";for(var o=a.charCodeAt(0),s=o===47,l=-1,u=!0,f=a.length-1;f>=1;--f)if(o=a.charCodeAt(f),o===47){if(!u){l=f;break}}else u=!1;return l===-1?s?"/":".":s&&l===1?"//":a.slice(0,l)},basename:function(a,o){if(o!==void 0&&typeof o!="string")throw new TypeError('"ext" argument must be a string');e(a);var s=0,l=-1,u=!0,f;if(o!==void 0&&o.length>0&&o.length<=a.length){if(o.length===a.length&&o===a)return"";var d=o.length-1,c=-1;for(f=a.length-1;f>=0;--f){var p=a.charCodeAt(f);if(p===47){if(!u){s=f+1;break}}else c===-1&&(u=!1,c=f+1),d>=0&&(p===o.charCodeAt(d)?--d===-1&&(l=f):(d=-1,l=c))}return s===l?l=c:l===-1&&(l=a.length),a.slice(s,l)}else{for(f=a.length-1;f>=0;--f)if(a.charCodeAt(f)===47){if(!u){s=f+1;break}}else l===-1&&(u=!1,l=f+1);return l===-1?"":a.slice(s,l)}},extname:function(a){e(a);for(var o=-1,s=0,l=-1,u=!0,f=0,d=a.length-1;d>=0;--d){var c=a.charCodeAt(d);if(c===47){if(!u){s=d+1;break}continue}l===-1&&(u=!1,l=d+1),c===46?o===-1?o=d:f!==1&&(f=1):o!==-1&&(f=-1)}return o===-1||l===-1||f===0||f===1&&o===l-1&&o===s+1?"":a.slice(o,l)},format:function(a){if(a===null||typeof a!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof a);return r("/",a)},parse:function(a){e(a);var o={root:"",dir:"",base:"",ext:"",name:""};if(a.length===0)return o;var s=a.charCodeAt(0),l=s===47,u;l?(o.root="/",u=1):u=0;for(var f=-1,d=0,c=-1,p=!0,b=a.length-1,v=0;b>=u;--b){if(s=a.charCodeAt(b),s===47){if(!p){d=b+1;break}continue}c===-1&&(p=!1,c=b+1),s===46?f===-1?f=b:v!==1&&(v=1):f!==-1&&(v=-1)}return f===-1||c===-1||v===0||v===1&&f===c-1&&f===d+1?c!==-1&&(d===0&&l?o.base=o.name=a.slice(1,c):o.base=o.name=a.slice(d,c)):(d===0&&l?(o.name=a.slice(1,f),o.base=a.slice(1,c)):(o.name=a.slice(d,f),o.base=a.slice(d,c)),o.ext=a.slice(f,c)),d>0?o.dir=a.slice(0,d-1):l&&(o.dir="/"),o},sep:"/",delimiter:":",win32:null,posix:null};return n.posix=n,r1=n,r1}var wm={exports:{}},Sm={exports:{}},Em={exports:{}},IN;function YT(){return IN||(IN=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(n){return n&&typeof n.length=="number"&&n.length>=0&&n.length%1===0}e.exports=t.default}(Em,Em.exports)),Em.exports}var ra={},Tm={exports:{}},xm={exports:{}},PN;function gX(){return PN||(PN=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(r){return function(...n){var i=n.pop();return r.call(this,n,i)}},e.exports=t.default}(xm,xm.exports)),xm.exports}var Ia={},ON;function _X(){if(ON)return Ia;ON=1,Object.defineProperty(Ia,"__esModule",{value:!0}),Ia.fallback=n,Ia.wrap=i;var e=Ia.hasQueueMicrotask=typeof queueMicrotask=="function"&&queueMicrotask,t=Ia.hasSetImmediate=typeof setImmediate=="function"&&setImmediate,r=Ia.hasNextTick=typeof ze=="object"&&typeof ze.nextTick=="function";function n(o){setTimeout(o,0)}function i(o){return(s,...l)=>o(()=>s(...l))}var a;return e?a=queueMicrotask:t?a=setImmediate:r?a=ze.nextTick:a=n,Ia.default=i(a),Ia}var NN;function bX(){return NN||(NN=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var r=gX(),n=s(r),i=_X(),a=s(i),o=al();function s(d){return d&&d.__esModule?d:{default:d}}function l(d){return(0,o.isAsync)(d)?function(...c){const p=c.pop(),b=d.apply(this,c);return u(b,p)}:(0,n.default)(function(c,p){var b;try{b=d.apply(this,c)}catch(v){return p(v)}if(b&&typeof b.then=="function")return u(b,p);p(null,b)})}function u(d,c){return d.then(p=>{f(c,null,p)},p=>{f(c,p&&(p instanceof Error||p.message)?p:new Error(p))})}function f(d,c,p){try{d(c,p)}catch(b){(0,a.default)(v=>{throw v},b)}}e.exports=t.default}(Tm,Tm.exports)),Tm.exports}var DN;function al(){if(DN)return ra;DN=1,Object.defineProperty(ra,"__esModule",{value:!0}),ra.isAsyncIterable=ra.isAsyncGenerator=ra.isAsync=void 0;var e=bX(),t=r(e);function r(s){return s&&s.__esModule?s:{default:s}}function n(s){return s[Symbol.toStringTag]==="AsyncFunction"}function i(s){return s[Symbol.toStringTag]==="AsyncGenerator"}function a(s){return typeof s[Symbol.asyncIterator]=="function"}function o(s){if(typeof s!="function")throw new Error("expected a function");return n(s)?(0,t.default)(s):s}return ra.default=o,ra.isAsync=n,ra.isAsyncGenerator=i,ra.isAsyncIterable=a,ra}var Rm={exports:{}},CN;function _0(){return CN||(CN=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(n,i){if(i||(i=n.length),!i)throw new Error("arity is undefined");function a(...o){return typeof o[i-1]=="function"?n.apply(this,o):new Promise((s,l)=>{o[i-1]=(u,...f)=>{if(u)return l(u);s(f.length>1?f:f[0])},n.apply(this,o)})}return a}e.exports=t.default}(Rm,Rm.exports)),Rm.exports}var LN;function vX(){return LN||(LN=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=YT(),n=l(r),i=al(),a=l(i),o=_0(),s=l(o);function l(u){return u&&u.__esModule?u:{default:u}}t.default=(0,s.default)((u,f,d)=>{var c=(0,n.default)(f)?[]:{};u(f,(p,b,v)=>{(0,a.default)(p)((_,...y)=>{y.length<2&&([y]=y),c[b]=y,v(_)})},p=>d(p,c))},3),e.exports=t.default}(Sm,Sm.exports)),Sm.exports}var Am={exports:{}},Im={exports:{}},Pm={exports:{}},Om={exports:{}},MN;function FB(){return MN||(MN=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(n){function i(...a){if(n!==null){var o=n;n=null,o.apply(this,a)}}return Object.assign(i,n),i}e.exports=t.default}(Om,Om.exports)),Om.exports}var Nm={exports:{}},Dm={exports:{}},kN;function wX(){return kN||(kN=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(r){return r[Symbol.iterator]&&r[Symbol.iterator]()},e.exports=t.default}(Dm,Dm.exports)),Dm.exports}var FN;function SX(){return FN||(FN=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=f;var r=YT(),n=o(r),i=wX(),a=o(i);function o(d){return d&&d.__esModule?d:{default:d}}function s(d){var c=-1,p=d.length;return function(){return++c<p?{value:d[c],key:c}:null}}function l(d){var c=-1;return function(){var b=d.next();return b.done?null:(c++,{value:b.value,key:c})}}function u(d){var c=d?Object.keys(d):[],p=-1,b=c.length;return function v(){var _=c[++p];return _==="__proto__"?v():p<b?{value:d[_],key:_}:null}}function f(d){if((0,n.default)(d))return s(d);var c=(0,a.default)(d);return c?l(c):u(d)}e.exports=t.default}(Nm,Nm.exports)),Nm.exports}var Cm={exports:{}},jN;function jB(){return jN||(jN=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(n){return function(...i){if(n===null)throw new Error("Callback was already called.");var a=n;n=null,a.apply(this,i)}}e.exports=t.default}(Cm,Cm.exports)),Cm.exports}var Lm={exports:{}},Mm={exports:{}},qN;function XT(){return qN||(qN=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r={};t.default=r,e.exports=t.default}(Mm,Mm.exports)),Mm.exports}var BN;function EX(){return BN||(BN=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var r=XT(),n=i(r);function i(o){return o&&o.__esModule?o:{default:o}}function a(o,s,l,u){let f=!1,d=!1,c=!1,p=0,b=0;function v(){p>=s||c||f||(c=!0,o.next().then(({value:m,done:g})=>{if(!(d||f)){if(c=!1,g){f=!0,p<=0&&u(null);return}p++,l(m,b,_),b++,v()}}).catch(y))}function _(m,g){if(p-=1,!d){if(m)return y(m);if(m===!1){f=!0,d=!0;return}if(g===n.default||f&&p<=0)return f=!0,u(null);v()}}function y(m){d||(c=!1,f=!0,u(m))}v()}e.exports=t.default}(Lm,Lm.exports)),Lm.exports}var $N;function TX(){return $N||($N=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=FB(),n=p(r),i=SX(),a=p(i),o=jB(),s=p(o),l=al(),u=EX(),f=p(u),d=XT(),c=p(d);function p(b){return b&&b.__esModule?b:{default:b}}t.default=b=>(v,_,y)=>{if(y=(0,n.default)(y),b<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!v)return y(null);if((0,l.isAsyncGenerator)(v))return(0,f.default)(v,b,_,y);if((0,l.isAsyncIterable)(v))return(0,f.default)(v[Symbol.asyncIterator](),b,_,y);var m=(0,a.default)(v),g=!1,S=!1,x=0,I=!1;function N(D,M){if(!S)if(x-=1,D)g=!0,y(D);else if(D===!1)g=!0,S=!0;else{if(M===c.default||g&&x<=0)return g=!0,y(null);I||q()}}function q(){for(I=!0;x<b&&!g;){var D=m();if(D===null){g=!0,x<=0&&y(null);return}x+=1,_(D.value,D.key,(0,s.default)(N))}I=!1}q()},e.exports=t.default}(Pm,Pm.exports)),Pm.exports}var UN;function qB(){return UN||(UN=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=TX(),n=l(r),i=al(),a=l(i),o=_0(),s=l(o);function l(f){return f&&f.__esModule?f:{default:f}}function u(f,d,c,p){return(0,n.default)(d)(f,(0,a.default)(c),p)}t.default=(0,s.default)(u,4),e.exports=t.default}(Im,Im.exports)),Im.exports}var VN;function xX(){return VN||(VN=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=qB(),n=o(r),i=_0(),a=o(i);function o(l){return l&&l.__esModule?l:{default:l}}function s(l,u,f){return(0,n.default)(l,1,u,f)}t.default=(0,a.default)(s,3),e.exports=t.default}(Am,Am.exports)),Am.exports}var HN;function RX(){return HN||(HN=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var r=vX(),n=o(r),i=xX(),a=o(i);function o(l){return l&&l.__esModule?l:{default:l}}function s(l,u){return(0,n.default)(a.default,l,u)}e.exports=t.default}(wm,wm.exports)),wm.exports}var n1={},i1,zN;function BB(){return zN||(zN=1,i1=Wn().EventEmitter),i1}var a1,GN;function AX(){if(GN)return a1;GN=1;function e(b,v){var _=Object.keys(b);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(b);v&&(y=y.filter(function(m){return Object.getOwnPropertyDescriptor(b,m).enumerable})),_.push.apply(_,y)}return _}function t(b){for(var v=1;v<arguments.length;v++){var _=arguments[v]!=null?arguments[v]:{};v%2?e(Object(_),!0).forEach(function(y){r(b,y,_[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(_)):e(Object(_)).forEach(function(y){Object.defineProperty(b,y,Object.getOwnPropertyDescriptor(_,y))})}return b}function r(b,v,_){return v=o(v),v in b?Object.defineProperty(b,v,{value:_,enumerable:!0,configurable:!0,writable:!0}):b[v]=_,b}function n(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}function i(b,v){for(var _=0;_<v.length;_++){var y=v[_];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(b,o(y.key),y)}}function a(b,v,_){return i(b.prototype,v),Object.defineProperty(b,"prototype",{writable:!1}),b}function o(b){var v=s(b,"string");return typeof v=="symbol"?v:String(v)}function s(b,v){if(typeof b!="object"||b===null)return b;var _=b[Symbol.toPrimitive];if(_!==void 0){var y=_.call(b,v);if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(b)}var l=Er(),u=l.Buffer,f=Pr(),d=f.inspect,c=d&&d.custom||"inspect";function p(b,v,_){u.prototype.copy.call(b,v,_)}return a1=function(){function b(){n(this,b),this.head=null,this.tail=null,this.length=0}return a(b,[{key:"push",value:function(_){var y={data:_,next:null};this.length>0?this.tail.next=y:this.head=y,this.tail=y,++this.length}},{key:"unshift",value:function(_){var y={data:_,next:this.head};this.length===0&&(this.tail=y),this.head=y,++this.length}},{key:"shift",value:function(){if(this.length!==0){var _=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,_}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(_){if(this.length===0)return"";for(var y=this.head,m=""+y.data;y=y.next;)m+=_+y.data;return m}},{key:"concat",value:function(_){if(this.length===0)return u.alloc(0);for(var y=u.allocUnsafe(_>>>0),m=this.head,g=0;m;)p(m.data,y,g),g+=m.data.length,m=m.next;return y}},{key:"consume",value:function(_,y){var m;return _<this.head.data.length?(m=this.head.data.slice(0,_),this.head.data=this.head.data.slice(_)):_===this.head.data.length?m=this.shift():m=y?this._getString(_):this._getBuffer(_),m}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(_){var y=this.head,m=1,g=y.data;for(_-=g.length;y=y.next;){var S=y.data,x=_>S.length?S.length:_;if(x===S.length?g+=S:g+=S.slice(0,_),_-=x,_===0){x===S.length?(++m,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=S.slice(x));break}++m}return this.length-=m,g}},{key:"_getBuffer",value:function(_){var y=u.allocUnsafe(_),m=this.head,g=1;for(m.data.copy(y),_-=m.data.length;m=m.next;){var S=m.data,x=_>S.length?S.length:_;if(S.copy(y,y.length-_,0,x),_-=x,_===0){x===S.length?(++g,m.next?this.head=m.next:this.head=this.tail=null):(this.head=m,m.data=S.slice(x));break}++g}return this.length-=g,y}},{key:c,value:function(_,y){return d(this,t(t({},y),{},{depth:0,customInspect:!1}))}}]),b}(),a1}var o1,WN;function $B(){if(WN)return o1;WN=1;function e(o,s){var l=this,u=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return u||f?(s?s(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,ze.nextTick(i,this,o)):ze.nextTick(i,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(d){!s&&d?l._writableState?l._writableState.errorEmitted?ze.nextTick(r,l):(l._writableState.errorEmitted=!0,ze.nextTick(t,l,d)):ze.nextTick(t,l,d):s?(ze.nextTick(r,l),s(d)):ze.nextTick(r,l)}),this)}function t(o,s){i(o,s),r(o)}function r(o){o._writableState&&!o._writableState.emitClose||o._readableState&&!o._readableState.emitClose||o.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(o,s){o.emit("error",s)}function a(o,s){var l=o._readableState,u=o._writableState;l&&l.autoDestroy||u&&u.autoDestroy?o.destroy(s):o.emit("error",s)}return o1={destroy:e,undestroy:n,errorOrDestroy:a},o1}var s1={},KN;function ol(){if(KN)return s1;KN=1;function e(s,l){s.prototype=Object.create(l.prototype),s.prototype.constructor=s,s.__proto__=l}var t={};function r(s,l,u){u||(u=Error);function f(c,p,b){return typeof l=="string"?l:l(c,p,b)}var d=function(c){e(p,c);function p(b,v,_){return c.call(this,f(b,v,_))||this}return p}(u);d.prototype.name=u.name,d.prototype.code=s,t[s]=d}function n(s,l){if(Array.isArray(s)){var u=s.length;return s=s.map(function(f){return String(f)}),u>2?"one of ".concat(l," ").concat(s.slice(0,u-1).join(", "),", or ")+s[u-1]:u===2?"one of ".concat(l," ").concat(s[0]," or ").concat(s[1]):"of ".concat(l," ").concat(s[0])}else return"of ".concat(l," ").concat(String(s))}function i(s,l,u){return s.substr(0,l.length)===l}function a(s,l,u){return(u===void 0||u>s.length)&&(u=s.length),s.substring(u-l.length,u)===l}function o(s,l,u){return typeof u!="number"&&(u=0),u+l.length>s.length?!1:s.indexOf(l,u)!==-1}return r("ERR_INVALID_OPT_VALUE",function(s,l){return'The value "'+l+'" is invalid for option "'+s+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(s,l,u){var f;typeof l=="string"&&i(l,"not ")?(f="must not be",l=l.replace(/^not /,"")):f="must be";var d;if(a(s," argument"))d="The ".concat(s," ").concat(f," ").concat(n(l,"type"));else{var c=o(s,".")?"property":"argument";d='The "'.concat(s,'" ').concat(c," ").concat(f," ").concat(n(l,"type"))}return d+=". Received type ".concat(typeof u),d},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(s){return"The "+s+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(s){return"Cannot call "+s+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(s){return"Unknown encoding: "+s},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),s1.codes=t,s1}var u1,QN;function UB(){if(QN)return u1;QN=1;var e=ol().codes.ERR_INVALID_OPT_VALUE;function t(n,i,a){return n.highWaterMark!=null?n.highWaterMark:i?n[a]:null}function r(n,i,a,o){var s=t(i,o,a);if(s!=null){if(!(isFinite(s)&&Math.floor(s)===s)||s<0){var l=o?a:"highWaterMark";throw new e(l,s)}return Math.floor(s)}return n.objectMode?16:16*1024}return u1={getHighWaterMark:r},u1}var l1,ZN;function VB(){if(ZN)return l1;ZN=1,l1=q;function e(O){var A=this;this.next=null,this.entry=null,this.finish=function(){ee(A,O)}}var t;q.WritableState=I;var r={deprecate:rg()},n=BB(),i=Er().Buffer,a=(typeof Tt<"u"?Tt:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function o(O){return i.from(O)}function s(O){return i.isBuffer(O)||O instanceof a}var l=$B(),u=UB(),f=u.getHighWaterMark,d=ol().codes,c=d.ERR_INVALID_ARG_TYPE,p=d.ERR_METHOD_NOT_IMPLEMENTED,b=d.ERR_MULTIPLE_CALLBACK,v=d.ERR_STREAM_CANNOT_PIPE,_=d.ERR_STREAM_DESTROYED,y=d.ERR_STREAM_NULL_VALUES,m=d.ERR_STREAM_WRITE_AFTER_END,g=d.ERR_UNKNOWN_ENCODING,S=l.errorOrDestroy;Or()(q,n);function x(){}function I(O,A,$){t=t||qu(),O=O||{},typeof $!="boolean"&&($=A instanceof t),this.objectMode=!!O.objectMode,$&&(this.objectMode=this.objectMode||!!O.writableObjectMode),this.highWaterMark=f(this,O,"writableHighWaterMark",$),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var te=O.decodeStrings===!1;this.decodeStrings=!te,this.defaultEncoding=O.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(pe){X(A,pe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=O.emitClose!==!1,this.autoDestroy=!!O.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}I.prototype.getBuffer=function(){for(var A=this.bufferedRequest,$=[];A;)$.push(A),A=A.next;return $},function(){try{Object.defineProperty(I.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var N;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(N=Function.prototype[Symbol.hasInstance],Object.defineProperty(q,Symbol.hasInstance,{value:function(A){return N.call(this,A)?!0:this!==q?!1:A&&A._writableState instanceof I}})):N=function(A){return A instanceof this};function q(O){t=t||qu();var A=this instanceof t;if(!A&&!N.call(q,this))return new q(O);this._writableState=new I(O,this,A),this.writable=!0,O&&(typeof O.write=="function"&&(this._write=O.write),typeof O.writev=="function"&&(this._writev=O.writev),typeof O.destroy=="function"&&(this._destroy=O.destroy),typeof O.final=="function"&&(this._final=O.final)),n.call(this)}q.prototype.pipe=function(){S(this,new v)};function D(O,A){var $=new m;S(O,$),ze.nextTick(A,$)}function M(O,A,$,te){var pe;return $===null?pe=new y:typeof $!="string"&&!A.objectMode&&(pe=new c("chunk",["string","Buffer"],$)),pe?(S(O,pe),ze.nextTick(te,pe),!1):!0}q.prototype.write=function(O,A,$){var te=this._writableState,pe=!1,R=!te.objectMode&&s(O);return R&&!i.isBuffer(O)&&(O=o(O)),typeof A=="function"&&($=A,A=null),R?A="buffer":A||(A=te.defaultEncoding),typeof $!="function"&&($=x),te.ending?D(this,$):(R||M(this,te,O,$))&&(te.pendingcb++,pe=P(this,te,R,O,A,$)),pe},q.prototype.cork=function(){this._writableState.corked++},q.prototype.uncork=function(){var O=this._writableState;O.corked&&(O.corked--,!O.writing&&!O.corked&&!O.bufferProcessing&&O.bufferedRequest&&ne(this,O))},q.prototype.setDefaultEncoding=function(A){if(typeof A=="string"&&(A=A.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((A+"").toLowerCase())>-1))throw new g(A);return this._writableState.defaultEncoding=A,this},Object.defineProperty(q.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function j(O,A,$){return!O.objectMode&&O.decodeStrings!==!1&&typeof A=="string"&&(A=i.from(A,$)),A}Object.defineProperty(q.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function P(O,A,$,te,pe,R){if(!$){var w=j(A,te,pe);te!==w&&($=!0,pe="buffer",te=w)}var T=A.objectMode?1:te.length;A.length+=T;var k=A.length<A.highWaterMark;if(k||(A.needDrain=!0),A.writing||A.corked){var U=A.lastBufferedRequest;A.lastBufferedRequest={chunk:te,encoding:pe,isBuf:$,callback:R,next:null},U?U.next=A.lastBufferedRequest:A.bufferedRequest=A.lastBufferedRequest,A.bufferedRequestCount+=1}else B(O,A,!1,T,te,pe,R);return k}function B(O,A,$,te,pe,R,w){A.writelen=te,A.writecb=w,A.writing=!0,A.sync=!0,A.destroyed?A.onwrite(new _("write")):$?O._writev(pe,A.onwrite):O._write(pe,R,A.onwrite),A.sync=!1}function Y(O,A,$,te,pe){--A.pendingcb,$?(ze.nextTick(pe,te),ze.nextTick(Z,O,A),O._writableState.errorEmitted=!0,S(O,te)):(pe(te),O._writableState.errorEmitted=!0,S(O,te),Z(O,A))}function ie(O){O.writing=!1,O.writecb=null,O.length-=O.writelen,O.writelen=0}function X(O,A){var $=O._writableState,te=$.sync,pe=$.writecb;if(typeof pe!="function")throw new b;if(ie($),A)Y(O,$,te,A,pe);else{var R=H($)||O.destroyed;!R&&!$.corked&&!$.bufferProcessing&&$.bufferedRequest&&ne(O,$),te?ze.nextTick(le,O,$,R,pe):le(O,$,R,pe)}}function le(O,A,$,te){$||ae(O,A),A.pendingcb--,te(),Z(O,A)}function ae(O,A){A.length===0&&A.needDrain&&(A.needDrain=!1,O.emit("drain"))}function ne(O,A){A.bufferProcessing=!0;var $=A.bufferedRequest;if(O._writev&&$&&$.next){var te=A.bufferedRequestCount,pe=new Array(te),R=A.corkedRequestsFree;R.entry=$;for(var w=0,T=!0;$;)pe[w]=$,$.isBuf||(T=!1),$=$.next,w+=1;pe.allBuffers=T,B(O,A,!0,A.length,pe,"",R.finish),A.pendingcb++,A.lastBufferedRequest=null,R.next?(A.corkedRequestsFree=R.next,R.next=null):A.corkedRequestsFree=new e(A),A.bufferedRequestCount=0}else{for(;$;){var k=$.chunk,U=$.encoding,re=$.callback,fe=A.objectMode?1:k.length;if(B(O,A,!1,fe,k,U,re),$=$.next,A.bufferedRequestCount--,A.writing)break}$===null&&(A.lastBufferedRequest=null)}A.bufferedRequest=$,A.bufferProcessing=!1}q.prototype._write=function(O,A,$){$(new p("_write()"))},q.prototype._writev=null,q.prototype.end=function(O,A,$){var te=this._writableState;return typeof O=="function"?($=O,O=null,A=null):typeof A=="function"&&($=A,A=null),O!=null&&this.write(O,A),te.corked&&(te.corked=1,this.uncork()),te.ending||Q(this,te,$),this},Object.defineProperty(q.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function H(O){return O.ending&&O.length===0&&O.bufferedRequest===null&&!O.finished&&!O.writing}function oe(O,A){O._final(function($){A.pendingcb--,$&&S(O,$),A.prefinished=!0,O.emit("prefinish"),Z(O,A)})}function he(O,A){!A.prefinished&&!A.finalCalled&&(typeof O._final=="function"&&!A.destroyed?(A.pendingcb++,A.finalCalled=!0,ze.nextTick(oe,O,A)):(A.prefinished=!0,O.emit("prefinish")))}function Z(O,A){var $=H(A);if($&&(he(O,A),A.pendingcb===0&&(A.finished=!0,O.emit("finish"),A.autoDestroy))){var te=O._readableState;(!te||te.autoDestroy&&te.endEmitted)&&O.destroy()}return $}function Q(O,A,$){A.ending=!0,Z(O,A),$&&(A.finished?ze.nextTick($):O.once("finish",$)),A.ended=!0,O.writable=!1}function ee(O,A,$){var te=O.entry;for(O.entry=null;te;){var pe=te.callback;A.pendingcb--,pe($),te=te.next}A.corkedRequestsFree.next=O}return Object.defineProperty(q.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(A){this._writableState&&(this._writableState.destroyed=A)}}),q.prototype.destroy=l.destroy,q.prototype._undestroy=l.undestroy,q.prototype._destroy=function(O,A){A(O)},l1}var f1,YN;function qu(){if(YN)return f1;YN=1;var e=Object.keys||function(u){var f=[];for(var d in u)f.push(d);return f};f1=o;var t=HB(),r=VB();Or()(o,t);for(var n=e(r.prototype),i=0;i<n.length;i++){var a=n[i];o.prototype[a]||(o.prototype[a]=r.prototype[a])}function o(u){if(!(this instanceof o))return new o(u);t.call(this,u),r.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",s)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function s(){this._writableState.ended||ze.nextTick(l,this)}function l(u){u.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(f){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=f,this._writableState.destroyed=f)}}),f1}var c1,XN;function JT(){if(XN)return c1;XN=1;var e=ol().codes.ERR_STREAM_PREMATURE_CLOSE;function t(a){var o=!1;return function(){if(!o){o=!0;for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];a.apply(this,l)}}}function r(){}function n(a){return a.setHeader&&typeof a.abort=="function"}function i(a,o,s){if(typeof o=="function")return i(a,null,o);o||(o={}),s=t(s||r);var l=o.readable||o.readable!==!1&&a.readable,u=o.writable||o.writable!==!1&&a.writable,f=function(){a.writable||c()},d=a._writableState&&a._writableState.finished,c=function(){u=!1,d=!0,l||s.call(a)},p=a._readableState&&a._readableState.endEmitted,b=function(){l=!1,p=!0,u||s.call(a)},v=function(g){s.call(a,g)},_=function(){var g;if(l&&!p)return(!a._readableState||!a._readableState.ended)&&(g=new e),s.call(a,g);if(u&&!d)return(!a._writableState||!a._writableState.ended)&&(g=new e),s.call(a,g)},y=function(){a.req.on("finish",c)};return n(a)?(a.on("complete",c),a.on("abort",_),a.req?y():a.on("request",y)):u&&!a._writableState&&(a.on("end",f),a.on("close",f)),a.on("end",b),a.on("finish",c),o.error!==!1&&a.on("error",v),a.on("close",_),function(){a.removeListener("complete",c),a.removeListener("abort",_),a.removeListener("request",y),a.req&&a.req.removeListener("finish",c),a.removeListener("end",f),a.removeListener("close",f),a.removeListener("finish",c),a.removeListener("end",b),a.removeListener("error",v),a.removeListener("close",_)}}return c1=i,c1}var d1,JN;function IX(){if(JN)return d1;JN=1;var e;function t(g,S,x){return S=r(S),S in g?Object.defineProperty(g,S,{value:x,enumerable:!0,configurable:!0,writable:!0}):g[S]=x,g}function r(g){var S=n(g,"string");return typeof S=="symbol"?S:String(S)}function n(g,S){if(typeof g!="object"||g===null)return g;var x=g[Symbol.toPrimitive];if(x!==void 0){var I=x.call(g,S||"default");if(typeof I!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(g)}var i=JT(),a=Symbol("lastResolve"),o=Symbol("lastReject"),s=Symbol("error"),l=Symbol("ended"),u=Symbol("lastPromise"),f=Symbol("handlePromise"),d=Symbol("stream");function c(g,S){return{value:g,done:S}}function p(g){var S=g[a];if(S!==null){var x=g[d].read();x!==null&&(g[u]=null,g[a]=null,g[o]=null,S(c(x,!1)))}}function b(g){ze.nextTick(p,g)}function v(g,S){return function(x,I){g.then(function(){if(S[l]){x(c(void 0,!0));return}S[f](x,I)},I)}}var _=Object.getPrototypeOf(function(){}),y=Object.setPrototypeOf((e={get stream(){return this[d]},next:function(){var S=this,x=this[s];if(x!==null)return Promise.reject(x);if(this[l])return Promise.resolve(c(void 0,!0));if(this[d].destroyed)return new Promise(function(D,M){ze.nextTick(function(){S[s]?M(S[s]):D(c(void 0,!0))})});var I=this[u],N;if(I)N=new Promise(v(I,this));else{var q=this[d].read();if(q!==null)return Promise.resolve(c(q,!1));N=new Promise(this[f])}return this[u]=N,N}},t(e,Symbol.asyncIterator,function(){return this}),t(e,"return",function(){var S=this;return new Promise(function(x,I){S[d].destroy(null,function(N){if(N){I(N);return}x(c(void 0,!0))})})}),e),_),m=function(S){var x,I=Object.create(y,(x={},t(x,d,{value:S,writable:!0}),t(x,a,{value:null,writable:!0}),t(x,o,{value:null,writable:!0}),t(x,s,{value:null,writable:!0}),t(x,l,{value:S._readableState.endEmitted,writable:!0}),t(x,f,{value:function(q,D){var M=I[d].read();M?(I[u]=null,I[a]=null,I[o]=null,q(c(M,!1))):(I[a]=q,I[o]=D)},writable:!0}),x));return I[u]=null,i(S,function(N){if(N&&N.code!=="ERR_STREAM_PREMATURE_CLOSE"){var q=I[o];q!==null&&(I[u]=null,I[a]=null,I[o]=null,q(N)),I[s]=N;return}var D=I[a];D!==null&&(I[u]=null,I[a]=null,I[o]=null,D(c(void 0,!0))),I[l]=!0}),S.on("readable",b.bind(null,I)),I};return d1=m,d1}var h1,eD;function PX(){return eD||(eD=1,h1=function(){throw new Error("Readable.from is not available in the browser")}),h1}var p1,tD;function HB(){if(tD)return p1;tD=1,p1=D;var e;D.ReadableState=q,Wn().EventEmitter;var t=function(w,T){return w.listeners(T).length},r=BB(),n=Er().Buffer,i=(typeof Tt<"u"?Tt:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function a(R){return n.from(R)}function o(R){return n.isBuffer(R)||R instanceof i}var s=Pr(),l;s&&s.debuglog?l=s.debuglog("stream"):l=function(){};var u=AX(),f=$B(),d=UB(),c=d.getHighWaterMark,p=ol().codes,b=p.ERR_INVALID_ARG_TYPE,v=p.ERR_STREAM_PUSH_AFTER_EOF,_=p.ERR_METHOD_NOT_IMPLEMENTED,y=p.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,m,g,S;Or()(D,r);var x=f.errorOrDestroy,I=["error","close","destroy","pause","resume"];function N(R,w,T){if(typeof R.prependListener=="function")return R.prependListener(w,T);!R._events||!R._events[w]?R.on(w,T):Array.isArray(R._events[w])?R._events[w].unshift(T):R._events[w]=[T,R._events[w]]}function q(R,w,T){e=e||qu(),R=R||{},typeof T!="boolean"&&(T=w instanceof e),this.objectMode=!!R.objectMode,T&&(this.objectMode=this.objectMode||!!R.readableObjectMode),this.highWaterMark=c(this,R,"readableHighWaterMark",T),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=R.emitClose!==!1,this.autoDestroy=!!R.autoDestroy,this.destroyed=!1,this.defaultEncoding=R.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,R.encoding&&(m||(m=ga().StringDecoder),this.decoder=new m(R.encoding),this.encoding=R.encoding)}function D(R){if(e=e||qu(),!(this instanceof D))return new D(R);var w=this instanceof e;this._readableState=new q(R,this,w),this.readable=!0,R&&(typeof R.read=="function"&&(this._read=R.read),typeof R.destroy=="function"&&(this._destroy=R.destroy)),r.call(this)}Object.defineProperty(D.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(w){this._readableState&&(this._readableState.destroyed=w)}}),D.prototype.destroy=f.destroy,D.prototype._undestroy=f.undestroy,D.prototype._destroy=function(R,w){w(R)},D.prototype.push=function(R,w){var T=this._readableState,k;return T.objectMode?k=!0:typeof R=="string"&&(w=w||T.defaultEncoding,w!==T.encoding&&(R=n.from(R,w),w=""),k=!0),M(this,R,w,!1,k)},D.prototype.unshift=function(R){return M(this,R,null,!0,!1)};function M(R,w,T,k,U){l("readableAddChunk",w);var re=R._readableState;if(w===null)re.reading=!1,X(R,re);else{var fe;if(U||(fe=P(re,w)),fe)x(R,fe);else if(re.objectMode||w&&w.length>0)if(typeof w!="string"&&!re.objectMode&&Object.getPrototypeOf(w)!==n.prototype&&(w=a(w)),k)re.endEmitted?x(R,new y):j(R,re,w,!0);else if(re.ended)x(R,new v);else{if(re.destroyed)return!1;re.reading=!1,re.decoder&&!T?(w=re.decoder.write(w),re.objectMode||w.length!==0?j(R,re,w,!1):ne(R,re)):j(R,re,w,!1)}else k||(re.reading=!1,ne(R,re))}return!re.ended&&(re.length<re.highWaterMark||re.length===0)}function j(R,w,T,k){w.flowing&&w.length===0&&!w.sync?(w.awaitDrain=0,R.emit("data",T)):(w.length+=w.objectMode?1:T.length,k?w.buffer.unshift(T):w.buffer.push(T),w.needReadable&&le(R)),ne(R,w)}function P(R,w){var T;return!o(w)&&typeof w!="string"&&w!==void 0&&!R.objectMode&&(T=new b("chunk",["string","Buffer","Uint8Array"],w)),T}D.prototype.isPaused=function(){return this._readableState.flowing===!1},D.prototype.setEncoding=function(R){m||(m=ga().StringDecoder);var w=new m(R);this._readableState.decoder=w,this._readableState.encoding=this._readableState.decoder.encoding;for(var T=this._readableState.buffer.head,k="";T!==null;)k+=w.write(T.data),T=T.next;return this._readableState.buffer.clear(),k!==""&&this._readableState.buffer.push(k),this._readableState.length=k.length,this};var B=1073741824;function Y(R){return R>=B?R=B:(R--,R|=R>>>1,R|=R>>>2,R|=R>>>4,R|=R>>>8,R|=R>>>16,R++),R}function ie(R,w){return R<=0||w.length===0&&w.ended?0:w.objectMode?1:R!==R?w.flowing&&w.length?w.buffer.head.data.length:w.length:(R>w.highWaterMark&&(w.highWaterMark=Y(R)),R<=w.length?R:w.ended?w.length:(w.needReadable=!0,0))}D.prototype.read=function(R){l("read",R),R=parseInt(R,10);var w=this._readableState,T=R;if(R!==0&&(w.emittedReadable=!1),R===0&&w.needReadable&&((w.highWaterMark!==0?w.length>=w.highWaterMark:w.length>0)||w.ended))return l("read: emitReadable",w.length,w.ended),w.length===0&&w.ended?$(this):le(this),null;if(R=ie(R,w),R===0&&w.ended)return w.length===0&&$(this),null;var k=w.needReadable;l("need readable",k),(w.length===0||w.length-R<w.highWaterMark)&&(k=!0,l("length less than watermark",k)),w.ended||w.reading?(k=!1,l("reading or ended",k)):k&&(l("do read"),w.reading=!0,w.sync=!0,w.length===0&&(w.needReadable=!0),this._read(w.highWaterMark),w.sync=!1,w.reading||(R=ie(T,w)));var U;return R>0?U=A(R,w):U=null,U===null?(w.needReadable=w.length<=w.highWaterMark,R=0):(w.length-=R,w.awaitDrain=0),w.length===0&&(w.ended||(w.needReadable=!0),T!==R&&w.ended&&$(this)),U!==null&&this.emit("data",U),U};function X(R,w){if(l("onEofChunk"),!w.ended){if(w.decoder){var T=w.decoder.end();T&&T.length&&(w.buffer.push(T),w.length+=w.objectMode?1:T.length)}w.ended=!0,w.sync?le(R):(w.needReadable=!1,w.emittedReadable||(w.emittedReadable=!0,ae(R)))}}function le(R){var w=R._readableState;l("emitReadable",w.needReadable,w.emittedReadable),w.needReadable=!1,w.emittedReadable||(l("emitReadable",w.flowing),w.emittedReadable=!0,ze.nextTick(ae,R))}function ae(R){var w=R._readableState;l("emitReadable_",w.destroyed,w.length,w.ended),!w.destroyed&&(w.length||w.ended)&&(R.emit("readable"),w.emittedReadable=!1),w.needReadable=!w.flowing&&!w.ended&&w.length<=w.highWaterMark,O(R)}function ne(R,w){w.readingMore||(w.readingMore=!0,ze.nextTick(H,R,w))}function H(R,w){for(;!w.reading&&!w.ended&&(w.length<w.highWaterMark||w.flowing&&w.length===0);){var T=w.length;if(l("maybeReadMore read 0"),R.read(0),T===w.length)break}w.readingMore=!1}D.prototype._read=function(R){x(this,new _("_read()"))},D.prototype.pipe=function(R,w){var T=this,k=this._readableState;switch(k.pipesCount){case 0:k.pipes=R;break;case 1:k.pipes=[k.pipes,R];break;default:k.pipes.push(R);break}k.pipesCount+=1,l("pipe count=%d opts=%j",k.pipesCount,w);var U=(!w||w.end!==!1)&&R!==ze.stdout&&R!==ze.stderr,re=U?ve:ke;k.endEmitted?ze.nextTick(re):T.once("end",re),R.on("unpipe",fe);function fe(Ke,Ue){l("onunpipe"),Ke===T&&Ue&&Ue.hasUnpiped===!1&&(Ue.hasUnpiped=!0,be())}function ve(){l("onend"),R.end()}var ce=oe(T);R.on("drain",ce);var Ie=!1;function be(){l("cleanup"),R.removeListener("close",Ae),R.removeListener("finish",Oe),R.removeListener("drain",ce),R.removeListener("error",je),R.removeListener("unpipe",fe),T.removeListener("end",ve),T.removeListener("end",ke),T.removeListener("data",Te),Ie=!0,k.awaitDrain&&(!R._writableState||R._writableState.needDrain)&&ce()}T.on("data",Te);function Te(Ke){l("ondata");var Ue=R.write(Ke);l("dest.write",Ue),Ue===!1&&((k.pipesCount===1&&k.pipes===R||k.pipesCount>1&&pe(k.pipes,R)!==-1)&&!Ie&&(l("false write response, pause",k.awaitDrain),k.awaitDrain++),T.pause())}function je(Ke){l("onerror",Ke),ke(),R.removeListener("error",je),t(R,"error")===0&&x(R,Ke)}N(R,"error",je);function Ae(){R.removeListener("finish",Oe),ke()}R.once("close",Ae);function Oe(){l("onfinish"),R.removeListener("close",Ae),ke()}R.once("finish",Oe);function ke(){l("unpipe"),T.unpipe(R)}return R.emit("pipe",T),k.flowing||(l("pipe resume"),T.resume()),R};function oe(R){return function(){var T=R._readableState;l("pipeOnDrain",T.awaitDrain),T.awaitDrain&&T.awaitDrain--,T.awaitDrain===0&&t(R,"data")&&(T.flowing=!0,O(R))}}D.prototype.unpipe=function(R){var w=this._readableState,T={hasUnpiped:!1};if(w.pipesCount===0)return this;if(w.pipesCount===1)return R&&R!==w.pipes?this:(R||(R=w.pipes),w.pipes=null,w.pipesCount=0,w.flowing=!1,R&&R.emit("unpipe",this,T),this);if(!R){var k=w.pipes,U=w.pipesCount;w.pipes=null,w.pipesCount=0,w.flowing=!1;for(var re=0;re<U;re++)k[re].emit("unpipe",this,{hasUnpiped:!1});return this}var fe=pe(w.pipes,R);return fe===-1?this:(w.pipes.splice(fe,1),w.pipesCount-=1,w.pipesCount===1&&(w.pipes=w.pipes[0]),R.emit("unpipe",this,T),this)},D.prototype.on=function(R,w){var T=r.prototype.on.call(this,R,w),k=this._readableState;return R==="data"?(k.readableListening=this.listenerCount("readable")>0,k.flowing!==!1&&this.resume()):R==="readable"&&!k.endEmitted&&!k.readableListening&&(k.readableListening=k.needReadable=!0,k.flowing=!1,k.emittedReadable=!1,l("on readable",k.length,k.reading),k.length?le(this):k.reading||ze.nextTick(Z,this)),T},D.prototype.addListener=D.prototype.on,D.prototype.removeListener=function(R,w){var T=r.prototype.removeListener.call(this,R,w);return R==="readable"&&ze.nextTick(he,this),T},D.prototype.removeAllListeners=function(R){var w=r.prototype.removeAllListeners.apply(this,arguments);return(R==="readable"||R===void 0)&&ze.nextTick(he,this),w};function he(R){var w=R._readableState;w.readableListening=R.listenerCount("readable")>0,w.resumeScheduled&&!w.paused?w.flowing=!0:R.listenerCount("data")>0&&R.resume()}function Z(R){l("readable nexttick read 0"),R.read(0)}D.prototype.resume=function(){var R=this._readableState;return R.flowing||(l("resume"),R.flowing=!R.readableListening,Q(this,R)),R.paused=!1,this};function Q(R,w){w.resumeScheduled||(w.resumeScheduled=!0,ze.nextTick(ee,R,w))}function ee(R,w){l("resume",w.reading),w.reading||R.read(0),w.resumeScheduled=!1,R.emit("resume"),O(R),w.flowing&&!w.reading&&R.read(0)}D.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function O(R){var w=R._readableState;for(l("flow",w.flowing);w.flowing&&R.read()!==null;);}D.prototype.wrap=function(R){var w=this,T=this._readableState,k=!1;R.on("end",function(){if(l("wrapped end"),T.decoder&&!T.ended){var fe=T.decoder.end();fe&&fe.length&&w.push(fe)}w.push(null)}),R.on("data",function(fe){if(l("wrapped data"),T.decoder&&(fe=T.decoder.write(fe)),!(T.objectMode&&fe==null)&&!(!T.objectMode&&(!fe||!fe.length))){var ve=w.push(fe);ve||(k=!0,R.pause())}});for(var U in R)this[U]===void 0&&typeof R[U]=="function"&&(this[U]=function(ve){return function(){return R[ve].apply(R,arguments)}}(U));for(var re=0;re<I.length;re++)R.on(I[re],this.emit.bind(this,I[re]));return this._read=function(fe){l("wrapped _read",fe),k&&(k=!1,R.resume())},this},typeof Symbol=="function"&&(D.prototype[Symbol.asyncIterator]=function(){return g===void 0&&(g=IX()),g(this)}),Object.defineProperty(D.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(D.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(D.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(w){this._readableState&&(this._readableState.flowing=w)}}),D._fromList=A,Object.defineProperty(D.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function A(R,w){if(w.length===0)return null;var T;return w.objectMode?T=w.buffer.shift():!R||R>=w.length?(w.decoder?T=w.buffer.join(""):w.buffer.length===1?T=w.buffer.first():T=w.buffer.concat(w.length),w.buffer.clear()):T=w.buffer.consume(R,w.decoder),T}function $(R){var w=R._readableState;l("endReadable",w.endEmitted),w.endEmitted||(w.ended=!0,ze.nextTick(te,w,R))}function te(R,w){if(l("endReadableNT",R.endEmitted,R.length),!R.endEmitted&&R.length===0&&(R.endEmitted=!0,w.readable=!1,w.emit("end"),R.autoDestroy)){var T=w._writableState;(!T||T.autoDestroy&&T.finished)&&w.destroy()}}typeof Symbol=="function"&&(D.from=function(R,w){return S===void 0&&(S=PX()),S(D,R,w)});function pe(R,w){for(var T=0,k=R.length;T<k;T++)if(R[T]===w)return T;return-1}return p1}var m1,rD;function zB(){if(rD)return m1;rD=1,m1=s;var e=ol().codes,t=e.ERR_METHOD_NOT_IMPLEMENTED,r=e.ERR_MULTIPLE_CALLBACK,n=e.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=e.ERR_TRANSFORM_WITH_LENGTH_0,a=qu();Or()(s,a);function o(f,d){var c=this._transformState;c.transforming=!1;var p=c.writecb;if(p===null)return this.emit("error",new r);c.writechunk=null,c.writecb=null,d!=null&&this.push(d),p(f);var b=this._readableState;b.reading=!1,(b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}function s(f){if(!(this instanceof s))return new s(f);a.call(this,f),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",l)}function l(){var f=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(d,c){u(f,d,c)}):u(this,null,null)}s.prototype.push=function(f,d){return this._transformState.needTransform=!1,a.prototype.push.call(this,f,d)},s.prototype._transform=function(f,d,c){c(new t("_transform()"))},s.prototype._write=function(f,d,c){var p=this._transformState;if(p.writecb=c,p.writechunk=f,p.writeencoding=d,!p.transforming){var b=this._readableState;(p.needTransform||b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}},s.prototype._read=function(f){var d=this._transformState;d.writechunk!==null&&!d.transforming?(d.transforming=!0,this._transform(d.writechunk,d.writeencoding,d.afterTransform)):d.needTransform=!0},s.prototype._destroy=function(f,d){a.prototype._destroy.call(this,f,function(c){d(c)})};function u(f,d,c){if(d)return f.emit("error",d);if(c!=null&&f.push(c),f._writableState.length)throw new i;if(f._transformState.transforming)throw new n;return f.push(null)}return m1}var y1,nD;function OX(){if(nD)return y1;nD=1,y1=t;var e=zB();Or()(t,e);function t(r){if(!(this instanceof t))return new t(r);e.call(this,r)}return t.prototype._transform=function(r,n,i){i(null,r)},y1}var g1,iD;function NX(){if(iD)return g1;iD=1;var e;function t(c){var p=!1;return function(){p||(p=!0,c.apply(void 0,arguments))}}var r=ol().codes,n=r.ERR_MISSING_ARGS,i=r.ERR_STREAM_DESTROYED;function a(c){if(c)throw c}function o(c){return c.setHeader&&typeof c.abort=="function"}function s(c,p,b,v){v=t(v);var _=!1;c.on("close",function(){_=!0}),e===void 0&&(e=JT()),e(c,{readable:p,writable:b},function(m){if(m)return v(m);_=!0,v()});var y=!1;return function(m){if(!_&&!y){if(y=!0,o(c))return c.abort();if(typeof c.destroy=="function")return c.destroy();v(m||new i("pipe"))}}}function l(c){c()}function u(c,p){return c.pipe(p)}function f(c){return!c.length||typeof c[c.length-1]!="function"?a:c.pop()}function d(){for(var c=arguments.length,p=new Array(c),b=0;b<c;b++)p[b]=arguments[b];var v=f(p);if(Array.isArray(p[0])&&(p=p[0]),p.length<2)throw new n("streams");var _,y=p.map(function(m,g){var S=g<p.length-1,x=g>0;return s(m,S,x,function(I){_||(_=I),I&&y.forEach(l),!S&&(y.forEach(l),v(_))})});return p.reduce(u)}return g1=d,g1}var _1,aD;function DX(){if(aD)return _1;aD=1,_1=r;var e=Wn().EventEmitter,t=Or();t(r,e),r.Readable=HB(),r.Writable=VB(),r.Duplex=qu(),r.Transform=zB(),r.PassThrough=OX(),r.finished=JT(),r.pipeline=NX(),r.Stream=r;function r(){e.call(this)}return r.prototype.pipe=function(n,i){var a=this;function o(p){n.writable&&n.write(p)===!1&&a.pause&&a.pause()}a.on("data",o);function s(){a.readable&&a.resume&&a.resume()}n.on("drain",s),!n._isStdio&&(!i||i.end!==!1)&&(a.on("end",u),a.on("close",f));var l=!1;function u(){l||(l=!0,n.end())}function f(){l||(l=!0,typeof n.destroy=="function"&&n.destroy())}function d(p){if(c(),e.listenerCount(this,"error")===0)throw p}a.on("error",d),n.on("error",d);function c(){a.removeListener("data",o),n.removeListener("drain",s),a.removeListener("end",u),a.removeListener("close",f),a.removeListener("error",d),n.removeListener("error",d),a.removeListener("end",c),a.removeListener("close",c),n.removeListener("close",c)}return a.on("end",c),a.on("close",c),n.on("close",c),n.emit("pipe",a),n},_1}var b1={},v1={exports:{}},w1={},oD;function GB(){if(oD)return w1;oD=1;function e(m){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},e(m)}function t(m,g,S){return Object.defineProperty(m,"prototype",{writable:!1}),m}function r(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function n(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),Object.defineProperty(m,"prototype",{writable:!1}),g&&i(m,g)}function i(m,g){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(x,I){return x.__proto__=I,x},i(m,g)}function a(m){var g=l();return function(){var x=u(m),I;if(g){var N=u(this).constructor;I=Reflect.construct(x,arguments,N)}else I=x.apply(this,arguments);return o(this,I)}}function o(m,g){if(g&&(e(g)==="object"||typeof g=="function"))return g;if(g!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s(m)}function s(m){if(m===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}function l(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function u(m){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(S){return S.__proto__||Object.getPrototypeOf(S)},u(m)}var f={},d,c;function p(m,g,S){S||(S=Error);function x(N,q,D){return typeof g=="string"?g:g(N,q,D)}var I=function(N){n(D,N);var q=a(D);function D(M,j,P){var B;return r(this,D),B=q.call(this,x(M,j,P)),B.code=m,B}return t(D)}(S);f[m]=I}function b(m,g){if(Array.isArray(m)){var S=m.length;return m=m.map(function(x){return String(x)}),S>2?"one of ".concat(g," ").concat(m.slice(0,S-1).join(", "),", or ")+m[S-1]:S===2?"one of ".concat(g," ").concat(m[0]," or ").concat(m[1]):"of ".concat(g," ").concat(m[0])}else return"of ".concat(g," ").concat(String(m))}function v(m,g,S){return m.substr(0,g.length)===g}function _(m,g,S){return(S===void 0||S>m.length)&&(S=m.length),m.substring(S-g.length,S)===g}function y(m,g,S){return typeof S!="number"&&(S=0),S+g.length>m.length?!1:m.indexOf(g,S)!==-1}return p("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),p("ERR_INVALID_ARG_TYPE",function(m,g,S){d===void 0&&(d=Ey()),d(typeof m=="string","'name' must be a string");var x;typeof g=="string"&&v(g,"not ")?(x="must not be",g=g.replace(/^not /,"")):x="must be";var I;if(_(m," argument"))I="The ".concat(m," ").concat(x," ").concat(b(g,"type"));else{var N=y(m,".")?"property":"argument";I='The "'.concat(m,'" ').concat(N," ").concat(x," ").concat(b(g,"type"))}return I+=". Received type ".concat(e(S)),I},TypeError),p("ERR_INVALID_ARG_VALUE",function(m,g){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";c===void 0&&(c=Pr());var x=c.inspect(g);return x.length>128&&(x="".concat(x.slice(0,128),"...")),"The argument '".concat(m,"' ").concat(S,". Received ").concat(x)},TypeError),p("ERR_INVALID_RETURN_VALUE",function(m,g,S){var x;return S&&S.constructor&&S.constructor.name?x="instance of ".concat(S.constructor.name):x="type ".concat(e(S)),"Expected ".concat(m,' to be returned from the "').concat(g,'"')+" function but got ".concat(x,".")},TypeError),p("ERR_MISSING_ARGS",function(){for(var m=arguments.length,g=new Array(m),S=0;S<m;S++)g[S]=arguments[S];d===void 0&&(d=Ey()),d(g.length>0,"At least one arg needs to be specified");var x="The ",I=g.length;switch(g=g.map(function(N){return'"'.concat(N,'"')}),I){case 1:x+="".concat(g[0]," argument");break;case 2:x+="".concat(g[0]," and ").concat(g[1]," arguments");break;default:x+=g.slice(0,I-1).join(", "),x+=", and ".concat(g[I-1]," arguments");break}return"".concat(x," must be specified")},TypeError),w1.codes=f,w1}var S1,sD;function CX(){if(sD)return S1;sD=1;function e(ne,H){var oe=Object.keys(ne);if(Object.getOwnPropertySymbols){var he=Object.getOwnPropertySymbols(ne);H&&(he=he.filter(function(Z){return Object.getOwnPropertyDescriptor(ne,Z).enumerable})),oe.push.apply(oe,he)}return oe}function t(ne){for(var H=1;H<arguments.length;H++){var oe=arguments[H]!=null?arguments[H]:{};H%2?e(Object(oe),!0).forEach(function(he){r(ne,he,oe[he])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ne,Object.getOwnPropertyDescriptors(oe)):e(Object(oe)).forEach(function(he){Object.defineProperty(ne,he,Object.getOwnPropertyDescriptor(oe,he))})}return ne}function r(ne,H,oe){return H=o(H),H in ne?Object.defineProperty(ne,H,{value:oe,enumerable:!0,configurable:!0,writable:!0}):ne[H]=oe,ne}function n(ne,H){if(!(ne instanceof H))throw new TypeError("Cannot call a class as a function")}function i(ne,H){for(var oe=0;oe<H.length;oe++){var he=H[oe];he.enumerable=he.enumerable||!1,he.configurable=!0,"value"in he&&(he.writable=!0),Object.defineProperty(ne,o(he.key),he)}}function a(ne,H,oe){return i(ne.prototype,H),Object.defineProperty(ne,"prototype",{writable:!1}),ne}function o(ne){var H=s(ne,"string");return m(H)==="symbol"?H:String(H)}function s(ne,H){if(m(ne)!=="object"||ne===null)return ne;var oe=ne[Symbol.toPrimitive];if(oe!==void 0){var he=oe.call(ne,H);if(m(he)!=="object")return he;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ne)}function l(ne,H){if(typeof H!="function"&&H!==null)throw new TypeError("Super expression must either be null or a function");ne.prototype=Object.create(H&&H.prototype,{constructor:{value:ne,writable:!0,configurable:!0}}),Object.defineProperty(ne,"prototype",{writable:!1}),H&&_(ne,H)}function u(ne){var H=b();return function(){var he=y(ne),Z;if(H){var Q=y(this).constructor;Z=Reflect.construct(he,arguments,Q)}else Z=he.apply(this,arguments);return f(this,Z)}}function f(ne,H){if(H&&(m(H)==="object"||typeof H=="function"))return H;if(H!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d(ne)}function d(ne){if(ne===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ne}function c(ne){var H=typeof Map=="function"?new Map:void 0;return c=function(he){if(he===null||!v(he))return he;if(typeof he!="function")throw new TypeError("Super expression must either be null or a function");if(typeof H<"u"){if(H.has(he))return H.get(he);H.set(he,Z)}function Z(){return p(he,arguments,y(this).constructor)}return Z.prototype=Object.create(he.prototype,{constructor:{value:Z,enumerable:!1,writable:!0,configurable:!0}}),_(Z,he)},c(ne)}function p(ne,H,oe){return b()?p=Reflect.construct.bind():p=function(Z,Q,ee){var O=[null];O.push.apply(O,Q);var A=Function.bind.apply(Z,O),$=new A;return ee&&_($,ee.prototype),$},p.apply(null,arguments)}function b(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function v(ne){return Function.toString.call(ne).indexOf("[native code]")!==-1}function _(ne,H){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(he,Z){return he.__proto__=Z,he},_(ne,H)}function y(ne){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(oe){return oe.__proto__||Object.getPrototypeOf(oe)},y(ne)}function m(ne){"@babel/helpers - typeof";return m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},m(ne)}var g=Pr(),S=g.inspect,x=GB(),I=x.codes.ERR_INVALID_ARG_TYPE;function N(ne,H,oe){return(oe===void 0||oe>ne.length)&&(oe=ne.length),ne.substring(oe-H.length,oe)===H}function q(ne,H){if(H=Math.floor(H),ne.length==0||H==0)return"";var oe=ne.length*H;for(H=Math.floor(Math.log(H)/Math.log(2));H;)ne+=ne,H--;return ne+=ne.substring(0,oe-ne.length),ne}var D="",M="",j="",P="",B={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},Y=10;function ie(ne){var H=Object.keys(ne),oe=Object.create(Object.getPrototypeOf(ne));return H.forEach(function(he){oe[he]=ne[he]}),Object.defineProperty(oe,"message",{value:ne.message}),oe}function X(ne){return S(ne,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function le(ne,H,oe){var he="",Z="",Q=0,ee="",O=!1,A=X(ne),$=A.split(`
`),te=X(H).split(`
`),pe=0,R="";if(oe==="strictEqual"&&m(ne)==="object"&&m(H)==="object"&&ne!==null&&H!==null&&(oe="strictEqualObject"),$.length===1&&te.length===1&&$[0]!==te[0]){var w=$[0].length+te[0].length;if(w<=Y){if((m(ne)!=="object"||ne===null)&&(m(H)!=="object"||H===null)&&(ne!==0||H!==0))return"".concat(B[oe],`

`)+"".concat($[0]," !== ").concat(te[0],`
`)}else if(oe!=="strictEqualObject"){var T=ze.stderr&&ze.stderr.isTTY?ze.stderr.columns:80;if(w<T){for(;$[0][pe]===te[0][pe];)pe++;pe>2&&(R=`
  `.concat(q(" ",pe),"^"),pe=0)}}}for(var k=$[$.length-1],U=te[te.length-1];k===U&&(pe++<2?ee=`
  `.concat(k).concat(ee):he=k,$.pop(),te.pop(),!($.length===0||te.length===0));)k=$[$.length-1],U=te[te.length-1];var re=Math.max($.length,te.length);if(re===0){var fe=A.split(`
`);if(fe.length>30)for(fe[26]="".concat(D,"...").concat(P);fe.length>27;)fe.pop();return"".concat(B.notIdentical,`

`).concat(fe.join(`
`),`
`)}pe>3&&(ee=`
`.concat(D,"...").concat(P).concat(ee),O=!0),he!==""&&(ee=`
  `.concat(he).concat(ee),he="");var ve=0,ce=B[oe]+`
`.concat(M,"+ actual").concat(P," ").concat(j,"- expected").concat(P),Ie=" ".concat(D,"...").concat(P," Lines skipped");for(pe=0;pe<re;pe++){var be=pe-Q;if($.length<pe+1)be>1&&pe>2&&(be>4?(Z+=`
`.concat(D,"...").concat(P),O=!0):be>3&&(Z+=`
  `.concat(te[pe-2]),ve++),Z+=`
  `.concat(te[pe-1]),ve++),Q=pe,he+=`
`.concat(j,"-").concat(P," ").concat(te[pe]),ve++;else if(te.length<pe+1)be>1&&pe>2&&(be>4?(Z+=`
`.concat(D,"...").concat(P),O=!0):be>3&&(Z+=`
  `.concat($[pe-2]),ve++),Z+=`
  `.concat($[pe-1]),ve++),Q=pe,Z+=`
`.concat(M,"+").concat(P," ").concat($[pe]),ve++;else{var Te=te[pe],je=$[pe],Ae=je!==Te&&(!N(je,",")||je.slice(0,-1)!==Te);Ae&&N(Te,",")&&Te.slice(0,-1)===je&&(Ae=!1,je+=","),Ae?(be>1&&pe>2&&(be>4?(Z+=`
`.concat(D,"...").concat(P),O=!0):be>3&&(Z+=`
  `.concat($[pe-2]),ve++),Z+=`
  `.concat($[pe-1]),ve++),Q=pe,Z+=`
`.concat(M,"+").concat(P," ").concat(je),he+=`
`.concat(j,"-").concat(P," ").concat(Te),ve+=2):(Z+=he,he="",(be===1||pe===0)&&(Z+=`
  `.concat(je),ve++))}if(ve>20&&pe<re-2)return"".concat(ce).concat(Ie,`
`).concat(Z,`
`).concat(D,"...").concat(P).concat(he,`
`)+"".concat(D,"...").concat(P)}return"".concat(ce).concat(O?Ie:"",`
`).concat(Z).concat(he).concat(ee).concat(R)}var ae=function(ne,H){l(he,ne);var oe=u(he);function he(Z){var Q;if(n(this,he),m(Z)!=="object"||Z===null)throw new I("options","Object",Z);var ee=Z.message,O=Z.operator,A=Z.stackStartFn,$=Z.actual,te=Z.expected,pe=Error.stackTraceLimit;if(Error.stackTraceLimit=0,ee!=null)Q=oe.call(this,String(ee));else if(ze.stderr&&ze.stderr.isTTY&&(ze.stderr&&ze.stderr.getColorDepth&&ze.stderr.getColorDepth()!==1?(D="\x1B[34m",M="\x1B[32m",P="\x1B[39m",j="\x1B[31m"):(D="",M="",P="",j="")),m($)==="object"&&$!==null&&m(te)==="object"&&te!==null&&"stack"in $&&$ instanceof Error&&"stack"in te&&te instanceof Error&&($=ie($),te=ie(te)),O==="deepStrictEqual"||O==="strictEqual")Q=oe.call(this,le($,te,O));else if(O==="notDeepStrictEqual"||O==="notStrictEqual"){var R=B[O],w=X($).split(`
`);if(O==="notStrictEqual"&&m($)==="object"&&$!==null&&(R=B.notStrictEqualObject),w.length>30)for(w[26]="".concat(D,"...").concat(P);w.length>27;)w.pop();w.length===1?Q=oe.call(this,"".concat(R," ").concat(w[0])):Q=oe.call(this,"".concat(R,`

`).concat(w.join(`
`),`
`))}else{var T=X($),k="",U=B[O];O==="notDeepEqual"||O==="notEqual"?(T="".concat(B[O],`

`).concat(T),T.length>1024&&(T="".concat(T.slice(0,1021),"..."))):(k="".concat(X(te)),T.length>512&&(T="".concat(T.slice(0,509),"...")),k.length>512&&(k="".concat(k.slice(0,509),"...")),O==="deepEqual"||O==="equal"?T="".concat(U,`

`).concat(T,`

should equal

`):k=" ".concat(O," ").concat(k)),Q=oe.call(this,"".concat(T).concat(k))}return Error.stackTraceLimit=pe,Q.generatedMessage=!ee,Object.defineProperty(d(Q),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),Q.code="ERR_ASSERTION",Q.actual=$,Q.expected=te,Q.operator=O,Error.captureStackTrace&&Error.captureStackTrace(d(Q),A),Q.stack,Q.name="AssertionError",f(Q)}return a(he,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:H,value:function(Q,ee){return S(this,t(t({},ee),{},{customInspect:!1,depth:0}))}}]),he}(c(Error),S.custom);return S1=ae,S1}var E1,uD;function WB(){if(uD)return E1;uD=1;var e=Object.prototype.toString;return E1=function(r){var n=e.call(r),i=n==="[object Arguments]";return i||(i=n!=="[object Array]"&&r!==null&&typeof r=="object"&&typeof r.length=="number"&&r.length>=0&&e.call(r.callee)==="[object Function]"),i},E1}var T1,lD;function LX(){if(lD)return T1;lD=1;var e;if(!Object.keys){var t=Object.prototype.hasOwnProperty,r=Object.prototype.toString,n=WB(),i=Object.prototype.propertyIsEnumerable,a=!i.call({toString:null},"toString"),o=i.call(function(){},"prototype"),s=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=function(c){var p=c.constructor;return p&&p.prototype===c},u={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},f=function(){if(typeof window>"u")return!1;for(var c in window)try{if(!u["$"+c]&&t.call(window,c)&&window[c]!==null&&typeof window[c]=="object")try{l(window[c])}catch{return!0}}catch{return!0}return!1}(),d=function(c){if(typeof window>"u"||!f)return l(c);try{return l(c)}catch{return!1}};e=function(p){var b=p!==null&&typeof p=="object",v=r.call(p)==="[object Function]",_=n(p),y=b&&r.call(p)==="[object String]",m=[];if(!b&&!v&&!_)throw new TypeError("Object.keys called on a non-object");var g=o&&v;if(y&&p.length>0&&!t.call(p,0))for(var S=0;S<p.length;++S)m.push(String(S));if(_&&p.length>0)for(var x=0;x<p.length;++x)m.push(String(x));else for(var I in p)!(g&&I==="prototype")&&t.call(p,I)&&m.push(String(I));if(a)for(var N=d(p),q=0;q<s.length;++q)!(N&&s[q]==="constructor")&&t.call(p,s[q])&&m.push(s[q]);return m}}return T1=e,T1}var x1,fD;function KB(){if(fD)return x1;fD=1;var e=Array.prototype.slice,t=WB(),r=Object.keys,n=r?function(o){return r(o)}:LX(),i=Object.keys;return n.shim=function(){if(Object.keys){var o=function(){var s=Object.keys(arguments);return s&&s.length===arguments.length}(1,2);o||(Object.keys=function(l){return t(l)?i(e.call(l)):i(l)})}else Object.keys=n;return Object.keys||n},x1=n,x1}var R1,cD;function MX(){if(cD)return R1;cD=1;var e=KB(),t=VT()(),r=zo(),n=HT(),i=r("Array.prototype.push"),a=r("Object.prototype.propertyIsEnumerable"),o=t?n.getOwnPropertySymbols:null;return R1=function(l,u){if(l==null)throw new TypeError("target must be an object");var f=n(l);if(arguments.length===1)return f;for(var d=1;d<arguments.length;++d){var c=n(arguments[d]),p=e(c),b=t&&(n.getOwnPropertySymbols||o);if(b)for(var v=b(c),_=0;_<v.length;++_){var y=v[_];a(c,y)&&i(p,y)}for(var m=0;m<p.length;++m){var g=p[m];if(a(c,g)){var S=c[g];f[g]=S}}}return f},R1}var A1,dD;function kX(){if(dD)return A1;dD=1;var e=MX(),t=function(){if(!Object.assign)return!1;for(var n="abcdefghijklmnopqrst",i=n.split(""),a={},o=0;o<i.length;++o)a[i[o]]=i[o];var s=Object.assign({},a),l="";for(var u in s)l+=u;return n!==l},r=function(){if(!Object.assign||!Object.preventExtensions)return!1;var n=Object.preventExtensions({1:2});try{Object.assign(n,"xy")}catch{return n[1]==="y"}return!1};return A1=function(){return!Object.assign||t()||r()?e:Object.assign},A1}var I1,hD;function QB(){if(hD)return I1;hD=1;var e=function(t){return t!==t};return I1=function(r,n){return r===0&&n===0?1/r===1/n:!!(r===n||e(r)&&e(n))},I1}var P1,pD;function ex(){if(pD)return P1;pD=1;var e=QB();return P1=function(){return typeof Object.is=="function"?Object.is:e},P1}var O1,mD;function FX(){if(mD)return O1;mD=1;var e=m0(),t=tg(),r=t(e("String.prototype.indexOf"));return O1=function(i,a){var o=e(i,!!a);return typeof o=="function"&&r(i,".prototype.")>-1?t(o):o},O1}var N1,yD;function ig(){if(yD)return N1;yD=1;var e=KB(),t=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",r=Object.prototype.toString,n=Array.prototype.concat,i=pB(),a=function(u){return typeof u=="function"&&r.call(u)==="[object Function]"},o=mB()(),s=function(u,f,d,c){if(f in u){if(c===!0){if(u[f]===d)return}else if(!a(c)||!c())return}o?i(u,f,d,!0):i(u,f,d)},l=function(u,f){var d=arguments.length>2?arguments[2]:{},c=e(f);t&&(c=n.call(c,Object.getOwnPropertySymbols(f)));for(var p=0;p<c.length;p+=1)s(u,c[p],f[c[p]],d[c[p]])};return l.supportsDescriptors=!!o,N1=l,N1}var D1,gD;function jX(){if(gD)return D1;gD=1;var e=ex(),t=ig();return D1=function(){var n=e();return t(Object,{is:n},{is:function(){return Object.is!==n}}),n},D1}var C1,_D;function qX(){if(_D)return C1;_D=1;var e=ig(),t=tg(),r=QB(),n=ex(),i=jX(),a=t(n(),Object);return e(a,{getPolyfill:n,implementation:r,shim:i}),C1=a,C1}var L1,bD;function ZB(){return bD||(bD=1,L1=function(t){return t!==t}),L1}var M1,vD;function YB(){if(vD)return M1;vD=1;var e=ZB();return M1=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:e},M1}var k1,wD;function BX(){if(wD)return k1;wD=1;var e=ig(),t=YB();return k1=function(){var n=t();return e(Number,{isNaN:n},{isNaN:function(){return Number.isNaN!==n}}),n},k1}var F1,SD;function $X(){if(SD)return F1;SD=1;var e=tg(),t=ig(),r=ZB(),n=YB(),i=BX(),a=e(n(),Number);return t(a,{getPolyfill:n,implementation:r,shim:i}),F1=a,F1}var j1,ED;function UX(){if(ED)return j1;ED=1;function e(Ae,Oe){return a(Ae)||i(Ae,Oe)||r(Ae,Oe)||t()}function t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r(Ae,Oe){if(Ae){if(typeof Ae=="string")return n(Ae,Oe);var ke=Object.prototype.toString.call(Ae).slice(8,-1);if(ke==="Object"&&Ae.constructor&&(ke=Ae.constructor.name),ke==="Map"||ke==="Set")return Array.from(Ae);if(ke==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ke))return n(Ae,Oe)}}function n(Ae,Oe){(Oe==null||Oe>Ae.length)&&(Oe=Ae.length);for(var ke=0,Ke=new Array(Oe);ke<Oe;ke++)Ke[ke]=Ae[ke];return Ke}function i(Ae,Oe){var ke=Ae==null?null:typeof Symbol<"u"&&Ae[Symbol.iterator]||Ae["@@iterator"];if(ke!=null){var Ke,Ue,it,ye,F=[],K=!0,_e=!1;try{if(it=(ke=ke.call(Ae)).next,Oe!==0)for(;!(K=(Ke=it.call(ke)).done)&&(F.push(Ke.value),F.length!==Oe);K=!0);}catch(Pe){_e=!0,Ue=Pe}finally{try{if(!K&&ke.return!=null&&(ye=ke.return(),Object(ye)!==ye))return}finally{if(_e)throw Ue}}return F}}function a(Ae){if(Array.isArray(Ae))return Ae}function o(Ae){"@babel/helpers - typeof";return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Oe){return typeof Oe}:function(Oe){return Oe&&typeof Symbol=="function"&&Oe.constructor===Symbol&&Oe!==Symbol.prototype?"symbol":typeof Oe},o(Ae)}var s=/a/g.flags!==void 0,l=function(Oe){var ke=[];return Oe.forEach(function(Ke){return ke.push(Ke)}),ke},u=function(Oe){var ke=[];return Oe.forEach(function(Ke,Ue){return ke.push([Ue,Ke])}),ke},f=Object.is?Object.is:qX(),d=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},c=Number.isNaN?Number.isNaN:$X();function p(Ae){return Ae.call.bind(Ae)}var b=p(Object.prototype.hasOwnProperty),v=p(Object.prototype.propertyIsEnumerable),_=p(Object.prototype.toString),y=Pr().types,m=y.isAnyArrayBuffer,g=y.isArrayBufferView,S=y.isDate,x=y.isMap,I=y.isRegExp,N=y.isSet,q=y.isNativeError,D=y.isBoxedPrimitive,M=y.isNumberObject,j=y.isStringObject,P=y.isBooleanObject,B=y.isBigIntObject,Y=y.isSymbolObject,ie=y.isFloat32Array,X=y.isFloat64Array;function le(Ae){if(Ae.length===0||Ae.length>10)return!0;for(var Oe=0;Oe<Ae.length;Oe++){var ke=Ae.charCodeAt(Oe);if(ke<48||ke>57)return!0}return Ae.length===10&&Ae>=Math.pow(2,32)}function ae(Ae){return Object.keys(Ae).filter(le).concat(d(Ae).filter(Object.prototype.propertyIsEnumerable.bind(Ae)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function ne(Ae,Oe){if(Ae===Oe)return 0;for(var ke=Ae.length,Ke=Oe.length,Ue=0,it=Math.min(ke,Ke);Ue<it;++Ue)if(Ae[Ue]!==Oe[Ue]){ke=Ae[Ue],Ke=Oe[Ue];break}return ke<Ke?-1:Ke<ke?1:0}var H=!0,oe=!1,he=0,Z=1,Q=2,ee=3;function O(Ae,Oe){return s?Ae.source===Oe.source&&Ae.flags===Oe.flags:RegExp.prototype.toString.call(Ae)===RegExp.prototype.toString.call(Oe)}function A(Ae,Oe){if(Ae.byteLength!==Oe.byteLength)return!1;for(var ke=0;ke<Ae.byteLength;ke++)if(Ae[ke]!==Oe[ke])return!1;return!0}function $(Ae,Oe){return Ae.byteLength!==Oe.byteLength?!1:ne(new Uint8Array(Ae.buffer,Ae.byteOffset,Ae.byteLength),new Uint8Array(Oe.buffer,Oe.byteOffset,Oe.byteLength))===0}function te(Ae,Oe){return Ae.byteLength===Oe.byteLength&&ne(new Uint8Array(Ae),new Uint8Array(Oe))===0}function pe(Ae,Oe){return M(Ae)?M(Oe)&&f(Number.prototype.valueOf.call(Ae),Number.prototype.valueOf.call(Oe)):j(Ae)?j(Oe)&&String.prototype.valueOf.call(Ae)===String.prototype.valueOf.call(Oe):P(Ae)?P(Oe)&&Boolean.prototype.valueOf.call(Ae)===Boolean.prototype.valueOf.call(Oe):B(Ae)?B(Oe)&&BigInt.prototype.valueOf.call(Ae)===BigInt.prototype.valueOf.call(Oe):Y(Oe)&&Symbol.prototype.valueOf.call(Ae)===Symbol.prototype.valueOf.call(Oe)}function R(Ae,Oe,ke,Ke){if(Ae===Oe)return Ae!==0?!0:ke?f(Ae,Oe):!0;if(ke){if(o(Ae)!=="object")return typeof Ae=="number"&&c(Ae)&&c(Oe);if(o(Oe)!=="object"||Ae===null||Oe===null||Object.getPrototypeOf(Ae)!==Object.getPrototypeOf(Oe))return!1}else{if(Ae===null||o(Ae)!=="object")return Oe===null||o(Oe)!=="object"?Ae==Oe:!1;if(Oe===null||o(Oe)!=="object")return!1}var Ue=_(Ae),it=_(Oe);if(Ue!==it)return!1;if(Array.isArray(Ae)){if(Ae.length!==Oe.length)return!1;var ye=ae(Ae),F=ae(Oe);return ye.length!==F.length?!1:T(Ae,Oe,ke,Ke,Z,ye)}if(Ue==="[object Object]"&&(!x(Ae)&&x(Oe)||!N(Ae)&&N(Oe)))return!1;if(S(Ae)){if(!S(Oe)||Date.prototype.getTime.call(Ae)!==Date.prototype.getTime.call(Oe))return!1}else if(I(Ae)){if(!I(Oe)||!O(Ae,Oe))return!1}else if(q(Ae)||Ae instanceof Error){if(Ae.message!==Oe.message||Ae.name!==Oe.name)return!1}else if(g(Ae)){if(!ke&&(ie(Ae)||X(Ae))){if(!A(Ae,Oe))return!1}else if(!$(Ae,Oe))return!1;var K=ae(Ae),_e=ae(Oe);return K.length!==_e.length?!1:T(Ae,Oe,ke,Ke,he,K)}else{if(N(Ae))return!N(Oe)||Ae.size!==Oe.size?!1:T(Ae,Oe,ke,Ke,Q);if(x(Ae))return!x(Oe)||Ae.size!==Oe.size?!1:T(Ae,Oe,ke,Ke,ee);if(m(Ae)){if(!te(Ae,Oe))return!1}else if(D(Ae)&&!pe(Ae,Oe))return!1}return T(Ae,Oe,ke,Ke,he)}function w(Ae,Oe){return Oe.filter(function(ke){return v(Ae,ke)})}function T(Ae,Oe,ke,Ke,Ue,it){if(arguments.length===5){it=Object.keys(Ae);var ye=Object.keys(Oe);if(it.length!==ye.length)return!1}for(var F=0;F<it.length;F++)if(!b(Oe,it[F]))return!1;if(ke&&arguments.length===5){var K=d(Ae);if(K.length!==0){var _e=0;for(F=0;F<K.length;F++){var Pe=K[F];if(v(Ae,Pe)){if(!v(Oe,Pe))return!1;it.push(Pe),_e++}else if(v(Oe,Pe))return!1}var se=d(Oe);if(K.length!==se.length&&w(Oe,se).length!==_e)return!1}else{var ge=d(Oe);if(ge.length!==0&&w(Oe,ge).length!==0)return!1}}if(it.length===0&&(Ue===he||Ue===Z&&Ae.length===0||Ae.size===0))return!0;if(Ke===void 0)Ke={val1:new Map,val2:new Map,position:0};else{var de=Ke.val1.get(Ae);if(de!==void 0){var Re=Ke.val2.get(Oe);if(Re!==void 0)return de===Re}Ke.position++}Ke.val1.set(Ae,Ke.position),Ke.val2.set(Oe,Ke.position);var Be=be(Ae,Oe,ke,it,Ke,Ue);return Ke.val1.delete(Ae),Ke.val2.delete(Oe),Be}function k(Ae,Oe,ke,Ke){for(var Ue=l(Ae),it=0;it<Ue.length;it++){var ye=Ue[it];if(R(Oe,ye,ke,Ke))return Ae.delete(ye),!0}return!1}function U(Ae){switch(o(Ae)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":Ae=+Ae;case"number":if(c(Ae))return!1}return!0}function re(Ae,Oe,ke){var Ke=U(ke);return Ke??(Oe.has(Ke)&&!Ae.has(Ke))}function fe(Ae,Oe,ke,Ke,Ue){var it=U(ke);if(it!=null)return it;var ye=Oe.get(it);return ye===void 0&&!Oe.has(it)||!R(Ke,ye,!1,Ue)?!1:!Ae.has(it)&&R(Ke,ye,!1,Ue)}function ve(Ae,Oe,ke,Ke){for(var Ue=null,it=l(Ae),ye=0;ye<it.length;ye++){var F=it[ye];if(o(F)==="object"&&F!==null)Ue===null&&(Ue=new Set),Ue.add(F);else if(!Oe.has(F)){if(ke||!re(Ae,Oe,F))return!1;Ue===null&&(Ue=new Set),Ue.add(F)}}if(Ue!==null){for(var K=l(Oe),_e=0;_e<K.length;_e++){var Pe=K[_e];if(o(Pe)==="object"&&Pe!==null){if(!k(Ue,Pe,ke,Ke))return!1}else if(!ke&&!Ae.has(Pe)&&!k(Ue,Pe,ke,Ke))return!1}return Ue.size===0}return!0}function ce(Ae,Oe,ke,Ke,Ue,it){for(var ye=l(Ae),F=0;F<ye.length;F++){var K=ye[F];if(R(ke,K,Ue,it)&&R(Ke,Oe.get(K),Ue,it))return Ae.delete(K),!0}return!1}function Ie(Ae,Oe,ke,Ke){for(var Ue=null,it=u(Ae),ye=0;ye<it.length;ye++){var F=e(it[ye],2),K=F[0],_e=F[1];if(o(K)==="object"&&K!==null)Ue===null&&(Ue=new Set),Ue.add(K);else{var Pe=Oe.get(K);if(Pe===void 0&&!Oe.has(K)||!R(_e,Pe,ke,Ke)){if(ke||!fe(Ae,Oe,K,_e,Ke))return!1;Ue===null&&(Ue=new Set),Ue.add(K)}}}if(Ue!==null){for(var se=u(Oe),ge=0;ge<se.length;ge++){var de=e(se[ge],2),Re=de[0],Be=de[1];if(o(Re)==="object"&&Re!==null){if(!ce(Ue,Ae,Re,Be,ke,Ke))return!1}else if(!ke&&(!Ae.has(Re)||!R(Ae.get(Re),Be,!1,Ke))&&!ce(Ue,Ae,Re,Be,!1,Ke))return!1}return Ue.size===0}return!0}function be(Ae,Oe,ke,Ke,Ue,it){var ye=0;if(it===Q){if(!ve(Ae,Oe,ke,Ue))return!1}else if(it===ee){if(!Ie(Ae,Oe,ke,Ue))return!1}else if(it===Z)for(;ye<Ae.length;ye++)if(b(Ae,ye)){if(!b(Oe,ye)||!R(Ae[ye],Oe[ye],ke,Ue))return!1}else{if(b(Oe,ye))return!1;for(var F=Object.keys(Ae);ye<F.length;ye++){var K=F[ye];if(!b(Oe,K)||!R(Ae[K],Oe[K],ke,Ue))return!1}return F.length===Object.keys(Oe).length}for(ye=0;ye<Ke.length;ye++){var _e=Ke[ye];if(!R(Ae[_e],Oe[_e],ke,Ue))return!1}return!0}function Te(Ae,Oe){return R(Ae,Oe,oe)}function je(Ae,Oe){return R(Ae,Oe,H)}return j1={isDeepEqual:Te,isDeepStrictEqual:je},j1}var TD;function Ey(){if(TD)return v1.exports;TD=1;function e(Q){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ee){return typeof ee}:function(ee){return ee&&typeof Symbol=="function"&&ee.constructor===Symbol&&ee!==Symbol.prototype?"symbol":typeof ee},e(Q)}function t(Q,ee,O){return Object.defineProperty(Q,"prototype",{writable:!1}),Q}function r(Q,ee){if(!(Q instanceof ee))throw new TypeError("Cannot call a class as a function")}var n=GB(),i=n.codes,a=i.ERR_AMBIGUOUS_ARGUMENT,o=i.ERR_INVALID_ARG_TYPE,s=i.ERR_INVALID_ARG_VALUE,l=i.ERR_INVALID_RETURN_VALUE,u=i.ERR_MISSING_ARGS,f=CX(),d=Pr(),c=d.inspect,p=Pr().types,b=p.isPromise,v=p.isRegExp,_=kX()(),y=ex()(),m=FX()("RegExp.prototype.test"),g,S;function x(){var Q=UX();g=Q.isDeepEqual,S=Q.isDeepStrictEqual}var I=!1,N=v1.exports=P,q={};function D(Q){throw Q.message instanceof Error?Q.message:new f(Q)}function M(Q,ee,O,A,$){var te=arguments.length,pe;if(te===0)pe="Failed";else if(te===1)O=Q,Q=void 0;else{if(I===!1){I=!0;var R=ze.emitWarning?ze.emitWarning:console.warn.bind(console);R("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}te===2&&(A="!=")}if(O instanceof Error)throw O;var w={actual:Q,expected:ee,operator:A===void 0?"fail":A,stackStartFn:$||M};O!==void 0&&(w.message=O);var T=new f(w);throw pe&&(T.message=pe,T.generatedMessage=!0),T}N.fail=M,N.AssertionError=f;function j(Q,ee,O,A){if(!O){var $=!1;if(ee===0)$=!0,A="No value argument passed to `assert.ok()`";else if(A instanceof Error)throw A;var te=new f({actual:O,expected:!0,message:A,operator:"==",stackStartFn:Q});throw te.generatedMessage=$,te}}function P(){for(var Q=arguments.length,ee=new Array(Q),O=0;O<Q;O++)ee[O]=arguments[O];j.apply(void 0,[P,ee.length].concat(ee))}N.ok=P,N.equal=function Q(ee,O,A){if(arguments.length<2)throw new u("actual","expected");ee!=O&&D({actual:ee,expected:O,message:A,operator:"==",stackStartFn:Q})},N.notEqual=function Q(ee,O,A){if(arguments.length<2)throw new u("actual","expected");ee==O&&D({actual:ee,expected:O,message:A,operator:"!=",stackStartFn:Q})},N.deepEqual=function Q(ee,O,A){if(arguments.length<2)throw new u("actual","expected");g===void 0&&x(),g(ee,O)||D({actual:ee,expected:O,message:A,operator:"deepEqual",stackStartFn:Q})},N.notDeepEqual=function Q(ee,O,A){if(arguments.length<2)throw new u("actual","expected");g===void 0&&x(),g(ee,O)&&D({actual:ee,expected:O,message:A,operator:"notDeepEqual",stackStartFn:Q})},N.deepStrictEqual=function Q(ee,O,A){if(arguments.length<2)throw new u("actual","expected");g===void 0&&x(),S(ee,O)||D({actual:ee,expected:O,message:A,operator:"deepStrictEqual",stackStartFn:Q})},N.notDeepStrictEqual=B;function B(Q,ee,O){if(arguments.length<2)throw new u("actual","expected");g===void 0&&x(),S(Q,ee)&&D({actual:Q,expected:ee,message:O,operator:"notDeepStrictEqual",stackStartFn:B})}N.strictEqual=function Q(ee,O,A){if(arguments.length<2)throw new u("actual","expected");y(ee,O)||D({actual:ee,expected:O,message:A,operator:"strictEqual",stackStartFn:Q})},N.notStrictEqual=function Q(ee,O,A){if(arguments.length<2)throw new u("actual","expected");y(ee,O)&&D({actual:ee,expected:O,message:A,operator:"notStrictEqual",stackStartFn:Q})};var Y=t(function Q(ee,O,A){var $=this;r(this,Q),O.forEach(function(te){te in ee&&(A!==void 0&&typeof A[te]=="string"&&v(ee[te])&&m(ee[te],A[te])?$[te]=A[te]:$[te]=ee[te])})});function ie(Q,ee,O,A,$,te){if(!(O in Q)||!S(Q[O],ee[O])){if(!A){var pe=new Y(Q,$),R=new Y(ee,$,Q),w=new f({actual:pe,expected:R,operator:"deepStrictEqual",stackStartFn:te});throw w.actual=Q,w.expected=ee,w.operator=te.name,w}D({actual:Q,expected:ee,message:A,operator:te.name,stackStartFn:te})}}function X(Q,ee,O,A){if(typeof ee!="function"){if(v(ee))return m(ee,Q);if(arguments.length===2)throw new o("expected",["Function","RegExp"],ee);if(e(Q)!=="object"||Q===null){var $=new f({actual:Q,expected:ee,message:O,operator:"deepStrictEqual",stackStartFn:A});throw $.operator=A.name,$}var te=Object.keys(ee);if(ee instanceof Error)te.push("name","message");else if(te.length===0)throw new s("error",ee,"may not be an empty object");return g===void 0&&x(),te.forEach(function(pe){typeof Q[pe]=="string"&&v(ee[pe])&&m(ee[pe],Q[pe])||ie(Q,ee,pe,O,te,A)}),!0}return ee.prototype!==void 0&&Q instanceof ee?!0:Error.isPrototypeOf(ee)?!1:ee.call({},Q)===!0}function le(Q){if(typeof Q!="function")throw new o("fn","Function",Q);try{Q()}catch(ee){return ee}return q}function ae(Q){return b(Q)||Q!==null&&e(Q)==="object"&&typeof Q.then=="function"&&typeof Q.catch=="function"}function ne(Q){return Promise.resolve().then(function(){var ee;if(typeof Q=="function"){if(ee=Q(),!ae(ee))throw new l("instance of Promise","promiseFn",ee)}else if(ae(Q))ee=Q;else throw new o("promiseFn",["Function","Promise"],Q);return Promise.resolve().then(function(){return ee}).then(function(){return q}).catch(function(O){return O})})}function H(Q,ee,O,A){if(typeof O=="string"){if(arguments.length===4)throw new o("error",["Object","Error","Function","RegExp"],O);if(e(ee)==="object"&&ee!==null){if(ee.message===O)throw new a("error/message",'The error message "'.concat(ee.message,'" is identical to the message.'))}else if(ee===O)throw new a("error/message",'The error "'.concat(ee,'" is identical to the message.'));A=O,O=void 0}else if(O!=null&&e(O)!=="object"&&typeof O!="function")throw new o("error",["Object","Error","Function","RegExp"],O);if(ee===q){var $="";O&&O.name&&($+=" (".concat(O.name,")")),$+=A?": ".concat(A):".";var te=Q.name==="rejects"?"rejection":"exception";D({actual:void 0,expected:O,operator:Q.name,message:"Missing expected ".concat(te).concat($),stackStartFn:Q})}if(O&&!X(ee,O,A,Q))throw ee}function oe(Q,ee,O,A){if(ee!==q){if(typeof O=="string"&&(A=O,O=void 0),!O||X(ee,O)){var $=A?": ".concat(A):".",te=Q.name==="doesNotReject"?"rejection":"exception";D({actual:ee,expected:O,operator:Q.name,message:"Got unwanted ".concat(te).concat($,`
`)+'Actual message: "'.concat(ee&&ee.message,'"'),stackStartFn:Q})}throw ee}}N.throws=function Q(ee){for(var O=arguments.length,A=new Array(O>1?O-1:0),$=1;$<O;$++)A[$-1]=arguments[$];H.apply(void 0,[Q,le(ee)].concat(A))},N.rejects=function Q(ee){for(var O=arguments.length,A=new Array(O>1?O-1:0),$=1;$<O;$++)A[$-1]=arguments[$];return ne(ee).then(function(te){return H.apply(void 0,[Q,te].concat(A))})},N.doesNotThrow=function Q(ee){for(var O=arguments.length,A=new Array(O>1?O-1:0),$=1;$<O;$++)A[$-1]=arguments[$];oe.apply(void 0,[Q,le(ee)].concat(A))},N.doesNotReject=function Q(ee){for(var O=arguments.length,A=new Array(O>1?O-1:0),$=1;$<O;$++)A[$-1]=arguments[$];return ne(ee).then(function(te){return oe.apply(void 0,[Q,te].concat(A))})},N.ifError=function Q(ee){if(ee!=null){var O="ifError got unwanted exception: ";e(ee)==="object"&&typeof ee.message=="string"?ee.message.length===0&&ee.constructor?O+=ee.constructor.name:O+=ee.message:O+=c(ee);var A=new f({actual:ee,expected:null,operator:"ifError",message:O,stackStartFn:Q}),$=ee.stack;if(typeof $=="string"){var te=$.split(`
`);te.shift();for(var pe=A.stack.split(`
`),R=0;R<te.length;R++){var w=pe.indexOf(te[R]);if(w!==-1){pe=pe.slice(0,w);break}}A.stack="".concat(pe.join(`
`),`
`).concat(te.join(`
`))}throw A}};function he(Q,ee,O,A,$){if(!v(ee))throw new o("regexp","RegExp",ee);var te=$==="match";if(typeof Q!="string"||m(ee,Q)!==te){if(O instanceof Error)throw O;var pe=!O;O=O||(typeof Q!="string"?'The "string" argument must be of type string. Received type '+"".concat(e(Q)," (").concat(c(Q),")"):(te?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat(c(ee),`. Input:

`).concat(c(Q),`
`));var R=new f({actual:Q,expected:ee,message:O,operator:$,stackStartFn:A});throw R.generatedMessage=pe,R}}N.match=function Q(ee,O,A){he(ee,O,A,Q,"match")},N.doesNotMatch=function Q(ee,O,A){he(ee,O,A,Q,"doesNotMatch")};function Z(){for(var Q=arguments.length,ee=new Array(Q),O=0;O<Q;O++)ee[O]=arguments[O];j.apply(void 0,[Z,ee.length].concat(ee))}return N.strict=_(Z,N,{equal:N.strictEqual,deepEqual:N.deepStrictEqual,notEqual:N.notStrictEqual,notDeepEqual:N.notDeepStrictEqual}),N.strict.strict=N.strict,v1.exports}var q1,xD;function VX(){if(xD)return q1;xD=1;function e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}return q1=e,q1}var Di={},B1={},RD;function ag(){return RD||(RD=1,function(e){var t=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function r(a,o){return Object.prototype.hasOwnProperty.call(a,o)}e.assign=function(a){for(var o=Array.prototype.slice.call(arguments,1);o.length;){var s=o.shift();if(s){if(typeof s!="object")throw new TypeError(s+"must be non-object");for(var l in s)r(s,l)&&(a[l]=s[l])}}return a},e.shrinkBuf=function(a,o){return a.length===o?a:a.subarray?a.subarray(0,o):(a.length=o,a)};var n={arraySet:function(a,o,s,l,u){if(o.subarray&&a.subarray){a.set(o.subarray(s,s+l),u);return}for(var f=0;f<l;f++)a[u+f]=o[s+f]},flattenChunks:function(a){var o,s,l,u,f,d;for(l=0,o=0,s=a.length;o<s;o++)l+=a[o].length;for(d=new Uint8Array(l),u=0,o=0,s=a.length;o<s;o++)f=a[o],d.set(f,u),u+=f.length;return d}},i={arraySet:function(a,o,s,l,u){for(var f=0;f<l;f++)a[u+f]=o[s+f]},flattenChunks:function(a){return[].concat.apply([],a)}};e.setTyped=function(a){a?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,n)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,i))},e.setTyped(t)}(B1)),B1}var ls={},AD;function HX(){if(AD)return ls;AD=1;var e=ag(),t=4,r=0,n=1,i=2;function a(F){for(var K=F.length;--K>=0;)F[K]=0}var o=0,s=1,l=2,u=3,f=258,d=29,c=256,p=c+1+d,b=30,v=19,_=2*p+1,y=15,m=16,g=7,S=256,x=16,I=17,N=18,q=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],D=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],M=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],P=512,B=new Array((p+2)*2);a(B);var Y=new Array(b*2);a(Y);var ie=new Array(P);a(ie);var X=new Array(f-u+1);a(X);var le=new Array(d);a(le);var ae=new Array(b);a(ae);function ne(F,K,_e,Pe,se){this.static_tree=F,this.extra_bits=K,this.extra_base=_e,this.elems=Pe,this.max_length=se,this.has_stree=F&&F.length}var H,oe,he;function Z(F,K){this.dyn_tree=F,this.max_code=0,this.stat_desc=K}function Q(F){return F<256?ie[F]:ie[256+(F>>>7)]}function ee(F,K){F.pending_buf[F.pending++]=K&255,F.pending_buf[F.pending++]=K>>>8&255}function O(F,K,_e){F.bi_valid>m-_e?(F.bi_buf|=K<<F.bi_valid&65535,ee(F,F.bi_buf),F.bi_buf=K>>m-F.bi_valid,F.bi_valid+=_e-m):(F.bi_buf|=K<<F.bi_valid&65535,F.bi_valid+=_e)}function A(F,K,_e){O(F,_e[K*2],_e[K*2+1])}function $(F,K){var _e=0;do _e|=F&1,F>>>=1,_e<<=1;while(--K>0);return _e>>>1}function te(F){F.bi_valid===16?(ee(F,F.bi_buf),F.bi_buf=0,F.bi_valid=0):F.bi_valid>=8&&(F.pending_buf[F.pending++]=F.bi_buf&255,F.bi_buf>>=8,F.bi_valid-=8)}function pe(F,K){var _e=K.dyn_tree,Pe=K.max_code,se=K.stat_desc.static_tree,ge=K.stat_desc.has_stree,de=K.stat_desc.extra_bits,Re=K.stat_desc.extra_base,Be=K.stat_desc.max_length,V,xe,Ce,me,Me,He,ft=0;for(me=0;me<=y;me++)F.bl_count[me]=0;for(_e[F.heap[F.heap_max]*2+1]=0,V=F.heap_max+1;V<_;V++)xe=F.heap[V],me=_e[_e[xe*2+1]*2+1]+1,me>Be&&(me=Be,ft++),_e[xe*2+1]=me,!(xe>Pe)&&(F.bl_count[me]++,Me=0,xe>=Re&&(Me=de[xe-Re]),He=_e[xe*2],F.opt_len+=He*(me+Me),ge&&(F.static_len+=He*(se[xe*2+1]+Me)));if(ft!==0){do{for(me=Be-1;F.bl_count[me]===0;)me--;F.bl_count[me]--,F.bl_count[me+1]+=2,F.bl_count[Be]--,ft-=2}while(ft>0);for(me=Be;me!==0;me--)for(xe=F.bl_count[me];xe!==0;)Ce=F.heap[--V],!(Ce>Pe)&&(_e[Ce*2+1]!==me&&(F.opt_len+=(me-_e[Ce*2+1])*_e[Ce*2],_e[Ce*2+1]=me),xe--)}}function R(F,K,_e){var Pe=new Array(y+1),se=0,ge,de;for(ge=1;ge<=y;ge++)Pe[ge]=se=se+_e[ge-1]<<1;for(de=0;de<=K;de++){var Re=F[de*2+1];Re!==0&&(F[de*2]=$(Pe[Re]++,Re))}}function w(){var F,K,_e,Pe,se,ge=new Array(y+1);for(_e=0,Pe=0;Pe<d-1;Pe++)for(le[Pe]=_e,F=0;F<1<<q[Pe];F++)X[_e++]=Pe;for(X[_e-1]=Pe,se=0,Pe=0;Pe<16;Pe++)for(ae[Pe]=se,F=0;F<1<<D[Pe];F++)ie[se++]=Pe;for(se>>=7;Pe<b;Pe++)for(ae[Pe]=se<<7,F=0;F<1<<D[Pe]-7;F++)ie[256+se++]=Pe;for(K=0;K<=y;K++)ge[K]=0;for(F=0;F<=143;)B[F*2+1]=8,F++,ge[8]++;for(;F<=255;)B[F*2+1]=9,F++,ge[9]++;for(;F<=279;)B[F*2+1]=7,F++,ge[7]++;for(;F<=287;)B[F*2+1]=8,F++,ge[8]++;for(R(B,p+1,ge),F=0;F<b;F++)Y[F*2+1]=5,Y[F*2]=$(F,5);H=new ne(B,q,c+1,p,y),oe=new ne(Y,D,0,b,y),he=new ne(new Array(0),M,0,v,g)}function T(F){var K;for(K=0;K<p;K++)F.dyn_ltree[K*2]=0;for(K=0;K<b;K++)F.dyn_dtree[K*2]=0;for(K=0;K<v;K++)F.bl_tree[K*2]=0;F.dyn_ltree[S*2]=1,F.opt_len=F.static_len=0,F.last_lit=F.matches=0}function k(F){F.bi_valid>8?ee(F,F.bi_buf):F.bi_valid>0&&(F.pending_buf[F.pending++]=F.bi_buf),F.bi_buf=0,F.bi_valid=0}function U(F,K,_e,Pe){k(F),ee(F,_e),ee(F,~_e),e.arraySet(F.pending_buf,F.window,K,_e,F.pending),F.pending+=_e}function re(F,K,_e,Pe){var se=K*2,ge=_e*2;return F[se]<F[ge]||F[se]===F[ge]&&Pe[K]<=Pe[_e]}function fe(F,K,_e){for(var Pe=F.heap[_e],se=_e<<1;se<=F.heap_len&&(se<F.heap_len&&re(K,F.heap[se+1],F.heap[se],F.depth)&&se++,!re(K,Pe,F.heap[se],F.depth));)F.heap[_e]=F.heap[se],_e=se,se<<=1;F.heap[_e]=Pe}function ve(F,K,_e){var Pe,se,ge=0,de,Re;if(F.last_lit!==0)do Pe=F.pending_buf[F.d_buf+ge*2]<<8|F.pending_buf[F.d_buf+ge*2+1],se=F.pending_buf[F.l_buf+ge],ge++,Pe===0?A(F,se,K):(de=X[se],A(F,de+c+1,K),Re=q[de],Re!==0&&(se-=le[de],O(F,se,Re)),Pe--,de=Q(Pe),A(F,de,_e),Re=D[de],Re!==0&&(Pe-=ae[de],O(F,Pe,Re)));while(ge<F.last_lit);A(F,S,K)}function ce(F,K){var _e=K.dyn_tree,Pe=K.stat_desc.static_tree,se=K.stat_desc.has_stree,ge=K.stat_desc.elems,de,Re,Be=-1,V;for(F.heap_len=0,F.heap_max=_,de=0;de<ge;de++)_e[de*2]!==0?(F.heap[++F.heap_len]=Be=de,F.depth[de]=0):_e[de*2+1]=0;for(;F.heap_len<2;)V=F.heap[++F.heap_len]=Be<2?++Be:0,_e[V*2]=1,F.depth[V]=0,F.opt_len--,se&&(F.static_len-=Pe[V*2+1]);for(K.max_code=Be,de=F.heap_len>>1;de>=1;de--)fe(F,_e,de);V=ge;do de=F.heap[1],F.heap[1]=F.heap[F.heap_len--],fe(F,_e,1),Re=F.heap[1],F.heap[--F.heap_max]=de,F.heap[--F.heap_max]=Re,_e[V*2]=_e[de*2]+_e[Re*2],F.depth[V]=(F.depth[de]>=F.depth[Re]?F.depth[de]:F.depth[Re])+1,_e[de*2+1]=_e[Re*2+1]=V,F.heap[1]=V++,fe(F,_e,1);while(F.heap_len>=2);F.heap[--F.heap_max]=F.heap[1],pe(F,K),R(_e,Be,F.bl_count)}function Ie(F,K,_e){var Pe,se=-1,ge,de=K[0*2+1],Re=0,Be=7,V=4;for(de===0&&(Be=138,V=3),K[(_e+1)*2+1]=65535,Pe=0;Pe<=_e;Pe++)ge=de,de=K[(Pe+1)*2+1],!(++Re<Be&&ge===de)&&(Re<V?F.bl_tree[ge*2]+=Re:ge!==0?(ge!==se&&F.bl_tree[ge*2]++,F.bl_tree[x*2]++):Re<=10?F.bl_tree[I*2]++:F.bl_tree[N*2]++,Re=0,se=ge,de===0?(Be=138,V=3):ge===de?(Be=6,V=3):(Be=7,V=4))}function be(F,K,_e){var Pe,se=-1,ge,de=K[0*2+1],Re=0,Be=7,V=4;for(de===0&&(Be=138,V=3),Pe=0;Pe<=_e;Pe++)if(ge=de,de=K[(Pe+1)*2+1],!(++Re<Be&&ge===de)){if(Re<V)do A(F,ge,F.bl_tree);while(--Re!==0);else ge!==0?(ge!==se&&(A(F,ge,F.bl_tree),Re--),A(F,x,F.bl_tree),O(F,Re-3,2)):Re<=10?(A(F,I,F.bl_tree),O(F,Re-3,3)):(A(F,N,F.bl_tree),O(F,Re-11,7));Re=0,se=ge,de===0?(Be=138,V=3):ge===de?(Be=6,V=3):(Be=7,V=4)}}function Te(F){var K;for(Ie(F,F.dyn_ltree,F.l_desc.max_code),Ie(F,F.dyn_dtree,F.d_desc.max_code),ce(F,F.bl_desc),K=v-1;K>=3&&F.bl_tree[j[K]*2+1]===0;K--);return F.opt_len+=3*(K+1)+5+5+4,K}function je(F,K,_e,Pe){var se;for(O(F,K-257,5),O(F,_e-1,5),O(F,Pe-4,4),se=0;se<Pe;se++)O(F,F.bl_tree[j[se]*2+1],3);be(F,F.dyn_ltree,K-1),be(F,F.dyn_dtree,_e-1)}function Ae(F){var K=4093624447,_e;for(_e=0;_e<=31;_e++,K>>>=1)if(K&1&&F.dyn_ltree[_e*2]!==0)return r;if(F.dyn_ltree[9*2]!==0||F.dyn_ltree[10*2]!==0||F.dyn_ltree[13*2]!==0)return n;for(_e=32;_e<c;_e++)if(F.dyn_ltree[_e*2]!==0)return n;return r}var Oe=!1;function ke(F){Oe||(w(),Oe=!0),F.l_desc=new Z(F.dyn_ltree,H),F.d_desc=new Z(F.dyn_dtree,oe),F.bl_desc=new Z(F.bl_tree,he),F.bi_buf=0,F.bi_valid=0,T(F)}function Ke(F,K,_e,Pe){O(F,(o<<1)+(Pe?1:0),3),U(F,K,_e)}function Ue(F){O(F,s<<1,3),A(F,S,B),te(F)}function it(F,K,_e,Pe){var se,ge,de=0;F.level>0?(F.strm.data_type===i&&(F.strm.data_type=Ae(F)),ce(F,F.l_desc),ce(F,F.d_desc),de=Te(F),se=F.opt_len+3+7>>>3,ge=F.static_len+3+7>>>3,ge<=se&&(se=ge)):se=ge=_e+5,_e+4<=se&&K!==-1?Ke(F,K,_e,Pe):F.strategy===t||ge===se?(O(F,(s<<1)+(Pe?1:0),3),ve(F,B,Y)):(O(F,(l<<1)+(Pe?1:0),3),je(F,F.l_desc.max_code+1,F.d_desc.max_code+1,de+1),ve(F,F.dyn_ltree,F.dyn_dtree)),T(F),Pe&&k(F)}function ye(F,K,_e){return F.pending_buf[F.d_buf+F.last_lit*2]=K>>>8&255,F.pending_buf[F.d_buf+F.last_lit*2+1]=K&255,F.pending_buf[F.l_buf+F.last_lit]=_e&255,F.last_lit++,K===0?F.dyn_ltree[_e*2]++:(F.matches++,K--,F.dyn_ltree[(X[_e]+c+1)*2]++,F.dyn_dtree[Q(K)*2]++),F.last_lit===F.lit_bufsize-1}return ls._tr_init=ke,ls._tr_stored_block=Ke,ls._tr_flush_block=it,ls._tr_tally=ye,ls._tr_align=Ue,ls}var $1,ID;function XB(){if(ID)return $1;ID=1;function e(t,r,n,i){for(var a=t&65535|0,o=t>>>16&65535|0,s=0;n!==0;){s=n>2e3?2e3:n,n-=s;do a=a+r[i++]|0,o=o+a|0;while(--s);a%=65521,o%=65521}return a|o<<16|0}return $1=e,$1}var U1,PD;function JB(){if(PD)return U1;PD=1;function e(){for(var n,i=[],a=0;a<256;a++){n=a;for(var o=0;o<8;o++)n=n&1?3988292384^n>>>1:n>>>1;i[a]=n}return i}var t=e();function r(n,i,a,o){var s=t,l=o+a;n^=-1;for(var u=o;u<l;u++)n=n>>>8^s[(n^i[u])&255];return n^-1}return U1=r,U1}var V1,OD;function zX(){return OD||(OD=1,V1={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}),V1}var ND;function GX(){if(ND)return Di;ND=1;var e=ag(),t=HX(),r=XB(),n=JB(),i=zX(),a=0,o=1,s=3,l=4,u=5,f=0,d=1,c=-2,p=-3,b=-5,v=-1,_=1,y=2,m=3,g=4,S=0,x=2,I=8,N=9,q=15,D=8,M=29,j=256,P=j+1+M,B=30,Y=19,ie=2*P+1,X=15,le=3,ae=258,ne=ae+le+1,H=32,oe=42,he=69,Z=73,Q=91,ee=103,O=113,A=666,$=1,te=2,pe=3,R=4,w=3;function T(V,xe){return V.msg=i[xe],xe}function k(V){return(V<<1)-(V>4?9:0)}function U(V){for(var xe=V.length;--xe>=0;)V[xe]=0}function re(V){var xe=V.state,Ce=xe.pending;Ce>V.avail_out&&(Ce=V.avail_out),Ce!==0&&(e.arraySet(V.output,xe.pending_buf,xe.pending_out,Ce,V.next_out),V.next_out+=Ce,xe.pending_out+=Ce,V.total_out+=Ce,V.avail_out-=Ce,xe.pending-=Ce,xe.pending===0&&(xe.pending_out=0))}function fe(V,xe){t._tr_flush_block(V,V.block_start>=0?V.block_start:-1,V.strstart-V.block_start,xe),V.block_start=V.strstart,re(V.strm)}function ve(V,xe){V.pending_buf[V.pending++]=xe}function ce(V,xe){V.pending_buf[V.pending++]=xe>>>8&255,V.pending_buf[V.pending++]=xe&255}function Ie(V,xe,Ce,me){var Me=V.avail_in;return Me>me&&(Me=me),Me===0?0:(V.avail_in-=Me,e.arraySet(xe,V.input,V.next_in,Me,Ce),V.state.wrap===1?V.adler=r(V.adler,xe,Me,Ce):V.state.wrap===2&&(V.adler=n(V.adler,xe,Me,Ce)),V.next_in+=Me,V.total_in+=Me,Me)}function be(V,xe){var Ce=V.max_chain_length,me=V.strstart,Me,He,ft=V.prev_length,we=V.nice_match,W=V.strstart>V.w_size-ne?V.strstart-(V.w_size-ne):0,G=V.window,J=V.w_mask,Se=V.prev,Le=V.strstart+ae,De=G[me+ft-1],Ve=G[me+ft];V.prev_length>=V.good_match&&(Ce>>=2),we>V.lookahead&&(we=V.lookahead);do if(Me=xe,!(G[Me+ft]!==Ve||G[Me+ft-1]!==De||G[Me]!==G[me]||G[++Me]!==G[me+1])){me+=2,Me++;do;while(G[++me]===G[++Me]&&G[++me]===G[++Me]&&G[++me]===G[++Me]&&G[++me]===G[++Me]&&G[++me]===G[++Me]&&G[++me]===G[++Me]&&G[++me]===G[++Me]&&G[++me]===G[++Me]&&me<Le);if(He=ae-(Le-me),me=Le-ae,He>ft){if(V.match_start=xe,ft=He,He>=we)break;De=G[me+ft-1],Ve=G[me+ft]}}while((xe=Se[xe&J])>W&&--Ce!==0);return ft<=V.lookahead?ft:V.lookahead}function Te(V){var xe=V.w_size,Ce,me,Me,He,ft;do{if(He=V.window_size-V.lookahead-V.strstart,V.strstart>=xe+(xe-ne)){e.arraySet(V.window,V.window,xe,xe,0),V.match_start-=xe,V.strstart-=xe,V.block_start-=xe,me=V.hash_size,Ce=me;do Me=V.head[--Ce],V.head[Ce]=Me>=xe?Me-xe:0;while(--me);me=xe,Ce=me;do Me=V.prev[--Ce],V.prev[Ce]=Me>=xe?Me-xe:0;while(--me);He+=xe}if(V.strm.avail_in===0)break;if(me=Ie(V.strm,V.window,V.strstart+V.lookahead,He),V.lookahead+=me,V.lookahead+V.insert>=le)for(ft=V.strstart-V.insert,V.ins_h=V.window[ft],V.ins_h=(V.ins_h<<V.hash_shift^V.window[ft+1])&V.hash_mask;V.insert&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[ft+le-1])&V.hash_mask,V.prev[ft&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=ft,ft++,V.insert--,!(V.lookahead+V.insert<le)););}while(V.lookahead<ne&&V.strm.avail_in!==0)}function je(V,xe){var Ce=65535;for(Ce>V.pending_buf_size-5&&(Ce=V.pending_buf_size-5);;){if(V.lookahead<=1){if(Te(V),V.lookahead===0&&xe===a)return $;if(V.lookahead===0)break}V.strstart+=V.lookahead,V.lookahead=0;var me=V.block_start+Ce;if((V.strstart===0||V.strstart>=me)&&(V.lookahead=V.strstart-me,V.strstart=me,fe(V,!1),V.strm.avail_out===0)||V.strstart-V.block_start>=V.w_size-ne&&(fe(V,!1),V.strm.avail_out===0))return $}return V.insert=0,xe===l?(fe(V,!0),V.strm.avail_out===0?pe:R):(V.strstart>V.block_start&&(fe(V,!1),V.strm.avail_out===0),$)}function Ae(V,xe){for(var Ce,me;;){if(V.lookahead<ne){if(Te(V),V.lookahead<ne&&xe===a)return $;if(V.lookahead===0)break}if(Ce=0,V.lookahead>=le&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+le-1])&V.hash_mask,Ce=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),Ce!==0&&V.strstart-Ce<=V.w_size-ne&&(V.match_length=be(V,Ce)),V.match_length>=le)if(me=t._tr_tally(V,V.strstart-V.match_start,V.match_length-le),V.lookahead-=V.match_length,V.match_length<=V.max_lazy_match&&V.lookahead>=le){V.match_length--;do V.strstart++,V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+le-1])&V.hash_mask,Ce=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart;while(--V.match_length!==0);V.strstart++}else V.strstart+=V.match_length,V.match_length=0,V.ins_h=V.window[V.strstart],V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+1])&V.hash_mask;else me=t._tr_tally(V,0,V.window[V.strstart]),V.lookahead--,V.strstart++;if(me&&(fe(V,!1),V.strm.avail_out===0))return $}return V.insert=V.strstart<le-1?V.strstart:le-1,xe===l?(fe(V,!0),V.strm.avail_out===0?pe:R):V.last_lit&&(fe(V,!1),V.strm.avail_out===0)?$:te}function Oe(V,xe){for(var Ce,me,Me;;){if(V.lookahead<ne){if(Te(V),V.lookahead<ne&&xe===a)return $;if(V.lookahead===0)break}if(Ce=0,V.lookahead>=le&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+le-1])&V.hash_mask,Ce=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),V.prev_length=V.match_length,V.prev_match=V.match_start,V.match_length=le-1,Ce!==0&&V.prev_length<V.max_lazy_match&&V.strstart-Ce<=V.w_size-ne&&(V.match_length=be(V,Ce),V.match_length<=5&&(V.strategy===_||V.match_length===le&&V.strstart-V.match_start>4096)&&(V.match_length=le-1)),V.prev_length>=le&&V.match_length<=V.prev_length){Me=V.strstart+V.lookahead-le,me=t._tr_tally(V,V.strstart-1-V.prev_match,V.prev_length-le),V.lookahead-=V.prev_length-1,V.prev_length-=2;do++V.strstart<=Me&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+le-1])&V.hash_mask,Ce=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart);while(--V.prev_length!==0);if(V.match_available=0,V.match_length=le-1,V.strstart++,me&&(fe(V,!1),V.strm.avail_out===0))return $}else if(V.match_available){if(me=t._tr_tally(V,0,V.window[V.strstart-1]),me&&fe(V,!1),V.strstart++,V.lookahead--,V.strm.avail_out===0)return $}else V.match_available=1,V.strstart++,V.lookahead--}return V.match_available&&(me=t._tr_tally(V,0,V.window[V.strstart-1]),V.match_available=0),V.insert=V.strstart<le-1?V.strstart:le-1,xe===l?(fe(V,!0),V.strm.avail_out===0?pe:R):V.last_lit&&(fe(V,!1),V.strm.avail_out===0)?$:te}function ke(V,xe){for(var Ce,me,Me,He,ft=V.window;;){if(V.lookahead<=ae){if(Te(V),V.lookahead<=ae&&xe===a)return $;if(V.lookahead===0)break}if(V.match_length=0,V.lookahead>=le&&V.strstart>0&&(Me=V.strstart-1,me=ft[Me],me===ft[++Me]&&me===ft[++Me]&&me===ft[++Me])){He=V.strstart+ae;do;while(me===ft[++Me]&&me===ft[++Me]&&me===ft[++Me]&&me===ft[++Me]&&me===ft[++Me]&&me===ft[++Me]&&me===ft[++Me]&&me===ft[++Me]&&Me<He);V.match_length=ae-(He-Me),V.match_length>V.lookahead&&(V.match_length=V.lookahead)}if(V.match_length>=le?(Ce=t._tr_tally(V,1,V.match_length-le),V.lookahead-=V.match_length,V.strstart+=V.match_length,V.match_length=0):(Ce=t._tr_tally(V,0,V.window[V.strstart]),V.lookahead--,V.strstart++),Ce&&(fe(V,!1),V.strm.avail_out===0))return $}return V.insert=0,xe===l?(fe(V,!0),V.strm.avail_out===0?pe:R):V.last_lit&&(fe(V,!1),V.strm.avail_out===0)?$:te}function Ke(V,xe){for(var Ce;;){if(V.lookahead===0&&(Te(V),V.lookahead===0)){if(xe===a)return $;break}if(V.match_length=0,Ce=t._tr_tally(V,0,V.window[V.strstart]),V.lookahead--,V.strstart++,Ce&&(fe(V,!1),V.strm.avail_out===0))return $}return V.insert=0,xe===l?(fe(V,!0),V.strm.avail_out===0?pe:R):V.last_lit&&(fe(V,!1),V.strm.avail_out===0)?$:te}function Ue(V,xe,Ce,me,Me){this.good_length=V,this.max_lazy=xe,this.nice_length=Ce,this.max_chain=me,this.func=Me}var it;it=[new Ue(0,0,0,0,je),new Ue(4,4,8,4,Ae),new Ue(4,5,16,8,Ae),new Ue(4,6,32,32,Ae),new Ue(4,4,16,16,Oe),new Ue(8,16,32,32,Oe),new Ue(8,16,128,128,Oe),new Ue(8,32,128,256,Oe),new Ue(32,128,258,1024,Oe),new Ue(32,258,258,4096,Oe)];function ye(V){V.window_size=2*V.w_size,U(V.head),V.max_lazy_match=it[V.level].max_lazy,V.good_match=it[V.level].good_length,V.nice_match=it[V.level].nice_length,V.max_chain_length=it[V.level].max_chain,V.strstart=0,V.block_start=0,V.lookahead=0,V.insert=0,V.match_length=V.prev_length=le-1,V.match_available=0,V.ins_h=0}function F(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=I,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new e.Buf16(ie*2),this.dyn_dtree=new e.Buf16((2*B+1)*2),this.bl_tree=new e.Buf16((2*Y+1)*2),U(this.dyn_ltree),U(this.dyn_dtree),U(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new e.Buf16(X+1),this.heap=new e.Buf16(2*P+1),U(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new e.Buf16(2*P+1),U(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function K(V){var xe;return!V||!V.state?T(V,c):(V.total_in=V.total_out=0,V.data_type=x,xe=V.state,xe.pending=0,xe.pending_out=0,xe.wrap<0&&(xe.wrap=-xe.wrap),xe.status=xe.wrap?oe:O,V.adler=xe.wrap===2?0:1,xe.last_flush=a,t._tr_init(xe),f)}function _e(V){var xe=K(V);return xe===f&&ye(V.state),xe}function Pe(V,xe){return!V||!V.state||V.state.wrap!==2?c:(V.state.gzhead=xe,f)}function se(V,xe,Ce,me,Me,He){if(!V)return c;var ft=1;if(xe===v&&(xe=6),me<0?(ft=0,me=-me):me>15&&(ft=2,me-=16),Me<1||Me>N||Ce!==I||me<8||me>15||xe<0||xe>9||He<0||He>g)return T(V,c);me===8&&(me=9);var we=new F;return V.state=we,we.strm=V,we.wrap=ft,we.gzhead=null,we.w_bits=me,we.w_size=1<<we.w_bits,we.w_mask=we.w_size-1,we.hash_bits=Me+7,we.hash_size=1<<we.hash_bits,we.hash_mask=we.hash_size-1,we.hash_shift=~~((we.hash_bits+le-1)/le),we.window=new e.Buf8(we.w_size*2),we.head=new e.Buf16(we.hash_size),we.prev=new e.Buf16(we.w_size),we.lit_bufsize=1<<Me+6,we.pending_buf_size=we.lit_bufsize*4,we.pending_buf=new e.Buf8(we.pending_buf_size),we.d_buf=1*we.lit_bufsize,we.l_buf=3*we.lit_bufsize,we.level=xe,we.strategy=He,we.method=Ce,_e(V)}function ge(V,xe){return se(V,xe,I,q,D,S)}function de(V,xe){var Ce,me,Me,He;if(!V||!V.state||xe>u||xe<0)return V?T(V,c):c;if(me=V.state,!V.output||!V.input&&V.avail_in!==0||me.status===A&&xe!==l)return T(V,V.avail_out===0?b:c);if(me.strm=V,Ce=me.last_flush,me.last_flush=xe,me.status===oe)if(me.wrap===2)V.adler=0,ve(me,31),ve(me,139),ve(me,8),me.gzhead?(ve(me,(me.gzhead.text?1:0)+(me.gzhead.hcrc?2:0)+(me.gzhead.extra?4:0)+(me.gzhead.name?8:0)+(me.gzhead.comment?16:0)),ve(me,me.gzhead.time&255),ve(me,me.gzhead.time>>8&255),ve(me,me.gzhead.time>>16&255),ve(me,me.gzhead.time>>24&255),ve(me,me.level===9?2:me.strategy>=y||me.level<2?4:0),ve(me,me.gzhead.os&255),me.gzhead.extra&&me.gzhead.extra.length&&(ve(me,me.gzhead.extra.length&255),ve(me,me.gzhead.extra.length>>8&255)),me.gzhead.hcrc&&(V.adler=n(V.adler,me.pending_buf,me.pending,0)),me.gzindex=0,me.status=he):(ve(me,0),ve(me,0),ve(me,0),ve(me,0),ve(me,0),ve(me,me.level===9?2:me.strategy>=y||me.level<2?4:0),ve(me,w),me.status=O);else{var ft=I+(me.w_bits-8<<4)<<8,we=-1;me.strategy>=y||me.level<2?we=0:me.level<6?we=1:me.level===6?we=2:we=3,ft|=we<<6,me.strstart!==0&&(ft|=H),ft+=31-ft%31,me.status=O,ce(me,ft),me.strstart!==0&&(ce(me,V.adler>>>16),ce(me,V.adler&65535)),V.adler=1}if(me.status===he)if(me.gzhead.extra){for(Me=me.pending;me.gzindex<(me.gzhead.extra.length&65535)&&!(me.pending===me.pending_buf_size&&(me.gzhead.hcrc&&me.pending>Me&&(V.adler=n(V.adler,me.pending_buf,me.pending-Me,Me)),re(V),Me=me.pending,me.pending===me.pending_buf_size));)ve(me,me.gzhead.extra[me.gzindex]&255),me.gzindex++;me.gzhead.hcrc&&me.pending>Me&&(V.adler=n(V.adler,me.pending_buf,me.pending-Me,Me)),me.gzindex===me.gzhead.extra.length&&(me.gzindex=0,me.status=Z)}else me.status=Z;if(me.status===Z)if(me.gzhead.name){Me=me.pending;do{if(me.pending===me.pending_buf_size&&(me.gzhead.hcrc&&me.pending>Me&&(V.adler=n(V.adler,me.pending_buf,me.pending-Me,Me)),re(V),Me=me.pending,me.pending===me.pending_buf_size)){He=1;break}me.gzindex<me.gzhead.name.length?He=me.gzhead.name.charCodeAt(me.gzindex++)&255:He=0,ve(me,He)}while(He!==0);me.gzhead.hcrc&&me.pending>Me&&(V.adler=n(V.adler,me.pending_buf,me.pending-Me,Me)),He===0&&(me.gzindex=0,me.status=Q)}else me.status=Q;if(me.status===Q)if(me.gzhead.comment){Me=me.pending;do{if(me.pending===me.pending_buf_size&&(me.gzhead.hcrc&&me.pending>Me&&(V.adler=n(V.adler,me.pending_buf,me.pending-Me,Me)),re(V),Me=me.pending,me.pending===me.pending_buf_size)){He=1;break}me.gzindex<me.gzhead.comment.length?He=me.gzhead.comment.charCodeAt(me.gzindex++)&255:He=0,ve(me,He)}while(He!==0);me.gzhead.hcrc&&me.pending>Me&&(V.adler=n(V.adler,me.pending_buf,me.pending-Me,Me)),He===0&&(me.status=ee)}else me.status=ee;if(me.status===ee&&(me.gzhead.hcrc?(me.pending+2>me.pending_buf_size&&re(V),me.pending+2<=me.pending_buf_size&&(ve(me,V.adler&255),ve(me,V.adler>>8&255),V.adler=0,me.status=O)):me.status=O),me.pending!==0){if(re(V),V.avail_out===0)return me.last_flush=-1,f}else if(V.avail_in===0&&k(xe)<=k(Ce)&&xe!==l)return T(V,b);if(me.status===A&&V.avail_in!==0)return T(V,b);if(V.avail_in!==0||me.lookahead!==0||xe!==a&&me.status!==A){var W=me.strategy===y?Ke(me,xe):me.strategy===m?ke(me,xe):it[me.level].func(me,xe);if((W===pe||W===R)&&(me.status=A),W===$||W===pe)return V.avail_out===0&&(me.last_flush=-1),f;if(W===te&&(xe===o?t._tr_align(me):xe!==u&&(t._tr_stored_block(me,0,0,!1),xe===s&&(U(me.head),me.lookahead===0&&(me.strstart=0,me.block_start=0,me.insert=0))),re(V),V.avail_out===0))return me.last_flush=-1,f}return xe!==l?f:me.wrap<=0?d:(me.wrap===2?(ve(me,V.adler&255),ve(me,V.adler>>8&255),ve(me,V.adler>>16&255),ve(me,V.adler>>24&255),ve(me,V.total_in&255),ve(me,V.total_in>>8&255),ve(me,V.total_in>>16&255),ve(me,V.total_in>>24&255)):(ce(me,V.adler>>>16),ce(me,V.adler&65535)),re(V),me.wrap>0&&(me.wrap=-me.wrap),me.pending!==0?f:d)}function Re(V){var xe;return!V||!V.state?c:(xe=V.state.status,xe!==oe&&xe!==he&&xe!==Z&&xe!==Q&&xe!==ee&&xe!==O&&xe!==A?T(V,c):(V.state=null,xe===O?T(V,p):f))}function Be(V,xe){var Ce=xe.length,me,Me,He,ft,we,W,G,J;if(!V||!V.state||(me=V.state,ft=me.wrap,ft===2||ft===1&&me.status!==oe||me.lookahead))return c;for(ft===1&&(V.adler=r(V.adler,xe,Ce,0)),me.wrap=0,Ce>=me.w_size&&(ft===0&&(U(me.head),me.strstart=0,me.block_start=0,me.insert=0),J=new e.Buf8(me.w_size),e.arraySet(J,xe,Ce-me.w_size,me.w_size,0),xe=J,Ce=me.w_size),we=V.avail_in,W=V.next_in,G=V.input,V.avail_in=Ce,V.next_in=0,V.input=xe,Te(me);me.lookahead>=le;){Me=me.strstart,He=me.lookahead-(le-1);do me.ins_h=(me.ins_h<<me.hash_shift^me.window[Me+le-1])&me.hash_mask,me.prev[Me&me.w_mask]=me.head[me.ins_h],me.head[me.ins_h]=Me,Me++;while(--He);me.strstart=Me,me.lookahead=le-1,Te(me)}return me.strstart+=me.lookahead,me.block_start=me.strstart,me.insert=me.lookahead,me.lookahead=0,me.match_length=me.prev_length=le-1,me.match_available=0,V.next_in=W,V.input=G,V.avail_in=we,me.wrap=ft,f}return Di.deflateInit=ge,Di.deflateInit2=se,Di.deflateReset=_e,Di.deflateResetKeep=K,Di.deflateSetHeader=Pe,Di.deflate=de,Di.deflateEnd=Re,Di.deflateSetDictionary=Be,Di.deflateInfo="pako deflate (from Nodeca project)",Di}var di={},H1,DD;function WX(){if(DD)return H1;DD=1;var e=30,t=12;return H1=function(n,i){var a,o,s,l,u,f,d,c,p,b,v,_,y,m,g,S,x,I,N,q,D,M,j,P,B;a=n.state,o=n.next_in,P=n.input,s=o+(n.avail_in-5),l=n.next_out,B=n.output,u=l-(i-n.avail_out),f=l+(n.avail_out-257),d=a.dmax,c=a.wsize,p=a.whave,b=a.wnext,v=a.window,_=a.hold,y=a.bits,m=a.lencode,g=a.distcode,S=(1<<a.lenbits)-1,x=(1<<a.distbits)-1;e:do{y<15&&(_+=P[o++]<<y,y+=8,_+=P[o++]<<y,y+=8),I=m[_&S];t:for(;;){if(N=I>>>24,_>>>=N,y-=N,N=I>>>16&255,N===0)B[l++]=I&65535;else if(N&16){q=I&65535,N&=15,N&&(y<N&&(_+=P[o++]<<y,y+=8),q+=_&(1<<N)-1,_>>>=N,y-=N),y<15&&(_+=P[o++]<<y,y+=8,_+=P[o++]<<y,y+=8),I=g[_&x];r:for(;;){if(N=I>>>24,_>>>=N,y-=N,N=I>>>16&255,N&16){if(D=I&65535,N&=15,y<N&&(_+=P[o++]<<y,y+=8,y<N&&(_+=P[o++]<<y,y+=8)),D+=_&(1<<N)-1,D>d){n.msg="invalid distance too far back",a.mode=e;break e}if(_>>>=N,y-=N,N=l-u,D>N){if(N=D-N,N>p&&a.sane){n.msg="invalid distance too far back",a.mode=e;break e}if(M=0,j=v,b===0){if(M+=c-N,N<q){q-=N;do B[l++]=v[M++];while(--N);M=l-D,j=B}}else if(b<N){if(M+=c+b-N,N-=b,N<q){q-=N;do B[l++]=v[M++];while(--N);if(M=0,b<q){N=b,q-=N;do B[l++]=v[M++];while(--N);M=l-D,j=B}}}else if(M+=b-N,N<q){q-=N;do B[l++]=v[M++];while(--N);M=l-D,j=B}for(;q>2;)B[l++]=j[M++],B[l++]=j[M++],B[l++]=j[M++],q-=3;q&&(B[l++]=j[M++],q>1&&(B[l++]=j[M++]))}else{M=l-D;do B[l++]=B[M++],B[l++]=B[M++],B[l++]=B[M++],q-=3;while(q>2);q&&(B[l++]=B[M++],q>1&&(B[l++]=B[M++]))}}else if(N&64){n.msg="invalid distance code",a.mode=e;break e}else{I=g[(I&65535)+(_&(1<<N)-1)];continue r}break}}else if(N&64)if(N&32){a.mode=t;break e}else{n.msg="invalid literal/length code",a.mode=e;break e}else{I=m[(I&65535)+(_&(1<<N)-1)];continue t}break}}while(o<s&&l<f);q=y>>3,o-=q,y-=q<<3,_&=(1<<y)-1,n.next_in=o,n.next_out=l,n.avail_in=o<s?5+(s-o):5-(o-s),n.avail_out=l<f?257+(f-l):257-(l-f),a.hold=_,a.bits=y},H1}var z1,CD;function KX(){if(CD)return z1;CD=1;var e=ag(),t=15,r=852,n=592,i=0,a=1,o=2,s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];return z1=function(c,p,b,v,_,y,m,g){var S=g.bits,x=0,I=0,N=0,q=0,D=0,M=0,j=0,P=0,B=0,Y=0,ie,X,le,ae,ne,H=null,oe=0,he,Z=new e.Buf16(t+1),Q=new e.Buf16(t+1),ee=null,O=0,A,$,te;for(x=0;x<=t;x++)Z[x]=0;for(I=0;I<v;I++)Z[p[b+I]]++;for(D=S,q=t;q>=1&&Z[q]===0;q--);if(D>q&&(D=q),q===0)return _[y++]=1<<24|64<<16|0,_[y++]=1<<24|64<<16|0,g.bits=1,0;for(N=1;N<q&&Z[N]===0;N++);for(D<N&&(D=N),P=1,x=1;x<=t;x++)if(P<<=1,P-=Z[x],P<0)return-1;if(P>0&&(c===i||q!==1))return-1;for(Q[1]=0,x=1;x<t;x++)Q[x+1]=Q[x]+Z[x];for(I=0;I<v;I++)p[b+I]!==0&&(m[Q[p[b+I]]++]=I);if(c===i?(H=ee=m,he=19):c===a?(H=s,oe-=257,ee=l,O-=257,he=256):(H=u,ee=f,he=-1),Y=0,I=0,x=N,ne=y,M=D,j=0,le=-1,B=1<<D,ae=B-1,c===a&&B>r||c===o&&B>n)return 1;for(;;){A=x-j,m[I]<he?($=0,te=m[I]):m[I]>he?($=ee[O+m[I]],te=H[oe+m[I]]):($=96,te=0),ie=1<<x-j,X=1<<M,N=X;do X-=ie,_[ne+(Y>>j)+X]=A<<24|$<<16|te|0;while(X!==0);for(ie=1<<x-1;Y&ie;)ie>>=1;if(ie!==0?(Y&=ie-1,Y+=ie):Y=0,I++,--Z[x]===0){if(x===q)break;x=p[b+m[I]]}if(x>D&&(Y&ae)!==le){for(j===0&&(j=D),ne+=N,M=x-j,P=1<<M;M+j<q&&(P-=Z[M+j],!(P<=0));)M++,P<<=1;if(B+=1<<M,c===a&&B>r||c===o&&B>n)return 1;le=Y&ae,_[le]=D<<24|M<<16|ne-y|0}}return Y!==0&&(_[ne+Y]=x-j<<24|64<<16|0),g.bits=D,0},z1}var LD;function QX(){if(LD)return di;LD=1;var e=ag(),t=XB(),r=JB(),n=WX(),i=KX(),a=0,o=1,s=2,l=4,u=5,f=6,d=0,c=1,p=2,b=-2,v=-3,_=-4,y=-5,m=8,g=1,S=2,x=3,I=4,N=5,q=6,D=7,M=8,j=9,P=10,B=11,Y=12,ie=13,X=14,le=15,ae=16,ne=17,H=18,oe=19,he=20,Z=21,Q=22,ee=23,O=24,A=25,$=26,te=27,pe=28,R=29,w=30,T=31,k=32,U=852,re=592,fe=15,ve=fe;function ce(se){return(se>>>24&255)+(se>>>8&65280)+((se&65280)<<8)+((se&255)<<24)}function Ie(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new e.Buf16(320),this.work=new e.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function be(se){var ge;return!se||!se.state?b:(ge=se.state,se.total_in=se.total_out=ge.total=0,se.msg="",ge.wrap&&(se.adler=ge.wrap&1),ge.mode=g,ge.last=0,ge.havedict=0,ge.dmax=32768,ge.head=null,ge.hold=0,ge.bits=0,ge.lencode=ge.lendyn=new e.Buf32(U),ge.distcode=ge.distdyn=new e.Buf32(re),ge.sane=1,ge.back=-1,d)}function Te(se){var ge;return!se||!se.state?b:(ge=se.state,ge.wsize=0,ge.whave=0,ge.wnext=0,be(se))}function je(se,ge){var de,Re;return!se||!se.state||(Re=se.state,ge<0?(de=0,ge=-ge):(de=(ge>>4)+1,ge<48&&(ge&=15)),ge&&(ge<8||ge>15))?b:(Re.window!==null&&Re.wbits!==ge&&(Re.window=null),Re.wrap=de,Re.wbits=ge,Te(se))}function Ae(se,ge){var de,Re;return se?(Re=new Ie,se.state=Re,Re.window=null,de=je(se,ge),de!==d&&(se.state=null),de):b}function Oe(se){return Ae(se,ve)}var ke=!0,Ke,Ue;function it(se){if(ke){var ge;for(Ke=new e.Buf32(512),Ue=new e.Buf32(32),ge=0;ge<144;)se.lens[ge++]=8;for(;ge<256;)se.lens[ge++]=9;for(;ge<280;)se.lens[ge++]=7;for(;ge<288;)se.lens[ge++]=8;for(i(o,se.lens,0,288,Ke,0,se.work,{bits:9}),ge=0;ge<32;)se.lens[ge++]=5;i(s,se.lens,0,32,Ue,0,se.work,{bits:5}),ke=!1}se.lencode=Ke,se.lenbits=9,se.distcode=Ue,se.distbits=5}function ye(se,ge,de,Re){var Be,V=se.state;return V.window===null&&(V.wsize=1<<V.wbits,V.wnext=0,V.whave=0,V.window=new e.Buf8(V.wsize)),Re>=V.wsize?(e.arraySet(V.window,ge,de-V.wsize,V.wsize,0),V.wnext=0,V.whave=V.wsize):(Be=V.wsize-V.wnext,Be>Re&&(Be=Re),e.arraySet(V.window,ge,de-Re,Be,V.wnext),Re-=Be,Re?(e.arraySet(V.window,ge,de-Re,Re,0),V.wnext=Re,V.whave=V.wsize):(V.wnext+=Be,V.wnext===V.wsize&&(V.wnext=0),V.whave<V.wsize&&(V.whave+=Be))),0}function F(se,ge){var de,Re,Be,V,xe,Ce,me,Me,He,ft,we,W,G,J,Se=0,Le,De,Ve,$e,ut,lt,dt,ct,nt=new e.Buf8(4),lr,at,Ne=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!se||!se.state||!se.output||!se.input&&se.avail_in!==0)return b;de=se.state,de.mode===Y&&(de.mode=ie),xe=se.next_out,Be=se.output,me=se.avail_out,V=se.next_in,Re=se.input,Ce=se.avail_in,Me=de.hold,He=de.bits,ft=Ce,we=me,ct=d;e:for(;;)switch(de.mode){case g:if(de.wrap===0){de.mode=ie;break}for(;He<16;){if(Ce===0)break e;Ce--,Me+=Re[V++]<<He,He+=8}if(de.wrap&2&&Me===35615){de.check=0,nt[0]=Me&255,nt[1]=Me>>>8&255,de.check=r(de.check,nt,2,0),Me=0,He=0,de.mode=S;break}if(de.flags=0,de.head&&(de.head.done=!1),!(de.wrap&1)||(((Me&255)<<8)+(Me>>8))%31){se.msg="incorrect header check",de.mode=w;break}if((Me&15)!==m){se.msg="unknown compression method",de.mode=w;break}if(Me>>>=4,He-=4,dt=(Me&15)+8,de.wbits===0)de.wbits=dt;else if(dt>de.wbits){se.msg="invalid window size",de.mode=w;break}de.dmax=1<<dt,se.adler=de.check=1,de.mode=Me&512?P:Y,Me=0,He=0;break;case S:for(;He<16;){if(Ce===0)break e;Ce--,Me+=Re[V++]<<He,He+=8}if(de.flags=Me,(de.flags&255)!==m){se.msg="unknown compression method",de.mode=w;break}if(de.flags&57344){se.msg="unknown header flags set",de.mode=w;break}de.head&&(de.head.text=Me>>8&1),de.flags&512&&(nt[0]=Me&255,nt[1]=Me>>>8&255,de.check=r(de.check,nt,2,0)),Me=0,He=0,de.mode=x;case x:for(;He<32;){if(Ce===0)break e;Ce--,Me+=Re[V++]<<He,He+=8}de.head&&(de.head.time=Me),de.flags&512&&(nt[0]=Me&255,nt[1]=Me>>>8&255,nt[2]=Me>>>16&255,nt[3]=Me>>>24&255,de.check=r(de.check,nt,4,0)),Me=0,He=0,de.mode=I;case I:for(;He<16;){if(Ce===0)break e;Ce--,Me+=Re[V++]<<He,He+=8}de.head&&(de.head.xflags=Me&255,de.head.os=Me>>8),de.flags&512&&(nt[0]=Me&255,nt[1]=Me>>>8&255,de.check=r(de.check,nt,2,0)),Me=0,He=0,de.mode=N;case N:if(de.flags&1024){for(;He<16;){if(Ce===0)break e;Ce--,Me+=Re[V++]<<He,He+=8}de.length=Me,de.head&&(de.head.extra_len=Me),de.flags&512&&(nt[0]=Me&255,nt[1]=Me>>>8&255,de.check=r(de.check,nt,2,0)),Me=0,He=0}else de.head&&(de.head.extra=null);de.mode=q;case q:if(de.flags&1024&&(W=de.length,W>Ce&&(W=Ce),W&&(de.head&&(dt=de.head.extra_len-de.length,de.head.extra||(de.head.extra=new Array(de.head.extra_len)),e.arraySet(de.head.extra,Re,V,W,dt)),de.flags&512&&(de.check=r(de.check,Re,W,V)),Ce-=W,V+=W,de.length-=W),de.length))break e;de.length=0,de.mode=D;case D:if(de.flags&2048){if(Ce===0)break e;W=0;do dt=Re[V+W++],de.head&&dt&&de.length<65536&&(de.head.name+=String.fromCharCode(dt));while(dt&&W<Ce);if(de.flags&512&&(de.check=r(de.check,Re,W,V)),Ce-=W,V+=W,dt)break e}else de.head&&(de.head.name=null);de.length=0,de.mode=M;case M:if(de.flags&4096){if(Ce===0)break e;W=0;do dt=Re[V+W++],de.head&&dt&&de.length<65536&&(de.head.comment+=String.fromCharCode(dt));while(dt&&W<Ce);if(de.flags&512&&(de.check=r(de.check,Re,W,V)),Ce-=W,V+=W,dt)break e}else de.head&&(de.head.comment=null);de.mode=j;case j:if(de.flags&512){for(;He<16;){if(Ce===0)break e;Ce--,Me+=Re[V++]<<He,He+=8}if(Me!==(de.check&65535)){se.msg="header crc mismatch",de.mode=w;break}Me=0,He=0}de.head&&(de.head.hcrc=de.flags>>9&1,de.head.done=!0),se.adler=de.check=0,de.mode=Y;break;case P:for(;He<32;){if(Ce===0)break e;Ce--,Me+=Re[V++]<<He,He+=8}se.adler=de.check=ce(Me),Me=0,He=0,de.mode=B;case B:if(de.havedict===0)return se.next_out=xe,se.avail_out=me,se.next_in=V,se.avail_in=Ce,de.hold=Me,de.bits=He,p;se.adler=de.check=1,de.mode=Y;case Y:if(ge===u||ge===f)break e;case ie:if(de.last){Me>>>=He&7,He-=He&7,de.mode=te;break}for(;He<3;){if(Ce===0)break e;Ce--,Me+=Re[V++]<<He,He+=8}switch(de.last=Me&1,Me>>>=1,He-=1,Me&3){case 0:de.mode=X;break;case 1:if(it(de),de.mode=he,ge===f){Me>>>=2,He-=2;break e}break;case 2:de.mode=ne;break;case 3:se.msg="invalid block type",de.mode=w}Me>>>=2,He-=2;break;case X:for(Me>>>=He&7,He-=He&7;He<32;){if(Ce===0)break e;Ce--,Me+=Re[V++]<<He,He+=8}if((Me&65535)!==(Me>>>16^65535)){se.msg="invalid stored block lengths",de.mode=w;break}if(de.length=Me&65535,Me=0,He=0,de.mode=le,ge===f)break e;case le:de.mode=ae;case ae:if(W=de.length,W){if(W>Ce&&(W=Ce),W>me&&(W=me),W===0)break e;e.arraySet(Be,Re,V,W,xe),Ce-=W,V+=W,me-=W,xe+=W,de.length-=W;break}de.mode=Y;break;case ne:for(;He<14;){if(Ce===0)break e;Ce--,Me+=Re[V++]<<He,He+=8}if(de.nlen=(Me&31)+257,Me>>>=5,He-=5,de.ndist=(Me&31)+1,Me>>>=5,He-=5,de.ncode=(Me&15)+4,Me>>>=4,He-=4,de.nlen>286||de.ndist>30){se.msg="too many length or distance symbols",de.mode=w;break}de.have=0,de.mode=H;case H:for(;de.have<de.ncode;){for(;He<3;){if(Ce===0)break e;Ce--,Me+=Re[V++]<<He,He+=8}de.lens[Ne[de.have++]]=Me&7,Me>>>=3,He-=3}for(;de.have<19;)de.lens[Ne[de.have++]]=0;if(de.lencode=de.lendyn,de.lenbits=7,lr={bits:de.lenbits},ct=i(a,de.lens,0,19,de.lencode,0,de.work,lr),de.lenbits=lr.bits,ct){se.msg="invalid code lengths set",de.mode=w;break}de.have=0,de.mode=oe;case oe:for(;de.have<de.nlen+de.ndist;){for(;Se=de.lencode[Me&(1<<de.lenbits)-1],Le=Se>>>24,De=Se>>>16&255,Ve=Se&65535,!(Le<=He);){if(Ce===0)break e;Ce--,Me+=Re[V++]<<He,He+=8}if(Ve<16)Me>>>=Le,He-=Le,de.lens[de.have++]=Ve;else{if(Ve===16){for(at=Le+2;He<at;){if(Ce===0)break e;Ce--,Me+=Re[V++]<<He,He+=8}if(Me>>>=Le,He-=Le,de.have===0){se.msg="invalid bit length repeat",de.mode=w;break}dt=de.lens[de.have-1],W=3+(Me&3),Me>>>=2,He-=2}else if(Ve===17){for(at=Le+3;He<at;){if(Ce===0)break e;Ce--,Me+=Re[V++]<<He,He+=8}Me>>>=Le,He-=Le,dt=0,W=3+(Me&7),Me>>>=3,He-=3}else{for(at=Le+7;He<at;){if(Ce===0)break e;Ce--,Me+=Re[V++]<<He,He+=8}Me>>>=Le,He-=Le,dt=0,W=11+(Me&127),Me>>>=7,He-=7}if(de.have+W>de.nlen+de.ndist){se.msg="invalid bit length repeat",de.mode=w;break}for(;W--;)de.lens[de.have++]=dt}}if(de.mode===w)break;if(de.lens[256]===0){se.msg="invalid code -- missing end-of-block",de.mode=w;break}if(de.lenbits=9,lr={bits:de.lenbits},ct=i(o,de.lens,0,de.nlen,de.lencode,0,de.work,lr),de.lenbits=lr.bits,ct){se.msg="invalid literal/lengths set",de.mode=w;break}if(de.distbits=6,de.distcode=de.distdyn,lr={bits:de.distbits},ct=i(s,de.lens,de.nlen,de.ndist,de.distcode,0,de.work,lr),de.distbits=lr.bits,ct){se.msg="invalid distances set",de.mode=w;break}if(de.mode=he,ge===f)break e;case he:de.mode=Z;case Z:if(Ce>=6&&me>=258){se.next_out=xe,se.avail_out=me,se.next_in=V,se.avail_in=Ce,de.hold=Me,de.bits=He,n(se,we),xe=se.next_out,Be=se.output,me=se.avail_out,V=se.next_in,Re=se.input,Ce=se.avail_in,Me=de.hold,He=de.bits,de.mode===Y&&(de.back=-1);break}for(de.back=0;Se=de.lencode[Me&(1<<de.lenbits)-1],Le=Se>>>24,De=Se>>>16&255,Ve=Se&65535,!(Le<=He);){if(Ce===0)break e;Ce--,Me+=Re[V++]<<He,He+=8}if(De&&!(De&240)){for($e=Le,ut=De,lt=Ve;Se=de.lencode[lt+((Me&(1<<$e+ut)-1)>>$e)],Le=Se>>>24,De=Se>>>16&255,Ve=Se&65535,!($e+Le<=He);){if(Ce===0)break e;Ce--,Me+=Re[V++]<<He,He+=8}Me>>>=$e,He-=$e,de.back+=$e}if(Me>>>=Le,He-=Le,de.back+=Le,de.length=Ve,De===0){de.mode=$;break}if(De&32){de.back=-1,de.mode=Y;break}if(De&64){se.msg="invalid literal/length code",de.mode=w;break}de.extra=De&15,de.mode=Q;case Q:if(de.extra){for(at=de.extra;He<at;){if(Ce===0)break e;Ce--,Me+=Re[V++]<<He,He+=8}de.length+=Me&(1<<de.extra)-1,Me>>>=de.extra,He-=de.extra,de.back+=de.extra}de.was=de.length,de.mode=ee;case ee:for(;Se=de.distcode[Me&(1<<de.distbits)-1],Le=Se>>>24,De=Se>>>16&255,Ve=Se&65535,!(Le<=He);){if(Ce===0)break e;Ce--,Me+=Re[V++]<<He,He+=8}if(!(De&240)){for($e=Le,ut=De,lt=Ve;Se=de.distcode[lt+((Me&(1<<$e+ut)-1)>>$e)],Le=Se>>>24,De=Se>>>16&255,Ve=Se&65535,!($e+Le<=He);){if(Ce===0)break e;Ce--,Me+=Re[V++]<<He,He+=8}Me>>>=$e,He-=$e,de.back+=$e}if(Me>>>=Le,He-=Le,de.back+=Le,De&64){se.msg="invalid distance code",de.mode=w;break}de.offset=Ve,de.extra=De&15,de.mode=O;case O:if(de.extra){for(at=de.extra;He<at;){if(Ce===0)break e;Ce--,Me+=Re[V++]<<He,He+=8}de.offset+=Me&(1<<de.extra)-1,Me>>>=de.extra,He-=de.extra,de.back+=de.extra}if(de.offset>de.dmax){se.msg="invalid distance too far back",de.mode=w;break}de.mode=A;case A:if(me===0)break e;if(W=we-me,de.offset>W){if(W=de.offset-W,W>de.whave&&de.sane){se.msg="invalid distance too far back",de.mode=w;break}W>de.wnext?(W-=de.wnext,G=de.wsize-W):G=de.wnext-W,W>de.length&&(W=de.length),J=de.window}else J=Be,G=xe-de.offset,W=de.length;W>me&&(W=me),me-=W,de.length-=W;do Be[xe++]=J[G++];while(--W);de.length===0&&(de.mode=Z);break;case $:if(me===0)break e;Be[xe++]=de.length,me--,de.mode=Z;break;case te:if(de.wrap){for(;He<32;){if(Ce===0)break e;Ce--,Me|=Re[V++]<<He,He+=8}if(we-=me,se.total_out+=we,de.total+=we,we&&(se.adler=de.check=de.flags?r(de.check,Be,we,xe-we):t(de.check,Be,we,xe-we)),we=me,(de.flags?Me:ce(Me))!==de.check){se.msg="incorrect data check",de.mode=w;break}Me=0,He=0}de.mode=pe;case pe:if(de.wrap&&de.flags){for(;He<32;){if(Ce===0)break e;Ce--,Me+=Re[V++]<<He,He+=8}if(Me!==(de.total&4294967295)){se.msg="incorrect length check",de.mode=w;break}Me=0,He=0}de.mode=R;case R:ct=c;break e;case w:ct=v;break e;case T:return _;case k:default:return b}return se.next_out=xe,se.avail_out=me,se.next_in=V,se.avail_in=Ce,de.hold=Me,de.bits=He,(de.wsize||we!==se.avail_out&&de.mode<w&&(de.mode<te||ge!==l))&&ye(se,se.output,se.next_out,we-se.avail_out),ft-=se.avail_in,we-=se.avail_out,se.total_in+=ft,se.total_out+=we,de.total+=we,de.wrap&&we&&(se.adler=de.check=de.flags?r(de.check,Be,we,se.next_out-we):t(de.check,Be,we,se.next_out-we)),se.data_type=de.bits+(de.last?64:0)+(de.mode===Y?128:0)+(de.mode===he||de.mode===le?256:0),(ft===0&&we===0||ge===l)&&ct===d&&(ct=y),ct}function K(se){if(!se||!se.state)return b;var ge=se.state;return ge.window&&(ge.window=null),se.state=null,d}function _e(se,ge){var de;return!se||!se.state||(de=se.state,!(de.wrap&2))?b:(de.head=ge,ge.done=!1,d)}function Pe(se,ge){var de=ge.length,Re,Be,V;return!se||!se.state||(Re=se.state,Re.wrap!==0&&Re.mode!==B)?b:Re.mode===B&&(Be=1,Be=t(Be,ge,de,0),Be!==Re.check)?v:(V=ye(se,ge,de,de),V?(Re.mode=T,_):(Re.havedict=1,d))}return di.inflateReset=Te,di.inflateReset2=je,di.inflateResetKeep=be,di.inflateInit=Oe,di.inflateInit2=Ae,di.inflate=F,di.inflateEnd=K,di.inflateGetHeader=_e,di.inflateSetDictionary=Pe,di.inflateInfo="pako inflate (from Nodeca project)",di}var G1,MD;function ZX(){return MD||(MD=1,G1={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}),G1}var kD;function YX(){return kD||(kD=1,function(e){var t=Ey(),r=VX(),n=GX(),i=QX(),a=ZX();for(var o in a)e[o]=a[o];e.NONE=0,e.DEFLATE=1,e.INFLATE=2,e.GZIP=3,e.GUNZIP=4,e.DEFLATERAW=5,e.INFLATERAW=6,e.UNZIP=7;var s=31,l=139;function u(f){if(typeof f!="number"||f<e.DEFLATE||f>e.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=f,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}u.prototype.close=function(){if(this.write_in_progress){this.pending_close=!0;return}this.pending_close=!1,t(this.init_done,"close before init"),t(this.mode<=e.UNZIP),this.mode===e.DEFLATE||this.mode===e.GZIP||this.mode===e.DEFLATERAW?n.deflateEnd(this.strm):(this.mode===e.INFLATE||this.mode===e.GUNZIP||this.mode===e.INFLATERAW||this.mode===e.UNZIP)&&i.inflateEnd(this.strm),this.mode=e.NONE,this.dictionary=null},u.prototype.write=function(f,d,c,p,b,v,_){return this._write(!0,f,d,c,p,b,v,_)},u.prototype.writeSync=function(f,d,c,p,b,v,_){return this._write(!1,f,d,c,p,b,v,_)},u.prototype._write=function(f,d,c,p,b,v,_,y){if(t.equal(arguments.length,8),t(this.init_done,"write before init"),t(this.mode!==e.NONE,"already finalized"),t.equal(!1,this.write_in_progress,"write already in progress"),t.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,t.equal(!1,d===void 0,"must provide flush value"),this.write_in_progress=!0,d!==e.Z_NO_FLUSH&&d!==e.Z_PARTIAL_FLUSH&&d!==e.Z_SYNC_FLUSH&&d!==e.Z_FULL_FLUSH&&d!==e.Z_FINISH&&d!==e.Z_BLOCK)throw new Error("Invalid flush value");if(c==null&&(c=Qn.alloc(0),b=0,p=0),this.strm.avail_in=b,this.strm.input=c,this.strm.next_in=p,this.strm.avail_out=y,this.strm.output=v,this.strm.next_out=_,this.flush=d,!f)return this._process(),this._checkError()?this._afterSync():void 0;var m=this;return ze.nextTick(function(){m._process(),m._after()}),this},u.prototype._afterSync=function(){var f=this.strm.avail_out,d=this.strm.avail_in;return this.write_in_progress=!1,[d,f]},u.prototype._process=function(){var f=null;switch(this.mode){case e.DEFLATE:case e.GZIP:case e.DEFLATERAW:this.err=n.deflate(this.strm,this.flush);break;case e.UNZIP:switch(this.strm.avail_in>0&&(f=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(f===null)break;if(this.strm.input[f]===s){if(this.gzip_id_bytes_read=1,f++,this.strm.avail_in===1)break}else{this.mode=e.INFLATE;break}case 1:if(f===null)break;this.strm.input[f]===l?(this.gzip_id_bytes_read=2,this.mode=e.GUNZIP):this.mode=e.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case e.INFLATE:case e.GUNZIP:case e.INFLATERAW:for(this.err=i.inflate(this.strm,this.flush),this.err===e.Z_NEED_DICT&&this.dictionary&&(this.err=i.inflateSetDictionary(this.strm,this.dictionary),this.err===e.Z_OK?this.err=i.inflate(this.strm,this.flush):this.err===e.Z_DATA_ERROR&&(this.err=e.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===e.GUNZIP&&this.err===e.Z_STREAM_END&&this.strm.next_in[0]!==0;)this.reset(),this.err=i.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},u.prototype._checkError=function(){switch(this.err){case e.Z_OK:case e.Z_BUF_ERROR:if(this.strm.avail_out!==0&&this.flush===e.Z_FINISH)return this._error("unexpected end of file"),!1;break;case e.Z_STREAM_END:break;case e.Z_NEED_DICT:return this.dictionary==null?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},u.prototype._after=function(){if(this._checkError()){var f=this.strm.avail_out,d=this.strm.avail_in;this.write_in_progress=!1,this.callback(d,f),this.pending_close&&this.close()}},u.prototype._error=function(f){this.strm.msg&&(f=this.strm.msg),this.onerror(f,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},u.prototype.init=function(f,d,c,p,b){t(arguments.length===4||arguments.length===5,"init(windowBits, level, memLevel, strategy, [dictionary])"),t(f>=8&&f<=15,"invalid windowBits"),t(d>=-1&&d<=9,"invalid compression level"),t(c>=1&&c<=9,"invalid memlevel"),t(p===e.Z_FILTERED||p===e.Z_HUFFMAN_ONLY||p===e.Z_RLE||p===e.Z_FIXED||p===e.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(d,f,c,p,b),this._setDictionary()},u.prototype.params=function(){throw new Error("deflateParams Not supported")},u.prototype.reset=function(){this._reset(),this._setDictionary()},u.prototype._init=function(f,d,c,p,b){switch(this.level=f,this.windowBits=d,this.memLevel=c,this.strategy=p,this.flush=e.Z_NO_FLUSH,this.err=e.Z_OK,(this.mode===e.GZIP||this.mode===e.GUNZIP)&&(this.windowBits+=16),this.mode===e.UNZIP&&(this.windowBits+=32),(this.mode===e.DEFLATERAW||this.mode===e.INFLATERAW)&&(this.windowBits=-1*this.windowBits),this.strm=new r,this.mode){case e.DEFLATE:case e.GZIP:case e.DEFLATERAW:this.err=n.deflateInit2(this.strm,this.level,e.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case e.INFLATE:case e.GUNZIP:case e.INFLATERAW:case e.UNZIP:this.err=i.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==e.Z_OK&&this._error("Init error"),this.dictionary=b,this.write_in_progress=!1,this.init_done=!0},u.prototype._setDictionary=function(){if(this.dictionary!=null){switch(this.err=e.Z_OK,this.mode){case e.DEFLATE:case e.DEFLATERAW:this.err=n.deflateSetDictionary(this.strm,this.dictionary);break}this.err!==e.Z_OK&&this._error("Failed to set dictionary")}},u.prototype._reset=function(){switch(this.err=e.Z_OK,this.mode){case e.DEFLATE:case e.DEFLATERAW:case e.GZIP:this.err=n.deflateReset(this.strm);break;case e.INFLATE:case e.INFLATERAW:case e.GUNZIP:this.err=i.inflateReset(this.strm);break}this.err!==e.Z_OK&&this._error("Failed to reset stream")},e.Zlib=u}(b1)),b1}var FD;function XX(){return FD||(FD=1,function(e){var t=Er().Buffer,r=DX().Transform,n=YX(),i=Pr(),a=Ey().ok,o=Er().kMaxLength,s="Cannot create final Buffer. It would be larger than 0x"+o.toString(16)+" bytes";n.Z_MIN_WINDOWBITS=8,n.Z_MAX_WINDOWBITS=15,n.Z_DEFAULT_WINDOWBITS=15,n.Z_MIN_CHUNK=64,n.Z_MAX_CHUNK=1/0,n.Z_DEFAULT_CHUNK=16*1024,n.Z_MIN_MEMLEVEL=1,n.Z_MAX_MEMLEVEL=9,n.Z_DEFAULT_MEMLEVEL=8,n.Z_MIN_LEVEL=-1,n.Z_MAX_LEVEL=9,n.Z_DEFAULT_LEVEL=n.Z_DEFAULT_COMPRESSION;for(var l=Object.keys(n),u=0;u<l.length;u++){var f=l[u];f.match(/^Z/)&&Object.defineProperty(e,f,{enumerable:!0,value:n[f],writable:!1})}for(var d={Z_OK:n.Z_OK,Z_STREAM_END:n.Z_STREAM_END,Z_NEED_DICT:n.Z_NEED_DICT,Z_ERRNO:n.Z_ERRNO,Z_STREAM_ERROR:n.Z_STREAM_ERROR,Z_DATA_ERROR:n.Z_DATA_ERROR,Z_MEM_ERROR:n.Z_MEM_ERROR,Z_BUF_ERROR:n.Z_BUF_ERROR,Z_VERSION_ERROR:n.Z_VERSION_ERROR},c=Object.keys(d),p=0;p<c.length;p++){var b=c[p];d[d[b]]=b}Object.defineProperty(e,"codes",{enumerable:!0,value:Object.freeze(d),writable:!1}),e.Deflate=y,e.Inflate=m,e.Gzip=g,e.Gunzip=S,e.DeflateRaw=x,e.InflateRaw=I,e.Unzip=N,e.createDeflate=function(P){return new y(P)},e.createInflate=function(P){return new m(P)},e.createDeflateRaw=function(P){return new x(P)},e.createInflateRaw=function(P){return new I(P)},e.createGzip=function(P){return new g(P)},e.createGunzip=function(P){return new S(P)},e.createUnzip=function(P){return new N(P)},e.deflate=function(P,B,Y){return typeof B=="function"&&(Y=B,B={}),v(new y(B),P,Y)},e.deflateSync=function(P,B){return _(new y(B),P)},e.gzip=function(P,B,Y){return typeof B=="function"&&(Y=B,B={}),v(new g(B),P,Y)},e.gzipSync=function(P,B){return _(new g(B),P)},e.deflateRaw=function(P,B,Y){return typeof B=="function"&&(Y=B,B={}),v(new x(B),P,Y)},e.deflateRawSync=function(P,B){return _(new x(B),P)},e.unzip=function(P,B,Y){return typeof B=="function"&&(Y=B,B={}),v(new N(B),P,Y)},e.unzipSync=function(P,B){return _(new N(B),P)},e.inflate=function(P,B,Y){return typeof B=="function"&&(Y=B,B={}),v(new m(B),P,Y)},e.inflateSync=function(P,B){return _(new m(B),P)},e.gunzip=function(P,B,Y){return typeof B=="function"&&(Y=B,B={}),v(new S(B),P,Y)},e.gunzipSync=function(P,B){return _(new S(B),P)},e.inflateRaw=function(P,B,Y){return typeof B=="function"&&(Y=B,B={}),v(new I(B),P,Y)},e.inflateRawSync=function(P,B){return _(new I(B),P)};function v(P,B,Y){var ie=[],X=0;P.on("error",ae),P.on("end",ne),P.end(B),le();function le(){for(var H;(H=P.read())!==null;)ie.push(H),X+=H.length;P.once("readable",le)}function ae(H){P.removeListener("end",ne),P.removeListener("readable",le),Y(H)}function ne(){var H,oe=null;X>=o?oe=new RangeError(s):H=t.concat(ie,X),ie=[],P.close(),Y(oe,H)}}function _(P,B){if(typeof B=="string"&&(B=t.from(B)),!t.isBuffer(B))throw new TypeError("Not a string or buffer");var Y=P._finishFlushFlag;return P._processChunk(B,Y)}function y(P){if(!(this instanceof y))return new y(P);D.call(this,P,n.DEFLATE)}function m(P){if(!(this instanceof m))return new m(P);D.call(this,P,n.INFLATE)}function g(P){if(!(this instanceof g))return new g(P);D.call(this,P,n.GZIP)}function S(P){if(!(this instanceof S))return new S(P);D.call(this,P,n.GUNZIP)}function x(P){if(!(this instanceof x))return new x(P);D.call(this,P,n.DEFLATERAW)}function I(P){if(!(this instanceof I))return new I(P);D.call(this,P,n.INFLATERAW)}function N(P){if(!(this instanceof N))return new N(P);D.call(this,P,n.UNZIP)}function q(P){return P===n.Z_NO_FLUSH||P===n.Z_PARTIAL_FLUSH||P===n.Z_SYNC_FLUSH||P===n.Z_FULL_FLUSH||P===n.Z_FINISH||P===n.Z_BLOCK}function D(P,B){var Y=this;if(this._opts=P=P||{},this._chunkSize=P.chunkSize||e.Z_DEFAULT_CHUNK,r.call(this,P),P.flush&&!q(P.flush))throw new Error("Invalid flush flag: "+P.flush);if(P.finishFlush&&!q(P.finishFlush))throw new Error("Invalid flush flag: "+P.finishFlush);if(this._flushFlag=P.flush||n.Z_NO_FLUSH,this._finishFlushFlag=typeof P.finishFlush<"u"?P.finishFlush:n.Z_FINISH,P.chunkSize&&(P.chunkSize<e.Z_MIN_CHUNK||P.chunkSize>e.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+P.chunkSize);if(P.windowBits&&(P.windowBits<e.Z_MIN_WINDOWBITS||P.windowBits>e.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+P.windowBits);if(P.level&&(P.level<e.Z_MIN_LEVEL||P.level>e.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+P.level);if(P.memLevel&&(P.memLevel<e.Z_MIN_MEMLEVEL||P.memLevel>e.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+P.memLevel);if(P.strategy&&P.strategy!=e.Z_FILTERED&&P.strategy!=e.Z_HUFFMAN_ONLY&&P.strategy!=e.Z_RLE&&P.strategy!=e.Z_FIXED&&P.strategy!=e.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+P.strategy);if(P.dictionary&&!t.isBuffer(P.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new n.Zlib(B);var ie=this;this._hadError=!1,this._handle.onerror=function(ae,ne){M(ie),ie._hadError=!0;var H=new Error(ae);H.errno=ne,H.code=e.codes[ne],ie.emit("error",H)};var X=e.Z_DEFAULT_COMPRESSION;typeof P.level=="number"&&(X=P.level);var le=e.Z_DEFAULT_STRATEGY;typeof P.strategy=="number"&&(le=P.strategy),this._handle.init(P.windowBits||e.Z_DEFAULT_WINDOWBITS,X,P.memLevel||e.Z_DEFAULT_MEMLEVEL,le,P.dictionary),this._buffer=t.allocUnsafe(this._chunkSize),this._offset=0,this._level=X,this._strategy=le,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!Y._handle},configurable:!0,enumerable:!0})}i.inherits(D,r),D.prototype.params=function(P,B,Y){if(P<e.Z_MIN_LEVEL||P>e.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+P);if(B!=e.Z_FILTERED&&B!=e.Z_HUFFMAN_ONLY&&B!=e.Z_RLE&&B!=e.Z_FIXED&&B!=e.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+B);if(this._level!==P||this._strategy!==B){var ie=this;this.flush(n.Z_SYNC_FLUSH,function(){a(ie._handle,"zlib binding closed"),ie._handle.params(P,B),ie._hadError||(ie._level=P,ie._strategy=B,Y&&Y())})}else ze.nextTick(Y)},D.prototype.reset=function(){return a(this._handle,"zlib binding closed"),this._handle.reset()},D.prototype._flush=function(P){this._transform(t.alloc(0),"",P)},D.prototype.flush=function(P,B){var Y=this,ie=this._writableState;(typeof P=="function"||P===void 0&&!B)&&(B=P,P=n.Z_FULL_FLUSH),ie.ended?B&&ze.nextTick(B):ie.ending?B&&this.once("end",B):ie.needDrain?B&&this.once("drain",function(){return Y.flush(P,B)}):(this._flushFlag=P,this.write(t.alloc(0),"",B))},D.prototype.close=function(P){M(this,P),ze.nextTick(j,this)};function M(P,B){B&&ze.nextTick(B),P._handle&&(P._handle.close(),P._handle=null)}function j(P){P.emit("close")}D.prototype._transform=function(P,B,Y){var ie,X=this._writableState,le=X.ending||X.ended,ae=le&&(!P||X.length===P.length);if(P!==null&&!t.isBuffer(P))return Y(new Error("invalid input"));if(!this._handle)return Y(new Error("zlib binding closed"));ae?ie=this._finishFlushFlag:(ie=this._flushFlag,P.length>=X.length&&(this._flushFlag=this._opts.flush||n.Z_NO_FLUSH)),this._processChunk(P,ie,Y)},D.prototype._processChunk=function(P,B,Y){var ie=P&&P.length,X=this._chunkSize-this._offset,le=0,ae=this,ne=typeof Y=="function";if(!ne){var H=[],oe=0,he;this.on("error",function(A){he=A}),a(this._handle,"zlib binding closed");do var Z=this._handle.writeSync(B,P,le,ie,this._buffer,this._offset,X);while(!this._hadError&&O(Z[0],Z[1]));if(this._hadError)throw he;if(oe>=o)throw M(this),new RangeError(s);var Q=t.concat(H,oe);return M(this),Q}a(this._handle,"zlib binding closed");var ee=this._handle.write(B,P,le,ie,this._buffer,this._offset,X);ee.buffer=P,ee.callback=O;function O(A,$){if(this&&(this.buffer=null,this.callback=null),!ae._hadError){var te=X-$;if(a(te>=0,"have should not go down"),te>0){var pe=ae._buffer.slice(ae._offset,ae._offset+te);ae._offset+=te,ne?ae.push(pe):(H.push(pe),oe+=pe.length)}if(($===0||ae._offset>=ae._chunkSize)&&(X=ae._chunkSize,ae._offset=0,ae._buffer=t.allocUnsafe(ae._chunkSize)),$===0){if(le+=ie-A,ie=A,!ne)return!0;var R=ae._handle.write(B,P,le,ie,ae._buffer,ae._offset,ae._chunkSize);R.callback=O,R.buffer=P;return}if(!ne)return!1;Y()}}},i.inherits(y,D),i.inherits(m,D),i.inherits(g,D),i.inherits(S,D),i.inherits(x,D),i.inherits(I,D),i.inherits(N,D)}(n1)),n1}var km={exports:{}},W1,jD;function e8(){return jD||(jD=1,W1=Wn().EventEmitter),W1}var K1,qD;function JX(){if(qD)return K1;qD=1;function e(b,v){var _=Object.keys(b);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(b);v&&(y=y.filter(function(m){return Object.getOwnPropertyDescriptor(b,m).enumerable})),_.push.apply(_,y)}return _}function t(b){for(var v=1;v<arguments.length;v++){var _=arguments[v]!=null?arguments[v]:{};v%2?e(Object(_),!0).forEach(function(y){r(b,y,_[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(_)):e(Object(_)).forEach(function(y){Object.defineProperty(b,y,Object.getOwnPropertyDescriptor(_,y))})}return b}function r(b,v,_){return v=o(v),v in b?Object.defineProperty(b,v,{value:_,enumerable:!0,configurable:!0,writable:!0}):b[v]=_,b}function n(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}function i(b,v){for(var _=0;_<v.length;_++){var y=v[_];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(b,o(y.key),y)}}function a(b,v,_){return i(b.prototype,v),Object.defineProperty(b,"prototype",{writable:!1}),b}function o(b){var v=s(b,"string");return typeof v=="symbol"?v:String(v)}function s(b,v){if(typeof b!="object"||b===null)return b;var _=b[Symbol.toPrimitive];if(_!==void 0){var y=_.call(b,v);if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(b)}var l=Er(),u=l.Buffer,f=Pr(),d=f.inspect,c=d&&d.custom||"inspect";function p(b,v,_){u.prototype.copy.call(b,v,_)}return K1=function(){function b(){n(this,b),this.head=null,this.tail=null,this.length=0}return a(b,[{key:"push",value:function(_){var y={data:_,next:null};this.length>0?this.tail.next=y:this.head=y,this.tail=y,++this.length}},{key:"unshift",value:function(_){var y={data:_,next:this.head};this.length===0&&(this.tail=y),this.head=y,++this.length}},{key:"shift",value:function(){if(this.length!==0){var _=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,_}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(_){if(this.length===0)return"";for(var y=this.head,m=""+y.data;y=y.next;)m+=_+y.data;return m}},{key:"concat",value:function(_){if(this.length===0)return u.alloc(0);for(var y=u.allocUnsafe(_>>>0),m=this.head,g=0;m;)p(m.data,y,g),g+=m.data.length,m=m.next;return y}},{key:"consume",value:function(_,y){var m;return _<this.head.data.length?(m=this.head.data.slice(0,_),this.head.data=this.head.data.slice(_)):_===this.head.data.length?m=this.shift():m=y?this._getString(_):this._getBuffer(_),m}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(_){var y=this.head,m=1,g=y.data;for(_-=g.length;y=y.next;){var S=y.data,x=_>S.length?S.length:_;if(x===S.length?g+=S:g+=S.slice(0,_),_-=x,_===0){x===S.length?(++m,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=S.slice(x));break}++m}return this.length-=m,g}},{key:"_getBuffer",value:function(_){var y=u.allocUnsafe(_),m=this.head,g=1;for(m.data.copy(y),_-=m.data.length;m=m.next;){var S=m.data,x=_>S.length?S.length:_;if(S.copy(y,y.length-_,0,x),_-=x,_===0){x===S.length?(++g,m.next?this.head=m.next:this.head=this.tail=null):(this.head=m,m.data=S.slice(x));break}++g}return this.length-=g,y}},{key:c,value:function(_,y){return d(this,t(t({},y),{},{depth:0,customInspect:!1}))}}]),b}(),K1}var Q1,BD;function t8(){if(BD)return Q1;BD=1;function e(o,s){var l=this,u=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return u||f?(s?s(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,ze.nextTick(i,this,o)):ze.nextTick(i,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(d){!s&&d?l._writableState?l._writableState.errorEmitted?ze.nextTick(r,l):(l._writableState.errorEmitted=!0,ze.nextTick(t,l,d)):ze.nextTick(t,l,d):s?(ze.nextTick(r,l),s(d)):ze.nextTick(r,l)}),this)}function t(o,s){i(o,s),r(o)}function r(o){o._writableState&&!o._writableState.emitClose||o._readableState&&!o._readableState.emitClose||o.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(o,s){o.emit("error",s)}function a(o,s){var l=o._readableState,u=o._writableState;l&&l.autoDestroy||u&&u.autoDestroy?o.destroy(s):o.emit("error",s)}return Q1={destroy:e,undestroy:n,errorOrDestroy:a},Q1}var Z1={},$D;function sl(){if($D)return Z1;$D=1;function e(s,l){s.prototype=Object.create(l.prototype),s.prototype.constructor=s,s.__proto__=l}var t={};function r(s,l,u){u||(u=Error);function f(c,p,b){return typeof l=="string"?l:l(c,p,b)}var d=function(c){e(p,c);function p(b,v,_){return c.call(this,f(b,v,_))||this}return p}(u);d.prototype.name=u.name,d.prototype.code=s,t[s]=d}function n(s,l){if(Array.isArray(s)){var u=s.length;return s=s.map(function(f){return String(f)}),u>2?"one of ".concat(l," ").concat(s.slice(0,u-1).join(", "),", or ")+s[u-1]:u===2?"one of ".concat(l," ").concat(s[0]," or ").concat(s[1]):"of ".concat(l," ").concat(s[0])}else return"of ".concat(l," ").concat(String(s))}function i(s,l,u){return s.substr(0,l.length)===l}function a(s,l,u){return(u===void 0||u>s.length)&&(u=s.length),s.substring(u-l.length,u)===l}function o(s,l,u){return typeof u!="number"&&(u=0),u+l.length>s.length?!1:s.indexOf(l,u)!==-1}return r("ERR_INVALID_OPT_VALUE",function(s,l){return'The value "'+l+'" is invalid for option "'+s+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(s,l,u){var f;typeof l=="string"&&i(l,"not ")?(f="must not be",l=l.replace(/^not /,"")):f="must be";var d;if(a(s," argument"))d="The ".concat(s," ").concat(f," ").concat(n(l,"type"));else{var c=o(s,".")?"property":"argument";d='The "'.concat(s,'" ').concat(c," ").concat(f," ").concat(n(l,"type"))}return d+=". Received type ".concat(typeof u),d},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(s){return"The "+s+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(s){return"Cannot call "+s+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(s){return"Unknown encoding: "+s},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Z1.codes=t,Z1}var Y1,UD;function r8(){if(UD)return Y1;UD=1;var e=sl().codes.ERR_INVALID_OPT_VALUE;function t(n,i,a){return n.highWaterMark!=null?n.highWaterMark:i?n[a]:null}function r(n,i,a,o){var s=t(i,o,a);if(s!=null){if(!(isFinite(s)&&Math.floor(s)===s)||s<0){var l=o?a:"highWaterMark";throw new e(l,s)}return Math.floor(s)}return n.objectMode?16:16*1024}return Y1={getHighWaterMark:r},Y1}var X1,VD;function n8(){if(VD)return X1;VD=1,X1=q;function e(O){var A=this;this.next=null,this.entry=null,this.finish=function(){ee(A,O)}}var t;q.WritableState=I;var r={deprecate:rg()},n=e8(),i=Er().Buffer,a=(typeof Tt<"u"?Tt:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function o(O){return i.from(O)}function s(O){return i.isBuffer(O)||O instanceof a}var l=t8(),u=r8(),f=u.getHighWaterMark,d=sl().codes,c=d.ERR_INVALID_ARG_TYPE,p=d.ERR_METHOD_NOT_IMPLEMENTED,b=d.ERR_MULTIPLE_CALLBACK,v=d.ERR_STREAM_CANNOT_PIPE,_=d.ERR_STREAM_DESTROYED,y=d.ERR_STREAM_NULL_VALUES,m=d.ERR_STREAM_WRITE_AFTER_END,g=d.ERR_UNKNOWN_ENCODING,S=l.errorOrDestroy;Or()(q,n);function x(){}function I(O,A,$){t=t||Bu(),O=O||{},typeof $!="boolean"&&($=A instanceof t),this.objectMode=!!O.objectMode,$&&(this.objectMode=this.objectMode||!!O.writableObjectMode),this.highWaterMark=f(this,O,"writableHighWaterMark",$),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var te=O.decodeStrings===!1;this.decodeStrings=!te,this.defaultEncoding=O.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(pe){X(A,pe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=O.emitClose!==!1,this.autoDestroy=!!O.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}I.prototype.getBuffer=function(){for(var A=this.bufferedRequest,$=[];A;)$.push(A),A=A.next;return $},function(){try{Object.defineProperty(I.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var N;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(N=Function.prototype[Symbol.hasInstance],Object.defineProperty(q,Symbol.hasInstance,{value:function(A){return N.call(this,A)?!0:this!==q?!1:A&&A._writableState instanceof I}})):N=function(A){return A instanceof this};function q(O){t=t||Bu();var A=this instanceof t;if(!A&&!N.call(q,this))return new q(O);this._writableState=new I(O,this,A),this.writable=!0,O&&(typeof O.write=="function"&&(this._write=O.write),typeof O.writev=="function"&&(this._writev=O.writev),typeof O.destroy=="function"&&(this._destroy=O.destroy),typeof O.final=="function"&&(this._final=O.final)),n.call(this)}q.prototype.pipe=function(){S(this,new v)};function D(O,A){var $=new m;S(O,$),ze.nextTick(A,$)}function M(O,A,$,te){var pe;return $===null?pe=new y:typeof $!="string"&&!A.objectMode&&(pe=new c("chunk",["string","Buffer"],$)),pe?(S(O,pe),ze.nextTick(te,pe),!1):!0}q.prototype.write=function(O,A,$){var te=this._writableState,pe=!1,R=!te.objectMode&&s(O);return R&&!i.isBuffer(O)&&(O=o(O)),typeof A=="function"&&($=A,A=null),R?A="buffer":A||(A=te.defaultEncoding),typeof $!="function"&&($=x),te.ending?D(this,$):(R||M(this,te,O,$))&&(te.pendingcb++,pe=P(this,te,R,O,A,$)),pe},q.prototype.cork=function(){this._writableState.corked++},q.prototype.uncork=function(){var O=this._writableState;O.corked&&(O.corked--,!O.writing&&!O.corked&&!O.bufferProcessing&&O.bufferedRequest&&ne(this,O))},q.prototype.setDefaultEncoding=function(A){if(typeof A=="string"&&(A=A.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((A+"").toLowerCase())>-1))throw new g(A);return this._writableState.defaultEncoding=A,this},Object.defineProperty(q.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function j(O,A,$){return!O.objectMode&&O.decodeStrings!==!1&&typeof A=="string"&&(A=i.from(A,$)),A}Object.defineProperty(q.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function P(O,A,$,te,pe,R){if(!$){var w=j(A,te,pe);te!==w&&($=!0,pe="buffer",te=w)}var T=A.objectMode?1:te.length;A.length+=T;var k=A.length<A.highWaterMark;if(k||(A.needDrain=!0),A.writing||A.corked){var U=A.lastBufferedRequest;A.lastBufferedRequest={chunk:te,encoding:pe,isBuf:$,callback:R,next:null},U?U.next=A.lastBufferedRequest:A.bufferedRequest=A.lastBufferedRequest,A.bufferedRequestCount+=1}else B(O,A,!1,T,te,pe,R);return k}function B(O,A,$,te,pe,R,w){A.writelen=te,A.writecb=w,A.writing=!0,A.sync=!0,A.destroyed?A.onwrite(new _("write")):$?O._writev(pe,A.onwrite):O._write(pe,R,A.onwrite),A.sync=!1}function Y(O,A,$,te,pe){--A.pendingcb,$?(ze.nextTick(pe,te),ze.nextTick(Z,O,A),O._writableState.errorEmitted=!0,S(O,te)):(pe(te),O._writableState.errorEmitted=!0,S(O,te),Z(O,A))}function ie(O){O.writing=!1,O.writecb=null,O.length-=O.writelen,O.writelen=0}function X(O,A){var $=O._writableState,te=$.sync,pe=$.writecb;if(typeof pe!="function")throw new b;if(ie($),A)Y(O,$,te,A,pe);else{var R=H($)||O.destroyed;!R&&!$.corked&&!$.bufferProcessing&&$.bufferedRequest&&ne(O,$),te?ze.nextTick(le,O,$,R,pe):le(O,$,R,pe)}}function le(O,A,$,te){$||ae(O,A),A.pendingcb--,te(),Z(O,A)}function ae(O,A){A.length===0&&A.needDrain&&(A.needDrain=!1,O.emit("drain"))}function ne(O,A){A.bufferProcessing=!0;var $=A.bufferedRequest;if(O._writev&&$&&$.next){var te=A.bufferedRequestCount,pe=new Array(te),R=A.corkedRequestsFree;R.entry=$;for(var w=0,T=!0;$;)pe[w]=$,$.isBuf||(T=!1),$=$.next,w+=1;pe.allBuffers=T,B(O,A,!0,A.length,pe,"",R.finish),A.pendingcb++,A.lastBufferedRequest=null,R.next?(A.corkedRequestsFree=R.next,R.next=null):A.corkedRequestsFree=new e(A),A.bufferedRequestCount=0}else{for(;$;){var k=$.chunk,U=$.encoding,re=$.callback,fe=A.objectMode?1:k.length;if(B(O,A,!1,fe,k,U,re),$=$.next,A.bufferedRequestCount--,A.writing)break}$===null&&(A.lastBufferedRequest=null)}A.bufferedRequest=$,A.bufferProcessing=!1}q.prototype._write=function(O,A,$){$(new p("_write()"))},q.prototype._writev=null,q.prototype.end=function(O,A,$){var te=this._writableState;return typeof O=="function"?($=O,O=null,A=null):typeof A=="function"&&($=A,A=null),O!=null&&this.write(O,A),te.corked&&(te.corked=1,this.uncork()),te.ending||Q(this,te,$),this},Object.defineProperty(q.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function H(O){return O.ending&&O.length===0&&O.bufferedRequest===null&&!O.finished&&!O.writing}function oe(O,A){O._final(function($){A.pendingcb--,$&&S(O,$),A.prefinished=!0,O.emit("prefinish"),Z(O,A)})}function he(O,A){!A.prefinished&&!A.finalCalled&&(typeof O._final=="function"&&!A.destroyed?(A.pendingcb++,A.finalCalled=!0,ze.nextTick(oe,O,A)):(A.prefinished=!0,O.emit("prefinish")))}function Z(O,A){var $=H(A);if($&&(he(O,A),A.pendingcb===0&&(A.finished=!0,O.emit("finish"),A.autoDestroy))){var te=O._readableState;(!te||te.autoDestroy&&te.endEmitted)&&O.destroy()}return $}function Q(O,A,$){A.ending=!0,Z(O,A),$&&(A.finished?ze.nextTick($):O.once("finish",$)),A.ended=!0,O.writable=!1}function ee(O,A,$){var te=O.entry;for(O.entry=null;te;){var pe=te.callback;A.pendingcb--,pe($),te=te.next}A.corkedRequestsFree.next=O}return Object.defineProperty(q.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(A){this._writableState&&(this._writableState.destroyed=A)}}),q.prototype.destroy=l.destroy,q.prototype._undestroy=l.undestroy,q.prototype._destroy=function(O,A){A(O)},X1}var J1,HD;function Bu(){if(HD)return J1;HD=1;var e=Object.keys||function(u){var f=[];for(var d in u)f.push(d);return f};J1=o;var t=i8(),r=n8();Or()(o,t);for(var n=e(r.prototype),i=0;i<n.length;i++){var a=n[i];o.prototype[a]||(o.prototype[a]=r.prototype[a])}function o(u){if(!(this instanceof o))return new o(u);t.call(this,u),r.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",s)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function s(){this._writableState.ended||ze.nextTick(l,this)}function l(u){u.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(f){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=f,this._writableState.destroyed=f)}}),J1}var ew,zD;function tx(){if(zD)return ew;zD=1;var e=sl().codes.ERR_STREAM_PREMATURE_CLOSE;function t(a){var o=!1;return function(){if(!o){o=!0;for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];a.apply(this,l)}}}function r(){}function n(a){return a.setHeader&&typeof a.abort=="function"}function i(a,o,s){if(typeof o=="function")return i(a,null,o);o||(o={}),s=t(s||r);var l=o.readable||o.readable!==!1&&a.readable,u=o.writable||o.writable!==!1&&a.writable,f=function(){a.writable||c()},d=a._writableState&&a._writableState.finished,c=function(){u=!1,d=!0,l||s.call(a)},p=a._readableState&&a._readableState.endEmitted,b=function(){l=!1,p=!0,u||s.call(a)},v=function(g){s.call(a,g)},_=function(){var g;if(l&&!p)return(!a._readableState||!a._readableState.ended)&&(g=new e),s.call(a,g);if(u&&!d)return(!a._writableState||!a._writableState.ended)&&(g=new e),s.call(a,g)},y=function(){a.req.on("finish",c)};return n(a)?(a.on("complete",c),a.on("abort",_),a.req?y():a.on("request",y)):u&&!a._writableState&&(a.on("end",f),a.on("close",f)),a.on("end",b),a.on("finish",c),o.error!==!1&&a.on("error",v),a.on("close",_),function(){a.removeListener("complete",c),a.removeListener("abort",_),a.removeListener("request",y),a.req&&a.req.removeListener("finish",c),a.removeListener("end",f),a.removeListener("close",f),a.removeListener("finish",c),a.removeListener("end",b),a.removeListener("error",v),a.removeListener("close",_)}}return ew=i,ew}var tw,GD;function eJ(){if(GD)return tw;GD=1;var e;function t(g,S,x){return S=r(S),S in g?Object.defineProperty(g,S,{value:x,enumerable:!0,configurable:!0,writable:!0}):g[S]=x,g}function r(g){var S=n(g,"string");return typeof S=="symbol"?S:String(S)}function n(g,S){if(typeof g!="object"||g===null)return g;var x=g[Symbol.toPrimitive];if(x!==void 0){var I=x.call(g,S||"default");if(typeof I!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(g)}var i=tx(),a=Symbol("lastResolve"),o=Symbol("lastReject"),s=Symbol("error"),l=Symbol("ended"),u=Symbol("lastPromise"),f=Symbol("handlePromise"),d=Symbol("stream");function c(g,S){return{value:g,done:S}}function p(g){var S=g[a];if(S!==null){var x=g[d].read();x!==null&&(g[u]=null,g[a]=null,g[o]=null,S(c(x,!1)))}}function b(g){ze.nextTick(p,g)}function v(g,S){return function(x,I){g.then(function(){if(S[l]){x(c(void 0,!0));return}S[f](x,I)},I)}}var _=Object.getPrototypeOf(function(){}),y=Object.setPrototypeOf((e={get stream(){return this[d]},next:function(){var S=this,x=this[s];if(x!==null)return Promise.reject(x);if(this[l])return Promise.resolve(c(void 0,!0));if(this[d].destroyed)return new Promise(function(D,M){ze.nextTick(function(){S[s]?M(S[s]):D(c(void 0,!0))})});var I=this[u],N;if(I)N=new Promise(v(I,this));else{var q=this[d].read();if(q!==null)return Promise.resolve(c(q,!1));N=new Promise(this[f])}return this[u]=N,N}},t(e,Symbol.asyncIterator,function(){return this}),t(e,"return",function(){var S=this;return new Promise(function(x,I){S[d].destroy(null,function(N){if(N){I(N);return}x(c(void 0,!0))})})}),e),_),m=function(S){var x,I=Object.create(y,(x={},t(x,d,{value:S,writable:!0}),t(x,a,{value:null,writable:!0}),t(x,o,{value:null,writable:!0}),t(x,s,{value:null,writable:!0}),t(x,l,{value:S._readableState.endEmitted,writable:!0}),t(x,f,{value:function(q,D){var M=I[d].read();M?(I[u]=null,I[a]=null,I[o]=null,q(c(M,!1))):(I[a]=q,I[o]=D)},writable:!0}),x));return I[u]=null,i(S,function(N){if(N&&N.code!=="ERR_STREAM_PREMATURE_CLOSE"){var q=I[o];q!==null&&(I[u]=null,I[a]=null,I[o]=null,q(N)),I[s]=N;return}var D=I[a];D!==null&&(I[u]=null,I[a]=null,I[o]=null,D(c(void 0,!0))),I[l]=!0}),S.on("readable",b.bind(null,I)),I};return tw=m,tw}var rw,WD;function tJ(){return WD||(WD=1,rw=function(){throw new Error("Readable.from is not available in the browser")}),rw}var nw,KD;function i8(){if(KD)return nw;KD=1,nw=D;var e;D.ReadableState=q,Wn().EventEmitter;var t=function(w,T){return w.listeners(T).length},r=e8(),n=Er().Buffer,i=(typeof Tt<"u"?Tt:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function a(R){return n.from(R)}function o(R){return n.isBuffer(R)||R instanceof i}var s=Pr(),l;s&&s.debuglog?l=s.debuglog("stream"):l=function(){};var u=JX(),f=t8(),d=r8(),c=d.getHighWaterMark,p=sl().codes,b=p.ERR_INVALID_ARG_TYPE,v=p.ERR_STREAM_PUSH_AFTER_EOF,_=p.ERR_METHOD_NOT_IMPLEMENTED,y=p.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,m,g,S;Or()(D,r);var x=f.errorOrDestroy,I=["error","close","destroy","pause","resume"];function N(R,w,T){if(typeof R.prependListener=="function")return R.prependListener(w,T);!R._events||!R._events[w]?R.on(w,T):Array.isArray(R._events[w])?R._events[w].unshift(T):R._events[w]=[T,R._events[w]]}function q(R,w,T){e=e||Bu(),R=R||{},typeof T!="boolean"&&(T=w instanceof e),this.objectMode=!!R.objectMode,T&&(this.objectMode=this.objectMode||!!R.readableObjectMode),this.highWaterMark=c(this,R,"readableHighWaterMark",T),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=R.emitClose!==!1,this.autoDestroy=!!R.autoDestroy,this.destroyed=!1,this.defaultEncoding=R.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,R.encoding&&(m||(m=ga().StringDecoder),this.decoder=new m(R.encoding),this.encoding=R.encoding)}function D(R){if(e=e||Bu(),!(this instanceof D))return new D(R);var w=this instanceof e;this._readableState=new q(R,this,w),this.readable=!0,R&&(typeof R.read=="function"&&(this._read=R.read),typeof R.destroy=="function"&&(this._destroy=R.destroy)),r.call(this)}Object.defineProperty(D.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(w){this._readableState&&(this._readableState.destroyed=w)}}),D.prototype.destroy=f.destroy,D.prototype._undestroy=f.undestroy,D.prototype._destroy=function(R,w){w(R)},D.prototype.push=function(R,w){var T=this._readableState,k;return T.objectMode?k=!0:typeof R=="string"&&(w=w||T.defaultEncoding,w!==T.encoding&&(R=n.from(R,w),w=""),k=!0),M(this,R,w,!1,k)},D.prototype.unshift=function(R){return M(this,R,null,!0,!1)};function M(R,w,T,k,U){l("readableAddChunk",w);var re=R._readableState;if(w===null)re.reading=!1,X(R,re);else{var fe;if(U||(fe=P(re,w)),fe)x(R,fe);else if(re.objectMode||w&&w.length>0)if(typeof w!="string"&&!re.objectMode&&Object.getPrototypeOf(w)!==n.prototype&&(w=a(w)),k)re.endEmitted?x(R,new y):j(R,re,w,!0);else if(re.ended)x(R,new v);else{if(re.destroyed)return!1;re.reading=!1,re.decoder&&!T?(w=re.decoder.write(w),re.objectMode||w.length!==0?j(R,re,w,!1):ne(R,re)):j(R,re,w,!1)}else k||(re.reading=!1,ne(R,re))}return!re.ended&&(re.length<re.highWaterMark||re.length===0)}function j(R,w,T,k){w.flowing&&w.length===0&&!w.sync?(w.awaitDrain=0,R.emit("data",T)):(w.length+=w.objectMode?1:T.length,k?w.buffer.unshift(T):w.buffer.push(T),w.needReadable&&le(R)),ne(R,w)}function P(R,w){var T;return!o(w)&&typeof w!="string"&&w!==void 0&&!R.objectMode&&(T=new b("chunk",["string","Buffer","Uint8Array"],w)),T}D.prototype.isPaused=function(){return this._readableState.flowing===!1},D.prototype.setEncoding=function(R){m||(m=ga().StringDecoder);var w=new m(R);this._readableState.decoder=w,this._readableState.encoding=this._readableState.decoder.encoding;for(var T=this._readableState.buffer.head,k="";T!==null;)k+=w.write(T.data),T=T.next;return this._readableState.buffer.clear(),k!==""&&this._readableState.buffer.push(k),this._readableState.length=k.length,this};var B=1073741824;function Y(R){return R>=B?R=B:(R--,R|=R>>>1,R|=R>>>2,R|=R>>>4,R|=R>>>8,R|=R>>>16,R++),R}function ie(R,w){return R<=0||w.length===0&&w.ended?0:w.objectMode?1:R!==R?w.flowing&&w.length?w.buffer.head.data.length:w.length:(R>w.highWaterMark&&(w.highWaterMark=Y(R)),R<=w.length?R:w.ended?w.length:(w.needReadable=!0,0))}D.prototype.read=function(R){l("read",R),R=parseInt(R,10);var w=this._readableState,T=R;if(R!==0&&(w.emittedReadable=!1),R===0&&w.needReadable&&((w.highWaterMark!==0?w.length>=w.highWaterMark:w.length>0)||w.ended))return l("read: emitReadable",w.length,w.ended),w.length===0&&w.ended?$(this):le(this),null;if(R=ie(R,w),R===0&&w.ended)return w.length===0&&$(this),null;var k=w.needReadable;l("need readable",k),(w.length===0||w.length-R<w.highWaterMark)&&(k=!0,l("length less than watermark",k)),w.ended||w.reading?(k=!1,l("reading or ended",k)):k&&(l("do read"),w.reading=!0,w.sync=!0,w.length===0&&(w.needReadable=!0),this._read(w.highWaterMark),w.sync=!1,w.reading||(R=ie(T,w)));var U;return R>0?U=A(R,w):U=null,U===null?(w.needReadable=w.length<=w.highWaterMark,R=0):(w.length-=R,w.awaitDrain=0),w.length===0&&(w.ended||(w.needReadable=!0),T!==R&&w.ended&&$(this)),U!==null&&this.emit("data",U),U};function X(R,w){if(l("onEofChunk"),!w.ended){if(w.decoder){var T=w.decoder.end();T&&T.length&&(w.buffer.push(T),w.length+=w.objectMode?1:T.length)}w.ended=!0,w.sync?le(R):(w.needReadable=!1,w.emittedReadable||(w.emittedReadable=!0,ae(R)))}}function le(R){var w=R._readableState;l("emitReadable",w.needReadable,w.emittedReadable),w.needReadable=!1,w.emittedReadable||(l("emitReadable",w.flowing),w.emittedReadable=!0,ze.nextTick(ae,R))}function ae(R){var w=R._readableState;l("emitReadable_",w.destroyed,w.length,w.ended),!w.destroyed&&(w.length||w.ended)&&(R.emit("readable"),w.emittedReadable=!1),w.needReadable=!w.flowing&&!w.ended&&w.length<=w.highWaterMark,O(R)}function ne(R,w){w.readingMore||(w.readingMore=!0,ze.nextTick(H,R,w))}function H(R,w){for(;!w.reading&&!w.ended&&(w.length<w.highWaterMark||w.flowing&&w.length===0);){var T=w.length;if(l("maybeReadMore read 0"),R.read(0),T===w.length)break}w.readingMore=!1}D.prototype._read=function(R){x(this,new _("_read()"))},D.prototype.pipe=function(R,w){var T=this,k=this._readableState;switch(k.pipesCount){case 0:k.pipes=R;break;case 1:k.pipes=[k.pipes,R];break;default:k.pipes.push(R);break}k.pipesCount+=1,l("pipe count=%d opts=%j",k.pipesCount,w);var U=(!w||w.end!==!1)&&R!==ze.stdout&&R!==ze.stderr,re=U?ve:ke;k.endEmitted?ze.nextTick(re):T.once("end",re),R.on("unpipe",fe);function fe(Ke,Ue){l("onunpipe"),Ke===T&&Ue&&Ue.hasUnpiped===!1&&(Ue.hasUnpiped=!0,be())}function ve(){l("onend"),R.end()}var ce=oe(T);R.on("drain",ce);var Ie=!1;function be(){l("cleanup"),R.removeListener("close",Ae),R.removeListener("finish",Oe),R.removeListener("drain",ce),R.removeListener("error",je),R.removeListener("unpipe",fe),T.removeListener("end",ve),T.removeListener("end",ke),T.removeListener("data",Te),Ie=!0,k.awaitDrain&&(!R._writableState||R._writableState.needDrain)&&ce()}T.on("data",Te);function Te(Ke){l("ondata");var Ue=R.write(Ke);l("dest.write",Ue),Ue===!1&&((k.pipesCount===1&&k.pipes===R||k.pipesCount>1&&pe(k.pipes,R)!==-1)&&!Ie&&(l("false write response, pause",k.awaitDrain),k.awaitDrain++),T.pause())}function je(Ke){l("onerror",Ke),ke(),R.removeListener("error",je),t(R,"error")===0&&x(R,Ke)}N(R,"error",je);function Ae(){R.removeListener("finish",Oe),ke()}R.once("close",Ae);function Oe(){l("onfinish"),R.removeListener("close",Ae),ke()}R.once("finish",Oe);function ke(){l("unpipe"),T.unpipe(R)}return R.emit("pipe",T),k.flowing||(l("pipe resume"),T.resume()),R};function oe(R){return function(){var T=R._readableState;l("pipeOnDrain",T.awaitDrain),T.awaitDrain&&T.awaitDrain--,T.awaitDrain===0&&t(R,"data")&&(T.flowing=!0,O(R))}}D.prototype.unpipe=function(R){var w=this._readableState,T={hasUnpiped:!1};if(w.pipesCount===0)return this;if(w.pipesCount===1)return R&&R!==w.pipes?this:(R||(R=w.pipes),w.pipes=null,w.pipesCount=0,w.flowing=!1,R&&R.emit("unpipe",this,T),this);if(!R){var k=w.pipes,U=w.pipesCount;w.pipes=null,w.pipesCount=0,w.flowing=!1;for(var re=0;re<U;re++)k[re].emit("unpipe",this,{hasUnpiped:!1});return this}var fe=pe(w.pipes,R);return fe===-1?this:(w.pipes.splice(fe,1),w.pipesCount-=1,w.pipesCount===1&&(w.pipes=w.pipes[0]),R.emit("unpipe",this,T),this)},D.prototype.on=function(R,w){var T=r.prototype.on.call(this,R,w),k=this._readableState;return R==="data"?(k.readableListening=this.listenerCount("readable")>0,k.flowing!==!1&&this.resume()):R==="readable"&&!k.endEmitted&&!k.readableListening&&(k.readableListening=k.needReadable=!0,k.flowing=!1,k.emittedReadable=!1,l("on readable",k.length,k.reading),k.length?le(this):k.reading||ze.nextTick(Z,this)),T},D.prototype.addListener=D.prototype.on,D.prototype.removeListener=function(R,w){var T=r.prototype.removeListener.call(this,R,w);return R==="readable"&&ze.nextTick(he,this),T},D.prototype.removeAllListeners=function(R){var w=r.prototype.removeAllListeners.apply(this,arguments);return(R==="readable"||R===void 0)&&ze.nextTick(he,this),w};function he(R){var w=R._readableState;w.readableListening=R.listenerCount("readable")>0,w.resumeScheduled&&!w.paused?w.flowing=!0:R.listenerCount("data")>0&&R.resume()}function Z(R){l("readable nexttick read 0"),R.read(0)}D.prototype.resume=function(){var R=this._readableState;return R.flowing||(l("resume"),R.flowing=!R.readableListening,Q(this,R)),R.paused=!1,this};function Q(R,w){w.resumeScheduled||(w.resumeScheduled=!0,ze.nextTick(ee,R,w))}function ee(R,w){l("resume",w.reading),w.reading||R.read(0),w.resumeScheduled=!1,R.emit("resume"),O(R),w.flowing&&!w.reading&&R.read(0)}D.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function O(R){var w=R._readableState;for(l("flow",w.flowing);w.flowing&&R.read()!==null;);}D.prototype.wrap=function(R){var w=this,T=this._readableState,k=!1;R.on("end",function(){if(l("wrapped end"),T.decoder&&!T.ended){var fe=T.decoder.end();fe&&fe.length&&w.push(fe)}w.push(null)}),R.on("data",function(fe){if(l("wrapped data"),T.decoder&&(fe=T.decoder.write(fe)),!(T.objectMode&&fe==null)&&!(!T.objectMode&&(!fe||!fe.length))){var ve=w.push(fe);ve||(k=!0,R.pause())}});for(var U in R)this[U]===void 0&&typeof R[U]=="function"&&(this[U]=function(ve){return function(){return R[ve].apply(R,arguments)}}(U));for(var re=0;re<I.length;re++)R.on(I[re],this.emit.bind(this,I[re]));return this._read=function(fe){l("wrapped _read",fe),k&&(k=!1,R.resume())},this},typeof Symbol=="function"&&(D.prototype[Symbol.asyncIterator]=function(){return g===void 0&&(g=eJ()),g(this)}),Object.defineProperty(D.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(D.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(D.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(w){this._readableState&&(this._readableState.flowing=w)}}),D._fromList=A,Object.defineProperty(D.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function A(R,w){if(w.length===0)return null;var T;return w.objectMode?T=w.buffer.shift():!R||R>=w.length?(w.decoder?T=w.buffer.join(""):w.buffer.length===1?T=w.buffer.first():T=w.buffer.concat(w.length),w.buffer.clear()):T=w.buffer.consume(R,w.decoder),T}function $(R){var w=R._readableState;l("endReadable",w.endEmitted),w.endEmitted||(w.ended=!0,ze.nextTick(te,w,R))}function te(R,w){if(l("endReadableNT",R.endEmitted,R.length),!R.endEmitted&&R.length===0&&(R.endEmitted=!0,w.readable=!1,w.emit("end"),R.autoDestroy)){var T=w._writableState;(!T||T.autoDestroy&&T.finished)&&w.destroy()}}typeof Symbol=="function"&&(D.from=function(R,w){return S===void 0&&(S=tJ()),S(D,R,w)});function pe(R,w){for(var T=0,k=R.length;T<k;T++)if(R[T]===w)return T;return-1}return nw}var iw,QD;function a8(){if(QD)return iw;QD=1,iw=s;var e=sl().codes,t=e.ERR_METHOD_NOT_IMPLEMENTED,r=e.ERR_MULTIPLE_CALLBACK,n=e.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=e.ERR_TRANSFORM_WITH_LENGTH_0,a=Bu();Or()(s,a);function o(f,d){var c=this._transformState;c.transforming=!1;var p=c.writecb;if(p===null)return this.emit("error",new r);c.writechunk=null,c.writecb=null,d!=null&&this.push(d),p(f);var b=this._readableState;b.reading=!1,(b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}function s(f){if(!(this instanceof s))return new s(f);a.call(this,f),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",l)}function l(){var f=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(d,c){u(f,d,c)}):u(this,null,null)}s.prototype.push=function(f,d){return this._transformState.needTransform=!1,a.prototype.push.call(this,f,d)},s.prototype._transform=function(f,d,c){c(new t("_transform()"))},s.prototype._write=function(f,d,c){var p=this._transformState;if(p.writecb=c,p.writechunk=f,p.writeencoding=d,!p.transforming){var b=this._readableState;(p.needTransform||b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}},s.prototype._read=function(f){var d=this._transformState;d.writechunk!==null&&!d.transforming?(d.transforming=!0,this._transform(d.writechunk,d.writeencoding,d.afterTransform)):d.needTransform=!0},s.prototype._destroy=function(f,d){a.prototype._destroy.call(this,f,function(c){d(c)})};function u(f,d,c){if(d)return f.emit("error",d);if(c!=null&&f.push(c),f._writableState.length)throw new i;if(f._transformState.transforming)throw new n;return f.push(null)}return iw}var aw,ZD;function rJ(){if(ZD)return aw;ZD=1,aw=t;var e=a8();Or()(t,e);function t(r){if(!(this instanceof t))return new t(r);e.call(this,r)}return t.prototype._transform=function(r,n,i){i(null,r)},aw}var ow,YD;function nJ(){if(YD)return ow;YD=1;var e;function t(c){var p=!1;return function(){p||(p=!0,c.apply(void 0,arguments))}}var r=sl().codes,n=r.ERR_MISSING_ARGS,i=r.ERR_STREAM_DESTROYED;function a(c){if(c)throw c}function o(c){return c.setHeader&&typeof c.abort=="function"}function s(c,p,b,v){v=t(v);var _=!1;c.on("close",function(){_=!0}),e===void 0&&(e=tx()),e(c,{readable:p,writable:b},function(m){if(m)return v(m);_=!0,v()});var y=!1;return function(m){if(!_&&!y){if(y=!0,o(c))return c.abort();if(typeof c.destroy=="function")return c.destroy();v(m||new i("pipe"))}}}function l(c){c()}function u(c,p){return c.pipe(p)}function f(c){return!c.length||typeof c[c.length-1]!="function"?a:c.pop()}function d(){for(var c=arguments.length,p=new Array(c),b=0;b<c;b++)p[b]=arguments[b];var v=f(p);if(Array.isArray(p[0])&&(p=p[0]),p.length<2)throw new n("streams");var _,y=p.map(function(m,g){var S=g<p.length-1,x=g>0;return s(m,S,x,function(I){_||(_=I),I&&y.forEach(l),!S&&(y.forEach(l),v(_))})});return p.reduce(u)}return ow=d,ow}var XD;function ul(){return XD||(XD=1,function(e,t){t=e.exports=i8(),t.Stream=t,t.Readable=t,t.Writable=n8(),t.Duplex=Bu(),t.Transform=a8(),t.PassThrough=rJ(),t.finished=tx(),t.pipeline=nJ()}(km,km.exports)),km.exports}var sw={exports:{}},uw,JD;function iJ(){if(JD)return uw;JD=1;var e=[],t=[],r=function(){};function n(c){return~e.indexOf(c)?!1:(e.push(c),!0)}function i(c){r=c}function a(c){for(var p=[],b=0;b<e.length;b++){if(e[b].async){p.push(e[b]);continue}if(e[b](c))return!0}return p.length?new Promise(function(_){Promise.all(p.map(function(m){return m(c)})).then(function(m){_(m.some(Boolean))})}):!1}function o(c){return~t.indexOf(c)?!1:(t.push(c),!0)}function s(){r.apply(r,arguments)}function l(c){for(var p=0;p<t.length;p++)c=t[p].apply(t[p],arguments);return c}function u(c,p){var b=Object.prototype.hasOwnProperty;for(var v in p)b.call(p,v)&&(c[v]=p[v]);return c}function f(c){return c.enabled=!1,c.modify=o,c.set=i,c.use=n,u(function(){return!1},c)}function d(c){function p(){var b=Array.prototype.slice.call(arguments,0);return s.call(s,c,l(b,c)),!0}return c.enabled=!0,c.modify=o,c.set=i,c.use=n,u(p,c)}return uw=function(p){return p.introduce=u,p.enabled=a,p.process=l,p.modify=o,p.write=s,p.nope=f,p.yep=d,p.set=i,p.use=n,p},uw}var lw,e3;function aJ(){if(e3)return lw;e3=1;var e=iJ(),t=e(function r(n,i){return i=i||{},i.namespace=n,i.prod=!0,i.dev=!1,i.force||r.force?r.yep(i):r.nope(i)});return lw=t,lw}var t3;function og(){return t3||(t3=1,sw.exports=aJ()),sw.exports}var fw,r3;function oJ(){if(r3)return fw;r3=1;var e=kB,t=ga(),r=t.StringDecoder,n=ul(),i=n.Stream;function a(){}return fw=function(o,s){var l=Qn.alloc(65536),u=new r("utf8"),f=new i,d="",c=0,p=0;return o.start===-1&&delete o.start,f.readable=!0,f.destroy=function(){f.destroyed=!0,f.emit("end"),f.emit("close")},e.open(o.file,"a+","0644",function(b,v){if(b){s?s(b):f.emit("error",b),f.destroy();return}(function _(){if(f.destroyed){e.close(v,a);return}return e.read(v,l,0,l.length,c,function(y,m){if(y){s?s(y):f.emit("error",y),f.destroy();return}if(!m)return d&&((o.start==null||p>o.start)&&(s?s(null,d):f.emit("line",d)),p++,d=""),setTimeout(_,1e3);var g=u.write(l.slice(0,m));s||f.emit("data",g),g=(d+g).split(/\n+/);for(var S=g.length-1,x=0;x<S;x++)(o.start==null||p>o.start)&&(s?s(null,g[x]):f.emit("line",g[x])),p++;return d=g[S],c+=m,_()})})()}),s?f.destroy:f},fw}var cw,n3;function sJ(){if(n3)return cw;n3=1;function e(M){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},e(M)}function t(M,j){if(!(M instanceof j))throw new TypeError("Cannot call a class as a function")}function r(M,j){for(var P=0;P<j.length;P++){var B=j[P];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(M,i(B.key),B)}}function n(M,j,P){return r(M.prototype,j),Object.defineProperty(M,"prototype",{writable:!1}),M}function i(M){var j=a(M,"string");return e(j)=="symbol"?j:j+""}function a(M,j){if(e(M)!="object"||!M)return M;var P=M[Symbol.toPrimitive];if(P!==void 0){var B=P.call(M,j);if(e(B)!="object")return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(M)}function o(M,j,P){return j=f(j),s(M,u()?Reflect.construct(j,P,f(M).constructor):j.apply(M,P))}function s(M,j){if(j&&(e(j)=="object"||typeof j=="function"))return j;if(j!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l(M)}function l(M){if(M===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}function u(){try{var M=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u=function(){return!!M})()}function f(M){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(j){return j.__proto__||Object.getPrototypeOf(j)},f(M)}function d(M,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(j&&j.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),Object.defineProperty(M,"prototype",{writable:!1}),j&&c(M,j)}function c(M,j){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(P,B){return P.__proto__=B,P},c(M,j)}var p=kB,b=yX(),v=RX(),_=XX(),y=Nr(),m=y.MESSAGE,g=ul(),S=g.Stream,x=g.PassThrough,I=g0(),N=og()("winston:file"),q=il(),D=oJ();return cw=function(M){function j(){var P,B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t(this,j),P=o(this,j,[B]),P.name=B.name||"file";function Y(ie){for(var X=arguments.length,le=new Array(X>1?X-1:0),ae=1;ae<X;ae++)le[ae-1]=arguments[ae];le.slice(1).forEach(function(ne){if(B[ne])throw new Error("Cannot set ".concat(ne," and ").concat(ie," together"))})}if(P._stream=new x,P._stream.setMaxListeners(30),P._onError=P._onError.bind(P),B.filename||B.dirname)Y("filename or dirname","stream"),P._basename=P.filename=B.filename?b.basename(B.filename):"winston.log",P.dirname=B.dirname||b.dirname(B.filename),P.options=B.options||{flags:"a"};else if(B.stream)console.warn("options.stream will be removed in winston@4. Use winston.transports.Stream"),Y("stream","filename","maxsize"),P._dest=P._stream.pipe(P._setupStream(B.stream)),P.dirname=b.dirname(P._dest.path);else throw new Error("Cannot log to file without filename or stream.");return P.maxsize=B.maxsize||null,P.rotationFormat=B.rotationFormat||!1,P.zippedArchive=B.zippedArchive||!1,P.maxFiles=B.maxFiles||null,P.eol=typeof B.eol=="string"?B.eol:q.EOL,P.tailable=B.tailable||!1,P.lazy=B.lazy||!1,P._size=0,P._pendingSize=0,P._created=0,P._drain=!1,P._opening=!1,P._ending=!1,P._fileExist=!1,P.dirname&&P._createLogDirIfNotExist(P.dirname),P.lazy||P.open(),P}return d(j,M),n(j,[{key:"finishIfEnding",value:function(){var B=this;this._ending&&(this._opening?this.once("open",function(){B._stream.once("finish",function(){return B.emit("finish")}),setImmediate(function(){return B._stream.end()})}):(this._stream.once("finish",function(){return B.emit("finish")}),setImmediate(function(){return B._stream.end()})))}},{key:"log",value:function(B){var Y=this,ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){};if(this.silent)return ie(),!0;if(this._drain){this._stream.once("drain",function(){Y._drain=!1,Y.log(B,ie)});return}if(this._rotate){this._stream.once("rotate",function(){Y._rotate=!1,Y.log(B,ie)});return}if(this.lazy){if(!this._fileExist){this._opening||this.open(),this.once("open",function(){Y._fileExist=!0,Y.log(B,ie)});return}if(this._needsNewFile(this._pendingSize)){this._dest.once("close",function(){Y._opening||Y.open(),Y.once("open",function(){Y.log(B,ie)})});return}}var X="".concat(B[m]).concat(this.eol),le=Qn.byteLength(X);function ae(){var H=this;if(this._size+=le,this._pendingSize-=le,N("logged %s %s",this._size,X),this.emit("logged",B),!this._rotate&&!this._opening&&this._needsNewFile()){if(this.lazy){this._endStream(function(){H.emit("fileclosed")});return}this._rotate=!0,this._endStream(function(){return H._rotateFile()})}}this._pendingSize+=le,this._opening&&!this.rotatedWhileOpening&&this._needsNewFile(this._size+this._pendingSize)&&(this.rotatedWhileOpening=!0);var ne=this._stream.write(X,ae.bind(this));return ne?ie():(this._drain=!0,this._stream.once("drain",function(){Y._drain=!1,ie()})),N("written",ne,this._drain),this.finishIfEnding(),ne}},{key:"query",value:function(B,Y){typeof B=="function"&&(Y=B,B={}),B=Z(B);var ie=b.join(this.dirname,this.filename),X="",le=[],ae=0,ne=p.createReadStream(ie,{encoding:"utf8"});ne.on("error",function(Q){if(ne.readable&&ne.destroy(),!!Y)return Q.code!=="ENOENT"?Y(Q):Y(null,le)}),ne.on("data",function(Q){Q=(X+Q).split(/\n+/);for(var ee=Q.length-1,O=0;O<ee;O++)(!B.start||ae>=B.start)&&H(Q[O]),ae++;X=Q[ee]}),ne.on("close",function(){X&&H(X,!0),B.order==="desc"&&(le=le.reverse()),Y&&Y(null,le)});function H(Q,ee){try{var O=JSON.parse(Q);he(O)&&oe(O)}catch(A){ee||ne.emit("error",A)}}function oe(Q){if(B.rows&&le.length>=B.rows&&B.order!=="desc"){ne.readable&&ne.destroy();return}B.fields&&(Q=B.fields.reduce(function(ee,O){return ee[O]=Q[O],ee},{})),B.order==="desc"&&le.length>=B.rows&&le.shift(),le.push(Q)}function he(Q){if(Q&&e(Q)==="object"){var ee=new Date(Q.timestamp);if(!(B.from&&ee<B.from||B.until&&ee>B.until||B.level&&B.level!==Q.level))return!0}}function Z(Q){return Q=Q||{},Q.rows=Q.rows||Q.limit||10,Q.start=Q.start||0,Q.until=Q.until||new Date,e(Q.until)!=="object"&&(Q.until=new Date(Q.until)),Q.from=Q.from||Q.until-24*60*60*1e3,e(Q.from)!=="object"&&(Q.from=new Date(Q.from)),Q.order=Q.order||"desc",Q}}},{key:"stream",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Y=b.join(this.dirname,this.filename),ie=new S,X={file:Y,start:B.start};return ie.destroy=D(X,function(le,ae){if(le)return ie.emit("error",le);try{ie.emit("data",ae),ae=JSON.parse(ae),ie.emit("log",ae)}catch(ne){ie.emit("error",ne)}}),ie}},{key:"open",value:function(){var B=this;this.filename&&(this._opening||(this._opening=!0,this.stat(function(Y,ie){if(Y)return B.emit("error",Y);N("stat done: %s { size: %s }",B.filename,ie),B._size=ie,B._dest=B._createStream(B._stream),B._opening=!1,B.once("open",function(){B._stream.emit("rotate")||(B._rotate=!1)})})))}},{key:"stat",value:function(B){var Y=this,ie=this._getFile(),X=b.join(this.dirname,ie);p.stat(X,function(le,ae){if(le&&le.code==="ENOENT")return N("ENOENTok",X),Y.filename=ie,B(null,0);if(le)return N("err ".concat(le.code," ").concat(X)),B(le);if(!ae||Y._needsNewFile(ae.size))return Y._incFile(function(){return Y.stat(B)});Y.filename=ie,B(null,ae.size)})}},{key:"close",value:function(B){var Y=this;this._stream&&this._stream.end(function(){B&&B(),Y.emit("flush"),Y.emit("closed")})}},{key:"_needsNewFile",value:function(B){return B=B||this._size,this.maxsize&&B>=this.maxsize}},{key:"_onError",value:function(B){this.emit("error",B)}},{key:"_setupStream",value:function(B){return B.on("error",this._onError),B}},{key:"_cleanupStream",value:function(B){return B.removeListener("error",this._onError),B.destroy(),B}},{key:"_rotateFile",value:function(){var B=this;this._incFile(function(){return B.open()})}},{key:"_endStream",value:function(){var B=this,Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){};this._dest?(this._stream.unpipe(this._dest),this._dest.end(function(){B._cleanupStream(B._dest),Y()})):Y()}},{key:"_createStream",value:function(B){var Y=this,ie=b.join(this.dirname,this.filename);N("create stream start",ie,this.options);var X=p.createWriteStream(ie,this.options).on("error",function(le){return N(le)}).on("close",function(){return N("close",X.path,X.bytesWritten)}).on("open",function(){N("file open ok",ie),Y.emit("open",ie),B.pipe(X),Y.rotatedWhileOpening&&(Y._stream=new x,Y._stream.setMaxListeners(30),Y._rotateFile(),Y.rotatedWhileOpening=!1,Y._cleanupStream(X),B.end())});return N("create stream ok",ie),X}},{key:"_incFile",value:function(B){N("_incFile",this.filename);var Y=b.extname(this._basename),ie=b.basename(this._basename,Y),X=[];this.zippedArchive&&X.push((function(le){var ae=this._created>0&&!this.tailable?this._created:"";this._compressFile(b.join(this.dirname,"".concat(ie).concat(ae).concat(Y)),b.join(this.dirname,"".concat(ie).concat(ae).concat(Y,".gz")),le)}).bind(this)),X.push((function(le){this.tailable?this._checkMaxFilesTailable(Y,ie,le):(this._created+=1,this._checkMaxFilesIncrementing(Y,ie,le))}).bind(this)),v(X,B)}},{key:"_getFile",value:function(){var B=b.extname(this._basename),Y=b.basename(this._basename,B),ie=this.rotationFormat?this.rotationFormat():this._created;return!this.tailable&&this._created?"".concat(Y).concat(ie).concat(B):"".concat(Y).concat(B)}},{key:"_checkMaxFilesIncrementing",value:function(B,Y,ie){if(!this.maxFiles||this._created<this.maxFiles)return setImmediate(ie);var X=this._created-this.maxFiles,le=X!==0?X:"",ae=this.zippedArchive?".gz":"",ne="".concat(Y).concat(le).concat(B).concat(ae),H=b.join(this.dirname,ne);p.unlink(H,ie)}},{key:"_checkMaxFilesTailable",value:function(B,Y,ie){var X=this,le=[];if(this.maxFiles){for(var ae=this.zippedArchive?".gz":"",ne=this.maxFiles-1;ne>1;ne--)le.push((function(H,oe){var he=this,Z="".concat(Y).concat(H-1).concat(B).concat(ae),Q=b.join(this.dirname,Z);p.exists(Q,function(ee){if(!ee)return oe(null);Z="".concat(Y).concat(H).concat(B).concat(ae),p.rename(Q,b.join(he.dirname,Z),oe)})}).bind(this,ne));v(le,function(){p.rename(b.join(X.dirname,"".concat(Y).concat(B).concat(ae)),b.join(X.dirname,"".concat(Y,"1").concat(B).concat(ae)),ie)})}}},{key:"_compressFile",value:function(B,Y,ie){p.access(B,p.F_OK,function(X){if(X)return ie();var le=_.createGzip(),ae=p.createReadStream(B),ne=p.createWriteStream(Y);ne.on("finish",function(){p.unlink(B,ie)}),ae.pipe(le).pipe(ne)})}},{key:"_createLogDirIfNotExist",value:function(B){p.existsSync(B)||p.mkdirSync(B,{recursive:!0})}}])}(I),cw}var dw={},hw={exports:{}},pw={},i3;function o8(){return i3||(i3=1,function(e){e.fetch=i(Tt.fetch)&&i(Tt.ReadableStream),e.writableStream=i(Tt.WritableStream),e.abortController=i(Tt.AbortController);var t;function r(){if(t!==void 0)return t;if(Tt.XMLHttpRequest){t=new Tt.XMLHttpRequest;try{t.open("GET",Tt.XDomainRequest?"/":"https://example.com")}catch{t=null}}else t=null;return t}function n(a){var o=r();if(!o)return!1;try{return o.responseType=a,o.responseType===a}catch{}return!1}e.arraybuffer=e.fetch||n("arraybuffer"),e.msstream=!e.fetch&&n("ms-stream"),e.mozchunkedarraybuffer=!e.fetch&&n("moz-chunked-arraybuffer"),e.overrideMimeType=e.fetch||(r()?i(r().overrideMimeType):!1);function i(a){return typeof a=="function"}t=null}(pw)),pw}var Fm={},jm={exports:{}},mw,a3;function s8(){return a3||(a3=1,mw=Wn().EventEmitter),mw}var yw,o3;function uJ(){if(o3)return yw;o3=1;function e(b,v){var _=Object.keys(b);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(b);v&&(y=y.filter(function(m){return Object.getOwnPropertyDescriptor(b,m).enumerable})),_.push.apply(_,y)}return _}function t(b){for(var v=1;v<arguments.length;v++){var _=arguments[v]!=null?arguments[v]:{};v%2?e(Object(_),!0).forEach(function(y){r(b,y,_[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(_)):e(Object(_)).forEach(function(y){Object.defineProperty(b,y,Object.getOwnPropertyDescriptor(_,y))})}return b}function r(b,v,_){return v=o(v),v in b?Object.defineProperty(b,v,{value:_,enumerable:!0,configurable:!0,writable:!0}):b[v]=_,b}function n(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}function i(b,v){for(var _=0;_<v.length;_++){var y=v[_];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(b,o(y.key),y)}}function a(b,v,_){return i(b.prototype,v),Object.defineProperty(b,"prototype",{writable:!1}),b}function o(b){var v=s(b,"string");return typeof v=="symbol"?v:String(v)}function s(b,v){if(typeof b!="object"||b===null)return b;var _=b[Symbol.toPrimitive];if(_!==void 0){var y=_.call(b,v);if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(b)}var l=Er(),u=l.Buffer,f=Pr(),d=f.inspect,c=d&&d.custom||"inspect";function p(b,v,_){u.prototype.copy.call(b,v,_)}return yw=function(){function b(){n(this,b),this.head=null,this.tail=null,this.length=0}return a(b,[{key:"push",value:function(_){var y={data:_,next:null};this.length>0?this.tail.next=y:this.head=y,this.tail=y,++this.length}},{key:"unshift",value:function(_){var y={data:_,next:this.head};this.length===0&&(this.tail=y),this.head=y,++this.length}},{key:"shift",value:function(){if(this.length!==0){var _=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,_}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(_){if(this.length===0)return"";for(var y=this.head,m=""+y.data;y=y.next;)m+=_+y.data;return m}},{key:"concat",value:function(_){if(this.length===0)return u.alloc(0);for(var y=u.allocUnsafe(_>>>0),m=this.head,g=0;m;)p(m.data,y,g),g+=m.data.length,m=m.next;return y}},{key:"consume",value:function(_,y){var m;return _<this.head.data.length?(m=this.head.data.slice(0,_),this.head.data=this.head.data.slice(_)):_===this.head.data.length?m=this.shift():m=y?this._getString(_):this._getBuffer(_),m}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(_){var y=this.head,m=1,g=y.data;for(_-=g.length;y=y.next;){var S=y.data,x=_>S.length?S.length:_;if(x===S.length?g+=S:g+=S.slice(0,_),_-=x,_===0){x===S.length?(++m,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=S.slice(x));break}++m}return this.length-=m,g}},{key:"_getBuffer",value:function(_){var y=u.allocUnsafe(_),m=this.head,g=1;for(m.data.copy(y),_-=m.data.length;m=m.next;){var S=m.data,x=_>S.length?S.length:_;if(S.copy(y,y.length-_,0,x),_-=x,_===0){x===S.length?(++g,m.next?this.head=m.next:this.head=this.tail=null):(this.head=m,m.data=S.slice(x));break}++g}return this.length-=g,y}},{key:c,value:function(_,y){return d(this,t(t({},y),{},{depth:0,customInspect:!1}))}}]),b}(),yw}var gw,s3;function u8(){if(s3)return gw;s3=1;function e(o,s){var l=this,u=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return u||f?(s?s(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,ze.nextTick(i,this,o)):ze.nextTick(i,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(d){!s&&d?l._writableState?l._writableState.errorEmitted?ze.nextTick(r,l):(l._writableState.errorEmitted=!0,ze.nextTick(t,l,d)):ze.nextTick(t,l,d):s?(ze.nextTick(r,l),s(d)):ze.nextTick(r,l)}),this)}function t(o,s){i(o,s),r(o)}function r(o){o._writableState&&!o._writableState.emitClose||o._readableState&&!o._readableState.emitClose||o.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(o,s){o.emit("error",s)}function a(o,s){var l=o._readableState,u=o._writableState;l&&l.autoDestroy||u&&u.autoDestroy?o.destroy(s):o.emit("error",s)}return gw={destroy:e,undestroy:n,errorOrDestroy:a},gw}var _w={},u3;function ll(){if(u3)return _w;u3=1;function e(s,l){s.prototype=Object.create(l.prototype),s.prototype.constructor=s,s.__proto__=l}var t={};function r(s,l,u){u||(u=Error);function f(c,p,b){return typeof l=="string"?l:l(c,p,b)}var d=function(c){e(p,c);function p(b,v,_){return c.call(this,f(b,v,_))||this}return p}(u);d.prototype.name=u.name,d.prototype.code=s,t[s]=d}function n(s,l){if(Array.isArray(s)){var u=s.length;return s=s.map(function(f){return String(f)}),u>2?"one of ".concat(l," ").concat(s.slice(0,u-1).join(", "),", or ")+s[u-1]:u===2?"one of ".concat(l," ").concat(s[0]," or ").concat(s[1]):"of ".concat(l," ").concat(s[0])}else return"of ".concat(l," ").concat(String(s))}function i(s,l,u){return s.substr(0,l.length)===l}function a(s,l,u){return(u===void 0||u>s.length)&&(u=s.length),s.substring(u-l.length,u)===l}function o(s,l,u){return typeof u!="number"&&(u=0),u+l.length>s.length?!1:s.indexOf(l,u)!==-1}return r("ERR_INVALID_OPT_VALUE",function(s,l){return'The value "'+l+'" is invalid for option "'+s+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(s,l,u){var f;typeof l=="string"&&i(l,"not ")?(f="must not be",l=l.replace(/^not /,"")):f="must be";var d;if(a(s," argument"))d="The ".concat(s," ").concat(f," ").concat(n(l,"type"));else{var c=o(s,".")?"property":"argument";d='The "'.concat(s,'" ').concat(c," ").concat(f," ").concat(n(l,"type"))}return d+=". Received type ".concat(typeof u),d},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(s){return"The "+s+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(s){return"Cannot call "+s+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(s){return"Unknown encoding: "+s},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),_w.codes=t,_w}var bw,l3;function l8(){if(l3)return bw;l3=1;var e=ll().codes.ERR_INVALID_OPT_VALUE;function t(n,i,a){return n.highWaterMark!=null?n.highWaterMark:i?n[a]:null}function r(n,i,a,o){var s=t(i,o,a);if(s!=null){if(!(isFinite(s)&&Math.floor(s)===s)||s<0){var l=o?a:"highWaterMark";throw new e(l,s)}return Math.floor(s)}return n.objectMode?16:16*1024}return bw={getHighWaterMark:r},bw}var vw,f3;function f8(){if(f3)return vw;f3=1,vw=q;function e(O){var A=this;this.next=null,this.entry=null,this.finish=function(){ee(A,O)}}var t;q.WritableState=I;var r={deprecate:rg()},n=s8(),i=Er().Buffer,a=(typeof Tt<"u"?Tt:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function o(O){return i.from(O)}function s(O){return i.isBuffer(O)||O instanceof a}var l=u8(),u=l8(),f=u.getHighWaterMark,d=ll().codes,c=d.ERR_INVALID_ARG_TYPE,p=d.ERR_METHOD_NOT_IMPLEMENTED,b=d.ERR_MULTIPLE_CALLBACK,v=d.ERR_STREAM_CANNOT_PIPE,_=d.ERR_STREAM_DESTROYED,y=d.ERR_STREAM_NULL_VALUES,m=d.ERR_STREAM_WRITE_AFTER_END,g=d.ERR_UNKNOWN_ENCODING,S=l.errorOrDestroy;Or()(q,n);function x(){}function I(O,A,$){t=t||$u(),O=O||{},typeof $!="boolean"&&($=A instanceof t),this.objectMode=!!O.objectMode,$&&(this.objectMode=this.objectMode||!!O.writableObjectMode),this.highWaterMark=f(this,O,"writableHighWaterMark",$),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var te=O.decodeStrings===!1;this.decodeStrings=!te,this.defaultEncoding=O.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(pe){X(A,pe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=O.emitClose!==!1,this.autoDestroy=!!O.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}I.prototype.getBuffer=function(){for(var A=this.bufferedRequest,$=[];A;)$.push(A),A=A.next;return $},function(){try{Object.defineProperty(I.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var N;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(N=Function.prototype[Symbol.hasInstance],Object.defineProperty(q,Symbol.hasInstance,{value:function(A){return N.call(this,A)?!0:this!==q?!1:A&&A._writableState instanceof I}})):N=function(A){return A instanceof this};function q(O){t=t||$u();var A=this instanceof t;if(!A&&!N.call(q,this))return new q(O);this._writableState=new I(O,this,A),this.writable=!0,O&&(typeof O.write=="function"&&(this._write=O.write),typeof O.writev=="function"&&(this._writev=O.writev),typeof O.destroy=="function"&&(this._destroy=O.destroy),typeof O.final=="function"&&(this._final=O.final)),n.call(this)}q.prototype.pipe=function(){S(this,new v)};function D(O,A){var $=new m;S(O,$),ze.nextTick(A,$)}function M(O,A,$,te){var pe;return $===null?pe=new y:typeof $!="string"&&!A.objectMode&&(pe=new c("chunk",["string","Buffer"],$)),pe?(S(O,pe),ze.nextTick(te,pe),!1):!0}q.prototype.write=function(O,A,$){var te=this._writableState,pe=!1,R=!te.objectMode&&s(O);return R&&!i.isBuffer(O)&&(O=o(O)),typeof A=="function"&&($=A,A=null),R?A="buffer":A||(A=te.defaultEncoding),typeof $!="function"&&($=x),te.ending?D(this,$):(R||M(this,te,O,$))&&(te.pendingcb++,pe=P(this,te,R,O,A,$)),pe},q.prototype.cork=function(){this._writableState.corked++},q.prototype.uncork=function(){var O=this._writableState;O.corked&&(O.corked--,!O.writing&&!O.corked&&!O.bufferProcessing&&O.bufferedRequest&&ne(this,O))},q.prototype.setDefaultEncoding=function(A){if(typeof A=="string"&&(A=A.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((A+"").toLowerCase())>-1))throw new g(A);return this._writableState.defaultEncoding=A,this},Object.defineProperty(q.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function j(O,A,$){return!O.objectMode&&O.decodeStrings!==!1&&typeof A=="string"&&(A=i.from(A,$)),A}Object.defineProperty(q.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function P(O,A,$,te,pe,R){if(!$){var w=j(A,te,pe);te!==w&&($=!0,pe="buffer",te=w)}var T=A.objectMode?1:te.length;A.length+=T;var k=A.length<A.highWaterMark;if(k||(A.needDrain=!0),A.writing||A.corked){var U=A.lastBufferedRequest;A.lastBufferedRequest={chunk:te,encoding:pe,isBuf:$,callback:R,next:null},U?U.next=A.lastBufferedRequest:A.bufferedRequest=A.lastBufferedRequest,A.bufferedRequestCount+=1}else B(O,A,!1,T,te,pe,R);return k}function B(O,A,$,te,pe,R,w){A.writelen=te,A.writecb=w,A.writing=!0,A.sync=!0,A.destroyed?A.onwrite(new _("write")):$?O._writev(pe,A.onwrite):O._write(pe,R,A.onwrite),A.sync=!1}function Y(O,A,$,te,pe){--A.pendingcb,$?(ze.nextTick(pe,te),ze.nextTick(Z,O,A),O._writableState.errorEmitted=!0,S(O,te)):(pe(te),O._writableState.errorEmitted=!0,S(O,te),Z(O,A))}function ie(O){O.writing=!1,O.writecb=null,O.length-=O.writelen,O.writelen=0}function X(O,A){var $=O._writableState,te=$.sync,pe=$.writecb;if(typeof pe!="function")throw new b;if(ie($),A)Y(O,$,te,A,pe);else{var R=H($)||O.destroyed;!R&&!$.corked&&!$.bufferProcessing&&$.bufferedRequest&&ne(O,$),te?ze.nextTick(le,O,$,R,pe):le(O,$,R,pe)}}function le(O,A,$,te){$||ae(O,A),A.pendingcb--,te(),Z(O,A)}function ae(O,A){A.length===0&&A.needDrain&&(A.needDrain=!1,O.emit("drain"))}function ne(O,A){A.bufferProcessing=!0;var $=A.bufferedRequest;if(O._writev&&$&&$.next){var te=A.bufferedRequestCount,pe=new Array(te),R=A.corkedRequestsFree;R.entry=$;for(var w=0,T=!0;$;)pe[w]=$,$.isBuf||(T=!1),$=$.next,w+=1;pe.allBuffers=T,B(O,A,!0,A.length,pe,"",R.finish),A.pendingcb++,A.lastBufferedRequest=null,R.next?(A.corkedRequestsFree=R.next,R.next=null):A.corkedRequestsFree=new e(A),A.bufferedRequestCount=0}else{for(;$;){var k=$.chunk,U=$.encoding,re=$.callback,fe=A.objectMode?1:k.length;if(B(O,A,!1,fe,k,U,re),$=$.next,A.bufferedRequestCount--,A.writing)break}$===null&&(A.lastBufferedRequest=null)}A.bufferedRequest=$,A.bufferProcessing=!1}q.prototype._write=function(O,A,$){$(new p("_write()"))},q.prototype._writev=null,q.prototype.end=function(O,A,$){var te=this._writableState;return typeof O=="function"?($=O,O=null,A=null):typeof A=="function"&&($=A,A=null),O!=null&&this.write(O,A),te.corked&&(te.corked=1,this.uncork()),te.ending||Q(this,te,$),this},Object.defineProperty(q.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function H(O){return O.ending&&O.length===0&&O.bufferedRequest===null&&!O.finished&&!O.writing}function oe(O,A){O._final(function($){A.pendingcb--,$&&S(O,$),A.prefinished=!0,O.emit("prefinish"),Z(O,A)})}function he(O,A){!A.prefinished&&!A.finalCalled&&(typeof O._final=="function"&&!A.destroyed?(A.pendingcb++,A.finalCalled=!0,ze.nextTick(oe,O,A)):(A.prefinished=!0,O.emit("prefinish")))}function Z(O,A){var $=H(A);if($&&(he(O,A),A.pendingcb===0&&(A.finished=!0,O.emit("finish"),A.autoDestroy))){var te=O._readableState;(!te||te.autoDestroy&&te.endEmitted)&&O.destroy()}return $}function Q(O,A,$){A.ending=!0,Z(O,A),$&&(A.finished?ze.nextTick($):O.once("finish",$)),A.ended=!0,O.writable=!1}function ee(O,A,$){var te=O.entry;for(O.entry=null;te;){var pe=te.callback;A.pendingcb--,pe($),te=te.next}A.corkedRequestsFree.next=O}return Object.defineProperty(q.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(A){this._writableState&&(this._writableState.destroyed=A)}}),q.prototype.destroy=l.destroy,q.prototype._undestroy=l.undestroy,q.prototype._destroy=function(O,A){A(O)},vw}var ww,c3;function $u(){if(c3)return ww;c3=1;var e=Object.keys||function(u){var f=[];for(var d in u)f.push(d);return f};ww=o;var t=c8(),r=f8();Or()(o,t);for(var n=e(r.prototype),i=0;i<n.length;i++){var a=n[i];o.prototype[a]||(o.prototype[a]=r.prototype[a])}function o(u){if(!(this instanceof o))return new o(u);t.call(this,u),r.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",s)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function s(){this._writableState.ended||ze.nextTick(l,this)}function l(u){u.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(f){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=f,this._writableState.destroyed=f)}}),ww}var Sw,d3;function rx(){if(d3)return Sw;d3=1;var e=ll().codes.ERR_STREAM_PREMATURE_CLOSE;function t(a){var o=!1;return function(){if(!o){o=!0;for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];a.apply(this,l)}}}function r(){}function n(a){return a.setHeader&&typeof a.abort=="function"}function i(a,o,s){if(typeof o=="function")return i(a,null,o);o||(o={}),s=t(s||r);var l=o.readable||o.readable!==!1&&a.readable,u=o.writable||o.writable!==!1&&a.writable,f=function(){a.writable||c()},d=a._writableState&&a._writableState.finished,c=function(){u=!1,d=!0,l||s.call(a)},p=a._readableState&&a._readableState.endEmitted,b=function(){l=!1,p=!0,u||s.call(a)},v=function(g){s.call(a,g)},_=function(){var g;if(l&&!p)return(!a._readableState||!a._readableState.ended)&&(g=new e),s.call(a,g);if(u&&!d)return(!a._writableState||!a._writableState.ended)&&(g=new e),s.call(a,g)},y=function(){a.req.on("finish",c)};return n(a)?(a.on("complete",c),a.on("abort",_),a.req?y():a.on("request",y)):u&&!a._writableState&&(a.on("end",f),a.on("close",f)),a.on("end",b),a.on("finish",c),o.error!==!1&&a.on("error",v),a.on("close",_),function(){a.removeListener("complete",c),a.removeListener("abort",_),a.removeListener("request",y),a.req&&a.req.removeListener("finish",c),a.removeListener("end",f),a.removeListener("close",f),a.removeListener("finish",c),a.removeListener("end",b),a.removeListener("error",v),a.removeListener("close",_)}}return Sw=i,Sw}var Ew,h3;function lJ(){if(h3)return Ew;h3=1;var e;function t(g,S,x){return S=r(S),S in g?Object.defineProperty(g,S,{value:x,enumerable:!0,configurable:!0,writable:!0}):g[S]=x,g}function r(g){var S=n(g,"string");return typeof S=="symbol"?S:String(S)}function n(g,S){if(typeof g!="object"||g===null)return g;var x=g[Symbol.toPrimitive];if(x!==void 0){var I=x.call(g,S||"default");if(typeof I!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(g)}var i=rx(),a=Symbol("lastResolve"),o=Symbol("lastReject"),s=Symbol("error"),l=Symbol("ended"),u=Symbol("lastPromise"),f=Symbol("handlePromise"),d=Symbol("stream");function c(g,S){return{value:g,done:S}}function p(g){var S=g[a];if(S!==null){var x=g[d].read();x!==null&&(g[u]=null,g[a]=null,g[o]=null,S(c(x,!1)))}}function b(g){ze.nextTick(p,g)}function v(g,S){return function(x,I){g.then(function(){if(S[l]){x(c(void 0,!0));return}S[f](x,I)},I)}}var _=Object.getPrototypeOf(function(){}),y=Object.setPrototypeOf((e={get stream(){return this[d]},next:function(){var S=this,x=this[s];if(x!==null)return Promise.reject(x);if(this[l])return Promise.resolve(c(void 0,!0));if(this[d].destroyed)return new Promise(function(D,M){ze.nextTick(function(){S[s]?M(S[s]):D(c(void 0,!0))})});var I=this[u],N;if(I)N=new Promise(v(I,this));else{var q=this[d].read();if(q!==null)return Promise.resolve(c(q,!1));N=new Promise(this[f])}return this[u]=N,N}},t(e,Symbol.asyncIterator,function(){return this}),t(e,"return",function(){var S=this;return new Promise(function(x,I){S[d].destroy(null,function(N){if(N){I(N);return}x(c(void 0,!0))})})}),e),_),m=function(S){var x,I=Object.create(y,(x={},t(x,d,{value:S,writable:!0}),t(x,a,{value:null,writable:!0}),t(x,o,{value:null,writable:!0}),t(x,s,{value:null,writable:!0}),t(x,l,{value:S._readableState.endEmitted,writable:!0}),t(x,f,{value:function(q,D){var M=I[d].read();M?(I[u]=null,I[a]=null,I[o]=null,q(c(M,!1))):(I[a]=q,I[o]=D)},writable:!0}),x));return I[u]=null,i(S,function(N){if(N&&N.code!=="ERR_STREAM_PREMATURE_CLOSE"){var q=I[o];q!==null&&(I[u]=null,I[a]=null,I[o]=null,q(N)),I[s]=N;return}var D=I[a];D!==null&&(I[u]=null,I[a]=null,I[o]=null,D(c(void 0,!0))),I[l]=!0}),S.on("readable",b.bind(null,I)),I};return Ew=m,Ew}var Tw,p3;function fJ(){return p3||(p3=1,Tw=function(){throw new Error("Readable.from is not available in the browser")}),Tw}var xw,m3;function c8(){if(m3)return xw;m3=1,xw=D;var e;D.ReadableState=q,Wn().EventEmitter;var t=function(w,T){return w.listeners(T).length},r=s8(),n=Er().Buffer,i=(typeof Tt<"u"?Tt:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function a(R){return n.from(R)}function o(R){return n.isBuffer(R)||R instanceof i}var s=Pr(),l;s&&s.debuglog?l=s.debuglog("stream"):l=function(){};var u=uJ(),f=u8(),d=l8(),c=d.getHighWaterMark,p=ll().codes,b=p.ERR_INVALID_ARG_TYPE,v=p.ERR_STREAM_PUSH_AFTER_EOF,_=p.ERR_METHOD_NOT_IMPLEMENTED,y=p.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,m,g,S;Or()(D,r);var x=f.errorOrDestroy,I=["error","close","destroy","pause","resume"];function N(R,w,T){if(typeof R.prependListener=="function")return R.prependListener(w,T);!R._events||!R._events[w]?R.on(w,T):Array.isArray(R._events[w])?R._events[w].unshift(T):R._events[w]=[T,R._events[w]]}function q(R,w,T){e=e||$u(),R=R||{},typeof T!="boolean"&&(T=w instanceof e),this.objectMode=!!R.objectMode,T&&(this.objectMode=this.objectMode||!!R.readableObjectMode),this.highWaterMark=c(this,R,"readableHighWaterMark",T),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=R.emitClose!==!1,this.autoDestroy=!!R.autoDestroy,this.destroyed=!1,this.defaultEncoding=R.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,R.encoding&&(m||(m=ga().StringDecoder),this.decoder=new m(R.encoding),this.encoding=R.encoding)}function D(R){if(e=e||$u(),!(this instanceof D))return new D(R);var w=this instanceof e;this._readableState=new q(R,this,w),this.readable=!0,R&&(typeof R.read=="function"&&(this._read=R.read),typeof R.destroy=="function"&&(this._destroy=R.destroy)),r.call(this)}Object.defineProperty(D.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(w){this._readableState&&(this._readableState.destroyed=w)}}),D.prototype.destroy=f.destroy,D.prototype._undestroy=f.undestroy,D.prototype._destroy=function(R,w){w(R)},D.prototype.push=function(R,w){var T=this._readableState,k;return T.objectMode?k=!0:typeof R=="string"&&(w=w||T.defaultEncoding,w!==T.encoding&&(R=n.from(R,w),w=""),k=!0),M(this,R,w,!1,k)},D.prototype.unshift=function(R){return M(this,R,null,!0,!1)};function M(R,w,T,k,U){l("readableAddChunk",w);var re=R._readableState;if(w===null)re.reading=!1,X(R,re);else{var fe;if(U||(fe=P(re,w)),fe)x(R,fe);else if(re.objectMode||w&&w.length>0)if(typeof w!="string"&&!re.objectMode&&Object.getPrototypeOf(w)!==n.prototype&&(w=a(w)),k)re.endEmitted?x(R,new y):j(R,re,w,!0);else if(re.ended)x(R,new v);else{if(re.destroyed)return!1;re.reading=!1,re.decoder&&!T?(w=re.decoder.write(w),re.objectMode||w.length!==0?j(R,re,w,!1):ne(R,re)):j(R,re,w,!1)}else k||(re.reading=!1,ne(R,re))}return!re.ended&&(re.length<re.highWaterMark||re.length===0)}function j(R,w,T,k){w.flowing&&w.length===0&&!w.sync?(w.awaitDrain=0,R.emit("data",T)):(w.length+=w.objectMode?1:T.length,k?w.buffer.unshift(T):w.buffer.push(T),w.needReadable&&le(R)),ne(R,w)}function P(R,w){var T;return!o(w)&&typeof w!="string"&&w!==void 0&&!R.objectMode&&(T=new b("chunk",["string","Buffer","Uint8Array"],w)),T}D.prototype.isPaused=function(){return this._readableState.flowing===!1},D.prototype.setEncoding=function(R){m||(m=ga().StringDecoder);var w=new m(R);this._readableState.decoder=w,this._readableState.encoding=this._readableState.decoder.encoding;for(var T=this._readableState.buffer.head,k="";T!==null;)k+=w.write(T.data),T=T.next;return this._readableState.buffer.clear(),k!==""&&this._readableState.buffer.push(k),this._readableState.length=k.length,this};var B=1073741824;function Y(R){return R>=B?R=B:(R--,R|=R>>>1,R|=R>>>2,R|=R>>>4,R|=R>>>8,R|=R>>>16,R++),R}function ie(R,w){return R<=0||w.length===0&&w.ended?0:w.objectMode?1:R!==R?w.flowing&&w.length?w.buffer.head.data.length:w.length:(R>w.highWaterMark&&(w.highWaterMark=Y(R)),R<=w.length?R:w.ended?w.length:(w.needReadable=!0,0))}D.prototype.read=function(R){l("read",R),R=parseInt(R,10);var w=this._readableState,T=R;if(R!==0&&(w.emittedReadable=!1),R===0&&w.needReadable&&((w.highWaterMark!==0?w.length>=w.highWaterMark:w.length>0)||w.ended))return l("read: emitReadable",w.length,w.ended),w.length===0&&w.ended?$(this):le(this),null;if(R=ie(R,w),R===0&&w.ended)return w.length===0&&$(this),null;var k=w.needReadable;l("need readable",k),(w.length===0||w.length-R<w.highWaterMark)&&(k=!0,l("length less than watermark",k)),w.ended||w.reading?(k=!1,l("reading or ended",k)):k&&(l("do read"),w.reading=!0,w.sync=!0,w.length===0&&(w.needReadable=!0),this._read(w.highWaterMark),w.sync=!1,w.reading||(R=ie(T,w)));var U;return R>0?U=A(R,w):U=null,U===null?(w.needReadable=w.length<=w.highWaterMark,R=0):(w.length-=R,w.awaitDrain=0),w.length===0&&(w.ended||(w.needReadable=!0),T!==R&&w.ended&&$(this)),U!==null&&this.emit("data",U),U};function X(R,w){if(l("onEofChunk"),!w.ended){if(w.decoder){var T=w.decoder.end();T&&T.length&&(w.buffer.push(T),w.length+=w.objectMode?1:T.length)}w.ended=!0,w.sync?le(R):(w.needReadable=!1,w.emittedReadable||(w.emittedReadable=!0,ae(R)))}}function le(R){var w=R._readableState;l("emitReadable",w.needReadable,w.emittedReadable),w.needReadable=!1,w.emittedReadable||(l("emitReadable",w.flowing),w.emittedReadable=!0,ze.nextTick(ae,R))}function ae(R){var w=R._readableState;l("emitReadable_",w.destroyed,w.length,w.ended),!w.destroyed&&(w.length||w.ended)&&(R.emit("readable"),w.emittedReadable=!1),w.needReadable=!w.flowing&&!w.ended&&w.length<=w.highWaterMark,O(R)}function ne(R,w){w.readingMore||(w.readingMore=!0,ze.nextTick(H,R,w))}function H(R,w){for(;!w.reading&&!w.ended&&(w.length<w.highWaterMark||w.flowing&&w.length===0);){var T=w.length;if(l("maybeReadMore read 0"),R.read(0),T===w.length)break}w.readingMore=!1}D.prototype._read=function(R){x(this,new _("_read()"))},D.prototype.pipe=function(R,w){var T=this,k=this._readableState;switch(k.pipesCount){case 0:k.pipes=R;break;case 1:k.pipes=[k.pipes,R];break;default:k.pipes.push(R);break}k.pipesCount+=1,l("pipe count=%d opts=%j",k.pipesCount,w);var U=(!w||w.end!==!1)&&R!==ze.stdout&&R!==ze.stderr,re=U?ve:ke;k.endEmitted?ze.nextTick(re):T.once("end",re),R.on("unpipe",fe);function fe(Ke,Ue){l("onunpipe"),Ke===T&&Ue&&Ue.hasUnpiped===!1&&(Ue.hasUnpiped=!0,be())}function ve(){l("onend"),R.end()}var ce=oe(T);R.on("drain",ce);var Ie=!1;function be(){l("cleanup"),R.removeListener("close",Ae),R.removeListener("finish",Oe),R.removeListener("drain",ce),R.removeListener("error",je),R.removeListener("unpipe",fe),T.removeListener("end",ve),T.removeListener("end",ke),T.removeListener("data",Te),Ie=!0,k.awaitDrain&&(!R._writableState||R._writableState.needDrain)&&ce()}T.on("data",Te);function Te(Ke){l("ondata");var Ue=R.write(Ke);l("dest.write",Ue),Ue===!1&&((k.pipesCount===1&&k.pipes===R||k.pipesCount>1&&pe(k.pipes,R)!==-1)&&!Ie&&(l("false write response, pause",k.awaitDrain),k.awaitDrain++),T.pause())}function je(Ke){l("onerror",Ke),ke(),R.removeListener("error",je),t(R,"error")===0&&x(R,Ke)}N(R,"error",je);function Ae(){R.removeListener("finish",Oe),ke()}R.once("close",Ae);function Oe(){l("onfinish"),R.removeListener("close",Ae),ke()}R.once("finish",Oe);function ke(){l("unpipe"),T.unpipe(R)}return R.emit("pipe",T),k.flowing||(l("pipe resume"),T.resume()),R};function oe(R){return function(){var T=R._readableState;l("pipeOnDrain",T.awaitDrain),T.awaitDrain&&T.awaitDrain--,T.awaitDrain===0&&t(R,"data")&&(T.flowing=!0,O(R))}}D.prototype.unpipe=function(R){var w=this._readableState,T={hasUnpiped:!1};if(w.pipesCount===0)return this;if(w.pipesCount===1)return R&&R!==w.pipes?this:(R||(R=w.pipes),w.pipes=null,w.pipesCount=0,w.flowing=!1,R&&R.emit("unpipe",this,T),this);if(!R){var k=w.pipes,U=w.pipesCount;w.pipes=null,w.pipesCount=0,w.flowing=!1;for(var re=0;re<U;re++)k[re].emit("unpipe",this,{hasUnpiped:!1});return this}var fe=pe(w.pipes,R);return fe===-1?this:(w.pipes.splice(fe,1),w.pipesCount-=1,w.pipesCount===1&&(w.pipes=w.pipes[0]),R.emit("unpipe",this,T),this)},D.prototype.on=function(R,w){var T=r.prototype.on.call(this,R,w),k=this._readableState;return R==="data"?(k.readableListening=this.listenerCount("readable")>0,k.flowing!==!1&&this.resume()):R==="readable"&&!k.endEmitted&&!k.readableListening&&(k.readableListening=k.needReadable=!0,k.flowing=!1,k.emittedReadable=!1,l("on readable",k.length,k.reading),k.length?le(this):k.reading||ze.nextTick(Z,this)),T},D.prototype.addListener=D.prototype.on,D.prototype.removeListener=function(R,w){var T=r.prototype.removeListener.call(this,R,w);return R==="readable"&&ze.nextTick(he,this),T},D.prototype.removeAllListeners=function(R){var w=r.prototype.removeAllListeners.apply(this,arguments);return(R==="readable"||R===void 0)&&ze.nextTick(he,this),w};function he(R){var w=R._readableState;w.readableListening=R.listenerCount("readable")>0,w.resumeScheduled&&!w.paused?w.flowing=!0:R.listenerCount("data")>0&&R.resume()}function Z(R){l("readable nexttick read 0"),R.read(0)}D.prototype.resume=function(){var R=this._readableState;return R.flowing||(l("resume"),R.flowing=!R.readableListening,Q(this,R)),R.paused=!1,this};function Q(R,w){w.resumeScheduled||(w.resumeScheduled=!0,ze.nextTick(ee,R,w))}function ee(R,w){l("resume",w.reading),w.reading||R.read(0),w.resumeScheduled=!1,R.emit("resume"),O(R),w.flowing&&!w.reading&&R.read(0)}D.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function O(R){var w=R._readableState;for(l("flow",w.flowing);w.flowing&&R.read()!==null;);}D.prototype.wrap=function(R){var w=this,T=this._readableState,k=!1;R.on("end",function(){if(l("wrapped end"),T.decoder&&!T.ended){var fe=T.decoder.end();fe&&fe.length&&w.push(fe)}w.push(null)}),R.on("data",function(fe){if(l("wrapped data"),T.decoder&&(fe=T.decoder.write(fe)),!(T.objectMode&&fe==null)&&!(!T.objectMode&&(!fe||!fe.length))){var ve=w.push(fe);ve||(k=!0,R.pause())}});for(var U in R)this[U]===void 0&&typeof R[U]=="function"&&(this[U]=function(ve){return function(){return R[ve].apply(R,arguments)}}(U));for(var re=0;re<I.length;re++)R.on(I[re],this.emit.bind(this,I[re]));return this._read=function(fe){l("wrapped _read",fe),k&&(k=!1,R.resume())},this},typeof Symbol=="function"&&(D.prototype[Symbol.asyncIterator]=function(){return g===void 0&&(g=lJ()),g(this)}),Object.defineProperty(D.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(D.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(D.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(w){this._readableState&&(this._readableState.flowing=w)}}),D._fromList=A,Object.defineProperty(D.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function A(R,w){if(w.length===0)return null;var T;return w.objectMode?T=w.buffer.shift():!R||R>=w.length?(w.decoder?T=w.buffer.join(""):w.buffer.length===1?T=w.buffer.first():T=w.buffer.concat(w.length),w.buffer.clear()):T=w.buffer.consume(R,w.decoder),T}function $(R){var w=R._readableState;l("endReadable",w.endEmitted),w.endEmitted||(w.ended=!0,ze.nextTick(te,w,R))}function te(R,w){if(l("endReadableNT",R.endEmitted,R.length),!R.endEmitted&&R.length===0&&(R.endEmitted=!0,w.readable=!1,w.emit("end"),R.autoDestroy)){var T=w._writableState;(!T||T.autoDestroy&&T.finished)&&w.destroy()}}typeof Symbol=="function"&&(D.from=function(R,w){return S===void 0&&(S=fJ()),S(D,R,w)});function pe(R,w){for(var T=0,k=R.length;T<k;T++)if(R[T]===w)return T;return-1}return xw}var Rw,y3;function d8(){if(y3)return Rw;y3=1,Rw=s;var e=ll().codes,t=e.ERR_METHOD_NOT_IMPLEMENTED,r=e.ERR_MULTIPLE_CALLBACK,n=e.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=e.ERR_TRANSFORM_WITH_LENGTH_0,a=$u();Or()(s,a);function o(f,d){var c=this._transformState;c.transforming=!1;var p=c.writecb;if(p===null)return this.emit("error",new r);c.writechunk=null,c.writecb=null,d!=null&&this.push(d),p(f);var b=this._readableState;b.reading=!1,(b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}function s(f){if(!(this instanceof s))return new s(f);a.call(this,f),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",l)}function l(){var f=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(d,c){u(f,d,c)}):u(this,null,null)}s.prototype.push=function(f,d){return this._transformState.needTransform=!1,a.prototype.push.call(this,f,d)},s.prototype._transform=function(f,d,c){c(new t("_transform()"))},s.prototype._write=function(f,d,c){var p=this._transformState;if(p.writecb=c,p.writechunk=f,p.writeencoding=d,!p.transforming){var b=this._readableState;(p.needTransform||b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}},s.prototype._read=function(f){var d=this._transformState;d.writechunk!==null&&!d.transforming?(d.transforming=!0,this._transform(d.writechunk,d.writeencoding,d.afterTransform)):d.needTransform=!0},s.prototype._destroy=function(f,d){a.prototype._destroy.call(this,f,function(c){d(c)})};function u(f,d,c){if(d)return f.emit("error",d);if(c!=null&&f.push(c),f._writableState.length)throw new i;if(f._transformState.transforming)throw new n;return f.push(null)}return Rw}var Aw,g3;function cJ(){if(g3)return Aw;g3=1,Aw=t;var e=d8();Or()(t,e);function t(r){if(!(this instanceof t))return new t(r);e.call(this,r)}return t.prototype._transform=function(r,n,i){i(null,r)},Aw}var Iw,_3;function dJ(){if(_3)return Iw;_3=1;var e;function t(c){var p=!1;return function(){p||(p=!0,c.apply(void 0,arguments))}}var r=ll().codes,n=r.ERR_MISSING_ARGS,i=r.ERR_STREAM_DESTROYED;function a(c){if(c)throw c}function o(c){return c.setHeader&&typeof c.abort=="function"}function s(c,p,b,v){v=t(v);var _=!1;c.on("close",function(){_=!0}),e===void 0&&(e=rx()),e(c,{readable:p,writable:b},function(m){if(m)return v(m);_=!0,v()});var y=!1;return function(m){if(!_&&!y){if(y=!0,o(c))return c.abort();if(typeof c.destroy=="function")return c.destroy();v(m||new i("pipe"))}}}function l(c){c()}function u(c,p){return c.pipe(p)}function f(c){return!c.length||typeof c[c.length-1]!="function"?a:c.pop()}function d(){for(var c=arguments.length,p=new Array(c),b=0;b<c;b++)p[b]=arguments[b];var v=f(p);if(Array.isArray(p[0])&&(p=p[0]),p.length<2)throw new n("streams");var _,y=p.map(function(m,g){var S=g<p.length-1,x=g>0;return s(m,S,x,function(I){_||(_=I),I&&y.forEach(l),!S&&(y.forEach(l),v(_))})});return p.reduce(u)}return Iw=d,Iw}var b3;function h8(){return b3||(b3=1,function(e,t){t=e.exports=c8(),t.Stream=t,t.Readable=t,t.Writable=f8(),t.Duplex=$u(),t.Transform=d8(),t.PassThrough=cJ(),t.finished=rx(),t.pipeline=dJ()}(jm,jm.exports)),jm.exports}var v3;function p8(){if(v3)return Fm;v3=1;var e=o8(),t=Or(),r=h8(),n=Fm.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},i=Fm.IncomingMessage=function(a,o,s,l){var u=this;if(r.Readable.call(u),u._mode=s,u.headers={},u.rawHeaders=[],u.trailers={},u.rawTrailers=[],u.on("end",function(){ze.nextTick(function(){u.emit("close")})}),s==="fetch"){let v=function(){d.read().then(function(_){if(!u._destroyed){if(l(_.done),_.done){u.push(null);return}u.push(Qn.from(_.value)),v()}}).catch(function(_){l(!0),u._destroyed||u.emit("error",_)})};if(u._fetchResponse=o,u.url=o.url,u.statusCode=o.status,u.statusMessage=o.statusText,o.headers.forEach(function(_,y){u.headers[y.toLowerCase()]=_,u.rawHeaders.push(y,_)}),e.writableStream){var f=new WritableStream({write:function(_){return l(!1),new Promise(function(y,m){u._destroyed?m():u.push(Qn.from(_))?y():u._resumeFetch=y})},close:function(){l(!0),u._destroyed||u.push(null)},abort:function(_){l(!0),u._destroyed||u.emit("error",_)}});try{o.body.pipeTo(f).catch(function(_){l(!0),u._destroyed||u.emit("error",_)});return}catch{}}var d=o.body.getReader();v()}else{u._xhr=a,u._pos=0,u.url=a.responseURL,u.statusCode=a.status,u.statusMessage=a.statusText;var c=a.getAllResponseHeaders().split(/\r?\n/);if(c.forEach(function(v){var _=v.match(/^([^:]+):\s*(.*)/);if(_){var y=_[1].toLowerCase();y==="set-cookie"?(u.headers[y]===void 0&&(u.headers[y]=[]),u.headers[y].push(_[2])):u.headers[y]!==void 0?u.headers[y]+=", "+_[2]:u.headers[y]=_[2],u.rawHeaders.push(_[1],_[2])}}),u._charset="x-user-defined",!e.overrideMimeType){var p=u.rawHeaders["mime-type"];if(p){var b=p.match(/;\s*charset=([^;])(;|$)/);b&&(u._charset=b[1].toLowerCase())}u._charset||(u._charset="utf-8")}}};return t(i,r.Readable),i.prototype._read=function(){var a=this,o=a._resumeFetch;o&&(a._resumeFetch=null,o())},i.prototype._onXHRProgress=function(a){var o=this,s=o._xhr,l=null;switch(o._mode){case"text":if(l=s.responseText,l.length>o._pos){var u=l.substr(o._pos);if(o._charset==="x-user-defined"){for(var f=Qn.alloc(u.length),d=0;d<u.length;d++)f[d]=u.charCodeAt(d)&255;o.push(f)}else o.push(u,o._charset);o._pos=l.length}break;case"arraybuffer":if(s.readyState!==n.DONE||!s.response)break;l=s.response,o.push(Qn.from(new Uint8Array(l)));break;case"moz-chunked-arraybuffer":if(l=s.response,s.readyState!==n.LOADING||!l)break;o.push(Qn.from(new Uint8Array(l)));break;case"ms-stream":if(l=s.response,s.readyState!==n.LOADING)break;var c=new Tt.MSStreamReader;c.onprogress=function(){c.result.byteLength>o._pos&&(o.push(Qn.from(new Uint8Array(c.result.slice(o._pos)))),o._pos=c.result.byteLength)},c.onload=function(){a(!0),o.push(null)},c.readAsArrayBuffer(l);break}o._xhr.readyState===n.DONE&&o._mode!=="ms-stream"&&(a(!0),o.push(null))},Fm}var w3;function hJ(){if(w3)return hw.exports;w3=1;var e=o8(),t=Or(),r=p8(),n=h8(),i=r.IncomingMessage,a=r.readyStates;function o(f,d){return e.fetch&&d?"fetch":e.mozchunkedarraybuffer?"moz-chunked-arraybuffer":e.msstream?"ms-stream":e.arraybuffer&&f?"arraybuffer":"text"}var s=hw.exports=function(f){var d=this;n.Writable.call(d),d._opts=f,d._body=[],d._headers={},f.auth&&d.setHeader("Authorization","Basic "+Qn.from(f.auth).toString("base64")),Object.keys(f.headers).forEach(function(b){d.setHeader(b,f.headers[b])});var c,p=!0;if(f.mode==="disable-fetch"||"requestTimeout"in f&&!e.abortController)p=!1,c=!0;else if(f.mode==="prefer-streaming")c=!1;else if(f.mode==="allow-wrong-content-type")c=!e.overrideMimeType;else if(!f.mode||f.mode==="default"||f.mode==="prefer-fast")c=!0;else throw new Error("Invalid value for opts.mode");d._mode=o(c,p),d._fetchTimer=null,d._socketTimeout=null,d._socketTimer=null,d.on("finish",function(){d._onFinish()})};t(s,n.Writable),s.prototype.setHeader=function(f,d){var c=this,p=f.toLowerCase();u.indexOf(p)===-1&&(c._headers[p]={name:f,value:d})},s.prototype.getHeader=function(f){var d=this._headers[f.toLowerCase()];return d?d.value:null},s.prototype.removeHeader=function(f){var d=this;delete d._headers[f.toLowerCase()]},s.prototype._onFinish=function(){var f=this;if(!f._destroyed){var d=f._opts;"timeout"in d&&d.timeout!==0&&f.setTimeout(d.timeout);var c=f._headers,p=null;d.method!=="GET"&&d.method!=="HEAD"&&(p=new Blob(f._body,{type:(c["content-type"]||{}).value||""}));var b=[];if(Object.keys(c).forEach(function(m){var g=c[m].name,S=c[m].value;Array.isArray(S)?S.forEach(function(x){b.push([g,x])}):b.push([g,S])}),f._mode==="fetch"){var v=null;if(e.abortController){var _=new AbortController;v=_.signal,f._fetchAbortController=_,"requestTimeout"in d&&d.requestTimeout!==0&&(f._fetchTimer=Tt.setTimeout(function(){f.emit("requestTimeout"),f._fetchAbortController&&f._fetchAbortController.abort()},d.requestTimeout))}Tt.fetch(f._opts.url,{method:f._opts.method,headers:b,body:p||void 0,mode:"cors",credentials:d.withCredentials?"include":"same-origin",signal:v}).then(function(m){f._fetchResponse=m,f._resetTimers(!1),f._connect()},function(m){f._resetTimers(!0),f._destroyed||f.emit("error",m)})}else{var y=f._xhr=new Tt.XMLHttpRequest;try{y.open(f._opts.method,f._opts.url,!0)}catch(m){ze.nextTick(function(){f.emit("error",m)});return}"responseType"in y&&(y.responseType=f._mode),"withCredentials"in y&&(y.withCredentials=!!d.withCredentials),f._mode==="text"&&"overrideMimeType"in y&&y.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in d&&(y.timeout=d.requestTimeout,y.ontimeout=function(){f.emit("requestTimeout")}),b.forEach(function(m){y.setRequestHeader(m[0],m[1])}),f._response=null,y.onreadystatechange=function(){switch(y.readyState){case a.LOADING:case a.DONE:f._onXHRProgress();break}},f._mode==="moz-chunked-arraybuffer"&&(y.onprogress=function(){f._onXHRProgress()}),y.onerror=function(){f._destroyed||(f._resetTimers(!0),f.emit("error",new Error("XHR error")))};try{y.send(p)}catch(m){ze.nextTick(function(){f.emit("error",m)});return}}}};function l(f){try{var d=f.status;return d!==null&&d!==0}catch{return!1}}s.prototype._onXHRProgress=function(){var f=this;f._resetTimers(!1),!(!l(f._xhr)||f._destroyed)&&(f._response||f._connect(),f._response._onXHRProgress(f._resetTimers.bind(f)))},s.prototype._connect=function(){var f=this;f._destroyed||(f._response=new i(f._xhr,f._fetchResponse,f._mode,f._resetTimers.bind(f)),f._response.on("error",function(d){f.emit("error",d)}),f.emit("response",f._response))},s.prototype._write=function(f,d,c){var p=this;p._body.push(f),c()},s.prototype._resetTimers=function(f){var d=this;Tt.clearTimeout(d._socketTimer),d._socketTimer=null,f?(Tt.clearTimeout(d._fetchTimer),d._fetchTimer=null):d._socketTimeout&&(d._socketTimer=Tt.setTimeout(function(){d.emit("timeout")},d._socketTimeout))},s.prototype.abort=s.prototype.destroy=function(f){var d=this;d._destroyed=!0,d._resetTimers(!0),d._response&&(d._response._destroyed=!0),d._xhr?d._xhr.abort():d._fetchAbortController&&d._fetchAbortController.abort(),f&&d.emit("error",f)},s.prototype.end=function(f,d,c){var p=this;typeof f=="function"&&(c=f,f=void 0),n.Writable.prototype.end.call(p,f,d,c)},s.prototype.setTimeout=function(f,d){var c=this;d&&c.once("timeout",d),c._socketTimeout=f,c._resetTimers(!1)},s.prototype.flushHeaders=function(){},s.prototype.setNoDelay=function(){},s.prototype.setSocketKeepAlive=function(){};var u=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"];return hw.exports}var Pw,S3;function pJ(){if(S3)return Pw;S3=1,Pw=t;var e=Object.prototype.hasOwnProperty;function t(){for(var r={},n=0;n<arguments.length;n++){var i=arguments[n];for(var a in i)e.call(i,a)&&(r[a]=i[a])}return r}return Pw}var Ow,E3;function mJ(){return E3||(E3=1,Ow={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}),Ow}var hp={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */var yJ=hp.exports,T3;function gJ(){return T3||(T3=1,function(e,t){(function(r){var n=t&&!t.nodeType&&t,i=!e.nodeType&&e,a=typeof Tt=="object"&&Tt;(a.global===a||a.window===a||a.self===a)&&(r=a);var o,s=2147483647,l=36,u=1,f=26,d=38,c=700,p=72,b=128,v="-",_=/^xn--/,y=/[^\x20-\x7E]/,m=/[\x2E\u3002\uFF0E\uFF61]/g,g={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},S=l-u,x=Math.floor,I=String.fromCharCode,N;function q(H){throw new RangeError(g[H])}function D(H,oe){for(var he=H.length,Z=[];he--;)Z[he]=oe(H[he]);return Z}function M(H,oe){var he=H.split("@"),Z="";he.length>1&&(Z=he[0]+"@",H=he[1]),H=H.replace(m,".");var Q=H.split("."),ee=D(Q,oe).join(".");return Z+ee}function j(H){for(var oe=[],he=0,Z=H.length,Q,ee;he<Z;)Q=H.charCodeAt(he++),Q>=55296&&Q<=56319&&he<Z?(ee=H.charCodeAt(he++),(ee&64512)==56320?oe.push(((Q&1023)<<10)+(ee&1023)+65536):(oe.push(Q),he--)):oe.push(Q);return oe}function P(H){return D(H,function(oe){var he="";return oe>65535&&(oe-=65536,he+=I(oe>>>10&1023|55296),oe=56320|oe&1023),he+=I(oe),he}).join("")}function B(H){return H-48<10?H-22:H-65<26?H-65:H-97<26?H-97:l}function Y(H,oe){return H+22+75*(H<26)-((oe!=0)<<5)}function ie(H,oe,he){var Z=0;for(H=he?x(H/c):H>>1,H+=x(H/oe);H>S*f>>1;Z+=l)H=x(H/S);return x(Z+(S+1)*H/(H+d))}function X(H){var oe=[],he=H.length,Z,Q=0,ee=b,O=p,A,$,te,pe,R,w,T,k,U;for(A=H.lastIndexOf(v),A<0&&(A=0),$=0;$<A;++$)H.charCodeAt($)>=128&&q("not-basic"),oe.push(H.charCodeAt($));for(te=A>0?A+1:0;te<he;){for(pe=Q,R=1,w=l;te>=he&&q("invalid-input"),T=B(H.charCodeAt(te++)),(T>=l||T>x((s-Q)/R))&&q("overflow"),Q+=T*R,k=w<=O?u:w>=O+f?f:w-O,!(T<k);w+=l)U=l-k,R>x(s/U)&&q("overflow"),R*=U;Z=oe.length+1,O=ie(Q-pe,Z,pe==0),x(Q/Z)>s-ee&&q("overflow"),ee+=x(Q/Z),Q%=Z,oe.splice(Q++,0,ee)}return P(oe)}function le(H){var oe,he,Z,Q,ee,O,A,$,te,pe,R,w=[],T,k,U,re;for(H=j(H),T=H.length,oe=b,he=0,ee=p,O=0;O<T;++O)R=H[O],R<128&&w.push(I(R));for(Z=Q=w.length,Q&&w.push(v);Z<T;){for(A=s,O=0;O<T;++O)R=H[O],R>=oe&&R<A&&(A=R);for(k=Z+1,A-oe>x((s-he)/k)&&q("overflow"),he+=(A-oe)*k,oe=A,O=0;O<T;++O)if(R=H[O],R<oe&&++he>s&&q("overflow"),R==oe){for($=he,te=l;pe=te<=ee?u:te>=ee+f?f:te-ee,!($<pe);te+=l)re=$-pe,U=l-pe,w.push(I(Y(pe+re%U,0))),$=x(re/U);w.push(I(Y($,0))),ee=ie(he,k,Z==Q),he=0,++Z}++he,++oe}return w.join("")}function ae(H){return M(H,function(oe){return _.test(oe)?X(oe.slice(4).toLowerCase()):oe})}function ne(H){return M(H,function(oe){return y.test(oe)?"xn--"+le(oe):oe})}if(o={version:"1.4.1",ucs2:{decode:j,encode:P},decode:X,encode:le,toASCII:ne,toUnicode:ae},n&&i)if(e.exports==n)i.exports=o;else for(N in o)o.hasOwnProperty(N)&&(n[N]=o[N]);else r.punycode=o})(yJ)}(hp,hp.exports)),hp.exports}var _J=gJ();const bJ=f0(_J),vJ={},wJ=Object.freeze(Object.defineProperty({__proto__:null,default:vJ},Symbol.toStringTag,{value:"Module"})),SJ=el(wJ);var Nw,x3;function sg(){if(x3)return Nw;x3=1;var e=typeof Map=="function"&&Map.prototype,t=Object.getOwnPropertyDescriptor&&e?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,r=e&&t&&typeof t.get=="function"?t.get:null,n=e&&Map.prototype.forEach,i=typeof Set=="function"&&Set.prototype,a=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,o=i&&a&&typeof a.get=="function"?a.get:null,s=i&&Set.prototype.forEach,l=typeof WeakMap=="function"&&WeakMap.prototype,u=l?WeakMap.prototype.has:null,f=typeof WeakSet=="function"&&WeakSet.prototype,d=f?WeakSet.prototype.has:null,c=typeof WeakRef=="function"&&WeakRef.prototype,p=c?WeakRef.prototype.deref:null,b=Boolean.prototype.valueOf,v=Object.prototype.toString,_=Function.prototype.toString,y=String.prototype.match,m=String.prototype.slice,g=String.prototype.replace,S=String.prototype.toUpperCase,x=String.prototype.toLowerCase,I=RegExp.prototype.test,N=Array.prototype.concat,q=Array.prototype.join,D=Array.prototype.slice,M=Math.floor,j=typeof BigInt=="function"?BigInt.prototype.valueOf:null,P=Object.getOwnPropertySymbols,B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Y=typeof Symbol=="function"&&typeof Symbol.iterator=="object",ie=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Y||!0)?Symbol.toStringTag:null,X=Object.prototype.propertyIsEnumerable,le=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(se){return se.__proto__}:null);function ae(se,ge){if(se===1/0||se===-1/0||se!==se||se&&se>-1e3&&se<1e3||I.call(/e/,ge))return ge;var de=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof se=="number"){var Re=se<0?-M(-se):M(se);if(Re!==se){var Be=String(Re),V=m.call(ge,Be.length+1);return g.call(Be,de,"$&_")+"."+g.call(g.call(V,/([0-9]{3})/g,"$&_"),/_$/,"")}}return g.call(ge,de,"$&_")}var ne=SJ,H=ne.custom,oe=T(H)?H:null,he={__proto__:null,double:'"',single:"'"},Z={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};Nw=function se(ge,de,Re,Be){var V=de||{};if(re(V,"quoteStyle")&&!re(he,V.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(re(V,"maxStringLength")&&(typeof V.maxStringLength=="number"?V.maxStringLength<0&&V.maxStringLength!==1/0:V.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var xe=re(V,"customInspect")?V.customInspect:!0;if(typeof xe!="boolean"&&xe!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(re(V,"indent")&&V.indent!==null&&V.indent!=="	"&&!(parseInt(V.indent,10)===V.indent&&V.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(re(V,"numericSeparator")&&typeof V.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Ce=V.numericSeparator;if(typeof ge>"u")return"undefined";if(ge===null)return"null";if(typeof ge=="boolean")return ge?"true":"false";if(typeof ge=="string")return ke(ge,V);if(typeof ge=="number"){if(ge===0)return 1/0/ge>0?"0":"-0";var me=String(ge);return Ce?ae(ge,me):me}if(typeof ge=="bigint"){var Me=String(ge)+"n";return Ce?ae(ge,Me):Me}var He=typeof V.depth>"u"?5:V.depth;if(typeof Re>"u"&&(Re=0),Re>=He&&He>0&&typeof ge=="object")return O(ge)?"[Array]":"[Object]";var ft=K(V,Re);if(typeof Be>"u")Be=[];else if(ce(Be,ge)>=0)return"[Circular]";function we(Ge,We,ht){if(We&&(Be=D.call(Be),Be.push(We)),ht){var gt={depth:V.depth};return re(V,"quoteStyle")&&(gt.quoteStyle=V.quoteStyle),se(Ge,gt,Re+1,Be)}return se(Ge,V,Re+1,Be)}if(typeof ge=="function"&&!$(ge)){var W=ve(ge),G=Pe(ge,we);return"[Function"+(W?": "+W:" (anonymous)")+"]"+(G.length>0?" { "+q.call(G,", ")+" }":"")}if(T(ge)){var J=Y?g.call(String(ge),/^(Symbol\(.*\))_[^)]*$/,"$1"):B.call(ge);return typeof ge=="object"&&!Y?Ue(J):J}if(Oe(ge)){for(var Se="<"+x.call(String(ge.nodeName)),Le=ge.attributes||[],De=0;De<Le.length;De++)Se+=" "+Le[De].name+"="+Q(ee(Le[De].value),"double",V);return Se+=">",ge.childNodes&&ge.childNodes.length&&(Se+="..."),Se+="</"+x.call(String(ge.nodeName))+">",Se}if(O(ge)){if(ge.length===0)return"[]";var Ve=Pe(ge,we);return ft&&!F(Ve)?"["+_e(Ve,ft)+"]":"[ "+q.call(Ve,", ")+" ]"}if(te(ge)){var $e=Pe(ge,we);return!("cause"in Error.prototype)&&"cause"in ge&&!X.call(ge,"cause")?"{ ["+String(ge)+"] "+q.call(N.call("[cause]: "+we(ge.cause),$e),", ")+" }":$e.length===0?"["+String(ge)+"]":"{ ["+String(ge)+"] "+q.call($e,", ")+" }"}if(typeof ge=="object"&&xe){if(oe&&typeof ge[oe]=="function"&&ne)return ne(ge,{depth:He-Re});if(xe!=="symbol"&&typeof ge.inspect=="function")return ge.inspect()}if(Ie(ge)){var ut=[];return n&&n.call(ge,function(Ge,We){ut.push(we(We,ge,!0)+" => "+we(Ge,ge))}),ye("Map",r.call(ge),ut,ft)}if(je(ge)){var lt=[];return s&&s.call(ge,function(Ge){lt.push(we(Ge,ge))}),ye("Set",o.call(ge),lt,ft)}if(be(ge))return it("WeakMap");if(Ae(ge))return it("WeakSet");if(Te(ge))return it("WeakRef");if(R(ge))return Ue(we(Number(ge)));if(k(ge))return Ue(we(j.call(ge)));if(w(ge))return Ue(b.call(ge));if(pe(ge))return Ue(we(String(ge)));if(typeof window<"u"&&ge===window)return"{ [object Window] }";if(typeof globalThis<"u"&&ge===globalThis||typeof Tt<"u"&&ge===Tt)return"{ [object globalThis] }";if(!A(ge)&&!$(ge)){var dt=Pe(ge,we),ct=le?le(ge)===Object.prototype:ge instanceof Object||ge.constructor===Object,nt=ge instanceof Object?"":"null prototype",lr=!ct&&ie&&Object(ge)===ge&&ie in ge?m.call(fe(ge),8,-1):nt?"Object":"",at=ct||typeof ge.constructor!="function"?"":ge.constructor.name?ge.constructor.name+" ":"",Ne=at+(lr||nt?"["+q.call(N.call([],lr||[],nt||[]),": ")+"] ":"");return dt.length===0?Ne+"{}":ft?Ne+"{"+_e(dt,ft)+"}":Ne+"{ "+q.call(dt,", ")+" }"}return String(ge)};function Q(se,ge,de){var Re=de.quoteStyle||ge,Be=he[Re];return Be+se+Be}function ee(se){return g.call(String(se),/"/g,"&quot;")}function O(se){return fe(se)==="[object Array]"&&(!ie||!(typeof se=="object"&&ie in se))}function A(se){return fe(se)==="[object Date]"&&(!ie||!(typeof se=="object"&&ie in se))}function $(se){return fe(se)==="[object RegExp]"&&(!ie||!(typeof se=="object"&&ie in se))}function te(se){return fe(se)==="[object Error]"&&(!ie||!(typeof se=="object"&&ie in se))}function pe(se){return fe(se)==="[object String]"&&(!ie||!(typeof se=="object"&&ie in se))}function R(se){return fe(se)==="[object Number]"&&(!ie||!(typeof se=="object"&&ie in se))}function w(se){return fe(se)==="[object Boolean]"&&(!ie||!(typeof se=="object"&&ie in se))}function T(se){if(Y)return se&&typeof se=="object"&&se instanceof Symbol;if(typeof se=="symbol")return!0;if(!se||typeof se!="object"||!B)return!1;try{return B.call(se),!0}catch{}return!1}function k(se){if(!se||typeof se!="object"||!j)return!1;try{return j.call(se),!0}catch{}return!1}var U=Object.prototype.hasOwnProperty||function(se){return se in this};function re(se,ge){return U.call(se,ge)}function fe(se){return v.call(se)}function ve(se){if(se.name)return se.name;var ge=y.call(_.call(se),/^function\s*([\w$]+)/);return ge?ge[1]:null}function ce(se,ge){if(se.indexOf)return se.indexOf(ge);for(var de=0,Re=se.length;de<Re;de++)if(se[de]===ge)return de;return-1}function Ie(se){if(!r||!se||typeof se!="object")return!1;try{r.call(se);try{o.call(se)}catch{return!0}return se instanceof Map}catch{}return!1}function be(se){if(!u||!se||typeof se!="object")return!1;try{u.call(se,u);try{d.call(se,d)}catch{return!0}return se instanceof WeakMap}catch{}return!1}function Te(se){if(!p||!se||typeof se!="object")return!1;try{return p.call(se),!0}catch{}return!1}function je(se){if(!o||!se||typeof se!="object")return!1;try{o.call(se);try{r.call(se)}catch{return!0}return se instanceof Set}catch{}return!1}function Ae(se){if(!d||!se||typeof se!="object")return!1;try{d.call(se,d);try{u.call(se,u)}catch{return!0}return se instanceof WeakSet}catch{}return!1}function Oe(se){return!se||typeof se!="object"?!1:typeof HTMLElement<"u"&&se instanceof HTMLElement?!0:typeof se.nodeName=="string"&&typeof se.getAttribute=="function"}function ke(se,ge){if(se.length>ge.maxStringLength){var de=se.length-ge.maxStringLength,Re="... "+de+" more character"+(de>1?"s":"");return ke(m.call(se,0,ge.maxStringLength),ge)+Re}var Be=Z[ge.quoteStyle||"single"];Be.lastIndex=0;var V=g.call(g.call(se,Be,"\\$1"),/[\x00-\x1f]/g,Ke);return Q(V,"single",ge)}function Ke(se){var ge=se.charCodeAt(0),de={8:"b",9:"t",10:"n",12:"f",13:"r"}[ge];return de?"\\"+de:"\\x"+(ge<16?"0":"")+S.call(ge.toString(16))}function Ue(se){return"Object("+se+")"}function it(se){return se+" { ? }"}function ye(se,ge,de,Re){var Be=Re?_e(de,Re):q.call(de,", ");return se+" ("+ge+") {"+Be+"}"}function F(se){for(var ge=0;ge<se.length;ge++)if(ce(se[ge],`
`)>=0)return!1;return!0}function K(se,ge){var de;if(se.indent==="	")de="	";else if(typeof se.indent=="number"&&se.indent>0)de=q.call(Array(se.indent+1)," ");else return null;return{base:de,prev:q.call(Array(ge+1),de)}}function _e(se,ge){if(se.length===0)return"";var de=`
`+ge.prev+ge.base;return de+q.call(se,","+de)+`
`+ge.prev}function Pe(se,ge){var de=O(se),Re=[];if(de){Re.length=se.length;for(var Be=0;Be<se.length;Be++)Re[Be]=re(se,Be)?ge(se[Be],se):""}var V=typeof P=="function"?P(se):[],xe;if(Y){xe={};for(var Ce=0;Ce<V.length;Ce++)xe["$"+V[Ce]]=V[Ce]}for(var me in se)re(se,me)&&(de&&String(Number(me))===me&&me<se.length||Y&&xe["$"+me]instanceof Symbol||(I.call(/[^\w$]/,me)?Re.push(ge(me,se)+": "+ge(se[me],se)):Re.push(me+": "+ge(se[me],se))));if(typeof P=="function")for(var Me=0;Me<V.length;Me++)X.call(se,V[Me])&&Re.push("["+ge(V[Me])+"]: "+ge(se[V[Me]],se));return Re}return Nw}var Dw,R3;function EJ(){if(R3)return Dw;R3=1;var e=sg(),t=to(),r=function(s,l,u){for(var f=s,d;(d=f.next)!=null;f=d)if(d.key===l)return f.next=d.next,u||(d.next=s.next,s.next=d),d},n=function(s,l){if(s){var u=r(s,l);return u&&u.value}},i=function(s,l,u){var f=r(s,l);f?f.value=u:s.next={key:l,next:s.next,value:u}},a=function(s,l){return s?!!r(s,l):!1},o=function(s,l){if(s)return r(s,l,!0)};return Dw=function(){var l,u={assert:function(f){if(!u.has(f))throw new t("Side channel does not contain "+e(f))},delete:function(f){var d=l&&l.next,c=o(l,f);return c&&d&&d===c&&(l=void 0),!!c},get:function(f){return n(l,f)},has:function(f){return a(l,f)},set:function(f,d){l||(l={next:void 0}),i(l,f,d)}};return u},Dw}var Cw,A3;function m8(){if(A3)return Cw;A3=1;var e=m0(),t=zo(),r=sg(),n=to(),i=e("%Map%",!0),a=t("Map.prototype.get",!0),o=t("Map.prototype.set",!0),s=t("Map.prototype.has",!0),l=t("Map.prototype.delete",!0),u=t("Map.prototype.size",!0);return Cw=!!i&&function(){var d,c={assert:function(p){if(!c.has(p))throw new n("Side channel does not contain "+r(p))},delete:function(p){if(d){var b=l(d,p);return u(d)===0&&(d=void 0),b}return!1},get:function(p){if(d)return a(d,p)},has:function(p){return d?s(d,p):!1},set:function(p,b){d||(d=new i),o(d,p,b)}};return c},Cw}var Lw,I3;function TJ(){if(I3)return Lw;I3=1;var e=m0(),t=zo(),r=sg(),n=m8(),i=to(),a=e("%WeakMap%",!0),o=t("WeakMap.prototype.get",!0),s=t("WeakMap.prototype.set",!0),l=t("WeakMap.prototype.has",!0),u=t("WeakMap.prototype.delete",!0);return Lw=a?function(){var d,c,p={assert:function(b){if(!p.has(b))throw new i("Side channel does not contain "+r(b))},delete:function(b){if(a&&b&&(typeof b=="object"||typeof b=="function")){if(d)return u(d,b)}else if(n&&c)return c.delete(b);return!1},get:function(b){return a&&b&&(typeof b=="object"||typeof b=="function")&&d?o(d,b):c&&c.get(b)},has:function(b){return a&&b&&(typeof b=="object"||typeof b=="function")&&d?l(d,b):!!c&&c.has(b)},set:function(b,v){a&&b&&(typeof b=="object"||typeof b=="function")?(d||(d=new a),s(d,b,v)):n&&(c||(c=n()),c.set(b,v))}};return p}:n,Lw}var Mw,P3;function xJ(){if(P3)return Mw;P3=1;var e=to(),t=sg(),r=EJ(),n=m8(),i=TJ(),a=i||n||r;return Mw=function(){var s,l={assert:function(u){if(!l.has(u))throw new e("Side channel does not contain "+t(u))},delete:function(u){return!!s&&s.delete(u)},get:function(u){return s&&s.get(u)},has:function(u){return!!s&&s.has(u)},set:function(u,f){s||(s=a()),s.set(u,f)}};return l},Mw}var kw,O3;function nx(){if(O3)return kw;O3=1;var e=String.prototype.replace,t=/%20/g,r={RFC1738:"RFC1738",RFC3986:"RFC3986"};return kw={default:r.RFC3986,formatters:{RFC1738:function(n){return e.call(n,t,"+")},RFC3986:function(n){return String(n)}},RFC1738:r.RFC1738,RFC3986:r.RFC3986},kw}var Fw,N3;function y8(){if(N3)return Fw;N3=1;var e=nx(),t=Object.prototype.hasOwnProperty,r=Array.isArray,n=function(){for(var _=[],y=0;y<256;++y)_.push("%"+((y<16?"0":"")+y.toString(16)).toUpperCase());return _}(),i=function(y){for(;y.length>1;){var m=y.pop(),g=m.obj[m.prop];if(r(g)){for(var S=[],x=0;x<g.length;++x)typeof g[x]<"u"&&S.push(g[x]);m.obj[m.prop]=S}}},a=function(y,m){for(var g=m&&m.plainObjects?{__proto__:null}:{},S=0;S<y.length;++S)typeof y[S]<"u"&&(g[S]=y[S]);return g},o=function _(y,m,g){if(!m)return y;if(typeof m!="object"&&typeof m!="function"){if(r(y))y.push(m);else if(y&&typeof y=="object")(g&&(g.plainObjects||g.allowPrototypes)||!t.call(Object.prototype,m))&&(y[m]=!0);else return[y,m];return y}if(!y||typeof y!="object")return[y].concat(m);var S=y;return r(y)&&!r(m)&&(S=a(y,g)),r(y)&&r(m)?(m.forEach(function(x,I){if(t.call(y,I)){var N=y[I];N&&typeof N=="object"&&x&&typeof x=="object"?y[I]=_(N,x,g):y.push(x)}else y[I]=x}),y):Object.keys(m).reduce(function(x,I){var N=m[I];return t.call(x,I)?x[I]=_(x[I],N,g):x[I]=N,x},S)},s=function(y,m){return Object.keys(m).reduce(function(g,S){return g[S]=m[S],g},y)},l=function(_,y,m){var g=_.replace(/\+/g," ");if(m==="iso-8859-1")return g.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(g)}catch{return g}},u=1024,f=function(y,m,g,S,x){if(y.length===0)return y;var I=y;if(typeof y=="symbol"?I=Symbol.prototype.toString.call(y):typeof y!="string"&&(I=String(y)),g==="iso-8859-1")return escape(I).replace(/%u[0-9a-f]{4}/gi,function(B){return"%26%23"+parseInt(B.slice(2),16)+"%3B"});for(var N="",q=0;q<I.length;q+=u){for(var D=I.length>=u?I.slice(q,q+u):I,M=[],j=0;j<D.length;++j){var P=D.charCodeAt(j);if(P===45||P===46||P===95||P===126||P>=48&&P<=57||P>=65&&P<=90||P>=97&&P<=122||x===e.RFC1738&&(P===40||P===41)){M[M.length]=D.charAt(j);continue}if(P<128){M[M.length]=n[P];continue}if(P<2048){M[M.length]=n[192|P>>6]+n[128|P&63];continue}if(P<55296||P>=57344){M[M.length]=n[224|P>>12]+n[128|P>>6&63]+n[128|P&63];continue}j+=1,P=65536+((P&1023)<<10|D.charCodeAt(j)&1023),M[M.length]=n[240|P>>18]+n[128|P>>12&63]+n[128|P>>6&63]+n[128|P&63]}N+=M.join("")}return N},d=function(y){for(var m=[{obj:{o:y},prop:"o"}],g=[],S=0;S<m.length;++S)for(var x=m[S],I=x.obj[x.prop],N=Object.keys(I),q=0;q<N.length;++q){var D=N[q],M=I[D];typeof M=="object"&&M!==null&&g.indexOf(M)===-1&&(m.push({obj:I,prop:D}),g.push(M))}return i(m),y},c=function(y){return Object.prototype.toString.call(y)==="[object RegExp]"},p=function(y){return!y||typeof y!="object"?!1:!!(y.constructor&&y.constructor.isBuffer&&y.constructor.isBuffer(y))},b=function(y,m){return[].concat(y,m)},v=function(y,m){if(r(y)){for(var g=[],S=0;S<y.length;S+=1)g.push(m(y[S]));return g}return m(y)};return Fw={arrayToObject:a,assign:s,combine:b,compact:d,decode:l,encode:f,isBuffer:p,isRegExp:c,maybeMap:v,merge:o},Fw}var jw,D3;function RJ(){if(D3)return jw;D3=1;var e=xJ(),t=y8(),r=nx(),n=Object.prototype.hasOwnProperty,i={brackets:function(_){return _+"[]"},comma:"comma",indices:function(_,y){return _+"["+y+"]"},repeat:function(_){return _}},a=Array.isArray,o=Array.prototype.push,s=function(v,_){o.apply(v,a(_)?_:[_])},l=Date.prototype.toISOString,u=r.default,f={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:t.encode,encodeValuesOnly:!1,filter:void 0,format:u,formatter:r.formatters[u],indices:!1,serializeDate:function(_){return l.call(_)},skipNulls:!1,strictNullHandling:!1},d=function(_){return typeof _=="string"||typeof _=="number"||typeof _=="boolean"||typeof _=="symbol"||typeof _=="bigint"},c={},p=function v(_,y,m,g,S,x,I,N,q,D,M,j,P,B,Y,ie,X,le){for(var ae=_,ne=le,H=0,oe=!1;(ne=ne.get(c))!==void 0&&!oe;){var he=ne.get(_);if(H+=1,typeof he<"u"){if(he===H)throw new RangeError("Cyclic object value");oe=!0}typeof ne.get(c)>"u"&&(H=0)}if(typeof D=="function"?ae=D(y,ae):ae instanceof Date?ae=P(ae):m==="comma"&&a(ae)&&(ae=t.maybeMap(ae,function(U){return U instanceof Date?P(U):U})),ae===null){if(x)return q&&!ie?q(y,f.encoder,X,"key",B):y;ae=""}if(d(ae)||t.isBuffer(ae)){if(q){var Z=ie?y:q(y,f.encoder,X,"key",B);return[Y(Z)+"="+Y(q(ae,f.encoder,X,"value",B))]}return[Y(y)+"="+Y(String(ae))]}var Q=[];if(typeof ae>"u")return Q;var ee;if(m==="comma"&&a(ae))ie&&q&&(ae=t.maybeMap(ae,q)),ee=[{value:ae.length>0?ae.join(",")||null:void 0}];else if(a(D))ee=D;else{var O=Object.keys(ae);ee=M?O.sort(M):O}var A=N?String(y).replace(/\./g,"%2E"):String(y),$=g&&a(ae)&&ae.length===1?A+"[]":A;if(S&&a(ae)&&ae.length===0)return $+"[]";for(var te=0;te<ee.length;++te){var pe=ee[te],R=typeof pe=="object"&&pe&&typeof pe.value<"u"?pe.value:ae[pe];if(!(I&&R===null)){var w=j&&N?String(pe).replace(/\./g,"%2E"):String(pe),T=a(ae)?typeof m=="function"?m($,w):$:$+(j?"."+w:"["+w+"]");le.set(_,H);var k=e();k.set(c,le),s(Q,v(R,T,m,g,S,x,I,N,m==="comma"&&ie&&a(ae)?null:q,D,M,j,P,B,Y,ie,X,k))}}return Q},b=function(_){if(!_)return f;if(typeof _.allowEmptyArrays<"u"&&typeof _.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof _.encodeDotInKeys<"u"&&typeof _.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(_.encoder!==null&&typeof _.encoder<"u"&&typeof _.encoder!="function")throw new TypeError("Encoder has to be a function.");var y=_.charset||f.charset;if(typeof _.charset<"u"&&_.charset!=="utf-8"&&_.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var m=r.default;if(typeof _.format<"u"){if(!n.call(r.formatters,_.format))throw new TypeError("Unknown format option provided.");m=_.format}var g=r.formatters[m],S=f.filter;(typeof _.filter=="function"||a(_.filter))&&(S=_.filter);var x;if(_.arrayFormat in i?x=_.arrayFormat:"indices"in _?x=_.indices?"indices":"repeat":x=f.arrayFormat,"commaRoundTrip"in _&&typeof _.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var I=typeof _.allowDots>"u"?_.encodeDotInKeys===!0?!0:f.allowDots:!!_.allowDots;return{addQueryPrefix:typeof _.addQueryPrefix=="boolean"?_.addQueryPrefix:f.addQueryPrefix,allowDots:I,allowEmptyArrays:typeof _.allowEmptyArrays=="boolean"?!!_.allowEmptyArrays:f.allowEmptyArrays,arrayFormat:x,charset:y,charsetSentinel:typeof _.charsetSentinel=="boolean"?_.charsetSentinel:f.charsetSentinel,commaRoundTrip:!!_.commaRoundTrip,delimiter:typeof _.delimiter>"u"?f.delimiter:_.delimiter,encode:typeof _.encode=="boolean"?_.encode:f.encode,encodeDotInKeys:typeof _.encodeDotInKeys=="boolean"?_.encodeDotInKeys:f.encodeDotInKeys,encoder:typeof _.encoder=="function"?_.encoder:f.encoder,encodeValuesOnly:typeof _.encodeValuesOnly=="boolean"?_.encodeValuesOnly:f.encodeValuesOnly,filter:S,format:m,formatter:g,serializeDate:typeof _.serializeDate=="function"?_.serializeDate:f.serializeDate,skipNulls:typeof _.skipNulls=="boolean"?_.skipNulls:f.skipNulls,sort:typeof _.sort=="function"?_.sort:null,strictNullHandling:typeof _.strictNullHandling=="boolean"?_.strictNullHandling:f.strictNullHandling}};return jw=function(v,_){var y=v,m=b(_),g,S;typeof m.filter=="function"?(S=m.filter,y=S("",y)):a(m.filter)&&(S=m.filter,g=S);var x=[];if(typeof y!="object"||y===null)return"";var I=i[m.arrayFormat],N=I==="comma"&&m.commaRoundTrip;g||(g=Object.keys(y)),m.sort&&g.sort(m.sort);for(var q=e(),D=0;D<g.length;++D){var M=g[D],j=y[M];m.skipNulls&&j===null||s(x,p(j,M,I,N,m.allowEmptyArrays,m.strictNullHandling,m.skipNulls,m.encodeDotInKeys,m.encode?m.encoder:null,m.filter,m.sort,m.allowDots,m.serializeDate,m.format,m.formatter,m.encodeValuesOnly,m.charset,q))}var P=x.join(m.delimiter),B=m.addQueryPrefix===!0?"?":"";return m.charsetSentinel&&(m.charset==="iso-8859-1"?B+="utf8=%26%2310003%3B&":B+="utf8=%E2%9C%93&"),P.length>0?B+P:""},jw}var qw,C3;function AJ(){if(C3)return qw;C3=1;var e=y8(),t=Object.prototype.hasOwnProperty,r=Array.isArray,n={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:e.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},i=function(c){return c.replace(/&#(\d+);/g,function(p,b){return String.fromCharCode(parseInt(b,10))})},a=function(c,p,b){if(c&&typeof c=="string"&&p.comma&&c.indexOf(",")>-1)return c.split(",");if(p.throwOnLimitExceeded&&b>=p.arrayLimit)throw new RangeError("Array limit exceeded. Only "+p.arrayLimit+" element"+(p.arrayLimit===1?"":"s")+" allowed in an array.");return c},o="utf8=%26%2310003%3B",s="utf8=%E2%9C%93",l=function(p,b){var v={__proto__:null},_=b.ignoreQueryPrefix?p.replace(/^\?/,""):p;_=_.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var y=b.parameterLimit===1/0?void 0:b.parameterLimit,m=_.split(b.delimiter,b.throwOnLimitExceeded?y+1:y);if(b.throwOnLimitExceeded&&m.length>y)throw new RangeError("Parameter limit exceeded. Only "+y+" parameter"+(y===1?"":"s")+" allowed.");var g=-1,S,x=b.charset;if(b.charsetSentinel)for(S=0;S<m.length;++S)m[S].indexOf("utf8=")===0&&(m[S]===s?x="utf-8":m[S]===o&&(x="iso-8859-1"),g=S,S=m.length);for(S=0;S<m.length;++S)if(S!==g){var I=m[S],N=I.indexOf("]="),q=N===-1?I.indexOf("="):N+1,D,M;q===-1?(D=b.decoder(I,n.decoder,x,"key"),M=b.strictNullHandling?null:""):(D=b.decoder(I.slice(0,q),n.decoder,x,"key"),M=e.maybeMap(a(I.slice(q+1),b,r(v[D])?v[D].length:0),function(P){return b.decoder(P,n.decoder,x,"value")})),M&&b.interpretNumericEntities&&x==="iso-8859-1"&&(M=i(String(M))),I.indexOf("[]=")>-1&&(M=r(M)?[M]:M);var j=t.call(v,D);j&&b.duplicates==="combine"?v[D]=e.combine(v[D],M):(!j||b.duplicates==="last")&&(v[D]=M)}return v},u=function(c,p,b,v){var _=0;if(c.length>0&&c[c.length-1]==="[]"){var y=c.slice(0,-1).join("");_=Array.isArray(p)&&p[y]?p[y].length:0}for(var m=v?p:a(p,b,_),g=c.length-1;g>=0;--g){var S,x=c[g];if(x==="[]"&&b.parseArrays)S=b.allowEmptyArrays&&(m===""||b.strictNullHandling&&m===null)?[]:e.combine([],m);else{S=b.plainObjects?{__proto__:null}:{};var I=x.charAt(0)==="["&&x.charAt(x.length-1)==="]"?x.slice(1,-1):x,N=b.decodeDotInKeys?I.replace(/%2E/g,"."):I,q=parseInt(N,10);!b.parseArrays&&N===""?S={0:m}:!isNaN(q)&&x!==N&&String(q)===N&&q>=0&&b.parseArrays&&q<=b.arrayLimit?(S=[],S[q]=m):N!=="__proto__"&&(S[N]=m)}m=S}return m},f=function(p,b,v,_){if(p){var y=v.allowDots?p.replace(/\.([^.[]+)/g,"[$1]"):p,m=/(\[[^[\]]*])/,g=/(\[[^[\]]*])/g,S=v.depth>0&&m.exec(y),x=S?y.slice(0,S.index):y,I=[];if(x){if(!v.plainObjects&&t.call(Object.prototype,x)&&!v.allowPrototypes)return;I.push(x)}for(var N=0;v.depth>0&&(S=g.exec(y))!==null&&N<v.depth;){if(N+=1,!v.plainObjects&&t.call(Object.prototype,S[1].slice(1,-1))&&!v.allowPrototypes)return;I.push(S[1])}if(S){if(v.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+v.depth+" and strictDepth is true");I.push("["+y.slice(S.index)+"]")}return u(I,b,v,_)}},d=function(p){if(!p)return n;if(typeof p.allowEmptyArrays<"u"&&typeof p.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof p.decodeDotInKeys<"u"&&typeof p.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(p.decoder!==null&&typeof p.decoder<"u"&&typeof p.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof p.charset<"u"&&p.charset!=="utf-8"&&p.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof p.throwOnLimitExceeded<"u"&&typeof p.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var b=typeof p.charset>"u"?n.charset:p.charset,v=typeof p.duplicates>"u"?n.duplicates:p.duplicates;if(v!=="combine"&&v!=="first"&&v!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var _=typeof p.allowDots>"u"?p.decodeDotInKeys===!0?!0:n.allowDots:!!p.allowDots;return{allowDots:_,allowEmptyArrays:typeof p.allowEmptyArrays=="boolean"?!!p.allowEmptyArrays:n.allowEmptyArrays,allowPrototypes:typeof p.allowPrototypes=="boolean"?p.allowPrototypes:n.allowPrototypes,allowSparse:typeof p.allowSparse=="boolean"?p.allowSparse:n.allowSparse,arrayLimit:typeof p.arrayLimit=="number"?p.arrayLimit:n.arrayLimit,charset:b,charsetSentinel:typeof p.charsetSentinel=="boolean"?p.charsetSentinel:n.charsetSentinel,comma:typeof p.comma=="boolean"?p.comma:n.comma,decodeDotInKeys:typeof p.decodeDotInKeys=="boolean"?p.decodeDotInKeys:n.decodeDotInKeys,decoder:typeof p.decoder=="function"?p.decoder:n.decoder,delimiter:typeof p.delimiter=="string"||e.isRegExp(p.delimiter)?p.delimiter:n.delimiter,depth:typeof p.depth=="number"||p.depth===!1?+p.depth:n.depth,duplicates:v,ignoreQueryPrefix:p.ignoreQueryPrefix===!0,interpretNumericEntities:typeof p.interpretNumericEntities=="boolean"?p.interpretNumericEntities:n.interpretNumericEntities,parameterLimit:typeof p.parameterLimit=="number"?p.parameterLimit:n.parameterLimit,parseArrays:p.parseArrays!==!1,plainObjects:typeof p.plainObjects=="boolean"?p.plainObjects:n.plainObjects,strictDepth:typeof p.strictDepth=="boolean"?!!p.strictDepth:n.strictDepth,strictNullHandling:typeof p.strictNullHandling=="boolean"?p.strictNullHandling:n.strictNullHandling,throwOnLimitExceeded:typeof p.throwOnLimitExceeded=="boolean"?p.throwOnLimitExceeded:!1}};return qw=function(c,p){var b=d(p);if(c===""||c===null||typeof c>"u")return b.plainObjects?{__proto__:null}:{};for(var v=typeof c=="string"?l(c,b):c,_=b.plainObjects?{__proto__:null}:{},y=Object.keys(v),m=0;m<y.length;++m){var g=y[m],S=f(g,v[g],b,typeof c=="string");_=e.merge(_,S,b)}return b.allowSparse===!0?_:e.compact(_)},qw}var Bw,L3;function IJ(){if(L3)return Bw;L3=1;var e=RJ(),t=AJ(),r=nx();return Bw={formats:r,parse:t,stringify:e},Bw}var PJ=IJ();const OJ=f0(PJ);var NJ=bJ;function vi(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var DJ=/^([a-z0-9.+-]+:)/i,CJ=/:[0-9]*$/,LJ=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,MJ=["<",">",'"',"`"," ","\r",`
`,"	"],kJ=["{","}","|","\\","^","`"].concat(MJ),EE=["'"].concat(kJ),M3=["%","/","?",";","#"].concat(EE),k3=["/","?","#"],FJ=255,F3=/^[+a-z0-9A-Z_-]{0,63}$/,jJ=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,qJ={javascript:!0,"javascript:":!0},TE={javascript:!0,"javascript:":!0},Ou={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},xE=OJ;function b0(e,t,r){if(e&&typeof e=="object"&&e instanceof vi)return e;var n=new vi;return n.parse(e,t,r),n}vi.prototype.parse=function(e,t,r){if(typeof e!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e.indexOf("?"),i=n!==-1&&n<e.indexOf("#")?"?":"#",a=e.split(i),o=/\\/g;a[0]=a[0].replace(o,"/"),e=a.join(i);var s=e;if(s=s.trim(),!r&&e.split("#").length===1){var l=LJ.exec(s);if(l)return this.path=s,this.href=s,this.pathname=l[1],l[2]?(this.search=l[2],t?this.query=xE.parse(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this}var u=DJ.exec(s);if(u){u=u[0];var f=u.toLowerCase();this.protocol=f,s=s.substr(u.length)}if(r||u||s.match(/^\/\/[^@/]+@[^@/]+/)){var d=s.substr(0,2)==="//";d&&!(u&&TE[u])&&(s=s.substr(2),this.slashes=!0)}if(!TE[u]&&(d||u&&!Ou[u])){for(var c=-1,p=0;p<k3.length;p++){var b=s.indexOf(k3[p]);b!==-1&&(c===-1||b<c)&&(c=b)}var v,_;c===-1?_=s.lastIndexOf("@"):_=s.lastIndexOf("@",c),_!==-1&&(v=s.slice(0,_),s=s.slice(_+1),this.auth=decodeURIComponent(v)),c=-1;for(var p=0;p<M3.length;p++){var b=s.indexOf(M3[p]);b!==-1&&(c===-1||b<c)&&(c=b)}c===-1&&(c=s.length),this.host=s.slice(0,c),s=s.slice(c),this.parseHost(),this.hostname=this.hostname||"";var y=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!y)for(var m=this.hostname.split(/\./),p=0,g=m.length;p<g;p++){var S=m[p];if(S&&!S.match(F3)){for(var x="",I=0,N=S.length;I<N;I++)S.charCodeAt(I)>127?x+="x":x+=S[I];if(!x.match(F3)){var q=m.slice(0,p),D=m.slice(p+1),M=S.match(jJ);M&&(q.push(M[1]),D.unshift(M[2])),D.length&&(s="/"+D.join(".")+s),this.hostname=q.join(".");break}}}this.hostname.length>FJ?this.hostname="":this.hostname=this.hostname.toLowerCase(),y||(this.hostname=NJ.toASCII(this.hostname));var j=this.port?":"+this.port:"",P=this.hostname||"";this.host=P+j,this.href+=this.host,y&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),s[0]!=="/"&&(s="/"+s))}if(!qJ[f])for(var p=0,g=EE.length;p<g;p++){var B=EE[p];if(s.indexOf(B)!==-1){var Y=encodeURIComponent(B);Y===B&&(Y=escape(B)),s=s.split(B).join(Y)}}var ie=s.indexOf("#");ie!==-1&&(this.hash=s.substr(ie),s=s.slice(0,ie));var X=s.indexOf("?");if(X!==-1?(this.search=s.substr(X),this.query=s.substr(X+1),t&&(this.query=xE.parse(this.query)),s=s.slice(0,X)):t&&(this.search="",this.query={}),s&&(this.pathname=s),Ou[f]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var j=this.pathname||"",le=this.search||"";this.path=j+le}return this.href=this.format(),this};function BJ(e){return typeof e=="string"&&(e=b0(e)),e instanceof vi?e.format():vi.prototype.format.call(e)}vi.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,a="";this.host?i=e+this.host:this.hostname&&(i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(a=xE.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var o=this.search||a&&"?"+a||"";return t&&t.substr(-1)!==":"&&(t+=":"),this.slashes||(!t||Ou[t])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),r=r.replace(/[?#]/g,function(s){return encodeURIComponent(s)}),o=o.replace("#","%23"),t+i+r+o+n};function $J(e,t){return b0(e,!1,!0).resolve(t)}vi.prototype.resolve=function(e){return this.resolveObject(b0(e,!1,!0)).format()};function UJ(e,t){return e?b0(e,!1,!0).resolveObject(t):t}vi.prototype.resolveObject=function(e){if(typeof e=="string"){var t=new vi;t.parse(e,!1,!0),e=t}for(var r=new vi,n=Object.keys(this),i=0;i<n.length;i++){var a=n[i];r[a]=this[a]}if(r.hash=e.hash,e.href==="")return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var o=Object.keys(e),s=0;s<o.length;s++){var l=o[s];l!=="protocol"&&(r[l]=e[l])}return Ou[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!Ou[e.protocol]){for(var u=Object.keys(e),f=0;f<u.length;f++){var d=u[f];r[d]=e[d]}return r.href=r.format(),r}if(r.protocol=e.protocol,!e.host&&!TE[e.protocol]){for(var g=(e.pathname||"").split("/");g.length&&!(e.host=g.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),g[0]!==""&&g.unshift(""),g.length<2&&g.unshift(""),r.pathname=g.join("/")}else r.pathname=e.pathname;if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var c=r.pathname||"",p=r.search||"";r.path=c+p}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var b=r.pathname&&r.pathname.charAt(0)==="/",v=e.host||e.pathname&&e.pathname.charAt(0)==="/",_=v||b||r.host&&e.pathname,y=_,m=r.pathname&&r.pathname.split("/")||[],g=e.pathname&&e.pathname.split("/")||[],S=r.protocol&&!Ou[r.protocol];if(S&&(r.hostname="",r.port=null,r.host&&(m[0]===""?m[0]=r.host:m.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(g[0]===""?g[0]=e.host:g.unshift(e.host)),e.host=null),_=_&&(g[0]===""||m[0]==="")),v)r.host=e.host||e.host===""?e.host:r.host,r.hostname=e.hostname||e.hostname===""?e.hostname:r.hostname,r.search=e.search,r.query=e.query,m=g;else if(g.length)m||(m=[]),m.pop(),m=m.concat(g),r.search=e.search,r.query=e.query;else if(e.search!=null){if(S){r.host=m.shift(),r.hostname=r.host;var x=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;x&&(r.auth=x.shift(),r.hostname=x.shift(),r.host=r.hostname)}return r.search=e.search,r.query=e.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!m.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var I=m.slice(-1)[0],N=(r.host||e.host||m.length>1)&&(I==="."||I==="..")||I==="",q=0,D=m.length;D>=0;D--)I=m[D],I==="."?m.splice(D,1):I===".."?(m.splice(D,1),q++):q&&(m.splice(D,1),q--);if(!_&&!y)for(;q--;q)m.unshift("..");_&&m[0]!==""&&(!m[0]||m[0].charAt(0)!=="/")&&m.unshift(""),N&&m.join("/").substr(-1)!=="/"&&m.push("");var M=m[0]===""||m[0]&&m[0].charAt(0)==="/";if(S){r.hostname=M?"":m.length?m.shift():"",r.host=r.hostname;var x=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;x&&(r.auth=x.shift(),r.hostname=x.shift(),r.host=r.hostname)}return _=_||r.host&&m.length,_&&!M&&m.unshift(""),m.length>0?r.pathname=m.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r};vi.prototype.parseHost=function(){var e=this.host,t=CJ.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};var VJ=b0,HJ=$J,g8=UJ,zJ=BJ,GJ=vi;function WJ(e,t){for(var r=0,n=e.length-1;n>=0;n--){var i=e[n];i==="."?e.splice(n,1):i===".."?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}function KJ(){for(var e="",t=!1,r=arguments.length-1;r>=-1&&!t;r--){var n=r>=0?arguments[r]:"/";if(typeof n!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!n)continue;e=n+"/"+e,t=n.charAt(0)==="/"}return e=WJ(QJ(e.split("/"),function(i){return!!i}),!t).join("/"),(t?"/":"")+e||"."}function QJ(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}var _8=function(e){function t(){var n=this||self;return delete e.prototype.__magic__,n}if(typeof globalThis=="object")return globalThis;if(this)return t();e.defineProperty(e.prototype,"__magic__",{configurable:!0,get:t});var r=__magic__;return r}(Object),ZJ=zJ,b8=VJ,v8=HJ,w8=GJ,Lo=_8.URL,S8=_8.URLSearchParams,YJ=/%/g,XJ=/\\/g,JJ=/\n/g,eee=/\r/g,tee=/\t/g,ree=47;function nee(e){var t=e??null;return!!(t!==null&&(t!=null&&t.href)&&(t!=null&&t.origin))}function iee(e){if(e.hostname!=="")throw new TypeError('File URL host must be "localhost" or empty on browser');for(var t=e.pathname,r=0;r<t.length;r++)if(t[r]==="%"){var n=t.codePointAt(r+2)|32;if(t[r+1]==="2"&&n===102)throw new TypeError("File URL path must not include encoded / characters")}return decodeURIComponent(t)}function aee(e){return e.includes("%")&&(e=e.replace(YJ,"%25")),e.includes("\\")&&(e=e.replace(XJ,"%5C")),e.includes(`
`)&&(e=e.replace(JJ,"%0A")),e.includes("\r")&&(e=e.replace(eee,"%0D")),e.includes("	")&&(e=e.replace(tee,"%09")),e}var E8=function(t){if(typeof t>"u")throw new TypeError('The "domain" argument must be specified');return new Lo("http://"+t).hostname},T8=function(t){if(typeof t>"u")throw new TypeError('The "domain" argument must be specified');return new Lo("http://"+t).hostname},x8=function(t){var r=new Lo("file://"),n=KJ(t),i=t.charCodeAt(t.length-1);return i===ree&&n[n.length-1]!=="/"&&(n+="/"),r.pathname=aee(n),r},R8=function(t){if(!nee(t)&&typeof t!="string")throw new TypeError('The "path" argument must be of type string or an instance of URL. Received type '+typeof t+" ("+t+")");var r=new Lo(t);if(r.protocol!=="file:")throw new TypeError("The URL must be of scheme file");return iee(r)},A8=function(t,r){var n,i,a,o;if(r===void 0&&(r={}),!(t instanceof Lo))return ZJ(t);if(typeof r!="object"||r===null)throw new TypeError('The "options" argument must be of type object.');var s=(n=r.auth)!=null?n:!0,l=(i=r.fragment)!=null?i:!0,u=(a=r.search)!=null?a:!0;(o=r.unicode)!=null;var f=new Lo(t.toString());return s||(f.username="",f.password=""),l||(f.hash=""),u||(f.search=""),f.toString()},oee={format:A8,parse:b8,resolve:v8,resolveObject:g8,Url:w8,URL:Lo,URLSearchParams:S8,domainToASCII:E8,domainToUnicode:T8,pathToFileURL:x8,fileURLToPath:R8};const see=Object.freeze(Object.defineProperty({__proto__:null,URL:Lo,URLSearchParams:S8,Url:w8,default:oee,domainToASCII:E8,domainToUnicode:T8,fileURLToPath:R8,format:A8,parse:b8,pathToFileURL:x8,resolve:v8,resolveObject:g8},Symbol.toStringTag,{value:"Module"})),I8=el(see);var j3;function P8(){return j3||(j3=1,function(e){var t=hJ(),r=p8(),n=pJ(),i=mJ(),a=I8,o=e;o.request=function(s,l){typeof s=="string"?s=a.parse(s):s=n(s);var u=Tt.location.protocol.search(/^https?:$/)===-1?"http:":"",f=s.protocol||u,d=s.hostname||s.host,c=s.port,p=s.path||"/";d&&d.indexOf(":")!==-1&&(d="["+d+"]"),s.url=(d?f+"//"+d:"")+(c?":"+c:"")+p,s.method=(s.method||"GET").toUpperCase(),s.headers=s.headers||{};var b=new t(s);return l&&b.on("response",l),b},o.get=function(l,u){var f=o.request(l,u);return f.end(),f},o.ClientRequest=t,o.IncomingMessage=r.IncomingMessage,o.Agent=function(){},o.Agent.defaultMaxSockets=4,o.globalAgent=new o.Agent,o.STATUS_CODES=i,o.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}(dw)),dw}var $w={exports:{}},q3;function uee(){return q3||(q3=1,function(e){var t=P8(),r=I8,n=e.exports;for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.request=function(o,s){return o=a(o),t.request.call(this,o,s)},n.get=function(o,s){return o=a(o),t.get.call(this,o,s)};function a(o){if(typeof o=="string"&&(o=r.parse(o)),o.protocol||(o.protocol="https:"),o.protocol!=="https:")throw new Error('Protocol "'+o.protocol+'" not supported. Expected "https:"');return o}}($w)),$w.exports}var Uw,B3;function lee(){if(B3)return Uw;B3=1;function e(N){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},e(N)}function t(N,q){var D=Object.keys(N);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(N);q&&(M=M.filter(function(j){return Object.getOwnPropertyDescriptor(N,j).enumerable})),D.push.apply(D,M)}return D}function r(N){for(var q=1;q<arguments.length;q++){var D=arguments[q]!=null?arguments[q]:{};q%2?t(Object(D),!0).forEach(function(M){n(N,M,D[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(D)):t(Object(D)).forEach(function(M){Object.defineProperty(N,M,Object.getOwnPropertyDescriptor(D,M))})}return N}function n(N,q,D){return(q=s(q))in N?Object.defineProperty(N,q,{value:D,enumerable:!0,configurable:!0,writable:!0}):N[q]=D,N}function i(N,q){if(!(N instanceof q))throw new TypeError("Cannot call a class as a function")}function a(N,q){for(var D=0;D<q.length;D++){var M=q[D];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(N,s(M.key),M)}}function o(N,q,D){return a(N.prototype,q),Object.defineProperty(N,"prototype",{writable:!1}),N}function s(N){var q=l(N,"string");return e(q)=="symbol"?q:q+""}function l(N,q){if(e(N)!="object"||!N)return N;var D=N[Symbol.toPrimitive];if(D!==void 0){var M=D.call(N,q);if(e(M)!="object")return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(N)}function u(N,q,D){return q=p(q),f(N,c()?Reflect.construct(q,D,p(N).constructor):q.apply(N,D))}function f(N,q){if(q&&(e(q)=="object"||typeof q=="function"))return q;if(q!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d(N)}function d(N){if(N===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N}function c(){try{var N=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c=function(){return!!N})()}function p(N){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(q){return q.__proto__||Object.getPrototypeOf(q)},p(N)}function b(N,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(q&&q.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),Object.defineProperty(N,"prototype",{writable:!1}),q&&v(N,q)}function v(N,q){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(D,M){return D.__proto__=M,D},v(N,q)}var _=P8(),y=uee(),m=ul(),g=m.Stream,S=g0(),x=y0(),I=x.configure;return Uw=function(N){function q(){var D,M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return i(this,q),D=u(this,q,[M]),D.options=M,D.name=M.name||"http",D.ssl=!!M.ssl,D.host=M.host||"localhost",D.port=M.port,D.auth=M.auth,D.path=M.path||"",D.maximumDepth=M.maximumDepth,D.agent=M.agent,D.headers=M.headers||{},D.headers["content-type"]="application/json",D.batch=M.batch||!1,D.batchInterval=M.batchInterval||5e3,D.batchCount=M.batchCount||10,D.batchOptions=[],D.batchTimeoutID=-1,D.batchCallback={},D.port||(D.port=D.ssl?443:80),D}return b(q,N),o(q,[{key:"log",value:function(M,j){var P=this;this._request(M,null,null,function(B,Y){Y&&Y.statusCode!==200&&(B=new Error("Invalid HTTP Status Code: ".concat(Y.statusCode))),B?P.emit("warn",B):P.emit("logged",M)}),j&&setImmediate(j)}},{key:"query",value:function(M,j){typeof M=="function"&&(j=M,M={}),M={method:"query",params:this.normalizeQuery(M)};var P=M.params.auth||null;delete M.params.auth;var B=M.params.path||null;delete M.params.path,this._request(M,P,B,function(Y,ie,X){if(ie&&ie.statusCode!==200&&(Y=new Error("Invalid HTTP Status Code: ".concat(ie.statusCode))),Y)return j(Y);if(typeof X=="string")try{X=JSON.parse(X)}catch(le){return j(le)}j(null,X)})}},{key:"stream",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},j=new g;M={method:"stream",params:M};var P=M.params.path||null;delete M.params.path;var B=M.params.auth||null;delete M.params.auth;var Y="",ie=this._request(M,B,P);return j.destroy=function(){return ie.destroy()},ie.on("data",function(X){X=(Y+X).split(/\n+/);for(var le=X.length-1,ae=0;ae<le;ae++)try{j.emit("log",JSON.parse(X[ae]))}catch(ne){j.emit("error",ne)}Y=X[le]}),ie.on("error",function(X){return j.emit("error",X)}),j}},{key:"_request",value:function(M,j,P,B){M=M||{},j=j||this.auth,P=P||this.path||"",this.batch?this._doBatch(M,B,j,P):this._doRequest(M,B,j,P)}},{key:"_doBatch",value:function(M,j,P,B){if(this.batchOptions.push(M),this.batchOptions.length===1){var Y=this;this.batchCallback=j,this.batchTimeoutID=setTimeout(function(){Y.batchTimeoutID=-1,Y._doBatchRequest(Y.batchCallback,P,B)},this.batchInterval)}this.batchOptions.length===this.batchCount&&this._doBatchRequest(this.batchCallback,P,B)}},{key:"_doBatchRequest",value:function(M,j,P){this.batchTimeoutID>0&&(clearTimeout(this.batchTimeoutID),this.batchTimeoutID=-1);var B=this.batchOptions.slice();this.batchOptions=[],this._doRequest(B,M,j,P)}},{key:"_doRequest",value:function(M,j,P,B){var Y=Object.assign({},this.headers);P&&P.bearer&&(Y.Authorization="Bearer ".concat(P.bearer));var ie=(this.ssl?y:_).request(r(r({},this.options),{},{method:"POST",host:this.host,port:this.port,path:"/".concat(B.replace(/^\//,"")),headers:Y,auth:P&&P.username&&P.password?"".concat(P.username,":").concat(P.password):"",agent:this.agent}));ie.on("error",j),ie.on("response",function(le){return le.on("end",function(){return j(null,le)}).resume()});var X=I(r({},this.maximumDepth&&{maximumDepth:this.maximumDepth}));ie.end(Qn.from(X(M,this.options.replacer),"utf8"))}}])}(S),Uw}var Vw,$3;function O8(){if($3)return Vw;$3=1;const e=t=>t!==null&&typeof t=="object"&&typeof t.pipe=="function";return e.writable=t=>e(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object",e.readable=t=>e(t)&&t.readable!==!1&&typeof t._read=="function"&&typeof t._readableState=="object",e.duplex=t=>e.writable(t)&&e.readable(t),e.transform=t=>e.duplex(t)&&typeof t._transform=="function",Vw=e,Vw}var Hw,U3;function fee(){if(U3)return Hw;U3=1;function e(m){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},e(m)}function t(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function r(m,g){for(var S=0;S<g.length;S++){var x=g[S];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(m,i(x.key),x)}}function n(m,g,S){return r(m.prototype,g),Object.defineProperty(m,"prototype",{writable:!1}),m}function i(m){var g=a(m,"string");return e(g)=="symbol"?g:g+""}function a(m,g){if(e(m)!="object"||!m)return m;var S=m[Symbol.toPrimitive];if(S!==void 0){var x=S.call(m,g);if(e(x)!="object")return x;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(m)}function o(m,g,S){return g=f(g),s(m,u()?Reflect.construct(g,S,f(m).constructor):g.apply(m,S))}function s(m,g){if(g&&(e(g)=="object"||typeof g=="function"))return g;if(g!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l(m)}function l(m){if(m===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}function u(){try{var m=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u=function(){return!!m})()}function f(m){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)},f(m)}function d(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),Object.defineProperty(m,"prototype",{writable:!1}),g&&c(m,g)}function c(m,g){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(S,x){return S.__proto__=x,S},c(m,g)}var p=O8(),b=Nr(),v=b.MESSAGE,_=il(),y=g0();return Hw=function(m){function g(){var S,x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(t(this,g),S=o(this,g,[x]),!x.stream||!p(x.stream))throw new Error("options.stream is required.");return S._stream=x.stream,S._stream.setMaxListeners(1/0),S.isObjectMode=x.stream._writableState.objectMode,S.eol=typeof x.eol=="string"?x.eol:_.EOL,S}return d(g,m),n(g,[{key:"log",value:function(x,I){var N=this;if(setImmediate(function(){return N.emit("logged",x)}),this.isObjectMode){this._stream.write(x),I&&I();return}this._stream.write("".concat(x[v]).concat(this.eol)),I&&I()}}])}(y),Hw}var V3;function cee(){return V3||(V3=1,function(e){Object.defineProperty(e,"Console",{configurable:!0,enumerable:!0,get:function(){return pX()}}),Object.defineProperty(e,"File",{configurable:!0,enumerable:!0,get:function(){return sJ()}}),Object.defineProperty(e,"Http",{configurable:!0,enumerable:!0,get:function(){return lee()}}),Object.defineProperty(e,"Stream",{configurable:!0,enumerable:!0,get:function(){return fee()}})}(Bv)),Bv}var du={},H3;function ix(){if(H3)return du;H3=1;var e=PB(),t=Nr(),r=t.configs;return du.cli=e.levels(r.cli),du.npm=e.levels(r.npm),du.syslog=e.levels(r.syslog),du.addColors=e.levels,du}var qm={exports:{}},Bm={exports:{}},z3;function dee(){return z3||(z3=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=YT(),n=_(r),i=XT(),a=_(i),o=qB(),s=_(o),l=FB(),u=_(l),f=jB(),d=_(f),c=al(),p=_(c),b=_0(),v=_(b);function _(S){return S&&S.__esModule?S:{default:S}}function y(S,x,I){I=(0,u.default)(I);var N=0,q=0,{length:D}=S,M=!1;D===0&&I(null);function j(P,B){P===!1&&(M=!0),M!==!0&&(P?I(P):(++q===D||B===a.default)&&I(null))}for(;N<D;N++)x(S[N],N,(0,d.default)(j))}function m(S,x,I){return(0,s.default)(S,1/0,x,I)}function g(S,x,I){var N=(0,n.default)(S)?y:m;return N(S,(0,p.default)(x),I)}t.default=(0,v.default)(g,3),e.exports=t.default}(Bm,Bm.exports)),Bm.exports}var $m={exports:{}},G3;function hee(){return G3||(G3=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(n){return(i,a,o)=>n(i,o)}e.exports=t.default}($m,$m.exports)),$m.exports}var W3;function ax(){return W3||(W3=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=dee(),n=f(r),i=hee(),a=f(i),o=al(),s=f(o),l=_0(),u=f(l);function f(c){return c&&c.__esModule?c:{default:c}}function d(c,p,b){return(0,n.default)(c,(0,a.default)((0,s.default)(p)),b)}t.default=(0,u.default)(d,3),e.exports=t.default}(qm,qm.exports)),qm.exports}var zw,K3;function pee(){if(K3)return zw;K3=1;var e=Object.prototype.toString;return zw=function(r){if(typeof r.displayName=="string"&&r.constructor.name)return r.displayName;if(typeof r.name=="string"&&r.name)return r.name;if(typeof r=="object"&&r.constructor&&typeof r.constructor.name=="string")return r.constructor.name;var n=r.toString(),i=e.call(r).slice(8,-1);return i==="Function"?n=n.substring(n.indexOf("(")+1,n.indexOf(")")):n=i,n||"anonymous"},zw}var Gw,Q3;function N8(){if(Q3)return Gw;Q3=1;var e=pee();return Gw=function(r){var n=0,i;function a(){return n||(n=1,i=r.apply(this,arguments),r=null),i}return a.displayName=e(r),a},Gw}var Ww={},Z3;function D8(){return Z3||(Z3=1,function(e){e.get=function(i){var a=Error.stackTraceLimit;Error.stackTraceLimit=1/0;var o={},s=Error.prepareStackTrace;Error.prepareStackTrace=function(u,f){return f},Error.captureStackTrace(o,i||e.get);var l=o.stack;return Error.prepareStackTrace=s,Error.stackTraceLimit=a,l},e.parse=function(i){if(!i.stack)return[];var a=this,o=i.stack.split(`
`).slice(1);return o.map(function(s){if(s.match(/^\s*[-]{4,}$/))return a._createParsedCallSite({fileName:s,lineNumber:null,functionName:null,typeName:null,methodName:null,columnNumber:null,native:null});var l=s.match(/at (?:(.+)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/);if(l){var u=null,f=null,d=null,c=null,p=null,b=l[5]==="native";if(l[1]){d=l[1];var v=d.lastIndexOf(".");if(d[v-1]=="."&&v--,v>0){u=d.substr(0,v),f=d.substr(v+1);var _=u.indexOf(".Module");_>0&&(d=d.substr(_+1),u=u.substr(0,_))}c=null}f&&(c=u,p=f),f==="<anonymous>"&&(p=null,d=null);var y={fileName:l[2]||null,lineNumber:parseInt(l[3],10)||null,functionName:d,typeName:c,methodName:p,columnNumber:parseInt(l[4],10)||null,native:b};return a._createParsedCallSite(y)}}).filter(function(s){return!!s})};function t(i){for(var a in i)this[a]=i[a]}var r=["this","typeName","functionName","methodName","fileName","lineNumber","columnNumber","function","evalOrigin"],n=["topLevel","eval","native","constructor"];r.forEach(function(i){t.prototype[i]=null,t.prototype["get"+i[0].toUpperCase()+i.substr(1)]=function(){return this[i]}}),n.forEach(function(i){t.prototype[i]=!1,t.prototype["is"+i[0].toUpperCase()+i.substr(1)]=function(){return this[i]}}),e._createParsedCallSite=function(i){return new t(i)}}(Ww)),Ww}var Kw,Y3;function mee(){if(Y3)return Kw;Y3=1;function e(v){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},e(v)}function t(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")}function r(v,_){for(var y=0;y<_.length;y++){var m=_[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(v,i(m.key),m)}}function n(v,_,y){return r(v.prototype,_),Object.defineProperty(v,"prototype",{writable:!1}),v}function i(v){var _=a(v,"string");return e(_)=="symbol"?_:_+""}function a(v,_){if(e(v)!="object"||!v)return v;var y=v[Symbol.toPrimitive];if(y!==void 0){var m=y.call(v,_);if(e(m)!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(v)}function o(v,_,y){return _=f(_),s(v,u()?Reflect.construct(_,y,f(v).constructor):_.apply(v,y))}function s(v,_){if(_&&(e(_)=="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l(v)}function l(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}function u(){try{var v=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u=function(){return!!v})()}function f(v){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},f(v)}function d(v,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(_&&_.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),Object.defineProperty(v,"prototype",{writable:!1}),_&&c(v,_)}function c(v,_){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,m){return y.__proto__=m,y},c(v,_)}var p=ul(),b=p.Writable;return Kw=function(v){function _(y){var m;if(t(this,_),m=o(this,_,[{objectMode:!0}]),!y)throw new Error("ExceptionStream requires a TransportStream instance.");return m.handleExceptions=!0,m.transport=y,m}return d(_,v),n(_,[{key:"_write",value:function(m,g,S){return m.exception?this.transport.log(m,S):(S(),!0)}}])}(b),Kw}var Qw,X3;function C8(){if(X3)return Qw;X3=1;function e(c){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},e(c)}function t(c,p){if(!(c instanceof p))throw new TypeError("Cannot call a class as a function")}function r(c,p){for(var b=0;b<p.length;b++){var v=p[b];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(c,i(v.key),v)}}function n(c,p,b){return r(c.prototype,p),Object.defineProperty(c,"prototype",{writable:!1}),c}function i(c){var p=a(c,"string");return e(p)=="symbol"?p:p+""}function a(c,p){if(e(c)!="object"||!c)return c;var b=c[Symbol.toPrimitive];if(b!==void 0){var v=b.call(c,p);if(e(v)!="object")return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(c)}var o=il(),s=ax(),l=og()("winston:exception"),u=N8(),f=D8(),d=mee();return Qw=function(){function c(p){if(t(this,c),!p)throw new Error("Logger is required to handle exceptions");this.logger=p,this.handlers=new Map}return n(c,[{key:"handle",value:function(){for(var b=this,v=arguments.length,_=new Array(v),y=0;y<v;y++)_[y]=arguments[y];_.forEach(function(m){if(Array.isArray(m))return m.forEach(function(g){return b._addHandler(g)});b._addHandler(m)}),this.catcher||(this.catcher=this._uncaughtException.bind(this),ze.on("uncaughtException",this.catcher))}},{key:"unhandle",value:function(){var b=this;this.catcher&&(ze.removeListener("uncaughtException",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(function(v){return b.logger.unpipe(v)}))}},{key:"getAllInfo",value:function(b){var v=null;return b&&(v=typeof b=="string"?b:b.message),{error:b,level:"error",message:["uncaughtException: ".concat(v||"(no error message)"),b&&b.stack||"  No stack trace"].join(`
`),stack:b&&b.stack,exception:!0,date:new Date().toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(b)}}},{key:"getProcessInfo",value:function(){return{pid:ze.pid,uid:ze.getuid?ze.getuid():null,gid:ze.getgid?ze.getgid():null,cwd:ze.cwd(),execPath:ze.execPath,version:ze.version,argv:ze.argv,memoryUsage:ze.memoryUsage()}}},{key:"getOsInfo",value:function(){return{loadavg:o.loadavg(),uptime:o.uptime()}}},{key:"getTrace",value:function(b){var v=b?f.parse(b):f.get();return v.map(function(_){return{column:_.getColumnNumber(),file:_.getFileName(),function:_.getFunctionName(),line:_.getLineNumber(),method:_.getMethodName(),native:_.isNative()}})}},{key:"_addHandler",value:function(b){if(!this.handlers.has(b)){b.handleExceptions=!0;var v=new d(b);this.handlers.set(b,v),this.logger.pipe(v)}}},{key:"_uncaughtException",value:function(b){var v=this.getAllInfo(b),_=this._getExceptionHandlers(),y=typeof this.logger.exitOnError=="function"?this.logger.exitOnError(b):this.logger.exitOnError,m;!_.length&&y&&(console.warn("winston: exitOnError cannot be true with no exception handlers."),console.warn("winston: not exiting process."),y=!1);function g(){l("doExit",y),l("process._exiting",ze._exiting),y&&!ze._exiting&&(m&&clearTimeout(m),ze.exit(1))}if(!_||_.length===0)return ze.nextTick(g);s(_,function(S,x){var I=u(x),N=S.transport||S;function q(D){return function(){l(D),I()}}N._ending=!0,N.once("finish",q("finished")),N.once("error",q("error"))},function(){return y&&g()}),this.logger.log(v),y&&(m=setTimeout(g,3e3))}},{key:"_getExceptionHandlers",value:function(){return this.logger.transports.filter(function(b){var v=b.transport||b;return v.handleExceptions})}}])}(),Qw}var Zw,J3;function yee(){if(J3)return Zw;J3=1;function e(v){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},e(v)}function t(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")}function r(v,_){for(var y=0;y<_.length;y++){var m=_[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(v,i(m.key),m)}}function n(v,_,y){return r(v.prototype,_),Object.defineProperty(v,"prototype",{writable:!1}),v}function i(v){var _=a(v,"string");return e(_)=="symbol"?_:_+""}function a(v,_){if(e(v)!="object"||!v)return v;var y=v[Symbol.toPrimitive];if(y!==void 0){var m=y.call(v,_);if(e(m)!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(v)}function o(v,_,y){return _=f(_),s(v,u()?Reflect.construct(_,y,f(v).constructor):_.apply(v,y))}function s(v,_){if(_&&(e(_)=="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l(v)}function l(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}function u(){try{var v=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u=function(){return!!v})()}function f(v){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},f(v)}function d(v,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(_&&_.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),Object.defineProperty(v,"prototype",{writable:!1}),_&&c(v,_)}function c(v,_){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,m){return y.__proto__=m,y},c(v,_)}var p=ul(),b=p.Writable;return Zw=function(v){function _(y){var m;if(t(this,_),m=o(this,_,[{objectMode:!0}]),!y)throw new Error("RejectionStream requires a TransportStream instance.");return m.handleRejections=!0,m.transport=y,m}return d(_,v),n(_,[{key:"_write",value:function(m,g,S){return m.rejection?this.transport.log(m,S):(S(),!0)}}])}(b),Zw}var Yw,eC;function L8(){if(eC)return Yw;eC=1;function e(c){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},e(c)}function t(c,p){if(!(c instanceof p))throw new TypeError("Cannot call a class as a function")}function r(c,p){for(var b=0;b<p.length;b++){var v=p[b];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(c,i(v.key),v)}}function n(c,p,b){return r(c.prototype,p),Object.defineProperty(c,"prototype",{writable:!1}),c}function i(c){var p=a(c,"string");return e(p)=="symbol"?p:p+""}function a(c,p){if(e(c)!="object"||!c)return c;var b=c[Symbol.toPrimitive];if(b!==void 0){var v=b.call(c,p);if(e(v)!="object")return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(c)}var o=il(),s=ax(),l=og()("winston:rejection"),u=N8(),f=D8(),d=yee();return Yw=function(){function c(p){if(t(this,c),!p)throw new Error("Logger is required to handle rejections");this.logger=p,this.handlers=new Map}return n(c,[{key:"handle",value:function(){for(var b=this,v=arguments.length,_=new Array(v),y=0;y<v;y++)_[y]=arguments[y];_.forEach(function(m){if(Array.isArray(m))return m.forEach(function(g){return b._addHandler(g)});b._addHandler(m)}),this.catcher||(this.catcher=this._unhandledRejection.bind(this),ze.on("unhandledRejection",this.catcher))}},{key:"unhandle",value:function(){var b=this;this.catcher&&(ze.removeListener("unhandledRejection",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(function(v){return b.logger.unpipe(v)}))}},{key:"getAllInfo",value:function(b){var v=null;return b&&(v=typeof b=="string"?b:b.message),{error:b,level:"error",message:["unhandledRejection: ".concat(v||"(no error message)"),b&&b.stack||"  No stack trace"].join(`
`),stack:b&&b.stack,rejection:!0,date:new Date().toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(b)}}},{key:"getProcessInfo",value:function(){return{pid:ze.pid,uid:ze.getuid?ze.getuid():null,gid:ze.getgid?ze.getgid():null,cwd:ze.cwd(),execPath:ze.execPath,version:ze.version,argv:ze.argv,memoryUsage:ze.memoryUsage()}}},{key:"getOsInfo",value:function(){return{loadavg:o.loadavg(),uptime:o.uptime()}}},{key:"getTrace",value:function(b){var v=b?f.parse(b):f.get();return v.map(function(_){return{column:_.getColumnNumber(),file:_.getFileName(),function:_.getFunctionName(),line:_.getLineNumber(),method:_.getMethodName(),native:_.isNative()}})}},{key:"_addHandler",value:function(b){if(!this.handlers.has(b)){b.handleRejections=!0;var v=new d(b);this.handlers.set(b,v),this.logger.pipe(v)}}},{key:"_unhandledRejection",value:function(b){var v=this.getAllInfo(b),_=this._getRejectionHandlers(),y=typeof this.logger.exitOnError=="function"?this.logger.exitOnError(b):this.logger.exitOnError,m;!_.length&&y&&(console.warn("winston: exitOnError cannot be true with no rejection handlers."),console.warn("winston: not exiting process."),y=!1);function g(){l("doExit",y),l("process._exiting",ze._exiting),y&&!ze._exiting&&(m&&clearTimeout(m),ze.exit(1))}if(!_||_.length===0)return ze.nextTick(g);s(_,function(S,x){var I=u(x),N=S.transport||S;function q(D){return function(){l(D),I()}}N._ending=!0,N.once("finish",q("finished")),N.once("error",q("error"))},function(){return y&&g()}),this.logger.log(v),y&&(m=setTimeout(g,3e3))}},{key:"_getRejectionHandlers",value:function(){return this.logger.transports.filter(function(b){var v=b.transport||b;return v.handleRejections})}}])}(),Yw}var Xw={exports:{}},Jw={exports:{}},tC;function gee(){if(tC)return Jw.exports;tC=1;const e=Pr(),t=ZT(),{LEVEL:r}=Nr(),n=Jw.exports=function(a={}){t.call(this,{objectMode:!0,highWaterMark:a.highWaterMark}),this.format=a.format,this.level=a.level,this.handleExceptions=a.handleExceptions,this.handleRejections=a.handleRejections,this.silent=a.silent,a.log&&(this.log=a.log),a.logv&&(this.logv=a.logv),a.close&&(this.close=a.close),this.once("pipe",o=>{this.levels=o.levels,this.parent=o}),this.once("unpipe",o=>{o===this.parent&&(this.parent=null,this.close&&this.close())})};return e.inherits(n,t),n.prototype._write=function(a,o,s){if(this.silent||a.exception===!0&&!this.handleExceptions)return s(null);const l=this.level||this.parent&&this.parent.level;if(!l||this.levels[l]>=this.levels[a[r]]){if(a&&!this.format)return this.log(a,s);let u,f;try{f=this.format.transform(Object.assign({},a),this.format.options)}catch(d){u=d}if(u||!f){if(s(),u)throw u;return}return this.log(f,s)}return this._writableState.sync=!1,s(null)},n.prototype._writev=function(a,o){if(this.logv){const s=a.filter(this._accept,this);return s.length?this.logv(s,o):o(null)}for(let s=0;s<a.length;s++){if(!this._accept(a[s]))continue;if(a[s].chunk&&!this.format){this.log(a[s].chunk,a[s].callback);continue}let l,u;try{u=this.format.transform(Object.assign({},a[s].chunk),this.format.options)}catch(f){l=f}if(l||!u){if(a[s].callback(),l)throw o(null),l}else this.log(u,a[s].callback)}return o(null)},n.prototype._accept=function(a){const o=a.chunk;if(this.silent)return!1;const s=this.level||this.parent&&this.parent.level;return!!((o.exception===!0||!s||this.levels[s]>=this.levels[o[r]])&&(this.handleExceptions||o.exception!==!0))},n.prototype._nop=function(){},Jw.exports}var rC;function _ee(){if(rC)return Xw.exports;rC=1;const e=Pr(),{LEVEL:t}=Nr(),r=gee(),n=Xw.exports=function(a={}){if(r.call(this,a),!a.transport||typeof a.transport.log!="function")throw new Error("Invalid transport, must be an object with a log method.");this.transport=a.transport,this.level=this.level||a.transport.level,this.handleExceptions=this.handleExceptions||a.transport.handleExceptions,this._deprecated();function o(s){this.emit("error",s,this.transport)}this.transport.__winstonError||(this.transport.__winstonError=o.bind(this),this.transport.on("error",this.transport.__winstonError))};return e.inherits(n,r),n.prototype._write=function(a,o,s){if(this.silent||a.exception===!0&&!this.handleExceptions)return s(null);(!this.level||this.levels[this.level]>=this.levels[a[t]])&&this.transport.log(a[t],a.message,a,this._nop),s(null)},n.prototype._writev=function(a,o){for(let s=0;s<a.length;s++)this._accept(a[s])&&(this.transport.log(a[s].chunk[t],a[s].chunk.message,a[s].chunk,this._nop),a[s].callback());return o(null)},n.prototype._deprecated=function(){console.error([`${this.transport.name} is a legacy winston transport. Consider upgrading: `,"- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md"].join(`
`))},n.prototype.close=function(){this.transport.close&&this.transport.close(),this.transport.__winstonError&&(this.transport.removeListener("error",this.transport.__winstonError),this.transport.__winstonError=null)},Xw.exports}var eS,nC;function bee(){if(nC)return eS;nC=1;function e(s){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},e(s)}function t(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")}function r(s,l){for(var u=0;u<l.length;u++){var f=l[u];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(s,i(f.key),f)}}function n(s,l,u){return r(s.prototype,l),Object.defineProperty(s,"prototype",{writable:!1}),s}function i(s){var l=a(s,"string");return e(l)=="symbol"?l:l+""}function a(s,l){if(e(s)!="object"||!s)return s;var u=s[Symbol.toPrimitive];if(u!==void 0){var f=u.call(s,l);if(e(f)!="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}var o=function(){function s(l){t(this,s);var u=ox();if(e(l)!=="object"||Array.isArray(l)||!(l instanceof u))throw new Error("Logger is required for profiling");this.logger=l,this.start=Date.now()}return n(s,[{key:"done",value:function(){for(var u=arguments.length,f=new Array(u),d=0;d<u;d++)f[d]=arguments[d];typeof f[f.length-1]=="function"&&(console.warn("Callback function no longer supported as of winston@3.0.0"),f.pop());var c=e(f[f.length-1])==="object"?f.pop():{};return c.level=c.level||"info",c.durationMs=Date.now()-this.start,this.logger.write(c)}}])}();return eS=o,eS}var tS,iC;function vee(){if(iC)return tS;iC=1;class e extends Error{constructor(r){super(`Format functions must be synchronous taking a two arguments: (info, opts)
Found: ${r.toString().split(`
`)[0]}
`),Error.captureStackTrace(this,e)}}return tS=t=>{if(t.length>2)throw new e(t);function r(i={}){this.options=i}r.prototype.transform=t;function n(i){return new r(i)}return n.Format=r,n},tS}var rS,aC;function wee(){if(aC)return rS;aC=1;const e=vee(),{MESSAGE:t}=Nr(),r=y0();function n(i,a){return typeof a=="bigint"?a.toString():a}return rS=e((i,a)=>{const o=r.configure(a);return i[t]=o(i,a.replacer||n,a.space),i}),rS}var nS,oC;function ox(){if(oC)return nS;oC=1;function e(X,le,ae){return(le=a(le))in X?Object.defineProperty(X,le,{value:ae,enumerable:!0,configurable:!0,writable:!0}):X[le]=ae,X}function t(X){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(le){return typeof le}:function(le){return le&&typeof Symbol=="function"&&le.constructor===Symbol&&le!==Symbol.prototype?"symbol":typeof le},t(X)}function r(X,le){if(!(X instanceof le))throw new TypeError("Cannot call a class as a function")}function n(X,le){for(var ae=0;ae<le.length;ae++){var ne=le[ae];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(X,a(ne.key),ne)}}function i(X,le,ae){return n(X.prototype,le),Object.defineProperty(X,"prototype",{writable:!1}),X}function a(X){var le=o(X,"string");return t(le)=="symbol"?le:le+""}function o(X,le){if(t(X)!="object"||!X)return X;var ae=X[Symbol.toPrimitive];if(ae!==void 0){var ne=ae.call(X,le);if(t(ne)!="object")return ne;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(X)}function s(X,le,ae){return le=d(le),l(X,f()?Reflect.construct(le,ae,d(X).constructor):le.apply(X,ae))}function l(X,le){if(le&&(t(le)=="object"||typeof le=="function"))return le;if(le!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u(X)}function u(X){if(X===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return X}function f(){try{var X=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f=function(){return!!X})()}function d(X){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(le){return le.__proto__||Object.getPrototypeOf(le)},d(X)}function c(X,le){if(typeof le!="function"&&le!==null)throw new TypeError("Super expression must either be null or a function");X.prototype=Object.create(le&&le.prototype,{constructor:{value:X,writable:!0,configurable:!0}}),Object.defineProperty(X,"prototype",{writable:!1}),le&&p(X,le)}function p(X,le){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ae,ne){return ae.__proto__=ne,ae},p(X,le)}var b=ul(),v=b.Stream,_=b.Transform,y=ax(),m=Nr(),g=m.LEVEL,S=m.SPLAT,x=O8(),I=C8(),N=L8(),q=_ee(),D=bee(),M=OB(),j=M.warn,P=ix(),B=/%[scdjifoO%]/g,Y=function(X){function le(ae){var ne;return r(this,le),ne=s(this,le,[{objectMode:!0}]),ne.configure(ae),ne}return c(le,X),i(le,[{key:"child",value:function(ne){var H=this;return Object.create(H,{write:{value:function(he){var Z=Object.assign({},ne,he);he instanceof Error&&(Z.stack=he.stack,Z.message=he.message),H.write(Z)}}})}},{key:"configure",value:function(){var ne=this,H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},oe=H.silent,he=H.format,Z=H.defaultMeta,Q=H.levels,ee=H.level,O=ee===void 0?"info":ee,A=H.exitOnError,$=A===void 0?!0:A,te=H.transports,pe=H.colors,R=H.emitErrs,w=H.formatters,T=H.padLevels,k=H.rewriters,U=H.stripColors,re=H.exceptionHandlers,fe=H.rejectionHandlers;if(this.transports.length&&this.clear(),this.silent=oe,this.format=he||this.format||wee()(),this.defaultMeta=Z||null,this.levels=Q||this.levels||P.npm.levels,this.level=O,this.exceptions&&this.exceptions.unhandle(),this.rejections&&this.rejections.unhandle(),this.exceptions=new I(this),this.rejections=new N(this),this.profilers={},this.exitOnError=$,te&&(te=Array.isArray(te)?te:[te],te.forEach(function(ve){return ne.add(ve)})),pe||R||w||T||k||U)throw new Error(["{ colors, emitErrs, formatters, padLevels, rewriters, stripColors } were removed in winston@3.0.0.","Use a custom winston.format(function) instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join(`
`));re&&this.exceptions.handle(re),fe&&this.rejections.handle(fe)}},{key:"isLevelEnabled",value:function(ne){var H=this,oe=ie(this.levels,ne);if(oe===null)return!1;var he=ie(this.levels,this.level);if(he===null)return!1;if(!this.transports||this.transports.length===0)return he>=oe;var Z=this.transports.findIndex(function(Q){var ee=ie(H.levels,Q.level);return ee===null&&(ee=he),ee>=oe});return Z!==-1}},{key:"log",value:function(ne,H){for(var oe=arguments.length,he=new Array(oe>2?oe-2:0),Z=2;Z<oe;Z++)he[Z-2]=arguments[Z];if(arguments.length===1)return ne[g]=ne.level,this._addDefaultMeta(ne),this.write(ne),this;if(arguments.length===2)return H&&t(H)==="object"?(H[g]=H.level=ne,this._addDefaultMeta(H),this.write(H),this):(H=e(e(e({},g,ne),"level",ne),"message",H),this._addDefaultMeta(H),this.write(H),this);var Q=he[0];if(t(Q)==="object"&&Q!==null){var ee=H&&H.match&&H.match(B);if(!ee){var O=Object.assign({},this.defaultMeta,Q,e(e(e(e({},g,ne),S,he),"level",ne),"message",H));return Q.message&&(O.message="".concat(O.message," ").concat(Q.message)),Q.stack&&(O.stack=Q.stack),Q.cause&&(O.cause=Q.cause),this.write(O),this}}return this.write(Object.assign({},this.defaultMeta,e(e(e(e({},g,ne),S,he),"level",ne),"message",H))),this}},{key:"_transform",value:function(ne,H,oe){if(this.silent)return oe();ne[g]||(ne[g]=ne.level),!this.levels[ne[g]]&&this.levels[ne[g]]!==0&&console.error("[winston] Unknown logger level: %s",ne[g]),this._readableState.pipes||console.error("[winston] Attempt to write logs with no transports, which can increase memory usage: %j",ne);try{this.push(this.format.transform(ne,this.format.options))}finally{this._writableState.sync=!1,oe()}}},{key:"_final",value:function(ne){var H=this.transports.slice();y(H,function(oe,he){if(!oe||oe.finished)return setImmediate(he);oe.once("finish",he),oe.end()},ne)}},{key:"add",value:function(ne){var H=!x(ne)||ne.log.length>2?new q({transport:ne}):ne;if(!H._writableState||!H._writableState.objectMode)throw new Error("Transports must WritableStreams in objectMode. Set { objectMode: true }.");return this._onEvent("error",H),this._onEvent("warn",H),this.pipe(H),ne.handleExceptions&&this.exceptions.handle(),ne.handleRejections&&this.rejections.handle(),this}},{key:"remove",value:function(ne){if(!ne)return this;var H=ne;return(!x(ne)||ne.log.length>2)&&(H=this.transports.filter(function(oe){return oe.transport===ne})[0]),H&&this.unpipe(H),this}},{key:"clear",value:function(){return this.unpipe(),this}},{key:"close",value:function(){return this.exceptions.unhandle(),this.rejections.unhandle(),this.clear(),this.emit("close"),this}},{key:"setLevels",value:function(){j.deprecated("setLevels")}},{key:"query",value:function(ne,H){typeof ne=="function"&&(H=ne,ne={}),ne=ne||{};var oe={},he=Object.assign({},ne.query||{});function Z(ee,O){ne.query&&typeof ee.formatQuery=="function"&&(ne.query=ee.formatQuery(he)),ee.query(ne,function(A,$){if(A)return O(A);typeof ee.formatResults=="function"&&($=ee.formatResults($,ne.format)),O(null,$)})}function Q(ee,O){Z(ee,function(A,$){O&&($=A||$,$&&(oe[ee.name]=$),O()),O=null})}y(this.transports.filter(function(ee){return!!ee.query}),Q,function(){return H(null,oe)})}},{key:"stream",value:function(){var ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},H=new v,oe=[];return H._streams=oe,H.destroy=function(){for(var he=oe.length;he--;)oe[he].destroy()},this.transports.filter(function(he){return!!he.stream}).forEach(function(he){var Z=he.stream(ne);Z&&(oe.push(Z),Z.on("log",function(Q){Q.transport=Q.transport||[],Q.transport.push(he.name),H.emit("log",Q)}),Z.on("error",function(Q){Q.transport=Q.transport||[],Q.transport.push(he.name),H.emit("error",Q)}))}),H}},{key:"startTimer",value:function(){return new D(this)}},{key:"profile",value:function(ne){var H=Date.now();if(this.profilers[ne]){var oe=this.profilers[ne];delete this.profilers[ne];for(var he=arguments.length,Z=new Array(he>1?he-1:0),Q=1;Q<he;Q++)Z[Q-1]=arguments[Q];typeof Z[Z.length-2]=="function"&&(console.warn("Callback function no longer supported as of winston@3.0.0"),Z.pop());var ee=t(Z[Z.length-1])==="object"?Z.pop():{};return ee.level=ee.level||"info",ee.durationMs=H-oe,ee.message=ee.message||ne,this.write(ee)}return this.profilers[ne]=H,this}},{key:"handleExceptions",value:function(){var ne;console.warn("Deprecated: .handleExceptions() will be removed in winston@4. Use .exceptions.handle()"),(ne=this.exceptions).handle.apply(ne,arguments)}},{key:"unhandleExceptions",value:function(){var ne;console.warn("Deprecated: .unhandleExceptions() will be removed in winston@4. Use .exceptions.unhandle()"),(ne=this.exceptions).unhandle.apply(ne,arguments)}},{key:"cli",value:function(){throw new Error(["Logger.cli() was removed in winston@3.0.0","Use a custom winston.formats.cli() instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join(`
`))}},{key:"_onEvent",value:function(ne,H){function oe(he){ne==="error"&&!this.transports.includes(H)&&this.add(H),this.emit(ne,he,H)}H["__winston"+ne]||(H["__winston"+ne]=oe.bind(this),H.on(ne,H["__winston"+ne]))}},{key:"_addDefaultMeta",value:function(ne){this.defaultMeta&&Object.assign(ne,this.defaultMeta)}}])}(_);function ie(X,le){var ae=X[le];return!ae&&ae!==0?null:ae}return Object.defineProperty(Y.prototype,"transports",{configurable:!1,enumerable:!0,get:function(){var le=this._readableState.pipes;return Array.isArray(le)?le:[le].filter(Boolean)}}),nS=Y,nS}var iS,sC;function M8(){if(sC)return iS;sC=1;function e(_){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},e(_)}function t(_,y,m){return Object.defineProperty(_,"prototype",{writable:!1}),_}function r(_,y){if(!(_ instanceof y))throw new TypeError("Cannot call a class as a function")}function n(_,y,m){return y=s(y),i(_,o()?Reflect.construct(y,m,s(_).constructor):y.apply(_,m))}function i(_,y){if(y&&(e(y)=="object"||typeof y=="function"))return y;if(y!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a(_)}function a(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}function o(){try{var _=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o=function(){return!!_})()}function s(_){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)},s(_)}function l(_,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(y&&y.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),Object.defineProperty(_,"prototype",{writable:!1}),y&&u(_,y)}function u(_,y){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(m,g){return m.__proto__=g,m},u(_,y)}var f=Nr(),d=f.LEVEL,c=ix(),p=ox(),b=og()("winston:create-logger");function v(_){return"is"+_.charAt(0).toUpperCase()+_.slice(1)+"Enabled"}return iS=function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};_.levels=_.levels||c.npm.levels;var y=function(g){function S(x){return r(this,S),n(this,S,[x])}return l(S,g),t(S)}(p),m=new y(_);return Object.keys(_.levels).forEach(function(g){if(b('Define prototype method for "%s"',g),g==="log"){console.warn('Level "log" not defined: conflicts with the method "log". Use a different level name.');return}y.prototype[g]=function(){for(var S=this||m,x=arguments.length,I=new Array(x),N=0;N<x;N++)I[N]=arguments[N];if(I.length===1){var q=I[0],D=q&&q.message&&q||{message:q};return D.level=D[d]=g,S._addDefaultMeta(D),S.write(D),this||m}return I.length===0?(S.log(g,""),S):S.log.apply(S,[g].concat(I))},y.prototype[v(g)]=function(){return(this||m).isLevelEnabled(g)}}),m},iS}var aS,uC;function See(){if(uC)return aS;uC=1;function e(s){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},e(s)}function t(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")}function r(s,l){for(var u=0;u<l.length;u++){var f=l[u];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(s,i(f.key),f)}}function n(s,l,u){return r(s.prototype,l),Object.defineProperty(s,"prototype",{writable:!1}),s}function i(s){var l=a(s,"string");return e(l)=="symbol"?l:l+""}function a(s,l){if(e(s)!="object"||!s)return s;var u=s[Symbol.toPrimitive];if(u!==void 0){var f=u.call(s,l);if(e(f)!="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}var o=M8();return aS=function(){function s(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t(this,s),this.loggers=new Map,this.options=l}return n(s,[{key:"add",value:function(u,f){var d=this;if(!this.loggers.has(u)){f=Object.assign({},f||this.options);var c=f.transports||this.options.transports;c?f.transports=Array.isArray(c)?c.slice():[c]:f.transports=[];var p=o(f);p.on("close",function(){return d._delete(u)}),this.loggers.set(u,p)}return this.loggers.get(u)}},{key:"get",value:function(u,f){return this.add(u,f)}},{key:"has",value:function(u){return!!this.loggers.has(u)}},{key:"close",value:function(u){var f=this;if(u)return this._removeLogger(u);this.loggers.forEach(function(d,c){return f._removeLogger(c)})}},{key:"_removeLogger",value:function(u){if(this.loggers.has(u)){var f=this.loggers.get(u);f.close(),this._delete(u)}}},{key:"_delete",value:function(u){this.loggers.delete(u)}}])}(),aS}var lC;function Eee(){return lC||(lC=1,function(e){var t=PB(),r=OB(),n=r.warn;e.version=sX.version,e.transports=cee(),e.config=ix(),e.addColors=t.levels,e.format=t.format,e.createLogger=M8(),e.Logger=ox(),e.ExceptionHandler=C8(),e.RejectionHandler=L8(),e.Container=See(),e.Transport=g0(),e.loggers=new e.Container;var i=e.createLogger();Object.keys(e.config.npm.levels).concat(["log","query","stream","add","remove","clear","profile","startTimer","handleExceptions","unhandleExceptions","handleRejections","unhandleRejections","configure","child"]).forEach(function(a){return e[a]=function(){return i[a].apply(i,arguments)}}),Object.defineProperty(e,"level",{get:function(){return i.level},set:function(o){i.level=o}}),Object.defineProperty(e,"exceptions",{get:function(){return i.exceptions}}),Object.defineProperty(e,"rejections",{get:function(){return i.rejections}}),["exitOnError"].forEach(function(a){Object.defineProperty(e,a,{get:function(){return i[a]},set:function(s){i[a]=s}})}),Object.defineProperty(e,"default",{get:function(){return{exceptionHandlers:i.exceptionHandlers,rejectionHandlers:i.rejectionHandlers,transports:i.transports}}}),n.deprecated(e,"setLevels"),n.forFunctions(e,"useFormat",["cli"]),n.forProperties(e,"useFormat",["padLevels","stripColors"]),n.forFunctions(e,"deprecated",["addRewriter","addFilter","clone","extend"]),n.forProperties(e,"deprecated",["emitErrs","levelLength"])}(fb)),fb}var xs=Eee();const k8=f0(xs);var oS={};const F8="ldes-client",j8=new k8.transports.Console;var m6;typeof ze<"u"&&(j8.level=oS.LOG_LEVEL||((m6=oS.DEBUG)!=null&&m6.includes(F8)||oS.DEBUG==="*"?"debug":"info"));const sS=new WeakMap,uS=new Map;function ii(e){let t;if(typeof e=="string")uS.has(e)?t=uS.get(e):(t=fC(e),uS.set(e,t));else{const{constructor:r}=e;sS.has(r)?t=sS.get(r):(t=fC(r.name),sS.set(r,t))}return t}function fC(e){return k8.createLogger({format:xs.format.combine(xs.format.label({label:e}),xs.format.colorize(),xs.format.timestamp(),xs.format.metadata({fillExcept:["level","timestamp","label","message"]}),xs.format.printf(({level:t,message:r,label:n,timestamp:i})=>`${i} {${F8}} [${n}] ${t}: ${r}`)),transports:[j8]})}const Tee=ii("Utils"),RE=new UT.DataFactory;function cC(e,t,r,n){return e.getQuads(null,t,r,n).map(i=>i.subject)}function Vr(e,t,r,n){return e.getQuads(t,r,null,n).map(i=>i.object)}function xee(e){const t=[];return new Promise((r,n)=>{e.on("end",()=>r(t)),e.on("data",i=>{t.push(i)}),e.on("error",i=>{Tee.error("[streamToArray] Stream to Array failed"),n(i)})})}function Ree(e){const t=cC(e,mt.RDF.terms.type,mt.SHACL.terms.NodeShape,null);let r=null;if(t&&t.length>0){for(const n of t)if(cC(e,null,n,null).length===0)if(!r)r=n;else throw new Error("There are multiple main node shapes in a given shape graph. Unrelated shapes must be given as separate shape graphs");if(r)return r;throw new Error("No main SHACL Node Shapes found in given shape graph")}else throw new Error("No SHACL Node Shapes found in given shape graph")}class Aee{constructor(t,r){Qe(this,"concurrent",10);Qe(this,"paused",!1);Qe(this,"factory");Qe(this,"children",[]);this.factory=t,r&&(this.concurrent=r)}create(t,r,n,i){const a=this.factory.build(t,JSON.stringify,JSON.parse,()=>({todo:[],inflight:[]}));i&&(a.item.todo=a.item.todo.map(({item:s,index:l})=>({index:l,item:i(s)})),a.item.inflight=a.item.inflight.map(({item:s,index:l})=>({index:l,item:i(s)})));const o=new Iee(a,r,n,this);return this.children.push(o),o}pause(){this.paused=!0}unpause(){this.paused=!1,this.children.forEach(t=>t.checkReady())}}class Iee{constructor(t,r,n,i){Qe(this,"at",0);Qe(this,"index",0);Qe(this,"state");Qe(this,"ranker");Qe(this,"notifier");Qe(this,"factory");Qe(this,"logger",ii(this));this.state=t;const a=[...this.state.item.todo,...this.state.item.inflight];for(this.state.item.todo.push(...this.state.item.inflight);this.state.item.inflight.pop(););for(;this.state.item.todo.pop(););this.ranker=r,this.notifier=n,this.factory=i;for(const o of a)this.push(o.item)}length(){return this.state.item.todo.length}push(t){const r={item:t,index:this.index};this.state.item.todo.push(r),this.index+=1,this.ranker.push(r),this.checkReady()}finished(t){const r=this.state.item.inflight.findIndex(n=>n.index==t);r>=0?this.state.item.inflight.splice(r,1):this.logger.error("[finished] Expected to be able to remove inflight item"),this.at-=1,this.checkReady()}checkReady(){if(!this.factory.paused)for(;this.at<this.factory.concurrent;){const t=this.ranker.pop();if(t){const r=this.state.item.todo.findIndex(n=>n.index==t.index);r>=0?this.state.item.todo.splice(r,1):this.logger.error("[checkReady] Expected to be able to remove inflight item"),this.state.item.inflight.push(t),this.at+=1,this.notifier.ready(t,{})}else break}}}function Pee(e,t,r,n,i){var l,u,f;let a;if(r){const d=(l=t.find(c=>c.subject.equals(e)&&c.predicate.equals(r)))==null?void 0:l.object.value;if(d)try{a=new Date(d)}catch{a=d}}let o;n&&(o=(u=t.find(d=>d.subject.equals(e)&&d.predicate.equals(n)))==null?void 0:u.object.value);const s=(f=t.find(d=>d.subject.equals(e)&&d.predicate.value===mt.RDF.type))==null?void 0:f.object;return{quads:t,id:e,isVersionOf:o,timestamp:a,type:s,created:i}}function Oee(e,t,r){if(t&&r.isVersionOfPath){const n=ju.RdfStore.createDefault();e.quads.forEach(a=>n.addQuad(a));const i=Vr(n,e.id,r.isVersionOfPath)[0];if(i){n.removeQuad(RE.quad(e.id,r.isVersionOfPath,i));for(const a of n.getQuads(e.id)){const o=RE.quad(i,a.predicate,a.object,a.graph);n.removeQuad(a),n.addQuad(o)}e.id=i,e.quads=n.getQuads()}else console.error(`No version property found in Member (${e.id}) as specified by ldes:isVersionOfPath ${r.isVersionOfPath}`)}return e}function Nee(e,t,r,n,i){let a=q8();const o=s=>RE.literal(s.toISOString(),mt.XSD.terms.dateTime);if(r){if(!i)throw"Cannot apply 'before' or 'after' filters since the target LDES does not define a ldes:timestampPath predicate";const s=Jn(i),l=new oy({relationType:mt.TREE.terms.LessThanRelation,value:o(r),compareType:"date",path:s,pathQuads:{entry:i,quads:[]},defaultTimezone:t});if(n){const u=new oy({relationType:mt.TREE.terms.GreaterThanRelation,value:o(n),compareType:"date",path:s,pathQuads:{entry:i,quads:[]},defaultTimezone:t});a=new dC({items:[l,u]})}else a=l}else if(n){if(!i)throw"Cannot apply 'before' or 'after' filters since the target LDES does not define a ldes:timestampPath predicate";const s=Jn(i);a=new oy({relationType:mt.TREE.terms.GreaterThanRelation,value:o(n),compareType:"date",path:s,pathQuads:{entry:i,quads:[]},defaultTimezone:t})}return e instanceof U8?a:new dC({items:[e,a]})}function sx(e,t){const r=(a,o)=>{const s=a.predicate.value,l=o.predicate.value;return s==l?0:s<l?-1:1},n=e.store.getQuads(e.id,null,null,null).sort(r),i=t.store.getQuads(t.id,null,null,null).sort(r);if(n.length!=i.length)return!1;for(let a=0;a<n.length;a++){if(!n[a].predicate.equals(i[a].predicate))return!1;const o=n[a].object,s=i[a].object;if(o.termType!==s.termType)return!1;if(o.termType==="BlankNode"){if(!sx({id:o,store:e.store},{id:s,store:t.store}))return!1}else if(o.value!==s.value)return!1}return!0}class Dee{constructor(t,r){Qe(this,"store");Qe(this,"defaultTimezone");Qe(this,"ranges",[]);this.store=t,this.defaultTimezone=r}allowed(t){return this.ranges.every(r=>t.matchRelation(r.range,{id:r.cbdEntry,store:this.store}))}addRelation(t){var s;const r=Vr(this.store,t,mt.RDF.terms.type,null)[0]||mt.TREE.Relation,n=Vr(this.store,t,mt.TREE.terms.path,null)[0],i=Vr(this.store,t,mt.TREE.terms.value,null)[0];let a=this.ranges.find(l=>sx({id:n,store:this.store},{id:l.cbdEntry,store:this.store}));if(!a){const l={cbdEntry:n,range:B8.empty(this.defaultTimezone)};this.ranges.push(l),a=l}if(!i){a.range=void 0;return}let o;i.termType==="Literal"&&(o=i.datatype.value),(s=a.range)==null||s.add(i.value,r.value,o)}}const ux=ii("InBetweenRelation");function AE(e,t,r){if(t===mt.XSD.custom("gYear")){const n=Cee(e,r);if(!n)return;const[i,a]=n;return{min:i,max:a}}else if(t===mt.XSD.custom("gYearMonth")){const n=Lee(e,r);if(!n)return;const[i,a]=n;return{min:i,max:a}}else if(t===mt.XSD.custom("date")){const n=Mee(e,r);if(!n)return;const[i,a]=n;return{min:i,max:a}}else{const n=kee(e,r);if(!n)return;const[i,a]=n;return{min:i,max:a}}}function Cee(e,t){const r=/^(-?[1-9][0-9]{3,}|-?0[0-9]{3})(Z|(\+|-)((0[0-9]|1[0-3]):([0-5][0-9])|14:00))?$/,n=e.match(r);if(!n){ux.warn(`Invalid gYear format: ${e}`);return}const i=parseInt(n[1]);let a=0,o=0;const s=n[2]||t;if(s==="AoE")a=-12*60,o=12*60;else if(s!=="Z"){const l=n[3],u=parseInt(n[5]),f=parseInt(n[6]),d=(l==="+"?1:-1)*(u*60+f);a=d,o=d}return[new Date(Date.UTC(i,0,1)+a*60*1e3),new Date(Date.UTC(i+1,0,1)+o*60*1e3)]}function Lee(e,t){const r=/^(-?[1-9][0-9]{3,}|-?0[0-9]{3})-(0[1-9]|1[0-2])(Z|(\+|-)((0[0-9]|1[0-3]):([0-5][0-9])|14:00))?$/,n=e.match(r);if(!n){ux.warn(`Invalid gYearMonth format: ${e}`);return}const i=parseInt(n[1]),a=parseInt(n[2]);let o=0,s=0;const l=n[3]||t;if(l==="AoE")o=-12*60,s=12*60;else if(l!=="Z"){const u=n[4],f=parseInt(n[6]),d=parseInt(n[7]),c=(u==="+"?1:-1)*(f*60+d);o=c,s=c}return[new Date(Date.UTC(i,a-1,1)+o*60*1e3),new Date(Date.UTC(i,a,1)+s*60*1e3)]}function Mee(e,t){const r=/^(-?[1-9][0-9]{3,}|-?0[0-9]{3})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])(Z|(\+|-)((0[0-9]|1[0-3]):([0-5][0-9])|14:00))?$/,n=e.match(r);if(!n){ux.warn(`Invalid date format: ${e}`);return}const i=parseInt(n[1]),a=parseInt(n[2]),o=parseInt(n[3]);let s=0,l=0;const u=n[4]||t;if(u==="AoE")s=-12*60,l=12*60;else if(u!=="Z"){const f=n[5],d=parseInt(n[7]),c=parseInt(n[8]),p=(f==="+"?1:-1)*(d*60+c);s=p,l=p}return[new Date(Date.UTC(i,a-1,o)+s*60*1e3),new Date(Date.UTC(i,a-1,o+1)+l*60*1e3)]}function kee(e,t){const r=/^(-?[1-9][0-9]{3,}|-?0[0-9]{3})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])T([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])(Z|(\+|-)((0[0-9]|1[0-3]):([0-5][0-9])|14:00))?$/,n=e.match(r);if(n){const l=parseInt(n[1]),u=parseInt(n[2]),f=parseInt(n[3]),d=parseInt(n[4]),c=parseInt(n[5]),p=parseInt(n[6]);let b=0,v=0;const _=n[7]||t;if(_==="AoE")b=-12*60,v=12*60;else if(_!=="Z"){const y=n[8],m=parseInt(n[10]),g=parseInt(n[11]),S=(y==="+"?1:-1)*(m*60+g);b=S,v=S}return[new Date(Date.UTC(l,u-1,f,d,c,p)+b*60*1e3),new Date(Date.UTC(l,u-1,f,d,c,p+1)+v*60*1e3)]}const i=/^(-?[1-9][0-9]{3,}|-?0[0-9]{3})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])T([01][0-9]|2[0-3]):([0-5][0-9])(Z|(\+|-)((0[0-9]|1[0-3]):([0-5][0-9])|14:00))?$/,a=e.match(i);if(a){const l=parseInt(a[1]),u=parseInt(a[2]),f=parseInt(a[3]),d=parseInt(a[4]),c=parseInt(a[5]);let p=0,b=0;const v=a[6]||t;if(v==="AoE")p=-12*60,b=12*60;else if(v!=="Z"){const _=a[7],y=parseInt(a[9]),m=parseInt(a[10]),g=(_==="+"?1:-1)*(y*60+m);p=g,b=g}return[new Date(Date.UTC(l,u-1,f,d,c)+p*60*1e3),new Date(Date.UTC(l,u-1,f,d,c+1)+b*60*1e3)]}const o=/^(-?[1-9][0-9]{3,}|-?0[0-9]{3})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])T([01][0-9]|2[0-3])(Z|(\+|-)((0[0-9]|1[0-3]):([0-5][0-9])|14:00))?$/,s=e.match(o);if(s){const l=parseInt(s[1]),u=parseInt(s[2]),f=parseInt(s[3]),d=parseInt(s[4]);let c=0,p=0;const b=s[5]||t;if(b==="AoE")c=-12*60,p=12*60;else if(b!=="Z"){const v=s[6],_=parseInt(s[8]),y=parseInt(s[9]),m=(v==="+"?1:-1)*(_*60+y);c=m,p=m}return[new Date(Date.UTC(l,u-1,f,d)+c*60*1e3),new Date(Date.UTC(l,u-1,f,d+1)+p*60*1e3)]}}function q8(){return new U8}let B8=class $8{constructor(t,r,n,i){Qe(this,"min");Qe(this,"eqMin",!0);Qe(this,"max");Qe(this,"eqMax",!0);Qe(this,"logger",ii(this));Qe(this,"defaultTimezone");switch(/^(AoE|Z|[+-]((0[0-9]|1[0-3]):([0-5][0-9])|14:00))$/.test(n)?this.defaultTimezone=n:(this.logger.warn(`Invalid timezone: '${n}'. Using default Anywhere on Earth (AoE) instead.`),this.defaultTimezone="AoE"),r){case mt.TREE.EqualToRelation:this.min=t,this.max=t;return;case mt.TREE.LessThanRelation:this.max=t,this.eqMax=!1;return;case mt.TREE.LessThanOrEqualToRelation:this.max=t;return;case mt.TREE.GreaterThanRelation:this.min=t,this.eqMin=!1;return;case mt.TREE.GreaterThanOrEqualToRelation:this.min=t;return;case mt.TREE.custom("InBetweenRelation"):{if(typeof t!="string")throw"InBetweenRelation can only handle string values, not"+typeof t;const o=AE(t,i,this.defaultTimezone);o&&(this.min=o.min,this.eqMin=!0,this.max=o.max,this.eqMax=!1);return}}}static empty(t){return new $8("",mt.TREE.Relation,t)}add(t,r,n){switch(r){case mt.TREE.EqualToRelation:this.min=t,this.max=t;return;case mt.TREE.LessThanRelation:(!this.max||t<this.max)&&(this.max=t,this.eqMax=!1);return;case mt.TREE.LessThanOrEqualToRelation:(!this.max||t<this.max)&&(this.max=t);return;case mt.TREE.GreaterThanRelation:(!this.min||t>this.min)&&(this.min=t,this.eqMin=!1);return;case mt.TREE.GreaterThanOrEqualToRelation:(!this.min||t>this.min)&&(this.min=t);return;case mt.TREE.custom("InBetweenRelation"):{if(typeof t!="string")throw"InBetweenRelation can only handle string values, not"+typeof t;const i=AE(t,n,this.defaultTimezone);i&&((this.min===void 0||i.min<this.min)&&(this.min=i.min,this.eqMin=!0),(this.max===void 0||i.max<this.max)&&(this.max=i.max,this.eqMax=!1));return}}}contains(t){if(this.min){if(this.eqMin){if(this.min>t)return!1}else if(this.min>=t)return!1}if(this.max){if(this.eqMax){if(this.max<t)return!1}else if(this.max<=t)return!1}return!0}overlaps(t){if(this.min&&t.max){if(this.eqMin&&t.eqMax){if(this.min>t.max)return!1}else if(this.min>=t.max)return!1}if(this.max&&t.min){if(this.eqMax&&t.eqMin){if(t.min>this.max)return!1}else if(t.min>=this.max)return!1}return!0}toString(t){const r=t||(o=>o.toString()),n=this.min&&this.max?",":"",i=this.min?(this.eqMin?"[":"(")+r(this.min):"]",a=this.max?r(this.max)+(this.eqMax?"]":")"):"[";return i+n+a}};class oy{constructor(t){Qe(this,"relationType");Qe(this,"value");Qe(this,"compareType");Qe(this,"path");Qe(this,"pathQuads");Qe(this,"range");Qe(this,"defaultTimezone");Qe(this,"logger",ii(this));this.relationType=t.relationType,this.value=t.value,this.compareType=t.compareType||"string",this.path=t.path;const r=ju.RdfStore.createDefault();t.pathQuads.quads.forEach(i=>r.addQuad(i)),this.pathQuads={id:t.pathQuads.entry,store:r},this.defaultTimezone=t.defaultTimezone;let n;t.value.termType==="Literal"&&(n=t.value.datatype.value),this.range=new B8(this.parseValue(t.value.value),t.relationType.value,this.defaultTimezone,n)}memberEmitted(){}toString(){const t=this.compareType==="date"?r=>r.toISOString():void 0;return`${this.pathQuads.id.value}  ${this.range.toString(t)}`}matchRelation(t,r){if(!sx(this.pathQuads,r))return!0;if(!t)return this.logger.debug("[matchRelation] Range is here also undefined, returning false"),!1;const n=this.compareType==="date"?i=>new Date(i).toISOString():void 0;return this.logger.verbose(`${this.range.toString(n)} contains ${t.toString(n)}. Overlaps: ${this.range.overlaps(t)}`),this.range.overlaps(t)}matchMember(t){const r=this.parseValue(this.path.execute(t)[0].id.value);return this.range.contains(r)}parseValue(t){switch(this.compareType){case"string":return t;case"date":return new Date(t);case"integer":return parseInt(t);case"float":return parseFloat(t);default:return t}}poll(){}}class Fee{constructor(t){Qe(this,"items");this.items=t.items}matchRelation(t,r){return this.items.map(n=>n.matchRelation(t,r)).reduce(this.combine.bind(this))}matchMember(t){return this.items.map(r=>r.matchMember(t)).reduce(this.combine.bind(this))}poll(){this.items.forEach(t=>t.poll())}}class dC extends Fee{combine(t,r){return t&&r}memberEmitted(t){this.items.forEach(r=>r.memberEmitted(t))}toString(){return`(${this.items.map(r=>r.toString()).join(" ^ ")})`}}class U8{constructor(){Qe(this,"logger",ii(this))}matchRelation(t,r){return this.logger.verbose("[matchRelation] Returning true"),!0}matchMember(t){return!0}memberEmitted(){}toString(){return"all"}poll(){}}const jee={urlIsView:!1,noShape:!1,condition:q8(),loose:!1,polling:!1,url:"",pollInterval:200,defaultTimezone:"AoE",materialize:!1,lastVersionOnly:!1,includeMetadata:!1},qee={target:{}};function Bee(e){return Object.assign({},jee,qee,e)}var sc={},uc={},lc={},fc={},fs={},v0="delete",dr=5,yi=1<<dr,Mn=yi-1,Bt={};function IE(){return{value:!1}}function gi(e){e&&(e.value=!0)}function lx(){}function Uu(e){return e.size===void 0&&(e.size=e.__iterate(V8)),e.size}function Mo(e,t){if(typeof t!="number"){var r=t>>>0;if(""+r!==t||r===4294967295)return NaN;t=r}return t<0?Uu(e)+t:t}function V8(){return!0}function w0(e,t,r){return(e===0&&!z8(e)||r!==void 0&&e<=-r)&&(t===void 0||r!==void 0&&t>=r)}function fl(e,t){return H8(e,t,0)}function S0(e,t){return H8(e,t,t)}function H8(e,t,r){return e===void 0?r:z8(e)?t===1/0?t:Math.max(0,t+e)|0:t===void 0||t===e?e:Math.min(t,e)|0}function z8(e){return e<0||e===0&&1/e===-1/0}var G8="@@__IMMUTABLE_ITERABLE__@@";function vn(e){return!!(e&&e[G8])}var W8="@@__IMMUTABLE_KEYED__@@";function rr(e){return!!(e&&e[W8])}var K8="@@__IMMUTABLE_INDEXED__@@";function fn(e){return!!(e&&e[K8])}function cl(e){return rr(e)||fn(e)}var mr=function(t){return vn(t)?t:wn(t)},Ri=function(e){function t(r){return rr(r)?r:Wo(r)}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t}(mr),Ks=function(e){function t(r){return fn(r)?r:Ai(r)}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t}(mr),dl=function(e){function t(r){return vn(r)&&!cl(r)?r:ml(r)}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t}(mr);mr.Keyed=Ri;mr.Indexed=Ks;mr.Set=dl;var Q8="@@__IMMUTABLE_SEQ__@@";function E0(e){return!!(e&&e[Q8])}var Z8="@@__IMMUTABLE_RECORD__@@";function Go(e){return!!(e&&e[Z8])}function ai(e){return vn(e)||Go(e)}var hl="@@__IMMUTABLE_ORDERED__@@";function ti(e){return!!(e&&e[hl])}var T0=0,Hi=1,Ti=2,PE=typeof Symbol=="function"&&Symbol.iterator,Y8="@@iterator",ug=PE||Y8,Ht=function(t){this.next=t};Ht.prototype.toString=function(){return"[Iterator]"};Ht.KEYS=T0;Ht.VALUES=Hi;Ht.ENTRIES=Ti;Ht.prototype.inspect=Ht.prototype.toSource=function(){return this.toString()};Ht.prototype[ug]=function(){return this};function yr(e,t,r,n){var i=e===0?t:e===1?r:[t,r];return n?n.value=i:n={value:i,done:!1},n}function kn(){return{value:void 0,done:!0}}function fx(e){return Array.isArray(e)?!0:!!lg(e)}function hC(e){return e&&typeof e.next=="function"}function OE(e){var t=lg(e);return t&&t.call(e)}function lg(e){var t=e&&(PE&&e[PE]||e[Y8]);if(typeof t=="function")return t}function $ee(e){var t=lg(e);return t&&t===e.entries}function Uee(e){var t=lg(e);return t&&t===e.keys}var pl=Object.prototype.hasOwnProperty;function cx(e){return Array.isArray(e)||typeof e=="string"?!0:e&&typeof e=="object"&&Number.isInteger(e.length)&&e.length>=0&&(e.length===0?Object.keys(e).length===1:e.hasOwnProperty(e.length-1))}var wn=function(e){function t(r){return r==null?hx():ai(r)?r.toSeq():Hee(r)}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.toSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq {","}")},t.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},t.prototype.__iterate=function(n,i){var a=this._cache;if(a){for(var o=a.length,s=0;s!==o;){var l=a[i?o-++s:s++];if(n(l[1],l[0],this)===!1)break}return s}return this.__iterateUncached(n,i)},t.prototype.__iterator=function(n,i){var a=this._cache;if(a){var o=a.length,s=0;return new Ht(function(){if(s===o)return kn();var l=a[i?o-++s:s++];return yr(n,l[0],l[1])})}return this.__iteratorUncached(n,i)},t}(mr),Wo=function(e){function t(r){return r==null?hx().toKeyedSeq():vn(r)?rr(r)?r.toSeq():r.fromEntrySeq():Go(r)?r.toSeq():px(r)}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.toKeyedSeq=function(){return this},t}(wn),Ai=function(e){function t(r){return r==null?hx():vn(r)?rr(r)?r.entrySeq():r.toIndexedSeq():Go(r)?r.toSeq().entrySeq():X8(r)}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toIndexedSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq [","]")},t}(wn),ml=function(e){function t(r){return(vn(r)&&!cl(r)?r:Ai(r)).toSetSeq()}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toSetSeq=function(){return this},t}(wn);wn.isSeq=E0;wn.Keyed=Wo;wn.Set=ml;wn.Indexed=Ai;wn.prototype[Q8]=!0;var qs=function(e){function t(r){this._array=r,this.size=r.length}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.get=function(n,i){return this.has(n)?this._array[Mo(this,n)]:i},t.prototype.__iterate=function(n,i){for(var a=this._array,o=a.length,s=0;s!==o;){var l=i?o-++s:s++;if(n(a[l],l,this)===!1)break}return s},t.prototype.__iterator=function(n,i){var a=this._array,o=a.length,s=0;return new Ht(function(){if(s===o)return kn();var l=i?o-++s:s++;return yr(n,l,a[l])})},t}(Ai),dx=function(e){function t(r){var n=Object.keys(r).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(r):[]);this._object=r,this._keys=n,this.size=n.length}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.get=function(n,i){return i!==void 0&&!this.has(n)?i:this._object[n]},t.prototype.has=function(n){return pl.call(this._object,n)},t.prototype.__iterate=function(n,i){for(var a=this._object,o=this._keys,s=o.length,l=0;l!==s;){var u=o[i?s-++l:l++];if(n(a[u],u,this)===!1)break}return l},t.prototype.__iterator=function(n,i){var a=this._object,o=this._keys,s=o.length,l=0;return new Ht(function(){if(l===s)return kn();var u=o[i?s-++l:l++];return yr(n,u,a[u])})},t}(Wo);dx.prototype[hl]=!0;var Vee=function(e){function t(r){this._collection=r,this.size=r.length||r.size}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.__iterateUncached=function(n,i){if(i)return this.cacheResult().__iterate(n,i);var a=this._collection,o=OE(a),s=0;if(hC(o))for(var l;!(l=o.next()).done&&n(l.value,s++,this)!==!1;);return s},t.prototype.__iteratorUncached=function(n,i){if(i)return this.cacheResult().__iterator(n,i);var a=this._collection,o=OE(a);if(!hC(o))return new Ht(kn);var s=0;return new Ht(function(){var l=o.next();return l.done?l:yr(n,s++,l.value)})},t}(Ai),pC;function hx(){return pC||(pC=new qs([]))}function px(e){var t=mx(e);if(t)return t.fromEntrySeq();if(typeof e=="object")return new dx(e);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+e)}function X8(e){var t=mx(e);if(t)return t;throw new TypeError("Expected Array or collection object of values: "+e)}function Hee(e){var t=mx(e);if(t)return $ee(e)?t.fromEntrySeq():Uee(e)?t.toSetSeq():t;if(typeof e=="object")return new dx(e);throw new TypeError("Expected Array or collection object of values, or keyed object: "+e)}function mx(e){return cx(e)?new qs(e):fx(e)?new Vee(e):void 0}var J8="@@__IMMUTABLE_MAP__@@";function x0(e){return!!(e&&e[J8])}function fg(e){return x0(e)&&ti(e)}function Ty(e){return!!(e&&typeof e.equals=="function"&&typeof e.hashCode=="function")}function Yr(e,t){if(e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1;if(typeof e.valueOf=="function"&&typeof t.valueOf=="function"){if(e=e.valueOf(),t=t.valueOf(),e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1}return!!(Ty(e)&&Ty(t)&&e.equals(t))}var cc=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(t,r){t|=0,r|=0;var n=t&65535,i=r&65535;return n*i+((t>>>16)*i+n*(r>>>16)<<16>>>0)|0};function cg(e){return e>>>1&1073741824|e&3221225471}var zee=Object.prototype.valueOf;function Nn(e){if(e==null)return mC(e);if(typeof e.hashCode=="function")return cg(e.hashCode(e));var t=Yee(e);if(t==null)return mC(t);switch(typeof t){case"boolean":return t?1108378657:1108378656;case"number":return Gee(t);case"string":return t.length>Xee?Wee(t):NE(t);case"object":case"function":return Qee(t);case"symbol":return Kee(t);default:if(typeof t.toString=="function")return NE(t.toString());throw new Error("Value type "+typeof t+" cannot be hashed.")}}function mC(e){return e===null?1108378658:1108378659}function Gee(e){if(e!==e||e===1/0)return 0;var t=e|0;for(t!==e&&(t^=e*4294967295);e>4294967295;)e/=4294967295,t^=e;return cg(t)}function Wee(e){var t=cS[e];return t===void 0&&(t=NE(e),fS===Jee&&(fS=0,cS={}),fS++,cS[e]=t),t}function NE(e){for(var t=0,r=0;r<e.length;r++)t=31*t+e.charCodeAt(r)|0;return cg(t)}function Kee(e){var t=_C[e];return t!==void 0||(t=e$(),_C[e]=t),t}function Qee(e){var t;if(DE&&(t=CE.get(e),t!==void 0)||(t=e[Os],t!==void 0)||!gC&&(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Os],t!==void 0||(t=Zee(e),t!==void 0)))return t;if(t=e$(),DE)CE.set(e,t);else{if(yC!==void 0&&yC(e)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(gC)Object.defineProperty(e,Os,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(e.propertyIsEnumerable!==void 0&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Os]=t;else if(e.nodeType!==void 0)e[Os]=t;else throw new Error("Unable to set a non-enumerable property on object.")}return t}var yC=Object.isExtensible,gC=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}();function Zee(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}function Yee(e){return e.valueOf!==zee&&typeof e.valueOf=="function"?e.valueOf(e):e}function e$(){var e=++lS;return lS&1073741824&&(lS=0),e}var DE=typeof WeakMap=="function",CE;DE&&(CE=new WeakMap);var _C=Object.create(null),lS=0,Os="__immutablehash__";typeof Symbol=="function"&&(Os=Symbol(Os));var Xee=16,Jee=255,fS=0,cS={},dg=function(e){function t(r,n){this._iter=r,this._useKeys=n,this.size=r.size}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.get=function(n,i){return this._iter.get(n,i)},t.prototype.has=function(n){return this._iter.has(n)},t.prototype.valueSeq=function(){return this._iter.valueSeq()},t.prototype.reverse=function(){var n=this,i=yx(this,!0);return this._useKeys||(i.valueSeq=function(){return n._iter.toSeq().reverse()}),i},t.prototype.map=function(n,i){var a=this,o=a$(this,n,i);return this._useKeys||(o.valueSeq=function(){return a._iter.toSeq().map(n,i)}),o},t.prototype.__iterate=function(n,i){var a=this;return this._iter.__iterate(function(o,s){return n(o,s,a)},i)},t.prototype.__iterator=function(n,i){return this._iter.__iterator(n,i)},t}(Wo);dg.prototype[hl]=!0;var t$=function(e){function t(r){this._iter=r,this.size=r.size}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.includes=function(n){return this._iter.includes(n)},t.prototype.__iterate=function(n,i){var a=this,o=0;return i&&Uu(this),this._iter.__iterate(function(s){return n(s,i?a.size-++o:o++,a)},i)},t.prototype.__iterator=function(n,i){var a=this,o=this._iter.__iterator(Hi,i),s=0;return i&&Uu(this),new Ht(function(){var l=o.next();return l.done?l:yr(n,i?a.size-++s:s++,l.value,l)})},t}(Ai),r$=function(e){function t(r){this._iter=r,this.size=r.size}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.has=function(n){return this._iter.includes(n)},t.prototype.__iterate=function(n,i){var a=this;return this._iter.__iterate(function(o){return n(o,o,a)},i)},t.prototype.__iterator=function(n,i){var a=this._iter.__iterator(Hi,i);return new Ht(function(){var o=a.next();return o.done?o:yr(n,o.value,o.value,o)})},t}(ml),n$=function(e){function t(r){this._iter=r,this.size=r.size}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.entrySeq=function(){return this._iter.toSeq()},t.prototype.__iterate=function(n,i){var a=this;return this._iter.__iterate(function(o){if(o){vC(o);var s=vn(o);return n(s?o.get(1):o[1],s?o.get(0):o[0],a)}},i)},t.prototype.__iterator=function(n,i){var a=this._iter.__iterator(Hi,i);return new Ht(function(){for(;;){var o=a.next();if(o.done)return o;var s=o.value;if(s){vC(s);var l=vn(s);return yr(n,l?s.get(0):s[0],l?s.get(1):s[1],o)}}})},t}(Wo);t$.prototype.cacheResult=dg.prototype.cacheResult=r$.prototype.cacheResult=n$.prototype.cacheResult=bx;function i$(e){var t=va(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var r=e.reverse.apply(this);return r.flip=function(){return e.reverse()},r},t.has=function(r){return e.includes(r)},t.includes=function(r){return e.has(r)},t.cacheResult=bx,t.__iterateUncached=function(r,n){var i=this;return e.__iterate(function(a,o){return r(o,a,i)!==!1},n)},t.__iteratorUncached=function(r,n){if(r===Ti){var i=e.__iterator(r,n);return new Ht(function(){var a=i.next();if(!a.done){var o=a.value[0];a.value[0]=a.value[1],a.value[1]=o}return a})}return e.__iterator(r===Hi?T0:Hi,n)},t}function a$(e,t,r){var n=va(e);return n.size=e.size,n.has=function(i){return e.has(i)},n.get=function(i,a){var o=e.get(i,Bt);return o===Bt?a:t.call(r,o,i,e)},n.__iterateUncached=function(i,a){var o=this;return e.__iterate(function(s,l,u){return i(t.call(r,s,l,u),l,o)!==!1},a)},n.__iteratorUncached=function(i,a){var o=e.__iterator(Ti,a);return new Ht(function(){var s=o.next();if(s.done)return s;var l=s.value,u=l[0];return yr(i,u,t.call(r,l[1],u,e),s)})},n}function yx(e,t){var r=this,n=va(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var i=i$(e);return i.reverse=function(){return e.flip()},i}),n.get=function(i,a){return e.get(t?i:-1-i,a)},n.has=function(i){return e.has(t?i:-1-i)},n.includes=function(i){return e.includes(i)},n.cacheResult=bx,n.__iterate=function(i,a){var o=this,s=0;return a&&Uu(e),e.__iterate(function(l,u){return i(l,t?u:a?o.size-++s:s++,o)},!a)},n.__iterator=function(i,a){var o=0;a&&Uu(e);var s=e.__iterator(Ti,!a);return new Ht(function(){var l=s.next();if(l.done)return l;var u=l.value;return yr(i,t?u[0]:a?r.size-++o:o++,u[1],l)})},n}function o$(e,t,r,n){var i=va(e);return n&&(i.has=function(a){var o=e.get(a,Bt);return o!==Bt&&!!t.call(r,o,a,e)},i.get=function(a,o){var s=e.get(a,Bt);return s!==Bt&&t.call(r,s,a,e)?s:o}),i.__iterateUncached=function(a,o){var s=this,l=0;return e.__iterate(function(u,f,d){if(t.call(r,u,f,d))return l++,a(u,n?f:l-1,s)},o),l},i.__iteratorUncached=function(a,o){var s=e.__iterator(Ti,o),l=0;return new Ht(function(){for(;;){var u=s.next();if(u.done)return u;var f=u.value,d=f[0],c=f[1];if(t.call(r,c,d,e))return yr(a,n?d:l++,c,u)}})},i}function ete(e,t,r){var n=Qo().asMutable();return e.__iterate(function(i,a){n.update(t.call(r,i,a,e),0,function(o){return o+1})}),n.asImmutable()}function tte(e,t,r){var n=rr(e),i=(ti(e)?zi():Qo()).asMutable();e.__iterate(function(o,s){i.update(t.call(r,o,s,e),function(l){return l=l||[],l.push(n?[s,o]:o),l})});var a=_x(e);return i.map(function(o){return er(e,a(o))}).asImmutable()}function rte(e,t,r){var n=rr(e),i=[[],[]];e.__iterate(function(o,s){i[t.call(r,o,s,e)?1:0].push(n?[s,o]:o)});var a=_x(e);return i.map(function(o){return er(e,a(o))})}function gx(e,t,r,n){var i=e.size;if(w0(t,r,i))return e;if(typeof i>"u"&&(t<0||r<0))return gx(e.toSeq().cacheResult(),t,r,n);var a=fl(t,i),o=S0(r,i),s=o-a,l;s===s&&(l=s<0?0:s);var u=va(e);return u.size=l===0?l:e.size&&l||void 0,!n&&E0(e)&&l>=0&&(u.get=function(f,d){return f=Mo(this,f),f>=0&&f<l?e.get(f+a,d):d}),u.__iterateUncached=function(f,d){var c=this;if(l===0)return 0;if(d)return this.cacheResult().__iterate(f,d);var p=0,b=!0,v=0;return e.__iterate(function(_,y){if(!(b&&(b=p++<a)))return v++,f(_,n?y:v-1,c)!==!1&&v!==l}),v},u.__iteratorUncached=function(f,d){if(l!==0&&d)return this.cacheResult().__iterator(f,d);if(l===0)return new Ht(kn);var c=e.__iterator(f,d),p=0,b=0;return new Ht(function(){for(;p++<a;)c.next();if(++b>l)return kn();var v=c.next();return n||f===Hi||v.done?v:f===T0?yr(f,b-1,void 0,v):yr(f,b-1,v.value[1],v)})},u}function nte(e,t,r){var n=va(e);return n.__iterateUncached=function(i,a){var o=this;if(a)return this.cacheResult().__iterate(i,a);var s=0;return e.__iterate(function(l,u,f){return t.call(r,l,u,f)&&++s&&i(l,u,o)}),s},n.__iteratorUncached=function(i,a){var o=this;if(a)return this.cacheResult().__iterator(i,a);var s=e.__iterator(Ti,a),l=!0;return new Ht(function(){if(!l)return kn();var u=s.next();if(u.done)return u;var f=u.value,d=f[0],c=f[1];return t.call(r,c,d,o)?i===Ti?u:yr(i,d,c,u):(l=!1,kn())})},n}function s$(e,t,r,n){var i=va(e);return i.__iterateUncached=function(a,o){var s=this;if(o)return this.cacheResult().__iterate(a,o);var l=!0,u=0;return e.__iterate(function(f,d,c){if(!(l&&(l=t.call(r,f,d,c))))return u++,a(f,n?d:u-1,s)}),u},i.__iteratorUncached=function(a,o){var s=this;if(o)return this.cacheResult().__iterator(a,o);var l=e.__iterator(Ti,o),u=!0,f=0;return new Ht(function(){var d,c,p;do{if(d=l.next(),d.done)return n||a===Hi?d:a===T0?yr(a,f++,void 0,d):yr(a,f++,d.value[1],d);var b=d.value;c=b[0],p=b[1],u&&(u=t.call(r,p,c,s))}while(u);return a===Ti?d:yr(a,c,p,d)})},i}function ite(e,t){var r=rr(e),n=[e].concat(t).map(function(o){return vn(o)?r&&(o=Ri(o)):o=r?px(o):X8(Array.isArray(o)?o:[o]),o}).filter(function(o){return o.size!==0});if(n.length===0)return e;if(n.length===1){var i=n[0];if(i===e||r&&rr(i)||fn(e)&&fn(i))return i}var a=new qs(n);return r?a=a.toKeyedSeq():fn(e)||(a=a.toSetSeq()),a=a.flatten(!0),a.size=n.reduce(function(o,s){if(o!==void 0){var l=s.size;if(l!==void 0)return o+l}},0),a}function u$(e,t,r){var n=va(e);return n.__iterateUncached=function(i,a){if(a)return this.cacheResult().__iterate(i,a);var o=0,s=!1;function l(u,f){u.__iterate(function(d,c){return(!t||f<t)&&vn(d)?l(d,f+1):(o++,i(d,r?c:o-1,n)===!1&&(s=!0)),!s},a)}return l(e,0),o},n.__iteratorUncached=function(i,a){if(a)return this.cacheResult().__iterator(i,a);var o=e.__iterator(i,a),s=[],l=0;return new Ht(function(){for(;o;){var u=o.next();if(u.done!==!1){o=s.pop();continue}var f=u.value;if(i===Ti&&(f=f[1]),(!t||s.length<t)&&vn(f))s.push(o),o=f.__iterator(i,a);else return r?u:yr(i,l++,f,u)}return kn()})},n}function ate(e,t,r){var n=_x(e);return e.toSeq().map(function(i,a){return n(t.call(r,i,a,e))}).flatten(!0)}function ote(e,t){var r=va(e);return r.size=e.size&&e.size*2-1,r.__iterateUncached=function(n,i){var a=this,o=0;return e.__iterate(function(s){return(!o||n(t,o++,a)!==!1)&&n(s,o++,a)!==!1},i),o},r.__iteratorUncached=function(n,i){var a=e.__iterator(Hi,i),o=0,s;return new Ht(function(){return(!s||o%2)&&(s=a.next(),s.done)?s:o%2?yr(n,o++,t):yr(n,o++,s.value,s)})},r}function Vu(e,t,r){t||(t=l$);var n=rr(e),i=0,a=e.toSeq().map(function(o,s){return[s,o,i++,r?r(o,s,e):o]}).valueSeq().toArray();return a.sort(function(o,s){return t(o[3],s[3])||o[2]-s[2]}).forEach(n?function(o,s){a[s].length=2}:function(o,s){a[s]=o[1]}),n?Wo(a):fn(e)?Ai(a):ml(a)}function Um(e,t,r){if(t||(t=l$),r){var n=e.toSeq().map(function(i,a){return[i,r(i,a,e)]}).reduce(function(i,a){return bC(t,i[1],a[1])?a:i});return n&&n[0]}return e.reduce(function(i,a){return bC(t,i,a)?a:i})}function bC(e,t,r){var n=e(r,t);return n===0&&r!==t&&(r==null||r!==r)||n>0}function Vm(e,t,r,n){var i=va(e),a=new qs(r).map(function(o){return o.size});return i.size=n?a.max():a.min(),i.__iterate=function(o,s){for(var l=this.__iterator(Hi,s),u,f=0;!(u=l.next()).done&&o(u.value,f++,this)!==!1;);return f},i.__iteratorUncached=function(o,s){var l=r.map(function(d){return d=mr(d),OE(s?d.reverse():d)}),u=0,f=!1;return new Ht(function(){var d;return f||(d=l.map(function(c){return c.next()}),f=n?d.every(function(c){return c.done}):d.some(function(c){return c.done})),f?kn():yr(o,u++,t.apply(null,d.map(function(c){return c.value})))})},i}function er(e,t){return e===t?e:E0(e)?t:e.constructor(t)}function vC(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function _x(e){return rr(e)?Ri:fn(e)?Ks:dl}function va(e){return Object.create((rr(e)?Wo:fn(e)?Ai:ml).prototype)}function bx(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):wn.prototype.cacheResult.call(this)}function l$(e,t){return e===void 0&&t===void 0?0:e===void 0?1:t===void 0?-1:e>t?1:e<t?-1:0}function da(e,t){t=t||0;for(var r=Math.max(0,e.length-t),n=new Array(r),i=0;i<r;i++)n[i]=e[i+t];return n}function vx(e,t){if(!e)throw new Error(t)}function Zn(e){vx(e!==1/0,"Cannot perform this action with an infinite size.")}function f$(e){if(cx(e)&&typeof e!="string")return e;if(ti(e))return e.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+e)}var ste=Object.prototype.toString;function hg(e){if(!e||typeof e!="object"||ste.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var r=t,n=Object.getPrototypeOf(t);n!==null;)r=n,n=Object.getPrototypeOf(r);return r===t}function ko(e){return typeof e=="object"&&(ai(e)||Array.isArray(e)||hg(e))}function Kp(e){try{return typeof e=="string"?JSON.stringify(e):String(e)}catch{return JSON.stringify(e)}}function wx(e,t){return ai(e)?e.has(t):ko(e)&&pl.call(e,t)}function pg(e,t,r){return ai(e)?e.get(t,r):wx(e,t)?typeof e.get=="function"?e.get(t):e[t]:r}function xy(e){if(Array.isArray(e))return da(e);var t={};for(var r in e)pl.call(e,r)&&(t[r]=e[r]);return t}function Sx(e,t){if(!ko(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(ai(e)){if(!e.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+e);return e.remove(t)}if(!pl.call(e,t))return e;var r=xy(e);return Array.isArray(r)?r.splice(t,1):delete r[t],r}function Ex(e,t,r){if(!ko(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(ai(e)){if(!e.set)throw new TypeError("Cannot update immutable value without .set() method: "+e);return e.set(t,r)}if(pl.call(e,t)&&r===e[t])return e;var n=xy(e);return n[t]=r,n}function Ko(e,t,r,n){n||(n=r,r=void 0);var i=c$(ai(e),e,f$(t),0,r,n);return i===Bt?r:i}function c$(e,t,r,n,i,a){var o=t===Bt;if(n===r.length){var s=o?i:t,l=a(s);return l===s?t:l}if(!o&&!ko(t))throw new TypeError("Cannot update within non-data-structure value in path ["+r.slice(0,n).map(Kp)+"]: "+t);var u=r[n],f=o?Bt:pg(t,u,Bt),d=c$(f===Bt?e:ai(f),f,r,n+1,i,a);return d===f?t:d===Bt?Sx(t,u):Ex(o?e?ji():{}:t,u,d)}function Tx(e,t,r){return Ko(e,t,Bt,function(){return r})}function xx(e,t){return Tx(this,e,t)}function Rx(e,t){return Ko(e,t,function(){return Bt})}function Ax(e){return Rx(this,e)}function mg(e,t,r,n){return Ko(e,[t],r,n)}function Ix(e,t,r){return arguments.length===1?e(this):mg(this,e,t,r)}function Px(e,t,r){return Ko(this,e,t,r)}function d$(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return p$(this,e)}function h$(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];if(typeof e!="function")throw new TypeError("Invalid merger function: "+e);return p$(this,t,e)}function p$(e,t,r){for(var n=[],i=0;i<t.length;i++){var a=Ri(t[i]);a.size!==0&&n.push(a)}return n.length===0?e:e.toSeq().size===0&&!e.__ownerID&&n.length===1?e.constructor(n[0]):e.withMutations(function(o){for(var s=r?function(u,f){mg(o,f,Bt,function(d){return d===Bt?u:r(d,u,f)})}:function(u,f){o.set(f,u)},l=0;l<n.length;l++)n[l].forEach(s)})}function m$(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return A0(e,t)}function y$(e,t){for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];return A0(t,r,e)}function g$(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return R0(e,t)}function _$(e,t){for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];return R0(t,r,e)}function R0(e,t,r){return A0(e,t,ute(r))}function A0(e,t,r){if(!ko(e))throw new TypeError("Cannot merge into non-data-structure value: "+e);if(ai(e))return typeof r=="function"&&e.mergeWith?e.mergeWith.apply(e,[r].concat(t)):e.merge?e.merge.apply(e,t):e.concat.apply(e,t);for(var n=Array.isArray(e),i=e,a=n?Ks:Ri,o=n?function(l){i===e&&(i=xy(i)),i.push(l)}:function(l,u){var f=pl.call(i,u),d=f&&r?r(i[u],l,u):l;(!f||d!==i[u])&&(i===e&&(i=xy(i)),i[u]=d)},s=0;s<t.length;s++)a(t[s]).forEach(o);return i}function ute(e){function t(r,n,i){return ko(r)&&ko(n)&&lte(r,n)?A0(r,[n],t):e?e(r,n,i):n}return t}function lte(e,t){var r=wn(e),n=wn(t);return fn(r)===fn(n)&&rr(r)===rr(n)}function b$(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return R0(this,e)}function v$(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return R0(this,t,e)}function Ox(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return Ko(this,e,ji(),function(n){return A0(n,t)})}function Nx(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return Ko(this,e,ji(),function(n){return R0(n,t)})}function I0(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this}function P0(){return this.__ownerID?this:this.__ensureOwner(new lx)}function O0(){return this.__ensureOwner()}function Dx(){return this.__altered}var Qo=function(e){function t(r){return r==null?ji():x0(r)&&!ti(r)?r:ji().withMutations(function(n){var i=e(r);Zn(i.size),i.forEach(function(a,o){return n.set(o,a)})})}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.of=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];return ji().withMutations(function(a){for(var o=0;o<n.length;o+=2){if(o+1>=n.length)throw new Error("Missing value for key: "+n[o]);a.set(n[o],n[o+1])}})},t.prototype.toString=function(){return this.__toString("Map {","}")},t.prototype.get=function(n,i){return this._root?this._root.get(0,void 0,n,i):i},t.prototype.set=function(n,i){return EC(this,n,i)},t.prototype.remove=function(n){return EC(this,n,Bt)},t.prototype.deleteAll=function(n){var i=mr(n);return i.size===0?this:this.withMutations(function(a){i.forEach(function(o){return a.remove(o)})})},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):ji()},t.prototype.sort=function(n){return zi(Vu(this,n))},t.prototype.sortBy=function(n,i){return zi(Vu(this,i,n))},t.prototype.map=function(n,i){var a=this;return this.withMutations(function(o){o.forEach(function(s,l){o.set(l,n.call(i,s,l,a))})})},t.prototype.__iterator=function(n,i){return new fte(this,n,i)},t.prototype.__iterate=function(n,i){var a=this,o=0;return this._root&&this._root.iterate(function(s){return o++,n(s[1],s[0],a)},i),o},t.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?Cx(this.size,this._root,n,this.__hash):this.size===0?ji():(this.__ownerID=n,this.__altered=!1,this)},t}(Ri);Qo.isMap=x0;var gr=Qo.prototype;gr[J8]=!0;gr[v0]=gr.remove;gr.removeAll=gr.deleteAll;gr.setIn=xx;gr.removeIn=gr.deleteIn=Ax;gr.update=Ix;gr.updateIn=Px;gr.merge=gr.concat=d$;gr.mergeWith=h$;gr.mergeDeep=b$;gr.mergeDeepWith=v$;gr.mergeIn=Ox;gr.mergeDeepIn=Nx;gr.withMutations=I0;gr.wasAltered=Dx;gr.asImmutable=O0;gr["@@transducer/init"]=gr.asMutable=P0;gr["@@transducer/step"]=function(e,t){return e.set(t[0],t[1])};gr["@@transducer/result"]=function(e){return e.asImmutable()};var Qp=function(t,r){this.ownerID=t,this.entries=r};Qp.prototype.get=function(t,r,n,i){for(var a=this.entries,o=0,s=a.length;o<s;o++)if(Yr(n,a[o][0]))return a[o][1];return i};Qp.prototype.update=function(t,r,n,i,a,o,s){for(var l=a===Bt,u=this.entries,f=0,d=u.length;f<d&&!Yr(i,u[f][0]);f++);var c=f<d;if(c?u[f][1]===a:l)return this;if(gi(s),(l||!c)&&gi(o),!(l&&u.length===1)){if(!c&&!l&&u.length>=yte)return cte(t,u,i,a);var p=t&&t===this.ownerID,b=p?u:da(u);return c?l?f===d-1?b.pop():b[f]=b.pop():b[f]=[i,a]:b.push([i,a]),p?(this.entries=b,this):new Qp(t,b)}};var Hu=function(t,r,n){this.ownerID=t,this.bitmap=r,this.nodes=n};Hu.prototype.get=function(t,r,n,i){r===void 0&&(r=Nn(n));var a=1<<((t===0?r:r>>>t)&Mn),o=this.bitmap;return o&a?this.nodes[w$(o&a-1)].get(t+dr,r,n,i):i};Hu.prototype.update=function(t,r,n,i,a,o,s){n===void 0&&(n=Nn(i));var l=(r===0?n:n>>>r)&Mn,u=1<<l,f=this.bitmap,d=(f&u)!==0;if(!d&&a===Bt)return this;var c=w$(f&u-1),p=this.nodes,b=d?p[c]:void 0,v=Lx(b,t,r+dr,n,i,a,o,s);if(v===b)return this;if(!d&&v&&p.length>=gte)return hte(t,p,f,l,v);if(d&&!v&&p.length===2&&TC(p[c^1]))return p[c^1];if(d&&v&&p.length===1&&TC(v))return v;var _=t&&t===this.ownerID,y=d?v?f:f^u:f|u,m=d?v?S$(p,c,v,_):mte(p,c,_):pte(p,c,v,_);return _?(this.bitmap=y,this.nodes=m,this):new Hu(t,y,m)};var Zp=function(t,r,n){this.ownerID=t,this.count=r,this.nodes=n};Zp.prototype.get=function(t,r,n,i){r===void 0&&(r=Nn(n));var a=(t===0?r:r>>>t)&Mn,o=this.nodes[a];return o?o.get(t+dr,r,n,i):i};Zp.prototype.update=function(t,r,n,i,a,o,s){n===void 0&&(n=Nn(i));var l=(r===0?n:n>>>r)&Mn,u=a===Bt,f=this.nodes,d=f[l];if(u&&!d)return this;var c=Lx(d,t,r+dr,n,i,a,o,s);if(c===d)return this;var p=this.count;if(!d)p++;else if(!c&&(p--,p<_te))return dte(t,f,p,l);var b=t&&t===this.ownerID,v=S$(f,l,c,b);return b?(this.count=p,this.nodes=v,this):new Zp(t,p,v)};var zu=function(t,r,n){this.ownerID=t,this.keyHash=r,this.entries=n};zu.prototype.get=function(t,r,n,i){for(var a=this.entries,o=0,s=a.length;o<s;o++)if(Yr(n,a[o][0]))return a[o][1];return i};zu.prototype.update=function(t,r,n,i,a,o,s){n===void 0&&(n=Nn(i));var l=a===Bt;if(n!==this.keyHash)return l?this:(gi(s),gi(o),Mx(this,t,r,n,[i,a]));for(var u=this.entries,f=0,d=u.length;f<d&&!Yr(i,u[f][0]);f++);var c=f<d;if(c?u[f][1]===a:l)return this;if(gi(s),(l||!c)&&gi(o),l&&d===2)return new Ka(t,this.keyHash,u[f^1]);var p=t&&t===this.ownerID,b=p?u:da(u);return c?l?f===d-1?b.pop():b[f]=b.pop():b[f]=[i,a]:b.push([i,a]),p?(this.entries=b,this):new zu(t,this.keyHash,b)};var Ka=function(t,r,n){this.ownerID=t,this.keyHash=r,this.entry=n};Ka.prototype.get=function(t,r,n,i){return Yr(n,this.entry[0])?this.entry[1]:i};Ka.prototype.update=function(t,r,n,i,a,o,s){var l=a===Bt,u=Yr(i,this.entry[0]);if(u?a===this.entry[1]:l)return this;if(gi(s),l){gi(o);return}return u?t&&t===this.ownerID?(this.entry[1]=a,this):new Ka(t,this.keyHash,[i,a]):(gi(o),Mx(this,t,r,Nn(i),[i,a]))};Qp.prototype.iterate=zu.prototype.iterate=function(e,t){for(var r=this.entries,n=0,i=r.length-1;n<=i;n++)if(e(r[t?i-n:n])===!1)return!1};Hu.prototype.iterate=Zp.prototype.iterate=function(e,t){for(var r=this.nodes,n=0,i=r.length-1;n<=i;n++){var a=r[t?i-n:n];if(a&&a.iterate(e,t)===!1)return!1}};Ka.prototype.iterate=function(e,t){return e(this.entry)};var fte=function(e){function t(r,n,i){this._type=n,this._reverse=i,this._stack=r._root&&wC(r._root)}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.next=function(){for(var n=this._type,i=this._stack;i;){var a=i.node,o=i.index++,s=void 0;if(a.entry){if(o===0)return dS(n,a.entry)}else if(a.entries){if(s=a.entries.length-1,o<=s)return dS(n,a.entries[this._reverse?s-o:o])}else if(s=a.nodes.length-1,o<=s){var l=a.nodes[this._reverse?s-o:o];if(l){if(l.entry)return dS(n,l.entry);i=this._stack=wC(l,i)}continue}i=this._stack=this._stack.__prev}return kn()},t}(Ht);function dS(e,t){return yr(e,t[0],t[1])}function wC(e,t){return{node:e,index:0,__prev:t}}function Cx(e,t,r,n){var i=Object.create(gr);return i.size=e,i._root=t,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var SC;function ji(){return SC||(SC=Cx(0))}function EC(e,t,r){var n,i;if(e._root){var a=IE(),o=IE();if(n=Lx(e._root,e.__ownerID,0,void 0,t,r,a,o),!o.value)return e;i=e.size+(a.value?r===Bt?-1:1:0)}else{if(r===Bt)return e;i=1,n=new Qp(e.__ownerID,[[t,r]])}return e.__ownerID?(e.size=i,e._root=n,e.__hash=void 0,e.__altered=!0,e):n?Cx(i,n):ji()}function Lx(e,t,r,n,i,a,o,s){return e?e.update(t,r,n,i,a,o,s):a===Bt?e:(gi(s),gi(o),new Ka(t,n,[i,a]))}function TC(e){return e.constructor===Ka||e.constructor===zu}function Mx(e,t,r,n,i){if(e.keyHash===n)return new zu(t,n,[e.entry,i]);var a=(r===0?e.keyHash:e.keyHash>>>r)&Mn,o=(r===0?n:n>>>r)&Mn,s,l=a===o?[Mx(e,t,r+dr,n,i)]:(s=new Ka(t,n,i),a<o?[e,s]:[s,e]);return new Hu(t,1<<a|1<<o,l)}function cte(e,t,r,n){e||(e=new lx);for(var i=new Ka(e,Nn(r),[r,n]),a=0;a<t.length;a++){var o=t[a];i=i.update(e,0,void 0,o[0],o[1])}return i}function dte(e,t,r,n){for(var i=0,a=0,o=new Array(r),s=0,l=1,u=t.length;s<u;s++,l<<=1){var f=t[s];f!==void 0&&s!==n&&(i|=l,o[a++]=f)}return new Hu(e,i,o)}function hte(e,t,r,n,i){for(var a=0,o=new Array(yi),s=0;r!==0;s++,r>>>=1)o[s]=r&1?t[a++]:void 0;return o[n]=i,new Zp(e,a+1,o)}function w$(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,e&127}function S$(e,t,r,n){var i=n?e:da(e);return i[t]=r,i}function pte(e,t,r,n){var i=e.length+1;if(n&&t+1===i)return e[t]=r,e;for(var a=new Array(i),o=0,s=0;s<i;s++)s===t?(a[s]=r,o=-1):a[s]=e[s+o];return a}function mte(e,t,r){var n=e.length-1;if(r&&t===n)return e.pop(),e;for(var i=new Array(n),a=0,o=0;o<n;o++)o===t&&(a=1),i[o]=e[o+a];return i}var yte=yi/4,gte=yi/2,_te=yi/4,E$="@@__IMMUTABLE_LIST__@@";function yg(e){return!!(e&&e[E$])}var yl=function(e){function t(r){var n=sy();if(r==null)return n;if(yg(r))return r;var i=e(r),a=i.size;return a===0?n:(Zn(a),a>0&&a<yi?Yp(0,a,dr,null,new Oo(i.toArray())):n.withMutations(function(o){o.setSize(a),i.forEach(function(s,l){return o.set(l,s)})}))}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("List [","]")},t.prototype.get=function(n,i){if(n=Mo(this,n),n>=0&&n<this.size){n+=this._origin;var a=T$(this,n);return a&&a.array[n&Mn]}return i},t.prototype.set=function(n,i){return bte(this,n,i)},t.prototype.remove=function(n){return this.has(n)?n===0?this.shift():n===this.size-1?this.pop():this.splice(n,1):this},t.prototype.insert=function(n,i){return this.splice(n,0,i)},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=dr,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):sy()},t.prototype.push=function(){var n=arguments,i=this.size;return this.withMutations(function(a){Eo(a,0,i+n.length);for(var o=0;o<n.length;o++)a.set(i+o,n[o])})},t.prototype.pop=function(){return Eo(this,0,-1)},t.prototype.unshift=function(){var n=arguments;return this.withMutations(function(i){Eo(i,-n.length);for(var a=0;a<n.length;a++)i.set(a,n[a])})},t.prototype.shift=function(){return Eo(this,1)},t.prototype.concat=function(){for(var n=arguments,i=[],a=0;a<arguments.length;a++){var o=n[a],s=e(typeof o!="string"&&fx(o)?o:[o]);s.size!==0&&i.push(s)}return i.length===0?this:this.size===0&&!this.__ownerID&&i.length===1?this.constructor(i[0]):this.withMutations(function(l){i.forEach(function(u){return u.forEach(function(f){return l.push(f)})})})},t.prototype.setSize=function(n){return Eo(this,0,n)},t.prototype.map=function(n,i){var a=this;return this.withMutations(function(o){for(var s=0;s<a.size;s++)o.set(s,n.call(i,o.get(s),s,a))})},t.prototype.slice=function(n,i){var a=this.size;return w0(n,i,a)?this:Eo(this,fl(n,a),S0(i,a))},t.prototype.__iterator=function(n,i){var a=i?this.size:0,o=xC(this,i);return new Ht(function(){var s=o();return s===Np?kn():yr(n,i?--a:a++,s)})},t.prototype.__iterate=function(n,i){for(var a=i?this.size:0,o=xC(this,i),s;(s=o())!==Np&&n(s,i?--a:a++,this)!==!1;);return a},t.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?Yp(this._origin,this._capacity,this._level,this._root,this._tail,n,this.__hash):this.size===0?sy():(this.__ownerID=n,this.__altered=!1,this)},t}(Ks);yl.isList=yg;var Gr=yl.prototype;Gr[E$]=!0;Gr[v0]=Gr.remove;Gr.merge=Gr.concat;Gr.setIn=xx;Gr.deleteIn=Gr.removeIn=Ax;Gr.update=Ix;Gr.updateIn=Px;Gr.mergeIn=Ox;Gr.mergeDeepIn=Nx;Gr.withMutations=I0;Gr.wasAltered=Dx;Gr.asImmutable=O0;Gr["@@transducer/init"]=Gr.asMutable=P0;Gr["@@transducer/step"]=function(e,t){return e.push(t)};Gr["@@transducer/result"]=function(e){return e.asImmutable()};var Oo=function(t,r){this.array=t,this.ownerID=r};Oo.prototype.removeBefore=function(t,r,n){if(n===r?1<<r:this.array.length===0)return this;var i=n>>>r&Mn;if(i>=this.array.length)return new Oo([],t);var a=i===0,o;if(r>0){var s=this.array[i];if(o=s&&s.removeBefore(t,r-dr,n),o===s&&a)return this}if(a&&!o)return this;var l=Gu(this,t);if(!a)for(var u=0;u<i;u++)l.array[u]=void 0;return o&&(l.array[i]=o),l};Oo.prototype.removeAfter=function(t,r,n){if(n===(r?1<<r:0)||this.array.length===0)return this;var i=n-1>>>r&Mn;if(i>=this.array.length)return this;var a;if(r>0){var o=this.array[i];if(a=o&&o.removeAfter(t,r-dr,n),a===o&&i===this.array.length-1)return this}var s=Gu(this,t);return s.array.splice(i+1),a&&(s.array[i]=a),s};var Np={};function xC(e,t){var r=e._origin,n=e._capacity,i=Xp(n),a=e._tail;return o(e._root,e._level,0);function o(u,f,d){return f===0?s(u,d):l(u,f,d)}function s(u,f){var d=f===i?a&&a.array:u&&u.array,c=f>r?0:r-f,p=n-f;return p>yi&&(p=yi),function(){if(c===p)return Np;var b=t?--p:c++;return d&&d[b]}}function l(u,f,d){var c,p=u&&u.array,b=d>r?0:r-d>>f,v=(n-d>>f)+1;return v>yi&&(v=yi),function(){for(;;){if(c){var _=c();if(_!==Np)return _;c=null}if(b===v)return Np;var y=t?--v:b++;c=o(p&&p[y],f-dr,d+(y<<f))}}}}function Yp(e,t,r,n,i,a,o){var s=Object.create(Gr);return s.size=t-e,s._origin=e,s._capacity=t,s._level=r,s._root=n,s._tail=i,s.__ownerID=a,s.__hash=o,s.__altered=!1,s}var RC;function sy(){return RC||(RC=Yp(0,0,dr))}function bte(e,t,r){if(t=Mo(e,t),t!==t)return e;if(t>=e.size||t<0)return e.withMutations(function(o){t<0?Eo(o,t).set(0,r):Eo(o,0,t+1).set(t,r)});t+=e._origin;var n=e._tail,i=e._root,a=IE();return t>=Xp(e._capacity)?n=LE(n,e.__ownerID,0,t,r,a):i=LE(i,e.__ownerID,e._level,t,r,a),a.value?e.__ownerID?(e._root=i,e._tail=n,e.__hash=void 0,e.__altered=!0,e):Yp(e._origin,e._capacity,e._level,i,n):e}function LE(e,t,r,n,i,a){var o=n>>>r&Mn,s=e&&o<e.array.length;if(!s&&i===void 0)return e;var l;if(r>0){var u=e&&e.array[o],f=LE(u,t,r-dr,n,i,a);return f===u?e:(l=Gu(e,t),l.array[o]=f,l)}return s&&e.array[o]===i?e:(a&&gi(a),l=Gu(e,t),i===void 0&&o===l.array.length-1?l.array.pop():l.array[o]=i,l)}function Gu(e,t){return t&&e&&t===e.ownerID?e:new Oo(e?e.array.slice():[],t)}function T$(e,t){if(t>=Xp(e._capacity))return e._tail;if(t<1<<e._level+dr){for(var r=e._root,n=e._level;r&&n>0;)r=r.array[t>>>n&Mn],n-=dr;return r}}function Eo(e,t,r){t!==void 0&&(t|=0),r!==void 0&&(r|=0);var n=e.__ownerID||new lx,i=e._origin,a=e._capacity,o=i+t,s=r===void 0?a:r<0?a+r:i+r;if(o===i&&s===a)return e;if(o>=s)return e.clear();for(var l=e._level,u=e._root,f=0;o+f<0;)u=new Oo(u&&u.array.length?[void 0,u]:[],n),l+=dr,f+=1<<l;f&&(o+=f,i+=f,s+=f,a+=f);for(var d=Xp(a),c=Xp(s);c>=1<<l+dr;)u=new Oo(u&&u.array.length?[u]:[],n),l+=dr;var p=e._tail,b=c<d?T$(e,s-1):c>d?new Oo([],n):p;if(p&&c>d&&o<a&&p.array.length){u=Gu(u,n);for(var v=u,_=l;_>dr;_-=dr){var y=d>>>_&Mn;v=v.array[y]=Gu(v.array[y],n)}v.array[d>>>dr&Mn]=p}if(s<a&&(b=b&&b.removeAfter(n,0,s)),o>=c)o-=c,s-=c,l=dr,u=null,b=b&&b.removeBefore(n,0,o);else if(o>i||c<d){for(f=0;u;){var m=o>>>l&Mn;if(m!==c>>>l&Mn)break;m&&(f+=(1<<l)*m),l-=dr,u=u.array[m]}u&&o>i&&(u=u.removeBefore(n,l,o-f)),u&&c<d&&(u=u.removeAfter(n,l,c-f)),f&&(o-=f,s-=f)}return e.__ownerID?(e.size=s-o,e._origin=o,e._capacity=s,e._level=l,e._root=u,e._tail=b,e.__hash=void 0,e.__altered=!0,e):Yp(o,s,l,u,b)}function Xp(e){return e<yi?0:e-1>>>dr<<dr}var zi=function(e){function t(r){return r==null?pp():fg(r)?r:pp().withMutations(function(n){var i=Ri(r);Zn(i.size),i.forEach(function(a,o){return n.set(o,a)})})}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("OrderedMap {","}")},t.prototype.get=function(n,i){var a=this._map.get(n);return a!==void 0?this._list.get(a)[1]:i},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):pp()},t.prototype.set=function(n,i){return IC(this,n,i)},t.prototype.remove=function(n){return IC(this,n,Bt)},t.prototype.__iterate=function(n,i){var a=this;return this._list.__iterate(function(o){return o&&n(o[1],o[0],a)},i)},t.prototype.__iterator=function(n,i){return this._list.fromEntrySeq().__iterator(n,i)},t.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var i=this._map.__ensureOwner(n),a=this._list.__ensureOwner(n);return n?kx(i,a,n,this.__hash):this.size===0?pp():(this.__ownerID=n,this.__altered=!1,this._map=i,this._list=a,this)},t}(Qo);zi.isOrderedMap=fg;zi.prototype[hl]=!0;zi.prototype[v0]=zi.prototype.remove;function kx(e,t,r,n){var i=Object.create(zi.prototype);return i.size=e?e.size:0,i._map=e,i._list=t,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var AC;function pp(){return AC||(AC=kx(ji(),sy()))}function IC(e,t,r){var n=e._map,i=e._list,a=n.get(t),o=a!==void 0,s,l;if(r===Bt){if(!o)return e;i.size>=yi&&i.size>=n.size*2?(l=i.filter(function(u,f){return u!==void 0&&a!==f}),s=l.toKeyedSeq().map(function(u){return u[0]}).flip().toMap(),e.__ownerID&&(s.__ownerID=l.__ownerID=e.__ownerID)):(s=n.remove(t),l=a===i.size-1?i.pop():i.set(a,void 0))}else if(o){if(r===i.get(a)[1])return e;s=n,l=i.set(a,[t,r])}else s=n.set(t,i.size),l=i.set(i.size,[t,r]);return e.__ownerID?(e.size=s.size,e._map=s,e._list=l,e.__hash=void 0,e.__altered=!0,e):kx(s,l)}var x$="@@__IMMUTABLE_STACK__@@";function Jp(e){return!!(e&&e[x$])}var N0=function(e){function t(r){return r==null?Hm():Jp(r)?r:Hm().pushAll(r)}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("Stack [","]")},t.prototype.get=function(n,i){var a=this._head;for(n=Mo(this,n);a&&n--;)a=a.next;return a?a.value:i},t.prototype.peek=function(){return this._head&&this._head.value},t.prototype.push=function(){var n=arguments;if(arguments.length===0)return this;for(var i=this.size+arguments.length,a=this._head,o=arguments.length-1;o>=0;o--)a={value:n[o],next:a};return this.__ownerID?(this.size=i,this._head=a,this.__hash=void 0,this.__altered=!0,this):mp(i,a)},t.prototype.pushAll=function(n){if(n=e(n),n.size===0)return this;if(this.size===0&&Jp(n))return n;Zn(n.size);var i=this.size,a=this._head;return n.__iterate(function(o){i++,a={value:o,next:a}},!0),this.__ownerID?(this.size=i,this._head=a,this.__hash=void 0,this.__altered=!0,this):mp(i,a)},t.prototype.pop=function(){return this.slice(1)},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Hm()},t.prototype.slice=function(n,i){if(w0(n,i,this.size))return this;var a=fl(n,this.size),o=S0(i,this.size);if(o!==this.size)return e.prototype.slice.call(this,n,i);for(var s=this.size-a,l=this._head;a--;)l=l.next;return this.__ownerID?(this.size=s,this._head=l,this.__hash=void 0,this.__altered=!0,this):mp(s,l)},t.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?mp(this.size,this._head,n,this.__hash):this.size===0?Hm():(this.__ownerID=n,this.__altered=!1,this)},t.prototype.__iterate=function(n,i){var a=this;if(i)return new qs(this.toArray()).__iterate(function(l,u){return n(l,u,a)},i);for(var o=0,s=this._head;s&&n(s.value,o++,this)!==!1;)s=s.next;return o},t.prototype.__iterator=function(n,i){if(i)return new qs(this.toArray()).__iterator(n,i);var a=0,o=this._head;return new Ht(function(){if(o){var s=o.value;return o=o.next,yr(n,a++,s)}return kn()})},t}(Ks);N0.isStack=Jp;var Fn=N0.prototype;Fn[x$]=!0;Fn.shift=Fn.pop;Fn.unshift=Fn.push;Fn.unshiftAll=Fn.pushAll;Fn.withMutations=I0;Fn.wasAltered=Dx;Fn.asImmutable=O0;Fn["@@transducer/init"]=Fn.asMutable=P0;Fn["@@transducer/step"]=function(e,t){return e.unshift(t)};Fn["@@transducer/result"]=function(e){return e.asImmutable()};function mp(e,t,r,n){var i=Object.create(Fn);return i.size=e,i._head=t,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var PC;function Hm(){return PC||(PC=mp(0))}var R$="@@__IMMUTABLE_SET__@@";function D0(e){return!!(e&&e[R$])}function gg(e){return D0(e)&&ti(e)}function Fx(e,t){if(e===t)return!0;if(!vn(t)||e.size!==void 0&&t.size!==void 0&&e.size!==t.size||e.__hash!==void 0&&t.__hash!==void 0&&e.__hash!==t.__hash||rr(e)!==rr(t)||fn(e)!==fn(t)||ti(e)!==ti(t))return!1;if(e.size===0&&t.size===0)return!0;var r=!cl(e);if(ti(e)){var n=e.entries();return t.every(function(l,u){var f=n.next().value;return f&&Yr(f[1],l)&&(r||Yr(f[0],u))})&&n.next().done}var i=!1;if(e.size===void 0)if(t.size===void 0)typeof e.cacheResult=="function"&&e.cacheResult();else{i=!0;var a=e;e=t,t=a}var o=!0,s=t.__iterate(function(l,u){if(r?!e.has(l):i?!Yr(l,e.get(u,Bt)):!Yr(e.get(u,Bt),l))return o=!1,!1});return o&&e.size===s}function Qs(e,t){var r=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(r),e}function Ry(e){if(!e||typeof e!="object")return e;if(!vn(e)){if(!ko(e))return e;e=wn(e)}if(rr(e)){var t={};return e.__iterate(function(n,i){t[i]=Ry(n)}),t}var r=[];return e.__iterate(function(n){r.push(Ry(n))}),r}var gl=function(e){function t(r){return r==null?yp():D0(r)&&!ti(r)?r:yp().withMutations(function(n){var i=e(r);Zn(i.size),i.forEach(function(a){return n.add(a)})})}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(n){return this(Ri(n).keySeq())},t.intersect=function(n){return n=mr(n).toArray(),n.length?cn.intersect.apply(t(n.pop()),n):yp()},t.union=function(n){return n=mr(n).toArray(),n.length?cn.union.apply(t(n.pop()),n):yp()},t.prototype.toString=function(){return this.__toString("Set {","}")},t.prototype.has=function(n){return this._map.has(n)},t.prototype.add=function(n){return zm(this,this._map.set(n,n))},t.prototype.remove=function(n){return zm(this,this._map.remove(n))},t.prototype.clear=function(){return zm(this,this._map.clear())},t.prototype.map=function(n,i){var a=this,o=!1,s=zm(this,this._map.mapEntries(function(l){var u=l[1],f=n.call(i,u,u,a);return f!==u&&(o=!0),[f,f]},i));return o?s:this},t.prototype.union=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];return n=n.filter(function(a){return a.size!==0}),n.length===0?this:this.size===0&&!this.__ownerID&&n.length===1?this.constructor(n[0]):this.withMutations(function(a){for(var o=0;o<n.length;o++)typeof n[o]=="string"?a.add(n[o]):e(n[o]).forEach(function(s){return a.add(s)})})},t.prototype.intersect=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];if(n.length===0)return this;n=n.map(function(o){return e(o)});var a=[];return this.forEach(function(o){n.every(function(s){return s.includes(o)})||a.push(o)}),this.withMutations(function(o){a.forEach(function(s){o.remove(s)})})},t.prototype.subtract=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];if(n.length===0)return this;n=n.map(function(o){return e(o)});var a=[];return this.forEach(function(o){n.some(function(s){return s.includes(o)})&&a.push(o)}),this.withMutations(function(o){a.forEach(function(s){o.remove(s)})})},t.prototype.sort=function(n){return Bs(Vu(this,n))},t.prototype.sortBy=function(n,i){return Bs(Vu(this,i,n))},t.prototype.wasAltered=function(){return this._map.wasAltered()},t.prototype.__iterate=function(n,i){var a=this;return this._map.__iterate(function(o){return n(o,o,a)},i)},t.prototype.__iterator=function(n,i){return this._map.__iterator(n,i)},t.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var i=this._map.__ensureOwner(n);return n?this.__make(i,n):this.size===0?this.__empty():(this.__ownerID=n,this._map=i,this)},t}(dl);gl.isSet=D0;var cn=gl.prototype;cn[R$]=!0;cn[v0]=cn.remove;cn.merge=cn.concat=cn.union;cn.withMutations=I0;cn.asImmutable=O0;cn["@@transducer/init"]=cn.asMutable=P0;cn["@@transducer/step"]=function(e,t){return e.add(t)};cn["@@transducer/result"]=function(e){return e.asImmutable()};cn.__empty=yp;cn.__make=A$;function zm(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:t.size===0?e.__empty():e.__make(t)}function A$(e,t){var r=Object.create(cn);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}var OC;function yp(){return OC||(OC=A$(ji()))}var jx=function(e){function t(r,n,i){if(!(this instanceof t))return new t(r,n,i);if(vx(i!==0,"Cannot step a Range by 0"),r=r||0,n===void 0&&(n=1/0),i=i===void 0?1:Math.abs(i),n<r&&(i=-i),this._start=r,this._end=n,this._step=i,this.size=Math.max(0,Math.ceil((n-r)/i-1)+1),this.size===0){if(hS)return hS;hS=this}}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},t.prototype.get=function(n,i){return this.has(n)?this._start+Mo(this,n)*this._step:i},t.prototype.includes=function(n){var i=(n-this._start)/this._step;return i>=0&&i<this.size&&i===Math.floor(i)},t.prototype.slice=function(n,i){return w0(n,i,this.size)?this:(n=fl(n,this.size),i=S0(i,this.size),i<=n?new t(0,0):new t(this.get(n,this._end),this.get(i,this._end),this._step))},t.prototype.indexOf=function(n){var i=n-this._start;if(i%this._step===0){var a=i/this._step;if(a>=0&&a<this.size)return a}return-1},t.prototype.lastIndexOf=function(n){return this.indexOf(n)},t.prototype.__iterate=function(n,i){for(var a=this.size,o=this._step,s=i?this._start+(a-1)*o:this._start,l=0;l!==a&&n(s,i?a-++l:l++,this)!==!1;)s+=i?-o:o;return l},t.prototype.__iterator=function(n,i){var a=this.size,o=this._step,s=i?this._start+(a-1)*o:this._start,l=0;return new Ht(function(){if(l===a)return kn();var u=s;return s+=i?-o:o,yr(n,i?a-++l:l++,u)})},t.prototype.equals=function(n){return n instanceof t?this._start===n._start&&this._end===n._end&&this._step===n._step:Fx(this,n)},t}(Ai),hS;function _g(e,t,r){for(var n=f$(t),i=0;i!==n.length;)if(e=pg(e,n[i++],Bt),e===Bt)return r;return e}function I$(e,t){return _g(this,e,t)}function qx(e,t){return _g(e,t,Bt)!==Bt}function vte(e){return qx(this,e)}function P$(){Zn(this.size);var e={};return this.__iterate(function(t,r){e[r]=t}),e}mr.isIterable=vn;mr.isKeyed=rr;mr.isIndexed=fn;mr.isAssociative=cl;mr.isOrdered=ti;mr.Iterator=Ht;Qs(mr,{toArray:function(){Zn(this.size);var t=new Array(this.size||0),r=rr(this),n=0;return this.__iterate(function(i,a){t[n++]=r?[a,i]:i}),t},toIndexedSeq:function(){return new t$(this)},toJS:function(){return Ry(this)},toKeyedSeq:function(){return new dg(this,!0)},toMap:function(){return Qo(this.toKeyedSeq())},toObject:P$,toOrderedMap:function(){return zi(this.toKeyedSeq())},toOrderedSet:function(){return Bs(rr(this)?this.valueSeq():this)},toSet:function(){return gl(rr(this)?this.valueSeq():this)},toSetSeq:function(){return new r$(this)},toSeq:function(){return fn(this)?this.toIndexedSeq():rr(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return N0(rr(this)?this.valueSeq():this)},toList:function(){return yl(rr(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(t,r){return this.size===0?t+r:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+r},concat:function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return er(this,ite(this,t))},includes:function(t){return this.some(function(r){return Yr(r,t)})},entries:function(){return this.__iterator(Ti)},every:function(t,r){Zn(this.size);var n=!0;return this.__iterate(function(i,a,o){if(!t.call(r,i,a,o))return n=!1,!1}),n},filter:function(t,r){return er(this,o$(this,t,r,!0))},partition:function(t,r){return rte(this,t,r)},find:function(t,r,n){var i=this.findEntry(t,r);return i?i[1]:n},forEach:function(t,r){return Zn(this.size),this.__iterate(r?t.bind(r):t)},join:function(t){Zn(this.size),t=t!==void 0?""+t:",";var r="",n=!0;return this.__iterate(function(i){n?n=!1:r+=t,r+=i!=null?i.toString():""}),r},keys:function(){return this.__iterator(T0)},map:function(t,r){return er(this,a$(this,t,r))},reduce:function(t,r,n){return NC(this,t,r,n,arguments.length<2,!1)},reduceRight:function(t,r,n){return NC(this,t,r,n,arguments.length<2,!0)},reverse:function(){return er(this,yx(this,!0))},slice:function(t,r){return er(this,gx(this,t,r,!0))},some:function(t,r){Zn(this.size);var n=!1;return this.__iterate(function(i,a,o){if(t.call(r,i,a,o))return n=!0,!1}),n},sort:function(t){return er(this,Vu(this,t))},values:function(){return this.__iterator(Hi)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(t,r){return Uu(t?this.toSeq().filter(t,r):this)},countBy:function(t,r){return ete(this,t,r)},equals:function(t){return Fx(this,t)},entrySeq:function(){var t=this;if(t._cache)return new qs(t._cache);var r=t.toSeq().map(Ste).toIndexedSeq();return r.fromEntrySeq=function(){return t.toSeq()},r},filterNot:function(t,r){return this.filter(pS(t),r)},findEntry:function(t,r,n){var i=n;return this.__iterate(function(a,o,s){if(t.call(r,a,o,s))return i=[o,a],!1}),i},findKey:function(t,r){var n=this.findEntry(t,r);return n&&n[0]},findLast:function(t,r,n){return this.toKeyedSeq().reverse().find(t,r,n)},findLastEntry:function(t,r,n){return this.toKeyedSeq().reverse().findEntry(t,r,n)},findLastKey:function(t,r){return this.toKeyedSeq().reverse().findKey(t,r)},first:function(t){return this.find(V8,null,t)},flatMap:function(t,r){return er(this,ate(this,t,r))},flatten:function(t){return er(this,u$(this,t,!0))},fromEntrySeq:function(){return new n$(this)},get:function(t,r){return this.find(function(n,i){return Yr(i,t)},void 0,r)},getIn:I$,groupBy:function(t,r){return tte(this,t,r)},has:function(t){return this.get(t,Bt)!==Bt},hasIn:vte,isSubset:function(t){return t=typeof t.includes=="function"?t:mr(t),this.every(function(r){return t.includes(r)})},isSuperset:function(t){return t=typeof t.isSubset=="function"?t:mr(t),t.isSubset(this)},keyOf:function(t){return this.findKey(function(r){return Yr(r,t)})},keySeq:function(){return this.toSeq().map(wte).toIndexedSeq()},last:function(t){return this.toSeq().reverse().first(t)},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return Um(this,t)},maxBy:function(t,r){return Um(this,r,t)},min:function(t){return Um(this,t?DC(t):LC)},minBy:function(t,r){return Um(this,r?DC(r):LC,t)},rest:function(){return this.slice(1)},skip:function(t){return t===0?this:this.slice(Math.max(0,t))},skipLast:function(t){return t===0?this:this.slice(0,-Math.max(0,t))},skipWhile:function(t,r){return er(this,s$(this,t,r,!0))},skipUntil:function(t,r){return this.skipWhile(pS(t),r)},sortBy:function(t,r){return er(this,Vu(this,r,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return this.slice(-Math.max(0,t))},takeWhile:function(t,r){return er(this,nte(this,t,r))},takeUntil:function(t,r){return this.takeWhile(pS(t),r)},update:function(t){return t(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=Ete(this))}});var Sn=mr.prototype;Sn[G8]=!0;Sn[ug]=Sn.values;Sn.toJSON=Sn.toArray;Sn.__toStringMapper=Kp;Sn.inspect=Sn.toSource=function(){return this.toString()};Sn.chain=Sn.flatMap;Sn.contains=Sn.includes;Qs(Ri,{flip:function(){return er(this,i$(this))},mapEntries:function(t,r){var n=this,i=0;return er(this,this.toSeq().map(function(a,o){return t.call(r,[o,a],i++,n)}).fromEntrySeq())},mapKeys:function(t,r){var n=this;return er(this,this.toSeq().flip().map(function(i,a){return t.call(r,i,a,n)}).flip())}});var C0=Ri.prototype;C0[W8]=!0;C0[ug]=Sn.entries;C0.toJSON=P$;C0.__toStringMapper=function(e,t){return Kp(t)+": "+Kp(e)};Qs(Ks,{toKeyedSeq:function(){return new dg(this,!1)},filter:function(t,r){return er(this,o$(this,t,r,!1))},findIndex:function(t,r){var n=this.findEntry(t,r);return n?n[0]:-1},indexOf:function(t){var r=this.keyOf(t);return r===void 0?-1:r},lastIndexOf:function(t){var r=this.lastKeyOf(t);return r===void 0?-1:r},reverse:function(){return er(this,yx(this,!1))},slice:function(t,r){return er(this,gx(this,t,r,!1))},splice:function(t,r){var n=arguments.length;if(r=Math.max(r||0,0),n===0||n===2&&!r)return this;t=fl(t,t<0?this.count():this.size);var i=this.slice(0,t);return er(this,n===1?i:i.concat(da(arguments,2),this.slice(t+r)))},findLastIndex:function(t,r){var n=this.findLastEntry(t,r);return n?n[0]:-1},first:function(t){return this.get(0,t)},flatten:function(t){return er(this,u$(this,t,!1))},get:function(t,r){return t=Mo(this,t),t<0||this.size===1/0||this.size!==void 0&&t>this.size?r:this.find(function(n,i){return i===t},void 0,r)},has:function(t){return t=Mo(this,t),t>=0&&(this.size!==void 0?this.size===1/0||t<this.size:this.indexOf(t)!==-1)},interpose:function(t){return er(this,ote(this,t))},interleave:function(){var t=[this].concat(da(arguments)),r=Vm(this.toSeq(),Ai.of,t),n=r.flatten(!0);return r.size&&(n.size=r.size*t.length),er(this,n)},keySeq:function(){return jx(0,this.size)},last:function(t){return this.get(-1,t)},skipWhile:function(t,r){return er(this,s$(this,t,r,!1))},zip:function(){var t=[this].concat(da(arguments));return er(this,Vm(this,CC,t))},zipAll:function(){var t=[this].concat(da(arguments));return er(this,Vm(this,CC,t,!0))},zipWith:function(t){var r=da(arguments);return r[0]=this,er(this,Vm(this,t,r))}});var _l=Ks.prototype;_l[K8]=!0;_l[hl]=!0;Qs(dl,{get:function(t,r){return this.has(t)?t:r},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}});var Wu=dl.prototype;Wu.has=Sn.includes;Wu.contains=Wu.includes;Wu.keys=Wu.values;Qs(Wo,C0);Qs(Ai,_l);Qs(ml,Wu);function NC(e,t,r,n,i,a){return Zn(e.size),e.__iterate(function(o,s,l){i?(i=!1,r=o):r=t.call(n,r,o,s,l)},a),r}function wte(e,t){return t}function Ste(e,t){return[t,e]}function pS(e){return function(){return!e.apply(this,arguments)}}function DC(e){return function(){return-e.apply(this,arguments)}}function CC(){return da(arguments)}function LC(e,t){return e<t?1:e>t?-1:0}function Ete(e){if(e.size===1/0)return 0;var t=ti(e),r=rr(e),n=t?1:0,i=e.__iterate(r?t?function(a,o){n=31*n+MC(Nn(a),Nn(o))|0}:function(a,o){n=n+MC(Nn(a),Nn(o))|0}:t?function(a){n=31*n+Nn(a)|0}:function(a){n=n+Nn(a)|0});return Tte(i,n)}function Tte(e,t){return t=cc(t,3432918353),t=cc(t<<15|t>>>-15,461845907),t=cc(t<<13|t>>>-13,5),t=(t+3864292196|0)^e,t=cc(t^t>>>16,2246822507),t=cc(t^t>>>13,3266489909),t=cg(t^t>>>16),t}function MC(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}var Bs=function(e){function t(r){return r==null?ME():gg(r)?r:ME().withMutations(function(n){var i=dl(r);Zn(i.size),i.forEach(function(a){return n.add(a)})})}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(n){return this(Ri(n).keySeq())},t.prototype.toString=function(){return this.__toString("OrderedSet {","}")},t}(gl);Bs.isOrderedSet=gg;var Zs=Bs.prototype;Zs[hl]=!0;Zs.zip=_l.zip;Zs.zipWith=_l.zipWith;Zs.zipAll=_l.zipAll;Zs.__empty=ME;Zs.__make=O$;function O$(e,t){var r=Object.create(Zs);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}var kC;function ME(){return kC||(kC=O$(pp()))}var N$={LeftThenRight:-1,RightThenLeft:1};function xte(e){if(Go(e))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(ai(e))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(e===null||typeof e!="object")throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}var Wr=function(t,r){var n;xte(t);var i=function(s){var l=this;if(s instanceof i)return s;if(!(this instanceof i))return new i(s);if(!n){n=!0;var u=Object.keys(t),f=a._indices={};a._name=r,a._keys=u,a._defaultValues=t;for(var d=0;d<u.length;d++){var c=u[d];f[c]=d,a[c]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+$x(this)+' with property "'+c+'" since that property name is part of the Record API.'):Rte(a,c)}}return this.__ownerID=void 0,this._values=yl().withMutations(function(p){p.setSize(l._keys.length),Ri(s).forEach(function(b,v){p.set(l._indices[v],b===l._defaultValues[v]?void 0:b)})}),this},a=i.prototype=Object.create(ur);return a.constructor=i,r&&(i.displayName=r),i};Wr.prototype.toString=function(){for(var t=$x(this)+" { ",r=this._keys,n,i=0,a=r.length;i!==a;i++)n=r[i],t+=(i?", ":"")+n+": "+Kp(this.get(n));return t+" }"};Wr.prototype.equals=function(t){return this===t||Go(t)&&Ku(this).equals(Ku(t))};Wr.prototype.hashCode=function(){return Ku(this).hashCode()};Wr.prototype.has=function(t){return this._indices.hasOwnProperty(t)};Wr.prototype.get=function(t,r){if(!this.has(t))return r;var n=this._indices[t],i=this._values.get(n);return i===void 0?this._defaultValues[t]:i};Wr.prototype.set=function(t,r){if(this.has(t)){var n=this._values.set(this._indices[t],r===this._defaultValues[t]?void 0:r);if(n!==this._values&&!this.__ownerID)return Bx(this,n)}return this};Wr.prototype.remove=function(t){return this.set(t)};Wr.prototype.clear=function(){var t=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:Bx(this,t)};Wr.prototype.wasAltered=function(){return this._values.wasAltered()};Wr.prototype.toSeq=function(){return Ku(this)};Wr.prototype.toJS=function(){return Ry(this)};Wr.prototype.entries=function(){return this.__iterator(Ti)};Wr.prototype.__iterator=function(t,r){return Ku(this).__iterator(t,r)};Wr.prototype.__iterate=function(t,r){return Ku(this).__iterate(t,r)};Wr.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var r=this._values.__ensureOwner(t);return t?Bx(this,r,t):(this.__ownerID=t,this._values=r,this)};Wr.isRecord=Go;Wr.getDescriptiveName=$x;var ur=Wr.prototype;ur[Z8]=!0;ur[v0]=ur.remove;ur.deleteIn=ur.removeIn=Ax;ur.getIn=I$;ur.hasIn=Sn.hasIn;ur.merge=d$;ur.mergeWith=h$;ur.mergeIn=Ox;ur.mergeDeep=b$;ur.mergeDeepWith=v$;ur.mergeDeepIn=Nx;ur.setIn=xx;ur.update=Ix;ur.updateIn=Px;ur.withMutations=I0;ur.asMutable=P0;ur.asImmutable=O0;ur[ug]=ur.entries;ur.toJSON=ur.toObject=Sn.toObject;ur.inspect=ur.toSource=function(){return this.toString()};function Bx(e,t,r){var n=Object.create(Object.getPrototypeOf(e));return n._values=t,n.__ownerID=r,n}function $x(e){return e.constructor.displayName||e.constructor.name||"Record"}function Ku(e){return px(e._keys.map(function(t){return[t,e.get(t)]}))}function Rte(e,t){try{Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(r){vx(this.__ownerID,"Cannot set on an immutable record."),this.set(t,r)}})}catch{}}var D$=function(e){function t(r,n){if(!(this instanceof t))return new t(r,n);if(this._value=r,this.size=n===void 0?1/0:Math.max(0,n),this.size===0){if(mS)return mS;mS=this}}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},t.prototype.get=function(n,i){return this.has(n)?this._value:i},t.prototype.includes=function(n){return Yr(this._value,n)},t.prototype.slice=function(n,i){var a=this.size;return w0(n,i,a)?this:new t(this._value,S0(i,a)-fl(n,a))},t.prototype.reverse=function(){return this},t.prototype.indexOf=function(n){return Yr(this._value,n)?0:-1},t.prototype.lastIndexOf=function(n){return Yr(this._value,n)?this.size:-1},t.prototype.__iterate=function(n,i){for(var a=this.size,o=0;o!==a&&n(this._value,i?a-++o:o++,this)!==!1;);return o},t.prototype.__iterator=function(n,i){var a=this,o=this.size,s=0;return new Ht(function(){return s===o?kn():yr(n,i?o-++s:s++,a._value)})},t.prototype.equals=function(n){return n instanceof t?Yr(this._value,n._value):Fx(this,n)},t}(Ai),mS;function C$(e,t){return L$([],t||Ate,e,"",t&&t.length>2?[]:void 0,{"":e})}function L$(e,t,r,n,i,a){if(typeof r!="string"&&!ai(r)&&(cx(r)||fx(r)||hg(r))){if(~e.indexOf(r))throw new TypeError("Cannot convert circular structure to Immutable");e.push(r),i&&n!==""&&i.push(n);var o=t.call(a,n,wn(r).map(function(s,l){return L$(e,t,s,l,i,r)}),i&&i.slice());return e.pop(),i&&i.pop(),o}return r}function Ate(e,t){return fn(t)?t.toList():rr(t)?t.toMap():t.toSet()}var M$="4.3.7",Ite={version:M$,Collection:mr,Iterable:mr,Seq:wn,Map:Qo,OrderedMap:zi,List:yl,Stack:N0,Set:gl,OrderedSet:Bs,PairSorting:N$,Record:Wr,Range:jx,Repeat:D$,is:Yr,fromJS:C$,hash:Nn,isImmutable:ai,isCollection:vn,isKeyed:rr,isIndexed:fn,isAssociative:cl,isOrdered:ti,isValueObject:Ty,isPlainObject:hg,isSeq:E0,isList:yg,isMap:x0,isOrderedMap:fg,isStack:Jp,isSet:D0,isOrderedSet:gg,isRecord:Go,get:pg,getIn:_g,has:wx,hasIn:qx,merge:m$,mergeDeep:g$,mergeWith:y$,mergeDeepWith:_$,remove:Sx,removeIn:Rx,set:Ex,setIn:Tx,update:mg,updateIn:Ko},Pte=mr;const Ote=Object.freeze(Object.defineProperty({__proto__:null,Collection:mr,Iterable:Pte,List:yl,Map:Qo,OrderedMap:zi,OrderedSet:Bs,PairSorting:N$,Range:jx,Record:Wr,Repeat:D$,Seq:wn,Set:gl,Stack:N0,default:Ite,fromJS:C$,get:pg,getIn:_g,has:wx,hasIn:qx,hash:Nn,is:Yr,isAssociative:cl,isCollection:vn,isImmutable:ai,isIndexed:fn,isKeyed:rr,isList:yg,isMap:x0,isOrdered:ti,isOrderedMap:fg,isOrderedSet:gg,isPlainObject:hg,isRecord:Go,isSeq:E0,isSet:D0,isStack:Jp,isValueObject:Ty,merge:m$,mergeDeep:g$,mergeDeepWith:_$,mergeWith:y$,remove:Sx,removeIn:Rx,set:Ex,setIn:Tx,update:mg,updateIn:Ko,version:M$},Symbol.toStringTag,{value:"Module"})),Nte=el(Ote);var FC;function k$(){if(FC)return fs;FC=1,Object.defineProperty(fs,"__esModule",{value:!0}),fs.ActionContextKey=fs.ActionContext=void 0;const e=Nte;let t=class gp{constructor(i={}){this.map=(0,e.Map)(i)}setDefault(i,a){return this.has(i)?this:this.set(i,a)}set(i,a){return this.setRaw(i.name,a)}setRaw(i,a){return new gp(this.map.set(i,a))}delete(i){return new gp(this.map.delete(i.name))}get(i){return this.getRaw(i.name)}getRaw(i){return this.map.get(i)}getSafe(i){if(!this.has(i))throw new Error(`Context entry ${i.name} is required but not available`);return this.get(i)}has(i){return this.hasRaw(i.name)}hasRaw(i){return this.map.has(i)}merge(...i){let a=this;for(const o of i)for(const s of o.keys())a=a.set(s,o.get(s));return a}keys(){return[...this.map.keys()].map(i=>new r(i))}toJS(){return this.map.toJS()}toString(){return`ActionContext(${JSON.stringify(this.map.toJS())})`}[Symbol.for("nodejs.util.inspect.custom")](){return`ActionContext(${JSON.stringify(this.map.toJS(),null,"  ")})`}static ensureActionContext(i){return i instanceof gp?i:new gp((0,e.Map)(i??{}))}};fs.ActionContext=t;class r{constructor(i){this.name=i}}return fs.ActionContextKey=r,fs}var dc={},jC;function F$(){if(jC)return dc;jC=1,Object.defineProperty(dc,"__esModule",{value:!0}),dc.Bus=void 0;let e=class{constructor(r){this.actors=[],this.observers=[],this.dependencyLinks=new Map,Object.assign(this,r),this.failMessage=`All actors over bus ${this.name} failed to handle an action`}subscribe(r){this.actors.push(r),this.reorderForDependencies()}subscribeObserver(r){this.observers.push(r)}unsubscribe(r){const n=this.actors.indexOf(r);return n>=0?(this.actors.splice(n,1),!0):!1}unsubscribeObserver(r){const n=this.observers.indexOf(r);return n>=0?(this.observers.splice(n,1),!0):!1}publish(r){return this.actors.map(n=>({actor:n,reply:n.test(r)}))}onRun(r,n,i){for(const a of this.observers)a.onRun(r,n,i)}addDependencies(r,n){for(const i of n){let a=this.dependencyLinks.get(i);a||(a=[],this.dependencyLinks.set(i,a)),a.push(r)}this.reorderForDependencies()}reorderForDependencies(){if(this.dependencyLinks.size>0){const r=[];for(const n of this.dependencyLinks.keys()){const i=this.actors.indexOf(n);i>=0&&(this.actors.splice(i,1),r.push(n))}for(;r.length>0;){let n=-1;for(let a=0;a<r.length;a++){let o=!0;for(const s of this.dependencyLinks.get(r[a]))if(!this.actors.includes(s)&&r.includes(s)){o=!1;break}if(o){n=a;break}}if(n<0)throw new Error(`Cyclic dependency links detected in bus ${this.name}`);const i=r.splice(n,1)[0];this.actors.push(i)}}}};return dc.Bus=e,dc}var hc={},qC;function Dte(){if(qC)return hc;qC=1,Object.defineProperty(hc,"__esModule",{value:!0}),hc.BusIndexed=void 0;const e=F$();let t=class extends e.Bus{constructor(n){super(n),this.actorsIndex={}}subscribe(n){const i=this.getActorIdentifiers(n)??["_undefined_"];for(const a of i){let o=this.actorsIndex[a];o||(o=this.actorsIndex[a]=[]),o.push(n),super.subscribe(n)}}unsubscribe(n){const i=this.getActorIdentifiers(n)??["_undefined_"];let a=!1;for(const o of i){const s=this.actorsIndex[o];if(s){const l=s.indexOf(n);l>=0&&s.splice(l,1),s.length===0&&delete this.actorsIndex[o]}a=a||super.unsubscribe(n)}return a}publish(n){const i=this.getActionIdentifier(n);return i?[...this.actorsIndex[i]||[],...this.actorsIndex._undefined_||[]].map(o=>({actor:o,reply:o.test(n)})):super.publish(n)}getActorIdentifiers(n){const i=this.actorIdentifierFields.reduce((a,o)=>a[o],n);if(i)return Array.isArray(i)?i:[i]}getActionIdentifier(n){return this.actionIdentifierFields.reduce((i,a)=>i[a],n)}};return hc.BusIndexed=t,hc}var pc={},BC;function j$(){if(BC)return pc;BC=1,Object.defineProperty(pc,"__esModule",{value:!0}),pc.CONTEXT_KEY_LOGGER=void 0;const e=k$();return pc.CONTEXT_KEY_LOGGER=new e.ActionContextKey("@comunica/core:log"),pc}var mc={},$C;function Cte(){if($C)return mc;$C=1,Object.defineProperty(mc,"__esModule",{value:!0}),mc.ActionObserver=void 0;let e=class{constructor(r){Object.assign(this,r)}};return mc.ActionObserver=e,mc}var yc={},UC;function Lte(){if(UC)return yc;UC=1,Object.defineProperty(yc,"__esModule",{value:!0}),yc.Actor=void 0;const e=j$();let t=class Rs{constructor(n){this.beforeActors=[],Object.assign(this,n),this.bus.subscribe(this),this.beforeActors.length>0&&this.bus.addDependencies(this,this.beforeActors),n.busFailMessage&&(this.bus.failMessage=n.busFailMessage)}static getContextLogger(n){return n.get(e.CONTEXT_KEY_LOGGER)}runObservable(n,i){const a=this.run(n,i);return this.bus.onRun(this,n,a),a}getDefaultLogData(n,i){const a=i?i():{};return a.actor=this.name,a}logTrace(n,i,a){const o=Rs.getContextLogger(n);o&&o.trace(i,this.getDefaultLogData(n,a))}logDebug(n,i,a){const o=Rs.getContextLogger(n);o&&o.debug(i,this.getDefaultLogData(n,a))}logInfo(n,i,a){const o=Rs.getContextLogger(n);o&&o.info(i,this.getDefaultLogData(n,a))}logWarn(n,i,a){const o=Rs.getContextLogger(n);o&&o.warn(i,this.getDefaultLogData(n,a))}logError(n,i,a){const o=Rs.getContextLogger(n);o&&o.error(i,this.getDefaultLogData(n,a))}logFatal(n,i,a){const o=Rs.getContextLogger(n);o&&o.fatal(i,this.getDefaultLogData(n,a))}};return yc.Actor=t,yc}var gc={},VC;function Mte(){if(VC)return gc;VC=1,Object.defineProperty(gc,"__esModule",{value:!0}),gc.Mediator=void 0;let e=class kE{constructor(r){Object.assign(this,r)}publish(r){const n=this.bus.publish(r);if(n.length===0)throw new Error(`No actors are able to reply to a message in the bus ${this.bus.name}`);return n}async mediateActor(r){return await this.mediateWith(r,this.publish(r))}async mediateTestable(r){return(await this.mediateActor(r)).mapAsync((i,a)=>i.runObservable(r,a))}async mediate(r){return(await this.mediateTestable(r)).getOrThrow()}constructFailureMessage(r,n){const i=`
        `;return`${this.bus.failMessage.replaceAll(/\$\{(.*?)\}/gu,(o,s)=>kE.getObjectValue({action:r},s.split("."))||o)}
    Error messages of failing actors:${i}${n.join(i)}`}static getObjectValue(r,n){if(n.length===0)return r;if(r)return kE.getObjectValue(r[n[0]],n.slice(1))}};return gc.Mediator=e,gc}var sn={},HC;function kte(){if(HC)return sn;HC=1,Object.defineProperty(sn,"__esModule",{value:!0}),sn.TestResultFailed=sn.TestResultPassed=sn.failTest=sn.passTestVoidWithSideData=sn.passTestWithSideData=sn.passTestVoid=sn.passTest=void 0;function e(s){return new a(s,void 0)}sn.passTest=e;function t(){return new a(!0,void 0)}sn.passTestVoid=t;function r(s,l){return new a(s,l)}sn.passTestWithSideData=r;function n(s){return new a(!0,s)}sn.passTestVoidWithSideData=n;function i(s){return new o(s)}sn.failTest=i;class a{constructor(l,u){this.value=l,this.sideData=u}isPassed(){return!0}isFailed(){return!1}get(){return this.value}getOrThrow(){return this.value}getSideData(){return this.sideData}getFailMessage(){}map(l){return new a(l(this.value,this.sideData),this.sideData)}async mapAsync(l){return new a(await l(this.value,this.sideData),this.sideData)}}sn.TestResultPassed=a;class o{constructor(l){this.failMessage=l}isPassed(){return!1}isFailed(){return!0}get(){}getOrThrow(){throw new Error(this.getFailMessage())}getSideData(){throw new Error(this.getFailMessage())}getFailMessage(){return this.failMessage}map(){return this}async mapAsync(){return this}}return sn.TestResultFailed=o,sn}var zC;function hr(){return zC||(zC=1,function(e){var t=fc.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=fc.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(k$(),e),r(F$(),e),r(Dte(),e),r(j$(),e),r(Cte(),e),r(Lte(),e),r(Mte(),e),r(kte(),e)}(fc)),fc}var _c={},Ut={},GC;function Fte(){if(GC)return Ut;GC=1,Object.defineProperty(Ut,"__esModule",{value:!0}),Ut.KeysStatistics=Ut.KeysRdfJoin=Ut.KeysMergeBindingsContext=Ut.KeysRdfUpdateQuads=Ut.KeysQuerySourceIdentify=Ut.KeysRdfParseHtmlScript=Ut.KeysRdfParseJsonLd=Ut.KeysQueryOperation=Ut.KeysExpressionEvaluator=Ut.KeysInitQuery=Ut.KeysHttpProxy=Ut.KeysHttpMemento=Ut.KeysHttpWayback=Ut.KeysHttp=Ut.KeysCore=void 0;const e=hr();return Ut.KeysCore={log:e.CONTEXT_KEY_LOGGER},Ut.KeysHttp={includeCredentials:new e.ActionContextKey("@comunica/bus-http:include-credentials"),auth:new e.ActionContextKey("@comunica/bus-http:auth"),fetch:new e.ActionContextKey("@comunica/bus-http:fetch"),httpTimeout:new e.ActionContextKey("@comunica/bus-http:http-timeout"),httpBodyTimeout:new e.ActionContextKey("@comunica/bus-http:http-body-timeout"),httpRetryCount:new e.ActionContextKey("@comunica/bus-http:http-retry-count"),httpRetryDelayFallback:new e.ActionContextKey("@comunica/bus-http:http-retry-delay-fallback"),httpRetryDelayLimit:new e.ActionContextKey("@comunica/bus-http:http-retry-delay-limit"),httpRetryStatusCodes:new e.ActionContextKey("@comunica/bus-http:http-retry-status-codes")},Ut.KeysHttpWayback={recoverBrokenLinks:new e.ActionContextKey("@comunica/bus-http:recover-broken-links")},Ut.KeysHttpMemento={datetime:new e.ActionContextKey("@comunica/actor-http-memento:datetime")},Ut.KeysHttpProxy={httpProxyHandler:new e.ActionContextKey("@comunica/actor-http-proxy:httpProxyHandler")},Ut.KeysInitQuery={querySourcesUnidentified:new e.ActionContextKey("@comunica/actor-init-query:querySourcesUnidentified"),initialBindings:new e.ActionContextKey("@comunica/actor-init-query:initialBindings"),queryFormat:new e.ActionContextKey("@comunica/actor-init-query:queryFormat"),graphqlSingularizeVariables:new e.ActionContextKey("@comunica/actor-init-query:singularizeVariables"),lenient:new e.ActionContextKey("@comunica/actor-init-query:lenient"),queryString:new e.ActionContextKey("@comunica/actor-init-query:queryString"),query:new e.ActionContextKey("@comunica/actor-init-query:query"),baseIRI:new e.ActionContextKey("@comunica/actor-init-query:baseIRI"),functionArgumentsCache:new e.ActionContextKey("@comunica/actor-init-query:functionArgumentsCache"),queryTimestamp:new e.ActionContextKey("@comunica/actor-init-query:queryTimestamp"),queryTimestampHighResolution:new e.ActionContextKey("@comunica/actor-init-query:queryTimestampHighResolution"),extensionFunctionCreator:new e.ActionContextKey("@comunica/actor-init-query:extensionFunctionCreator"),extensionFunctions:new e.ActionContextKey("@comunica/actor-init-query:extensionFunctions"),cliArgsHandlers:new e.ActionContextKey("@comunica/actor-init-query:cliArgsHandlers"),explain:new e.ActionContextKey("@comunica/actor-init-query:explain"),physicalQueryPlanLogger:new e.ActionContextKey("@comunica/actor-init-query:physicalQueryPlanLogger"),physicalQueryPlanNode:new e.ActionContextKey("@comunica/actor-init-query:physicalQueryPlanNode"),jsonLdContext:new e.ActionContextKey("@context"),invalidateCache:new e.ActionContextKey("@comunica/actor-init-query:invalidateCache"),dataFactory:new e.ActionContextKey("@comunica/actor-init-query:dataFactory"),distinctConstruct:new e.ActionContextKey("@comunica/actor-init-query:distinctConstruct")},Ut.KeysExpressionEvaluator={extensionFunctionCreator:new e.ActionContextKey("@comunica/utils-expression-evaluator:extensionFunctionCreator"),superTypeProvider:new e.ActionContextKey("@comunica/utils-expression-evaluator:superTypeProvider"),defaultTimeZone:new e.ActionContextKey("@comunica/utils-expression-evaluator:defaultTimeZone"),actionContext:new e.ActionContextKey("@comunica/utils-expression-evaluator:actionContext")},Ut.KeysQueryOperation={operation:new e.ActionContextKey("@comunica/bus-query-operation:operation"),joinLeftMetadata:new e.ActionContextKey("@comunica/bus-query-operation:joinLeftMetadata"),joinRightMetadatas:new e.ActionContextKey("@comunica/bus-query-operation:joinRightMetadatas"),joinBindings:new e.ActionContextKey("@comunica/bus-query-operation:joinBindings"),readOnly:new e.ActionContextKey("@comunica/bus-query-operation:readOnly"),isPathArbitraryLengthDistinctKey:new e.ActionContextKey("@comunica/bus-query-operation:isPathArbitraryLengthDistinct"),limitIndicator:new e.ActionContextKey("@comunica/bus-query-operation:limitIndicator"),unionDefaultGraph:new e.ActionContextKey("@comunica/bus-query-operation:unionDefaultGraph"),querySources:new e.ActionContextKey("@comunica/bus-query-operation:querySources")},Ut.KeysRdfParseJsonLd={documentLoader:new e.ActionContextKey("@comunica/actor-rdf-parse-jsonld:documentLoader"),strictValues:new e.ActionContextKey("@comunica/actor-rdf-parse-jsonld:strictValues"),parserOptions:new e.ActionContextKey("@comunica/actor-rdf-parse-jsonld:parserOptions")},Ut.KeysRdfParseHtmlScript={processingHtmlScript:new e.ActionContextKey("@comunica/actor-rdf-parse-html-script:processingHtmlScript"),extractAllScripts:new e.ActionContextKey("extractAllScripts")},Ut.KeysQuerySourceIdentify={sourceIds:new e.ActionContextKey("@comunica/bus-query-source-identify:sourceIds"),hypermediaSourcesAggregatedStores:new e.ActionContextKey("@comunica/bus-query-source-identify:hypermediaSourcesAggregatedStores"),traverse:new e.ActionContextKey("@comunica/bus-query-source-identify:traverse")},Ut.KeysRdfUpdateQuads={destination:new e.ActionContextKey("@comunica/bus-rdf-update-quads:destination")},Ut.KeysMergeBindingsContext={sourcesBinding:new e.ActionContextKey("@comunica/bus-merge-bindings-context:sourcesBinding")},Ut.KeysRdfJoin={lastPhysicalJoin:new e.ActionContextKey("@comunica/bus-rdf-join:lastPhysicalJoin")},Ut.KeysStatistics={discoveredLinks:new e.ActionContextKey("@comunica/bus-context-preprocess:discoveredLinks"),dereferencedLinks:new e.ActionContextKey("@comunica/bus-context-preprocess:dereferencedLinks")},Ut}var WC;function Qi(){return WC||(WC=1,function(e){var t=_c.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=_c.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(Fte(),e)}(_c)),_c}var bc={},vc={},KC;function q$(){if(KC)return vc;KC=1,Object.defineProperty(vc,"__esModule",{value:!0}),vc.BlankNode=void 0;class e{constructor(r){this.termType="BlankNode",this.value=r}equals(r){return!!r&&r.termType==="BlankNode"&&r.value===this.value}}return vc.BlankNode=e,vc}var wc={},Sc={},QC;function B$(){if(QC)return Sc;QC=1,Object.defineProperty(Sc,"__esModule",{value:!0}),Sc.DefaultGraph=void 0;class e{constructor(){this.termType="DefaultGraph",this.value=""}equals(r){return!!r&&r.termType==="DefaultGraph"}}return Sc.DefaultGraph=e,e.INSTANCE=new e,Sc}var Ec={},Tc={},ZC;function Ux(){if(ZC)return Tc;ZC=1,Object.defineProperty(Tc,"__esModule",{value:!0}),Tc.NamedNode=void 0;class e{constructor(r){this.termType="NamedNode",this.value=r}equals(r){return!!r&&r.termType==="NamedNode"&&r.value===this.value}}return Tc.NamedNode=e,Tc}var YC;function $$(){if(YC)return Ec;YC=1,Object.defineProperty(Ec,"__esModule",{value:!0}),Ec.Literal=void 0;const e=Ux();class t{constructor(n,i){this.termType="Literal",this.value=n,typeof i=="string"?(this.language=i,this.datatype=t.RDF_LANGUAGE_STRING):i?(this.language="",this.datatype=i):(this.language="",this.datatype=t.XSD_STRING)}equals(n){return!!n&&n.termType==="Literal"&&n.value===this.value&&n.language===this.language&&this.datatype.equals(n.datatype)}}return Ec.Literal=t,t.RDF_LANGUAGE_STRING=new e.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.XSD_STRING=new e.NamedNode("http://www.w3.org/2001/XMLSchema#string"),Ec}var xc={},XC;function U$(){if(XC)return xc;XC=1,Object.defineProperty(xc,"__esModule",{value:!0}),xc.Quad=void 0;class e{constructor(r,n,i,a){this.termType="Quad",this.value="",this.subject=r,this.predicate=n,this.object=i,this.graph=a}equals(r){return!!r&&(r.termType==="Quad"||!r.termType)&&this.subject.equals(r.subject)&&this.predicate.equals(r.predicate)&&this.object.equals(r.object)&&this.graph.equals(r.graph)}}return xc.Quad=e,xc}var Rc={},JC;function V$(){if(JC)return Rc;JC=1,Object.defineProperty(Rc,"__esModule",{value:!0}),Rc.Variable=void 0;class e{constructor(r){this.termType="Variable",this.value=r}equals(r){return!!r&&r.termType==="Variable"&&r.value===this.value}}return Rc.Variable=e,Rc}var eL;function jte(){if(eL)return wc;eL=1,Object.defineProperty(wc,"__esModule",{value:!0}),wc.DataFactory=void 0;const e=q$(),t=B$(),r=$$(),n=Ux(),i=U$(),a=V$();let o=0;class s{constructor(u){this.blankNodeCounter=0,u=u||{},this.blankNodePrefix=u.blankNodePrefix||`df_${o++}_`}namedNode(u){return new n.NamedNode(u)}blankNode(u){return new e.BlankNode(u||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(u,f){return new r.Literal(u,f)}variable(u){return new a.Variable(u)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(u,f,d,c){return new i.Quad(u,f,d,c||this.defaultGraph())}fromTerm(u){switch(u.termType){case"NamedNode":return this.namedNode(u.value);case"BlankNode":return this.blankNode(u.value);case"Literal":return u.language?this.literal(u.value,u.language):u.datatype.equals(r.Literal.XSD_STRING)?this.literal(u.value):this.literal(u.value,this.fromTerm(u.datatype));case"Variable":return this.variable(u.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(u.subject),this.fromTerm(u.predicate),this.fromTerm(u.object),this.fromTerm(u.graph))}}fromQuad(u){return this.fromTerm(u)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return wc.DataFactory=s,wc}var tL;function qte(){return tL||(tL=1,function(e){var t=bc.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=bc.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(q$(),e),r(jte(),e),r(B$(),e),r($$(),e),r(Ux(),e),r(U$(),e),r(V$(),e)}(bc)),bc}var rL;function H$(){if(rL)return lc;rL=1,Object.defineProperty(lc,"__esModule",{value:!0}),lc.RdfDereferencerBase=void 0;const e=hr(),t=Qi(),r=qte();let n=class{constructor(a){this.mediatorDereferenceRdf=a.mediatorDereferenceRdf}dereference(a,o={}){const s=new e.ActionContext(o).setDefault(t.KeysInitQuery.dataFactory,new r.DataFactory);return this.mediatorDereferenceRdf.mediate({context:typeof o.fetch=="function"?s.setDefault(t.KeysHttp.fetch,o.fetch):s,headers:new Headers(o.headers),method:o.method,url:a})}};return lc.RdfDereferencerBase=n,lc}var nL;function Bte(){if(nL)return uc;nL=1,Object.defineProperty(uc,"__esModule",{value:!0}),uc.RdfDereferencer=void 0;const e=H$();class t extends e.RdfDereferencerBase{}return uc.RdfDereferencer=t,uc}var Ac={},Ic={},iL;function $te(){if(iL)return Ic;iL=1,Object.defineProperty(Ic,"__esModule",{value:!0}),Ic.MediatorRace=void 0;const e=hr();let t=class extends e.Mediator{constructor(n){super(n)}mediateWith(n,i){return new Promise((a,o)=>{const s=[];for(const l of i)l.reply.then(u=>{u.isPassed()?a((0,e.passTestWithSideData)(l.actor,u.getSideData())):(s.push(u.getFailMessage()),s.length===i.length&&a((0,e.failTest)(this.constructFailureMessage(n,s))))}).catch(u=>{o(u)})})}};return Ic.MediatorRace=t,Ic}var aL;function yS(){return aL||(aL=1,function(e){var t=Ac.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=Ac.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r($te(),e)}(Ac)),Ac}var Pc={},Oc={},Nc={},Dc={},Pa={},oL;function Vx(){if(oL)return Pa;oL=1,Object.defineProperty(Pa,"__esModule",{value:!0}),Pa.ActorDereferenceBase=Pa.isHardError=Pa.emptyReadable=void 0;const e=Qi(),t=hr(),r=Ki();function n(){const o=new r.Readable;return o.push(null),o}Pa.emptyReadable=n;function i(o){return!o.get(e.KeysInitQuery.lenient)}Pa.isHardError=i;let a=class extends t.Actor{constructor(s){super(s)}async dereferenceErrorHandler(s,l,u){if(i(s.context))throw l;return this.logWarn(s.context,l.message),{...u,data:n()}}};return Pa.ActorDereferenceBase=a,Pa}var sL;function Ute(){if(sL)return Dc;sL=1,Object.defineProperty(Dc,"__esModule",{value:!0}),Dc.ActorDereference=void 0;const e=Vx();let t=class extends e.ActorDereferenceBase{constructor(n){super(n)}async handleDereferenceErrors(n,i,a,o=0){return this.dereferenceErrorHandler(n,i,{url:n.url,exists:!1,headers:a,requestTime:o})}};return Dc.ActorDereference=t,Dc}var cs={},uL;function Vte(){if(uL)return cs;uL=1,Object.defineProperty(cs,"__esModule",{value:!0}),cs.ActorDereferenceParse=cs.getMediaTypeFromExtension=void 0;const e=hr(),t=Ki(),r=Vx();function n(a,o){const s=a.lastIndexOf(".");return s>=0&&(o==null?void 0:o[a.slice(s+1)])||""}cs.getMediaTypeFromExtension=n;let i=class extends r.ActorDereferenceBase{constructor(o){super(o)}async test(o){return(0,e.passTestVoid)()}handleDereferenceStreamErrors(o,s){return(0,r.isHardError)(o.context)||(s.on("error",l=>{this.logWarn(o.context,l.message,()=>({url:o.url})),s.push(null)}),s=s.pipe(new t.PassThrough({objectMode:!0}))),s}async run(o){var f,d;const{context:s}=o,l=await this.mediatorDereference.mediate({...o,mediaTypes:async()=>{var c,p;return(p=await((c=this.mediatorParseMediatypes)==null?void 0:c.mediate({context:s,mediaTypes:!0})))==null?void 0:p.mediaTypes}});let u;try{u=(await this.mediatorParse.mediate({context:s,handle:{context:s,...l,metadata:await this.getMetadata(l)},handleMediaType:l.mediaType||n(l.url,this.mediaMappings)||o.mediaType})).handle,u.data=this.handleDereferenceStreamErrors(o,u.data)}catch(c){await((d=(f=l.data).close)==null?void 0:d.call(f)),u=await this.dereferenceErrorHandler(o,c,{})}return{...l,...u}}};return cs.ActorDereferenceParse=i,cs}var lL;function Hx(){return lL||(lL=1,function(e){var t=Nc.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=Nc.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(Ute(),e),r(Vte(),e),r(Vx(),e)}(Nc)),Nc}var fL;function Hte(){if(fL)return Oc;fL=1,Object.defineProperty(Oc,"__esModule",{value:!0}),Oc.ActorDereferenceFallback=void 0;const e=Hx(),t=hr();let r=class extends e.ActorDereference{constructor(i){super(i)}async test(i){return(0,t.passTestVoid)()}async run(i){return this.handleDereferenceErrors(i,new Error(`Could not dereference '${i.url}'`))}};return Oc.ActorDereferenceFallback=r,Oc}var cL;function zte(){return cL||(cL=1,function(e){var t=Pc.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=Pc.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(Hte(),e)}(Pc)),Pc}var Cc={},Lc={},Mc={},kc={},gS={},ds={},dL;function Gte(){if(dL)return ds;dL=1,Object.defineProperty(ds,"__esModule",{value:!0}),ds.readableFromWeb=ds.ReadableFromWeb=void 0;const e=Ki();let t=class extends e.Readable{constructor(i,a){super(a),this.reader=i.getReader(),this.readerClosed=!1,this.reader.closed.then(()=>{this.readerClosed=!0}).catch(o=>{this.readerClosed=!0,this.destroy(o)})}_read(){this.reader.read().then(i=>this.push(i.done?null:i.value)).catch(i=>this.destroy(i))}destroy(i){return this.readerClosed||this.reader.cancel(i).then().catch(()=>{}),super.destroy(i)}};ds.ReadableFromWeb=t;function r(n,i){return new t(n,i)}return ds.readableFromWeb=r,ds}var hL;function Wte(){return hL||(hL=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.readableFromWeb=void 0;var t=Gte();Object.defineProperty(e,"readableFromWeb",{enumerable:!0,get:function(){return t.readableFromWeb}})}(gS)),gS}var _S,pL;function Kte(){if(pL)return _S;pL=1;const e=t=>t!==null&&typeof t=="object"&&typeof t.pipe=="function";return e.writable=t=>e(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object",e.readable=t=>e(t)&&t.readable!==!1&&typeof t._read=="function"&&typeof t._readableState=="object",e.duplex=t=>e.writable(t)&&e.readable(t),e.transform=t=>e.duplex(t)&&typeof t._transform=="function",_S=e,_S}var bS={exports:{}},mL;function Qte(){return mL||(mL=1,function(e){e.exports=t,e.exports.WEBSTREAM_SUPPORT=typeof ReadableStream<"u";function t(r){if(!e.exports.WEBSTREAM_SUPPORT)throw new Error("No web ReadableStream support");var n=!1,i={};function a(l){i.data=f,i.end=f,i.end=d,i.close=d,i.error=d;for(var u in i)r.on(u,i[u]);r.pause();function f(c){n||(l.enqueue(c),r.pause())}function d(c){if(!n){n=!0;for(var p in i)r.removeListener(p,i[p]);c?l.error(c):l.close()}}}function o(){n||r.resume()}function s(){n=!0;for(var l in i)r.removeListener(l,i[l]);r.push(null),r.pause(),r.destroy?r.destroy():r.close&&r.close()}return new ReadableStream({start:a,pull:o,cancel:s})}}(bS)),bS.exports}var yL;function G$(){if(yL)return kc;yL=1,Object.defineProperty(kc,"__esModule",{value:!0}),kc.ActorHttp=void 0;const e=hr(),t=Wte(),r=Kte(),n=Qte();let i=class z$ extends e.Actor{constructor(o){super(o)}static toNodeReadable(o){return r(o)||o===null?o:(0,t.readableFromWeb)(o)}static toWebReadableStream(o){return n(o)}static headersToHash(o){const s={};return o.forEach((l,u)=>{s[u]=l}),s}static getInputUrl(o){return new URL(o instanceof Request?o.url:o)}static createUserAgent(o,s){if(!z$.isBrowser()){const l=[`Comunica/${s.split(".")[0]}.0`,`${o}/${s}`];return typeof globalThis.navigator=="object"&&typeof globalThis.navigator.userAgent=="string"?l.push(globalThis.navigator.userAgent):typeof globalThis.process=="object"&&typeof globalThis.process.versions=="object"&&typeof globalThis.process.versions.node=="string"&&l.push(`Node.js/${globalThis.process.versions.node.split(".")[0]}`),typeof globalThis.process=="object"&&typeof globalThis.process.platform=="string"&&typeof globalThis.process.arch=="string"&&l.splice(1,0,`(${globalThis.process.platform}; ${globalThis.process.arch})`),l.join(" ")}}static isBrowser(){return typeof globalThis.window=="object"&&typeof globalThis.window.document=="object"||typeof globalThis.importScripts=="function"}};return kc.ActorHttp=i,kc}var Fc={},jc={},qc={},gL;function Zte(){if(gL)return qc;gL=1,Object.defineProperty(qc,"__esModule",{value:!0}),qc.promisifyEventEmitter=void 0;function e(t,r){return new Promise((n,i)=>{t.on("end",()=>n(r)),t.on("error",i)})}return qc.promisifyEventEmitter=e,qc}var _L;function bg(){if(_L)return jc;_L=1;var e=jc.__awaiter||function(n,i,a,o){function s(l){return l instanceof a?l:new a(function(u){u(l)})}return new(a||(a=Promise))(function(l,u){function f(p){try{c(o.next(p))}catch(b){u(b)}}function d(p){try{c(o.throw(p))}catch(b){u(b)}}function c(p){p.done?l(p.value):s(p.value).then(f,d)}c((o=o.apply(n,i||[])).next())})};Object.defineProperty(jc,"__esModule",{value:!0}),jc.stringify=r;const t=Zte();function r(n){return e(this,void 0,void 0,function*(){let i="";return n.on("data",a=>{i+=a}),yield(0,t.promisifyEventEmitter)(n),i})}return jc}var bL;function Yte(){if(bL)return Fc;bL=1,Object.defineProperty(Fc,"__esModule",{value:!0}),Fc.validateAndCloseHttpResponse=void 0;const e=bg(),t=G$();async function r(n,i){var a;if(i.status>=400){let o="empty response";if(i.body){const s=t.ActorHttp.toNodeReadable(i.body);o=await(0,e.stringify)(s)}throw new Error(`Could not update ${n} (HTTP status ${i.status}):
${o}`)}await((a=i.body)==null?void 0:a.cancel())}return Fc.validateAndCloseHttpResponse=r,Fc}var vL;function vg(){return vL||(vL=1,function(e){var t=Mc.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=Mc.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(G$(),e),r(Yte(),e)}(Mc)),Mc}const Xte="@comunica/actor-http-fetch",Jte="4.0.2",ere="A fetch http actor",tre="MIT",rre={type:"opencollective",url:"https://opencollective.com/comunica-association"},nre="https://comunica.dev/",ire={type:"git",url:"https://github.com/comunica/comunica.git",directory:"packages/actor-http-fetch"},are={url:"https://github.com/comunica/comunica/issues"},ore=["comunica","runner"],sre=!1,ure="lib/index.js",lre="lib/index",fre={access:"public"},cre=["components","lib/**/*.d.ts","lib/**/*.js","lib/**/*.js.map"],dre={build:"yarn run build:ts && yarn run build:components","build:ts":'node "../../node_modules/typescript/bin/tsc"',"build:components":"componentsjs-generator"},hre={"@comunica/bus-http":"^4.0.2","@comunica/context-entries":"^4.0.2","@comunica/core":"^4.0.2","@comunica/mediatortype-time":"^4.0.2"},pre={"./lib/FetchInitPreprocessor.js":"./lib/FetchInitPreprocessor-browser.js"},mre="b60deab76821557f8d027208ab743d3c66fc60ea",yre={name:Xte,version:Jte,description:ere,"lsd:module":!0,license:tre,funding:rre,homepage:nre,repository:ire,bugs:are,keywords:ore,sideEffects:sre,main:ure,typings:lre,publishConfig:fre,files:cre,scripts:dre,dependencies:hre,browser:pre,gitHead:mre};var Bc={},wL;function gre(){if(wL)return Bc;wL=1,Object.defineProperty(Bc,"__esModule",{value:!0}),Bc.FetchInitPreprocessor=void 0;class e{async handle(r){if(r.body&&typeof r.body!="string"&&"getReader"in r.body){const n=r.body.getReader(),i=[];for(;;){const{done:a,value:o}=await n.read();if(a)break;i.push(o)}r.body=i.join("")}return{...r,keepalive:!r.body}}}return Bc.FetchInitPreprocessor=e,Bc}var SL;function _re(){if(SL)return Lc;SL=1,Object.defineProperty(Lc,"__esModule",{value:!0}),Lc.ActorHttpFetch=void 0;const e=vg(),t=Qi(),r=hr(),n=yre,i=gre();let a=class FE extends e.ActorHttp{constructor(s){super(s),this.fetchInitPreprocessor=new i.FetchInitPreprocessor(s.agentOptions)}async test(s){return(0,r.passTest)({time:Number.POSITIVE_INFINITY})}async run(s){const l=this.prepareRequestHeaders(s),u={method:"GET",...s.init,headers:l};this.logInfo(s.context,`Requesting ${e.ActorHttp.getInputUrl(s.input).href}`,()=>({headers:e.ActorHttp.headersToHash(l),method:u.method})),s.context.has(t.KeysHttp.fetch)&&(u.headers=e.ActorHttp.headersToHash(l)),s.context.get(t.KeysHttp.includeCredentials)&&(u.credentials="include");const f=s.context.get(t.KeysHttp.httpTimeout),d=s.context.get(t.KeysHttp.httpBodyTimeout),c=s.context.get(t.KeysHttp.fetch)??fetch,p=await this.fetchInitPreprocessor.handle(u);let b,v;if(f){const y=new AbortController;p.signal=y.signal,b=()=>y.abort(new Error(`Fetch timed out for ${e.ActorHttp.getInputUrl(s.input).href} after ${f} ms`)),v=setTimeout(()=>b(),f)}const _=await c(s.input,p);return f&&(!d||!_.body)&&clearTimeout(v),_}prepareRequestHeaders(s){var f;const l=new Headers((f=s.init)==null?void 0:f.headers);e.ActorHttp.isBrowser()?l.delete("user-agent"):l.has("user-agent")||l.set("user-agent",FE.userAgent);const u=s.context.get(t.KeysHttp.auth);return u&&l.set("Authorization",`Basic ${FE.stringToBase64(u)}`),l}static stringToBase64(s){const l=new TextEncoder().encode(s),u=Array.from(l,f=>String.fromCodePoint(f)).join("");return btoa(u)}};return Lc.ActorHttpFetch=a,a.userAgent=e.ActorHttp.createUserAgent("ActorHttpFetch",n.version),Lc}var EL;function bre(){return EL||(EL=1,function(e){var t=Cc.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=Cc.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(_re(),e)}(Cc)),Cc}var $c={},Uc={},TL;function vre(){if(TL)return Uc;TL=1,Object.defineProperty(Uc,"__esModule",{value:!0}),Uc.MediatorNumber=void 0;const e=hr();let t=class extends e.Mediator{constructor(n){super(n),this.indexPicker=this.createIndexPicker()}createIndexPicker(){switch(this.type){case"min":return n=>n.reduce((i,a,o)=>{const s=this.getOrDefault(a[this.field],Number.POSITIVE_INFINITY);return s!==null&&(Number.isNaN(i[0])||i[0]>s)?[s,o]:i},[Number.NaN,-1])[1];case"max":return n=>n.reduce((i,a,o)=>{const s=this.getOrDefault(a[this.field],Number.NEGATIVE_INFINITY);return s!==null&&(Number.isNaN(i[0])||i[0]<s)?[s,o]:i},[Number.NaN,-1])[1];default:throw new Error(`No valid "type" value was given, must be either 'min' or 'max', but got: ${this.type}`)}}getOrDefault(n,i){return n===void 0?i:n}async mediateWith(n,i){let a=await Promise.all(i.map(({reply:f})=>f));const o=[];if(this.ignoreFailures){const f={};f[this.field]=null,a=a.map(d=>d.isFailed()?(o.push(d.getFailMessage()),(0,e.passTestWithSideData)(f,void 0)):d)}const s=[],l=a.map((f,d)=>{const c=f.getOrThrow();return s[d]=f.getSideData(),c}),u=this.indexPicker(l);return u<0?(0,e.failTest)(this.constructFailureMessage(n,o)):(0,e.passTestWithSideData)(i[u].actor,s[u])}};return Uc.MediatorNumber=t,Uc}var xL;function wre(){return xL||(xL=1,function(e){var t=$c.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=$c.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(vre(),e)}($c)),$c}var Vc={},Hc={},zc={},Gc={},Wc={},Kc={},RL;function W$(){if(RL)return Kc;RL=1,Object.defineProperty(Kc,"__esModule",{value:!0}),Kc.ActorAbstractMediaTyped=void 0;const e=hr();let t=class extends e.Actor{constructor(n){super(n)}async run(n){if("handle"in n){const i=n;return{handle:await this.runHandle(i.handle,i.handleMediaType,n.context)}}if("mediaTypes"in n)return{mediaTypes:await this.getMediaTypes(n.context)};if("mediaTypeFormats"in n)return{mediaTypeFormats:await this.getMediaTypeFormats(n.context)};throw new Error("Either a handle, mediaTypes or mediaTypeFormats action needs to be provided")}async test(n){if("handle"in n){const i=n;return(await this.testHandle(i.handle,i.handleMediaType,n.context)).map(a=>({handle:a}))}return"mediaTypes"in n?(await this.testMediaType(n.context)).map(i=>({mediaTypes:i})):"mediaTypeFormats"in n?(await this.testMediaTypeFormats(n.context)).map(i=>({mediaTypeFormats:i})):(0,e.failTest)("Either a handle, mediaTypes or mediaTypeFormats action needs to be provided")}};return Kc.ActorAbstractMediaTyped=t,Kc}var Qc={},AL;function Sre(){if(AL)return Qc;AL=1,Object.defineProperty(Qc,"__esModule",{value:!0}),Qc.ActorAbstractMediaTypedFixed=void 0;const e=hr(),t=W$();let r=class extends t.ActorAbstractMediaTyped{constructor(i){super(i);const a=this.priorityScale||this.priorityScale===0?this.priorityScale:1;if(this.mediaTypePriorities)for(const[o,[s,l]]of Object.entries(this.mediaTypePriorities).entries())this.mediaTypePriorities[s]=a*l;this.mediaTypePriorities=Object.freeze(this.mediaTypePriorities),this.mediaTypeFormats=Object.freeze(this.mediaTypeFormats)}async testHandle(i,a,o){return!a||!(a in this.mediaTypePriorities)?(0,e.failTest)(`Unrecognized media type: ${a}`):await this.testHandleChecked(i,o)}async testMediaType(i){return(0,e.passTestVoid)()}async getMediaTypes(i){return this.mediaTypePriorities}async testMediaTypeFormats(i){return(0,e.passTestVoid)()}async getMediaTypeFormats(i){return this.mediaTypeFormats}};return Qc.ActorAbstractMediaTypedFixed=r,Qc}var IL;function K$(){return IL||(IL=1,function(e){var t=Wc.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=Wc.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(W$(),e),r(Sre(),e)}(Wc)),Wc}var PL;function Ere(){if(PL)return Gc;PL=1,Object.defineProperty(Gc,"__esModule",{value:!0}),Gc.ActorRdfParse=void 0;const e=K$();let t=class extends e.ActorAbstractMediaTyped{constructor(n){super(n)}};return Gc.ActorRdfParse=t,Gc}var Zc={},OL;function Tre(){if(OL)return Zc;OL=1,Object.defineProperty(Zc,"__esModule",{value:!0}),Zc.ActorRdfParseFixedMediaTypes=void 0;const e=K$(),t=hr();let r=class extends e.ActorAbstractMediaTypedFixed{constructor(i){super(i)}async testHandleChecked(i){return(0,t.passTestVoid)()}};return Zc.ActorRdfParseFixedMediaTypes=r,Zc}var NL;function bl(){return NL||(NL=1,function(e){var t=zc.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=zc.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(Ere(),e),r(Tre(),e)}(zc)),zc}const Q$=el(MQ);var DL;function xre(){if(DL)return Hc;DL=1,Object.defineProperty(Hc,"__esModule",{value:!0}),Hc.ActorRdfParseN3=void 0;const e=bl(),t=Qi(),r=Q$;let n=class extends e.ActorRdfParseFixedMediaTypes{constructor(a){super(a)}async runHandle(a,o,s){var f;const l=a.context.getSafe(t.KeysInitQuery.dataFactory);a.data.on("error",d=>u.emit("error",d));const u=a.data.pipe(new r.StreamParser({factory:l,baseIRI:(f=a.metadata)==null?void 0:f.baseIRI,format:o.endsWith("n3")?o:`${o}*`}));return{data:u,metadata:{triples:o==="text/turtle"||o==="application/n-triples"||o==="text/n3"}}}};return Hc.ActorRdfParseN3=n,Hc}var CL;function Rre(){return CL||(CL=1,function(e){var t=Vc.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=Vc.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(xre(),e)}(Vc)),Vc}var Yc={},Xc={},Jc={},hs={},ed={},Oa={},LL;function Are(){if(LL)return Oa;LL=1,Object.defineProperty(Oa,"__esModule",{value:!0}),Oa.removeDotSegmentsOfPath=Oa.removeDotSegments=Oa.resolve=void 0;function e(i,a){a=a||"";const o=a.indexOf("#");if(o>0&&(a=a.substr(0,o)),!i.length){if(a.indexOf(":")<0)throw new Error(`Found invalid baseIRI '${a}' for value '${i}'`);return a}if(i.startsWith("?")){const p=a.indexOf("?");return p>0&&(a=a.substr(0,p)),a+i}if(i.startsWith("#"))return a+i;if(!a.length){const p=i.indexOf(":");if(p<0)throw new Error(`Found invalid relative IRI '${i}' for a missing baseIRI`);return r(i,p)}const s=i.indexOf(":");if(s>=0)return r(i,s);const l=a.indexOf(":");if(l<0)throw new Error(`Found invalid baseIRI '${a}' for value '${i}'`);const u=a.substr(0,l+1);if(i.indexOf("//")===0)return u+r(i,s);let f;if(a.indexOf("//",l)===l+1){if(f=a.indexOf("/",l+3),f<0)return a.length>l+3?a+"/"+r(i,s):u+r(i,s)}else if(f=a.indexOf("/",l+1),f<0)return u+r(i,s);if(i.indexOf("/")===0)return a.substr(0,f)+t(i);let d=a.substr(f);const c=d.lastIndexOf("/");return c>=0&&c<d.length-1&&(d=d.substr(0,c+1),i[0]==="."&&i[1]!=="."&&i[1]!=="/"&&i[2]&&(i=i.substr(1))),i=d+i,i=t(i),a.substr(0,f)+i}Oa.resolve=e;function t(i){const a=[];let o=0;for(;o<i.length;)switch(i[o]){case"/":if(i[o+1]===".")if(i[o+2]==="."){if(!n(i[o+3])){a.push([]),o++;break}a.pop(),i[o+3]||a.push([]),o+=3}else{if(!n(i[o+2])){a.push([]),o++;break}i[o+2]||a.push([]),o+=2}else a.push([]),o++;break;case"#":case"?":a.length||a.push([]),a[a.length-1].push(i.substr(o)),o=i.length;break;default:a.length||a.push([]),a[a.length-1].push(i[o]),o++;break}return"/"+a.map(s=>s.join("")).join("/")}Oa.removeDotSegments=t;function r(i,a){let o=a+1;a>=0?i[a+1]==="/"&&i[a+2]==="/"&&(o=a+3):i[0]==="/"&&i[1]==="/"&&(o=2);const s=i.indexOf("/",o);if(s<0)return i;const l=i.substr(0,s),u=i.substr(s);return l+t(u)}Oa.removeDotSegmentsOfPath=r;function n(i){return!i||i==="#"||i==="?"||i==="/"}return Oa}var ML;function Ii(){return ML||(ML=1,function(e){var t=ed.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[a]}})}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=ed.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(Are(),e)}(ed)),ed}var ps={},vS={},kL;function Ire(){return kL||(kL=1,function(e){/**
 * Character classes and associated utilities for the 5th edition of XML 1.0.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */Object.defineProperty(e,"__esModule",{value:!0}),e.CHAR=`	
\r ---`,e.S=` 	\r
`,e.NAME_START_CHAR=":A-Z_a-z-----------",e.NAME_CHAR="-"+e.NAME_START_CHAR+".0-9--",e.CHAR_RE=new RegExp("^["+e.CHAR+"]$","u"),e.S_RE=new RegExp("^["+e.S+"]+$","u"),e.NAME_START_CHAR_RE=new RegExp("^["+e.NAME_START_CHAR+"]$","u"),e.NAME_CHAR_RE=new RegExp("^["+e.NAME_CHAR+"]$","u"),e.NAME_RE=new RegExp("^["+e.NAME_START_CHAR+"]["+e.NAME_CHAR+"]*$","u"),e.NMTOKEN_RE=new RegExp("^["+e.NAME_CHAR+"]+$","u");var t=9,r=10,n=13,i=32;e.S_LIST=[i,r,n,t];function a(u){return u>=i&&u<=55295||u===r||u===n||u===t||u>=57344&&u<=65533||u>=65536&&u<=1114111}e.isChar=a;function o(u){return u===i||u===r||u===n||u===t}e.isS=o;function s(u){return u>=65&&u<=90||u>=97&&u<=122||u===58||u===95||u===8204||u===8205||u>=192&&u<=214||u>=216&&u<=246||u>=248&&u<=767||u>=880&&u<=893||u>=895&&u<=8191||u>=8304&&u<=8591||u>=11264&&u<=12271||u>=12289&&u<=55295||u>=63744&&u<=64975||u>=65008&&u<=65533||u>=65536&&u<=983039}e.isNameStartChar=s;function l(u){return s(u)||u>=48&&u<=57||u===45||u===46||u===183||u>=768&&u<=879||u>=8255&&u<=8256}e.isNameChar=l}(vS)),vS}var wS={},FL;function Pre(){return FL||(FL=1,function(e){/**
 * Character classes and associated utilities for the 2nd edition of XML 1.1.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */Object.defineProperty(e,"__esModule",{value:!0}),e.CHAR="---",e.RESTRICTED_CHAR="-\b\v\f---",e.S=` 	\r
`,e.NAME_START_CHAR=":A-Z_a-z-----------",e.NAME_CHAR="-"+e.NAME_START_CHAR+".0-9--",e.CHAR_RE=new RegExp("^["+e.CHAR+"]$","u"),e.RESTRICTED_CHAR_RE=new RegExp("^["+e.RESTRICTED_CHAR+"]$","u"),e.S_RE=new RegExp("^["+e.S+"]+$","u"),e.NAME_START_CHAR_RE=new RegExp("^["+e.NAME_START_CHAR+"]$","u"),e.NAME_CHAR_RE=new RegExp("^["+e.NAME_CHAR+"]$","u"),e.NAME_RE=new RegExp("^["+e.NAME_START_CHAR+"]["+e.NAME_CHAR+"]*$","u"),e.NMTOKEN_RE=new RegExp("^["+e.NAME_CHAR+"]+$","u");var t=9,r=10,n=13,i=32;e.S_LIST=[i,r,n,t];function a(d){return d>=1&&d<=55295||d>=57344&&d<=65533||d>=65536&&d<=1114111}e.isChar=a;function o(d){return d>=1&&d<=8||d===11||d===12||d>=14&&d<=31||d>=127&&d<=132||d>=134&&d<=159}e.isRestrictedChar=o;function s(d){return d===9||d===10||d===13||d>31&&d<127||d===133||d>159&&d<=55295||d>=57344&&d<=65533||d>=65536&&d<=1114111}e.isCharAndNotRestricted=s;function l(d){return d===i||d===r||d===n||d===t}e.isS=l;function u(d){return d>=65&&d<=90||d>=97&&d<=122||d===58||d===95||d===8204||d===8205||d>=192&&d<=214||d>=216&&d<=246||d>=248&&d<=767||d>=880&&d<=893||d>=895&&d<=8191||d>=8304&&d<=8591||d>=11264&&d<=12271||d>=12289&&d<=55295||d>=63744&&d<=64975||d>=65008&&d<=65533||d>=65536&&d<=983039}e.isNameStartChar=u;function f(d){return u(d)||d>=48&&d<=57||d===45||d===46||d===183||d>=768&&d<=879||d>=8255&&d<=8256}e.isNameChar=f}(wS)),wS}var SS={},jL;function Ore(){return jL||(jL=1,function(e){/**
 * Character class utilities for XML NS 1.0 edition 3.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */Object.defineProperty(e,"__esModule",{value:!0}),e.NC_NAME_START_CHAR="A-Z_a-z------------",e.NC_NAME_CHAR="-"+e.NC_NAME_START_CHAR+".0-9--",e.NC_NAME_START_CHAR_RE=new RegExp("^["+e.NC_NAME_START_CHAR+"]$","u"),e.NC_NAME_CHAR_RE=new RegExp("^["+e.NC_NAME_CHAR+"]$","u"),e.NC_NAME_RE=new RegExp("^["+e.NC_NAME_START_CHAR+"]["+e.NC_NAME_CHAR+"]*$","u");function t(n){return n>=65&&n<=90||n===95||n>=97&&n<=122||n>=192&&n<=214||n>=216&&n<=246||n>=248&&n<=767||n>=880&&n<=893||n>=895&&n<=8191||n>=8204&&n<=8205||n>=8304&&n<=8591||n>=11264&&n<=12271||n>=12289&&n<=55295||n>=63744&&n<=64975||n>=65008&&n<=65533||n>=65536&&n<=983039}e.isNCNameStartChar=t;function r(n){return t(n)||n===45||n===46||n>=48&&n<=57||n===183||n>=768&&n<=879||n>=8255&&n<=8256}e.isNCNameChar=r}(SS)),SS}var qL;function Nre(){if(qL)return ps;qL=1,Object.defineProperty(ps,"__esModule",{value:!0}),ps.SaxesParser=ps.EVENTS=void 0;const e=Ire(),t=Pre(),r=Ore();var n=e.isS,i=e.isChar,a=e.isNameStartChar,o=e.isNameChar,s=e.S_LIST,l=e.NAME_RE,u=t.isChar,f=r.isNCNameStartChar,d=r.isNCNameChar,c=r.NC_NAME_RE;const p="http://www.w3.org/XML/1998/namespace",b="http://www.w3.org/2000/xmlns/",v={__proto__:null,xml:p,xmlns:b},_={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},y=-1,m=-2,g=0,S=1,x=2,I=3,N=4,q=5,D=6,M=7,j=8,P=9,B=10,Y=11,ie=12,X=13,le=14,ae=15,ne=16,H=17,oe=18,he=19,Z=20,Q=21,ee=22,O=23,A=24,$=25,te=26,pe=27,R=28,w=29,T=30,k=31,U=32,re=33,fe=34,ve=35,ce=36,Ie=37,be=38,Te=39,je=40,Ae=41,Oe=42,ke=43,Ke=44,Ue=9,it=10,ye=13,F=32,K=33,_e=34,Pe=38,se=39,ge=45,de=47,Re=59,Be=60,V=61,xe=62,Ce=63,me=91,Me=93,He=133,ft=8232,we=at=>at===_e||at===se,W=[_e,se],G=[...W,me,xe],J=[...W,Be,Me],Se=[V,Ce,...s],Le=[...s,xe,Pe,Be];function De(at,Ne,Ge){switch(Ne){case"xml":Ge!==p&&at.fail(`xml prefix must be bound to ${p}.`);break;case"xmlns":Ge!==b&&at.fail(`xmlns prefix must be bound to ${b}.`);break}switch(Ge){case b:at.fail(Ne===""?`the default namespace may not be set to ${Ge}.`:`may not assign a prefix (even "xmlns") to the URI ${b}.`);break;case p:switch(Ne){case"xml":break;case"":at.fail(`the default namespace may not be set to ${Ge}.`);break;default:at.fail("may not assign the xml namespace to another prefix.")}break}}function Ve(at,Ne){for(const Ge of Object.keys(Ne))De(at,Ge,Ne[Ge])}const $e=at=>c.test(at),ut=at=>l.test(at),lt=0,dt=1,ct=2;ps.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const nt={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};class lr{get closed(){return this._closed}constructor(Ne){this.opt=Ne??{},this.fragmentOpt=!!this.opt.fragment;const Ge=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,Ge){this.nameStartCheck=f,this.nameCheck=d,this.isName=$e,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},v);const We=this.opt.additionalNamespaces;We!=null&&(Ve(this,We),Object.assign(this.ns,We))}else this.nameStartCheck=a,this.nameCheck=o,this.isName=ut,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}_init(){var Ne;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=lt,this.attribList=[];const{fragmentOpt:Ge}=this;this.state=Ge?X:g,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=Ge,this.xmlDeclPossible=!Ge,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:We}=this.opt;if(We===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");We="1.0"}this.setXMLVersion(We),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(_),(Ne=this.readyHandler)===null||Ne===void 0||Ne.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(Ne,Ge){this[nt[Ne]]=Ge}off(Ne){this[nt[Ne]]=void 0}makeError(Ne){var Ge;let We=(Ge=this.fileName)!==null&&Ge!==void 0?Ge:"";return this.trackPosition&&(We.length>0&&(We+=":"),We+=`${this.line}:${this.column}`),We.length>0&&(We+=": "),new Error(We+Ne)}fail(Ne){const Ge=this.makeError(Ne),We=this.errorHandler;if(We===void 0)throw Ge;return We(Ge),this}write(Ne){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let Ge=!1;Ne===null?(Ge=!0,Ne=""):typeof Ne=="object"&&(Ne=Ne.toString()),this.carriedFromPrevious!==void 0&&(Ne=`${this.carriedFromPrevious}${Ne}`,this.carriedFromPrevious=void 0);let We=Ne.length;const ht=Ne.charCodeAt(We-1);!Ge&&(ht===ye||ht>=55296&&ht<=56319)&&(this.carriedFromPrevious=Ne[We-1],We--,Ne=Ne.slice(0,We));const{stateTable:gt}=this;for(this.chunk=Ne,this.i=0;this.i<We;)gt[this.state].call(this);return this.chunkPosition+=We,Ge?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:Ne,i:Ge}=this;if(this.prevI=Ge,this.i=Ge+1,Ge>=Ne.length)return y;const We=Ne.charCodeAt(Ge);if(this.column++,We<55296){if(We>=F||We===Ue)return We;switch(We){case it:return this.line++,this.column=0,this.positionAtNewLine=this.position,it;case ye:return Ne.charCodeAt(Ge+1)===it&&(this.i=Ge+2),this.line++,this.column=0,this.positionAtNewLine=this.position,m;default:return this.fail("disallowed character."),We}}if(We>56319)return We>=57344&&We<=65533||this.fail("disallowed character."),We;const ht=65536+(We-55296)*1024+(Ne.charCodeAt(Ge+1)-56320);return this.i=Ge+2,ht>1114111&&this.fail("disallowed character."),ht}getCode11(){const{chunk:Ne,i:Ge}=this;if(this.prevI=Ge,this.i=Ge+1,Ge>=Ne.length)return y;const We=Ne.charCodeAt(Ge);if(this.column++,We<55296){if(We>31&&We<127||We>159&&We!==ft||We===Ue)return We;switch(We){case it:return this.line++,this.column=0,this.positionAtNewLine=this.position,it;case ye:{const gt=Ne.charCodeAt(Ge+1);(gt===it||gt===He)&&(this.i=Ge+2)}case He:case ft:return this.line++,this.column=0,this.positionAtNewLine=this.position,m;default:return this.fail("disallowed character."),We}}if(We>56319)return We>=57344&&We<=65533||this.fail("disallowed character."),We;const ht=65536+(We-55296)*1024+(Ne.charCodeAt(Ge+1)-56320);return this.i=Ge+2,ht>1114111&&this.fail("disallowed character."),ht}getCodeNorm(){const Ne=this.getCode();return Ne===m?it:Ne}unget(){this.i=this.prevI,this.column--}captureTo(Ne){let{i:Ge}=this;const{chunk:We}=this;for(;;){const ht=this.getCode(),gt=ht===m,Nt=gt?it:ht;if(Nt===y||Ne.includes(Nt))return this.text+=We.slice(Ge,this.prevI),Nt;gt&&(this.text+=`${We.slice(Ge,this.prevI)}
`,Ge=this.i)}}captureToChar(Ne){let{i:Ge}=this;const{chunk:We}=this;for(;;){let ht=this.getCode();switch(ht){case m:this.text+=`${We.slice(Ge,this.prevI)}
`,Ge=this.i,ht=it;break;case y:return this.text+=We.slice(Ge),!1}if(ht===Ne)return this.text+=We.slice(Ge,this.prevI),!0}}captureNameChars(){const{chunk:Ne,i:Ge}=this;for(;;){const We=this.getCode();if(We===y)return this.name+=Ne.slice(Ge),y;if(!o(We))return this.name+=Ne.slice(Ge,this.prevI),We===m?it:We}}skipSpaces(){for(;;){const Ne=this.getCodeNorm();if(Ne===y||!n(Ne))return Ne}}setXMLVersion(Ne){this.currentXMLVersion=Ne,Ne==="1.0"?(this.isChar=i,this.getCode=this.getCode10):(this.isChar=u,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=S}sBeginWhitespace(){const Ne=this.i,Ge=this.skipSpaces();switch(this.prevI!==Ne&&(this.xmlDeclPossible=!1),Ge){case Be:if(this.state=ae,this.text.length!==0)throw new Error("no-empty text at start");break;case y:break;default:this.unget(),this.state=X,this.xmlDeclPossible=!1}}sDoctype(){var Ne;const Ge=this.captureTo(G);switch(Ge){case xe:{(Ne=this.doctypeHandler)===null||Ne===void 0||Ne.call(this,this.text),this.text="",this.state=X,this.doctype=!0;break}case y:break;default:this.text+=String.fromCodePoint(Ge),Ge===me?this.state=N:we(Ge)&&(this.state=I,this.q=Ge)}}sDoctypeQuote(){const Ne=this.q;this.captureToChar(Ne)&&(this.text+=String.fromCodePoint(Ne),this.q=null,this.state=x)}sDTD(){const Ne=this.captureTo(J);Ne!==y&&(this.text+=String.fromCodePoint(Ne),Ne===Me?this.state=x:Ne===Be?this.state=D:we(Ne)&&(this.state=q,this.q=Ne))}sDTDQuoted(){const Ne=this.q;this.captureToChar(Ne)&&(this.text+=String.fromCodePoint(Ne),this.state=N,this.q=null)}sDTDOpenWaka(){const Ne=this.getCodeNorm();switch(this.text+=String.fromCodePoint(Ne),Ne){case K:this.state=M,this.openWakaBang="";break;case Ce:this.state=Y;break;default:this.state=N}}sDTDOpenWakaBang(){const Ne=String.fromCodePoint(this.getCodeNorm()),Ge=this.openWakaBang+=Ne;this.text+=Ne,Ge!=="-"&&(this.state=Ge==="--"?j:N,this.openWakaBang="")}sDTDComment(){this.captureToChar(ge)&&(this.text+="-",this.state=P)}sDTDCommentEnding(){const Ne=this.getCodeNorm();this.text+=String.fromCodePoint(Ne),this.state=Ne===ge?B:j}sDTDCommentEnded(){const Ne=this.getCodeNorm();this.text+=String.fromCodePoint(Ne),Ne===xe?this.state=N:(this.fail("malformed comment."),this.state=j)}sDTDPI(){this.captureToChar(Ce)&&(this.text+="?",this.state=ie)}sDTDPIEnding(){const Ne=this.getCodeNorm();this.text+=String.fromCodePoint(Ne),Ne===xe&&(this.state=N)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:Ne}=this;const{chunk:Ge}=this;e:for(;;)switch(this.getCode()){case m:this.entity+=`${Ge.slice(Ne,this.prevI)}
`,Ne=this.i;break;case Re:{const{entityReturnState:We}=this,ht=this.entity+Ge.slice(Ne,this.prevI);this.state=We;let gt;ht===""?(this.fail("empty entity name."),gt="&;"):(gt=this.parseEntity(ht),this.entity=""),(We!==X||this.textHandler!==void 0)&&(this.text+=gt);break e}case y:this.entity+=Ge.slice(Ne);break e}}sOpenWaka(){const Ne=this.getCode();if(a(Ne))this.state=fe,this.unget(),this.xmlDeclPossible=!1;else switch(Ne){case de:this.state=ke,this.xmlDeclPossible=!1;break;case K:this.state=ne,this.openWakaBang="",this.xmlDeclPossible=!1;break;case Ce:this.state=O;break;default:this.fail("disallowed character in tag name"),this.state=X,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":!this.sawRoot&&!this.reportedTextBeforeRoot&&(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=Z,this.openWakaBang="";break;case"--":this.state=H,this.openWakaBang="";break;case"DOCTYPE":this.state=x,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(ge)&&(this.state=oe)}sCommentEnding(){var Ne;const Ge=this.getCodeNorm();Ge===ge?(this.state=he,(Ne=this.commentHandler)===null||Ne===void 0||Ne.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(Ge)}`,this.state=H)}sCommentEnded(){const Ne=this.getCodeNorm();Ne!==xe?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(Ne)}`,this.state=H):this.state=X}sCData(){this.captureToChar(Me)&&(this.state=Q)}sCDataEnding(){const Ne=this.getCodeNorm();Ne===Me?this.state=ee:(this.text+=`]${String.fromCodePoint(Ne)}`,this.state=Z)}sCDataEnding2(){var Ne;const Ge=this.getCodeNorm();switch(Ge){case xe:{(Ne=this.cdataHandler)===null||Ne===void 0||Ne.call(this,this.text),this.text="",this.state=X;break}case Me:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(Ge)}`,this.state=Z}}sPIFirstChar(){const Ne=this.getCodeNorm();this.nameStartCheck(Ne)?(this.piTarget+=String.fromCodePoint(Ne),this.state=A):Ne===Ce||n(Ne)?(this.fail("processing instruction without a target."),this.state=Ne===Ce?te:$):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(Ne),this.state=A)}sPIRest(){const{chunk:Ne,i:Ge}=this;for(;;){const We=this.getCodeNorm();if(We===y){this.piTarget+=Ne.slice(Ge);return}if(!this.nameCheck(We)){this.piTarget+=Ne.slice(Ge,this.prevI);const ht=We===Ce;ht||n(We)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=ht?re:pe):this.state=ht?te:$:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(We));break}}}sPIBody(){if(this.text.length===0){const Ne=this.getCodeNorm();Ne===Ce?this.state=te:n(Ne)||(this.text=String.fromCodePoint(Ne))}else this.captureToChar(Ce)&&(this.state=te)}sPIEnding(){var Ne;const Ge=this.getCodeNorm();if(Ge===xe){const{piTarget:We}=this;We.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(Ne=this.piHandler)===null||Ne===void 0||Ne.call(this,{target:We,body:this.text}),this.piTarget=this.text="",this.state=X}else Ge===Ce?this.text+="?":(this.text+=`?${String.fromCodePoint(Ge)}`,this.state=$);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const Ne=this.skipSpaces();if(Ne===Ce){this.state=re;return}Ne!==y&&(this.state=R,this.name=String.fromCodePoint(Ne))}sXMLDeclName(){const Ne=this.captureTo(Se);if(Ne===Ce){this.state=re,this.name+=this.text,this.text="",this.fail("XML declaration is incomplete.");return}if(n(Ne)||Ne===V){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=Ne===V?T:w}}sXMLDeclEq(){const Ne=this.getCodeNorm();if(Ne===Ce){this.state=re,this.fail("XML declaration is incomplete.");return}n(Ne)||(Ne!==V&&this.fail("value required."),this.state=T)}sXMLDeclValueStart(){const Ne=this.getCodeNorm();if(Ne===Ce){this.state=re,this.fail("XML declaration is incomplete.");return}n(Ne)||(we(Ne)?this.q=Ne:(this.fail("value must be quoted."),this.q=F),this.state=k)}sXMLDeclValue(){const Ne=this.captureTo([this.q,Ce]);if(Ne===Ce){this.state=re,this.text="",this.fail("XML declaration is incomplete.");return}if(Ne===y)return;const Ge=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const We=Ge;this.xmlDecl.version=We,/^1\.[0-9]+$/.test(We)?this.opt.forceXMLVersion||this.setXMLVersion(We):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(Ge)||this.fail("encoding value must match 	/^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=Ge;break;case"standalone":Ge!=="yes"&&Ge!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=Ge;break}this.name="",this.state=U}sXMLDeclSeparator(){const Ne=this.getCodeNorm();if(Ne===Ce){this.state=re;return}n(Ne)||(this.fail("whitespace required."),this.unget()),this.state=pe}sXMLDeclEnding(){var Ne;this.getCodeNorm()===xe?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(Ne=this.xmldeclHandler)===null||Ne===void 0||Ne.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=X):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var Ne;const Ge=this.captureNameChars();if(Ge===y)return;const We=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=We.ns=Object.create(null)),(Ne=this.openTagStartHandler)===null||Ne===void 0||Ne.call(this,We),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),Ge){case xe:this.openTag();break;case de:this.state=ve;break;default:n(Ge)||this.fail("disallowed character in tag name."),this.state=ce}}sOpenTagSlash(){this.getCode()===xe?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=ce)}sAttrib(){const Ne=this.skipSpaces();Ne!==y&&(a(Ne)?(this.unget(),this.state=Ie):Ne===xe?this.openTag():Ne===de?this.state=ve:this.fail("disallowed character in attribute name."))}sAttribName(){const Ne=this.captureNameChars();Ne===V?this.state=Te:n(Ne)?this.state=be:Ne===xe?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):Ne!==y&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const Ne=this.skipSpaces();switch(Ne){case y:return;case V:this.state=Te;break;default:this.fail("attribute without value."),this.text="",this.name="",Ne===xe?this.openTag():a(Ne)?(this.unget(),this.state=Ie):(this.fail("disallowed character in attribute name."),this.state=ce)}}sAttribValue(){const Ne=this.getCodeNorm();we(Ne)?(this.q=Ne,this.state=je):n(Ne)||(this.fail("unquoted attribute value."),this.state=Oe,this.unget())}sAttribValueQuoted(){const{q:Ne,chunk:Ge}=this;let{i:We}=this;for(;;)switch(this.getCode()){case Ne:this.pushAttrib(this.name,this.text+Ge.slice(We,this.prevI)),this.name=this.text="",this.q=null,this.state=Ae;return;case Pe:this.text+=Ge.slice(We,this.prevI),this.state=le,this.entityReturnState=je;return;case it:case m:case Ue:this.text+=`${Ge.slice(We,this.prevI)} `,We=this.i;break;case Be:this.text+=Ge.slice(We,this.prevI),this.fail("disallowed character.");return;case y:this.text+=Ge.slice(We);return}}sAttribValueClosed(){const Ne=this.getCodeNorm();n(Ne)?this.state=ce:Ne===xe?this.openTag():Ne===de?this.state=ve:a(Ne)?(this.fail("no whitespace between attributes."),this.unget(),this.state=Ie):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const Ne=this.captureTo(Le);switch(Ne){case Pe:this.state=le,this.entityReturnState=Oe;break;case Be:this.fail("disallowed character.");break;case y:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",Ne===xe?this.openTag():this.state=ce}}sCloseTag(){const Ne=this.captureNameChars();Ne===xe?this.closeTag():n(Ne)?this.state=Ke:Ne!==y&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case xe:this.closeTag();break;case y:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:Ne,forbiddenState:Ge}=this;const{chunk:We,textHandler:ht}=this;e:for(;;)switch(this.getCode()){case Be:{if(this.state=ae,ht!==void 0){const{text:gt}=this,Nt=We.slice(Ne,this.prevI);gt.length!==0?(ht(gt+Nt),this.text=""):Nt.length!==0&&ht(Nt)}Ge=lt;break e}case Pe:this.state=le,this.entityReturnState=X,ht!==void 0&&(this.text+=We.slice(Ne,this.prevI)),Ge=lt;break e;case Me:switch(Ge){case lt:Ge=dt;break;case dt:Ge=ct;break;case ct:break;default:throw new Error("impossible state")}break;case xe:Ge===ct&&this.fail('the string "]]>" is disallowed in char data.'),Ge=lt;break;case m:ht!==void 0&&(this.text+=`${We.slice(Ne,this.prevI)}
`),Ne=this.i,Ge=lt;break;case y:ht!==void 0&&(this.text+=We.slice(Ne));break e;default:Ge=lt}this.forbiddenState=Ge}handleTextOutsideRoot(){let{i:Ne}=this;const{chunk:Ge,textHandler:We}=this;let ht=!1;e:for(;;){const gt=this.getCode();switch(gt){case Be:{if(this.state=ae,We!==void 0){const{text:Nt}=this,Tr=Ge.slice(Ne,this.prevI);Nt.length!==0?(We(Nt+Tr),this.text=""):Tr.length!==0&&We(Tr)}break e}case Pe:this.state=le,this.entityReturnState=X,We!==void 0&&(this.text+=Ge.slice(Ne,this.prevI)),ht=!0;break e;case m:We!==void 0&&(this.text+=`${Ge.slice(Ne,this.prevI)}
`),Ne=this.i;break;case y:We!==void 0&&(this.text+=Ge.slice(Ne));break e;default:n(gt)||(ht=!0)}}ht&&(!this.sawRoot&&!this.reportedTextBeforeRoot&&(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(Ne,Ge){var We;const{prefix:ht,local:gt}=this.qname(Ne),Nt={name:Ne,prefix:ht,local:gt,value:Ge};if(this.attribList.push(Nt),(We=this.attributeHandler)===null||We===void 0||We.call(this,Nt),ht==="xmlns"){const Tr=Ge.trim();this.currentXMLVersion==="1.0"&&Tr===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[gt]=Tr,De(this,gt,Tr)}else if(Ne==="xmlns"){const Tr=Ge.trim();this.topNS[""]=Tr,De(this,"",Tr)}}pushAttribPlain(Ne,Ge){var We;const ht={name:Ne,value:Ge};this.attribList.push(ht),(We=this.attributeHandler)===null||We===void 0||We.call(this,ht)}end(){var Ne,Ge;this.sawRoot||this.fail("document must contain a root element.");const{tags:We}=this;for(;We.length>0;){const gt=We.pop();this.fail(`unclosed tag: ${gt.name}`)}this.state!==g&&this.state!==X&&this.fail("unexpected end.");const{text:ht}=this;return ht.length!==0&&((Ne=this.textHandler)===null||Ne===void 0||Ne.call(this,ht),this.text=""),this._closed=!0,(Ge=this.endHandler)===null||Ge===void 0||Ge.call(this),this._init(),this}resolve(Ne){var Ge,We;let ht=this.topNS[Ne];if(ht!==void 0)return ht;const{tags:gt}=this;for(let Nt=gt.length-1;Nt>=0;Nt--)if(ht=gt[Nt].ns[Ne],ht!==void 0)return ht;return ht=this.ns[Ne],ht!==void 0?ht:(We=(Ge=this.opt).resolvePrefix)===null||We===void 0?void 0:We.call(Ge,Ne)}qname(Ne){const Ge=Ne.indexOf(":");if(Ge===-1)return{prefix:"",local:Ne};const We=Ne.slice(Ge+1),ht=Ne.slice(0,Ge);return(ht===""||We===""||We.includes(":"))&&this.fail(`malformed name: ${Ne}.`),{prefix:ht,local:We}}processAttribsNS(){var Ne;const{attribList:Ge}=this,We=this.tag;{const{prefix:Nt,local:Tr}=this.qname(We.name);We.prefix=Nt,We.local=Tr;const En=We.uri=(Ne=this.resolve(Nt))!==null&&Ne!==void 0?Ne:"";Nt!==""&&(Nt==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),En===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(Nt)}.`),We.uri=Nt))}if(Ge.length===0)return;const{attributes:ht}=We,gt=new Set;for(const Nt of Ge){const{name:Tr,prefix:En,local:vl}=Nt;let Zi,xr;En===""?(Zi=Tr==="xmlns"?b:"",xr=Tr):(Zi=this.resolve(En),Zi===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(En)}.`),Zi=En),xr=`{${Zi}}${vl}`),gt.has(xr)&&this.fail(`duplicate attribute: ${xr}.`),gt.add(xr),Nt.uri=Zi,ht[Tr]=Nt}this.attribList=[]}processAttribsPlain(){const{attribList:Ne}=this,Ge=this.tag.attributes;for(const{name:We,value:ht}of Ne)Ge[We]!==void 0&&this.fail(`duplicate attribute: ${We}.`),Ge[We]=ht;this.attribList=[]}openTag(){var Ne;this.processAttribs();const{tags:Ge}=this,We=this.tag;We.isSelfClosing=!1,(Ne=this.openTagHandler)===null||Ne===void 0||Ne.call(this,We),Ge.push(We),this.state=X,this.name=""}openSelfClosingTag(){var Ne,Ge,We;this.processAttribs();const{tags:ht}=this,gt=this.tag;gt.isSelfClosing=!0,(Ne=this.openTagHandler)===null||Ne===void 0||Ne.call(this,gt),(Ge=this.closeTagHandler)===null||Ge===void 0||Ge.call(this,gt),(this.tag=(We=ht[ht.length-1])!==null&&We!==void 0?We:null)===null&&(this.closedRoot=!0),this.state=X,this.name=""}closeTag(){const{tags:Ne,name:Ge}=this;if(this.state=X,this.name="",Ge===""){this.fail("weird empty close tag."),this.text+="</>";return}const We=this.closeTagHandler;let ht=Ne.length;for(;ht-- >0;){const gt=this.tag=Ne.pop();if(this.topNS=gt.ns,We==null||We(gt),gt.name===Ge)break;this.fail("unexpected close tag.")}ht===0?this.closedRoot=!0:ht<0&&(this.fail(`unmatched closing tag: ${Ge}.`),this.text+=`</${Ge}>`)}parseEntity(Ne){if(Ne[0]!=="#"){const We=this.ENTITIES[Ne];return We!==void 0?We:(this.fail(this.isName(Ne)?"undefined entity.":"disallowed character in entity name."),`&${Ne};`)}let Ge=NaN;return Ne[1]==="x"&&/^#x[0-9a-f]+$/i.test(Ne)?Ge=parseInt(Ne.slice(2),16):/^#[0-9]+$/.test(Ne)&&(Ge=parseInt(Ne.slice(1),10)),this.isChar(Ge)?String.fromCodePoint(Ge):(this.fail("malformed character entity."),`&${Ne};`)}}return ps.SaxesParser=lr,ps}var td={},BL;function Dre(){if(BL)return td;BL=1,Object.defineProperty(td,"__esModule",{value:!0}),td.ParseError=void 0;let e=class extends Error{constructor(r,n){const i=r.saxParser;super(r.trackPosition?`Line ${i.line} column ${i.column+1}: ${n}`:n)}};return td.ParseError=e,td}var rd={},nd={},$L;function Z$(){if($L)return nd;$L=1,Object.defineProperty(nd,"__esModule",{value:!0}),nd.BlankNode=void 0;class e{constructor(r){this.termType="BlankNode",this.value=r}equals(r){return!!r&&r.termType==="BlankNode"&&r.value===this.value}}return nd.BlankNode=e,nd}var id={},ad={},UL;function Y$(){if(UL)return ad;UL=1,Object.defineProperty(ad,"__esModule",{value:!0}),ad.DefaultGraph=void 0;class e{constructor(){this.termType="DefaultGraph",this.value=""}equals(r){return!!r&&r.termType==="DefaultGraph"}}return ad.DefaultGraph=e,e.INSTANCE=new e,ad}var od={},sd={},VL;function zx(){if(VL)return sd;VL=1,Object.defineProperty(sd,"__esModule",{value:!0}),sd.NamedNode=void 0;class e{constructor(r){this.termType="NamedNode",this.value=r}equals(r){return!!r&&r.termType==="NamedNode"&&r.value===this.value}}return sd.NamedNode=e,sd}var HL;function X$(){if(HL)return od;HL=1,Object.defineProperty(od,"__esModule",{value:!0}),od.Literal=void 0;const e=zx();class t{constructor(n,i){this.termType="Literal",this.value=n,typeof i=="string"?(this.language=i,this.datatype=t.RDF_LANGUAGE_STRING):i?(this.language="",this.datatype=i):(this.language="",this.datatype=t.XSD_STRING)}equals(n){return!!n&&n.termType==="Literal"&&n.value===this.value&&n.language===this.language&&this.datatype.equals(n.datatype)}}return od.Literal=t,t.RDF_LANGUAGE_STRING=new e.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.XSD_STRING=new e.NamedNode("http://www.w3.org/2001/XMLSchema#string"),od}var ud={},zL;function J$(){if(zL)return ud;zL=1,Object.defineProperty(ud,"__esModule",{value:!0}),ud.Quad=void 0;class e{constructor(r,n,i,a){this.termType="Quad",this.value="",this.subject=r,this.predicate=n,this.object=i,this.graph=a}equals(r){return!!r&&(r.termType==="Quad"||!r.termType)&&this.subject.equals(r.subject)&&this.predicate.equals(r.predicate)&&this.object.equals(r.object)&&this.graph.equals(r.graph)}}return ud.Quad=e,ud}var ld={},GL;function e5(){if(GL)return ld;GL=1,Object.defineProperty(ld,"__esModule",{value:!0}),ld.Variable=void 0;class e{constructor(r){this.termType="Variable",this.value=r}equals(r){return!!r&&r.termType==="Variable"&&r.value===this.value}}return ld.Variable=e,ld}var WL;function Cre(){if(WL)return id;WL=1,Object.defineProperty(id,"__esModule",{value:!0}),id.DataFactory=void 0;const e=Z$(),t=Y$(),r=X$(),n=zx(),i=J$(),a=e5();let o=0;class s{constructor(u){this.blankNodeCounter=0,u=u||{},this.blankNodePrefix=u.blankNodePrefix||`df_${o++}_`}namedNode(u){return new n.NamedNode(u)}blankNode(u){return new e.BlankNode(u||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(u,f){return new r.Literal(u,f)}variable(u){return new a.Variable(u)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(u,f,d,c){return new i.Quad(u,f,d,c||this.defaultGraph())}fromTerm(u){switch(u.termType){case"NamedNode":return this.namedNode(u.value);case"BlankNode":return this.blankNode(u.value);case"Literal":return u.language?this.literal(u.value,u.language):u.datatype.equals(r.Literal.XSD_STRING)?this.literal(u.value):this.literal(u.value,this.fromTerm(u.datatype));case"Variable":return this.variable(u.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(u.subject),this.fromTerm(u.predicate),this.fromTerm(u.object),this.fromTerm(u.graph))}}fromQuad(u){return this.fromTerm(u)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return id.DataFactory=s,id}var KL;function Lre(){return KL||(KL=1,function(e){var t=rd.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=rd.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(Z$(),e),r(Cre(),e),r(Y$(),e),r(X$(),e),r(zx(),e),r(J$(),e),r(e5(),e)}(rd)),rd}var fd={},ES={},QL;function Mre(){return QL||(QL=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateIri=e.IriValidationStrategy=void 0;function t(){const s="[!$&'()*+,;=]",l="%[a-fA-F0-9]{2}",u="([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",f=`${u}\\.${u}\\.${u}\\.${u}`,d="[a-fA-F0-9]{1,4}",c=`(${d}:${d}|${f})`,p=`((${d}:){6}${c}|::(${d}:){5}${c}|(${d})?::(${d}:){4}${c}|((${d}:){0,1}${d})?::(${d}:){3}${c}|((${d}:){0,2}${d})?::(${d}:){2}${c}|((${d}:){0,3}${d})?::${d}:${c}|((${d}:){0,4}${d})?::${c}|((${d}:){0,5}${d})?::${d}|((${d}:){0,6}${d})?::)`,b=`v[a-fA-F0-9]+\\.(${s}|${s}|":)+`,v=`\\[(${p}|${b})\\]`,_="[0-9]*",y="[a-zA-Z][a-zA-Z0-9+\\-.]*",g="[---]",I="[a-zA-Z0-9\\-._~-----------------]",N=`(${I}|${l}|${s}|[:@])*`,q=`(${N}|[\\/?])*`,D=`(${N}|${g}|[\\/?])*`,M=`(${N})+`,j=`(${N})*`,P="",B=`${M}(\\/${j})*`,Y=`\\/(${M}(\\/${j})*)?`,ie=`(\\/${j})*`,X=`(${I}|${l}|${s})*`,le=`(${v}|${f}|${X})`,H=`(\\/\\/${`(${`(${I}|${l}|${s}|:)*`}@)?${le}(:${_})?`}${ie}|${Y}|${B}|${P})`,oe=`^${y}:${H}(\\?${D})?(#${q})?$`;return new RegExp(oe,"u")}const r=t(),n=/^[A-Za-z][\d+-.A-Za-z]*:[^\u0000-\u0020"<>\\^`{|}]*$/u;var i;(function(o){o.Strict="strict",o.Pragmatic="pragmatic",o.None="none"})(i=e.IriValidationStrategy||(e.IriValidationStrategy={}));function a(o,s=i.Strict){switch(s){case i.Strict:return r.test(o)?void 0:new Error(`Invalid IRI according to RFC 3987: '${o}'`);case i.Pragmatic:return n.test(o)?void 0:new Error(`Invalid IRI according to RDF Turtle: '${o}'`);case i.None:return;default:return new Error(`Not supported validation strategy "${s}"`)}}e.validateIri=a}(ES)),ES}var ZL;function kre(){return ZL||(ZL=1,function(e){var t=fd.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=fd.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(Mre(),e)}(fd)),fd}var YL;function Fre(){if(YL)return hs;YL=1,Object.defineProperty(hs,"__esModule",{value:!0}),hs.ParseType=hs.RdfXmlParser=void 0;const e=Ii(),t=Nre(),r=Ki(),n=Dre(),i=Lre(),a=kre();let o=class vr extends r.Transform{constructor(u){super({readableObjectMode:!0}),this.activeTagStack=[],this.nodeIds={},u&&(Object.assign(this,u),this.options=u),this.dataFactory||(this.dataFactory=new i.DataFactory),this.baseIRI||(this.baseIRI=""),this.defaultGraph||(this.defaultGraph=this.dataFactory.defaultGraph()),this.validateUri!==!1&&(this.validateUri=!0),this.iriValidationStrategy||(this.iriValidationStrategy=this.validateUri?a.IriValidationStrategy.Pragmatic:a.IriValidationStrategy.None),this.saxParser=new t.SaxesParser({xmlns:!0,position:this.trackPosition}),this.attachSaxListeners()}import(u){const f=new r.PassThrough({readableObjectMode:!0});u.on("error",c=>d.emit("error",c)),u.on("data",c=>f.push(c)),u.on("end",()=>f.push(null));const d=f.pipe(new vr(this.options));return d}_transform(u,f,d){try{this.saxParser.write(u)}catch(c){return d(c)}d()}newParseError(u){return new n.ParseError(this,u)}valueToUri(u,f){return this.uriToNamedNode((0,e.resolve)(u,f.baseIRI))}uriToNamedNode(u){const f=(0,a.validateIri)(u,this.iriValidationStrategy);if(f instanceof Error)throw this.newParseError(f.message);return this.dataFactory.namedNode(u)}validateNcname(u){if(!vr.NCNAME_MATCHER.test(u))throw this.newParseError(`Not a valid NCName: ${u}`)}attachSaxListeners(){this.saxParser.on("error",u=>this.emit("error",u)),this.saxParser.on("opentag",this.onTag.bind(this)),this.saxParser.on("text",this.onText.bind(this)),this.saxParser.on("cdata",this.onText.bind(this)),this.saxParser.on("closetag",this.onCloseTag.bind(this)),this.saxParser.on("doctype",this.onDoctype.bind(this))}onTag(u){const f=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;let d=s.RESOURCE;if(f&&(f.hadChildren=!0,d=f.childrenParseType),f&&f.childrenStringTags){const p=u.name;let b="";for(const m in u.attributes)b+=` ${m}="${u.attributes[m].value}"`;const _=`<${`${p}${b}`}>`;f.childrenStringTags.push(_);const y={childrenStringTags:f.childrenStringTags};y.childrenStringEmitClosingTag=`</${p}>`,this.activeTagStack.push(y);return}const c={};f?(c.language=f.language,c.baseIRI=f.baseIRI):c.baseIRI=this.baseIRI,this.activeTagStack.push(c),d===s.RESOURCE?this.onTagResource(u,c,f,!f):this.onTagProperty(u,c,f)}onTagResource(u,f,d,c){f.childrenParseType=s.PROPERTY;let p=!0;if(u.uri===vr.RDF){if(!c&&vr.FORBIDDEN_NODE_ELEMENTS.indexOf(u.local)>=0)throw this.newParseError(`Illegal node element name: ${u.local}`);switch(u.local){case"RDF":f.childrenParseType=s.RESOURCE;case"Description":p=!1}}const b=[],v=[];let _=null,y=!1,m=!1,g=null;for(const S in u.attributes){const x=u.attributes[S];if(d&&x.uri===vr.RDF)switch(x.local){case"about":if(_)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${x.value} and ${_} where found.`);_=x.value;continue;case"ID":if(_)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${x.value} and ${_} where found.`);this.validateNcname(x.value),_="#"+x.value,y=!0;continue;case"nodeID":if(_)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${x.value} and ${_} where found.`);this.validateNcname(x.value),_=x.value,m=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"type":g=x.value;continue;case"aboutEach":throw this.newParseError("rdf:aboutEach is not supported.");case"aboutEachPrefix":throw this.newParseError("rdf:aboutEachPrefix is not supported.");case"li":throw this.newParseError("rdf:li on node elements are not supported.")}else if(x.uri===vr.XML){if(x.local==="lang"){f.language=x.value===""?null:x.value.toLowerCase();continue}else if(x.local==="base"){f.baseIRI=(0,e.resolve)(x.value,f.baseIRI);continue}}x.prefix!=="xml"&&x.prefix!=="xmlns"&&(x.prefix!==""||x.local!=="xmlns")&&x.uri&&(b.push(this.uriToNamedNode(x.uri+x.local)),v.push(x.value))}if(_!==null&&(f.subject=m?this.dataFactory.blankNode(_):this.valueToUri(_,f),y&&this.claimNodeId(f.subject)),f.subject||(f.subject=this.dataFactory.blankNode()),p){const S=this.uriToNamedNode(u.uri+u.local);this.emitTriple(f.subject,this.dataFactory.namedNode(vr.RDF+"type"),S,d?d.reifiedStatementId:null)}if(d){if(d.predicate)if(d.childrenCollectionSubject){const S=this.dataFactory.blankNode();this.emitTriple(d.childrenCollectionSubject,d.childrenCollectionPredicate,S,d.reifiedStatementId),this.emitTriple(S,this.dataFactory.namedNode(vr.RDF+"first"),f.subject,f.reifiedStatementId),d.childrenCollectionSubject=S,d.childrenCollectionPredicate=this.dataFactory.namedNode(vr.RDF+"rest")}else{this.emitTriple(d.subject,d.predicate,f.subject,d.reifiedStatementId);for(let S=0;S<d.predicateSubPredicates.length;S++)this.emitTriple(f.subject,d.predicateSubPredicates[S],d.predicateSubObjects[S],null);d.predicateSubPredicates=[],d.predicateSubObjects=[],d.predicateEmitted=!0}for(let S=0;S<b.length;S++){const x=this.dataFactory.literal(v[S],f.datatype||f.language);this.emitTriple(f.subject,b[S],x,d.reifiedStatementId)}g&&this.emitTriple(f.subject,this.dataFactory.namedNode(vr.RDF+"type"),this.uriToNamedNode(g),null)}}onTagProperty(u,f,d){if(f.childrenParseType=s.RESOURCE,f.subject=d.subject,u.uri===vr.RDF&&u.local==="li"?(d.listItemCounter||(d.listItemCounter=1),f.predicate=this.uriToNamedNode(u.uri+"_"+d.listItemCounter++)):f.predicate=this.uriToNamedNode(u.uri+u.local),u.uri===vr.RDF&&vr.FORBIDDEN_PROPERTY_ELEMENTS.indexOf(u.local)>=0)throw this.newParseError(`Illegal property element name: ${u.local}`);f.predicateSubPredicates=[],f.predicateSubObjects=[];let c=!1,p=!1,b=null,v=!0;const _=[],y=[];for(const m in u.attributes){const g=u.attributes[m];if(g.uri===vr.RDF)switch(g.local){case"resource":if(b)throw this.newParseError(`Found both rdf:resource (${g.value}) and rdf:nodeID (${b}).`);if(c)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:resource (${g.value})`);f.hadChildren=!0,b=g.value,v=!1;continue;case"datatype":if(p)throw this.newParseError(`Found both non-rdf:* property attributes and rdf:datatype (${g.value}).`);if(c)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${g.value})`);f.datatype=this.valueToUri(g.value,f);continue;case"nodeID":if(p)throw this.newParseError(`Found both non-rdf:* property attributes and rdf:nodeID (${g.value}).`);if(f.hadChildren)throw this.newParseError(`Found both rdf:resource and rdf:nodeID (${g.value}).`);if(c)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID (${g.value})`);this.validateNcname(g.value),f.hadChildren=!0,b=g.value,v=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"parseType":if(p)throw this.newParseError("rdf:parseType is not allowed when non-rdf:* property attributes are present");if(f.datatype)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${f.datatype.value})`);if(b)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID or rdf:resource (${b})`);if(g.value==="Resource"){c=!0,f.childrenParseType=s.PROPERTY;const S=this.dataFactory.blankNode();this.emitTriple(f.subject,f.predicate,S,f.reifiedStatementId),f.subject=S,f.predicate=null}else g.value==="Collection"?(c=!0,f.hadChildren=!0,f.childrenCollectionSubject=f.subject,f.childrenCollectionPredicate=f.predicate,v=!1):g.value==="Literal"&&(c=!0,f.childrenTagsToString=!0,f.childrenStringTags=[]);continue;case"ID":this.validateNcname(g.value),f.reifiedStatementId=this.valueToUri("#"+g.value,f),this.claimNodeId(f.reifiedStatementId);continue}else if(g.uri===vr.XML&&g.local==="lang"){f.language=g.value===""?null:g.value.toLowerCase();continue}if(g.prefix!=="xml"&&g.prefix!=="xmlns"&&(g.prefix!==""||g.local!=="xmlns")&&g.uri){if(c||f.datatype)throw this.newParseError(`Found illegal rdf:* properties on property element with attribute: ${g.value}`);f.hadChildren=!0,p=!0,_.push(this.uriToNamedNode(g.uri+g.local)),y.push(this.dataFactory.literal(g.value,f.datatype||f.language))}}if(b!==null){const m=f.subject;f.subject=v?this.dataFactory.blankNode(b):this.valueToUri(b,f),this.emitTriple(m,f.predicate,f.subject,f.reifiedStatementId);for(let g=0;g<_.length;g++)this.emitTriple(f.subject,_[g],y[g],null);f.predicateEmitted=!0}else v&&(f.predicateSubPredicates=_,f.predicateSubObjects=y,f.predicateEmitted=!1)}emitTriple(u,f,d,c){this.push(this.dataFactory.quad(u,f,d,this.defaultGraph)),c&&(this.push(this.dataFactory.quad(c,this.dataFactory.namedNode(vr.RDF+"type"),this.dataFactory.namedNode(vr.RDF+"Statement"),this.defaultGraph)),this.push(this.dataFactory.quad(c,this.dataFactory.namedNode(vr.RDF+"subject"),u,this.defaultGraph)),this.push(this.dataFactory.quad(c,this.dataFactory.namedNode(vr.RDF+"predicate"),f,this.defaultGraph)),this.push(this.dataFactory.quad(c,this.dataFactory.namedNode(vr.RDF+"object"),d,this.defaultGraph)))}claimNodeId(u){if(!this.allowDuplicateRdfIds){if(this.nodeIds[u.value])throw this.newParseError(`Found multiple occurrences of rdf:ID='${u.value}'.`);this.nodeIds[u.value]=!0}}onText(u){const f=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;f&&(f.childrenStringTags?f.childrenStringTags.push(u):f.predicate&&(f.text=u))}onCloseTag(){const u=this.activeTagStack.pop();if(u.childrenStringEmitClosingTag&&u.childrenStringTags.push(u.childrenStringEmitClosingTag),u.childrenTagsToString&&(u.datatype=this.dataFactory.namedNode(vr.RDF+"XMLLiteral"),u.text=u.childrenStringTags.join(""),u.hadChildren=!1),u.childrenCollectionSubject)this.emitTriple(u.childrenCollectionSubject,u.childrenCollectionPredicate,this.dataFactory.namedNode(vr.RDF+"nil"),u.reifiedStatementId);else if(u.predicate){if(!u.hadChildren&&u.childrenParseType!==s.PROPERTY)this.emitTriple(u.subject,u.predicate,this.dataFactory.literal(u.text||"",u.datatype||u.language),u.reifiedStatementId);else if(!u.predicateEmitted){const f=this.dataFactory.blankNode();this.emitTriple(u.subject,u.predicate,f,u.reifiedStatementId);for(let d=0;d<u.predicateSubPredicates.length;d++)this.emitTriple(f,u.predicateSubPredicates[d],u.predicateSubObjects[d],null)}}}onDoctype(u){u.replace(/<!ENTITY\s+([^\s]+)\s+["']([^"']+)["']\s*>/g,(f,d,c)=>(this.saxParser.ENTITIES[d]=c,""))}};hs.RdfXmlParser=o,o.MIME_TYPE="application/rdf+xml",o.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",o.XML="http://www.w3.org/XML/1998/namespace",o.FORBIDDEN_NODE_ELEMENTS=["RDF","ID","about","bagID","parseType","resource","nodeID","li","aboutEach","aboutEachPrefix"],o.FORBIDDEN_PROPERTY_ELEMENTS=["Description","RDF","ID","about","bagID","parseType","resource","nodeID","aboutEach","aboutEachPrefix"],o.NCNAME_MATCHER=/^([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_])([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_\-.0-9#xB7\u{0300}-\u{036F}\u{203F}-\u{2040}])*$/u;var s;return function(l){l[l.RESOURCE=0]="RESOURCE",l[l.PROPERTY=1]="PROPERTY"}(s||(hs.ParseType=s={})),hs}var XL;function jre(){return XL||(XL=1,function(e){var t=Jc.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=Jc.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(Fre(),e)}(Jc)),Jc}var JL;function qre(){if(JL)return Xc;JL=1,Object.defineProperty(Xc,"__esModule",{value:!0}),Xc.ActorRdfParseRdfXml=void 0;const e=bl(),t=Qi(),r=jre();let n=class extends e.ActorRdfParseFixedMediaTypes{constructor(a){super(a)}async runHandle(a){var l;const o=a.context.getSafe(t.KeysInitQuery.dataFactory);a.data.on("error",u=>s.emit("error",u));const s=a.data.pipe(new r.RdfXmlParser({dataFactory:o,baseIRI:(l=a.metadata)==null?void 0:l.baseIRI}));return{data:s,metadata:{triples:!0}}}};return Xc.ActorRdfParseRdfXml=n,Xc}var eM;function Bre(){return eM||(eM=1,function(e){var t=Yc.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=Yc.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(qre(),e)}(Yc)),Yc}var cd={},dd={},hd={},TS={},tM;function $re(){return tM||(tM=1,Object.defineProperty(TS,"__esModule",{value:!0})),TS}var xS={},rM;function Ure(){return rM||(rM=1,Object.defineProperty(xS,"__esModule",{value:!0})),xS}var RS={},nM;function Vre(){return nM||(nM=1,Object.defineProperty(RS,"__esModule",{value:!0})),RS}var pd={},ms={},lo={},AS={},ys={},Gm={},iM;function Hre(){return iM||(iM=1,Object.defineProperty(Gm,"__esModule",{value:!0}),Gm.default=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(function(e){return e.charCodeAt(0)}))),Gm}var Wm={},aM;function zre(){return aM||(aM=1,Object.defineProperty(Wm,"__esModule",{value:!0}),Wm.default=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(function(e){return e.charCodeAt(0)}))),Wm}var IS={},oM;function sM(){return oM||(oM=1,function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.replaceCodePoint=e.fromCodePoint=void 0;var r=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);e.fromCodePoint=(t=String.fromCodePoint)!==null&&t!==void 0?t:function(a){var o="";return a>65535&&(a-=65536,o+=String.fromCharCode(a>>>10&1023|55296),a=56320|a&1023),o+=String.fromCharCode(a),o};function n(a){var o;return a>=55296&&a<=57343||a>1114111?65533:(o=r.get(a))!==null&&o!==void 0?o:a}e.replaceCodePoint=n;function i(a){return(0,e.fromCodePoint)(n(a))}e.default=i}(IS)),IS}var uM;function Fo(){return uM||(uM=1,function(e){var t=ys.__createBinding||(Object.create?function(j,P,B,Y){Y===void 0&&(Y=B);var ie=Object.getOwnPropertyDescriptor(P,B);(!ie||("get"in ie?!P.__esModule:ie.writable||ie.configurable))&&(ie={enumerable:!0,get:function(){return P[B]}}),Object.defineProperty(j,Y,ie)}:function(j,P,B,Y){Y===void 0&&(Y=B),j[Y]=P[B]}),r=ys.__setModuleDefault||(Object.create?function(j,P){Object.defineProperty(j,"default",{enumerable:!0,value:P})}:function(j,P){j.default=P}),n=ys.__importStar||function(j){if(j&&j.__esModule)return j;var P={};if(j!=null)for(var B in j)B!=="default"&&Object.prototype.hasOwnProperty.call(j,B)&&t(P,j,B);return r(P,j),P},i=ys.__importDefault||function(j){return j&&j.__esModule?j:{default:j}};Object.defineProperty(e,"__esModule",{value:!0}),e.decodeXML=e.decodeHTMLStrict=e.decodeHTMLAttribute=e.decodeHTML=e.determineBranch=e.EntityDecoder=e.DecodingMode=e.BinTrieFlags=e.fromCodePoint=e.replaceCodePoint=e.decodeCodePoint=e.xmlDecodeTree=e.htmlDecodeTree=void 0;var a=i(Hre());e.htmlDecodeTree=a.default;var o=i(zre());e.xmlDecodeTree=o.default;var s=n(sM());e.decodeCodePoint=s.default;var l=sM();Object.defineProperty(e,"replaceCodePoint",{enumerable:!0,get:function(){return l.replaceCodePoint}}),Object.defineProperty(e,"fromCodePoint",{enumerable:!0,get:function(){return l.fromCodePoint}});var u;(function(j){j[j.NUM=35]="NUM",j[j.SEMI=59]="SEMI",j[j.EQUALS=61]="EQUALS",j[j.ZERO=48]="ZERO",j[j.NINE=57]="NINE",j[j.LOWER_A=97]="LOWER_A",j[j.LOWER_F=102]="LOWER_F",j[j.LOWER_X=120]="LOWER_X",j[j.LOWER_Z=122]="LOWER_Z",j[j.UPPER_A=65]="UPPER_A",j[j.UPPER_F=70]="UPPER_F",j[j.UPPER_Z=90]="UPPER_Z"})(u||(u={}));var f=32,d;(function(j){j[j.VALUE_LENGTH=49152]="VALUE_LENGTH",j[j.BRANCH_LENGTH=16256]="BRANCH_LENGTH",j[j.JUMP_TABLE=127]="JUMP_TABLE"})(d=e.BinTrieFlags||(e.BinTrieFlags={}));function c(j){return j>=u.ZERO&&j<=u.NINE}function p(j){return j>=u.UPPER_A&&j<=u.UPPER_F||j>=u.LOWER_A&&j<=u.LOWER_F}function b(j){return j>=u.UPPER_A&&j<=u.UPPER_Z||j>=u.LOWER_A&&j<=u.LOWER_Z||c(j)}function v(j){return j===u.EQUALS||b(j)}var _;(function(j){j[j.EntityStart=0]="EntityStart",j[j.NumericStart=1]="NumericStart",j[j.NumericDecimal=2]="NumericDecimal",j[j.NumericHex=3]="NumericHex",j[j.NamedEntity=4]="NamedEntity"})(_||(_={}));var y;(function(j){j[j.Legacy=0]="Legacy",j[j.Strict=1]="Strict",j[j.Attribute=2]="Attribute"})(y=e.DecodingMode||(e.DecodingMode={}));var m=function(){function j(P,B,Y){this.decodeTree=P,this.emitCodePoint=B,this.errors=Y,this.state=_.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=y.Strict}return j.prototype.startEntity=function(P){this.decodeMode=P,this.state=_.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1},j.prototype.write=function(P,B){switch(this.state){case _.EntityStart:return P.charCodeAt(B)===u.NUM?(this.state=_.NumericStart,this.consumed+=1,this.stateNumericStart(P,B+1)):(this.state=_.NamedEntity,this.stateNamedEntity(P,B));case _.NumericStart:return this.stateNumericStart(P,B);case _.NumericDecimal:return this.stateNumericDecimal(P,B);case _.NumericHex:return this.stateNumericHex(P,B);case _.NamedEntity:return this.stateNamedEntity(P,B)}},j.prototype.stateNumericStart=function(P,B){return B>=P.length?-1:(P.charCodeAt(B)|f)===u.LOWER_X?(this.state=_.NumericHex,this.consumed+=1,this.stateNumericHex(P,B+1)):(this.state=_.NumericDecimal,this.stateNumericDecimal(P,B))},j.prototype.addToNumericResult=function(P,B,Y,ie){if(B!==Y){var X=Y-B;this.result=this.result*Math.pow(ie,X)+parseInt(P.substr(B,X),ie),this.consumed+=X}},j.prototype.stateNumericHex=function(P,B){for(var Y=B;B<P.length;){var ie=P.charCodeAt(B);if(c(ie)||p(ie))B+=1;else return this.addToNumericResult(P,Y,B,16),this.emitNumericEntity(ie,3)}return this.addToNumericResult(P,Y,B,16),-1},j.prototype.stateNumericDecimal=function(P,B){for(var Y=B;B<P.length;){var ie=P.charCodeAt(B);if(c(ie))B+=1;else return this.addToNumericResult(P,Y,B,10),this.emitNumericEntity(ie,2)}return this.addToNumericResult(P,Y,B,10),-1},j.prototype.emitNumericEntity=function(P,B){var Y;if(this.consumed<=B)return(Y=this.errors)===null||Y===void 0||Y.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(P===u.SEMI)this.consumed+=1;else if(this.decodeMode===y.Strict)return 0;return this.emitCodePoint((0,s.replaceCodePoint)(this.result),this.consumed),this.errors&&(P!==u.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed},j.prototype.stateNamedEntity=function(P,B){for(var Y=this.decodeTree,ie=Y[this.treeIndex],X=(ie&d.VALUE_LENGTH)>>14;B<P.length;B++,this.excess++){var le=P.charCodeAt(B);if(this.treeIndex=S(Y,ie,this.treeIndex+Math.max(1,X),le),this.treeIndex<0)return this.result===0||this.decodeMode===y.Attribute&&(X===0||v(le))?0:this.emitNotTerminatedNamedEntity();if(ie=Y[this.treeIndex],X=(ie&d.VALUE_LENGTH)>>14,X!==0){if(le===u.SEMI)return this.emitNamedEntityData(this.treeIndex,X,this.consumed+this.excess);this.decodeMode!==y.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1},j.prototype.emitNotTerminatedNamedEntity=function(){var P,B=this,Y=B.result,ie=B.decodeTree,X=(ie[Y]&d.VALUE_LENGTH)>>14;return this.emitNamedEntityData(Y,X,this.consumed),(P=this.errors)===null||P===void 0||P.missingSemicolonAfterCharacterReference(),this.consumed},j.prototype.emitNamedEntityData=function(P,B,Y){var ie=this.decodeTree;return this.emitCodePoint(B===1?ie[P]&~d.VALUE_LENGTH:ie[P+1],Y),B===3&&this.emitCodePoint(ie[P+2],Y),Y},j.prototype.end=function(){var P;switch(this.state){case _.NamedEntity:return this.result!==0&&(this.decodeMode!==y.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case _.NumericDecimal:return this.emitNumericEntity(0,2);case _.NumericHex:return this.emitNumericEntity(0,3);case _.NumericStart:return(P=this.errors)===null||P===void 0||P.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case _.EntityStart:return 0}},j}();e.EntityDecoder=m;function g(j){var P="",B=new m(j,function(Y){return P+=(0,s.fromCodePoint)(Y)});return function(ie,X){for(var le=0,ae=0;(ae=ie.indexOf("&",ae))>=0;){P+=ie.slice(le,ae),B.startEntity(X);var ne=B.write(ie,ae+1);if(ne<0){le=ae+B.end();break}le=ae+ne,ae=ne===0?le+1:le}var H=P+ie.slice(le);return P="",H}}function S(j,P,B,Y){var ie=(P&d.BRANCH_LENGTH)>>7,X=P&d.JUMP_TABLE;if(ie===0)return X!==0&&Y===X?B:-1;if(X){var le=Y-X;return le<0||le>=ie?-1:j[B+le]-1}for(var ae=B,ne=ae+ie-1;ae<=ne;){var H=ae+ne>>>1,oe=j[H];if(oe<Y)ae=H+1;else if(oe>Y)ne=H-1;else return j[H+ie]}return-1}e.determineBranch=S;var x=g(a.default),I=g(o.default);function N(j,P){return P===void 0&&(P=y.Legacy),x(j,P)}e.decodeHTML=N;function q(j){return x(j,y.Attribute)}e.decodeHTMLAttribute=q;function D(j){return x(j,y.Strict)}e.decodeHTMLStrict=D;function M(j){return I(j,y.Strict)}e.decodeXML=M}(ys)),ys}var lM;function t5(){return lM||(lM=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.QuoteType=void 0;var t=Fo(),r;(function(c){c[c.Tab=9]="Tab",c[c.NewLine=10]="NewLine",c[c.FormFeed=12]="FormFeed",c[c.CarriageReturn=13]="CarriageReturn",c[c.Space=32]="Space",c[c.ExclamationMark=33]="ExclamationMark",c[c.Number=35]="Number",c[c.Amp=38]="Amp",c[c.SingleQuote=39]="SingleQuote",c[c.DoubleQuote=34]="DoubleQuote",c[c.Dash=45]="Dash",c[c.Slash=47]="Slash",c[c.Zero=48]="Zero",c[c.Nine=57]="Nine",c[c.Semi=59]="Semi",c[c.Lt=60]="Lt",c[c.Eq=61]="Eq",c[c.Gt=62]="Gt",c[c.Questionmark=63]="Questionmark",c[c.UpperA=65]="UpperA",c[c.LowerA=97]="LowerA",c[c.UpperF=70]="UpperF",c[c.LowerF=102]="LowerF",c[c.UpperZ=90]="UpperZ",c[c.LowerZ=122]="LowerZ",c[c.LowerX=120]="LowerX",c[c.OpeningSquareBracket=91]="OpeningSquareBracket"})(r||(r={}));var n;(function(c){c[c.Text=1]="Text",c[c.BeforeTagName=2]="BeforeTagName",c[c.InTagName=3]="InTagName",c[c.InSelfClosingTag=4]="InSelfClosingTag",c[c.BeforeClosingTagName=5]="BeforeClosingTagName",c[c.InClosingTagName=6]="InClosingTagName",c[c.AfterClosingTagName=7]="AfterClosingTagName",c[c.BeforeAttributeName=8]="BeforeAttributeName",c[c.InAttributeName=9]="InAttributeName",c[c.AfterAttributeName=10]="AfterAttributeName",c[c.BeforeAttributeValue=11]="BeforeAttributeValue",c[c.InAttributeValueDq=12]="InAttributeValueDq",c[c.InAttributeValueSq=13]="InAttributeValueSq",c[c.InAttributeValueNq=14]="InAttributeValueNq",c[c.BeforeDeclaration=15]="BeforeDeclaration",c[c.InDeclaration=16]="InDeclaration",c[c.InProcessingInstruction=17]="InProcessingInstruction",c[c.BeforeComment=18]="BeforeComment",c[c.CDATASequence=19]="CDATASequence",c[c.InSpecialComment=20]="InSpecialComment",c[c.InCommentLike=21]="InCommentLike",c[c.BeforeSpecialS=22]="BeforeSpecialS",c[c.SpecialStartSequence=23]="SpecialStartSequence",c[c.InSpecialTag=24]="InSpecialTag",c[c.BeforeEntity=25]="BeforeEntity",c[c.BeforeNumericEntity=26]="BeforeNumericEntity",c[c.InNamedEntity=27]="InNamedEntity",c[c.InNumericEntity=28]="InNumericEntity",c[c.InHexEntity=29]="InHexEntity"})(n||(n={}));function i(c){return c===r.Space||c===r.NewLine||c===r.Tab||c===r.FormFeed||c===r.CarriageReturn}function a(c){return c===r.Slash||c===r.Gt||i(c)}function o(c){return c>=r.Zero&&c<=r.Nine}function s(c){return c>=r.LowerA&&c<=r.LowerZ||c>=r.UpperA&&c<=r.UpperZ}function l(c){return c>=r.UpperA&&c<=r.UpperF||c>=r.LowerA&&c<=r.LowerF}var u;(function(c){c[c.NoValue=0]="NoValue",c[c.Unquoted=1]="Unquoted",c[c.Single=2]="Single",c[c.Double=3]="Double"})(u=e.QuoteType||(e.QuoteType={}));var f={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101])},d=function(){function c(p,b){var v=p.xmlMode,_=v===void 0?!1:v,y=p.decodeEntities,m=y===void 0?!0:y;this.cbs=b,this.state=n.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=n.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.trieIndex=0,this.trieCurrent=0,this.entityResult=0,this.entityExcess=0,this.xmlMode=_,this.decodeEntities=m,this.entityTrie=_?t.xmlDecodeTree:t.htmlDecodeTree}return c.prototype.reset=function(){this.state=n.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=n.Text,this.currentSequence=void 0,this.running=!0,this.offset=0},c.prototype.write=function(p){this.offset+=this.buffer.length,this.buffer=p,this.parse()},c.prototype.end=function(){this.running&&this.finish()},c.prototype.pause=function(){this.running=!1},c.prototype.resume=function(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()},c.prototype.getIndex=function(){return this.index},c.prototype.getSectionStart=function(){return this.sectionStart},c.prototype.stateText=function(p){p===r.Lt||!this.decodeEntities&&this.fastForwardTo(r.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=n.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&p===r.Amp&&(this.state=n.BeforeEntity)},c.prototype.stateSpecialStartSequence=function(p){var b=this.sequenceIndex===this.currentSequence.length,v=b?a(p):(p|32)===this.currentSequence[this.sequenceIndex];if(!v)this.isSpecial=!1;else if(!b){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=n.InTagName,this.stateInTagName(p)},c.prototype.stateInSpecialTag=function(p){if(this.sequenceIndex===this.currentSequence.length){if(p===r.Gt||i(p)){var b=this.index-this.currentSequence.length;if(this.sectionStart<b){var v=this.index;this.index=b,this.cbs.ontext(this.sectionStart,b),this.index=v}this.isSpecial=!1,this.sectionStart=b+2,this.stateInClosingTagName(p);return}this.sequenceIndex=0}(p|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===f.TitleEnd?this.decodeEntities&&p===r.Amp&&(this.state=n.BeforeEntity):this.fastForwardTo(r.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(p===r.Lt)},c.prototype.stateCDATASequence=function(p){p===f.Cdata[this.sequenceIndex]?++this.sequenceIndex===f.Cdata.length&&(this.state=n.InCommentLike,this.currentSequence=f.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=n.InDeclaration,this.stateInDeclaration(p))},c.prototype.fastForwardTo=function(p){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===p)return!0;return this.index=this.buffer.length+this.offset-1,!1},c.prototype.stateInCommentLike=function(p){p===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===f.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=n.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):p!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)},c.prototype.isTagStartChar=function(p){return this.xmlMode?!a(p):s(p)},c.prototype.startSpecial=function(p,b){this.isSpecial=!0,this.currentSequence=p,this.sequenceIndex=b,this.state=n.SpecialStartSequence},c.prototype.stateBeforeTagName=function(p){if(p===r.ExclamationMark)this.state=n.BeforeDeclaration,this.sectionStart=this.index+1;else if(p===r.Questionmark)this.state=n.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(p)){var b=p|32;this.sectionStart=this.index,!this.xmlMode&&b===f.TitleEnd[2]?this.startSpecial(f.TitleEnd,3):this.state=!this.xmlMode&&b===f.ScriptEnd[2]?n.BeforeSpecialS:n.InTagName}else p===r.Slash?this.state=n.BeforeClosingTagName:(this.state=n.Text,this.stateText(p))},c.prototype.stateInTagName=function(p){a(p)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(p))},c.prototype.stateBeforeClosingTagName=function(p){i(p)||(p===r.Gt?this.state=n.Text:(this.state=this.isTagStartChar(p)?n.InClosingTagName:n.InSpecialComment,this.sectionStart=this.index))},c.prototype.stateInClosingTagName=function(p){(p===r.Gt||i(p))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.AfterClosingTagName,this.stateAfterClosingTagName(p))},c.prototype.stateAfterClosingTagName=function(p){(p===r.Gt||this.fastForwardTo(r.Gt))&&(this.state=n.Text,this.baseState=n.Text,this.sectionStart=this.index+1)},c.prototype.stateBeforeAttributeName=function(p){p===r.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=n.InSpecialTag,this.sequenceIndex=0):this.state=n.Text,this.baseState=this.state,this.sectionStart=this.index+1):p===r.Slash?this.state=n.InSelfClosingTag:i(p)||(this.state=n.InAttributeName,this.sectionStart=this.index)},c.prototype.stateInSelfClosingTag=function(p){p===r.Gt?(this.cbs.onselfclosingtag(this.index),this.state=n.Text,this.baseState=n.Text,this.sectionStart=this.index+1,this.isSpecial=!1):i(p)||(this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(p))},c.prototype.stateInAttributeName=function(p){(p===r.Eq||a(p))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.AfterAttributeName,this.stateAfterAttributeName(p))},c.prototype.stateAfterAttributeName=function(p){p===r.Eq?this.state=n.BeforeAttributeValue:p===r.Slash||p===r.Gt?(this.cbs.onattribend(u.NoValue,this.index),this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(p)):i(p)||(this.cbs.onattribend(u.NoValue,this.index),this.state=n.InAttributeName,this.sectionStart=this.index)},c.prototype.stateBeforeAttributeValue=function(p){p===r.DoubleQuote?(this.state=n.InAttributeValueDq,this.sectionStart=this.index+1):p===r.SingleQuote?(this.state=n.InAttributeValueSq,this.sectionStart=this.index+1):i(p)||(this.sectionStart=this.index,this.state=n.InAttributeValueNq,this.stateInAttributeValueNoQuotes(p))},c.prototype.handleInAttributeValue=function(p,b){p===b||!this.decodeEntities&&this.fastForwardTo(b)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(b===r.DoubleQuote?u.Double:u.Single,this.index),this.state=n.BeforeAttributeName):this.decodeEntities&&p===r.Amp&&(this.baseState=this.state,this.state=n.BeforeEntity)},c.prototype.stateInAttributeValueDoubleQuotes=function(p){this.handleInAttributeValue(p,r.DoubleQuote)},c.prototype.stateInAttributeValueSingleQuotes=function(p){this.handleInAttributeValue(p,r.SingleQuote)},c.prototype.stateInAttributeValueNoQuotes=function(p){i(p)||p===r.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(u.Unquoted,this.index),this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(p)):this.decodeEntities&&p===r.Amp&&(this.baseState=this.state,this.state=n.BeforeEntity)},c.prototype.stateBeforeDeclaration=function(p){p===r.OpeningSquareBracket?(this.state=n.CDATASequence,this.sequenceIndex=0):this.state=p===r.Dash?n.BeforeComment:n.InDeclaration},c.prototype.stateInDeclaration=function(p){(p===r.Gt||this.fastForwardTo(r.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=n.Text,this.sectionStart=this.index+1)},c.prototype.stateInProcessingInstruction=function(p){(p===r.Gt||this.fastForwardTo(r.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=n.Text,this.sectionStart=this.index+1)},c.prototype.stateBeforeComment=function(p){p===r.Dash?(this.state=n.InCommentLike,this.currentSequence=f.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=n.InDeclaration},c.prototype.stateInSpecialComment=function(p){(p===r.Gt||this.fastForwardTo(r.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=n.Text,this.sectionStart=this.index+1)},c.prototype.stateBeforeSpecialS=function(p){var b=p|32;b===f.ScriptEnd[3]?this.startSpecial(f.ScriptEnd,4):b===f.StyleEnd[3]?this.startSpecial(f.StyleEnd,4):(this.state=n.InTagName,this.stateInTagName(p))},c.prototype.stateBeforeEntity=function(p){this.entityExcess=1,this.entityResult=0,p===r.Number?this.state=n.BeforeNumericEntity:p===r.Amp||(this.trieIndex=0,this.trieCurrent=this.entityTrie[0],this.state=n.InNamedEntity,this.stateInNamedEntity(p))},c.prototype.stateInNamedEntity=function(p){if(this.entityExcess+=1,this.trieIndex=(0,t.determineBranch)(this.entityTrie,this.trieCurrent,this.trieIndex+1,p),this.trieIndex<0){this.emitNamedEntity(),this.index--;return}this.trieCurrent=this.entityTrie[this.trieIndex];var b=this.trieCurrent&t.BinTrieFlags.VALUE_LENGTH;if(b){var v=(b>>14)-1;if(!this.allowLegacyEntity()&&p!==r.Semi)this.trieIndex+=v;else{var _=this.index-this.entityExcess+1;_>this.sectionStart&&this.emitPartial(this.sectionStart,_),this.entityResult=this.trieIndex,this.trieIndex+=v,this.entityExcess=0,this.sectionStart=this.index+1,v===0&&this.emitNamedEntity()}}},c.prototype.emitNamedEntity=function(){if(this.state=this.baseState,this.entityResult!==0){var p=(this.entityTrie[this.entityResult]&t.BinTrieFlags.VALUE_LENGTH)>>14;switch(p){case 1:{this.emitCodePoint(this.entityTrie[this.entityResult]&~t.BinTrieFlags.VALUE_LENGTH);break}case 2:{this.emitCodePoint(this.entityTrie[this.entityResult+1]);break}case 3:this.emitCodePoint(this.entityTrie[this.entityResult+1]),this.emitCodePoint(this.entityTrie[this.entityResult+2])}}},c.prototype.stateBeforeNumericEntity=function(p){(p|32)===r.LowerX?(this.entityExcess++,this.state=n.InHexEntity):(this.state=n.InNumericEntity,this.stateInNumericEntity(p))},c.prototype.emitNumericEntity=function(p){var b=this.index-this.entityExcess-1,v=b+2+ +(this.state===n.InHexEntity);v!==this.index&&(b>this.sectionStart&&this.emitPartial(this.sectionStart,b),this.sectionStart=this.index+Number(p),this.emitCodePoint((0,t.replaceCodePoint)(this.entityResult))),this.state=this.baseState},c.prototype.stateInNumericEntity=function(p){p===r.Semi?this.emitNumericEntity(!0):o(p)?(this.entityResult=this.entityResult*10+(p-r.Zero),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},c.prototype.stateInHexEntity=function(p){p===r.Semi?this.emitNumericEntity(!0):o(p)?(this.entityResult=this.entityResult*16+(p-r.Zero),this.entityExcess++):l(p)?(this.entityResult=this.entityResult*16+((p|32)-r.LowerA+10),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},c.prototype.allowLegacyEntity=function(){return!this.xmlMode&&(this.baseState===n.Text||this.baseState===n.InSpecialTag)},c.prototype.cleanup=function(){this.running&&this.sectionStart!==this.index&&(this.state===n.Text||this.state===n.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===n.InAttributeValueDq||this.state===n.InAttributeValueSq||this.state===n.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))},c.prototype.shouldContinue=function(){return this.index<this.buffer.length+this.offset&&this.running},c.prototype.parse=function(){for(;this.shouldContinue();){var p=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case n.Text:{this.stateText(p);break}case n.SpecialStartSequence:{this.stateSpecialStartSequence(p);break}case n.InSpecialTag:{this.stateInSpecialTag(p);break}case n.CDATASequence:{this.stateCDATASequence(p);break}case n.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(p);break}case n.InAttributeName:{this.stateInAttributeName(p);break}case n.InCommentLike:{this.stateInCommentLike(p);break}case n.InSpecialComment:{this.stateInSpecialComment(p);break}case n.BeforeAttributeName:{this.stateBeforeAttributeName(p);break}case n.InTagName:{this.stateInTagName(p);break}case n.InClosingTagName:{this.stateInClosingTagName(p);break}case n.BeforeTagName:{this.stateBeforeTagName(p);break}case n.AfterAttributeName:{this.stateAfterAttributeName(p);break}case n.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(p);break}case n.BeforeAttributeValue:{this.stateBeforeAttributeValue(p);break}case n.BeforeClosingTagName:{this.stateBeforeClosingTagName(p);break}case n.AfterClosingTagName:{this.stateAfterClosingTagName(p);break}case n.BeforeSpecialS:{this.stateBeforeSpecialS(p);break}case n.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(p);break}case n.InSelfClosingTag:{this.stateInSelfClosingTag(p);break}case n.InDeclaration:{this.stateInDeclaration(p);break}case n.BeforeDeclaration:{this.stateBeforeDeclaration(p);break}case n.BeforeComment:{this.stateBeforeComment(p);break}case n.InProcessingInstruction:{this.stateInProcessingInstruction(p);break}case n.InNamedEntity:{this.stateInNamedEntity(p);break}case n.BeforeEntity:{this.stateBeforeEntity(p);break}case n.InHexEntity:{this.stateInHexEntity(p);break}case n.InNumericEntity:{this.stateInNumericEntity(p);break}default:this.stateBeforeNumericEntity(p)}this.index++}this.cleanup()},c.prototype.finish=function(){this.state===n.InNamedEntity&&this.emitNamedEntity(),this.sectionStart<this.index&&this.handleTrailingData(),this.cbs.onend()},c.prototype.handleTrailingData=function(){var p=this.buffer.length+this.offset;this.state===n.InCommentLike?this.currentSequence===f.CdataEnd?this.cbs.oncdata(this.sectionStart,p,0):this.cbs.oncomment(this.sectionStart,p,0):this.state===n.InNumericEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===n.InHexEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===n.InTagName||this.state===n.BeforeAttributeName||this.state===n.BeforeAttributeValue||this.state===n.AfterAttributeName||this.state===n.InAttributeName||this.state===n.InAttributeValueSq||this.state===n.InAttributeValueDq||this.state===n.InAttributeValueNq||this.state===n.InClosingTagName||this.cbs.ontext(this.sectionStart,p)},c.prototype.emitPartial=function(p,b){this.baseState!==n.Text&&this.baseState!==n.InSpecialTag?this.cbs.onattribdata(p,b):this.cbs.ontext(p,b)},c.prototype.emitCodePoint=function(p){this.baseState!==n.Text&&this.baseState!==n.InSpecialTag?this.cbs.onattribentity(p):this.cbs.ontextentity(p)},c}();e.default=d}(AS)),AS}var fM;function cM(){if(fM)return lo;fM=1;var e=lo.__createBinding||(Object.create?function(_,y,m,g){g===void 0&&(g=m);var S=Object.getOwnPropertyDescriptor(y,m);(!S||("get"in S?!y.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return y[m]}}),Object.defineProperty(_,g,S)}:function(_,y,m,g){g===void 0&&(g=m),_[g]=y[m]}),t=lo.__setModuleDefault||(Object.create?function(_,y){Object.defineProperty(_,"default",{enumerable:!0,value:y})}:function(_,y){_.default=y}),r=lo.__importStar||function(_){if(_&&_.__esModule)return _;var y={};if(_!=null)for(var m in _)m!=="default"&&Object.prototype.hasOwnProperty.call(_,m)&&e(y,_,m);return t(y,_),y};Object.defineProperty(lo,"__esModule",{value:!0}),lo.Parser=void 0;var n=r(t5()),i=Fo(),a=new Set(["input","option","optgroup","select","button","datalist","textarea"]),o=new Set(["p"]),s=new Set(["thead","tbody"]),l=new Set(["dd","dt"]),u=new Set(["rt","rp"]),f=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",o],["h1",o],["h2",o],["h3",o],["h4",o],["h5",o],["h6",o],["select",a],["input",a],["output",a],["button",a],["datalist",a],["textarea",a],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",l],["dt",l],["address",o],["article",o],["aside",o],["blockquote",o],["details",o],["div",o],["dl",o],["fieldset",o],["figcaption",o],["figure",o],["footer",o],["form",o],["header",o],["hr",o],["main",o],["nav",o],["ol",o],["pre",o],["section",o],["table",o],["ul",o],["rt",u],["rp",u],["tbody",s],["tfoot",s]]),d=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),c=new Set(["math","svg"]),p=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),b=/\s|\//,v=function(){function _(y,m){m===void 0&&(m={});var g,S,x,I,N;this.options=m,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=y??{},this.lowerCaseTagNames=(g=m.lowerCaseTags)!==null&&g!==void 0?g:!m.xmlMode,this.lowerCaseAttributeNames=(S=m.lowerCaseAttributeNames)!==null&&S!==void 0?S:!m.xmlMode,this.tokenizer=new((x=m.Tokenizer)!==null&&x!==void 0?x:n.default)(this.options,this),(N=(I=this.cbs).onparserinit)===null||N===void 0||N.call(I,this)}return _.prototype.ontext=function(y,m){var g,S,x=this.getSlice(y,m);this.endIndex=m-1,(S=(g=this.cbs).ontext)===null||S===void 0||S.call(g,x),this.startIndex=m},_.prototype.ontextentity=function(y){var m,g,S=this.tokenizer.getSectionStart();this.endIndex=S-1,(g=(m=this.cbs).ontext)===null||g===void 0||g.call(m,(0,i.fromCodePoint)(y)),this.startIndex=S},_.prototype.isVoidElement=function(y){return!this.options.xmlMode&&d.has(y)},_.prototype.onopentagname=function(y,m){this.endIndex=m;var g=this.getSlice(y,m);this.lowerCaseTagNames&&(g=g.toLowerCase()),this.emitOpenTag(g)},_.prototype.emitOpenTag=function(y){var m,g,S,x;this.openTagStart=this.startIndex,this.tagname=y;var I=!this.options.xmlMode&&f.get(y);if(I)for(;this.stack.length>0&&I.has(this.stack[this.stack.length-1]);){var N=this.stack.pop();(g=(m=this.cbs).onclosetag)===null||g===void 0||g.call(m,N,!0)}this.isVoidElement(y)||(this.stack.push(y),c.has(y)?this.foreignContext.push(!0):p.has(y)&&this.foreignContext.push(!1)),(x=(S=this.cbs).onopentagname)===null||x===void 0||x.call(S,y),this.cbs.onopentag&&(this.attribs={})},_.prototype.endOpenTag=function(y){var m,g;this.startIndex=this.openTagStart,this.attribs&&((g=(m=this.cbs).onopentag)===null||g===void 0||g.call(m,this.tagname,this.attribs,y),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""},_.prototype.onopentagend=function(y){this.endIndex=y,this.endOpenTag(!1),this.startIndex=y+1},_.prototype.onclosetag=function(y,m){var g,S,x,I,N,q;this.endIndex=m;var D=this.getSlice(y,m);if(this.lowerCaseTagNames&&(D=D.toLowerCase()),(c.has(D)||p.has(D))&&this.foreignContext.pop(),this.isVoidElement(D))!this.options.xmlMode&&D==="br"&&((S=(g=this.cbs).onopentagname)===null||S===void 0||S.call(g,"br"),(I=(x=this.cbs).onopentag)===null||I===void 0||I.call(x,"br",{},!0),(q=(N=this.cbs).onclosetag)===null||q===void 0||q.call(N,"br",!1));else{var M=this.stack.lastIndexOf(D);if(M!==-1)if(this.cbs.onclosetag)for(var j=this.stack.length-M;j--;)this.cbs.onclosetag(this.stack.pop(),j!==0);else this.stack.length=M;else!this.options.xmlMode&&D==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=m+1},_.prototype.onselfclosingtag=function(y){this.endIndex=y,this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?(this.closeCurrentTag(!1),this.startIndex=y+1):this.onopentagend(y)},_.prototype.closeCurrentTag=function(y){var m,g,S=this.tagname;this.endOpenTag(y),this.stack[this.stack.length-1]===S&&((g=(m=this.cbs).onclosetag)===null||g===void 0||g.call(m,S,!y),this.stack.pop())},_.prototype.onattribname=function(y,m){this.startIndex=y;var g=this.getSlice(y,m);this.attribname=this.lowerCaseAttributeNames?g.toLowerCase():g},_.prototype.onattribdata=function(y,m){this.attribvalue+=this.getSlice(y,m)},_.prototype.onattribentity=function(y){this.attribvalue+=(0,i.fromCodePoint)(y)},_.prototype.onattribend=function(y,m){var g,S;this.endIndex=m,(S=(g=this.cbs).onattribute)===null||S===void 0||S.call(g,this.attribname,this.attribvalue,y===n.QuoteType.Double?'"':y===n.QuoteType.Single?"'":y===n.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""},_.prototype.getInstructionName=function(y){var m=y.search(b),g=m<0?y:y.substr(0,m);return this.lowerCaseTagNames&&(g=g.toLowerCase()),g},_.prototype.ondeclaration=function(y,m){this.endIndex=m;var g=this.getSlice(y,m);if(this.cbs.onprocessinginstruction){var S=this.getInstructionName(g);this.cbs.onprocessinginstruction("!".concat(S),"!".concat(g))}this.startIndex=m+1},_.prototype.onprocessinginstruction=function(y,m){this.endIndex=m;var g=this.getSlice(y,m);if(this.cbs.onprocessinginstruction){var S=this.getInstructionName(g);this.cbs.onprocessinginstruction("?".concat(S),"?".concat(g))}this.startIndex=m+1},_.prototype.oncomment=function(y,m,g){var S,x,I,N;this.endIndex=m,(x=(S=this.cbs).oncomment)===null||x===void 0||x.call(S,this.getSlice(y,m-g)),(N=(I=this.cbs).oncommentend)===null||N===void 0||N.call(I),this.startIndex=m+1},_.prototype.oncdata=function(y,m,g){var S,x,I,N,q,D,M,j,P,B;this.endIndex=m;var Y=this.getSlice(y,m-g);this.options.xmlMode||this.options.recognizeCDATA?((x=(S=this.cbs).oncdatastart)===null||x===void 0||x.call(S),(N=(I=this.cbs).ontext)===null||N===void 0||N.call(I,Y),(D=(q=this.cbs).oncdataend)===null||D===void 0||D.call(q)):((j=(M=this.cbs).oncomment)===null||j===void 0||j.call(M,"[CDATA[".concat(Y,"]]")),(B=(P=this.cbs).oncommentend)===null||B===void 0||B.call(P)),this.startIndex=m+1},_.prototype.onend=function(){var y,m;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(var g=this.stack.length;g>0;this.cbs.onclosetag(this.stack[--g],!0));}(m=(y=this.cbs).onend)===null||m===void 0||m.call(y)},_.prototype.reset=function(){var y,m,g,S;(m=(y=this.cbs).onreset)===null||m===void 0||m.call(y),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(S=(g=this.cbs).onparserinit)===null||S===void 0||S.call(g,this),this.buffers.length=0,this.bufferOffset=0,this.writeIndex=0,this.ended=!1},_.prototype.parseComplete=function(y){this.reset(),this.end(y)},_.prototype.getSlice=function(y,m){for(;y-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();for(var g=this.buffers[0].slice(y-this.bufferOffset,m-this.bufferOffset);m-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),g+=this.buffers[0].slice(0,m-this.bufferOffset);return g},_.prototype.shiftBuffer=function(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()},_.prototype.write=function(y){var m,g;if(this.ended){(g=(m=this.cbs).onerror)===null||g===void 0||g.call(m,new Error(".write() after done!"));return}this.buffers.push(y),this.tokenizer.running&&(this.tokenizer.write(y),this.writeIndex++)},_.prototype.end=function(y){var m,g;if(this.ended){(g=(m=this.cbs).onerror)===null||g===void 0||g.call(m,new Error(".end() after done!"));return}y&&this.write(y),this.ended=!0,this.tokenizer.end()},_.prototype.pause=function(){this.tokenizer.pause()},_.prototype.resume=function(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()},_.prototype.parseChunk=function(y){this.write(y)},_.prototype.done=function(y){this.end(y)},_}();return lo.Parser=v,lo}var md={},PS={},dM;function Ys(){return dM||(dM=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Doctype=e.CDATA=e.Tag=e.Style=e.Script=e.Comment=e.Directive=e.Text=e.Root=e.isTag=e.ElementType=void 0;var t;(function(n){n.Root="root",n.Text="text",n.Directive="directive",n.Comment="comment",n.Script="script",n.Style="style",n.Tag="tag",n.CDATA="cdata",n.Doctype="doctype"})(t=e.ElementType||(e.ElementType={}));function r(n){return n.type===t.Tag||n.type===t.Script||n.type===t.Style}e.isTag=r,e.Root=t.Root,e.Text=t.Text,e.Directive=t.Directive,e.Comment=t.Comment,e.Script=t.Script,e.Style=t.Style,e.Tag=t.Tag,e.CDATA=t.CDATA,e.Doctype=t.Doctype}(PS)),PS}var Ct={},hM;function pM(){if(hM)return Ct;hM=1;var e=Ct.__extends||function(){var x=function(I,N){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,D){q.__proto__=D}||function(q,D){for(var M in D)Object.prototype.hasOwnProperty.call(D,M)&&(q[M]=D[M])},x(I,N)};return function(I,N){if(typeof N!="function"&&N!==null)throw new TypeError("Class extends value "+String(N)+" is not a constructor or null");x(I,N);function q(){this.constructor=I}I.prototype=N===null?Object.create(N):(q.prototype=N.prototype,new q)}}(),t=Ct.__assign||function(){return t=Object.assign||function(x){for(var I,N=1,q=arguments.length;N<q;N++){I=arguments[N];for(var D in I)Object.prototype.hasOwnProperty.call(I,D)&&(x[D]=I[D])}return x},t.apply(this,arguments)};Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.cloneNode=Ct.hasChildren=Ct.isDocument=Ct.isDirective=Ct.isComment=Ct.isText=Ct.isCDATA=Ct.isTag=Ct.Element=Ct.Document=Ct.CDATA=Ct.NodeWithChildren=Ct.ProcessingInstruction=Ct.Comment=Ct.Text=Ct.DataNode=Ct.Node=void 0;var r=Ys(),n=function(){function x(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(x.prototype,"parentNode",{get:function(){return this.parent},set:function(I){this.parent=I},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"previousSibling",{get:function(){return this.prev},set:function(I){this.prev=I},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"nextSibling",{get:function(){return this.next},set:function(I){this.next=I},enumerable:!1,configurable:!0}),x.prototype.cloneNode=function(I){return I===void 0&&(I=!1),g(this,I)},x}();Ct.Node=n;var i=function(x){e(I,x);function I(N){var q=x.call(this)||this;return q.data=N,q}return Object.defineProperty(I.prototype,"nodeValue",{get:function(){return this.data},set:function(N){this.data=N},enumerable:!1,configurable:!0}),I}(n);Ct.DataNode=i;var a=function(x){e(I,x);function I(){var N=x!==null&&x.apply(this,arguments)||this;return N.type=r.ElementType.Text,N}return Object.defineProperty(I.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),I}(i);Ct.Text=a;var o=function(x){e(I,x);function I(){var N=x!==null&&x.apply(this,arguments)||this;return N.type=r.ElementType.Comment,N}return Object.defineProperty(I.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),I}(i);Ct.Comment=o;var s=function(x){e(I,x);function I(N,q){var D=x.call(this,q)||this;return D.name=N,D.type=r.ElementType.Directive,D}return Object.defineProperty(I.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),I}(i);Ct.ProcessingInstruction=s;var l=function(x){e(I,x);function I(N){var q=x.call(this)||this;return q.children=N,q}return Object.defineProperty(I.prototype,"firstChild",{get:function(){var N;return(N=this.children[0])!==null&&N!==void 0?N:null},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"childNodes",{get:function(){return this.children},set:function(N){this.children=N},enumerable:!1,configurable:!0}),I}(n);Ct.NodeWithChildren=l;var u=function(x){e(I,x);function I(){var N=x!==null&&x.apply(this,arguments)||this;return N.type=r.ElementType.CDATA,N}return Object.defineProperty(I.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),I}(l);Ct.CDATA=u;var f=function(x){e(I,x);function I(){var N=x!==null&&x.apply(this,arguments)||this;return N.type=r.ElementType.Root,N}return Object.defineProperty(I.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),I}(l);Ct.Document=f;var d=function(x){e(I,x);function I(N,q,D,M){D===void 0&&(D=[]),M===void 0&&(M=N==="script"?r.ElementType.Script:N==="style"?r.ElementType.Style:r.ElementType.Tag);var j=x.call(this,D)||this;return j.name=N,j.attribs=q,j.type=M,j}return Object.defineProperty(I.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"tagName",{get:function(){return this.name},set:function(N){this.name=N},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"attributes",{get:function(){var N=this;return Object.keys(this.attribs).map(function(q){var D,M;return{name:q,value:N.attribs[q],namespace:(D=N["x-attribsNamespace"])===null||D===void 0?void 0:D[q],prefix:(M=N["x-attribsPrefix"])===null||M===void 0?void 0:M[q]}})},enumerable:!1,configurable:!0}),I}(l);Ct.Element=d;function c(x){return(0,r.isTag)(x)}Ct.isTag=c;function p(x){return x.type===r.ElementType.CDATA}Ct.isCDATA=p;function b(x){return x.type===r.ElementType.Text}Ct.isText=b;function v(x){return x.type===r.ElementType.Comment}Ct.isComment=v;function _(x){return x.type===r.ElementType.Directive}Ct.isDirective=_;function y(x){return x.type===r.ElementType.Root}Ct.isDocument=y;function m(x){return Object.prototype.hasOwnProperty.call(x,"children")}Ct.hasChildren=m;function g(x,I){I===void 0&&(I=!1);var N;if(b(x))N=new a(x.data);else if(v(x))N=new o(x.data);else if(c(x)){var q=I?S(x.children):[],D=new d(x.name,t({},x.attribs),q);q.forEach(function(B){return B.parent=D}),x.namespace!=null&&(D.namespace=x.namespace),x["x-attribsNamespace"]&&(D["x-attribsNamespace"]=t({},x["x-attribsNamespace"])),x["x-attribsPrefix"]&&(D["x-attribsPrefix"]=t({},x["x-attribsPrefix"])),N=D}else if(p(x)){var q=I?S(x.children):[],M=new u(q);q.forEach(function(Y){return Y.parent=M}),N=M}else if(y(x)){var q=I?S(x.children):[],j=new f(q);q.forEach(function(Y){return Y.parent=j}),x["x-mode"]&&(j["x-mode"]=x["x-mode"]),N=j}else if(_(x)){var P=new s(x.name,x.data);x["x-name"]!=null&&(P["x-name"]=x["x-name"],P["x-publicId"]=x["x-publicId"],P["x-systemId"]=x["x-systemId"]),N=P}else throw new Error("Not implemented yet: ".concat(x.type));return N.startIndex=x.startIndex,N.endIndex=x.endIndex,x.sourceCodeLocation!=null&&(N.sourceCodeLocation=x.sourceCodeLocation),N}Ct.cloneNode=g;function S(x){for(var I=x.map(function(q){return g(q,!0)}),N=1;N<I.length;N++)I[N].prev=I[N-1],I[N-1].next=I[N];return I}return Ct}var mM;function xi(){return mM||(mM=1,function(e){var t=md.__createBinding||(Object.create?function(s,l,u,f){f===void 0&&(f=u);var d=Object.getOwnPropertyDescriptor(l,u);(!d||("get"in d?!l.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return l[u]}}),Object.defineProperty(s,f,d)}:function(s,l,u,f){f===void 0&&(f=u),s[f]=l[u]}),r=md.__exportStar||function(s,l){for(var u in s)u!=="default"&&!Object.prototype.hasOwnProperty.call(l,u)&&t(l,s,u)};Object.defineProperty(e,"__esModule",{value:!0}),e.DomHandler=void 0;var n=Ys(),i=pM();r(pM(),e);var a={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},o=function(){function s(l,u,f){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof u=="function"&&(f=u,u=a),typeof l=="object"&&(u=l,l=void 0),this.callback=l??null,this.options=u??a,this.elementCB=f??null}return s.prototype.onparserinit=function(l){this.parser=l},s.prototype.onreset=function(){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},s.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},s.prototype.onerror=function(l){this.handleCallback(l)},s.prototype.onclosetag=function(){this.lastNode=null;var l=this.tagStack.pop();this.options.withEndIndices&&(l.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(l)},s.prototype.onopentag=function(l,u){var f=this.options.xmlMode?n.ElementType.Tag:void 0,d=new i.Element(l,u,void 0,f);this.addNode(d),this.tagStack.push(d)},s.prototype.ontext=function(l){var u=this.lastNode;if(u&&u.type===n.ElementType.Text)u.data+=l,this.options.withEndIndices&&(u.endIndex=this.parser.endIndex);else{var f=new i.Text(l);this.addNode(f),this.lastNode=f}},s.prototype.oncomment=function(l){if(this.lastNode&&this.lastNode.type===n.ElementType.Comment){this.lastNode.data+=l;return}var u=new i.Comment(l);this.addNode(u),this.lastNode=u},s.prototype.oncommentend=function(){this.lastNode=null},s.prototype.oncdatastart=function(){var l=new i.Text(""),u=new i.CDATA([l]);this.addNode(u),l.parent=u,this.lastNode=l},s.prototype.oncdataend=function(){this.lastNode=null},s.prototype.onprocessinginstruction=function(l,u){var f=new i.ProcessingInstruction(l,u);this.addNode(f)},s.prototype.handleCallback=function(l){if(typeof this.callback=="function")this.callback(l,this.dom);else if(l)throw l},s.prototype.addNode=function(l){var u=this.tagStack[this.tagStack.length-1],f=u.children[u.children.length-1];this.options.withStartIndices&&(l.startIndex=this.parser.startIndex),this.options.withEndIndices&&(l.endIndex=this.parser.endIndex),u.children.push(l),f&&(l.prev=f,f.next=l),l.parent=u,this.lastNode=null},s}();e.DomHandler=o,e.default=o}(md)),md}var yd={},Na={},na={},OS={},fo={},Km={},yM;function Gre(){if(yM)return Km;yM=1,Object.defineProperty(Km,"__esModule",{value:!0});function e(t){for(var r=1;r<t.length;r++)t[r][0]+=t[r-1][0]+1;return t}return Km.default=new Map(e([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(e([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(e([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(e([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]])),Km}var NS={},gM;function jE(){return gM||(gM=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.escapeText=e.escapeAttribute=e.escapeUTF8=e.escape=e.encodeXML=e.getCodePoint=e.xmlReplacer=void 0,e.xmlReplacer=/["&'<>$\x80-\uFFFF]/g;var t=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);e.getCodePoint=String.prototype.codePointAt!=null?function(i,a){return i.codePointAt(a)}:function(i,a){return(i.charCodeAt(a)&64512)===55296?(i.charCodeAt(a)-55296)*1024+i.charCodeAt(a+1)-56320+65536:i.charCodeAt(a)};function r(i){for(var a="",o=0,s;(s=e.xmlReplacer.exec(i))!==null;){var l=s.index,u=i.charCodeAt(l),f=t.get(u);f!==void 0?(a+=i.substring(o,l)+f,o=l+1):(a+="".concat(i.substring(o,l),"&#x").concat((0,e.getCodePoint)(i,l).toString(16),";"),o=e.xmlReplacer.lastIndex+=+((u&64512)===55296))}return a+i.substr(o)}e.encodeXML=r,e.escape=r;function n(i,a){return function(s){for(var l,u=0,f="";l=i.exec(s);)u!==l.index&&(f+=s.substring(u,l.index)),f+=a.get(l[0].charCodeAt(0)),u=l.index+1;return f+s.substring(u)}}e.escapeUTF8=n(/[&<>'"]/g,t),e.escapeAttribute=n(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),e.escapeText=n(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]))}(NS)),NS}var _M;function bM(){if(_M)return fo;_M=1;var e=fo.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(fo,"__esModule",{value:!0}),fo.encodeNonAsciiHTML=fo.encodeHTML=void 0;var t=e(Gre()),r=jE(),n=/[\t\n!-,./:-@[-`\f{-}$\x80-\uFFFF]/g;function i(s){return o(n,s)}fo.encodeHTML=i;function a(s){return o(r.xmlReplacer,s)}fo.encodeNonAsciiHTML=a;function o(s,l){for(var u="",f=0,d;(d=s.exec(l))!==null;){var c=d.index;u+=l.substring(f,c);var p=l.charCodeAt(c),b=t.default.get(p);if(typeof b=="object"){if(c+1<l.length){var v=l.charCodeAt(c+1),_=typeof b.n=="number"?b.n===v?b.o:void 0:b.n.get(v);if(_!==void 0){u+=_,f=s.lastIndex+=1;continue}}b=b.v}if(b!==void 0)u+=b,f=c+1;else{var y=(0,r.getCodePoint)(l,c);u+="&#x".concat(y.toString(16),";"),f=s.lastIndex+=+(y!==p)}}return u+l.substr(f)}return fo}var vM;function Wre(){return vM||(vM=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeXMLStrict=e.decodeHTML5Strict=e.decodeHTML4Strict=e.decodeHTML5=e.decodeHTML4=e.decodeHTMLAttribute=e.decodeHTMLStrict=e.decodeHTML=e.decodeXML=e.DecodingMode=e.EntityDecoder=e.encodeHTML5=e.encodeHTML4=e.encodeNonAsciiHTML=e.encodeHTML=e.escapeText=e.escapeAttribute=e.escapeUTF8=e.escape=e.encodeXML=e.encode=e.decodeStrict=e.decode=e.EncodingMode=e.EntityLevel=void 0;var t=Fo(),r=bM(),n=jE(),i;(function(c){c[c.XML=0]="XML",c[c.HTML=1]="HTML"})(i=e.EntityLevel||(e.EntityLevel={}));var a;(function(c){c[c.UTF8=0]="UTF8",c[c.ASCII=1]="ASCII",c[c.Extensive=2]="Extensive",c[c.Attribute=3]="Attribute",c[c.Text=4]="Text"})(a=e.EncodingMode||(e.EncodingMode={}));function o(c,p){p===void 0&&(p=i.XML);var b=typeof p=="number"?p:p.level;if(b===i.HTML){var v=typeof p=="object"?p.mode:void 0;return(0,t.decodeHTML)(c,v)}return(0,t.decodeXML)(c)}e.decode=o;function s(c,p){var b;p===void 0&&(p=i.XML);var v=typeof p=="number"?{level:p}:p;return(b=v.mode)!==null&&b!==void 0||(v.mode=t.DecodingMode.Strict),o(c,v)}e.decodeStrict=s;function l(c,p){p===void 0&&(p=i.XML);var b=typeof p=="number"?{level:p}:p;return b.mode===a.UTF8?(0,n.escapeUTF8)(c):b.mode===a.Attribute?(0,n.escapeAttribute)(c):b.mode===a.Text?(0,n.escapeText)(c):b.level===i.HTML?b.mode===a.ASCII?(0,r.encodeNonAsciiHTML)(c):(0,r.encodeHTML)(c):(0,n.encodeXML)(c)}e.encode=l;var u=jE();Object.defineProperty(e,"encodeXML",{enumerable:!0,get:function(){return u.encodeXML}}),Object.defineProperty(e,"escape",{enumerable:!0,get:function(){return u.escape}}),Object.defineProperty(e,"escapeUTF8",{enumerable:!0,get:function(){return u.escapeUTF8}}),Object.defineProperty(e,"escapeAttribute",{enumerable:!0,get:function(){return u.escapeAttribute}}),Object.defineProperty(e,"escapeText",{enumerable:!0,get:function(){return u.escapeText}});var f=bM();Object.defineProperty(e,"encodeHTML",{enumerable:!0,get:function(){return f.encodeHTML}}),Object.defineProperty(e,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return f.encodeNonAsciiHTML}}),Object.defineProperty(e,"encodeHTML4",{enumerable:!0,get:function(){return f.encodeHTML}}),Object.defineProperty(e,"encodeHTML5",{enumerable:!0,get:function(){return f.encodeHTML}});var d=Fo();Object.defineProperty(e,"EntityDecoder",{enumerable:!0,get:function(){return d.EntityDecoder}}),Object.defineProperty(e,"DecodingMode",{enumerable:!0,get:function(){return d.DecodingMode}}),Object.defineProperty(e,"decodeXML",{enumerable:!0,get:function(){return d.decodeXML}}),Object.defineProperty(e,"decodeHTML",{enumerable:!0,get:function(){return d.decodeHTML}}),Object.defineProperty(e,"decodeHTMLStrict",{enumerable:!0,get:function(){return d.decodeHTMLStrict}}),Object.defineProperty(e,"decodeHTMLAttribute",{enumerable:!0,get:function(){return d.decodeHTMLAttribute}}),Object.defineProperty(e,"decodeHTML4",{enumerable:!0,get:function(){return d.decodeHTML}}),Object.defineProperty(e,"decodeHTML5",{enumerable:!0,get:function(){return d.decodeHTML}}),Object.defineProperty(e,"decodeHTML4Strict",{enumerable:!0,get:function(){return d.decodeHTMLStrict}}),Object.defineProperty(e,"decodeHTML5Strict",{enumerable:!0,get:function(){return d.decodeHTMLStrict}}),Object.defineProperty(e,"decodeXMLStrict",{enumerable:!0,get:function(){return d.decodeXML}})}(OS)),OS}var gs={},wM;function Kre(){return wM||(wM=1,Object.defineProperty(gs,"__esModule",{value:!0}),gs.attributeNames=gs.elementNames=void 0,gs.elementNames=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(function(e){return[e.toLowerCase(),e]})),gs.attributeNames=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(function(e){return[e.toLowerCase(),e]}))),gs}var SM;function Qre(){if(SM)return na;SM=1;var e=na.__assign||function(){return e=Object.assign||function(S){for(var x,I=1,N=arguments.length;I<N;I++){x=arguments[I];for(var q in x)Object.prototype.hasOwnProperty.call(x,q)&&(S[q]=x[q])}return S},e.apply(this,arguments)},t=na.__createBinding||(Object.create?function(S,x,I,N){N===void 0&&(N=I);var q=Object.getOwnPropertyDescriptor(x,I);(!q||("get"in q?!x.__esModule:q.writable||q.configurable))&&(q={enumerable:!0,get:function(){return x[I]}}),Object.defineProperty(S,N,q)}:function(S,x,I,N){N===void 0&&(N=I),S[N]=x[I]}),r=na.__setModuleDefault||(Object.create?function(S,x){Object.defineProperty(S,"default",{enumerable:!0,value:x})}:function(S,x){S.default=x}),n=na.__importStar||function(S){if(S&&S.__esModule)return S;var x={};if(S!=null)for(var I in S)I!=="default"&&Object.prototype.hasOwnProperty.call(S,I)&&t(x,S,I);return r(x,S),x};Object.defineProperty(na,"__esModule",{value:!0}),na.render=void 0;var i=n(Ys()),a=Wre(),o=Kre(),s=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function l(S){return S.replace(/"/g,"&quot;")}function u(S,x){var I;if(S){var N=((I=x.encodeEntities)!==null&&I!==void 0?I:x.decodeEntities)===!1?l:x.xmlMode||x.encodeEntities!=="utf8"?a.encodeXML:a.escapeAttribute;return Object.keys(S).map(function(q){var D,M,j=(D=S[q])!==null&&D!==void 0?D:"";return x.xmlMode==="foreign"&&(q=(M=o.attributeNames.get(q))!==null&&M!==void 0?M:q),!x.emptyAttrs&&!x.xmlMode&&j===""?q:"".concat(q,'="').concat(N(j),'"')}).join(" ")}}var f=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function d(S,x){x===void 0&&(x={});for(var I=("length"in S)?S:[S],N="",q=0;q<I.length;q++)N+=c(I[q],x);return N}na.render=d,na.default=d;function c(S,x){switch(S.type){case i.Root:return d(S.children,x);case i.Doctype:case i.Directive:return _(S);case i.Comment:return g(S);case i.CDATA:return m(S);case i.Script:case i.Style:case i.Tag:return v(S,x);case i.Text:return y(S,x)}}var p=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),b=new Set(["svg","math"]);function v(S,x){var I;x.xmlMode==="foreign"&&(S.name=(I=o.elementNames.get(S.name))!==null&&I!==void 0?I:S.name,S.parent&&p.has(S.parent.name)&&(x=e(e({},x),{xmlMode:!1}))),!x.xmlMode&&b.has(S.name)&&(x=e(e({},x),{xmlMode:"foreign"}));var N="<".concat(S.name),q=u(S.attribs,x);return q&&(N+=" ".concat(q)),S.children.length===0&&(x.xmlMode?x.selfClosingTags!==!1:x.selfClosingTags&&f.has(S.name))?(x.xmlMode||(N+=" "),N+="/>"):(N+=">",S.children.length>0&&(N+=d(S.children,x)),(x.xmlMode||!f.has(S.name))&&(N+="</".concat(S.name,">"))),N}function _(S){return"<".concat(S.data,">")}function y(S,x){var I,N=S.data||"";return((I=x.encodeEntities)!==null&&I!==void 0?I:x.decodeEntities)!==!1&&!(!x.xmlMode&&S.parent&&s.has(S.parent.name))&&(N=x.xmlMode||x.encodeEntities!=="utf8"?(0,a.encodeXML)(N):(0,a.escapeText)(N)),N}function m(S){return"<![CDATA[".concat(S.children[0].data,"]]>")}function g(S){return"<!--".concat(S.data,"-->")}return na}var EM;function r5(){if(EM)return Na;EM=1;var e=Na.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Na,"__esModule",{value:!0}),Na.getOuterHTML=i,Na.getInnerHTML=a,Na.getText=o,Na.textContent=s,Na.innerText=l;var t=xi(),r=e(Qre()),n=Ys();function i(u,f){return(0,r.default)(u,f)}function a(u,f){return(0,t.hasChildren)(u)?u.children.map(function(d){return i(d,f)}).join(""):""}function o(u){return Array.isArray(u)?u.map(o).join(""):(0,t.isTag)(u)?u.name==="br"?`
`:o(u.children):(0,t.isCDATA)(u)?o(u.children):(0,t.isText)(u)?u.data:""}function s(u){return Array.isArray(u)?u.map(s).join(""):(0,t.hasChildren)(u)&&!(0,t.isComment)(u)?s(u.children):(0,t.isText)(u)?u.data:""}function l(u){return Array.isArray(u)?u.map(l).join(""):(0,t.hasChildren)(u)&&(u.type===n.ElementType.Tag||(0,t.isCDATA)(u))?l(u.children):(0,t.isText)(u)?u.data:""}return Na}var Ci={},TM;function Zre(){if(TM)return Ci;TM=1,Object.defineProperty(Ci,"__esModule",{value:!0}),Ci.getChildren=t,Ci.getParent=r,Ci.getSiblings=n,Ci.getAttributeValue=i,Ci.hasAttrib=a,Ci.getName=o,Ci.nextElementSibling=s,Ci.prevElementSibling=l;var e=xi();function t(u){return(0,e.hasChildren)(u)?u.children:[]}function r(u){return u.parent||null}function n(u){var f,d,c=r(u);if(c!=null)return t(c);for(var p=[u],b=u.prev,v=u.next;b!=null;)p.unshift(b),f=b,b=f.prev;for(;v!=null;)p.push(v),d=v,v=d.next;return p}function i(u,f){var d;return(d=u.attribs)===null||d===void 0?void 0:d[f]}function a(u,f){return u.attribs!=null&&Object.prototype.hasOwnProperty.call(u.attribs,f)&&u.attribs[f]!=null}function o(u){return u.name}function s(u){for(var f,d=u.next;d!==null&&!(0,e.isTag)(d);)f=d,d=f.next;return d}function l(u){for(var f,d=u.prev;d!==null&&!(0,e.isTag)(d);)f=d,d=f.prev;return d}return Ci}var Da={},xM;function Yre(){if(xM)return Da;xM=1,Object.defineProperty(Da,"__esModule",{value:!0}),Da.removeElement=e,Da.replaceElement=t,Da.appendChild=r,Da.append=n,Da.prependChild=i,Da.prepend=a;function e(o){if(o.prev&&(o.prev.next=o.next),o.next&&(o.next.prev=o.prev),o.parent){var s=o.parent.children,l=s.lastIndexOf(o);l>=0&&s.splice(l,1)}o.next=null,o.prev=null,o.parent=null}function t(o,s){var l=s.prev=o.prev;l&&(l.next=s);var u=s.next=o.next;u&&(u.prev=s);var f=s.parent=o.parent;if(f){var d=f.children;d[d.lastIndexOf(o)]=s,o.parent=null}}function r(o,s){if(e(s),s.next=null,s.parent=o,o.children.push(s)>1){var l=o.children[o.children.length-2];l.next=s,s.prev=l}else s.prev=null}function n(o,s){e(s);var l=o.parent,u=o.next;if(s.next=u,s.prev=o,o.next=s,s.parent=l,u){if(u.prev=s,l){var f=l.children;f.splice(f.lastIndexOf(u),0,s)}}else l&&l.children.push(s)}function i(o,s){if(e(s),s.parent=o,s.prev=null,o.children.unshift(s)!==1){var l=o.children[1];l.prev=s,s.next=l}else s.next=null}function a(o,s){e(s);var l=o.parent;if(l){var u=l.children;u.splice(u.indexOf(o),0,s)}o.prev&&(o.prev.next=s),s.parent=l,s.prev=o.prev,s.next=o,o.prev=s}return Da}var Ca={},RM;function n5(){if(RM)return Ca;RM=1,Object.defineProperty(Ca,"__esModule",{value:!0}),Ca.filter=t,Ca.find=r,Ca.findOneChild=n,Ca.findOne=i,Ca.existsOne=a,Ca.findAll=o;var e=xi();function t(s,l,u,f){return u===void 0&&(u=!0),f===void 0&&(f=1/0),r(s,Array.isArray(l)?l:[l],u,f)}function r(s,l,u,f){for(var d=[],c=[Array.isArray(l)?l:[l]],p=[0];;){if(p[0]>=c[0].length){if(p.length===1)return d;c.shift(),p.shift();continue}var b=c[0][p[0]++];if(s(b)&&(d.push(b),--f<=0))return d;u&&(0,e.hasChildren)(b)&&b.children.length>0&&(p.unshift(0),c.unshift(b.children))}}function n(s,l){return l.find(s)}function i(s,l,u){u===void 0&&(u=!0);for(var f=Array.isArray(l)?l:[l],d=0;d<f.length;d++){var c=f[d];if((0,e.isTag)(c)&&s(c))return c;if(u&&(0,e.hasChildren)(c)&&c.children.length>0){var p=i(s,c.children,!0);if(p)return p}}return null}function a(s,l){return(Array.isArray(l)?l:[l]).some(function(u){return(0,e.isTag)(u)&&s(u)||(0,e.hasChildren)(u)&&a(s,u.children)})}function o(s,l){for(var u=[],f=[Array.isArray(l)?l:[l]],d=[0];;){if(d[0]>=f[0].length){if(f.length===1)return u;f.shift(),d.shift();continue}var c=f[0][d[0]++];(0,e.isTag)(c)&&s(c)&&u.push(c),(0,e.hasChildren)(c)&&c.children.length>0&&(d.unshift(0),f.unshift(c.children))}}return Ca}var La={},AM;function i5(){if(AM)return La;AM=1,Object.defineProperty(La,"__esModule",{value:!0}),La.testElement=o,La.getElements=s,La.getElementById=l,La.getElementsByTagName=u,La.getElementsByClassName=f,La.getElementsByTagType=d;var e=xi(),t=n5(),r={tag_name:function(c){return typeof c=="function"?function(p){return(0,e.isTag)(p)&&c(p.name)}:c==="*"?e.isTag:function(p){return(0,e.isTag)(p)&&p.name===c}},tag_type:function(c){return typeof c=="function"?function(p){return c(p.type)}:function(p){return p.type===c}},tag_contains:function(c){return typeof c=="function"?function(p){return(0,e.isText)(p)&&c(p.data)}:function(p){return(0,e.isText)(p)&&p.data===c}}};function n(c,p){return typeof p=="function"?function(b){return(0,e.isTag)(b)&&p(b.attribs[c])}:function(b){return(0,e.isTag)(b)&&b.attribs[c]===p}}function i(c,p){return function(b){return c(b)||p(b)}}function a(c){var p=Object.keys(c).map(function(b){var v=c[b];return Object.prototype.hasOwnProperty.call(r,b)?r[b](v):n(b,v)});return p.length===0?null:p.reduce(i)}function o(c,p){var b=a(c);return b?b(p):!0}function s(c,p,b,v){v===void 0&&(v=1/0);var _=a(c);return _?(0,t.filter)(_,p,b,v):[]}function l(c,p,b){return b===void 0&&(b=!0),Array.isArray(p)||(p=[p]),(0,t.findOne)(n("id",c),p,b)}function u(c,p,b,v){return b===void 0&&(b=!0),v===void 0&&(v=1/0),(0,t.filter)(r.tag_name(c),p,b,v)}function f(c,p,b,v){return b===void 0&&(b=!0),v===void 0&&(v=1/0),(0,t.filter)(n("class",c),p,b,v)}function d(c,p,b,v){return b===void 0&&(b=!0),v===void 0&&(v=1/0),(0,t.filter)(r.tag_type(c),p,b,v)}return La}var co={},IM;function Xre(){if(IM)return co;IM=1,Object.defineProperty(co,"__esModule",{value:!0}),co.DocumentPosition=void 0,co.removeSubsets=t,co.compareDocumentPosition=n,co.uniqueSort=i;var e=xi();function t(a){for(var o=a.length;--o>=0;){var s=a[o];if(o>0&&a.lastIndexOf(s,o-1)>=0){a.splice(o,1);continue}for(var l=s.parent;l;l=l.parent)if(a.includes(l)){a.splice(o,1);break}}return a}var r;(function(a){a[a.DISCONNECTED=1]="DISCONNECTED",a[a.PRECEDING=2]="PRECEDING",a[a.FOLLOWING=4]="FOLLOWING",a[a.CONTAINS=8]="CONTAINS",a[a.CONTAINED_BY=16]="CONTAINED_BY"})(r||(co.DocumentPosition=r={}));function n(a,o){var s=[],l=[];if(a===o)return 0;for(var u=(0,e.hasChildren)(a)?a:a.parent;u;)s.unshift(u),u=u.parent;for(u=(0,e.hasChildren)(o)?o:o.parent;u;)l.unshift(u),u=u.parent;for(var f=Math.min(s.length,l.length),d=0;d<f&&s[d]===l[d];)d++;if(d===0)return r.DISCONNECTED;var c=s[d-1],p=c.children,b=s[d],v=l[d];return p.indexOf(b)>p.indexOf(v)?c===o?r.FOLLOWING|r.CONTAINED_BY:r.FOLLOWING:c===a?r.PRECEDING|r.CONTAINS:r.PRECEDING}function i(a){return a=a.filter(function(o,s,l){return!l.includes(o,s+1)}),a.sort(function(o,s){var l=n(o,s);return l&r.PRECEDING?-1:l&r.FOLLOWING?1:0}),a}return co}var Qm={},PM;function Jre(){if(PM)return Qm;PM=1,Object.defineProperty(Qm,"__esModule",{value:!0}),Qm.getFeed=r;var e=r5(),t=i5();function r(c){var p=l(d,c);return p?p.name==="feed"?n(p):i(p):null}function n(c){var p,b=c.children,v={type:"atom",items:(0,t.getElementsByTagName)("entry",b).map(function(m){var g,S=m.children,x={media:s(S)};f(x,"id","id",S),f(x,"title","title",S);var I=(g=l("link",S))===null||g===void 0?void 0:g.attribs.href;I&&(x.link=I);var N=u("summary",S)||u("content",S);N&&(x.description=N);var q=u("updated",S);return q&&(x.pubDate=new Date(q)),x})};f(v,"id","id",b),f(v,"title","title",b);var _=(p=l("link",b))===null||p===void 0?void 0:p.attribs.href;_&&(v.link=_),f(v,"description","subtitle",b);var y=u("updated",b);return y&&(v.updated=new Date(y)),f(v,"author","email",b,!0),v}function i(c){var p,b,v=(b=(p=l("channel",c.children))===null||p===void 0?void 0:p.children)!==null&&b!==void 0?b:[],_={type:c.name.substr(0,3),id:"",items:(0,t.getElementsByTagName)("item",c.children).map(function(m){var g=m.children,S={media:s(g)};f(S,"id","guid",g),f(S,"title","title",g),f(S,"link","link",g),f(S,"description","description",g);var x=u("pubDate",g)||u("dc:date",g);return x&&(S.pubDate=new Date(x)),S})};f(_,"title","title",v),f(_,"link","link",v),f(_,"description","description",v);var y=u("lastBuildDate",v);return y&&(_.updated=new Date(y)),f(_,"author","managingEditor",v,!0),_}var a=["url","type","lang"],o=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function s(c){return(0,t.getElementsByTagName)("media:content",c).map(function(p){for(var b=p.attribs,v={medium:b.medium,isDefault:!!b.isDefault},_=0,y=a;_<y.length;_++){var m=y[_];b[m]&&(v[m]=b[m])}for(var g=0,S=o;g<S.length;g++){var m=S[g];b[m]&&(v[m]=parseInt(b[m],10))}return b.expression&&(v.expression=b.expression),v})}function l(c,p){return(0,t.getElementsByTagName)(c,p,!0,1)[0]}function u(c,p,b){return b===void 0&&(b=!1),(0,e.textContent)((0,t.getElementsByTagName)(c,p,b,1)).trim()}function f(c,p,b,v,_){_===void 0&&(_=!1);var y=u(b,v,_);y&&(c[p]=y)}function d(c){return c==="rss"||c==="feed"||c==="rdf:RDF"}return Qm}var OM;function za(){return OM||(OM=1,function(e){var t=yd.__createBinding||(Object.create?function(i,a,o,s){s===void 0&&(s=o);var l=Object.getOwnPropertyDescriptor(a,o);(!l||("get"in l?!a.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return a[o]}}),Object.defineProperty(i,s,l)}:function(i,a,o,s){s===void 0&&(s=o),i[s]=a[o]}),r=yd.__exportStar||function(i,a){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(a,o)&&t(a,i,o)};Object.defineProperty(e,"__esModule",{value:!0}),e.hasChildren=e.isDocument=e.isComment=e.isText=e.isCDATA=e.isTag=void 0,r(r5(),e),r(Zre(),e),r(Yre(),e),r(n5(),e),r(i5(),e),r(Xre(),e),r(Jre(),e);var n=xi();Object.defineProperty(e,"isTag",{enumerable:!0,get:function(){return n.isTag}}),Object.defineProperty(e,"isCDATA",{enumerable:!0,get:function(){return n.isCDATA}}),Object.defineProperty(e,"isText",{enumerable:!0,get:function(){return n.isText}}),Object.defineProperty(e,"isComment",{enumerable:!0,get:function(){return n.isComment}}),Object.defineProperty(e,"isDocument",{enumerable:!0,get:function(){return n.isDocument}}),Object.defineProperty(e,"hasChildren",{enumerable:!0,get:function(){return n.hasChildren}})}(yd)),yd}var NM;function ene(){return NM||(NM=1,function(e){var t=ms.__createBinding||(Object.create?function(y,m,g,S){S===void 0&&(S=g);var x=Object.getOwnPropertyDescriptor(m,g);(!x||("get"in x?!m.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return m[g]}}),Object.defineProperty(y,S,x)}:function(y,m,g,S){S===void 0&&(S=g),y[S]=m[g]}),r=ms.__setModuleDefault||(Object.create?function(y,m){Object.defineProperty(y,"default",{enumerable:!0,value:m})}:function(y,m){y.default=m}),n=ms.__importStar||function(y){if(y&&y.__esModule)return y;var m={};if(y!=null)for(var g in y)g!=="default"&&Object.prototype.hasOwnProperty.call(y,g)&&t(m,y,g);return r(m,y),m},i=ms.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(e,"__esModule",{value:!0}),e.DomUtils=e.parseFeed=e.getFeed=e.ElementType=e.Tokenizer=e.createDomStream=e.parseDOM=e.parseDocument=e.DefaultHandler=e.DomHandler=e.Parser=void 0;var a=cM(),o=cM();Object.defineProperty(e,"Parser",{enumerable:!0,get:function(){return o.Parser}});var s=xi(),l=xi();Object.defineProperty(e,"DomHandler",{enumerable:!0,get:function(){return l.DomHandler}}),Object.defineProperty(e,"DefaultHandler",{enumerable:!0,get:function(){return l.DomHandler}});function u(y,m){var g=new s.DomHandler(void 0,m);return new a.Parser(g,m).end(y),g.root}e.parseDocument=u;function f(y,m){return u(y,m).children}e.parseDOM=f;function d(y,m,g){var S=new s.DomHandler(y,m,g);return new a.Parser(S,m)}e.createDomStream=d;var c=t5();Object.defineProperty(e,"Tokenizer",{enumerable:!0,get:function(){return i(c).default}}),e.ElementType=n(Ys());var p=za(),b=za();Object.defineProperty(e,"getFeed",{enumerable:!0,get:function(){return b.getFeed}});var v={xmlMode:!0};function _(y,m){return m===void 0&&(m=v),(0,p.getFeed)(f(y,m))}e.parseFeed=_,e.DomUtils=n(za())}(ms)),ms}const tne={"@context":{alternate:"http://www.w3.org/1999/xhtml/vocab#alternate",appendix:"http://www.w3.org/1999/xhtml/vocab#appendix",cite:"http://www.w3.org/1999/xhtml/vocab#cite",bookmark:"http://www.w3.org/1999/xhtml/vocab#bookmark",contents:"http://www.w3.org/1999/xhtml/vocab#contents",chapter:"http://www.w3.org/1999/xhtml/vocab#chapter",copyright:"http://www.w3.org/1999/xhtml/vocab#copyright",first:"http://www.w3.org/1999/xhtml/vocab#first",glossary:"http://www.w3.org/1999/xhtml/vocab#glossary",help:"http://www.w3.org/1999/xhtml/vocab#help",icon:"http://www.w3.org/1999/xhtml/vocab#icon",index:"http://www.w3.org/1999/xhtml/vocab#index",last:"http://www.w3.org/1999/xhtml/vocab#last",license:"http://www.w3.org/1999/xhtml/vocab#license",meta:"http://www.w3.org/1999/xhtml/vocab#meta",next:"http://www.w3.org/1999/xhtml/vocab#next",prev:"http://www.w3.org/1999/xhtml/vocab#prev",previous:"http://www.w3.org/1999/xhtml/vocab#previous",section:"http://www.w3.org/1999/xhtml/vocab#section",start:"http://www.w3.org/1999/xhtml/vocab#start",stylesheet:"http://www.w3.org/1999/xhtml/vocab#stylesheet",subsection:"http://www.w3.org/1999/xhtml/vocab#subsection",top:"http://www.w3.org/1999/xhtml/vocab#top",up:"http://www.w3.org/1999/xhtml/vocab#up",p3pv1:"http://www.w3.org/1999/xhtml/vocab#p3pv1"}},rne={"@context":{as:"https://www.w3.org/ns/activitystreams#",cat:"http://www.w3.org/ns/dcat#",cc:"http://creativecommons.org/ns#",cnt:"http://www.w3.org/2008/content#",csvw:"http://www.w3.org/ns/csvw#",ctag:"http://commontag.org/ns#",dc:"http://purl.org/dc/terms/",dc11:"http://purl.org/dc/elements/1.1/",dcat:"http://www.w3.org/ns/dcat#",dcterms:"http://purl.org/dc/terms/",dqv:"http://www.w3.org/ns/dqv#",duv:"https://www.w3.org/TR/vocab-duv#",earl:"http://www.w3.org/ns/earl#",foaf:"http://xmlns.com/foaf/0.1/",gldp:"http://www.w3.org/ns/people#",gr:"http://purl.org/goodrelations/v1#",grddl:"http://www.w3.org/2003/g/data-view#",ht:"http://www.w3.org/2006/http#",ical:"http://www.w3.org/2002/12/cal/icaltzd#",ldp:"http://www.w3.org/ns/ldp#",ma:"http://www.w3.org/ns/ma-ont#",oa:"http://www.w3.org/ns/oa#",odrl:"http://www.w3.org/ns/odrl/2/",og:"http://ogp.me/ns#",org:"http://www.w3.org/ns/org#",owl:"http://www.w3.org/2002/07/owl#",prov:"http://www.w3.org/ns/prov#",ptr:"http://www.w3.org/2009/pointers#",qb:"http://purl.org/linked-data/cube#",rev:"http://purl.org/stuff/rev#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfa:"http://www.w3.org/ns/rdfa#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",rif:"http://www.w3.org/2007/rif#",rr:"http://www.w3.org/ns/r2rml#",schema:"http://schema.org/",sd:"http://www.w3.org/ns/sparql-service-description#",sioc:"http://rdfs.org/sioc/ns#",skos:"http://www.w3.org/2004/02/skos/core#",skosxl:"http://www.w3.org/2008/05/skos-xl#",ssn:"http://www.w3.org/ns/ssn/",sosa:"http://www.w3.org/ns/sosa/",time:"http://www.w3.org/2006/time#",v:"http://rdf.data-vocabulary.org/#",vcard:"http://www.w3.org/2006/vcard/ns#",void:"http://rdfs.org/ns/void#",wdr:"http://www.w3.org/2007/05/powder#",wdrs:"http://www.w3.org/2007/05/powder-s#",xhv:"http://www.w3.org/1999/xhtml/vocab#",xml:"http://www.w3.org/XML/1998/namespace",xsd:"http://www.w3.org/2001/XMLSchema#",describedby:"http://www.w3.org/2007/05/powder-s#describedby",license:"http://www.w3.org/1999/xhtml/vocab#license",role:"http://www.w3.org/1999/xhtml/vocab#role"}};var _s={},DM;function Gx(){return DM||(DM=1,Object.defineProperty(_s,"__esModule",{value:!0}),_s.RDFA_CONTENTTYPES=_s.RDFA_FEATURES=void 0,_s.RDFA_FEATURES={"":{baseTag:!0,xmlBase:!0,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!0,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!0,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!0,roleAttribute:!0},core:{baseTag:!1,xmlBase:!1,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!1,datetimeAttribute:!1,timeTag:!1,htmlDatatype:!1,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!1,roleAttribute:!1},html:{baseTag:!0,xmlBase:!1,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!0,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!0,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!1,roleAttribute:!0},xhtml:{baseTag:!0,xmlBase:!1,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!0,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!0,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!0,roleAttribute:!0},xml:{baseTag:!1,xmlBase:!0,langAttribute:!0,onlyAllowUriRelRevIfProperty:!1,inheritSubjectInHeadBody:!1,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!1,copyRdfaPatterns:!1,xmlnsPrefixMappings:!0,xhtmlInitialContext:!1,roleAttribute:!0}},_s.RDFA_CONTENTTYPES={"text/html":"html","application/xhtml+xml":"xhtml","application/xml":"xml","text/xml":"xml","image/svg+xml":"xml"}),_s}var gd={},_d={},bd={},CM;function a5(){if(CM)return bd;CM=1,Object.defineProperty(bd,"__esModule",{value:!0}),bd.BlankNode=void 0;class e{constructor(r){this.termType="BlankNode",this.value=r}equals(r){return!!r&&r.termType==="BlankNode"&&r.value===this.value}}return bd.BlankNode=e,bd}var vd={},wd={},LM;function o5(){if(LM)return wd;LM=1,Object.defineProperty(wd,"__esModule",{value:!0}),wd.DefaultGraph=void 0;class e{constructor(){this.termType="DefaultGraph",this.value=""}equals(r){return!!r&&r.termType==="DefaultGraph"}}return wd.DefaultGraph=e,e.INSTANCE=new e,wd}var Sd={},Ed={},MM;function Wx(){if(MM)return Ed;MM=1,Object.defineProperty(Ed,"__esModule",{value:!0}),Ed.NamedNode=void 0;class e{constructor(r){this.termType="NamedNode",this.value=r}equals(r){return!!r&&r.termType==="NamedNode"&&r.value===this.value}}return Ed.NamedNode=e,Ed}var kM;function s5(){if(kM)return Sd;kM=1,Object.defineProperty(Sd,"__esModule",{value:!0}),Sd.Literal=void 0;const e=Wx();class t{constructor(n,i){this.termType="Literal",this.value=n,typeof i=="string"?(this.language=i,this.datatype=t.RDF_LANGUAGE_STRING):i?(this.language="",this.datatype=i):(this.language="",this.datatype=t.XSD_STRING)}equals(n){return!!n&&n.termType==="Literal"&&n.value===this.value&&n.language===this.language&&this.datatype.equals(n.datatype)}}return Sd.Literal=t,t.RDF_LANGUAGE_STRING=new e.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.XSD_STRING=new e.NamedNode("http://www.w3.org/2001/XMLSchema#string"),Sd}var Td={},FM;function u5(){if(FM)return Td;FM=1,Object.defineProperty(Td,"__esModule",{value:!0}),Td.Quad=void 0;class e{constructor(r,n,i,a){this.termType="Quad",this.value="",this.subject=r,this.predicate=n,this.object=i,this.graph=a}equals(r){return!!r&&(r.termType==="Quad"||!r.termType)&&this.subject.equals(r.subject)&&this.predicate.equals(r.predicate)&&this.object.equals(r.object)&&this.graph.equals(r.graph)}}return Td.Quad=e,Td}var xd={},jM;function l5(){if(jM)return xd;jM=1,Object.defineProperty(xd,"__esModule",{value:!0}),xd.Variable=void 0;class e{constructor(r){this.termType="Variable",this.value=r}equals(r){return!!r&&r.termType==="Variable"&&r.value===this.value}}return xd.Variable=e,xd}var qM;function nne(){if(qM)return vd;qM=1,Object.defineProperty(vd,"__esModule",{value:!0}),vd.DataFactory=void 0;const e=a5(),t=o5(),r=s5(),n=Wx(),i=u5(),a=l5();let o=0;class s{constructor(u){this.blankNodeCounter=0,u=u||{},this.blankNodePrefix=u.blankNodePrefix||`df_${o++}_`}namedNode(u){return new n.NamedNode(u)}blankNode(u){return new e.BlankNode(u||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(u,f){return new r.Literal(u,f)}variable(u){return new a.Variable(u)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(u,f,d,c){return new i.Quad(u,f,d,c||this.defaultGraph())}fromTerm(u){switch(u.termType){case"NamedNode":return this.namedNode(u.value);case"BlankNode":return this.blankNode(u.value);case"Literal":return u.language?this.literal(u.value,u.language):u.datatype.equals(r.Literal.XSD_STRING)?this.literal(u.value):this.literal(u.value,this.fromTerm(u.datatype));case"Variable":return this.variable(u.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(u.subject),this.fromTerm(u.predicate),this.fromTerm(u.object),this.fromTerm(u.graph))}}fromQuad(u){return this.fromTerm(u)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return vd.DataFactory=s,vd}var BM;function ine(){return BM||(BM=1,function(e){var t=_d.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=_d.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(a5(),e),r(nne(),e),r(o5(),e),r(s5(),e),r(Wx(),e),r(u5(),e),r(l5(),e)}(_d)),_d}var $M;function f5(){if($M)return gd;$M=1,Object.defineProperty(gd,"__esModule",{value:!0}),gd.Util=void 0;const e=Ii(),t=Gx(),r=ine();class n{constructor(a,o){this.dataFactory=a||new r.DataFactory,this.baseIRI=this.dataFactory.namedNode(o||""),this.baseIRIDocument=this.baseIRI}static parsePrefixes(a,o,s){const l={};if(s)for(const u in a)u.startsWith("xmlns")&&(l[u.substr(6)]=a[u]);if(a.prefix||Object.keys(l).length>0){const u=Object.assign(Object.assign({},o),l);if(a.prefix){let f;for(;f=n.PREFIX_REGEX.exec(a.prefix);)u[f[1]]=f[2]}return u}else return o}static expandPrefixedTerm(a,o){const s=a.indexOf(":");let l,u;if(s>=0&&(l=a.substr(0,s),u=a.substr(s+1)),l==="")return"http://www.w3.org/1999/xhtml/vocab#"+u;if(l){const f=o.prefixesAll[l];if(f)return f+u}if(a){const f=o.prefixesAll[a.toLocaleLowerCase()];if(f)return f}return a}static isValidIri(a){return n.IRI_REGEX.test(a)}static contentTypeToProfile(a){return t.RDFA_CONTENTTYPES[a]||""}getBaseIRI(a){let o=a;const s=o.indexOf("#");return s>=0&&(o=o.substr(0,s)),this.dataFactory.namedNode((0,e.resolve)(o,this.baseIRI.value))}getResourceOrBaseIri(a,o){return a===!0?this.getBaseIriTerm(o):a}getBaseIriTerm(a){return a.localBaseIRI||this.baseIRI}createVocabIris(a,o,s,l){return a.split(/\s+/).filter(u=>u&&(s||u.indexOf(":")>=0)).map(u=>this.createIri(u,o,!0,!0,l)).filter(u=>u!=null)}createLiteral(a,o){if(o.interpretObjectAsTime&&!o.datatype){for(const s of n.TIME_REGEXES)if(a.match(s.regex)){o.datatype=this.dataFactory.namedNode(n.XSD+s.type);break}}return this.dataFactory.literal(a,o.datatype||o.language)}createBlankNode(){return this.blankNodeFactory?this.blankNodeFactory():this.dataFactory.blankNode()}createIri(a,o,s,l,u){if(a=a||"",!l)return s||(a=(0,e.resolve)(a,this.getBaseIriTerm(o).value)),n.isValidIri(a)?this.dataFactory.namedNode(a):null;if(a.length>0&&a[0]==="["&&a[a.length-1]==="]"&&(a=a.substr(1,a.length-2),a.indexOf(":")<0))return null;if(a.startsWith("_:"))return u?this.dataFactory.blankNode(a.substr(2)||"b_identity"):null;if(s&&o.vocab&&a.indexOf(":")<0)return this.dataFactory.namedNode(o.vocab+a);let f=n.expandPrefixedTerm(a,o);return s?a!==f&&(f=(0,e.resolve)(f,this.baseIRIDocument.value)):f=(0,e.resolve)(f,this.getBaseIriTerm(o).value),n.isValidIri(f)?this.dataFactory.namedNode(f):null}}return gd.Util=n,n.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",n.XSD="http://www.w3.org/2001/XMLSchema#",n.RDFA="http://www.w3.org/ns/rdfa#",n.PREFIX_REGEX=/\s*([^:\s]*)*:\s*([^\s]*)*\s*/g,n.TIME_REGEXES=[{regex:/^-?P([0-9]+Y)?([0-9]+M)?([0-9]+D)?(T([0-9]+H)?([0-9]+M)?([0-9]+(\.[0-9])?S)?)?$/,type:"duration"},{regex:/^[0-9]+-[0-9][0-9]-[0-9][0-9]T[0-9][0-9]:[0-9][0-9]:[0-9][0-9]((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,type:"dateTime"},{regex:/^[0-9]+-[0-9][0-9]-[0-9][0-9]Z?$/,type:"date"},{regex:/^[0-9][0-9]:[0-9][0-9]:[0-9][0-9]((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,type:"time"},{regex:/^[0-9]+-[0-9][0-9]$/,type:"gYearMonth"},{regex:/^[0-9]+$/,type:"gYear"}],n.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`]*$/,gd}var UM;function ane(){if(UM)return pd;UM=1,Object.defineProperty(pd,"__esModule",{value:!0}),pd.RdfaParser=void 0;const e=ene(),t=Ki(),r=tne,n=rne,i=Gx(),a=f5();let o=class c5 extends t.Transform{constructor(l){super({readableObjectMode:!0}),this.activeTagStack=[],l=l||{},this.options=l,this.util=new a.Util(l.dataFactory,l.baseIRI),this.defaultGraph=l.defaultGraph||this.util.dataFactory.defaultGraph();const u=l.contentType?a.Util.contentTypeToProfile(l.contentType):l.profile||"";this.features=l.features||i.RDFA_FEATURES[u],this.htmlParseListener=l.htmlParseListener,this.rdfaPatterns=this.features.copyRdfaPatterns?{}:null,this.pendingRdfaPatternCopies=this.features.copyRdfaPatterns?{}:null,this.parser=this.initializeParser(u==="xml"),this.activeTagStack.push({incompleteTriples:[],inlist:!1,language:l.language,listMapping:{},listMappingLocal:{},name:"",prefixesAll:Object.assign(Object.assign({},n["@context"]),this.features.xhtmlInitialContext?r["@context"]:{}),prefixesCustom:{},skipElement:!1,vocab:l.vocab})}import(l){const u=new t.PassThrough({readableObjectMode:!0});l.on("error",d=>f.emit("error",d)),l.on("data",d=>u.push(d)),l.on("end",()=>u.push(null));const f=u.pipe(new c5(this.options));return f}_transform(l,u,f){this.parser.write(l.toString()),f()}_flush(l){this.parser.end(),l()}onTagOpen(l,u){let f=this.activeTagStack.length-1;for(;f>0&&this.activeTagStack[f].skipElement;)f--;let d=this.activeTagStack[f];f!==this.activeTagStack.length-1&&(d=Object.assign(Object.assign({},d),{language:this.activeTagStack[this.activeTagStack.length-1].language,prefixesAll:this.activeTagStack[this.activeTagStack.length-1].prefixesAll,prefixesCustom:this.activeTagStack[this.activeTagStack.length-1].prefixesCustom,vocab:this.activeTagStack[this.activeTagStack.length-1].vocab}));const c={collectChildTags:d.collectChildTags,incompleteTriples:[],inlist:"inlist"in u,listMapping:[],listMappingLocal:d.listMapping,localBaseIRI:d.localBaseIRI,name:l,prefixesAll:null,prefixesCustom:null,skipElement:!1};if(this.activeTagStack.push(c),c.collectChildTags){for(const x of Object.keys(d.prefixesCustom).sort()){const I=d.prefixesCustom[x],N=x===""?"xmlns":"xmlns:"+x;N in u||(u[N]=I)}const S=Object.keys(u).map(x=>`${x}="${u[x]}"`).join(" ");if(c.text=[`<${l}${S?" "+S:""}>`],this.features.skipHandlingXmlLiteralChildren)return}let p=!0,b=!0;if(this.features.onlyAllowUriRelRevIfProperty&&("property"in u&&"rel"in u&&(p=!1,u.rel.indexOf(":")<0&&delete u.rel),"property"in u&&"rev"in u&&(b=!1,u.rev.indexOf(":")<0&&delete u.rev)),this.features.copyRdfaPatterns){if(d.collectedPatternTag){const S={attributes:u,children:[],name:l,referenced:!1,rootPattern:!1,text:[]};d.collectedPatternTag.children.push(S),c.collectedPatternTag=S;return}if(u.typeof==="rdfa:Pattern"){c.collectedPatternTag={attributes:u,children:[],name:l,parentTag:d,referenced:!1,rootPattern:!0,text:[]};return}if(u.property==="rdfa:copy"){const S=u.resource||u.href||u.src;this.rdfaPatterns[S]?this.emitPatternCopy(d,this.rdfaPatterns[S],S):(this.pendingRdfaPatternCopies[S]||(this.pendingRdfaPatternCopies[S]=[]),this.pendingRdfaPatternCopies[S].push(d));return}}this.features.baseTag&&l==="base"&&u.href&&(this.util.baseIRI=this.util.getBaseIRI(u.href)),this.features.xmlBase&&u["xml:base"]&&(c.localBaseIRI=this.util.getBaseIRI(u["xml:base"])),this.features.timeTag&&l==="time"&&!u.datatype&&(c.interpretObjectAsTime=!0);let v,_,y;if("vocab"in u?u.vocab?(c.vocab=u.vocab,this.emitTriple(this.util.getBaseIriTerm(c),this.util.dataFactory.namedNode(a.Util.RDFA+"usesVocabulary"),this.util.dataFactory.namedNode(c.vocab))):c.vocab=this.activeTagStack[0].vocab:c.vocab=d.vocab,c.prefixesCustom=a.Util.parsePrefixes(u,d.prefixesCustom,this.features.xmlnsPrefixMappings),c.prefixesAll=Object.keys(c.prefixesCustom).length>0?Object.assign(Object.assign({},d.prefixesAll),c.prefixesCustom):d.prefixesAll,this.features.roleAttribute&&u.role){const S=u.id?this.util.createIri("#"+u.id,c,!1,!1,!1):this.util.createBlankNode(),x=c.vocab;c.vocab="http://www.w3.org/1999/xhtml/vocab#";for(const I of this.util.createVocabIris(u.role,c,!0,!1))this.emitTriple(S,this.util.dataFactory.namedNode("http://www.w3.org/1999/xhtml/vocab#role"),I);c.vocab=x}"xml:lang"in u||this.features.langAttribute&&"lang"in u?c.language=u["xml:lang"]||u.lang:c.language=d.language;const m=this.activeTagStack.length===2;if(!("rel"in u)&&!("rev"in u)?"property"in u&&!("content"in u)&&!("datatype"in u)?("about"in u?(v=this.util.createIri(u.about,c,!1,!0,!0),c.explicitNewSubject=!!v):m?v=!0:d.object&&(v=d.object),"typeof"in u&&("about"in u&&(y=this.util.createIri(u.about,c,!1,!0,!0)),!y&&m&&(y=!0),!y&&"resource"in u&&(y=this.util.createIri(u.resource,c,!1,!0,!0)),!y&&("href"in u||"src"in u)&&(y=this.util.createIri(u.href||u.src,c,!1,!1,!0)),!y&&this.isInheritSubjectInHeadBody(l)&&(y=v),y||(y=this.util.createBlankNode()),_=y)):(("about"in u||"resource"in u)&&(v=this.util.createIri(u.about||u.resource,c,!1,!0,!0),c.explicitNewSubject=!!v),!v&&("href"in u||"src"in u)&&(v=this.util.createIri(u.href||u.src,c,!1,!1,!0),c.explicitNewSubject=!!v),v||(m?v=!0:this.isInheritSubjectInHeadBody(l)?v=d.object:"typeof"in u?(v=this.util.createBlankNode(),c.explicitNewSubject=!0):d.object&&(v=d.object,"property"in u||(c.skipElement=!0))),"typeof"in u&&(y=v)):("about"in u?(v=this.util.createIri(u.about,c,!1,!0,!0),c.explicitNewSubject=!!v,"typeof"in u&&(y=v)):m?v=!0:d.object&&(v=d.object),"resource"in u&&(_=this.util.createIri(u.resource,c,!1,!0,!0)),_||("href"in u||"src"in u?_=this.util.createIri(u.href||u.src,c,!1,!1,!0):"typeof"in u&&!("about"in u)&&!this.isInheritSubjectInHeadBody(l)&&(_=this.util.createBlankNode())),"typeof"in u&&!("about"in u)&&(this.isInheritSubjectInHeadBody(l)?y=v:y=_)),y)for(const S of this.util.createVocabIris(u.typeof,c,!0,!0))this.emitTriple(this.util.getResourceOrBaseIri(y,c),this.util.dataFactory.namedNode(a.Util.RDF+"type"),S);if(v&&(c.listMapping={}),_){if("rel"in u&&"inlist"in u)for(const S of this.util.createVocabIris(u.rel,c,p,!1))this.addListMapping(c,v,S,_);if(!("rel"in u&&"inlist"in u)){if("rel"in u)for(const S of this.util.createVocabIris(u.rel,c,p,!1))this.emitTriple(this.util.getResourceOrBaseIri(v,c),S,this.util.getResourceOrBaseIri(_,c));if("rev"in u)for(const S of this.util.createVocabIris(u.rev,c,b,!1))this.emitTriple(this.util.getResourceOrBaseIri(_,c),S,this.util.getResourceOrBaseIri(v,c))}}if(!_){if("rel"in u)if("inlist"in u)for(const S of this.util.createVocabIris(u.rel,c,p,!1))this.addListMapping(c,v,S,null),c.incompleteTriples.push({predicate:S,reverse:!1,list:!0});else for(const S of this.util.createVocabIris(u.rel,c,p,!1))c.incompleteTriples.push({predicate:S,reverse:!1});if("rev"in u)for(const S of this.util.createVocabIris(u.rev,c,b,!1))c.incompleteTriples.push({predicate:S,reverse:!0});c.incompleteTriples.length>0&&(_=this.util.createBlankNode())}if("property"in u){c.predicates=this.util.createVocabIris(u.property,c,!0,!1);let S;if("datatype"in u?(c.datatype=this.util.createIri(u.datatype,c,!0,!0,!1),c.datatype&&(c.datatype.value===a.Util.RDF+"XMLLiteral"||this.features.htmlDatatype&&c.datatype.value===a.Util.RDF+"HTML")&&(c.collectChildTags=!0)):(!("rev"in u)&&!("rel"in u)&&!("content"in u)&&("resource"in u&&(S=this.util.createIri(u.resource,c,!1,!0,!0)),!S&&"href"in u&&(S=this.util.createIri(u.href,c,!1,!1,!0)),!S&&"src"in u&&(S=this.util.createIri(u.src,c,!1,!1,!0))),"typeof"in u&&!("about"in u)&&(S=y)),"content"in u){const x=this.util.createLiteral(u.content,c);if("inlist"in u)for(const I of c.predicates)this.addListMapping(c,v,I,x);else{const I=this.util.getResourceOrBaseIri(v,c);for(const N of c.predicates)this.emitTriple(I,N,x)}c.predicates=null}else if(this.features.datetimeAttribute&&"datetime"in u){c.interpretObjectAsTime=!0;const x=this.util.createLiteral(u.datetime,c);if("inlist"in u)for(const I of c.predicates)this.addListMapping(c,v,I,x);else{const I=this.util.getResourceOrBaseIri(v,c);for(const N of c.predicates)this.emitTriple(I,N,x)}c.predicates=null}else if(S){const x=this.util.getResourceOrBaseIri(S,c);if("inlist"in u)for(const I of c.predicates)this.addListMapping(c,v,I,x);else{const I=this.util.getResourceOrBaseIri(v,c);for(const N of c.predicates)this.emitTriple(I,N,x)}c.predicates=null}}let g=!1;if(!c.skipElement&&v&&d.incompleteTriples.length>0){g=!0;const S=this.util.getResourceOrBaseIri(d.subject,c),x=this.util.getResourceOrBaseIri(v,c);for(const I of d.incompleteTriples)if(I.reverse)this.emitTriple(x,I.predicate,S);else if(I.list){let N=null;for(let q=this.activeTagStack.length-1;q>=0;q--)if(this.activeTagStack[q].inlist){N=this.activeTagStack[q];break}this.addListMapping(N,v,I.predicate,x)}else this.emitTriple(S,I.predicate,x)}!g&&d.incompleteTriples.length>0&&(c.incompleteTriples=c.incompleteTriples.concat(d.incompleteTriples)),c.subject=v||d.subject,c.object=_||v}onText(l){const u=this.activeTagStack[this.activeTagStack.length-1];if(this.features.copyRdfaPatterns&&u.collectedPatternTag){u.collectedPatternTag.text.push(l);return}u.text||(u.text=[]),u.text.push(l)}onTagClose(){const l=this.activeTagStack[this.activeTagStack.length-1],u=this.activeTagStack[this.activeTagStack.length-2];if(!(l.collectChildTags&&u.collectChildTags&&this.features.skipHandlingXmlLiteralChildren)){if(this.features.copyRdfaPatterns&&l.collectedPatternTag&&l.collectedPatternTag.rootPattern){const f=l.collectedPatternTag.attributes.resource;if(delete l.collectedPatternTag.attributes.resource,delete l.collectedPatternTag.attributes.typeof,this.rdfaPatterns[f]=l.collectedPatternTag,this.pendingRdfaPatternCopies[f]){for(const d of this.pendingRdfaPatternCopies[f])this.emitPatternCopy(d,l.collectedPatternTag,f);delete this.pendingRdfaPatternCopies[f]}this.activeTagStack.pop();return}if(l.predicates){const f=this.util.getResourceOrBaseIri(l.subject,l);let d=l.text||[];l.collectChildTags&&u.collectChildTags&&(d=d.slice(1));const c=this.util.createLiteral(d.join(""),l);if(l.inlist)for(const p of l.predicates)this.addListMapping(l,f,p,c);else for(const p of l.predicates)this.emitTriple(f,p,c);u.predicates||(l.text=null)}if(l.object&&Object.keys(l.listMapping).length>0){const f=this.util.getResourceOrBaseIri(l.object,l);for(const d in l.listMapping){const c=this.util.dataFactory.namedNode(d),p=l.listMapping[d];if(p.length>0){const b=p.map(()=>this.util.createBlankNode());for(let v=0;v<p.length;v++){const _=this.util.getResourceOrBaseIri(p[v],l);this.emitTriple(b[v],this.util.dataFactory.namedNode(a.Util.RDF+"first"),_),this.emitTriple(b[v],this.util.dataFactory.namedNode(a.Util.RDF+"rest"),v<p.length-1?b[v+1]:this.util.dataFactory.namedNode(a.Util.RDF+"nil"))}this.emitTriple(f,c,b[0])}else this.emitTriple(f,c,this.util.dataFactory.namedNode(a.Util.RDF+"nil"))}}}this.activeTagStack.pop(),l.collectChildTags&&l.text&&l.text.push(`</${l.name}>`),l.text&&u&&(u.text?u.text=u.text.concat(l.text):u.text=l.text)}onEnd(){if(this.features.copyRdfaPatterns){this.features.copyRdfaPatterns=!1;for(const l in this.rdfaPatterns){const u=this.rdfaPatterns[l];u.referenced||(u.attributes.typeof="rdfa:Pattern",u.attributes.resource=l,this.emitPatternCopy(u.parentTag,u,l),u.referenced=!1,delete u.attributes.typeof,delete u.attributes.resource)}for(const l in this.pendingRdfaPatternCopies)for(const u of this.pendingRdfaPatternCopies[l])this.activeTagStack.push(u),this.onTagOpen("link",{property:"rdfa:copy",href:l}),this.onTagClose(),this.activeTagStack.pop();this.features.copyRdfaPatterns=!0}}isInheritSubjectInHeadBody(l){return this.features.inheritSubjectInHeadBody&&(l==="head"||l==="body")}addListMapping(l,u,f,d){if(l.explicitNewSubject){const c=this.util.createBlankNode();this.emitTriple(this.util.getResourceOrBaseIri(u,l),f,c),this.emitTriple(c,this.util.dataFactory.namedNode(a.Util.RDF+"first"),this.util.getResourceOrBaseIri(d,l)),this.emitTriple(c,this.util.dataFactory.namedNode(a.Util.RDF+"rest"),this.util.dataFactory.namedNode(a.Util.RDF+"nil"))}else{let c=l.listMappingLocal[f.value];c||(l.listMappingLocal[f.value]=c=[]),d&&c.push(d)}}emitTriple(l,u,f){l.termType==="NamedNode"&&l.value.indexOf(":")<0||u.termType==="NamedNode"&&u.value.indexOf(":")<0||f.termType==="NamedNode"&&f.value.indexOf(":")<0||this.push(this.util.dataFactory.quad(l,u,f,this.defaultGraph))}emitPatternCopy(l,u,f){if(this.activeTagStack.push(l),u.referenced=!0,!u.constructedBlankNodes)u.constructedBlankNodes=[],this.util.blankNodeFactory=()=>{const d=this.util.dataFactory.blankNode();return u.constructedBlankNodes.push(d),d};else{let d=0;this.util.blankNodeFactory=()=>u.constructedBlankNodes[d++]}this.emitPatternCopyAbsolute(u,!0,f),this.util.blankNodeFactory=null,this.activeTagStack.pop()}emitPatternCopyAbsolute(l,u,f){if(!(!u&&l.attributes.property==="rdfa:copy"&&l.attributes.href===f)){this.onTagOpen(l.name,l.attributes);for(const d of l.text)this.onText(d);for(const d of l.children)this.emitPatternCopyAbsolute(d,!1,f);this.onTagClose()}}initializeParser(l){return new e.Parser({onclosetag:()=>{try{this.onTagClose(),this.htmlParseListener&&this.htmlParseListener.onTagClose()}catch(u){this.emit("error",u)}},onend:()=>{try{this.onEnd(),this.htmlParseListener&&this.htmlParseListener.onEnd()}catch(u){this.emit("error",u)}},onopentag:(u,f)=>{try{this.onTagOpen(u,f),this.htmlParseListener&&this.htmlParseListener.onTagOpen(u,f)}catch(d){this.emit("error",d)}},ontext:u=>{try{this.onText(u),this.htmlParseListener&&this.htmlParseListener.onText(u)}catch(f){this.emit("error",f)}}},{decodeEntities:!0,recognizeSelfClosing:!0,xmlMode:l})}};return pd.RdfaParser=o,pd}var VM;function d5(){return VM||(VM=1,function(e){var t=hd.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=hd.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r($re(),e),r(Ure(),e),r(Vre(),e),r(ane(),e),r(Gx(),e),r(f5(),e)}(hd)),hd}var HM;function one(){if(HM)return dd;HM=1,Object.defineProperty(dd,"__esModule",{value:!0}),dd.ActorRdfParseXmlRdfa=void 0;const e=bl(),t=Qi(),r=d5();let n=class extends e.ActorRdfParseFixedMediaTypes{constructor(a){super(a)}async runHandle(a,o,s){var d;const l=a.context.getSafe(t.KeysInitQuery.dataFactory),u=(a.headers&&a.headers.get("content-language"))??void 0;a.data.on("error",c=>f.emit("error",c));const f=a.data.pipe(new r.RdfaParser({dataFactory:l,baseIRI:(d=a.metadata)==null?void 0:d.baseIRI,profile:"xml",language:u}));return{data:f,metadata:{triples:!0}}}};return dd.ActorRdfParseXmlRdfa=n,dd}var zM;function sne(){return zM||(zM=1,function(e){var t=cd.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=cd.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(one(),e)}(cd)),cd}var Rd={},Ad={},Zm={},DS,GM;function une(){if(GM)return DS;GM=1;var e=function(){var t=function(Ve,$e,ut,lt){for(ut=ut||{},lt=Ve.length;lt--;ut[Ve[lt]]=$e);return ut},r=[7,12,13,14,15,16,20,25,115,130],n=[7,13,16,20,25,115,130],i=[7,13,16,115,130],a=[1,25],o=[1,29],s=[1,27],l=[1,28],u=[13,16,115,130],f=[13,16,28,38,40,42,44,46,48,53,56,61,67,85,87,92,93,95,96,102,110,111,115,119,120,126,128,129,130,131,132,133,134,135,136],d=[28,56],c=[1,42],p=[46,48,53,56],b=[1,54],v=[1,60],_=[1,56],y=[1,57],m=[1,58],g=[1,63],S=[1,64],x=[1,65],I=[1,66],N=[1,67],q=[1,68],D=[1,75],M=[28,46,48,53,56],j=[28,42,46,48,53,56],P=[13,16,28,38,40,42,44,46,48,53,56,92,115,119,120,130,131,132,133,134,135,136],B=[13,16,28,38,40,42,44,46,48,53,56,67,85,87,92,95,96,115,119,120,126,128,129,130,131,132,133,134,135,136],Y=[13,16,38,40,44,92,115,119,120,130,131,132,133,134,135,136],ie=[13,16,28,38,40,42,44,46,48,53,56,67,85,87,92,95,96,115,117,118,119,120,126,128,129,130,131,132,133,134,135,136],X=[13,16,28,56,115,130],le=[13,16,38,58,87,96,109,115,126,130],ae=[1,116],ne=[1,112],H=[1,108],oe=[1,114],he=[1,111],Z=[7,13,16,20,25,44,48,53,56,67,85,87,95,96,115,128,129,130],Q=[48,53],ee=[48,53,87,96,126],O=[13,16,44,48,53,56,85,87,95,96,115,128,129,130],A=[1,126],$=[13,16,40,44,48,53,56,85,87,95,96,115,128,129,130],te=[1,129],pe=[48,53,67,87,96,126],R=[13,16,40,44,48,53,56,67,85,87,95,96,115,128,129,130],w=[1,133],T=[13,16,40,44,48,53,56,67,85,87,95,96,102,115,128,129,130],k=[13,16,40,44,48,53,56,67,85,87,93,95,96,102,110,111,115,128,129,130],U=[1,151],re=[1,153],fe=[1,156],ve=[1,157],ce=[1,158],Ie=[1,167],be=[1,175],Te=[13,16,44,48,53,56,67,85,87,95,96,115,128,129,130],je=[13,16,44,48,53,56,67,85,87,95,96,115,126,128,129,130],Ae=[13,16,46,92,115,119,120,130,131,132,133,134,135,136],Oe={trace:function(){},yy:{},symbols_:{error:2,shaclDoc:3,shaclDoc_repetition0:4,shaclDoc_repetition1:5,ttlSection:6,EOF:7,directive:8,baseDecl:9,importsDecl:10,prefixDecl:11,KW_BASE:12,IRIREF:13,KW_IMPORTS:14,KW_PREFIX:15,PNAME_NS:16,nodeShapeIri:17,iri:18,nodeShape:19,KW_SHAPE:20,nodeShape_option0:21,nodeShape_option1:22,nodeShapeBody:23,shapeClass:24,KW_SHAPE_CLASS:25,shapeClass_option0:26,turtleAnnotation:27,";":28,turtleAnnotation2:29,predicate:30,turtleAnnotation2_option0:31,objectList:32,object:33,objectList_repetition0:34,iriOrLiteral:35,blankNodeSection:36,list:37,"(":38,list_repetition0:39,")":40,objectTail:41,",":42,LB:43,"[":44,RB:45,"]":46,LP:47,"%":48,RP:49,pcSection:50,iriHead:51,ttlStatement:52,".":53,ttlSection_repetition0:54,startNodeShape:55,"{":56,endNodeShape:57,"}":58,nodeShapeBody_repetition0:59,targetClass:60,"->":61,targetClass_repetition_plus0:62,constraint:63,constraint_group0:64,constraint_option0:65,orNotComponent:66,"|":67,nodeNot:68,nodeOrEmit:69,nodeOr:70,nodeOr_repetition_plus0:71,nodeValue:72,negation:73,nodeValue_group0:74,"=":75,iriOrLiteralOrArray:76,propertyShape:77,path:78,propertyShape_repetition0:79,propertyOrComponent:80,propertyNot:81,propertyOr:82,propertyOr_repetition_plus0:83,propertyAtom:84,NODEKIND:85,shapeRef:86,PARAM:87,propertyCount:88,propertyMinCount:89,"..":90,propertyMaxCount:91,INTEGER:92,"*":93,shapeRef_group0:94,"@":95,"!":96,pathAlternative:97,additionalAlternative:98,pathSequence:99,pathAlternative_repetition_plus0:100,additionalSequence:101,"/":102,pathEltOrInverse:103,pathSequence_repetition_plus0:104,pathElt:105,pathPrimary:106,pathMod:107,pathInverse:108,"^":109,"?":110,"+":111,iriOrLiteralOrArray_repetition0:112,literal:113,iri_group0:114,a:115,string:116,LANGTAG:117,"^^":118,DECIMAL:119,DOUBLE:120,literal_group0:121,string_group0:122,string_group1:123,shaclDoc_repetition1_group0:124,constraint_group0_repetition_plus0:125,TARGET:126,propertyShape_repetition0_group0:127,ATPNAME_LN:128,ATPNAME_NS:129,PNAME_LN:130,KW_TRUE:131,KW_FALSE:132,STRING_LITERAL1:133,STRING_LITERAL2:134,STRING_LITERAL_LONG1:135,STRING_LITERAL_LONG2:136,$accept:0,$end:1},terminals_:{2:"error",7:"EOF",12:"KW_BASE",13:"IRIREF",14:"KW_IMPORTS",15:"KW_PREFIX",16:"PNAME_NS",20:"KW_SHAPE",25:"KW_SHAPE_CLASS",28:";",38:"(",40:")",42:",",44:"[",46:"]",48:"%",53:".",56:"{",58:"}",61:"->",67:"|",75:"=",85:"NODEKIND",87:"PARAM",90:"..",92:"INTEGER",93:"*",95:"@",96:"!",102:"/",109:"^",110:"?",111:"+",115:"a",117:"LANGTAG",118:"^^",119:"DECIMAL",120:"DOUBLE",126:"TARGET",128:"ATPNAME_LN",129:"ATPNAME_NS",130:"PNAME_LN",131:"KW_TRUE",132:"KW_FALSE",133:"STRING_LITERAL1",134:"STRING_LITERAL2",135:"STRING_LITERAL_LONG1",136:"STRING_LITERAL_LONG2"},productions_:[0,[3,4],[8,1],[8,1],[8,1],[9,2],[10,2],[11,3],[17,1],[19,5],[24,4],[27,2],[29,2],[30,2],[32,2],[33,1],[33,1],[33,1],[37,3],[41,2],[43,1],[45,1],[36,3],[47,1],[49,1],[50,3],[51,1],[52,3],[6,1],[55,1],[57,1],[23,3],[60,2],[63,3],[66,2],[69,1],[70,1],[70,2],[68,1],[68,2],[72,3],[77,2],[80,2],[82,1],[82,2],[81,1],[81,2],[84,1],[84,1],[84,1],[84,3],[84,1],[88,5],[89,1],[91,1],[91,1],[86,1],[86,2],[73,1],[78,1],[98,2],[97,1],[97,2],[101,2],[99,1],[99,2],[105,1],[105,2],[103,1],[103,2],[108,1],[107,1],[107,1],[107,1],[106,1],[106,3],[76,1],[76,3],[35,1],[35,1],[18,1],[18,1],[18,1],[113,1],[113,2],[113,3],[113,1],[113,1],[113,1],[113,1],[116,1],[116,1],[4,0],[4,2],[124,1],[124,1],[5,0],[5,2],[21,0],[21,1],[22,0],[22,1],[26,0],[26,1],[31,0],[31,1],[34,0],[34,2],[39,0],[39,2],[54,0],[54,2],[59,0],[59,2],[62,1],[62,2],[125,1],[125,2],[64,1],[64,1],[65,0],[65,1],[71,1],[71,2],[74,1],[74,1],[127,1],[127,1],[79,0],[79,2],[83,1],[83,2],[94,1],[94,1],[100,1],[100,2],[104,1],[104,2],[112,0],[112,2],[114,1],[114,1],[121,1],[121,1],[122,1],[122,1],[123,1],[123,1]],performAction:function($e,ut,lt,dt,ct,nt,lr){var at=nt.length-1;switch(ct){case 1:this.$=W(De.factory.namedNode(xe("")),De.factory.namedNode(Ke),De.factory.namedNode(de+"Ontology"));break;case 5:De.base=De.factory.namedNode(nt[at].slice(1,-1)),De.n3Parser._setBase(De.base.value);break;case 6:this.$=W(De.base,De.factory.namedNode(de+"imports"),De.factory.namedNode(nt[at].slice(1,-1)));break;case 7:this.$=De.prefixes[nt[at-1].substr(0,nt[at-1].length-1)]=xe(nt[at]);break;case 8:De.nodeShapeStack=!1,W(De.currentNodeShape=nt[at],De.factory.namedNode(Ke),De.factory.namedNode(ge+"NodeShape"));break;case 10:this.$=W(De.currentNodeShape,De.factory.namedNode(Ke),De.factory.namedNode(Re+"Class"));break;case 11:this.$=Se();break;case 13:this.$=nt[at].forEach(We=>W(De.currentNodeShape,nt[at-1],We));break;case 14:this.$=[nt[at-1],...nt[at]];break;case 18:this.$=V(nt[at-1],!0);break;case 19:case 34:case 42:case 60:case 63:this.$=nt[at];break;case 20:De.tempCurrentNodeShape=De.currentNodeShape,this.$=De.currentNodeShape=He();break;case 21:De.currentNodeShape=De.tempCurrentNodeShape;break;case 22:case 31:this.$=nt[at-2];break;case 23:De.tempCurrentNodeShape=De.currentNodeShape,De.currentNodeShape=De.currentPropertyNode;break;case 24:De.currentNodeShape=De.tempCurrentNodeShape;break;case 26:De.currentNodeShape=nt[at];break;case 29:De.nodeShapeStack?(De.nodeShapeStack.push(De.currentNodeShape),W(De.currentPropertyNode,De.factory.namedNode(ge+"node"),De.currentNodeShape=He())):De.nodeShapeStack=[],this.$=De.currentNodeShape;break;case 30:De.nodeShapeStack.length>0&&(De.currentNodeShape=De.nodeShapeStack.pop());break;case 32:this.$=nt[at].forEach(We=>{W(De.currentNodeShape,De.factory.namedNode(ge+"targetClass"),We)});break;case 35:this.$=W(De.currentNodeShape,De.factory.namedNode(ge+nt[at][0]),nt[at][1]);break;case 36:break;case 37:const Ne=V([nt[at-1],...nt[at]].map(We=>{const ht=He();return W(ht,De.factory.namedNode(ge+We[0]),We[1]),ht}));this.$=["or",Ne];break;case 39:case 46:this.$=J("not",...nt[at]);break;case 40:case 50:this.$=[nt[at-2],nt[at]];break;case 43:this.$=nt[at]&&G(...nt[at]);break;case 44:this.$=G("or",V([nt[at-1],...nt[at]].map(We=>{const ht=He();return W(ht,De.factory.namedNode(ge+We[0]),We[1]),ht})));break;case 47:this.$=[Be[nt[at].value]?"datatype":"class",nt[at]];break;case 48:this.$=["nodeKind",De.factory.namedNode(ge+nt[at])];break;case 49:this.$=["node",De.factory.namedNode(nt[at])];break;case 51:this.$=void 0;break;case 53:this.$=nt[at]>0&&G("minCount",me(nt[at],K));break;case 54:this.$=G("maxCount",me(nt[at],K));break;case 56:this.$=Ce(nt[at].slice(1));break;case 57:this.$=xe(nt[at]);break;case 59:W(De.currentNodeShape,De.factory.namedNode(ge+"property"),De.currentPropertyNode=He()),G("path",nt[at]);break;case 62:const Ge=He();W(Ge,De.factory.namedNode(ge+"alternativePath"),V([nt[at-1],...nt[at]])),this.$=Ge;break;case 65:this.$=V([nt[at-1],...nt[at]]);break;case 67:W(this.$=He(),De.factory.namedNode(ge+nt[at]),nt[at-1]);break;case 69:W(this.$=He(),De.factory.namedNode(ge+"inversePath"),nt[at]);break;case 71:this.$="zeroOrOnePath";break;case 72:this.$="zeroOrMorePath";break;case 73:this.$="oneOrMorePath";break;case 75:this.$=nt[at-1];break;case 77:this.$=V(nt[at-1]);break;case 80:this.$=De.factory.namedNode(xe(nt[at]));break;case 81:this.$=De.factory.namedNode(Ce(nt[at]));break;case 82:this.$=Se(De.factory.namedNode(Ke));break;case 83:this.$=me(nt[at]);break;case 84:this.$=Me(nt[at-1],lowercase(nt[at].substr(1)));break;case 85:this.$=me(nt[at-2],nt[at]);break;case 86:this.$=me(nt[at],K);break;case 87:this.$=me(nt[at],_e);break;case 88:this.$=me(nt[at].toLowerCase(),Pe);break;case 89:this.$=me(nt[at].toLowerCase(),se);break;case 90:this.$=we(nt[at],1);break;case 91:this.$=we(nt[at],3);break;case 92:case 96:case 106:case 108:case 110:case 112:case 128:case 138:this.$=[];break;case 93:case 97:case 107:case 109:case 111:case 113:case 115:case 117:case 123:case 129:case 131:case 135:case 137:case 139:nt[at-1].push(nt[at]);break;case 114:case 116:case 122:case 130:case 134:case 136:this.$=[nt[at]];break}},table:[t(r,[2,92],{3:1,4:2}),{1:[3]},t(n,[2,96],{5:3,8:4,9:5,10:6,11:7,12:[1,8],14:[1,9],15:[1,10]}),t(i,[2,110],{6:11,124:12,54:13,19:14,24:15,20:[1,16],25:[1,17]}),t(r,[2,93]),t(r,[2,2]),t(r,[2,3]),t(r,[2,4]),{13:[1,18]},{13:[1,19]},{16:[1,20]},{7:[1,21]},t(n,[2,97]),{7:[2,28],13:a,16:o,18:24,51:23,52:22,114:26,115:s,130:l},t(n,[2,94]),t(n,[2,95]),{13:a,16:o,17:30,18:31,114:26,115:s,130:l},{13:a,16:o,17:32,18:31,114:26,115:s,130:l},t(r,[2,5]),t(r,[2,6]),{13:[1,33]},{1:[2,1]},t(i,[2,111]),{13:a,16:o,18:36,29:34,30:35,114:26,115:s,130:l},t(u,[2,26]),t(f,[2,80]),t(f,[2,81]),t(f,[2,82]),t(f,[2,140]),t(f,[2,141]),t(d,[2,98],{21:37,60:38,61:[1,39]}),t([28,56,61],[2,8]),{26:40,27:41,28:c,56:[2,102]},t(r,[2,7]),{53:[1,43]},t(p,[2,104],{31:44,27:45,28:c}),{13:a,16:o,18:51,32:46,33:47,35:48,36:49,37:50,38:b,43:53,44:v,92:_,113:52,114:26,115:s,116:55,119:y,120:m,121:59,122:61,123:62,130:l,131:g,132:S,133:x,134:I,135:N,136:q},{22:69,27:70,28:c,56:[2,100]},t(d,[2,99]),{13:a,16:o,18:72,62:71,114:26,115:s,130:l},{23:73,55:74,56:D},{56:[2,103]},{13:a,16:o,18:36,29:76,30:35,114:26,115:s,130:l},t(i,[2,27]),t(p,[2,12]),t(p,[2,105]),t(M,[2,13]),t(j,[2,106],{34:77}),t(P,[2,15]),t(P,[2,16]),t(P,[2,17]),t(B,[2,78]),t(B,[2,79]),{13:a,16:o,18:36,29:78,30:35,114:26,115:s,130:l},t(Y,[2,108],{39:79}),t(B,[2,83],{117:[1,80],118:[1,81]}),t(B,[2,86]),t(B,[2,87]),t(B,[2,88]),t(B,[2,89]),t(u,[2,20]),t(ie,[2,90]),t(ie,[2,91]),t(B,[2,142]),t(B,[2,143]),t(ie,[2,144]),t(ie,[2,145]),t(ie,[2,146]),t(ie,[2,147]),{23:82,55:74,56:D},{56:[2,101]},t(d,[2,32],{114:26,18:83,13:a,16:o,115:s,130:l}),t(X,[2,114]),t(n,[2,10]),t(le,[2,112],{59:84}),t(le,[2,29]),t(p,[2,11]),t(M,[2,14],{41:85,42:[1,86]}),{45:87,46:[1,88]},{13:a,16:o,18:51,33:90,35:48,36:49,37:50,38:b,40:[1,89],43:53,44:v,92:_,113:52,114:26,115:s,116:55,119:y,120:m,121:59,122:61,123:62,130:l,131:g,132:S,133:x,134:I,135:N,136:q},t(B,[2,84]),{13:a,16:o,18:91,114:26,115:s,130:l},t(n,[2,9]),t(X,[2,115]),{13:a,16:o,18:115,38:ae,57:92,58:[1,94],63:93,64:95,68:102,69:98,70:100,72:104,73:105,74:107,77:97,78:99,87:ne,96:H,97:101,99:103,103:106,105:109,106:113,108:110,109:oe,114:26,115:s,125:96,126:he,130:l},t(j,[2,107]),{13:a,16:o,18:51,33:117,35:48,36:49,37:50,38:b,43:53,44:v,92:_,113:52,114:26,115:s,116:55,119:y,120:m,121:59,122:61,123:62,130:l,131:g,132:S,133:x,134:I,135:N,136:q},t(P,[2,22]),t(P,[2,21]),t(P,[2,18]),t(Y,[2,109]),t(B,[2,85]),t(Z,[2,31]),t(le,[2,113]),t(Z,[2,30]),{47:120,48:[1,121],50:119,53:[2,120],65:118},t(Q,[2,118],{70:100,68:102,72:104,73:105,74:107,69:122,87:ne,96:H,126:he}),t(Q,[2,119]),t(ee,[2,116]),t(O,[2,128],{79:123}),t(ee,[2,35]),t(O,[2,59]),t(ee,[2,36],{71:124,66:125,67:A}),t($,[2,61],{100:127,98:128,67:te}),t(pe,[2,38]),{72:130,74:107,87:ne,126:he},t(R,[2,64],{104:131,101:132,102:w}),{75:[1,134]},t([13,16,56,85,87,95,115,126,128,129,130],[2,58]),t(T,[2,68]),{13:a,16:o,18:115,38:ae,105:135,106:113,114:26,115:s,130:l},{75:[2,124]},{75:[2,125]},t(T,[2,66],{107:136,93:[1,138],110:[1,137],111:[1,139]}),t([13,16,38,115,130],[2,70]),t(k,[2,74]),{13:a,16:o,18:115,38:ae,97:140,99:103,103:106,105:109,106:113,108:110,109:oe,114:26,115:s,130:l},t(j,[2,19]),{53:[1,141]},{53:[2,121]},{13:a,16:o,18:36,29:142,30:35,114:26,115:s,130:l},t(u,[2,23]),t(ee,[2,117]),t(Q,[2,41],{114:26,55:74,127:143,88:144,82:145,81:147,84:148,73:149,18:150,86:152,23:154,94:155,13:a,16:o,44:[1,146],56:D,85:U,87:re,95:fe,96:H,115:s,128:ve,129:ce,130:l}),t(ee,[2,37],{66:159,67:A}),t(pe,[2,122]),{68:160,72:104,73:105,74:107,87:ne,96:H,126:he},t($,[2,62],{98:161,67:te}),t(R,[2,134]),{13:a,16:o,18:115,38:ae,99:162,103:106,105:109,106:113,108:110,109:oe,114:26,115:s,130:l},t(pe,[2,39]),t(R,[2,65],{101:163,102:w}),t(T,[2,136]),{13:a,16:o,18:115,38:ae,103:164,105:109,106:113,108:110,109:oe,114:26,115:s,130:l},{13:a,16:o,18:51,35:166,44:Ie,76:165,92:_,113:52,114:26,115:s,116:55,119:y,120:m,121:59,122:61,123:62,130:l,131:g,132:S,133:x,134:I,135:N,136:q},t(T,[2,69]),t(T,[2,67]),t(T,[2,71]),t(T,[2,72]),t(T,[2,73]),{40:[1,168]},t(le,[2,33]),{48:[1,170],49:169},t(O,[2,129]),t(O,[2,126]),t(O,[2,127]),{89:171,92:[1,172]},t(O,[2,43],{83:173,80:174,67:be}),t(Te,[2,45]),{13:a,16:o,18:150,23:154,55:74,56:D,84:176,85:U,86:152,87:re,94:155,95:fe,114:26,115:s,128:ve,129:ce,130:l},t(Te,[2,47]),t(Te,[2,48]),t(Te,[2,49]),{75:[1,177]},t(Te,[2,51]),t(Te,[2,56]),{13:[1,178]},t(Te,[2,132]),t(Te,[2,133]),t(pe,[2,123]),t(pe,[2,34]),t(R,[2,135]),t(R,[2,60]),t(T,[2,137]),t(T,[2,63]),t(pe,[2,40]),t(je,[2,76]),t(Ae,[2,138],{112:179}),t(k,[2,75]),{53:[2,25]},{53:[2,24]},{90:[1,180]},{90:[2,53]},t(O,[2,44],{80:181,67:be}),t(Te,[2,130]),{13:a,16:o,18:150,23:154,55:74,56:D,73:149,81:182,84:148,85:U,86:152,87:re,94:155,95:fe,96:H,114:26,115:s,128:ve,129:ce,130:l},t(Te,[2,46]),{13:a,16:o,18:51,35:166,44:Ie,76:183,92:_,113:52,114:26,115:s,116:55,119:y,120:m,121:59,122:61,123:62,130:l,131:g,132:S,133:x,134:I,135:N,136:q},t(Te,[2,57]),{13:a,16:o,18:51,35:185,46:[1,184],92:_,113:52,114:26,115:s,116:55,119:y,120:m,121:59,122:61,123:62,130:l,131:g,132:S,133:x,134:I,135:N,136:q},{91:186,92:[1,187],93:[1,188]},t(Te,[2,131]),t(Te,[2,42]),t(Te,[2,50]),t(je,[2,77]),t(Ae,[2,139]),{46:[1,189]},{46:[2,54]},{46:[2,55]},t(O,[2,52])],defaultActions:{21:[2,1],41:[2,103],70:[2,101],111:[2,124],112:[2,125],119:[2,121],169:[2,25],170:[2,24],172:[2,53],187:[2,54],188:[2,55]},parseError:function($e,ut){if(ut.recoverable)this.trace($e);else{var lt=new Error($e);throw lt.hash=ut,lt}},parse:function($e){var ut=this,lt=[0],dt=[null],ct=[],nt=this.table,lr="",at=0,Ne=0,Ge=2,We=1,ht=ct.slice.call(arguments,1),gt=Object.create(this.lexer),Nt={yy:{}};for(var Tr in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Tr)&&(Nt.yy[Tr]=this.yy[Tr]);gt.setInput($e,Nt.yy),Nt.yy.lexer=gt,Nt.yy.parser=this,typeof gt.yylloc>"u"&&(gt.yylloc={});var En=gt.yylloc;ct.push(En);var vl=gt.options&&gt.options.ranges;typeof Nt.yy.parseError=="function"?this.parseError=Nt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var Zi=function(){var Pi;return Pi=gt.lex()||We,typeof Pi!="number"&&(Pi=ut.symbols_[Pi]||Pi),Pi},xr,wa,qn,Yo,oi={},Xo,si,ro,Ft;;){if(wa=lt[lt.length-1],this.defaultActions[wa]?qn=this.defaultActions[wa]:((xr===null||typeof xr>"u")&&(xr=Zi()),qn=nt[wa]&&nt[wa][xr]),typeof qn>"u"||!qn.length||!qn[0]){var Jt="";Ft=[];for(Xo in nt[wa])this.terminals_[Xo]&&Xo>Ge&&Ft.push("'"+this.terminals_[Xo]+"'");gt.showPosition?Jt="Parse error on line "+(at+1)+`:
`+gt.showPosition()+`
Expecting `+Ft.join(", ")+", got '"+(this.terminals_[xr]||xr)+"'":Jt="Parse error on line "+(at+1)+": Unexpected "+(xr==We?"end of input":"'"+(this.terminals_[xr]||xr)+"'"),this.parseError(Jt,{text:gt.match,token:this.terminals_[xr]||xr,line:gt.yylineno,loc:En,expected:Ft})}if(qn[0]instanceof Array&&qn.length>1)throw new Error("Parse Error: multiple actions possible at state: "+wa+", token: "+xr);switch(qn[0]){case 1:lt.push(xr),dt.push(gt.yytext),ct.push(gt.yylloc),lt.push(qn[1]),xr=null,Ne=gt.yyleng,lr=gt.yytext,at=gt.yylineno,En=gt.yylloc;break;case 2:if(si=this.productions_[qn[1]][1],oi.$=dt[dt.length-si],oi._$={first_line:ct[ct.length-(si||1)].first_line,last_line:ct[ct.length-1].last_line,first_column:ct[ct.length-(si||1)].first_column,last_column:ct[ct.length-1].last_column},vl&&(oi._$.range=[ct[ct.length-(si||1)].range[0],ct[ct.length-1].range[1]]),Yo=this.performAction.apply(oi,[lr,Ne,at,Nt.yy,qn[1],dt,ct].concat(ht)),typeof Yo<"u")return Yo;si&&(lt=lt.slice(0,-1*si*2),dt=dt.slice(0,-1*si),ct=ct.slice(0,-1*si)),lt.push(this.productions_[qn[1]][0]),dt.push(oi.$),ct.push(oi._$),ro=nt[lt[lt.length-2]][lt[lt.length-1]],lt.push(ro);break;case 3:return!0}}return!0}};const ke="http://www.w3.org/1999/02/22-rdf-syntax-ns#",Ke=ke+"type",Ue=ke+"first",it=ke+"rest",ye=ke+"nil",F="http://www.w3.org/2001/XMLSchema#",K=F+"integer",_e=F+"decimal",Pe=F+"double",se=F+"boolean",ge="http://www.w3.org/ns/shacl#",de="http://www.w3.org/2002/07/owl#",Re="http://www.w3.org/2000/01/rdf-schema#",Be={[K]:!0,[_e]:!0,[F+"float"]:!0,[Pe]:!0,[F+"string"]:!0,[se]:!0,[F+"dateTime"]:!0,[F+"nonPositiveInteger"]:!0,[F+"negativeInteger"]:!0,[F+"long"]:!0,[F+"int"]:!0,[F+"short"]:!0,[F+"byte"]:!0,[F+"nonNegativeInteger"]:!0,[F+"unsignedLong"]:!0,[F+"unsignedShort"]:!0,[F+"unsignedByte"]:!0,[F+"positiveInteger"]:!0,[ke+"langString"]:!0};function V(Ve,$e=!1){let ut=0,lt=Ve.length;if($e&&lt===0)return De.factory.namedNode(ye);const dt=head=He();return lt===0&&W(head,De.factory.namedNode(it),De.factory.namedNode(ye)),Ve.forEach(ct=>{if(ct===void 0)throw new Error("b");W(head,De.factory.namedNode(Ue),ct),W(head,De.factory.namedNode(it),head=++ut<lt?He():De.factory.namedNode(ye))}),dt}function xe(Ve){return De.n3Parser._resolveIRI(Ve[0]==="<"?Ve.substring(1,Ve.length-1):Ve)}function Ce(Ve){const $e=Ve.indexOf(":"),ut=Ve.substr(0,$e),lt=De.prefixes[ut];if(!lt)throw new Error("Unknown prefix: "+ut);return xe(lt+Ve.substr($e+1))}function me(Ve,$e){return $e&&$e.termType!=="NamedNode"&&($e=De.factory.namedNode($e)),De.factory.literal(Ve,$e)}function Me(Ve,$e){return De.factory.literal(Ve,$e)}function He(Ve){return De.factory.blankNode("g_"+ft++)}var ft=0;De._resetBlanks=function(){ft=0};function we(Ve,$e){return De.n3Parser._lexer._unescape(Ve.substring($e,Ve.length-$e))}function W(Ve,$e,ut){if(!Ve.termType||!$e.termType||$e.value.includes(",")||!ut.termType)throw new Error(`boo ${Ve.value} ${$e.value} ${ut.value}`);De.onQuad(De.factory.quad(Ve,$e,ut))}function G(Ve,$e){W(De.currentPropertyNode,De.factory.namedNode(ge+Ve),$e)}function J(Ve,$e,ut){const lt=He();return W(lt,De.factory.namedNode(ge+$e),ut),[Ve,lt]}function Se(Ve){if(!De.extended)throw new Error("Encountered extended SHACLC syntax; but extended parsing is disabled");return Ve}var Le=function(){var Ve={EOF:1,parseError:function(ut,lt){if(this.yy.parser)this.yy.parser.parseError(ut,lt);else throw new Error(ut)},setInput:function($e,ut){return this.yy=ut||this.yy||{},this._input=$e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var $e=this._input[0];this.yytext+=$e,this.yyleng++,this.offset++,this.match+=$e,this.matched+=$e;var ut=$e.match(/(?:\r\n?|\n).*/g);return ut?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),$e},unput:function($e){var ut=$e.length,lt=$e.split(/(?:\r\n?|\n)/g);this._input=$e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-ut),this.offset-=ut;var dt=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),lt.length-1&&(this.yylineno-=lt.length-1);var ct=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:lt?(lt.length===dt.length?this.yylloc.first_column:0)+dt[dt.length-lt.length].length-lt[0].length:this.yylloc.first_column-ut},this.options.ranges&&(this.yylloc.range=[ct[0],ct[0]+this.yyleng-ut]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function($e){this.unput(this.match.slice($e))},pastInput:function(){var $e=this.matched.substr(0,this.matched.length-this.match.length);return($e.length>20?"...":"")+$e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var $e=this.match;return $e.length<20&&($e+=this._input.substr(0,20-$e.length)),($e.substr(0,20)+($e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var $e=this.pastInput(),ut=new Array($e.length+1).join("-");return $e+this.upcomingInput()+`
`+ut+"^"},test_match:function($e,ut){var lt,dt,ct;if(this.options.backtrack_lexer&&(ct={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(ct.yylloc.range=this.yylloc.range.slice(0))),dt=$e[0].match(/(?:\r\n?|\n).*/g),dt&&(this.yylineno+=dt.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:dt?dt[dt.length-1].length-dt[dt.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+$e[0].length},this.yytext+=$e[0],this.match+=$e[0],this.matches=$e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice($e[0].length),this.matched+=$e[0],lt=this.performAction.call(this,this.yy,this,ut,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),lt)return lt;if(this._backtrack){for(var nt in ct)this[nt]=ct[nt];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var $e,ut,lt,dt;this._more||(this.yytext="",this.match="");for(var ct=this._currentRules(),nt=0;nt<ct.length;nt++)if(lt=this._input.match(this.rules[ct[nt]]),lt&&(!ut||lt[0].length>ut[0].length)){if(ut=lt,dt=nt,this.options.backtrack_lexer){if($e=this.test_match(lt,ct[nt]),$e!==!1)return $e;if(this._backtrack){ut=!1;continue}else return!1}else if(!this.options.flex)break}return ut?($e=this.test_match(ut,ct[dt]),$e!==!1?$e:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var ut=this.next();return ut||this.lex()},begin:function(ut){this.conditionStack.push(ut)},popState:function(){var ut=this.conditionStack.length-1;return ut>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(ut){return ut=this.conditionStack.length-1-Math.abs(ut||0),ut>=0?this.conditionStack[ut]:"INITIAL"},pushState:function(ut){this.begin(ut)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0,"case-insensitive":!0},performAction:function(ut,lt,dt,ct){switch(dt){case 0:break;case 1:return 12;case 2:return 14;case 3:return 15;case 4:return 25;case 5:return 20;case 6:return 131;case 7:return 132;case 8:return 85;case 9:return 126;case 10:return 87;case 11:return"PASS";case 12:return"COMMENT";case 13:return 13;case 14:return 16;case 15:return 130;case 16:return 129;case 17:return 128;case 18:return 117;case 19:return 92;case 20:return 119;case 21:return 120;case 22:return"EXPONENT";case 23:return 133;case 24:return 134;case 25:return 135;case 26:return 136;case 27:return 61;case 28:return 90;case 29:return 58;case 30:return 56;case 31:return 38;case 32:return 40;case 33:return 44;case 34:return 46;case 35:return 110;case 36:return 93;case 37:return 111;case 38:return 67;case 39:return 118;case 40:return 53;case 41:return 96;case 42:return 102;case 43:return 75;case 44:return 95;case 45:return 109;case 46:return 28;case 47:return 42;case 48:return 48;case 49:return 115;case 50:return 7;case 51:console.log(lt.yytext);break}},rules:[/^(?:\s+|#[^\n\r]*)/i,/^(?:BASE)/i,/^(?:IMPORTS)/i,/^(?:PREFIX)/i,/^(?:shapeClass)/i,/^(?:shape)/i,/^(?:true)/i,/^(?:false)/i,/^(?:(BlankNode|IRI|Literal|BlankNodeOrIRI|BlankNodeOrLiteral|IRIOrLiteral\b))/i,/^(?:(targetNode|targetObjectsOf|targetSubjectsOf\b))/i,/^(?:(deactivated|severity|message|class|datatype|nodeKind|minExclusive|minInclusive|maxExclusive|maxInclusive|minLength|maxLength|pattern|flags|languageIn|uniqueLang|equals|disjoint|lessThan|lessThanOrEquals|qualifiedValueShape|qualifiedMinCount|qualifiedMaxCount|qualifiedValueShapesDisjoint|closed|ignoredProperties|hasValue|in))/i,/^(?:([ \t\r\n]+))/i,/^(?:(#[\r\n]*))/i,/^(?:(<([^=<>\"\{\}\|\^`\\\u0000-\u0020]|(\\u([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])|\\U([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])))*>))/i,/^(?:((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:))/i,/^(?:(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:)(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|:|[0-9]|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))*(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%)))))?)))/i,/^(?:(@(([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:))/i,/^(?:(@((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:)(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|:|[0-9]|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))*(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%)))))?)))/i,/^(?:(@[a-zA-Z]+(-[a-zA-Z0-9]+)*))/i,/^(?:([+-]?[0-9]+))/i,/^(?:([+-]?[0-9]*\.[0-9]+))/i,/^(?:([+-]?([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.?[0-9]+([eE][+-]?[0-9]+))))/i,/^(?:([eE][+-]?[0-9]+))/i,/^(?:('(?:(?:[^\u0027\u005C\u000A\u000D])|(\\[tbnrf\\\"\']))*'))/i,/^(?:("(?:(?:[^\u0022\u005C\u000A\u000D])|(\\[tbnrf\\\"\']))*"))/i,/^(?:('''(?:(?:'|'')?(?:[^'\\]|(\\[tbnrf\\\"\'])))*'''))/i,/^(?:("""(?:(?:"|"")?(?:[^\"\\]|(\\[tbnrf\\\"\'])))*"""))/i,/^(?:->)/i,/^(?:\.\.)/i,/^(?:\})/i,/^(?:\{)/i,/^(?:\()/i,/^(?:\))/i,/^(?:\[)/i,/^(?:\])/i,/^(?:\?)/i,/^(?:\*)/i,/^(?:\+)/i,/^(?:\|)/i,/^(?:\^\^)/i,/^(?:\.)/i,/^(?:!)/i,/^(?:\/)/i,/^(?:=)/i,/^(?:@)/i,/^(?:\^)/i,/^(?:;)/i,/^(?:,)/i,/^(?:%)/i,/^(?:a)/i,/^(?:$)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],inclusive:!0}}};return Ve}();Oe.lexer=Le;function De(){this.yy={}}return De.prototype=Oe,Oe.Parser=De,new De}();return DS=e,DS}var WM;function lne(){if(WM)return Zm;WM=1;const e=une().Parser,t=Q$;class r{constructor(){}parse(i,{extendedSyntax:a,baseIRI:o}={}){this._parser=new e,this._parser.Parser.factory=t.DataFactory,this._parser.Parser.base=t.DataFactory.namedNode(o||"urn:x-base:default"),this._parser.Parser.extended=a===!0,this._parser.Parser.prefixes={rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",sh:"http://www.w3.org/ns/shacl#",xsd:"http://www.w3.org/2001/XMLSchema#"},this._parser.Parser.currentNodeShape=void 0,this._parser.Parser.currentPropertyNode=void 0,this._parser.Parser.nodeShapeStack=[],this._parser.Parser.tempCurrentNodeShape=void 0,this._parser.Parser.n3Parser=new t.Parser({baseIRI:o||"urn:x-base:default"});const s=[];return this._parser.Parser.onQuad=l=>{s.push(l)},this._parser.parse(i),s.prefixes=this._parser.Parser.prefixes,s}}return Zm.Parser=r,Zm.parse=function(i,a){return new r().parse(i,a)},Zm}var Id={},KM;function fne(){if(KM)return Id;KM=1,Object.defineProperty(Id,"__esModule",{value:!0}),Id.PrefixWrappingIterator=void 0;const e=D4();let t=class extends e.WrappingIterator{constructor(n){super(n==null?void 0:n.then(i=>(this.prefixes=i.prefixes,i)))}read(){if(this.prefixes){for(const n of Object.entries(this.prefixes))this.emit("prefix",...n);delete this.prefixes}return super.read()}};return Id.PrefixWrappingIterator=t,Id}var QM;function cne(){if(QM)return Ad;QM=1,Object.defineProperty(Ad,"__esModule",{value:!0}),Ad.ActorRdfParseShaclc=void 0;const e=bl(),t=bg(),r=Ki(),n=lne(),i=fne();let a=class extends e.ActorRdfParseFixedMediaTypes{constructor(s){super(s)}async runHandle(s,l,u){const f=new i.PrefixWrappingIterator((0,t.stringify)(s.data).then(c=>{var p;return(0,n.parse)(c,{extendedSyntax:l==="text/shaclc-ext",baseIRI:(p=s.metadata)==null?void 0:p.baseIRI})})),d=new r.Readable({objectMode:!0});return f.on("prefix",(...c)=>d.emit("prefix",...c)),{data:d.wrap(f),metadata:{triples:!0}}}};return Ad.ActorRdfParseShaclc=a,Ad}var ZM;function dne(){return ZM||(ZM=1,function(e){var t=Rd.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=Rd.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(cne(),e)}(Rd)),Rd}var Pd={},Od={},YM;function hne(){if(YM)return Od;YM=1,Object.defineProperty(Od,"__esModule",{value:!0}),Od.MediatorCombineUnion=void 0;const e=hr();let t=class extends e.Mediator{constructor(n){super(n),this.combiner=this.createCombiner()}async mediate(n){let i;try{i=this.publish(n)}catch{i=[]}if(this.filterFailures){const s=[];for(const l of i)(await l.reply).isPassed()&&s.push(l);i=s}const a=[];await Promise.all(i.map(async({reply:s},l)=>{const u=await s,f=u.getOrThrow();return a[l]=u.getSideData(),f}));const o=await Promise.all(i.map((s,l)=>s.actor.runObservable(n,a[l])));return this.combiner(o)}mediateWith(){throw new Error("Method not supported.")}createCombiner(){return n=>{const i={};return i[this.field]={},[{}].concat(n.map(a=>a[this.field])).forEach(a=>{i[this.field]={...a,...i[this.field]}}),i}}};return Od.MediatorCombineUnion=t,Od}var XM;function pne(){return XM||(XM=1,function(e){var t=Pd.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=Pd.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(hne(),e)}(Pd)),Pd}var Nd={},Dd={},bs={},ho={},hu={},JM;function h5(){if(JM)return hu;JM=1,Object.defineProperty(hu,"__esModule",{value:!0}),hu.QuoteType=void 0;var e=Fo(),t;(function(u){u[u.Tab=9]="Tab",u[u.NewLine=10]="NewLine",u[u.FormFeed=12]="FormFeed",u[u.CarriageReturn=13]="CarriageReturn",u[u.Space=32]="Space",u[u.ExclamationMark=33]="ExclamationMark",u[u.Number=35]="Number",u[u.Amp=38]="Amp",u[u.SingleQuote=39]="SingleQuote",u[u.DoubleQuote=34]="DoubleQuote",u[u.Dash=45]="Dash",u[u.Slash=47]="Slash",u[u.Zero=48]="Zero",u[u.Nine=57]="Nine",u[u.Semi=59]="Semi",u[u.Lt=60]="Lt",u[u.Eq=61]="Eq",u[u.Gt=62]="Gt",u[u.Questionmark=63]="Questionmark",u[u.UpperA=65]="UpperA",u[u.LowerA=97]="LowerA",u[u.UpperF=70]="UpperF",u[u.LowerF=102]="LowerF",u[u.UpperZ=90]="UpperZ",u[u.LowerZ=122]="LowerZ",u[u.LowerX=120]="LowerX",u[u.OpeningSquareBracket=91]="OpeningSquareBracket"})(t||(t={}));var r;(function(u){u[u.Text=1]="Text",u[u.BeforeTagName=2]="BeforeTagName",u[u.InTagName=3]="InTagName",u[u.InSelfClosingTag=4]="InSelfClosingTag",u[u.BeforeClosingTagName=5]="BeforeClosingTagName",u[u.InClosingTagName=6]="InClosingTagName",u[u.AfterClosingTagName=7]="AfterClosingTagName",u[u.BeforeAttributeName=8]="BeforeAttributeName",u[u.InAttributeName=9]="InAttributeName",u[u.AfterAttributeName=10]="AfterAttributeName",u[u.BeforeAttributeValue=11]="BeforeAttributeValue",u[u.InAttributeValueDq=12]="InAttributeValueDq",u[u.InAttributeValueSq=13]="InAttributeValueSq",u[u.InAttributeValueNq=14]="InAttributeValueNq",u[u.BeforeDeclaration=15]="BeforeDeclaration",u[u.InDeclaration=16]="InDeclaration",u[u.InProcessingInstruction=17]="InProcessingInstruction",u[u.BeforeComment=18]="BeforeComment",u[u.CDATASequence=19]="CDATASequence",u[u.InSpecialComment=20]="InSpecialComment",u[u.InCommentLike=21]="InCommentLike",u[u.BeforeSpecialS=22]="BeforeSpecialS",u[u.BeforeSpecialT=23]="BeforeSpecialT",u[u.SpecialStartSequence=24]="SpecialStartSequence",u[u.InSpecialTag=25]="InSpecialTag",u[u.InEntity=26]="InEntity"})(r||(r={}));function n(u){return u===t.Space||u===t.NewLine||u===t.Tab||u===t.FormFeed||u===t.CarriageReturn}function i(u){return u===t.Slash||u===t.Gt||n(u)}function a(u){return u>=t.LowerA&&u<=t.LowerZ||u>=t.UpperA&&u<=t.UpperZ}var o;(function(u){u[u.NoValue=0]="NoValue",u[u.Unquoted=1]="Unquoted",u[u.Single=2]="Single",u[u.Double=3]="Double"})(o||(hu.QuoteType=o={}));var s={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])},l=function(){function u(f,d){var c=f.xmlMode,p=c===void 0?!1:c,b=f.decodeEntities,v=b===void 0?!0:b,_=this;this.cbs=d,this.state=r.Text,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=r.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.xmlMode=p,this.decodeEntities=v,this.entityDecoder=new e.EntityDecoder(p?e.xmlDecodeTree:e.htmlDecodeTree,function(y,m){return _.emitCodePoint(y,m)})}return u.prototype.reset=function(){this.state=r.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=r.Text,this.currentSequence=void 0,this.running=!0,this.offset=0},u.prototype.write=function(f){this.offset+=this.buffer.length,this.buffer=f,this.parse()},u.prototype.end=function(){this.running&&this.finish()},u.prototype.pause=function(){this.running=!1},u.prototype.resume=function(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()},u.prototype.stateText=function(f){f===t.Lt||!this.decodeEntities&&this.fastForwardTo(t.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=r.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&f===t.Amp&&this.startEntity()},u.prototype.stateSpecialStartSequence=function(f){var d=this.sequenceIndex===this.currentSequence.length,c=d?i(f):(f|32)===this.currentSequence[this.sequenceIndex];if(!c)this.isSpecial=!1;else if(!d){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=r.InTagName,this.stateInTagName(f)},u.prototype.stateInSpecialTag=function(f){if(this.sequenceIndex===this.currentSequence.length){if(f===t.Gt||n(f)){var d=this.index-this.currentSequence.length;if(this.sectionStart<d){var c=this.index;this.index=d,this.cbs.ontext(this.sectionStart,d),this.index=c}this.isSpecial=!1,this.sectionStart=d+2,this.stateInClosingTagName(f);return}this.sequenceIndex=0}(f|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===s.TitleEnd?this.decodeEntities&&f===t.Amp&&this.startEntity():this.fastForwardTo(t.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(f===t.Lt)},u.prototype.stateCDATASequence=function(f){f===s.Cdata[this.sequenceIndex]?++this.sequenceIndex===s.Cdata.length&&(this.state=r.InCommentLike,this.currentSequence=s.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=r.InDeclaration,this.stateInDeclaration(f))},u.prototype.fastForwardTo=function(f){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===f)return!0;return this.index=this.buffer.length+this.offset-1,!1},u.prototype.stateInCommentLike=function(f){f===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===s.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=r.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):f!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)},u.prototype.isTagStartChar=function(f){return this.xmlMode?!i(f):a(f)},u.prototype.startSpecial=function(f,d){this.isSpecial=!0,this.currentSequence=f,this.sequenceIndex=d,this.state=r.SpecialStartSequence},u.prototype.stateBeforeTagName=function(f){if(f===t.ExclamationMark)this.state=r.BeforeDeclaration,this.sectionStart=this.index+1;else if(f===t.Questionmark)this.state=r.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(f)){var d=f|32;this.sectionStart=this.index,this.xmlMode?this.state=r.InTagName:d===s.ScriptEnd[2]?this.state=r.BeforeSpecialS:d===s.TitleEnd[2]?this.state=r.BeforeSpecialT:this.state=r.InTagName}else f===t.Slash?this.state=r.BeforeClosingTagName:(this.state=r.Text,this.stateText(f))},u.prototype.stateInTagName=function(f){i(f)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(f))},u.prototype.stateBeforeClosingTagName=function(f){n(f)||(f===t.Gt?this.state=r.Text:(this.state=this.isTagStartChar(f)?r.InClosingTagName:r.InSpecialComment,this.sectionStart=this.index))},u.prototype.stateInClosingTagName=function(f){(f===t.Gt||n(f))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=r.AfterClosingTagName,this.stateAfterClosingTagName(f))},u.prototype.stateAfterClosingTagName=function(f){(f===t.Gt||this.fastForwardTo(t.Gt))&&(this.state=r.Text,this.sectionStart=this.index+1)},u.prototype.stateBeforeAttributeName=function(f){f===t.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=r.InSpecialTag,this.sequenceIndex=0):this.state=r.Text,this.sectionStart=this.index+1):f===t.Slash?this.state=r.InSelfClosingTag:n(f)||(this.state=r.InAttributeName,this.sectionStart=this.index)},u.prototype.stateInSelfClosingTag=function(f){f===t.Gt?(this.cbs.onselfclosingtag(this.index),this.state=r.Text,this.sectionStart=this.index+1,this.isSpecial=!1):n(f)||(this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(f))},u.prototype.stateInAttributeName=function(f){(f===t.Eq||i(f))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=this.index,this.state=r.AfterAttributeName,this.stateAfterAttributeName(f))},u.prototype.stateAfterAttributeName=function(f){f===t.Eq?this.state=r.BeforeAttributeValue:f===t.Slash||f===t.Gt?(this.cbs.onattribend(o.NoValue,this.sectionStart),this.sectionStart=-1,this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(f)):n(f)||(this.cbs.onattribend(o.NoValue,this.sectionStart),this.state=r.InAttributeName,this.sectionStart=this.index)},u.prototype.stateBeforeAttributeValue=function(f){f===t.DoubleQuote?(this.state=r.InAttributeValueDq,this.sectionStart=this.index+1):f===t.SingleQuote?(this.state=r.InAttributeValueSq,this.sectionStart=this.index+1):n(f)||(this.sectionStart=this.index,this.state=r.InAttributeValueNq,this.stateInAttributeValueNoQuotes(f))},u.prototype.handleInAttributeValue=function(f,d){f===d||!this.decodeEntities&&this.fastForwardTo(d)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(d===t.DoubleQuote?o.Double:o.Single,this.index+1),this.state=r.BeforeAttributeName):this.decodeEntities&&f===t.Amp&&this.startEntity()},u.prototype.stateInAttributeValueDoubleQuotes=function(f){this.handleInAttributeValue(f,t.DoubleQuote)},u.prototype.stateInAttributeValueSingleQuotes=function(f){this.handleInAttributeValue(f,t.SingleQuote)},u.prototype.stateInAttributeValueNoQuotes=function(f){n(f)||f===t.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(o.Unquoted,this.index),this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(f)):this.decodeEntities&&f===t.Amp&&this.startEntity()},u.prototype.stateBeforeDeclaration=function(f){f===t.OpeningSquareBracket?(this.state=r.CDATASequence,this.sequenceIndex=0):this.state=f===t.Dash?r.BeforeComment:r.InDeclaration},u.prototype.stateInDeclaration=function(f){(f===t.Gt||this.fastForwardTo(t.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=r.Text,this.sectionStart=this.index+1)},u.prototype.stateInProcessingInstruction=function(f){(f===t.Gt||this.fastForwardTo(t.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=r.Text,this.sectionStart=this.index+1)},u.prototype.stateBeforeComment=function(f){f===t.Dash?(this.state=r.InCommentLike,this.currentSequence=s.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=r.InDeclaration},u.prototype.stateInSpecialComment=function(f){(f===t.Gt||this.fastForwardTo(t.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=r.Text,this.sectionStart=this.index+1)},u.prototype.stateBeforeSpecialS=function(f){var d=f|32;d===s.ScriptEnd[3]?this.startSpecial(s.ScriptEnd,4):d===s.StyleEnd[3]?this.startSpecial(s.StyleEnd,4):(this.state=r.InTagName,this.stateInTagName(f))},u.prototype.stateBeforeSpecialT=function(f){var d=f|32;d===s.TitleEnd[3]?this.startSpecial(s.TitleEnd,4):d===s.TextareaEnd[3]?this.startSpecial(s.TextareaEnd,4):(this.state=r.InTagName,this.stateInTagName(f))},u.prototype.startEntity=function(){this.baseState=this.state,this.state=r.InEntity,this.entityStart=this.index,this.entityDecoder.startEntity(this.xmlMode?e.DecodingMode.Strict:this.baseState===r.Text||this.baseState===r.InSpecialTag?e.DecodingMode.Legacy:e.DecodingMode.Attribute)},u.prototype.stateInEntity=function(){var f=this.entityDecoder.write(this.buffer,this.index-this.offset);f>=0?(this.state=this.baseState,f===0&&(this.index=this.entityStart)):this.index=this.offset+this.buffer.length-1},u.prototype.cleanup=function(){this.running&&this.sectionStart!==this.index&&(this.state===r.Text||this.state===r.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===r.InAttributeValueDq||this.state===r.InAttributeValueSq||this.state===r.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))},u.prototype.shouldContinue=function(){return this.index<this.buffer.length+this.offset&&this.running},u.prototype.parse=function(){for(;this.shouldContinue();){var f=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case r.Text:{this.stateText(f);break}case r.SpecialStartSequence:{this.stateSpecialStartSequence(f);break}case r.InSpecialTag:{this.stateInSpecialTag(f);break}case r.CDATASequence:{this.stateCDATASequence(f);break}case r.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(f);break}case r.InAttributeName:{this.stateInAttributeName(f);break}case r.InCommentLike:{this.stateInCommentLike(f);break}case r.InSpecialComment:{this.stateInSpecialComment(f);break}case r.BeforeAttributeName:{this.stateBeforeAttributeName(f);break}case r.InTagName:{this.stateInTagName(f);break}case r.InClosingTagName:{this.stateInClosingTagName(f);break}case r.BeforeTagName:{this.stateBeforeTagName(f);break}case r.AfterAttributeName:{this.stateAfterAttributeName(f);break}case r.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(f);break}case r.BeforeAttributeValue:{this.stateBeforeAttributeValue(f);break}case r.BeforeClosingTagName:{this.stateBeforeClosingTagName(f);break}case r.AfterClosingTagName:{this.stateAfterClosingTagName(f);break}case r.BeforeSpecialS:{this.stateBeforeSpecialS(f);break}case r.BeforeSpecialT:{this.stateBeforeSpecialT(f);break}case r.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(f);break}case r.InSelfClosingTag:{this.stateInSelfClosingTag(f);break}case r.InDeclaration:{this.stateInDeclaration(f);break}case r.BeforeDeclaration:{this.stateBeforeDeclaration(f);break}case r.BeforeComment:{this.stateBeforeComment(f);break}case r.InProcessingInstruction:{this.stateInProcessingInstruction(f);break}case r.InEntity:{this.stateInEntity();break}}this.index++}this.cleanup()},u.prototype.finish=function(){this.state===r.InEntity&&(this.entityDecoder.end(),this.state=this.baseState),this.handleTrailingData(),this.cbs.onend()},u.prototype.handleTrailingData=function(){var f=this.buffer.length+this.offset;this.sectionStart>=f||(this.state===r.InCommentLike?this.currentSequence===s.CdataEnd?this.cbs.oncdata(this.sectionStart,f,0):this.cbs.oncomment(this.sectionStart,f,0):this.state===r.InTagName||this.state===r.BeforeAttributeName||this.state===r.BeforeAttributeValue||this.state===r.AfterAttributeName||this.state===r.InAttributeName||this.state===r.InAttributeValueSq||this.state===r.InAttributeValueDq||this.state===r.InAttributeValueNq||this.state===r.InClosingTagName||this.cbs.ontext(this.sectionStart,f))},u.prototype.emitCodePoint=function(f,d){this.baseState!==r.Text&&this.baseState!==r.InSpecialTag?(this.sectionStart<this.entityStart&&this.cbs.onattribdata(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+d,this.index=this.sectionStart-1,this.cbs.onattribentity(f)):(this.sectionStart<this.entityStart&&this.cbs.ontext(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+d,this.index=this.sectionStart-1,this.cbs.ontextentity(f,this.sectionStart))},u}();return hu.default=l,hu}var ek;function tk(){if(ek)return ho;ek=1;var e=ho.__createBinding||(Object.create?function(_,y,m,g){g===void 0&&(g=m);var S=Object.getOwnPropertyDescriptor(y,m);(!S||("get"in S?!y.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return y[m]}}),Object.defineProperty(_,g,S)}:function(_,y,m,g){g===void 0&&(g=m),_[g]=y[m]}),t=ho.__setModuleDefault||(Object.create?function(_,y){Object.defineProperty(_,"default",{enumerable:!0,value:y})}:function(_,y){_.default=y}),r=ho.__importStar||function(_){if(_&&_.__esModule)return _;var y={};if(_!=null)for(var m in _)m!=="default"&&Object.prototype.hasOwnProperty.call(_,m)&&e(y,_,m);return t(y,_),y};Object.defineProperty(ho,"__esModule",{value:!0}),ho.Parser=void 0;var n=r(h5()),i=Fo(),a=new Set(["input","option","optgroup","select","button","datalist","textarea"]),o=new Set(["p"]),s=new Set(["thead","tbody"]),l=new Set(["dd","dt"]),u=new Set(["rt","rp"]),f=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",o],["h1",o],["h2",o],["h3",o],["h4",o],["h5",o],["h6",o],["select",a],["input",a],["output",a],["button",a],["datalist",a],["textarea",a],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",l],["dt",l],["address",o],["article",o],["aside",o],["blockquote",o],["details",o],["div",o],["dl",o],["fieldset",o],["figcaption",o],["figure",o],["footer",o],["form",o],["header",o],["hr",o],["main",o],["nav",o],["ol",o],["pre",o],["section",o],["table",o],["ul",o],["rt",u],["rp",u],["tbody",s],["tfoot",s]]),d=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),c=new Set(["math","svg"]),p=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),b=/\s|\//,v=function(){function _(y,m){m===void 0&&(m={});var g,S,x,I,N,q;this.options=m,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=y??{},this.htmlMode=!this.options.xmlMode,this.lowerCaseTagNames=(g=m.lowerCaseTags)!==null&&g!==void 0?g:this.htmlMode,this.lowerCaseAttributeNames=(S=m.lowerCaseAttributeNames)!==null&&S!==void 0?S:this.htmlMode,this.recognizeSelfClosing=(x=m.recognizeSelfClosing)!==null&&x!==void 0?x:!this.htmlMode,this.tokenizer=new((I=m.Tokenizer)!==null&&I!==void 0?I:n.default)(this.options,this),this.foreignContext=[!this.htmlMode],(q=(N=this.cbs).onparserinit)===null||q===void 0||q.call(N,this)}return _.prototype.ontext=function(y,m){var g,S,x=this.getSlice(y,m);this.endIndex=m-1,(S=(g=this.cbs).ontext)===null||S===void 0||S.call(g,x),this.startIndex=m},_.prototype.ontextentity=function(y,m){var g,S;this.endIndex=m-1,(S=(g=this.cbs).ontext)===null||S===void 0||S.call(g,(0,i.fromCodePoint)(y)),this.startIndex=m},_.prototype.isVoidElement=function(y){return this.htmlMode&&d.has(y)},_.prototype.onopentagname=function(y,m){this.endIndex=m;var g=this.getSlice(y,m);this.lowerCaseTagNames&&(g=g.toLowerCase()),this.emitOpenTag(g)},_.prototype.emitOpenTag=function(y){var m,g,S,x;this.openTagStart=this.startIndex,this.tagname=y;var I=this.htmlMode&&f.get(y);if(I)for(;this.stack.length>0&&I.has(this.stack[0]);){var N=this.stack.shift();(g=(m=this.cbs).onclosetag)===null||g===void 0||g.call(m,N,!0)}this.isVoidElement(y)||(this.stack.unshift(y),this.htmlMode&&(c.has(y)?this.foreignContext.unshift(!0):p.has(y)&&this.foreignContext.unshift(!1))),(x=(S=this.cbs).onopentagname)===null||x===void 0||x.call(S,y),this.cbs.onopentag&&(this.attribs={})},_.prototype.endOpenTag=function(y){var m,g;this.startIndex=this.openTagStart,this.attribs&&((g=(m=this.cbs).onopentag)===null||g===void 0||g.call(m,this.tagname,this.attribs,y),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""},_.prototype.onopentagend=function(y){this.endIndex=y,this.endOpenTag(!1),this.startIndex=y+1},_.prototype.onclosetag=function(y,m){var g,S,x,I,N,q,D,M;this.endIndex=m;var j=this.getSlice(y,m);if(this.lowerCaseTagNames&&(j=j.toLowerCase()),this.htmlMode&&(c.has(j)||p.has(j))&&this.foreignContext.shift(),this.isVoidElement(j))this.htmlMode&&j==="br"&&((I=(x=this.cbs).onopentagname)===null||I===void 0||I.call(x,"br"),(q=(N=this.cbs).onopentag)===null||q===void 0||q.call(N,"br",{},!0),(M=(D=this.cbs).onclosetag)===null||M===void 0||M.call(D,"br",!1));else{var P=this.stack.indexOf(j);if(P!==-1)for(var B=0;B<=P;B++){var Y=this.stack.shift();(S=(g=this.cbs).onclosetag)===null||S===void 0||S.call(g,Y,B!==P)}else this.htmlMode&&j==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=m+1},_.prototype.onselfclosingtag=function(y){this.endIndex=y,this.recognizeSelfClosing||this.foreignContext[0]?(this.closeCurrentTag(!1),this.startIndex=y+1):this.onopentagend(y)},_.prototype.closeCurrentTag=function(y){var m,g,S=this.tagname;this.endOpenTag(y),this.stack[0]===S&&((g=(m=this.cbs).onclosetag)===null||g===void 0||g.call(m,S,!y),this.stack.shift())},_.prototype.onattribname=function(y,m){this.startIndex=y;var g=this.getSlice(y,m);this.attribname=this.lowerCaseAttributeNames?g.toLowerCase():g},_.prototype.onattribdata=function(y,m){this.attribvalue+=this.getSlice(y,m)},_.prototype.onattribentity=function(y){this.attribvalue+=(0,i.fromCodePoint)(y)},_.prototype.onattribend=function(y,m){var g,S;this.endIndex=m,(S=(g=this.cbs).onattribute)===null||S===void 0||S.call(g,this.attribname,this.attribvalue,y===n.QuoteType.Double?'"':y===n.QuoteType.Single?"'":y===n.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""},_.prototype.getInstructionName=function(y){var m=y.search(b),g=m<0?y:y.substr(0,m);return this.lowerCaseTagNames&&(g=g.toLowerCase()),g},_.prototype.ondeclaration=function(y,m){this.endIndex=m;var g=this.getSlice(y,m);if(this.cbs.onprocessinginstruction){var S=this.getInstructionName(g);this.cbs.onprocessinginstruction("!".concat(S),"!".concat(g))}this.startIndex=m+1},_.prototype.onprocessinginstruction=function(y,m){this.endIndex=m;var g=this.getSlice(y,m);if(this.cbs.onprocessinginstruction){var S=this.getInstructionName(g);this.cbs.onprocessinginstruction("?".concat(S),"?".concat(g))}this.startIndex=m+1},_.prototype.oncomment=function(y,m,g){var S,x,I,N;this.endIndex=m,(x=(S=this.cbs).oncomment)===null||x===void 0||x.call(S,this.getSlice(y,m-g)),(N=(I=this.cbs).oncommentend)===null||N===void 0||N.call(I),this.startIndex=m+1},_.prototype.oncdata=function(y,m,g){var S,x,I,N,q,D,M,j,P,B;this.endIndex=m;var Y=this.getSlice(y,m-g);!this.htmlMode||this.options.recognizeCDATA?((x=(S=this.cbs).oncdatastart)===null||x===void 0||x.call(S),(N=(I=this.cbs).ontext)===null||N===void 0||N.call(I,Y),(D=(q=this.cbs).oncdataend)===null||D===void 0||D.call(q)):((j=(M=this.cbs).oncomment)===null||j===void 0||j.call(M,"[CDATA[".concat(Y,"]]")),(B=(P=this.cbs).oncommentend)===null||B===void 0||B.call(P)),this.startIndex=m+1},_.prototype.onend=function(){var y,m;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(var g=0;g<this.stack.length;g++)this.cbs.onclosetag(this.stack[g],!0)}(m=(y=this.cbs).onend)===null||m===void 0||m.call(y)},_.prototype.reset=function(){var y,m,g,S;(m=(y=this.cbs).onreset)===null||m===void 0||m.call(y),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(S=(g=this.cbs).onparserinit)===null||S===void 0||S.call(g,this),this.buffers.length=0,this.foreignContext.length=0,this.foreignContext.unshift(!this.htmlMode),this.bufferOffset=0,this.writeIndex=0,this.ended=!1},_.prototype.parseComplete=function(y){this.reset(),this.end(y)},_.prototype.getSlice=function(y,m){for(;y-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();for(var g=this.buffers[0].slice(y-this.bufferOffset,m-this.bufferOffset);m-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),g+=this.buffers[0].slice(0,m-this.bufferOffset);return g},_.prototype.shiftBuffer=function(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()},_.prototype.write=function(y){var m,g;if(this.ended){(g=(m=this.cbs).onerror)===null||g===void 0||g.call(m,new Error(".write() after done!"));return}this.buffers.push(y),this.tokenizer.running&&(this.tokenizer.write(y),this.writeIndex++)},_.prototype.end=function(y){var m,g;if(this.ended){(g=(m=this.cbs).onerror)===null||g===void 0||g.call(m,new Error(".end() after done!"));return}y&&this.write(y),this.ended=!0,this.tokenizer.end()},_.prototype.pause=function(){this.tokenizer.pause()},_.prototype.resume=function(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()},_.prototype.parseChunk=function(y){this.write(y)},_.prototype.done=function(y){this.end(y)},_}();return ho.Parser=v,ho}var rk;function mne(){return rk||(rk=1,function(e){var t=bs.__createBinding||(Object.create?function(m,g,S,x){x===void 0&&(x=S);var I=Object.getOwnPropertyDescriptor(g,S);(!I||("get"in I?!g.__esModule:I.writable||I.configurable))&&(I={enumerable:!0,get:function(){return g[S]}}),Object.defineProperty(m,x,I)}:function(m,g,S,x){x===void 0&&(x=S),m[x]=g[S]}),r=bs.__setModuleDefault||(Object.create?function(m,g){Object.defineProperty(m,"default",{enumerable:!0,value:g})}:function(m,g){m.default=g}),n=bs.__importStar||function(m){if(m&&m.__esModule)return m;var g={};if(m!=null)for(var S in m)S!=="default"&&Object.prototype.hasOwnProperty.call(m,S)&&t(g,m,S);return r(g,m),g},i=bs.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(e,"__esModule",{value:!0}),e.DomUtils=e.parseFeed=e.getFeed=e.ElementType=e.QuoteType=e.Tokenizer=e.createDomStream=e.createDocumentStream=e.parseDOM=e.parseDocument=e.DefaultHandler=e.DomHandler=e.Parser=void 0;var a=tk(),o=tk();Object.defineProperty(e,"Parser",{enumerable:!0,get:function(){return o.Parser}});var s=xi(),l=xi();Object.defineProperty(e,"DomHandler",{enumerable:!0,get:function(){return l.DomHandler}}),Object.defineProperty(e,"DefaultHandler",{enumerable:!0,get:function(){return l.DomHandler}});function u(m,g){var S=new s.DomHandler(void 0,g);return new a.Parser(S,g).end(m),S.root}e.parseDocument=u;function f(m,g){return u(m,g).children}e.parseDOM=f;function d(m,g,S){var x=new s.DomHandler(function(I){return m(I,x.root)},g,S);return new a.Parser(x,g)}e.createDocumentStream=d;function c(m,g,S){var x=new s.DomHandler(m,g,S);return new a.Parser(x,g)}e.createDomStream=c;var p=h5();Object.defineProperty(e,"Tokenizer",{enumerable:!0,get:function(){return i(p).default}}),Object.defineProperty(e,"QuoteType",{enumerable:!0,get:function(){return p.QuoteType}}),e.ElementType=n(Ys());var b=za(),v=za();Object.defineProperty(e,"getFeed",{enumerable:!0,get:function(){return v.getFeed}});var _={xmlMode:!0};function y(m,g){return g===void 0&&(g=_),(0,b.getFeed)(f(m,g))}e.parseFeed=y,e.DomUtils=n(za())}(bs)),bs}var nk;function yne(){if(nk)return Dd;nk=1,Object.defineProperty(Dd,"__esModule",{value:!0}),Dd.ActorRdfParseHtml=void 0;const e=bl(),t=mne(),r=Ki();class n extends e.ActorRdfParseFixedMediaTypes{constructor(a){super(a)}async runHandle(a,o,s){var b;const l=new r.Readable({objectMode:!0});l._read=()=>{};let u=0,f=1;function d(v){l.emit("error",v)}function c(){--f===0&&l.push(null)}const p={baseIRI:((b=a.metadata)==null?void 0:b.baseIRI)??"",context:s,emit:v=>{u--,l.push(v)},end:c,error:d,headers:a.headers};try{const v=await Promise.all(this.busRdfParseHtml.publish(p));f+=v.length;const _=[];for(const g of v){const{htmlParseListener:S}=await g.actor.run(p,void 0);_.push(S)}const y=new t.Parser({onclosetag(){try{for(const g of _)g.onTagClose()}catch(g){d(g)}},onend(){try{for(const g of _)g.onEnd()}catch(g){d(g)}c()},onopentag(g,S){try{for(const x of _)x.onTagOpen(g,S)}catch(x){d(x)}},ontext(g){try{for(const S of _)S.onText(g)}catch(S){d(S)}}},{decodeEntities:!0,recognizeSelfClosing:!0,xmlMode:!1}),m=l._read=g=>{for(u=Math.max(g,u);u>0;){const S=a.data.read();if(S===null){a.data.once("readable",()=>m(0));return}y.write(S.toString())}};a.data.on("error",d).on("end",()=>y.end())}catch(v){setTimeout(()=>{l.emit("error",v)})}return{data:l}}}return Dd.ActorRdfParseHtml=n,Dd}var ik;function gne(){return ik||(ik=1,function(e){var t=Nd.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=Nd.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(yne(),e)}(Nd)),Nd}var Cd={},Ld={},Md={},kd={},ak;function _ne(){if(ak)return kd;ak=1,Object.defineProperty(kd,"__esModule",{value:!0}),kd.ActorRdfParseHtml=void 0;const e=hr();let t=class extends e.Actor{constructor(n){super(n)}};return kd.ActorRdfParseHtml=t,kd}var ok;function Kx(){return ok||(ok=1,function(e){var t=Md.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=Md.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(_ne(),e)}(Md)),Md}var Fd={},CS={},sk;function bne(){return sk||(sk=1,Object.defineProperty(CS,"__esModule",{value:!0})),CS}var jd={},uk;function p5(){if(uk)return jd;uk=1,Object.defineProperty(jd,"__esModule",{value:!0}),jd.ItemPropertyHandlerContent=void 0;let e=class{canHandle(r,n){return"content"in n}getObject(r,n,i){return n.createLiteral(r.content,i)}};return jd.ItemPropertyHandlerContent=e,jd}var qd={},Bd={},$d={},Ud={},lk;function m5(){if(lk)return Ud;lk=1,Object.defineProperty(Ud,"__esModule",{value:!0}),Ud.BlankNode=void 0;class e{constructor(r){this.termType="BlankNode",this.value=r}equals(r){return!!r&&r.termType==="BlankNode"&&r.value===this.value}}return Ud.BlankNode=e,Ud}var Vd={},Hd={},fk;function y5(){if(fk)return Hd;fk=1,Object.defineProperty(Hd,"__esModule",{value:!0}),Hd.DefaultGraph=void 0;class e{constructor(){this.termType="DefaultGraph",this.value=""}equals(r){return!!r&&r.termType==="DefaultGraph"}}return Hd.DefaultGraph=e,e.INSTANCE=new e,Hd}var zd={},Gd={},ck;function Qx(){if(ck)return Gd;ck=1,Object.defineProperty(Gd,"__esModule",{value:!0}),Gd.NamedNode=void 0;class e{constructor(r){this.termType="NamedNode",this.value=r}equals(r){return!!r&&r.termType==="NamedNode"&&r.value===this.value}}return Gd.NamedNode=e,Gd}var dk;function g5(){if(dk)return zd;dk=1,Object.defineProperty(zd,"__esModule",{value:!0}),zd.Literal=void 0;const e=Qx();class t{constructor(n,i){this.termType="Literal",this.value=n,typeof i=="string"?(this.language=i,this.datatype=t.RDF_LANGUAGE_STRING):i?(this.language="",this.datatype=i):(this.language="",this.datatype=t.XSD_STRING)}equals(n){return!!n&&n.termType==="Literal"&&n.value===this.value&&n.language===this.language&&this.datatype.equals(n.datatype)}}return zd.Literal=t,t.RDF_LANGUAGE_STRING=new e.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.XSD_STRING=new e.NamedNode("http://www.w3.org/2001/XMLSchema#string"),zd}var Wd={},hk;function _5(){if(hk)return Wd;hk=1,Object.defineProperty(Wd,"__esModule",{value:!0}),Wd.Quad=void 0;class e{constructor(r,n,i,a){this.termType="Quad",this.value="",this.subject=r,this.predicate=n,this.object=i,this.graph=a}equals(r){return!!r&&(r.termType==="Quad"||!r.termType)&&this.subject.equals(r.subject)&&this.predicate.equals(r.predicate)&&this.object.equals(r.object)&&this.graph.equals(r.graph)}}return Wd.Quad=e,Wd}var Kd={},pk;function b5(){if(pk)return Kd;pk=1,Object.defineProperty(Kd,"__esModule",{value:!0}),Kd.Variable=void 0;class e{constructor(r){this.termType="Variable",this.value=r}equals(r){return!!r&&r.termType==="Variable"&&r.value===this.value}}return Kd.Variable=e,Kd}var mk;function vne(){if(mk)return Vd;mk=1,Object.defineProperty(Vd,"__esModule",{value:!0}),Vd.DataFactory=void 0;const e=m5(),t=y5(),r=g5(),n=Qx(),i=_5(),a=b5();let o=0;class s{constructor(u){this.blankNodeCounter=0,u=u||{},this.blankNodePrefix=u.blankNodePrefix||`df_${o++}_`}namedNode(u){return new n.NamedNode(u)}blankNode(u){return new e.BlankNode(u||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(u,f){return new r.Literal(u,f)}variable(u){return new a.Variable(u)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(u,f,d,c){return new i.Quad(u,f,d,c||this.defaultGraph())}fromTerm(u){switch(u.termType){case"NamedNode":return this.namedNode(u.value);case"BlankNode":return this.blankNode(u.value);case"Literal":return u.language?this.literal(u.value,u.language):u.datatype.equals(r.Literal.XSD_STRING)?this.literal(u.value):this.literal(u.value,this.fromTerm(u.datatype));case"Variable":return this.variable(u.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(u.subject),this.fromTerm(u.predicate),this.fromTerm(u.object),this.fromTerm(u.graph))}}fromQuad(u){return this.fromTerm(u)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return Vd.DataFactory=s,Vd}var yk;function wne(){return yk||(yk=1,function(e){var t=$d.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=$d.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(m5(),e),r(vne(),e),r(y5(),e),r(g5(),e),r(Qx(),e),r(_5(),e),r(b5(),e)}($d)),$d}var gk;function wg(){if(gk)return Bd;gk=1,Object.defineProperty(Bd,"__esModule",{value:!0}),Bd.Util=void 0;const e=wne(),t=Ii();class r{constructor(i,a){this.dataFactory=i||new e.DataFactory,this.baseIRI=a||""}static isValidIri(i){return r.IRI_REGEX.test(i)}createVocabIris(i,a,o){return i.split(/\s+/u).filter(s=>!!s).map(s=>{if(!r.isValidIri(s)){if(!o)return;s=`${a.vocab||`${this.baseIRI}#`}${s}`}return this.dataFactory.namedNode(s)}).filter(s=>!!s)}getVocabularyExpansionType(i,a,o){const s=i.split(/\s+/u);if(s.includes("subPropertyOf")||s.includes("equivalentProperty"))return[this.dataFactory.namedNode(`${r.RDF}type`)];if(a.vocab&&a.vocab in o&&o[a.vocab].properties){let l=[];for(const[u,f]of Object.entries(o[a.vocab].properties))s.includes(u)&&(l=[...Object.values(f).map(d=>this.dataFactory.namedNode(d))]);return l}return[]}createSubject(i){if(!r.isValidIri(i))try{i=(0,t.resolve)(i,this.baseIRI)}catch{return}return this.dataFactory.namedNode(i)}createLiteral(i,a){return this.dataFactory.literal(i,a.language)}deriveVocab(i,a){let o;for(const s in a)if(i.startsWith(s)){o=s,o.endsWith("/")||(o+="#");break}if(!o){const s=i.indexOf("#");s>0?o=i.slice(0,s+1):o=(0,t.resolve)(".",i)}return o}}return Bd.Util=r,r.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",r.XSD="http://www.w3.org/2001/XMLSchema#",r.RDFA="http://www.w3.org/ns/rdfa#",r.IRI_REGEX=/^([A-Za-z][\d+-.A-Za-z]*|_):[^ "<>[\\\]`{|}]*$/u,Bd}var _k;function v5(){if(_k)return qd;_k=1,Object.defineProperty(qd,"__esModule",{value:!0}),qd.ItemPropertyHandlerNumber=void 0;const e=wg();let t=class{constructor(n,i){this.tagName=n,this.attributeName=i}canHandle(n,i){return this.tagName===n&&this.attributeName in i}getObject(n,i,a){const o=n[this.attributeName];let s;return!Number.isNaN(Number.parseInt(o,10))&&!o.includes(".")?s=`${e.Util.XSD}integer`:Number.isNaN(Number.parseFloat(o))||(s=`${e.Util.XSD}double`),i.dataFactory.literal(o,s&&i.dataFactory.namedNode(s))}};return qd.ItemPropertyHandlerNumber=t,qd}var Qd={},bk;function S5(){if(bk)return Qd;bk=1,Object.defineProperty(Qd,"__esModule",{value:!0}),Qd.ItemPropertyHandlerTime=void 0;const e=wg();let t=class w5{canHandle(n,i){return n==="time"&&"datetime"in i}getObject(n,i,a){const o=n.datetime;let s;for(const l of w5.TIME_REGEXES)if(l.regex.test(o)){s=i.dataFactory.namedNode(e.Util.XSD+l.type);break}return i.dataFactory.literal(o,s)}};return Qd.ItemPropertyHandlerTime=t,t.TIME_REGEXES=[{regex:/^-?P(\d+Y)?(\d+M)?(\d+D)?(T(\d+H)?(\d+M)?(\d+(\.\d)?S)?)?$/u,type:"duration"},{regex:/^\d+-\d\d-\d\dT\d\d:\d\d:\d\d((Z?)|([+-]\d\d:\d\d))$/u,type:"dateTime"},{regex:/^\d+-\d\d-\d\dZ?$/u,type:"date"},{regex:/^\d\d:\d\d:\d\d((Z?)|([+-]\d\d:\d\d))$/u,type:"time"},{regex:/^\d+-\d\d$/u,type:"gYearMonth"},{regex:/^\d+$/u,type:"gYear"}],Qd}var Zd={},vk;function E5(){if(vk)return Zd;vk=1,Object.defineProperty(Zd,"__esModule",{value:!0}),Zd.ItemPropertyHandlerUrl=void 0;const e=Ii();let t=class{constructor(n,i){this.tagName=n,this.attributeName=i}canHandle(n,i){return this.tagName===n&&this.attributeName in i}getObject(n,i,a){return i.dataFactory.namedNode((0,e.resolve)(n[this.attributeName],i.baseIRI))}};return Zd.ItemPropertyHandlerUrl=t,Zd}var LS={},wk;function Sne(){return wk||(wk=1,Object.defineProperty(LS,"__esModule",{value:!0})),LS}var MS={},Sk;function Ene(){return Sk||(Sk=1,Object.defineProperty(MS,"__esModule",{value:!0})),MS}var kS={},Ek;function Tne(){return Ek||(Ek=1,Object.defineProperty(kS,"__esModule",{value:!0})),kS}var Yd={},vs={},po={},FS={},Tk;function T5(){return Tk||(Tk=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.QuoteType=void 0;var t=Fo(),r;(function(c){c[c.Tab=9]="Tab",c[c.NewLine=10]="NewLine",c[c.FormFeed=12]="FormFeed",c[c.CarriageReturn=13]="CarriageReturn",c[c.Space=32]="Space",c[c.ExclamationMark=33]="ExclamationMark",c[c.Number=35]="Number",c[c.Amp=38]="Amp",c[c.SingleQuote=39]="SingleQuote",c[c.DoubleQuote=34]="DoubleQuote",c[c.Dash=45]="Dash",c[c.Slash=47]="Slash",c[c.Zero=48]="Zero",c[c.Nine=57]="Nine",c[c.Semi=59]="Semi",c[c.Lt=60]="Lt",c[c.Eq=61]="Eq",c[c.Gt=62]="Gt",c[c.Questionmark=63]="Questionmark",c[c.UpperA=65]="UpperA",c[c.LowerA=97]="LowerA",c[c.UpperF=70]="UpperF",c[c.LowerF=102]="LowerF",c[c.UpperZ=90]="UpperZ",c[c.LowerZ=122]="LowerZ",c[c.LowerX=120]="LowerX",c[c.OpeningSquareBracket=91]="OpeningSquareBracket"})(r||(r={}));var n;(function(c){c[c.Text=1]="Text",c[c.BeforeTagName=2]="BeforeTagName",c[c.InTagName=3]="InTagName",c[c.InSelfClosingTag=4]="InSelfClosingTag",c[c.BeforeClosingTagName=5]="BeforeClosingTagName",c[c.InClosingTagName=6]="InClosingTagName",c[c.AfterClosingTagName=7]="AfterClosingTagName",c[c.BeforeAttributeName=8]="BeforeAttributeName",c[c.InAttributeName=9]="InAttributeName",c[c.AfterAttributeName=10]="AfterAttributeName",c[c.BeforeAttributeValue=11]="BeforeAttributeValue",c[c.InAttributeValueDq=12]="InAttributeValueDq",c[c.InAttributeValueSq=13]="InAttributeValueSq",c[c.InAttributeValueNq=14]="InAttributeValueNq",c[c.BeforeDeclaration=15]="BeforeDeclaration",c[c.InDeclaration=16]="InDeclaration",c[c.InProcessingInstruction=17]="InProcessingInstruction",c[c.BeforeComment=18]="BeforeComment",c[c.CDATASequence=19]="CDATASequence",c[c.InSpecialComment=20]="InSpecialComment",c[c.InCommentLike=21]="InCommentLike",c[c.BeforeSpecialS=22]="BeforeSpecialS",c[c.SpecialStartSequence=23]="SpecialStartSequence",c[c.InSpecialTag=24]="InSpecialTag",c[c.BeforeEntity=25]="BeforeEntity",c[c.BeforeNumericEntity=26]="BeforeNumericEntity",c[c.InNamedEntity=27]="InNamedEntity",c[c.InNumericEntity=28]="InNumericEntity",c[c.InHexEntity=29]="InHexEntity"})(n||(n={}));function i(c){return c===r.Space||c===r.NewLine||c===r.Tab||c===r.FormFeed||c===r.CarriageReturn}function a(c){return c===r.Slash||c===r.Gt||i(c)}function o(c){return c>=r.Zero&&c<=r.Nine}function s(c){return c>=r.LowerA&&c<=r.LowerZ||c>=r.UpperA&&c<=r.UpperZ}function l(c){return c>=r.UpperA&&c<=r.UpperF||c>=r.LowerA&&c<=r.LowerF}var u;(function(c){c[c.NoValue=0]="NoValue",c[c.Unquoted=1]="Unquoted",c[c.Single=2]="Single",c[c.Double=3]="Double"})(u=e.QuoteType||(e.QuoteType={}));var f={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101])},d=function(){function c(p,b){var v=p.xmlMode,_=v===void 0?!1:v,y=p.decodeEntities,m=y===void 0?!0:y;this.cbs=b,this.state=n.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=n.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.trieIndex=0,this.trieCurrent=0,this.entityResult=0,this.entityExcess=0,this.xmlMode=_,this.decodeEntities=m,this.entityTrie=_?t.xmlDecodeTree:t.htmlDecodeTree}return c.prototype.reset=function(){this.state=n.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=n.Text,this.currentSequence=void 0,this.running=!0,this.offset=0},c.prototype.write=function(p){this.offset+=this.buffer.length,this.buffer=p,this.parse()},c.prototype.end=function(){this.running&&this.finish()},c.prototype.pause=function(){this.running=!1},c.prototype.resume=function(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()},c.prototype.getIndex=function(){return this.index},c.prototype.getSectionStart=function(){return this.sectionStart},c.prototype.stateText=function(p){p===r.Lt||!this.decodeEntities&&this.fastForwardTo(r.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=n.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&p===r.Amp&&(this.state=n.BeforeEntity)},c.prototype.stateSpecialStartSequence=function(p){var b=this.sequenceIndex===this.currentSequence.length,v=b?a(p):(p|32)===this.currentSequence[this.sequenceIndex];if(!v)this.isSpecial=!1;else if(!b){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=n.InTagName,this.stateInTagName(p)},c.prototype.stateInSpecialTag=function(p){if(this.sequenceIndex===this.currentSequence.length){if(p===r.Gt||i(p)){var b=this.index-this.currentSequence.length;if(this.sectionStart<b){var v=this.index;this.index=b,this.cbs.ontext(this.sectionStart,b),this.index=v}this.isSpecial=!1,this.sectionStart=b+2,this.stateInClosingTagName(p);return}this.sequenceIndex=0}(p|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===f.TitleEnd?this.decodeEntities&&p===r.Amp&&(this.state=n.BeforeEntity):this.fastForwardTo(r.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(p===r.Lt)},c.prototype.stateCDATASequence=function(p){p===f.Cdata[this.sequenceIndex]?++this.sequenceIndex===f.Cdata.length&&(this.state=n.InCommentLike,this.currentSequence=f.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=n.InDeclaration,this.stateInDeclaration(p))},c.prototype.fastForwardTo=function(p){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===p)return!0;return this.index=this.buffer.length+this.offset-1,!1},c.prototype.stateInCommentLike=function(p){p===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===f.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=n.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):p!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)},c.prototype.isTagStartChar=function(p){return this.xmlMode?!a(p):s(p)},c.prototype.startSpecial=function(p,b){this.isSpecial=!0,this.currentSequence=p,this.sequenceIndex=b,this.state=n.SpecialStartSequence},c.prototype.stateBeforeTagName=function(p){if(p===r.ExclamationMark)this.state=n.BeforeDeclaration,this.sectionStart=this.index+1;else if(p===r.Questionmark)this.state=n.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(p)){var b=p|32;this.sectionStart=this.index,!this.xmlMode&&b===f.TitleEnd[2]?this.startSpecial(f.TitleEnd,3):this.state=!this.xmlMode&&b===f.ScriptEnd[2]?n.BeforeSpecialS:n.InTagName}else p===r.Slash?this.state=n.BeforeClosingTagName:(this.state=n.Text,this.stateText(p))},c.prototype.stateInTagName=function(p){a(p)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(p))},c.prototype.stateBeforeClosingTagName=function(p){i(p)||(p===r.Gt?this.state=n.Text:(this.state=this.isTagStartChar(p)?n.InClosingTagName:n.InSpecialComment,this.sectionStart=this.index))},c.prototype.stateInClosingTagName=function(p){(p===r.Gt||i(p))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.AfterClosingTagName,this.stateAfterClosingTagName(p))},c.prototype.stateAfterClosingTagName=function(p){(p===r.Gt||this.fastForwardTo(r.Gt))&&(this.state=n.Text,this.baseState=n.Text,this.sectionStart=this.index+1)},c.prototype.stateBeforeAttributeName=function(p){p===r.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=n.InSpecialTag,this.sequenceIndex=0):this.state=n.Text,this.baseState=this.state,this.sectionStart=this.index+1):p===r.Slash?this.state=n.InSelfClosingTag:i(p)||(this.state=n.InAttributeName,this.sectionStart=this.index)},c.prototype.stateInSelfClosingTag=function(p){p===r.Gt?(this.cbs.onselfclosingtag(this.index),this.state=n.Text,this.baseState=n.Text,this.sectionStart=this.index+1,this.isSpecial=!1):i(p)||(this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(p))},c.prototype.stateInAttributeName=function(p){(p===r.Eq||a(p))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.AfterAttributeName,this.stateAfterAttributeName(p))},c.prototype.stateAfterAttributeName=function(p){p===r.Eq?this.state=n.BeforeAttributeValue:p===r.Slash||p===r.Gt?(this.cbs.onattribend(u.NoValue,this.index),this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(p)):i(p)||(this.cbs.onattribend(u.NoValue,this.index),this.state=n.InAttributeName,this.sectionStart=this.index)},c.prototype.stateBeforeAttributeValue=function(p){p===r.DoubleQuote?(this.state=n.InAttributeValueDq,this.sectionStart=this.index+1):p===r.SingleQuote?(this.state=n.InAttributeValueSq,this.sectionStart=this.index+1):i(p)||(this.sectionStart=this.index,this.state=n.InAttributeValueNq,this.stateInAttributeValueNoQuotes(p))},c.prototype.handleInAttributeValue=function(p,b){p===b||!this.decodeEntities&&this.fastForwardTo(b)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(b===r.DoubleQuote?u.Double:u.Single,this.index),this.state=n.BeforeAttributeName):this.decodeEntities&&p===r.Amp&&(this.baseState=this.state,this.state=n.BeforeEntity)},c.prototype.stateInAttributeValueDoubleQuotes=function(p){this.handleInAttributeValue(p,r.DoubleQuote)},c.prototype.stateInAttributeValueSingleQuotes=function(p){this.handleInAttributeValue(p,r.SingleQuote)},c.prototype.stateInAttributeValueNoQuotes=function(p){i(p)||p===r.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(u.Unquoted,this.index),this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(p)):this.decodeEntities&&p===r.Amp&&(this.baseState=this.state,this.state=n.BeforeEntity)},c.prototype.stateBeforeDeclaration=function(p){p===r.OpeningSquareBracket?(this.state=n.CDATASequence,this.sequenceIndex=0):this.state=p===r.Dash?n.BeforeComment:n.InDeclaration},c.prototype.stateInDeclaration=function(p){(p===r.Gt||this.fastForwardTo(r.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=n.Text,this.sectionStart=this.index+1)},c.prototype.stateInProcessingInstruction=function(p){(p===r.Gt||this.fastForwardTo(r.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=n.Text,this.sectionStart=this.index+1)},c.prototype.stateBeforeComment=function(p){p===r.Dash?(this.state=n.InCommentLike,this.currentSequence=f.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=n.InDeclaration},c.prototype.stateInSpecialComment=function(p){(p===r.Gt||this.fastForwardTo(r.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=n.Text,this.sectionStart=this.index+1)},c.prototype.stateBeforeSpecialS=function(p){var b=p|32;b===f.ScriptEnd[3]?this.startSpecial(f.ScriptEnd,4):b===f.StyleEnd[3]?this.startSpecial(f.StyleEnd,4):(this.state=n.InTagName,this.stateInTagName(p))},c.prototype.stateBeforeEntity=function(p){this.entityExcess=1,this.entityResult=0,p===r.Number?this.state=n.BeforeNumericEntity:p===r.Amp||(this.trieIndex=0,this.trieCurrent=this.entityTrie[0],this.state=n.InNamedEntity,this.stateInNamedEntity(p))},c.prototype.stateInNamedEntity=function(p){if(this.entityExcess+=1,this.trieIndex=(0,t.determineBranch)(this.entityTrie,this.trieCurrent,this.trieIndex+1,p),this.trieIndex<0){this.emitNamedEntity(),this.index--;return}this.trieCurrent=this.entityTrie[this.trieIndex];var b=this.trieCurrent&t.BinTrieFlags.VALUE_LENGTH;if(b){var v=(b>>14)-1;if(!this.allowLegacyEntity()&&p!==r.Semi)this.trieIndex+=v;else{var _=this.index-this.entityExcess+1;_>this.sectionStart&&this.emitPartial(this.sectionStart,_),this.entityResult=this.trieIndex,this.trieIndex+=v,this.entityExcess=0,this.sectionStart=this.index+1,v===0&&this.emitNamedEntity()}}},c.prototype.emitNamedEntity=function(){if(this.state=this.baseState,this.entityResult!==0){var p=(this.entityTrie[this.entityResult]&t.BinTrieFlags.VALUE_LENGTH)>>14;switch(p){case 1:{this.emitCodePoint(this.entityTrie[this.entityResult]&~t.BinTrieFlags.VALUE_LENGTH);break}case 2:{this.emitCodePoint(this.entityTrie[this.entityResult+1]);break}case 3:this.emitCodePoint(this.entityTrie[this.entityResult+1]),this.emitCodePoint(this.entityTrie[this.entityResult+2])}}},c.prototype.stateBeforeNumericEntity=function(p){(p|32)===r.LowerX?(this.entityExcess++,this.state=n.InHexEntity):(this.state=n.InNumericEntity,this.stateInNumericEntity(p))},c.prototype.emitNumericEntity=function(p){var b=this.index-this.entityExcess-1,v=b+2+ +(this.state===n.InHexEntity);v!==this.index&&(b>this.sectionStart&&this.emitPartial(this.sectionStart,b),this.sectionStart=this.index+Number(p),this.emitCodePoint((0,t.replaceCodePoint)(this.entityResult))),this.state=this.baseState},c.prototype.stateInNumericEntity=function(p){p===r.Semi?this.emitNumericEntity(!0):o(p)?(this.entityResult=this.entityResult*10+(p-r.Zero),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},c.prototype.stateInHexEntity=function(p){p===r.Semi?this.emitNumericEntity(!0):o(p)?(this.entityResult=this.entityResult*16+(p-r.Zero),this.entityExcess++):l(p)?(this.entityResult=this.entityResult*16+((p|32)-r.LowerA+10),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},c.prototype.allowLegacyEntity=function(){return!this.xmlMode&&(this.baseState===n.Text||this.baseState===n.InSpecialTag)},c.prototype.cleanup=function(){this.running&&this.sectionStart!==this.index&&(this.state===n.Text||this.state===n.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===n.InAttributeValueDq||this.state===n.InAttributeValueSq||this.state===n.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))},c.prototype.shouldContinue=function(){return this.index<this.buffer.length+this.offset&&this.running},c.prototype.parse=function(){for(;this.shouldContinue();){var p=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case n.Text:{this.stateText(p);break}case n.SpecialStartSequence:{this.stateSpecialStartSequence(p);break}case n.InSpecialTag:{this.stateInSpecialTag(p);break}case n.CDATASequence:{this.stateCDATASequence(p);break}case n.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(p);break}case n.InAttributeName:{this.stateInAttributeName(p);break}case n.InCommentLike:{this.stateInCommentLike(p);break}case n.InSpecialComment:{this.stateInSpecialComment(p);break}case n.BeforeAttributeName:{this.stateBeforeAttributeName(p);break}case n.InTagName:{this.stateInTagName(p);break}case n.InClosingTagName:{this.stateInClosingTagName(p);break}case n.BeforeTagName:{this.stateBeforeTagName(p);break}case n.AfterAttributeName:{this.stateAfterAttributeName(p);break}case n.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(p);break}case n.BeforeAttributeValue:{this.stateBeforeAttributeValue(p);break}case n.BeforeClosingTagName:{this.stateBeforeClosingTagName(p);break}case n.AfterClosingTagName:{this.stateAfterClosingTagName(p);break}case n.BeforeSpecialS:{this.stateBeforeSpecialS(p);break}case n.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(p);break}case n.InSelfClosingTag:{this.stateInSelfClosingTag(p);break}case n.InDeclaration:{this.stateInDeclaration(p);break}case n.BeforeDeclaration:{this.stateBeforeDeclaration(p);break}case n.BeforeComment:{this.stateBeforeComment(p);break}case n.InProcessingInstruction:{this.stateInProcessingInstruction(p);break}case n.InNamedEntity:{this.stateInNamedEntity(p);break}case n.BeforeEntity:{this.stateBeforeEntity(p);break}case n.InHexEntity:{this.stateInHexEntity(p);break}case n.InNumericEntity:{this.stateInNumericEntity(p);break}default:this.stateBeforeNumericEntity(p)}this.index++}this.cleanup()},c.prototype.finish=function(){this.state===n.InNamedEntity&&this.emitNamedEntity(),this.sectionStart<this.index&&this.handleTrailingData(),this.cbs.onend()},c.prototype.handleTrailingData=function(){var p=this.buffer.length+this.offset;this.state===n.InCommentLike?this.currentSequence===f.CdataEnd?this.cbs.oncdata(this.sectionStart,p,0):this.cbs.oncomment(this.sectionStart,p,0):this.state===n.InNumericEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===n.InHexEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===n.InTagName||this.state===n.BeforeAttributeName||this.state===n.BeforeAttributeValue||this.state===n.AfterAttributeName||this.state===n.InAttributeName||this.state===n.InAttributeValueSq||this.state===n.InAttributeValueDq||this.state===n.InAttributeValueNq||this.state===n.InClosingTagName||this.cbs.ontext(this.sectionStart,p)},c.prototype.emitPartial=function(p,b){this.baseState!==n.Text&&this.baseState!==n.InSpecialTag?this.cbs.onattribdata(p,b):this.cbs.ontext(p,b)},c.prototype.emitCodePoint=function(p){this.baseState!==n.Text&&this.baseState!==n.InSpecialTag?this.cbs.onattribentity(p):this.cbs.ontextentity(p)},c}();e.default=d}(FS)),FS}var xk;function Rk(){if(xk)return po;xk=1;var e=po.__createBinding||(Object.create?function(_,y,m,g){g===void 0&&(g=m);var S=Object.getOwnPropertyDescriptor(y,m);(!S||("get"in S?!y.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return y[m]}}),Object.defineProperty(_,g,S)}:function(_,y,m,g){g===void 0&&(g=m),_[g]=y[m]}),t=po.__setModuleDefault||(Object.create?function(_,y){Object.defineProperty(_,"default",{enumerable:!0,value:y})}:function(_,y){_.default=y}),r=po.__importStar||function(_){if(_&&_.__esModule)return _;var y={};if(_!=null)for(var m in _)m!=="default"&&Object.prototype.hasOwnProperty.call(_,m)&&e(y,_,m);return t(y,_),y};Object.defineProperty(po,"__esModule",{value:!0}),po.Parser=void 0;var n=r(T5()),i=Fo(),a=new Set(["input","option","optgroup","select","button","datalist","textarea"]),o=new Set(["p"]),s=new Set(["thead","tbody"]),l=new Set(["dd","dt"]),u=new Set(["rt","rp"]),f=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",o],["h1",o],["h2",o],["h3",o],["h4",o],["h5",o],["h6",o],["select",a],["input",a],["output",a],["button",a],["datalist",a],["textarea",a],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",l],["dt",l],["address",o],["article",o],["aside",o],["blockquote",o],["details",o],["div",o],["dl",o],["fieldset",o],["figcaption",o],["figure",o],["footer",o],["form",o],["header",o],["hr",o],["main",o],["nav",o],["ol",o],["pre",o],["section",o],["table",o],["ul",o],["rt",u],["rp",u],["tbody",s],["tfoot",s]]),d=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),c=new Set(["math","svg"]),p=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),b=/\s|\//,v=function(){function _(y,m){m===void 0&&(m={});var g,S,x,I,N;this.options=m,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=y??{},this.lowerCaseTagNames=(g=m.lowerCaseTags)!==null&&g!==void 0?g:!m.xmlMode,this.lowerCaseAttributeNames=(S=m.lowerCaseAttributeNames)!==null&&S!==void 0?S:!m.xmlMode,this.tokenizer=new((x=m.Tokenizer)!==null&&x!==void 0?x:n.default)(this.options,this),(N=(I=this.cbs).onparserinit)===null||N===void 0||N.call(I,this)}return _.prototype.ontext=function(y,m){var g,S,x=this.getSlice(y,m);this.endIndex=m-1,(S=(g=this.cbs).ontext)===null||S===void 0||S.call(g,x),this.startIndex=m},_.prototype.ontextentity=function(y){var m,g,S=this.tokenizer.getSectionStart();this.endIndex=S-1,(g=(m=this.cbs).ontext)===null||g===void 0||g.call(m,(0,i.fromCodePoint)(y)),this.startIndex=S},_.prototype.isVoidElement=function(y){return!this.options.xmlMode&&d.has(y)},_.prototype.onopentagname=function(y,m){this.endIndex=m;var g=this.getSlice(y,m);this.lowerCaseTagNames&&(g=g.toLowerCase()),this.emitOpenTag(g)},_.prototype.emitOpenTag=function(y){var m,g,S,x;this.openTagStart=this.startIndex,this.tagname=y;var I=!this.options.xmlMode&&f.get(y);if(I)for(;this.stack.length>0&&I.has(this.stack[this.stack.length-1]);){var N=this.stack.pop();(g=(m=this.cbs).onclosetag)===null||g===void 0||g.call(m,N,!0)}this.isVoidElement(y)||(this.stack.push(y),c.has(y)?this.foreignContext.push(!0):p.has(y)&&this.foreignContext.push(!1)),(x=(S=this.cbs).onopentagname)===null||x===void 0||x.call(S,y),this.cbs.onopentag&&(this.attribs={})},_.prototype.endOpenTag=function(y){var m,g;this.startIndex=this.openTagStart,this.attribs&&((g=(m=this.cbs).onopentag)===null||g===void 0||g.call(m,this.tagname,this.attribs,y),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""},_.prototype.onopentagend=function(y){this.endIndex=y,this.endOpenTag(!1),this.startIndex=y+1},_.prototype.onclosetag=function(y,m){var g,S,x,I,N,q;this.endIndex=m;var D=this.getSlice(y,m);if(this.lowerCaseTagNames&&(D=D.toLowerCase()),(c.has(D)||p.has(D))&&this.foreignContext.pop(),this.isVoidElement(D))!this.options.xmlMode&&D==="br"&&((S=(g=this.cbs).onopentagname)===null||S===void 0||S.call(g,"br"),(I=(x=this.cbs).onopentag)===null||I===void 0||I.call(x,"br",{},!0),(q=(N=this.cbs).onclosetag)===null||q===void 0||q.call(N,"br",!1));else{var M=this.stack.lastIndexOf(D);if(M!==-1)if(this.cbs.onclosetag)for(var j=this.stack.length-M;j--;)this.cbs.onclosetag(this.stack.pop(),j!==0);else this.stack.length=M;else!this.options.xmlMode&&D==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=m+1},_.prototype.onselfclosingtag=function(y){this.endIndex=y,this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?(this.closeCurrentTag(!1),this.startIndex=y+1):this.onopentagend(y)},_.prototype.closeCurrentTag=function(y){var m,g,S=this.tagname;this.endOpenTag(y),this.stack[this.stack.length-1]===S&&((g=(m=this.cbs).onclosetag)===null||g===void 0||g.call(m,S,!y),this.stack.pop())},_.prototype.onattribname=function(y,m){this.startIndex=y;var g=this.getSlice(y,m);this.attribname=this.lowerCaseAttributeNames?g.toLowerCase():g},_.prototype.onattribdata=function(y,m){this.attribvalue+=this.getSlice(y,m)},_.prototype.onattribentity=function(y){this.attribvalue+=(0,i.fromCodePoint)(y)},_.prototype.onattribend=function(y,m){var g,S;this.endIndex=m,(S=(g=this.cbs).onattribute)===null||S===void 0||S.call(g,this.attribname,this.attribvalue,y===n.QuoteType.Double?'"':y===n.QuoteType.Single?"'":y===n.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""},_.prototype.getInstructionName=function(y){var m=y.search(b),g=m<0?y:y.substr(0,m);return this.lowerCaseTagNames&&(g=g.toLowerCase()),g},_.prototype.ondeclaration=function(y,m){this.endIndex=m;var g=this.getSlice(y,m);if(this.cbs.onprocessinginstruction){var S=this.getInstructionName(g);this.cbs.onprocessinginstruction("!".concat(S),"!".concat(g))}this.startIndex=m+1},_.prototype.onprocessinginstruction=function(y,m){this.endIndex=m;var g=this.getSlice(y,m);if(this.cbs.onprocessinginstruction){var S=this.getInstructionName(g);this.cbs.onprocessinginstruction("?".concat(S),"?".concat(g))}this.startIndex=m+1},_.prototype.oncomment=function(y,m,g){var S,x,I,N;this.endIndex=m,(x=(S=this.cbs).oncomment)===null||x===void 0||x.call(S,this.getSlice(y,m-g)),(N=(I=this.cbs).oncommentend)===null||N===void 0||N.call(I),this.startIndex=m+1},_.prototype.oncdata=function(y,m,g){var S,x,I,N,q,D,M,j,P,B;this.endIndex=m;var Y=this.getSlice(y,m-g);this.options.xmlMode||this.options.recognizeCDATA?((x=(S=this.cbs).oncdatastart)===null||x===void 0||x.call(S),(N=(I=this.cbs).ontext)===null||N===void 0||N.call(I,Y),(D=(q=this.cbs).oncdataend)===null||D===void 0||D.call(q)):((j=(M=this.cbs).oncomment)===null||j===void 0||j.call(M,"[CDATA[".concat(Y,"]]")),(B=(P=this.cbs).oncommentend)===null||B===void 0||B.call(P)),this.startIndex=m+1},_.prototype.onend=function(){var y,m;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(var g=this.stack.length;g>0;this.cbs.onclosetag(this.stack[--g],!0));}(m=(y=this.cbs).onend)===null||m===void 0||m.call(y)},_.prototype.reset=function(){var y,m,g,S;(m=(y=this.cbs).onreset)===null||m===void 0||m.call(y),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(S=(g=this.cbs).onparserinit)===null||S===void 0||S.call(g,this),this.buffers.length=0,this.bufferOffset=0,this.writeIndex=0,this.ended=!1},_.prototype.parseComplete=function(y){this.reset(),this.end(y)},_.prototype.getSlice=function(y,m){for(;y-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();for(var g=this.buffers[0].slice(y-this.bufferOffset,m-this.bufferOffset);m-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),g+=this.buffers[0].slice(0,m-this.bufferOffset);return g},_.prototype.shiftBuffer=function(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()},_.prototype.write=function(y){var m,g;if(this.ended){(g=(m=this.cbs).onerror)===null||g===void 0||g.call(m,new Error(".write() after done!"));return}this.buffers.push(y),this.tokenizer.running&&(this.tokenizer.write(y),this.writeIndex++)},_.prototype.end=function(y){var m,g;if(this.ended){(g=(m=this.cbs).onerror)===null||g===void 0||g.call(m,new Error(".end() after done!"));return}y&&this.write(y),this.ended=!0,this.tokenizer.end()},_.prototype.pause=function(){this.tokenizer.pause()},_.prototype.resume=function(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()},_.prototype.parseChunk=function(y){this.write(y)},_.prototype.done=function(y){this.end(y)},_}();return po.Parser=v,po}var Ak;function xne(){return Ak||(Ak=1,function(e){var t=vs.__createBinding||(Object.create?function(y,m,g,S){S===void 0&&(S=g);var x=Object.getOwnPropertyDescriptor(m,g);(!x||("get"in x?!m.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return m[g]}}),Object.defineProperty(y,S,x)}:function(y,m,g,S){S===void 0&&(S=g),y[S]=m[g]}),r=vs.__setModuleDefault||(Object.create?function(y,m){Object.defineProperty(y,"default",{enumerable:!0,value:m})}:function(y,m){y.default=m}),n=vs.__importStar||function(y){if(y&&y.__esModule)return y;var m={};if(y!=null)for(var g in y)g!=="default"&&Object.prototype.hasOwnProperty.call(y,g)&&t(m,y,g);return r(m,y),m},i=vs.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(e,"__esModule",{value:!0}),e.DomUtils=e.parseFeed=e.getFeed=e.ElementType=e.Tokenizer=e.createDomStream=e.parseDOM=e.parseDocument=e.DefaultHandler=e.DomHandler=e.Parser=void 0;var a=Rk(),o=Rk();Object.defineProperty(e,"Parser",{enumerable:!0,get:function(){return o.Parser}});var s=xi(),l=xi();Object.defineProperty(e,"DomHandler",{enumerable:!0,get:function(){return l.DomHandler}}),Object.defineProperty(e,"DefaultHandler",{enumerable:!0,get:function(){return l.DomHandler}});function u(y,m){var g=new s.DomHandler(void 0,m);return new a.Parser(g,m).end(y),g.root}e.parseDocument=u;function f(y,m){return u(y,m).children}e.parseDOM=f;function d(y,m,g){var S=new s.DomHandler(y,m,g);return new a.Parser(S,m)}e.createDomStream=d;var c=T5();Object.defineProperty(e,"Tokenizer",{enumerable:!0,get:function(){return i(c).default}}),e.ElementType=n(Ys());var p=za(),b=za();Object.defineProperty(e,"getFeed",{enumerable:!0,get:function(){return b.getFeed}});var v={xmlMode:!0};function _(y,m){return m===void 0&&(m=v),(0,p.getFeed)(f(y,m))}e.parseFeed=_,e.DomUtils=n(za())}(vs)),vs}const Rne={"http://schema.org/":{properties:{additionalType:{subPropertyOf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"}}},"http://microformats.org/profile/hcard":{}};var Ik;function Ane(){if(Ik)return Yd;Ik=1,Object.defineProperty(Yd,"__esModule",{value:!0}),Yd.MicrodataRdfParser=void 0;const e=xne(),t=Ki(),r=p5(),n=v5(),i=S5(),a=E5(),o=wg(),s=Rne;let l=class qE extends t.Transform{constructor(f){super({readableObjectMode:!0}),this.itemScopeStack=[],this.textBufferStack=[],this.isEmittingReferences=!1,this.pendingItemRefsDomain={},this.pendingItemRefsRangeFinalized={},this.pendingItemRefsRangeCollecting={},f=f||{},this.options=f,this.util=new o.Util(f.dataFactory,f.baseIRI),this.defaultGraph=f.defaultGraph||this.util.dataFactory.defaultGraph(),this.htmlParseListener=f.htmlParseListener,this.vocabRegistry=f.vocabRegistry||s,this.parser=this.initializeParser(!!f.xmlMode)}import(f){const d=new t.PassThrough({readableObjectMode:!0});f.on("error",p=>c.emit("error",p)),f.on("data",p=>d.push(p)),f.on("end",()=>d.push(null));const c=d.pipe(new qE(this.options));return c}_transform(f,d,c){this.parser.write(f.toString()),c()}_flush(f){this.parser.end(),f()}getItemScope(f){let d=this.itemScopeStack.length-(f?2:1);for(;d>0&&!this.itemScopeStack[d];)d--;return this.itemScopeStack[d]}getDepth(){return this.itemScopeStack.length}onTagOpen(f,d){if(!this.isEmittingReferences){if("id"in d){const p=d.id;this.pendingItemRefsRangeCollecting[p]={events:[],counter:0,ids:[]}}for(const p of Object.values(this.pendingItemRefsRangeCollecting))p.counter++,p.events.push({type:"open",name:f,attributes:d})}this.textBufferStack.push(void 0);let c;if("itemscope"in d){let p;if(this.emittingReferencesItemScopeIdGenerator)p=this.emittingReferencesItemScopeIdGenerator();else{p="itemid"in d&&this.util.createSubject(d.itemid)||this.util.dataFactory.blankNode();for(const v of Object.values(this.pendingItemRefsRangeCollecting))v.ids.push(p)}c={subject:p},this.isEmittingReferences&&(c.blockEmission=!0);const b=this.getItemScope();b&&b.vocab&&(c.vocab=b.vocab),this.itemScopeStack.push(c)}else c=this.getItemScope(),this.itemScopeStack.push(void 0);if(c){if("itemtype"in d)for(const p of this.util.createVocabIris(d.itemtype,c,!1))c.vocab||(c.vocab=this.util.deriveVocab(p.value,this.vocabRegistry)),c.blockEmission||this.emitTriple(c.subject,this.util.dataFactory.namedNode(`${o.Util.RDF}type`),p);if("lang"in d&&(c.language=d.lang),"xml:lang"in d&&(c.language=d["xml:lang"]),"itemscope"in d&&!this.isEmittingReferences&&"itemref"in d)for(const p of d.itemref.split(/\s+/u))p in this.pendingItemRefsDomain||(this.pendingItemRefsDomain[p]=[]),this.pendingItemRefsDomain[p].push(c),this.tryToEmitReferences(p,c)}"itemprop"in d&&this.handleItemProperties(d.itemprop,!1,c,f,d),"itemprop-reverse"in d&&this.handleItemProperties(d["itemprop-reverse"],!0,c,f,d)}onText(f){if(!this.isEmittingReferences)for(const d of Object.values(this.pendingItemRefsRangeCollecting))d.events.push({type:"text",data:f});for(const d of this.textBufferStack)d&&d.push(f)}onTagClose(){if(!this.isEmittingReferences)for(const[d,c]of Object.entries(this.pendingItemRefsRangeCollecting))c.counter--,c.events.push({type:"close"}),c.counter===0&&(this.pendingItemRefsRangeFinalized[d]=c,delete this.pendingItemRefsRangeCollecting[d],this.tryToEmitReferences(d));const f=this.getItemScope(!0);if(f){const d=this.getDepth();if(f.predicates&&d in f.predicates)for(const[c,p]of Object.entries(f.predicates[d])){const b=this.util.createLiteral(this.textBufferStack[d].join(""),f);this.emitPredicateTriples(f,p,b,c==="reverse"),delete f.predicates[d][c]}}this.itemScopeStack.pop(),this.textBufferStack.pop()}onEnd(){}initializeParser(f){return new e.Parser({onclosetag:()=>{try{this.onTagClose(),this.htmlParseListener&&this.htmlParseListener.onTagClose()}catch(d){this.emit("error",d)}},onend:()=>{try{this.onEnd(),this.htmlParseListener&&this.htmlParseListener.onEnd()}catch(d){this.emit("error",d)}},onopentag:(d,c)=>{try{this.onTagOpen(d,c),this.htmlParseListener&&this.htmlParseListener.onTagOpen(d,c)}catch(p){this.emit("error",p)}},ontext:d=>{try{this.onText(d),this.htmlParseListener&&this.htmlParseListener.onText(d)}catch(c){this.emit("error",c)}}},{decodeEntities:!0,recognizeSelfClosing:!0,xmlMode:f})}handleItemProperties(f,d,c,p,b){const v=this.getItemScope(!0);if(v){const _=this.getDepth(),y=this.util.createVocabIris(f,v,!0);v.predicates||(v.predicates={}),v.predicates[_]||(v.predicates[_]={});const m=d?"reverse":"forward";v.predicates[_][m]=y;for(const g of this.util.getVocabularyExpansionType(f,v,this.vocabRegistry))y.push(g);if(c&&"itemscope"in b)this.emitPredicateTriples(v,y,c.subject,d),delete v.predicates[_][m];else for(const g of qE.ITEM_PROPERTY_HANDLERS)if(g.canHandle(p,b)){const S=g.getObject(b,this.util,v);this.emitPredicateTriples(v,y,S,d),delete v.predicates[_][m]}v.predicates[_][m]&&(this.textBufferStack[_]=[])}}emitPredicateTriples(f,d,c,p){if(!f.blockEmission)for(const b of d)p?c.termType!=="Literal"&&this.emitTriple(c,b,f.subject):this.emitTriple(f.subject,b,c)}emitTriple(f,d,c){this.push(this.util.dataFactory.quad(f,d,c,this.defaultGraph))}tryToEmitReferences(f,d){const c=this.pendingItemRefsRangeFinalized[f];if(c){let p;if(d){p=[d];const b=this.pendingItemRefsDomain[f].indexOf(d);this.pendingItemRefsDomain[f].splice(b,1)}else p=this.pendingItemRefsDomain[f],delete this.pendingItemRefsDomain[f];if(p){const b=this.itemScopeStack,v=this.textBufferStack;this.isEmittingReferences=!0;for(const _ of p){this.itemScopeStack=[_],this.textBufferStack=[void 0];const y=[...c.ids];this.emittingReferencesItemScopeIdGenerator=()=>y.shift();for(const m of c.events)switch(m.type){case"open":this.onTagOpen(m.name,m.attributes);break;case"text":this.onText(m.data);break;case"close":this.onTagClose();break}}this.emittingReferencesItemScopeIdGenerator=void 0,this.itemScopeStack=b,this.textBufferStack=v,this.isEmittingReferences=!1}}}};return Yd.MicrodataRdfParser=l,l.ITEM_PROPERTY_HANDLERS=[new r.ItemPropertyHandlerContent,new a.ItemPropertyHandlerUrl("a","href"),new a.ItemPropertyHandlerUrl("area","href"),new a.ItemPropertyHandlerUrl("audio","src"),new a.ItemPropertyHandlerUrl("embed","src"),new a.ItemPropertyHandlerUrl("iframe","src"),new a.ItemPropertyHandlerUrl("img","src"),new a.ItemPropertyHandlerUrl("link","href"),new a.ItemPropertyHandlerUrl("object","data"),new a.ItemPropertyHandlerUrl("source","src"),new a.ItemPropertyHandlerUrl("track","src"),new a.ItemPropertyHandlerUrl("video","src"),new n.ItemPropertyHandlerNumber("data","value"),new n.ItemPropertyHandlerNumber("meter","value"),new i.ItemPropertyHandlerTime],Yd}var Pk;function Ine(){return Pk||(Pk=1,function(e){var t=Fd.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=Fd.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(bne(),e),r(p5(),e),r(v5(),e),r(S5(),e),r(E5(),e),r(Sne(),e),r(Ene(),e),r(Tne(),e),r(Ane(),e),r(wg(),e)}(Fd)),Fd}var Ok;function Pne(){if(Ok)return Ld;Ok=1,Object.defineProperty(Ld,"__esModule",{value:!0}),Ld.ActorRdfParseHtmlMicrodata=void 0;const e=Kx(),t=Qi(),r=hr(),n=Ine();let i=class extends e.ActorRdfParseHtml{constructor(o){super(o)}async test(o){return(0,r.passTestVoid)()}async run(o){const s=o.context.getSafe(t.KeysInitQuery.dataFactory),l=o.headers?o.headers.get("content-type"):null,u=l==null?void 0:l.includes("xml"),f=new n.MicrodataRdfParser({dataFactory:s,baseIRI:o.baseIRI,xmlMode:u});f.on("error",o.error),f.on("data",o.emit);const d=f.onEnd;return f.onEnd=()=>{d.call(f),o.end()},{htmlParseListener:f}}};return Ld.ActorRdfParseHtmlMicrodata=i,Ld}var Nk;function One(){return Nk||(Nk=1,function(e){var t=Cd.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=Cd.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(Pne(),e)}(Cd)),Cd}var Xd={},Jd={},Dk;function Nne(){if(Dk)return Jd;Dk=1,Object.defineProperty(Jd,"__esModule",{value:!0}),Jd.ActorRdfParseHtmlRdfa=void 0;const e=Kx(),t=Qi(),r=hr(),n=d5();let i=class extends e.ActorRdfParseHtml{constructor(o){super(o)}async test(o){return(0,r.passTestVoid)()}async run(o){const s=o.context.getSafe(t.KeysInitQuery.dataFactory),l=o.headers?o.headers.get("content-type"):null,u=(o.headers&&o.headers.get("content-language"))??void 0,f=l&&l.includes("xml")?"xhtml":"html",d=new n.RdfaParser({dataFactory:s,baseIRI:o.baseIRI,profile:f,language:u});d.on("error",o.error),d.on("data",o.emit);const c=d.onEnd;return d.onEnd=()=>{c.call(d),o.end()},{htmlParseListener:d}}};return Jd.ActorRdfParseHtmlRdfa=i,Jd}var Ck;function Dne(){return Ck||(Ck=1,function(e){var t=Xd.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=Xd.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(Nne(),e)}(Xd)),Xd}var eh={},th={},rh={},nh={},jS,Lk;function Cne(){if(Lk)return jS;Lk=1;var{Buffer:e}=Er(),t={},r=t.LEFT_BRACE=1,n=t.RIGHT_BRACE=2,i=t.LEFT_BRACKET=3,a=t.RIGHT_BRACKET=4,o=t.COLON=5,s=t.COMMA=6,l=t.TRUE=7,u=t.FALSE=8,f=t.NULL=9,d=t.STRING=10,c=t.NUMBER=11,p=t.START=17,b=t.STOP=18,v=t.TRUE1=33,_=t.TRUE2=34,y=t.TRUE3=35,m=t.FALSE1=49,g=t.FALSE2=50,S=t.FALSE3=51,x=t.FALSE4=52,I=t.NULL1=65,N=t.NULL2=66,q=t.NULL3=67,D=t.NUMBER1=81,M=t.NUMBER3=83,j=t.STRING1=97,P=t.STRING2=98,B=t.STRING3=99,Y=t.STRING4=100,ie=t.STRING5=101,X=t.STRING6=102,le=t.VALUE=113,ae=t.KEY=114,ne=t.OBJECT=129,H=t.ARRAY=130,oe=92,he=47,Z=8,Q=12,ee=10,O=13,A=9,$=64*1024;function te(w){return e.alloc?e.alloc(w):new e(w)}function pe(){this.tState=p,this.value=void 0,this.string=void 0,this.stringBuffer=te($),this.stringBufferOffset=0,this.unicode=void 0,this.highSurrogate=void 0,this.key=void 0,this.mode=void 0,this.stack=[],this.state=le,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:te(2),3:te(3),4:te(4)},this.offset=-1}pe.toknam=function(w){for(var T=Object.keys(t),k=0,U=T.length;k<U;k++){var re=T[k];if(t[re]===w)return re}return w&&"0x"+w.toString(16)};var R=pe.prototype;return R.onError=function(w){throw w},R.charError=function(w,T){this.tState=b,this.onError(new Error("Unexpected "+JSON.stringify(String.fromCharCode(w[T]))+" at position "+T+" in state "+pe.toknam(this.tState)))},R.appendStringChar=function(w){this.stringBufferOffset>=$&&(this.string+=this.stringBuffer.toString("utf8"),this.stringBufferOffset=0),this.stringBuffer[this.stringBufferOffset++]=w},R.appendStringBuf=function(w,T,k){var U=w.length;typeof T=="number"&&(typeof k=="number"?k<0?U=w.length-T+k:U=k-T:U=w.length-T),U<0&&(U=0),this.stringBufferOffset+U>$&&(this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0),w.copy(this.stringBuffer,this.stringBufferOffset,T,k),this.stringBufferOffset+=U},R.write=function(w){typeof w=="string"&&(w=new e(w));for(var T,k=0,U=w.length;k<U;k++)if(this.tState===p){if(T=w[k],this.offset++,T===123)this.onToken(r,"{");else if(T===125)this.onToken(n,"}");else if(T===91)this.onToken(i,"[");else if(T===93)this.onToken(a,"]");else if(T===58)this.onToken(o,":");else if(T===44)this.onToken(s,",");else if(T===116)this.tState=v;else if(T===102)this.tState=m;else if(T===110)this.tState=I;else if(T===34)this.string="",this.stringBufferOffset=0,this.tState=j;else if(T===45)this.string="-",this.tState=D;else if(T>=48&&T<64)this.string=String.fromCharCode(T),this.tState=M;else if(!(T===32||T===9||T===10||T===13))return this.charError(w,k)}else if(this.tState===j)if(T=w[k],this.bytes_remaining>0){for(var re=0;re<this.bytes_remaining;re++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+re]=w[re];this.appendStringBuf(this.temp_buffs[this.bytes_in_sequence]),this.bytes_in_sequence=this.bytes_remaining=0,k=k+re-1}else if(this.bytes_remaining===0&&T>=128){if(T<=193||T>244)return this.onError(new Error("Invalid UTF-8 character at position "+k+" in state "+pe.toknam(this.tState)));if(T>=194&&T<=223&&(this.bytes_in_sequence=2),T>=224&&T<=239&&(this.bytes_in_sequence=3),T>=240&&T<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+k>w.length){for(var fe=0;fe<=w.length-1-k;fe++)this.temp_buffs[this.bytes_in_sequence][fe]=w[k+fe];this.bytes_remaining=k+this.bytes_in_sequence-w.length,k=w.length-1}else this.appendStringBuf(w,k,k+this.bytes_in_sequence),k=k+this.bytes_in_sequence-1}else if(T===34)this.tState=p,this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0,this.onToken(d,this.string),this.offset+=e.byteLength(this.string,"utf8")+1,this.string=void 0;else if(T===92)this.tState=P;else if(T>=32)this.appendStringChar(T);else return this.charError(w,k);else if(this.tState===P)if(T=w[k],T===34)this.appendStringChar(T),this.tState=j;else if(T===92)this.appendStringChar(oe),this.tState=j;else if(T===47)this.appendStringChar(he),this.tState=j;else if(T===98)this.appendStringChar(Z),this.tState=j;else if(T===102)this.appendStringChar(Q),this.tState=j;else if(T===110)this.appendStringChar(ee),this.tState=j;else if(T===114)this.appendStringChar(O),this.tState=j;else if(T===116)this.appendStringChar(A),this.tState=j;else if(T===117)this.unicode="",this.tState=B;else return this.charError(w,k);else if(this.tState===B||this.tState===Y||this.tState===ie||this.tState===X)if(T=w[k],T>=48&&T<64||T>64&&T<=70||T>96&&T<=102){if(this.unicode+=String.fromCharCode(T),this.tState++===X){var ve=parseInt(this.unicode,16);this.unicode=void 0,this.highSurrogate!==void 0&&ve>=56320&&ve<57344?(this.appendStringBuf(new e(String.fromCharCode(this.highSurrogate,ve))),this.highSurrogate=void 0):this.highSurrogate===void 0&&ve>=55296&&ve<56320?this.highSurrogate=ve:(this.highSurrogate!==void 0&&(this.appendStringBuf(new e(String.fromCharCode(this.highSurrogate))),this.highSurrogate=void 0),this.appendStringBuf(new e(String.fromCharCode(ve)))),this.tState=j}}else return this.charError(w,k);else if(this.tState===D||this.tState===M)switch(T=w[k],T){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 46:case 101:case 69:case 43:case 45:this.string+=String.fromCharCode(T),this.tState=M;break;default:this.tState=p;var ce=this.numberReviver(this.string,w,k);if(ce)return ce;this.offset+=this.string.length-1,this.string=void 0,k--;break}else if(this.tState===v)if(w[k]===114)this.tState=_;else return this.charError(w,k);else if(this.tState===_)if(w[k]===117)this.tState=y;else return this.charError(w,k);else if(this.tState===y)if(w[k]===101)this.tState=p,this.onToken(l,!0),this.offset+=3;else return this.charError(w,k);else if(this.tState===m)if(w[k]===97)this.tState=g;else return this.charError(w,k);else if(this.tState===g)if(w[k]===108)this.tState=S;else return this.charError(w,k);else if(this.tState===S)if(w[k]===115)this.tState=x;else return this.charError(w,k);else if(this.tState===x)if(w[k]===101)this.tState=p,this.onToken(u,!1),this.offset+=4;else return this.charError(w,k);else if(this.tState===I)if(w[k]===117)this.tState=N;else return this.charError(w,k);else if(this.tState===N)if(w[k]===108)this.tState=q;else return this.charError(w,k);else if(this.tState===q)if(w[k]===108)this.tState=p,this.onToken(f,null),this.offset+=3;else return this.charError(w,k)},R.onToken=function(w,T){},R.parseError=function(w,T){this.tState=b,this.onError(new Error("Unexpected "+pe.toknam(w)+(T?"("+JSON.stringify(T)+")":"")+" in state "+pe.toknam(this.state)))},R.push=function(){this.stack.push({value:this.value,key:this.key,mode:this.mode})},R.pop=function(){var w=this.value,T=this.stack.pop();this.value=T.value,this.key=T.key,this.mode=T.mode,this.emit(w),this.mode||(this.state=le)},R.emit=function(w){this.mode&&(this.state=s),this.onValue(w)},R.onValue=function(w){},R.onToken=function(w,T){if(this.state===le)if(w===d||w===c||w===l||w===u||w===f)this.value&&(this.value[this.key]=T),this.emit(T);else if(w===r)this.push(),this.value?this.value=this.value[this.key]={}:this.value={},this.key=void 0,this.state=ae,this.mode=ne;else if(w===i)this.push(),this.value?this.value=this.value[this.key]=[]:this.value=[],this.key=0,this.mode=H,this.state=le;else if(w===n)if(this.mode===ne)this.pop();else return this.parseError(w,T);else if(w===a)if(this.mode===H)this.pop();else return this.parseError(w,T);else return this.parseError(w,T);else if(this.state===ae)if(w===d)this.key=T,this.state=o;else if(w===n)this.pop();else return this.parseError(w,T);else if(this.state===o)if(w===o)this.state=le;else return this.parseError(w,T);else if(this.state===s)if(w===s)this.mode===H?(this.key++,this.state=le):this.mode===ne&&(this.state=ae);else if(w===a&&this.mode===H||w===n&&this.mode===ne)this.pop();else return this.parseError(w,T);else return this.parseError(w,T)},R.numberReviver=function(w,T,k){var U=Number(w);if(isNaN(U))return this.charError(T,k);w.match(/[0-9]+/)==w&&U.toString()!=w?this.onToken(d,w):this.onToken(c,U)},pe.C=t,jS=pe,jS}var ih={},ah={},qS={},Mk;function L0(){return Mk||(Mk=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ERROR_CODES=e.ErrorCoded=void 0;class t extends Error{constructor(n,i){super(n),this.code=i}}e.ErrorCoded=t,function(r){r.COLLIDING_KEYWORDS="colliding keywords",r.CONFLICTING_INDEXES="conflicting indexes",r.CYCLIC_IRI_MAPPING="cyclic IRI mapping",r.INVALID_ID_VALUE="invalid @id value",r.INVALID_INDEX_VALUE="invalid @index value",r.INVALID_NEST_VALUE="invalid @nest value",r.INVALID_PREFIX_VALUE="invalid @prefix value",r.INVALID_PROPAGATE_VALUE="invalid @propagate value",r.INVALID_REVERSE_VALUE="invalid @reverse value",r.INVALID_IMPORT_VALUE="invalid @import value",r.INVALID_VERSION_VALUE="invalid @version value",r.INVALID_BASE_IRI="invalid base IRI",r.INVALID_CONTAINER_MAPPING="invalid container mapping",r.INVALID_CONTEXT_ENTRY="invalid context entry",r.INVALID_CONTEXT_NULLIFICATION="invalid context nullification",r.INVALID_DEFAULT_LANGUAGE="invalid default language",r.INVALID_INCLUDED_VALUE="invalid @included value",r.INVALID_IRI_MAPPING="invalid IRI mapping",r.INVALID_JSON_LITERAL="invalid JSON literal",r.INVALID_KEYWORD_ALIAS="invalid keyword alias",r.INVALID_LANGUAGE_MAP_VALUE="invalid language map value",r.INVALID_LANGUAGE_MAPPING="invalid language mapping",r.INVALID_LANGUAGE_TAGGED_STRING="invalid language-tagged string",r.INVALID_LANGUAGE_TAGGED_VALUE="invalid language-tagged value",r.INVALID_LOCAL_CONTEXT="invalid local context",r.INVALID_REMOTE_CONTEXT="invalid remote context",r.INVALID_REVERSE_PROPERTY="invalid reverse property",r.INVALID_REVERSE_PROPERTY_MAP="invalid reverse property map",r.INVALID_REVERSE_PROPERTY_VALUE="invalid reverse property value",r.INVALID_SCOPED_CONTEXT="invalid scoped context",r.INVALID_SCRIPT_ELEMENT="invalid script element",r.INVALID_SET_OR_LIST_OBJECT="invalid set or list object",r.INVALID_TERM_DEFINITION="invalid term definition",r.INVALID_TYPE_MAPPING="invalid type mapping",r.INVALID_TYPE_VALUE="invalid type value",r.INVALID_TYPED_VALUE="invalid typed value",r.INVALID_VALUE_OBJECT="invalid value object",r.INVALID_VALUE_OBJECT_VALUE="invalid value object value",r.INVALID_VOCAB_MAPPING="invalid vocab mapping",r.IRI_CONFUSED_WITH_PREFIX="IRI confused with prefix",r.KEYWORD_REDEFINITION="keyword redefinition",r.LOADING_DOCUMENT_FAILED="loading document failed",r.LOADING_REMOTE_CONTEXT_FAILED="loading remote context failed",r.MULTIPLE_CONTEXT_LINK_HEADERS="multiple context link headers",r.PROCESSING_MODE_CONFLICT="processing mode conflict",r.PROTECTED_TERM_REDEFINITION="protected term redefinition",r.CONTEXT_OVERFLOW="context overflow",r.INVALID_BASE_DIRECTION="invalid base direction",r.RECURSIVE_CONTEXT_INCLUSION="recursive context inclusion",r.INVALID_STREAMING_KEY_ORDER="invalid streaming key order",r.INVALID_EMBEDDED_NODE="invalid embedded node",r.INVALID_ANNOTATION="invalid annotation"}(e.ERROR_CODES||(e.ERROR_CODES={}))}(qS)),qS}var oh={},BS,kk;function Zx(){if(kk)return BS;kk=1;var e=/^utf-?8|ascii|utf-?16-?le|ucs-?2|base-?64|latin-?1$/i,t=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,r=/\s|\uFEFF|\xA0/,n=/\r?\n[\x20\x09]+/g,i=/[;,"]/,a=/[;,"]|\s/,o=/^[!#$%&'*+\-\.^_`|~\da-zA-Z]+$/,s={IDLE:1,URI:2,ATTR:4};function l(b){return b.replace(t,"")}function u(b){return r.test(b)}function f(b,v){for(;u(b[v]);)v++;return v}function d(b){return a.test(b)||!o.test(b)}function c(b,v){return Object.keys(b).length===Object.keys(v).length&&Object.keys(b).every(_=>_ in v&&b[_]===v[_])}class p{constructor(v){this.refs=[],v&&this.parse(v)}rel(v){for(var _=[],y=v.toLowerCase(),m=0;m<this.refs.length;m++)typeof this.refs[m].rel=="string"&&this.refs[m].rel.toLowerCase()===y&&_.push(this.refs[m]);return _}get(v,_){v=v.toLowerCase(),_=_.toLowerCase();for(var y=[],m=0;m<this.refs.length;m++)typeof this.refs[m][v]=="string"&&this.refs[m][v].toLowerCase()===_&&y.push(this.refs[m]);return y}set(v){return this.refs.push(v),this}setUnique(v){return this.refs.some(_=>c(_,v))||this.refs.push(v),this}has(v,_){v=v.toLowerCase(),_=_.toLowerCase();for(var y=0;y<this.refs.length;y++)if(typeof this.refs[y][v]=="string"&&this.refs[y][v].toLowerCase()===_)return!0;return!1}parse(v,g){g=g||0,v=g?v.slice(g):v,v=l(v).replace(n,"");for(var y=s.IDLE,m=v.length,g=0,S=null;g<m;)if(y===s.IDLE){if(u(v[g])){g++;continue}else if(v[g]==="<"){S!=null&&(S.rel!=null?this.refs.push(...p.expandRelations(S)):this.refs.push(S));var x=v.indexOf(">",g);if(x===-1)throw new Error("Expected end of URI delimiter at offset "+g);S={uri:v.slice(g+1,x)},g=x,y=s.URI}else throw new Error('Unexpected character "'+v[g]+'" at offset '+g);g++}else if(y===s.URI)if(u(v[g])){g++;continue}else if(v[g]===";")y=s.ATTR,g++;else if(v[g]===",")y=s.IDLE,g++;else throw new Error('Unexpected character "'+v[g]+'" at offset '+g);else if(y===s.ATTR){if(v[g]===";"||u(v[g])){g++;continue}var x=v.indexOf("=",g);x===-1&&(x=v.indexOf(";",g)),x===-1&&(x=v.length);var I=l(v.slice(g,x)).toLowerCase(),N="";if(g=x+1,g=f(v,g),v[g]==='"')for(g++;g<m;){if(v[g]==='"'){g++;break}v[g]==="\\"&&g++,N+=v[g],g++}else{for(var x=g+1;!i.test(v[x])&&x<m;)x++;N=v.slice(g,x),g=x}switch(S[I]&&p.isSingleOccurenceAttr(I)||(I[I.length-1]==="*"?S[I]=p.parseExtendedValue(N):(N=I==="type"?N.toLowerCase():N,S[I]!=null?Array.isArray(S[I])?S[I].push(N):S[I]=[S[I],N]:S[I]=N)),v[g]){case",":y=s.IDLE;break;case";":y=s.ATTR;break}g++}else throw new Error('Unknown parser state "'+y+'"');return S!=null&&(S.rel!=null?this.refs.push(...p.expandRelations(S)):this.refs.push(S)),S=null,this}toString(){for(var v=[],_="",y=null,m=0;m<this.refs.length;m++)y=this.refs[m],_=Object.keys(this.refs[m]).reduce(function(g,S){return S==="uri"?g:g+"; "+p.formatAttribute(S,y[S])},"<"+y.uri+">"),v.push(_);return v.join(", ")}}return p.isCompatibleEncoding=function(b){return e.test(b)},p.parse=function(b,v){return new p().parse(b,v)},p.isSingleOccurenceAttr=function(b){return b==="rel"||b==="type"||b==="media"||b==="title"||b==="title*"},p.isTokenAttr=function(b){return b==="rel"||b==="type"||b==="anchor"},p.escapeQuotes=function(b){return b.replace(/"/g,'\\"')},p.expandRelations=function(b){var v=b.rel.split(" ");return v.map(function(_){var y=Object.assign({},b);return y.rel=_,y})},p.parseExtendedValue=function(b){var v=/([^']+)?(?:'([^']*)')?(.+)/.exec(b);return{language:v[2].toLowerCase(),encoding:p.isCompatibleEncoding(v[1])?null:v[1].toLowerCase(),value:p.isCompatibleEncoding(v[1])?decodeURIComponent(v[3]):v[3]}},p.formatExtendedAttribute=function(b,v){var _=(v.encoding||"utf-8").toUpperCase(),y=v.language||"en",m="";return Qn.isBuffer(v.value)&&p.isCompatibleEncoding(_)?m=v.value.toString(_):Qn.isBuffer(v.value)?m=v.value.toString("hex").replace(/[0-9a-f]{2}/gi,"%$1"):m=encodeURIComponent(v.value),b+"="+_+"'"+y+"'"+m},p.formatAttribute=function(b,v){return Array.isArray(v)?v.map(_=>p.formatAttribute(b,_)).join("; "):b[b.length-1]==="*"||typeof v!="string"?p.formatExtendedAttribute(b,v):(p.isTokenAttr(b)?v=d(v)?'"'+p.escapeQuotes(v)+'"':p.escapeQuotes(v):d(v)&&(v=encodeURIComponent(v),v=v.replace(/%20/g," ").replace(/%2C/g,",").replace(/%3B/g,";"),v='"'+v+'"'),b+"="+v)},BS=p,BS}var Fk;function x5(){if(Fk)return oh;Fk=1,Object.defineProperty(oh,"__esModule",{value:!0}),oh.FetchDocumentLoader=void 0;const e=L0(),t=Zx(),r=Ii();class n{constructor(a){this.fetcher=a}async load(a){const o=await(this.fetcher||fetch)(a,{headers:new Headers({accept:"application/ld+json"})});if(o.ok&&o.headers){let s=o.headers.get("Content-Type");if(s){const l=s.indexOf(";");l>0&&(s=s.substr(0,l))}if(s==="application/ld+json")return await o.json();if(o.headers.has("Link")){let l;if(o.headers.forEach((u,f)=>{if(f==="link"){const d=(0,t.parse)(u);for(const c of d.get("type","application/ld+json"))if(c.rel==="alternate"){if(l)throw new Error("Multiple JSON-LD alternate links were found on "+a);l=(0,r.resolve)(c.uri,a)}}}),l)return this.load(l)}throw new e.ErrorCoded(`Unsupported JSON-LD media type ${s}`,e.ERROR_CODES.LOADING_DOCUMENT_FAILED)}else throw new Error(o.statusText||`Status code: ${o.status}`)}}return oh.FetchDocumentLoader=n,oh}var $S={},sh={},jk;function Yx(){if(jk)return sh;jk=1,Object.defineProperty(sh,"__esModule",{value:!0}),sh.Util=void 0;class e{static isCompactIri(r){return r.indexOf(":")>0&&!(r&&r[0]==="#")}static getPrefix(r,n){if(r&&r[0]==="#")return null;const i=r.indexOf(":");if(i>=0){if(r.length>i+1&&r.charAt(i+1)==="/"&&r.charAt(i+2)==="/")return null;const a=r.substr(0,i);if(a==="_")return null;if(n[a])return a}return null}static getContextValueId(r){if(r===null||typeof r=="string")return r;const n=r["@id"];return n||null}static isSimpleTermDefinitionPrefix(r,n){return!e.isPotentialKeyword(r)&&(n.allowPrefixNonGenDelims||typeof r=="string"&&(r[0]==="_"||e.isPrefixIriEndingWithGenDelim(r)))}static isPotentialKeyword(r){return typeof r=="string"&&e.KEYWORD_REGEX.test(r)}static isPrefixIriEndingWithGenDelim(r){return e.ENDS_WITH_GEN_DELIM.test(r)}static isPrefixValue(r){return r&&(typeof r=="string"||r&&typeof r=="object")}static isValidIri(r){return!!(r&&e.IRI_REGEX.test(r))}static isValidIriWeak(r){return!!r&&r[0]!==":"&&e.IRI_REGEX_WEAK.test(r)}static isValidKeyword(r){return e.VALID_KEYWORDS[r]}static isTermProtected(r,n){const i=r[n];return typeof i!="string"&&i&&i["@protected"]}static hasProtectedTerms(r){for(const n of Object.keys(r))if(e.isTermProtected(r,n))return!0;return!1}static isReservedInternalKeyword(r){return r.startsWith("@__")}static deepEqual(r,n){const i=Object.keys(r),a=Object.keys(n);return i.length!==a.length?!1:i.every(o=>{const s=r[o],l=n[o];return s===l||s!==null&&l!==null&&typeof s=="object"&&typeof l=="object"&&this.deepEqual(s,l)})}}return e.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`#]*(#[^#]*)?$/,e.IRI_REGEX_WEAK=/(?::[^:])|\//,e.KEYWORD_REGEX=/^@[a-z]+$/i,e.ENDS_WITH_GEN_DELIM=/[:/?#\[\]@]$/,e.REGEX_LANGUAGE_TAG=/^[a-zA-Z]+(-[a-zA-Z0-9]+)*$/,e.REGEX_DIRECTION_TAG=/^(ltr)|(rtl)$/,e.VALID_KEYWORDS={"@annotation":!0,"@base":!0,"@container":!0,"@context":!0,"@direction":!0,"@graph":!0,"@id":!0,"@import":!0,"@included":!0,"@index":!0,"@json":!0,"@language":!0,"@list":!0,"@nest":!0,"@none":!0,"@prefix":!0,"@propagate":!0,"@protected":!0,"@reverse":!0,"@set":!0,"@type":!0,"@value":!0,"@version":!0,"@vocab":!0},e.EXPAND_KEYS_BLACKLIST=["@base","@vocab","@language","@version","@direction"],e.ALIAS_DOMAIN_BLACKLIST=["@container","@graph","@id","@index","@list","@nest","@none","@prefix","@reverse","@set","@type","@value","@version"],e.ALIAS_RANGE_BLACKLIST=["@context","@preserve"],e.CONTAINERS=["@list","@set","@index","@language","@graph","@id","@type"],e.CONTAINERS_1_0=["@list","@set","@index"],sh.Util=e,sh}var qk;function R5(){return qk||(qk=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.defaultExpandOptions=e.JsonLdContextNormalized=void 0;const t=Ii(),r=L0(),n=Yx();class i{constructor(o){this.contextRaw=o}getContextRaw(){return this.contextRaw}expandTerm(o,s,l=e.defaultExpandOptions){const u=this.contextRaw[o];if(u===null||u&&u["@id"]===null)return null;let f=!0;if(u&&s){const _=n.Util.getContextValueId(u);if(_&&_!==o)if(typeof _!="string"||!n.Util.isValidIri(_)&&!n.Util.isValidKeyword(_))n.Util.isPotentialKeyword(_)||(f=!1);else return _}const d=n.Util.getPrefix(o,this.contextRaw),c=this.contextRaw["@vocab"],p=(!!c||c==="")&&c.indexOf(":")<0,b=this.contextRaw["@base"],v=n.Util.isPotentialKeyword(o);if(d){const _=this.contextRaw[d],y=n.Util.getContextValueId(_);if(y){if(typeof _=="string"||!l.allowPrefixForcing){if(!n.Util.isSimpleTermDefinitionPrefix(y,l))return o}else if(y[0]!=="_"&&!v&&!_["@prefix"]&&!(o in this.contextRaw))return o;return y+o.substr(d.length+1)}}else if(s&&(c||c===""||l.allowVocabRelativeToBase&&b&&p)&&!v&&!n.Util.isCompactIri(o))if(p){if(l.allowVocabRelativeToBase)return(c||b?(0,t.resolve)(c,b):"")+o;throw new r.ErrorCoded(`Relative vocab expansion for term '${o}' with vocab '${c}' is not allowed.`,r.ERROR_CODES.INVALID_VOCAB_MAPPING)}else return c+o;else if(!s&&b&&!v&&!n.Util.isCompactIri(o))return(0,t.resolve)(o,b);if(f)return o;throw new r.ErrorCoded(`Invalid IRI mapping found for context entry '${o}': '${JSON.stringify(u)}'`,r.ERROR_CODES.INVALID_IRI_MAPPING)}compactIri(o,s){if(s&&this.contextRaw["@vocab"]&&o.startsWith(this.contextRaw["@vocab"]))return o.substr(this.contextRaw["@vocab"].length);if(!s&&this.contextRaw["@base"]&&o.startsWith(this.contextRaw["@base"]))return o.substr(this.contextRaw["@base"].length);const l={prefix:"",suffix:o};for(const u in this.contextRaw){const f=this.contextRaw[u];if(f&&!n.Util.isPotentialKeyword(u)){const d=n.Util.getContextValueId(f);if(o.startsWith(d)){const c=o.substr(d.length);if(c)c.length<l.suffix.length&&(l.prefix=u,l.suffix=c);else if(s)return u}}}return l.prefix?l.prefix+":"+l.suffix:o}}e.JsonLdContextNormalized=i,e.defaultExpandOptions={allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}}($S)),$S}var Bk;function Lne(){if(Bk)return ah;Bk=1,Object.defineProperty(ah,"__esModule",{value:!0}),ah.ContextParser=void 0;const e=Ii(),t=L0(),r=x5(),n=R5(),i=Yx();class a{constructor(s){s=s||{},this.documentLoader=s.documentLoader||new r.FetchDocumentLoader,this.documentCache={},this.validateContext=!s.skipValidation,this.expandContentTypeToBase=!!s.expandContentTypeToBase,this.remoteContextsDepthLimit=s.remoteContextsDepthLimit||32,this.redirectSchemaOrgHttps="redirectSchemaOrgHttps"in s?!!s.redirectSchemaOrgHttps:!0}static validateLanguage(s,l,u){if(typeof s!="string")throw new t.ErrorCoded(`The value of an '@language' must be a string, got '${JSON.stringify(s)}'`,u);if(!i.Util.REGEX_LANGUAGE_TAG.test(s)){if(l)throw new t.ErrorCoded(`The value of an '@language' must be a valid language tag, got '${JSON.stringify(s)}'`,u);return!1}return!0}static validateDirection(s,l){if(typeof s!="string")throw new t.ErrorCoded(`The value of an '@direction' must be a string, got '${JSON.stringify(s)}'`,t.ERROR_CODES.INVALID_BASE_DIRECTION);if(!i.Util.REGEX_DIRECTION_TAG.test(s)){if(l)throw new t.ErrorCoded(`The value of an '@direction' must be 'ltr' or 'rtl', got '${JSON.stringify(s)}'`,t.ERROR_CODES.INVALID_BASE_DIRECTION);return!1}return!0}idifyReverseTerms(s){for(const l of Object.keys(s)){let u=s[l];if(u&&typeof u=="object"&&u["@reverse"]&&!u["@id"]){if(typeof u["@reverse"]!="string"||i.Util.isValidKeyword(u["@reverse"]))throw new t.ErrorCoded(`Invalid @reverse value, must be absolute IRI or blank node: '${u["@reverse"]}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);u=s[l]=Object.assign(Object.assign({},u),{"@id":u["@reverse"]}),u["@id"]=u["@reverse"],i.Util.isPotentialKeyword(u["@reverse"])?delete u["@reverse"]:u["@reverse"]=!0}}return s}expandPrefixedTerms(s,l,u){const f=s.getContextRaw();for(const d of u||Object.keys(f))if(i.Util.EXPAND_KEYS_BLACKLIST.indexOf(d)<0&&!i.Util.isReservedInternalKeyword(d)){const c=f[d];if(i.Util.isPotentialKeyword(d)&&i.Util.ALIAS_DOMAIN_BLACKLIST.indexOf(d)>=0&&(d!=="@type"||typeof f[d]=="object"&&!(f[d]["@protected"]||f[d]["@container"]==="@set")))throw new t.ErrorCoded(`Keywords can not be aliased to something else.
Tried mapping ${d} to ${JSON.stringify(c)}`,t.ERROR_CODES.KEYWORD_REDEFINITION);if(i.Util.ALIAS_RANGE_BLACKLIST.indexOf(i.Util.getContextValueId(c))>=0)throw new t.ErrorCoded(`Aliasing to certain keywords is not allowed.
Tried mapping ${d} to ${JSON.stringify(c)}`,t.ERROR_CODES.INVALID_KEYWORD_ALIAS);if(c&&i.Util.isPotentialKeyword(i.Util.getContextValueId(c))&&c["@prefix"]===!0)throw new t.ErrorCoded(`Tried to use keyword aliases as prefix: '${d}': '${JSON.stringify(c)}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);for(;i.Util.isPrefixValue(f[d]);){const p=f[d];let b=!1;if(typeof p=="string")f[d]=s.expandTerm(p,!0),b=b||p!==f[d];else{const v=p["@id"],_=p["@type"],y=!("@prefix"in p)||i.Util.isValidIri(d);if("@id"in p)v!=null&&typeof v=="string"&&(f[d]=Object.assign(Object.assign({},f[d]),{"@id":s.expandTerm(v,!0)}),b=b||v!==f[d]["@id"]);else if(!i.Util.isPotentialKeyword(d)&&y){const m=s.expandTerm(d,!0);m!==d&&(f[d]=Object.assign(Object.assign({},f[d]),{"@id":m}),b=!0)}if(_&&typeof _=="string"&&_!=="@vocab"&&(!p["@container"]||!p["@container"]["@type"])&&y){let m=s.expandTerm(_,!0);l&&_===m&&(m=s.expandTerm(_,!1)),m!==_&&(b=!0,f[d]=Object.assign(Object.assign({},f[d]),{"@type":m}))}}if(!b)break}}}normalize(s,{processingMode:l,normalizeLanguageTags:u}){if(u||l===1)for(const f of Object.keys(s))if(f==="@language"&&typeof s[f]=="string")s[f]=s[f].toLowerCase();else{const d=s[f];if(d&&typeof d=="object"&&typeof d["@language"]=="string"){const c=d["@language"].toLowerCase();c!==d["@language"]&&(s[f]=Object.assign(Object.assign({},d),{"@language":c}))}}}containersToHash(s){for(const l of Object.keys(s)){const u=s[l];if(u&&typeof u=="object"){if(typeof u["@container"]=="string")s[l]=Object.assign(Object.assign({},u),{"@container":{[u["@container"]]:!0}});else if(Array.isArray(u["@container"])){const f={};for(const d of u["@container"])f[d]=!0;s[l]=Object.assign(Object.assign({},u),{"@container":f})}}}}applyScopedProtected(s,{processingMode:l},u){if(l&&l>=1.1&&s["@protected"]){for(const f of Object.keys(s))if(!i.Util.isReservedInternalKeyword(f)&&!i.Util.isPotentialKeyword(f)&&!i.Util.isTermProtected(s,f)){const d=s[f];d&&typeof d=="object"?"@protected"in s[f]||(s[f]=Object.assign(Object.assign({},s[f]),{"@protected":!0})):(s[f]={"@id":d,"@protected":!0},i.Util.isSimpleTermDefinitionPrefix(d,u)&&(s[f]=Object.assign(Object.assign({},s[f]),{"@prefix":!0})))}delete s["@protected"]}}validateKeywordRedefinitions(s,l,u,f){for(const d of f??Object.keys(l))if(i.Util.isTermProtected(s,d)&&(typeof l[d]=="string"?l[d]={"@id":l[d],"@protected":!0}:l[d]=Object.assign(Object.assign({},l[d]),{"@protected":!0}),!i.Util.deepEqual(s[d],l[d])))throw new t.ErrorCoded(`Attempted to override the protected keyword ${d} from ${JSON.stringify(i.Util.getContextValueId(s[d]))} to ${JSON.stringify(i.Util.getContextValueId(l[d]))}`,t.ERROR_CODES.PROTECTED_TERM_REDEFINITION)}validate(s,{processingMode:l}){for(const u of Object.keys(s)){if(i.Util.isReservedInternalKeyword(u))continue;if(u==="")throw new t.ErrorCoded(`The empty term is not allowed, got: '${u}': '${JSON.stringify(s[u])}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);const f=s[u],d=typeof f;if(i.Util.isPotentialKeyword(u)){switch(u.substr(1)){case"vocab":if(f!==null&&d!=="string")throw new t.ErrorCoded(`Found an invalid @vocab IRI: ${f}`,t.ERROR_CODES.INVALID_VOCAB_MAPPING);break;case"base":if(f!==null&&d!=="string")throw new t.ErrorCoded(`Found an invalid @base IRI: ${s[u]}`,t.ERROR_CODES.INVALID_BASE_IRI);break;case"language":f!==null&&a.validateLanguage(f,!0,t.ERROR_CODES.INVALID_DEFAULT_LANGUAGE);break;case"version":if(f!==null&&d!=="number")throw new t.ErrorCoded(`Found an invalid @version number: ${f}`,t.ERROR_CODES.INVALID_VERSION_VALUE);break;case"direction":f!==null&&a.validateDirection(f,!0);break;case"propagate":if(l===1)throw new t.ErrorCoded(`Found an illegal @propagate keyword: ${f}`,t.ERROR_CODES.INVALID_CONTEXT_ENTRY);if(f!==null&&d!=="boolean")throw new t.ErrorCoded(`Found an invalid @propagate value: ${f}`,t.ERROR_CODES.INVALID_PROPAGATE_VALUE);break}if(i.Util.isValidKeyword(u)&&i.Util.isValidKeyword(i.Util.getContextValueId(f)))throw new t.ErrorCoded(`Illegal keyword alias in term value, found: '${u}': '${i.Util.getContextValueId(f)}'`,t.ERROR_CODES.KEYWORD_REDEFINITION);continue}if(f!==null)switch(d){case"string":if(i.Util.getPrefix(f,s)===u)throw new t.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${u}': '${JSON.stringify(f)}'`,t.ERROR_CODES.CYCLIC_IRI_MAPPING);if(i.Util.isValidIriWeak(u)){if(f==="@type")throw new t.ErrorCoded(`IRIs can not be mapped to @type, found: '${u}': '${f}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(i.Util.isValidIri(f)&&f!==new n.JsonLdContextNormalized(s).expandTerm(u))throw new t.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${u}': '${f}'`,t.ERROR_CODES.INVALID_IRI_MAPPING)}break;case"object":if(!i.Util.isCompactIri(u)&&!("@id"in f)&&(f["@type"]==="@id"?!s["@base"]:!s["@vocab"]))throw new t.ErrorCoded(`Missing @id in context entry: '${u}': '${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);for(const c of Object.keys(f)){const p=f[c];if(p)switch(c){case"@id":if(i.Util.isValidKeyword(p)&&p!=="@type"&&p!=="@id"&&p!=="@graph"&&p!=="@nest")throw new t.ErrorCoded(`Illegal keyword alias in term value, found: '${u}': '${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(i.Util.isValidIriWeak(u)){if(p==="@type")throw new t.ErrorCoded(`IRIs can not be mapped to @type, found: '${u}': '${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(i.Util.isValidIri(p)&&p!==new n.JsonLdContextNormalized(s).expandTerm(u))throw new t.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${u}': '${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING)}if(typeof p!="string")throw new t.ErrorCoded(`Detected non-string @id in context entry: '${u}': '${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(i.Util.getPrefix(p,s)===u)throw new t.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${u}': '${JSON.stringify(f)}'`,t.ERROR_CODES.CYCLIC_IRI_MAPPING);break;case"@type":if(f["@container"]==="@type"&&p!=="@id"&&p!=="@vocab")throw new t.ErrorCoded(`@container: @type only allows @type: @id or @vocab, but got: '${u}': '${p}'`,t.ERROR_CODES.INVALID_TYPE_MAPPING);if(typeof p!="string")throw new t.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(d)}'`,t.ERROR_CODES.INVALID_TYPE_MAPPING);if(p!=="@id"&&p!=="@vocab"&&(l===1||p!=="@json")&&(l===1||p!=="@none")&&(p[0]==="_"||!i.Util.isValidIri(p)))throw new t.ErrorCoded(`A context @type must be an absolute IRI, found: '${u}': '${p}'`,t.ERROR_CODES.INVALID_TYPE_MAPPING);break;case"@reverse":if(typeof p=="string"&&f["@id"]&&f["@id"]!==p)throw new t.ErrorCoded(`Found non-matching @id and @reverse term values in '${u}':'${p}' and '${f["@id"]}'`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY);if("@nest"in f)throw new t.ErrorCoded(`@nest is not allowed in the reverse property '${u}'`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY);break;case"@container":if(l===1&&(Object.keys(p).length>1||i.Util.CONTAINERS_1_0.indexOf(Object.keys(p)[0])<0))throw new t.ErrorCoded(`Invalid term @container for '${u}' ('${Object.keys(p)}') in 1.0, must be only one of ${i.Util.CONTAINERS_1_0.join(", ")}`,t.ERROR_CODES.INVALID_CONTAINER_MAPPING);for(const b of Object.keys(p)){if(b==="@list"&&f["@reverse"])throw new t.ErrorCoded(`Term value can not be @container: @list and @reverse at the same time on '${u}'`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY);if(i.Util.CONTAINERS.indexOf(b)<0)throw new t.ErrorCoded(`Invalid term @container for '${u}' ('${b}'), must be one of ${i.Util.CONTAINERS.join(", ")}`,t.ERROR_CODES.INVALID_CONTAINER_MAPPING)}break;case"@language":a.validateLanguage(p,!0,t.ERROR_CODES.INVALID_LANGUAGE_MAPPING);break;case"@direction":a.validateDirection(p,!0);break;case"@prefix":if(p!==null&&typeof p!="boolean")throw new t.ErrorCoded(`Found an invalid term @prefix boolean in: '${u}': '${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_PREFIX_VALUE);if(!("@id"in f)&&!i.Util.isValidIri(u))throw new t.ErrorCoded(`Invalid @prefix definition for '${u}' ('${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@index":if(l===1||!f["@container"]||!f["@container"]["@index"])throw new t.ErrorCoded(`Attempt to add illegal key to value object: '${u}': '${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@nest":if(i.Util.isPotentialKeyword(p)&&p!=="@nest")throw new t.ErrorCoded(`Found an invalid term @nest value in: '${u}': '${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_NEST_VALUE)}}break;default:throw new t.ErrorCoded(`Found an invalid term value: '${u}': '${f}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION)}}}applyBaseEntry(s,l,u){return typeof s=="string"||(u&&!("@base"in s)&&l.parentContext&&typeof l.parentContext=="object"&&"@base"in l.parentContext&&(s["@base"]=l.parentContext["@base"],l.parentContext["@__baseDocument"]&&(s["@__baseDocument"]=!0)),l.baseIRI&&!l.external&&("@base"in s?s["@base"]!==null&&typeof s["@base"]=="string"&&!i.Util.isValidIri(s["@base"])&&(s["@base"]=(0,e.resolve)(s["@base"],l.parentContext&&l.parentContext["@base"]||l.baseIRI)):(s["@base"]=l.baseIRI,s["@__baseDocument"]=!0))),s}normalizeContextIri(s,l){if(!i.Util.isValidIri(s))try{s=(0,e.resolve)(s,l)}catch{throw new Error(`Invalid context IRI: ${s}`)}return this.redirectSchemaOrgHttps&&s.startsWith("http://schema.org")&&(s="https://schema.org/"),s}async parseInnerContexts(s,l,u){for(const f of u??Object.keys(s)){const d=s[f];if(d&&typeof d=="object"&&"@context"in d&&d["@context"]!==null&&!l.ignoreScopedContexts){if(this.validateContext)try{const c=Object.assign(Object.assign({},s),{[f]:Object.assign({},s[f])});delete c[f]["@context"],await this.parse(d["@context"],Object.assign(Object.assign({},l),{external:!1,parentContext:c,ignoreProtection:!0,ignoreRemoteScopedContexts:!0,ignoreScopedContexts:!0}))}catch(c){throw new t.ErrorCoded(c.message,t.ERROR_CODES.INVALID_SCOPED_CONTEXT)}s[f]=Object.assign(Object.assign({},d),{"@context":(await this.parse(d["@context"],Object.assign(Object.assign({},l),{external:!1,minimalProcessing:!0,ignoreRemoteScopedContexts:!0,parentContext:s}))).getContextRaw()})}}return s}async parse(s,l={},u={}){const{baseIRI:f,parentContext:d,external:c,processingMode:p=a.DEFAULT_PROCESSING_MODE,normalizeLanguageTags:b,ignoreProtection:v,minimalProcessing:_}=l,y=l.remoteContexts||{};if(Object.keys(y).length>=this.remoteContextsDepthLimit)throw new t.ErrorCoded("Detected an overflow in remote context inclusions: "+Object.keys(y),t.ERROR_CODES.CONTEXT_OVERFLOW);if(s==null){if(!v&&d&&i.Util.hasProtectedTerms(d))throw new t.ErrorCoded("Illegal context nullification when terms are protected",t.ERROR_CODES.INVALID_CONTEXT_NULLIFICATION);return new n.JsonLdContextNormalized(this.applyBaseEntry({},l,!1))}else if(typeof s=="string"){const m=this.normalizeContextIri(s,f),g=this.getOverriddenLoad(m,l);if(g)return new n.JsonLdContextNormalized(g);const S=await this.parse(await this.load(m),Object.assign(Object.assign({},l),{baseIRI:m,external:!0,remoteContexts:Object.assign(Object.assign({},y),{[m]:!0})}));return this.applyBaseEntry(S.getContextRaw(),l,!0),S}else if(Array.isArray(s)){const m=[],g=await Promise.all(s.map((x,I)=>{if(typeof x=="string"){const N=this.normalizeContextIri(x,f);m[I]=N;const q=this.getOverriddenLoad(N,l);return q||this.load(N)}else return x}));if(_)return new n.JsonLdContextNormalized(g);const S=await g.reduce((x,I,N)=>x.then(q=>this.parse(I,Object.assign(Object.assign({},l),{baseIRI:m[N]||l.baseIRI,external:!!m[N]||l.external,parentContext:q.getContextRaw(),remoteContexts:m[N]?Object.assign(Object.assign({},y),{[m[N]]:!0}):y}),{skipValidation:N<g.length-1})),Promise.resolve(new n.JsonLdContextNormalized(d||{})));return this.applyBaseEntry(S.getContextRaw(),l,!0),S}else if(typeof s=="object"){if("@context"in s)return await this.parse(s["@context"],l);if(s=Object.assign({},s),c&&delete s["@base"],this.applyBaseEntry(s,l,!0),this.containersToHash(s),_)return new n.JsonLdContextNormalized(s);let m={};if("@import"in s)if(p>=1.1){if(typeof s["@import"]!="string")throw new t.ErrorCoded("An @import value must be a string, but got "+typeof s["@import"],t.ERROR_CODES.INVALID_IMPORT_VALUE);m=await this.loadImportContext(this.normalizeContextIri(s["@import"],f)),delete s["@import"]}else throw new t.ErrorCoded("Context importing is not supported in JSON-LD 1.0",t.ERROR_CODES.INVALID_CONTEXT_ENTRY);this.applyScopedProtected(m,{processingMode:p},n.defaultExpandOptions);const g=Object.assign(m,s);this.idifyReverseTerms(g),this.normalize(g,{processingMode:p,normalizeLanguageTags:b}),this.applyScopedProtected(g,{processingMode:p},n.defaultExpandOptions);const S=Object.keys(g),x=[];if(typeof d=="object")for(const N in d)N in g?x.push(N):g[N]=d[N];await this.parseInnerContexts(g,l,S);const I=new n.JsonLdContextNormalized(g);return(g&&g["@version"]||a.DEFAULT_PROCESSING_MODE)>=1.1&&(s["@vocab"]&&typeof s["@vocab"]=="string"||s["@vocab"]==="")&&(d&&"@vocab"in d&&s["@vocab"].indexOf(":")<0?g["@vocab"]=d["@vocab"]+s["@vocab"]:(i.Util.isCompactIri(s["@vocab"])||s["@vocab"]in g)&&(g["@vocab"]=I.expandTerm(s["@vocab"],!0))),this.expandPrefixedTerms(I,this.expandContentTypeToBase,S),!v&&d&&p>=1.1&&this.validateKeywordRedefinitions(d,g,n.defaultExpandOptions,x),this.validateContext&&!u.skipValidation&&this.validate(g,{processingMode:p}),I}else throw new t.ErrorCoded(`Tried parsing a context that is not a string, array or object, but got ${s}`,t.ERROR_CODES.INVALID_LOCAL_CONTEXT)}async load(s){const l=this.documentCache[s];if(l)return l;let u;try{u=await this.documentLoader.load(s)}catch(f){throw new t.ErrorCoded(`Failed to load remote context ${s}: ${f.message}`,t.ERROR_CODES.LOADING_REMOTE_CONTEXT_FAILED)}if(!("@context"in u))throw new t.ErrorCoded(`Missing @context in remote context at ${s}`,t.ERROR_CODES.INVALID_REMOTE_CONTEXT);return this.documentCache[s]=u["@context"]}getOverriddenLoad(s,l){if(s in(l.remoteContexts||{})){if(l.ignoreRemoteScopedContexts)return s;throw new t.ErrorCoded("Detected a cyclic context inclusion of "+s,t.ERROR_CODES.RECURSIVE_CONTEXT_INCLUSION)}return null}async loadImportContext(s){let l=await this.load(s);if(typeof l!="object"||Array.isArray(l))throw new t.ErrorCoded("An imported context must be a single object: "+s,t.ERROR_CODES.INVALID_REMOTE_CONTEXT);if("@import"in l)throw new t.ErrorCoded("An imported context can not import another context: "+s,t.ERROR_CODES.INVALID_CONTEXT_ENTRY);return l=Object.assign({},l),this.containersToHash(l),l}}return a.DEFAULT_PROCESSING_MODE=1.1,ah.ContextParser=a,ah}var US={},$k;function Mne(){return $k||($k=1,Object.defineProperty(US,"__esModule",{value:!0})),US}var VS={},Uk;function kne(){return Uk||(Uk=1,Object.defineProperty(VS,"__esModule",{value:!0})),VS}var Vk;function Kn(){return Vk||(Vk=1,function(e){var t=ih.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=ih.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(Lne(),e),r(L0(),e),r(x5(),e),r(Mne(),e),r(kne(),e),r(R5(),e),r(Yx(),e)}(ih)),ih}var uh={},lh={},fh={},ch={},Hk;function A5(){if(Hk)return ch;Hk=1,Object.defineProperty(ch,"__esModule",{value:!0}),ch.BlankNode=void 0;class e{constructor(r){this.termType="BlankNode",this.value=r}equals(r){return!!r&&r.termType==="BlankNode"&&r.value===this.value}}return ch.BlankNode=e,ch}var dh={},hh={},zk;function I5(){if(zk)return hh;zk=1,Object.defineProperty(hh,"__esModule",{value:!0}),hh.DefaultGraph=void 0;class e{constructor(){this.termType="DefaultGraph",this.value=""}equals(r){return!!r&&r.termType==="DefaultGraph"}}return hh.DefaultGraph=e,e.INSTANCE=new e,hh}var ph={},mh={},Gk;function Xx(){if(Gk)return mh;Gk=1,Object.defineProperty(mh,"__esModule",{value:!0}),mh.NamedNode=void 0;class e{constructor(r){this.termType="NamedNode",this.value=r}equals(r){return!!r&&r.termType==="NamedNode"&&r.value===this.value}}return mh.NamedNode=e,mh}var Wk;function P5(){if(Wk)return ph;Wk=1,Object.defineProperty(ph,"__esModule",{value:!0}),ph.Literal=void 0;const e=Xx();class t{constructor(n,i){this.termType="Literal",this.value=n,typeof i=="string"?(this.language=i,this.datatype=t.RDF_LANGUAGE_STRING):i?(this.language="",this.datatype=i):(this.language="",this.datatype=t.XSD_STRING)}equals(n){return!!n&&n.termType==="Literal"&&n.value===this.value&&n.language===this.language&&this.datatype.equals(n.datatype)}}return ph.Literal=t,t.RDF_LANGUAGE_STRING=new e.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.XSD_STRING=new e.NamedNode("http://www.w3.org/2001/XMLSchema#string"),ph}var yh={},Kk;function O5(){if(Kk)return yh;Kk=1,Object.defineProperty(yh,"__esModule",{value:!0}),yh.Quad=void 0;class e{constructor(r,n,i,a){this.termType="Quad",this.value="",this.subject=r,this.predicate=n,this.object=i,this.graph=a}equals(r){return!!r&&(r.termType==="Quad"||!r.termType)&&this.subject.equals(r.subject)&&this.predicate.equals(r.predicate)&&this.object.equals(r.object)&&this.graph.equals(r.graph)}}return yh.Quad=e,yh}var gh={},Qk;function N5(){if(Qk)return gh;Qk=1,Object.defineProperty(gh,"__esModule",{value:!0}),gh.Variable=void 0;class e{constructor(r){this.termType="Variable",this.value=r}equals(r){return!!r&&r.termType==="Variable"&&r.value===this.value}}return gh.Variable=e,gh}var Zk;function Fne(){if(Zk)return dh;Zk=1,Object.defineProperty(dh,"__esModule",{value:!0}),dh.DataFactory=void 0;const e=A5(),t=I5(),r=P5(),n=Xx(),i=O5(),a=N5();let o=0;class s{constructor(u){this.blankNodeCounter=0,u=u||{},this.blankNodePrefix=u.blankNodePrefix||`df_${o++}_`}namedNode(u){return new n.NamedNode(u)}blankNode(u){return new e.BlankNode(u||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(u,f){return new r.Literal(u,f)}variable(u){return new a.Variable(u)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(u,f,d,c){return new i.Quad(u,f,d,c||this.defaultGraph())}fromTerm(u){switch(u.termType){case"NamedNode":return this.namedNode(u.value);case"BlankNode":return this.blankNode(u.value);case"Literal":return u.language?this.literal(u.value,u.language):u.datatype.equals(r.Literal.XSD_STRING)?this.literal(u.value):this.literal(u.value,this.fromTerm(u.datatype));case"Variable":return this.variable(u.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(u.subject),this.fromTerm(u.predicate),this.fromTerm(u.object),this.fromTerm(u.graph))}}fromQuad(u){return this.fromTerm(u)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return dh.DataFactory=s,dh}var Yk;function jne(){return Yk||(Yk=1,function(e){var t=fh.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=fh.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(A5(),e),r(Fne(),e),r(I5(),e),r(P5(),e),r(Xx(),e),r(O5(),e),r(N5(),e)}(fh)),fh}var _h={},bh={},Xk;function qne(){if(Xk)return bh;Xk=1,Object.defineProperty(bh,"__esModule",{value:!0}),bh.ContainerHandlerIdentifier=void 0;let e=class{canCombineWithGraph(){return!0}async handle(r,n,i,a,o,s){let l;if(n.emittedStack[s+1]&&n.idStack[s+1])l=n.idStack[s+1][0];else{const d=await i.getContainerKey(a[s],a,s)!==null?await i.resourceToTerm(await n.getContext(a),a[s]):i.dataFactory.blankNode();if(!d){n.emittedStack[s]=!1;return}l=d,n.idStack[s+1]=[l]}let u=n.idStack[s];u||(u=n.idStack[s]=[]),u.some(f=>f.equals(l))||u.push(l),await n.handlePendingContainerFlushBuffers()||(n.emittedStack[s]=!1)}};return bh.ContainerHandlerIdentifier=e,bh}var vh={},wh={},Jk;function Sg(){if(Jk)return wh;Jk=1,Object.defineProperty(wh,"__esModule",{value:!0}),wh.EntryHandlerPredicate=void 0;const e=Kn(),t=Xs();let r=class D5{static async handlePredicateObject(i,a,o,s,l,u,f,d,c){const p=await a.getPropertiesDepth(o,s),b=await a.getDepthOffsetGraph(s,o),v=s-b,_=i.idStack[p];if(_&&!c)for(const y of _)if(b>=0){const g=i.idStack[v-1];if(g)for(const S of g)a.emitQuadChecked(s,y,l,u,S,f,d);else f?(a.validateReverseSubject(u),i.getUnidentifiedGraphBufferSafe(v-1).push({subject:u,predicate:l,object:y,isEmbedded:d})):i.getUnidentifiedGraphBufferSafe(v-1).push({subject:y,predicate:l,object:u,isEmbedded:d})}else{const g=await a.getGraphContainerValue(o,p);a.emitQuadChecked(s,y,l,u,g,f,d)}else if(f&&a.validateReverseSubject(u),c){if(i.rdfstar){i.idStack[s]&&i.emitError(new e.ErrorCoded(`Found an illegal @id inside an annotation: ${i.idStack[s][0].value}`,e.ERROR_CODES.INVALID_ANNOTATION));for(let g=0;g<s;g++)await a.unaliasKeyword(o[g],o,g)==="@id"&&i.emitError(new e.ErrorCoded("Found an illegal annotation inside an embedded node",e.ERROR_CODES.INVALID_ANNOTATION));const y=i.getAnnotationsBufferSafe(p),m={predicate:l,object:u,reverse:f,nestedAnnotations:[],depth:p};y.push(m);for(let g=y.length-2;g>=0;g--){const S=y[g];S.depth>p&&(m.nestedAnnotations.push(S),y.splice(g,1))}}}else i.getUnidentifiedValueBufferSafe(p).push({predicate:l,object:u,reverse:f,isEmbedded:d})}isPropertyHandler(){return!0}isStackProcessor(){return!0}async validate(i,a,o,s,l){const u=o[s];if(u){const f=await i.getContext(o);if(!i.jsonLiteralStack[s]&&await a.predicateToTerm(f,o[s]))return t.Util.getContextValueType(f,u)==="@json"&&(i.jsonLiteralStack[s+1]=!0),!0}return!1}async test(i,a,o,s,l){return s[l]}async handle(i,a,o,s,l,u,f){const d=s[u],c=await i.getContext(s),p=await a.predicateToTerm(c,o);if(p){const b=await a.valueToTerm(c,o,l,u,s);if(b.length)for(let v of b){let _=await a.unaliasKeywordParent(s,u);const y=t.Util.isPropertyReverse(c,d,_);let m=0;for(;_==="@reverse"||typeof _=="number";)typeof _=="number"?m++:u--,_=await a.unaliasKeywordParent(s,u-m);const g=t.Util.isPropertyInEmbeddedNode(_);a.validateReverseInEmbeddedNode(o,y,g);const S=t.Util.isPropertyInAnnotationObject(_);if(l){const x="@list"in t.Util.getContextValueContainer(c,o);if(x||l["@list"]){if((x&&!Array.isArray(l)&&!l["@list"]||l["@list"]&&!Array.isArray(l["@list"]))&&v!==a.rdfNil){const I=a.dataFactory.blankNode();i.emitQuad(u,a.dataFactory.quad(I,a.rdfRest,a.rdfNil,a.getDefaultGraph())),i.emitQuad(u,a.dataFactory.quad(I,a.rdfFirst,v,a.getDefaultGraph())),v=I}if(y&&!i.allowSubjectList)throw new e.ErrorCoded(`Found illegal list value in subject position at ${o}`,e.ERROR_CODES.INVALID_REVERSE_PROPERTY_VALUE)}}await D5.handlePredicateObject(i,a,s,u,p,v,y,g,S)}}}};return wh.EntryHandlerPredicate=r,wh}var eF;function Bne(){if(eF)return vh;eF=1,Object.defineProperty(vh,"__esModule",{value:!0}),vh.ContainerHandlerIndex=void 0;const e=Kn(),t=Sg(),r=Xs();let n=class{canCombineWithGraph(){return!0}async handle(a,o,s,l,u,f){if(!Array.isArray(u)){const d="@graph"in a,c=await o.getContext(l),p=l[f-1],b=r.Util.getContextValueIndex(c,p);if(b){if(e.Util.isPotentialKeyword(b))throw new e.ErrorCoded(`Keywords can not be used as @index value, got: ${b}`,e.ERROR_CODES.INVALID_TERM_DEFINITION);if(typeof b!="string")throw new e.ErrorCoded(`@index values must be strings, got: ${b}`,e.ERROR_CODES.INVALID_TERM_DEFINITION);if(typeof u!="object"){if(r.Util.getContextValueType(c,p)!=="@id")throw new e.ErrorCoded(`Property-based index containers require nodes as values or strings with @type: @id, but got: ${u}`,e.ERROR_CODES.INVALID_VALUE_OBJECT);const y=s.resourceToTerm(c,u);y&&(o.idStack[f+1]=[y])}const _=s.createVocabOrBaseTerm(c,b);if(_){const y=await s.valueToTerm(c,b,await s.getContainerKey(l[f],l,f),f,l);if(d){const m=await s.getGraphContainerValue(l,f+1);for(const g of y)o.emitQuad(f,s.dataFactory.quad(m,_,g,s.getDefaultGraph()))}else for(const m of y)await t.EntryHandlerPredicate.handlePredicateObject(o,s,l,f+1,_,m,!1,!1,!1)}}const v=d?2:1;await o.newOnValueJob(l.slice(0,l.length-v),u,f-v,!0),await o.handlePendingContainerFlushBuffers()}o.emittedStack[f]=!1}};return vh.ContainerHandlerIndex=n,vh}var Sh={},tF;function $ne(){if(tF)return Sh;tF=1,Object.defineProperty(Sh,"__esModule",{value:!0}),Sh.ContainerHandlerLanguage=void 0;const e=Kn();let t=class{canCombineWithGraph(){return!1}async handle(n,i,a,o,s,l){const u=await a.getContainerKey(o[l],o,l);if(Array.isArray(s))s=s.map(f=>({"@value":f,"@language":u}));else{if(typeof s!="string")throw new e.ErrorCoded(`Got invalid language map value, got '${JSON.stringify(s)}', but expected string`,e.ERROR_CODES.INVALID_LANGUAGE_MAP_VALUE);s={"@value":s,"@language":u}}await i.newOnValueJob(o.slice(0,o.length-1),s,l-1,!0),i.emittedStack[l]=!1}};return Sh.ContainerHandlerLanguage=t,Sh}var Eh={},rF;function Une(){if(rF)return Eh;rF=1,Object.defineProperty(Eh,"__esModule",{value:!0}),Eh.ContainerHandlerType=void 0;const e=Sg(),t=Xs();let r=class{canCombineWithGraph(){return!1}async handle(i,a,o,s,l,u){if(!Array.isArray(l)){if(typeof l=="string"){const c=await a.getContext(s),b=t.Util.getContextValueType(c,s[u-1])==="@vocab"?await o.createVocabOrBaseTerm(c,l):await o.resourceToTerm(c,l);if(b){const v={"@id":b.termType==="NamedNode"?b.value:l};await a.newOnValueJob(s.slice(0,s.length-1),v,u-1,!0),a.idStack[u+1]=[b]}}else{const c=!!a.idStack[u+1];c||delete a.idStack[u],await a.newOnValueJob(s.slice(0,s.length-1),l,u-1,!0),c||(a.idStack[u+1]=a.idStack[u])}const f=await o.getContainerKey(s[u],s,u),d=f!==null?o.createVocabOrBaseTerm(await a.getContext(s),f):null;d&&await e.EntryHandlerPredicate.handlePredicateObject(a,o,s,u+1,o.rdfType,d,!1,!1,!1),await a.handlePendingContainerFlushBuffers()}a.emittedStack[u]=!1}};return Eh.ContainerHandlerType=r,Eh}var nF;function C5(){if(nF)return _h;nF=1,Object.defineProperty(_h,"__esModule",{value:!0}),_h.EntryHandlerContainer=void 0;const e=qne(),t=Bne(),r=$ne(),n=Une(),i=Xs();let a=class go{static isSimpleGraphContainer(s){return"@graph"in s&&("@set"in s&&Object.keys(s).length===2||Object.keys(s).length===1)}static isComplexGraphContainer(s){return"@graph"in s&&("@set"in s&&Object.keys(s).length>2||!("@set"in s)&&Object.keys(s).length>1)}static getContainerGraphIndex(s,l,u){let f=go.isSimpleGraphContainer(s),d="";for(let c=l;c<u.length;c++)(!f||typeof u[c]=="number")&&(d+=":"+u[c]),!f&&typeof u[c]!="number"&&(f=!0);return d}static async getContainerHandler(s,l,u){const f={containers:{"@set":!0},depth:u,fallback:!0};let d=!1;const c=await s.getContext(l,2);for(let p=u-1;p>=0;p--)if(typeof l[p]!="number"){const b=i.Util.getContextValue(c,"@container",l[p],!1);if(b&&go.isSimpleGraphContainer(b))return{containers:b,depth:p+1,fallback:!1};const v=i.Util.getContextValue(c,"@container",l[p-1],!1);if(v){const _="@graph"in v;for(const y in go.CONTAINER_HANDLERS)if(v[y])return _?go.CONTAINER_HANDLERS[y].canCombineWithGraph()?{containers:v,depth:p,fallback:!1}:f:d?f:{containers:v,depth:p,fallback:!1};return f}else{if(d)return f;d=!0}}return f}static async isBufferableContainerHandler(s,l,u){const f=await go.getContainerHandler(s,l,u);return!f.fallback&&!("@graph"in f.containers)}isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(s,l,u,f,d){return!!await this.test(s,l,null,u,f)}async test(s,l,u,f,d){const c=i.Util.getContextValueContainer(await s.getContext(f,2),f[d-1]);for(const p in go.CONTAINER_HANDLERS)if(c[p])return{containers:c,handler:go.CONTAINER_HANDLERS[p]};return null}async handle(s,l,u,f,d,c,p){return p.handler.handle(p.containers,s,l,f,d,c)}};return a.CONTAINER_HANDLERS={"@id":new e.ContainerHandlerIdentifier,"@index":new t.ContainerHandlerIndex,"@language":new r.ContainerHandlerLanguage,"@type":new n.ContainerHandlerType},_h.EntryHandlerContainer=a,_h}var HS,iF;function Vne(){return iF||(iF=1,HS=function e(t){return t===null||typeof t!="object"||t.toJSON!=null?JSON.stringify(t):Array.isArray(t)?"["+t.reduce((r,n,i)=>{const a=i===0?"":",",o=n===void 0||typeof n=="symbol"?null:n;return r+a+e(o)},"")+"]":"{"+Object.keys(t).sort().reduce((r,n,i)=>{if(t[n]===void 0||typeof t[n]=="symbol")return r;const a=r.length===0?"":",";return r+a+e(n)+":"+e(t[n])},"")+"}"}),HS}var aF;function Xs(){if(aF)return lh;aF=1,Object.defineProperty(lh,"__esModule",{value:!0}),lh.Util=void 0;const e=Kn(),t=jne(),r=C5(),n=Vne();class i{constructor(o){this.parsingContext=o.parsingContext,this.dataFactory=o.dataFactory||new t.DataFactory,this.rdfFirst=this.dataFactory.namedNode(i.RDF+"first"),this.rdfRest=this.dataFactory.namedNode(i.RDF+"rest"),this.rdfNil=this.dataFactory.namedNode(i.RDF+"nil"),this.rdfType=this.dataFactory.namedNode(i.RDF+"type"),this.rdfJson=this.dataFactory.namedNode(i.RDF+"JSON")}static getContextValue(o,s,l,u){const f=o.getContextRaw()[l];if(!f)return u;const d=f[s];return d===void 0?u:d}static getContextValueContainer(o,s){return i.getContextValue(o,"@container",s,{"@set":!0})}static getContextValueType(o,s){const l=i.getContextValue(o,"@type",s,null);return l==="@none"?null:l}static getContextValueLanguage(o,s){return i.getContextValue(o,"@language",s,o.getContextRaw()["@language"]||null)}static getContextValueDirection(o,s){return i.getContextValue(o,"@direction",s,o.getContextRaw()["@direction"]||null)}static isContextValueReverse(o,s){return!!i.getContextValue(o,"@reverse",s,null)}static getContextValueIndex(o,s){return i.getContextValue(o,"@index",s,o.getContextRaw()["@index"]||null)}static isPropertyReverse(o,s,l){return l==="@reverse"!==i.isContextValueReverse(o,s)}static isPropertyInEmbeddedNode(o){return o==="@id"}static isPropertyInAnnotationObject(o){return o==="@annotation"}static isValidIri(o){return o!==null&&e.Util.isValidIri(o)}static isPrefixArray(o,s){if(o.length>s.length)return!1;for(let l=0;l<o.length;l++)if(o[l]!==s[l])return!1;return!0}async validateValueIndexes(o){if(this.parsingContext.validateValueIndexes){const s={};for(const l of o)if(l&&typeof l=="object"){const u=l["@id"],f=l["@index"];if(u&&f){const d=s[u];if(d&&d!==f)throw new e.ErrorCoded(`Conflicting @index value for ${u}`,e.ERROR_CODES.CONFLICTING_INDEXES);s[u]=f}}}}async valueToTerm(o,s,l,u,f){if(i.getContextValueType(o,s)==="@json")return[this.dataFactory.literal(this.valueToJsonString(l),this.rdfJson)];const d=typeof l;switch(d){case"object":if(l==null)return[];if(Array.isArray(l))return"@list"in i.getContextValueContainer(o,s)?l.length===0?[this.rdfNil]:this.parsingContext.idStack[u+1]||[]:(await this.validateValueIndexes(l),[]);if(o=await this.getContextSelfOrPropertyScoped(o,s),"@context"in l&&(o=await this.parsingContext.parseContext(l["@context"],(await this.parsingContext.getContext(f,0)).getContextRaw())),l=await this.unaliasKeywords(l,f,u,o),"@value"in l){let c,p,b,v,_;for(s in l){const y=l[s];switch(s){case"@value":c=y;break;case"@language":p=y;break;case"@direction":b=y;break;case"@type":v=y;break;case"@index":_=y;break;case"@annotation":break;default:throw new e.ErrorCoded(`Unknown value entry '${s}' in @value: ${JSON.stringify(l)}`,e.ERROR_CODES.INVALID_VALUE_OBJECT)}}if(await this.unaliasKeyword(v,f,u,!0,o)==="@json")return[this.dataFactory.literal(this.valueToJsonString(c),this.rdfJson)];if(c===null)return[];if(typeof c=="object")throw new e.ErrorCoded(`The value of an '@value' can not be an object, got '${JSON.stringify(c)}'`,e.ERROR_CODES.INVALID_VALUE_OBJECT_VALUE);if(this.parsingContext.validateValueIndexes&&_&&typeof _!="string")throw new e.ErrorCoded(`The value of an '@index' must be a string, got '${JSON.stringify(_)}'`,e.ERROR_CODES.INVALID_INDEX_VALUE);if(p){if(typeof c!="string")throw new e.ErrorCoded(`When an '@language' is set, the value of '@value' must be a string, got '${JSON.stringify(c)}'`,e.ERROR_CODES.INVALID_LANGUAGE_TAGGED_VALUE);if(!e.ContextParser.validateLanguage(p,this.parsingContext.strictValues,e.ERROR_CODES.INVALID_LANGUAGE_TAGGED_STRING))return[];(this.parsingContext.normalizeLanguageTags||this.parsingContext.activeProcessingMode===1)&&(p=p.toLowerCase())}if(b){if(typeof c!="string")throw new Error(`When an '@direction' is set, the value of '@value' must be a string, got '${JSON.stringify(c)}'`);if(!e.ContextParser.validateDirection(b,this.parsingContext.strictValues))return[]}if(p&&b&&this.parsingContext.rdfDirection){if(v)throw new e.ErrorCoded(`Can not have '@language', '@direction' and '@type' in a value: '${JSON.stringify(l)}'`,e.ERROR_CODES.INVALID_VALUE_OBJECT);return this.nullableTermToArray(this.createLanguageDirectionLiteral(u,c,p,b))}else if(p){if(v)throw new e.ErrorCoded(`Can not have both '@language' and '@type' in a value: '${JSON.stringify(l)}'`,e.ERROR_CODES.INVALID_VALUE_OBJECT);return[this.dataFactory.literal(c,p)]}else if(b&&this.parsingContext.rdfDirection){if(v)throw new e.ErrorCoded(`Can not have both '@direction' and '@type' in a value: '${JSON.stringify(l)}'`,e.ERROR_CODES.INVALID_VALUE_OBJECT);return this.nullableTermToArray(this.createLanguageDirectionLiteral(u,c,p,b))}else if(v){if(typeof v!="string")throw new e.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(v)}'`,e.ERROR_CODES.INVALID_TYPED_VALUE);const y=this.createVocabOrBaseTerm(o,v);if(!y)throw new e.ErrorCoded(`Invalid '@type' value, got '${JSON.stringify(v)}'`,e.ERROR_CODES.INVALID_TYPED_VALUE);if(y.termType!=="NamedNode")throw new e.ErrorCoded(`Illegal value type (${y.termType}): ${v}`,e.ERROR_CODES.INVALID_TYPED_VALUE);return[this.dataFactory.literal(c,y)]}return await this.valueToTerm(new e.JsonLdContextNormalized({}),s,c,u,f)}else if("@set"in l){if(Object.keys(l).length>1)throw new e.ErrorCoded(`Found illegal neighbouring entries next to @set for key: '${s}'`,e.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT);return[]}else if("@list"in l){if(Object.keys(l).length>1)throw new e.ErrorCoded(`Found illegal neighbouring entries next to @list for key: '${s}'`,e.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT);const c=l["@list"];return Array.isArray(c)?c.length===0?[this.rdfNil]:this.parsingContext.idStack[u+1]||[]:await this.valueToTerm(await this.parsingContext.getContext(f),s,c,u-1,f.slice(0,-1))}else{if("@reverse"in l&&typeof l["@reverse"]=="boolean")return[];if("@graph"in i.getContextValueContainer(await this.parsingContext.getContext(f),s)){const c=this.parsingContext.graphContainerTermStack[u+1];return c?Object.values(c):[this.dataFactory.blankNode()]}else if("@id"in l){if(Object.keys(l).length>1&&(o=await this.parsingContext.getContext(f,0)),"@context"in l&&(o=await this.parsingContext.parseContext(l["@context"],o.getContextRaw())),l["@type"]==="@vocab")return this.nullableTermToArray(this.createVocabOrBaseTerm(o,l["@id"]));{const c=l["@id"];let p;if(typeof c=="object")if(this.parsingContext.rdfstar)p=this.parsingContext.idStack[u+1][0];else throw new e.ErrorCoded(`Found illegal @id '${l}'`,e.ERROR_CODES.INVALID_ID_VALUE);else p=this.resourceToTerm(o,c);return this.nullableTermToArray(p)}}else return this.parsingContext.emittedStack[u+1]||l&&typeof l=="object"&&Object.keys(l).length===0?this.parsingContext.idStack[u+1]||(this.parsingContext.idStack[u+1]=[this.dataFactory.blankNode()]):[]}case"string":return this.nullableTermToArray(this.stringValueToTerm(u,await this.getContextSelfOrPropertyScoped(o,s),s,l,null));case"boolean":return this.nullableTermToArray(this.stringValueToTerm(u,await this.getContextSelfOrPropertyScoped(o,s),s,(!!l).toString(),this.dataFactory.namedNode(i.XSD_BOOLEAN)));case"number":return this.nullableTermToArray(this.stringValueToTerm(u,await this.getContextSelfOrPropertyScoped(o,s),s,l,this.dataFactory.namedNode(l%1===0&&l<1e21?i.XSD_INTEGER:i.XSD_DOUBLE)));default:return this.parsingContext.emitError(new Error(`Could not determine the RDF type of a ${d}`)),[]}}async getContextSelfOrPropertyScoped(o,s){const l=o.getContextRaw()[s];return l&&typeof l=="object"&&"@context"in l&&(o=await this.parsingContext.parseContext(l,o.getContextRaw(),!0)),o}nullableTermToArray(o){return o?[o]:[]}predicateToTerm(o,s){const l=o.expandTerm(s,!0,this.parsingContext.getExpandOptions());if(!l)return null;if(l[0]==="_"&&l[1]===":")return this.parsingContext.produceGeneralizedRdf?this.dataFactory.blankNode(l.substr(2)):null;if(i.isValidIri(l))return this.dataFactory.namedNode(l);if(l&&this.parsingContext.strictValues)this.parsingContext.emitError(new e.ErrorCoded(`Invalid predicate IRI: ${l}`,e.ERROR_CODES.INVALID_IRI_MAPPING));else return null;return null}resourceToTerm(o,s){if(s.startsWith("_:"))return this.dataFactory.blankNode(s.substr(2));const l=o.expandTerm(s,!1,this.parsingContext.getExpandOptions());if(!i.isValidIri(l))if(l&&this.parsingContext.strictValues)this.parsingContext.emitError(new Error(`Invalid resource IRI: ${l}`));else return null;return this.dataFactory.namedNode(l)}createVocabOrBaseTerm(o,s){if(s.startsWith("_:"))return this.dataFactory.blankNode(s.substr(2));const l=this.parsingContext.getExpandOptions();let u=o.expandTerm(s,!0,l);if(u===s&&(u=o.expandTerm(s,!1,l)),!i.isValidIri(u))if(u&&this.parsingContext.strictValues&&!u.startsWith("@"))this.parsingContext.emitError(new Error(`Invalid term IRI: ${u}`));else return null;return this.dataFactory.namedNode(u)}intToString(o,s){return typeof o=="number"?Number.isFinite(o)?o%1===0&&(!s||s.value!==i.XSD_DOUBLE)?Number(o).toString():o.toExponential(15).replace(/(\d)0*e\+?/,"$1E"):o>0?"INF":"-INF":o}stringValueToTerm(o,s,l,u,f){const d=i.getContextValueType(s,l);if(d)if(d==="@id"){if(!f)return this.resourceToTerm(s,this.intToString(u,f))}else if(d==="@vocab"){if(!f)return this.createVocabOrBaseTerm(s,this.intToString(u,f))}else f=this.dataFactory.namedNode(d);if(!f){const c=i.getContextValueLanguage(s,l),p=i.getContextValueDirection(s,l);return p&&this.parsingContext.rdfDirection?this.createLanguageDirectionLiteral(o,this.intToString(u,f),c,p):this.dataFactory.literal(this.intToString(u,f),c)}return this.dataFactory.literal(this.intToString(u,f),f)}createLanguageDirectionLiteral(o,s,l,u){if(this.parsingContext.rdfDirection==="i18n-datatype")return l||(l=""),this.dataFactory.literal(s,this.dataFactory.namedNode(`https://www.w3.org/ns/i18n#${l}_${u}`));{const f=this.dataFactory.blankNode(),d=this.getDefaultGraph();return this.parsingContext.emitQuad(o,this.dataFactory.quad(f,this.dataFactory.namedNode(i.RDF+"value"),this.dataFactory.literal(s),d)),l&&this.parsingContext.emitQuad(o,this.dataFactory.quad(f,this.dataFactory.namedNode(i.RDF+"language"),this.dataFactory.literal(l),d)),this.parsingContext.emitQuad(o,this.dataFactory.quad(f,this.dataFactory.namedNode(i.RDF+"direction"),this.dataFactory.literal(u),d)),f}}valueToJsonString(o){return n(o)}async unaliasKeyword(o,s,l,u,f){if(Number.isInteger(o))return o;if(!u){const d=this.parsingContext.unaliasedKeywordCacheStack[l];if(d)return d}if(!e.Util.isPotentialKeyword(o)){f=f||await this.parsingContext.getContext(s);let d=f.getContextRaw()[o];d&&typeof d=="object"&&(d=d["@id"]),e.Util.isValidKeyword(d)&&(o=d)}return u?o:this.parsingContext.unaliasedKeywordCacheStack[l]=o}async unaliasKeywordParent(o,s){return await this.unaliasKeyword(s>0&&o[s-1],o,s-1)}async unaliasKeywords(o,s,l,u){const f={};for(const d in o)f[await this.unaliasKeyword(d,s,l+1,!0,u)]=o[d];return f}async isLiteral(o,s){for(let l=s;l>=0;l--){if(await this.unaliasKeyword(o[l],o,l)==="@annotation")return!1;if(this.parsingContext.literalStack[l]||this.parsingContext.jsonLiteralStack[l])return!0}return!1}async getDepthOffsetGraph(o,s){for(let l=o-1;l>0;l--)if(await this.unaliasKeyword(s[l],s,l)==="@graph"){const u=(await r.EntryHandlerContainer.getContainerHandler(this.parsingContext,s,l)).containers;return r.EntryHandlerContainer.isComplexGraphContainer(u)?-1:o-l-1}return-1}validateReverseSubject(o){if(o.termType==="Literal")throw new e.ErrorCoded(`Found illegal literal in subject position: ${o.value}`,e.ERROR_CODES.INVALID_REVERSE_PROPERTY_VALUE)}getDefaultGraph(){return this.parsingContext.defaultGraph||this.dataFactory.defaultGraph()}async getGraphContainerValue(o,s){let l=this.getDefaultGraph();const{containers:u,depth:f}=await r.EntryHandlerContainer.getContainerHandler(this.parsingContext,o,s);if("@graph"in u){const d=r.EntryHandlerContainer.getContainerGraphIndex(u,f,o),c=this.parsingContext.graphContainerTermStack[f];if(l=c?c[d]:null,!l){let p=null;if("@id"in u){const b=await this.getContainerKey(o[f],o,f);b!==null&&(p=await this.resourceToTerm(await this.parsingContext.getContext(o),b))}p||(p=this.dataFactory.blankNode()),this.parsingContext.graphContainerTermStack[f]||(this.parsingContext.graphContainerTermStack[f]={}),l=this.parsingContext.graphContainerTermStack[f][d]=p}}return l}async getPropertiesDepth(o,s){let l=s;for(let u=s-1;u>0;u--)if(typeof o[u]!="number"){const f=await this.unaliasKeyword(o[u],o,u);if(f==="@reverse")return u;if(f==="@nest")l=u;else return l}return l}async getContainerKey(o,s,l){const u=await this.unaliasKeyword(o,s,l);return u==="@none"?null:u}validateReverseInEmbeddedNode(o,s,l){if(l&&s&&!this.parsingContext.rdfstarReverseInEmbedded)throw new e.ErrorCoded(`Illegal reverse property in embedded node in ${o}`,e.ERROR_CODES.INVALID_EMBEDDED_NODE)}emitQuadChecked(o,s,l,u,f,d,c){let p;if(d?(this.validateReverseSubject(u),p=this.dataFactory.quad(u,l,s,f)):p=this.dataFactory.quad(s,l,u,f),c){if(p.graph.termType!=="DefaultGraph"&&(p=this.dataFactory.quad(p.subject,p.predicate,p.object)),this.parsingContext.idStack[o-1])throw new e.ErrorCoded("Illegal multiple properties in an embedded node",e.ERROR_CODES.INVALID_EMBEDDED_NODE);this.parsingContext.idStack[o-1]=[p]}else this.parsingContext.emitQuad(o,p);const b=this.parsingContext.annotationsBuffer[o];if(b){for(const v of b)this.emitAnnotation(o,p,v);delete this.parsingContext.annotationsBuffer[o]}}emitAnnotation(o,s,l){let u;l.reverse?(this.validateReverseSubject(l.object),u=this.dataFactory.quad(l.object,l.predicate,s)):u=this.dataFactory.quad(s,l.predicate,l.object),this.parsingContext.emitQuad(o,u);for(const f of l.nestedAnnotations)this.emitAnnotation(o,u,f)}}return i.XSD="http://www.w3.org/2001/XMLSchema#",i.XSD_BOOLEAN=i.XSD+"boolean",i.XSD_INTEGER=i.XSD+"integer",i.XSD_DOUBLE=i.XSD+"double",i.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",lh.Util=i,lh}var oF;function Hne(){if(oF)return uh;oF=1,Object.defineProperty(uh,"__esModule",{value:!0}),uh.EntryHandlerArrayValue=void 0;const e=Xs(),t=Kn();let r=class{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(i,a,o,s,l){return this.test(i,a,null,o,s)}async test(i,a,o,s,l){return typeof s[l]=="number"}async handle(i,a,o,s,l,u){let f=await a.unaliasKeywordParent(s,u);if(f==="@list"){let d=null,c=0;for(let p=u-2;p>0;p--){const b=s[p];if(typeof b=="string"||typeof b=="number"){c=p,d=b;break}}if(d!==null){const p=await a.valueToTerm(await i.getContext(s),d,l,u,s);for(const b of p)await this.handleListElement(i,a,b,l,u,s.slice(0,c),c);p.length===0&&await this.handleListElement(i,a,null,l,u,s.slice(0,c),c)}}else if(f==="@set")await i.newOnValueJob(s.slice(0,-2),l,u-2,!1);else if(f!==void 0&&f!=="@type"){for(let c=u-1;c>0;c--)if(typeof s[c]!="number"){f=await a.unaliasKeyword(s[c],s,c);break}const d=await i.getContext(s.slice(0,-1));if("@list"in e.Util.getContextValueContainer(d,f)){i.emittedStack[u+1]=!0;const c=await a.valueToTerm(await i.getContext(s),f,l,u,s);for(const p of c)await this.handleListElement(i,a,p,l,u,s.slice(0,-1),u-1);c.length===0&&await this.handleListElement(i,a,null,l,u,s.slice(0,-1),u-1)}else i.shiftStack(u,1),await i.newOnValueJob(s.slice(0,-1),l,u-1,!1),i.contextTree.removeContext(s.slice(0,-1))}}async handleListElement(i,a,o,s,l,u,f){let d=i.listPointerStack[l];if(s!==null&&(await a.unaliasKeywords(s,u,l))["@value"]!==null){if(!d||!d.value){const c=a.dataFactory.blankNode();d={value:c,listRootDepth:f,listId:c}}else{const c=a.dataFactory.blankNode();i.emitQuad(l,a.dataFactory.quad(d.value,a.rdfRest,c,a.getDefaultGraph())),d.value=c}o&&i.emitQuad(l,a.dataFactory.quad(d.value,a.rdfFirst,o,a.getDefaultGraph()))}else d||(d={listRootDepth:f,listId:a.rdfNil});i.listPointerStack[l]=d,i.rdfstar&&i.annotationsBuffer[l]&&i.emitError(new t.ErrorCoded("Found an illegal annotation inside a list",t.ERROR_CODES.INVALID_ANNOTATION))}};return uh.EntryHandlerArrayValue=r,uh}var Th={},sF;function zne(){if(sF)return Th;sF=1,Object.defineProperty(Th,"__esModule",{value:!0}),Th.EntryHandlerInvalidFallback=void 0;let e=class{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(r,n,i,a,o){return!1}async test(r,n,i,a,o){return!0}async handle(r,n,i,a,o,s){r.emittedStack[s]=!1}};return Th.EntryHandlerInvalidFallback=e,Th}var xh={},Rh={},uF;function Zo(){if(uF)return Rh;uF=1,Object.defineProperty(Rh,"__esModule",{value:!0}),Rh.EntryHandlerKeyword=void 0;let e=class{constructor(r){this.keyword=r}isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(r,n,i,a,o){return!1}async test(r,n,i,a,o){return i===this.keyword}};return Rh.EntryHandlerKeyword=e,Rh}var lF;function Gne(){if(lF)return xh;lF=1,Object.defineProperty(xh,"__esModule",{value:!0}),xh.EntryHandlerKeywordContext=void 0;const e=Kn(),t=Zo();let r=class extends t.EntryHandlerKeyword{constructor(){super("@context")}isStackProcessor(){return!1}async handle(i,a,o,s,l,u){i.streamingProfile&&(i.processingStack[u]||i.processingType[u]||i.idStack[u]!==void 0)&&i.emitError(new e.ErrorCoded("Found an out-of-order context, while streaming is enabled.(disable `streamingProfile`)",e.ERROR_CODES.INVALID_STREAMING_KEY_ORDER));const f=i.getContext(s),d=i.parseContext(l,(await f).getContextRaw());i.contextTree.setContext(s.slice(0,-1),d),i.emitContext(l),await i.validateContext(await d)}};return xh.EntryHandlerKeywordContext=r,xh}var Ah={},fF;function Wne(){if(fF)return Ah;fF=1,Object.defineProperty(Ah,"__esModule",{value:!0}),Ah.EntryHandlerKeywordGraph=void 0;const e=Zo();let t=class extends e.EntryHandlerKeyword{constructor(){super("@graph")}async handle(n,i,a,o,s,l){n.graphStack[l+1]=!0}};return Ah.EntryHandlerKeywordGraph=t,Ah}var Ih={},cF;function Kne(){if(cF)return Ih;cF=1,Object.defineProperty(Ih,"__esModule",{value:!0}),Ih.EntryHandlerKeywordId=void 0;const e=Kn(),t=Zo();let r=class extends t.EntryHandlerKeyword{constructor(){super("@id")}isStackProcessor(){return!1}async handle(i,a,o,s,l,u){if(typeof l!="string"){if(i.rdfstar&&typeof l=="object"){const d=Object.keys(l);d.length===1&&d[0]==="@id"&&i.emitError(new e.ErrorCoded(`Invalid embedded node without property with @id ${l["@id"]}`,e.ERROR_CODES.INVALID_EMBEDDED_NODE))}else i.emitError(new e.ErrorCoded(`Found illegal @id '${l}'`,e.ERROR_CODES.INVALID_ID_VALUE));return}const f=await a.getPropertiesDepth(s,u);if(i.idStack[f]!==void 0&&(i.idStack[f][0].listHead?i.emitError(new e.ErrorCoded(`Found illegal neighbouring entries next to @list for key: '${s[u-1]}'`,e.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT)):i.emitError(new e.ErrorCoded(`Found duplicate @ids '${i.idStack[f][0].value}' and '${l}'`,e.ERROR_CODES.COLLIDING_KEYWORDS))),i.rdfstar&&i.annotationsBuffer[u])for(const d of i.annotationsBuffer[u])d.depth===u&&i.emitError(new e.ErrorCoded(`Found an illegal @id inside an annotation: ${l}`,e.ERROR_CODES.INVALID_ANNOTATION));i.idStack[f]=a.nullableTermToArray(await a.resourceToTerm(await i.getContext(s),l))}};return Ih.EntryHandlerKeywordId=r,Ih}var Ph={},dF;function Qne(){if(dF)return Ph;dF=1,Object.defineProperty(Ph,"__esModule",{value:!0}),Ph.EntryHandlerKeywordIncluded=void 0;const e=Kn(),t=Zo();let r=class extends t.EntryHandlerKeyword{constructor(){super("@included")}async handle(i,a,o,s,l,u){typeof l!="object"&&i.emitError(new e.ErrorCoded(`Found illegal @included '${l}'`,e.ERROR_CODES.INVALID_INCLUDED_VALUE));const f=await a.unaliasKeywords(l,s,u,await i.getContext(s));"@value"in f&&i.emitError(new e.ErrorCoded(`Found an illegal @included @value node '${JSON.stringify(l)}'`,e.ERROR_CODES.INVALID_INCLUDED_VALUE)),"@list"in f&&i.emitError(new e.ErrorCoded(`Found an illegal @included @list node '${JSON.stringify(l)}'`,e.ERROR_CODES.INVALID_INCLUDED_VALUE)),i.emittedStack[u]=!1}};return Ph.EntryHandlerKeywordIncluded=r,Ph}var Oh={},hF;function Zne(){if(hF)return Oh;hF=1,Object.defineProperty(Oh,"__esModule",{value:!0}),Oh.EntryHandlerKeywordNest=void 0;const e=Kn(),t=Zo();let r=class extends t.EntryHandlerKeyword{constructor(){super("@nest")}async handle(i,a,o,s,l,u){typeof l!="object"&&i.emitError(new e.ErrorCoded(`Found invalid @nest entry for '${o}': '${l}'`,e.ERROR_CODES.INVALID_NEST_VALUE)),"@value"in await a.unaliasKeywords(l,s,u,await i.getContext(s))&&i.emitError(new e.ErrorCoded(`Found an invalid @value node for '${o}'`,e.ERROR_CODES.INVALID_NEST_VALUE)),i.emittedStack[u]=!1}};return Oh.EntryHandlerKeywordNest=r,Oh}var Nh={},pF;function Yne(){if(pF)return Nh;pF=1,Object.defineProperty(Nh,"__esModule",{value:!0}),Nh.EntryHandlerKeywordType=void 0;const e=Kn(),t=Xs(),r=Sg(),n=Zo();let i=class extends n.EntryHandlerKeyword{constructor(){super("@type")}isStackProcessor(){return!1}async handle(o,s,l,u,f,d){const c=u[d],p=await o.getContext(u),b=s.rdfType,v=await s.unaliasKeywordParent(u,d),_=t.Util.isPropertyReverse(p,c,v),y=t.Util.isPropertyInEmbeddedNode(v);s.validateReverseInEmbeddedNode(l,_,y);const m=t.Util.isPropertyInAnnotationObject(v),g=Array.isArray(f)?f:[f];for(const I of g){typeof I!="string"&&o.emitError(new e.ErrorCoded(`Found illegal @type '${I}'`,e.ERROR_CODES.INVALID_TYPE_VALUE));const N=s.createVocabOrBaseTerm(p,I);N&&await r.EntryHandlerPredicate.handlePredicateObject(o,s,u,d,b,N,_,y,m)}let S=Promise.resolve(p),x=!1;for(const I of g.sort()){const N=t.Util.getContextValue(p,"@context",I,null);N&&(x=!0,S=S.then(q=>o.parseContext(N,q.getContextRaw())))}o.streamingProfile&&(x||!o.streamingProfileAllowOutOfOrderPlainType)&&(o.processingStack[d]||o.idStack[d])&&o.emitError(new e.ErrorCoded("Found an out-of-order type-scoped context, while streaming is enabled.(disable `streamingProfile`)",e.ERROR_CODES.INVALID_STREAMING_KEY_ORDER)),x&&(S=S.then(I=>I.getContextRaw()["@propagate"]!==!0?new e.JsonLdContextNormalized(Object.assign(Object.assign({},I.getContextRaw()),{"@propagate":!1,"@__propagateFallback":p.getContextRaw()})):I),o.contextTree.setContext(u.slice(0,u.length-1),S)),o.processingType[d]=!0}};return Nh.EntryHandlerKeywordType=i,Nh}var Dh={},mF;function Xne(){if(mF)return Dh;mF=1,Object.defineProperty(Dh,"__esModule",{value:!0}),Dh.EntryHandlerKeywordUnknownFallback=void 0;const e=Kn();let t=class L5{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(n,i,a,o,s){const l=await i.unaliasKeyword(a[o],a,o);return e.Util.isPotentialKeyword(l)?!(!s&&l==="@list"):!1}async test(n,i,a,o,s){return e.Util.isPotentialKeyword(a)}async handle(n,i,a,o,s,l){const u=L5.VALID_KEYWORDS_TYPES[a];u!==void 0?u&&typeof s!==u.type&&n.emitError(new e.ErrorCoded(`Invalid value type for '${a}' with value '${s}'`,u.errorCode)):n.strictValues&&n.emitError(new Error(`Unknown keyword '${a}' with value '${s}'`)),n.emittedStack[l]=!1}};return t.VALID_KEYWORDS_TYPES={"@index":{type:"string",errorCode:e.ERROR_CODES.INVALID_INDEX_VALUE},"@list":null,"@reverse":{type:"object",errorCode:e.ERROR_CODES.INVALID_REVERSE_VALUE},"@set":null,"@value":null},Dh.EntryHandlerKeywordUnknownFallback=t,Dh}var Ch={},yF;function Jne(){if(yF)return Ch;yF=1,Object.defineProperty(Ch,"__esModule",{value:!0}),Ch.EntryHandlerKeywordValue=void 0;const e=Zo();let t=class extends e.EntryHandlerKeyword{constructor(){super("@value")}async validate(n,i,a,o,s){const l=a[o];return l&&!n.literalStack[o]&&await this.test(n,i,l,a,o)&&(n.literalStack[o]=!0),super.validate(n,i,a,o,s)}async test(n,i,a,o,s){return await i.unaliasKeyword(o[s],o.slice(0,o.length-1),s-1,!0)==="@value"}async handle(n,i,a,o,s,l){n.literalStack[l]=!0,delete n.unidentifiedValuesBuffer[l],delete n.unidentifiedGraphsBuffer[l],n.emittedStack[l]=!1}};return Ch.EntryHandlerKeywordValue=t,Ch}var Lh={},Mh={},gF;function eie(){if(gF)return Mh;gF=1,Object.defineProperty(Mh,"__esModule",{value:!0}),Mh.ContextTree=void 0;let e=class M5{constructor(){this.subTrees={}}getContext(r){if(r.length>0){const[n,...i]=r,a=this.subTrees[n];if(a){const o=a.getContext(i);if(o)return o.then(({context:s,depth:l})=>({context:s,depth:l+1}))}}return this.context?this.context.then(n=>({context:n,depth:0})):null}setContext(r,n){if(r.length===0)this.context=n;else{const[i,...a]=r;let o=this.subTrees[i];o||(o=this.subTrees[i]=new M5),o.setContext(a,n)}}removeContext(r){this.setContext(r,null)}};return Mh.ContextTree=e,Mh}var _F;function tie(){if(_F)return Lh;_F=1,Object.defineProperty(Lh,"__esModule",{value:!0}),Lh.ParsingContext=void 0;const e=Kn(),t=L0(),r=eie(),n=F5();let i=class k5{constructor(o){this.contextParser=new e.ContextParser({documentLoader:o.documentLoader,skipValidation:o.skipContextValidation}),this.streamingProfile=!!o.streamingProfile,this.baseIRI=o.baseIRI,this.produceGeneralizedRdf=!!o.produceGeneralizedRdf,this.allowSubjectList=!!o.allowSubjectList,this.processingMode=o.processingMode||n.JsonLdParser.DEFAULT_PROCESSING_MODE,this.strictValues=!!o.strictValues,this.validateValueIndexes=!!o.validateValueIndexes,this.defaultGraph=o.defaultGraph,this.rdfDirection=o.rdfDirection,this.normalizeLanguageTags=o.normalizeLanguageTags,this.streamingProfileAllowOutOfOrderPlainType=o.streamingProfileAllowOutOfOrderPlainType,this.rdfstar=o.rdfstar!==!1,this.rdfstarReverseInEmbedded=o.rdfstarReverseInEmbedded,this.topLevelProperties=!1,this.activeProcessingMode=parseFloat(this.processingMode),this.processingStack=[],this.processingType=[],this.emittedStack=[],this.idStack=[],this.graphStack=[],this.graphContainerTermStack=[],this.listPointerStack=[],this.contextTree=new r.ContextTree,this.literalStack=[],this.validationStack=[],this.unaliasedKeywordCacheStack=[],this.jsonLiteralStack=[],this.unidentifiedValuesBuffer=[],this.unidentifiedGraphsBuffer=[],this.annotationsBuffer=[],this.pendingContainerFlushBuffers=[],this.parser=o.parser,o.context?(this.rootContext=this.parseContext(o.context),this.rootContext.then(s=>this.validateContext(s))):this.rootContext=Promise.resolve(new e.JsonLdContextNormalized(this.baseIRI?{"@base":this.baseIRI,"@__baseDocument":!0}:{}))}async parseContext(o,s,l){return this.contextParser.parse(o,{baseIRI:this.baseIRI,ignoreProtection:l,normalizeLanguageTags:this.normalizeLanguageTags,parentContext:s,processingMode:this.activeProcessingMode})}validateContext(o){const s=o.getContextRaw()["@version"];if(s){if(this.activeProcessingMode&&s>this.activeProcessingMode)throw new t.ErrorCoded(`Unsupported JSON-LD version '${s}' under active processing mode ${this.activeProcessingMode}.`,t.ERROR_CODES.PROCESSING_MODE_CONFLICT);if(this.activeProcessingMode&&s<this.activeProcessingMode)throw new t.ErrorCoded(`Invalid JSON-LD version ${s} under active processing mode ${this.activeProcessingMode}.`,t.ERROR_CODES.INVALID_VERSION_VALUE);this.activeProcessingMode=s}}async getContext(o,s=1){const l=o;for(;typeof o[o.length-1]=="number";)o=o.slice(0,o.length-1);s&&(o=o.slice(0,-s));const u=await this.getContextPropagationAware(o);let d=u.context.getContextRaw();for(let c=u.depth;c<l.length-s;c++){const p=l[c],b=d[p];if(b&&typeof b=="object"&&"@context"in b){const v=(await this.parseContext(b,d,!0)).getContextRaw(),_=!(p in v)||v[p]["@context"]["@propagate"];(_!==!1||c===l.length-1-s)&&(d=Object.assign({},v),delete d["@propagate"],d[p]=Object.assign({},d[p]),"@id"in b&&(d[p]["@id"]=b["@id"]),delete d[p]["@context"],_!==!1&&this.contextTree.setContext(l.slice(0,c+s),Promise.resolve(new e.JsonLdContextNormalized(d))))}}return new e.JsonLdContextNormalized(d)}async getContextPropagationAware(o){const s=o.length;let l=null,u;do{u=!1,l&&"@__propagateFallback"in l.context.getContextRaw()?l.context=new e.JsonLdContextNormalized(l.context.getContextRaw()["@__propagateFallback"]):(l&&(o=o.slice(0,l.depth-1)),l=await this.contextTree.getContext(o)||{context:await this.rootContext,depth:0});const f=o[o.length-1];if(f in l.context.getContextRaw()){const d=l.context.getContextRaw()[f];d&&typeof d=="object"&&"@context"in d&&(u=!0)}}while(l.depth>0&&l.context.getContextRaw()["@propagate"]===!1&&l.depth!==s&&!u);return l.depth===0&&l.context.getContextRaw()["@propagate"]===!1&&l.depth!==s&&(l.context=new e.JsonLdContextNormalized({})),l}async newOnValueJob(o,s,l,u){await this.parser.newOnValueJob(o,s,l,u)}async handlePendingContainerFlushBuffers(){if(this.pendingContainerFlushBuffers.length>0){for(const o of this.pendingContainerFlushBuffers)await this.parser.flushBuffer(o.depth,o.keys),this.parser.flushStacks(o.depth);return this.pendingContainerFlushBuffers.splice(0,this.pendingContainerFlushBuffers.length),!0}else return!1}emitQuad(o,s){o===1&&(this.topLevelProperties=!0),this.parser.push(s)}emitError(o){this.parser.emit("error",o)}emitContext(o){this.parser.emit("context",o)}getUnidentifiedValueBufferSafe(o){let s=this.unidentifiedValuesBuffer[o];return s||(s=[],this.unidentifiedValuesBuffer[o]=s),s}getUnidentifiedGraphBufferSafe(o){let s=this.unidentifiedGraphsBuffer[o];return s||(s=[],this.unidentifiedGraphsBuffer[o]=s),s}getAnnotationsBufferSafe(o){let s=this.annotationsBuffer[o];return s||(s=[],this.annotationsBuffer[o]=s),s}getExpandOptions(){return k5.EXPAND_OPTIONS[this.activeProcessingMode]}shiftStack(o,s){const l=this.idStack[o+s];if(l&&(this.idStack[o]=l,this.emittedStack[o]=!0,delete this.idStack[o+s]),this.pendingContainerFlushBuffers.length)for(const u of this.pendingContainerFlushBuffers)u.depth>=o+s&&(u.depth-=s,u.keys.splice(o,s));this.unidentifiedValuesBuffer[o+s]&&(this.unidentifiedValuesBuffer[o]=this.unidentifiedValuesBuffer[o+s],delete this.unidentifiedValuesBuffer[o+s]),this.annotationsBuffer[o+s-1]&&(this.annotationsBuffer[o-1]||(this.annotationsBuffer[o-1]=[]),this.annotationsBuffer[o-1]=[...this.annotationsBuffer[o-1],...this.annotationsBuffer[o+s-1]],delete this.annotationsBuffer[o+s-1])}};return i.EXPAND_OPTIONS={1:{allowPrefixForcing:!1,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!1},1.1:{allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}},Lh.ParsingContext=i,Lh}var kh={},bF;function rie(){if(bF)return kh;bF=1,Object.defineProperty(kh,"__esModule",{value:!0}),kh.EntryHandlerKeywordAnnotation=void 0;const e=Zo(),t=Kn();let r=class extends e.EntryHandlerKeyword{constructor(){super("@annotation")}async handle(i,a,o,s,l,u){(typeof l=="string"||typeof l=="object"&&l["@value"])&&i.emitError(new t.ErrorCoded(`Found illegal annotation value: ${JSON.stringify(l)}`,t.ERROR_CODES.INVALID_ANNOTATION))}};return kh.EntryHandlerKeywordAnnotation=r,kh}var vF;function F5(){if(vF)return nh;vF=1,Object.defineProperty(nh,"__esModule",{value:!0}),nh.JsonLdParser=void 0;const e=Cne(),t=Kn(),r=Ki(),n=Hne(),i=C5(),a=zne(),o=Sg(),s=Gne(),l=Wne(),u=Kne(),f=Qne(),d=Zne(),c=Yne(),p=Xne(),b=Jne(),v=tie(),_=Xs(),y=Zx(),m=rie();let g=class _u extends r.Transform{constructor(x){super({readableObjectMode:!0}),x=x||{},this.options=x,this.parsingContext=new v.ParsingContext(Object.assign({parser:this},x)),this.util=new _.Util({dataFactory:x.dataFactory,parsingContext:this.parsingContext}),this.jsonParser=new e,this.contextJobs=[],this.typeJobs=[],this.contextAwaitingJobs=[],this.lastDepth=0,this.lastKeys=[],this.lastOnValueJob=Promise.resolve(),this.attachJsonParserListeners(),this.on("end",()=>{typeof this.jsonParser.mode<"u"&&this.emit("error",new Error("Unclosed document"))})}static fromHttpResponse(x,I,N,q){let D,M=["application/activity+json"];if(q&&q.wellKnownMediaTypes&&(M=q.wellKnownMediaTypes),I!=="application/ld+json"&&!M.includes(I)){if(I!=="application/json"&&!I.endsWith("+json"))throw new t.ErrorCoded(`Unsupported JSON-LD media type ${I}`,t.ERROR_CODES.LOADING_DOCUMENT_FAILED);if(N&&N.has("Link")&&N.forEach((P,B)=>{if(B==="link"){const Y=(0,y.parse)(P);for(const ie of Y.get("rel","http://www.w3.org/ns/json-ld#context")){if(D)throw new t.ErrorCoded("Multiple JSON-LD context link headers were found on "+x,t.ERROR_CODES.MULTIPLE_CONTEXT_LINK_HEADERS);D=ie.uri}}}),!D&&!(q!=null&&q.ignoreMissingContextLinkHeader))throw new t.ErrorCoded(`Missing context link header for media type ${I} on ${x}`,t.ERROR_CODES.LOADING_DOCUMENT_FAILED)}let j;if(N&&N.has("Content-Type")){const P=N.get("Content-Type"),B=/; *profile=([^"]*)/.exec(P);B&&B[1]==="http://www.w3.org/ns/json-ld#streaming"&&(j=!0)}return new _u(Object.assign({baseIRI:x,context:D,streamingProfile:j},q||{}))}import(x){if("pipe"in x){x.on("error",N=>I.emit("error",N));const I=x.pipe(new _u(this.options));return I}else{const I=new r.PassThrough({readableObjectMode:!0});x.on("error",q=>N.emit("error",q)),x.on("data",q=>I.push(q)),x.on("end",()=>I.push(null));const N=I.pipe(new _u(this.options));return N}}_transform(x,I,N){this.jsonParser.write(x),this.lastOnValueJob.then(()=>N(),q=>N(q))}async newOnValueJob(x,I,N,q){let D=!0;if(q&&N<this.lastDepth){const Y=this.parsingContext.listPointerStack[this.lastDepth];Y&&(Y.value&&this.push(this.util.dataFactory.quad(Y.value,this.util.rdfRest,this.util.rdfNil,this.util.getDefaultGraph())),Y.listId.listHead=!0,this.parsingContext.idStack[Y.listRootDepth+1]=[Y.listId],this.parsingContext.listPointerStack.splice(this.lastDepth,1)),await i.EntryHandlerContainer.isBufferableContainerHandler(this.parsingContext,this.lastKeys,this.lastDepth)?(this.parsingContext.pendingContainerFlushBuffers.push({depth:this.lastDepth,keys:this.lastKeys.slice(0,this.lastKeys.length)}),D=!1):await this.flushBuffer(this.lastDepth,this.lastKeys)}const M=await this.util.unaliasKeyword(x[N],x,N),j=await this.util.unaliasKeywordParent(x,N);this.parsingContext.emittedStack[N]=!0;let P=!0;t.Util.isValidKeyword(M)&&j==="@reverse"&&M!=="@context"&&this.emit("error",new t.ErrorCoded(`Found the @id '${I}' inside an @reverse property`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY_MAP));let B=!1;this.parsingContext.validationStack.length>1&&(B=this.parsingContext.validationStack[this.parsingContext.validationStack.length-1].property);for(let Y=Math.max(1,this.parsingContext.validationStack.length-1);Y<x.length-1;Y++){const ie=this.parsingContext.validationStack[Y]||(this.parsingContext.validationStack[Y]=await this.validateKey(x.slice(0,Y+1),Y,B));if(ie.valid)!B&&ie.property&&(B=!0);else{this.parsingContext.emittedStack[N]=!1,P=!1;break}}if(await this.util.isLiteral(x,N)&&(P=!1),P)for(const Y of _u.ENTRY_HANDLERS){const ie=await Y.test(this.parsingContext,this.util,M,x,N);if(ie){await Y.handle(this.parsingContext,this.util,M,x,I,N,ie),Y.isStackProcessor()&&(this.parsingContext.processingStack[N]=!0);break}}N===0&&Array.isArray(I)&&await this.util.validateValueIndexes(I),D&&N<this.lastDepth&&this.flushStacks(this.lastDepth),this.lastDepth=N,this.lastKeys=x,this.parsingContext.unaliasedKeywordCacheStack.splice(N-1)}flushStacks(x){this.parsingContext.processingStack.splice(x,1),this.parsingContext.processingType.splice(x,1),this.parsingContext.emittedStack.splice(x,1),this.parsingContext.idStack.splice(x,1),this.parsingContext.graphStack.splice(x+1,1),this.parsingContext.graphContainerTermStack.splice(x,1),this.parsingContext.jsonLiteralStack.splice(x,1),this.parsingContext.validationStack.splice(x-1,2),this.parsingContext.literalStack.splice(x,this.parsingContext.literalStack.length-x),this.parsingContext.annotationsBuffer.splice(x,1)}async flushBuffer(x,I){let N=this.parsingContext.idStack[x];!!N||(N=this.parsingContext.idStack[x]=[this.util.dataFactory.blankNode()]);const D=this.parsingContext.unidentifiedValuesBuffer[x];if(D){for(const P of N){const B=await this.util.getDepthOffsetGraph(x,I),Y=this.parsingContext.graphStack[x]||B>=0?this.parsingContext.idStack[x-B-1]:[await this.util.getGraphContainerValue(I,x)];if(Y)for(const ie of Y){this.parsingContext.emittedStack[x]=!0;for(const X of D)this.util.emitQuadChecked(x,P,X.predicate,X.object,ie,X.reverse,X.isEmbedded)}else{const ie=this.parsingContext.getUnidentifiedGraphBufferSafe(x-await this.util.getDepthOffsetGraph(x,I)-1);for(const X of D)X.reverse?ie.push({object:P,predicate:X.predicate,subject:X.object,isEmbedded:X.isEmbedded}):ie.push({object:X.object,predicate:X.predicate,subject:P,isEmbedded:X.isEmbedded})}}this.parsingContext.unidentifiedValuesBuffer.splice(x,1),this.parsingContext.literalStack.splice(x,1),this.parsingContext.jsonLiteralStack.splice(x,1)}const M=this.parsingContext.unidentifiedGraphsBuffer[x];if(M){for(const P of N){const B=x===1&&P.termType==="BlankNode"&&!this.parsingContext.topLevelProperties?this.util.getDefaultGraph():P;this.parsingContext.emittedStack[x]=!0;for(const Y of M)this.parsingContext.emitQuad(x,this.util.dataFactory.quad(Y.subject,Y.predicate,Y.object,B))}this.parsingContext.unidentifiedGraphsBuffer.splice(x,1)}const j=this.parsingContext.annotationsBuffer[x];if(j){j.length>0&&x===1&&this.parsingContext.emitError(new t.ErrorCoded("Annotations can not be made on top-level nodes",t.ERROR_CODES.INVALID_ANNOTATION));const P=this.parsingContext.getAnnotationsBufferSafe(x-1);for(const B of j)P.push(B);delete this.parsingContext.annotationsBuffer[x]}}async validateKey(x,I,N){for(const q of _u.ENTRY_HANDLERS)if(await q.validate(this.parsingContext,this.util,x,I,N))return{valid:!0,property:N||q.isPropertyHandler()};return{valid:!1,property:!1}}attachJsonParserListeners(){this.jsonParser.onValue=x=>{const I=this.jsonParser.stack.length,N=new Array(I+1).fill(0).map((q,D)=>D===I?this.jsonParser.key:this.jsonParser.stack[D].key);if(!this.isParsingContextInner(I)){const q=()=>this.newOnValueJob(N,x,I,!0);if(!this.parsingContext.streamingProfile&&!this.parsingContext.contextTree.getContext(N.slice(0,-1)))if(N[I]==="@context"){let D=this.contextJobs[I];D||(D=this.contextJobs[I]=[]),D.push(q)}else this.contextAwaitingJobs.push({job:q,keys:N,depth:I});else this.lastOnValueJob=this.lastOnValueJob.then(q);!this.parsingContext.streamingProfile&&I===0&&(this.lastOnValueJob=this.lastOnValueJob.then(()=>this.executeBufferedJobs()))}},this.jsonParser.onError=x=>{this.emit("error",x)}}isParsingContextInner(x){for(let I=x;I>0;I--)if(this.jsonParser.stack[I-1].key==="@context")return!0;return!1}async executeBufferedJobs(){for(const I of this.contextJobs)if(I)for(const N of I)await N();this.parsingContext.unaliasedKeywordCacheStack.splice(0);const x=[];for(const I of this.contextAwaitingJobs)await this.util.unaliasKeyword(I.keys[I.depth],I.keys,I.depth,!0)==="@type"||typeof I.keys[I.depth]=="number"&&await this.util.unaliasKeyword(I.keys[I.depth-1],I.keys,I.depth-1,!0)==="@type"?this.typeJobs.push({job:I.job,keys:I.keys.slice(0,I.keys.length-1)}):x.push(I);for(const I of x){if(this.typeJobs.length>0){const N=[],q=[];for(let j=0;j<this.typeJobs.length;j++){const P=this.typeJobs[j];_.Util.isPrefixArray(P.keys,I.keys)&&(N.push(P),q.push(j))}const D=N.sort((j,P)=>j.keys.length-P.keys.length);for(const j of D)await j.job();const M=q.sort().reverse();for(const j of M)this.typeJobs.splice(j,1)}await I.job()}}};return g.DEFAULT_PROCESSING_MODE="1.1",g.ENTRY_HANDLERS=[new n.EntryHandlerArrayValue,new s.EntryHandlerKeywordContext,new u.EntryHandlerKeywordId,new f.EntryHandlerKeywordIncluded,new l.EntryHandlerKeywordGraph,new d.EntryHandlerKeywordNest,new c.EntryHandlerKeywordType,new b.EntryHandlerKeywordValue,new m.EntryHandlerKeywordAnnotation,new i.EntryHandlerContainer,new p.EntryHandlerKeywordUnknownFallback,new o.EntryHandlerPredicate,new a.EntryHandlerInvalidFallback],nh.JsonLdParser=g,nh}var wF;function nie(){return wF||(wF=1,function(e){var t=rh.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=rh.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(F5(),e)}(rh)),rh}var Fh={},jh={},qh={},zS={},SF;function j5(){return SF||(SF=1,function(){(function(e){(function(t){var r=typeof globalThis<"u"&&globalThis||typeof e<"u"&&e||typeof Tt<"u"&&Tt||{},n={searchParams:"URLSearchParams"in r,iterable:"Symbol"in r&&"iterator"in Symbol,blob:"FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in r,arrayBuffer:"ArrayBuffer"in r};function i(M){return M&&DataView.prototype.isPrototypeOf(M)}if(n.arrayBuffer)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(M){return M&&a.indexOf(Object.prototype.toString.call(M))>-1};function s(M){if(typeof M!="string"&&(M=String(M)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(M)||M==="")throw new TypeError('Invalid character in header field name: "'+M+'"');return M.toLowerCase()}function l(M){return typeof M!="string"&&(M=String(M)),M}function u(M){var j={next:function(){var P=M.shift();return{done:P===void 0,value:P}}};return n.iterable&&(j[Symbol.iterator]=function(){return j}),j}function f(M){this.map={},M instanceof f?M.forEach(function(j,P){this.append(P,j)},this):Array.isArray(M)?M.forEach(function(j){if(j.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+j.length);this.append(j[0],j[1])},this):M&&Object.getOwnPropertyNames(M).forEach(function(j){this.append(j,M[j])},this)}f.prototype.append=function(M,j){M=s(M),j=l(j);var P=this.map[M];this.map[M]=P?P+", "+j:j},f.prototype.delete=function(M){delete this.map[s(M)]},f.prototype.get=function(M){return M=s(M),this.has(M)?this.map[M]:null},f.prototype.has=function(M){return this.map.hasOwnProperty(s(M))},f.prototype.set=function(M,j){this.map[s(M)]=l(j)},f.prototype.forEach=function(M,j){for(var P in this.map)this.map.hasOwnProperty(P)&&M.call(j,this.map[P],P,this)},f.prototype.keys=function(){var M=[];return this.forEach(function(j,P){M.push(P)}),u(M)},f.prototype.values=function(){var M=[];return this.forEach(function(j){M.push(j)}),u(M)},f.prototype.entries=function(){var M=[];return this.forEach(function(j,P){M.push([P,j])}),u(M)},n.iterable&&(f.prototype[Symbol.iterator]=f.prototype.entries);function d(M){if(!M._noBody){if(M.bodyUsed)return Promise.reject(new TypeError("Already read"));M.bodyUsed=!0}}function c(M){return new Promise(function(j,P){M.onload=function(){j(M.result)},M.onerror=function(){P(M.error)}})}function p(M){var j=new FileReader,P=c(j);return j.readAsArrayBuffer(M),P}function b(M){var j=new FileReader,P=c(j),B=/charset=([A-Za-z0-9_-]+)/.exec(M.type),Y=B?B[1]:"utf-8";return j.readAsText(M,Y),P}function v(M){for(var j=new Uint8Array(M),P=new Array(j.length),B=0;B<j.length;B++)P[B]=String.fromCharCode(j[B]);return P.join("")}function _(M){if(M.slice)return M.slice(0);var j=new Uint8Array(M.byteLength);return j.set(new Uint8Array(M)),j.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(M){this.bodyUsed=this.bodyUsed,this._bodyInit=M,M?typeof M=="string"?this._bodyText=M:n.blob&&Blob.prototype.isPrototypeOf(M)?this._bodyBlob=M:n.formData&&FormData.prototype.isPrototypeOf(M)?this._bodyFormData=M:n.searchParams&&URLSearchParams.prototype.isPrototypeOf(M)?this._bodyText=M.toString():n.arrayBuffer&&n.blob&&i(M)?(this._bodyArrayBuffer=_(M.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):n.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(M)||o(M))?this._bodyArrayBuffer=_(M):this._bodyText=M=Object.prototype.toString.call(M):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof M=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n.searchParams&&URLSearchParams.prototype.isPrototypeOf(M)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n.blob&&(this.blob=function(){var M=d(this);if(M)return M;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var M=d(this);return M||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(n.blob)return this.blob().then(p);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var M=d(this);if(M)return M;if(this._bodyBlob)return b(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(v(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},n.formData&&(this.formData=function(){return this.text().then(x)}),this.json=function(){return this.text().then(JSON.parse)},this}var m=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function g(M){var j=M.toUpperCase();return m.indexOf(j)>-1?j:M}function S(M,j){if(!(this instanceof S))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');j=j||{};var P=j.body;if(M instanceof S){if(M.bodyUsed)throw new TypeError("Already read");this.url=M.url,this.credentials=M.credentials,j.headers||(this.headers=new f(M.headers)),this.method=M.method,this.mode=M.mode,this.signal=M.signal,!P&&M._bodyInit!=null&&(P=M._bodyInit,M.bodyUsed=!0)}else this.url=String(M);if(this.credentials=j.credentials||this.credentials||"same-origin",(j.headers||!this.headers)&&(this.headers=new f(j.headers)),this.method=g(j.method||this.method||"GET"),this.mode=j.mode||this.mode||null,this.signal=j.signal||this.signal||function(){if("AbortController"in r){var ie=new AbortController;return ie.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&P)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(P),(this.method==="GET"||this.method==="HEAD")&&(j.cache==="no-store"||j.cache==="no-cache")){var B=/([?&])_=[^&]*/;if(B.test(this.url))this.url=this.url.replace(B,"$1_="+new Date().getTime());else{var Y=/\?/;this.url+=(Y.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}S.prototype.clone=function(){return new S(this,{body:this._bodyInit})};function x(M){var j=new FormData;return M.trim().split("&").forEach(function(P){if(P){var B=P.split("="),Y=B.shift().replace(/\+/g," "),ie=B.join("=").replace(/\+/g," ");j.append(decodeURIComponent(Y),decodeURIComponent(ie))}}),j}function I(M){var j=new f,P=M.replace(/\r?\n[\t ]+/g," ");return P.split("\r").map(function(B){return B.indexOf(`
`)===0?B.substr(1,B.length):B}).forEach(function(B){var Y=B.split(":"),ie=Y.shift().trim();if(ie){var X=Y.join(":").trim();try{j.append(ie,X)}catch(le){console.warn("Response "+le.message)}}}),j}y.call(S.prototype);function N(M,j){if(!(this instanceof N))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(j||(j={}),this.type="default",this.status=j.status===void 0?200:j.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=j.statusText===void 0?"":""+j.statusText,this.headers=new f(j.headers),this.url=j.url||"",this._initBody(M)}y.call(N.prototype),N.prototype.clone=function(){return new N(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},N.error=function(){var M=new N(null,{status:200,statusText:""});return M.ok=!1,M.status=0,M.type="error",M};var q=[301,302,303,307,308];N.redirect=function(M,j){if(q.indexOf(j)===-1)throw new RangeError("Invalid status code");return new N(null,{status:j,headers:{location:M}})},t.DOMException=r.DOMException;try{new t.DOMException}catch{t.DOMException=function(j,P){this.message=j,this.name=P;var B=Error(j);this.stack=B.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function D(M,j){return new Promise(function(P,B){var Y=new S(M,j);if(Y.signal&&Y.signal.aborted)return B(new t.DOMException("Aborted","AbortError"));var ie=new XMLHttpRequest;function X(){ie.abort()}ie.onload=function(){var ne={statusText:ie.statusText,headers:I(ie.getAllResponseHeaders()||"")};Y.url.indexOf("file://")===0&&(ie.status<200||ie.status>599)?ne.status=200:ne.status=ie.status,ne.url="responseURL"in ie?ie.responseURL:ne.headers.get("X-Request-URL");var H="response"in ie?ie.response:ie.responseText;setTimeout(function(){P(new N(H,ne))},0)},ie.onerror=function(){setTimeout(function(){B(new TypeError("Network request failed"))},0)},ie.ontimeout=function(){setTimeout(function(){B(new TypeError("Network request timed out"))},0)},ie.onabort=function(){setTimeout(function(){B(new t.DOMException("Aborted","AbortError"))},0)};function le(ne){try{return ne===""&&r.location.href?r.location.href:ne}catch{return ne}}if(ie.open(Y.method,le(Y.url),!0),Y.credentials==="include"?ie.withCredentials=!0:Y.credentials==="omit"&&(ie.withCredentials=!1),"responseType"in ie&&(n.blob?ie.responseType="blob":n.arrayBuffer&&(ie.responseType="arraybuffer")),j&&typeof j.headers=="object"&&!(j.headers instanceof f||r.Headers&&j.headers instanceof r.Headers)){var ae=[];Object.getOwnPropertyNames(j.headers).forEach(function(ne){ae.push(s(ne)),ie.setRequestHeader(ne,l(j.headers[ne]))}),Y.headers.forEach(function(ne,H){ae.indexOf(H)===-1&&ie.setRequestHeader(H,ne)})}else Y.headers.forEach(function(ne,H){ie.setRequestHeader(H,ne)});Y.signal&&(Y.signal.addEventListener("abort",X),ie.onreadystatechange=function(){ie.readyState===4&&Y.signal.removeEventListener("abort",X)}),ie.send(typeof Y._bodyInit>"u"?null:Y._bodyInit)})}return D.polyfill=!0,r.fetch||(r.fetch=D,r.Headers=f,r.Request=S,r.Response=N),t.Headers=f,t.Request=S,t.Response=N,t.fetch=D,Object.defineProperty(t,"__esModule",{value:!0}),t})({})})(typeof self<"u"?self:zS)}()),zS}var GS={},EF;function Eg(){return EF||(EF=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ERROR_CODES=e.ErrorCoded=void 0;class t extends Error{constructor(n,i){super(n),this.code=i}}e.ErrorCoded=t,function(r){r.COLLIDING_KEYWORDS="colliding keywords",r.CONFLICTING_INDEXES="conflicting indexes",r.CYCLIC_IRI_MAPPING="cyclic IRI mapping",r.INVALID_ID_VALUE="invalid @id value",r.INVALID_INDEX_VALUE="invalid @index value",r.INVALID_NEST_VALUE="invalid @nest value",r.INVALID_PREFIX_VALUE="invalid @prefix value",r.INVALID_PROPAGATE_VALUE="invalid @propagate value",r.INVALID_REVERSE_VALUE="invalid @reverse value",r.INVALID_IMPORT_VALUE="invalid @import value",r.INVALID_VERSION_VALUE="invalid @version value",r.INVALID_BASE_IRI="invalid base IRI",r.INVALID_CONTAINER_MAPPING="invalid container mapping",r.INVALID_CONTEXT_ENTRY="invalid context entry",r.INVALID_CONTEXT_NULLIFICATION="invalid context nullification",r.INVALID_DEFAULT_LANGUAGE="invalid default language",r.INVALID_INCLUDED_VALUE="invalid @included value",r.INVALID_IRI_MAPPING="invalid IRI mapping",r.INVALID_JSON_LITERAL="invalid JSON literal",r.INVALID_KEYWORD_ALIAS="invalid keyword alias",r.INVALID_LANGUAGE_MAP_VALUE="invalid language map value",r.INVALID_LANGUAGE_MAPPING="invalid language mapping",r.INVALID_LANGUAGE_TAGGED_STRING="invalid language-tagged string",r.INVALID_LANGUAGE_TAGGED_VALUE="invalid language-tagged value",r.INVALID_LOCAL_CONTEXT="invalid local context",r.INVALID_REMOTE_CONTEXT="invalid remote context",r.INVALID_REVERSE_PROPERTY="invalid reverse property",r.INVALID_REVERSE_PROPERTY_MAP="invalid reverse property map",r.INVALID_REVERSE_PROPERTY_VALUE="invalid reverse property value",r.INVALID_SCOPED_CONTEXT="invalid scoped context",r.INVALID_SCRIPT_ELEMENT="invalid script element",r.INVALID_SET_OR_LIST_OBJECT="invalid set or list object",r.INVALID_TERM_DEFINITION="invalid term definition",r.INVALID_TYPE_MAPPING="invalid type mapping",r.INVALID_TYPE_VALUE="invalid type value",r.INVALID_TYPED_VALUE="invalid typed value",r.INVALID_VALUE_OBJECT="invalid value object",r.INVALID_VALUE_OBJECT_VALUE="invalid value object value",r.INVALID_VOCAB_MAPPING="invalid vocab mapping",r.IRI_CONFUSED_WITH_PREFIX="IRI confused with prefix",r.KEYWORD_REDEFINITION="keyword redefinition",r.LOADING_DOCUMENT_FAILED="loading document failed",r.LOADING_REMOTE_CONTEXT_FAILED="loading remote context failed",r.MULTIPLE_CONTEXT_LINK_HEADERS="multiple context link headers",r.PROCESSING_MODE_CONFLICT="processing mode conflict",r.PROTECTED_TERM_REDEFINITION="protected term redefinition",r.CONTEXT_OVERFLOW="context overflow",r.INVALID_BASE_DIRECTION="invalid base direction",r.RECURSIVE_CONTEXT_INCLUSION="recursive context inclusion",r.INVALID_STREAMING_KEY_ORDER="invalid streaming key order",r.INVALID_EMBEDDED_NODE="invalid embedded node",r.INVALID_ANNOTATION="invalid annotation"}(e.ERROR_CODES||(e.ERROR_CODES={}))}(GS)),GS}var Bh={},TF;function q5(){if(TF)return Bh;TF=1,Object.defineProperty(Bh,"__esModule",{value:!0}),Bh.FetchDocumentLoader=void 0,j5();const e=Eg(),t=Zx(),r=Ii();let n=class{constructor(a){this.fetcher=a}async load(a){const o=await(this.fetcher||fetch)(a,{headers:new Headers({accept:"application/ld+json"})});if(o.ok&&o.headers){let s=o.headers.get("Content-Type");if(s){const l=s.indexOf(";");l>0&&(s=s.substr(0,l))}if(s==="application/ld+json")return await o.json();if(o.headers.has("Link")){let l;if(o.headers.forEach((u,f)=>{if(f==="link"){const d=(0,t.parse)(u);for(const c of d.get("type","application/ld+json"))if(c.rel==="alternate"){if(l)throw new Error("Multiple JSON-LD alternate links were found on "+a);l=(0,r.resolve)(c.uri,a)}}}),l)return this.load(l)}throw new e.ErrorCoded(`Unsupported JSON-LD media type ${s}`,e.ERROR_CODES.LOADING_DOCUMENT_FAILED)}else throw new Error(o.statusText||`Status code: ${o.status}`)}};return Bh.FetchDocumentLoader=n,Bh}var WS={},$h={},xF;function Jx(){if(xF)return $h;xF=1,Object.defineProperty($h,"__esModule",{value:!0}),$h.Util=void 0;let e=class Fa{static isCompactIri(r){return r.indexOf(":")>0&&!(r&&r[0]==="#")}static getPrefix(r,n){if(r&&r[0]==="#")return null;const i=r.indexOf(":");if(i>=0){if(r.length>i+1&&r.charAt(i+1)==="/"&&r.charAt(i+2)==="/")return null;const a=r.substr(0,i);if(a==="_")return null;if(n[a])return a}return null}static getContextValueId(r){if(r===null||typeof r=="string")return r;const n=r["@id"];return n||null}static isSimpleTermDefinitionPrefix(r,n){return!Fa.isPotentialKeyword(r)&&(n.allowPrefixNonGenDelims||typeof r=="string"&&(r[0]==="_"||Fa.isPrefixIriEndingWithGenDelim(r)))}static isPotentialKeyword(r){return typeof r=="string"&&Fa.KEYWORD_REGEX.test(r)}static isPrefixIriEndingWithGenDelim(r){return Fa.ENDS_WITH_GEN_DELIM.test(r)}static isPrefixValue(r){return r&&(typeof r=="string"||r&&typeof r=="object")}static isValidIri(r){return!!(r&&Fa.IRI_REGEX.test(r))}static isValidIriWeak(r){return!!r&&r[0]!==":"&&Fa.IRI_REGEX_WEAK.test(r)}static isValidKeyword(r){return Fa.VALID_KEYWORDS[r]}static isTermProtected(r,n){const i=r[n];return typeof i!="string"&&i&&i["@protected"]}static hasProtectedTerms(r){for(const n of Object.keys(r))if(Fa.isTermProtected(r,n))return!0;return!1}static isReservedInternalKeyword(r){return r.startsWith("@__")}static deepEqual(r,n){const i=Object.keys(r),a=Object.keys(n);return i.length!==a.length?!1:i.every(o=>{const s=r[o],l=n[o];return s===l||s!==null&&l!==null&&typeof s=="object"&&typeof l=="object"&&this.deepEqual(s,l)})}};return e.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`#]*(#[^#]*)?$/,e.IRI_REGEX_WEAK=/(?::[^:])|\//,e.KEYWORD_REGEX=/^@[a-z]+$/i,e.ENDS_WITH_GEN_DELIM=/[:/?#\[\]@]$/,e.REGEX_LANGUAGE_TAG=/^[a-zA-Z]+(-[a-zA-Z0-9]+)*$/,e.REGEX_DIRECTION_TAG=/^(ltr)|(rtl)$/,e.VALID_KEYWORDS={"@annotation":!0,"@base":!0,"@container":!0,"@context":!0,"@direction":!0,"@graph":!0,"@id":!0,"@import":!0,"@included":!0,"@index":!0,"@json":!0,"@language":!0,"@list":!0,"@nest":!0,"@none":!0,"@prefix":!0,"@propagate":!0,"@protected":!0,"@reverse":!0,"@set":!0,"@type":!0,"@value":!0,"@version":!0,"@vocab":!0},e.EXPAND_KEYS_BLACKLIST=["@base","@vocab","@language","@version","@direction"],e.ALIAS_DOMAIN_BLACKLIST=["@container","@graph","@id","@index","@list","@nest","@none","@prefix","@reverse","@set","@type","@value","@version"],e.ALIAS_RANGE_BLACKLIST=["@context","@preserve"],e.CONTAINERS=["@list","@set","@index","@language","@graph","@id","@type"],e.CONTAINERS_1_0=["@list","@set","@index"],$h.Util=e,$h}var RF;function B5(){return RF||(RF=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.defaultExpandOptions=e.JsonLdContextNormalized=void 0;const t=Ii(),r=Eg(),n=Jx();class i{constructor(o){this.contextRaw=o}getContextRaw(){return this.contextRaw}expandTerm(o,s,l=e.defaultExpandOptions){const u=this.contextRaw[o];if(u===null||u&&u["@id"]===null)return null;let f=!0;if(u&&s){const _=n.Util.getContextValueId(u);if(_&&_!==o)if(typeof _!="string"||!n.Util.isValidIri(_)&&!n.Util.isValidKeyword(_))n.Util.isPotentialKeyword(_)||(f=!1);else return _}const d=n.Util.getPrefix(o,this.contextRaw),c=this.contextRaw["@vocab"],p=(!!c||c==="")&&c.indexOf(":")<0,b=this.contextRaw["@base"],v=n.Util.isPotentialKeyword(o);if(d){const _=this.contextRaw[d],y=n.Util.getContextValueId(_);if(y){if(typeof _=="string"||!l.allowPrefixForcing){if(!n.Util.isSimpleTermDefinitionPrefix(y,l))return o}else if(y[0]!=="_"&&!v&&!_["@prefix"]&&!(o in this.contextRaw))return o;return y+o.substr(d.length+1)}}else if(s&&(c||c===""||l.allowVocabRelativeToBase&&b&&p)&&!v&&!n.Util.isCompactIri(o))if(p){if(l.allowVocabRelativeToBase)return(c||b?(0,t.resolve)(c,b):"")+o;throw new r.ErrorCoded(`Relative vocab expansion for term '${o}' with vocab '${c}' is not allowed.`,r.ERROR_CODES.INVALID_VOCAB_MAPPING)}else return c+o;else if(!s&&b&&!v&&!n.Util.isCompactIri(o))return(0,t.resolve)(o,b);if(f)return o;throw new r.ErrorCoded(`Invalid IRI mapping found for context entry '${o}': '${JSON.stringify(u)}'`,r.ERROR_CODES.INVALID_IRI_MAPPING)}compactIri(o,s){if(s&&this.contextRaw["@vocab"]&&o.startsWith(this.contextRaw["@vocab"]))return o.substr(this.contextRaw["@vocab"].length);if(!s&&this.contextRaw["@base"]&&o.startsWith(this.contextRaw["@base"]))return o.substr(this.contextRaw["@base"].length);const l={prefix:"",suffix:o};for(const u in this.contextRaw){const f=this.contextRaw[u];if(f&&!n.Util.isPotentialKeyword(u)){const d=n.Util.getContextValueId(f);if(o.startsWith(d)){const c=o.substr(d.length);if(c)c.length<l.suffix.length&&(l.prefix=u,l.suffix=c);else if(s)return u}}}return l.prefix?l.prefix+":"+l.suffix:o}}e.JsonLdContextNormalized=i,e.defaultExpandOptions={allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}}(WS)),WS}var AF;function iie(){if(AF)return qh;AF=1,Object.defineProperty(qh,"__esModule",{value:!0}),qh.ContextParser=void 0,j5();const e=Ii(),t=Eg(),r=q5(),n=B5(),i=Jx();let a=class As{constructor(s){s=s||{},this.documentLoader=s.documentLoader||new r.FetchDocumentLoader,this.documentCache={},this.validateContext=!s.skipValidation,this.expandContentTypeToBase=!!s.expandContentTypeToBase,this.remoteContextsDepthLimit=s.remoteContextsDepthLimit||32,this.redirectSchemaOrgHttps="redirectSchemaOrgHttps"in s?!!s.redirectSchemaOrgHttps:!0}static validateLanguage(s,l,u){if(typeof s!="string")throw new t.ErrorCoded(`The value of an '@language' must be a string, got '${JSON.stringify(s)}'`,u);if(!i.Util.REGEX_LANGUAGE_TAG.test(s)){if(l)throw new t.ErrorCoded(`The value of an '@language' must be a valid language tag, got '${JSON.stringify(s)}'`,u);return!1}return!0}static validateDirection(s,l){if(typeof s!="string")throw new t.ErrorCoded(`The value of an '@direction' must be a string, got '${JSON.stringify(s)}'`,t.ERROR_CODES.INVALID_BASE_DIRECTION);if(!i.Util.REGEX_DIRECTION_TAG.test(s)){if(l)throw new t.ErrorCoded(`The value of an '@direction' must be 'ltr' or 'rtl', got '${JSON.stringify(s)}'`,t.ERROR_CODES.INVALID_BASE_DIRECTION);return!1}return!0}idifyReverseTerms(s){for(const l of Object.keys(s)){let u=s[l];if(u&&typeof u=="object"&&u["@reverse"]&&!u["@id"]){if(typeof u["@reverse"]!="string"||i.Util.isValidKeyword(u["@reverse"]))throw new t.ErrorCoded(`Invalid @reverse value, must be absolute IRI or blank node: '${u["@reverse"]}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);u=s[l]=Object.assign(Object.assign({},u),{"@id":u["@reverse"]}),u["@id"]=u["@reverse"],i.Util.isPotentialKeyword(u["@reverse"])?delete u["@reverse"]:u["@reverse"]=!0}}return s}expandPrefixedTerms(s,l,u){const f=s.getContextRaw();for(const d of u||Object.keys(f))if(i.Util.EXPAND_KEYS_BLACKLIST.indexOf(d)<0&&!i.Util.isReservedInternalKeyword(d)){const c=f[d];if(i.Util.isPotentialKeyword(d)&&i.Util.ALIAS_DOMAIN_BLACKLIST.indexOf(d)>=0&&(d!=="@type"||typeof f[d]=="object"&&!(f[d]["@protected"]||f[d]["@container"]==="@set")))throw new t.ErrorCoded(`Keywords can not be aliased to something else.
Tried mapping ${d} to ${JSON.stringify(c)}`,t.ERROR_CODES.KEYWORD_REDEFINITION);if(i.Util.ALIAS_RANGE_BLACKLIST.indexOf(i.Util.getContextValueId(c))>=0)throw new t.ErrorCoded(`Aliasing to certain keywords is not allowed.
Tried mapping ${d} to ${JSON.stringify(c)}`,t.ERROR_CODES.INVALID_KEYWORD_ALIAS);if(c&&i.Util.isPotentialKeyword(i.Util.getContextValueId(c))&&c["@prefix"]===!0)throw new t.ErrorCoded(`Tried to use keyword aliases as prefix: '${d}': '${JSON.stringify(c)}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);for(;i.Util.isPrefixValue(f[d]);){const p=f[d];let b=!1;if(typeof p=="string")f[d]=s.expandTerm(p,!0),b=b||p!==f[d];else{const v=p["@id"],_=p["@type"],y=!("@prefix"in p)||i.Util.isValidIri(d);if("@id"in p)v!=null&&typeof v=="string"&&(f[d]=Object.assign(Object.assign({},f[d]),{"@id":s.expandTerm(v,!0)}),b=b||v!==f[d]["@id"]);else if(!i.Util.isPotentialKeyword(d)&&y){const m=s.expandTerm(d,!0);m!==d&&(f[d]=Object.assign(Object.assign({},f[d]),{"@id":m}),b=!0)}if(_&&typeof _=="string"&&_!=="@vocab"&&(!p["@container"]||!p["@container"]["@type"])&&y){let m=s.expandTerm(_,!0);l&&_===m&&(m=s.expandTerm(_,!1)),m!==_&&(b=!0,f[d]=Object.assign(Object.assign({},f[d]),{"@type":m}))}}if(!b)break}}}normalize(s,{processingMode:l,normalizeLanguageTags:u}){if(u||l===1)for(const f of Object.keys(s))if(f==="@language"&&typeof s[f]=="string")s[f]=s[f].toLowerCase();else{const d=s[f];if(d&&typeof d=="object"&&typeof d["@language"]=="string"){const c=d["@language"].toLowerCase();c!==d["@language"]&&(s[f]=Object.assign(Object.assign({},d),{"@language":c}))}}}containersToHash(s){for(const l of Object.keys(s)){const u=s[l];if(u&&typeof u=="object"){if(typeof u["@container"]=="string")s[l]=Object.assign(Object.assign({},u),{"@container":{[u["@container"]]:!0}});else if(Array.isArray(u["@container"])){const f={};for(const d of u["@container"])f[d]=!0;s[l]=Object.assign(Object.assign({},u),{"@container":f})}}}}applyScopedProtected(s,{processingMode:l},u){if(l&&l>=1.1&&s["@protected"]){for(const f of Object.keys(s))if(!i.Util.isReservedInternalKeyword(f)&&!i.Util.isPotentialKeyword(f)&&!i.Util.isTermProtected(s,f)){const d=s[f];d&&typeof d=="object"?"@protected"in s[f]||(s[f]=Object.assign(Object.assign({},s[f]),{"@protected":!0})):(s[f]={"@id":d,"@protected":!0},i.Util.isSimpleTermDefinitionPrefix(d,u)&&(s[f]=Object.assign(Object.assign({},s[f]),{"@prefix":!0})))}delete s["@protected"]}}validateKeywordRedefinitions(s,l,u,f){for(const d of f??Object.keys(l))if(i.Util.isTermProtected(s,d)&&(typeof l[d]=="string"?l[d]={"@id":l[d],"@protected":!0}:l[d]=Object.assign(Object.assign({},l[d]),{"@protected":!0}),!i.Util.deepEqual(s[d],l[d])))throw new t.ErrorCoded(`Attempted to override the protected keyword ${d} from ${JSON.stringify(i.Util.getContextValueId(s[d]))} to ${JSON.stringify(i.Util.getContextValueId(l[d]))}`,t.ERROR_CODES.PROTECTED_TERM_REDEFINITION)}validate(s,{processingMode:l}){for(const u of Object.keys(s)){if(i.Util.isReservedInternalKeyword(u))continue;if(u==="")throw new t.ErrorCoded(`The empty term is not allowed, got: '${u}': '${JSON.stringify(s[u])}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);const f=s[u],d=typeof f;if(i.Util.isPotentialKeyword(u)){switch(u.substr(1)){case"vocab":if(f!==null&&d!=="string")throw new t.ErrorCoded(`Found an invalid @vocab IRI: ${f}`,t.ERROR_CODES.INVALID_VOCAB_MAPPING);break;case"base":if(f!==null&&d!=="string")throw new t.ErrorCoded(`Found an invalid @base IRI: ${s[u]}`,t.ERROR_CODES.INVALID_BASE_IRI);break;case"language":f!==null&&As.validateLanguage(f,!0,t.ERROR_CODES.INVALID_DEFAULT_LANGUAGE);break;case"version":if(f!==null&&d!=="number")throw new t.ErrorCoded(`Found an invalid @version number: ${f}`,t.ERROR_CODES.INVALID_VERSION_VALUE);break;case"direction":f!==null&&As.validateDirection(f,!0);break;case"propagate":if(l===1)throw new t.ErrorCoded(`Found an illegal @propagate keyword: ${f}`,t.ERROR_CODES.INVALID_CONTEXT_ENTRY);if(f!==null&&d!=="boolean")throw new t.ErrorCoded(`Found an invalid @propagate value: ${f}`,t.ERROR_CODES.INVALID_PROPAGATE_VALUE);break}if(i.Util.isValidKeyword(u)&&i.Util.isValidKeyword(i.Util.getContextValueId(f)))throw new t.ErrorCoded(`Illegal keyword alias in term value, found: '${u}': '${i.Util.getContextValueId(f)}'`,t.ERROR_CODES.KEYWORD_REDEFINITION);continue}if(f!==null)switch(d){case"string":if(i.Util.getPrefix(f,s)===u)throw new t.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${u}': '${JSON.stringify(f)}'`,t.ERROR_CODES.CYCLIC_IRI_MAPPING);if(i.Util.isValidIriWeak(u)){if(f==="@type")throw new t.ErrorCoded(`IRIs can not be mapped to @type, found: '${u}': '${f}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(i.Util.isValidIri(f)&&f!==new n.JsonLdContextNormalized(s).expandTerm(u))throw new t.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${u}': '${f}'`,t.ERROR_CODES.INVALID_IRI_MAPPING)}break;case"object":if(!i.Util.isCompactIri(u)&&!("@id"in f)&&(f["@type"]==="@id"?!s["@base"]:!s["@vocab"]))throw new t.ErrorCoded(`Missing @id in context entry: '${u}': '${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);for(const c of Object.keys(f)){const p=f[c];if(p)switch(c){case"@id":if(i.Util.isValidKeyword(p)&&p!=="@type"&&p!=="@id"&&p!=="@graph"&&p!=="@nest")throw new t.ErrorCoded(`Illegal keyword alias in term value, found: '${u}': '${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(i.Util.isValidIriWeak(u)){if(p==="@type")throw new t.ErrorCoded(`IRIs can not be mapped to @type, found: '${u}': '${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(i.Util.isValidIri(p)&&p!==new n.JsonLdContextNormalized(s).expandTerm(u))throw new t.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${u}': '${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING)}if(typeof p!="string")throw new t.ErrorCoded(`Detected non-string @id in context entry: '${u}': '${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(i.Util.getPrefix(p,s)===u)throw new t.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${u}': '${JSON.stringify(f)}'`,t.ERROR_CODES.CYCLIC_IRI_MAPPING);break;case"@type":if(f["@container"]==="@type"&&p!=="@id"&&p!=="@vocab")throw new t.ErrorCoded(`@container: @type only allows @type: @id or @vocab, but got: '${u}': '${p}'`,t.ERROR_CODES.INVALID_TYPE_MAPPING);if(typeof p!="string")throw new t.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(d)}'`,t.ERROR_CODES.INVALID_TYPE_MAPPING);if(p!=="@id"&&p!=="@vocab"&&(l===1||p!=="@json")&&(l===1||p!=="@none")&&(p[0]==="_"||!i.Util.isValidIri(p)))throw new t.ErrorCoded(`A context @type must be an absolute IRI, found: '${u}': '${p}'`,t.ERROR_CODES.INVALID_TYPE_MAPPING);break;case"@reverse":if(typeof p=="string"&&f["@id"]&&f["@id"]!==p)throw new t.ErrorCoded(`Found non-matching @id and @reverse term values in '${u}':'${p}' and '${f["@id"]}'`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY);if("@nest"in f)throw new t.ErrorCoded(`@nest is not allowed in the reverse property '${u}'`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY);break;case"@container":if(l===1&&(Object.keys(p).length>1||i.Util.CONTAINERS_1_0.indexOf(Object.keys(p)[0])<0))throw new t.ErrorCoded(`Invalid term @container for '${u}' ('${Object.keys(p)}') in 1.0, must be only one of ${i.Util.CONTAINERS_1_0.join(", ")}`,t.ERROR_CODES.INVALID_CONTAINER_MAPPING);for(const b of Object.keys(p)){if(b==="@list"&&f["@reverse"])throw new t.ErrorCoded(`Term value can not be @container: @list and @reverse at the same time on '${u}'`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY);if(i.Util.CONTAINERS.indexOf(b)<0)throw new t.ErrorCoded(`Invalid term @container for '${u}' ('${b}'), must be one of ${i.Util.CONTAINERS.join(", ")}`,t.ERROR_CODES.INVALID_CONTAINER_MAPPING)}break;case"@language":As.validateLanguage(p,!0,t.ERROR_CODES.INVALID_LANGUAGE_MAPPING);break;case"@direction":As.validateDirection(p,!0);break;case"@prefix":if(p!==null&&typeof p!="boolean")throw new t.ErrorCoded(`Found an invalid term @prefix boolean in: '${u}': '${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_PREFIX_VALUE);if(!("@id"in f)&&!i.Util.isValidIri(u))throw new t.ErrorCoded(`Invalid @prefix definition for '${u}' ('${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@index":if(l===1||!f["@container"]||!f["@container"]["@index"])throw new t.ErrorCoded(`Attempt to add illegal key to value object: '${u}': '${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@nest":if(i.Util.isPotentialKeyword(p)&&p!=="@nest")throw new t.ErrorCoded(`Found an invalid term @nest value in: '${u}': '${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_NEST_VALUE)}}break;default:throw new t.ErrorCoded(`Found an invalid term value: '${u}': '${f}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION)}}}applyBaseEntry(s,l,u){return typeof s=="string"||(u&&!("@base"in s)&&l.parentContext&&typeof l.parentContext=="object"&&"@base"in l.parentContext&&(s["@base"]=l.parentContext["@base"],l.parentContext["@__baseDocument"]&&(s["@__baseDocument"]=!0)),l.baseIRI&&!l.external&&("@base"in s?s["@base"]!==null&&typeof s["@base"]=="string"&&!i.Util.isValidIri(s["@base"])&&(s["@base"]=(0,e.resolve)(s["@base"],l.parentContext&&l.parentContext["@base"]||l.baseIRI)):(s["@base"]=l.baseIRI,s["@__baseDocument"]=!0))),s}normalizeContextIri(s,l){if(!i.Util.isValidIri(s))try{s=(0,e.resolve)(s,l)}catch{throw new Error(`Invalid context IRI: ${s}`)}return this.redirectSchemaOrgHttps&&s.startsWith("http://schema.org")&&(s="https://schema.org/"),s}async parseInnerContexts(s,l,u){for(const f of u??Object.keys(s)){const d=s[f];if(d&&typeof d=="object"&&"@context"in d&&d["@context"]!==null&&!l.ignoreScopedContexts){if(this.validateContext)try{const c=Object.assign(Object.assign({},s),{[f]:Object.assign({},s[f])});delete c[f]["@context"],await this.parse(d["@context"],Object.assign(Object.assign({},l),{external:!1,parentContext:c,ignoreProtection:!0,ignoreRemoteScopedContexts:!0,ignoreScopedContexts:!0}))}catch(c){throw new t.ErrorCoded(c.message,t.ERROR_CODES.INVALID_SCOPED_CONTEXT)}s[f]=Object.assign(Object.assign({},d),{"@context":(await this.parse(d["@context"],Object.assign(Object.assign({},l),{external:!1,minimalProcessing:!0,ignoreRemoteScopedContexts:!0,parentContext:s}))).getContextRaw()})}}return s}async parse(s,l={},u={}){const{baseIRI:f,parentContext:d,external:c,processingMode:p=As.DEFAULT_PROCESSING_MODE,normalizeLanguageTags:b,ignoreProtection:v,minimalProcessing:_}=l,y=l.remoteContexts||{};if(Object.keys(y).length>=this.remoteContextsDepthLimit)throw new t.ErrorCoded("Detected an overflow in remote context inclusions: "+Object.keys(y),t.ERROR_CODES.CONTEXT_OVERFLOW);if(s==null){if(!v&&d&&i.Util.hasProtectedTerms(d))throw new t.ErrorCoded("Illegal context nullification when terms are protected",t.ERROR_CODES.INVALID_CONTEXT_NULLIFICATION);return new n.JsonLdContextNormalized(this.applyBaseEntry({},l,!1))}else if(typeof s=="string"){const m=this.normalizeContextIri(s,f),g=this.getOverriddenLoad(m,l);if(g)return new n.JsonLdContextNormalized(g);const S=await this.parse(await this.load(m),Object.assign(Object.assign({},l),{baseIRI:m,external:!0,remoteContexts:Object.assign(Object.assign({},y),{[m]:!0})}));return this.applyBaseEntry(S.getContextRaw(),l,!0),S}else if(Array.isArray(s)){const m=[],g=await Promise.all(s.map((x,I)=>{if(typeof x=="string"){const N=this.normalizeContextIri(x,f);m[I]=N;const q=this.getOverriddenLoad(N,l);return q||this.load(N)}else return x}));if(_)return new n.JsonLdContextNormalized(g);const S=await g.reduce((x,I,N)=>x.then(q=>this.parse(I,Object.assign(Object.assign({},l),{baseIRI:m[N]||l.baseIRI,external:!!m[N]||l.external,parentContext:q.getContextRaw(),remoteContexts:m[N]?Object.assign(Object.assign({},y),{[m[N]]:!0}):y}),{skipValidation:N<g.length-1})),Promise.resolve(new n.JsonLdContextNormalized(d||{})));return this.applyBaseEntry(S.getContextRaw(),l,!0),S}else if(typeof s=="object"){if("@context"in s)return await this.parse(s["@context"],l);if(s=Object.assign({},s),c&&delete s["@base"],this.applyBaseEntry(s,l,!0),this.containersToHash(s),_)return new n.JsonLdContextNormalized(s);let m={};if("@import"in s)if(p>=1.1){if(typeof s["@import"]!="string")throw new t.ErrorCoded("An @import value must be a string, but got "+typeof s["@import"],t.ERROR_CODES.INVALID_IMPORT_VALUE);m=await this.loadImportContext(this.normalizeContextIri(s["@import"],f)),delete s["@import"]}else throw new t.ErrorCoded("Context importing is not supported in JSON-LD 1.0",t.ERROR_CODES.INVALID_CONTEXT_ENTRY);this.applyScopedProtected(m,{processingMode:p},n.defaultExpandOptions);const g=Object.assign(m,s);this.idifyReverseTerms(g),this.normalize(g,{processingMode:p,normalizeLanguageTags:b}),this.applyScopedProtected(g,{processingMode:p},n.defaultExpandOptions);const S=Object.keys(g),x=[];if(typeof d=="object")for(const N in d)N in g?x.push(N):g[N]=d[N];await this.parseInnerContexts(g,l,S);const I=new n.JsonLdContextNormalized(g);return(g&&g["@version"]||As.DEFAULT_PROCESSING_MODE)>=1.1&&(s["@vocab"]&&typeof s["@vocab"]=="string"||s["@vocab"]==="")&&(d&&"@vocab"in d&&s["@vocab"].indexOf(":")<0?g["@vocab"]=d["@vocab"]+s["@vocab"]:(i.Util.isCompactIri(s["@vocab"])||s["@vocab"]in g)&&(g["@vocab"]=I.expandTerm(s["@vocab"],!0))),this.expandPrefixedTerms(I,this.expandContentTypeToBase,S),!v&&d&&p>=1.1&&this.validateKeywordRedefinitions(d,g,n.defaultExpandOptions,x),this.validateContext&&!u.skipValidation&&this.validate(g,{processingMode:p}),I}else throw new t.ErrorCoded(`Tried parsing a context that is not a string, array or object, but got ${s}`,t.ERROR_CODES.INVALID_LOCAL_CONTEXT)}async load(s){const l=this.documentCache[s];if(l)return l;let u;try{u=await this.documentLoader.load(s)}catch(f){throw new t.ErrorCoded(`Failed to load remote context ${s}: ${f.message}`,t.ERROR_CODES.LOADING_REMOTE_CONTEXT_FAILED)}if(!("@context"in u))throw new t.ErrorCoded(`Missing @context in remote context at ${s}`,t.ERROR_CODES.INVALID_REMOTE_CONTEXT);return this.documentCache[s]=u["@context"]}getOverriddenLoad(s,l){if(s in(l.remoteContexts||{})){if(l.ignoreRemoteScopedContexts)return s;throw new t.ErrorCoded("Detected a cyclic context inclusion of "+s,t.ERROR_CODES.RECURSIVE_CONTEXT_INCLUSION)}return null}async loadImportContext(s){let l=await this.load(s);if(typeof l!="object"||Array.isArray(l))throw new t.ErrorCoded("An imported context must be a single object: "+s,t.ERROR_CODES.INVALID_REMOTE_CONTEXT);if("@import"in l)throw new t.ErrorCoded("An imported context can not import another context: "+s,t.ERROR_CODES.INVALID_CONTEXT_ENTRY);return l=Object.assign({},l),this.containersToHash(l),l}};return a.DEFAULT_PROCESSING_MODE=1.1,qh.ContextParser=a,qh}var KS={},IF;function aie(){return IF||(IF=1,Object.defineProperty(KS,"__esModule",{value:!0})),KS}var QS={},PF;function oie(){return PF||(PF=1,Object.defineProperty(QS,"__esModule",{value:!0})),QS}var OF;function sie(){return OF||(OF=1,function(e){var t=jh.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=jh.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(iie(),e),r(Eg(),e),r(q5(),e),r(aie(),e),r(oie(),e),r(B5(),e),r(Jx(),e)}(jh)),jh}var NF;function U5(){if(NF)return Fh;NF=1,Object.defineProperty(Fh,"__esModule",{value:!0}),Fh.DocumentLoaderMediated=void 0;const e=vg(),t=bg(),r=sie();let n=class $5 extends r.FetchDocumentLoader{constructor(a,o){super($5.createFetcher(a,o)),this.mediatorHttp=a,this.context=o}static createFetcher(a,o){return async(s,l)=>{const u=await a.mediate({input:s,init:l,context:o});return u.json=async()=>JSON.parse(await(0,t.stringify)(e.ActorHttp.toNodeReadable(u.body))),u}}};return Fh.DocumentLoaderMediated=n,Fh}var DF;function uie(){if(DF)return th;DF=1,Object.defineProperty(th,"__esModule",{value:!0}),th.ActorRdfParseJsonLd=void 0;const e=bl(),t=Qi(),r=hr(),n=nie(),i=U5();let a=class extends e.ActorRdfParseFixedMediaTypes{constructor(s){super(s)}async testHandle(s,l,u){return u.has(t.KeysRdfParseHtmlScript.processingHtmlScript)&&l!=="application/ld+json"?(0,r.failTest)("JSON-LD in script tags can only have media type 'application/ld+json'"):!l||!(l in this.mediaTypePriorities||l.endsWith("+json"))?(0,r.failTest)(`Unrecognized media type: ${l}`):await this.testHandleChecked(s)}async runHandle(s,l,u){var p;const f=s.context.getSafe(t.KeysInitQuery.dataFactory);return{data:n.JsonLdParser.fromHttpResponse(((p=s.metadata)==null?void 0:p.baseIRI)??"",l,s.headers,{dataFactory:f,documentLoader:u.get(t.KeysRdfParseJsonLd.documentLoader)??new i.DocumentLoaderMediated(this.mediatorHttp,u),strictValues:u.get(t.KeysRdfParseJsonLd.strictValues),...u.get(t.KeysRdfParseJsonLd.parserOptions)}).import(s.data)}}};return th.ActorRdfParseJsonLd=a,th}var CF;function lie(){return CF||(CF=1,function(e){var t=eh.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=eh.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(uie(),e),r(U5(),e)}(eh)),eh}var Uh={},Vh={},Hh={},zh={},LF;function fie(){if(LF)return zh;LF=1,Object.defineProperty(zh,"__esModule",{value:!0}),zh.ActorDereferenceRdf=void 0;const e=Hx();let t=class extends e.ActorDereferenceParse{constructor(n){super(n)}};return zh.ActorDereferenceRdf=t,zh}var MF;function cie(){return MF||(MF=1,function(e){var t=Hh.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=Hh.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(fie(),e)}(Hh)),Hh}var kF;function die(){if(kF)return Vh;kF=1,Object.defineProperty(Vh,"__esModule",{value:!0}),Vh.ActorDereferenceRdfParse=void 0;const e=cie();let t=class extends e.ActorDereferenceRdf{constructor(n){super(n)}async getMetadata(n){return{baseIRI:n.url}}};return Vh.ActorDereferenceRdfParse=t,Vh}var FF;function hie(){return FF||(FF=1,function(e){var t=Uh.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=Uh.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(die(),e)}(Uh)),Uh}var Gh={},Wh={},Kh={},jF;function pie(){if(jF)return Kh;jF=1,Object.defineProperty(Kh,"__esModule",{value:!0}),Kh.HtmlScriptListener=void 0;const e=Qi(),t=Ki(),r=Ii();let n=class _p{constructor(a,o,s,l,u,f,d,c){this.textChunksJsonLd=[],this.endBarrier=1,this.passedScripts=0,this.isFinalJsonLdProcessing=!1,this.mediatorRdfParseHandle=a,this.cbQuad=o,this.cbError=s,this.cbEnd=l,this.supportedTypes=u,this.context=f.set(e.KeysRdfParseHtmlScript.processingHtmlScript,!0),this.baseIRI=d,this.headers=c,this.onlyFirstScript=f.get(e.KeysRdfParseHtmlScript.extractAllScripts)===!1;const p=this.baseIRI.indexOf("#");this.targetScriptId=p>0?this.baseIRI.slice(p+1,this.baseIRI.length):null}static newErrorCoded(a,o){const s=new Error(a);return s.code=o,s}onEnd(){--this.endBarrier===0&&(this.textChunksJsonLd.length>0?(this.handleMediaType="application/ld+json",this.textChunks=this.textChunksJsonLd,this.textChunks.push("]"),this.textChunksJsonLd=[],this.isFinalJsonLdProcessing=!0,this.endBarrier++,this.onTagClose()):(this.passedScripts===0&&this.targetScriptId&&this.cbError(_p.newErrorCoded(`Failed to find targeted script id "${this.targetScriptId}"`,"loading document failed")),this.cbEnd()),this.isFinalJsonLdProcessing=!1)}onTagClose(){if(this.handleMediaType)if(this.requiresCustomJsonLdHandling(this.handleMediaType)&&!this.isFinalJsonLdProcessing)this.handleMediaType=void 0,this.textChunks=void 0,this.onEnd();else{const a=new t.Readable({objectMode:!0});a._read=()=>{};const o=this.textChunks,s={context:this.context,handle:{metadata:{baseIRI:this.baseIRI},data:a,headers:this.headers,context:this.context},handleMediaType:this.handleMediaType};this.mediatorRdfParseHandle.mediate(s).then(({handle:l})=>{l.data.on("error",u=>this.cbError(_p.newErrorCoded(u.message,"invalid script element"))).on("data",this.cbQuad).on("end",()=>this.onEnd());for(const u of o)a.push(u);a.push(null)}).catch(l=>{this.targetScriptId?this.cbError(_p.newErrorCoded(l.message,"loading document failed")):this.onEnd()}),this.handleMediaType=void 0,this.textChunks=void 0}}onTagOpen(a,o){a==="base"&&o.href&&(this.baseIRI=(0,r.resolve)(o.href,this.baseIRI)),a==="script"&&(!this.targetScriptId||o.id===this.targetScriptId)?this.supportedTypes[o.type]?this.onlyFirstScript&&this.passedScripts>0?this.handleMediaType=void 0:(this.passedScripts++,this.handleMediaType=o.type,this.endBarrier++,this.requiresCustomJsonLdHandling(this.handleMediaType)?(this.textChunks=this.textChunksJsonLd,this.textChunks.push(this.textChunks.length===0?"[":",")):this.textChunks=[]):this.targetScriptId&&this.cbError(_p.newErrorCoded(`Targeted script "${this.targetScriptId}" does not have a supported type`,"loading document failed")):this.handleMediaType=void 0}onText(a){this.handleMediaType&&this.textChunks.push(a)}requiresCustomJsonLdHandling(a){return!this.onlyFirstScript&&!this.targetScriptId&&a==="application/ld+json"}};return Kh.HtmlScriptListener=n,Kh}var qF;function mie(){if(qF)return Wh;qF=1,Object.defineProperty(Wh,"__esModule",{value:!0}),Wh.ActorRdfParseHtmlScript=void 0;const e=Kx(),t=hr(),r=pie();let n=class extends e.ActorRdfParseHtml{constructor(a){super(a)}async test(a){return(0,t.passTestVoid)()}async run(a){const o=(await this.mediatorRdfParseMediatypes.mediate({context:a.context,mediaTypes:!0})).mediaTypes;return{htmlParseListener:new r.HtmlScriptListener(this.mediatorRdfParseHandle,a.emit,a.error,a.end,o,a.context,a.baseIRI,a.headers)}}};return Wh.ActorRdfParseHtmlScript=n,Wh}var BF;function yie(){return BF||(BF=1,function(e){var t=Gh.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=Gh.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(mie(),e)}(Gh)),Gh}var Qh={},Zh={},ws={},$F;function V5(){if($F)return ws;$F=1,Object.defineProperty(ws,"__esModule",{value:!0}),ws.ActorDereferenceHttpBase=ws.mediaTypesToAcceptString=void 0;const e=Hx(),t=vg(),r=hr(),n=bg(),i=Ii(),a=/^[^ ;]*/u;function o(l,u){const f="*/*;q=0.1",d=[],c=Object.entries(l).map(([b,v])=>({mediaType:b,priority:v})).sort((b,v)=>v.priority===b.priority?b.mediaType.localeCompare(v.mediaType):v.priority-b.priority);let p=c.length-1;for(const{mediaType:b,priority:v}of c){const _=b+(v===1?"":`;q=${v.toFixed(3).replace(/0*$/u,"")}`);if(p+_.length>u){for(;p+f.length>u;){const y=d.pop()??"";p-=y.length+1}d.push(f);break}d.push(_),p+=_.length}return d.length===0?"*/*":d.join(",")}ws.mediaTypesToAcceptString=o;let s=class extends e.ActorDereference{constructor(u){super(u)}async test({url:u}){return/^https?:/u.test(u)?(0,r.passTestVoid)():(0,r.failTest)(`Cannot retrieve ${u} because it is not an HTTP(S) URL.`)}async run(u){var y,m;let f=!0;const d=new Headers(u.headers);d.append("Accept",o(await((y=u.mediaTypes)==null?void 0:y.call(u))??{},this.getMaxAcceptHeaderLength()));let c;const p=Date.now();try{c=await this.mediatorHttp.mediate({context:u.context,init:{headers:d,method:u.method},input:u.url})}catch(g){return this.handleDereferenceErrors(u,g)}const b=(0,i.resolve)(c.url,u.url),v=Date.now()-p;if(c.status!==200){f=!1;const g=c.body?await(0,n.stringify)(t.ActorHttp.toNodeReadable(c.body)):"empty response";if(!u.acceptErrors){const S=new Error(`Could not retrieve ${u.url} (HTTP status ${c.status}):
${g}`);return this.handleDereferenceErrors(u,S,c.headers,v)}}const _=(m=a.exec(c.headers.get("content-type")??""))==null?void 0:m[0];return{url:b,data:f?t.ActorHttp.toNodeReadable(c.body):(0,e.emptyReadable)(),exists:f,requestTime:v,headers:c.headers,mediaType:_==="text/plain"?void 0:_}}};return ws.ActorDereferenceHttpBase=s,ws}var UF;function gie(){if(UF)return Zh;UF=1,Object.defineProperty(Zh,"__esModule",{value:!0}),Zh.ActorDereferenceHttp=void 0;const e=V5();class t extends e.ActorDereferenceHttpBase{getMaxAcceptHeaderLength(){return this.maxAcceptHeaderLengthBrowser}}return Zh.ActorDereferenceHttp=t,Zh}var VF;function _ie(){return VF||(VF=1,function(e){var t=Qh.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=Qh.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(gie(),e),r(V5(),e)}(Qh)),Qh}var Yh={},Xh={},HF;function bie(){if(HF)return Xh;HF=1,Object.defineProperty(Xh,"__esModule",{value:!0}),Xh.ActorHttpProxy=void 0;const e=vg(),t=Qi(),r=hr();let n=class extends e.ActorHttp{constructor(a){super(a)}async test(a){const o=a.context.get(t.KeysHttpProxy.httpProxyHandler);return o?await o.getProxy(a)?(0,r.passTest)({time:Number.POSITIVE_INFINITY}):(0,r.failTest)(`Actor ${this.name} could not determine a proxy for the given request.`):(0,r.failTest)(`Actor ${this.name} could not find a proxy handler in the context.`)}async run(a){const o=typeof a.input=="string"?a.input:a.input.url,s=a.context.get(t.KeysHttpProxy.httpProxyHandler),l=await this.mediatorHttp.mediate({...await s.getProxy(a),context:a.context.delete(t.KeysHttpProxy.httpProxyHandler)});return Object.defineProperty(l,"url",{configurable:!0,enumerable:!0,get:()=>l.headers.get("x-final-url")??o}),l}};return Xh.ActorHttpProxy=n,Xh}var Jh={},zF;function vie(){if(zF)return Jh;zF=1,Object.defineProperty(Jh,"__esModule",{value:!0}),Jh.ProxyHandlerStatic=void 0;let e=class{constructor(r){this.prefixUrl=r}async getProxy(r){return{init:r.init,input:this.modifyInput(r.input)}}modifyInput(r){return typeof r=="string"?this.prefixUrl+r:new Request(this.prefixUrl+r.url,r)}};return Jh.ProxyHandlerStatic=e,Jh}var GF;function wie(){return GF||(GF=1,function(e){var t=Yh.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=Yh.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(bie(),e),r(vie(),e)}(Yh)),Yh}var ZS,WF;function Sie(){return WF||(WF=1,ZS=function(e){const t=new(hr()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-dereference-rdf/^4.0.0/components/ActorDereferenceRdf.jsonld#ActorDereferenceRdf_default_bus"}),r=new(hr()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-dereference/^4.0.0/components/ActorDereference.jsonld#ActorDereference_default_bus"}),n=new(hr()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http/^4.0.0/components/ActorHttp.jsonld#ActorHttp_default_bus"}),i=new(hr()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-parse/^4.0.0/components/ActorRdfParse.jsonld#ActorRdfParse_default_bus"}),a=new(hr()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-parse-html/^4.0.0/components/ActorRdfParseHtml.jsonld#ActorRdfParseHtml_default_bus"}),o=new(yS()).MediatorRace({name:"urn:comunica:default:dereference-rdf/mediators#main",bus:t}),s=new(zte()).ActorDereferenceFallback({name:"urn:comunica:default:dereference/actors#fallback",bus:r,busFailMessage:"Dereferencing failed: none of the configured actors were able to handle ${action.url}"}),l=new(yS()).MediatorRace({name:"urn:comunica:default:dereference/mediators#main",bus:r}),u=new(bre()).ActorHttpFetch({agentOptions:{keepAlive:!0,maxSockets:5},name:"urn:comunica:default:http/actors#fetch",bus:n,busFailMessage:"HTTP request failed: none of the configured actors were able to handle ${action.input}"}),f=new(wre()).MediatorNumber({field:"time",type:"min",ignoreFailures:!0,name:"urn:comunica:default:http/mediators#main",bus:n}),d=new(Rre()).ActorRdfParseN3({mediaTypePriorities:{"application/n-quads":1,"application/n-triples":.8,"application/trig":.95,"text/n3":.35,"text/turtle":.6},mediaTypeFormats:{"application/n-quads":"http://www.w3.org/ns/formats/N-Quads","application/n-triples":"http://www.w3.org/ns/formats/N-Triples","application/trig":"http://www.w3.org/ns/formats/TriG","text/n3":"http://www.w3.org/ns/formats/N3","text/turtle":"http://www.w3.org/ns/formats/Turtle"},priorityScale:1,name:"urn:comunica:default:rdf-parse/actors#n3",bus:i,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),c=new(Bre()).ActorRdfParseRdfXml({mediaTypePriorities:{"application/rdf+xml":1},mediaTypeFormats:{"application/rdf+xml":"http://www.w3.org/ns/formats/RDF_XML"},priorityScale:.5,name:"urn:comunica:default:rdf-parse/actors#rdfxml",bus:i,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),p=new(sne()).ActorRdfParseXmlRdfa({mediaTypePriorities:{"application/xml":1,"image/svg+xml":1,"text/xml":1},mediaTypeFormats:{"application/xml":"http://www.w3.org/ns/formats/RDFa","image/svg+xml":"http://www.w3.org/ns/formats/RDFa","text/xml":"http://www.w3.org/ns/formats/RDFa"},priorityScale:.3,name:"urn:comunica:default:rdf-parse/actors#xmlrdfa",bus:i,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),b=new(dne()).ActorRdfParseShaclc({mediaTypePriorities:{"text/shaclc":1,"text/shaclc-ext":.5},mediaTypeFormats:{"text/shaclc":"http://www.w3.org/ns/formats/Shaclc","text/shaclc-ext":"http://www.w3.org/ns/formats/ShaclcExtended"},priorityScale:.1,name:"urn:comunica:default:rdf-parse/actors#shaclc",bus:i,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),v=new(yS()).MediatorRace({name:"urn:comunica:default:rdf-parse/mediators#parse",bus:i}),_=new(pne()).MediatorCombineUnion({field:"mediaTypes",name:"urn:comunica:default:rdf-parse/mediators#mediaType",bus:i}),y=new(gne()).ActorRdfParseHtml({busRdfParseHtml:a,mediaTypePriorities:{"application/xhtml+xml":.9,"text/html":1},mediaTypeFormats:{"application/xhtml+xml":"http://www.w3.org/ns/formats/HTML","text/html":"http://www.w3.org/ns/formats/HTML"},priorityScale:.2,name:"urn:comunica:default:rdf-parse/actors#html",bus:i,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),m=new(One()).ActorRdfParseHtmlMicrodata({name:"urn:comunica:default:rdf-parse-html/actors#microdata",bus:a,busFailMessage:"RDF HTML parsing failed: none of the configured parsers were able to parse RDF in HTML"}),g=new(Dne()).ActorRdfParseHtmlRdfa({name:"urn:comunica:default:rdf-parse-html/actors#rdfa",bus:a,busFailMessage:"RDF HTML parsing failed: none of the configured parsers were able to parse RDF in HTML"}),S=new(lie()).ActorRdfParseJsonLd({mediatorHttp:f,mediaTypePriorities:{"application/json":.15,"application/ld+json":1},mediaTypeFormats:{"application/json":"http://www.w3.org/ns/formats/JSON-LD","application/ld+json":"http://www.w3.org/ns/formats/JSON-LD"},priorityScale:.9,name:"urn:comunica:default:rdf-parse/actors#jsonld",bus:i,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),x=new(hie()).ActorDereferenceRdfParse({mediatorDereference:l,mediatorParse:v,mediatorParseMediatypes:_,mediaMappings:{htm:"text/html",html:"text/html",json:"application/json",jsonld:"application/ld+json",n3:"text/n3",nq:"application/n-quads",nquads:"application/n-quads",nt:"application/n-triples",ntriples:"application/n-triples",owl:"application/rdf+xml",rdf:"application/rdf+xml",rdfxml:"application/rdf+xml",shaclc:"text/shaclc",shaclce:"text/shaclc-ext",shc:"text/shaclc",shce:"text/shaclc-ext",svg:"image/svg+xml",svgz:"image/svg+xml",trig:"application/trig",ttl:"text/turtle",turtle:"text/turtle",xht:"application/xhtml+xml",xhtml:"application/xhtml+xml",xml:"application/xml"},name:"urn:comunica:default:dereference-rdf/actors#parse",bus:t,busFailMessage:"RDF dereferencing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),I=new(yie()).ActorRdfParseHtmlScript({mediatorRdfParseMediatypes:_,mediatorRdfParseHandle:v,name:"urn:comunica:default:rdf-parse-html/actors#script",bus:a,busFailMessage:"RDF HTML parsing failed: none of the configured parsers were able to parse RDF in HTML"}),N=new(_ie()).ActorDereferenceHttp({mediatorHttp:f,maxAcceptHeaderLength:1024,maxAcceptHeaderLengthBrowser:128,name:"urn:comunica:default:dereference/actors#http",bus:r,busFailMessage:"Dereferencing failed: none of the configured actors were able to handle ${action.url}",beforeActors:[s]}),q=new(wie()).ActorHttpProxy({mediatorHttp:f,name:"urn:comunica:default:http/actors#proxy",bus:n,busFailMessage:"HTTP request failed: none of the configured actors were able to handle ${action.input}",beforeActors:[u]});return new(eR()).RdfDereferencer({mediatorDereferenceRdf:o,actors:[N,s,x,q,u,d,S,c,p,y,b,m,g,I]})}),ZS}var KF;function eR(){return KF||(KF=1,function(e){var t=sc.__createBinding||(Object.create?function(a,o,s,l){l===void 0&&(l=s);var u=Object.getOwnPropertyDescriptor(o,s);(!u||("get"in u?!o.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(a,l,u)}:function(a,o,s,l){l===void 0&&(l=s),a[l]=o[s]}),r=sc.__exportStar||function(a,o){for(var s in a)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&t(o,a,s)};Object.defineProperty(e,"__esModule",{value:!0}),e.rdfDereferencer=void 0,r(Bte(),e),r(H$(),e);const n=Sie(),i=typeof n=="function"?n():void 0;e.rdfDereferencer=i}(sc)),sc}var H5=eR();let Ay;if(typeof window>"u"){let e;typeof require>"u"?bi(()=>Promise.resolve().then(()=>MB),void 0,import.meta.url).then(t=>e=t):e=require("fs"),Ay={getItem:t=>e.readFileSync(t,"utf8"),setItem:(t,r)=>{e.writeFileSync(t,r,"utf8")},removeItem:t=>{try{e.unlinkSync(t)}catch{}}}}else Ay={getItem:e=>{const t=localStorage.getItem(e);if(t)return t;throw"Key not found in local storage"},setItem:(e,t)=>{localStorage.setItem(e,t)},removeItem:e=>{localStorage.removeItem(e)}};class Eie{build(t,r,n,i){return new z5(n,i)}write(){}}class Tie{constructor(t){Qe(this,"location");Qe(this,"elements");Qe(this,"found");this.location=t,this.elements=[],this.found={};try{const r=Ay.getItem(t);this.found=JSON.parse(r)}catch{}}write(){const t={};for(const r of this.elements)t[r.name]=r.serialize(r.state.item);Ay.setItem(this.location,JSON.stringify(t))}build(t,r,n,i){const a=this.elements.find(l=>l.name==t);if(a)return a.state;const o=this.found[t],s=new z5(n,i,o);return this.elements.push({name:t,serialize:r,state:s}),s}}class z5{constructor(t,r,n){Qe(this,"item");const i=n?t(n):r();i?this.item=i:this.item=r()}}var pu={},mo={},Li={},QF;function tR(){if(QF)return Li;QF=1,Object.defineProperty(Li,"__esModule",{value:!0}),Li.RDFMap=Li.ShapeTemplate=Li.ShapeError=Li.NodeLink=void 0;class e{constructor(a,o){this.pathPattern=a,this.link=o}}Li.NodeLink=e;class t{constructor(a,o=[]){this.errors=[],this.type=a,this.errors=o}toString(){if(this.errors.length===1)return this.errors[0].toString();{const a=this.type=="and"?" && ":" || ";return"("+this.errors.map(o=>o.toString()).join(a)+")"}}}Li.ShapeError=t;class r{constructor(){this.requiredPaths=[],this.nodeLinks=[],this.atLeastOneLists=[],this.optionalPaths=[],this.closed=!1}fillPathsAndLinks(a,o){for(let s of this.atLeastOneLists)for(let l of s)a.push(...l.requiredPaths),a.push(...l.optionalPaths),o.push(...l.nodeLinks),l.fillPathsAndLinks(a,o)}invalidAtLeastOneLists(a){const o=new t("and");for(let s of this.atLeastOneLists){const l=new t("or");let u=!1;for(let f of s){const d=f.requiredAreNotPresent(a);if(d)l.errors.push(d);else{u=!0;break}}u||o.errors.push(l)}if(o.errors.length>0)return o}requiredPathsAreNotPresent(a){const o=this.requiredPaths.filter(s=>!s.found(a));if(o.length>0)return new t("and",o)}requiredAreNotPresent(a){const o=this.requiredPathsAreNotPresent(a),s=this.invalidAtLeastOneLists(a);if(o&&s)return new t("and",[...o.errors,...s.errors]);if(o)return o;if(s)return s}}Li.ShapeTemplate=r;class n{constructor(){this.namedNodes=new Map,this.blankNodes=new Map}set(a,o){a.termType==="NamedNode"&&this.namedNodes.set(a.value,o),a.termType==="BlankNode"&&this.blankNodes.set(a.value,o)}get(a){if(a.termType==="NamedNode")return this.namedNodes.get(a.value);if(a.termType==="BlankNode")return this.blankNodes.get(a.value)}}return Li.RDFMap=n,Li}var ep={},tp={},ZF;function G5(){if(ZF)return tp;ZF=1,Object.defineProperty(tp,"__esModule",{value:!0}),tp.BlankNode=void 0;let e=class{constructor(r){this.termType="BlankNode",this.value=r}equals(r){return!!r&&r.termType==="BlankNode"&&r.value===this.value}};return tp.BlankNode=e,tp}var rp={},np={},YF;function W5(){if(YF)return np;YF=1,Object.defineProperty(np,"__esModule",{value:!0}),np.DefaultGraph=void 0;let e=class{constructor(){this.termType="DefaultGraph",this.value=""}equals(r){return!!r&&r.termType==="DefaultGraph"}};return np.DefaultGraph=e,e.INSTANCE=new e,np}var ip={},ap={},XF;function rR(){if(XF)return ap;XF=1,Object.defineProperty(ap,"__esModule",{value:!0}),ap.NamedNode=void 0;let e=class{constructor(r){this.termType="NamedNode",this.value=r}equals(r){return!!r&&r.termType==="NamedNode"&&r.value===this.value}};return ap.NamedNode=e,ap}var JF;function K5(){if(JF)return ip;JF=1,Object.defineProperty(ip,"__esModule",{value:!0}),ip.Literal=void 0;const e=rR();let t=class BE{constructor(n,i){this.termType="Literal",this.value=n,typeof i=="string"?(this.language=i,this.datatype=BE.RDF_LANGUAGE_STRING):i?(this.language="",this.datatype=i):(this.language="",this.datatype=BE.XSD_STRING)}equals(n){return!!n&&n.termType==="Literal"&&n.value===this.value&&n.language===this.language&&this.datatype.equals(n.datatype)}};return ip.Literal=t,t.RDF_LANGUAGE_STRING=new e.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.XSD_STRING=new e.NamedNode("http://www.w3.org/2001/XMLSchema#string"),ip}var op={},e6;function Q5(){if(e6)return op;e6=1,Object.defineProperty(op,"__esModule",{value:!0}),op.Quad=void 0;let e=class{constructor(r,n,i,a){this.termType="Quad",this.value="",this.subject=r,this.predicate=n,this.object=i,this.graph=a}equals(r){return!!r&&(r.termType==="Quad"||!r.termType)&&this.subject.equals(r.subject)&&this.predicate.equals(r.predicate)&&this.object.equals(r.object)&&this.graph.equals(r.graph)}};return op.Quad=e,op}var sp={},t6;function Z5(){if(t6)return sp;t6=1,Object.defineProperty(sp,"__esModule",{value:!0}),sp.Variable=void 0;let e=class{constructor(r){this.termType="Variable",this.value=r}equals(r){return!!r&&r.termType==="Variable"&&r.value===this.value}};return sp.Variable=e,sp}var r6;function xie(){if(r6)return rp;r6=1,Object.defineProperty(rp,"__esModule",{value:!0}),rp.DataFactory=void 0;const e=G5(),t=W5(),r=K5(),n=rR(),i=Q5(),a=Z5();let o=0,s=class{constructor(u){this.blankNodeCounter=0,u=u||{},this.blankNodePrefix=u.blankNodePrefix||`df_${o++}_`}namedNode(u){return new n.NamedNode(u)}blankNode(u){return new e.BlankNode(u||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(u,f){return new r.Literal(u,f)}variable(u){return new a.Variable(u)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(u,f,d,c){return new i.Quad(u,f,d,c||this.defaultGraph())}fromTerm(u){switch(u.termType){case"NamedNode":return this.namedNode(u.value);case"BlankNode":return this.blankNode(u.value);case"Literal":return u.language?this.literal(u.value,u.language):u.datatype.equals(r.Literal.XSD_STRING)?this.literal(u.value):this.literal(u.value,this.fromTerm(u.datatype));case"Variable":return this.variable(u.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(u.subject),this.fromTerm(u.predicate),this.fromTerm(u.object),this.fromTerm(u.graph))}}fromQuad(u){return this.fromTerm(u)}resetBlankNodeCounter(){this.blankNodeCounter=0}};return rp.DataFactory=s,rp}var n6;function Y5(){return n6||(n6=1,function(e){var t=ep.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=ep.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(G5(),e),r(xie(),e),r(W5(),e),r(K5(),e),r(rR(),e),r(Q5(),e),r(Z5(),e)}(ep)),ep}var Ym={exports:{}},YS,i6;function Rie(){if(i6)return YS;i6=1;function e(t){n.debug=n,n.default=n,n.coerce=u,n.disable=s,n.enable=a,n.enabled=l,n.humanize=bB(),n.destroy=f,Object.keys(t).forEach(d=>{n[d]=t[d]}),n.names=[],n.skips=[],n.formatters={};function r(d){let c=0;for(let p=0;p<d.length;p++)c=(c<<5)-c+d.charCodeAt(p),c|=0;return n.colors[Math.abs(c)%n.colors.length]}n.selectColor=r;function n(d){let c,p=null,b,v;function _(...y){if(!_.enabled)return;const m=_,g=Number(new Date),S=g-(c||g);m.diff=S,m.prev=c,m.curr=g,c=g,y[0]=n.coerce(y[0]),typeof y[0]!="string"&&y.unshift("%O");let x=0;y[0]=y[0].replace(/%([a-zA-Z%])/g,(N,q)=>{if(N==="%%")return"%";x++;const D=n.formatters[q];if(typeof D=="function"){const M=y[x];N=D.call(m,M),y.splice(x,1),x--}return N}),n.formatArgs.call(m,y),(m.log||n.log).apply(m,y)}return _.namespace=d,_.useColors=n.useColors(),_.color=n.selectColor(d),_.extend=i,_.destroy=n.destroy,Object.defineProperty(_,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(b!==n.namespaces&&(b=n.namespaces,v=n.enabled(d)),v),set:y=>{p=y}}),typeof n.init=="function"&&n.init(_),_}function i(d,c){const p=n(this.namespace+(typeof c>"u"?":":c)+d);return p.log=this.log,p}function a(d){n.save(d),n.namespaces=d,n.names=[],n.skips=[];const c=(typeof d=="string"?d:"").trim().replace(" ",",").split(",").filter(Boolean);for(const p of c)p[0]==="-"?n.skips.push(p.slice(1)):n.names.push(p)}function o(d,c){let p=0,b=0,v=-1,_=0;for(;p<d.length;)if(b<c.length&&(c[b]===d[p]||c[b]==="*"))c[b]==="*"?(v=b,_=p,b++):(p++,b++);else if(v!==-1)b=v+1,_++,p=_;else return!1;for(;b<c.length&&c[b]==="*";)b++;return b===c.length}function s(){const d=[...n.names,...n.skips.map(c=>"-"+c)].join(",");return n.enable(""),d}function l(d){for(const c of n.skips)if(o(d,c))return!1;for(const c of n.names)if(o(d,c))return!0;return!1}function u(d){return d instanceof Error?d.stack||d.message:d}function f(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}return YS=e,YS}var a6;function Aie(){return a6||(a6=1,function(e,t){var r={};t.formatArgs=i,t.save=a,t.load=o,t.useColors=n,t.storage=s(),t.destroy=(()=>{let u=!1;return()=>{u||(u=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let u;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(u=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(u[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(u){if(u[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+u[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const f="color: "+this.color;u.splice(1,0,f,"color: inherit");let d=0,c=0;u[0].replace(/%[a-zA-Z%]/g,p=>{p!=="%%"&&(d++,p==="%c"&&(c=d))}),u.splice(c,0,f)}t.log=console.debug||console.log||(()=>{});function a(u){try{u?t.storage.setItem("debug",u):t.storage.removeItem("debug")}catch{}}function o(){let u;try{u=t.storage.getItem("debug")}catch{}return!u&&typeof ze<"u"&&"env"in ze&&(u=r.DEBUG),u}function s(){try{return localStorage}catch{}}e.exports=Rie()(t);const{formatters:l}=e.exports;l.j=function(u){try{return JSON.stringify(u)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}}}(Ym,Ym.exports)),Ym.exports}var up={},Qr={},o6;function X5(){if(o6)return Qr;o6=1,Object.defineProperty(Qr,"__esModule",{value:!0}),Qr.ZeroOrOnePath=Qr.ZeroOrMorePath=Qr.OneOrMorePath=Qr.MultiPath=Qr.InversePath=Qr.AlternativePath=Qr.SequencePath=Qr.PredicatePath=void 0;class e{constructor(u){this.predicate=u}toString(){return`<${this.predicate.value}>`}found(u,f=!1){return u.enter(this.predicate,f)}match(u,f,d,c,p=!1){let b=(p?u.getQuads(null,this.predicate,d,null):u.getQuads(d,this.predicate,null,null)).filter(v=>!c.includes(v.graph.value));if(b.length>0){let v=f.push(this.predicate,p);return b.map(_=>{const y=p?_.subject:_.object;return{path:[_],target:y,cbdExtracted:v}})}else return[]}}Qr.PredicatePath=e;class t{constructor(u){this.sequence=u}found(u,f){let d=u;for(const c of this.sequence)d&&(d=c.found(d,f));return d}toString(){return this.sequence.map(u=>u.toString()).join("/")}match(u,f,d,c,p=!1){let b=[{path:[],target:d,cbdExtracted:f}];for(const v of this.sequence)b=b.flatMap(_=>v.match(u,_.cbdExtracted,_.target,c,p).map(m=>({path:[..._.path,...m.path],cbdExtracted:m.cbdExtracted,target:m.target})));return b}}Qr.SequencePath=t;class r{constructor(u){this.alternatives=u}found(u,f){for(const d of this.alternatives){const c=d.found(u,f);if(c)return c}}toString(){return this.alternatives.map(u=>u.toString()).join("|")}match(u,f,d,c,p=!1){return this.alternatives.flatMap(b=>b.match(u,f,d,c,p))}}Qr.AlternativePath=r;class n{constructor(u){this.path=u}found(u,f){return this.path.found(u,!f)}toString(){return"^"+this.path.toString()}match(u,f,d,c,p=!1){return this.path.match(u,f,d,c,!p)}}Qr.InversePath=n;class i{constructor(u,f){this.path=u,this.maxCount=f}match(u,f,d,c,p=!1){const b=[];let v=[{path:[],target:d,cbdExtracted:f}];for(let _=0;!(this.maxCount&&_>this.maxCount||v.length===0);_++){const y=[];for(const m of v){this.filter(_,m)&&b.push(m);for(const g of this.path.match(u,m.cbdExtracted,m.target,c,p))y.push({path:[...m.path,...g.path],cbdExtracted:m.cbdExtracted,target:g.target})}v=y}return b}}Qr.MultiPath=i;class a extends i{constructor(u){super(u)}filter(u,f){return u>=1}toString(){return this.path.toString()+"+"}found(u,f){let d=this.path.found(u,f);if(!d)return;let c=this.path.found(d,f);for(;c;)d=c,c=this.path.found(d,f);return d}}Qr.OneOrMorePath=a;class o extends i{constructor(u){super(u)}filter(u,f){return!0}toString(){return this.path.toString()+"*"}found(u,f){let d=this.path.found(u,f);for(;d;)u=d,d=this.path.found(u,f);return u}}Qr.ZeroOrMorePath=o;class s extends i{constructor(u){super(u,1)}filter(u,f){return u<2}toString(){return this.path.toString()+"?"}found(u,f){return this.path.found(u,f)||u}}return Qr.ZeroOrOnePath=s,Qr}var s6;function Iie(){if(s6)return up;s6=1,Object.defineProperty(up,"__esModule",{value:!0}),up.ShapesGraph=void 0;const e=X5(),t=x4(),r=tR(),n=Y5(),i=new n.DataFactory,a=(0,t.createTermNamespace)("http://www.w3.org/ns/shacl#","zeroOrMorePath","zeroOrOnePath","oneOrMorePath","inversePath","alternativePath","deactivated","minCount","path","node","closed","property","and","xone","or","NodeShape");let o=class{constructor(f){this.shapes=this.initializeFromStore(f),this.counter=0}toMermaid(f){const d=this.shapes.get(f);if(this.counter=0,!d)throw new Error(`No shape found for term "${f.value}"`);let c=`flowchart LR
`;return c+=this.toMermaidSingleShape(d,"1",d.label||"Shape"),c}toMermaidSingleShape(f,d,c){let p=`  S${d}((${c}))
`,b=[];return f.nodeLinks.forEach(v=>{let _=v.pathPattern.toString();const y=this.isPathRequired(_,f.requiredPaths);b.push(_),_=this.cleanPath(_);const m=this.shapes.get(v.link);if(!m)throw new Error(`The linked shape "${v.link}" is not found`);const g=`${d}_${this.counter}`;let S="-->";y||(S="-.->"),_.startsWith("^")?(_=_.substring(1),p+=`  S${g}[ ]${S}|"${_}"|S${d}
`):p+=`  S${d}${S}|"${_}"|S${g}[ ]
`,this.counter++;const x=this.toMermaidSingleShape(m,g,m.label||"Shape");p+=x}),f.atLeastOneLists.forEach(v=>{if(v.length>0){const _=`${d}_${this.counter}`;p+=`  S${d}---X${_}{OR}
`,v.forEach(y=>{const m=`${d}_${this.counter}`;this.counter++,p+=`  X${_}---S${m}
`;const g=this.toMermaidSingleShape(y,m,y.label||"Shape");p+=g})}}),p+=this.simplePathToMermaid(f.requiredPaths,b,d,"-->"),p+=this.simplePathToMermaid(f.optionalPaths,b,d,"-.->"),p}cleanPath(f){return f=f.replace(/</g,""),f.replace(/>/g,"")}isPathRequired(f,d){for(const c of d)if(f===c.toString())return!0;return!1}simplePathToMermaid(f,d,c,p){let b="";return f.forEach(v=>{let _=v.toString();d.includes(_)||(d.push(_),_=this.cleanPath(_),this.isRealInversePath(_)?(_=this.getRealPath(_),b+=`  S${c}_${this.counter}[ ]${p}|"${_}"|S${c}
`):(_=this.getRealPath(_),b+=`  S${c}${p}|"${_}"|S${c}_${this.counter}[ ]
`),this.counter++)}),b}isRealInversePath(f){const d=f.match(/^(\^+)[^\^]+/);return d?d[1].length%2!==0:!1}getRealPath(f){const d=f.match(/^\^*([^\^]+)/);if(!d)throw new Error(`No real path found in "${f}"`);return d[1]}constructPathPattern(f,d){if(d.termType==="BlankNode"){let c=l(f,d,a.zeroOrMorePath,null),p=l(f,d,a.oneOrMorePath,null),b=l(f,d,a.zeroOrOnePath,null),v=l(f,d,a.inversePath,null),_=l(f,d,a.alternativePath,null);if(c[0])return new e.ZeroOrMorePath(this.constructPathPattern(f,c[0]));if(p[0])return new e.OneOrMorePath(this.constructPathPattern(f,p[0]));if(b[0])return new e.ZeroOrOnePath(this.constructPathPattern(f,b[0]));if(v[0])return new e.InversePath(this.constructPathPattern(f,v[0]));if(_[0]){let y=this.rdfListToArray(f,_[0]).map(m=>this.constructPathPattern(f,m));return new e.AlternativePath(y)}else{const y=this.rdfListToArray(f,d);return new e.SequencePath(y.map(m=>this.constructPathPattern(f,m)))}}return new e.PredicatePath(d)}preprocessPropertyShape(f,d,c,p){let b=l(f,d,a.deactivated,null);if(b.length>0&&b[0].value==="true")return!0;let v=l(f,d,a.path,null)[0];if(!v)return!1;let _=this.constructPathPattern(f,v),y=l(f,d,a.minCount,null);y[0]&&y[0].value!=="0"||p?c.requiredPaths.push(_):c.optionalPaths.push(_);let m=l(f,d,a.node,null);return m[0]&&c.nodeLinks.push(new r.NodeLink(_,m[0])),!0}preprocessShape(f,d,c){return this.preprocessPropertyShape(f,d,c)?!0:this.preprocessNodeShape(f,d,c)}preprocessNodeShape(f,d,c){const p=l(f,d,t.RDFS.terms.label)[0];p?c.label=p.value:c.label=d.termType==="BlankNode"?d.value:d.value.split("/")[d.value.split("/").length-1];let b=l(f,d,a.closed,null)[0];b&&b.value==="true"&&(c.closed=!0);let v=l(f,d,a.property,null);for(let _ of v)this.preprocessPropertyShape(f,_,c);for(let _ of l(f,d,a.and,null))for(let y of this.rdfListToArray(f,_))this.preprocessShape(f,y,c);for(let _ of l(f,d,a.xone,null).concat(l(f,d,a.or,null))){let y=this.rdfListToArray(f,_).map(m=>{let g=new r.ShapeTemplate;return this.preprocessShape(f,m,g),g});c.atLeastOneLists.push(y)}}initializeFromStore(f){const d=[].concat(s(f,a.property,null,null)).concat(s(f,t.RDF.terms.type,a.NodeShape,null)).concat(l(f,null,a.node,null)).filter((p,b,v)=>v.findIndex(_=>_.equals(p))===b);let c=new r.RDFMap;for(let p of d){let b=new r.ShapeTemplate,v=l(f,p,a.deactivated,null);v.length>0&&v[0].value==="true"||(this.preprocessNodeShape(f,p,b),c.set(p,b))}return c}*rdfListToGenerator(f,d){if(l(f,d,i.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"),null)[0]){yield l(f,d,i.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"),null)[0];let c=l(f,d,i.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"),null)[0];for(;c&&c.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#nil";)yield l(f,c,i.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"),null)[0],c=l(f,c,i.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"),null)[0]}else yield d}rdfListToArray(f,d){return Array.from(this.rdfListToGenerator(f,d))}};up.ShapesGraph=o;const s=function(u,f,d,c){return u.getQuads(null,f,d,c).map(p=>p.subject)},l=function(u,f,d,c){return u.getQuads(f,d,null,c).map(p=>p.object)};return up}var u6;function Pie(){if(u6)return mo;u6=1;var e=mo.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(mo,"__esModule",{value:!0}),mo.CbdExtracted=mo.CBDShapeExtractor=void 0;const t=eR(),r=tR(),n=Y5(),i=rB(),a=e(Aie()),o=Iie(),s=(0,a.default)("extract-cbd-shape"),l=new n.DataFactory;let u=class{constructor(p,b,v={}){this.options=Object.assign({cbdDefaultGraph:!1},v),b?this.dereferencer=b:this.dereferencer=t.rdfDereferencer,p&&(this.shapesGraph=new o.ShapesGraph(p))}async bulkExtract(p,b,v,_,y){const m=[],g=new Set(b.map(N=>N.value)),S={};for(let N of b)S[N.value]=[];const x=i.RdfStore.createDefault();for(let N of p.readQuads(null,null,null,null))N.graph.termType=="NamedNode"&&g.has(N.graph.value)?S[N.graph.value].push(N):x.addQuad(N);const I=[];for(let N of b){const q=this.extract(x,N,v,(_||[]).slice()).then(D=>{D.push(...S[N.value]),y&&y({subject:N,quads:D}),m.push({subject:N,quads:D})});I.push(q)}return await Promise.all(I),m}async extract(p,b,v,_){let y=(_||[]).map(g=>g.value);return await new d(p,this.dereferencer,y,this.options,this.shapesGraph).extract(b,!1,v)}};mo.CBDShapeExtractor=u;class f{constructor(p,b=new r.RDFMap){p?this.topology=p:this.topology={forwards:{},backwards:{}},this.cbdExtractedMap=b}addCBDTerm(p){const b=this.cbdExtractedMap.get(p);b?b.cbd=!0:this.cbdExtractedMap.set(p,{cbd:!0,shape:!1})}addShapeTerm(p){const b=this.cbdExtractedMap.get(p);b?b.shape=!0:this.cbdExtractedMap.set(p,{cbd:!0,shape:!1})}cbdExtracted(p){var b;return!!((b=this.cbdExtractedMap.get(p))!=null&&b.shape)}push(p,b){if(b){if(!this.topology.backwards[p.value]){const v={forwards:{},backwards:{}};v.forwards[p.value]=this.topology,this.topology.backwards[p.value]=v}return new f(this.topology.backwards[p.value],this.cbdExtractedMap)}else{if(!this.topology.forwards[p.value]){const v={forwards:{},backwards:{}};v.backwards[p.value]=this.topology,this.topology.forwards[p.value]=v}return new f(this.topology.forwards[p.value],this.cbdExtractedMap)}}enter(p,b){const v=b?this.topology.backwards[p.value]:this.topology.forwards[p.value];if(v)return new f(v,this.cbdExtractedMap)}}mo.CbdExtracted=f;class d{constructor(p,b,v,_,y){this.dereferenced=new Set,this.store=p,this.dereferencer=b,this.shapesGraph=y,this.graphsToIgnore=v,this.options=_}async extract(p,b,v){const _=await this.maybeExtractRecursively(p,new f,b,v);return _.push(...this.store.getQuads(null,null,null,p)),_.length===0&&await this.dereference(p.value)?(await this.maybeExtractRecursively(p,new f,b,v)).filter((m,g,S)=>g===S.findIndex(x=>x.equals(m))):_.filter((y,m,g)=>m===g.findIndex(S=>S.equals(y)))}async dereference(p){return this.dereferenced.has(p)?(s("Will not dereference "+p+" again"),!1):(this.dereferenced.add(p),await this.loadQuadStreamInStore((await this.dereferencer.dereference(p,{fetch:this.options.fetch})).data),!0)}async maybeExtractRecursively(p,b,v,_){return b.cbdExtracted(p)?[]:(b.addShapeTerm(p),this.extractRecursively(p,b,v,_))}async extractRecursively(p,b,v,_){const y=[];let m;if(_ instanceof r.ShapeTemplate?m=_:_&&this.shapesGraph&&(m=this.shapesGraph.shapes.get(_)),m!=null&&m.closed||this.CBD(p,y,b,this.graphsToIgnore),m){let g=[],S=[];m.fillPathsAndLinks(g,S);for(let x of m.requiredPaths.concat(m.optionalPaths,g))if(!x.found(b)||m.closed){let I=x.match(this.store,b,p,this.graphsToIgnore).flatMap(N=>N.path);y.push(...I)}for(let x of m.nodeLinks.concat(S)){let I=x.pathPattern.match(this.store,b,p,this.graphsToIgnore);for(let N of I)y.push(...await this.maybeExtractRecursively(N.target,N.cbdExtracted,v,x.link))}}if(!v&&p.termType==="NamedNode"&&m){const g=m.requiredAreNotPresent(b);if(g){if(await this.dereference(p.value))return this.extractRecursively(p,b,v,_);s(`${p.value} does not adhere to the shape (${g.toString()})`)}}return y}async CBD(p,b,v,_){v.addCBDTerm(p);const y=this.options.cbdDefaultGraph?l.defaultGraph():null,m=this.store.getQuads(p,null,null,y);for(const g of m){if(_!=null&&_.includes(g.graph.value))continue;b.push(g);const S=v.push(g.predicate,!1);g.object.termType==="BlankNode"&&!v.cbdExtracted(g.object)&&await this.CBD(g.object,b,S,_)}}loadQuadStreamInStore(p){return new Promise((b,v)=>{this.store.import(p).on("end",b).on("error",v)})}}return mo}var l6;function Oie(){return l6||(l6=1,function(e){var t=pu.__createBinding||(Object.create?function(s,l,u,f){f===void 0&&(f=u);var d=Object.getOwnPropertyDescriptor(l,u);(!d||("get"in d?!l.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return l[u]}}),Object.defineProperty(s,f,d)}:function(s,l,u,f){f===void 0&&(f=u),s[f]=l[u]}),r=pu.__setModuleDefault||(Object.create?function(s,l){Object.defineProperty(s,"default",{enumerable:!0,value:l})}:function(s,l){s.default=l}),n=pu.__importStar||function(s){if(s&&s.__esModule)return s;var l={};if(s!=null)for(var u in s)u!=="default"&&Object.prototype.hasOwnProperty.call(s,u)&&t(l,s,u);return r(l,s),l};Object.defineProperty(e,"__esModule",{value:!0}),e.shape=e.path=e.CBDShapeExtractor=void 0;const i=Pie();Object.defineProperty(e,"CBDShapeExtractor",{enumerable:!0,get:function(){return i.CBDShapeExtractor}});const a=n(tR());e.shape=a;const o=n(X5());e.path=o}(pu)),pu}var Nie=Oie();function Die(e,t,r,n,i){const a=ii("extractRelations"),o=r?Vr(e,null,mt.TREE.terms.relation,null):Vr(e,t,mt.TREE.terms.relation,null),s=t.value,l=new Map;for(const f of o){const d=Vr(e,f,mt.TREE.terms.node,null)[0],c=Vr(e,f,mt.RDF.terms.type,null)[0]||mt.TREE.Relation,p=Vr(e,f,mt.TREE.terms.path,null)[0],b=Vr(e,f,mt.TREE.terms.value,null),v={type:c,path:p,value:b,id:f},_=l.get(d.value);if(_)_.relation.relations.push(v),_.cond.addRelation(f);else{const y=new Dee(e,i);y.addRelation(f),l.set(d.value,{cond:y,relation:{node:d.value,source:s,relations:[v]}})}}const u=[];for(const f of l.values())f.cond.allowed(n)&&u.push(f.relation);return a.debug(`allowed ${JSON.stringify(u.map(f=>f.node))}`),u}const{namedNode:Cie}=new UT.DataFactory;function Lie(){const e={};return e.waiting=new Promise(t=>e.callback=t),e}function f6(e){const t=e.callback;e.waiting=new Promise(r=>e.callback=r),t()}class Mie{constructor(t,r,n,i,a,o){Qe(this,"dereferencer");Qe(this,"loose");Qe(this,"fetch_f");Qe(this,"condition");Qe(this,"defaultTimezone");Qe(this,"includeMetadata");Qe(this,"closed",!1);Qe(this,"logger",ii(this));this.dereferencer=t,this.loose=r,this.fetch_f=o,this.condition=n,this.defaultTimezone=i,this.includeMetadata=a}close(){this.closed=!0}async fetch(t,r,n){try{const i={localFiles:!0,fetch:this.fetch_f};this.includeMetadata&&(i.headers={Accept:"application/metadata+trig"});const a=await this.dereferencer.dereference(t.target,i);t.target=a.url;const o={};if(a.headers){const u=a.headers.get("cache-control");if(u){const f=u.split(",").map(d=>d.split("=",2).map(c=>c.trim()));for(const d of f)d[0]=="max-age"&&(o.maxAge=parseInt(d[1])),d[0]=="immutable"&&(o.immutable=!0)}}o.immutable||this.closed||n.scheduleFetch(t,r),this.logger.debug(`[fetch] Cache for ${t.target} ${JSON.stringify(o)}`);const s=ju.RdfStore.createDefault();let l=0;await new Promise((u,f)=>{a.data.on("data",d=>{s.addQuad(d),l++}).on("end",u).on("error",f)}),this.logger.debug(`[fetch] Got data ${t.target} (${l} quads)`);for(const u of Die(s,Cie(a.url),this.loose,this.condition,this.defaultTimezone))t.expected.some(f=>f==u.node)||this.closed||n.relationFound({from:t,target:u},r);this.closed||n.pageFetched({data:s,url:a.url},r)}catch(i){this.logger.error(`[fetch] Fetch failed ${JSON.stringify(i)}`),n.error(i,r)}}}const{namedNode:lp}=Ei;class kie{constructor(t,r,n){Qe(this,"queued",0);Qe(this,"closed",!1);Qe(this,"resolve");Qe(this,"ldesId");Qe(this,"state");Qe(this,"extractor");Qe(this,"shapeId");Qe(this,"timestampPath");Qe(this,"isVersionOfPath");Qe(this,"logger",ii(this));this.ldesId=t,this.state=r,this.extractor=n.extractor,this.timestampPath=n.timestampPath,this.isVersionOfPath=n.isVersionOfPath,this.shapeId=n.shape,this.logger.debug(`new ${t.value} ${JSON.stringify({extractor:n.extractor.constructor.name,shape:n.shape,timestampPath:n.timestampPath,isVersionOfPath:n.isVersionOfPath})}`)}extractMembers(t,r,n){var f;const i=Vr(t.data,this.ldesId,mt.TREE.terms.member,null),a=(f=Vr(t.data,lp(t.url),mt.DC.terms.custom("created"),null)[0])==null?void 0:f.value,o=a?new Date(a):void 0,s=Vr(t.data,lp(t.url),mt.DC.terms.modified,null)[0],l=s?new Date(s.value):void 0;this.logger.debug(`Extracting ${i.length} members`);const u=[];for(const d of i)if(!this.state.has(d.value)){const c=this.extractMember(d,t.data).then(p=>(p&&(this.closed||n.extracted(p,r)),p)).catch(p=>{this.logger.error(p),n.error({error:p,type:"extract",memberId:d},r)});u.push(c)}Promise.all(u).then(d=>{this.logger.debug("All members extracted"),this.closed||n.done({id:lp(t.url),created:o,updated:l},r)})}close(){this.logger.debug("Closing stream"),this.resolve&&(this.resolve(),this.resolve=void 0),this.closed=!0,this.logger.debug("this.resolve()")}length(){return this.state.size}reset(){return this.logger.debug(`Resetting with ${this.queued} members in queue`),this.queued=0,new Promise(t=>this.resolve=t)}async extractMemberQuads(t,r){return await this.extractor.extract(r,t,this.shapeId,[lp(mt.LDES.custom("IngestionMetadata"))])}async extractMember(t,r){var n;if(!this.state.has(t.value))try{const i=await this.extractMemberQuads(t,r),a=(n=Vr(r,t,mt.DC.terms.custom("created"),lp(mt.LDES.custom("IngestionMetadata")))[0])==null?void 0:n.value;if(i.length>0)return this.state.add(t.value),Pee(t,i,this.timestampPath,this.isVersionOfPath,a?new Date(a):void 0)}catch(i){this.logger.error(i);return}}}class Fie{constructor(t,r,n,i,a,o){Qe(this,"manager");Qe(this,"fetcher");Qe(this,"notifier");Qe(this,"inFlight",0);Qe(this,"fetchNotifier");Qe(this,"memberNotifier");Qe(this,"modulator");Qe(this,"cacheList",[]);Qe(this,"polling");Qe(this,"pollInterval");Qe(this,"canceled",!1);Qe(this,"logger",ii(this));this.pollInterval=o,this.notifier=n,this.manager=t,this.fetcher=r,this.polling=a,this.fetchNotifier={error:s=>{this.logger.error(`[fetch] Error: ${JSON.stringify(s)}`),this.notifier.error(s,{})},scheduleFetch:s=>{this.cacheList.push(s),this.notifier.mutable({},{})},pageFetched:(s,{index:l})=>{this.logger.debug(`Paged fetched ${s.url}`),this.handleFetched(s,l)},relationFound:({from:s,target:l})=>{s.expected.push(l.node),this.inFlight+=1,this.modulator.push({target:l.node,expected:[s.target]})}},this.memberNotifier={error:s=>{this.notifier.error(s,{})},done:s=>{this.logger.debug("[member] Members on page done"),this.inFlight-=1,this.checkEnd(),this.notifier.fragment(s,{})},extracted:s=>this.notifier.member(s,{})},this.modulator=i.create("fetcher",[],{ready:({item:s,index:l})=>this.fetcher.fetch(s,{index:l},this.fetchNotifier)})}start(t){this.inFlight=this.modulator.length(),this.inFlight<1?(this.inFlight=1,this.modulator.push({target:t,expected:[]}),this.logger.debug("[start] Nothing in flight, adding start url")):this.logger.debug("[start] Things are already inflight, not adding start url")}cancel(){this.canceled=!0}handleFetched(t,r){this.modulator.finished(r),this.manager.extractMembers(t,{},this.memberNotifier)}checkEnd(){this.canceled||this.inFlight==0&&(this.polling?setTimeout(()=>{if(this.canceled)return;this.notifier.pollCycle({},{});const t=this.cacheList.slice();this.cacheList=[];for(const r of t)this.inFlight+=1,this.modulator.push(r)},this.pollInterval||1e3):(this.logger.debug("Closing the notifier, polling is not set"),this.canceled=!0,this.notifier.close({},{})))}}var Zt=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(f){try{u(n.next(f))}catch(d){o(d)}}function l(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?a(f.value):i(f.value).then(s,l)}u((n=n.apply(e,t||[])).next())})},Kt=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(f){return l([u,f])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Un=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},hi=function(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))},c6=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function e(t){t===void 0&&(t=e.minComparator);var r=this;this.compare=t,this.heapArray=[],this._limit=0,this.offer=this.add,this.element=this.peek,this.poll=this.pop,this._invertedCompare=function(n,i){return r.compare(n,i).then(function(a){return-1*a})}}return e.getChildrenIndexOf=function(t){return[t*2+1,t*2+2]},e.getParentIndexOf=function(t){if(t<=0)return-1;var r=t%2?1:2;return Math.floor((t-r)/2)},e.getSiblingIndexOf=function(t){if(t<=0)return-1;var r=t%2?1:-1;return t+r},e.minComparator=function(t,r){return Zt(this,void 0,void 0,function(){return Kt(this,function(n){return t>r?[2,1]:t<r?[2,-1]:[2,0]})})},e.maxComparator=function(t,r){return Zt(this,void 0,void 0,function(){return Kt(this,function(n){return r>t?[2,1]:r<t?[2,-1]:[2,0]})})},e.minComparatorNumber=function(t,r){return Zt(this,void 0,void 0,function(){return Kt(this,function(n){return[2,t-r]})})},e.maxComparatorNumber=function(t,r){return Zt(this,void 0,void 0,function(){return Kt(this,function(n){return[2,r-t]})})},e.defaultIsEqual=function(t,r){return Zt(this,void 0,void 0,function(){return Kt(this,function(n){return[2,t===r]})})},e.print=function(t){function r(f){var d=e.getParentIndexOf(f);return Math.floor(Math.log2(d+1))}function n(f,d){for(var c="";d>0;--d)c+=f;return c}for(var i=0,a=[],o=r(t.length-1)+2,s=0;i<t.length;){var l=r(i)+1;i===0&&(l=0);var u=String(t.get(i));u.length>s&&(s=u.length),a[l]=a[l]||[],a[l].push(u),i+=1}return a.map(function(f,d){var c=Math.pow(2,o-d)-1;return n(" ",Math.floor(c/2)*s)+f.map(function(p){var b=(s-p.length)/2;return n(" ",Math.ceil(b))+p+n(" ",Math.floor(b))}).join(n(" ",c*s))}).join(`
`)},e.heapify=function(t,r){return Zt(this,void 0,void 0,function(){var n;return Kt(this,function(i){switch(i.label){case 0:return n=new e(r),n.heapArray=t,[4,n.init()];case 1:return i.sent(),[2,n]}})})},e.heappop=function(t,r){var n=new e(r);return n.heapArray=t,n.pop()},e.heappush=function(t,r,n){return Zt(this,void 0,void 0,function(){var i;return Kt(this,function(a){switch(a.label){case 0:return i=new e(n),i.heapArray=t,[4,i.push(r)];case 1:return a.sent(),[2]}})})},e.heappushpop=function(t,r,n){var i=new e(n);return i.heapArray=t,i.pushpop(r)},e.heapreplace=function(t,r,n){var i=new e(n);return i.heapArray=t,i.replace(r)},e.heaptop=function(t,r,n){r===void 0&&(r=1);var i=new e(n);return i.heapArray=t,i.top(r)},e.heapbottom=function(t,r,n){r===void 0&&(r=1);var i=new e(n);return i.heapArray=t,i.bottom(r)},e.nlargest=function(t,r,n){return Zt(this,void 0,void 0,function(){var i;return Kt(this,function(a){switch(a.label){case 0:return i=new e(n),i.heapArray=hi([],Un(r),!1),[4,i.init()];case 1:return a.sent(),[2,i.top(t)]}})})},e.nsmallest=function(t,r,n){return Zt(this,void 0,void 0,function(){var i;return Kt(this,function(a){switch(a.label){case 0:return i=new e(n),i.heapArray=hi([],Un(r),!1),[4,i.init()];case 1:return a.sent(),[2,i.bottom(t)]}})})},e.prototype.add=function(t){return Zt(this,void 0,void 0,function(){return Kt(this,function(r){switch(r.label){case 0:return[4,this._sortNodeUp(this.heapArray.push(t)-1)];case 1:return r.sent(),this._applyLimit(),[2,!0]}})})},e.prototype.addAll=function(t){return Zt(this,void 0,void 0,function(){var r,n,i;return Kt(this,function(a){switch(a.label){case 0:r=this.length,(i=this.heapArray).push.apply(i,hi([],Un(t),!1)),n=this.length,a.label=1;case 1:return r<n?[4,this._sortNodeUp(r)]:[3,4];case 2:a.sent(),a.label=3;case 3:return++r,[3,1];case 4:return this._applyLimit(),[2,!0]}})})},e.prototype.bottom=function(){return Zt(this,arguments,void 0,function(t){return t===void 0&&(t=1),Kt(this,function(r){return this.heapArray.length===0||t<=0?[2,[]]:this.heapArray.length===1?[2,[this.heapArray[0]]]:t>=this.heapArray.length?[2,hi([],Un(this.heapArray),!1)]:[2,this._bottomN_push(~~t)]})})},e.prototype.check=function(){return Zt(this,void 0,void 0,function(){var t,r,n,i,a,o,s,l,u;return Kt(this,function(f){switch(f.label){case 0:t=0,f.label=1;case 1:if(!(t<this.heapArray.length))return[3,10];r=this.heapArray[t],n=this.getChildrenOf(t),f.label=2;case 2:f.trys.push([2,7,8,9]),i=(l=void 0,c6(n)),a=i.next(),f.label=3;case 3:return a.done?[3,6]:(o=a.value,[4,this.compare(r,o)]);case 4:if(f.sent()>0)return[2,r];f.label=5;case 5:return a=i.next(),[3,3];case 6:return[3,9];case 7:return s=f.sent(),l={error:s},[3,9];case 8:try{a&&!a.done&&(u=i.return)&&u.call(i)}finally{if(l)throw l.error}return[7];case 9:return++t,[3,1];case 10:return[2]}})})},e.prototype.clear=function(){this.heapArray=[]},e.prototype.clone=function(){var t=new e(this.comparator());return t.heapArray=this.toArray(),t._limit=this._limit,t},e.prototype.comparator=function(){return this.compare},e.prototype.contains=function(t){return Zt(this,arguments,void 0,function(r,n){var i,a,o,s,l,u;return n===void 0&&(n=e.defaultIsEqual),Kt(this,function(f){switch(f.label){case 0:f.trys.push([0,5,6,7]),i=c6(this.heapArray),a=i.next(),f.label=1;case 1:return a.done?[3,4]:(o=a.value,[4,n(o,r)]);case 2:if(f.sent())return[2,!0];f.label=3;case 3:return a=i.next(),[3,1];case 4:return[3,7];case 5:return s=f.sent(),l={error:s},[3,7];case 6:try{a&&!a.done&&(u=i.return)&&u.call(i)}finally{if(l)throw l.error}return[7];case 7:return[2,!1]}})})},e.prototype.init=function(t){return Zt(this,void 0,void 0,function(){var r;return Kt(this,function(n){switch(n.label){case 0:t&&(this.heapArray=hi([],Un(t),!1)),r=Math.floor(this.heapArray.length),n.label=1;case 1:return r>=0?[4,this._sortNodeDown(r)]:[3,4];case 2:n.sent(),n.label=3;case 3:return--r,[3,1];case 4:return this._applyLimit(),[2]}})})},e.prototype.isEmpty=function(){return this.length===0},e.prototype.leafs=function(){if(this.heapArray.length===0)return[];var t=e.getParentIndexOf(this.heapArray.length-1);return this.heapArray.slice(t+1)},Object.defineProperty(e.prototype,"length",{get:function(){return this.heapArray.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"limit",{get:function(){return this._limit},set:function(t){this._limit=~~t,this._applyLimit()},enumerable:!1,configurable:!0}),e.prototype.peek=function(){return this.heapArray[0]},e.prototype.pop=function(){return Zt(this,void 0,void 0,function(){var t;return Kt(this,function(r){return t=this.heapArray.pop(),this.length>0&&t!==void 0?[2,this.replace(t)]:[2,t]})})},e.prototype.push=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Zt(this,void 0,void 0,function(){return Kt(this,function(n){return t.length<1?[2,!1]:t.length===1?[2,this.add(t[0])]:[2,this.addAll(t)]})})},e.prototype.pushpop=function(t){return Zt(this,void 0,void 0,function(){var r;return Kt(this,function(n){switch(n.label){case 0:return[4,this.compare(this.heapArray[0],t)];case 1:return n.sent()<0?(r=Un([this.heapArray[0],t],2),t=r[0],this.heapArray[0]=r[1],[4,this._sortNodeDown(0)]):[3,3];case 2:n.sent(),n.label=3;case 3:return[2,t]}})})},e.prototype.remove=function(t){return Zt(this,arguments,void 0,function(r,n){var i,a,o,s=this;return n===void 0&&(n=e.defaultIsEqual),Kt(this,function(l){switch(l.label){case 0:return this.heapArray.length?r!==void 0?[3,2]:[4,this.pop()]:[2,!1];case 1:return l.sent(),[2,!0];case 2:i=[0],l.label=3;case 3:return i.length?(a=i.shift(),[4,n(this.heapArray[a],r)]):[3,13];case 4:return l.sent()?a!==0?[3,6]:[4,this.pop()]:[3,11];case 5:return l.sent(),[3,10];case 6:return a!==this.heapArray.length-1?[3,7]:(this.heapArray.pop(),[3,10]);case 7:return this.heapArray.splice(a,1,this.heapArray.pop()),[4,this._sortNodeUp(a)];case 8:return l.sent(),[4,this._sortNodeDown(a)];case 9:l.sent(),l.label=10;case 10:return[2,!0];case 11:o=e.getChildrenIndexOf(a).filter(function(u){return u<s.heapArray.length}),i.push.apply(i,hi([],Un(o),!1)),l.label=12;case 12:return[3,3];case 13:return[2,!1]}})})},e.prototype.replace=function(t){return Zt(this,void 0,void 0,function(){var r;return Kt(this,function(n){switch(n.label){case 0:return r=this.heapArray[0],this.heapArray[0]=t,[4,this._sortNodeDown(0)];case 1:return n.sent(),[2,r]}})})},e.prototype.size=function(){return this.length},e.prototype.top=function(){return Zt(this,arguments,void 0,function(t){return t===void 0&&(t=1),Kt(this,function(r){return this.heapArray.length===0||t<=0?[2,[]]:this.heapArray.length===1||t===1?[2,[this.heapArray[0]]]:t>=this.heapArray.length?[2,hi([],Un(this.heapArray),!1)]:[2,this._topN_push(~~t)]})})},e.prototype.toArray=function(){return hi([],Un(this.heapArray),!1)},e.prototype.toString=function(){return this.heapArray.toString()},e.prototype.get=function(t){return this.heapArray[t]},e.prototype.getChildrenOf=function(t){var r=this;return e.getChildrenIndexOf(t).map(function(n){return r.heapArray[n]}).filter(function(n){return n!==void 0})},e.prototype.getParentOf=function(t){var r=e.getParentIndexOf(t);return this.heapArray[r]},e.prototype[Symbol.iterator]=function(){return Kt(this,function(t){switch(t.label){case 0:return this.length?[4,this.pop()]:[3,2];case 1:return t.sent(),[3,0];case 2:return[2]}})},e.prototype.iterator=function(){return this},e.prototype._applyLimit=function(){if(this._limit&&this._limit<this.heapArray.length)for(var t=this.heapArray.length-this._limit;t;)this.heapArray.pop(),--t},e.prototype._bottomN_push=function(t){return Zt(this,void 0,void 0,function(){var r,n,i,a,s,o,s;return Kt(this,function(l){switch(l.label){case 0:return r=new e(this.compare),r.limit=t,r.heapArray=this.heapArray.slice(-t),[4,r.init()];case 1:for(l.sent(),n=this.heapArray.length-1-t,i=e.getParentIndexOf(n),a=[],s=n;s>i;--s)a.push(s);o=this.heapArray,l.label=2;case 2:return a.length?(s=a.shift(),[4,this.compare(o[s],r.peek())]):[3,6];case 3:return l.sent()>0?[4,r.replace(o[s])]:[3,5];case 4:l.sent(),s%2&&a.push(e.getParentIndexOf(s)),l.label=5;case 5:return[3,2];case 6:return[2,r.toArray()]}})})},e.prototype._moveNode=function(t,r){var n;n=Un([this.heapArray[r],this.heapArray[t]],2),this.heapArray[t]=n[0],this.heapArray[r]=n[1]},e.prototype._sortNodeDown=function(t){return Zt(this,void 0,void 0,function(){var r,n,i,a,o,s;return Kt(this,function(l){switch(l.label){case 0:r=this.heapArray.length,l.label=1;case 1:return n=2*t+1,i=n+1,a=t,o=n<r,o?[4,this.compare(this.heapArray[n],this.heapArray[a])]:[3,3];case 2:o=l.sent()<0,l.label=3;case 3:return o&&(a=n),s=i<r,s?[4,this.compare(this.heapArray[i],this.heapArray[a])]:[3,5];case 4:s=l.sent()<0,l.label=5;case 5:if(s&&(a=i),a===t)return[3,7];this._moveNode(t,a),t=a,l.label=6;case 6:return[3,1];case 7:return[2]}})})},e.prototype._sortNodeUp=function(t){return Zt(this,void 0,void 0,function(){var r;return Kt(this,function(n){switch(n.label){case 0:return t>0?(r=e.getParentIndexOf(t),[4,this.compare(this.heapArray[t],this.heapArray[r])]):[3,2];case 1:if(n.sent()<0)this._moveNode(t,r),t=r;else return[3,2];return[3,0];case 2:return[2]}})})},e.prototype._topN_push=function(t){return Zt(this,void 0,void 0,function(){var r,n,i,a;return Kt(this,function(o){switch(o.label){case 0:r=new e(this._invertedCompare),r.limit=t,n=[0],i=this.heapArray,o.label=1;case 1:return n.length?(a=n.shift(),a<i.length?r.length<t?[4,r.push(i[a])]:[3,3]:[3,6]):[3,7];case 2:return o.sent(),n.push.apply(n,hi([],Un(e.getChildrenIndexOf(a)),!1)),[3,6];case 3:return[4,this.compare(i[a],r.peek())];case 4:return o.sent()<0?[4,r.replace(i[a])]:[3,6];case 5:o.sent(),n.push.apply(n,hi([],Un(e.getChildrenIndexOf(a)),!1)),o.label=6;case 6:return[3,1];case 7:return[2,r.toArray()]}})})},e.prototype._topN_fill=function(t){return Zt(this,void 0,void 0,function(){var r,n,i,a,o,o;return Kt(this,function(s){switch(s.label){case 0:return r=this.heapArray,n=new e(this._invertedCompare),n.limit=t,n.heapArray=r.slice(0,t),[4,n.init()];case 1:for(s.sent(),i=e.getParentIndexOf(t-1)+1,a=[],o=i;o<t;++o)a.push.apply(a,hi([],Un(e.getChildrenIndexOf(o).filter(function(l){return l<r.length})),!1));(t-1)%2&&a.push(t),s.label=2;case 2:return a.length?(o=a.shift(),o<r.length?[4,this.compare(r[o],n.peek())]:[3,5]):[3,6];case 3:return s.sent()<0?[4,n.replace(r[o])]:[3,5];case 4:s.sent(),a.push.apply(a,hi([],Un(e.getChildrenIndexOf(o)),!1)),s.label=5;case 5:return[3,2];case 6:return[2,n.toArray()]}})})},e.prototype._topN_heap=function(t){return Zt(this,void 0,void 0,function(){var r,n,i,a,o;return Kt(this,function(s){switch(s.label){case 0:r=this.clone(),n=[],i=0,s.label=1;case 1:return i<t?(o=(a=n).push,[4,r.pop()]):[3,4];case 2:o.apply(a,[s.sent()]),s.label=3;case 3:return++i,[3,1];case 4:return[2,n]}})})},e.prototype._topIdxOf=function(t){return Zt(this,void 0,void 0,function(){var r,n,i,a;return Kt(this,function(o){switch(o.label){case 0:if(!t.length)return[2,-1];r=0,n=t[r],i=1,o.label=1;case 1:return i<t.length?[4,this.compare(t[i],n)]:[3,4];case 2:a=o.sent(),a<0&&(r=i,n=t[i]),o.label=3;case 3:return++i,[3,1];case 4:return[2,r]}})})},e.prototype._topOf=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Zt(this,void 0,void 0,function(){var n;return Kt(this,function(i){switch(i.label){case 0:return n=new e(this.compare),[4,n.init(t)];case 1:return i.sent(),[2,n.peek()]}})})},e})();var jie=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(f){return l([u,f])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},un=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},xn=function(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))},mu=function(){function e(t){t===void 0&&(t=e.minComparator);var r=this;this.compare=t,this.heapArray=[],this._limit=0,this.offer=this.add,this.element=this.peek,this.poll=this.pop,this.removeAll=this.clear,this._invertedCompare=function(n,i){return-1*r.compare(n,i)}}return e.getChildrenIndexOf=function(t){return[t*2+1,t*2+2]},e.getParentIndexOf=function(t){if(t<=0)return-1;var r=t%2?1:2;return Math.floor((t-r)/2)},e.getSiblingIndexOf=function(t){if(t<=0)return-1;var r=t%2?1:-1;return t+r},e.minComparator=function(t,r){return t>r?1:t<r?-1:0},e.maxComparator=function(t,r){return r>t?1:r<t?-1:0},e.minComparatorNumber=function(t,r){return t-r},e.maxComparatorNumber=function(t,r){return r-t},e.defaultIsEqual=function(t,r){return t===r},e.print=function(t){function r(f){var d=e.getParentIndexOf(f);return Math.floor(Math.log2(d+1))}function n(f,d){for(var c="";d>0;--d)c+=f;return c}for(var i=0,a=[],o=r(t.length-1)+2,s=0;i<t.length;){var l=r(i)+1;i===0&&(l=0);var u=String(t.get(i));u.length>s&&(s=u.length),a[l]=a[l]||[],a[l].push(u),i+=1}return a.map(function(f,d){var c=Math.pow(2,o-d)-1;return n(" ",Math.floor(c/2)*s)+f.map(function(p){var b=(s-p.length)/2;return n(" ",Math.ceil(b))+p+n(" ",Math.floor(b))}).join(n(" ",c*s))}).join(`
`)},e.heapify=function(t,r){var n=new e(r);return n.heapArray=t,n.init(),n},e.heappop=function(t,r){var n=new e(r);return n.heapArray=t,n.pop()},e.heappush=function(t,r,n){var i=new e(n);i.heapArray=t,i.push(r)},e.heappushpop=function(t,r,n){var i=new e(n);return i.heapArray=t,i.pushpop(r)},e.heapreplace=function(t,r,n){var i=new e(n);return i.heapArray=t,i.replace(r)},e.heaptop=function(t,r,n){r===void 0&&(r=1);var i=new e(n);return i.heapArray=t,i.top(r)},e.heapbottom=function(t,r,n){r===void 0&&(r=1);var i=new e(n);return i.heapArray=t,i.bottom(r)},e.nlargest=function(t,r,n){var i=new e(n);return i.heapArray=xn([],un(r),!1),i.init(),i.top(t)},e.nsmallest=function(t,r,n){var i=new e(n);return i.heapArray=xn([],un(r),!1),i.init(),i.bottom(t)},e.prototype.add=function(t){return this._sortNodeUp(this.heapArray.push(t)-1),this._applyLimit(),!0},e.prototype.addAll=function(t){var r,n=this.length;(r=this.heapArray).push.apply(r,xn([],un(t),!1));for(var i=this.length;n<i;++n)this._sortNodeUp(n);return this._applyLimit(),!0},e.prototype.bottom=function(t){return t===void 0&&(t=1),this.heapArray.length===0||t<=0?[]:this.heapArray.length===1?[this.heapArray[0]]:t>=this.heapArray.length?xn([],un(this.heapArray),!1):this._bottomN_push(~~t)},e.prototype.check=function(){var t=this;return this.heapArray.find(function(r,n){return!!t.getChildrenOf(n).find(function(i){return t.compare(r,i)>0})})},e.prototype.clear=function(){this.heapArray=[]},e.prototype.clone=function(){var t=new e(this.comparator());return t.heapArray=this.toArray(),t._limit=this._limit,t},e.prototype.comparator=function(){return this.compare},e.prototype.contains=function(t,r){return r===void 0&&(r=e.defaultIsEqual),this.indexOf(t,r)!==-1},e.prototype.init=function(t){t&&(this.heapArray=xn([],un(t),!1));for(var r=Math.floor(this.heapArray.length);r>=0;--r)this._sortNodeDown(r);this._applyLimit()},e.prototype.isEmpty=function(){return this.length===0},e.prototype.indexOf=function(t,r){if(r===void 0&&(r=e.defaultIsEqual),this.heapArray.length===0)return-1;for(var n=[],i=0;i<this.heapArray.length;){var a=this.heapArray[i];if(r(a,t))return i;this.compare(a,t)<=0&&n.push.apply(n,xn([],un(e.getChildrenIndexOf(i)),!1)),i=n.shift()||this.heapArray.length}return-1},e.prototype.indexOfEvery=function(t,r){if(r===void 0&&(r=e.defaultIsEqual),this.heapArray.length===0)return[];for(var n=[],i=[],a=0;a<this.heapArray.length;){var o=this.heapArray[a];r(o,t)?(i.push(a),n.push.apply(n,xn([],un(e.getChildrenIndexOf(a)),!1))):this.compare(o,t)<=0&&n.push.apply(n,xn([],un(e.getChildrenIndexOf(a)),!1)),a=n.shift()||this.heapArray.length}return i},e.prototype.leafs=function(){if(this.heapArray.length===0)return[];var t=e.getParentIndexOf(this.heapArray.length-1);return this.heapArray.slice(t+1)},Object.defineProperty(e.prototype,"length",{get:function(){return this.heapArray.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"limit",{get:function(){return this._limit},set:function(t){t<0||isNaN(t)?this._limit=0:this._limit=~~t,this._applyLimit()},enumerable:!1,configurable:!0}),e.prototype.setLimit=function(t){return this.limit=t,t<0||isNaN(t)?NaN:this._limit},e.prototype.peek=function(){return this.heapArray[0]},e.prototype.pop=function(){var t=this.heapArray.pop();return this.length>0&&t!==void 0?this.replace(t):t},e.prototype.push=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t.length<1?!1:t.length===1?this.add(t[0]):this.addAll(t)},e.prototype.pushpop=function(t){var r;return this.compare(this.heapArray[0],t)<0&&(r=un([this.heapArray[0],t],2),t=r[0],this.heapArray[0]=r[1],this._sortNodeDown(0)),t},e.prototype.remove=function(t,r){var n=this;if(r===void 0&&(r=e.defaultIsEqual),!this.heapArray.length)return!1;if(t===void 0)return this.pop(),!0;for(var i=[0];i.length;){var a=i.shift();if(r(this.heapArray[a],t))return a===0?this.pop():a===this.heapArray.length-1?this.heapArray.pop():(this.heapArray.splice(a,1,this.heapArray.pop()),this._sortNodeUp(a),this._sortNodeDown(a)),!0;if(this.compare(this.heapArray[a],t)<=0){var o=e.getChildrenIndexOf(a).filter(function(s){return s<n.heapArray.length});i.push.apply(i,xn([],un(o),!1))}}return!1},e.prototype.replace=function(t){var r=this.heapArray[0];return this.heapArray[0]=t,this._sortNodeDown(0),r},e.prototype.size=function(){return this.length},e.prototype.top=function(t){return t===void 0&&(t=1),this.heapArray.length===0||t<=0?[]:this.heapArray.length===1||t===1?[this.heapArray[0]]:t>=this.heapArray.length?xn([],un(this.heapArray),!1):this._topN_push(~~t)},e.prototype.toArray=function(){return xn([],un(this.heapArray),!1)},e.prototype.toString=function(){return this.heapArray.toString()},e.prototype.get=function(t){return this.heapArray[t]},e.prototype.getChildrenOf=function(t){var r=this;return e.getChildrenIndexOf(t).map(function(n){return r.heapArray[n]}).filter(function(n){return n!==void 0})},e.prototype.getParentOf=function(t){var r=e.getParentIndexOf(t);return this.heapArray[r]},e.prototype[Symbol.iterator]=function(){return jie(this,function(t){switch(t.label){case 0:return this.length?[4,this.pop()]:[3,2];case 1:return t.sent(),[3,0];case 2:return[2]}})},e.prototype.iterator=function(){return this.toArray()},e.prototype._applyLimit=function(){if(this._limit>0&&this._limit<this.heapArray.length)for(var t=this.heapArray.length-this._limit;t;)this.heapArray.pop(),--t},e.prototype._bottomN_push=function(t){var r=new e(this.compare);r.limit=t,r.heapArray=this.heapArray.slice(-t),r.init();for(var n=this.heapArray.length-1-t,i=e.getParentIndexOf(n),a=[],o=n;o>i;--o)a.push(o);for(var s=this.heapArray;a.length;){var o=a.shift();this.compare(s[o],r.peek())>0&&(r.replace(s[o]),o%2&&a.push(e.getParentIndexOf(o)))}return r.toArray()},e.prototype._moveNode=function(t,r){var n;n=un([this.heapArray[r],this.heapArray[t]],2),this.heapArray[t]=n[0],this.heapArray[r]=n[1]},e.prototype._sortNodeDown=function(t){for(var r=this.heapArray.length;;){var n=2*t+1,i=n+1,a=t;if(n<r&&this.compare(this.heapArray[n],this.heapArray[a])<0&&(a=n),i<r&&this.compare(this.heapArray[i],this.heapArray[a])<0&&(a=i),a===t)break;this._moveNode(t,a),t=a}},e.prototype._sortNodeUp=function(t){for(;t>0;){var r=e.getParentIndexOf(t);if(this.compare(this.heapArray[t],this.heapArray[r])<0)this._moveNode(t,r),t=r;else break}},e.prototype._topN_push=function(t){var r=new e(this._invertedCompare);r.limit=t;for(var n=[0],i=this.heapArray;n.length;){var a=n.shift();a<i.length&&(r.length<t?(r.push(i[a]),n.push.apply(n,xn([],un(e.getChildrenIndexOf(a)),!1))):this.compare(i[a],r.peek())<0&&(r.replace(i[a]),n.push.apply(n,xn([],un(e.getChildrenIndexOf(a)),!1))))}return r.toArray()},e.prototype._topN_fill=function(t){var r=this.heapArray,n=new e(this._invertedCompare);n.limit=t,n.heapArray=r.slice(0,t),n.init();for(var i=e.getParentIndexOf(t-1)+1,a=[],o=i;o<t;++o)a.push.apply(a,xn([],un(e.getChildrenIndexOf(o).filter(function(s){return s<r.length})),!1));for((t-1)%2&&a.push(t);a.length;){var o=a.shift();o<r.length&&this.compare(r[o],n.peek())<0&&(n.replace(r[o]),a.push.apply(a,xn([],un(e.getChildrenIndexOf(o)),!1)))}return n.toArray()},e.prototype._topN_heap=function(t){for(var r=this.clone(),n=[],i=0;i<t;++i)n.push(r.pop());return n},e.prototype._topIdxOf=function(t){if(!t.length)return-1;for(var r=0,n=t[r],i=1;i<t.length;++i){var a=this.compare(t[i],n);a<0&&(r=i,n=t[i])}return r},e.prototype._topOf=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=new e(this.compare);return n.init(t),n.peek()},e}();class Dp{constructor(t,r,n=[],i,a){Qe(this,"source");Qe(this,"relations");Qe(this,"target");Qe(this,"cmp");if(this.source=t,this.target=r,this.cmp=a,this.relations=n.map(({value:o,important:s})=>({value:o,important:s})),i)for(this.relations.push(i);this.relations.length>=2;){const o=this.relations[this.relations.length-2],s=this.relations[this.relations.length-1];if(o.important&&!s.important)break;if(o.important){const l=o.value,u=s.value;this.cmp?this.cmp(l,u)<0&&(o.value=s.value):o.value=l<u?l:u}else o.important=s.important,o.value=s.value;this.relations.pop()}}push(t,r){return new Dp(this.target,t,this.relations,r,this.cmp)}important(){return this.relations.length>0?this.relations[0].important:!1}ordering(t){if(this.important()&&!t.important())return 1;if(!this.important()&&t.important())return-1;const r=this.relations.length,n=t.relations.length;for(let i=0;i<Math.min(r,n);i++){if(!this.relations[i].important&&!t.relations[i].important)return 0;if(!this.relations[i].important)return-1;if(!t.relations[i].important)return 1;if(this.cmp){const a=this.cmp(this.relations[i].value,t.relations[i].value);if(a!==0)return a}else{if(this.relations[i].value<t.relations[i].value)return-1;if(this.relations[i].value>t.relations[i].value)return 1}}return 0}}class qie{constructor(t,r,n,i,a,o,s){Qe(this,"members");Qe(this,"manager");Qe(this,"fetcher");Qe(this,"notifier");Qe(this,"launchedRelations");Qe(this,"modulator");Qe(this,"fetchNotifier");Qe(this,"memberNotifer");Qe(this,"fetchedPages");Qe(this,"state");Qe(this,"ordered");Qe(this,"polling");Qe(this,"toPoll");Qe(this,"pollInterval");Qe(this,"cancled",!1);Qe(this,"logger",ii(this));this.ordered=a,this.manager=t,this.fetcher=r,this.notifier=n,this.polling=o,this.pollInterval=s,this.toPoll=new mu((l,u)=>l.chain.ordering(u.chain)),this.launchedRelations=new mu((l,u)=>l.ordering(u)),this.fetchedPages=new mu((l,u)=>l.relation.ordering(u.relation)),this.state=[],this.fetchNotifier={error:l=>{this.notifier.error(l,{})},scheduleFetch:({target:l,expected:u},{chain:f})=>{f.target=l,this.toPoll.push({chain:f,expected:u}),this.notifier.mutable({},{})},pageFetched:(l,{chain:u,index:f})=>{this.logger.debug(`Page fetched ${l.url}`),this.modulator.finished(f),this.handleFetched(l,u)},relationFound:({from:l,target:u},{chain:f})=>{l.expected.push(u.node),this.logger.debug(`Relation found ${u.node}`);const d=f.push(u.node,this.extractRelation(u));d.ordering(f)>=0?this.fetch(d,[l.target]):this.logger.error("Found relation backwards in time, this indicates wrong tree structure. Ignoring")}},this.memberNotifer={error:l=>{this.notifier.error(l,{})},done:(l,u)=>{this.logger.debug(`Member done ${u.target}`);const f=this.findOrDefault(u);f.extracting-=1,this.notifier.fragment(l,{}),this.checkEmit()},extracted:l=>{this.members.push(l)}},this.modulator=i.create("fetcher",new mu((l,u)=>l.item.chain.ordering(u.item.chain)),{ready:({item:{chain:l,expected:u},index:f})=>{this.fetcher.fetch({target:l.target,expected:u},{chain:l,index:f},this.fetchNotifier)}},l=>{const{chain:u,expected:f}=l,d=this.ordered==="ascending"?(c,p)=>c>p?1:c<p?-1:0:(c,p)=>c>p?-1:c<p?1:0;return{chain:new Dp(u.source,u.target,u.relations,void 0,d),expected:f}}),a=="ascending"?this.members=new mu((l,u)=>l.id.equals(u.id)||l.timestamp==u.timestamp?0:!l&&u?1:l&&!u||l.timestamp<u.timestamp?-1:1):this.members=new mu((l,u)=>l.id.equals(u.id)||l.timestamp==u.timestamp?0:!l&&u?-1:l&&!u||l.timestamp<u.timestamp?1:-1)}start(t){this.logger.debug(`Starting at ${t}`);const r=(n,i)=>n>i?1:n<i?-1:0;this.ordered==="ascending"?this.fetch(new Dp("",t,[],void 0,(n,i)=>1*r(n,i)).push(t,{important:!1,value:0}),[]):this.fetch(new Dp("",t,[],void 0,(n,i)=>-1*r(n,i)).push(t,{important:!1,value:0}),[])}cancel(){this.cancled=!0}checkEnd(){if(!this.cancled&&this.launchedRelations.isEmpty()){this.logger.debug("No more launched relations");let t=this.members.pop();for(;t;)this.notifier.member(t,{}),t=this.members.pop();this.polling?(this.logger.debug("Polling is enabled, settings timeout"),setTimeout(()=>{if(this.cancled)return;this.notifier.pollCycle({},{});const r=this.toPoll.toArray();this.logger.debug(`Let's repoll (${JSON.stringify(r.map(n=>n.chain.target))})`),this.toPoll.clear();for(const n of r)this.launchedRelations.push(n.chain),this.findOrDefault(n.chain).inFlight+=1,this.findOrDefault(n.chain).closed=!1,this.modulator.push(n)},this.pollInterval||1e3)):(this.logger.debug("Closing the notifier, polling is not set"),this.cancled=!0,this.notifier.close({},{}))}}findOrDefault(t){const r=this.state.find(i=>i.rel.ordering(t)==0);if(r)return r;const n={rel:t,inFlight:0,extracting:0,closed:!1};return this.state.push(n),n}extractRelation(t){const r=a=>{try{return new Date(a)}catch{return a}};let n;const i=t.relations.filter(a=>a.type.value===mt.TREE.custom("InBetweenRelation")).flatMap(a=>a.value||[]).flatMap(a=>{let o;a.termType==="Literal"&&(o=a.datatype.value);const s=AE(a.value,o,"Z");return s?[s]:[]});return this.ordered==="ascending"&&(n=i.map(a=>a.min).reduce((a,o)=>a?o&&a>o?o:a:o,n)),this.ordered==="descending"&&(n=i.map(a=>a.max).reduce((a,o)=>a&&(!o||a>o)?a:o,n)),this.ordered==="ascending"?n=t.relations.filter(a=>Bie.some(o=>a.type.value===o.value)).filter(a=>a.value).map(a=>r(a.value[0].value)).reduce((a,o)=>a?o&&a>o?o:a:o,n):this.ordered==="descending"&&(n=t.relations.filter(a=>$ie.some(o=>a.type.value===o.value)).filter(a=>a.value).map(a=>r(a.value[0].value)).reduce((a,o)=>a&&(!o||a>o)?a:o,n)),n!==void 0?{important:!0,value:n}:{important:!1,value:0}}fetch(t,r){this.launchedRelations.push(t),this.findOrDefault(t).inFlight+=1,this.modulator.push({chain:t,expected:r})}handleFetched(t,r){this.fetchedPages.push({page:t,relation:r});const n=this.findOrDefault(r);n.extracting+=1,n.inFlight-=1,this.manager.extractMembers(t,r,this.memberNotifer)}checkEmit(){var r;let t=this.launchedRelations.pop();for(;t;){const n=((r=this.launchedRelations.peek())==null?void 0:r.relations[0])||{value:0,important:!1},i=this.findOrDefault(t);if(i.inFlight!=0||i.extracting!=0)break;if(n.important){i.closed=!0;let a=this.members.pop();for(;a;){if(!a.timestamp)this.notifier.member(a,{});else if(this.ordered=="ascending"?a.timestamp<n.value:a.timestamp>n.value)this.notifier.member(a,{});else break;a=this.members.pop()}a&&this.members.push(a)}t=this.launchedRelations.pop()}t&&this.launchedRelations.push(t),this.checkEnd()}}const Bie=[mt.TREE.terms.GreaterThanRelation,mt.TREE.terms.GreaterThanOrEqualToRelation],$ie=[mt.TREE.terms.LessThanRelation,mt.TREE.terms.LessThanOrEqualToRelation],J5=new UT.DataFactory;function Uie(e,t="none",r,n){return new Hie(Bee(e),t,r,n)}async function Vie(e,t,r,n,i){const a=ii("getShape");if(i.shapeFile){const f=i.shapeFile.startsWith("http")?i.shapeFile:"file://"+i.shapeFile,d=await H5.rdfDereferencer.dereference(i.shapeFile,{localFiles:!0,fetch:i.fetch}),c=await xee(d.data);i.shape={quads:c,shapeId:J5.namedNode(f)}}let o=i.noShape?[]:Vr(r,e,mt.TREE.terms.shape),s=Vr(r,e,mt.LDES.terms.timestampPath),l=Vr(r,e,mt.LDES.terms.versionOfPath);if(a.debug(`Found ${o.length} shapes, ${s.length} timestampPaths, ${l.length} isVersionOfPaths`),!i.noShape&&(o.length===0||s.length===0||l.length===0))try{a.debug("Maybe find more info at %s",t.value);const f=await n.dereference(t.value,{localFiles:!0,fetch:i.fetch});r=ju.RdfStore.createDefault(),await new Promise((d,c)=>{r.import(f.data).on("end",d).on("error",c)}),o=Vr(r,null,mt.TREE.terms.shape),s=Vr(r,null,mt.LDES.terms.timestampPath),l=Vr(r,null,mt.LDES.terms.versionOfPath),a.debug(`Found ${o.length} shapes, ${s.length} timestampPaths, ${l.length} isVersionOfPaths`)}catch(f){a.error(`Failed to fetch ${e.value}`),a.error(f)}o.length>1&&a.error("Expected at most one shape id, found "+o.length),s.length>1&&a.error("Expected at most one timestamp path, found "+s.length),l.length>1&&a.error("Expected at most one versionOf path, found "+l.length);const u=ju.RdfStore.createDefault();if(i.shape){for(const f of i.shape.quads)u.addQuad(f);i.shape.shapeId=Ree(u)}return{extractor:new Nie.CBDShapeExtractor(i.shape?u:r,n,{cbdDefaultGraph:i.onlyDefaultGraph,fetch:i.fetch}),shape:i.shape?i.shape.shapeId:o[0],timestampPath:s[0],isVersionOfPath:l[0]}}class Hie{constructor(t,r="none",n,i){Qe(this,"streamId");Qe(this,"config");Qe(this,"dereferencer");Qe(this,"fetcher");Qe(this,"memberManager");Qe(this,"strategy");Qe(this,"ordered");Qe(this,"modulatorFactory");Qe(this,"stateFactory");Qe(this,"listeners",{});Qe(this,"logger",ii(this));this.config=t,this.dereferencer=n??H5.rdfDereferencer,this.streamId=i,this.ordered=r,this.stateFactory=t.stateFile?new Tie(t.stateFile):new Eie,this.modulatorFactory=new Aee(this.stateFactory),typeof ze<"u"&&ze.on("SIGINT",()=>{this.logger.info("Caught interrupt signal, saving"),this.stateFactory.write(),ze.exit()})}on(t,r){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(r)}async init(t,r,n){const i=await zie(this.config.url,this.dereferencer,this.config.fetch),a=J5.namedNode(this.config.url),o=i.data.getQuads(null,mt.TREE.terms.view,null,null);let s=a;this.config.urlIsView||(o.length===0?this.logger.error("Did not find tree:view predicate, this is required to interpret the LDES"):s=o[0].object);const l=await Vie(a,s,i.data,this.dereferencer,this.config),u=this.stateFactory.build("members",c=>{const p=[...c.values()];return JSON.stringify(p)},c=>new Set(JSON.parse(c)),()=>new Set),f=this.config.lastVersionOnly?this.stateFactory.build("versions",c=>{const p=[...c.entries()];return JSON.stringify(p)},c=>new Map(JSON.parse(c)),()=>new Map):void 0;if(this.streamId=this.streamId||o[0].subject,this.memberManager=new kie(this.streamId||o[0].subject,u.item,l),this.logger.debug(`timestampPath ${!!l.timestampPath}`),this.ordered!=="none"&&!l.timestampPath)throw"Can only emit members in order, if LDES is configured with timestampPath";this.config.condition=Nee(this.config.condition,this.config.defaultTimezone,this.config.before,this.config.after,l.timestampPath),this.fetcher=new Mie(this.dereferencer,this.config.loose,this.config.condition,this.config.defaultTimezone,this.config.includeMetadata||!1,this.config.fetch);const d={error:c=>this.emit("error",c),fragment:c=>this.emit("fragment",c),member:c=>{if(this.config.condition.matchMember(c)){if(this.config.condition.memberEmitted(c),c.isVersionOf&&c.timestamp&&f){const p=f.item;if(p.has(c.isVersionOf)){const b=p.get(c.isVersionOf);if(c.timestamp>b)p.set(c.isVersionOf,c.timestamp);else return}else p.set(c.isVersionOf,c.timestamp)}t(Oee(c,this.config.materialize===!0,l))}},pollCycle:()=>{this.config.condition.poll(),this.emit("poll",void 0)},mutable:()=>{this.emit("mutable",void 0)},close:()=>{this.stateFactory.write(),r()}};this.config.lastVersionOnly&&(this.ordered="descending"),this.strategy=this.ordered!=="none"?new qie(this.memberManager,this.fetcher,d,n,this.ordered,this.config.polling,this.config.pollInterval):new Fie(this.memberManager,this.fetcher,d,n,this.config.polling,this.config.pollInterval),this.logger.debug(`Found ${o.length} views, choosing ${s.value}`),this.strategy.start(s.value)}stream(t){const r=Lie(),n={start:async i=>{this.on("error",a=>{this.stateFactory.write(),this.memberManager.close(),this.fetcher.close(),i.error(a)}),this.modulatorFactory.pause(),await this.init(a=>{i.enqueue(a),f6(r)},()=>i.close(),this.modulatorFactory)},pull:async()=>{f6(r),this.modulatorFactory.unpause(),await r.waiting,this.modulatorFactory.pause()},cancel:async()=>{this.logger.info("Stream canceled"),this.stateFactory.write(),this.strategy.cancel(),this.memberManager.close(),this.fetcher.close()}};return new ReadableStream(n,t)}emit(t,r){(this.listeners[t]||[]).forEach(function(n){n(r)})}}async function zie(e,t,r){const n=await t.dereference(e,{localFiles:!0,fetch:r}),i=n.url,a=ju.RdfStore.createDefault();return await new Promise((o,s)=>{a.import(n.data).on("end",o).on("error",s)}),{url:i,data:a}}const Xm=new by.DataFactory,Gie=zt({name:"MapVisualizer",components:{LMap:jV,LTileLayer:XV,LMarker:HV,LPopup:ZV,MDBContainer:xH,MDBRow:EH,MDBCol:wH,MDBInput:BH,VueDatePicker:ET,MDBBtn:eq},data(){return{zoom:2,form:{ldes:"",range:null},members:[]}},methods:{async fetchData(){var i;if(((i=this.form.ldes)==null?void 0:i.trim())==="")return;this.members=[],console.log(`fetching data from ${this.form.ldes}`);const e=Xm.namedNode(mt.DC.modified),t=Jn(e),r={url:this.form.ldes,polling:!1};if(this.form.range){console.log("Setting range condition");const a=new oy({relationType:Xm.namedNode(mt.TREE.GreaterThanOrEqualToRelation),value:Xm.literal(new Date(this.form.range[0]).toISOString(),Xm.namedNode(mt.XSD.dateTime)),compareType:"date",path:t,pathQuads:{entry:e,quads:[]},defaultTimezone:"Z"});a.range.add(new Date(this.form.range[1]),mt.TREE.LessThanRelation,mt.XSD.dateTime),console.log(new Date(this.form.range[0]).toISOString(),new Date(this.form.range[1]).toISOString()),r.condition=a}const n=Uie(r);for await(const a of this.makeAsyncIterable(n.stream()))if(a){const o=a.quads.find(l=>l.predicate.value==="http://www.w3.org/2004/02/skos/core#prefLabel"),s=a.quads.find(l=>l.predicate.value==="http://www.w3.org/ns/dcat#centroid");if(s&&s.object.datatype.value==="http://www.opengis.net/ont/geosparql#wktLiteral"){const u=s.object.value.match(/POINT \(([^)]+)\)/)[1].split(" ");this.members.push({id:a.id,label:o==null?void 0:o.object.value,modified:a.timestamp,coords:[parseFloat(u[1]),parseFloat(u[0])]})}}},makeAsyncIterable(e){const t=e.getReader();return{[Symbol.asyncIterator](){return{async next(){const{done:r,value:n}=await t.read();return r?(t.releaseLock(),{done:!0}):{done:!1,value:n}}}}}}}}),e9=(e,t)=>{const r=e.__vccOpts||e;for(const[n,i]of t)r[n]=i;return r},Wie={style:{height:"80vh",width:"100%"},class:"mt-3"};function Kie(e,t,r,n,i,a){const o=ea("MDBInput"),s=ea("MDBCol"),l=ea("VueDatePicker"),u=ea("MDBBtn"),f=ea("MDBRow"),d=ea("l-tile-layer"),c=ea("l-popup"),p=ea("l-marker"),b=ea("l-map"),v=ea("MDBContainer");return Ze(),Pt(v,{class:"mt-5"},{default:bt(()=>[t[3]||(t[3]=_t("h1",{class:"mb-3"},"LDES Visualizer",-1)),kt(f,null,{default:bt(()=>[kt(s,null,{default:bt(()=>[kt(o,{label:"LDES ID",modelValue:e.form.ldes,"onUpdate:modelValue":t[0]||(t[0]=_=>e.form.ldes=_)},null,8,["modelValue"])]),_:1}),kt(s,null,{default:bt(()=>[kt(l,{modelValue:e.form.range,"onUpdate:modelValue":t[1]||(t[1]=_=>e.form.range=_),label:"Date range",range:""},null,8,["modelValue"])]),_:1}),kt(s,null,{default:bt(()=>[kt(u,{onClick:e.fetchData,color:"primary"},{default:bt(()=>t[2]||(t[2]=[Si("Visualize")])),_:1},8,["onClick"])]),_:1})]),_:1}),_t("div",Wie,[kt(b,{ref:"map",zoom:e.zoom,center:[47.41322,-1.219482]},{default:bt(()=>[kt(d,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png","layer-type":"base",name:"OpenStreetMap"}),(Ze(!0),et(wt,null,pr(e.members,_=>(Ze(),Pt(p,{"lat-lng":_.coords,key:_.id.value},{default:bt(()=>[kt(c,null,{default:bt(()=>[Si(Gt(_.label),1)]),_:2},1024)]),_:2},1032,["lat-lng"]))),128))]),_:1},8,["zoom"])])]),_:1})}const Qie=e9(Gie,[["render",Kie],["__scopeId","data-v-bef13ef4"]]),Zie=zt({__name:"App",setup(e){return(t,r)=>(Ze(),et("main",null,[kt(Qie)]))}}),Yie=e9(Zie,[["__scopeId","data-v-4443d580"]]);var bp={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var Xie=bp.exports,d6;function Jie(){return d6||(d6=1,function(e,t){(function(r,n){n(t)})(Xie,function(r){var n="1.9.4";function i(h){var E,C,z,ue;for(C=1,z=arguments.length;C<z;C++){ue=arguments[C];for(E in ue)h[E]=ue[E]}return h}var a=Object.create||function(){function h(){}return function(E){return h.prototype=E,new h}}();function o(h,E){var C=Array.prototype.slice;if(h.bind)return h.bind.apply(h,C.call(arguments,1));var z=C.call(arguments,2);return function(){return h.apply(E,z.length?z.concat(C.call(arguments)):arguments)}}var s=0;function l(h){return"_leaflet_id"in h||(h._leaflet_id=++s),h._leaflet_id}function u(h,E,C){var z,ue,Ee,qe;return qe=function(){z=!1,ue&&(Ee.apply(C,ue),ue=!1)},Ee=function(){z?ue=arguments:(h.apply(C,arguments),setTimeout(qe,E),z=!0)},Ee}function f(h,E,C){var z=E[1],ue=E[0],Ee=z-ue;return h===z&&C?h:((h-ue)%Ee+Ee)%Ee+ue}function d(){return!1}function c(h,E){if(E===!1)return h;var C=Math.pow(10,E===void 0?6:E);return Math.round(h*C)/C}function p(h){return h.trim?h.trim():h.replace(/^\s+|\s+$/g,"")}function b(h){return p(h).split(/\s+/)}function v(h,E){Object.prototype.hasOwnProperty.call(h,"options")||(h.options=h.options?a(h.options):{});for(var C in E)h.options[C]=E[C];return h.options}function _(h,E,C){var z=[];for(var ue in h)z.push(encodeURIComponent(C?ue.toUpperCase():ue)+"="+encodeURIComponent(h[ue]));return(!E||E.indexOf("?")===-1?"?":"&")+z.join("&")}var y=/\{ *([\w_ -]+) *\}/g;function m(h,E){return h.replace(y,function(C,z){var ue=E[z];if(ue===void 0)throw new Error("No value provided for variable "+C);return typeof ue=="function"&&(ue=ue(E)),ue})}var g=Array.isArray||function(h){return Object.prototype.toString.call(h)==="[object Array]"};function S(h,E){for(var C=0;C<h.length;C++)if(h[C]===E)return C;return-1}var x="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function I(h){return window["webkit"+h]||window["moz"+h]||window["ms"+h]}var N=0;function q(h){var E=+new Date,C=Math.max(0,16-(E-N));return N=E+C,window.setTimeout(h,C)}var D=window.requestAnimationFrame||I("RequestAnimationFrame")||q,M=window.cancelAnimationFrame||I("CancelAnimationFrame")||I("CancelRequestAnimationFrame")||function(h){window.clearTimeout(h)};function j(h,E,C){if(C&&D===q)h.call(E);else return D.call(window,o(h,E))}function P(h){h&&M.call(window,h)}var B={__proto__:null,extend:i,create:a,bind:o,get lastId(){return s},stamp:l,throttle:u,wrapNum:f,falseFn:d,formatNum:c,trim:p,splitWords:b,setOptions:v,getParamString:_,template:m,isArray:g,indexOf:S,emptyImageUrl:x,requestFn:D,cancelFn:M,requestAnimFrame:j,cancelAnimFrame:P};function Y(){}Y.extend=function(h){var E=function(){v(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},C=E.__super__=this.prototype,z=a(C);z.constructor=E,E.prototype=z;for(var ue in this)Object.prototype.hasOwnProperty.call(this,ue)&&ue!=="prototype"&&ue!=="__super__"&&(E[ue]=this[ue]);return h.statics&&i(E,h.statics),h.includes&&(ie(h.includes),i.apply(null,[z].concat(h.includes))),i(z,h),delete z.statics,delete z.includes,z.options&&(z.options=C.options?a(C.options):{},i(z.options,h.options)),z._initHooks=[],z.callInitHooks=function(){if(!this._initHooksCalled){C.callInitHooks&&C.callInitHooks.call(this),this._initHooksCalled=!0;for(var Ee=0,qe=z._initHooks.length;Ee<qe;Ee++)z._initHooks[Ee].call(this)}},E},Y.include=function(h){var E=this.prototype.options;return i(this.prototype,h),h.options&&(this.prototype.options=E,this.mergeOptions(h.options)),this},Y.mergeOptions=function(h){return i(this.prototype.options,h),this},Y.addInitHook=function(h){var E=Array.prototype.slice.call(arguments,1),C=typeof h=="function"?h:function(){this[h].apply(this,E)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(C),this};function ie(h){if(!(typeof L>"u"||!L||!L.Mixin)){h=g(h)?h:[h];for(var E=0;E<h.length;E++)h[E]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var X={on:function(h,E,C){if(typeof h=="object")for(var z in h)this._on(z,h[z],E);else{h=b(h);for(var ue=0,Ee=h.length;ue<Ee;ue++)this._on(h[ue],E,C)}return this},off:function(h,E,C){if(!arguments.length)delete this._events;else if(typeof h=="object")for(var z in h)this._off(z,h[z],E);else{h=b(h);for(var ue=arguments.length===1,Ee=0,qe=h.length;Ee<qe;Ee++)ue?this._off(h[Ee]):this._off(h[Ee],E,C)}return this},_on:function(h,E,C,z){if(typeof E!="function"){console.warn("wrong listener type: "+typeof E);return}if(this._listens(h,E,C)===!1){C===this&&(C=void 0);var ue={fn:E,ctx:C};z&&(ue.once=!0),this._events=this._events||{},this._events[h]=this._events[h]||[],this._events[h].push(ue)}},_off:function(h,E,C){var z,ue,Ee;if(this._events&&(z=this._events[h],!!z)){if(arguments.length===1){if(this._firingCount)for(ue=0,Ee=z.length;ue<Ee;ue++)z[ue].fn=d;delete this._events[h];return}if(typeof E!="function"){console.warn("wrong listener type: "+typeof E);return}var qe=this._listens(h,E,C);if(qe!==!1){var Ye=z[qe];this._firingCount&&(Ye.fn=d,this._events[h]=z=z.slice()),z.splice(qe,1)}}},fire:function(h,E,C){if(!this.listens(h,C))return this;var z=i({},E,{type:h,target:this,sourceTarget:E&&E.sourceTarget||this});if(this._events){var ue=this._events[h];if(ue){this._firingCount=this._firingCount+1||1;for(var Ee=0,qe=ue.length;Ee<qe;Ee++){var Ye=ue[Ee],Xe=Ye.fn;Ye.once&&this.off(h,Xe,Ye.ctx),Xe.call(Ye.ctx||this,z)}this._firingCount--}}return C&&this._propagateEvent(z),this},listens:function(h,E,C,z){typeof h!="string"&&console.warn('"string" type argument expected');var ue=E;typeof E!="function"&&(z=!!E,ue=void 0,C=void 0);var Ee=this._events&&this._events[h];if(Ee&&Ee.length&&this._listens(h,ue,C)!==!1)return!0;if(z){for(var qe in this._eventParents)if(this._eventParents[qe].listens(h,E,C,z))return!0}return!1},_listens:function(h,E,C){if(!this._events)return!1;var z=this._events[h]||[];if(!E)return!!z.length;C===this&&(C=void 0);for(var ue=0,Ee=z.length;ue<Ee;ue++)if(z[ue].fn===E&&z[ue].ctx===C)return ue;return!1},once:function(h,E,C){if(typeof h=="object")for(var z in h)this._on(z,h[z],E,!0);else{h=b(h);for(var ue=0,Ee=h.length;ue<Ee;ue++)this._on(h[ue],E,C,!0)}return this},addEventParent:function(h){return this._eventParents=this._eventParents||{},this._eventParents[l(h)]=h,this},removeEventParent:function(h){return this._eventParents&&delete this._eventParents[l(h)],this},_propagateEvent:function(h){for(var E in this._eventParents)this._eventParents[E].fire(h.type,i({layer:h.target,propagatedFrom:h.target},h),!0)}};X.addEventListener=X.on,X.removeEventListener=X.clearAllEventListeners=X.off,X.addOneTimeEventListener=X.once,X.fireEvent=X.fire,X.hasEventListeners=X.listens;var le=Y.extend(X);function ae(h,E,C){this.x=C?Math.round(h):h,this.y=C?Math.round(E):E}var ne=Math.trunc||function(h){return h>0?Math.floor(h):Math.ceil(h)};ae.prototype={clone:function(){return new ae(this.x,this.y)},add:function(h){return this.clone()._add(H(h))},_add:function(h){return this.x+=h.x,this.y+=h.y,this},subtract:function(h){return this.clone()._subtract(H(h))},_subtract:function(h){return this.x-=h.x,this.y-=h.y,this},divideBy:function(h){return this.clone()._divideBy(h)},_divideBy:function(h){return this.x/=h,this.y/=h,this},multiplyBy:function(h){return this.clone()._multiplyBy(h)},_multiplyBy:function(h){return this.x*=h,this.y*=h,this},scaleBy:function(h){return new ae(this.x*h.x,this.y*h.y)},unscaleBy:function(h){return new ae(this.x/h.x,this.y/h.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ne(this.x),this.y=ne(this.y),this},distanceTo:function(h){h=H(h);var E=h.x-this.x,C=h.y-this.y;return Math.sqrt(E*E+C*C)},equals:function(h){return h=H(h),h.x===this.x&&h.y===this.y},contains:function(h){return h=H(h),Math.abs(h.x)<=Math.abs(this.x)&&Math.abs(h.y)<=Math.abs(this.y)},toString:function(){return"Point("+c(this.x)+", "+c(this.y)+")"}};function H(h,E,C){return h instanceof ae?h:g(h)?new ae(h[0],h[1]):h==null?h:typeof h=="object"&&"x"in h&&"y"in h?new ae(h.x,h.y):new ae(h,E,C)}function oe(h,E){if(h)for(var C=E?[h,E]:h,z=0,ue=C.length;z<ue;z++)this.extend(C[z])}oe.prototype={extend:function(h){var E,C;if(!h)return this;if(h instanceof ae||typeof h[0]=="number"||"x"in h)E=C=H(h);else if(h=he(h),E=h.min,C=h.max,!E||!C)return this;return!this.min&&!this.max?(this.min=E.clone(),this.max=C.clone()):(this.min.x=Math.min(E.x,this.min.x),this.max.x=Math.max(C.x,this.max.x),this.min.y=Math.min(E.y,this.min.y),this.max.y=Math.max(C.y,this.max.y)),this},getCenter:function(h){return H((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,h)},getBottomLeft:function(){return H(this.min.x,this.max.y)},getTopRight:function(){return H(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(h){var E,C;return typeof h[0]=="number"||h instanceof ae?h=H(h):h=he(h),h instanceof oe?(E=h.min,C=h.max):E=C=h,E.x>=this.min.x&&C.x<=this.max.x&&E.y>=this.min.y&&C.y<=this.max.y},intersects:function(h){h=he(h);var E=this.min,C=this.max,z=h.min,ue=h.max,Ee=ue.x>=E.x&&z.x<=C.x,qe=ue.y>=E.y&&z.y<=C.y;return Ee&&qe},overlaps:function(h){h=he(h);var E=this.min,C=this.max,z=h.min,ue=h.max,Ee=ue.x>E.x&&z.x<C.x,qe=ue.y>E.y&&z.y<C.y;return Ee&&qe},isValid:function(){return!!(this.min&&this.max)},pad:function(h){var E=this.min,C=this.max,z=Math.abs(E.x-C.x)*h,ue=Math.abs(E.y-C.y)*h;return he(H(E.x-z,E.y-ue),H(C.x+z,C.y+ue))},equals:function(h){return h?(h=he(h),this.min.equals(h.getTopLeft())&&this.max.equals(h.getBottomRight())):!1}};function he(h,E){return!h||h instanceof oe?h:new oe(h,E)}function Z(h,E){if(h)for(var C=E?[h,E]:h,z=0,ue=C.length;z<ue;z++)this.extend(C[z])}Z.prototype={extend:function(h){var E=this._southWest,C=this._northEast,z,ue;if(h instanceof ee)z=h,ue=h;else if(h instanceof Z){if(z=h._southWest,ue=h._northEast,!z||!ue)return this}else return h?this.extend(O(h)||Q(h)):this;return!E&&!C?(this._southWest=new ee(z.lat,z.lng),this._northEast=new ee(ue.lat,ue.lng)):(E.lat=Math.min(z.lat,E.lat),E.lng=Math.min(z.lng,E.lng),C.lat=Math.max(ue.lat,C.lat),C.lng=Math.max(ue.lng,C.lng)),this},pad:function(h){var E=this._southWest,C=this._northEast,z=Math.abs(E.lat-C.lat)*h,ue=Math.abs(E.lng-C.lng)*h;return new Z(new ee(E.lat-z,E.lng-ue),new ee(C.lat+z,C.lng+ue))},getCenter:function(){return new ee((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ee(this.getNorth(),this.getWest())},getSouthEast:function(){return new ee(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(h){typeof h[0]=="number"||h instanceof ee||"lat"in h?h=O(h):h=Q(h);var E=this._southWest,C=this._northEast,z,ue;return h instanceof Z?(z=h.getSouthWest(),ue=h.getNorthEast()):z=ue=h,z.lat>=E.lat&&ue.lat<=C.lat&&z.lng>=E.lng&&ue.lng<=C.lng},intersects:function(h){h=Q(h);var E=this._southWest,C=this._northEast,z=h.getSouthWest(),ue=h.getNorthEast(),Ee=ue.lat>=E.lat&&z.lat<=C.lat,qe=ue.lng>=E.lng&&z.lng<=C.lng;return Ee&&qe},overlaps:function(h){h=Q(h);var E=this._southWest,C=this._northEast,z=h.getSouthWest(),ue=h.getNorthEast(),Ee=ue.lat>E.lat&&z.lat<C.lat,qe=ue.lng>E.lng&&z.lng<C.lng;return Ee&&qe},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(h,E){return h?(h=Q(h),this._southWest.equals(h.getSouthWest(),E)&&this._northEast.equals(h.getNorthEast(),E)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Q(h,E){return h instanceof Z?h:new Z(h,E)}function ee(h,E,C){if(isNaN(h)||isNaN(E))throw new Error("Invalid LatLng object: ("+h+", "+E+")");this.lat=+h,this.lng=+E,C!==void 0&&(this.alt=+C)}ee.prototype={equals:function(h,E){if(!h)return!1;h=O(h);var C=Math.max(Math.abs(this.lat-h.lat),Math.abs(this.lng-h.lng));return C<=(E===void 0?1e-9:E)},toString:function(h){return"LatLng("+c(this.lat,h)+", "+c(this.lng,h)+")"},distanceTo:function(h){return $.distance(this,O(h))},wrap:function(){return $.wrapLatLng(this)},toBounds:function(h){var E=180*h/40075017,C=E/Math.cos(Math.PI/180*this.lat);return Q([this.lat-E,this.lng-C],[this.lat+E,this.lng+C])},clone:function(){return new ee(this.lat,this.lng,this.alt)}};function O(h,E,C){return h instanceof ee?h:g(h)&&typeof h[0]!="object"?h.length===3?new ee(h[0],h[1],h[2]):h.length===2?new ee(h[0],h[1]):null:h==null?h:typeof h=="object"&&"lat"in h?new ee(h.lat,"lng"in h?h.lng:h.lon,h.alt):E===void 0?null:new ee(h,E,C)}var A={latLngToPoint:function(h,E){var C=this.projection.project(h),z=this.scale(E);return this.transformation._transform(C,z)},pointToLatLng:function(h,E){var C=this.scale(E),z=this.transformation.untransform(h,C);return this.projection.unproject(z)},project:function(h){return this.projection.project(h)},unproject:function(h){return this.projection.unproject(h)},scale:function(h){return 256*Math.pow(2,h)},zoom:function(h){return Math.log(h/256)/Math.LN2},getProjectedBounds:function(h){if(this.infinite)return null;var E=this.projection.bounds,C=this.scale(h),z=this.transformation.transform(E.min,C),ue=this.transformation.transform(E.max,C);return new oe(z,ue)},infinite:!1,wrapLatLng:function(h){var E=this.wrapLng?f(h.lng,this.wrapLng,!0):h.lng,C=this.wrapLat?f(h.lat,this.wrapLat,!0):h.lat,z=h.alt;return new ee(C,E,z)},wrapLatLngBounds:function(h){var E=h.getCenter(),C=this.wrapLatLng(E),z=E.lat-C.lat,ue=E.lng-C.lng;if(z===0&&ue===0)return h;var Ee=h.getSouthWest(),qe=h.getNorthEast(),Ye=new ee(Ee.lat-z,Ee.lng-ue),Xe=new ee(qe.lat-z,qe.lng-ue);return new Z(Ye,Xe)}},$=i({},A,{wrapLng:[-180,180],R:6371e3,distance:function(h,E){var C=Math.PI/180,z=h.lat*C,ue=E.lat*C,Ee=Math.sin((E.lat-h.lat)*C/2),qe=Math.sin((E.lng-h.lng)*C/2),Ye=Ee*Ee+Math.cos(z)*Math.cos(ue)*qe*qe,Xe=2*Math.atan2(Math.sqrt(Ye),Math.sqrt(1-Ye));return this.R*Xe}}),te=6378137,pe={R:te,MAX_LATITUDE:85.0511287798,project:function(h){var E=Math.PI/180,C=this.MAX_LATITUDE,z=Math.max(Math.min(C,h.lat),-C),ue=Math.sin(z*E);return new ae(this.R*h.lng*E,this.R*Math.log((1+ue)/(1-ue))/2)},unproject:function(h){var E=180/Math.PI;return new ee((2*Math.atan(Math.exp(h.y/this.R))-Math.PI/2)*E,h.x*E/this.R)},bounds:function(){var h=te*Math.PI;return new oe([-h,-h],[h,h])}()};function R(h,E,C,z){if(g(h)){this._a=h[0],this._b=h[1],this._c=h[2],this._d=h[3];return}this._a=h,this._b=E,this._c=C,this._d=z}R.prototype={transform:function(h,E){return this._transform(h.clone(),E)},_transform:function(h,E){return E=E||1,h.x=E*(this._a*h.x+this._b),h.y=E*(this._c*h.y+this._d),h},untransform:function(h,E){return E=E||1,new ae((h.x/E-this._b)/this._a,(h.y/E-this._d)/this._c)}};function w(h,E,C,z){return new R(h,E,C,z)}var T=i({},$,{code:"EPSG:3857",projection:pe,transformation:function(){var h=.5/(Math.PI*pe.R);return w(h,.5,-h,.5)}()}),k=i({},T,{code:"EPSG:900913"});function U(h){return document.createElementNS("http://www.w3.org/2000/svg",h)}function re(h,E){var C="",z,ue,Ee,qe,Ye,Xe;for(z=0,Ee=h.length;z<Ee;z++){for(Ye=h[z],ue=0,qe=Ye.length;ue<qe;ue++)Xe=Ye[ue],C+=(ue?"L":"M")+Xe.x+" "+Xe.y;C+=E?$e.svg?"z":"x":""}return C||"M0 0"}var fe=document.documentElement.style,ve="ActiveXObject"in window,ce=ve&&!document.addEventListener,Ie="msLaunchUri"in navigator&&!("documentMode"in document),be=Ve("webkit"),Te=Ve("android"),je=Ve("android 2")||Ve("android 3"),Ae=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Oe=Te&&Ve("Google")&&Ae<537&&!("AudioNode"in window),ke=!!window.opera,Ke=!Ie&&Ve("chrome"),Ue=Ve("gecko")&&!be&&!ke&&!ve,it=!Ke&&Ve("safari"),ye=Ve("phantom"),F="OTransition"in fe,K=navigator.platform.indexOf("Win")===0,_e=ve&&"transition"in fe,Pe="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!je,se="MozPerspective"in fe,ge=!window.L_DISABLE_3D&&(_e||Pe||se)&&!F&&!ye,de=typeof orientation<"u"||Ve("mobile"),Re=de&&be,Be=de&&Pe,V=!window.PointerEvent&&window.MSPointerEvent,xe=!!(window.PointerEvent||V),Ce="ontouchstart"in window||!!window.TouchEvent,me=!window.L_NO_TOUCH&&(Ce||xe),Me=de&&ke,He=de&&Ue,ft=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,we=function(){var h=!1;try{var E=Object.defineProperty({},"passive",{get:function(){h=!0}});window.addEventListener("testPassiveEventSupport",d,E),window.removeEventListener("testPassiveEventSupport",d,E)}catch{}return h}(),W=function(){return!!document.createElement("canvas").getContext}(),G=!!(document.createElementNS&&U("svg").createSVGRect),J=!!G&&function(){var h=document.createElement("div");return h.innerHTML="<svg/>",(h.firstChild&&h.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Se=!G&&function(){try{var h=document.createElement("div");h.innerHTML='<v:shape adj="1"/>';var E=h.firstChild;return E.style.behavior="url(#default#VML)",E&&typeof E.adj=="object"}catch{return!1}}(),Le=navigator.platform.indexOf("Mac")===0,De=navigator.platform.indexOf("Linux")===0;function Ve(h){return navigator.userAgent.toLowerCase().indexOf(h)>=0}var $e={ie:ve,ielt9:ce,edge:Ie,webkit:be,android:Te,android23:je,androidStock:Oe,opera:ke,chrome:Ke,gecko:Ue,safari:it,phantom:ye,opera12:F,win:K,ie3d:_e,webkit3d:Pe,gecko3d:se,any3d:ge,mobile:de,mobileWebkit:Re,mobileWebkit3d:Be,msPointer:V,pointer:xe,touch:me,touchNative:Ce,mobileOpera:Me,mobileGecko:He,retina:ft,passiveEvents:we,canvas:W,svg:G,vml:Se,inlineSvg:J,mac:Le,linux:De},ut=$e.msPointer?"MSPointerDown":"pointerdown",lt=$e.msPointer?"MSPointerMove":"pointermove",dt=$e.msPointer?"MSPointerUp":"pointerup",ct=$e.msPointer?"MSPointerCancel":"pointercancel",nt={touchstart:ut,touchmove:lt,touchend:dt,touchcancel:ct},lr={touchstart:vl,touchmove:En,touchend:En,touchcancel:En},at={},Ne=!1;function Ge(h,E,C){return E==="touchstart"&&Tr(),lr[E]?(C=lr[E].bind(this,C),h.addEventListener(nt[E],C,!1),C):(console.warn("wrong event specified:",E),d)}function We(h,E,C){if(!nt[E]){console.warn("wrong event specified:",E);return}h.removeEventListener(nt[E],C,!1)}function ht(h){at[h.pointerId]=h}function gt(h){at[h.pointerId]&&(at[h.pointerId]=h)}function Nt(h){delete at[h.pointerId]}function Tr(){Ne||(document.addEventListener(ut,ht,!0),document.addEventListener(lt,gt,!0),document.addEventListener(dt,Nt,!0),document.addEventListener(ct,Nt,!0),Ne=!0)}function En(h,E){if(E.pointerType!==(E.MSPOINTER_TYPE_MOUSE||"mouse")){E.touches=[];for(var C in at)E.touches.push(at[C]);E.changedTouches=[E],h(E)}}function vl(h,E){E.MSPOINTER_TYPE_TOUCH&&E.pointerType===E.MSPOINTER_TYPE_TOUCH&&an(E),En(h,E)}function Zi(h){var E={},C,z;for(z in h)C=h[z],E[z]=C&&C.bind?C.bind(h):C;return h=E,E.type="dblclick",E.detail=2,E.isTrusted=!1,E._simulated=!0,E}var xr=200;function wa(h,E){h.addEventListener("dblclick",E);var C=0,z;function ue(Ee){if(Ee.detail!==1){z=Ee.detail;return}if(!(Ee.pointerType==="mouse"||Ee.sourceCapabilities&&!Ee.sourceCapabilities.firesTouchEvents)){var qe=aR(Ee);if(!(qe.some(function(Xe){return Xe instanceof HTMLLabelElement&&Xe.attributes.for})&&!qe.some(function(Xe){return Xe instanceof HTMLInputElement||Xe instanceof HTMLSelectElement}))){var Ye=Date.now();Ye-C<=xr?(z++,z===2&&E(Zi(Ee))):z=1,C=Ye}}}return h.addEventListener("click",ue),{dblclick:E,simDblclick:ue}}function qn(h,E){h.removeEventListener("dblclick",E.dblclick),h.removeEventListener("click",E.simDblclick)}var Yo=k0(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),oi=k0(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Xo=oi==="webkitTransition"||oi==="OTransition"?oi+"End":"transitionend";function si(h){return typeof h=="string"?document.getElementById(h):h}function ro(h,E){var C=h.style[E]||h.currentStyle&&h.currentStyle[E];if((!C||C==="auto")&&document.defaultView){var z=document.defaultView.getComputedStyle(h,null);C=z?z[E]:null}return C==="auto"?null:C}function Ft(h,E,C){var z=document.createElement(h);return z.className=E||"",C&&C.appendChild(z),z}function Jt(h){var E=h.parentNode;E&&E.removeChild(h)}function Pi(h){for(;h.firstChild;)h.removeChild(h.firstChild)}function Js(h){var E=h.parentNode;E&&E.lastChild!==h&&E.appendChild(h)}function eu(h){var E=h.parentNode;E&&E.firstChild!==h&&E.insertBefore(h,E.firstChild)}function Tg(h,E){if(h.classList!==void 0)return h.classList.contains(E);var C=M0(h);return C.length>0&&new RegExp("(^|\\s)"+E+"(\\s|$)").test(C)}function Dt(h,E){if(h.classList!==void 0)for(var C=b(E),z=0,ue=C.length;z<ue;z++)h.classList.add(C[z]);else if(!Tg(h,E)){var Ee=M0(h);xg(h,(Ee?Ee+" ":"")+E)}}function Dr(h,E){h.classList!==void 0?h.classList.remove(E):xg(h,p((" "+M0(h)+" ").replace(" "+E+" "," ")))}function xg(h,E){h.className.baseVal===void 0?h.className=E:h.className.baseVal=E}function M0(h){return h.correspondingElement&&(h=h.correspondingElement),h.className.baseVal===void 0?h.className:h.className.baseVal}function ui(h,E){"opacity"in h.style?h.style.opacity=E:"filter"in h.style&&r9(h,E)}function r9(h,E){var C=!1,z="DXImageTransform.Microsoft.Alpha";try{C=h.filters.item(z)}catch{if(E===1)return}E=Math.round(E*100),C?(C.Enabled=E!==100,C.Opacity=E):h.style.filter+=" progid:"+z+"(opacity="+E+")"}function k0(h){for(var E=document.documentElement.style,C=0;C<h.length;C++)if(h[C]in E)return h[C];return!1}function Jo(h,E,C){var z=E||new ae(0,0);h.style[Yo]=($e.ie3d?"translate("+z.x+"px,"+z.y+"px)":"translate3d("+z.x+"px,"+z.y+"px,0)")+(C?" scale("+C+")":"")}function $r(h,E){h._leaflet_pos=E,$e.any3d?Jo(h,E):(h.style.left=E.x+"px",h.style.top=E.y+"px")}function es(h){return h._leaflet_pos||new ae(0,0)}var wl,Sl,Rg;if("onselectstart"in document)wl=function(){Ot(window,"selectstart",an)},Sl=function(){ar(window,"selectstart",an)};else{var El=k0(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);wl=function(){if(El){var h=document.documentElement.style;Rg=h[El],h[El]="none"}},Sl=function(){El&&(document.documentElement.style[El]=Rg,Rg=void 0)}}function Ag(){Ot(window,"dragstart",an)}function Ig(){ar(window,"dragstart",an)}var F0,Pg;function Og(h){for(;h.tabIndex===-1;)h=h.parentNode;h.style&&(j0(),F0=h,Pg=h.style.outlineStyle,h.style.outlineStyle="none",Ot(window,"keydown",j0))}function j0(){F0&&(F0.style.outlineStyle=Pg,F0=void 0,Pg=void 0,ar(window,"keydown",j0))}function nR(h){do h=h.parentNode;while((!h.offsetWidth||!h.offsetHeight)&&h!==document.body);return h}function Ng(h){var E=h.getBoundingClientRect();return{x:E.width/h.offsetWidth||1,y:E.height/h.offsetHeight||1,boundingClientRect:E}}var n9={__proto__:null,TRANSFORM:Yo,TRANSITION:oi,TRANSITION_END:Xo,get:si,getStyle:ro,create:Ft,remove:Jt,empty:Pi,toFront:Js,toBack:eu,hasClass:Tg,addClass:Dt,removeClass:Dr,setClass:xg,getClass:M0,setOpacity:ui,testProp:k0,setTransform:Jo,setPosition:$r,getPosition:es,get disableTextSelection(){return wl},get enableTextSelection(){return Sl},disableImageDrag:Ag,enableImageDrag:Ig,preventOutline:Og,restoreOutline:j0,getSizedParentNode:nR,getScale:Ng};function Ot(h,E,C,z){if(E&&typeof E=="object")for(var ue in E)Cg(h,ue,E[ue],C);else{E=b(E);for(var Ee=0,qe=E.length;Ee<qe;Ee++)Cg(h,E[Ee],C,z)}return this}var Yi="_leaflet_events";function ar(h,E,C,z){if(arguments.length===1)iR(h),delete h[Yi];else if(E&&typeof E=="object")for(var ue in E)Lg(h,ue,E[ue],C);else if(E=b(E),arguments.length===2)iR(h,function(Ye){return S(E,Ye)!==-1});else for(var Ee=0,qe=E.length;Ee<qe;Ee++)Lg(h,E[Ee],C,z);return this}function iR(h,E){for(var C in h[Yi]){var z=C.split(/\d/)[0];(!E||E(z))&&Lg(h,z,null,null,C)}}var Dg={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Cg(h,E,C,z){var ue=E+l(C)+(z?"_"+l(z):"");if(h[Yi]&&h[Yi][ue])return this;var Ee=function(Ye){return C.call(z||h,Ye||window.event)},qe=Ee;!$e.touchNative&&$e.pointer&&E.indexOf("touch")===0?Ee=Ge(h,E,Ee):$e.touch&&E==="dblclick"?Ee=wa(h,Ee):"addEventListener"in h?E==="touchstart"||E==="touchmove"||E==="wheel"||E==="mousewheel"?h.addEventListener(Dg[E]||E,Ee,$e.passiveEvents?{passive:!1}:!1):E==="mouseenter"||E==="mouseleave"?(Ee=function(Ye){Ye=Ye||window.event,kg(h,Ye)&&qe(Ye)},h.addEventListener(Dg[E],Ee,!1)):h.addEventListener(E,qe,!1):h.attachEvent("on"+E,Ee),h[Yi]=h[Yi]||{},h[Yi][ue]=Ee}function Lg(h,E,C,z,ue){ue=ue||E+l(C)+(z?"_"+l(z):"");var Ee=h[Yi]&&h[Yi][ue];if(!Ee)return this;!$e.touchNative&&$e.pointer&&E.indexOf("touch")===0?We(h,E,Ee):$e.touch&&E==="dblclick"?qn(h,Ee):"removeEventListener"in h?h.removeEventListener(Dg[E]||E,Ee,!1):h.detachEvent("on"+E,Ee),h[Yi][ue]=null}function ts(h){return h.stopPropagation?h.stopPropagation():h.originalEvent?h.originalEvent._stopped=!0:h.cancelBubble=!0,this}function Mg(h){return Cg(h,"wheel",ts),this}function Tl(h){return Ot(h,"mousedown touchstart dblclick contextmenu",ts),h._leaflet_disable_click=!0,this}function an(h){return h.preventDefault?h.preventDefault():h.returnValue=!1,this}function rs(h){return an(h),ts(h),this}function aR(h){if(h.composedPath)return h.composedPath();for(var E=[],C=h.target;C;)E.push(C),C=C.parentNode;return E}function oR(h,E){if(!E)return new ae(h.clientX,h.clientY);var C=Ng(E),z=C.boundingClientRect;return new ae((h.clientX-z.left)/C.x-E.clientLeft,(h.clientY-z.top)/C.y-E.clientTop)}var i9=$e.linux&&$e.chrome?window.devicePixelRatio:$e.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function sR(h){return $e.edge?h.wheelDeltaY/2:h.deltaY&&h.deltaMode===0?-h.deltaY/i9:h.deltaY&&h.deltaMode===1?-h.deltaY*20:h.deltaY&&h.deltaMode===2?-h.deltaY*60:h.deltaX||h.deltaZ?0:h.wheelDelta?(h.wheelDeltaY||h.wheelDelta)/2:h.detail&&Math.abs(h.detail)<32765?-h.detail*20:h.detail?h.detail/-32765*60:0}function kg(h,E){var C=E.relatedTarget;if(!C)return!0;try{for(;C&&C!==h;)C=C.parentNode}catch{return!1}return C!==h}var a9={__proto__:null,on:Ot,off:ar,stopPropagation:ts,disableScrollPropagation:Mg,disableClickPropagation:Tl,preventDefault:an,stop:rs,getPropagationPath:aR,getMousePosition:oR,getWheelDelta:sR,isExternalTarget:kg,addListener:Ot,removeListener:ar},uR=le.extend({run:function(h,E,C,z){this.stop(),this._el=h,this._inProgress=!0,this._duration=C||.25,this._easeOutPower=1/Math.max(z||.5,.2),this._startPos=es(h),this._offset=E.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=j(this._animate,this),this._step()},_step:function(h){var E=+new Date-this._startTime,C=this._duration*1e3;E<C?this._runFrame(this._easeOut(E/C),h):(this._runFrame(1),this._complete())},_runFrame:function(h,E){var C=this._startPos.add(this._offset.multiplyBy(h));E&&C._round(),$r(this._el,C),this.fire("step")},_complete:function(){P(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(h){return 1-Math.pow(1-h,this._easeOutPower)}}),$t=le.extend({options:{crs:T,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(h,E){E=v(this,E),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(h),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),E.maxBounds&&this.setMaxBounds(E.maxBounds),E.zoom!==void 0&&(this._zoom=this._limitZoom(E.zoom)),E.center&&E.zoom!==void 0&&this.setView(O(E.center),E.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=oi&&$e.any3d&&!$e.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ot(this._proxy,Xo,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(h,E,C){if(E=E===void 0?this._zoom:this._limitZoom(E),h=this._limitCenter(O(h),E,this.options.maxBounds),C=C||{},this._stop(),this._loaded&&!C.reset&&C!==!0){C.animate!==void 0&&(C.zoom=i({animate:C.animate},C.zoom),C.pan=i({animate:C.animate,duration:C.duration},C.pan));var z=this._zoom!==E?this._tryAnimatedZoom&&this._tryAnimatedZoom(h,E,C.zoom):this._tryAnimatedPan(h,C.pan);if(z)return clearTimeout(this._sizeTimer),this}return this._resetView(h,E,C.pan&&C.pan.noMoveStart),this},setZoom:function(h,E){return this._loaded?this.setView(this.getCenter(),h,{zoom:E}):(this._zoom=h,this)},zoomIn:function(h,E){return h=h||($e.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+h,E)},zoomOut:function(h,E){return h=h||($e.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-h,E)},setZoomAround:function(h,E,C){var z=this.getZoomScale(E),ue=this.getSize().divideBy(2),Ee=h instanceof ae?h:this.latLngToContainerPoint(h),qe=Ee.subtract(ue).multiplyBy(1-1/z),Ye=this.containerPointToLatLng(ue.add(qe));return this.setView(Ye,E,{zoom:C})},_getBoundsCenterZoom:function(h,E){E=E||{},h=h.getBounds?h.getBounds():Q(h);var C=H(E.paddingTopLeft||E.padding||[0,0]),z=H(E.paddingBottomRight||E.padding||[0,0]),ue=this.getBoundsZoom(h,!1,C.add(z));if(ue=typeof E.maxZoom=="number"?Math.min(E.maxZoom,ue):ue,ue===1/0)return{center:h.getCenter(),zoom:ue};var Ee=z.subtract(C).divideBy(2),qe=this.project(h.getSouthWest(),ue),Ye=this.project(h.getNorthEast(),ue),Xe=this.unproject(qe.add(Ye).divideBy(2).add(Ee),ue);return{center:Xe,zoom:ue}},fitBounds:function(h,E){if(h=Q(h),!h.isValid())throw new Error("Bounds are not valid.");var C=this._getBoundsCenterZoom(h,E);return this.setView(C.center,C.zoom,E)},fitWorld:function(h){return this.fitBounds([[-90,-180],[90,180]],h)},panTo:function(h,E){return this.setView(h,this._zoom,{pan:E})},panBy:function(h,E){if(h=H(h).round(),E=E||{},!h.x&&!h.y)return this.fire("moveend");if(E.animate!==!0&&!this.getSize().contains(h))return this._resetView(this.unproject(this.project(this.getCenter()).add(h)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new uR,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),E.noMoveStart||this.fire("movestart"),E.animate!==!1){Dt(this._mapPane,"leaflet-pan-anim");var C=this._getMapPanePos().subtract(h).round();this._panAnim.run(this._mapPane,C,E.duration||.25,E.easeLinearity)}else this._rawPanBy(h),this.fire("move").fire("moveend");return this},flyTo:function(h,E,C){if(C=C||{},C.animate===!1||!$e.any3d)return this.setView(h,E,C);this._stop();var z=this.project(this.getCenter()),ue=this.project(h),Ee=this.getSize(),qe=this._zoom;h=O(h),E=E===void 0?qe:E;var Ye=Math.max(Ee.x,Ee.y),Xe=Ye*this.getZoomScale(qe,E),ot=ue.distanceTo(z)||1,yt=1.42,xt=yt*yt;function Lt(Ur){var Z0=Ur?-1:1,W9=Ur?Xe:Ye,K9=Xe*Xe-Ye*Ye+Z0*xt*xt*ot*ot,Q9=2*W9*xt*ot,Wg=K9/Q9,UR=Math.sqrt(Wg*Wg+1)-Wg,Z9=UR<1e-9?-18:Math.log(UR);return Z9}function Tn(Ur){return(Math.exp(Ur)-Math.exp(-Ur))/2}function Jr(Ur){return(Math.exp(Ur)+Math.exp(-Ur))/2}function fi(Ur){return Tn(Ur)/Jr(Ur)}var Bn=Lt(0);function ou(Ur){return Ye*(Jr(Bn)/Jr(Bn+yt*Ur))}function V9(Ur){return Ye*(Jr(Bn)*fi(Bn+yt*Ur)-Tn(Bn))/xt}function H9(Ur){return 1-Math.pow(1-Ur,1.5)}var z9=Date.now(),BR=(Lt(1)-Bn)/yt,G9=C.duration?1e3*C.duration:1e3*BR*.8;function $R(){var Ur=(Date.now()-z9)/G9,Z0=H9(Ur)*BR;Ur<=1?(this._flyToFrame=j($R,this),this._move(this.unproject(z.add(ue.subtract(z).multiplyBy(V9(Z0)/ot)),qe),this.getScaleZoom(Ye/ou(Z0),qe),{flyTo:!0})):this._move(h,E)._moveEnd(!0)}return this._moveStart(!0,C.noMoveStart),$R.call(this),this},flyToBounds:function(h,E){var C=this._getBoundsCenterZoom(h,E);return this.flyTo(C.center,C.zoom,E)},setMaxBounds:function(h){return h=Q(h),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),h.isValid()?(this.options.maxBounds=h,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(h){var E=this.options.minZoom;return this.options.minZoom=h,this._loaded&&E!==h&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(h):this},setMaxZoom:function(h){var E=this.options.maxZoom;return this.options.maxZoom=h,this._loaded&&E!==h&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(h):this},panInsideBounds:function(h,E){this._enforcingBounds=!0;var C=this.getCenter(),z=this._limitCenter(C,this._zoom,Q(h));return C.equals(z)||this.panTo(z,E),this._enforcingBounds=!1,this},panInside:function(h,E){E=E||{};var C=H(E.paddingTopLeft||E.padding||[0,0]),z=H(E.paddingBottomRight||E.padding||[0,0]),ue=this.project(this.getCenter()),Ee=this.project(h),qe=this.getPixelBounds(),Ye=he([qe.min.add(C),qe.max.subtract(z)]),Xe=Ye.getSize();if(!Ye.contains(Ee)){this._enforcingBounds=!0;var ot=Ee.subtract(Ye.getCenter()),yt=Ye.extend(Ee).getSize().subtract(Xe);ue.x+=ot.x<0?-yt.x:yt.x,ue.y+=ot.y<0?-yt.y:yt.y,this.panTo(this.unproject(ue),E),this._enforcingBounds=!1}return this},invalidateSize:function(h){if(!this._loaded)return this;h=i({animate:!1,pan:!0},h===!0?{animate:!0}:h);var E=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var C=this.getSize(),z=E.divideBy(2).round(),ue=C.divideBy(2).round(),Ee=z.subtract(ue);return!Ee.x&&!Ee.y?this:(h.animate&&h.pan?this.panBy(Ee):(h.pan&&this._rawPanBy(Ee),this.fire("move"),h.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:E,newSize:C}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(h){if(h=this._locateOptions=i({timeout:1e4,watch:!1},h),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var E=o(this._handleGeolocationResponse,this),C=o(this._handleGeolocationError,this);return h.watch?this._locationWatchId=navigator.geolocation.watchPosition(E,C,h):navigator.geolocation.getCurrentPosition(E,C,h),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(h){if(this._container._leaflet_id){var E=h.code,C=h.message||(E===1?"permission denied":E===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:E,message:"Geolocation error: "+C+"."})}},_handleGeolocationResponse:function(h){if(this._container._leaflet_id){var E=h.coords.latitude,C=h.coords.longitude,z=new ee(E,C),ue=z.toBounds(h.coords.accuracy*2),Ee=this._locateOptions;if(Ee.setView){var qe=this.getBoundsZoom(ue);this.setView(z,Ee.maxZoom?Math.min(qe,Ee.maxZoom):qe)}var Ye={latlng:z,bounds:ue,timestamp:h.timestamp};for(var Xe in h.coords)typeof h.coords[Xe]=="number"&&(Ye[Xe]=h.coords[Xe]);this.fire("locationfound",Ye)}},addHandler:function(h,E){if(!E)return this;var C=this[h]=new E(this);return this._handlers.push(C),this.options[h]&&C.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Jt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(P(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var h;for(h in this._layers)this._layers[h].remove();for(h in this._panes)Jt(this._panes[h]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(h,E){var C="leaflet-pane"+(h?" leaflet-"+h.replace("Pane","")+"-pane":""),z=Ft("div",C,E||this._mapPane);return h&&(this._panes[h]=z),z},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var h=this.getPixelBounds(),E=this.unproject(h.getBottomLeft()),C=this.unproject(h.getTopRight());return new Z(E,C)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(h,E,C){h=Q(h),C=H(C||[0,0]);var z=this.getZoom()||0,ue=this.getMinZoom(),Ee=this.getMaxZoom(),qe=h.getNorthWest(),Ye=h.getSouthEast(),Xe=this.getSize().subtract(C),ot=he(this.project(Ye,z),this.project(qe,z)).getSize(),yt=$e.any3d?this.options.zoomSnap:1,xt=Xe.x/ot.x,Lt=Xe.y/ot.y,Tn=E?Math.max(xt,Lt):Math.min(xt,Lt);return z=this.getScaleZoom(Tn,z),yt&&(z=Math.round(z/(yt/100))*(yt/100),z=E?Math.ceil(z/yt)*yt:Math.floor(z/yt)*yt),Math.max(ue,Math.min(Ee,z))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ae(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(h,E){var C=this._getTopLeftPoint(h,E);return new oe(C,C.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(h){return this.options.crs.getProjectedBounds(h===void 0?this.getZoom():h)},getPane:function(h){return typeof h=="string"?this._panes[h]:h},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(h,E){var C=this.options.crs;return E=E===void 0?this._zoom:E,C.scale(h)/C.scale(E)},getScaleZoom:function(h,E){var C=this.options.crs;E=E===void 0?this._zoom:E;var z=C.zoom(h*C.scale(E));return isNaN(z)?1/0:z},project:function(h,E){return E=E===void 0?this._zoom:E,this.options.crs.latLngToPoint(O(h),E)},unproject:function(h,E){return E=E===void 0?this._zoom:E,this.options.crs.pointToLatLng(H(h),E)},layerPointToLatLng:function(h){var E=H(h).add(this.getPixelOrigin());return this.unproject(E)},latLngToLayerPoint:function(h){var E=this.project(O(h))._round();return E._subtract(this.getPixelOrigin())},wrapLatLng:function(h){return this.options.crs.wrapLatLng(O(h))},wrapLatLngBounds:function(h){return this.options.crs.wrapLatLngBounds(Q(h))},distance:function(h,E){return this.options.crs.distance(O(h),O(E))},containerPointToLayerPoint:function(h){return H(h).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(h){return H(h).add(this._getMapPanePos())},containerPointToLatLng:function(h){var E=this.containerPointToLayerPoint(H(h));return this.layerPointToLatLng(E)},latLngToContainerPoint:function(h){return this.layerPointToContainerPoint(this.latLngToLayerPoint(O(h)))},mouseEventToContainerPoint:function(h){return oR(h,this._container)},mouseEventToLayerPoint:function(h){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(h))},mouseEventToLatLng:function(h){return this.layerPointToLatLng(this.mouseEventToLayerPoint(h))},_initContainer:function(h){var E=this._container=si(h);if(E){if(E._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ot(E,"scroll",this._onScroll,this),this._containerId=l(E)},_initLayout:function(){var h=this._container;this._fadeAnimated=this.options.fadeAnimation&&$e.any3d,Dt(h,"leaflet-container"+($e.touch?" leaflet-touch":"")+($e.retina?" leaflet-retina":"")+($e.ielt9?" leaflet-oldie":"")+($e.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var E=ro(h,"position");E!=="absolute"&&E!=="relative"&&E!=="fixed"&&E!=="sticky"&&(h.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var h=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),$r(this._mapPane,new ae(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Dt(h.markerPane,"leaflet-zoom-hide"),Dt(h.shadowPane,"leaflet-zoom-hide"))},_resetView:function(h,E,C){$r(this._mapPane,new ae(0,0));var z=!this._loaded;this._loaded=!0,E=this._limitZoom(E),this.fire("viewprereset");var ue=this._zoom!==E;this._moveStart(ue,C)._move(h,E)._moveEnd(ue),this.fire("viewreset"),z&&this.fire("load")},_moveStart:function(h,E){return h&&this.fire("zoomstart"),E||this.fire("movestart"),this},_move:function(h,E,C,z){E===void 0&&(E=this._zoom);var ue=this._zoom!==E;return this._zoom=E,this._lastCenter=h,this._pixelOrigin=this._getNewPixelOrigin(h),z?C&&C.pinch&&this.fire("zoom",C):((ue||C&&C.pinch)&&this.fire("zoom",C),this.fire("move",C)),this},_moveEnd:function(h){return h&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return P(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(h){$r(this._mapPane,this._getMapPanePos().subtract(h))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(h){this._targets={},this._targets[l(this._container)]=this;var E=h?ar:Ot;E(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&E(window,"resize",this._onResize,this),$e.any3d&&this.options.transform3DLimit&&(h?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){P(this._resizeRequest),this._resizeRequest=j(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var h=this._getMapPanePos();Math.max(Math.abs(h.x),Math.abs(h.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(h,E){for(var C=[],z,ue=E==="mouseout"||E==="mouseover",Ee=h.target||h.srcElement,qe=!1;Ee;){if(z=this._targets[l(Ee)],z&&(E==="click"||E==="preclick")&&this._draggableMoved(z)){qe=!0;break}if(z&&z.listens(E,!0)&&(ue&&!kg(Ee,h)||(C.push(z),ue))||Ee===this._container)break;Ee=Ee.parentNode}return!C.length&&!qe&&!ue&&this.listens(E,!0)&&(C=[this]),C},_isClickDisabled:function(h){for(;h&&h!==this._container;){if(h._leaflet_disable_click)return!0;h=h.parentNode}},_handleDOMEvent:function(h){var E=h.target||h.srcElement;if(!(!this._loaded||E._leaflet_disable_events||h.type==="click"&&this._isClickDisabled(E))){var C=h.type;C==="mousedown"&&Og(E),this._fireDOMEvent(h,C)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(h,E,C){if(h.type==="click"){var z=i({},h);z.type="preclick",this._fireDOMEvent(z,z.type,C)}var ue=this._findEventTargets(h,E);if(C){for(var Ee=[],qe=0;qe<C.length;qe++)C[qe].listens(E,!0)&&Ee.push(C[qe]);ue=Ee.concat(ue)}if(ue.length){E==="contextmenu"&&an(h);var Ye=ue[0],Xe={originalEvent:h};if(h.type!=="keypress"&&h.type!=="keydown"&&h.type!=="keyup"){var ot=Ye.getLatLng&&(!Ye._radius||Ye._radius<=10);Xe.containerPoint=ot?this.latLngToContainerPoint(Ye.getLatLng()):this.mouseEventToContainerPoint(h),Xe.layerPoint=this.containerPointToLayerPoint(Xe.containerPoint),Xe.latlng=ot?Ye.getLatLng():this.layerPointToLatLng(Xe.layerPoint)}for(qe=0;qe<ue.length;qe++)if(ue[qe].fire(E,Xe,!0),Xe.originalEvent._stopped||ue[qe].options.bubblingMouseEvents===!1&&S(this._mouseEvents,E)!==-1)return}},_draggableMoved:function(h){return h=h.dragging&&h.dragging.enabled()?h:this,h.dragging&&h.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var h=0,E=this._handlers.length;h<E;h++)this._handlers[h].disable()},whenReady:function(h,E){return this._loaded?h.call(E||this,{target:this}):this.on("load",h,E),this},_getMapPanePos:function(){return es(this._mapPane)||new ae(0,0)},_moved:function(){var h=this._getMapPanePos();return h&&!h.equals([0,0])},_getTopLeftPoint:function(h,E){var C=h&&E!==void 0?this._getNewPixelOrigin(h,E):this.getPixelOrigin();return C.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(h,E){var C=this.getSize()._divideBy(2);return this.project(h,E)._subtract(C)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(h,E,C){var z=this._getNewPixelOrigin(C,E);return this.project(h,E)._subtract(z)},_latLngBoundsToNewLayerBounds:function(h,E,C){var z=this._getNewPixelOrigin(C,E);return he([this.project(h.getSouthWest(),E)._subtract(z),this.project(h.getNorthWest(),E)._subtract(z),this.project(h.getSouthEast(),E)._subtract(z),this.project(h.getNorthEast(),E)._subtract(z)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(h){return this.latLngToLayerPoint(h).subtract(this._getCenterLayerPoint())},_limitCenter:function(h,E,C){if(!C)return h;var z=this.project(h,E),ue=this.getSize().divideBy(2),Ee=new oe(z.subtract(ue),z.add(ue)),qe=this._getBoundsOffset(Ee,C,E);return Math.abs(qe.x)<=1&&Math.abs(qe.y)<=1?h:this.unproject(z.add(qe),E)},_limitOffset:function(h,E){if(!E)return h;var C=this.getPixelBounds(),z=new oe(C.min.add(h),C.max.add(h));return h.add(this._getBoundsOffset(z,E))},_getBoundsOffset:function(h,E,C){var z=he(this.project(E.getNorthEast(),C),this.project(E.getSouthWest(),C)),ue=z.min.subtract(h.min),Ee=z.max.subtract(h.max),qe=this._rebound(ue.x,-Ee.x),Ye=this._rebound(ue.y,-Ee.y);return new ae(qe,Ye)},_rebound:function(h,E){return h+E>0?Math.round(h-E)/2:Math.max(0,Math.ceil(h))-Math.max(0,Math.floor(E))},_limitZoom:function(h){var E=this.getMinZoom(),C=this.getMaxZoom(),z=$e.any3d?this.options.zoomSnap:1;return z&&(h=Math.round(h/z)*z),Math.max(E,Math.min(C,h))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Dr(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(h,E){var C=this._getCenterOffset(h)._trunc();return(E&&E.animate)!==!0&&!this.getSize().contains(C)?!1:(this.panBy(C,E),!0)},_createAnimProxy:function(){var h=this._proxy=Ft("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(h),this.on("zoomanim",function(E){var C=Yo,z=this._proxy.style[C];Jo(this._proxy,this.project(E.center,E.zoom),this.getZoomScale(E.zoom,1)),z===this._proxy.style[C]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Jt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var h=this.getCenter(),E=this.getZoom();Jo(this._proxy,this.project(h,E),this.getZoomScale(E,1))},_catchTransitionEnd:function(h){this._animatingZoom&&h.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(h,E,C){if(this._animatingZoom)return!0;if(C=C||{},!this._zoomAnimated||C.animate===!1||this._nothingToAnimate()||Math.abs(E-this._zoom)>this.options.zoomAnimationThreshold)return!1;var z=this.getZoomScale(E),ue=this._getCenterOffset(h)._divideBy(1-1/z);return C.animate!==!0&&!this.getSize().contains(ue)?!1:(j(function(){this._moveStart(!0,C.noMoveStart||!1)._animateZoom(h,E,!0)},this),!0)},_animateZoom:function(h,E,C,z){this._mapPane&&(C&&(this._animatingZoom=!0,this._animateToCenter=h,this._animateToZoom=E,Dt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:h,zoom:E,noUpdate:z}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Dr(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function o9(h,E){return new $t(h,E)}var Oi=Y.extend({options:{position:"topright"},initialize:function(h){v(this,h)},getPosition:function(){return this.options.position},setPosition:function(h){var E=this._map;return E&&E.removeControl(this),this.options.position=h,E&&E.addControl(this),this},getContainer:function(){return this._container},addTo:function(h){this.remove(),this._map=h;var E=this._container=this.onAdd(h),C=this.getPosition(),z=h._controlCorners[C];return Dt(E,"leaflet-control"),C.indexOf("bottom")!==-1?z.insertBefore(E,z.firstChild):z.appendChild(E),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Jt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(h){this._map&&h&&h.screenX>0&&h.screenY>0&&this._map.getContainer().focus()}}),xl=function(h){return new Oi(h)};$t.include({addControl:function(h){return h.addTo(this),this},removeControl:function(h){return h.remove(),this},_initControlPos:function(){var h=this._controlCorners={},E="leaflet-",C=this._controlContainer=Ft("div",E+"control-container",this._container);function z(ue,Ee){var qe=E+ue+" "+E+Ee;h[ue+Ee]=Ft("div",qe,C)}z("top","left"),z("top","right"),z("bottom","left"),z("bottom","right")},_clearControlPos:function(){for(var h in this._controlCorners)Jt(this._controlCorners[h]);Jt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var lR=Oi.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(h,E,C,z){return C<z?-1:z<C?1:0}},initialize:function(h,E,C){v(this,C),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var z in h)this._addLayer(h[z],z);for(z in E)this._addLayer(E[z],z,!0)},onAdd:function(h){this._initLayout(),this._update(),this._map=h,h.on("zoomend",this._checkDisabledLayers,this);for(var E=0;E<this._layers.length;E++)this._layers[E].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(h){return Oi.prototype.addTo.call(this,h),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(h,E){return this._addLayer(h,E),this._map?this._update():this},addOverlay:function(h,E){return this._addLayer(h,E,!0),this._map?this._update():this},removeLayer:function(h){h.off("add remove",this._onLayerChange,this);var E=this._getLayer(l(h));return E&&this._layers.splice(this._layers.indexOf(E),1),this._map?this._update():this},expand:function(){Dt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var h=this._map.getSize().y-(this._container.offsetTop+50);return h<this._section.clientHeight?(Dt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=h+"px"):Dr(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Dr(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var h="leaflet-control-layers",E=this._container=Ft("div",h),C=this.options.collapsed;E.setAttribute("aria-haspopup",!0),Tl(E),Mg(E);var z=this._section=Ft("section",h+"-list");C&&(this._map.on("click",this.collapse,this),Ot(E,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var ue=this._layersLink=Ft("a",h+"-toggle",E);ue.href="#",ue.title="Layers",ue.setAttribute("role","button"),Ot(ue,{keydown:function(Ee){Ee.keyCode===13&&this._expandSafely()},click:function(Ee){an(Ee),this._expandSafely()}},this),C||this.expand(),this._baseLayersList=Ft("div",h+"-base",z),this._separator=Ft("div",h+"-separator",z),this._overlaysList=Ft("div",h+"-overlays",z),E.appendChild(z)},_getLayer:function(h){for(var E=0;E<this._layers.length;E++)if(this._layers[E]&&l(this._layers[E].layer)===h)return this._layers[E]},_addLayer:function(h,E,C){this._map&&h.on("add remove",this._onLayerChange,this),this._layers.push({layer:h,name:E,overlay:C}),this.options.sortLayers&&this._layers.sort(o(function(z,ue){return this.options.sortFunction(z.layer,ue.layer,z.name,ue.name)},this)),this.options.autoZIndex&&h.setZIndex&&(this._lastZIndex++,h.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Pi(this._baseLayersList),Pi(this._overlaysList),this._layerControlInputs=[];var h,E,C,z,ue=0;for(C=0;C<this._layers.length;C++)z=this._layers[C],this._addItem(z),E=E||z.overlay,h=h||!z.overlay,ue+=z.overlay?0:1;return this.options.hideSingleBase&&(h=h&&ue>1,this._baseLayersList.style.display=h?"":"none"),this._separator.style.display=E&&h?"":"none",this},_onLayerChange:function(h){this._handlingClick||this._update();var E=this._getLayer(l(h.target)),C=E.overlay?h.type==="add"?"overlayadd":"overlayremove":h.type==="add"?"baselayerchange":null;C&&this._map.fire(C,E)},_createRadioElement:function(h,E){var C='<input type="radio" class="leaflet-control-layers-selector" name="'+h+'"'+(E?' checked="checked"':"")+"/>",z=document.createElement("div");return z.innerHTML=C,z.firstChild},_addItem:function(h){var E=document.createElement("label"),C=this._map.hasLayer(h.layer),z;h.overlay?(z=document.createElement("input"),z.type="checkbox",z.className="leaflet-control-layers-selector",z.defaultChecked=C):z=this._createRadioElement("leaflet-base-layers_"+l(this),C),this._layerControlInputs.push(z),z.layerId=l(h.layer),Ot(z,"click",this._onInputClick,this);var ue=document.createElement("span");ue.innerHTML=" "+h.name;var Ee=document.createElement("span");E.appendChild(Ee),Ee.appendChild(z),Ee.appendChild(ue);var qe=h.overlay?this._overlaysList:this._baseLayersList;return qe.appendChild(E),this._checkDisabledLayers(),E},_onInputClick:function(){if(!this._preventClick){var h=this._layerControlInputs,E,C,z=[],ue=[];this._handlingClick=!0;for(var Ee=h.length-1;Ee>=0;Ee--)E=h[Ee],C=this._getLayer(E.layerId).layer,E.checked?z.push(C):E.checked||ue.push(C);for(Ee=0;Ee<ue.length;Ee++)this._map.hasLayer(ue[Ee])&&this._map.removeLayer(ue[Ee]);for(Ee=0;Ee<z.length;Ee++)this._map.hasLayer(z[Ee])||this._map.addLayer(z[Ee]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var h=this._layerControlInputs,E,C,z=this._map.getZoom(),ue=h.length-1;ue>=0;ue--)E=h[ue],C=this._getLayer(E.layerId).layer,E.disabled=C.options.minZoom!==void 0&&z<C.options.minZoom||C.options.maxZoom!==void 0&&z>C.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var h=this._section;this._preventClick=!0,Ot(h,"click",an),this.expand();var E=this;setTimeout(function(){ar(h,"click",an),E._preventClick=!1})}}),s9=function(h,E,C){return new lR(h,E,C)},Fg=Oi.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(h){var E="leaflet-control-zoom",C=Ft("div",E+" leaflet-bar"),z=this.options;return this._zoomInButton=this._createButton(z.zoomInText,z.zoomInTitle,E+"-in",C,this._zoomIn),this._zoomOutButton=this._createButton(z.zoomOutText,z.zoomOutTitle,E+"-out",C,this._zoomOut),this._updateDisabled(),h.on("zoomend zoomlevelschange",this._updateDisabled,this),C},onRemove:function(h){h.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(h){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(h.shiftKey?3:1))},_zoomOut:function(h){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(h.shiftKey?3:1))},_createButton:function(h,E,C,z,ue){var Ee=Ft("a",C,z);return Ee.innerHTML=h,Ee.href="#",Ee.title=E,Ee.setAttribute("role","button"),Ee.setAttribute("aria-label",E),Tl(Ee),Ot(Ee,"click",rs),Ot(Ee,"click",ue,this),Ot(Ee,"click",this._refocusOnMap,this),Ee},_updateDisabled:function(){var h=this._map,E="leaflet-disabled";Dr(this._zoomInButton,E),Dr(this._zoomOutButton,E),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||h._zoom===h.getMinZoom())&&(Dt(this._zoomOutButton,E),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||h._zoom===h.getMaxZoom())&&(Dt(this._zoomInButton,E),this._zoomInButton.setAttribute("aria-disabled","true"))}});$t.mergeOptions({zoomControl:!0}),$t.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Fg,this.addControl(this.zoomControl))});var u9=function(h){return new Fg(h)},fR=Oi.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(h){var E="leaflet-control-scale",C=Ft("div",E),z=this.options;return this._addScales(z,E+"-line",C),h.on(z.updateWhenIdle?"moveend":"move",this._update,this),h.whenReady(this._update,this),C},onRemove:function(h){h.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(h,E,C){h.metric&&(this._mScale=Ft("div",E,C)),h.imperial&&(this._iScale=Ft("div",E,C))},_update:function(){var h=this._map,E=h.getSize().y/2,C=h.distance(h.containerPointToLatLng([0,E]),h.containerPointToLatLng([this.options.maxWidth,E]));this._updateScales(C)},_updateScales:function(h){this.options.metric&&h&&this._updateMetric(h),this.options.imperial&&h&&this._updateImperial(h)},_updateMetric:function(h){var E=this._getRoundNum(h),C=E<1e3?E+" m":E/1e3+" km";this._updateScale(this._mScale,C,E/h)},_updateImperial:function(h){var E=h*3.2808399,C,z,ue;E>5280?(C=E/5280,z=this._getRoundNum(C),this._updateScale(this._iScale,z+" mi",z/C)):(ue=this._getRoundNum(E),this._updateScale(this._iScale,ue+" ft",ue/E))},_updateScale:function(h,E,C){h.style.width=Math.round(this.options.maxWidth*C)+"px",h.innerHTML=E},_getRoundNum:function(h){var E=Math.pow(10,(Math.floor(h)+"").length-1),C=h/E;return C=C>=10?10:C>=5?5:C>=3?3:C>=2?2:1,E*C}}),l9=function(h){return new fR(h)},f9='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',jg=Oi.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+($e.inlineSvg?f9+" ":"")+"Leaflet</a>"},initialize:function(h){v(this,h),this._attributions={}},onAdd:function(h){h.attributionControl=this,this._container=Ft("div","leaflet-control-attribution"),Tl(this._container);for(var E in h._layers)h._layers[E].getAttribution&&this.addAttribution(h._layers[E].getAttribution());return this._update(),h.on("layeradd",this._addAttribution,this),this._container},onRemove:function(h){h.off("layeradd",this._addAttribution,this)},_addAttribution:function(h){h.layer.getAttribution&&(this.addAttribution(h.layer.getAttribution()),h.layer.once("remove",function(){this.removeAttribution(h.layer.getAttribution())},this))},setPrefix:function(h){return this.options.prefix=h,this._update(),this},addAttribution:function(h){return h?(this._attributions[h]||(this._attributions[h]=0),this._attributions[h]++,this._update(),this):this},removeAttribution:function(h){return h?(this._attributions[h]&&(this._attributions[h]--,this._update()),this):this},_update:function(){if(this._map){var h=[];for(var E in this._attributions)this._attributions[E]&&h.push(E);var C=[];this.options.prefix&&C.push(this.options.prefix),h.length&&C.push(h.join(", ")),this._container.innerHTML=C.join(' <span aria-hidden="true">|</span> ')}}});$t.mergeOptions({attributionControl:!0}),$t.addInitHook(function(){this.options.attributionControl&&new jg().addTo(this)});var c9=function(h){return new jg(h)};Oi.Layers=lR,Oi.Zoom=Fg,Oi.Scale=fR,Oi.Attribution=jg,xl.layers=s9,xl.zoom=u9,xl.scale=l9,xl.attribution=c9;var Xi=Y.extend({initialize:function(h){this._map=h},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Xi.addTo=function(h,E){return h.addHandler(E,this),this};var d9={Events:X},cR=$e.touch?"touchstart mousedown":"mousedown",no=le.extend({options:{clickTolerance:3},initialize:function(h,E,C,z){v(this,z),this._element=h,this._dragStartTarget=E||h,this._preventOutline=C},enable:function(){this._enabled||(Ot(this._dragStartTarget,cR,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(no._dragging===this&&this.finishDrag(!0),ar(this._dragStartTarget,cR,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(h){if(this._enabled&&(this._moved=!1,!Tg(this._element,"leaflet-zoom-anim"))){if(h.touches&&h.touches.length!==1){no._dragging===this&&this.finishDrag();return}if(!(no._dragging||h.shiftKey||h.which!==1&&h.button!==1&&!h.touches)&&(no._dragging=this,this._preventOutline&&Og(this._element),Ag(),wl(),!this._moving)){this.fire("down");var E=h.touches?h.touches[0]:h,C=nR(this._element);this._startPoint=new ae(E.clientX,E.clientY),this._startPos=es(this._element),this._parentScale=Ng(C);var z=h.type==="mousedown";Ot(document,z?"mousemove":"touchmove",this._onMove,this),Ot(document,z?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(h){if(this._enabled){if(h.touches&&h.touches.length>1){this._moved=!0;return}var E=h.touches&&h.touches.length===1?h.touches[0]:h,C=new ae(E.clientX,E.clientY)._subtract(this._startPoint);!C.x&&!C.y||Math.abs(C.x)+Math.abs(C.y)<this.options.clickTolerance||(C.x/=this._parentScale.x,C.y/=this._parentScale.y,an(h),this._moved||(this.fire("dragstart"),this._moved=!0,Dt(document.body,"leaflet-dragging"),this._lastTarget=h.target||h.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Dt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(C),this._moving=!0,this._lastEvent=h,this._updatePosition())}},_updatePosition:function(){var h={originalEvent:this._lastEvent};this.fire("predrag",h),$r(this._element,this._newPos),this.fire("drag",h)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(h){Dr(document.body,"leaflet-dragging"),this._lastTarget&&(Dr(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ar(document,"mousemove touchmove",this._onMove,this),ar(document,"mouseup touchend touchcancel",this._onUp,this),Ig(),Sl();var E=this._moved&&this._moving;this._moving=!1,no._dragging=!1,E&&this.fire("dragend",{noInertia:h,distance:this._newPos.distanceTo(this._startPos)})}});function dR(h,E,C){var z,ue=[1,4,2,8],Ee,qe,Ye,Xe,ot,yt,xt,Lt;for(Ee=0,yt=h.length;Ee<yt;Ee++)h[Ee]._code=ns(h[Ee],E);for(Ye=0;Ye<4;Ye++){for(xt=ue[Ye],z=[],Ee=0,yt=h.length,qe=yt-1;Ee<yt;qe=Ee++)Xe=h[Ee],ot=h[qe],Xe._code&xt?ot._code&xt||(Lt=q0(ot,Xe,xt,E,C),Lt._code=ns(Lt,E),z.push(Lt)):(ot._code&xt&&(Lt=q0(ot,Xe,xt,E,C),Lt._code=ns(Lt,E),z.push(Lt)),z.push(Xe));h=z}return h}function hR(h,E){var C,z,ue,Ee,qe,Ye,Xe,ot,yt;if(!h||h.length===0)throw new Error("latlngs not passed");li(h)||(console.warn("latlngs are not flat! Only the first ring will be used"),h=h[0]);var xt=O([0,0]),Lt=Q(h),Tn=Lt.getNorthWest().distanceTo(Lt.getSouthWest())*Lt.getNorthEast().distanceTo(Lt.getNorthWest());Tn<1700&&(xt=qg(h));var Jr=h.length,fi=[];for(C=0;C<Jr;C++){var Bn=O(h[C]);fi.push(E.project(O([Bn.lat-xt.lat,Bn.lng-xt.lng])))}for(Ye=Xe=ot=0,C=0,z=Jr-1;C<Jr;z=C++)ue=fi[C],Ee=fi[z],qe=ue.y*Ee.x-Ee.y*ue.x,Xe+=(ue.x+Ee.x)*qe,ot+=(ue.y+Ee.y)*qe,Ye+=qe*3;Ye===0?yt=fi[0]:yt=[Xe/Ye,ot/Ye];var ou=E.unproject(H(yt));return O([ou.lat+xt.lat,ou.lng+xt.lng])}function qg(h){for(var E=0,C=0,z=0,ue=0;ue<h.length;ue++){var Ee=O(h[ue]);E+=Ee.lat,C+=Ee.lng,z++}return O([E/z,C/z])}var h9={__proto__:null,clipPolygon:dR,polygonCenter:hR,centroid:qg};function pR(h,E){if(!E||!h.length)return h.slice();var C=E*E;return h=y9(h,C),h=m9(h,C),h}function mR(h,E,C){return Math.sqrt(Rl(h,E,C,!0))}function p9(h,E,C){return Rl(h,E,C)}function m9(h,E){var C=h.length,z=typeof Uint8Array<"u"?Uint8Array:Array,ue=new z(C);ue[0]=ue[C-1]=1,Bg(h,ue,E,0,C-1);var Ee,qe=[];for(Ee=0;Ee<C;Ee++)ue[Ee]&&qe.push(h[Ee]);return qe}function Bg(h,E,C,z,ue){var Ee=0,qe,Ye,Xe;for(Ye=z+1;Ye<=ue-1;Ye++)Xe=Rl(h[Ye],h[z],h[ue],!0),Xe>Ee&&(qe=Ye,Ee=Xe);Ee>C&&(E[qe]=1,Bg(h,E,C,z,qe),Bg(h,E,C,qe,ue))}function y9(h,E){for(var C=[h[0]],z=1,ue=0,Ee=h.length;z<Ee;z++)g9(h[z],h[ue])>E&&(C.push(h[z]),ue=z);return ue<Ee-1&&C.push(h[Ee-1]),C}var yR;function gR(h,E,C,z,ue){var Ee=z?yR:ns(h,C),qe=ns(E,C),Ye,Xe,ot;for(yR=qe;;){if(!(Ee|qe))return[h,E];if(Ee&qe)return!1;Ye=Ee||qe,Xe=q0(h,E,Ye,C,ue),ot=ns(Xe,C),Ye===Ee?(h=Xe,Ee=ot):(E=Xe,qe=ot)}}function q0(h,E,C,z,ue){var Ee=E.x-h.x,qe=E.y-h.y,Ye=z.min,Xe=z.max,ot,yt;return C&8?(ot=h.x+Ee*(Xe.y-h.y)/qe,yt=Xe.y):C&4?(ot=h.x+Ee*(Ye.y-h.y)/qe,yt=Ye.y):C&2?(ot=Xe.x,yt=h.y+qe*(Xe.x-h.x)/Ee):C&1&&(ot=Ye.x,yt=h.y+qe*(Ye.x-h.x)/Ee),new ae(ot,yt,ue)}function ns(h,E){var C=0;return h.x<E.min.x?C|=1:h.x>E.max.x&&(C|=2),h.y<E.min.y?C|=4:h.y>E.max.y&&(C|=8),C}function g9(h,E){var C=E.x-h.x,z=E.y-h.y;return C*C+z*z}function Rl(h,E,C,z){var ue=E.x,Ee=E.y,qe=C.x-ue,Ye=C.y-Ee,Xe=qe*qe+Ye*Ye,ot;return Xe>0&&(ot=((h.x-ue)*qe+(h.y-Ee)*Ye)/Xe,ot>1?(ue=C.x,Ee=C.y):ot>0&&(ue+=qe*ot,Ee+=Ye*ot)),qe=h.x-ue,Ye=h.y-Ee,z?qe*qe+Ye*Ye:new ae(ue,Ee)}function li(h){return!g(h[0])||typeof h[0][0]!="object"&&typeof h[0][0]<"u"}function _R(h){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),li(h)}function bR(h,E){var C,z,ue,Ee,qe,Ye,Xe,ot;if(!h||h.length===0)throw new Error("latlngs not passed");li(h)||(console.warn("latlngs are not flat! Only the first ring will be used"),h=h[0]);var yt=O([0,0]),xt=Q(h),Lt=xt.getNorthWest().distanceTo(xt.getSouthWest())*xt.getNorthEast().distanceTo(xt.getNorthWest());Lt<1700&&(yt=qg(h));var Tn=h.length,Jr=[];for(C=0;C<Tn;C++){var fi=O(h[C]);Jr.push(E.project(O([fi.lat-yt.lat,fi.lng-yt.lng])))}for(C=0,z=0;C<Tn-1;C++)z+=Jr[C].distanceTo(Jr[C+1])/2;if(z===0)ot=Jr[0];else for(C=0,Ee=0;C<Tn-1;C++)if(qe=Jr[C],Ye=Jr[C+1],ue=qe.distanceTo(Ye),Ee+=ue,Ee>z){Xe=(Ee-z)/ue,ot=[Ye.x-Xe*(Ye.x-qe.x),Ye.y-Xe*(Ye.y-qe.y)];break}var Bn=E.unproject(H(ot));return O([Bn.lat+yt.lat,Bn.lng+yt.lng])}var _9={__proto__:null,simplify:pR,pointToSegmentDistance:mR,closestPointOnSegment:p9,clipSegment:gR,_getEdgeIntersection:q0,_getBitCode:ns,_sqClosestPointOnSegment:Rl,isFlat:li,_flat:_R,polylineCenter:bR},$g={project:function(h){return new ae(h.lng,h.lat)},unproject:function(h){return new ee(h.y,h.x)},bounds:new oe([-180,-90],[180,90])},Ug={R:6378137,R_MINOR:6356752314245179e-9,bounds:new oe([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(h){var E=Math.PI/180,C=this.R,z=h.lat*E,ue=this.R_MINOR/C,Ee=Math.sqrt(1-ue*ue),qe=Ee*Math.sin(z),Ye=Math.tan(Math.PI/4-z/2)/Math.pow((1-qe)/(1+qe),Ee/2);return z=-C*Math.log(Math.max(Ye,1e-10)),new ae(h.lng*E*C,z)},unproject:function(h){for(var E=180/Math.PI,C=this.R,z=this.R_MINOR/C,ue=Math.sqrt(1-z*z),Ee=Math.exp(-h.y/C),qe=Math.PI/2-2*Math.atan(Ee),Ye=0,Xe=.1,ot;Ye<15&&Math.abs(Xe)>1e-7;Ye++)ot=ue*Math.sin(qe),ot=Math.pow((1-ot)/(1+ot),ue/2),Xe=Math.PI/2-2*Math.atan(Ee*ot)-qe,qe+=Xe;return new ee(qe*E,h.x*E/C)}},b9={__proto__:null,LonLat:$g,Mercator:Ug,SphericalMercator:pe},v9=i({},$,{code:"EPSG:3395",projection:Ug,transformation:function(){var h=.5/(Math.PI*Ug.R);return w(h,.5,-h,.5)}()}),vR=i({},$,{code:"EPSG:4326",projection:$g,transformation:w(1/180,1,-1/180,.5)}),w9=i({},A,{projection:$g,transformation:w(1,0,-1,0),scale:function(h){return Math.pow(2,h)},zoom:function(h){return Math.log(h)/Math.LN2},distance:function(h,E){var C=E.lng-h.lng,z=E.lat-h.lat;return Math.sqrt(C*C+z*z)},infinite:!0});A.Earth=$,A.EPSG3395=v9,A.EPSG3857=T,A.EPSG900913=k,A.EPSG4326=vR,A.Simple=w9;var Ni=le.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(h){return h.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(h){return h&&h.removeLayer(this),this},getPane:function(h){return this._map.getPane(h?this.options[h]||h:this.options.pane)},addInteractiveTarget:function(h){return this._map._targets[l(h)]=this,this},removeInteractiveTarget:function(h){return delete this._map._targets[l(h)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(h){var E=h.target;if(E.hasLayer(this)){if(this._map=E,this._zoomAnimated=E._zoomAnimated,this.getEvents){var C=this.getEvents();E.on(C,this),this.once("remove",function(){E.off(C,this)},this)}this.onAdd(E),this.fire("add"),E.fire("layeradd",{layer:this})}}});$t.include({addLayer:function(h){if(!h._layerAdd)throw new Error("The provided object is not a Layer.");var E=l(h);return this._layers[E]?this:(this._layers[E]=h,h._mapToAdd=this,h.beforeAdd&&h.beforeAdd(this),this.whenReady(h._layerAdd,h),this)},removeLayer:function(h){var E=l(h);return this._layers[E]?(this._loaded&&h.onRemove(this),delete this._layers[E],this._loaded&&(this.fire("layerremove",{layer:h}),h.fire("remove")),h._map=h._mapToAdd=null,this):this},hasLayer:function(h){return l(h)in this._layers},eachLayer:function(h,E){for(var C in this._layers)h.call(E,this._layers[C]);return this},_addLayers:function(h){h=h?g(h)?h:[h]:[];for(var E=0,C=h.length;E<C;E++)this.addLayer(h[E])},_addZoomLimit:function(h){(!isNaN(h.options.maxZoom)||!isNaN(h.options.minZoom))&&(this._zoomBoundLayers[l(h)]=h,this._updateZoomLevels())},_removeZoomLimit:function(h){var E=l(h);this._zoomBoundLayers[E]&&(delete this._zoomBoundLayers[E],this._updateZoomLevels())},_updateZoomLevels:function(){var h=1/0,E=-1/0,C=this._getZoomSpan();for(var z in this._zoomBoundLayers){var ue=this._zoomBoundLayers[z].options;h=ue.minZoom===void 0?h:Math.min(h,ue.minZoom),E=ue.maxZoom===void 0?E:Math.max(E,ue.maxZoom)}this._layersMaxZoom=E===-1/0?void 0:E,this._layersMinZoom=h===1/0?void 0:h,C!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var tu=Ni.extend({initialize:function(h,E){v(this,E),this._layers={};var C,z;if(h)for(C=0,z=h.length;C<z;C++)this.addLayer(h[C])},addLayer:function(h){var E=this.getLayerId(h);return this._layers[E]=h,this._map&&this._map.addLayer(h),this},removeLayer:function(h){var E=h in this._layers?h:this.getLayerId(h);return this._map&&this._layers[E]&&this._map.removeLayer(this._layers[E]),delete this._layers[E],this},hasLayer:function(h){var E=typeof h=="number"?h:this.getLayerId(h);return E in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(h){var E=Array.prototype.slice.call(arguments,1),C,z;for(C in this._layers)z=this._layers[C],z[h]&&z[h].apply(z,E);return this},onAdd:function(h){this.eachLayer(h.addLayer,h)},onRemove:function(h){this.eachLayer(h.removeLayer,h)},eachLayer:function(h,E){for(var C in this._layers)h.call(E,this._layers[C]);return this},getLayer:function(h){return this._layers[h]},getLayers:function(){var h=[];return this.eachLayer(h.push,h),h},setZIndex:function(h){return this.invoke("setZIndex",h)},getLayerId:function(h){return l(h)}}),S9=function(h,E){return new tu(h,E)},Sa=tu.extend({addLayer:function(h){return this.hasLayer(h)?this:(h.addEventParent(this),tu.prototype.addLayer.call(this,h),this.fire("layeradd",{layer:h}))},removeLayer:function(h){return this.hasLayer(h)?(h in this._layers&&(h=this._layers[h]),h.removeEventParent(this),tu.prototype.removeLayer.call(this,h),this.fire("layerremove",{layer:h})):this},setStyle:function(h){return this.invoke("setStyle",h)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var h=new Z;for(var E in this._layers){var C=this._layers[E];h.extend(C.getBounds?C.getBounds():C.getLatLng())}return h}}),E9=function(h,E){return new Sa(h,E)},ru=Y.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(h){v(this,h)},createIcon:function(h){return this._createIcon("icon",h)},createShadow:function(h){return this._createIcon("shadow",h)},_createIcon:function(h,E){var C=this._getIconUrl(h);if(!C){if(h==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var z=this._createImg(C,E&&E.tagName==="IMG"?E:null);return this._setIconStyles(z,h),(this.options.crossOrigin||this.options.crossOrigin==="")&&(z.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),z},_setIconStyles:function(h,E){var C=this.options,z=C[E+"Size"];typeof z=="number"&&(z=[z,z]);var ue=H(z),Ee=H(E==="shadow"&&C.shadowAnchor||C.iconAnchor||ue&&ue.divideBy(2,!0));h.className="leaflet-marker-"+E+" "+(C.className||""),Ee&&(h.style.marginLeft=-Ee.x+"px",h.style.marginTop=-Ee.y+"px"),ue&&(h.style.width=ue.x+"px",h.style.height=ue.y+"px")},_createImg:function(h,E){return E=E||document.createElement("img"),E.src=h,E},_getIconUrl:function(h){return $e.retina&&this.options[h+"RetinaUrl"]||this.options[h+"Url"]}});function T9(h){return new ru(h)}var Al=ru.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(h){return typeof Al.imagePath!="string"&&(Al.imagePath=this._detectIconPath()),(this.options.imagePath||Al.imagePath)+ru.prototype._getIconUrl.call(this,h)},_stripUrl:function(h){var E=function(C,z,ue){var Ee=z.exec(C);return Ee&&Ee[ue]};return h=E(h,/^url\((['"])?(.+)\1\)$/,2),h&&E(h,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var h=Ft("div","leaflet-default-icon-path",document.body),E=ro(h,"background-image")||ro(h,"backgroundImage");if(document.body.removeChild(h),E=this._stripUrl(E),E)return E;var C=document.querySelector('link[href$="leaflet.css"]');return C?C.href.substring(0,C.href.length-11-1):""}}),wR=Xi.extend({initialize:function(h){this._marker=h},addHooks:function(){var h=this._marker._icon;this._draggable||(this._draggable=new no(h,h,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Dt(h,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Dr(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(h){var E=this._marker,C=E._map,z=this._marker.options.autoPanSpeed,ue=this._marker.options.autoPanPadding,Ee=es(E._icon),qe=C.getPixelBounds(),Ye=C.getPixelOrigin(),Xe=he(qe.min._subtract(Ye).add(ue),qe.max._subtract(Ye).subtract(ue));if(!Xe.contains(Ee)){var ot=H((Math.max(Xe.max.x,Ee.x)-Xe.max.x)/(qe.max.x-Xe.max.x)-(Math.min(Xe.min.x,Ee.x)-Xe.min.x)/(qe.min.x-Xe.min.x),(Math.max(Xe.max.y,Ee.y)-Xe.max.y)/(qe.max.y-Xe.max.y)-(Math.min(Xe.min.y,Ee.y)-Xe.min.y)/(qe.min.y-Xe.min.y)).multiplyBy(z);C.panBy(ot,{animate:!1}),this._draggable._newPos._add(ot),this._draggable._startPos._add(ot),$r(E._icon,this._draggable._newPos),this._onDrag(h),this._panRequest=j(this._adjustPan.bind(this,h))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(h){this._marker.options.autoPan&&(P(this._panRequest),this._panRequest=j(this._adjustPan.bind(this,h)))},_onDrag:function(h){var E=this._marker,C=E._shadow,z=es(E._icon),ue=E._map.layerPointToLatLng(z);C&&$r(C,z),E._latlng=ue,h.latlng=ue,h.oldLatLng=this._oldLatLng,E.fire("move",h).fire("drag",h)},_onDragEnd:function(h){P(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",h)}}),B0=Ni.extend({options:{icon:new Al,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(h,E){v(this,E),this._latlng=O(h)},onAdd:function(h){this._zoomAnimated=this._zoomAnimated&&h.options.markerZoomAnimation,this._zoomAnimated&&h.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(h){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&h.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(h){var E=this._latlng;return this._latlng=O(h),this.update(),this.fire("move",{oldLatLng:E,latlng:this._latlng})},setZIndexOffset:function(h){return this.options.zIndexOffset=h,this.update()},getIcon:function(){return this.options.icon},setIcon:function(h){return this.options.icon=h,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var h=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(h)}return this},_initIcon:function(){var h=this.options,E="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),C=h.icon.createIcon(this._icon),z=!1;C!==this._icon&&(this._icon&&this._removeIcon(),z=!0,h.title&&(C.title=h.title),C.tagName==="IMG"&&(C.alt=h.alt||"")),Dt(C,E),h.keyboard&&(C.tabIndex="0",C.setAttribute("role","button")),this._icon=C,h.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ot(C,"focus",this._panOnFocus,this);var ue=h.icon.createShadow(this._shadow),Ee=!1;ue!==this._shadow&&(this._removeShadow(),Ee=!0),ue&&(Dt(ue,E),ue.alt=""),this._shadow=ue,h.opacity<1&&this._updateOpacity(),z&&this.getPane().appendChild(this._icon),this._initInteraction(),ue&&Ee&&this.getPane(h.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ar(this._icon,"focus",this._panOnFocus,this),Jt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Jt(this._shadow),this._shadow=null},_setPos:function(h){this._icon&&$r(this._icon,h),this._shadow&&$r(this._shadow,h),this._zIndex=h.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(h){this._icon&&(this._icon.style.zIndex=this._zIndex+h)},_animateZoom:function(h){var E=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center).round();this._setPos(E)},_initInteraction:function(){if(this.options.interactive&&(Dt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),wR)){var h=this.options.draggable;this.dragging&&(h=this.dragging.enabled(),this.dragging.disable()),this.dragging=new wR(this),h&&this.dragging.enable()}},setOpacity:function(h){return this.options.opacity=h,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var h=this.options.opacity;this._icon&&ui(this._icon,h),this._shadow&&ui(this._shadow,h)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var h=this._map;if(h){var E=this.options.icon.options,C=E.iconSize?H(E.iconSize):H(0,0),z=E.iconAnchor?H(E.iconAnchor):H(0,0);h.panInside(this._latlng,{paddingTopLeft:z,paddingBottomRight:C.subtract(z)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function x9(h,E){return new B0(h,E)}var io=Ni.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(h){this._renderer=h.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(h){return v(this,h),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&h&&Object.prototype.hasOwnProperty.call(h,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),$0=io.extend({options:{fill:!0,radius:10},initialize:function(h,E){v(this,E),this._latlng=O(h),this._radius=this.options.radius},setLatLng:function(h){var E=this._latlng;return this._latlng=O(h),this.redraw(),this.fire("move",{oldLatLng:E,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(h){return this.options.radius=this._radius=h,this.redraw()},getRadius:function(){return this._radius},setStyle:function(h){var E=h&&h.radius||this._radius;return io.prototype.setStyle.call(this,h),this.setRadius(E),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var h=this._radius,E=this._radiusY||h,C=this._clickTolerance(),z=[h+C,E+C];this._pxBounds=new oe(this._point.subtract(z),this._point.add(z))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(h){return h.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function R9(h,E){return new $0(h,E)}var Vg=$0.extend({initialize:function(h,E,C){if(typeof E=="number"&&(E=i({},C,{radius:E})),v(this,E),this._latlng=O(h),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(h){return this._mRadius=h,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var h=[this._radius,this._radiusY||this._radius];return new Z(this._map.layerPointToLatLng(this._point.subtract(h)),this._map.layerPointToLatLng(this._point.add(h)))},setStyle:io.prototype.setStyle,_project:function(){var h=this._latlng.lng,E=this._latlng.lat,C=this._map,z=C.options.crs;if(z.distance===$.distance){var ue=Math.PI/180,Ee=this._mRadius/$.R/ue,qe=C.project([E+Ee,h]),Ye=C.project([E-Ee,h]),Xe=qe.add(Ye).divideBy(2),ot=C.unproject(Xe).lat,yt=Math.acos((Math.cos(Ee*ue)-Math.sin(E*ue)*Math.sin(ot*ue))/(Math.cos(E*ue)*Math.cos(ot*ue)))/ue;(isNaN(yt)||yt===0)&&(yt=Ee/Math.cos(Math.PI/180*E)),this._point=Xe.subtract(C.getPixelOrigin()),this._radius=isNaN(yt)?0:Xe.x-C.project([ot,h-yt]).x,this._radiusY=Xe.y-qe.y}else{var xt=z.unproject(z.project(this._latlng).subtract([this._mRadius,0]));this._point=C.latLngToLayerPoint(this._latlng),this._radius=this._point.x-C.latLngToLayerPoint(xt).x}this._updateBounds()}});function A9(h,E,C){return new Vg(h,E,C)}var Ea=io.extend({options:{smoothFactor:1,noClip:!1},initialize:function(h,E){v(this,E),this._setLatLngs(h)},getLatLngs:function(){return this._latlngs},setLatLngs:function(h){return this._setLatLngs(h),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(h){for(var E=1/0,C=null,z=Rl,ue,Ee,qe=0,Ye=this._parts.length;qe<Ye;qe++)for(var Xe=this._parts[qe],ot=1,yt=Xe.length;ot<yt;ot++){ue=Xe[ot-1],Ee=Xe[ot];var xt=z(h,ue,Ee,!0);xt<E&&(E=xt,C=z(h,ue,Ee))}return C&&(C.distance=Math.sqrt(E)),C},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return bR(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(h,E){return E=E||this._defaultShape(),h=O(h),E.push(h),this._bounds.extend(h),this.redraw()},_setLatLngs:function(h){this._bounds=new Z,this._latlngs=this._convertLatLngs(h)},_defaultShape:function(){return li(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(h){for(var E=[],C=li(h),z=0,ue=h.length;z<ue;z++)C?(E[z]=O(h[z]),this._bounds.extend(E[z])):E[z]=this._convertLatLngs(h[z]);return E},_project:function(){var h=new oe;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,h),this._bounds.isValid()&&h.isValid()&&(this._rawPxBounds=h,this._updateBounds())},_updateBounds:function(){var h=this._clickTolerance(),E=new ae(h,h);this._rawPxBounds&&(this._pxBounds=new oe([this._rawPxBounds.min.subtract(E),this._rawPxBounds.max.add(E)]))},_projectLatlngs:function(h,E,C){var z=h[0]instanceof ee,ue=h.length,Ee,qe;if(z){for(qe=[],Ee=0;Ee<ue;Ee++)qe[Ee]=this._map.latLngToLayerPoint(h[Ee]),C.extend(qe[Ee]);E.push(qe)}else for(Ee=0;Ee<ue;Ee++)this._projectLatlngs(h[Ee],E,C)},_clipPoints:function(){var h=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(h))){if(this.options.noClip){this._parts=this._rings;return}var E=this._parts,C,z,ue,Ee,qe,Ye,Xe;for(C=0,ue=0,Ee=this._rings.length;C<Ee;C++)for(Xe=this._rings[C],z=0,qe=Xe.length;z<qe-1;z++)Ye=gR(Xe[z],Xe[z+1],h,z,!0),Ye&&(E[ue]=E[ue]||[],E[ue].push(Ye[0]),(Ye[1]!==Xe[z+1]||z===qe-2)&&(E[ue].push(Ye[1]),ue++))}},_simplifyPoints:function(){for(var h=this._parts,E=this.options.smoothFactor,C=0,z=h.length;C<z;C++)h[C]=pR(h[C],E)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(h,E){var C,z,ue,Ee,qe,Ye,Xe=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(h))return!1;for(C=0,Ee=this._parts.length;C<Ee;C++)for(Ye=this._parts[C],z=0,qe=Ye.length,ue=qe-1;z<qe;ue=z++)if(!(!E&&z===0)&&mR(h,Ye[ue],Ye[z])<=Xe)return!0;return!1}});function I9(h,E){return new Ea(h,E)}Ea._flat=_R;var nu=Ea.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return hR(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(h){var E=Ea.prototype._convertLatLngs.call(this,h),C=E.length;return C>=2&&E[0]instanceof ee&&E[0].equals(E[C-1])&&E.pop(),E},_setLatLngs:function(h){Ea.prototype._setLatLngs.call(this,h),li(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return li(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var h=this._renderer._bounds,E=this.options.weight,C=new ae(E,E);if(h=new oe(h.min.subtract(C),h.max.add(C)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(h))){if(this.options.noClip){this._parts=this._rings;return}for(var z=0,ue=this._rings.length,Ee;z<ue;z++)Ee=dR(this._rings[z],h,!0),Ee.length&&this._parts.push(Ee)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(h){var E=!1,C,z,ue,Ee,qe,Ye,Xe,ot;if(!this._pxBounds||!this._pxBounds.contains(h))return!1;for(Ee=0,Xe=this._parts.length;Ee<Xe;Ee++)for(C=this._parts[Ee],qe=0,ot=C.length,Ye=ot-1;qe<ot;Ye=qe++)z=C[qe],ue=C[Ye],z.y>h.y!=ue.y>h.y&&h.x<(ue.x-z.x)*(h.y-z.y)/(ue.y-z.y)+z.x&&(E=!E);return E||Ea.prototype._containsPoint.call(this,h,!0)}});function P9(h,E){return new nu(h,E)}var Ta=Sa.extend({initialize:function(h,E){v(this,E),this._layers={},h&&this.addData(h)},addData:function(h){var E=g(h)?h:h.features,C,z,ue;if(E){for(C=0,z=E.length;C<z;C++)ue=E[C],(ue.geometries||ue.geometry||ue.features||ue.coordinates)&&this.addData(ue);return this}var Ee=this.options;if(Ee.filter&&!Ee.filter(h))return this;var qe=U0(h,Ee);return qe?(qe.feature=z0(h),qe.defaultOptions=qe.options,this.resetStyle(qe),Ee.onEachFeature&&Ee.onEachFeature(h,qe),this.addLayer(qe)):this},resetStyle:function(h){return h===void 0?this.eachLayer(this.resetStyle,this):(h.options=i({},h.defaultOptions),this._setLayerStyle(h,this.options.style),this)},setStyle:function(h){return this.eachLayer(function(E){this._setLayerStyle(E,h)},this)},_setLayerStyle:function(h,E){h.setStyle&&(typeof E=="function"&&(E=E(h.feature)),h.setStyle(E))}});function U0(h,E){var C=h.type==="Feature"?h.geometry:h,z=C?C.coordinates:null,ue=[],Ee=E&&E.pointToLayer,qe=E&&E.coordsToLatLng||Hg,Ye,Xe,ot,yt;if(!z&&!C)return null;switch(C.type){case"Point":return Ye=qe(z),SR(Ee,h,Ye,E);case"MultiPoint":for(ot=0,yt=z.length;ot<yt;ot++)Ye=qe(z[ot]),ue.push(SR(Ee,h,Ye,E));return new Sa(ue);case"LineString":case"MultiLineString":return Xe=V0(z,C.type==="LineString"?0:1,qe),new Ea(Xe,E);case"Polygon":case"MultiPolygon":return Xe=V0(z,C.type==="Polygon"?1:2,qe),new nu(Xe,E);case"GeometryCollection":for(ot=0,yt=C.geometries.length;ot<yt;ot++){var xt=U0({geometry:C.geometries[ot],type:"Feature",properties:h.properties},E);xt&&ue.push(xt)}return new Sa(ue);case"FeatureCollection":for(ot=0,yt=C.features.length;ot<yt;ot++){var Lt=U0(C.features[ot],E);Lt&&ue.push(Lt)}return new Sa(ue);default:throw new Error("Invalid GeoJSON object.")}}function SR(h,E,C,z){return h?h(E,C):new B0(C,z&&z.markersInheritOptions&&z)}function Hg(h){return new ee(h[1],h[0],h[2])}function V0(h,E,C){for(var z=[],ue=0,Ee=h.length,qe;ue<Ee;ue++)qe=E?V0(h[ue],E-1,C):(C||Hg)(h[ue]),z.push(qe);return z}function zg(h,E){return h=O(h),h.alt!==void 0?[c(h.lng,E),c(h.lat,E),c(h.alt,E)]:[c(h.lng,E),c(h.lat,E)]}function H0(h,E,C,z){for(var ue=[],Ee=0,qe=h.length;Ee<qe;Ee++)ue.push(E?H0(h[Ee],li(h[Ee])?0:E-1,C,z):zg(h[Ee],z));return!E&&C&&ue.length>0&&ue.push(ue[0].slice()),ue}function iu(h,E){return h.feature?i({},h.feature,{geometry:E}):z0(E)}function z0(h){return h.type==="Feature"||h.type==="FeatureCollection"?h:{type:"Feature",properties:{},geometry:h}}var Gg={toGeoJSON:function(h){return iu(this,{type:"Point",coordinates:zg(this.getLatLng(),h)})}};B0.include(Gg),Vg.include(Gg),$0.include(Gg),Ea.include({toGeoJSON:function(h){var E=!li(this._latlngs),C=H0(this._latlngs,E?1:0,!1,h);return iu(this,{type:(E?"Multi":"")+"LineString",coordinates:C})}}),nu.include({toGeoJSON:function(h){var E=!li(this._latlngs),C=E&&!li(this._latlngs[0]),z=H0(this._latlngs,C?2:E?1:0,!0,h);return E||(z=[z]),iu(this,{type:(C?"Multi":"")+"Polygon",coordinates:z})}}),tu.include({toMultiPoint:function(h){var E=[];return this.eachLayer(function(C){E.push(C.toGeoJSON(h).geometry.coordinates)}),iu(this,{type:"MultiPoint",coordinates:E})},toGeoJSON:function(h){var E=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(E==="MultiPoint")return this.toMultiPoint(h);var C=E==="GeometryCollection",z=[];return this.eachLayer(function(ue){if(ue.toGeoJSON){var Ee=ue.toGeoJSON(h);if(C)z.push(Ee.geometry);else{var qe=z0(Ee);qe.type==="FeatureCollection"?z.push.apply(z,qe.features):z.push(qe)}}}),C?iu(this,{geometries:z,type:"GeometryCollection"}):{type:"FeatureCollection",features:z}}});function ER(h,E){return new Ta(h,E)}var O9=ER,G0=Ni.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(h,E,C){this._url=h,this._bounds=Q(E),v(this,C)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Dt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Jt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(h){return this.options.opacity=h,this._image&&this._updateOpacity(),this},setStyle:function(h){return h.opacity&&this.setOpacity(h.opacity),this},bringToFront:function(){return this._map&&Js(this._image),this},bringToBack:function(){return this._map&&eu(this._image),this},setUrl:function(h){return this._url=h,this._image&&(this._image.src=h),this},setBounds:function(h){return this._bounds=Q(h),this._map&&this._reset(),this},getEvents:function(){var h={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},setZIndex:function(h){return this.options.zIndex=h,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var h=this._url.tagName==="IMG",E=this._image=h?this._url:Ft("img");if(Dt(E,"leaflet-image-layer"),this._zoomAnimated&&Dt(E,"leaflet-zoom-animated"),this.options.className&&Dt(E,this.options.className),E.onselectstart=d,E.onmousemove=d,E.onload=o(this.fire,this,"load"),E.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(E.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),h){this._url=E.src;return}E.src=this._url,E.alt=this.options.alt},_animateZoom:function(h){var E=this._map.getZoomScale(h.zoom),C=this._map._latLngBoundsToNewLayerBounds(this._bounds,h.zoom,h.center).min;Jo(this._image,C,E)},_reset:function(){var h=this._image,E=new oe(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),C=E.getSize();$r(h,E.min),h.style.width=C.x+"px",h.style.height=C.y+"px"},_updateOpacity:function(){ui(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var h=this.options.errorOverlayUrl;h&&this._url!==h&&(this._url=h,this._image.src=h)},getCenter:function(){return this._bounds.getCenter()}}),N9=function(h,E,C){return new G0(h,E,C)},TR=G0.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var h=this._url.tagName==="VIDEO",E=this._image=h?this._url:Ft("video");if(Dt(E,"leaflet-image-layer"),this._zoomAnimated&&Dt(E,"leaflet-zoom-animated"),this.options.className&&Dt(E,this.options.className),E.onselectstart=d,E.onmousemove=d,E.onloadeddata=o(this.fire,this,"load"),h){for(var C=E.getElementsByTagName("source"),z=[],ue=0;ue<C.length;ue++)z.push(C[ue].src);this._url=C.length>0?z:[E.src];return}g(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(E.style,"objectFit")&&(E.style.objectFit="fill"),E.autoplay=!!this.options.autoplay,E.loop=!!this.options.loop,E.muted=!!this.options.muted,E.playsInline=!!this.options.playsInline;for(var Ee=0;Ee<this._url.length;Ee++){var qe=Ft("source");qe.src=this._url[Ee],E.appendChild(qe)}}});function D9(h,E,C){return new TR(h,E,C)}var xR=G0.extend({_initImage:function(){var h=this._image=this._url;Dt(h,"leaflet-image-layer"),this._zoomAnimated&&Dt(h,"leaflet-zoom-animated"),this.options.className&&Dt(h,this.options.className),h.onselectstart=d,h.onmousemove=d}});function C9(h,E,C){return new xR(h,E,C)}var Ji=Ni.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(h,E){h&&(h instanceof ee||g(h))?(this._latlng=O(h),v(this,E)):(v(this,h),this._source=E),this.options.content&&(this._content=this.options.content)},openOn:function(h){return h=arguments.length?h:this._source._map,h.hasLayer(this)||h.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(h){return this._map?this.close():(arguments.length?this._source=h:h=this._source,this._prepareOpen(),this.openOn(h._map)),this},onAdd:function(h){this._zoomAnimated=h._zoomAnimated,this._container||this._initLayout(),h._fadeAnimated&&ui(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),h._fadeAnimated&&ui(this._container,1),this.bringToFront(),this.options.interactive&&(Dt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(h){h._fadeAnimated?(ui(this._container,0),this._removeTimeout=setTimeout(o(Jt,void 0,this._container),200)):Jt(this._container),this.options.interactive&&(Dr(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(h){return this._latlng=O(h),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(h){return this._content=h,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var h={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Js(this._container),this},bringToBack:function(){return this._map&&eu(this._container),this},_prepareOpen:function(h){var E=this._source;if(!E._map)return!1;if(E instanceof Sa){E=null;var C=this._source._layers;for(var z in C)if(C[z]._map){E=C[z];break}if(!E)return!1;this._source=E}if(!h)if(E.getCenter)h=E.getCenter();else if(E.getLatLng)h=E.getLatLng();else if(E.getBounds)h=E.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(h),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var h=this._contentNode,E=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof E=="string")h.innerHTML=E;else{for(;h.hasChildNodes();)h.removeChild(h.firstChild);h.appendChild(E)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var h=this._map.latLngToLayerPoint(this._latlng),E=H(this.options.offset),C=this._getAnchor();this._zoomAnimated?$r(this._container,h.add(C)):E=E.add(h).add(C);var z=this._containerBottom=-E.y,ue=this._containerLeft=-Math.round(this._containerWidth/2)+E.x;this._container.style.bottom=z+"px",this._container.style.left=ue+"px"}},_getAnchor:function(){return[0,0]}});$t.include({_initOverlay:function(h,E,C,z){var ue=E;return ue instanceof h||(ue=new h(z).setContent(E)),C&&ue.setLatLng(C),ue}}),Ni.include({_initOverlay:function(h,E,C,z){var ue=C;return ue instanceof h?(v(ue,z),ue._source=this):(ue=E&&!z?E:new h(z,this),ue.setContent(C)),ue}});var W0=Ji.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(h){return h=arguments.length?h:this._source._map,!h.hasLayer(this)&&h._popup&&h._popup.options.autoClose&&h.removeLayer(h._popup),h._popup=this,Ji.prototype.openOn.call(this,h)},onAdd:function(h){Ji.prototype.onAdd.call(this,h),h.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof io||this._source.on("preclick",ts))},onRemove:function(h){Ji.prototype.onRemove.call(this,h),h.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof io||this._source.off("preclick",ts))},getEvents:function(){var h=Ji.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(h.preclick=this.close),this.options.keepInView&&(h.moveend=this._adjustPan),h},_initLayout:function(){var h="leaflet-popup",E=this._container=Ft("div",h+" "+(this.options.className||"")+" leaflet-zoom-animated"),C=this._wrapper=Ft("div",h+"-content-wrapper",E);if(this._contentNode=Ft("div",h+"-content",C),Tl(E),Mg(this._contentNode),Ot(E,"contextmenu",ts),this._tipContainer=Ft("div",h+"-tip-container",E),this._tip=Ft("div",h+"-tip",this._tipContainer),this.options.closeButton){var z=this._closeButton=Ft("a",h+"-close-button",E);z.setAttribute("role","button"),z.setAttribute("aria-label","Close popup"),z.href="#close",z.innerHTML='<span aria-hidden="true">&#215;</span>',Ot(z,"click",function(ue){an(ue),this.close()},this)}},_updateLayout:function(){var h=this._contentNode,E=h.style;E.width="",E.whiteSpace="nowrap";var C=h.offsetWidth;C=Math.min(C,this.options.maxWidth),C=Math.max(C,this.options.minWidth),E.width=C+1+"px",E.whiteSpace="",E.height="";var z=h.offsetHeight,ue=this.options.maxHeight,Ee="leaflet-popup-scrolled";ue&&z>ue?(E.height=ue+"px",Dt(h,Ee)):Dr(h,Ee),this._containerWidth=this._container.offsetWidth},_animateZoom:function(h){var E=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center),C=this._getAnchor();$r(this._container,E.add(C))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var h=this._map,E=parseInt(ro(this._container,"marginBottom"),10)||0,C=this._container.offsetHeight+E,z=this._containerWidth,ue=new ae(this._containerLeft,-C-this._containerBottom);ue._add(es(this._container));var Ee=h.layerPointToContainerPoint(ue),qe=H(this.options.autoPanPadding),Ye=H(this.options.autoPanPaddingTopLeft||qe),Xe=H(this.options.autoPanPaddingBottomRight||qe),ot=h.getSize(),yt=0,xt=0;Ee.x+z+Xe.x>ot.x&&(yt=Ee.x+z-ot.x+Xe.x),Ee.x-yt-Ye.x<0&&(yt=Ee.x-Ye.x),Ee.y+C+Xe.y>ot.y&&(xt=Ee.y+C-ot.y+Xe.y),Ee.y-xt-Ye.y<0&&(xt=Ee.y-Ye.y),(yt||xt)&&(this.options.keepInView&&(this._autopanning=!0),h.fire("autopanstart").panBy([yt,xt]))}},_getAnchor:function(){return H(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),L9=function(h,E){return new W0(h,E)};$t.mergeOptions({closePopupOnClick:!0}),$t.include({openPopup:function(h,E,C){return this._initOverlay(W0,h,E,C).openOn(this),this},closePopup:function(h){return h=arguments.length?h:this._popup,h&&h.close(),this}}),Ni.include({bindPopup:function(h,E){return this._popup=this._initOverlay(W0,this._popup,h,E),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(h){return this._popup&&(this instanceof Sa||(this._popup._source=this),this._popup._prepareOpen(h||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(h){return this._popup&&this._popup.setContent(h),this},getPopup:function(){return this._popup},_openPopup:function(h){if(!(!this._popup||!this._map)){rs(h);var E=h.layer||h.target;if(this._popup._source===E&&!(E instanceof io)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(h.latlng);return}this._popup._source=E,this.openPopup(h.latlng)}},_movePopup:function(h){this._popup.setLatLng(h.latlng)},_onKeyPress:function(h){h.originalEvent.keyCode===13&&this._openPopup(h)}});var K0=Ji.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(h){Ji.prototype.onAdd.call(this,h),this.setOpacity(this.options.opacity),h.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(h){Ji.prototype.onRemove.call(this,h),h.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var h=Ji.prototype.getEvents.call(this);return this.options.permanent||(h.preclick=this.close),h},_initLayout:function(){var h="leaflet-tooltip",E=h+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ft("div",E),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+l(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(h){var E,C,z=this._map,ue=this._container,Ee=z.latLngToContainerPoint(z.getCenter()),qe=z.layerPointToContainerPoint(h),Ye=this.options.direction,Xe=ue.offsetWidth,ot=ue.offsetHeight,yt=H(this.options.offset),xt=this._getAnchor();Ye==="top"?(E=Xe/2,C=ot):Ye==="bottom"?(E=Xe/2,C=0):Ye==="center"?(E=Xe/2,C=ot/2):Ye==="right"?(E=0,C=ot/2):Ye==="left"?(E=Xe,C=ot/2):qe.x<Ee.x?(Ye="right",E=0,C=ot/2):(Ye="left",E=Xe+(yt.x+xt.x)*2,C=ot/2),h=h.subtract(H(E,C,!0)).add(yt).add(xt),Dr(ue,"leaflet-tooltip-right"),Dr(ue,"leaflet-tooltip-left"),Dr(ue,"leaflet-tooltip-top"),Dr(ue,"leaflet-tooltip-bottom"),Dt(ue,"leaflet-tooltip-"+Ye),$r(ue,h)},_updatePosition:function(){var h=this._map.latLngToLayerPoint(this._latlng);this._setPosition(h)},setOpacity:function(h){this.options.opacity=h,this._container&&ui(this._container,h)},_animateZoom:function(h){var E=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center);this._setPosition(E)},_getAnchor:function(){return H(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),M9=function(h,E){return new K0(h,E)};$t.include({openTooltip:function(h,E,C){return this._initOverlay(K0,h,E,C).openOn(this),this},closeTooltip:function(h){return h.close(),this}}),Ni.include({bindTooltip:function(h,E){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(K0,this._tooltip,h,E),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(h){if(!(!h&&this._tooltipHandlersAdded)){var E=h?"off":"on",C={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?C.add=this._openTooltip:(C.mouseover=this._openTooltip,C.mouseout=this.closeTooltip,C.click=this._openTooltip,this._map?this._addFocusListeners():C.add=this._addFocusListeners),this._tooltip.options.sticky&&(C.mousemove=this._moveTooltip),this[E](C),this._tooltipHandlersAdded=!h}},openTooltip:function(h){return this._tooltip&&(this instanceof Sa||(this._tooltip._source=this),this._tooltip._prepareOpen(h)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(h){return this._tooltip&&this._tooltip.setContent(h),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(h){var E=typeof h.getElement=="function"&&h.getElement();E&&(Ot(E,"focus",function(){this._tooltip._source=h,this.openTooltip()},this),Ot(E,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(h){var E=typeof h.getElement=="function"&&h.getElement();E&&E.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(h){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var E=this;this._map.once("moveend",function(){E._openOnceFlag=!1,E._openTooltip(h)});return}this._tooltip._source=h.layer||h.target,this.openTooltip(this._tooltip.options.sticky?h.latlng:void 0)}},_moveTooltip:function(h){var E=h.latlng,C,z;this._tooltip.options.sticky&&h.originalEvent&&(C=this._map.mouseEventToContainerPoint(h.originalEvent),z=this._map.containerPointToLayerPoint(C),E=this._map.layerPointToLatLng(z)),this._tooltip.setLatLng(E)}});var RR=ru.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(h){var E=h&&h.tagName==="DIV"?h:document.createElement("div"),C=this.options;if(C.html instanceof Element?(Pi(E),E.appendChild(C.html)):E.innerHTML=C.html!==!1?C.html:"",C.bgPos){var z=H(C.bgPos);E.style.backgroundPosition=-z.x+"px "+-z.y+"px"}return this._setIconStyles(E,"icon"),E},createShadow:function(){return null}});function k9(h){return new RR(h)}ru.Default=Al;var Il=Ni.extend({options:{tileSize:256,opacity:1,updateWhenIdle:$e.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(h){v(this,h)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(h){h._addZoomLimit(this)},onRemove:function(h){this._removeAllTiles(),Jt(this._container),h._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Js(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(eu(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(h){return this.options.opacity=h,this._updateOpacity(),this},setZIndex:function(h){return this.options.zIndex=h,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var h=this._clampZoom(this._map.getZoom());h!==this._tileZoom&&(this._tileZoom=h,this._updateLevels()),this._update()}return this},getEvents:function(){var h={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=u(this._onMoveEnd,this.options.updateInterval,this)),h.move=this._onMove),this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},createTile:function(){return document.createElement("div")},getTileSize:function(){var h=this.options.tileSize;return h instanceof ae?h:new ae(h,h)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(h){for(var E=this.getPane().children,C=-h(-1/0,1/0),z=0,ue=E.length,Ee;z<ue;z++)Ee=E[z].style.zIndex,E[z]!==this._container&&Ee&&(C=h(C,+Ee));isFinite(C)&&(this.options.zIndex=C+h(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!$e.ielt9){ui(this._container,this.options.opacity);var h=+new Date,E=!1,C=!1;for(var z in this._tiles){var ue=this._tiles[z];if(!(!ue.current||!ue.loaded)){var Ee=Math.min(1,(h-ue.loaded)/200);ui(ue.el,Ee),Ee<1?E=!0:(ue.active?C=!0:this._onOpaqueTile(ue),ue.active=!0)}}C&&!this._noPrune&&this._pruneTiles(),E&&(P(this._fadeFrame),this._fadeFrame=j(this._updateOpacity,this))}},_onOpaqueTile:d,_initContainer:function(){this._container||(this._container=Ft("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var h=this._tileZoom,E=this.options.maxZoom;if(h!==void 0){for(var C in this._levels)C=Number(C),this._levels[C].el.children.length||C===h?(this._levels[C].el.style.zIndex=E-Math.abs(h-C),this._onUpdateLevel(C)):(Jt(this._levels[C].el),this._removeTilesAtZoom(C),this._onRemoveLevel(C),delete this._levels[C]);var z=this._levels[h],ue=this._map;return z||(z=this._levels[h]={},z.el=Ft("div","leaflet-tile-container leaflet-zoom-animated",this._container),z.el.style.zIndex=E,z.origin=ue.project(ue.unproject(ue.getPixelOrigin()),h).round(),z.zoom=h,this._setZoomTransform(z,ue.getCenter(),ue.getZoom()),d(z.el.offsetWidth),this._onCreateLevel(z)),this._level=z,z}},_onUpdateLevel:d,_onRemoveLevel:d,_onCreateLevel:d,_pruneTiles:function(){if(this._map){var h,E,C=this._map.getZoom();if(C>this.options.maxZoom||C<this.options.minZoom){this._removeAllTiles();return}for(h in this._tiles)E=this._tiles[h],E.retain=E.current;for(h in this._tiles)if(E=this._tiles[h],E.current&&!E.active){var z=E.coords;this._retainParent(z.x,z.y,z.z,z.z-5)||this._retainChildren(z.x,z.y,z.z,z.z+2)}for(h in this._tiles)this._tiles[h].retain||this._removeTile(h)}},_removeTilesAtZoom:function(h){for(var E in this._tiles)this._tiles[E].coords.z===h&&this._removeTile(E)},_removeAllTiles:function(){for(var h in this._tiles)this._removeTile(h)},_invalidateAll:function(){for(var h in this._levels)Jt(this._levels[h].el),this._onRemoveLevel(Number(h)),delete this._levels[h];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(h,E,C,z){var ue=Math.floor(h/2),Ee=Math.floor(E/2),qe=C-1,Ye=new ae(+ue,+Ee);Ye.z=+qe;var Xe=this._tileCoordsToKey(Ye),ot=this._tiles[Xe];return ot&&ot.active?(ot.retain=!0,!0):(ot&&ot.loaded&&(ot.retain=!0),qe>z?this._retainParent(ue,Ee,qe,z):!1)},_retainChildren:function(h,E,C,z){for(var ue=2*h;ue<2*h+2;ue++)for(var Ee=2*E;Ee<2*E+2;Ee++){var qe=new ae(ue,Ee);qe.z=C+1;var Ye=this._tileCoordsToKey(qe),Xe=this._tiles[Ye];if(Xe&&Xe.active){Xe.retain=!0;continue}else Xe&&Xe.loaded&&(Xe.retain=!0);C+1<z&&this._retainChildren(ue,Ee,C+1,z)}},_resetView:function(h){var E=h&&(h.pinch||h.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),E,E)},_animateZoom:function(h){this._setView(h.center,h.zoom,!0,h.noUpdate)},_clampZoom:function(h){var E=this.options;return E.minNativeZoom!==void 0&&h<E.minNativeZoom?E.minNativeZoom:E.maxNativeZoom!==void 0&&E.maxNativeZoom<h?E.maxNativeZoom:h},_setView:function(h,E,C,z){var ue=Math.round(E);this.options.maxZoom!==void 0&&ue>this.options.maxZoom||this.options.minZoom!==void 0&&ue<this.options.minZoom?ue=void 0:ue=this._clampZoom(ue);var Ee=this.options.updateWhenZooming&&ue!==this._tileZoom;(!z||Ee)&&(this._tileZoom=ue,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),ue!==void 0&&this._update(h),C||this._pruneTiles(),this._noPrune=!!C),this._setZoomTransforms(h,E)},_setZoomTransforms:function(h,E){for(var C in this._levels)this._setZoomTransform(this._levels[C],h,E)},_setZoomTransform:function(h,E,C){var z=this._map.getZoomScale(C,h.zoom),ue=h.origin.multiplyBy(z).subtract(this._map._getNewPixelOrigin(E,C)).round();$e.any3d?Jo(h.el,ue,z):$r(h.el,ue)},_resetGrid:function(){var h=this._map,E=h.options.crs,C=this._tileSize=this.getTileSize(),z=this._tileZoom,ue=this._map.getPixelWorldBounds(this._tileZoom);ue&&(this._globalTileRange=this._pxBoundsToTileRange(ue)),this._wrapX=E.wrapLng&&!this.options.noWrap&&[Math.floor(h.project([0,E.wrapLng[0]],z).x/C.x),Math.ceil(h.project([0,E.wrapLng[1]],z).x/C.y)],this._wrapY=E.wrapLat&&!this.options.noWrap&&[Math.floor(h.project([E.wrapLat[0],0],z).y/C.x),Math.ceil(h.project([E.wrapLat[1],0],z).y/C.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(h){var E=this._map,C=E._animatingZoom?Math.max(E._animateToZoom,E.getZoom()):E.getZoom(),z=E.getZoomScale(C,this._tileZoom),ue=E.project(h,this._tileZoom).floor(),Ee=E.getSize().divideBy(z*2);return new oe(ue.subtract(Ee),ue.add(Ee))},_update:function(h){var E=this._map;if(E){var C=this._clampZoom(E.getZoom());if(h===void 0&&(h=E.getCenter()),this._tileZoom!==void 0){var z=this._getTiledPixelBounds(h),ue=this._pxBoundsToTileRange(z),Ee=ue.getCenter(),qe=[],Ye=this.options.keepBuffer,Xe=new oe(ue.getBottomLeft().subtract([Ye,-Ye]),ue.getTopRight().add([Ye,-Ye]));if(!(isFinite(ue.min.x)&&isFinite(ue.min.y)&&isFinite(ue.max.x)&&isFinite(ue.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ot in this._tiles){var yt=this._tiles[ot].coords;(yt.z!==this._tileZoom||!Xe.contains(new ae(yt.x,yt.y)))&&(this._tiles[ot].current=!1)}if(Math.abs(C-this._tileZoom)>1){this._setView(h,C);return}for(var xt=ue.min.y;xt<=ue.max.y;xt++)for(var Lt=ue.min.x;Lt<=ue.max.x;Lt++){var Tn=new ae(Lt,xt);if(Tn.z=this._tileZoom,!!this._isValidTile(Tn)){var Jr=this._tiles[this._tileCoordsToKey(Tn)];Jr?Jr.current=!0:qe.push(Tn)}}if(qe.sort(function(Bn,ou){return Bn.distanceTo(Ee)-ou.distanceTo(Ee)}),qe.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var fi=document.createDocumentFragment();for(Lt=0;Lt<qe.length;Lt++)this._addTile(qe[Lt],fi);this._level.el.appendChild(fi)}}}},_isValidTile:function(h){var E=this._map.options.crs;if(!E.infinite){var C=this._globalTileRange;if(!E.wrapLng&&(h.x<C.min.x||h.x>C.max.x)||!E.wrapLat&&(h.y<C.min.y||h.y>C.max.y))return!1}if(!this.options.bounds)return!0;var z=this._tileCoordsToBounds(h);return Q(this.options.bounds).overlaps(z)},_keyToBounds:function(h){return this._tileCoordsToBounds(this._keyToTileCoords(h))},_tileCoordsToNwSe:function(h){var E=this._map,C=this.getTileSize(),z=h.scaleBy(C),ue=z.add(C),Ee=E.unproject(z,h.z),qe=E.unproject(ue,h.z);return[Ee,qe]},_tileCoordsToBounds:function(h){var E=this._tileCoordsToNwSe(h),C=new Z(E[0],E[1]);return this.options.noWrap||(C=this._map.wrapLatLngBounds(C)),C},_tileCoordsToKey:function(h){return h.x+":"+h.y+":"+h.z},_keyToTileCoords:function(h){var E=h.split(":"),C=new ae(+E[0],+E[1]);return C.z=+E[2],C},_removeTile:function(h){var E=this._tiles[h];E&&(Jt(E.el),delete this._tiles[h],this.fire("tileunload",{tile:E.el,coords:this._keyToTileCoords(h)}))},_initTile:function(h){Dt(h,"leaflet-tile");var E=this.getTileSize();h.style.width=E.x+"px",h.style.height=E.y+"px",h.onselectstart=d,h.onmousemove=d,$e.ielt9&&this.options.opacity<1&&ui(h,this.options.opacity)},_addTile:function(h,E){var C=this._getTilePos(h),z=this._tileCoordsToKey(h),ue=this.createTile(this._wrapCoords(h),o(this._tileReady,this,h));this._initTile(ue),this.createTile.length<2&&j(o(this._tileReady,this,h,null,ue)),$r(ue,C),this._tiles[z]={el:ue,coords:h,current:!0},E.appendChild(ue),this.fire("tileloadstart",{tile:ue,coords:h})},_tileReady:function(h,E,C){E&&this.fire("tileerror",{error:E,tile:C,coords:h});var z=this._tileCoordsToKey(h);C=this._tiles[z],C&&(C.loaded=+new Date,this._map._fadeAnimated?(ui(C.el,0),P(this._fadeFrame),this._fadeFrame=j(this._updateOpacity,this)):(C.active=!0,this._pruneTiles()),E||(Dt(C.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:C.el,coords:h})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),$e.ielt9||!this._map._fadeAnimated?j(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(h){return h.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(h){var E=new ae(this._wrapX?f(h.x,this._wrapX):h.x,this._wrapY?f(h.y,this._wrapY):h.y);return E.z=h.z,E},_pxBoundsToTileRange:function(h){var E=this.getTileSize();return new oe(h.min.unscaleBy(E).floor(),h.max.unscaleBy(E).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var h in this._tiles)if(!this._tiles[h].loaded)return!1;return!0}});function F9(h){return new Il(h)}var au=Il.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(h,E){this._url=h,E=v(this,E),E.detectRetina&&$e.retina&&E.maxZoom>0?(E.tileSize=Math.floor(E.tileSize/2),E.zoomReverse?(E.zoomOffset--,E.minZoom=Math.min(E.maxZoom,E.minZoom+1)):(E.zoomOffset++,E.maxZoom=Math.max(E.minZoom,E.maxZoom-1)),E.minZoom=Math.max(0,E.minZoom)):E.zoomReverse?E.minZoom=Math.min(E.maxZoom,E.minZoom):E.maxZoom=Math.max(E.minZoom,E.maxZoom),typeof E.subdomains=="string"&&(E.subdomains=E.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(h,E){return this._url===h&&E===void 0&&(E=!0),this._url=h,E||this.redraw(),this},createTile:function(h,E){var C=document.createElement("img");return Ot(C,"load",o(this._tileOnLoad,this,E,C)),Ot(C,"error",o(this._tileOnError,this,E,C)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(C.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(C.referrerPolicy=this.options.referrerPolicy),C.alt="",C.src=this.getTileUrl(h),C},getTileUrl:function(h){var E={r:$e.retina?"@2x":"",s:this._getSubdomain(h),x:h.x,y:h.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var C=this._globalTileRange.max.y-h.y;this.options.tms&&(E.y=C),E["-y"]=C}return m(this._url,i(E,this.options))},_tileOnLoad:function(h,E){$e.ielt9?setTimeout(o(h,this,null,E),0):h(null,E)},_tileOnError:function(h,E,C){var z=this.options.errorTileUrl;z&&E.getAttribute("src")!==z&&(E.src=z),h(C,E)},_onTileRemove:function(h){h.tile.onload=null},_getZoomForUrl:function(){var h=this._tileZoom,E=this.options.maxZoom,C=this.options.zoomReverse,z=this.options.zoomOffset;return C&&(h=E-h),h+z},_getSubdomain:function(h){var E=Math.abs(h.x+h.y)%this.options.subdomains.length;return this.options.subdomains[E]},_abortLoading:function(){var h,E;for(h in this._tiles)if(this._tiles[h].coords.z!==this._tileZoom&&(E=this._tiles[h].el,E.onload=d,E.onerror=d,!E.complete)){E.src=x;var C=this._tiles[h].coords;Jt(E),delete this._tiles[h],this.fire("tileabort",{tile:E,coords:C})}},_removeTile:function(h){var E=this._tiles[h];if(E)return E.el.setAttribute("src",x),Il.prototype._removeTile.call(this,h)},_tileReady:function(h,E,C){if(!(!this._map||C&&C.getAttribute("src")===x))return Il.prototype._tileReady.call(this,h,E,C)}});function AR(h,E){return new au(h,E)}var IR=au.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(h,E){this._url=h;var C=i({},this.defaultWmsParams);for(var z in E)z in this.options||(C[z]=E[z]);E=v(this,E);var ue=E.detectRetina&&$e.retina?2:1,Ee=this.getTileSize();C.width=Ee.x*ue,C.height=Ee.y*ue,this.wmsParams=C},onAdd:function(h){this._crs=this.options.crs||h.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var E=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[E]=this._crs.code,au.prototype.onAdd.call(this,h)},getTileUrl:function(h){var E=this._tileCoordsToNwSe(h),C=this._crs,z=he(C.project(E[0]),C.project(E[1])),ue=z.min,Ee=z.max,qe=(this._wmsVersion>=1.3&&this._crs===vR?[ue.y,ue.x,Ee.y,Ee.x]:[ue.x,ue.y,Ee.x,Ee.y]).join(","),Ye=au.prototype.getTileUrl.call(this,h);return Ye+_(this.wmsParams,Ye,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+qe},setParams:function(h,E){return i(this.wmsParams,h),E||this.redraw(),this}});function j9(h,E){return new IR(h,E)}au.WMS=IR,AR.wms=j9;var xa=Ni.extend({options:{padding:.1},initialize:function(h){v(this,h),l(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Dt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var h={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(h.zoomanim=this._onAnimZoom),h},_onAnimZoom:function(h){this._updateTransform(h.center,h.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(h,E){var C=this._map.getZoomScale(E,this._zoom),z=this._map.getSize().multiplyBy(.5+this.options.padding),ue=this._map.project(this._center,E),Ee=z.multiplyBy(-C).add(ue).subtract(this._map._getNewPixelOrigin(h,E));$e.any3d?Jo(this._container,Ee,C):$r(this._container,Ee)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var h in this._layers)this._layers[h]._reset()},_onZoomEnd:function(){for(var h in this._layers)this._layers[h]._project()},_updatePaths:function(){for(var h in this._layers)this._layers[h]._update()},_update:function(){var h=this.options.padding,E=this._map.getSize(),C=this._map.containerPointToLayerPoint(E.multiplyBy(-h)).round();this._bounds=new oe(C,C.add(E.multiplyBy(1+h*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),PR=xa.extend({options:{tolerance:0},getEvents:function(){var h=xa.prototype.getEvents.call(this);return h.viewprereset=this._onViewPreReset,h},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){xa.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var h=this._container=document.createElement("canvas");Ot(h,"mousemove",this._onMouseMove,this),Ot(h,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ot(h,"mouseout",this._handleMouseOut,this),h._leaflet_disable_events=!0,this._ctx=h.getContext("2d")},_destroyContainer:function(){P(this._redrawRequest),delete this._ctx,Jt(this._container),ar(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var h;this._redrawBounds=null;for(var E in this._layers)h=this._layers[E],h._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){xa.prototype._update.call(this);var h=this._bounds,E=this._container,C=h.getSize(),z=$e.retina?2:1;$r(E,h.min),E.width=z*C.x,E.height=z*C.y,E.style.width=C.x+"px",E.style.height=C.y+"px",$e.retina&&this._ctx.scale(2,2),this._ctx.translate(-h.min.x,-h.min.y),this.fire("update")}},_reset:function(){xa.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(h){this._updateDashArray(h),this._layers[l(h)]=h;var E=h._order={layer:h,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=E),this._drawLast=E,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(h){this._requestRedraw(h)},_removePath:function(h){var E=h._order,C=E.next,z=E.prev;C?C.prev=z:this._drawLast=z,z?z.next=C:this._drawFirst=C,delete h._order,delete this._layers[l(h)],this._requestRedraw(h)},_updatePath:function(h){this._extendRedrawBounds(h),h._project(),h._update(),this._requestRedraw(h)},_updateStyle:function(h){this._updateDashArray(h),this._requestRedraw(h)},_updateDashArray:function(h){if(typeof h.options.dashArray=="string"){var E=h.options.dashArray.split(/[, ]+/),C=[],z,ue;for(ue=0;ue<E.length;ue++){if(z=Number(E[ue]),isNaN(z))return;C.push(z)}h.options._dashArray=C}else h.options._dashArray=h.options.dashArray},_requestRedraw:function(h){this._map&&(this._extendRedrawBounds(h),this._redrawRequest=this._redrawRequest||j(this._redraw,this))},_extendRedrawBounds:function(h){if(h._pxBounds){var E=(h.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new oe,this._redrawBounds.extend(h._pxBounds.min.subtract([E,E])),this._redrawBounds.extend(h._pxBounds.max.add([E,E]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var h=this._redrawBounds;if(h){var E=h.getSize();this._ctx.clearRect(h.min.x,h.min.y,E.x,E.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var h,E=this._redrawBounds;if(this._ctx.save(),E){var C=E.getSize();this._ctx.beginPath(),this._ctx.rect(E.min.x,E.min.y,C.x,C.y),this._ctx.clip()}this._drawing=!0;for(var z=this._drawFirst;z;z=z.next)h=z.layer,(!E||h._pxBounds&&h._pxBounds.intersects(E))&&h._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(h,E){if(this._drawing){var C,z,ue,Ee,qe=h._parts,Ye=qe.length,Xe=this._ctx;if(Ye){for(Xe.beginPath(),C=0;C<Ye;C++){for(z=0,ue=qe[C].length;z<ue;z++)Ee=qe[C][z],Xe[z?"lineTo":"moveTo"](Ee.x,Ee.y);E&&Xe.closePath()}this._fillStroke(Xe,h)}}},_updateCircle:function(h){if(!(!this._drawing||h._empty())){var E=h._point,C=this._ctx,z=Math.max(Math.round(h._radius),1),ue=(Math.max(Math.round(h._radiusY),1)||z)/z;ue!==1&&(C.save(),C.scale(1,ue)),C.beginPath(),C.arc(E.x,E.y/ue,z,0,Math.PI*2,!1),ue!==1&&C.restore(),this._fillStroke(C,h)}},_fillStroke:function(h,E){var C=E.options;C.fill&&(h.globalAlpha=C.fillOpacity,h.fillStyle=C.fillColor||C.color,h.fill(C.fillRule||"evenodd")),C.stroke&&C.weight!==0&&(h.setLineDash&&h.setLineDash(E.options&&E.options._dashArray||[]),h.globalAlpha=C.opacity,h.lineWidth=C.weight,h.strokeStyle=C.color,h.lineCap=C.lineCap,h.lineJoin=C.lineJoin,h.stroke())},_onClick:function(h){for(var E=this._map.mouseEventToLayerPoint(h),C,z,ue=this._drawFirst;ue;ue=ue.next)C=ue.layer,C.options.interactive&&C._containsPoint(E)&&(!(h.type==="click"||h.type==="preclick")||!this._map._draggableMoved(C))&&(z=C);this._fireEvent(z?[z]:!1,h)},_onMouseMove:function(h){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var E=this._map.mouseEventToLayerPoint(h);this._handleMouseHover(h,E)}},_handleMouseOut:function(h){var E=this._hoveredLayer;E&&(Dr(this._container,"leaflet-interactive"),this._fireEvent([E],h,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(h,E){if(!this._mouseHoverThrottled){for(var C,z,ue=this._drawFirst;ue;ue=ue.next)C=ue.layer,C.options.interactive&&C._containsPoint(E)&&(z=C);z!==this._hoveredLayer&&(this._handleMouseOut(h),z&&(Dt(this._container,"leaflet-interactive"),this._fireEvent([z],h,"mouseover"),this._hoveredLayer=z)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,h),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(h,E,C){this._map._fireDOMEvent(E,C||E.type,h)},_bringToFront:function(h){var E=h._order;if(E){var C=E.next,z=E.prev;if(C)C.prev=z;else return;z?z.next=C:C&&(this._drawFirst=C),E.prev=this._drawLast,this._drawLast.next=E,E.next=null,this._drawLast=E,this._requestRedraw(h)}},_bringToBack:function(h){var E=h._order;if(E){var C=E.next,z=E.prev;if(z)z.next=C;else return;C?C.prev=z:z&&(this._drawLast=z),E.prev=null,E.next=this._drawFirst,this._drawFirst.prev=E,this._drawFirst=E,this._requestRedraw(h)}}});function OR(h){return $e.canvas?new PR(h):null}var Pl=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(h){return document.createElement("<lvml:"+h+' class="lvml">')}}catch{}return function(h){return document.createElement("<"+h+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),q9={_initContainer:function(){this._container=Ft("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(xa.prototype._update.call(this),this.fire("update"))},_initPath:function(h){var E=h._container=Pl("shape");Dt(E,"leaflet-vml-shape "+(this.options.className||"")),E.coordsize="1 1",h._path=Pl("path"),E.appendChild(h._path),this._updateStyle(h),this._layers[l(h)]=h},_addPath:function(h){var E=h._container;this._container.appendChild(E),h.options.interactive&&h.addInteractiveTarget(E)},_removePath:function(h){var E=h._container;Jt(E),h.removeInteractiveTarget(E),delete this._layers[l(h)]},_updateStyle:function(h){var E=h._stroke,C=h._fill,z=h.options,ue=h._container;ue.stroked=!!z.stroke,ue.filled=!!z.fill,z.stroke?(E||(E=h._stroke=Pl("stroke")),ue.appendChild(E),E.weight=z.weight+"px",E.color=z.color,E.opacity=z.opacity,z.dashArray?E.dashStyle=g(z.dashArray)?z.dashArray.join(" "):z.dashArray.replace(/( *, *)/g," "):E.dashStyle="",E.endcap=z.lineCap.replace("butt","flat"),E.joinstyle=z.lineJoin):E&&(ue.removeChild(E),h._stroke=null),z.fill?(C||(C=h._fill=Pl("fill")),ue.appendChild(C),C.color=z.fillColor||z.color,C.opacity=z.fillOpacity):C&&(ue.removeChild(C),h._fill=null)},_updateCircle:function(h){var E=h._point.round(),C=Math.round(h._radius),z=Math.round(h._radiusY||C);this._setPath(h,h._empty()?"M0 0":"AL "+E.x+","+E.y+" "+C+","+z+" 0,"+65535*360)},_setPath:function(h,E){h._path.v=E},_bringToFront:function(h){Js(h._container)},_bringToBack:function(h){eu(h._container)}},Q0=$e.vml?Pl:U,Ol=xa.extend({_initContainer:function(){this._container=Q0("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Q0("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Jt(this._container),ar(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){xa.prototype._update.call(this);var h=this._bounds,E=h.getSize(),C=this._container;(!this._svgSize||!this._svgSize.equals(E))&&(this._svgSize=E,C.setAttribute("width",E.x),C.setAttribute("height",E.y)),$r(C,h.min),C.setAttribute("viewBox",[h.min.x,h.min.y,E.x,E.y].join(" ")),this.fire("update")}},_initPath:function(h){var E=h._path=Q0("path");h.options.className&&Dt(E,h.options.className),h.options.interactive&&Dt(E,"leaflet-interactive"),this._updateStyle(h),this._layers[l(h)]=h},_addPath:function(h){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(h._path),h.addInteractiveTarget(h._path)},_removePath:function(h){Jt(h._path),h.removeInteractiveTarget(h._path),delete this._layers[l(h)]},_updatePath:function(h){h._project(),h._update()},_updateStyle:function(h){var E=h._path,C=h.options;E&&(C.stroke?(E.setAttribute("stroke",C.color),E.setAttribute("stroke-opacity",C.opacity),E.setAttribute("stroke-width",C.weight),E.setAttribute("stroke-linecap",C.lineCap),E.setAttribute("stroke-linejoin",C.lineJoin),C.dashArray?E.setAttribute("stroke-dasharray",C.dashArray):E.removeAttribute("stroke-dasharray"),C.dashOffset?E.setAttribute("stroke-dashoffset",C.dashOffset):E.removeAttribute("stroke-dashoffset")):E.setAttribute("stroke","none"),C.fill?(E.setAttribute("fill",C.fillColor||C.color),E.setAttribute("fill-opacity",C.fillOpacity),E.setAttribute("fill-rule",C.fillRule||"evenodd")):E.setAttribute("fill","none"))},_updatePoly:function(h,E){this._setPath(h,re(h._parts,E))},_updateCircle:function(h){var E=h._point,C=Math.max(Math.round(h._radius),1),z=Math.max(Math.round(h._radiusY),1)||C,ue="a"+C+","+z+" 0 1,0 ",Ee=h._empty()?"M0 0":"M"+(E.x-C)+","+E.y+ue+C*2+",0 "+ue+-C*2+",0 ";this._setPath(h,Ee)},_setPath:function(h,E){h._path.setAttribute("d",E)},_bringToFront:function(h){Js(h._path)},_bringToBack:function(h){eu(h._path)}});$e.vml&&Ol.include(q9);function NR(h){return $e.svg||$e.vml?new Ol(h):null}$t.include({getRenderer:function(h){var E=h.options.renderer||this._getPaneRenderer(h.options.pane)||this.options.renderer||this._renderer;return E||(E=this._renderer=this._createRenderer()),this.hasLayer(E)||this.addLayer(E),E},_getPaneRenderer:function(h){if(h==="overlayPane"||h===void 0)return!1;var E=this._paneRenderers[h];return E===void 0&&(E=this._createRenderer({pane:h}),this._paneRenderers[h]=E),E},_createRenderer:function(h){return this.options.preferCanvas&&OR(h)||NR(h)}});var DR=nu.extend({initialize:function(h,E){nu.prototype.initialize.call(this,this._boundsToLatLngs(h),E)},setBounds:function(h){return this.setLatLngs(this._boundsToLatLngs(h))},_boundsToLatLngs:function(h){return h=Q(h),[h.getSouthWest(),h.getNorthWest(),h.getNorthEast(),h.getSouthEast()]}});function B9(h,E){return new DR(h,E)}Ol.create=Q0,Ol.pointsToPath=re,Ta.geometryToLayer=U0,Ta.coordsToLatLng=Hg,Ta.coordsToLatLngs=V0,Ta.latLngToCoords=zg,Ta.latLngsToCoords=H0,Ta.getFeature=iu,Ta.asFeature=z0,$t.mergeOptions({boxZoom:!0});var CR=Xi.extend({initialize:function(h){this._map=h,this._container=h._container,this._pane=h._panes.overlayPane,this._resetStateTimeout=0,h.on("unload",this._destroy,this)},addHooks:function(){Ot(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ar(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Jt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(h){if(!h.shiftKey||h.which!==1&&h.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),wl(),Ag(),this._startPoint=this._map.mouseEventToContainerPoint(h),Ot(document,{contextmenu:rs,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(h){this._moved||(this._moved=!0,this._box=Ft("div","leaflet-zoom-box",this._container),Dt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(h);var E=new oe(this._point,this._startPoint),C=E.getSize();$r(this._box,E.min),this._box.style.width=C.x+"px",this._box.style.height=C.y+"px"},_finish:function(){this._moved&&(Jt(this._box),Dr(this._container,"leaflet-crosshair")),Sl(),Ig(),ar(document,{contextmenu:rs,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(h){if(!(h.which!==1&&h.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var E=new Z(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(E).fire("boxzoomend",{boxZoomBounds:E})}},_onKeyDown:function(h){h.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});$t.addInitHook("addHandler","boxZoom",CR),$t.mergeOptions({doubleClickZoom:!0});var LR=Xi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(h){var E=this._map,C=E.getZoom(),z=E.options.zoomDelta,ue=h.originalEvent.shiftKey?C-z:C+z;E.options.doubleClickZoom==="center"?E.setZoom(ue):E.setZoomAround(h.containerPoint,ue)}});$t.addInitHook("addHandler","doubleClickZoom",LR),$t.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var MR=Xi.extend({addHooks:function(){if(!this._draggable){var h=this._map;this._draggable=new no(h._mapPane,h._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),h.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),h.on("zoomend",this._onZoomEnd,this),h.whenReady(this._onZoomEnd,this))}Dt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Dr(this._map._container,"leaflet-grab"),Dr(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var h=this._map;if(h._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var E=Q(this._map.options.maxBounds);this._offsetLimit=he(this._map.latLngToContainerPoint(E.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(E.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;h.fire("movestart").fire("dragstart"),h.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(h){if(this._map.options.inertia){var E=this._lastTime=+new Date,C=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(C),this._times.push(E),this._prunePositions(E)}this._map.fire("move",h).fire("drag",h)},_prunePositions:function(h){for(;this._positions.length>1&&h-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var h=this._map.getSize().divideBy(2),E=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=E.subtract(h).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(h,E){return h-(h-E)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var h=this._draggable._newPos.subtract(this._draggable._startPos),E=this._offsetLimit;h.x<E.min.x&&(h.x=this._viscousLimit(h.x,E.min.x)),h.y<E.min.y&&(h.y=this._viscousLimit(h.y,E.min.y)),h.x>E.max.x&&(h.x=this._viscousLimit(h.x,E.max.x)),h.y>E.max.y&&(h.y=this._viscousLimit(h.y,E.max.y)),this._draggable._newPos=this._draggable._startPos.add(h)}},_onPreDragWrap:function(){var h=this._worldWidth,E=Math.round(h/2),C=this._initialWorldOffset,z=this._draggable._newPos.x,ue=(z-E+C)%h+E-C,Ee=(z+E+C)%h-E-C,qe=Math.abs(ue+C)<Math.abs(Ee+C)?ue:Ee;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=qe},_onDragEnd:function(h){var E=this._map,C=E.options,z=!C.inertia||h.noInertia||this._times.length<2;if(E.fire("dragend",h),z)E.fire("moveend");else{this._prunePositions(+new Date);var ue=this._lastPos.subtract(this._positions[0]),Ee=(this._lastTime-this._times[0])/1e3,qe=C.easeLinearity,Ye=ue.multiplyBy(qe/Ee),Xe=Ye.distanceTo([0,0]),ot=Math.min(C.inertiaMaxSpeed,Xe),yt=Ye.multiplyBy(ot/Xe),xt=ot/(C.inertiaDeceleration*qe),Lt=yt.multiplyBy(-xt/2).round();!Lt.x&&!Lt.y?E.fire("moveend"):(Lt=E._limitOffset(Lt,E.options.maxBounds),j(function(){E.panBy(Lt,{duration:xt,easeLinearity:qe,noMoveStart:!0,animate:!0})}))}}});$t.addInitHook("addHandler","dragging",MR),$t.mergeOptions({keyboard:!0,keyboardPanDelta:80});var kR=Xi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(h){this._map=h,this._setPanDelta(h.options.keyboardPanDelta),this._setZoomDelta(h.options.zoomDelta)},addHooks:function(){var h=this._map._container;h.tabIndex<=0&&(h.tabIndex="0"),Ot(h,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ar(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var h=document.body,E=document.documentElement,C=h.scrollTop||E.scrollTop,z=h.scrollLeft||E.scrollLeft;this._map._container.focus(),window.scrollTo(z,C)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(h){var E=this._panKeys={},C=this.keyCodes,z,ue;for(z=0,ue=C.left.length;z<ue;z++)E[C.left[z]]=[-1*h,0];for(z=0,ue=C.right.length;z<ue;z++)E[C.right[z]]=[h,0];for(z=0,ue=C.down.length;z<ue;z++)E[C.down[z]]=[0,h];for(z=0,ue=C.up.length;z<ue;z++)E[C.up[z]]=[0,-1*h]},_setZoomDelta:function(h){var E=this._zoomKeys={},C=this.keyCodes,z,ue;for(z=0,ue=C.zoomIn.length;z<ue;z++)E[C.zoomIn[z]]=h;for(z=0,ue=C.zoomOut.length;z<ue;z++)E[C.zoomOut[z]]=-h},_addHooks:function(){Ot(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ar(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(h){if(!(h.altKey||h.ctrlKey||h.metaKey)){var E=h.keyCode,C=this._map,z;if(E in this._panKeys){if(!C._panAnim||!C._panAnim._inProgress)if(z=this._panKeys[E],h.shiftKey&&(z=H(z).multiplyBy(3)),C.options.maxBounds&&(z=C._limitOffset(H(z),C.options.maxBounds)),C.options.worldCopyJump){var ue=C.wrapLatLng(C.unproject(C.project(C.getCenter()).add(z)));C.panTo(ue)}else C.panBy(z)}else if(E in this._zoomKeys)C.setZoom(C.getZoom()+(h.shiftKey?3:1)*this._zoomKeys[E]);else if(E===27&&C._popup&&C._popup.options.closeOnEscapeKey)C.closePopup();else return;rs(h)}}});$t.addInitHook("addHandler","keyboard",kR),$t.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var FR=Xi.extend({addHooks:function(){Ot(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ar(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(h){var E=sR(h),C=this._map.options.wheelDebounceTime;this._delta+=E,this._lastMousePos=this._map.mouseEventToContainerPoint(h),this._startTime||(this._startTime=+new Date);var z=Math.max(C-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),z),rs(h)},_performZoom:function(){var h=this._map,E=h.getZoom(),C=this._map.options.zoomSnap||0;h._stop();var z=this._delta/(this._map.options.wheelPxPerZoomLevel*4),ue=4*Math.log(2/(1+Math.exp(-Math.abs(z))))/Math.LN2,Ee=C?Math.ceil(ue/C)*C:ue,qe=h._limitZoom(E+(this._delta>0?Ee:-Ee))-E;this._delta=0,this._startTime=null,qe&&(h.options.scrollWheelZoom==="center"?h.setZoom(E+qe):h.setZoomAround(this._lastMousePos,E+qe))}});$t.addInitHook("addHandler","scrollWheelZoom",FR);var $9=600;$t.mergeOptions({tapHold:$e.touchNative&&$e.safari&&$e.mobile,tapTolerance:15});var jR=Xi.extend({addHooks:function(){Ot(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ar(this._map._container,"touchstart",this._onDown,this)},_onDown:function(h){if(clearTimeout(this._holdTimeout),h.touches.length===1){var E=h.touches[0];this._startPos=this._newPos=new ae(E.clientX,E.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(Ot(document,"touchend",an),Ot(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",E))},this),$9),Ot(document,"touchend touchcancel contextmenu",this._cancel,this),Ot(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function h(){ar(document,"touchend",an),ar(document,"touchend touchcancel",h)},_cancel:function(){clearTimeout(this._holdTimeout),ar(document,"touchend touchcancel contextmenu",this._cancel,this),ar(document,"touchmove",this._onMove,this)},_onMove:function(h){var E=h.touches[0];this._newPos=new ae(E.clientX,E.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(h,E){var C=new MouseEvent(h,{bubbles:!0,cancelable:!0,view:window,screenX:E.screenX,screenY:E.screenY,clientX:E.clientX,clientY:E.clientY});C._simulated=!0,E.target.dispatchEvent(C)}});$t.addInitHook("addHandler","tapHold",jR),$t.mergeOptions({touchZoom:$e.touch,bounceAtZoomLimits:!0});var qR=Xi.extend({addHooks:function(){Dt(this._map._container,"leaflet-touch-zoom"),Ot(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Dr(this._map._container,"leaflet-touch-zoom"),ar(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(h){var E=this._map;if(!(!h.touches||h.touches.length!==2||E._animatingZoom||this._zooming)){var C=E.mouseEventToContainerPoint(h.touches[0]),z=E.mouseEventToContainerPoint(h.touches[1]);this._centerPoint=E.getSize()._divideBy(2),this._startLatLng=E.containerPointToLatLng(this._centerPoint),E.options.touchZoom!=="center"&&(this._pinchStartLatLng=E.containerPointToLatLng(C.add(z)._divideBy(2))),this._startDist=C.distanceTo(z),this._startZoom=E.getZoom(),this._moved=!1,this._zooming=!0,E._stop(),Ot(document,"touchmove",this._onTouchMove,this),Ot(document,"touchend touchcancel",this._onTouchEnd,this),an(h)}},_onTouchMove:function(h){if(!(!h.touches||h.touches.length!==2||!this._zooming)){var E=this._map,C=E.mouseEventToContainerPoint(h.touches[0]),z=E.mouseEventToContainerPoint(h.touches[1]),ue=C.distanceTo(z)/this._startDist;if(this._zoom=E.getScaleZoom(ue,this._startZoom),!E.options.bounceAtZoomLimits&&(this._zoom<E.getMinZoom()&&ue<1||this._zoom>E.getMaxZoom()&&ue>1)&&(this._zoom=E._limitZoom(this._zoom)),E.options.touchZoom==="center"){if(this._center=this._startLatLng,ue===1)return}else{var Ee=C._add(z)._divideBy(2)._subtract(this._centerPoint);if(ue===1&&Ee.x===0&&Ee.y===0)return;this._center=E.unproject(E.project(this._pinchStartLatLng,this._zoom).subtract(Ee),this._zoom)}this._moved||(E._moveStart(!0,!1),this._moved=!0),P(this._animRequest);var qe=o(E._move,E,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=j(qe,this,!0),an(h)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,P(this._animRequest),ar(document,"touchmove",this._onTouchMove,this),ar(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});$t.addInitHook("addHandler","touchZoom",qR),$t.BoxZoom=CR,$t.DoubleClickZoom=LR,$t.Drag=MR,$t.Keyboard=kR,$t.ScrollWheelZoom=FR,$t.TapHold=jR,$t.TouchZoom=qR,r.Bounds=oe,r.Browser=$e,r.CRS=A,r.Canvas=PR,r.Circle=Vg,r.CircleMarker=$0,r.Class=Y,r.Control=Oi,r.DivIcon=RR,r.DivOverlay=Ji,r.DomEvent=a9,r.DomUtil=n9,r.Draggable=no,r.Evented=le,r.FeatureGroup=Sa,r.GeoJSON=Ta,r.GridLayer=Il,r.Handler=Xi,r.Icon=ru,r.ImageOverlay=G0,r.LatLng=ee,r.LatLngBounds=Z,r.Layer=Ni,r.LayerGroup=tu,r.LineUtil=_9,r.Map=$t,r.Marker=B0,r.Mixin=d9,r.Path=io,r.Point=ae,r.PolyUtil=h9,r.Polygon=nu,r.Polyline=Ea,r.Popup=W0,r.PosAnimation=uR,r.Projection=b9,r.Rectangle=DR,r.Renderer=xa,r.SVG=Ol,r.SVGOverlay=xR,r.TileLayer=au,r.Tooltip=K0,r.Transformation=R,r.Util=B,r.VideoOverlay=TR,r.bind=o,r.bounds=he,r.canvas=OR,r.circle=A9,r.circleMarker=R9,r.control=xl,r.divIcon=k9,r.extend=i,r.featureGroup=E9,r.geoJSON=ER,r.geoJson=O9,r.gridLayer=F9,r.icon=T9,r.imageOverlay=N9,r.latLng=O,r.latLngBounds=Q,r.layerGroup=S9,r.map=o9,r.marker=x9,r.point=H,r.polygon=P9,r.polyline=I9,r.popup=L9,r.rectangle=B9,r.setOptions=v,r.stamp=l,r.svg=NR,r.svgOverlay=C9,r.tileLayer=AR,r.tooltip=M9,r.transformation=w,r.version=n,r.videoOverlay=D9;var U9=window.L;r.noConflict=function(){return window.L=U9,this},window.L=r})}(bp,bp.exports)),bp.exports}var t9=Jie();const eae=f0(t9),tae=J9({__proto__:null,default:eae},[t9]);var Vn={},XS={},h6;function rae(){return h6||(h6=1,function(e,t){if(e.setImmediate)return;var r=1,n={},i=!1,a=e.document,o;function s(m){typeof m!="function"&&(m=new Function(""+m));for(var g=new Array(arguments.length-1),S=0;S<g.length;S++)g[S]=arguments[S+1];var x={callback:m,args:g};return n[r]=x,o(r),r++}function l(m){delete n[m]}function u(m){var g=m.callback,S=m.args;switch(S.length){case 0:g();break;case 1:g(S[0]);break;case 2:g(S[0],S[1]);break;case 3:g(S[0],S[1],S[2]);break;default:g.apply(t,S);break}}function f(m){if(i)setTimeout(f,0,m);else{var g=n[m];if(g){i=!0;try{u(g)}finally{l(m),i=!1}}}}function d(){o=function(m){ze.nextTick(function(){f(m)})}}function c(){if(e.postMessage&&!e.importScripts){var m=!0,g=e.onmessage;return e.onmessage=function(){m=!1},e.postMessage("","*"),e.onmessage=g,m}}function p(){var m="setImmediate$"+Math.random()+"$",g=function(S){S.source===e&&typeof S.data=="string"&&S.data.indexOf(m)===0&&f(+S.data.slice(m.length))};e.addEventListener?e.addEventListener("message",g,!1):e.attachEvent("onmessage",g),o=function(S){e.postMessage(m+S,"*")}}function b(){var m=new MessageChannel;m.port1.onmessage=function(g){var S=g.data;f(S)},o=function(g){m.port2.postMessage(g)}}function v(){var m=a.documentElement;o=function(g){var S=a.createElement("script");S.onreadystatechange=function(){f(g),S.onreadystatechange=null,m.removeChild(S),S=null},m.appendChild(S)}}function _(){o=function(m){setTimeout(f,0,m)}}var y=Object.getPrototypeOf&&Object.getPrototypeOf(e);y=y&&y.setTimeout?y:e,{}.toString.call(e.process)==="[object process]"?d():c()?p():e.MessageChannel?b():a&&"onreadystatechange"in a.createElement("script")?v():_(),y.setImmediate=s,y.clearImmediate=l}(typeof self>"u"?typeof Tt>"u"?XS:Tt:self)),XS}var p6;function nae(){if(p6)return Vn;p6=1;var e=typeof Tt<"u"&&Tt||typeof self<"u"&&self||window,t=Function.prototype.apply;Vn.setTimeout=function(){return new r(t.call(setTimeout,e,arguments),clearTimeout)},Vn.setInterval=function(){return new r(t.call(setInterval,e,arguments),clearInterval)},Vn.clearTimeout=Vn.clearInterval=function(n){n&&n.close()};function r(n,i){this._id=n,this._clearFn=i}return r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(e,this._id)},Vn.enroll=function(n,i){clearTimeout(n._idleTimeoutId),n._idleTimeout=i},Vn.unenroll=function(n){clearTimeout(n._idleTimeoutId),n._idleTimeout=-1},Vn._unrefActive=Vn.active=function(n){clearTimeout(n._idleTimeoutId);var i=n._idleTimeout;i>=0&&(n._idleTimeoutId=setTimeout(function(){n._onTimeout&&n._onTimeout()},i))},rae(),Vn.setImmediate=typeof self<"u"&&self.setImmediate||typeof Tt<"u"&&Tt.setImmediate||Vn.setImmediate,Vn.clearImmediate=typeof self<"u"&&self.clearImmediate||typeof Tt<"u"&&Tt.clearImmediate||Vn.clearImmediate,Vn}var iae=nae();typeof globalThis<"u"&&!globalThis.process&&(globalThis.process=ze,globalThis.setImmediate=iae.setImmediate);SV(Yie).mount("#app");
