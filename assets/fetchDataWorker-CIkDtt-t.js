var fj=Object.defineProperty;var lj=(Fn,Dr,lt)=>Dr in Fn?fj(Fn,Dr,{enumerable:!0,configurable:!0,writable:!0,value:lt}):Fn[Dr]=lt;var $e=(Fn,Dr,lt)=>lj(Fn,typeof Dr!="symbol"?Dr+"":Dr,lt);(function(){"use strict";var JO;function Fn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Dr={exports:{}},lt=Dr.exports={},Cr,Lr;function Bl(){throw new Error("setTimeout has not been defined")}function kl(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Cr=setTimeout:Cr=Bl}catch{Cr=Bl}try{typeof clearTimeout=="function"?Lr=clearTimeout:Lr=kl}catch{Lr=kl}})();function hb(t){if(Cr===setTimeout)return setTimeout(t,0);if((Cr===Bl||!Cr)&&setTimeout)return Cr=setTimeout,setTimeout(t,0);try{return Cr(t,0)}catch{try{return Cr.call(null,t,0)}catch{return Cr.call(this,t,0)}}}function c3(t){if(Lr===clearTimeout)return clearTimeout(t);if((Lr===kl||!Lr)&&clearTimeout)return Lr=clearTimeout,clearTimeout(t);try{return Lr(t)}catch{try{return Lr.call(null,t)}catch{return Lr.call(this,t)}}}var Vr=[],hi=!1,Mn,Zu=-1;function d3(){!hi||!Mn||(hi=!1,Mn.length?Vr=Mn.concat(Vr):Zu=-1,Vr.length&&pb())}function pb(){if(!hi){var t=hb(d3);hi=!0;for(var e=Vr.length;e;){for(Mn=Vr,Vr=[];++Zu<e;)Mn&&Mn[Zu].run();Zu=-1,e=Vr.length}Mn=null,hi=!1,c3(t)}}lt.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];Vr.push(new yb(t,e)),Vr.length===1&&!hi&&hb(pb)};function yb(t,e){this.fun=t,this.array=e}yb.prototype.run=function(){this.fun.apply(null,this.array)},lt.title="browser",lt.browser=!0,lt.env={},lt.argv=[],lt.version="",lt.versions={};function Gr(){}lt.on=Gr,lt.addListener=Gr,lt.once=Gr,lt.off=Gr,lt.removeListener=Gr,lt.removeAllListeners=Gr,lt.emit=Gr,lt.prependListener=Gr,lt.prependOnceListener=Gr,lt.listeners=function(t){return[]},lt.binding=function(t){throw new Error("process.binding is not supported")},lt.cwd=function(){return"/"},lt.chdir=function(t){throw new Error("process.chdir is not supported")},lt.umask=function(){return 0};var h3=Dr.exports;const xe=Fn(h3);var $l={},Ju={};Ju.byteLength=g3,Ju.toByteArray=m3,Ju.fromByteArray=w3;for(var Fr=[],lr=[],p3=typeof Uint8Array<"u"?Uint8Array:Array,Ul="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",pi=0,y3=Ul.length;pi<y3;++pi)Fr[pi]=Ul[pi],lr[Ul.charCodeAt(pi)]=pi;lr[45]=62,lr[95]=63;function gb(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function g3(t){var e=gb(t),r=e[0],n=e[1];return(r+n)*3/4-n}function b3(t,e,r){return(e+r)*3/4-r}function m3(t){var e,r=gb(t),n=r[0],a=r[1],i=new p3(b3(t,n,a)),s=0,o=a>0?n-4:n,f;for(f=0;f<o;f+=4)e=lr[t.charCodeAt(f)]<<18|lr[t.charCodeAt(f+1)]<<12|lr[t.charCodeAt(f+2)]<<6|lr[t.charCodeAt(f+3)],i[s++]=e>>16&255,i[s++]=e>>8&255,i[s++]=e&255;return a===2&&(e=lr[t.charCodeAt(f)]<<2|lr[t.charCodeAt(f+1)]>>4,i[s++]=e&255),a===1&&(e=lr[t.charCodeAt(f)]<<10|lr[t.charCodeAt(f+1)]<<4|lr[t.charCodeAt(f+2)]>>2,i[s++]=e>>8&255,i[s++]=e&255),i}function _3(t){return Fr[t>>18&63]+Fr[t>>12&63]+Fr[t>>6&63]+Fr[t&63]}function v3(t,e,r){for(var n,a=[],i=e;i<r;i+=3)n=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(t[i+2]&255),a.push(_3(n));return a.join("")}function w3(t){for(var e,r=t.length,n=r%3,a=[],i=16383,s=0,o=r-n;s<o;s+=i)a.push(v3(t,s,s+i>o?o:s+i));return n===1?(e=t[r-1],a.push(Fr[e>>2]+Fr[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],a.push(Fr[e>>10]+Fr[e>>4&63]+Fr[e<<2&63]+"=")),a.join("")}var Hl={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Hl.read=function(t,e,r,n,a){var i,s,o=a*8-n-1,f=(1<<o)-1,u=f>>1,l=-7,d=r?a-1:0,c=r?-1:1,h=t[e+d];for(d+=c,i=h&(1<<-l)-1,h>>=-l,l+=o;l>0;i=i*256+t[e+d],d+=c,l-=8);for(s=i&(1<<-l)-1,i>>=-l,l+=n;l>0;s=s*256+t[e+d],d+=c,l-=8);if(i===0)i=1-u;else{if(i===f)return s?NaN:(h?-1:1)*(1/0);s=s+Math.pow(2,n),i=i-u}return(h?-1:1)*s*Math.pow(2,i-n)},Hl.write=function(t,e,r,n,a,i){var s,o,f,u=i*8-a-1,l=(1<<u)-1,d=l>>1,c=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:i-1,m=n?1:-1,_=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-s))<1&&(s--,f*=2),s+d>=1?e+=c/f:e+=c*Math.pow(2,1-d),e*f>=2&&(s++,f/=2),s+d>=l?(o=0,s=l):s+d>=1?(o=(e*f-1)*Math.pow(2,a),s=s+d):(o=e*Math.pow(2,d-1)*Math.pow(2,a),s=0));a>=8;t[r+h]=o&255,h+=m,o/=256,a-=8);for(s=s<<a|o,u+=a;u>0;t[r+h]=s&255,h+=m,s/=256,u-=8);t[r+h-m]|=_*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=Ju,r=Hl,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=l,t.SlowBuffer=S,t.INSPECT_MAX_BYTES=50;const a=2147483647;t.kMaxLength=a;const{Uint8Array:i,ArrayBuffer:s,SharedArrayBuffer:o}=globalThis;l.TYPED_ARRAY_SUPPORT=f(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function f(){try{const ee=new i(1),x={foo:function(){return 42}};return Object.setPrototypeOf(x,i.prototype),Object.setPrototypeOf(ee,x),ee.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function u(ee){if(ee>a)throw new RangeError('The value "'+ee+'" is invalid for option "size"');const x=new i(ee);return Object.setPrototypeOf(x,l.prototype),x}function l(ee,x,$){if(typeof ee=="number"){if(typeof x=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(ee)}return d(ee,x,$)}l.poolSize=8192;function d(ee,x,$){if(typeof ee=="string")return _(ee,x);if(s.isView(ee))return y(ee);if(ee==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ee);if(Ee(ee,s)||ee&&Ee(ee.buffer,s)||typeof o<"u"&&(Ee(ee,o)||ee&&Ee(ee.buffer,o)))return p(ee,x,$);if(typeof ee=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ie=ee.valueOf&&ee.valueOf();if(ie!=null&&ie!==ee)return l.from(ie,x,$);const ye=g(ee);if(ye)return ye;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof ee[Symbol.toPrimitive]=="function")return l.from(ee[Symbol.toPrimitive]("string"),x,$);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ee)}l.from=function(ee,x,$){return d(ee,x,$)},Object.setPrototypeOf(l.prototype,i.prototype),Object.setPrototypeOf(l,i);function c(ee){if(typeof ee!="number")throw new TypeError('"size" argument must be of type number');if(ee<0)throw new RangeError('The value "'+ee+'" is invalid for option "size"')}function h(ee,x,$){return c(ee),ee<=0?u(ee):x!==void 0?typeof $=="string"?u(ee).fill(x,$):u(ee).fill(x):u(ee)}l.alloc=function(ee,x,$){return h(ee,x,$)};function m(ee){return c(ee),u(ee<0?0:w(ee)|0)}l.allocUnsafe=function(ee){return m(ee)},l.allocUnsafeSlow=function(ee){return m(ee)};function _(ee,x){if((typeof x!="string"||x==="")&&(x="utf8"),!l.isEncoding(x))throw new TypeError("Unknown encoding: "+x);const $=I(ee,x)|0;let ie=u($);const ye=ie.write(ee,x);return ye!==$&&(ie=ie.slice(0,ye)),ie}function b(ee){const x=ee.length<0?0:w(ee.length)|0,$=u(x);for(let ie=0;ie<x;ie+=1)$[ie]=ee[ie]&255;return $}function y(ee){if(Ee(ee,i)){const x=new i(ee);return p(x.buffer,x.byteOffset,x.byteLength)}return b(ee)}function p(ee,x,$){if(x<0||ee.byteLength<x)throw new RangeError('"offset" is outside of buffer bounds');if(ee.byteLength<x+($||0))throw new RangeError('"length" is outside of buffer bounds');let ie;return x===void 0&&$===void 0?ie=new i(ee):$===void 0?ie=new i(ee,x):ie=new i(ee,x,$),Object.setPrototypeOf(ie,l.prototype),ie}function g(ee){if(l.isBuffer(ee)){const x=w(ee.length)|0,$=u(x);return $.length===0||ee.copy($,0,0,x),$}if(ee.length!==void 0)return typeof ee.length!="number"||Fe(ee.length)?u(0):b(ee);if(ee.type==="Buffer"&&Array.isArray(ee.data))return b(ee.data)}function w(ee){if(ee>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return ee|0}function S(ee){return+ee!=ee&&(ee=0),l.alloc(+ee)}l.isBuffer=function(x){return x!=null&&x._isBuffer===!0&&x!==l.prototype},l.compare=function(x,$){if(Ee(x,i)&&(x=l.from(x,x.offset,x.byteLength)),Ee($,i)&&($=l.from($,$.offset,$.byteLength)),!l.isBuffer(x)||!l.isBuffer($))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(x===$)return 0;let ie=x.length,ye=$.length;for(let V=0,re=Math.min(ie,ye);V<re;++V)if(x[V]!==$[V]){ie=x[V],ye=$[V];break}return ie<ye?-1:ye<ie?1:0},l.isEncoding=function(x){switch(String(x).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(x,$){if(!Array.isArray(x))throw new TypeError('"list" argument must be an Array of Buffers');if(x.length===0)return l.alloc(0);let ie;if($===void 0)for($=0,ie=0;ie<x.length;++ie)$+=x[ie].length;const ye=l.allocUnsafe($);let V=0;for(ie=0;ie<x.length;++ie){let re=x[ie];if(Ee(re,i))V+re.length>ye.length?(l.isBuffer(re)||(re=l.from(re)),re.copy(ye,V)):i.prototype.set.call(ye,re,V);else if(l.isBuffer(re))re.copy(ye,V);else throw new TypeError('"list" argument must be an Array of Buffers');V+=re.length}return ye};function I(ee,x){if(l.isBuffer(ee))return ee.length;if(s.isView(ee)||Ee(ee,s))return ee.byteLength;if(typeof ee!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ee);const $=ee.length,ie=arguments.length>2&&arguments[2]===!0;if(!ie&&$===0)return 0;let ye=!1;for(;;)switch(x){case"ascii":case"latin1":case"binary":return $;case"utf8":case"utf-8":return Re(ee).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $*2;case"hex":return $>>>1;case"base64":return Ue(ee).length;default:if(ye)return ie?-1:Re(ee).length;x=(""+x).toLowerCase(),ye=!0}}l.byteLength=I;function O(ee,x,$){let ie=!1;if((x===void 0||x<0)&&(x=0),x>this.length||(($===void 0||$>this.length)&&($=this.length),$<=0)||($>>>=0,x>>>=0,$<=x))return"";for(ee||(ee="utf8");;)switch(ee){case"hex":return he(this,x,$);case"utf8":case"utf-8":return le(this,x,$);case"ascii":return H(this,x,$);case"latin1":case"binary":return de(this,x,$);case"base64":return J(this,x,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W(this,x,$);default:if(ie)throw new TypeError("Unknown encoding: "+ee);ee=(ee+"").toLowerCase(),ie=!0}}l.prototype._isBuffer=!0;function M(ee,x,$){const ie=ee[x];ee[x]=ee[$],ee[$]=ie}l.prototype.swap16=function(){const x=this.length;if(x%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let $=0;$<x;$+=2)M(this,$,$+1);return this},l.prototype.swap32=function(){const x=this.length;if(x%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let $=0;$<x;$+=4)M(this,$,$+3),M(this,$+1,$+2);return this},l.prototype.swap64=function(){const x=this.length;if(x%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let $=0;$<x;$+=8)M(this,$,$+7),M(this,$+1,$+6),M(this,$+2,$+5),M(this,$+3,$+4);return this},l.prototype.toString=function(){const x=this.length;return x===0?"":arguments.length===0?le(this,0,x):O.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(x){if(!l.isBuffer(x))throw new TypeError("Argument must be a Buffer");return this===x?!0:l.compare(this,x)===0},l.prototype.inspect=function(){let x="";const $=t.INSPECT_MAX_BYTES;return x=this.toString("hex",0,$).replace(/(.{2})/g,"$1 ").trim(),this.length>$&&(x+=" ... "),"<Buffer "+x+">"},n&&(l.prototype[n]=l.prototype.inspect),l.prototype.compare=function(x,$,ie,ye,V){if(Ee(x,i)&&(x=l.from(x,x.offset,x.byteLength)),!l.isBuffer(x))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof x);if($===void 0&&($=0),ie===void 0&&(ie=x?x.length:0),ye===void 0&&(ye=0),V===void 0&&(V=this.length),$<0||ie>x.length||ye<0||V>this.length)throw new RangeError("out of range index");if(ye>=V&&$>=ie)return 0;if(ye>=V)return-1;if($>=ie)return 1;if($>>>=0,ie>>>=0,ye>>>=0,V>>>=0,this===x)return 0;let re=V-ye,K=ie-$;const De=Math.min(re,K),qe=this.slice(ye,V),q=x.slice($,ie);for(let Se=0;Se<De;++Se)if(qe[Se]!==q[Se]){re=qe[Se],K=q[Se];break}return re<K?-1:K<re?1:0};function D(ee,x,$,ie,ye){if(ee.length===0)return-1;if(typeof $=="string"?(ie=$,$=0):$>2147483647?$=2147483647:$<-2147483648&&($=-2147483648),$=+$,Fe($)&&($=ye?0:ee.length-1),$<0&&($=ee.length+$),$>=ee.length){if(ye)return-1;$=ee.length-1}else if($<0)if(ye)$=0;else return-1;if(typeof x=="string"&&(x=l.from(x,ie)),l.isBuffer(x))return x.length===0?-1:N(ee,x,$,ie,ye);if(typeof x=="number")return x=x&255,typeof i.prototype.indexOf=="function"?ye?i.prototype.indexOf.call(ee,x,$):i.prototype.lastIndexOf.call(ee,x,$):N(ee,[x],$,ie,ye);throw new TypeError("val must be string, number or Buffer")}function N(ee,x,$,ie,ye){let V=1,re=ee.length,K=x.length;if(ie!==void 0&&(ie=String(ie).toLowerCase(),ie==="ucs2"||ie==="ucs-2"||ie==="utf16le"||ie==="utf-16le")){if(ee.length<2||x.length<2)return-1;V=2,re/=2,K/=2,$/=2}function De(q,Se){return V===1?q[Se]:q.readUInt16BE(Se*V)}let qe;if(ye){let q=-1;for(qe=$;qe<re;qe++)if(De(ee,qe)===De(x,q===-1?0:qe-q)){if(q===-1&&(q=qe),qe-q+1===K)return q*V}else q!==-1&&(qe-=qe-q),q=-1}else for($+K>re&&($=re-K),qe=$;qe>=0;qe--){let q=!0;for(let Se=0;Se<K;Se++)if(De(ee,qe+Se)!==De(x,Se)){q=!1;break}if(q)return qe}return-1}l.prototype.includes=function(x,$,ie){return this.indexOf(x,$,ie)!==-1},l.prototype.indexOf=function(x,$,ie){return D(this,x,$,ie,!0)},l.prototype.lastIndexOf=function(x,$,ie){return D(this,x,$,ie,!1)};function C(ee,x,$,ie){$=Number($)||0;const ye=ee.length-$;ie?(ie=Number(ie),ie>ye&&(ie=ye)):ie=ye;const V=x.length;ie>V/2&&(ie=V/2);let re;for(re=0;re<ie;++re){const K=parseInt(x.substr(re*2,2),16);if(Fe(K))return re;ee[$+re]=K}return re}function R(ee,x,$,ie){return _e(Re(x,ee.length-$),ee,$,ie)}function F(ee,x,$,ie){return _e(Le(x),ee,$,ie)}function X(ee,x,$,ie){return _e(Ue(x),ee,$,ie)}function oe(ee,x,$,ie){return _e(Te(x,ee.length-$),ee,$,ie)}l.prototype.write=function(x,$,ie,ye){if($===void 0)ye="utf8",ie=this.length,$=0;else if(ie===void 0&&typeof $=="string")ye=$,ie=this.length,$=0;else if(isFinite($))$=$>>>0,isFinite(ie)?(ie=ie>>>0,ye===void 0&&(ye="utf8")):(ye=ie,ie=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const V=this.length-$;if((ie===void 0||ie>V)&&(ie=V),x.length>0&&(ie<0||$<0)||$>this.length)throw new RangeError("Attempt to write outside buffer bounds");ye||(ye="utf8");let re=!1;for(;;)switch(ye){case"hex":return C(this,x,$,ie);case"utf8":case"utf-8":return R(this,x,$,ie);case"ascii":case"latin1":case"binary":return F(this,x,$,ie);case"base64":return X(this,x,$,ie);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oe(this,x,$,ie);default:if(re)throw new TypeError("Unknown encoding: "+ye);ye=(""+ye).toLowerCase(),re=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function J(ee,x,$){return x===0&&$===ee.length?e.fromByteArray(ee):e.fromByteArray(ee.slice(x,$))}function le(ee,x,$){$=Math.min(ee.length,$);const ie=[];let ye=x;for(;ye<$;){const V=ee[ye];let re=null,K=V>239?4:V>223?3:V>191?2:1;if(ye+K<=$){let De,qe,q,Se;switch(K){case 1:V<128&&(re=V);break;case 2:De=ee[ye+1],(De&192)===128&&(Se=(V&31)<<6|De&63,Se>127&&(re=Se));break;case 3:De=ee[ye+1],qe=ee[ye+2],(De&192)===128&&(qe&192)===128&&(Se=(V&15)<<12|(De&63)<<6|qe&63,Se>2047&&(Se<55296||Se>57343)&&(re=Se));break;case 4:De=ee[ye+1],qe=ee[ye+2],q=ee[ye+3],(De&192)===128&&(qe&192)===128&&(q&192)===128&&(Se=(V&15)<<18|(De&63)<<12|(qe&63)<<6|q&63,Se>65535&&Se<1114112&&(re=Se))}}re===null?(re=65533,K=1):re>65535&&(re-=65536,ie.push(re>>>10&1023|55296),re=56320|re&1023),ie.push(re),ye+=K}return Z(ie)}const ae=4096;function Z(ee){const x=ee.length;if(x<=ae)return String.fromCharCode.apply(String,ee);let $="",ie=0;for(;ie<x;)$+=String.fromCharCode.apply(String,ee.slice(ie,ie+=ae));return $}function H(ee,x,$){let ie="";$=Math.min(ee.length,$);for(let ye=x;ye<$;++ye)ie+=String.fromCharCode(ee[ye]&127);return ie}function de(ee,x,$){let ie="";$=Math.min(ee.length,$);for(let ye=x;ye<$;++ye)ie+=String.fromCharCode(ee[ye]);return ie}function he(ee,x,$){const ie=ee.length;(!x||x<0)&&(x=0),(!$||$<0||$>ie)&&($=ie);let ye="";for(let V=x;V<$;++V)ye+=je[ee[V]];return ye}function W(ee,x,$){const ie=ee.slice(x,$);let ye="";for(let V=0;V<ie.length-1;V+=2)ye+=String.fromCharCode(ie[V]+ie[V+1]*256);return ye}l.prototype.slice=function(x,$){const ie=this.length;x=~~x,$=$===void 0?ie:~~$,x<0?(x+=ie,x<0&&(x=0)):x>ie&&(x=ie),$<0?($+=ie,$<0&&($=0)):$>ie&&($=ie),$<x&&($=x);const ye=this.subarray(x,$);return Object.setPrototypeOf(ye,l.prototype),ye};function z(ee,x,$){if(ee%1!==0||ee<0)throw new RangeError("offset is not uint");if(ee+x>$)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(x,$,ie){x=x>>>0,$=$>>>0,ie||z(x,$,this.length);let ye=this[x],V=1,re=0;for(;++re<$&&(V*=256);)ye+=this[x+re]*V;return ye},l.prototype.readUintBE=l.prototype.readUIntBE=function(x,$,ie){x=x>>>0,$=$>>>0,ie||z(x,$,this.length);let ye=this[x+--$],V=1;for(;$>0&&(V*=256);)ye+=this[x+--$]*V;return ye},l.prototype.readUint8=l.prototype.readUInt8=function(x,$){return x=x>>>0,$||z(x,1,this.length),this[x]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(x,$){return x=x>>>0,$||z(x,2,this.length),this[x]|this[x+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(x,$){return x=x>>>0,$||z(x,2,this.length),this[x]<<8|this[x+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(x,$){return x=x>>>0,$||z(x,4,this.length),(this[x]|this[x+1]<<8|this[x+2]<<16)+this[x+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(x,$){return x=x>>>0,$||z(x,4,this.length),this[x]*16777216+(this[x+1]<<16|this[x+2]<<8|this[x+3])},l.prototype.readBigUInt64LE=Me(function(x){x=x>>>0,ne(x,"offset");const $=this[x],ie=this[x+7];($===void 0||ie===void 0)&&pe(x,this.length-8);const ye=$+this[++x]*2**8+this[++x]*2**16+this[++x]*2**24,V=this[++x]+this[++x]*2**8+this[++x]*2**16+ie*2**24;return BigInt(ye)+(BigInt(V)<<BigInt(32))}),l.prototype.readBigUInt64BE=Me(function(x){x=x>>>0,ne(x,"offset");const $=this[x],ie=this[x+7];($===void 0||ie===void 0)&&pe(x,this.length-8);const ye=$*2**24+this[++x]*2**16+this[++x]*2**8+this[++x],V=this[++x]*2**24+this[++x]*2**16+this[++x]*2**8+ie;return(BigInt(ye)<<BigInt(32))+BigInt(V)}),l.prototype.readIntLE=function(x,$,ie){x=x>>>0,$=$>>>0,ie||z(x,$,this.length);let ye=this[x],V=1,re=0;for(;++re<$&&(V*=256);)ye+=this[x+re]*V;return V*=128,ye>=V&&(ye-=Math.pow(2,8*$)),ye},l.prototype.readIntBE=function(x,$,ie){x=x>>>0,$=$>>>0,ie||z(x,$,this.length);let ye=$,V=1,re=this[x+--ye];for(;ye>0&&(V*=256);)re+=this[x+--ye]*V;return V*=128,re>=V&&(re-=Math.pow(2,8*$)),re},l.prototype.readInt8=function(x,$){return x=x>>>0,$||z(x,1,this.length),this[x]&128?(255-this[x]+1)*-1:this[x]},l.prototype.readInt16LE=function(x,$){x=x>>>0,$||z(x,2,this.length);const ie=this[x]|this[x+1]<<8;return ie&32768?ie|4294901760:ie},l.prototype.readInt16BE=function(x,$){x=x>>>0,$||z(x,2,this.length);const ie=this[x+1]|this[x]<<8;return ie&32768?ie|4294901760:ie},l.prototype.readInt32LE=function(x,$){return x=x>>>0,$||z(x,4,this.length),this[x]|this[x+1]<<8|this[x+2]<<16|this[x+3]<<24},l.prototype.readInt32BE=function(x,$){return x=x>>>0,$||z(x,4,this.length),this[x]<<24|this[x+1]<<16|this[x+2]<<8|this[x+3]},l.prototype.readBigInt64LE=Me(function(x){x=x>>>0,ne(x,"offset");const $=this[x],ie=this[x+7];($===void 0||ie===void 0)&&pe(x,this.length-8);const ye=this[x+4]+this[x+5]*2**8+this[x+6]*2**16+(ie<<24);return(BigInt(ye)<<BigInt(32))+BigInt($+this[++x]*2**8+this[++x]*2**16+this[++x]*2**24)}),l.prototype.readBigInt64BE=Me(function(x){x=x>>>0,ne(x,"offset");const $=this[x],ie=this[x+7];($===void 0||ie===void 0)&&pe(x,this.length-8);const ye=($<<24)+this[++x]*2**16+this[++x]*2**8+this[++x];return(BigInt(ye)<<BigInt(32))+BigInt(this[++x]*2**24+this[++x]*2**16+this[++x]*2**8+ie)}),l.prototype.readFloatLE=function(x,$){return x=x>>>0,$||z(x,4,this.length),r.read(this,x,!0,23,4)},l.prototype.readFloatBE=function(x,$){return x=x>>>0,$||z(x,4,this.length),r.read(this,x,!1,23,4)},l.prototype.readDoubleLE=function(x,$){return x=x>>>0,$||z(x,8,this.length),r.read(this,x,!0,52,8)},l.prototype.readDoubleBE=function(x,$){return x=x>>>0,$||z(x,8,this.length),r.read(this,x,!1,52,8)};function Q(ee,x,$,ie,ye,V){if(!l.isBuffer(ee))throw new TypeError('"buffer" argument must be a Buffer instance');if(x>ye||x<V)throw new RangeError('"value" argument is out of bounds');if($+ie>ee.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(x,$,ie,ye){if(x=+x,$=$>>>0,ie=ie>>>0,!ye){const K=Math.pow(2,8*ie)-1;Q(this,x,$,ie,K,0)}let V=1,re=0;for(this[$]=x&255;++re<ie&&(V*=256);)this[$+re]=x/V&255;return $+ie},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(x,$,ie,ye){if(x=+x,$=$>>>0,ie=ie>>>0,!ye){const K=Math.pow(2,8*ie)-1;Q(this,x,$,ie,K,0)}let V=ie-1,re=1;for(this[$+V]=x&255;--V>=0&&(re*=256);)this[$+V]=x/re&255;return $+ie},l.prototype.writeUint8=l.prototype.writeUInt8=function(x,$,ie){return x=+x,$=$>>>0,ie||Q(this,x,$,1,255,0),this[$]=x&255,$+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(x,$,ie){return x=+x,$=$>>>0,ie||Q(this,x,$,2,65535,0),this[$]=x&255,this[$+1]=x>>>8,$+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(x,$,ie){return x=+x,$=$>>>0,ie||Q(this,x,$,2,65535,0),this[$]=x>>>8,this[$+1]=x&255,$+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(x,$,ie){return x=+x,$=$>>>0,ie||Q(this,x,$,4,4294967295,0),this[$+3]=x>>>24,this[$+2]=x>>>16,this[$+1]=x>>>8,this[$]=x&255,$+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(x,$,ie){return x=+x,$=$>>>0,ie||Q(this,x,$,4,4294967295,0),this[$]=x>>>24,this[$+1]=x>>>16,this[$+2]=x>>>8,this[$+3]=x&255,$+4};function A(ee,x,$,ie,ye){Y(x,ie,ye,ee,$,7);let V=Number(x&BigInt(4294967295));ee[$++]=V,V=V>>8,ee[$++]=V,V=V>>8,ee[$++]=V,V=V>>8,ee[$++]=V;let re=Number(x>>BigInt(32)&BigInt(4294967295));return ee[$++]=re,re=re>>8,ee[$++]=re,re=re>>8,ee[$++]=re,re=re>>8,ee[$++]=re,$}function P(ee,x,$,ie,ye){Y(x,ie,ye,ee,$,7);let V=Number(x&BigInt(4294967295));ee[$+7]=V,V=V>>8,ee[$+6]=V,V=V>>8,ee[$+5]=V,V=V>>8,ee[$+4]=V;let re=Number(x>>BigInt(32)&BigInt(4294967295));return ee[$+3]=re,re=re>>8,ee[$+2]=re,re=re>>8,ee[$+1]=re,re=re>>8,ee[$]=re,$+8}l.prototype.writeBigUInt64LE=Me(function(x,$=0){return A(this,x,$,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=Me(function(x,$=0){return P(this,x,$,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(x,$,ie,ye){if(x=+x,$=$>>>0,!ye){const De=Math.pow(2,8*ie-1);Q(this,x,$,ie,De-1,-De)}let V=0,re=1,K=0;for(this[$]=x&255;++V<ie&&(re*=256);)x<0&&K===0&&this[$+V-1]!==0&&(K=1),this[$+V]=(x/re>>0)-K&255;return $+ie},l.prototype.writeIntBE=function(x,$,ie,ye){if(x=+x,$=$>>>0,!ye){const De=Math.pow(2,8*ie-1);Q(this,x,$,ie,De-1,-De)}let V=ie-1,re=1,K=0;for(this[$+V]=x&255;--V>=0&&(re*=256);)x<0&&K===0&&this[$+V+1]!==0&&(K=1),this[$+V]=(x/re>>0)-K&255;return $+ie},l.prototype.writeInt8=function(x,$,ie){return x=+x,$=$>>>0,ie||Q(this,x,$,1,127,-128),x<0&&(x=255+x+1),this[$]=x&255,$+1},l.prototype.writeInt16LE=function(x,$,ie){return x=+x,$=$>>>0,ie||Q(this,x,$,2,32767,-32768),this[$]=x&255,this[$+1]=x>>>8,$+2},l.prototype.writeInt16BE=function(x,$,ie){return x=+x,$=$>>>0,ie||Q(this,x,$,2,32767,-32768),this[$]=x>>>8,this[$+1]=x&255,$+2},l.prototype.writeInt32LE=function(x,$,ie){return x=+x,$=$>>>0,ie||Q(this,x,$,4,2147483647,-2147483648),this[$]=x&255,this[$+1]=x>>>8,this[$+2]=x>>>16,this[$+3]=x>>>24,$+4},l.prototype.writeInt32BE=function(x,$,ie){return x=+x,$=$>>>0,ie||Q(this,x,$,4,2147483647,-2147483648),x<0&&(x=4294967295+x+1),this[$]=x>>>24,this[$+1]=x>>>16,this[$+2]=x>>>8,this[$+3]=x&255,$+4},l.prototype.writeBigInt64LE=Me(function(x,$=0){return A(this,x,$,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=Me(function(x,$=0){return P(this,x,$,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function k(ee,x,$,ie,ye,V){if($+ie>ee.length)throw new RangeError("Index out of range");if($<0)throw new RangeError("Index out of range")}function G(ee,x,$,ie,ye){return x=+x,$=$>>>0,ye||k(ee,x,$,4),r.write(ee,x,$,ie,23,4),$+4}l.prototype.writeFloatLE=function(x,$,ie){return G(this,x,$,!0,ie)},l.prototype.writeFloatBE=function(x,$,ie){return G(this,x,$,!1,ie)};function te(ee,x,$,ie,ye){return x=+x,$=$>>>0,ye||k(ee,x,$,8),r.write(ee,x,$,ie,52,8),$+8}l.prototype.writeDoubleLE=function(x,$,ie){return te(this,x,$,!0,ie)},l.prototype.writeDoubleBE=function(x,$,ie){return te(this,x,$,!1,ie)},l.prototype.copy=function(x,$,ie,ye){if(!l.isBuffer(x))throw new TypeError("argument should be a Buffer");if(ie||(ie=0),!ye&&ye!==0&&(ye=this.length),$>=x.length&&($=x.length),$||($=0),ye>0&&ye<ie&&(ye=ie),ye===ie||x.length===0||this.length===0)return 0;if($<0)throw new RangeError("targetStart out of bounds");if(ie<0||ie>=this.length)throw new RangeError("Index out of range");if(ye<0)throw new RangeError("sourceEnd out of bounds");ye>this.length&&(ye=this.length),x.length-$<ye-ie&&(ye=x.length-$+ie);const V=ye-ie;return this===x&&typeof i.prototype.copyWithin=="function"?this.copyWithin($,ie,ye):i.prototype.set.call(x,this.subarray(ie,ye),$),V},l.prototype.fill=function(x,$,ie,ye){if(typeof x=="string"){if(typeof $=="string"?(ye=$,$=0,ie=this.length):typeof ie=="string"&&(ye=ie,ie=this.length),ye!==void 0&&typeof ye!="string")throw new TypeError("encoding must be a string");if(typeof ye=="string"&&!l.isEncoding(ye))throw new TypeError("Unknown encoding: "+ye);if(x.length===1){const re=x.charCodeAt(0);(ye==="utf8"&&re<128||ye==="latin1")&&(x=re)}}else typeof x=="number"?x=x&255:typeof x=="boolean"&&(x=Number(x));if($<0||this.length<$||this.length<ie)throw new RangeError("Out of range index");if(ie<=$)return this;$=$>>>0,ie=ie===void 0?this.length:ie>>>0,x||(x=0);let V;if(typeof x=="number")for(V=$;V<ie;++V)this[V]=x;else{const re=l.isBuffer(x)?x:l.from(x,ye),K=re.length;if(K===0)throw new TypeError('The value "'+x+'" is invalid for argument "value"');for(V=0;V<ie-$;++V)this[V+$]=re[V%K]}return this};const E={};function v(ee,x,$){E[ee]=class extends ${constructor(){super(),Object.defineProperty(this,"message",{value:x.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${ee}]`,this.stack,delete this.name}get code(){return ee}set code(ye){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ye,writable:!0})}toString(){return`${this.name} [${ee}]: ${this.message}`}}}v("ERR_BUFFER_OUT_OF_BOUNDS",function(ee){return ee?`${ee} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),v("ERR_INVALID_ARG_TYPE",function(ee,x){return`The "${ee}" argument must be of type number. Received type ${typeof x}`},TypeError),v("ERR_OUT_OF_RANGE",function(ee,x,$){let ie=`The value of "${ee}" is out of range.`,ye=$;return Number.isInteger($)&&Math.abs($)>2**32?ye=T(String($)):typeof $=="bigint"&&(ye=String($),($>BigInt(2)**BigInt(32)||$<-(BigInt(2)**BigInt(32)))&&(ye=T(ye)),ye+="n"),ie+=` It must be ${x}. Received ${ye}`,ie},RangeError);function T(ee){let x="",$=ee.length;const ie=ee[0]==="-"?1:0;for(;$>=ie+4;$-=3)x=`_${ee.slice($-3,$)}${x}`;return`${ee.slice(0,$)}${x}`}function L(ee,x,$){ne(x,"offset"),(ee[x]===void 0||ee[x+$]===void 0)&&pe(x,ee.length-($+1))}function Y(ee,x,$,ie,ye,V){if(ee>$||ee<x){const re=typeof x=="bigint"?"n":"";let K;throw x===0||x===BigInt(0)?K=`>= 0${re} and < 2${re} ** ${(V+1)*8}${re}`:K=`>= -(2${re} ** ${(V+1)*8-1}${re}) and < 2 ** ${(V+1)*8-1}${re}`,new E.ERR_OUT_OF_RANGE("value",K,ee)}L(ie,ye,V)}function ne(ee,x){if(typeof ee!="number")throw new E.ERR_INVALID_ARG_TYPE(x,"number",ee)}function pe(ee,x,$){throw Math.floor(ee)!==ee?(ne(ee,$),new E.ERR_OUT_OF_RANGE("offset","an integer",ee)):x<0?new E.ERR_BUFFER_OUT_OF_BOUNDS:new E.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${x}`,ee)}const we=/[^+/0-9A-Za-z-_]/g;function fe(ee){if(ee=ee.split("=")[0],ee=ee.trim().replace(we,""),ee.length<2)return"";for(;ee.length%4!==0;)ee=ee+"=";return ee}function Re(ee,x){x=x||1/0;let $;const ie=ee.length;let ye=null;const V=[];for(let re=0;re<ie;++re){if($=ee.charCodeAt(re),$>55295&&$<57344){if(!ye){if($>56319){(x-=3)>-1&&V.push(239,191,189);continue}else if(re+1===ie){(x-=3)>-1&&V.push(239,191,189);continue}ye=$;continue}if($<56320){(x-=3)>-1&&V.push(239,191,189),ye=$;continue}$=(ye-55296<<10|$-56320)+65536}else ye&&(x-=3)>-1&&V.push(239,191,189);if(ye=null,$<128){if((x-=1)<0)break;V.push($)}else if($<2048){if((x-=2)<0)break;V.push($>>6|192,$&63|128)}else if($<65536){if((x-=3)<0)break;V.push($>>12|224,$>>6&63|128,$&63|128)}else if($<1114112){if((x-=4)<0)break;V.push($>>18|240,$>>12&63|128,$>>6&63|128,$&63|128)}else throw new Error("Invalid code point")}return V}function Le(ee){const x=[];for(let $=0;$<ee.length;++$)x.push(ee.charCodeAt($)&255);return x}function Te(ee,x){let $,ie,ye;const V=[];for(let re=0;re<ee.length&&!((x-=2)<0);++re)$=ee.charCodeAt(re),ie=$>>8,ye=$%256,V.push(ye),V.push(ie);return V}function Ue(ee){return e.toByteArray(fe(ee))}function _e(ee,x,$,ie){let ye;for(ye=0;ye<ie&&!(ye+$>=x.length||ye>=ee.length);++ye)x[ye+$]=ee[ye];return ye}function Ee(ee,x){return ee instanceof x||ee!=null&&ee.constructor!=null&&ee.constructor.name!=null&&ee.constructor.name===x.name}function Fe(ee){return ee!==ee}const je=function(){const ee="0123456789abcdef",x=new Array(256);for(let $=0;$<16;++$){const ie=$*16;for(let ye=0;ye<16;++ye)x[ie+ye]=ee[$]+ee[ye]}return x}();function Me(ee){return typeof BigInt>"u"?ze:ee}function ze(){throw new Error("BigInt not supported")}})($l);const Zt=$l.Buffer,E3=$l.Buffer;var Ye=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function yi(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var a=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return t[n]}})}),r}/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var Vl,bb;function S3(){if(bb)return Vl;bb=1;let t;return Vl=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:Ye):e=>(t||(t=Promise.resolve())).then(e).catch(r=>setTimeout(()=>{throw r},0)),Vl}var T3=S3(),x3=Yu(T3);const na="http://www.w3.org/1999/02/22-rdf-syntax-ns#",ia="http://www.w3.org/2001/XMLSchema#",Gl="http://www.w3.org/2000/10/swap/";var kt={xsd:{decimal:`${ia}decimal`,boolean:`${ia}boolean`,double:`${ia}double`,integer:`${ia}integer`,string:`${ia}string`},rdf:{type:`${na}type`,nil:`${na}nil`,first:`${na}first`,rest:`${na}rest`,langString:`${na}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${Gl}reify#forSome`,forAll:`${Gl}reify#forAll`},log:{implies:`${Gl}log#implies`}};const{xsd:ef}=kt,R3=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,mb={"\\":"\\","'":"'",'"':'"',n:`
`,r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},I3=/[\x00-\x20<>\\"\{\}\|\^\`]/,A3={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},O3=/$0^/;class zl{constructor(e){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,e=e||{},this._lineMode=!!e.lineMode){this._n3Mode=!1;for(const r in this)!(r in A3)&&this[r]instanceof RegExp&&(this[r]=O3)}else this._n3Mode=e.n3!==!1;this.comments=!!e.comments,this._literalClosingPos=0}_tokenizeToEnd(e,r){let n=this._input,a=n.length;for(;;){let o,f;for(;o=this._newline.exec(n);)this.comments&&(f=this._comment.exec(o[0]))&&i("comment",f[1],"",this._line,o[0].length),n=n.substr(o[0].length,n.length),a=n.length,this._line++;if(!o&&(o=this._whitespace.exec(n))&&(n=n.substr(o[0].length,n.length)),this._endOfFile.test(n))return r&&(this.comments&&(f=this._comment.exec(n))&&i("comment",f[1],"",this._line,n.length),n=null,i("eof","","",this._line,0)),this._input=n;const u=this._line,l=n[0];let d="",c="",h="",m=null,_=0,b=!1;switch(l){case"^":if(n.length<3)break;if(n[1]==="^"){if(this._previousMarker="^^",n=n.substr(2),n[0]!=="<"){b=!0;break}}else{this._n3Mode&&(_=1,d="^");break}case"<":if(m=this._unescapedIri.exec(n))d="IRI",c=m[1];else if(m=this._iri.exec(n)){if(c=this._unescape(m[1]),c===null||I3.test(c))return s(this);d="IRI"}else n.length>1&&n[1]==="<"?(d="<<",_=2):this._n3Mode&&n.length>1&&n[1]==="="&&(d="inverse",_=2,c=">");break;case">":n.length>1&&n[1]===">"&&(d=">>",_=2);break;case"_":((m=this._blank.exec(n))||r&&(m=this._blank.exec(`${n} `)))&&(d="blank",h="_",c=m[1]);break;case'"':if(m=this._simpleQuotedString.exec(n))c=m[1];else if({value:c,matchLength:_}=this._parseLiteral(n),c===null)return s(this);(m!==null||_!==0)&&(d="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(m=this._simpleApostropheString.exec(n))c=m[1];else if({value:c,matchLength:_}=this._parseLiteral(n),c===null)return s(this);(m!==null||_!==0)&&(d="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(m=this._variable.exec(n))&&(d="var",c=m[0]);break;case"@":this._previousMarker==="literal"&&(m=this._langcode.exec(n))?(d="langcode",c=m[1]):(m=this._keyword.exec(n))&&(d=m[0]);break;case".":if(n.length===1?r:n[1]<"0"||n[1]>"9"){d=".",_=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(m=this._number.exec(n)||r&&(m=this._number.exec(`${n} `)))&&(d="literal",c=m[0],h=typeof m[1]=="string"?ef.double:typeof m[2]=="string"?ef.decimal:ef.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(m=this._sparqlKeyword.exec(n))?d=m[0].toUpperCase():b=!0;break;case"f":case"t":(m=this._boolean.exec(n))?(d="literal",c=m[0],h=ef.boolean):b=!0;break;case"a":(m=this._shortPredicates.exec(n))?(d="abbreviation",c="a"):b=!0;break;case"=":this._n3Mode&&n.length>1&&(d="abbreviation",n[1]!==">"?(_=1,c="="):(_=2,c=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(_=1,d=l);break;case"{":!this._lineMode&&n.length>=2&&(n[1]==="|"?(d="{|",_=2):(d=l,_=1));break;case"|":n.length>=2&&n[1]==="}"&&(d="|}",_=2);break;default:b=!0}if(b&&((this._previousMarker==="@prefix"||this._previousMarker==="PREFIX")&&(m=this._prefix.exec(n))?(d="prefix",c=m[1]||""):((m=this._prefixed.exec(n))||r&&(m=this._prefixed.exec(`${n} `)))&&(d="prefixed",h=m[1]||"",c=this._unescape(m[2]))),this._previousMarker==="^^")switch(d){case"prefixed":d="type";break;case"IRI":d="typeIRI";break;default:d=""}if(!d)return r||!/^'''|^"""/.test(n)&&/\n|\r/.test(n)?s(this):this._input=n;const y=_||m[0].length,p=i(d,c,h,u,y);this.previousToken=p,this._previousMarker=d,n=n.substr(y,n.length)}function i(o,f,u,l,d){const c=n?a-n.length:a,h=c+d,m={type:o,value:f,prefix:u,line:l,start:c,end:h};return e(null,m),m}function s(o){e(o._syntaxError(/^\S*/.exec(n)[0]))}}_unescape(e){let r=!1;const n=e.replace(R3,(a,i,s,o)=>{if(typeof i=="string")return String.fromCharCode(Number.parseInt(i,16));if(typeof s=="string"){let f=Number.parseInt(s,16);return f<=65535?String.fromCharCode(Number.parseInt(s,16)):String.fromCharCode(55296+((f-=65536)>>10),56320+(f&1023))}return o in mb?mb[o]:(r=!0,"")});return r?null:n}_parseLiteral(e){if(e.length>=3){const r=e.match(/^(?:"""|"|'''|'|)/)[0],n=r.length;let a=Math.max(this._literalClosingPos,n);for(;(a=e.indexOf(r,a))>0;){let i=0;for(;e[a-i-1]==="\\";)i++;if(i%2===0){const s=e.substring(n,a),o=s.split(/\r\n|\r|\n/).length-1,f=a+n;if(n===1&&o!==0||n===3&&this._lineMode)break;return this._line+=o,{value:this._unescape(s),matchLength:f}}a++}this._literalClosingPos=e.length-n+1}return{value:"",matchLength:0}}_syntaxError(e){this._input=null;const r=new Error(`Unexpected "${e}" on line ${this._line}.`);return r.context={token:void 0,line:this._line,previousToken:this.previousToken},r}_readStartingBom(e){return e.startsWith("\uFEFF")?e.substr(1):e}tokenize(e,r){if(this._line=1,typeof e=="string")if(this._input=this._readStartingBom(e),typeof r=="function")x3(()=>this._tokenizeToEnd(r,!0));else{const n=[];let a;if(this._tokenizeToEnd((i,s)=>i?a=i:n.push(s),!0),a)throw a;return n}else this._pendingBuffer=null,typeof e.setEncoding=="function"&&e.setEncoding("utf8"),e.on("data",n=>{this._input!==null&&n.length!==0&&(this._pendingBuffer&&(n=E3.concat([this._pendingBuffer,n]),this._pendingBuffer=null),n[n.length-1]&128?this._pendingBuffer=n:(typeof this._input>"u"?this._input=this._readStartingBom(typeof n=="string"?n:n.toString()):this._input+=n,this._tokenizeToEnd(r,!1)))}),e.on("end",()=>{typeof this._input=="string"&&this._tokenizeToEnd(r,!0)}),e.on("error",r)}}const{rdf:N3,xsd:jn}=kt;let gi,P3=0;const cr={namedNode:_b,blankNode:vb,variable:Eb,literal:wb,defaultGraph:D3,quad:Xl,triple:Xl,fromTerm:aa,fromQuad:Sb};class ir{constructor(e){this.id=e}get value(){return this.id}equals(e){return e instanceof ir?this.id===e.id:!!e&&this.termType===e.termType&&this.value===e.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}}let tf=class extends ir{get termType(){return"NamedNode"}},bi=class e3 extends ir{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const e=this.id;let r=e.lastIndexOf('"')+1;return r<e.length&&e[r++]==="@"?e.substr(r).toLowerCase():""}get datatype(){return new tf(this.datatypeString)}get datatypeString(){const e=this.id,r=e.lastIndexOf('"')+1,n=r<e.length?e[r]:"";return n==="^"?e.substr(r+2):n!=="@"?jn.string:N3.langString}equals(e){return e instanceof e3?this.id===e.id:!!e&&!!e.datatype&&this.termType===e.termType&&this.value===e.value&&this.language===e.language&&this.datatype.value===e.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}},Wl=class extends ir{constructor(e){super(`_:${e}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}},Kl=class extends ir{constructor(e){super(`?${e}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}},Ql=class extends ir{constructor(){return super(""),gi||this}get termType(){return"DefaultGraph"}equals(e){return this===e||!!e&&this.termType===e.termType}};gi=new Ql;function qn(t,e,r){if(e=e||cr,!t)return e.defaultGraph();switch(t[0]){case"?":return e.variable(t.substr(1));case"_":return e.blankNode(t.substr(2));case'"':if(e===cr)return new bi(t);if(t[t.length-1]==='"')return e.literal(t.substr(1,t.length-2));const n=t.lastIndexOf('"',t.length-1);return e.literal(t.substr(1,n-1),t[n+1]==="@"?t.substr(n+2):e.namedNode(t.substr(n+3)));case"[":t=JSON.parse(t);break;default:if(!r||!Array.isArray(t))return e.namedNode(t)}return e.quad(qn(t[0],e,!0),qn(t[1],e,!0),qn(t[2],e,!0),t[3]&&qn(t[3],e,!0))}function fn(t,e){if(typeof t=="string")return t;if(t instanceof ir&&t.termType!=="Quad")return t.id;if(!t)return gi.id;switch(t.termType){case"NamedNode":return t.value;case"BlankNode":return`_:${t.value}`;case"Variable":return`?${t.value}`;case"DefaultGraph":return"";case"Literal":return`"${t.value}"${t.language?`@${t.language}`:t.datatype&&t.datatype.value!==jn.string?`^^${t.datatype.value}`:""}`;case"Quad":const r=[fn(t.subject,!0),fn(t.predicate,!0),fn(t.object,!0)];return t.graph&&t.graph.termType!=="DefaultGraph"&&r.push(fn(t.graph,!0)),e?r:JSON.stringify(r);default:throw new Error(`Unexpected termType: ${t.termType}`)}}let mi=class extends ir{constructor(e,r,n,a){super(""),this._subject=e,this._predicate=r,this._object=n,this._graph=a||gi}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(e){return!!e&&this._subject.equals(e.subject)&&this._predicate.equals(e.predicate)&&this._object.equals(e.object)&&this._graph.equals(e.graph)}};function _b(t){return new tf(t)}function vb(t){return new Wl(t||`n3-${P3++}`)}function wb(t,e){if(typeof e=="string")return new bi(`"${t}"@${e.toLowerCase()}`);let r=e?e.value:"";return r===""&&(typeof t=="boolean"?r=jn.boolean:typeof t=="number"&&(Number.isFinite(t)?r=Number.isInteger(t)?jn.integer:jn.double:(r=jn.double,Number.isNaN(t)||(t=t>0?"INF":"-INF")))),r===""||r===jn.string?new bi(`"${t}"`):new bi(`"${t}"^^${r}`)}function Eb(t){return new Kl(t)}function D3(){return gi}function Xl(t,e,r,n){return new mi(t,e,r,n)}function aa(t){if(t instanceof ir)return t;switch(t.termType){case"NamedNode":return _b(t.value);case"BlankNode":return vb(t.value);case"Variable":return Eb(t.value);case"DefaultGraph":return gi;case"Literal":return wb(t.value,t.language||t.datatype);case"Quad":return Sb(t);default:throw new Error(`Unexpected termType: ${t.termType}`)}}function Sb(t){if(t instanceof mi)return t;if(t.termType!=="Quad")throw new Error(`Unexpected termType: ${t.termType}`);return Xl(aa(t.subject),aa(t.predicate),aa(t.object),aa(t.graph))}let Tb=0;class rf{constructor(e){this._contextStack=[],this._graph=null,e=e||{},this._setBase(e.baseIRI),e.factory&&xb(this,e.factory);const r=typeof e.format=="string"?e.format.match(/\w*$/)[0].toLowerCase():"",n=/turtle/.test(r),a=/trig/.test(r),i=/triple/.test(r),s=/quad/.test(r),o=this._n3Mode=/n3/.test(r),f=i||s;(this._supportsNamedGraphs=!(n||o))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(n||a||i||o),this._supportsRDFStar=r===""||/star|\*$/.test(r),f&&(this._resolveRelativeIRI=u=>null),this._blankNodePrefix=typeof e.blankNodePrefix!="string"?"":e.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=e.lexer||new zl({lineMode:f,n3:o}),this._explicitQuantifiers=!!e.explicitQuantifiers}static _resetBlankNodePrefix(){Tb=0}_setBase(e){if(!e)this._base="",this._basePath="";else{const r=e.indexOf("#");r>=0&&(e=e.substr(0,r)),this._base=e,this._basePath=e.indexOf("/")<0?e:e.replace(/[^\/?]*(?:\?.*)?$/,""),e=e.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=e[0],this._baseScheme=e[1]}}_saveContext(e,r,n,a,i){const s=this._n3Mode;this._contextStack.push({type:e,subject:n,predicate:a,object:i,graph:r,inverse:s?this._inversePredicate:!1,blankPrefix:s?this._prefixes._:"",quantified:s?this._quantified:null}),s&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(e,r){const n=this._contextStack.pop();if(!n||n.type!==e)return this._error(`Unexpected ${r.type}`,r);this._subject=n.subject,this._predicate=n.predicate,this._object=n.object,this._graph=n.graph,this._n3Mode&&(this._inversePredicate=n.inverse,this._prefixes._=n.blankPrefix,this._quantified=n.quantified)}_readInTopContext(e){switch(e.type){case"eof":return this._graph!==null?this._error("Unclosed graph",e):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}}_readEntity(e,r){let n;switch(e.type){case"IRI":case"typeIRI":const a=this._resolveIRI(e.value);if(a===null)return this._error("Invalid IRI",e);n=this._factory.namedNode(a);break;case"type":case"prefixed":const i=this._prefixes[e.prefix];if(i===void 0)return this._error(`Undefined prefix "${e.prefix}:"`,e);n=this._factory.namedNode(i+e.value);break;case"blank":n=this._factory.blankNode(this._prefixes[e.prefix]+e.value);break;case"var":n=this._factory.variable(e.value.substr(1));break;default:return this._error(`Expected entity but got ${e.type}`,e)}return!r&&this._n3Mode&&n.id in this._quantified&&(n=this._quantified[n.id]),n}_readSubject(e){switch(this._predicate=null,e.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._factory.blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._factory.blankNode(),null,null),this._readSubject):this._error("Unexpected graph",e);case"}":return this._readPunctuation(e);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier="blankNode",this._readQuantifierList):this._error('Unexpected "@forSome"',e);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier="variable",this._readQuantifierList):this._error('Unexpected "@forAll"',e);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",e);if(e.prefix.length===0)return this._literalValue=e.value,this._completeSubjectLiteral;this._subject=this._factory.literal(e.value,this._factory.namedNode(e.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",e);default:if((this._subject=this._readEntity(e))===void 0)return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(e){const r=e.type;switch(r){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[e.value];break;case".":case"]":case"}":return this._predicate===null?this._error(`Unexpected ${r}`,e):(this._subject=null,r==="]"?this._readBlankNodeTail(e):this._readPunctuation(e));case";":return this._predicate!==null?this._readPredicate:this._error("Expected predicate but got ;",e);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._factory.blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",e);default:if((this._predicate=this._readEntity(e))===void 0)return}return this._readObject}_readObject(e){switch(e.type){case"literal":if(e.prefix.length===0)return this._literalValue=e.value,this._readDataTypeOrLang;this._object=this._factory.literal(e.value,this._factory.namedNode(e.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._factory.blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._factory.blankNode()),this._readSubject):this._error("Unexpected graph",e);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",e);default:if((this._object=this._readEntity(e))===void 0)return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(e){return e.type==="{"?this._readGraph(e):this._readPredicate(e)}_readGraph(e){return e.type!=="{"?this._error(`Expected graph but got ${e.type}`,e):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(e){return e.type==="]"?(this._subject=null,this._readBlankNodeTail(e)):(this._predicate=null,this._readPredicate(e))}_readBlankNodeTail(e){if(e.type!=="]")return this._readBlankNodePunctuation(e);this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph);const r=this._predicate===null;return this._restoreContext("blank",e),this._object!==null?this._getContextEndReader():this._predicate!==null?this._readObject:r?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(e){switch(e.type){case".":case"}":return this._subject=null,this._readPunctuation(e);default:return this._readPredicate(e)}}_readListItem(e){let r=null,n=null,a=this._readListItem;const i=this._subject,s=this._contextStack,o=s[s.length-1];switch(e.type){case"[":this._saveContext("blank",this._graph,n=this._factory.blankNode(),this.RDF_FIRST,this._subject=r=this._factory.blankNode()),a=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,n=this._factory.blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",e),s.length!==0&&s[s.length-1].type==="list"&&this._emit(this._subject,this._predicate,this._object,this._graph),this._predicate===null){if(a=this._readPredicate,this._subject===this.RDF_NIL)return a}else if(a=this._getContextEndReader(),this._object===this.RDF_NIL)return a;n=this.RDF_NIL;break;case"literal":e.prefix.length===0?(this._literalValue=e.value,a=this._readListItemDataTypeOrLang):(r=this._factory.literal(e.value,this._factory.namedNode(e.prefix)),a=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._factory.blankNode()),this._readSubject):this._error("Unexpected graph",e);default:if((r=this._readEntity(e))===void 0)return}if(n===null&&(this._subject=n=this._factory.blankNode()),i===null?o.predicate===null?o.subject=n:o.object=n:this._emit(i,this.RDF_REST,n,this._graph),r!==null){if(this._n3Mode&&(e.type==="IRI"||e.type==="prefixed"))return this._saveContext("item",this._graph,n,this.RDF_FIRST,r),this._subject=r,this._predicate=null,this._getPathReader(this._readListItem);this._emit(n,this.RDF_FIRST,r,this._graph)}return a}_readDataTypeOrLang(e){return this._completeObjectLiteral(e,!1)}_readListItemDataTypeOrLang(e){return this._completeObjectLiteral(e,!0)}_completeLiteral(e){let r=this._factory.literal(this._literalValue);switch(e.type){case"type":case"typeIRI":const n=this._readEntity(e);if(n===void 0)return;r=this._factory.literal(this._literalValue,n),e=null;break;case"langcode":r=this._factory.literal(this._literalValue,e.value),e=null;break}return{token:e,literal:r}}_completeSubjectLiteral(e){return this._subject=this._completeLiteral(e).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(e,r){const n=this._completeLiteral(e);if(n)return this._object=n.literal,r&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),n.token===null?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(n.token))}_readFormulaTail(e){return e.type!=="}"?this._readPunctuation(e):(this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",e),this._object===null?this._readPredicate:this._getContextEndReader())}_readPunctuation(e){let r,n=this._graph;const a=this._subject,i=this._inversePredicate;switch(e.type){case"}":if(this._graph===null)return this._error("Unexpected graph closing",e);if(this._n3Mode)return this._readFormulaTail(e);this._graph=null;case".":this._subject=null,r=this._contextStack.length?this._readSubject:this._readInTopContext,i&&(this._inversePredicate=!1);break;case";":r=this._readPredicate;break;case",":r=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF-star syntax",e);const s=this._predicate,o=this._object;this._subject=this._factory.quad(a,s,o,this.DEFAULTGRAPH),r=this._readPredicate;break;case"|}":if(this._subject.termType!=="Quad")return this._error("Unexpected asserted triple closing",e);this._subject=null,r=this._readPunctuation;break;default:if(this._supportsQuads&&this._graph===null&&(n=this._readEntity(e))!==void 0){r=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}if(a!==null){const s=this._predicate,o=this._object;i?this._emit(o,s,a,n):this._emit(a,s,o,n)}return r}_readBlankNodePunctuation(e){let r;switch(e.type){case";":r=this._readPredicate;break;case",":r=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}return this._emit(this._subject,this._predicate,this._object,this._graph),r}_readQuadPunctuation(e){return e.type!=="."?this._error("Expected dot to follow quad",e):this._readInTopContext}_readPrefix(e){return e.type!=="prefix"?this._error("Expected prefix to follow @prefix",e):(this._prefix=e.value,this._readPrefixIRI)}_readPrefixIRI(e){if(e.type!=="IRI")return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,e);const r=this._readEntity(e);return this._prefixes[this._prefix]=r.value,this._prefixCallback(this._prefix,r),this._readDeclarationPunctuation}_readBaseIRI(e){const r=e.type==="IRI"&&this._resolveIRI(e.value);return r?(this._setBase(r),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",e)}_readNamedGraphLabel(e){switch(e.type){case"IRI":case"blank":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}}_readNamedGraphBlankLabel(e){return e.type!=="]"?this._error("Invalid graph label",e):(this._subject=this._factory.blankNode(),this._readGraph)}_readDeclarationPunctuation(e){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(e)):e.type!=="."?this._error("Expected declaration to end with a dot",e):this._readInTopContext}_readQuantifierList(e){let r;switch(e.type){case"IRI":case"prefixed":if((r=this._readEntity(e,!0))!==void 0)break;default:return this._error(`Unexpected ${e.type}`,e)}return this._explicitQuantifiers?(this._subject===null?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._factory.blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._factory.blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,r,this.QUANTIFIERS_GRAPH)):this._quantified[r.id]=this._factory[this._quantifier](this._factory.blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(e){return e.type===","?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(e))}_getPathReader(e){return this._afterPath=e,this._readPath}_readPath(e){switch(e.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const r=this._contextStack,n=r.length&&r[r.length-1];if(n&&n.type==="item"){const a=this._subject;this._restoreContext("item",e),this._emit(this._subject,this.RDF_FIRST,a,this._graph)}return this._afterPath(e)}}_readForwardPath(e){let r,n;const a=this._factory.blankNode();if((n=this._readEntity(e))!==void 0)return this._predicate===null?(r=this._subject,this._subject=a):(r=this._object,this._object=a),this._emit(r,n,a,this._graph),this._readPath}_readBackwardPath(e){const r=this._factory.blankNode();let n,a;if((n=this._readEntity(e))!==void 0)return this._predicate===null?(a=this._subject,this._subject=r):(a=this._object,this._object=r),this._emit(r,n,a,this._graph),this._readPath}_readRDFStarTailOrGraph(e){return e.type!==">>"?this._supportsQuads&&this._graph===null&&(this._graph=this._readEntity(e))!==void 0?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,e):this._readRDFStarTail(e)}_readRDFStarTail(e){if(e.type!==">>")return this._error(`Expected >> but got ${e.type}`,e);const r=this._factory.quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",e),this._subject===null?(this._subject=r,this._readPredicate):(this._object=r,this._getContextEndReader())}_getContextEndReader(){const e=this._contextStack;if(!e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(e,r,n,a){this._callback(null,this._factory.quad(e,r,n,a||this.DEFAULTGRAPH))}_error(e,r){const n=new Error(`${e} on line ${r.line}.`);n.context={token:r,line:r.line,previousToken:this._lexer.previousToken},this._callback(n),this._callback=nf}_resolveIRI(e){return/^[a-z][a-z0-9+.-]*:/i.test(e)?e:this._resolveRelativeIRI(e)}_resolveRelativeIRI(e){if(!e.length)return this._base;switch(e[0]){case"#":return this._base+e;case"?":return this._base.replace(/(?:\?.*)?$/,e);case"/":return(e[1]==="/"?this._baseScheme:this._baseRoot)+this._removeDotSegments(e);default:return/^[^/:]*:/.test(e)?null:this._removeDotSegments(this._basePath+e)}}_removeDotSegments(e){if(!/(^|\/)\.\.?($|[/#?])/.test(e))return e;const r=e.length;let n="",a=-1,i=-1,s=0,o="/";for(;a<r;){switch(o){case":":if(i<0&&e[++a]==="/"&&e[++a]==="/")for(;(i=a+1)<r&&e[i]!=="/";)a=i;break;case"?":case"#":a=r;break;case"/":if(e[a+1]===".")switch(o=e[++a+1],o){case"/":n+=e.substring(s,a-1),s=a+1;break;case void 0:case"?":case"#":return n+e.substring(s,a)+e.substr(a+1);case".":if(o=e[++a+1],o===void 0||o==="/"||o==="?"||o==="#"){if(n+=e.substring(s,a-2),(s=n.lastIndexOf("/"))>=i&&(n=n.substr(0,s)),o!=="/")return`${n}/${e.substr(a+1)}`;s=a+1}}}o=e[++a]}return n+e.substring(s)}parse(e,r,n){let a,i,s;if(r&&(r.onQuad||r.onPrefix||r.onComment)?(a=r.onQuad,i=r.onPrefix,s=r.onComment):(a=r,i=n),this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${Tb++}_`,this._prefixCallback=i||nf,this._inversePredicate=!1,this._quantified=Object.create(null),!a){const f=[];let u;if(this._callback=(l,d)=>{l?u=l:d&&f.push(d)},this._lexer.tokenize(e).every(l=>this._readCallback=this._readCallback(l)),u)throw u;return f}let o=(f,u)=>{f!==null?(this._callback(f),this._callback=nf):this._readCallback&&(this._readCallback=this._readCallback(u))};s&&(this._lexer.comments=!0,o=(f,u)=>{f!==null?(this._callback(f),this._callback=nf):this._readCallback&&(u.type==="comment"?s(u.value):this._readCallback=this._readCallback(u))}),this._callback=a,this._lexer.tokenize(e,o)}}function nf(){}function xb(t,e){t._factory=e,t.DEFAULTGRAPH=e.defaultGraph(),t.RDF_FIRST=e.namedNode(kt.rdf.first),t.RDF_REST=e.namedNode(kt.rdf.rest),t.RDF_NIL=e.namedNode(kt.rdf.nil),t.N3_FORALL=e.namedNode(kt.r.forAll),t.N3_FORSOME=e.namedNode(kt.r.forSome),t.ABBREVIATIONS={a:e.namedNode(kt.rdf.type),"=":e.namedNode(kt.owl.sameAs),">":e.namedNode(kt.log.implies)},t.QUANTIFIERS_GRAPH=e.namedNode("urn:n3:quantifiers")}xb(rf.prototype,cr);function C3(t){return!!t&&t.termType==="NamedNode"}function L3(t){return!!t&&t.termType==="BlankNode"}function F3(t){return!!t&&t.termType==="Literal"}function M3(t){return!!t&&t.termType==="Variable"}function oa(t){return!!t&&t.termType==="DefaultGraph"}function j3(t){return oa(t.graph)}function q3(t,e){return Rb({"":t.value||t},e)("")}function Rb(t,e){const r=Object.create(null);for(const a in t)n(a,t[a]);e=e||cr;function n(a,i){if(typeof i=="string"){const s=Object.create(null);r[a]=o=>s[o]||(s[o]=e.namedNode(i+o))}else if(!(a in r))throw new Error(`Unknown prefix: ${a}`);return r[a]}return n}var Ib=Object.freeze({__proto__:null,inDefaultGraph:j3,isBlankNode:L3,isDefaultGraph:oa,isLiteral:F3,isNamedNode:C3,isVariable:M3,prefix:q3,prefixes:Rb});const sa=cr.defaultGraph(),{rdf:B3,xsd:_i}=kt,Ab=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,Ob=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,k3={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};class ua extends ir{equals(e){return e===this}}class fa{constructor(e,r){if(this._prefixRegex=/$0^/,e&&typeof e.write!="function"&&(r=e,e=null),r=r||{},this._lists=r.lists,e)this._outputStream=e,this._endStream=r.end===void 0?!0:!!r.end;else{let n="";this._outputStream={write(a,i,s){n+=a,s&&s()},end:a=>{a&&a(null,n)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(r.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=sa,this._prefixIRIs=Object.create(null),r.prefixes&&this.addPrefixes(r.prefixes),r.baseIRI&&(this._baseMatcher=new RegExp(`^${Pb(r.baseIRI)}${r.baseIRI.endsWith("/")?"":"[#?]"}`),this._baseLength=r.baseIRI.length))}get _inDefaultGraph(){return sa.equals(this._graph)}_write(e,r){this._outputStream.write(e,"utf8",r)}_writeQuad(e,r,n,a,i){try{a.equals(this._graph)||(this._write((this._subject===null?"":this._inDefaultGraph?`.
`:`
}
`)+(sa.equals(a)?"":`${this._encodeIriOrBlank(a)} {
`)),this._graph=a,this._subject=null),e.equals(this._subject)?r.equals(this._predicate)?this._write(`, ${this._encodeObject(n)}`,i):this._write(`;
    ${this._encodePredicate(this._predicate=r)} ${this._encodeObject(n)}`,i):this._write(`${(this._subject===null?"":`.
`)+this._encodeSubject(this._subject=e)} ${this._encodePredicate(this._predicate=r)} ${this._encodeObject(n)}`,i)}catch(s){i&&i(s)}}_writeQuadLine(e,r,n,a,i){delete this._prefixMatch,this._write(this.quadToString(e,r,n,a),i)}quadToString(e,r,n,a){return`${this._encodeSubject(e)} ${this._encodeIriOrBlank(r)} ${this._encodeObject(n)}${a&&a.value?` ${this._encodeIriOrBlank(a)} .
`:` .
`}`}quadsToString(e){let r="";for(const n of e)r+=this.quadToString(n.subject,n.predicate,n.object,n.graph);return r}_encodeSubject(e){return e.termType==="Quad"?this._encodeQuad(e):this._encodeIriOrBlank(e)}_encodeIriOrBlank(e){if(e.termType!=="NamedNode")return this._lists&&e.value in this._lists&&(e=this.list(this._lists[e.value])),"id"in e?e.id:`_:${e.value}`;let r=e.value;this._baseMatcher&&this._baseMatcher.test(r)&&(r=r.substr(this._baseLength)),Ab.test(r)&&(r=r.replace(Ob,Nb));const n=this._prefixRegex.exec(r);return n?n[1]?this._prefixIRIs[n[1]]+n[2]:r:`<${r}>`}_encodeLiteral(e){let r=e.value;if(Ab.test(r)&&(r=r.replace(Ob,Nb)),e.language)return`"${r}"@${e.language}`;if(this._lineMode){if(e.datatype.value===_i.string)return`"${r}"`}else switch(e.datatype.value){case _i.string:return`"${r}"`;case _i.boolean:if(r==="true"||r==="false")return r;break;case _i.integer:if(/^[+-]?\d+$/.test(r))return r;break;case _i.decimal:if(/^[+-]?\d*\.\d+$/.test(r))return r;break;case _i.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(r))return r;break}return`"${r}"^^${this._encodeIriOrBlank(e.datatype)}`}_encodePredicate(e){return e.value===B3.type?"a":this._encodeIriOrBlank(e)}_encodeObject(e){switch(e.termType){case"Quad":return this._encodeQuad(e);case"Literal":return this._encodeLiteral(e);default:return this._encodeIriOrBlank(e)}}_encodeQuad({subject:e,predicate:r,object:n,graph:a}){return`<<${this._encodeSubject(e)} ${this._encodePredicate(r)} ${this._encodeObject(n)}${oa(a)?"":` ${this._encodeIriOrBlank(a)}`}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(e,r,n,a,i){n===void 0?this._writeQuad(e.subject,e.predicate,e.object,e.graph,r):typeof a=="function"?this._writeQuad(e,r,n,sa,a):this._writeQuad(e,r,n,a||sa,i)}addQuads(e){for(let r=0;r<e.length;r++)this.addQuad(e[r])}addPrefix(e,r,n){const a={};a[e]=r,this.addPrefixes(a,n)}addPrefixes(e,r){if(!this._prefixIRIs)return r&&r();let n=!1;for(let a in e){let i=e[a];typeof i!="string"&&(i=i.value),n=!0,this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null,this._graph=""),this._prefixIRIs[i]=a+=":",this._write(`@prefix ${a} <${i}>.
`)}if(n){let a="",i="";for(const s in this._prefixIRIs)a+=a?`|${s}`:s,i+=(i?"|":"")+this._prefixIRIs[s];a=Pb(a),this._prefixRegex=new RegExp(`^(?:${i})[^/]*$|^(${a})([_a-zA-Z0-9][\\-_a-zA-Z0-9]*)$`)}this._write(n?`
`:"",r)}blank(e,r){let n=e,a,i;switch(e===void 0?n=[]:e.termType?n=[{predicate:e,object:r}]:"length"in e||(n=[e]),i=n.length){case 0:return new ua("[]");case 1:if(a=n[0],!(a.object instanceof ua))return new ua(`[ ${this._encodePredicate(a.predicate)} ${this._encodeObject(a.object)} ]`);default:let s="[";for(let o=0;o<i;o++)a=n[o],a.predicate.equals(e)?s+=`, ${this._encodeObject(a.object)}`:(s+=`${(o?`;
  `:`
  `)+this._encodePredicate(a.predicate)} ${this._encodeObject(a.object)}`,e=a.predicate);return new ua(`${s}
]`)}}list(e){const r=e&&e.length||0,n=new Array(r);for(let a=0;a<r;a++)n[a]=this._encodeObject(e[a]);return new ua(`(${n.join(" ")})`)}end(e){this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null),this._write=this._blockedWrite;let r=e&&((n,a)=>{r=null,e(n,a)});if(this._endStream)try{return this._outputStream.end(r)}catch{}r&&r()}}function Nb(t){let e=k3[t];return e===void 0&&(t.length===1?(e=t.charCodeAt(0).toString(16),e="\\u0000".substr(0,6-e.length)+e):(e=((t.charCodeAt(0)-55296)*1024+t.charCodeAt(1)+9216).toString(16),e="\\U00000000".substr(0,10-e.length)+e)),e}function Pb(t){return t.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&")}var Zl={exports:{}},Jl={exports:{}},Yl={},Db;function bt(){return Db||(Db=1,function(t){Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var e={},r={};r.byteLength=l,r.toByteArray=c,r.fromByteArray=_;for(var n=[],a=[],i=typeof Uint8Array<"u"?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,f=s.length;o<f;++o)n[o]=s[o],a[s.charCodeAt(o)]=o;a[45]=62,a[95]=63;function u(p){var g=p.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var w=p.indexOf("=");w===-1&&(w=g);var S=w===g?0:4-w%4;return[w,S]}function l(p){var g=u(p),w=g[0],S=g[1];return(w+S)*3/4-S}function d(p,g,w){return(g+w)*3/4-w}function c(p){var g,w=u(p),S=w[0],I=w[1],O=new i(d(p,S,I)),M=0,D=I>0?S-4:S,N;for(N=0;N<D;N+=4)g=a[p.charCodeAt(N)]<<18|a[p.charCodeAt(N+1)]<<12|a[p.charCodeAt(N+2)]<<6|a[p.charCodeAt(N+3)],O[M++]=g>>16&255,O[M++]=g>>8&255,O[M++]=g&255;return I===2&&(g=a[p.charCodeAt(N)]<<2|a[p.charCodeAt(N+1)]>>4,O[M++]=g&255),I===1&&(g=a[p.charCodeAt(N)]<<10|a[p.charCodeAt(N+1)]<<4|a[p.charCodeAt(N+2)]>>2,O[M++]=g>>8&255,O[M++]=g&255),O}function h(p){return n[p>>18&63]+n[p>>12&63]+n[p>>6&63]+n[p&63]}function m(p,g,w){for(var S,I=[],O=g;O<w;O+=3)S=(p[O]<<16&16711680)+(p[O+1]<<8&65280)+(p[O+2]&255),I.push(h(S));return I.join("")}function _(p){for(var g,w=p.length,S=w%3,I=[],O=16383,M=0,D=w-S;M<D;M+=O)I.push(m(p,M,M+O>D?D:M+O));return S===1?(g=p[w-1],I.push(n[g>>2]+n[g<<4&63]+"==")):S===2&&(g=(p[w-2]<<8)+p[w-1],I.push(n[g>>10]+n[g>>4&63]+n[g<<2&63]+"=")),I.join("")}var b={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */b.read=function(p,g,w,S,I){var O,M,D=I*8-S-1,N=(1<<D)-1,C=N>>1,R=-7,F=w?I-1:0,X=w?-1:1,oe=p[g+F];for(F+=X,O=oe&(1<<-R)-1,oe>>=-R,R+=D;R>0;O=O*256+p[g+F],F+=X,R-=8);for(M=O&(1<<-R)-1,O>>=-R,R+=S;R>0;M=M*256+p[g+F],F+=X,R-=8);if(O===0)O=1-C;else{if(O===N)return M?NaN:(oe?-1:1)*(1/0);M=M+Math.pow(2,S),O=O-C}return(oe?-1:1)*M*Math.pow(2,O-S)},b.write=function(p,g,w,S,I,O){var M,D,N,C=O*8-I-1,R=(1<<C)-1,F=R>>1,X=I===23?Math.pow(2,-24)-Math.pow(2,-77):0,oe=S?0:O-1,J=S?1:-1,le=g<0||g===0&&1/g<0?1:0;for(g=Math.abs(g),isNaN(g)||g===1/0?(D=isNaN(g)?1:0,M=R):(M=Math.floor(Math.log(g)/Math.LN2),g*(N=Math.pow(2,-M))<1&&(M--,N*=2),M+F>=1?g+=X/N:g+=X*Math.pow(2,1-F),g*N>=2&&(M++,N/=2),M+F>=R?(D=0,M=R):M+F>=1?(D=(g*N-1)*Math.pow(2,I),M=M+F):(D=g*Math.pow(2,F-1)*Math.pow(2,I),M=0));I>=8;p[w+oe]=D&255,oe+=J,D/=256,I-=8);for(M=M<<I|D,C+=I;C>0;p[w+oe]=M&255,oe+=J,M/=256,C-=8);p[w+oe-J]|=le*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(p){const g=r,w=b,S=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;p.Buffer=R,p.SlowBuffer=W,p.INSPECT_MAX_BYTES=50;const I=2147483647;p.kMaxLength=I;const{Uint8Array:O,ArrayBuffer:M,SharedArrayBuffer:D}=globalThis;R.TYPED_ARRAY_SUPPORT=N(),!R.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function N(){try{const B=new O(1),j={foo:function(){return 42}};return Object.setPrototypeOf(j,O.prototype),Object.setPrototypeOf(B,j),B.foo()===42}catch{return!1}}Object.defineProperty(R.prototype,"parent",{enumerable:!0,get:function(){if(R.isBuffer(this))return this.buffer}}),Object.defineProperty(R.prototype,"offset",{enumerable:!0,get:function(){if(R.isBuffer(this))return this.byteOffset}});function C(B){if(B>I)throw new RangeError('The value "'+B+'" is invalid for option "size"');const j=new O(B);return Object.setPrototypeOf(j,R.prototype),j}function R(B,j,U){if(typeof B=="number"){if(typeof j=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return J(B)}return F(B,j,U)}R.poolSize=8192;function F(B,j,U){if(typeof B=="string")return le(B,j);if(M.isView(B))return Z(B);if(B==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B);if(se(B,M)||B&&se(B.buffer,M)||typeof D<"u"&&(se(B,D)||B&&se(B.buffer,D)))return H(B,j,U);if(typeof B=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ce=B.valueOf&&B.valueOf();if(ce!=null&&ce!==B)return R.from(ce,j,U);const me=de(B);if(me)return me;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof B[Symbol.toPrimitive]=="function")return R.from(B[Symbol.toPrimitive]("string"),j,U);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B)}R.from=function(B,j,U){return F(B,j,U)},Object.setPrototypeOf(R.prototype,O.prototype),Object.setPrototypeOf(R,O);function X(B){if(typeof B!="number")throw new TypeError('"size" argument must be of type number');if(B<0)throw new RangeError('The value "'+B+'" is invalid for option "size"')}function oe(B,j,U){return X(B),B<=0?C(B):j!==void 0?typeof U=="string"?C(B).fill(j,U):C(B).fill(j):C(B)}R.alloc=function(B,j,U){return oe(B,j,U)};function J(B){return X(B),C(B<0?0:he(B)|0)}R.allocUnsafe=function(B){return J(B)},R.allocUnsafeSlow=function(B){return J(B)};function le(B,j){if((typeof j!="string"||j==="")&&(j="utf8"),!R.isEncoding(j))throw new TypeError("Unknown encoding: "+j);const U=z(B,j)|0;let ce=C(U);const me=ce.write(B,j);return me!==U&&(ce=ce.slice(0,me)),ce}function ae(B){const j=B.length<0?0:he(B.length)|0,U=C(j);for(let ce=0;ce<j;ce+=1)U[ce]=B[ce]&255;return U}function Z(B){if(se(B,O)){const j=new O(B);return H(j.buffer,j.byteOffset,j.byteLength)}return ae(B)}function H(B,j,U){if(j<0||B.byteLength<j)throw new RangeError('"offset" is outside of buffer bounds');if(B.byteLength<j+(U||0))throw new RangeError('"length" is outside of buffer bounds');let ce;return j===void 0&&U===void 0?ce=new O(B):U===void 0?ce=new O(B,j):ce=new O(B,j,U),Object.setPrototypeOf(ce,R.prototype),ce}function de(B){if(R.isBuffer(B)){const j=he(B.length)|0,U=C(j);return U.length===0||B.copy(U,0,0,j),U}if(B.length!==void 0)return typeof B.length!="number"||ve(B.length)?C(0):ae(B);if(B.type==="Buffer"&&Array.isArray(B.data))return ae(B.data)}function he(B){if(B>=I)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+I.toString(16)+" bytes");return B|0}function W(B){return+B!=B&&(B=0),R.alloc(+B)}R.isBuffer=function(j){return j!=null&&j._isBuffer===!0&&j!==R.prototype},R.compare=function(j,U){if(se(j,O)&&(j=R.from(j,j.offset,j.byteLength)),se(U,O)&&(U=R.from(U,U.offset,U.byteLength)),!R.isBuffer(j)||!R.isBuffer(U))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(j===U)return 0;let ce=j.length,me=U.length;for(let be=0,Ie=Math.min(ce,me);be<Ie;++be)if(j[be]!==U[be]){ce=j[be],me=U[be];break}return ce<me?-1:me<ce?1:0},R.isEncoding=function(j){switch(String(j).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},R.concat=function(j,U){if(!Array.isArray(j))throw new TypeError('"list" argument must be an Array of Buffers');if(j.length===0)return R.alloc(0);let ce;if(U===void 0)for(U=0,ce=0;ce<j.length;++ce)U+=j[ce].length;const me=R.allocUnsafe(U);let be=0;for(ce=0;ce<j.length;++ce){let Ie=j[ce];if(se(Ie,O))be+Ie.length>me.length?(R.isBuffer(Ie)||(Ie=R.from(Ie)),Ie.copy(me,be)):O.prototype.set.call(me,Ie,be);else if(R.isBuffer(Ie))Ie.copy(me,be);else throw new TypeError('"list" argument must be an Array of Buffers');be+=Ie.length}return me};function z(B,j){if(R.isBuffer(B))return B.length;if(M.isView(B)||se(B,M))return B.byteLength;if(typeof B!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof B);const U=B.length,ce=arguments.length>2&&arguments[2]===!0;if(!ce&&U===0)return 0;let me=!1;for(;;)switch(j){case"ascii":case"latin1":case"binary":return U;case"utf8":case"utf-8":return De(B).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U*2;case"hex":return U>>>1;case"base64":return Se(B).length;default:if(me)return ce?-1:De(B).length;j=(""+j).toLowerCase(),me=!0}}R.byteLength=z;function Q(B,j,U){let ce=!1;if((j===void 0||j<0)&&(j=0),j>this.length||((U===void 0||U>this.length)&&(U=this.length),U<=0)||(U>>>=0,j>>>=0,U<=j))return"";for(B||(B="utf8");;)switch(B){case"hex":return Re(this,j,U);case"utf8":case"utf-8":return Y(this,j,U);case"ascii":return we(this,j,U);case"latin1":case"binary":return fe(this,j,U);case"base64":return L(this,j,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Le(this,j,U);default:if(ce)throw new TypeError("Unknown encoding: "+B);B=(B+"").toLowerCase(),ce=!0}}R.prototype._isBuffer=!0;function A(B,j,U){const ce=B[j];B[j]=B[U],B[U]=ce}R.prototype.swap16=function(){const j=this.length;if(j%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let U=0;U<j;U+=2)A(this,U,U+1);return this},R.prototype.swap32=function(){const j=this.length;if(j%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let U=0;U<j;U+=4)A(this,U,U+3),A(this,U+1,U+2);return this},R.prototype.swap64=function(){const j=this.length;if(j%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let U=0;U<j;U+=8)A(this,U,U+7),A(this,U+1,U+6),A(this,U+2,U+5),A(this,U+3,U+4);return this},R.prototype.toString=function(){const j=this.length;return j===0?"":arguments.length===0?Y(this,0,j):Q.apply(this,arguments)},R.prototype.toLocaleString=R.prototype.toString,R.prototype.equals=function(j){if(!R.isBuffer(j))throw new TypeError("Argument must be a Buffer");return this===j?!0:R.compare(this,j)===0},R.prototype.inspect=function(){let j="";const U=p.INSPECT_MAX_BYTES;return j=this.toString("hex",0,U).replace(/(.{2})/g,"$1 ").trim(),this.length>U&&(j+=" ... "),"<Buffer "+j+">"},S&&(R.prototype[S]=R.prototype.inspect),R.prototype.compare=function(j,U,ce,me,be){if(se(j,O)&&(j=R.from(j,j.offset,j.byteLength)),!R.isBuffer(j))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof j);if(U===void 0&&(U=0),ce===void 0&&(ce=j?j.length:0),me===void 0&&(me=0),be===void 0&&(be=this.length),U<0||ce>j.length||me<0||be>this.length)throw new RangeError("out of range index");if(me>=be&&U>=ce)return 0;if(me>=be)return-1;if(U>=ce)return 1;if(U>>>=0,ce>>>=0,me>>>=0,be>>>=0,this===j)return 0;let Ie=be-me,Ce=ce-U;const He=Math.min(Ie,Ce),Ve=this.slice(me,be),Ke=j.slice(U,ce);for(let Ge=0;Ge<He;++Ge)if(Ve[Ge]!==Ke[Ge]){Ie=Ve[Ge],Ce=Ke[Ge];break}return Ie<Ce?-1:Ce<Ie?1:0};function P(B,j,U,ce,me){if(B.length===0)return-1;if(typeof U=="string"?(ce=U,U=0):U>2147483647?U=2147483647:U<-2147483648&&(U=-2147483648),U=+U,ve(U)&&(U=me?0:B.length-1),U<0&&(U=B.length+U),U>=B.length){if(me)return-1;U=B.length-1}else if(U<0)if(me)U=0;else return-1;if(typeof j=="string"&&(j=R.from(j,ce)),R.isBuffer(j))return j.length===0?-1:k(B,j,U,ce,me);if(typeof j=="number")return j=j&255,typeof O.prototype.indexOf=="function"?me?O.prototype.indexOf.call(B,j,U):O.prototype.lastIndexOf.call(B,j,U):k(B,[j],U,ce,me);throw new TypeError("val must be string, number or Buffer")}function k(B,j,U,ce,me){let be=1,Ie=B.length,Ce=j.length;if(ce!==void 0&&(ce=String(ce).toLowerCase(),ce==="ucs2"||ce==="ucs-2"||ce==="utf16le"||ce==="utf-16le")){if(B.length<2||j.length<2)return-1;be=2,Ie/=2,Ce/=2,U/=2}function He(Ke,Ge){return be===1?Ke[Ge]:Ke.readUInt16BE(Ge*be)}let Ve;if(me){let Ke=-1;for(Ve=U;Ve<Ie;Ve++)if(He(B,Ve)===He(j,Ke===-1?0:Ve-Ke)){if(Ke===-1&&(Ke=Ve),Ve-Ke+1===Ce)return Ke*be}else Ke!==-1&&(Ve-=Ve-Ke),Ke=-1}else for(U+Ce>Ie&&(U=Ie-Ce),Ve=U;Ve>=0;Ve--){let Ke=!0;for(let Ge=0;Ge<Ce;Ge++)if(He(B,Ve+Ge)!==He(j,Ge)){Ke=!1;break}if(Ke)return Ve}return-1}R.prototype.includes=function(j,U,ce){return this.indexOf(j,U,ce)!==-1},R.prototype.indexOf=function(j,U,ce){return P(this,j,U,ce,!0)},R.prototype.lastIndexOf=function(j,U,ce){return P(this,j,U,ce,!1)};function G(B,j,U,ce){U=Number(U)||0;const me=B.length-U;ce?(ce=Number(ce),ce>me&&(ce=me)):ce=me;const be=j.length;ce>be/2&&(ce=be/2);let Ie;for(Ie=0;Ie<ce;++Ie){const Ce=parseInt(j.substr(Ie*2,2),16);if(ve(Ce))return Ie;B[U+Ie]=Ce}return Ie}function te(B,j,U,ce){return Pe(De(j,B.length-U),B,U,ce)}function E(B,j,U,ce){return Pe(qe(j),B,U,ce)}function v(B,j,U,ce){return Pe(Se(j),B,U,ce)}function T(B,j,U,ce){return Pe(q(j,B.length-U),B,U,ce)}R.prototype.write=function(j,U,ce,me){if(U===void 0)me="utf8",ce=this.length,U=0;else if(ce===void 0&&typeof U=="string")me=U,ce=this.length,U=0;else if(isFinite(U))U=U>>>0,isFinite(ce)?(ce=ce>>>0,me===void 0&&(me="utf8")):(me=ce,ce=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const be=this.length-U;if((ce===void 0||ce>be)&&(ce=be),j.length>0&&(ce<0||U<0)||U>this.length)throw new RangeError("Attempt to write outside buffer bounds");me||(me="utf8");let Ie=!1;for(;;)switch(me){case"hex":return G(this,j,U,ce);case"utf8":case"utf-8":return te(this,j,U,ce);case"ascii":case"latin1":case"binary":return E(this,j,U,ce);case"base64":return v(this,j,U,ce);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,j,U,ce);default:if(Ie)throw new TypeError("Unknown encoding: "+me);me=(""+me).toLowerCase(),Ie=!0}},R.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function L(B,j,U){return j===0&&U===B.length?g.fromByteArray(B):g.fromByteArray(B.slice(j,U))}function Y(B,j,U){U=Math.min(B.length,U);const ce=[];let me=j;for(;me<U;){const be=B[me];let Ie=null,Ce=be>239?4:be>223?3:be>191?2:1;if(me+Ce<=U){let He,Ve,Ke,Ge;switch(Ce){case 1:be<128&&(Ie=be);break;case 2:He=B[me+1],(He&192)===128&&(Ge=(be&31)<<6|He&63,Ge>127&&(Ie=Ge));break;case 3:He=B[me+1],Ve=B[me+2],(He&192)===128&&(Ve&192)===128&&(Ge=(be&15)<<12|(He&63)<<6|Ve&63,Ge>2047&&(Ge<55296||Ge>57343)&&(Ie=Ge));break;case 4:He=B[me+1],Ve=B[me+2],Ke=B[me+3],(He&192)===128&&(Ve&192)===128&&(Ke&192)===128&&(Ge=(be&15)<<18|(He&63)<<12|(Ve&63)<<6|Ke&63,Ge>65535&&Ge<1114112&&(Ie=Ge))}}Ie===null?(Ie=65533,Ce=1):Ie>65535&&(Ie-=65536,ce.push(Ie>>>10&1023|55296),Ie=56320|Ie&1023),ce.push(Ie),me+=Ce}return pe(ce)}const ne=4096;function pe(B){const j=B.length;if(j<=ne)return String.fromCharCode.apply(String,B);let U="",ce=0;for(;ce<j;)U+=String.fromCharCode.apply(String,B.slice(ce,ce+=ne));return U}function we(B,j,U){let ce="";U=Math.min(B.length,U);for(let me=j;me<U;++me)ce+=String.fromCharCode(B[me]&127);return ce}function fe(B,j,U){let ce="";U=Math.min(B.length,U);for(let me=j;me<U;++me)ce+=String.fromCharCode(B[me]);return ce}function Re(B,j,U){const ce=B.length;(!j||j<0)&&(j=0),(!U||U<0||U>ce)&&(U=ce);let me="";for(let be=j;be<U;++be)me+=Oe[B[be]];return me}function Le(B,j,U){const ce=B.slice(j,U);let me="";for(let be=0;be<ce.length-1;be+=2)me+=String.fromCharCode(ce[be]+ce[be+1]*256);return me}R.prototype.slice=function(j,U){const ce=this.length;j=~~j,U=U===void 0?ce:~~U,j<0?(j+=ce,j<0&&(j=0)):j>ce&&(j=ce),U<0?(U+=ce,U<0&&(U=0)):U>ce&&(U=ce),U<j&&(U=j);const me=this.subarray(j,U);return Object.setPrototypeOf(me,R.prototype),me};function Te(B,j,U){if(B%1!==0||B<0)throw new RangeError("offset is not uint");if(B+j>U)throw new RangeError("Trying to access beyond buffer length")}R.prototype.readUintLE=R.prototype.readUIntLE=function(j,U,ce){j=j>>>0,U=U>>>0,ce||Te(j,U,this.length);let me=this[j],be=1,Ie=0;for(;++Ie<U&&(be*=256);)me+=this[j+Ie]*be;return me},R.prototype.readUintBE=R.prototype.readUIntBE=function(j,U,ce){j=j>>>0,U=U>>>0,ce||Te(j,U,this.length);let me=this[j+--U],be=1;for(;U>0&&(be*=256);)me+=this[j+--U]*be;return me},R.prototype.readUint8=R.prototype.readUInt8=function(j,U){return j=j>>>0,U||Te(j,1,this.length),this[j]},R.prototype.readUint16LE=R.prototype.readUInt16LE=function(j,U){return j=j>>>0,U||Te(j,2,this.length),this[j]|this[j+1]<<8},R.prototype.readUint16BE=R.prototype.readUInt16BE=function(j,U){return j=j>>>0,U||Te(j,2,this.length),this[j]<<8|this[j+1]},R.prototype.readUint32LE=R.prototype.readUInt32LE=function(j,U){return j=j>>>0,U||Te(j,4,this.length),(this[j]|this[j+1]<<8|this[j+2]<<16)+this[j+3]*16777216},R.prototype.readUint32BE=R.prototype.readUInt32BE=function(j,U){return j=j>>>0,U||Te(j,4,this.length),this[j]*16777216+(this[j+1]<<16|this[j+2]<<8|this[j+3])},R.prototype.readBigUInt64LE=We(function(j){j=j>>>0,ye(j,"offset");const U=this[j],ce=this[j+7];(U===void 0||ce===void 0)&&V(j,this.length-8);const me=U+this[++j]*2**8+this[++j]*2**16+this[++j]*2**24,be=this[++j]+this[++j]*2**8+this[++j]*2**16+ce*2**24;return BigInt(me)+(BigInt(be)<<BigInt(32))}),R.prototype.readBigUInt64BE=We(function(j){j=j>>>0,ye(j,"offset");const U=this[j],ce=this[j+7];(U===void 0||ce===void 0)&&V(j,this.length-8);const me=U*2**24+this[++j]*2**16+this[++j]*2**8+this[++j],be=this[++j]*2**24+this[++j]*2**16+this[++j]*2**8+ce;return(BigInt(me)<<BigInt(32))+BigInt(be)}),R.prototype.readIntLE=function(j,U,ce){j=j>>>0,U=U>>>0,ce||Te(j,U,this.length);let me=this[j],be=1,Ie=0;for(;++Ie<U&&(be*=256);)me+=this[j+Ie]*be;return be*=128,me>=be&&(me-=Math.pow(2,8*U)),me},R.prototype.readIntBE=function(j,U,ce){j=j>>>0,U=U>>>0,ce||Te(j,U,this.length);let me=U,be=1,Ie=this[j+--me];for(;me>0&&(be*=256);)Ie+=this[j+--me]*be;return be*=128,Ie>=be&&(Ie-=Math.pow(2,8*U)),Ie},R.prototype.readInt8=function(j,U){return j=j>>>0,U||Te(j,1,this.length),this[j]&128?(255-this[j]+1)*-1:this[j]},R.prototype.readInt16LE=function(j,U){j=j>>>0,U||Te(j,2,this.length);const ce=this[j]|this[j+1]<<8;return ce&32768?ce|4294901760:ce},R.prototype.readInt16BE=function(j,U){j=j>>>0,U||Te(j,2,this.length);const ce=this[j+1]|this[j]<<8;return ce&32768?ce|4294901760:ce},R.prototype.readInt32LE=function(j,U){return j=j>>>0,U||Te(j,4,this.length),this[j]|this[j+1]<<8|this[j+2]<<16|this[j+3]<<24},R.prototype.readInt32BE=function(j,U){return j=j>>>0,U||Te(j,4,this.length),this[j]<<24|this[j+1]<<16|this[j+2]<<8|this[j+3]},R.prototype.readBigInt64LE=We(function(j){j=j>>>0,ye(j,"offset");const U=this[j],ce=this[j+7];(U===void 0||ce===void 0)&&V(j,this.length-8);const me=this[j+4]+this[j+5]*2**8+this[j+6]*2**16+(ce<<24);return(BigInt(me)<<BigInt(32))+BigInt(U+this[++j]*2**8+this[++j]*2**16+this[++j]*2**24)}),R.prototype.readBigInt64BE=We(function(j){j=j>>>0,ye(j,"offset");const U=this[j],ce=this[j+7];(U===void 0||ce===void 0)&&V(j,this.length-8);const me=(U<<24)+this[++j]*2**16+this[++j]*2**8+this[++j];return(BigInt(me)<<BigInt(32))+BigInt(this[++j]*2**24+this[++j]*2**16+this[++j]*2**8+ce)}),R.prototype.readFloatLE=function(j,U){return j=j>>>0,U||Te(j,4,this.length),w.read(this,j,!0,23,4)},R.prototype.readFloatBE=function(j,U){return j=j>>>0,U||Te(j,4,this.length),w.read(this,j,!1,23,4)},R.prototype.readDoubleLE=function(j,U){return j=j>>>0,U||Te(j,8,this.length),w.read(this,j,!0,52,8)},R.prototype.readDoubleBE=function(j,U){return j=j>>>0,U||Te(j,8,this.length),w.read(this,j,!1,52,8)};function Ue(B,j,U,ce,me,be){if(!R.isBuffer(B))throw new TypeError('"buffer" argument must be a Buffer instance');if(j>me||j<be)throw new RangeError('"value" argument is out of bounds');if(U+ce>B.length)throw new RangeError("Index out of range")}R.prototype.writeUintLE=R.prototype.writeUIntLE=function(j,U,ce,me){if(j=+j,U=U>>>0,ce=ce>>>0,!me){const Ce=Math.pow(2,8*ce)-1;Ue(this,j,U,ce,Ce,0)}let be=1,Ie=0;for(this[U]=j&255;++Ie<ce&&(be*=256);)this[U+Ie]=j/be&255;return U+ce},R.prototype.writeUintBE=R.prototype.writeUIntBE=function(j,U,ce,me){if(j=+j,U=U>>>0,ce=ce>>>0,!me){const Ce=Math.pow(2,8*ce)-1;Ue(this,j,U,ce,Ce,0)}let be=ce-1,Ie=1;for(this[U+be]=j&255;--be>=0&&(Ie*=256);)this[U+be]=j/Ie&255;return U+ce},R.prototype.writeUint8=R.prototype.writeUInt8=function(j,U,ce){return j=+j,U=U>>>0,ce||Ue(this,j,U,1,255,0),this[U]=j&255,U+1},R.prototype.writeUint16LE=R.prototype.writeUInt16LE=function(j,U,ce){return j=+j,U=U>>>0,ce||Ue(this,j,U,2,65535,0),this[U]=j&255,this[U+1]=j>>>8,U+2},R.prototype.writeUint16BE=R.prototype.writeUInt16BE=function(j,U,ce){return j=+j,U=U>>>0,ce||Ue(this,j,U,2,65535,0),this[U]=j>>>8,this[U+1]=j&255,U+2},R.prototype.writeUint32LE=R.prototype.writeUInt32LE=function(j,U,ce){return j=+j,U=U>>>0,ce||Ue(this,j,U,4,4294967295,0),this[U+3]=j>>>24,this[U+2]=j>>>16,this[U+1]=j>>>8,this[U]=j&255,U+4},R.prototype.writeUint32BE=R.prototype.writeUInt32BE=function(j,U,ce){return j=+j,U=U>>>0,ce||Ue(this,j,U,4,4294967295,0),this[U]=j>>>24,this[U+1]=j>>>16,this[U+2]=j>>>8,this[U+3]=j&255,U+4};function _e(B,j,U,ce,me){ie(j,ce,me,B,U,7);let be=Number(j&BigInt(4294967295));B[U++]=be,be=be>>8,B[U++]=be,be=be>>8,B[U++]=be,be=be>>8,B[U++]=be;let Ie=Number(j>>BigInt(32)&BigInt(4294967295));return B[U++]=Ie,Ie=Ie>>8,B[U++]=Ie,Ie=Ie>>8,B[U++]=Ie,Ie=Ie>>8,B[U++]=Ie,U}function Ee(B,j,U,ce,me){ie(j,ce,me,B,U,7);let be=Number(j&BigInt(4294967295));B[U+7]=be,be=be>>8,B[U+6]=be,be=be>>8,B[U+5]=be,be=be>>8,B[U+4]=be;let Ie=Number(j>>BigInt(32)&BigInt(4294967295));return B[U+3]=Ie,Ie=Ie>>8,B[U+2]=Ie,Ie=Ie>>8,B[U+1]=Ie,Ie=Ie>>8,B[U]=Ie,U+8}R.prototype.writeBigUInt64LE=We(function(j,U=0){return _e(this,j,U,BigInt(0),BigInt("0xffffffffffffffff"))}),R.prototype.writeBigUInt64BE=We(function(j,U=0){return Ee(this,j,U,BigInt(0),BigInt("0xffffffffffffffff"))}),R.prototype.writeIntLE=function(j,U,ce,me){if(j=+j,U=U>>>0,!me){const He=Math.pow(2,8*ce-1);Ue(this,j,U,ce,He-1,-He)}let be=0,Ie=1,Ce=0;for(this[U]=j&255;++be<ce&&(Ie*=256);)j<0&&Ce===0&&this[U+be-1]!==0&&(Ce=1),this[U+be]=(j/Ie>>0)-Ce&255;return U+ce},R.prototype.writeIntBE=function(j,U,ce,me){if(j=+j,U=U>>>0,!me){const He=Math.pow(2,8*ce-1);Ue(this,j,U,ce,He-1,-He)}let be=ce-1,Ie=1,Ce=0;for(this[U+be]=j&255;--be>=0&&(Ie*=256);)j<0&&Ce===0&&this[U+be+1]!==0&&(Ce=1),this[U+be]=(j/Ie>>0)-Ce&255;return U+ce},R.prototype.writeInt8=function(j,U,ce){return j=+j,U=U>>>0,ce||Ue(this,j,U,1,127,-128),j<0&&(j=255+j+1),this[U]=j&255,U+1},R.prototype.writeInt16LE=function(j,U,ce){return j=+j,U=U>>>0,ce||Ue(this,j,U,2,32767,-32768),this[U]=j&255,this[U+1]=j>>>8,U+2},R.prototype.writeInt16BE=function(j,U,ce){return j=+j,U=U>>>0,ce||Ue(this,j,U,2,32767,-32768),this[U]=j>>>8,this[U+1]=j&255,U+2},R.prototype.writeInt32LE=function(j,U,ce){return j=+j,U=U>>>0,ce||Ue(this,j,U,4,2147483647,-2147483648),this[U]=j&255,this[U+1]=j>>>8,this[U+2]=j>>>16,this[U+3]=j>>>24,U+4},R.prototype.writeInt32BE=function(j,U,ce){return j=+j,U=U>>>0,ce||Ue(this,j,U,4,2147483647,-2147483648),j<0&&(j=4294967295+j+1),this[U]=j>>>24,this[U+1]=j>>>16,this[U+2]=j>>>8,this[U+3]=j&255,U+4},R.prototype.writeBigInt64LE=We(function(j,U=0){return _e(this,j,U,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),R.prototype.writeBigInt64BE=We(function(j,U=0){return Ee(this,j,U,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Fe(B,j,U,ce,me,be){if(U+ce>B.length)throw new RangeError("Index out of range");if(U<0)throw new RangeError("Index out of range")}function je(B,j,U,ce,me){return j=+j,U=U>>>0,me||Fe(B,j,U,4),w.write(B,j,U,ce,23,4),U+4}R.prototype.writeFloatLE=function(j,U,ce){return je(this,j,U,!0,ce)},R.prototype.writeFloatBE=function(j,U,ce){return je(this,j,U,!1,ce)};function Me(B,j,U,ce,me){return j=+j,U=U>>>0,me||Fe(B,j,U,8),w.write(B,j,U,ce,52,8),U+8}R.prototype.writeDoubleLE=function(j,U,ce){return Me(this,j,U,!0,ce)},R.prototype.writeDoubleBE=function(j,U,ce){return Me(this,j,U,!1,ce)},R.prototype.copy=function(j,U,ce,me){if(!R.isBuffer(j))throw new TypeError("argument should be a Buffer");if(ce||(ce=0),!me&&me!==0&&(me=this.length),U>=j.length&&(U=j.length),U||(U=0),me>0&&me<ce&&(me=ce),me===ce||j.length===0||this.length===0)return 0;if(U<0)throw new RangeError("targetStart out of bounds");if(ce<0||ce>=this.length)throw new RangeError("Index out of range");if(me<0)throw new RangeError("sourceEnd out of bounds");me>this.length&&(me=this.length),j.length-U<me-ce&&(me=j.length-U+ce);const be=me-ce;return this===j&&typeof O.prototype.copyWithin=="function"?this.copyWithin(U,ce,me):O.prototype.set.call(j,this.subarray(ce,me),U),be},R.prototype.fill=function(j,U,ce,me){if(typeof j=="string"){if(typeof U=="string"?(me=U,U=0,ce=this.length):typeof ce=="string"&&(me=ce,ce=this.length),me!==void 0&&typeof me!="string")throw new TypeError("encoding must be a string");if(typeof me=="string"&&!R.isEncoding(me))throw new TypeError("Unknown encoding: "+me);if(j.length===1){const Ie=j.charCodeAt(0);(me==="utf8"&&Ie<128||me==="latin1")&&(j=Ie)}}else typeof j=="number"?j=j&255:typeof j=="boolean"&&(j=Number(j));if(U<0||this.length<U||this.length<ce)throw new RangeError("Out of range index");if(ce<=U)return this;U=U>>>0,ce=ce===void 0?this.length:ce>>>0,j||(j=0);let be;if(typeof j=="number")for(be=U;be<ce;++be)this[be]=j;else{const Ie=R.isBuffer(j)?j:R.from(j,me),Ce=Ie.length;if(Ce===0)throw new TypeError('The value "'+j+'" is invalid for argument "value"');for(be=0;be<ce-U;++be)this[be+U]=Ie[be%Ce]}return this};const ze={};function ee(B,j,U){ze[B]=class extends U{constructor(){super(),Object.defineProperty(this,"message",{value:j.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${B}]`,this.stack,delete this.name}get code(){return B}set code(me){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:me,writable:!0})}toString(){return`${this.name} [${B}]: ${this.message}`}}}ee("ERR_BUFFER_OUT_OF_BOUNDS",function(B){return B?`${B} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ee("ERR_INVALID_ARG_TYPE",function(B,j){return`The "${B}" argument must be of type number. Received type ${typeof j}`},TypeError),ee("ERR_OUT_OF_RANGE",function(B,j,U){let ce=`The value of "${B}" is out of range.`,me=U;return Number.isInteger(U)&&Math.abs(U)>2**32?me=x(String(U)):typeof U=="bigint"&&(me=String(U),(U>BigInt(2)**BigInt(32)||U<-(BigInt(2)**BigInt(32)))&&(me=x(me)),me+="n"),ce+=` It must be ${j}. Received ${me}`,ce},RangeError);function x(B){let j="",U=B.length;const ce=B[0]==="-"?1:0;for(;U>=ce+4;U-=3)j=`_${B.slice(U-3,U)}${j}`;return`${B.slice(0,U)}${j}`}function $(B,j,U){ye(j,"offset"),(B[j]===void 0||B[j+U]===void 0)&&V(j,B.length-(U+1))}function ie(B,j,U,ce,me,be){if(B>U||B<j){const Ie=typeof j=="bigint"?"n":"";let Ce;throw j===0||j===BigInt(0)?Ce=`>= 0${Ie} and < 2${Ie} ** ${(be+1)*8}${Ie}`:Ce=`>= -(2${Ie} ** ${(be+1)*8-1}${Ie}) and < 2 ** ${(be+1)*8-1}${Ie}`,new ze.ERR_OUT_OF_RANGE("value",Ce,B)}$(ce,me,be)}function ye(B,j){if(typeof B!="number")throw new ze.ERR_INVALID_ARG_TYPE(j,"number",B)}function V(B,j,U){throw Math.floor(B)!==B?(ye(B,U),new ze.ERR_OUT_OF_RANGE("offset","an integer",B)):j<0?new ze.ERR_BUFFER_OUT_OF_BOUNDS:new ze.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${j}`,B)}const re=/[^+/0-9A-Za-z-_]/g;function K(B){if(B=B.split("=")[0],B=B.trim().replace(re,""),B.length<2)return"";for(;B.length%4!==0;)B=B+"=";return B}function De(B,j){j=j||1/0;let U;const ce=B.length;let me=null;const be=[];for(let Ie=0;Ie<ce;++Ie){if(U=B.charCodeAt(Ie),U>55295&&U<57344){if(!me){if(U>56319){(j-=3)>-1&&be.push(239,191,189);continue}else if(Ie+1===ce){(j-=3)>-1&&be.push(239,191,189);continue}me=U;continue}if(U<56320){(j-=3)>-1&&be.push(239,191,189),me=U;continue}U=(me-55296<<10|U-56320)+65536}else me&&(j-=3)>-1&&be.push(239,191,189);if(me=null,U<128){if((j-=1)<0)break;be.push(U)}else if(U<2048){if((j-=2)<0)break;be.push(U>>6|192,U&63|128)}else if(U<65536){if((j-=3)<0)break;be.push(U>>12|224,U>>6&63|128,U&63|128)}else if(U<1114112){if((j-=4)<0)break;be.push(U>>18|240,U>>12&63|128,U>>6&63|128,U&63|128)}else throw new Error("Invalid code point")}return be}function qe(B){const j=[];for(let U=0;U<B.length;++U)j.push(B.charCodeAt(U)&255);return j}function q(B,j){let U,ce,me;const be=[];for(let Ie=0;Ie<B.length&&!((j-=2)<0);++Ie)U=B.charCodeAt(Ie),ce=U>>8,me=U%256,be.push(me),be.push(ce);return be}function Se(B){return g.toByteArray(K(B))}function Pe(B,j,U,ce){let me;for(me=0;me<ce&&!(me+U>=j.length||me>=B.length);++me)j[me+U]=B[me];return me}function se(B,j){return B instanceof j||B!=null&&B.constructor!=null&&B.constructor.name!=null&&B.constructor.name===j.name}function ve(B){return B!==B}const Oe=function(){const B="0123456789abcdef",j=new Array(256);for(let U=0;U<16;++U){const ce=U*16;for(let me=0;me<16;++me)j[ce+me]=B[U]+B[me]}return j}();function We(B){return typeof BigInt>"u"?ue:B}function ue(){throw new Error("BigInt not supported")}})(e);const y=e.Buffer;t.Blob=e.Blob,t.BlobOptions=e.BlobOptions,t.Buffer=e.Buffer,t.File=e.File,t.FileOptions=e.FileOptions,t.INSPECT_MAX_BYTES=e.INSPECT_MAX_BYTES,t.SlowBuffer=e.SlowBuffer,t.TranscodeEncoding=e.TranscodeEncoding,t.atob=e.atob,t.btoa=e.btoa,t.constants=e.constants,t.default=y,t.isAscii=e.isAscii,t.isUtf8=e.isUtf8,t.kMaxLength=e.kMaxLength,t.kStringMaxLength=e.kStringMaxLength,t.resolveObjectURL=e.resolveObjectURL,t.transcode=e.transcode}(Yl)),Yl}var ec,Cb;function mt(){if(Cb)return ec;Cb=1;class t extends Error{constructor(r){if(!Array.isArray(r))throw new TypeError(`Expected input to be an Array, got ${typeof r}`);let n="";for(let a=0;a<r.length;a++)n+=`    ${r[a].stack}
`;super(n),this.name="AggregateError",this.errors=r}}return ec={AggregateError:t,ArrayIsArray(e){return Array.isArray(e)},ArrayPrototypeIncludes(e,r){return e.includes(r)},ArrayPrototypeIndexOf(e,r){return e.indexOf(r)},ArrayPrototypeJoin(e,r){return e.join(r)},ArrayPrototypeMap(e,r){return e.map(r)},ArrayPrototypePop(e,r){return e.pop(r)},ArrayPrototypePush(e,r){return e.push(r)},ArrayPrototypeSlice(e,r,n){return e.slice(r,n)},Error,FunctionPrototypeCall(e,r,...n){return e.call(r,...n)},FunctionPrototypeSymbolHasInstance(e,r){return Function.prototype[Symbol.hasInstance].call(e,r)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(e,r){return Object.defineProperties(e,r)},ObjectDefineProperty(e,r,n){return Object.defineProperty(e,r,n)},ObjectGetOwnPropertyDescriptor(e,r){return Object.getOwnPropertyDescriptor(e,r)},ObjectKeys(e){return Object.keys(e)},ObjectSetPrototypeOf(e,r){return Object.setPrototypeOf(e,r)},Promise,PromisePrototypeCatch(e,r){return e.catch(r)},PromisePrototypeThen(e,r,n){return e.then(r,n)},PromiseReject(e){return Promise.reject(e)},PromiseResolve(e){return Promise.resolve(e)},ReflectApply:Reflect.apply,RegExpPrototypeTest(e,r){return e.test(r)},SafeSet:Set,String,StringPrototypeSlice(e,r,n){return e.slice(r,n)},StringPrototypeToLowerCase(e){return e.toLowerCase()},StringPrototypeToUpperCase(e){return e.toUpperCase()},StringPrototypeTrim(e){return e.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(e,r,n){return e.set(r,n)},Boolean,Uint8Array},ec}var tc={exports:{}},rc,Lb;function Fb(){return Lb||(Lb=1,rc={format(t,...e){return t.replace(/%([sdifj])/g,function(...[r,n]){const a=e.shift();return n==="f"?a.toFixed(6):n==="j"?JSON.stringify(a):n==="s"&&typeof a=="object"?`${a.constructor!==Object?a.constructor.name:""} {}`.trim():a.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}}}),rc}var nc,Mb;function Gt(){if(Mb)return nc;Mb=1;const{format:t,inspect:e}=Fb(),{AggregateError:r}=mt(),n=globalThis.AggregateError||r,a=Symbol("kIsNodeError"),i=["string","function","number","object","Function","Object","boolean","bigint","symbol"],s=/^([A-Z][a-z0-9]*)+$/,o="__node_internal_",f={};function u(b,y){if(!b)throw new f.ERR_INTERNAL_ASSERTION(y)}function l(b){let y="",p=b.length;const g=b[0]==="-"?1:0;for(;p>=g+4;p-=3)y=`_${b.slice(p-3,p)}${y}`;return`${b.slice(0,p)}${y}`}function d(b,y,p){if(typeof y=="function")return u(y.length<=p.length,`Code: ${b}; The provided arguments length (${p.length}) does not match the required ones (${y.length}).`),y(...p);const g=(y.match(/%[dfijoOs]/g)||[]).length;return u(g===p.length,`Code: ${b}; The provided arguments length (${p.length}) does not match the required ones (${g}).`),p.length===0?y:t(y,...p)}function c(b,y,p){p||(p=Error);class g extends p{constructor(...S){super(d(b,y,S))}toString(){return`${this.name} [${b}]: ${this.message}`}}Object.defineProperties(g.prototype,{name:{value:p.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${b}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),g.prototype.code=b,g.prototype[a]=!0,f[b]=g}function h(b){const y=o+b.name;return Object.defineProperty(b,"name",{value:y}),b}function m(b,y){if(b&&y&&b!==y){if(Array.isArray(y.errors))return y.errors.push(b),y;const p=new n([y,b],y.message);return p.code=y.code,p}return b||y}class _ extends Error{constructor(y="The operation was aborted",p=void 0){if(p!==void 0&&typeof p!="object")throw new f.ERR_INVALID_ARG_TYPE("options","Object",p);super(y,p),this.code="ABORT_ERR",this.name="AbortError"}}return c("ERR_ASSERTION","%s",Error),c("ERR_INVALID_ARG_TYPE",(b,y,p)=>{u(typeof b=="string","'name' must be a string"),Array.isArray(y)||(y=[y]);let g="The ";b.endsWith(" argument")?g+=`${b} `:g+=`"${b}" ${b.includes(".")?"property":"argument"} `,g+="must be ";const w=[],S=[],I=[];for(const M of y)u(typeof M=="string","All expected entries have to be of type string"),i.includes(M)?w.push(M.toLowerCase()):s.test(M)?S.push(M):(u(M!=="object",'The value "object" should be written as "Object"'),I.push(M));if(S.length>0){const M=w.indexOf("object");M!==-1&&(w.splice(w,M,1),S.push("Object"))}if(w.length>0){switch(w.length){case 1:g+=`of type ${w[0]}`;break;case 2:g+=`one of type ${w[0]} or ${w[1]}`;break;default:{const M=w.pop();g+=`one of type ${w.join(", ")}, or ${M}`}}(S.length>0||I.length>0)&&(g+=" or ")}if(S.length>0){switch(S.length){case 1:g+=`an instance of ${S[0]}`;break;case 2:g+=`an instance of ${S[0]} or ${S[1]}`;break;default:{const M=S.pop();g+=`an instance of ${S.join(", ")}, or ${M}`}}I.length>0&&(g+=" or ")}switch(I.length){case 0:break;case 1:I[0].toLowerCase()!==I[0]&&(g+="an "),g+=`${I[0]}`;break;case 2:g+=`one of ${I[0]} or ${I[1]}`;break;default:{const M=I.pop();g+=`one of ${I.join(", ")}, or ${M}`}}if(p==null)g+=`. Received ${p}`;else if(typeof p=="function"&&p.name)g+=`. Received function ${p.name}`;else if(typeof p=="object"){var O;if((O=p.constructor)!==null&&O!==void 0&&O.name)g+=`. Received an instance of ${p.constructor.name}`;else{const M=e(p,{depth:-1});g+=`. Received ${M}`}}else{let M=e(p,{colors:!1});M.length>25&&(M=`${M.slice(0,25)}...`),g+=`. Received type ${typeof p} (${M})`}return g},TypeError),c("ERR_INVALID_ARG_VALUE",(b,y,p="is invalid")=>{let g=e(y);return g.length>128&&(g=g.slice(0,128)+"..."),`The ${b.includes(".")?"property":"argument"} '${b}' ${p}. Received ${g}`},TypeError),c("ERR_INVALID_RETURN_VALUE",(b,y,p)=>{var g;const w=p!=null&&(g=p.constructor)!==null&&g!==void 0&&g.name?`instance of ${p.constructor.name}`:`type ${typeof p}`;return`Expected ${b} to be returned from the "${y}" function but got ${w}.`},TypeError),c("ERR_MISSING_ARGS",(...b)=>{u(b.length>0,"At least one arg needs to be specified");let y;const p=b.length;switch(b=(Array.isArray(b)?b:[b]).map(g=>`"${g}"`).join(" or "),p){case 1:y+=`The ${b[0]} argument`;break;case 2:y+=`The ${b[0]} and ${b[1]} arguments`;break;default:{const g=b.pop();y+=`The ${b.join(", ")}, and ${g} arguments`}break}return`${y} must be specified`},TypeError),c("ERR_OUT_OF_RANGE",(b,y,p)=>{u(y,'Missing "range" argument');let g;if(Number.isInteger(p)&&Math.abs(p)>2**32)g=l(String(p));else if(typeof p=="bigint"){g=String(p);const w=BigInt(2)**BigInt(32);(p>w||p<-w)&&(g=l(g)),g+="n"}else g=e(p);return`The value of "${b}" is out of range. It must be ${y}. Received ${g}`},RangeError),c("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),c("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),c("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),c("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),c("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),c("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),c("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),c("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),c("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),c("ERR_STREAM_WRITE_AFTER_END","write after end",Error),c("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),nc={AbortError:_,aggregateTwoErrors:h(m),hideStackFrames:h,codes:f},nc}var la={exports:{}},jb;function ca(){if(jb)return la.exports;jb=1;const{AbortController:t,AbortSignal:e}=typeof self<"u"?self:typeof window<"u"?window:void 0;return la.exports=t,la.exports.AbortSignal=e,la.exports.default=t,la.exports}var af={exports:{}},qb;function Jt(){if(qb)return af.exports;qb=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(S,I,O){return Function.prototype.apply.call(S,I,O)},r;t&&typeof t.ownKeys=="function"?r=t.ownKeys:Object.getOwnPropertySymbols?r=function(S){return Object.getOwnPropertyNames(S).concat(Object.getOwnPropertySymbols(S))}:r=function(S){return Object.getOwnPropertyNames(S)};function n(w){console&&console.warn&&console.warn(w)}var a=Number.isNaN||function(S){return S!==S};function i(){i.init.call(this)}af.exports=i,af.exports.once=y,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var s=10;function o(w){if(typeof w!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof w)}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(w){if(typeof w!="number"||w<0||a(w))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+w+".");s=w}}),i.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(S){if(typeof S!="number"||S<0||a(S))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+S+".");return this._maxListeners=S,this};function f(w){return w._maxListeners===void 0?i.defaultMaxListeners:w._maxListeners}i.prototype.getMaxListeners=function(){return f(this)},i.prototype.emit=function(S){for(var I=[],O=1;O<arguments.length;O++)I.push(arguments[O]);var M=S==="error",D=this._events;if(D!==void 0)M=M&&D.error===void 0;else if(!M)return!1;if(M){var N;if(I.length>0&&(N=I[0]),N instanceof Error)throw N;var C=new Error("Unhandled error."+(N?" ("+N.message+")":""));throw C.context=N,C}var R=D[S];if(R===void 0)return!1;if(typeof R=="function")e(R,this,I);else for(var F=R.length,X=m(R,F),O=0;O<F;++O)e(X[O],this,I);return!0};function u(w,S,I,O){var M,D,N;if(o(I),D=w._events,D===void 0?(D=w._events=Object.create(null),w._eventsCount=0):(D.newListener!==void 0&&(w.emit("newListener",S,I.listener?I.listener:I),D=w._events),N=D[S]),N===void 0)N=D[S]=I,++w._eventsCount;else if(typeof N=="function"?N=D[S]=O?[I,N]:[N,I]:O?N.unshift(I):N.push(I),M=f(w),M>0&&N.length>M&&!N.warned){N.warned=!0;var C=new Error("Possible EventEmitter memory leak detected. "+N.length+" "+String(S)+" listeners added. Use emitter.setMaxListeners() to increase limit");C.name="MaxListenersExceededWarning",C.emitter=w,C.type=S,C.count=N.length,n(C)}return w}i.prototype.addListener=function(S,I){return u(this,S,I,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(S,I){return u(this,S,I,!0)};function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(w,S,I){var O={fired:!1,wrapFn:void 0,target:w,type:S,listener:I},M=l.bind(O);return M.listener=I,O.wrapFn=M,M}i.prototype.once=function(S,I){return o(I),this.on(S,d(this,S,I)),this},i.prototype.prependOnceListener=function(S,I){return o(I),this.prependListener(S,d(this,S,I)),this},i.prototype.removeListener=function(S,I){var O,M,D,N,C;if(o(I),M=this._events,M===void 0)return this;if(O=M[S],O===void 0)return this;if(O===I||O.listener===I)--this._eventsCount===0?this._events=Object.create(null):(delete M[S],M.removeListener&&this.emit("removeListener",S,O.listener||I));else if(typeof O!="function"){for(D=-1,N=O.length-1;N>=0;N--)if(O[N]===I||O[N].listener===I){C=O[N].listener,D=N;break}if(D<0)return this;D===0?O.shift():_(O,D),O.length===1&&(M[S]=O[0]),M.removeListener!==void 0&&this.emit("removeListener",S,C||I)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(S){var I,O,M;if(O=this._events,O===void 0)return this;if(O.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):O[S]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete O[S]),this;if(arguments.length===0){var D=Object.keys(O),N;for(M=0;M<D.length;++M)N=D[M],N!=="removeListener"&&this.removeAllListeners(N);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(I=O[S],typeof I=="function")this.removeListener(S,I);else if(I!==void 0)for(M=I.length-1;M>=0;M--)this.removeListener(S,I[M]);return this};function c(w,S,I){var O=w._events;if(O===void 0)return[];var M=O[S];return M===void 0?[]:typeof M=="function"?I?[M.listener||M]:[M]:I?b(M):m(M,M.length)}i.prototype.listeners=function(S){return c(this,S,!0)},i.prototype.rawListeners=function(S){return c(this,S,!1)},i.listenerCount=function(w,S){return typeof w.listenerCount=="function"?w.listenerCount(S):h.call(w,S)},i.prototype.listenerCount=h;function h(w){var S=this._events;if(S!==void 0){var I=S[w];if(typeof I=="function")return 1;if(I!==void 0)return I.length}return 0}i.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function m(w,S){for(var I=new Array(S),O=0;O<S;++O)I[O]=w[O];return I}function _(w,S){for(;S+1<w.length;S++)w[S]=w[S+1];w.pop()}function b(w){for(var S=new Array(w.length),I=0;I<S.length;++I)S[I]=w[I].listener||w[I];return S}function y(w,S){return new Promise(function(I,O){function M(N){w.removeListener(S,D),O(N)}function D(){typeof w.removeListener=="function"&&w.removeListener("error",M),I([].slice.call(arguments))}g(w,S,D,{once:!0}),S!=="error"&&p(w,M,{once:!0})})}function p(w,S,I){typeof w.on=="function"&&g(w,"error",S,I)}function g(w,S,I,O){if(typeof w.on=="function")O.once?w.once(S,I):w.on(S,I);else if(typeof w.addEventListener=="function")w.addEventListener(S,function M(D){O.once&&w.removeEventListener(S,M),I(D)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof w)}return af.exports}var Bb;function Yt(){return Bb||(Bb=1,function(t){const e=bt(),{format:r,inspect:n}=Fb(),{codes:{ERR_INVALID_ARG_TYPE:a}}=Gt(),{kResistStopPropagation:i,AggregateError:s,SymbolDispose:o}=mt(),f=globalThis.AbortSignal||ca().AbortSignal,u=globalThis.AbortController||ca().AbortController,l=Object.getPrototypeOf(async function(){}).constructor,d=globalThis.Blob||e.Blob,c=typeof d<"u"?function(b){return b instanceof d}:function(b){return!1},h=(_,b)=>{if(_!==void 0&&(_===null||typeof _!="object"||!("aborted"in _)))throw new a(b,"AbortSignal",_)},m=(_,b)=>{if(typeof _!="function")throw new a(b,"Function",_)};t.exports={AggregateError:s,kEmptyObject:Object.freeze({}),once(_){let b=!1;return function(...y){b||(b=!0,_.apply(this,y))}},createDeferredPromise:function(){let _,b;return{promise:new Promise((p,g)=>{_=p,b=g}),resolve:_,reject:b}},promisify(_){return new Promise((b,y)=>{_((p,...g)=>p?y(p):b(...g))})},debuglog(){return function(){}},format:r,inspect:n,types:{isAsyncFunction(_){return _ instanceof l},isArrayBufferView(_){return ArrayBuffer.isView(_)}},isBlob:c,deprecate(_,b){return _},addAbortListener:Jt().addAbortListener||function(b,y){if(b===void 0)throw new a("signal","AbortSignal",b);h(b,"signal"),m(y,"listener");let p;return b.aborted?queueMicrotask(()=>y()):(b.addEventListener("abort",y,{__proto__:null,once:!0,[i]:!0}),p=()=>{b.removeEventListener("abort",y)}),{__proto__:null,[o](){var g;(g=p)===null||g===void 0||g()}}},AbortSignalAny:f.any||function(b){if(b.length===1)return b[0];const y=new u,p=()=>y.abort();return b.forEach(g=>{h(g,"signals"),g.addEventListener("abort",p,{once:!0})}),y.signal.addEventListener("abort",()=>{b.forEach(g=>g.removeEventListener("abort",p))},{once:!0}),y.signal}},t.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}(tc)),tc.exports}var of={},ic,kb;function da(){if(kb)return ic;kb=1;const{ArrayIsArray:t,ArrayPrototypeIncludes:e,ArrayPrototypeJoin:r,ArrayPrototypeMap:n,NumberIsInteger:a,NumberIsNaN:i,NumberMAX_SAFE_INTEGER:s,NumberMIN_SAFE_INTEGER:o,NumberParseInt:f,ObjectPrototypeHasOwnProperty:u,RegExpPrototypeExec:l,String:d,StringPrototypeToUpperCase:c,StringPrototypeTrim:h}=mt(),{hideStackFrames:m,codes:{ERR_SOCKET_BAD_PORT:_,ERR_INVALID_ARG_TYPE:b,ERR_INVALID_ARG_VALUE:y,ERR_OUT_OF_RANGE:p,ERR_UNKNOWN_SIGNAL:g}}=Gt(),{normalizeEncoding:w}=Yt(),{isAsyncFunction:S,isArrayBufferView:I}=Yt().types,O={};function M(fe){return fe===(fe|0)}function D(fe){return fe===fe>>>0}const N=/^[0-7]+$/,C="must be a 32-bit unsigned integer or an octal string";function R(fe,Re,Le){if(typeof fe>"u"&&(fe=Le),typeof fe=="string"){if(l(N,fe)===null)throw new y(Re,fe,C);fe=f(fe,8)}return oe(fe,Re),fe}const F=m((fe,Re,Le=o,Te=s)=>{if(typeof fe!="number")throw new b(Re,"number",fe);if(!a(fe))throw new p(Re,"an integer",fe);if(fe<Le||fe>Te)throw new p(Re,`>= ${Le} && <= ${Te}`,fe)}),X=m((fe,Re,Le=-2147483648,Te=2147483647)=>{if(typeof fe!="number")throw new b(Re,"number",fe);if(!a(fe))throw new p(Re,"an integer",fe);if(fe<Le||fe>Te)throw new p(Re,`>= ${Le} && <= ${Te}`,fe)}),oe=m((fe,Re,Le=!1)=>{if(typeof fe!="number")throw new b(Re,"number",fe);if(!a(fe))throw new p(Re,"an integer",fe);const Te=Le?1:0,Ue=4294967295;if(fe<Te||fe>Ue)throw new p(Re,`>= ${Te} && <= ${Ue}`,fe)});function J(fe,Re){if(typeof fe!="string")throw new b(Re,"string",fe)}function le(fe,Re,Le=void 0,Te){if(typeof fe!="number")throw new b(Re,"number",fe);if(Le!=null&&fe<Le||Te!=null&&fe>Te||(Le!=null||Te!=null)&&i(fe))throw new p(Re,`${Le!=null?`>= ${Le}`:""}${Le!=null&&Te!=null?" && ":""}${Te!=null?`<= ${Te}`:""}`,fe)}const ae=m((fe,Re,Le)=>{if(!e(Le,fe)){const Ue="must be one of: "+r(n(Le,_e=>typeof _e=="string"?`'${_e}'`:d(_e)),", ");throw new y(Re,fe,Ue)}});function Z(fe,Re){if(typeof fe!="boolean")throw new b(Re,"boolean",fe)}function H(fe,Re,Le){return fe==null||!u(fe,Re)?Le:fe[Re]}const de=m((fe,Re,Le=null)=>{const Te=H(Le,"allowArray",!1),Ue=H(Le,"allowFunction",!1);if(!H(Le,"nullable",!1)&&fe===null||!Te&&t(fe)||typeof fe!="object"&&(!Ue||typeof fe!="function"))throw new b(Re,"Object",fe)}),he=m((fe,Re)=>{if(fe!=null&&typeof fe!="object"&&typeof fe!="function")throw new b(Re,"a dictionary",fe)}),W=m((fe,Re,Le=0)=>{if(!t(fe))throw new b(Re,"Array",fe);if(fe.length<Le){const Te=`must be longer than ${Le}`;throw new y(Re,fe,Te)}});function z(fe,Re){W(fe,Re);for(let Le=0;Le<fe.length;Le++)J(fe[Le],`${Re}[${Le}]`)}function Q(fe,Re){W(fe,Re);for(let Le=0;Le<fe.length;Le++)Z(fe[Le],`${Re}[${Le}]`)}function A(fe,Re){W(fe,Re);for(let Le=0;Le<fe.length;Le++){const Te=fe[Le],Ue=`${Re}[${Le}]`;if(Te==null)throw new b(Ue,"AbortSignal",Te);E(Te,Ue)}}function P(fe,Re="signal"){if(J(fe,Re),O[fe]===void 0)throw O[c(fe)]!==void 0?new g(fe+" (signals must use all capital letters)"):new g(fe)}const k=m((fe,Re="buffer")=>{if(!I(fe))throw new b(Re,["Buffer","TypedArray","DataView"],fe)});function G(fe,Re){const Le=w(Re),Te=fe.length;if(Le==="hex"&&Te%2!==0)throw new y("encoding",Re,`is invalid for data of length ${Te}`)}function te(fe,Re="Port",Le=!0){if(typeof fe!="number"&&typeof fe!="string"||typeof fe=="string"&&h(fe).length===0||+fe!==+fe>>>0||fe>65535||fe===0&&!Le)throw new _(Re,fe,Le);return fe|0}const E=m((fe,Re)=>{if(fe!==void 0&&(fe===null||typeof fe!="object"||!("aborted"in fe)))throw new b(Re,"AbortSignal",fe)}),v=m((fe,Re)=>{if(typeof fe!="function")throw new b(Re,"Function",fe)}),T=m((fe,Re)=>{if(typeof fe!="function"||S(fe))throw new b(Re,"Function",fe)}),L=m((fe,Re)=>{if(fe!==void 0)throw new b(Re,"undefined",fe)});function Y(fe,Re,Le){if(!e(Le,fe))throw new b(Re,`('${r(Le,"|")}')`,fe)}const ne=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function pe(fe,Re){if(typeof fe>"u"||!l(ne,fe))throw new y(Re,fe,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function we(fe){if(typeof fe=="string")return pe(fe,"hints"),fe;if(t(fe)){const Re=fe.length;let Le="";if(Re===0)return Le;for(let Te=0;Te<Re;Te++){const Ue=fe[Te];pe(Ue,"hints"),Le+=Ue,Te!==Re-1&&(Le+=", ")}return Le}throw new y("hints",fe,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}return ic={isInt32:M,isUint32:D,parseFileMode:R,validateArray:W,validateStringArray:z,validateBooleanArray:Q,validateAbortSignalArray:A,validateBoolean:Z,validateBuffer:k,validateDictionary:he,validateEncoding:G,validateFunction:v,validateInt32:X,validateInteger:F,validateNumber:le,validateObject:de,validateOneOf:ae,validatePlainFunction:T,validatePort:te,validateSignalName:P,validateString:J,validateUint32:oe,validateUndefined:L,validateUnion:Y,validateAbortSignal:E,validateLinkHeaderValue:we},ic}var sf={exports:{}},ac={exports:{}},$b;function Bn(){if($b)return ac.exports;$b=1;var t=ac.exports={},e,r;function n(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=n}catch{e=n}try{typeof clearTimeout=="function"?r=clearTimeout:r=a}catch{r=a}})();function i(_){if(e===setTimeout)return setTimeout(_,0);if((e===n||!e)&&setTimeout)return e=setTimeout,setTimeout(_,0);try{return e(_,0)}catch{try{return e.call(null,_,0)}catch{return e.call(this,_,0)}}}function s(_){if(r===clearTimeout)return clearTimeout(_);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(_);try{return r(_)}catch{try{return r.call(null,_)}catch{return r.call(this,_)}}}var o=[],f=!1,u,l=-1;function d(){!f||!u||(f=!1,u.length?o=u.concat(o):l=-1,o.length&&c())}function c(){if(!f){var _=i(d);f=!0;for(var b=o.length;b;){for(u=o,o=[];++l<b;)u&&u[l].run();l=-1,b=o.length}u=null,f=!1,s(_)}}t.nextTick=function(_){var b=new Array(arguments.length-1);if(arguments.length>1)for(var y=1;y<arguments.length;y++)b[y-1]=arguments[y];o.push(new h(_,b)),o.length===1&&!f&&i(c)};function h(_,b){this.fun=_,this.array=b}h.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function m(){}return t.on=m,t.addListener=m,t.once=m,t.off=m,t.removeListener=m,t.removeAllListeners=m,t.emit=m,t.prependListener=m,t.prependOnceListener=m,t.listeners=function(_){return[]},t.binding=function(_){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(_){throw new Error("process.chdir is not supported")},t.umask=function(){return 0},ac.exports}var oc,Ub;function zr(){if(Ub)return oc;Ub=1;const{SymbolAsyncIterator:t,SymbolIterator:e,SymbolFor:r}=mt(),n=r("nodejs.stream.destroyed"),a=r("nodejs.stream.errored"),i=r("nodejs.stream.readable"),s=r("nodejs.stream.writable"),o=r("nodejs.stream.disturbed"),f=r("nodejs.webstream.isClosedPromise"),u=r("nodejs.webstream.controllerErrorFunction");function l(H,de=!1){var he;return!!(H&&typeof H.pipe=="function"&&typeof H.on=="function"&&(!de||typeof H.pause=="function"&&typeof H.resume=="function")&&(!H._writableState||((he=H._readableState)===null||he===void 0?void 0:he.readable)!==!1)&&(!H._writableState||H._readableState))}function d(H){var de;return!!(H&&typeof H.write=="function"&&typeof H.on=="function"&&(!H._readableState||((de=H._writableState)===null||de===void 0?void 0:de.writable)!==!1))}function c(H){return!!(H&&typeof H.pipe=="function"&&H._readableState&&typeof H.on=="function"&&typeof H.write=="function")}function h(H){return H&&(H._readableState||H._writableState||typeof H.write=="function"&&typeof H.on=="function"||typeof H.pipe=="function"&&typeof H.on=="function")}function m(H){return!!(H&&!h(H)&&typeof H.pipeThrough=="function"&&typeof H.getReader=="function"&&typeof H.cancel=="function")}function _(H){return!!(H&&!h(H)&&typeof H.getWriter=="function"&&typeof H.abort=="function")}function b(H){return!!(H&&!h(H)&&typeof H.readable=="object"&&typeof H.writable=="object")}function y(H){return m(H)||_(H)||b(H)}function p(H,de){return H==null?!1:de===!0?typeof H[t]=="function":de===!1?typeof H[e]=="function":typeof H[t]=="function"||typeof H[e]=="function"}function g(H){if(!h(H))return null;const de=H._writableState,he=H._readableState,W=de||he;return!!(H.destroyed||H[n]||W!=null&&W.destroyed)}function w(H){if(!d(H))return null;if(H.writableEnded===!0)return!0;const de=H._writableState;return de!=null&&de.errored?!1:typeof(de==null?void 0:de.ended)!="boolean"?null:de.ended}function S(H,de){if(!d(H))return null;if(H.writableFinished===!0)return!0;const he=H._writableState;return he!=null&&he.errored?!1:typeof(he==null?void 0:he.finished)!="boolean"?null:!!(he.finished||de===!1&&he.ended===!0&&he.length===0)}function I(H){if(!l(H))return null;if(H.readableEnded===!0)return!0;const de=H._readableState;return!de||de.errored?!1:typeof(de==null?void 0:de.ended)!="boolean"?null:de.ended}function O(H,de){if(!l(H))return null;const he=H._readableState;return he!=null&&he.errored?!1:typeof(he==null?void 0:he.endEmitted)!="boolean"?null:!!(he.endEmitted||de===!1&&he.ended===!0&&he.length===0)}function M(H){return H&&H[i]!=null?H[i]:typeof(H==null?void 0:H.readable)!="boolean"?null:g(H)?!1:l(H)&&H.readable&&!O(H)}function D(H){return H&&H[s]!=null?H[s]:typeof(H==null?void 0:H.writable)!="boolean"?null:g(H)?!1:d(H)&&H.writable&&!w(H)}function N(H,de){return h(H)?g(H)?!0:!((de==null?void 0:de.readable)!==!1&&M(H)||(de==null?void 0:de.writable)!==!1&&D(H)):null}function C(H){var de,he;return h(H)?H.writableErrored?H.writableErrored:(de=(he=H._writableState)===null||he===void 0?void 0:he.errored)!==null&&de!==void 0?de:null:null}function R(H){var de,he;return h(H)?H.readableErrored?H.readableErrored:(de=(he=H._readableState)===null||he===void 0?void 0:he.errored)!==null&&de!==void 0?de:null:null}function F(H){if(!h(H))return null;if(typeof H.closed=="boolean")return H.closed;const de=H._writableState,he=H._readableState;return typeof(de==null?void 0:de.closed)=="boolean"||typeof(he==null?void 0:he.closed)=="boolean"?(de==null?void 0:de.closed)||(he==null?void 0:he.closed):typeof H._closed=="boolean"&&X(H)?H._closed:null}function X(H){return typeof H._closed=="boolean"&&typeof H._defaultKeepAlive=="boolean"&&typeof H._removedConnection=="boolean"&&typeof H._removedContLen=="boolean"}function oe(H){return typeof H._sent100=="boolean"&&X(H)}function J(H){var de;return typeof H._consuming=="boolean"&&typeof H._dumped=="boolean"&&((de=H.req)===null||de===void 0?void 0:de.upgradeOrConnect)===void 0}function le(H){if(!h(H))return null;const de=H._writableState,he=H._readableState,W=de||he;return!W&&oe(H)||!!(W&&W.autoDestroy&&W.emitClose&&W.closed===!1)}function ae(H){var de;return!!(H&&((de=H[o])!==null&&de!==void 0?de:H.readableDidRead||H.readableAborted))}function Z(H){var de,he,W,z,Q,A,P,k,G,te;return!!(H&&((de=(he=(W=(z=(Q=(A=H[a])!==null&&A!==void 0?A:H.readableErrored)!==null&&Q!==void 0?Q:H.writableErrored)!==null&&z!==void 0?z:(P=H._readableState)===null||P===void 0?void 0:P.errorEmitted)!==null&&W!==void 0?W:(k=H._writableState)===null||k===void 0?void 0:k.errorEmitted)!==null&&he!==void 0?he:(G=H._readableState)===null||G===void 0?void 0:G.errored)!==null&&de!==void 0?de:!((te=H._writableState)===null||te===void 0)&&te.errored))}return oc={isDestroyed:g,kIsDestroyed:n,isDisturbed:ae,kIsDisturbed:o,isErrored:Z,kIsErrored:a,isReadable:M,kIsReadable:i,kIsClosedPromise:f,kControllerErrorFunction:u,kIsWritable:s,isClosed:F,isDuplexNodeStream:c,isFinished:N,isIterable:p,isReadableNodeStream:l,isReadableStream:m,isReadableEnded:I,isReadableFinished:O,isReadableErrored:R,isNodeStream:h,isWebStream:y,isWritable:D,isWritableNodeStream:d,isWritableStream:_,isWritableEnded:w,isWritableFinished:S,isWritableErrored:C,isServerRequest:J,isServerResponse:oe,willEmitClose:le,isTransformStream:b},oc}var Hb;function ln(){if(Hb)return sf.exports;Hb=1;const t=Bn(),{AbortError:e,codes:r}=Gt(),{ERR_INVALID_ARG_TYPE:n,ERR_STREAM_PREMATURE_CLOSE:a}=r,{kEmptyObject:i,once:s}=Yt(),{validateAbortSignal:o,validateFunction:f,validateObject:u,validateBoolean:l}=da(),{Promise:d,PromisePrototypeThen:c,SymbolDispose:h}=mt(),{isClosed:m,isReadable:_,isReadableNodeStream:b,isReadableStream:y,isReadableFinished:p,isReadableErrored:g,isWritable:w,isWritableNodeStream:S,isWritableStream:I,isWritableFinished:O,isWritableErrored:M,isNodeStream:D,willEmitClose:N,kIsClosedPromise:C}=zr();let R;function F(ae){return ae.setHeader&&typeof ae.abort=="function"}const X=()=>{};function oe(ae,Z,H){var de,he;if(arguments.length===2?(H=Z,Z=i):Z==null?Z=i:u(Z,"options"),f(H,"callback"),o(Z.signal,"options.signal"),H=s(H),y(ae)||I(ae))return J(ae,Z,H);if(!D(ae))throw new n("stream",["ReadableStream","WritableStream","Stream"],ae);const W=(de=Z.readable)!==null&&de!==void 0?de:b(ae),z=(he=Z.writable)!==null&&he!==void 0?he:S(ae),Q=ae._writableState,A=ae._readableState,P=()=>{ae.writable||te()};let k=N(ae)&&b(ae)===W&&S(ae)===z,G=O(ae,!1);const te=()=>{G=!0,ae.destroyed&&(k=!1),!(k&&(!ae.readable||W))&&(!W||E)&&H.call(ae)};let E=p(ae,!1);const v=()=>{E=!0,ae.destroyed&&(k=!1),!(k&&(!ae.writable||z))&&(!z||G)&&H.call(ae)},T=fe=>{H.call(ae,fe)};let L=m(ae);const Y=()=>{L=!0;const fe=M(ae)||g(ae);if(fe&&typeof fe!="boolean")return H.call(ae,fe);if(W&&!E&&b(ae,!0)&&!p(ae,!1))return H.call(ae,new a);if(z&&!G&&!O(ae,!1))return H.call(ae,new a);H.call(ae)},ne=()=>{L=!0;const fe=M(ae)||g(ae);if(fe&&typeof fe!="boolean")return H.call(ae,fe);H.call(ae)},pe=()=>{ae.req.on("finish",te)};F(ae)?(ae.on("complete",te),k||ae.on("abort",Y),ae.req?pe():ae.on("request",pe)):z&&!Q&&(ae.on("end",P),ae.on("close",P)),!k&&typeof ae.aborted=="boolean"&&ae.on("aborted",Y),ae.on("end",v),ae.on("finish",te),Z.error!==!1&&ae.on("error",T),ae.on("close",Y),L?t.nextTick(Y):Q!=null&&Q.errorEmitted||A!=null&&A.errorEmitted?k||t.nextTick(ne):(!W&&(!k||_(ae))&&(G||w(ae)===!1)||!z&&(!k||w(ae))&&(E||_(ae)===!1)||A&&ae.req&&ae.aborted)&&t.nextTick(ne);const we=()=>{H=X,ae.removeListener("aborted",Y),ae.removeListener("complete",te),ae.removeListener("abort",Y),ae.removeListener("request",pe),ae.req&&ae.req.removeListener("finish",te),ae.removeListener("end",P),ae.removeListener("close",P),ae.removeListener("finish",te),ae.removeListener("end",v),ae.removeListener("error",T),ae.removeListener("close",Y)};if(Z.signal&&!L){const fe=()=>{const Re=H;we(),Re.call(ae,new e(void 0,{cause:Z.signal.reason}))};if(Z.signal.aborted)t.nextTick(fe);else{R=R||Yt().addAbortListener;const Re=R(Z.signal,fe),Le=H;H=s((...Te)=>{Re[h](),Le.apply(ae,Te)})}}return we}function J(ae,Z,H){let de=!1,he=X;if(Z.signal)if(he=()=>{de=!0,H.call(ae,new e(void 0,{cause:Z.signal.reason}))},Z.signal.aborted)t.nextTick(he);else{R=R||Yt().addAbortListener;const z=R(Z.signal,he),Q=H;H=s((...A)=>{z[h](),Q.apply(ae,A)})}const W=(...z)=>{de||t.nextTick(()=>H.apply(ae,z))};return c(ae[C].promise,W,W),X}function le(ae,Z){var H;let de=!1;return Z===null&&(Z=i),(H=Z)!==null&&H!==void 0&&H.cleanup&&(l(Z.cleanup,"cleanup"),de=Z.cleanup),new d((he,W)=>{const z=oe(ae,Z,Q=>{de&&z(),Q?W(Q):he()})})}return sf.exports=oe,sf.exports.finished=le,sf.exports}var sc,Vb;function vi(){if(Vb)return sc;Vb=1;const t=Bn(),{aggregateTwoErrors:e,codes:{ERR_MULTIPLE_CALLBACK:r},AbortError:n}=Gt(),{Symbol:a}=mt(),{kIsDestroyed:i,isDestroyed:s,isFinished:o,isServerRequest:f}=zr(),u=a("kDestroy"),l=a("kConstruct");function d(N,C,R){N&&(N.stack,C&&!C.errored&&(C.errored=N),R&&!R.errored&&(R.errored=N))}function c(N,C){const R=this._readableState,F=this._writableState,X=F||R;return F!=null&&F.destroyed||R!=null&&R.destroyed?(typeof C=="function"&&C(),this):(d(N,F,R),F&&(F.destroyed=!0),R&&(R.destroyed=!0),X.constructed?h(this,N,C):this.once(u,function(oe){h(this,e(oe,N),C)}),this)}function h(N,C,R){let F=!1;function X(oe){if(F)return;F=!0;const J=N._readableState,le=N._writableState;d(oe,le,J),le&&(le.closed=!0),J&&(J.closed=!0),typeof R=="function"&&R(oe),oe?t.nextTick(m,N,oe):t.nextTick(_,N)}try{N._destroy(C||null,X)}catch(oe){X(oe)}}function m(N,C){b(N,C),_(N)}function _(N){const C=N._readableState,R=N._writableState;R&&(R.closeEmitted=!0),C&&(C.closeEmitted=!0),(R!=null&&R.emitClose||C!=null&&C.emitClose)&&N.emit("close")}function b(N,C){const R=N._readableState,F=N._writableState;F!=null&&F.errorEmitted||R!=null&&R.errorEmitted||(F&&(F.errorEmitted=!0),R&&(R.errorEmitted=!0),N.emit("error",C))}function y(){const N=this._readableState,C=this._writableState;N&&(N.constructed=!0,N.closed=!1,N.closeEmitted=!1,N.destroyed=!1,N.errored=null,N.errorEmitted=!1,N.reading=!1,N.ended=N.readable===!1,N.endEmitted=N.readable===!1),C&&(C.constructed=!0,C.destroyed=!1,C.closed=!1,C.closeEmitted=!1,C.errored=null,C.errorEmitted=!1,C.finalCalled=!1,C.prefinished=!1,C.ended=C.writable===!1,C.ending=C.writable===!1,C.finished=C.writable===!1)}function p(N,C,R){const F=N._readableState,X=N._writableState;if(X!=null&&X.destroyed||F!=null&&F.destroyed)return this;F!=null&&F.autoDestroy||X!=null&&X.autoDestroy?N.destroy(C):C&&(C.stack,X&&!X.errored&&(X.errored=C),F&&!F.errored&&(F.errored=C),R?t.nextTick(b,N,C):b(N,C))}function g(N,C){if(typeof N._construct!="function")return;const R=N._readableState,F=N._writableState;R&&(R.constructed=!1),F&&(F.constructed=!1),N.once(l,C),!(N.listenerCount(l)>1)&&t.nextTick(w,N)}function w(N){let C=!1;function R(F){if(C){p(N,F??new r);return}C=!0;const X=N._readableState,oe=N._writableState,J=oe||X;X&&(X.constructed=!0),oe&&(oe.constructed=!0),J.destroyed?N.emit(u,F):F?p(N,F,!0):t.nextTick(S,N)}try{N._construct(F=>{t.nextTick(R,F)})}catch(F){t.nextTick(R,F)}}function S(N){N.emit(l)}function I(N){return(N==null?void 0:N.setHeader)&&typeof N.abort=="function"}function O(N){N.emit("close")}function M(N,C){N.emit("error",C),t.nextTick(O,N)}function D(N,C){!N||s(N)||(!C&&!o(N)&&(C=new n),f(N)?(N.socket=null,N.destroy(C)):I(N)?N.abort():I(N.req)?N.req.abort():typeof N.destroy=="function"?N.destroy(C):typeof N.close=="function"?N.close():C?t.nextTick(M,N,C):t.nextTick(O,N),N.destroyed||(N[i]=!0))}return sc={construct:g,destroyer:D,destroy:c,undestroy:y,errorOrDestroy:p},sc}var uc,Gb;function fc(){if(Gb)return uc;Gb=1;const{ArrayIsArray:t,ObjectSetPrototypeOf:e}=mt(),{EventEmitter:r}=Jt();function n(i){r.call(this,i)}e(n.prototype,r.prototype),e(n,r),n.prototype.pipe=function(i,s){const o=this;function f(_){i.writable&&i.write(_)===!1&&o.pause&&o.pause()}o.on("data",f);function u(){o.readable&&o.resume&&o.resume()}i.on("drain",u),!i._isStdio&&(!s||s.end!==!1)&&(o.on("end",d),o.on("close",c));let l=!1;function d(){l||(l=!0,i.end())}function c(){l||(l=!0,typeof i.destroy=="function"&&i.destroy())}function h(_){m(),r.listenerCount(this,"error")===0&&this.emit("error",_)}a(o,"error",h),a(i,"error",h);function m(){o.removeListener("data",f),i.removeListener("drain",u),o.removeListener("end",d),o.removeListener("close",c),o.removeListener("error",h),i.removeListener("error",h),o.removeListener("end",m),o.removeListener("close",m),i.removeListener("close",m)}return o.on("end",m),o.on("close",m),i.on("close",m),i.emit("pipe",o),i};function a(i,s,o){if(typeof i.prependListener=="function")return i.prependListener(s,o);!i._events||!i._events[s]?i.on(s,o):t(i._events[s])?i._events[s].unshift(o):i._events[s]=[o,i._events[s]]}return uc={Stream:n,prependListener:a},uc}var lc={exports:{}},zb;function uf(){return zb||(zb=1,function(t){const{SymbolDispose:e}=mt(),{AbortError:r,codes:n}=Gt(),{isNodeStream:a,isWebStream:i,kControllerErrorFunction:s}=zr(),o=ln(),{ERR_INVALID_ARG_TYPE:f}=n;let u;const l=(d,c)=>{if(typeof d!="object"||!("aborted"in d))throw new f(c,"AbortSignal",d)};t.exports.addAbortSignal=function(c,h){if(l(c,"signal"),!a(h)&&!i(h))throw new f("stream",["ReadableStream","WritableStream","Stream"],h);return t.exports.addAbortSignalNoValidate(c,h)},t.exports.addAbortSignalNoValidate=function(d,c){if(typeof d!="object"||!("aborted"in d))return c;const h=a(c)?()=>{c.destroy(new r(void 0,{cause:d.reason}))}:()=>{c[s](new r(void 0,{cause:d.reason}))};if(d.aborted)h();else{u=u||Yt().addAbortListener;const m=u(d,h);o(c,m[e])}return c}}(lc)),lc.exports}var cc,Wb;function $3(){if(Wb)return cc;Wb=1;const{StringPrototypeSlice:t,SymbolIterator:e,TypedArrayPrototypeSet:r,Uint8Array:n}=mt(),{Buffer:a}=bt(),{inspect:i}=Yt();return cc=class{constructor(){this.head=null,this.tail=null,this.length=0}push(o){const f={data:o,next:null};this.length>0?this.tail.next=f:this.head=f,this.tail=f,++this.length}unshift(o){const f={data:o,next:this.head};this.length===0&&(this.tail=f),this.head=f,++this.length}shift(){if(this.length===0)return;const o=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,o}clear(){this.head=this.tail=null,this.length=0}join(o){if(this.length===0)return"";let f=this.head,u=""+f.data;for(;(f=f.next)!==null;)u+=o+f.data;return u}concat(o){if(this.length===0)return a.alloc(0);const f=a.allocUnsafe(o>>>0);let u=this.head,l=0;for(;u;)r(f,u.data,l),l+=u.data.length,u=u.next;return f}consume(o,f){const u=this.head.data;if(o<u.length){const l=u.slice(0,o);return this.head.data=u.slice(o),l}return o===u.length?this.shift():f?this._getString(o):this._getBuffer(o)}first(){return this.head.data}*[e](){for(let o=this.head;o;o=o.next)yield o.data}_getString(o){let f="",u=this.head,l=0;do{const d=u.data;if(o>d.length)f+=d,o-=d.length;else{o===d.length?(f+=d,++l,u.next?this.head=u.next:this.head=this.tail=null):(f+=t(d,0,o),this.head=u,u.data=t(d,o));break}++l}while((u=u.next)!==null);return this.length-=l,f}_getBuffer(o){const f=a.allocUnsafe(o),u=o;let l=this.head,d=0;do{const c=l.data;if(o>c.length)r(f,c,u-o),o-=c.length;else{o===c.length?(r(f,c,u-o),++d,l.next?this.head=l.next:this.head=this.tail=null):(r(f,new n(c.buffer,c.byteOffset,o),u-o),this.head=l,l.data=c.slice(o));break}++d}while((l=l.next)!==null);return this.length-=d,f}[Symbol.for("nodejs.util.inspect.custom")](o,f){return i(this,{...f,depth:0,customInspect:!1})}},cc}var dc,Kb;function ff(){if(Kb)return dc;Kb=1;const{MathFloor:t,NumberIsInteger:e}=mt(),{validateInteger:r}=da(),{ERR_INVALID_ARG_VALUE:n}=Gt().codes;let a=16*1024,i=16;function s(l,d,c){return l.highWaterMark!=null?l.highWaterMark:d?l[c]:null}function o(l){return l?i:a}function f(l,d){r(d,"value",0),l?i=d:a=d}function u(l,d,c,h){const m=s(d,h,c);if(m!=null){if(!e(m)||m<0){const _=h?`options.${c}`:"options.highWaterMark";throw new n(_,m)}return t(m)}return o(l.objectMode)}return dc={getHighWaterMark:u,getDefaultHighWaterMark:o,setDefaultHighWaterMark:f},dc}var hc={},lf={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var Qb;function U3(){return Qb||(Qb=1,function(t,e){var r=bt(),n=r.Buffer;function a(s,o){for(var f in s)o[f]=s[f]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(a(r,e),e.Buffer=i);function i(s,o,f){return n(s,o,f)}i.prototype=Object.create(n.prototype),a(n,i),i.from=function(s,o,f){if(typeof s=="number")throw new TypeError("Argument must not be a number");return n(s,o,f)},i.alloc=function(s,o,f){if(typeof s!="number")throw new TypeError("Argument must be a number");var u=n(s);return o!==void 0?typeof f=="string"?u.fill(o,f):u.fill(o):u.fill(0),u},i.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n(s)},i.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(s)}}(lf,lf.exports)),lf.exports}var Xb;function Mr(){if(Xb)return hc;Xb=1;var t=U3().Buffer,e=t.isEncoding||function(y){switch(y=""+y,y&&y.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(y){if(!y)return"utf8";for(var p;;)switch(y){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return y;default:if(p)return;y=(""+y).toLowerCase(),p=!0}}function n(y){var p=r(y);if(typeof p!="string"&&(t.isEncoding===e||!e(y)))throw new Error("Unknown encoding: "+y);return p||y}hc.StringDecoder=a;function a(y){this.encoding=n(y);var p;switch(this.encoding){case"utf16le":this.text=d,this.end=c,p=4;break;case"utf8":this.fillLast=f,p=4;break;case"base64":this.text=h,this.end=m,p=3;break;default:this.write=_,this.end=b;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(p)}a.prototype.write=function(y){if(y.length===0)return"";var p,g;if(this.lastNeed){if(p=this.fillLast(y),p===void 0)return"";g=this.lastNeed,this.lastNeed=0}else g=0;return g<y.length?p?p+this.text(y,g):this.text(y,g):p||""},a.prototype.end=l,a.prototype.text=u,a.prototype.fillLast=function(y){if(this.lastNeed<=y.length)return y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,y.length),this.lastNeed-=y.length};function i(y){return y<=127?0:y>>5===6?2:y>>4===14?3:y>>3===30?4:y>>6===2?-1:-2}function s(y,p,g){var w=p.length-1;if(w<g)return 0;var S=i(p[w]);return S>=0?(S>0&&(y.lastNeed=S-1),S):--w<g||S===-2?0:(S=i(p[w]),S>=0?(S>0&&(y.lastNeed=S-2),S):--w<g||S===-2?0:(S=i(p[w]),S>=0?(S>0&&(S===2?S=0:y.lastNeed=S-3),S):0))}function o(y,p,g){if((p[0]&192)!==128)return y.lastNeed=0,"";if(y.lastNeed>1&&p.length>1){if((p[1]&192)!==128)return y.lastNeed=1,"";if(y.lastNeed>2&&p.length>2&&(p[2]&192)!==128)return y.lastNeed=2,""}}function f(y){var p=this.lastTotal-this.lastNeed,g=o(this,y);if(g!==void 0)return g;if(this.lastNeed<=y.length)return y.copy(this.lastChar,p,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);y.copy(this.lastChar,p,0,y.length),this.lastNeed-=y.length}function u(y,p){var g=s(this,y,p);if(!this.lastNeed)return y.toString("utf8",p);this.lastTotal=g;var w=y.length-(g-this.lastNeed);return y.copy(this.lastChar,0,w),y.toString("utf8",p,w)}function l(y){var p=y&&y.length?this.write(y):"";return this.lastNeed?p+"":p}function d(y,p){if((y.length-p)%2===0){var g=y.toString("utf16le",p);if(g){var w=g.charCodeAt(g.length-1);if(w>=55296&&w<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1],g.slice(0,-1)}return g}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=y[y.length-1],y.toString("utf16le",p,y.length-1)}function c(y){var p=y&&y.length?this.write(y):"";if(this.lastNeed){var g=this.lastTotal-this.lastNeed;return p+this.lastChar.toString("utf16le",0,g)}return p}function h(y,p){var g=(y.length-p)%3;return g===0?y.toString("base64",p):(this.lastNeed=3-g,this.lastTotal=3,g===1?this.lastChar[0]=y[y.length-1]:(this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1]),y.toString("base64",p,y.length-g))}function m(y){var p=y&&y.length?this.write(y):"";return this.lastNeed?p+this.lastChar.toString("base64",0,3-this.lastNeed):p}function _(y){return y.toString(this.encoding)}function b(y){return y&&y.length?this.write(y):""}return hc}var pc,Zb;function Jb(){if(Zb)return pc;Zb=1;const t=Bn(),{PromisePrototypeThen:e,SymbolAsyncIterator:r,SymbolIterator:n}=mt(),{Buffer:a}=bt(),{ERR_INVALID_ARG_TYPE:i,ERR_STREAM_NULL_VALUES:s}=Gt().codes;function o(f,u,l){let d;if(typeof u=="string"||u instanceof a)return new f({objectMode:!0,...l,read(){this.push(u),this.push(null)}});let c;if(u&&u[r])c=!0,d=u[r]();else if(u&&u[n])c=!1,d=u[n]();else throw new i("iterable",["Iterable"],u);const h=new f({objectMode:!0,highWaterMark:1,...l});let m=!1;h._read=function(){m||(m=!0,b())},h._destroy=function(y,p){e(_(y),()=>t.nextTick(p,y),g=>t.nextTick(p,g||y))};async function _(y){const p=y!=null,g=typeof d.throw=="function";if(p&&g){const{value:w,done:S}=await d.throw(y);if(await w,S)return}if(typeof d.return=="function"){const{value:w}=await d.return();await w}}async function b(){for(;;){try{const{value:y,done:p}=c?await d.next():d.next();if(p)h.push(null);else{const g=y&&typeof y.then=="function"?await y:y;if(g===null)throw m=!1,new s;if(h.push(g))continue;m=!1}}catch(y){h.destroy(y)}break}}return h}return pc=o,pc}var yc,Yb;function cf(){if(Yb)return yc;Yb=1;const t=Bn(),{ArrayPrototypeIndexOf:e,NumberIsInteger:r,NumberIsNaN:n,NumberParseInt:a,ObjectDefineProperties:i,ObjectKeys:s,ObjectSetPrototypeOf:o,Promise:f,SafeSet:u,SymbolAsyncDispose:l,SymbolAsyncIterator:d,Symbol:c}=mt();yc=Te,Te.ReadableState=Le;const{EventEmitter:h}=Jt(),{Stream:m,prependListener:_}=fc(),{Buffer:b}=bt(),{addAbortSignal:y}=uf(),p=ln();let g=Yt().debuglog("stream",ue=>{g=ue});const w=$3(),S=vi(),{getHighWaterMark:I,getDefaultHighWaterMark:O}=ff(),{aggregateTwoErrors:M,codes:{ERR_INVALID_ARG_TYPE:D,ERR_METHOD_NOT_IMPLEMENTED:N,ERR_OUT_OF_RANGE:C,ERR_STREAM_PUSH_AFTER_EOF:R,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:F},AbortError:X}=Gt(),{validateObject:oe}=da(),J=c("kPaused"),{StringDecoder:le}=Mr(),ae=Jb();o(Te.prototype,m.prototype),o(Te,m);const Z=()=>{},{errorOrDestroy:H}=S,de=1,he=2,W=4,z=8,Q=16,A=32,P=64,k=128,G=256,te=512,E=1024,v=2048,T=4096,L=8192,Y=16384,ne=32768,pe=65536,we=1<<17,fe=1<<18;function Re(ue){return{enumerable:!1,get(){return(this.state&ue)!==0},set(B){B?this.state|=ue:this.state&=~ue}}}i(Le.prototype,{objectMode:Re(de),ended:Re(he),endEmitted:Re(W),reading:Re(z),constructed:Re(Q),sync:Re(A),needReadable:Re(P),emittedReadable:Re(k),readableListening:Re(G),resumeScheduled:Re(te),errorEmitted:Re(E),emitClose:Re(v),autoDestroy:Re(T),destroyed:Re(L),closed:Re(Y),closeEmitted:Re(ne),multiAwaitDrain:Re(pe),readingMore:Re(we),dataEmitted:Re(fe)});function Le(ue,B,j){typeof j!="boolean"&&(j=B instanceof Wr()),this.state=v|T|Q|A,ue&&ue.objectMode&&(this.state|=de),j&&ue&&ue.readableObjectMode&&(this.state|=de),this.highWaterMark=ue?I(this,ue,"readableHighWaterMark",j):O(!1),this.buffer=new w,this.length=0,this.pipes=[],this.flowing=null,this[J]=null,ue&&ue.emitClose===!1&&(this.state&=-2049),ue&&ue.autoDestroy===!1&&(this.state&=-4097),this.errored=null,this.defaultEncoding=ue&&ue.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,ue&&ue.encoding&&(this.decoder=new le(ue.encoding),this.encoding=ue.encoding)}function Te(ue){if(!(this instanceof Te))return new Te(ue);const B=this instanceof Wr();this._readableState=new Le(ue,this,B),ue&&(typeof ue.read=="function"&&(this._read=ue.read),typeof ue.destroy=="function"&&(this._destroy=ue.destroy),typeof ue.construct=="function"&&(this._construct=ue.construct),ue.signal&&!B&&y(ue.signal,this)),m.call(this,ue),S.construct(this,()=>{this._readableState.needReadable&&x(this,this._readableState)})}Te.prototype.destroy=S.destroy,Te.prototype._undestroy=S.undestroy,Te.prototype._destroy=function(ue,B){B(ue)},Te.prototype[h.captureRejectionSymbol]=function(ue){this.destroy(ue)},Te.prototype[l]=function(){let ue;return this.destroyed||(ue=this.readableEnded?null:new X,this.destroy(ue)),new f((B,j)=>p(this,U=>U&&U!==ue?j(U):B(null)))},Te.prototype.push=function(ue,B){return Ue(this,ue,B,!1)},Te.prototype.unshift=function(ue,B){return Ue(this,ue,B,!0)};function Ue(ue,B,j,U){g("readableAddChunk",B);const ce=ue._readableState;let me;if(ce.state&de||(typeof B=="string"?(j=j||ce.defaultEncoding,ce.encoding!==j&&(U&&ce.encoding?B=b.from(B,j).toString(ce.encoding):(B=b.from(B,j),j=""))):B instanceof b?j="":m._isUint8Array(B)?(B=m._uint8ArrayToBuffer(B),j=""):B!=null&&(me=new D("chunk",["string","Buffer","Uint8Array"],B))),me)H(ue,me);else if(B===null)ce.state&=-9,Me(ue,ce);else if(ce.state&de||B&&B.length>0)if(U)if(ce.state&W)H(ue,new F);else{if(ce.destroyed||ce.errored)return!1;_e(ue,ce,B,!0)}else if(ce.ended)H(ue,new R);else{if(ce.destroyed||ce.errored)return!1;ce.state&=-9,ce.decoder&&!j?(B=ce.decoder.write(B),ce.objectMode||B.length!==0?_e(ue,ce,B,!1):x(ue,ce)):_e(ue,ce,B,!1)}else U||(ce.state&=-9,x(ue,ce));return!ce.ended&&(ce.length<ce.highWaterMark||ce.length===0)}function _e(ue,B,j,U){B.flowing&&B.length===0&&!B.sync&&ue.listenerCount("data")>0?(B.state&pe?B.awaitDrainWriters.clear():B.awaitDrainWriters=null,B.dataEmitted=!0,ue.emit("data",j)):(B.length+=B.objectMode?1:j.length,U?B.buffer.unshift(j):B.buffer.push(j),B.state&P&&ze(ue)),x(ue,B)}Te.prototype.isPaused=function(){const ue=this._readableState;return ue[J]===!0||ue.flowing===!1},Te.prototype.setEncoding=function(ue){const B=new le(ue);this._readableState.decoder=B,this._readableState.encoding=this._readableState.decoder.encoding;const j=this._readableState.buffer;let U="";for(const ce of j)U+=B.write(ce);return j.clear(),U!==""&&j.push(U),this._readableState.length=U.length,this};const Ee=1073741824;function Fe(ue){if(ue>Ee)throw new C("size","<= 1GiB",ue);return ue--,ue|=ue>>>1,ue|=ue>>>2,ue|=ue>>>4,ue|=ue>>>8,ue|=ue>>>16,ue++,ue}function je(ue,B){return ue<=0||B.length===0&&B.ended?0:B.state&de?1:n(ue)?B.flowing&&B.length?B.buffer.first().length:B.length:ue<=B.length?ue:B.ended?B.length:0}Te.prototype.read=function(ue){g("read",ue),ue===void 0?ue=NaN:r(ue)||(ue=a(ue,10));const B=this._readableState,j=ue;if(ue>B.highWaterMark&&(B.highWaterMark=Fe(ue)),ue!==0&&(B.state&=-129),ue===0&&B.needReadable&&((B.highWaterMark!==0?B.length>=B.highWaterMark:B.length>0)||B.ended))return g("read: emitReadable",B.length,B.ended),B.length===0&&B.ended?Pe(this):ze(this),null;if(ue=je(ue,B),ue===0&&B.ended)return B.length===0&&Pe(this),null;let U=(B.state&P)!==0;if(g("need readable",U),(B.length===0||B.length-ue<B.highWaterMark)&&(U=!0,g("length less than watermark",U)),B.ended||B.reading||B.destroyed||B.errored||!B.constructed)U=!1,g("reading, ended or constructing",U);else if(U){g("do read"),B.state|=z|A,B.length===0&&(B.state|=P);try{this._read(B.highWaterMark)}catch(me){H(this,me)}B.state&=-33,B.reading||(ue=je(j,B))}let ce;return ue>0?ce=Se(ue,B):ce=null,ce===null?(B.needReadable=B.length<=B.highWaterMark,ue=0):(B.length-=ue,B.multiAwaitDrain?B.awaitDrainWriters.clear():B.awaitDrainWriters=null),B.length===0&&(B.ended||(B.needReadable=!0),j!==ue&&B.ended&&Pe(this)),ce!==null&&!B.errorEmitted&&!B.closeEmitted&&(B.dataEmitted=!0,this.emit("data",ce)),ce};function Me(ue,B){if(g("onEofChunk"),!B.ended){if(B.decoder){const j=B.decoder.end();j&&j.length&&(B.buffer.push(j),B.length+=B.objectMode?1:j.length)}B.ended=!0,B.sync?ze(ue):(B.needReadable=!1,B.emittedReadable=!0,ee(ue))}}function ze(ue){const B=ue._readableState;g("emitReadable",B.needReadable,B.emittedReadable),B.needReadable=!1,B.emittedReadable||(g("emitReadable",B.flowing),B.emittedReadable=!0,t.nextTick(ee,ue))}function ee(ue){const B=ue._readableState;g("emitReadable_",B.destroyed,B.length,B.ended),!B.destroyed&&!B.errored&&(B.length||B.ended)&&(ue.emit("readable"),B.emittedReadable=!1),B.needReadable=!B.flowing&&!B.ended&&B.length<=B.highWaterMark,De(ue)}function x(ue,B){!B.readingMore&&B.constructed&&(B.readingMore=!0,t.nextTick($,ue,B))}function $(ue,B){for(;!B.reading&&!B.ended&&(B.length<B.highWaterMark||B.flowing&&B.length===0);){const j=B.length;if(g("maybeReadMore read 0"),ue.read(0),j===B.length)break}B.readingMore=!1}Te.prototype._read=function(ue){throw new N("_read()")},Te.prototype.pipe=function(ue,B){const j=this,U=this._readableState;U.pipes.length===1&&(U.multiAwaitDrain||(U.multiAwaitDrain=!0,U.awaitDrainWriters=new u(U.awaitDrainWriters?[U.awaitDrainWriters]:[]))),U.pipes.push(ue),g("pipe count=%d opts=%j",U.pipes.length,B);const me=(!B||B.end!==!1)&&ue!==t.stdout&&ue!==t.stderr?Ie:ge;U.endEmitted?t.nextTick(me):j.once("end",me),ue.on("unpipe",be);function be(Ae,Ne){g("onunpipe"),Ae===j&&Ne&&Ne.hasUnpiped===!1&&(Ne.hasUnpiped=!0,Ve())}function Ie(){g("onend"),ue.end()}let Ce,He=!1;function Ve(){g("cleanup"),ue.removeListener("close",St),ue.removeListener("finish",ke),Ce&&ue.removeListener("drain",Ce),ue.removeListener("error",Be),ue.removeListener("unpipe",be),j.removeListener("end",Ie),j.removeListener("end",ge),j.removeListener("data",Ge),He=!0,Ce&&U.awaitDrainWriters&&(!ue._writableState||ue._writableState.needDrain)&&Ce()}function Ke(){He||(U.pipes.length===1&&U.pipes[0]===ue?(g("false write response, pause",0),U.awaitDrainWriters=ue,U.multiAwaitDrain=!1):U.pipes.length>1&&U.pipes.includes(ue)&&(g("false write response, pause",U.awaitDrainWriters.size),U.awaitDrainWriters.add(ue)),j.pause()),Ce||(Ce=ie(j,ue),ue.on("drain",Ce))}j.on("data",Ge);function Ge(Ae){g("ondata");const Ne=ue.write(Ae);g("dest.write",Ne),Ne===!1&&Ke()}function Be(Ae){if(g("onerror",Ae),ge(),ue.removeListener("error",Be),ue.listenerCount("error")===0){const Ne=ue._writableState||ue._readableState;Ne&&!Ne.errorEmitted?H(ue,Ae):ue.emit("error",Ae)}}_(ue,"error",Be);function St(){ue.removeListener("finish",ke),ge()}ue.once("close",St);function ke(){g("onfinish"),ue.removeListener("close",St),ge()}ue.once("finish",ke);function ge(){g("unpipe"),j.unpipe(ue)}return ue.emit("pipe",j),ue.writableNeedDrain===!0?Ke():U.flowing||(g("pipe resume"),j.resume()),ue};function ie(ue,B){return function(){const U=ue._readableState;U.awaitDrainWriters===B?(g("pipeOnDrain",1),U.awaitDrainWriters=null):U.multiAwaitDrain&&(g("pipeOnDrain",U.awaitDrainWriters.size),U.awaitDrainWriters.delete(B)),(!U.awaitDrainWriters||U.awaitDrainWriters.size===0)&&ue.listenerCount("data")&&ue.resume()}}Te.prototype.unpipe=function(ue){const B=this._readableState,j={hasUnpiped:!1};if(B.pipes.length===0)return this;if(!ue){const ce=B.pipes;B.pipes=[],this.pause();for(let me=0;me<ce.length;me++)ce[me].emit("unpipe",this,{hasUnpiped:!1});return this}const U=e(B.pipes,ue);return U===-1?this:(B.pipes.splice(U,1),B.pipes.length===0&&this.pause(),ue.emit("unpipe",this,j),this)},Te.prototype.on=function(ue,B){const j=m.prototype.on.call(this,ue,B),U=this._readableState;return ue==="data"?(U.readableListening=this.listenerCount("readable")>0,U.flowing!==!1&&this.resume()):ue==="readable"&&!U.endEmitted&&!U.readableListening&&(U.readableListening=U.needReadable=!0,U.flowing=!1,U.emittedReadable=!1,g("on readable",U.length,U.reading),U.length?ze(this):U.reading||t.nextTick(V,this)),j},Te.prototype.addListener=Te.prototype.on,Te.prototype.removeListener=function(ue,B){const j=m.prototype.removeListener.call(this,ue,B);return ue==="readable"&&t.nextTick(ye,this),j},Te.prototype.off=Te.prototype.removeListener,Te.prototype.removeAllListeners=function(ue){const B=m.prototype.removeAllListeners.apply(this,arguments);return(ue==="readable"||ue===void 0)&&t.nextTick(ye,this),B};function ye(ue){const B=ue._readableState;B.readableListening=ue.listenerCount("readable")>0,B.resumeScheduled&&B[J]===!1?B.flowing=!0:ue.listenerCount("data")>0?ue.resume():B.readableListening||(B.flowing=null)}function V(ue){g("readable nexttick read 0"),ue.read(0)}Te.prototype.resume=function(){const ue=this._readableState;return ue.flowing||(g("resume"),ue.flowing=!ue.readableListening,re(this,ue)),ue[J]=!1,this};function re(ue,B){B.resumeScheduled||(B.resumeScheduled=!0,t.nextTick(K,ue,B))}function K(ue,B){g("resume",B.reading),B.reading||ue.read(0),B.resumeScheduled=!1,ue.emit("resume"),De(ue),B.flowing&&!B.reading&&ue.read(0)}Te.prototype.pause=function(){return g("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(g("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[J]=!0,this};function De(ue){const B=ue._readableState;for(g("flow",B.flowing);B.flowing&&ue.read()!==null;);}Te.prototype.wrap=function(ue){let B=!1;ue.on("data",U=>{!this.push(U)&&ue.pause&&(B=!0,ue.pause())}),ue.on("end",()=>{this.push(null)}),ue.on("error",U=>{H(this,U)}),ue.on("close",()=>{this.destroy()}),ue.on("destroy",()=>{this.destroy()}),this._read=()=>{B&&ue.resume&&(B=!1,ue.resume())};const j=s(ue);for(let U=1;U<j.length;U++){const ce=j[U];this[ce]===void 0&&typeof ue[ce]=="function"&&(this[ce]=ue[ce].bind(ue))}return this},Te.prototype[d]=function(){return qe(this)},Te.prototype.iterator=function(ue){return ue!==void 0&&oe(ue,"options"),qe(this,ue)};function qe(ue,B){typeof ue.read!="function"&&(ue=Te.wrap(ue,{objectMode:!0}));const j=q(ue,B);return j.stream=ue,j}async function*q(ue,B){let j=Z;function U(be){this===ue?(j(),j=Z):j=be}ue.on("readable",U);let ce;const me=p(ue,{writable:!1},be=>{ce=be?M(ce,be):null,j(),j=Z});try{for(;;){const be=ue.destroyed?null:ue.read();if(be!==null)yield be;else{if(ce)throw ce;if(ce===null)return;await new f(U)}}}catch(be){throw ce=M(ce,be),ce}finally{(ce||(B==null?void 0:B.destroyOnReturn)!==!1)&&(ce===void 0||ue._readableState.autoDestroy)?S.destroyer(ue,null):(ue.off("readable",U),me())}}i(Te.prototype,{readable:{__proto__:null,get(){const ue=this._readableState;return!!ue&&ue.readable!==!1&&!ue.destroyed&&!ue.errorEmitted&&!ue.endEmitted},set(ue){this._readableState&&(this._readableState.readable=!!ue)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(ue){this._readableState&&(this._readableState.flowing=ue)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(ue){this._readableState&&(this._readableState.destroyed=ue)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),i(Le.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[J]!==!1},set(ue){this[J]=!!ue}}}),Te._fromList=Se;function Se(ue,B){if(B.length===0)return null;let j;return B.objectMode?j=B.buffer.shift():!ue||ue>=B.length?(B.decoder?j=B.buffer.join(""):B.buffer.length===1?j=B.buffer.first():j=B.buffer.concat(B.length),B.buffer.clear()):j=B.buffer.consume(ue,B.decoder),j}function Pe(ue){const B=ue._readableState;g("endReadable",B.endEmitted),B.endEmitted||(B.ended=!0,t.nextTick(se,B,ue))}function se(ue,B){if(g("endReadableNT",ue.endEmitted,ue.length),!ue.errored&&!ue.closeEmitted&&!ue.endEmitted&&ue.length===0){if(ue.endEmitted=!0,B.emit("end"),B.writable&&B.allowHalfOpen===!1)t.nextTick(ve,B);else if(ue.autoDestroy){const j=B._writableState;(!j||j.autoDestroy&&(j.finished||j.writable===!1))&&B.destroy()}}}function ve(ue){ue.writable&&!ue.writableEnded&&!ue.destroyed&&ue.end()}Te.from=function(ue,B){return ae(Te,ue,B)};let Oe;function We(){return Oe===void 0&&(Oe={}),Oe}return Te.fromWeb=function(ue,B){return We().newStreamReadableFromReadableStream(ue,B)},Te.toWeb=function(ue,B){return We().newReadableStreamFromStreamReadable(ue,B)},Te.wrap=function(ue,B){var j,U;return new Te({objectMode:(j=(U=ue.readableObjectMode)!==null&&U!==void 0?U:ue.objectMode)!==null&&j!==void 0?j:!0,...B,destroy(ce,me){S.destroyer(ue,ce),me(ce)}}).wrap(ue)},yc}var gc,em;function bc(){if(em)return gc;em=1;const t=Bn(),{ArrayPrototypeSlice:e,Error:r,FunctionPrototypeSymbolHasInstance:n,ObjectDefineProperty:a,ObjectDefineProperties:i,ObjectSetPrototypeOf:s,StringPrototypeToLowerCase:o,Symbol:f,SymbolHasInstance:u}=mt();gc=oe,oe.WritableState=F;const{EventEmitter:l}=Jt(),d=fc().Stream,{Buffer:c}=bt(),h=vi(),{addAbortSignal:m}=uf(),{getHighWaterMark:_,getDefaultHighWaterMark:b}=ff(),{ERR_INVALID_ARG_TYPE:y,ERR_METHOD_NOT_IMPLEMENTED:p,ERR_MULTIPLE_CALLBACK:g,ERR_STREAM_CANNOT_PIPE:w,ERR_STREAM_DESTROYED:S,ERR_STREAM_ALREADY_FINISHED:I,ERR_STREAM_NULL_VALUES:O,ERR_STREAM_WRITE_AFTER_END:M,ERR_UNKNOWN_ENCODING:D}=Gt().codes,{errorOrDestroy:N}=h;s(oe.prototype,d.prototype),s(oe,d);function C(){}const R=f("kOnFinished");function F(T,L,Y){typeof Y!="boolean"&&(Y=L instanceof Wr()),this.objectMode=!!(T&&T.objectMode),Y&&(this.objectMode=this.objectMode||!!(T&&T.writableObjectMode)),this.highWaterMark=T?_(this,T,"writableHighWaterMark",Y):b(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const ne=!!(T&&T.decodeStrings===!1);this.decodeStrings=!ne,this.defaultEncoding=T&&T.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=H.bind(void 0,L),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,X(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!T||T.emitClose!==!1,this.autoDestroy=!T||T.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[R]=[]}function X(T){T.buffered=[],T.bufferedIndex=0,T.allBuffers=!0,T.allNoop=!0}F.prototype.getBuffer=function(){return e(this.buffered,this.bufferedIndex)},a(F.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function oe(T){const L=this instanceof Wr();if(!L&&!n(oe,this))return new oe(T);this._writableState=new F(T,this,L),T&&(typeof T.write=="function"&&(this._write=T.write),typeof T.writev=="function"&&(this._writev=T.writev),typeof T.destroy=="function"&&(this._destroy=T.destroy),typeof T.final=="function"&&(this._final=T.final),typeof T.construct=="function"&&(this._construct=T.construct),T.signal&&m(T.signal,this)),d.call(this,T),h.construct(this,()=>{const Y=this._writableState;Y.writing||z(this,Y),k(this,Y)})}a(oe,u,{__proto__:null,value:function(T){return n(this,T)?!0:this!==oe?!1:T&&T._writableState instanceof F}}),oe.prototype.pipe=function(){N(this,new w)};function J(T,L,Y,ne){const pe=T._writableState;if(typeof Y=="function")ne=Y,Y=pe.defaultEncoding;else{if(!Y)Y=pe.defaultEncoding;else if(Y!=="buffer"&&!c.isEncoding(Y))throw new D(Y);typeof ne!="function"&&(ne=C)}if(L===null)throw new O;if(!pe.objectMode)if(typeof L=="string")pe.decodeStrings!==!1&&(L=c.from(L,Y),Y="buffer");else if(L instanceof c)Y="buffer";else if(d._isUint8Array(L))L=d._uint8ArrayToBuffer(L),Y="buffer";else throw new y("chunk",["string","Buffer","Uint8Array"],L);let we;return pe.ending?we=new M:pe.destroyed&&(we=new S("write")),we?(t.nextTick(ne,we),N(T,we,!0),we):(pe.pendingcb++,le(T,pe,L,Y,ne))}oe.prototype.write=function(T,L,Y){return J(this,T,L,Y)===!0},oe.prototype.cork=function(){this._writableState.corked++},oe.prototype.uncork=function(){const T=this._writableState;T.corked&&(T.corked--,T.writing||z(this,T))},oe.prototype.setDefaultEncoding=function(L){if(typeof L=="string"&&(L=o(L)),!c.isEncoding(L))throw new D(L);return this._writableState.defaultEncoding=L,this};function le(T,L,Y,ne,pe){const we=L.objectMode?1:Y.length;L.length+=we;const fe=L.length<L.highWaterMark;return fe||(L.needDrain=!0),L.writing||L.corked||L.errored||!L.constructed?(L.buffered.push({chunk:Y,encoding:ne,callback:pe}),L.allBuffers&&ne!=="buffer"&&(L.allBuffers=!1),L.allNoop&&pe!==C&&(L.allNoop=!1)):(L.writelen=we,L.writecb=pe,L.writing=!0,L.sync=!0,T._write(Y,ne,L.onwrite),L.sync=!1),fe&&!L.errored&&!L.destroyed}function ae(T,L,Y,ne,pe,we,fe){L.writelen=ne,L.writecb=fe,L.writing=!0,L.sync=!0,L.destroyed?L.onwrite(new S("write")):Y?T._writev(pe,L.onwrite):T._write(pe,we,L.onwrite),L.sync=!1}function Z(T,L,Y,ne){--L.pendingcb,ne(Y),W(L),N(T,Y)}function H(T,L){const Y=T._writableState,ne=Y.sync,pe=Y.writecb;if(typeof pe!="function"){N(T,new g);return}Y.writing=!1,Y.writecb=null,Y.length-=Y.writelen,Y.writelen=0,L?(L.stack,Y.errored||(Y.errored=L),T._readableState&&!T._readableState.errored&&(T._readableState.errored=L),ne?t.nextTick(Z,T,Y,L,pe):Z(T,Y,L,pe)):(Y.buffered.length>Y.bufferedIndex&&z(T,Y),ne?Y.afterWriteTickInfo!==null&&Y.afterWriteTickInfo.cb===pe?Y.afterWriteTickInfo.count++:(Y.afterWriteTickInfo={count:1,cb:pe,stream:T,state:Y},t.nextTick(de,Y.afterWriteTickInfo)):he(T,Y,1,pe))}function de({stream:T,state:L,count:Y,cb:ne}){return L.afterWriteTickInfo=null,he(T,L,Y,ne)}function he(T,L,Y,ne){for(!L.ending&&!T.destroyed&&L.length===0&&L.needDrain&&(L.needDrain=!1,T.emit("drain"));Y-- >0;)L.pendingcb--,ne();L.destroyed&&W(L),k(T,L)}function W(T){if(T.writing)return;for(let pe=T.bufferedIndex;pe<T.buffered.length;++pe){var L;const{chunk:we,callback:fe}=T.buffered[pe],Re=T.objectMode?1:we.length;T.length-=Re,fe((L=T.errored)!==null&&L!==void 0?L:new S("write"))}const Y=T[R].splice(0);for(let pe=0;pe<Y.length;pe++){var ne;Y[pe]((ne=T.errored)!==null&&ne!==void 0?ne:new S("end"))}X(T)}function z(T,L){if(L.corked||L.bufferProcessing||L.destroyed||!L.constructed)return;const{buffered:Y,bufferedIndex:ne,objectMode:pe}=L,we=Y.length-ne;if(!we)return;let fe=ne;if(L.bufferProcessing=!0,we>1&&T._writev){L.pendingcb-=we-1;const Re=L.allNoop?C:Te=>{for(let Ue=fe;Ue<Y.length;++Ue)Y[Ue].callback(Te)},Le=L.allNoop&&fe===0?Y:e(Y,fe);Le.allBuffers=L.allBuffers,ae(T,L,!0,L.length,Le,"",Re),X(L)}else{do{const{chunk:Re,encoding:Le,callback:Te}=Y[fe];Y[fe++]=null;const Ue=pe?1:Re.length;ae(T,L,!1,Ue,Re,Le,Te)}while(fe<Y.length&&!L.writing);fe===Y.length?X(L):fe>256?(Y.splice(0,fe),L.bufferedIndex=0):L.bufferedIndex=fe}L.bufferProcessing=!1}oe.prototype._write=function(T,L,Y){if(this._writev)this._writev([{chunk:T,encoding:L}],Y);else throw new p("_write()")},oe.prototype._writev=null,oe.prototype.end=function(T,L,Y){const ne=this._writableState;typeof T=="function"?(Y=T,T=null,L=null):typeof L=="function"&&(Y=L,L=null);let pe;if(T!=null){const we=J(this,T,L);we instanceof r&&(pe=we)}return ne.corked&&(ne.corked=1,this.uncork()),pe||(!ne.errored&&!ne.ending?(ne.ending=!0,k(this,ne,!0),ne.ended=!0):ne.finished?pe=new I("end"):ne.destroyed&&(pe=new S("end"))),typeof Y=="function"&&(pe||ne.finished?t.nextTick(Y,pe):ne[R].push(Y)),this};function Q(T){return T.ending&&!T.destroyed&&T.constructed&&T.length===0&&!T.errored&&T.buffered.length===0&&!T.finished&&!T.writing&&!T.errorEmitted&&!T.closeEmitted}function A(T,L){let Y=!1;function ne(pe){if(Y){N(T,pe??g());return}if(Y=!0,L.pendingcb--,pe){const we=L[R].splice(0);for(let fe=0;fe<we.length;fe++)we[fe](pe);N(T,pe,L.sync)}else Q(L)&&(L.prefinished=!0,T.emit("prefinish"),L.pendingcb++,t.nextTick(G,T,L))}L.sync=!0,L.pendingcb++;try{T._final(ne)}catch(pe){ne(pe)}L.sync=!1}function P(T,L){!L.prefinished&&!L.finalCalled&&(typeof T._final=="function"&&!L.destroyed?(L.finalCalled=!0,A(T,L)):(L.prefinished=!0,T.emit("prefinish")))}function k(T,L,Y){Q(L)&&(P(T,L),L.pendingcb===0&&(Y?(L.pendingcb++,t.nextTick((ne,pe)=>{Q(pe)?G(ne,pe):pe.pendingcb--},T,L)):Q(L)&&(L.pendingcb++,G(T,L))))}function G(T,L){L.pendingcb--,L.finished=!0;const Y=L[R].splice(0);for(let ne=0;ne<Y.length;ne++)Y[ne]();if(T.emit("finish"),L.autoDestroy){const ne=T._readableState;(!ne||ne.autoDestroy&&(ne.endEmitted||ne.readable===!1))&&T.destroy()}}i(oe.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(T){this._writableState&&(this._writableState.destroyed=T)}},writable:{__proto__:null,get(){const T=this._writableState;return!!T&&T.writable!==!1&&!T.destroyed&&!T.errored&&!T.ending&&!T.ended},set(T){this._writableState&&(this._writableState.writable=!!T)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const T=this._writableState;return T?!T.destroyed&&!T.ending&&T.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const te=h.destroy;oe.prototype.destroy=function(T,L){const Y=this._writableState;return!Y.destroyed&&(Y.bufferedIndex<Y.buffered.length||Y[R].length)&&t.nextTick(W,Y),te.call(this,T,L),this},oe.prototype._undestroy=h.undestroy,oe.prototype._destroy=function(T,L){L(T)},oe.prototype[l.captureRejectionSymbol]=function(T){this.destroy(T)};let E;function v(){return E===void 0&&(E={}),E}return oe.fromWeb=function(T,L){return v().newStreamWritableFromWritableStream(T,L)},oe.toWeb=function(T){return v().newWritableStreamFromStreamWritable(T)},gc}var mc,tm;function H3(){if(tm)return mc;tm=1;const t=Bn(),e=bt(),{isReadable:r,isWritable:n,isIterable:a,isNodeStream:i,isReadableNodeStream:s,isWritableNodeStream:o,isDuplexNodeStream:f,isReadableStream:u,isWritableStream:l}=zr(),d=ln(),{AbortError:c,codes:{ERR_INVALID_ARG_TYPE:h,ERR_INVALID_RETURN_VALUE:m}}=Gt(),{destroyer:_}=vi(),b=Wr(),y=cf(),p=bc(),{createDeferredPromise:g}=Yt(),w=Jb(),S=globalThis.Blob||e.Blob,I=typeof S<"u"?function(F){return F instanceof S}:function(F){return!1},O=globalThis.AbortController||ca().AbortController,{FunctionPrototypeCall:M}=mt();class D extends b{constructor(F){super(F),(F==null?void 0:F.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(F==null?void 0:F.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}mc=function R(F,X){if(f(F))return F;if(s(F))return C({readable:F});if(o(F))return C({writable:F});if(i(F))return C({writable:!1,readable:!1});if(u(F))return C({readable:y.fromWeb(F)});if(l(F))return C({writable:p.fromWeb(F)});if(typeof F=="function"){const{value:J,write:le,final:ae,destroy:Z}=N(F);if(a(J))return w(D,J,{objectMode:!0,write:le,final:ae,destroy:Z});const H=J==null?void 0:J.then;if(typeof H=="function"){let de;const he=M(H,J,W=>{if(W!=null)throw new m("nully","body",W)},W=>{_(de,W)});return de=new D({objectMode:!0,readable:!1,write:le,final(W){ae(async()=>{try{await he,t.nextTick(W,null)}catch(z){t.nextTick(W,z)}})},destroy:Z})}throw new m("Iterable, AsyncIterable or AsyncFunction",X,J)}if(I(F))return R(F.arrayBuffer());if(a(F))return w(D,F,{objectMode:!0,writable:!1});if(u(F==null?void 0:F.readable)&&l(F==null?void 0:F.writable))return D.fromWeb(F);if(typeof(F==null?void 0:F.writable)=="object"||typeof(F==null?void 0:F.readable)=="object"){const J=F!=null&&F.readable?s(F==null?void 0:F.readable)?F==null?void 0:F.readable:R(F.readable):void 0,le=F!=null&&F.writable?o(F==null?void 0:F.writable)?F==null?void 0:F.writable:R(F.writable):void 0;return C({readable:J,writable:le})}const oe=F==null?void 0:F.then;if(typeof oe=="function"){let J;return M(oe,F,le=>{le!=null&&J.push(le),J.push(null)},le=>{_(J,le)}),J=new D({objectMode:!0,writable:!1,read(){}})}throw new h(X,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],F)};function N(R){let{promise:F,resolve:X}=g();const oe=new O,J=oe.signal;return{value:R(async function*(){for(;;){const ae=F;F=null;const{chunk:Z,done:H,cb:de}=await ae;if(t.nextTick(de),H)return;if(J.aborted)throw new c(void 0,{cause:J.reason});({promise:F,resolve:X}=g()),yield Z}}(),{signal:J}),write(ae,Z,H){const de=X;X=null,de({chunk:ae,done:!1,cb:H})},final(ae){const Z=X;X=null,Z({done:!0,cb:ae})},destroy(ae,Z){oe.abort(),Z(ae)}}}function C(R){const F=R.readable&&typeof R.readable.read!="function"?y.wrap(R.readable):R.readable,X=R.writable;let oe=!!r(F),J=!!n(X),le,ae,Z,H,de;function he(W){const z=H;H=null,z?z(W):W&&de.destroy(W)}return de=new D({readableObjectMode:!!(F!=null&&F.readableObjectMode),writableObjectMode:!!(X!=null&&X.writableObjectMode),readable:oe,writable:J}),J&&(d(X,W=>{J=!1,W&&_(F,W),he(W)}),de._write=function(W,z,Q){X.write(W,z)?Q():le=Q},de._final=function(W){X.end(),ae=W},X.on("drain",function(){if(le){const W=le;le=null,W()}}),X.on("finish",function(){if(ae){const W=ae;ae=null,W()}})),oe&&(d(F,W=>{oe=!1,W&&_(F,W),he(W)}),F.on("readable",function(){if(Z){const W=Z;Z=null,W()}}),F.on("end",function(){de.push(null)}),de._read=function(){for(;;){const W=F.read();if(W===null){Z=de._read;return}if(!de.push(W))return}}),de._destroy=function(W,z){!W&&H!==null&&(W=new c),Z=null,le=null,ae=null,H===null?z(W):(H=z,_(X,W),_(F,W))},de}return mc}var _c,rm;function Wr(){if(rm)return _c;rm=1;const{ObjectDefineProperties:t,ObjectGetOwnPropertyDescriptor:e,ObjectKeys:r,ObjectSetPrototypeOf:n}=mt();_c=s;const a=cf(),i=bc();n(s.prototype,a.prototype),n(s,a);{const l=r(i.prototype);for(let d=0;d<l.length;d++){const c=l[d];s.prototype[c]||(s.prototype[c]=i.prototype[c])}}function s(l){if(!(this instanceof s))return new s(l);a.call(this,l),i.call(this,l),l?(this.allowHalfOpen=l.allowHalfOpen!==!1,l.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),l.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}t(s.prototype,{writable:{__proto__:null,...e(i.prototype,"writable")},writableHighWaterMark:{__proto__:null,...e(i.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...e(i.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...e(i.prototype,"writableBuffer")},writableLength:{__proto__:null,...e(i.prototype,"writableLength")},writableFinished:{__proto__:null,...e(i.prototype,"writableFinished")},writableCorked:{__proto__:null,...e(i.prototype,"writableCorked")},writableEnded:{__proto__:null,...e(i.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...e(i.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(l){this._readableState&&this._writableState&&(this._readableState.destroyed=l,this._writableState.destroyed=l)}}});let o;function f(){return o===void 0&&(o={}),o}s.fromWeb=function(l,d){return f().newStreamDuplexFromReadableWritablePair(l,d)},s.toWeb=function(l){return f().newReadableWritablePairFromDuplex(l)};let u;return s.from=function(l){return u||(u=H3()),u(l,"body")},_c}var vc,nm;function im(){if(nm)return vc;nm=1;const{ObjectSetPrototypeOf:t,Symbol:e}=mt();vc=s;const{ERR_METHOD_NOT_IMPLEMENTED:r}=Gt().codes,n=Wr(),{getHighWaterMark:a}=ff();t(s.prototype,n.prototype),t(s,n);const i=e("kCallback");function s(u){if(!(this instanceof s))return new s(u);const l=u?a(this,u,"readableHighWaterMark",!0):null;l===0&&(u={...u,highWaterMark:null,readableHighWaterMark:l,writableHighWaterMark:u.writableHighWaterMark||0}),n.call(this,u),this._readableState.sync=!1,this[i]=null,u&&(typeof u.transform=="function"&&(this._transform=u.transform),typeof u.flush=="function"&&(this._flush=u.flush)),this.on("prefinish",f)}function o(u){typeof this._flush=="function"&&!this.destroyed?this._flush((l,d)=>{if(l){u?u(l):this.destroy(l);return}d!=null&&this.push(d),this.push(null),u&&u()}):(this.push(null),u&&u())}function f(){this._final!==o&&o.call(this)}return s.prototype._final=o,s.prototype._transform=function(u,l,d){throw new r("_transform()")},s.prototype._write=function(u,l,d){const c=this._readableState,h=this._writableState,m=c.length;this._transform(u,l,(_,b)=>{if(_){d(_);return}b!=null&&this.push(b),h.ended||m===c.length||c.length<c.highWaterMark?d():this[i]=d})},s.prototype._read=function(){if(this[i]){const u=this[i];this[i]=null,u()}},vc}var wc,am;function om(){if(am)return wc;am=1;const{ObjectSetPrototypeOf:t}=mt();wc=r;const e=im();t(r.prototype,e.prototype),t(r,e);function r(n){if(!(this instanceof r))return new r(n);e.call(this,n)}return r.prototype._transform=function(n,a,i){i(null,n)},wc}var Ec,sm;function Sc(){if(sm)return Ec;sm=1;const t=Bn(),{ArrayIsArray:e,Promise:r,SymbolAsyncIterator:n,SymbolDispose:a}=mt(),i=ln(),{once:s}=Yt(),o=vi(),f=Wr(),{aggregateTwoErrors:u,codes:{ERR_INVALID_ARG_TYPE:l,ERR_INVALID_RETURN_VALUE:d,ERR_MISSING_ARGS:c,ERR_STREAM_DESTROYED:h,ERR_STREAM_PREMATURE_CLOSE:m},AbortError:_}=Gt(),{validateFunction:b,validateAbortSignal:y}=da(),{isIterable:p,isReadable:g,isReadableNodeStream:w,isNodeStream:S,isTransformStream:I,isWebStream:O,isReadableStream:M,isReadableFinished:D}=zr(),N=globalThis.AbortController||ca().AbortController;let C,R,F;function X(W,z,Q){let A=!1;W.on("close",()=>{A=!0});const P=i(W,{readable:z,writable:Q},k=>{A=!k});return{destroy:k=>{A||(A=!0,o.destroyer(W,k||new h("pipe")))},cleanup:P}}function oe(W){return b(W[W.length-1],"streams[stream.length - 1]"),W.pop()}function J(W){if(p(W))return W;if(w(W))return le(W);throw new l("val",["Readable","Iterable","AsyncIterable"],W)}async function*le(W){R||(R=cf()),yield*R.prototype[n].call(W)}async function ae(W,z,Q,{end:A}){let P,k=null;const G=v=>{if(v&&(P=v),k){const T=k;k=null,T()}},te=()=>new r((v,T)=>{P?T(P):k=()=>{P?T(P):v()}});z.on("drain",G);const E=i(z,{readable:!1},G);try{z.writableNeedDrain&&await te();for await(const v of W)z.write(v)||await te();A&&(z.end(),await te()),Q()}catch(v){Q(P!==v?u(P,v):v)}finally{E(),z.off("drain",G)}}async function Z(W,z,Q,{end:A}){I(z)&&(z=z.writable);const P=z.getWriter();try{for await(const k of W)await P.ready,P.write(k).catch(()=>{});await P.ready,A&&await P.close(),Q()}catch(k){try{await P.abort(k),Q(k)}catch(G){Q(G)}}}function H(...W){return de(W,s(oe(W)))}function de(W,z,Q){if(W.length===1&&e(W[0])&&(W=W[0]),W.length<2)throw new c("streams");const A=new N,P=A.signal,k=Q==null?void 0:Q.signal,G=[];y(k,"options.signal");function te(){pe(new _)}F=F||Yt().addAbortListener;let E;k&&(E=F(k,te));let v,T;const L=[];let Y=0;function ne(Le){pe(Le,--Y===0)}function pe(Le,Te){var Ue;if(Le&&(!v||v.code==="ERR_STREAM_PREMATURE_CLOSE")&&(v=Le),!(!v&&!Te)){for(;L.length;)L.shift()(v);(Ue=E)===null||Ue===void 0||Ue[a](),A.abort(),Te&&(v||G.forEach(_e=>_e()),t.nextTick(z,v,T))}}let we;for(let Le=0;Le<W.length;Le++){const Te=W[Le],Ue=Le<W.length-1,_e=Le>0,Ee=Ue||(Q==null?void 0:Q.end)!==!1,Fe=Le===W.length-1;if(S(Te)){let je=function(Me){Me&&Me.name!=="AbortError"&&Me.code!=="ERR_STREAM_PREMATURE_CLOSE"&&ne(Me)};if(Ee){const{destroy:Me,cleanup:ze}=X(Te,Ue,_e);L.push(Me),g(Te)&&Fe&&G.push(ze)}Te.on("error",je),g(Te)&&Fe&&G.push(()=>{Te.removeListener("error",je)})}if(Le===0)if(typeof Te=="function"){if(we=Te({signal:P}),!p(we))throw new d("Iterable, AsyncIterable or Stream","source",we)}else p(Te)||w(Te)||I(Te)?we=Te:we=f.from(Te);else if(typeof Te=="function"){if(I(we)){var fe;we=J((fe=we)===null||fe===void 0?void 0:fe.readable)}else we=J(we);if(we=Te(we,{signal:P}),Ue){if(!p(we,!0))throw new d("AsyncIterable",`transform[${Le-1}]`,we)}else{var Re;C||(C=om());const je=new C({objectMode:!0}),Me=(Re=we)===null||Re===void 0?void 0:Re.then;if(typeof Me=="function")Y++,Me.call(we,x=>{T=x,x!=null&&je.write(x),Ee&&je.end(),t.nextTick(ne)},x=>{je.destroy(x),t.nextTick(ne,x)});else if(p(we,!0))Y++,ae(we,je,ne,{end:Ee});else if(M(we)||I(we)){const x=we.readable||we;Y++,ae(x,je,ne,{end:Ee})}else throw new d("AsyncIterable or Promise","destination",we);we=je;const{destroy:ze,cleanup:ee}=X(we,!1,!0);L.push(ze),Fe&&G.push(ee)}}else if(S(Te)){if(w(we)){Y+=2;const je=he(we,Te,ne,{end:Ee});g(Te)&&Fe&&G.push(je)}else if(I(we)||M(we)){const je=we.readable||we;Y++,ae(je,Te,ne,{end:Ee})}else if(p(we))Y++,ae(we,Te,ne,{end:Ee});else throw new l("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],we);we=Te}else if(O(Te)){if(w(we))Y++,Z(J(we),Te,ne,{end:Ee});else if(M(we)||p(we))Y++,Z(we,Te,ne,{end:Ee});else if(I(we))Y++,Z(we.readable,Te,ne,{end:Ee});else throw new l("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],we);we=Te}else we=f.from(Te)}return(P!=null&&P.aborted||k!=null&&k.aborted)&&t.nextTick(te),we}function he(W,z,Q,{end:A}){let P=!1;if(z.on("close",()=>{P||Q(new m)}),W.pipe(z,{end:!1}),A){let k=function(){P=!0,z.end()};D(W)?t.nextTick(k):W.once("end",k)}else Q();return i(W,{readable:!0,writable:!1},k=>{const G=W._readableState;k&&k.code==="ERR_STREAM_PREMATURE_CLOSE"&&G&&G.ended&&!G.errored&&!G.errorEmitted?W.once("end",Q).once("error",Q):Q(k)}),i(z,{readable:!1,writable:!0},Q)}return Ec={pipelineImpl:de,pipeline:H},Ec}var Tc,um;function fm(){if(um)return Tc;um=1;const{pipeline:t}=Sc(),e=Wr(),{destroyer:r}=vi(),{isNodeStream:n,isReadable:a,isWritable:i,isWebStream:s,isTransformStream:o,isWritableStream:f,isReadableStream:u}=zr(),{AbortError:l,codes:{ERR_INVALID_ARG_VALUE:d,ERR_MISSING_ARGS:c}}=Gt(),h=ln();return Tc=function(..._){if(_.length===0)throw new c("streams");if(_.length===1)return e.from(_[0]);const b=[..._];if(typeof _[0]=="function"&&(_[0]=e.from(_[0])),typeof _[_.length-1]=="function"){const C=_.length-1;_[C]=e.from(_[C])}for(let C=0;C<_.length;++C)if(!(!n(_[C])&&!s(_[C]))){if(C<_.length-1&&!(a(_[C])||u(_[C])||o(_[C])))throw new d(`streams[${C}]`,b[C],"must be readable");if(C>0&&!(i(_[C])||f(_[C])||o(_[C])))throw new d(`streams[${C}]`,b[C],"must be writable")}let y,p,g,w,S;function I(C){const R=w;w=null,R?R(C):C?S.destroy(C):!N&&!D&&S.destroy()}const O=_[0],M=t(_,I),D=!!(i(O)||f(O)||o(O)),N=!!(a(M)||u(M)||o(M));if(S=new e({writableObjectMode:!!(O!=null&&O.writableObjectMode),readableObjectMode:!!(M!=null&&M.readableObjectMode),writable:D,readable:N}),D){if(n(O))S._write=function(R,F,X){O.write(R,F)?X():y=X},S._final=function(R){O.end(),p=R},O.on("drain",function(){if(y){const R=y;y=null,R()}});else if(s(O)){const F=(o(O)?O.writable:O).getWriter();S._write=async function(X,oe,J){try{await F.ready,F.write(X).catch(()=>{}),J()}catch(le){J(le)}},S._final=async function(X){try{await F.ready,F.close().catch(()=>{}),p=X}catch(oe){X(oe)}}}const C=o(M)?M.readable:M;h(C,()=>{if(p){const R=p;p=null,R()}})}if(N){if(n(M))M.on("readable",function(){if(g){const C=g;g=null,C()}}),M.on("end",function(){S.push(null)}),S._read=function(){for(;;){const C=M.read();if(C===null){g=S._read;return}if(!S.push(C))return}};else if(s(M)){const R=(o(M)?M.readable:M).getReader();S._read=async function(){for(;;)try{const{value:F,done:X}=await R.read();if(!S.push(F))return;if(X){S.push(null);return}}catch{return}}}}return S._destroy=function(C,R){!C&&w!==null&&(C=new l),g=null,y=null,p=null,w===null?R(C):(w=R,n(M)&&r(M,C))},S},Tc}var lm;function V3(){if(lm)return of;lm=1;const t=globalThis.AbortController||ca().AbortController,{codes:{ERR_INVALID_ARG_VALUE:e,ERR_INVALID_ARG_TYPE:r,ERR_MISSING_ARGS:n,ERR_OUT_OF_RANGE:a},AbortError:i}=Gt(),{validateAbortSignal:s,validateInteger:o,validateObject:f}=da(),u=mt().Symbol("kWeak"),l=mt().Symbol("kResistStopPropagation"),{finished:d}=ln(),c=fm(),{addAbortSignalNoValidate:h}=uf(),{isWritable:m,isNodeStream:_}=zr(),{deprecate:b}=Yt(),{ArrayPrototypePush:y,Boolean:p,MathFloor:g,Number:w,NumberIsNaN:S,Promise:I,PromiseReject:O,PromiseResolve:M,PromisePrototypeThen:D,Symbol:N}=mt(),C=N("kEmpty"),R=N("kEof");function F(k,G){if(G!=null&&f(G,"options"),(G==null?void 0:G.signal)!=null&&s(G.signal,"options.signal"),_(k)&&!m(k))throw new e("stream",k,"must be writable");const te=c(this,k);return G!=null&&G.signal&&h(G.signal,te),te}function X(k,G){if(typeof k!="function")throw new r("fn",["Function","AsyncFunction"],k);G!=null&&f(G,"options"),(G==null?void 0:G.signal)!=null&&s(G.signal,"options.signal");let te=1;(G==null?void 0:G.concurrency)!=null&&(te=g(G.concurrency));let E=te-1;return(G==null?void 0:G.highWaterMark)!=null&&(E=g(G.highWaterMark)),o(te,"options.concurrency",1),o(E,"options.highWaterMark",0),E+=te,(async function*(){const T=Yt().AbortSignalAny([G==null?void 0:G.signal].filter(p)),L=this,Y=[],ne={signal:T};let pe,we,fe=!1,Re=0;function Le(){fe=!0,Te()}function Te(){Re-=1,Ue()}function Ue(){we&&!fe&&Re<te&&Y.length<E&&(we(),we=null)}async function _e(){try{for await(let Ee of L){if(fe)return;if(T.aborted)throw new i;try{if(Ee=k(Ee,ne),Ee===C)continue;Ee=M(Ee)}catch(Fe){Ee=O(Fe)}Re+=1,D(Ee,Te,Le),Y.push(Ee),pe&&(pe(),pe=null),!fe&&(Y.length>=E||Re>=te)&&await new I(Fe=>{we=Fe})}Y.push(R)}catch(Ee){const Fe=O(Ee);D(Fe,Te,Le),Y.push(Fe)}finally{fe=!0,pe&&(pe(),pe=null)}}_e();try{for(;;){for(;Y.length>0;){const Ee=await Y[0];if(Ee===R)return;if(T.aborted)throw new i;Ee!==C&&(yield Ee),Y.shift(),Ue()}await new I(Ee=>{pe=Ee})}}finally{fe=!0,we&&(we(),we=null)}}).call(this)}function oe(k=void 0){return k!=null&&f(k,"options"),(k==null?void 0:k.signal)!=null&&s(k.signal,"options.signal"),(async function*(){let te=0;for await(const v of this){var E;if(k!=null&&(E=k.signal)!==null&&E!==void 0&&E.aborted)throw new i({cause:k.signal.reason});yield[te++,v]}}).call(this)}async function J(k,G=void 0){for await(const te of H.call(this,k,G))return!0;return!1}async function le(k,G=void 0){if(typeof k!="function")throw new r("fn",["Function","AsyncFunction"],k);return!await J.call(this,async(...te)=>!await k(...te),G)}async function ae(k,G){for await(const te of H.call(this,k,G))return te}async function Z(k,G){if(typeof k!="function")throw new r("fn",["Function","AsyncFunction"],k);async function te(E,v){return await k(E,v),C}for await(const E of X.call(this,te,G));}function H(k,G){if(typeof k!="function")throw new r("fn",["Function","AsyncFunction"],k);async function te(E,v){return await k(E,v)?E:C}return X.call(this,te,G)}class de extends n{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function he(k,G,te){var E;if(typeof k!="function")throw new r("reducer",["Function","AsyncFunction"],k);te!=null&&f(te,"options"),(te==null?void 0:te.signal)!=null&&s(te.signal,"options.signal");let v=arguments.length>1;if(te!=null&&(E=te.signal)!==null&&E!==void 0&&E.aborted){const pe=new i(void 0,{cause:te.signal.reason});throw this.once("error",()=>{}),await d(this.destroy(pe)),pe}const T=new t,L=T.signal;if(te!=null&&te.signal){const pe={once:!0,[u]:this,[l]:!0};te.signal.addEventListener("abort",()=>T.abort(),pe)}let Y=!1;try{for await(const pe of this){var ne;if(Y=!0,te!=null&&(ne=te.signal)!==null&&ne!==void 0&&ne.aborted)throw new i;v?G=await k(G,pe,{signal:L}):(G=pe,v=!0)}if(!Y&&!v)throw new de}finally{T.abort()}return G}async function W(k){k!=null&&f(k,"options"),(k==null?void 0:k.signal)!=null&&s(k.signal,"options.signal");const G=[];for await(const E of this){var te;if(k!=null&&(te=k.signal)!==null&&te!==void 0&&te.aborted)throw new i(void 0,{cause:k.signal.reason});y(G,E)}return G}function z(k,G){const te=X.call(this,k,G);return(async function*(){for await(const v of te)yield*v}).call(this)}function Q(k){if(k=w(k),S(k))return 0;if(k<0)throw new a("number",">= 0",k);return k}function A(k,G=void 0){return G!=null&&f(G,"options"),(G==null?void 0:G.signal)!=null&&s(G.signal,"options.signal"),k=Q(k),(async function*(){var E;if(G!=null&&(E=G.signal)!==null&&E!==void 0&&E.aborted)throw new i;for await(const T of this){var v;if(G!=null&&(v=G.signal)!==null&&v!==void 0&&v.aborted)throw new i;k--<=0&&(yield T)}}).call(this)}function P(k,G=void 0){return G!=null&&f(G,"options"),(G==null?void 0:G.signal)!=null&&s(G.signal,"options.signal"),k=Q(k),(async function*(){var E;if(G!=null&&(E=G.signal)!==null&&E!==void 0&&E.aborted)throw new i;for await(const T of this){var v;if(G!=null&&(v=G.signal)!==null&&v!==void 0&&v.aborted)throw new i;if(k-- >0&&(yield T),k<=0)return}}).call(this)}return of.streamReturningOperators={asIndexedPairs:b(oe,"readable.asIndexedPairs will be removed in a future version."),drop:A,filter:H,flatMap:z,map:X,take:P,compose:F},of.promiseReturningOperators={every:le,forEach:Z,reduce:he,toArray:W,some:J,find:ae},of}var xc,cm;function dm(){if(cm)return xc;cm=1;const{ArrayPrototypePop:t,Promise:e}=mt(),{isIterable:r,isNodeStream:n,isWebStream:a}=zr(),{pipelineImpl:i}=Sc(),{finished:s}=ln();pm();function o(...f){return new e((u,l)=>{let d,c;const h=f[f.length-1];if(h&&typeof h=="object"&&!n(h)&&!r(h)&&!a(h)){const m=t(f);d=m.signal,c=m.end}i(f,(m,_)=>{m?l(m):u(_)},{signal:d,end:c})})}return xc={finished:s,pipeline:o},xc}var hm;function pm(){if(hm)return Jl.exports;hm=1;const{Buffer:t}=bt(),{ObjectDefineProperty:e,ObjectKeys:r,ReflectApply:n}=mt(),{promisify:{custom:a}}=Yt(),{streamReturningOperators:i,promiseReturningOperators:s}=V3(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:o}}=Gt(),f=fm(),{setDefaultHighWaterMark:u,getDefaultHighWaterMark:l}=ff(),{pipeline:d}=Sc(),{destroyer:c}=vi(),h=ln(),m=dm(),_=zr(),b=Jl.exports=fc().Stream;b.isDestroyed=_.isDestroyed,b.isDisturbed=_.isDisturbed,b.isErrored=_.isErrored,b.isReadable=_.isReadable,b.isWritable=_.isWritable,b.Readable=cf();for(const p of r(i)){let w=function(...S){if(new.target)throw o();return b.Readable.from(n(g,this,S))};const g=i[p];e(w,"name",{__proto__:null,value:g.name}),e(w,"length",{__proto__:null,value:g.length}),e(b.Readable.prototype,p,{__proto__:null,value:w,enumerable:!1,configurable:!0,writable:!0})}for(const p of r(s)){let w=function(...S){if(new.target)throw o();return n(g,this,S)};const g=s[p];e(w,"name",{__proto__:null,value:g.name}),e(w,"length",{__proto__:null,value:g.length}),e(b.Readable.prototype,p,{__proto__:null,value:w,enumerable:!1,configurable:!0,writable:!0})}b.Writable=bc(),b.Duplex=Wr(),b.Transform=im(),b.PassThrough=om(),b.pipeline=d;const{addAbortSignal:y}=uf();return b.addAbortSignal=y,b.finished=h,b.destroy=c,b.compose=f,b.setDefaultHighWaterMark=u,b.getDefaultHighWaterMark=l,e(b,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return m}}),e(d,a,{__proto__:null,enumerable:!0,get(){return m.pipeline}}),e(h,a,{__proto__:null,enumerable:!0,get(){return m.finished}}),b.Stream=b,b._isUint8Array=function(g){return g instanceof Uint8Array},b._uint8ArrayToBuffer=function(g){return t.from(g.buffer,g.byteOffset,g.byteLength)},Jl.exports}var ym;function Tr(){return ym||(ym=1,function(t){const e=pm(),r=dm(),n=e.Readable.destroy;t.exports=e.Readable,t.exports._uint8ArrayToBuffer=e._uint8ArrayToBuffer,t.exports._isUint8Array=e._isUint8Array,t.exports.isDisturbed=e.isDisturbed,t.exports.isErrored=e.isErrored,t.exports.isReadable=e.isReadable,t.exports.Readable=e.Readable,t.exports.Writable=e.Writable,t.exports.Duplex=e.Duplex,t.exports.Transform=e.Transform,t.exports.PassThrough=e.PassThrough,t.exports.addAbortSignal=e.addAbortSignal,t.exports.finished=e.finished,t.exports.destroy=e.destroy,t.exports.destroy=n,t.exports.pipeline=e.pipeline,t.exports.compose=e.compose,Object.defineProperty(e,"promises",{configurable:!0,enumerable:!0,get(){return r}}),t.exports.Stream=e.Stream,t.exports.default=t.exports}(Zl)),Zl.exports}var df=Tr();const Rc=Symbol("iter");function ha(t,e,r=4){if(r===0)return Object.assign(t,e);for(const n in e)t[n]=ha(t[n]||Object.create(null),e[n],r-1);return t}function gm(t,e,r=4){let n=!1;for(const a in t)if(a in e){const i=r===0?null:gm(t[a],e[a],r-1);if(i!==!1)n=n||Object.create(null),n[a]=i;else if(r===3)return!1}return n}function bm(t,e,r=4){let n=!1;for(const a in t)if(!(a in e))n=n||Object.create(null),n[a]=r===0?null:ha({},t[a],r-1);else if(r!==0){const i=bm(t[a],e[a],r-1);if(i!==!1)n=n||Object.create(null),n[a]=i;else if(r===3)return!1}return n}class Ic{constructor(e={}){this._id=1,this._ids=Object.create(null),this._ids[""]=1,this._entities=Object.create(null),this._entities[1]="",this._blankNodeIndex=0,this._factory=e.factory||cr}_termFromId(e){if(e[0]==="."){const r=this._entities,n=e.split(".");return this._factory.quad(this._termFromId(r[n[1]]),this._termFromId(r[n[2]]),this._termFromId(r[n[3]]),n[4]&&this._termFromId(r[n[4]]))}return qn(e,this._factory)}_termToNumericId(e){if(e.termType==="Quad"){const r=this._termToNumericId(e.subject),n=this._termToNumericId(e.predicate),a=this._termToNumericId(e.object);let i;return r&&n&&a&&(oa(e.graph)||(i=this._termToNumericId(e.graph)))&&this._ids[i?`.${r}.${n}.${a}.${i}`:`.${r}.${n}.${a}`]}return this._ids[fn(e)]}_termToNewNumericId(e){const r=e&&e.termType==="Quad"?`.${this._termToNewNumericId(e.subject)}.${this._termToNewNumericId(e.predicate)}.${this._termToNewNumericId(e.object)}${oa(e.graph)?"":`.${this._termToNewNumericId(e.graph)}`}`:fn(e);return this._ids[r]||(this._ids[this._entities[++this._id]=r]=this._id)}createBlankNode(e){let r,n;if(e)for(r=e=`_:${e}`,n=1;this._ids[r];)r=e+n++;else do r=`_:b${this._blankNodeIndex++}`;while(this._ids[r]);return this._ids[r]=++this._id,this._entities[this._id]=r,this._factory.blankNode(r.substr(2))}}class $t{constructor(e,r){this._size=0,this._graphs=Object.create(null),!r&&e&&!e[0]&&(r=e,e=null),r=r||{},this._factory=r.factory||cr,this._entityIndex=r.entityIndex||new Ic({factory:this._factory}),this._entities=this._entityIndex._entities,this._termFromId=this._entityIndex._termFromId.bind(this._entityIndex),this._termToNumericId=this._entityIndex._termToNumericId.bind(this._entityIndex),this._termToNewNumericId=this._entityIndex._termToNewNumericId.bind(this._entityIndex),e&&this.addQuads(e)}get size(){let e=this._size;if(e!==null)return e;e=0;const r=this._graphs;let n,a;for(const i in r)for(const s in n=r[i].subjects)for(const o in a=n[s])e+=Object.keys(a[o]).length;return this._size=e}_addToIndex(e,r,n,a){const i=e[r]||(e[r]={}),s=i[n]||(i[n]={}),o=a in s;return o||(s[a]=null),!o}_removeFromIndex(e,r,n,a){const i=e[r],s=i[n];delete s[a];for(const o in s)return;delete i[n];for(const o in i)return;delete e[r]}*_findInIndex(e,r,n,a,i,s,o,f){let u,l,d;const c=this._entities,h=this._termFromId(c[f]),m={subject:null,predicate:null,object:null};r&&((u=e,e={})[r]=u[r]);for(const _ in e)if(l=e[_]){m[i]=this._termFromId(c[_]),n&&((u=l,l={})[n]=u[n]);for(const b in l)if(d=l[b]){m[s]=this._termFromId(c[b]);const y=a?a in d?[a]:[]:Object.keys(d);for(let p=0;p<y.length;p++)m[o]=this._termFromId(c[y[p]]),yield this._factory.quad(m.subject,m.predicate,m.object,h)}}}_loop(e,r){for(const n in e)r(n)}_loopByKey0(e,r,n){let a,i;if(a=e[r])for(i in a)n(i)}_loopByKey1(e,r,n){let a,i;for(a in e)i=e[a],i[r]&&n(a)}_loopBy2Keys(e,r,n,a){let i,s,o;if((i=e[r])&&(s=i[n]))for(o in s)a(o)}_countInIndex(e,r,n,a){let i=0,s,o,f;r&&((s=e,e={})[r]=s[r]);for(const u in e)if(o=e[u]){n&&((s=o,o={})[n]=s[n]);for(const l in o)(f=o[l])&&(a?a in f&&i++:i+=Object.keys(f).length)}return i}_getGraphs(e){return e=e===""?1:e&&(this._termToNumericId(e)||-1),typeof e!="number"?this._graphs:{[e]:this._graphs[e]}}_uniqueEntities(e){const r=Object.create(null);return n=>{n in r||(r[n]=!0,e(this._termFromId(this._entities[n],this._factory)))}}add(e){return this.addQuad(e),this}addQuad(e,r,n,a){r||(a=e.graph,n=e.object,r=e.predicate,e=e.subject),a=a?this._termToNewNumericId(a):1;let i=this._graphs[a];return i||(i=this._graphs[a]={subjects:{},predicates:{},objects:{}},Object.freeze(i)),e=this._termToNewNumericId(e),r=this._termToNewNumericId(r),n=this._termToNewNumericId(n),this._addToIndex(i.subjects,e,r,n)?(this._addToIndex(i.predicates,r,n,e),this._addToIndex(i.objects,n,e,r),this._size=null,!0):!1}addQuads(e){for(let r=0;r<e.length;r++)this.addQuad(e[r])}delete(e){return this.removeQuad(e),this}has(e,r,n,a){return e&&e.subject&&({subject:e,predicate:r,object:n,graph:a}=e),!this.readQuads(e,r,n,a).next().done}import(e){return e.on("data",r=>{this.addQuad(r)}),e}removeQuad(e,r,n,a){r||({subject:e,predicate:r,object:n,graph:a}=e),a=a?this._termToNumericId(a):1;const i=this._graphs;let s,o,f;if(!(e=e&&this._termToNumericId(e))||!(r=r&&this._termToNumericId(r))||!(n=n&&this._termToNumericId(n))||!(s=i[a])||!(o=s.subjects[e])||!(f=o[r])||!(n in f))return!1;this._removeFromIndex(s.subjects,e,r,n),this._removeFromIndex(s.predicates,r,n,e),this._removeFromIndex(s.objects,n,e,r),this._size!==null&&this._size--;for(e in s.subjects)return!0;return delete i[a],!0}removeQuads(e){for(let r=0;r<e.length;r++)this.removeQuad(e[r])}remove(e){return e.on("data",r=>{this.removeQuad(r)}),e}removeMatches(e,r,n,a){const i=new df.Readable({objectMode:!0}),s=this.readQuads(e,r,n,a);return i._read=o=>{for(;--o>=0;){const{done:f,value:u}=s.next();if(f){i.push(null);return}i.push(u)}},this.remove(i)}deleteGraph(e){return this.removeMatches(null,null,null,e)}getQuads(e,r,n,a){return[...this.readQuads(e,r,n,a)]}*readQuads(e,r,n,a){const i=this._getGraphs(a);let s,o,f,u;if(!(e&&!(o=this._termToNumericId(e))||r&&!(f=this._termToNumericId(r))||n&&!(u=this._termToNumericId(n))))for(const l in i)(s=i[l])&&(o?u?yield*this._findInIndex(s.objects,u,o,f,"object","subject","predicate",l):yield*this._findInIndex(s.subjects,o,f,null,"subject","predicate","object",l):f?yield*this._findInIndex(s.predicates,f,u,null,"predicate","object","subject",l):u?yield*this._findInIndex(s.objects,u,null,null,"object","subject","predicate",l):yield*this._findInIndex(s.subjects,null,null,null,"subject","predicate","object",l))}match(e,r,n,a){return new cn(this,e,r,n,a,{entityIndex:this._entityIndex})}countQuads(e,r,n,a){const i=this._getGraphs(a);let s=0,o,f,u,l;if(e&&!(f=this._termToNumericId(e))||r&&!(u=this._termToNumericId(r))||n&&!(l=this._termToNumericId(n)))return 0;for(const d in i)(o=i[d])&&(e?n?s+=this._countInIndex(o.objects,l,f,u):s+=this._countInIndex(o.subjects,f,u,l):r?s+=this._countInIndex(o.predicates,u,l,f):s+=this._countInIndex(o.objects,l,f,u));return s}forEach(e,r,n,a,i){this.some(s=>(e(s,this),!1),r,n,a,i)}every(e,r,n,a,i){return!this.some(s=>!e(s,this),r,n,a,i)}some(e,r,n,a,i){for(const s of this.readQuads(r,n,a,i))if(e(s))return!0;return!1}getSubjects(e,r,n){const a=[];return this.forSubjects(i=>{a.push(i)},e,r,n),a}forSubjects(e,r,n,a){const i=this._getGraphs(a);let s,o,f;if(e=this._uniqueEntities(e),!(r&&!(o=this._termToNumericId(r))||n&&!(f=this._termToNumericId(n))))for(a in i)(s=i[a])&&(o?f?this._loopBy2Keys(s.predicates,o,f,e):this._loopByKey1(s.subjects,o,e):f?this._loopByKey0(s.objects,f,e):this._loop(s.subjects,e))}getPredicates(e,r,n){const a=[];return this.forPredicates(i=>{a.push(i)},e,r,n),a}forPredicates(e,r,n,a){const i=this._getGraphs(a);let s,o,f;if(e=this._uniqueEntities(e),!(r&&!(o=this._termToNumericId(r))||n&&!(f=this._termToNumericId(n))))for(a in i)(s=i[a])&&(o?f?this._loopBy2Keys(s.objects,f,o,e):this._loopByKey0(s.subjects,o,e):f?this._loopByKey1(s.predicates,f,e):this._loop(s.predicates,e))}getObjects(e,r,n){const a=[];return this.forObjects(i=>{a.push(i)},e,r,n),a}forObjects(e,r,n,a){const i=this._getGraphs(a);let s,o,f;if(e=this._uniqueEntities(e),!(r&&!(o=this._termToNumericId(r))||n&&!(f=this._termToNumericId(n))))for(a in i)(s=i[a])&&(o?f?this._loopBy2Keys(s.subjects,o,f,e):this._loopByKey1(s.objects,o,e):f?this._loopByKey0(s.predicates,f,e):this._loop(s.objects,e))}getGraphs(e,r,n){const a=[];return this.forGraphs(i=>{a.push(i)},e,r,n),a}forGraphs(e,r,n,a){for(const i in this._graphs)this.some(s=>(e(s.graph),!0),r,n,a,this._termFromId(this._entities[i]))}createBlankNode(e){return this._entityIndex.createBlankNode(e)}extractLists({remove:e=!1,ignoreErrors:r=!1}={}){const n={},a=r?()=>!0:(o,f)=>{throw new Error(`${o.value} ${f}`)},i=this.getQuads(null,kt.rdf.rest,kt.rdf.nil,null),s=e?[...i]:[];return i.forEach(o=>{const f=[];let u=!1,l,d;const c=o.graph;let h=o.subject;for(;h&&!u;){const m=this.getQuads(null,null,h,null),_=this.getQuads(h,null,null,null);let b,y=null,p=null,g=null;for(let w=0;w<_.length&&!u;w++)b=_[w],b.graph.equals(c)?l?u=a(h,"has non-list arcs out"):b.predicate.value===kt.rdf.first?y?u=a(h,"has multiple rdf:first arcs"):s.push(y=b):b.predicate.value===kt.rdf.rest?p?u=a(h,"has multiple rdf:rest arcs"):s.push(p=b):m.length?u=a(h,"can't be subject and object"):(l=b,d="subject"):u=a(h,"not confined to single graph");for(let w=0;w<m.length&&!u;++w)b=m[w],l?u=a(h,"can't have coreferences"):b.predicate.value===kt.rdf.rest?g?u=a(h,"has incoming rdf:rest arcs"):g=b:(l=b,d="object");y?f.unshift(y.object):u=a(h,"has no list head"),h=g&&g.subject}u?e=!1:l&&(n[l[d].value]=f)}),e&&this.removeQuads(s),n}addAll(e){if(e instanceof cn&&(e=e.filtered),Array.isArray(e))this.addQuads(e);else if(e instanceof $t&&e._entityIndex===this._entityIndex)e._size!==0&&(this._graphs=ha(this._graphs,e._graphs),this._size=null);else for(const r of e)this.add(r);return this}contains(e){if(e instanceof cn&&(e=e.filtered),e===this)return!0;if(!(e instanceof $t)||this._entityIndex!==e._entityIndex)return e.every(u=>this.has(u));const r=this._graphs,n=e._graphs;let a,i,s,o,f;for(const u in n){if(!(a=r[u]))return!1;a=a.subjects;for(const l in i=n[u].subjects){if(!(s=a[l]))return!1;for(const d in o=i[l]){if(!(f=s[d]))return!1;for(const c in o[d])if(!(c in f))return!1}}}return!0}deleteMatches(e,r,n,a){for(const i of this.match(e,r,n,a))this.removeQuad(i);return this}difference(e){if(e&&e instanceof cn&&(e=e.filtered),e===this)return new $t({entityIndex:this._entityIndex});if(e instanceof $t&&e._entityIndex===this._entityIndex){const r=new $t({entityIndex:this._entityIndex}),n=bm(this._graphs,e._graphs);return n&&(r._graphs=n,r._size=null),r}return this.filter(r=>!e.has(r))}equals(e){return e instanceof cn&&(e=e.filtered),e===this||this.size===e.size&&this.contains(e)}filter(e){const r=new $t({entityIndex:this._entityIndex});for(const n of this)e(n,this)&&r.add(n);return r}intersection(e){if(e instanceof cn&&(e=e.filtered),e===this){const r=new $t({entityIndex:this._entityIndex});return r._graphs=ha(Object.create(null),this._graphs),r._size=this._size,r}else if(e instanceof $t&&this._entityIndex===e._entityIndex){const r=new $t({entityIndex:this._entityIndex}),n=gm(e._graphs,this._graphs);return n&&(r._graphs=n,r._size=null),r}return this.filter(r=>e.has(r))}map(e){const r=new $t({entityIndex:this._entityIndex});for(const n of this)r.add(e(n,this));return r}reduce(e,r){const n=this.readQuads();let a=r===void 0?n.next().value:r;for(const i of n)a=e(a,i,this);return a}toArray(){return this.getQuads()}toCanonical(){throw new Error("not implemented")}toStream(){return this.match()}toString(){return new fa().quadsToString(this)}union(e){const r=new $t({entityIndex:this._entityIndex});return r._graphs=ha(Object.create(null),this._graphs),r._size=this._size,r.addAll(e),r}*[Symbol.iterator](){yield*this.readQuads()}}function jr(t,e,r=0){const n=e[r];if(n&&!(n in t))return!1;let a=!1;for(const i in n?{[n]:t[n]}:t){const s=r===2?null:jr(t[i],e,r+1);s!==!1&&(a=a||Object.create(null),a[i]=s)}return a}class cn extends df.Readable{constructor(e,r,n,a,i,s){super({objectMode:!0}),Object.assign(this,{n3Store:e,subject:r,predicate:n,object:a,graph:i,options:s})}get filtered(){if(!this._filtered){const{n3Store:e,graph:r,object:n,predicate:a,subject:i}=this,s=this._filtered=new $t({factory:e._factory,entityIndex:this.options.entityIndex});let o,f,u;if(i&&!(o=s._termToNumericId(i))||a&&!(f=s._termToNumericId(a))||n&&!(u=s._termToNumericId(n)))return s;const l=e._getGraphs(r);for(const d in l){let c,h,m;!o&&f?(h=jr(l[d].predicates,[f,u,o]))&&(c=jr(l[d].subjects,[o,f,u]),m=jr(l[d].objects,[u,o,f])):u?(m=jr(l[d].objects,[u,o,f]))&&(c=jr(l[d].subjects,[o,f,u]),h=jr(l[d].predicates,[f,u,o])):(c=jr(l[d].subjects,[o,f,u]))&&(h=jr(l[d].predicates,[f,u,o]),m=jr(l[d].objects,[u,o,f])),c&&(s._graphs[d]={subjects:c,predicates:h,objects:m})}s._size=null}return this._filtered}get size(){return this.filtered.size}_read(e){e>0&&!this[Rc]&&(this[Rc]=this[Symbol.iterator]());const r=this[Rc];for(;--e>=0;){const{done:n,value:a}=r.next();if(n){this.push(null);return}this.push(a)}}addAll(e){return this.filtered.addAll(e)}contains(e){return this.filtered.contains(e)}deleteMatches(e,r,n,a){return this.filtered.deleteMatches(e,r,n,a)}difference(e){return this.filtered.difference(e)}equals(e){return this.filtered.equals(e)}every(e,r,n,a,i){return this.filtered.every(e,r,n,a,i)}filter(e){return this.filtered.filter(e)}forEach(e,r,n,a,i){return this.filtered.forEach(e,r,n,a,i)}import(e){return this.filtered.import(e)}intersection(e){return this.filtered.intersection(e)}map(e){return this.filtered.map(e)}some(e,r,n,a,i){return this.filtered.some(e,r,n,a,i)}toCanonical(){return this.filtered.toCanonical()}toStream(){return this._filtered?this._filtered.toStream():this.n3Store.match(this.subject,this.predicate,this.object,this.graph)}union(e){return this._filtered?this._filtered.union(e):this.n3Store.match(this.subject,this.predicate,this.object,this.graph).addAll(e)}toArray(){return this._filtered?this._filtered.toArray():this.n3Store.getQuads(this.subject,this.predicate,this.object,this.graph)}reduce(e,r){return this.filtered.reduce(e,r)}toString(){return new fa().quadsToString(this)}add(e){return this.filtered.add(e)}delete(e){return this.filtered.delete(e)}has(e){return this.filtered.has(e)}match(e,r,n,a){return new cn(this.filtered,e,r,n,a,this.options)}*[Symbol.iterator](){yield*this._filtered||this.n3Store.readQuads(this.subject,this.predicate,this.object,this.graph)}}class mm{dataset(e){return new $t(e)}}function _m(t){const e=[];for(const{subject:r,object:n}of t.match(null,cr.namedNode("http://www.w3.org/2000/10/swap/log#implies"),null,cr.defaultGraph())){const a=[...t.match(null,null,null,r)],i=[...t.match(null,null,null,n)];e.push({premise:a,conclusion:i})}return e}class vm{constructor(e){this._store=e}_add(e,r,n,a,i){this._store._addToIndex(a.subjects,e,r,n)&&(this._store._addToIndex(a.predicates,r,n,e),this._store._addToIndex(a.objects,n,e,r),i())}_evaluatePremise(e,r,n,a=0){let i,s,o,f,u;const[l,d,c]=e.premise[a].value,h=r[e.premise[a].content],m=!(o=l.value);for(o in m?h:{[o]:h[o]})if(f=h[o]){m&&(l.value=Number(o)),i=!(o=d.value);for(o in i?f:{[o]:f[o]})if(u=f[o]){i&&(d.value=Number(o)),s=!(o=c.value);for(o in s?u:{[o]:u[o]})s&&(c.value=Number(o)),a===e.premise.length-1?e.conclusion.forEach(_=>{this._add(_.subject.value,_.predicate.value,_.object.value,r,()=>{n(_)})}):this._evaluatePremise(e,r,n,a+1);s&&(c.value=null)}i&&(d.value=null)}m&&(l.value=null)}_evaluateRules(e,r,n){for(let a=0;a<e.length;a++)this._evaluatePremise(e[a],r,n)}_reasonGraphNaive(e,r){const n=[];function a(o){o.next&&o.next.forEach(f=>{n.push([o.subject.value,o.predicate.value,o.object.value,f])})}const i=o=>{o.forEach(f=>{this._add(f.subject.value,f.predicate.value,f.object.value,r,()=>{a(f)})})};this._evaluateRules(e,r,a);let s;for(;(s=n.pop())!==void 0;){const[o,f,u,l]=s,d=l.basePremise.subject.value;d||(l.basePremise.subject.value=o);const c=l.basePremise.predicate.value;c||(l.basePremise.predicate.value=f);const h=l.basePremise.object.value;h||(l.basePremise.object.value=u),l.premise.length===0?i(l.conclusion):this._evaluatePremise(l,r,a),d||(l.basePremise.subject.value=null),c||(l.basePremise.predicate.value=null),h||(l.basePremise.object.value=null)}}_createRule({premise:e,conclusion:r}){const n={},a=s=>s.termType==="Variable"?n[s.value]=n[s.value]||{}:{value:this._store._termToNewNumericId(s)},i=s=>({subject:a(s.subject),predicate:a(s.predicate),object:a(s.object)});return{premise:e.map(s=>i(s)),conclusion:r.map(s=>i(s)),variables:Object.values(n)}}reason(e){Array.isArray(e)||(e=_m(e)),e=e.map(n=>this._createRule(n));for(const n of e)for(const a of e)for(let i=0;i<a.premise.length;i++){const s=a.premise[i];for(const o of n.conclusion){if(Ac(s.subject,o.subject)&&Ac(s.predicate,o.predicate)&&Ac(s.object,o.object)){const f=new Set,u=[];s.subject.value=s.subject.value||1,s.object.value=s.object.value||1,s.predicate.value=s.predicate.value||1;for(let l=0;l<a.premise.length;l++)l!==i&&u.push(wm(a.premise[l],f));(o.next=o.next||[]).push({premise:u,conclusion:a.conclusion,basePremise:s})}a.variables.forEach(f=>{f.value=null})}}for(const n of e){const a=new Set;n.premise=n.premise.map(i=>wm(i,a))}const r=this._store._getGraphs();for(const n in r)this._reasonGraphNaive(e,r[n]);this._store._size=null}}function wm({subject:t,predicate:e,object:r},n){const a=t.value||n.has(t)||(n.add(t),!1),i=e.value||n.has(e)||(n.add(e),!1),s=r.value||n.has(r)||(n.add(r),!1);return!a&&i?{content:"predicates",value:[e,r,t]}:s?{content:"objects",value:[r,t,e]}:{content:"subjects",value:[t,e,r]}}function Ac(t,e){return t.value===null&&(t.value=e.value),t.value===e.value}class Em extends df.Transform{constructor(e){super({decodeStrings:!0}),this._readableState.objectMode=!0;const r=new rf(e);let n,a;const i={onQuad:(s,o)=>{s&&this.emit("error",s)||o&&this.push(o)},onPrefix:(s,o)=>{this.emit("prefix",s,o)}};e&&e.comments&&(i.onComment=s=>{this.emit("comment",s)}),r.parse({on:(s,o)=>{switch(s){case"data":n=o;break;case"end":a=o;break}}},i),this._transform=(s,o,f)=>{n(s),f()},this._flush=s=>{a(),s()}}import(e){return e.on("data",r=>{this.write(r)}),e.on("end",()=>{this.end()}),e.on("error",r=>{this.emit("error",r)}),this}}class Sm extends df.Transform{constructor(e){super({encoding:"utf8",writableObjectMode:!0});const r=this._writer=new fa({write:(n,a,i)=>{this.push(n),i&&i()},end:n=>{this.push(null),n&&n()}},e);this._transform=(n,a,i)=>{r.addQuad(n,i)},this._flush=n=>{r.end(n)}}import(e){return e.on("data",r=>{this.write(r)}),e.on("end",()=>{this.end()}),e.on("error",r=>{this.emit("error",r)}),e.on("prefix",(r,n)=>{this._writer.addPrefix(r,n)}),this}}var G3={Lexer:zl,Parser:rf,Writer:fa,Store:$t,StoreFactory:mm,EntityIndex:Ic,StreamParser:Em,StreamWriter:Sm,Util:Ib,Reasoner:vm,DataFactory:cr,Term:ir,NamedNode:tf,Literal:bi,BlankNode:Wl,Variable:Kl,DefaultGraph:Ql,Quad:mi,Triple:mi,termFromId:qn,termToId:fn},z3=Object.freeze({__proto__:null,BlankNode:Wl,DataFactory:cr,DefaultGraph:Ql,EntityIndex:Ic,Lexer:zl,Literal:bi,NamedNode:tf,Parser:rf,Quad:mi,Reasoner:vm,Store:$t,StoreFactory:mm,StreamParser:Em,StreamWriter:Sm,Term:ir,Triple:mi,Util:Ib,Variable:Kl,Writer:fa,default:G3,getRulesFromDataset:_m,termFromId:qn,termToId:fn});let Tm=0;class xt{constructor(e){$e(this,"_exec");$e(this,"index");this._exec=e,this.index=Tm,Tm+=1}asMulti(){return new er((e,r,n)=>this.execute(e,n))}and(...e){return new xt((r,n,a)=>{const i=this.execute(r,a),s=e.map(o=>o.execute(r,a));return[i,...s]})}orM(...e){return new er((r,n,a)=>[this,...e].flatMap(s=>{try{return[s.execute(r,a)]}catch{return[]}}))}or(...e){return new xt((r,n,a)=>{try{return this.execute(r,a)}catch{for(let s=0;s<e.length;s++)try{return e[s].execute(r,a)}catch{}}throw"nope"})}map(e){return new xt((r,n,a)=>{const i=this.execute(r,a);return e(i)})}then(e){return new xt((r,n,a)=>{const i=this.execute(r,a);return e.execute(i,a)})}execute(e,r=[]){return r[this.index]||(r[this.index]={}),this._exec(e,r[this.index],r)}}class er extends xt{one(e){return new xt((r,n,a)=>this.execute(r,a)[0]||e)}expectOne(){return new xt((e,r,n)=>{const a=this.execute(e,n);if(a.length<1)throw"Nope";return a[0]})}thenAll(e){return new er((r,n,a)=>this.execute(r,a).flatMap(s=>{try{return[e.execute(s,a)]}catch{return[]}}))}thenSome(e){return this.thenAll(e)}thenFlat(e){return new er((r,n,a)=>this.execute(r,a).flatMap(s=>e.execute(s,a)))}mapAll(e){return new er((r,n,a)=>this.execute(r,a).map(e))}orAll(...e){return new er((r,n,a)=>{const i=[];try{i.push(...this.execute(r,a))}catch{}for(let s=0;s<e.length;s++)try{i.push(...e[s].execute(r,a))}catch{}return i})}filter(e){return new er((r,n,a)=>this.execute(r,a).filter(e))}reduce(e,r){return new xt((n,a,i)=>this.and(r).map(([o,f])=>o.reduce((u,l)=>e.execute([l,u],i),f)).execute(n,i))}}function dr(t){return new er(({quads:e,id:r})=>e.filter(a=>a.subject.equals(r)&&(!t||a.predicate.equals(t))).map(a=>({quads:e,id:a.object})))}function Oc(t){return new er(({quads:e,id:r})=>e.filter(a=>a.object.equals(r)&&(!t||a.predicate.equals(t))).map(a=>({quads:e,id:a.subject})))}new xt(({id:t,quads:e})=>({id:t.subject,quads:e})),new xt(({id:t,quads:e})=>({id:t.predicate,quads:e})),new xt(({id:t,quads:e})=>({id:t.object,quads:e}));function W3(){return new xt(t=>t)}var pa={},Nc={},xm;function K3(){return xm||(xm=1,Nc.__esModule=!0),Nc}var Pc={},Rm;function Q3(){return Rm||(Rm=1,Pc.__esModule=!0),Pc}var Dc={},Im;function X3(){return Im||(Im=1,Dc.__esModule=!0),Dc}var Cc={},Am;function Z3(){return Am||(Am=1,Cc.__esModule=!0),Cc}var Lc={},Om;function J3(){return Om||(Om=1,function(t){t.__esModule=!0,t.RelationType=void 0,function(e){e.Relation="https://w3id.org/tree#Relation",e.Substring="https://w3id.org/tree#SubstringRelation",e.Prefix="https://w3id.org/tree#PrefixRelation",e.Suffix="https://w3id.org/tree#SuffixRelation",e.GreaterThan="https://w3id.org/tree#GreaterThanRelation",e.GreaterThanOrEqualTo="https://w3id.org/tree#GreaterThanOrEqualToRelation",e.LessThan="https://w3id.org/tree#LessThanRelation",e.LessThanOrEqualTo="https://w3id.org/tree#LessThanOrEqualToRelation",e.EqualThan="https://w3id.org/tree#EqualThanRelation",e.GeospatiallyContains="https://w3id.org/tree#GeospatiallyContainsRelation"}(t.RelationType||(t.RelationType={}))}(Lc)),Lc}var kn={},hf={exports:{}},Y3=hf.exports,Nm;function eN(){return Nm||(Nm=1,function(t){(function(e,r){t.exports?t.exports=r():e.log=r()})(Y3,function(){var e=function(){},r="undefined",n=typeof window!==r&&typeof window.navigator!==r&&/Trident\/|MSIE /.test(window.navigator.userAgent),a=["trace","debug","info","warn","error"],i={},s=null;function o(_,b){var y=_[b];if(typeof y.bind=="function")return y.bind(_);try{return Function.prototype.bind.call(y,_)}catch{return function(){return Function.prototype.apply.apply(y,[_,arguments])}}}function f(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function u(_){return _==="debug"&&(_="log"),typeof console===r?!1:_==="trace"&&n?f:console[_]!==void 0?o(console,_):console.log!==void 0?o(console,"log"):e}function l(){for(var _=this.getLevel(),b=0;b<a.length;b++){var y=a[b];this[y]=b<_?e:this.methodFactory(y,_,this.name)}if(this.log=this.debug,typeof console===r&&_<this.levels.SILENT)return"No console available for logging"}function d(_){return function(){typeof console!==r&&(l.call(this),this[_].apply(this,arguments))}}function c(_,b,y){return u(_)||d.apply(this,arguments)}function h(_,b){var y=this,p,g,w,S="loglevel";typeof _=="string"?S+=":"+_:typeof _=="symbol"&&(S=void 0);function I(C){var R=(a[C]||"silent").toUpperCase();if(!(typeof window===r||!S)){try{window.localStorage[S]=R;return}catch{}try{window.document.cookie=encodeURIComponent(S)+"="+R+";"}catch{}}}function O(){var C;if(!(typeof window===r||!S)){try{C=window.localStorage[S]}catch{}if(typeof C===r)try{var R=window.document.cookie,F=encodeURIComponent(S),X=R.indexOf(F+"=");X!==-1&&(C=/^([^;]+)/.exec(R.slice(X+F.length+1))[1])}catch{}return y.levels[C]===void 0&&(C=void 0),C}}function M(){if(!(typeof window===r||!S)){try{window.localStorage.removeItem(S)}catch{}try{window.document.cookie=encodeURIComponent(S)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}function D(C){var R=C;if(typeof R=="string"&&y.levels[R.toUpperCase()]!==void 0&&(R=y.levels[R.toUpperCase()]),typeof R=="number"&&R>=0&&R<=y.levels.SILENT)return R;throw new TypeError("log.setLevel() called with invalid level: "+C)}y.name=_,y.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},y.methodFactory=b||c,y.getLevel=function(){return w??g??p},y.setLevel=function(C,R){return w=D(C),R!==!1&&I(w),l.call(y)},y.setDefaultLevel=function(C){g=D(C),O()||y.setLevel(C,!1)},y.resetLevel=function(){w=null,M(),l.call(y)},y.enableAll=function(C){y.setLevel(y.levels.TRACE,C)},y.disableAll=function(C){y.setLevel(y.levels.SILENT,C)},y.rebuild=function(){if(s!==y&&(p=D(s.getLevel())),l.call(y),s===y)for(var C in i)i[C].rebuild()},p=D(s?s.getLevel():"WARN");var N=O();N!=null&&(w=D(N)),l.call(y)}s=new h,s.getLogger=function(b){if(typeof b!="symbol"&&typeof b!="string"||b==="")throw new TypeError("You must supply a name when creating a logger.");var y=i[b];return y||(y=i[b]=new h(b,s.methodFactory)),y};var m=typeof window!==r?window.log:void 0;return s.noConflict=function(){return typeof window!==r&&window.log===s&&(window.log=m),s},s.getLoggers=function(){return i},s.default=s,s})}(hf)),hf.exports}var pf={exports:{}},tN=pf.exports,Pm;function rN(){return Pm||(Pm=1,function(t){(function(e,r){t.exports?t.exports=r():e.prefix=r(e)})(tN,function(e){var r=function(l){for(var d=1,c=arguments.length,h;d<c;d++)for(h in arguments[d])Object.prototype.hasOwnProperty.call(arguments[d],h)&&(l[h]=arguments[d][h]);return l},n={template:"[%t] %l:",levelFormatter:function(l){return l.toUpperCase()},nameFormatter:function(l){return l||"root"},timestampFormatter:function(l){return l.toTimeString().replace(/.*(\d{2}:\d{2}:\d{2}).*/,"$1")},format:void 0},a,i={},s=function(l){if(!l||!l.getLogger)throw new TypeError("Argument is not a root logger");a=l},o=function(l,d){if(!l||!l.setLevel)throw new TypeError("Argument is not a logger");var c=l.methodFactory,h=l.name||"",m=i[h]||i[""]||n;function _(b,y,p){var g=c(b,y,p),w=i[p]||i[""],S=w.template.indexOf("%t")!==-1,I=w.template.indexOf("%l")!==-1,O=w.template.indexOf("%n")!==-1;return function(){for(var M="",D=arguments.length,N=Array(D),C=0;C<D;C++)N[C]=arguments[C];if(h||!i[p]){var R=w.timestampFormatter(new Date),F=w.levelFormatter(b),X=w.nameFormatter(p);w.format?M+=w.format(F,X,R):(M+=w.template,S&&(M=M.replace(/%t/,R)),I&&(M=M.replace(/%l/,F)),O&&(M=M.replace(/%n/,X))),N.length&&typeof N[0]=="string"?N[0]=M+" "+N[0]:N.unshift(M)}g.apply(void 0,N)}}return i[h]||(l.methodFactory=_),d=d||{},d.template&&(d.format=void 0),i[h]=r({},m,d),l.setLevel(l.getLevel()),a||l.warn("It is necessary to call the function reg() of loglevel-plugin-prefix before calling apply. From the next release, it will throw an error. See more: https://github.com/kutuluk/loglevel-plugin-prefix/blob/master/README.md"),l},f={reg:s,apply:o},u;return e&&(u=e.prefix,f.noConflict=function(){return e.prefix===f&&(e.prefix=u),f}),f})}(pf)),pf.exports}var Dm;function nN(){if(Dm)return kn;Dm=1,kn.__esModule=!0,kn.getLogger=kn.LoggerBrowser=void 0;var t=eN(),e=rN(),r=function(){function i(s,o){var f=typeof s=="string"?s:s.constructor.name;o=o&&n(o)?o:"info",t.setDefaultLevel("info"),o&&n(o)&&t.setLevel(o),e.reg(t),e.apply(t,{template:"%t [%n] %l:",levelFormatter:function(u){return u},nameFormatter:function(u){return u||"global"},timestampFormatter:function(u){return u.toISOString()}}),this.logger=t.getLogger(f)}return i.prototype.error=function(s){this.logger.error(s)},i.prototype.warn=function(s){this.logger.warn(s)},i.prototype.info=function(s){this.logger.info(s)},i.prototype.debug=function(s){this.logger.debug(s)},i.prototype.trace=function(s){this.logger.trace(s)},i}();kn.LoggerBrowser=r;function n(i){return i=i.toUpperCase(),Object.keys(t.levels).includes(i)}var a=function(i){return new r(i,"info")};return kn.getLogger=a,kn}var tt={},ya={},ga={},Cm;function Lm(){if(Cm)return ga;Cm=1,Object.defineProperty(ga,"__esModule",{value:!0}),ga.BlankNode=void 0;class t{constructor(r){this.termType="BlankNode",this.value=r}equals(r){return!!r&&r.termType==="BlankNode"&&r.value===this.value}}return ga.BlankNode=t,ga}var ba={},ma={},Fm;function Mm(){if(Fm)return ma;Fm=1,Object.defineProperty(ma,"__esModule",{value:!0}),ma.DefaultGraph=void 0;class t{constructor(){this.termType="DefaultGraph",this.value=""}equals(r){return!!r&&r.termType==="DefaultGraph"}}return ma.DefaultGraph=t,t.INSTANCE=new t,ma}var _a={},va={},jm;function Fc(){if(jm)return va;jm=1,Object.defineProperty(va,"__esModule",{value:!0}),va.NamedNode=void 0;class t{constructor(r){this.termType="NamedNode",this.value=r}equals(r){return!!r&&r.termType==="NamedNode"&&r.value===this.value}}return va.NamedNode=t,va}var qm;function Bm(){if(qm)return _a;qm=1,Object.defineProperty(_a,"__esModule",{value:!0}),_a.Literal=void 0;const t=Fc();class e{constructor(n,a){this.termType="Literal",this.value=n,typeof a=="string"?(this.language=a,this.datatype=e.RDF_LANGUAGE_STRING):a?(this.language="",this.datatype=a):(this.language="",this.datatype=e.XSD_STRING)}equals(n){return!!n&&n.termType==="Literal"&&n.value===this.value&&n.language===this.language&&this.datatype.equals(n.datatype)}}return _a.Literal=e,e.RDF_LANGUAGE_STRING=new t.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),e.XSD_STRING=new t.NamedNode("http://www.w3.org/2001/XMLSchema#string"),_a}var wa={},km;function $m(){if(km)return wa;km=1,Object.defineProperty(wa,"__esModule",{value:!0}),wa.Quad=void 0;class t{constructor(r,n,a,i){this.termType="Quad",this.value="",this.subject=r,this.predicate=n,this.object=a,this.graph=i}equals(r){return!!r&&(r.termType==="Quad"||!r.termType)&&this.subject.equals(r.subject)&&this.predicate.equals(r.predicate)&&this.object.equals(r.object)&&this.graph.equals(r.graph)}}return wa.Quad=t,wa}var Ea={},Um;function Hm(){if(Um)return Ea;Um=1,Object.defineProperty(Ea,"__esModule",{value:!0}),Ea.Variable=void 0;class t{constructor(r){this.termType="Variable",this.value=r}equals(r){return!!r&&r.termType==="Variable"&&r.value===this.value}}return Ea.Variable=t,Ea}var Vm;function iN(){if(Vm)return ba;Vm=1,Object.defineProperty(ba,"__esModule",{value:!0}),ba.DataFactory=void 0;const t=Lm(),e=Mm(),r=Bm(),n=Fc(),a=$m(),i=Hm();let s=0;class o{constructor(u){this.blankNodeCounter=0,u=u||{},this.blankNodePrefix=u.blankNodePrefix||`df_${s++}_`}namedNode(u){return new n.NamedNode(u)}blankNode(u){return new t.BlankNode(u||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(u,l){return new r.Literal(u,l)}variable(u){return new i.Variable(u)}defaultGraph(){return e.DefaultGraph.INSTANCE}quad(u,l,d,c){return new a.Quad(u,l,d,c||this.defaultGraph())}fromTerm(u){switch(u.termType){case"NamedNode":return this.namedNode(u.value);case"BlankNode":return this.blankNode(u.value);case"Literal":return u.language?this.literal(u.value,u.language):u.datatype.equals(r.Literal.XSD_STRING)?this.literal(u.value):this.literal(u.value,this.fromTerm(u.datatype));case"Variable":return this.variable(u.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(u.subject),this.fromTerm(u.predicate),this.fromTerm(u.object),this.fromTerm(u.graph))}}fromQuad(u){return this.fromTerm(u)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return ba.DataFactory=o,ba}var Gm;function Pt(){return Gm||(Gm=1,function(t){var e=ya.__createBinding||(Object.create?function(n,a,i,s){s===void 0&&(s=i);var o=Object.getOwnPropertyDescriptor(a,i);(!o||("get"in o?!a.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,s,o)}:function(n,a,i,s){s===void 0&&(s=i),n[s]=a[i]}),r=ya.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&e(a,n,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(Lm(),t),r(iN(),t),r(Mm(),t),r(Bm(),t),r(Fc(),t),r($m(),t),r(Hm(),t)}(ya)),ya}var zm;function aN(){if(zm)return tt;zm=1;var t=tt.__spreadArray||function(o,f,u){if(u||arguments.length===2)for(var l=0,d=f.length,c;l<d;l++)(c||!(l in f))&&(c||(c=Array.prototype.slice.call(f,0,l)),c[l]=f[l]);return o.concat(c||Array.prototype.slice.call(f))};tt.__esModule=!0,tt.EX=tt.SHACL=tt.VOID=tt.PPLAN=tt.PROV=tt.SDS=tt.LDES=tt.TREE=tt.XSD=tt.RDFS=tt.RDF=tt.FOAF=tt.DC=tt.createUriAndTermNamespace=tt.createTermNamespace=tt.createUriNamespace=tt.createNamespace=void 0;var e=Pt(),r=new e.DataFactory;function n(o,f){for(var u=[],l=2;l<arguments.length;l++)u[l-2]=arguments[l];var d={};d.namespace=f(o),d.custom=function(_){return f(o+_)};for(var c=0,h=u;c<h.length;c++){var m=h[c];d[m]=f("".concat(o).concat(m))}return d}tt.createNamespace=n;function a(o){for(var f=[],u=1;u<arguments.length;u++)f[u-1]=arguments[u];return n.apply(void 0,t([o,function(l){return l}],f,!1))}tt.createUriNamespace=a;function i(o){for(var f=[],u=1;u<arguments.length;u++)f[u-1]=arguments[u];return n.apply(void 0,t([o,r.namedNode],f,!1))}tt.createTermNamespace=i;function s(o){for(var f=[],u=1;u<arguments.length;u++)f[u-1]=arguments[u];return Object.assign(a.apply(void 0,t([o],f,!1)),{terms:i.apply(void 0,t([o],f,!1))})}return tt.createUriAndTermNamespace=s,tt.DC=s("http://purl.org/dc/terms/","description","modified","title"),tt.FOAF=s("http://xmlns.com/foaf/0.1/","Agent"),tt.RDF=s("http://www.w3.org/1999/02/22-rdf-syntax-ns#","type","Class","Property","nil","rest","first"),tt.RDFS=s("http://www.w3.org/2000/01/rdf-schema#","label","comment","domain","range","isDefinedBy","Class","subClassOf"),tt.XSD=s("http://www.w3.org/2001/XMLSchema#","dateTime","integer","string"),tt.TREE=s("https://w3id.org/tree#","Collection","Relation","Node","Member","member","view","value","relation","PrefixRelation","SubstringRelation","SuffixRelation","GreaterThanRelation","GreaterThanOrEqualToRelation","LessThanRelation","LessThanOrEqualToRelation","EqualToRelation","GeospatiallyContainsRelation","path","node","shape","search","ConditionalImport","import","importStream","remainingItems","zoom","latitudeTile","longitudeTile"),tt.LDES=s("https://w3id.org/ldes#","EventStream","timestampPath","versionOfPath","DurationAgoPolicy","Bucketization","retentionPolicy","amount","bucket","bucketProperty","bucketType","LatestVersionSubset","BucketizeStrategy"),tt.SDS=s("https://w3id.org/sds#","Member","Record","ImmutableMember","shape","carries","dataset","Stream","payload","bucket","relationType","relationBucket","relationValue","relationPath","stream","relation"),tt.PROV=s("http://www.w3.org/ns/prov#","used","startedAtTime","wasGeneratedBy"),tt.PPLAN=s("http://purl.org/net/p-plan#","Activity"),tt.VOID=s("http://rdfs.org/ns/void#","Dataset","DatasetDescription","Linkset","TechnicalFeature","feature","sparqlEndpoint","dataDump","rootResource","exampleResource","uriLookupEndpoint","openSearchDescription","uriSpace","uriRegexPattern","vocabulary","subset","propertyPartition","triples","entities","class","classes","classPartition","property","properties","distinctSubjects","distinctObjects","documents","target","subjectsTarget","objectsTarget","linkPredicate","inDataset"),tt.SHACL=s("http://www.w3.org/ns/shacl#","NodeShape","targetClass","property","path","name","alternativePath","datatype","nodeKind","pattern","flags","minExclusive","minInclusive","maxExclusive","maxInclusive","not","and","or","xone","in","hasValue","defaultValue","minCount","maxCount"),tt.EX=s("http://example.org/ns#"),tt}var Wm;function Km(){return Wm||(Wm=1,function(t){var e=pa.__createBinding||(Object.create?function(a,i,s,o){o===void 0&&(o=s),Object.defineProperty(a,o,{enumerable:!0,get:function(){return i[s]}})}:function(a,i,s,o){o===void 0&&(o=s),a[o]=i[s]}),r=pa.__exportStar||function(a,i){for(var s in a)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,a,s)};t.__esModule=!0,t.getLogger=t.Logger=t.LoggerBrowser=void 0,r(K3(),t),r(Q3(),t),r(X3(),t),r(Z3(),t),r(J3(),t);var n=nN();e(t,n,"LoggerBrowser"),e(t,n,"LoggerBrowser","Logger"),e(t,n,"getLogger"),r(aN(),t)}(pa)),pa}var Qe=Km(),Sa={},Ta={},Qm;function Xm(){if(Qm)return Ta;Qm=1,Object.defineProperty(Ta,"__esModule",{value:!0}),Ta.BlankNode=void 0;let t=class{constructor(r){this.termType="BlankNode",this.value=r}equals(r){return!!r&&r.termType==="BlankNode"&&r.value===this.value}};return Ta.BlankNode=t,Ta}var xa={},Ra={},Zm;function Jm(){if(Zm)return Ra;Zm=1,Object.defineProperty(Ra,"__esModule",{value:!0}),Ra.DefaultGraph=void 0;let t=class{constructor(){this.termType="DefaultGraph",this.value=""}equals(r){return!!r&&r.termType==="DefaultGraph"}};return Ra.DefaultGraph=t,t.INSTANCE=new t,Ra}var Ia={},Aa={},Ym;function Mc(){if(Ym)return Aa;Ym=1,Object.defineProperty(Aa,"__esModule",{value:!0}),Aa.NamedNode=void 0;let t=class{constructor(r){this.termType="NamedNode",this.value=r}equals(r){return!!r&&r.termType==="NamedNode"&&r.value===this.value}};return Aa.NamedNode=t,Aa}var e_;function t_(){if(e_)return Ia;e_=1,Object.defineProperty(Ia,"__esModule",{value:!0}),Ia.Literal=void 0;const t=Mc();let e=class Wu{constructor(n,a){this.termType="Literal",this.value=n,typeof a=="string"?(this.language=a,this.datatype=Wu.RDF_LANGUAGE_STRING,this.direction=""):a?"termType"in a?(this.language="",this.datatype=a,this.direction=""):(this.language=a.language,this.datatype=a.direction?Wu.RDF_DIRECTIONAL_LANGUAGE_STRING:Wu.RDF_LANGUAGE_STRING,this.direction=a.direction||""):(this.language="",this.datatype=Wu.XSD_STRING,this.direction="")}equals(n){return!!n&&n.termType==="Literal"&&n.value===this.value&&n.language===this.language&&(n.direction===this.direction||!n.direction&&this.direction==="")&&this.datatype.equals(n.datatype)}};return Ia.Literal=e,e.RDF_LANGUAGE_STRING=new t.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),e.RDF_DIRECTIONAL_LANGUAGE_STRING=new t.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#dirLangString"),e.XSD_STRING=new t.NamedNode("http://www.w3.org/2001/XMLSchema#string"),Ia}var Oa={},r_;function n_(){if(r_)return Oa;r_=1,Object.defineProperty(Oa,"__esModule",{value:!0}),Oa.Quad=void 0;let t=class{constructor(r,n,a,i){this.termType="Quad",this.value="",this.subject=r,this.predicate=n,this.object=a,this.graph=i}equals(r){return!!r&&(r.termType==="Quad"||!r.termType)&&this.subject.equals(r.subject)&&this.predicate.equals(r.predicate)&&this.object.equals(r.object)&&this.graph.equals(r.graph)}};return Oa.Quad=t,Oa}var Na={},i_;function a_(){if(i_)return Na;i_=1,Object.defineProperty(Na,"__esModule",{value:!0}),Na.Variable=void 0;let t=class{constructor(r){this.termType="Variable",this.value=r}equals(r){return!!r&&r.termType==="Variable"&&r.value===this.value}};return Na.Variable=t,Na}var o_;function oN(){if(o_)return xa;o_=1,Object.defineProperty(xa,"__esModule",{value:!0}),xa.DataFactory=void 0;const t=Xm(),e=Jm(),r=t_(),n=Mc(),a=n_(),i=a_();let s=0,o=class{constructor(u){this.blankNodeCounter=0,u=u||{},this.blankNodePrefix=u.blankNodePrefix||`df_${s++}_`}namedNode(u){return new n.NamedNode(u)}blankNode(u){return new t.BlankNode(u||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(u,l){return new r.Literal(u,l)}variable(u){return new i.Variable(u)}defaultGraph(){return e.DefaultGraph.INSTANCE}quad(u,l,d,c){return new a.Quad(u,l,d,c||this.defaultGraph())}fromTerm(u){switch(u.termType){case"NamedNode":return this.namedNode(u.value);case"BlankNode":return this.blankNode(u.value);case"Literal":return u.language?this.literal(u.value,u.language):u.datatype.equals(r.Literal.XSD_STRING)?this.literal(u.value):this.literal(u.value,this.fromTerm(u.datatype));case"Variable":return this.variable(u.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(u.subject),this.fromTerm(u.predicate),this.fromTerm(u.object),this.fromTerm(u.graph))}}fromQuad(u){return this.fromTerm(u)}resetBlankNodeCounter(){this.blankNodeCounter=0}};return xa.DataFactory=o,xa}var s_;function sN(){return s_||(s_=1,function(t){var e=Sa.__createBinding||(Object.create?function(n,a,i,s){s===void 0&&(s=i);var o=Object.getOwnPropertyDescriptor(a,i);(!o||("get"in o?!a.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,s,o)}:function(n,a,i,s){s===void 0&&(s=i),n[s]=a[i]}),r=Sa.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&e(a,n,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(Xm(),t),r(oN(),t),r(Jm(),t),r(t_(),t),r(Mc(),t),r(n_(),t),r(a_(),t)}(Sa)),Sa}var jc=sN();Qe.createTermNamespace("http://www.w3.org/2000/01/rdf-schema#","subClassOf");const Pa=Qe.createTermNamespace("http://www.w3.org/ns/shacl#","Shape","NodeShape","PropertyShape","targetNode","targetClass","targetSubjectsOf","targetObjectsOf","property","path","class","name","description","defaultValue","alternativePath","zeroOrMorePath","oneOrMorePath","zeroOrOnePath","inversePath","minCount","maxCount","datatype"),Da=Qe.createUriAndTermNamespace("https://w3id.org/rdf-lens/ontology#","CBD","PathLens","Context","TypedExtract","EnvVariable","envKey","envDefault","datatype");var uN={};const{literal:fN,quad:cj}=new jc.DataFactory,lN=dr(Qe.RDF.terms.first).expectOne().and(dr(Qe.RDF.terms.rest).expectOne()),yf=new xt((t,e,r)=>{if(t.id.equals(Qe.RDF.terms.nil))return[];const[n,a]=lN.execute(t,r),i=yf.execute(a,r);return i.unshift(n.id),i}),cN=new xt((t,e,r)=>{const n=yf.execute(t,r),a=n.map(s=>Bc.execute({id:s,quads:t.quads}));if(a.length===0)return new er(s=>[s]);let i=a[0];for(let s=1;s<n.length;s++)i=i.thenFlat(a[s]);return i}),dN=new xt((t,e,r)=>{const a=dr(Pa.alternativePath).one().then(yf).execute(t,r).map(i=>Bc.execute({id:i,quads:t.quads},r));return a[0].orAll(...a.slice(1))}),hN=gN(Qe.XSD.terms.custom("iri")).map(dr),pN=dr(Pa.inversePath).one().then(new xt((t,e,r)=>{const n=yf.execute(t,r);if(n.length===0)return new er(i=>[i]);n.reverse();let a=Oc(n[0]);for(let i=1;i<n.length;i++)a=a.thenFlat(Oc(n[i]));return a}).or(new xt(t=>Oc(t.id))));function qc(t,e,r){return dr(t).one().then(new xt((n,a,i)=>Bc.execute(n,i))).map(n=>new er((a,i,s)=>{const o=[];let f=[a],u=0;for(e==0&&o.push(a);f.length>0;){u+=1;const l=f.slice();f=[];for(const d of l)try{const c=n.execute(d,s);console.log("adding ",c.length,"news"),f.push(...c),u>=e&&(!r||u<=r)&&o.push(d)}catch(c){console.log(c),u>=e&&(!r||u<=r)&&o.push(d);break}}return o}))}const Bc=cN.or(dN,pN,qc(Pa.zeroOrMorePath,0),qc(Pa.zeroOrMorePath,1),qc(Pa.zeroOrOnePath,0,1),hN);function u_(t,e){return t.equals(Qe.XSD.terms.integer)||t.equals(Qe.XSD.terms.custom("float"))||t.equals(Qe.XSD.terms.custom("double"))||t.equals(Qe.XSD.terms.custom("decimal"))?+e.value:t.equals(Qe.XSD.terms.string)?e.value:t.equals(Qe.XSD.terms.dateTime)?new Date(e.value):t.equals(Qe.XSD.terms.custom("boolean"))?e.value==="true":t.equals(Qe.XSD.terms.custom("iri"))?new jc.NamedNode(e.value):t.equals(Qe.XSD.terms.custom("anyURI"))?new jc.NamedNode(e.value):e}function yN(t){const e=dr(Qe.RDF.terms.type).thenSome(new xt(({id:i})=>{if(!i.equals(Da.terms.EnvVariable))throw"expected type "+Da.EnvVariable;return{checked:!0}})).expectOne(),r=dr(Da.terms.envKey).one().map(({id:i})=>({key:i.value})),n=dr(Da.terms.envDefault).one(void 0).map(i=>({defaultValue:i==null?void 0:i.id.value})),a=dr(Da.terms.datatype).one(void 0).map(i=>({dt:i==null?void 0:i.id}));return e.and(r,n,a).map(([i,{key:s},{defaultValue:o},{dt:f}])=>{const u=uN[s]||o,l=t||f||Qe.XSD.terms.custom("literal");if(u)return u_(l,fN(u));throw"Nothing set for ENV "+s+". No default was set either!"})}function gN(t){return yN(t).or(W3().map(e=>u_(t,e.id)))}new er(({id:t,quads:e})=>{const r=new Set,n=[t],a=[];let i=n.pop();for(;i;){const s=e.filter(o=>o.subject.equals(i));a.push(...s);for(const o of s){const f=o.object;f.termType==="BlankNode"&&(r.has(f.value)||(r.add(f.value),n.push(f)))}i=n.pop()}return a});var Ca={},La={},Fa={},kc={},Ma={},f_;function bN(){if(f_)return Ma;f_=1,Object.defineProperty(Ma,"__esModule",{value:!0}),Ma.LinkedList=void 0;class t{constructor(){this._length=0,this._head=null,this._tail=null}get length(){return this._length}get first(){var r;return(r=this._head)===null||r===void 0?void 0:r.value}get last(){var r;return(r=this._tail)===null||r===void 0?void 0:r.value}get empty(){return this._head===null}push(r){const n={value:r,next:null};this._tail===null?this._head=this._tail=n:this._tail.next=this._tail=n,this._length++}shift(){if(this._head===null)return;const{value:r,next:n}=this._head;return this._head=n,n===null&&(this._tail=null),this._length--,r}clear(){this._length=0,this._head=this._tail=null}}return Ma.LinkedList=t,Ma}var ja={},l_;function mN(){if(l_)return ja;l_=1,Object.defineProperty(ja,"__esModule",{value:!0}),ja.createTaskScheduler=void 0;const t=Promise.resolve(void 0);function e(){const r=typeof queueMicrotask=="function"?queueMicrotask:s=>t.then(s),n=typeof setImmediate=="function"?setImmediate:s=>setTimeout(s,0);let a=0,i=null;return s=>{i!==null?i.push(s):++a<100?r(s):(i=[s],n(()=>{for(const o of i)r(o);i=null,a=0}))}}return ja.createTaskScheduler=e,ja}var c_;function d_(){return c_||(c_=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isIterator=t.isIterable=t.isSourceExpression=t.isPromise=t.isEventEmitter=t.isFunction=t.range=t.union=t.fromIterable=t.fromIterator=t.fromArray=t.single=t.empty=t.wrap=t.WrappingIterator=t.ClonedIterator=t.UnionIterator=t.MultiTransformIterator=t.SimpleTransformIterator=t.TransformIterator=t.BufferedIterator=t.MappingIterator=t.DESTINATION=t.identity=t.IntegerIterator=t.ArrayIterator=t.SingletonIterator=t.EmptyIterator=t.AsyncIterator=t.DESTROYED=t.ENDED=t.CLOSED=t.CLOSING=t.OPEN=t.INIT=t.setTaskScheduler=t.getTaskScheduler=t.scheduleTask=t.LinkedList=void 0;const e=Jt(),r=bN();Object.defineProperty(t,"LinkedList",{enumerable:!0,get:function(){return r.LinkedList}});let a=mN().createTaskScheduler();function i(v){a(v)}t.scheduleTask=i;function s(){return a}t.getTaskScheduler=s;function o(v){a=v}t.setTaskScheduler=o,t.INIT=1,t.OPEN=2,t.CLOSING=4,t.CLOSED=8,t.ENDED=16,t.DESTROYED=32;class f extends e.EventEmitter{constructor(T=t.OPEN){super(),this._readable=!1,this._state=T,this.on("newListener",u)}_changeState(T,L=!1){const Y=T>this._state&&this._state<t.ENDED;return Y&&(this._state=T,T===t.ENDED&&(L?a(()=>this.emit("end")):this.emit("end"))),Y}read(){return null}forEach(T,L){this.on("data",Q(T,L))}close(){this._changeState(t.CLOSED)&&this._endAsync()}destroy(T){this.done||this._destroy(T,L=>{T=T||L,T&&this.emit("error",T),this._end(!0)})}_destroy(T,L){L()}_end(T=!1){this._changeState(T?t.DESTROYED:t.ENDED)&&(this._readable=!1,this.removeAllListeners("readable"),this.removeAllListeners("data"),this.removeAllListeners("end"))}_endAsync(){a(()=>this._end())}get readable(){return this._readable}set readable(T){T=!!T&&!this.done,this._readable!==T&&(this._readable=T,T&&a(()=>this.emit("readable")))}get closed(){return this._state>=t.CLOSING}get ended(){return this._state===t.ENDED}get destroyed(){return this._state===t.DESTROYED}get done(){return this._state>=t.ENDED}toString(){const T=this._toStringDetails();return`[${this.constructor.name}${T?` ${T}`:""}]`}_toStringDetails(){return""}toArray(T){const L=[],Y=typeof(T==null?void 0:T.limit)=="number"?T.limit:1/0;return this.ended||Y<=0?Promise.resolve(L):new Promise((ne,pe)=>{const we=()=>ne(L),fe=Re=>{L.push(Re),L.length>=Y&&(this.removeListener("error",pe),this.removeListener("data",fe),this.removeListener("end",we),ne(L))};this.on("error",pe),this.on("data",fe),this.on("end",we)})}getProperty(T,L){const Y=this._properties;if(!L)return Y&&Y[T];if(Y&&T in Y)a(()=>L(Y[T]));else{let ne;(ne=this._propertyCallbacks)||(this._propertyCallbacks=ne=Object.create(null)),T in ne?ne[T].push(L):ne[T]=[L]}}setProperty(T,L){const Y=this._properties||(this._properties=Object.create(null));Y[T]=L;const ne=this._propertyCallbacks||{},pe=ne[T];if(pe){delete ne[T],a(()=>{for(const we of pe)we(L)});for(T in ne)return;delete this._propertyCallbacks}}getProperties(){const T=this._properties,L={};for(const Y in T)L[Y]=T[Y];return L}setProperties(T){for(const L in T)this.setProperty(L,T[L])}copyProperties(T,L){for(const Y of L)T.getProperty(Y,ne=>this.setProperty(Y,ne))}transform(T){return new N(this,T)}map(T,L){return new y(this,Q(T,L))}filter(T,L){return this.map(function(Y){return T.call(L||this,Y)?Y:null})}uniq(T=b){const L=new Set;return this.filter(function(Y){const ne=T.call(this,Y);return L.has(ne)?!1:(L.add(ne),!0)})}prepend(T){return this.transform({prepend:T})}append(T){return this.transform({append:T})}surround(T,L){return this.transform({prepend:T,append:L})}skip(T){return this.map(L=>T-- >0?null:L)}take(T){return this.transform({limit:T})}range(T,L){return this.transform({offset:T,limit:Math.max(L-T+1,0)})}clone(){return new X(this)}[Symbol.asyncIterator](){const T=this;let L=null,Y=null,ne=null;T.addListener("readable",pe),T.addListener("end",pe),T.addListener("error",we);function pe(){if(L!==null)if(ne!==null)we(ne);else if(T.done)L({done:!0,value:void 0}),L=Y=null,fe();else{const Re=T.read();Re!==null&&(L({done:!1,value:Re}),L=Y=null)}}function we(Re){Y!==null?(Y(Re),L=Y=ne=null,fe()):ne===null&&(ne=Re)}function fe(){T.removeListener("readable",pe),T.removeListener("end",pe),T.removeListener("error",we)}return{next(){return new Promise((Re,Le)=>{L=Re,Y=Le,pe()})}}}}t.AsyncIterator=f;function u(v){v==="data"&&(this.removeListener("newListener",u),d(this,"readable",l),this.readable&&a(()=>l.call(this)))}function l(){let v;for(;this.listenerCount("data")!==0&&(v=this.read())!==null;)this.emit("data",v);this.listenerCount("data")===0&&!this.done&&(this.removeListener("readable",l),d(this,"newListener",u))}function d(v,T,L){v.listeners(T).includes(L)||v.on(T,L)}class c extends f{constructor(){super(),this._changeState(t.ENDED,!0)}}t.EmptyIterator=c;class h extends f{constructor(T){super(),this._item=T,T===null?this.close():this.readable=!0}read(){const T=this._item;return this._item=null,this.close(),T}_toStringDetails(){return this._item===null?"":`(${this._item})`}}t.SingletonIterator=h;class m extends f{constructor(T=[],{autoStart:L=!0,preserve:Y=!0}={}){super();const ne=Y||!Array.isArray(T)?[...T]:T;this._index=0,this._sourceStarted=L!==!1,this._truncateThreshold=Y?-1:64,this._sourceStarted&&ne.length===0?this.close():this._buffer=ne,this.readable=!0}read(){this._sourceStarted||(this._sourceStarted=!0);let T=null;return this._buffer&&(this._index<this._buffer.length&&(T=this._buffer[this._index++]),this._index===this._buffer.length?(delete this._buffer,this.close()):this._index===this._truncateThreshold&&(this._buffer.splice(0,this._truncateThreshold),this._index=0)),T}_toStringDetails(){return`(${this._buffer?this._buffer.length-this._index:0})`}_destroy(T,L){delete this._buffer,L()}toArray(T={}){if(!this._buffer)return Promise.resolve([]);const{length:L}=this._buffer,Y=this._index,ne=typeof T.limit!="number"?L:Y+T.limit,pe=this._buffer.slice(Y,ne);return this._index=ne,ne>=L&&this.close(),Promise.resolve(pe)}}t.ArrayIterator=m;class _ extends f{constructor({start:T=0,step:L=1,end:Y}={}){super(),Number.isFinite(T)&&(T=Math.trunc(T)),this._next=T,Number.isFinite(L)&&(L=Math.trunc(L)),this._step=L;const ne=L>=0,pe=ne?1/0:-1/0;Number.isFinite(Y)?Y=Math.trunc(Y):Y!==-pe&&(Y=pe),this._last=Y,!Number.isFinite(T)||(ne?T>Y:T<Y)?this.close():this.readable=!0}read(){if(this.closed)return null;const T=this._next,L=this._step,Y=this._last,ne=this._next+=L;return(L>=0?ne>Y:ne<Y)&&this.close(),T}_toStringDetails(){return`(${this._next}...${this._last})`}}t.IntegerIterator=_;function b(v){return v}t.identity=b,t.DESTINATION=Symbol("destination");class y extends f{constructor(T,L=b,Y={}){super(),this._map=L,this._source=p(T),this._destroySource=Y.destroySource!==!1,T.done?this.close():(this._source[t.DESTINATION]=this,this._source.on("end",O),this._source.on("error",I),this._source.on("readable",S),this.readable=this._source.readable)}read(){if(!this.done){if(this._source.readable){let T,L;for(;(T=this._source.read())!==null;)if((L=this._map(T))!==null)return L}this.readable=!1,this._source.done&&this.close()}return null}_end(T){this._source.removeListener("end",O),this._source.removeListener("error",I),this._source.removeListener("readable",S),delete this._source[t.DESTINATION],this._destroySource&&this._source.destroy(),super._end(T)}}t.MappingIterator=y;function p(v,T=!1){if(!v||!A(v.read)||!A(v.on))throw new TypeError(`Invalid source: ${v}`);if(!T&&v[t.DESTINATION])throw new Error("The source already has a destination");return v}class g extends f{constructor({maxBufferSize:T=4,autoStart:L=!0}={}){super(t.INIT),this._buffer=new r.LinkedList,this._maxBufferSize=4,this._reading=!0,this._pushedCount=0,this.maxBufferSize=T,a(()=>this._init(L)),this._sourceStarted=L!==!1}get maxBufferSize(){return this._maxBufferSize}set maxBufferSize(T){T!==1/0&&(T=Number.isFinite(T)?Math.max(Math.trunc(T),1):4),this._maxBufferSize!==T&&(this._maxBufferSize=T,this._state===t.OPEN&&this._fillBuffer())}_init(T){let L=!1;this._reading=!0,this._begin(()=>{if(L)throw new Error("done callback called multiple times");L=!0,this._reading=!1,this._changeState(t.OPEN),T?this._fillBufferAsync():this.readable=!0})}_begin(T){T()}read(){if(this.done)return null;this._sourceStarted||(this._sourceStarted=!0);const T=this._buffer;let L;return T.empty?(L=null,this.readable=!1):L=T.shift(),!this._reading&&T.length<this._maxBufferSize&&(this.closed?T.empty&&this._endAsync():this._fillBufferAsync()),L}_read(T,L){L()}_push(T){this.done||(this._pushedCount++,this._buffer.push(T),this.readable=!0)}_fillBuffer(){let T;this._reading||(this.closed?this._completeClose():(T=Math.min(this._maxBufferSize-this._buffer.length,128))>0&&(this._pushedCount=0,this._reading=!0,this._read(T,()=>{if(!T)throw new Error("done callback called multiple times");T=0,this._reading=!1,this.closed?this._completeClose():this._pushedCount&&(this.readable=!0,this._buffer.length<this._maxBufferSize/2&&this._fillBufferAsync())})))}_fillBufferAsync(){this._reading||(this._reading=!0,a(()=>{this._reading=!1,this._fillBuffer()}))}close(){this._reading?this._changeState(t.CLOSING):this._completeClose()}_completeClose(){this._changeState(t.CLOSED)&&(this._reading=!0,this._flush(()=>{if(!this._reading)throw new Error("done callback called multiple times");this._reading=!1,this._buffer.empty&&this._endAsync()}))}_destroy(T,L){this._buffer.clear(),L()}_flush(T){T()}_toStringDetails(){const T=this._buffer;return`{${T.empty?"":`next: ${T.first}, `}buffer: ${T.length}}`}}t.BufferedIterator=g;class w extends g{constructor(T,L=T||{}){super(L),this._boundPush=Y=>this._push(Y),G(T)||(T=L.source),P(T)?this.source=T:T&&(this._createSource=k(T)?()=>T:T,this._sourceStarted&&this._loadSourceAsync()),this._optional=!!L.optional,this._destroySource=L.destroySource!==!1}get source(){return A(this._createSource)&&this._loadSourceAsync(),this._source}set source(T){const L=this._source=this._validateSource(T);L[t.DESTINATION]=this,this.done?this._destroySource&&L.destroy():L.done?this.close():(L.on("end",M),L.on("readable",D),L.on("error",I))}_loadSourceAsync(){A(this._createSource)&&(Promise.resolve(this._createSource()).then(T=>{delete this._createSource,this.source=T,this._fillBuffer()},T=>this.emit("error",T)),this._createSource=null)}_validateSource(T,L=!1){if(this._source||typeof this._createSource<"u")throw new Error("The source cannot be changed after it has been set");return p(T,L)}_read(T,L){const Y=()=>{this._pushedCount<T&&!this.closed?a(()=>this._readAndTransform(Y,L)):L()};this._readAndTransform(Y,L)}_readAndTransform(T,L){let Y;const ne=this.source;!ne||ne.done||(Y=ne.read())===null?L():this._optional?this._optionalTransform(Y,T):this._transform(Y,T,this._boundPush)}_optionalTransform(T,L){const Y=this._pushedCount;this._transform(T,()=>{Y===this._pushedCount&&this._push(T),L()},this._boundPush)}_transform(T,L,Y){Y(T),L()}_closeWhenDone(){this.close()}_end(T){const L=this._source;L&&(L.removeListener("end",M),L.removeListener("error",I),L.removeListener("readable",D),delete L[t.DESTINATION],this._destroySource&&L.destroy()),super._end(T)}}t.TransformIterator=w;function S(){this[t.DESTINATION].readable=!0}function I(v){this[t.DESTINATION].emit("error",v)}function O(){this[t.DESTINATION].close()}function M(){this[t.DESTINATION]._closeWhenDone()}function D(){this[t.DESTINATION]._sourceStarted!==!1&&this[t.DESTINATION]._fillBuffer()}class N extends w{constructor(T,L){if(super(T,L),this._offset=0,this._limit=1/0,this._filter=Y=>!0,L=L||(G(T)?null:T),L){const Y=A(L)?L:L.transform,{limit:ne,offset:pe,filter:we,map:fe,prepend:Re,append:Le}=L;pe===1/0||ne===-1/0?this._limit=0:(Number.isFinite(pe)&&(this._offset=Math.max(Math.trunc(pe),0)),Number.isFinite(ne)&&(this._limit=Math.max(Math.trunc(ne),0)),A(we)&&(this._filter=we),A(fe)&&(this._map=fe),this._transform=A(Y)?Y:null),Re&&(this._prepender=P(Re)?Re:H(Re)),Le&&(this._appender=P(Le)?Le:H(Le))}}_read(T,L){const Y=()=>this._readAndTransformSimple(T,ne,L);this._readAndTransformSimple(T,ne,L);function ne(){a(Y)}}_readAndTransformSimple(T,L,Y){let ne;const{source:pe}=this;if(!pe||pe.done){Y();return}for(this._limit===0&&this.close();!this.closed&&this._pushedCount<T&&(ne=pe.read())!==null;){if(!this._filter(ne)||this._offset!==0&&this._offset--)continue;const we=typeof this._map>"u"?ne:this._map(ne);if(we===null)this._optional&&this._push(ne);else if(!A(this._transform))this._push(we);else{this._optional?this._optionalTransform(we,L):this._transform(we,L,this._boundPush);return}--this._limit===0&&this.close()}Y()}_begin(T){this._insert(this._prepender,T),delete this._prepender}_flush(T){this._insert(this._appender,T),delete this._appender}_insert(T,L){const Y=pe=>this._push(pe);!T||T.done?L():(T.on("data",Y),T.on("end",ne));function ne(){T.removeListener("data",Y),T.removeListener("end",ne),L()}}}t.SimpleTransformIterator=N;class C extends w{constructor(T,L){if(super(T,L),this._transformerQueue=[],L){const Y=A(L)?L:L.multiTransform;Y&&(this._createTransformer=Y)}}_read(T,L){const Y=this._transformerQueue,ne=this._optional;let pe,we;for(;(pe=Y[0])&&pe.transformer.done;){ne&&pe.item!==null&&(T--,this._push(pe.item)),Y.shift();const{transformer:Re}=pe;Re.removeListener("end",D),Re.removeListener("readable",D),Re.removeListener("error",I)}const{source:fe}=this;for(;fe&&!fe.done&&Y.length<this.maxBufferSize&&(we=fe.read(),we!==null);){const Re=this._createTransformer(we)||new c;Re[t.DESTINATION]=this,Re.on("end",D),Re.on("readable",D),Re.on("error",I),Y.push({transformer:Re,item:we})}if(pe=Y[0],pe){const{transformer:Re}=pe;for(;T-- >0&&(we=Re.read())!==null;)this._push(we),ne&&(pe.item=null)}else fe&&fe.done&&this.close();L()}_createTransformer(T){return new h(T)}_closeWhenDone(){this._transformerQueue.length||this.close()}_end(T){if(super._end(T),this._destroySource)for(const L of this._transformerQueue)L.transformer.destroy()}}t.MultiTransformIterator=C;class R extends g{constructor(T,L={}){super(L),this._sources=[],this._currentSource=-1;const Y=L.autoStart!==!1;if(P(T))T.on("error",ne=>this.emit("error",ne)),this._pending={loading:!1,sources:T},Y&&this._loadSources();else if(Array.isArray(T)&&T.length>0)for(const ne of T)this._addSource(ne);else Y&&this.close();this._destroySources=L.destroySources!==!1}_loadSources(){const T=this._pending.sources;this._pending.loading=!0,T.done?(delete this._pending,this.close()):(T.on("data",L=>{this._addSource(L),this._fillBufferAsync()}),T.on("end",()=>{delete this._pending,this._fillBuffer()}))}_addSource(T){k(T)&&(T=le(T)),T.done||(this._sources.push(T),T[t.DESTINATION]=this,T.on("error",I),T.on("readable",D),T.on("end",F))}_removeEmptySources(){this._sources=this._sources.filter((T,L)=>(T.done&&L<=this._currentSource&&this._currentSource--,!T.done)),this._fillBuffer()}_read(T,L){var Y;((Y=this._pending)===null||Y===void 0?void 0:Y.loading)===!1&&this._loadSources();let ne=0,pe;for(;ne!==(ne=T);)for(let we=0;we<this._sources.length&&T>0;we++)this._currentSource=(this._currentSource+1)%this._sources.length,(pe=this._sources[this._currentSource].read())!==null&&(T--,this._push(pe));!this._pending&&this._sources.length===0&&this.close(),L()}_end(T=!1){if(super._end(T),this._destroySources){for(const L of this._sources)L.destroy();this._pending&&(this._pending.sources.destroy(),delete this._pending)}}}t.UnionIterator=R;function F(){this[t.DESTINATION]._removeEmptySources()}class X extends w{constructor(T){super(T,{autoStart:!1}),this._readPosition=0,this._reading=!1,T&&(this.readable=!0)}_init(){}close(){f.prototype.close.call(this)}get source(){return super.source}set source(T){const L=this._source=this._validateSource(T),Y=L&&L[t.DESTINATION]||(L[t.DESTINATION]=new oe(L));this.done?this._destroySource&&L.destroy():Y.endsAt(0)?this.close():(Y.register(this),(L._sourceStarted===!1||Y.readAt(0)!==null)&&(this.readable=!0));const ne=this._propertyCallbacks;for(const pe in ne){const we=ne[pe];for(const fe of we)this._getSourceProperty(pe,fe)}}_validateSource(T,L=!1){const Y=T&&T[t.DESTINATION];return super._validateSource(T,!Y||Y instanceof oe)}getProperty(T,L){const{source:Y}=this,ne=this._properties,pe=ne&&T in ne;if(!L)return pe?ne&&ne[T]:Y&&Y.getProperty(T);super.getProperty(T,L),Y&&!pe&&this._getSourceProperty(T,L)}_getSourceProperty(T,L){this.source.getProperty(T,Y=>{(!this._properties||!(T in this._properties))&&L(Y)})}getProperties(){const T=this.source?this.source.getProperties():{},L=this._properties;for(const Y in L)T[Y]=L[Y];return T}_toStringDetails(){return`{source: ${this.source?this.source.toString():"none"}}`}read(){this._sourceStarted||(this._sourceStarted=!0);const T=this.source;let L=null;if(!this.done&&T){const Y=T[t.DESTINATION];(L=Y.readAt(this._readPosition))!==null?this._readPosition++:this.readable=!1,Y.endsAt(this._readPosition)&&this.close()}return L}_end(T){const L=this.source,Y=L==null?void 0:L[t.DESTINATION];Y&&Y.unregister(this),g.prototype._end.call(this,T)}}t.ClonedIterator=X;class oe{constructor(T){if(this._history=[],this._trackers=new Set,this._source=T,!T.done){const L=()=>{for(const pe of this._trackers)pe.readable=!0},Y=pe=>{for(const we of this._trackers)we.emit("error",pe)},ne=()=>{for(const pe of this._trackers)pe._sourceStarted!==!1&&pe._readPosition===this._history.length&&pe.close();this._trackers.clear(),T.removeListener("end",ne),T.removeListener("error",Y),T.removeListener("readable",L)};T.on("end",ne),T.on("error",Y),T.on("readable",L)}}register(T){this._source.done||this._trackers.add(T)}unregister(T){this._trackers.delete(T)}readAt(T){let L=null;return T<this._history.length?L=this._history[T]:!this._source.done&&(L=this._source.read())!==null&&(this._history[T]=L),L}endsAt(T){return this._source.done&&this._history.length===T}}class J extends f{constructor(T,L){super(),this._source=null,this._destroySource=(L==null?void 0:L.destroySource)!==!1,k(T)?(this._source=new f,T.then(Y=>{this._source=null,this.source=Y}).catch(Y=>this.emit("error",Y))):T&&(this.source=T)}set source(T){let L=T;if(this._source!==null)throw new Error("The source cannot be changed after it has been set");if(te(L)&&(L=L[Symbol.iterator]()),E(L)){let Y=L;L=new e.EventEmitter,L.read=()=>{if(Y!==null){let ne;for(;!(ne=Y.next()).done;)if(ne.value!==null)return ne.value;Y=null,this.close()}return null}}else L=p(L);if(this.done){this._destroySource&&A(L.destroy)&&L.destroy();return}L[t.DESTINATION]=this,L.on("end",O),L.on("error",I),L.on("readable",S),this._source=L,this.readable=L.readable!==!1}read(){if(this._source!==null&&this._source.readable!==!1){const T=this._source.read();if(T!==null)return T;this.readable=!1}return null}_end(T=!1){this._source!==null&&(this._source.removeListener("end",O),this._source.removeListener("error",I),this._source.removeListener("readable",S),delete this._source[t.DESTINATION],this._destroySource&&A(this._source.destroy)&&this._source.destroy(),this._source=null),super._end(T)}}t.WrappingIterator=J;function le(v,T){if(T&&("autoStart"in T||"optional"in T||"source"in T||"maxBufferSize"in T))return v&&!P(v)&&(v=new J(v)),new w(v,T);if(!v)return ae();if(k(v))return new J(v,T);if(v instanceof f)return v;if(Array.isArray(v))return H(v);if(te(v)||E(v)||P(v))return new J(v,T);throw new TypeError(`Invalid source: ${v}`)}t.wrap=le;function ae(){return new c}t.empty=ae;function Z(v){return new h(v)}t.single=Z;function H(v){return new m(v)}t.fromArray=H;function de(v){return new J(v)}t.fromIterator=de;function he(v){return new J(v)}t.fromIterable=he;function W(v){return new R(v)}t.union=W;function z(v,T,L){return new _({start:v,end:T,step:L})}t.range=z;function Q(v,T){return T?v.bind(T):v}function A(v){return typeof v=="function"}t.isFunction=A;function P(v){return A(v==null?void 0:v.on)}t.isEventEmitter=P;function k(v){return A(v==null?void 0:v.then)}t.isPromise=k;function G(v){return v&&(P(v)||k(v)||A(v))}t.isSourceExpression=G;function te(v){return v&&Symbol.iterator in v}t.isIterable=te;function E(v){return A(v==null?void 0:v.next)}t.isIterator=E}(kc)),kc}var qa={},Je={},h_;function _N(){if(h_)return Je;h_=1,Object.defineProperty(Je,"__esModule",{value:!0}),Je.matchPatternMappings=Je.matchPatternComplete=Je.matchPattern=Je.matchTerm=Je.getValueNestedPath=Je.someTermsNested=Je.someTerms=Je.everyTermsNested=Je.everyTerms=Je.reduceTermsNested=Je.reduceTerms=Je.mapTermsNested=Je.mapTerms=Je.filterQuadTermNamesNested=Je.filterQuadTermNames=Je.filterTermsNested=Je.filterTerms=Je.forEachTermsNested=Je.forEachTerms=Je.collectNamedTerms=Je.getNamedTerms=Je.getTermsNested=Je.getTerms=Je.TRIPLE_TERM_NAMES=Je.QUAD_TERM_NAMES=void 0;const t=Pt(),e=new t.DataFactory;Je.QUAD_TERM_NAMES=["subject","predicate","object","graph"],Je.TRIPLE_TERM_NAMES=["subject","predicate","object"];function r(D,N){return N&&D.graph.termType==="DefaultGraph"?[D.subject,D.predicate,D.object]:[D.subject,D.predicate,D.object,D.graph]}Je.getTerms=r;function n(D,N){const C=[];for(const R of r(D,N))R.termType==="Quad"?n(R,N).forEach(F=>C.push(F)):C.push(R);return C}Je.getTermsNested=n;function a(D){return[{key:"subject",value:D.subject},{key:"predicate",value:D.predicate},{key:"object",value:D.object},{key:"graph",value:D.graph}]}Je.getNamedTerms=a;function i(D,N,C){const R={};return D.forEach(F=>R[F.key]=F.value),N&&(R.subject=R.subject||N("subject"),R.predicate=R.predicate||N("predicate"),R.object=R.object||N("object"),R.graph=R.graph||N("graph")),(C||e).quad(R.subject,R.predicate,R.object,R.graph)}Je.collectNamedTerms=i;function s(D,N){N(D.subject,"subject"),N(D.predicate,"predicate"),N(D.object,"object"),N(D.graph,"graph")}Je.forEachTerms=s;function o(D,N,C=[]){D.subject.termType==="Quad"?o(D.subject,N,[...C,"subject"]):N(D.subject,[...C,"subject"]),D.predicate.termType==="Quad"?o(D.predicate,N,[...C,"predicate"]):N(D.predicate,[...C,"predicate"]),D.object.termType==="Quad"?o(D.object,N,[...C,"object"]):N(D.object,[...C,"object"]),D.graph.termType==="Quad"?o(D.graph,N,[...C,"graph"]):N(D.graph,[...C,"graph"])}Je.forEachTermsNested=o;function f(D,N){const C=[];return N(D.subject,"subject")&&C.push(D.subject),N(D.predicate,"predicate")&&C.push(D.predicate),N(D.object,"object")&&C.push(D.object),N(D.graph,"graph")&&C.push(D.graph),C}Je.filterTerms=f;function u(D,N,C=[]){let R=[];return D.subject.termType==="Quad"?R=[...R,...u(D.subject,N,[...C,"subject"])]:N(D.subject,[...C,"subject"])&&R.push(D.subject),D.predicate.termType==="Quad"?R=[...R,...u(D.predicate,N,[...C,"predicate"])]:N(D.predicate,[...C,"predicate"])&&R.push(D.predicate),D.object.termType==="Quad"?R=[...R,...u(D.object,N,[...C,"object"])]:N(D.object,[...C,"object"])&&R.push(D.object),D.graph.termType==="Quad"?R=[...R,...u(D.graph,N,[...C,"graph"])]:N(D.graph,[...C,"graph"])&&R.push(D.graph),R}Je.filterTermsNested=u;function l(D,N){const C=[];return N(D.subject,"subject")&&C.push("subject"),N(D.predicate,"predicate")&&C.push("predicate"),N(D.object,"object")&&C.push("object"),N(D.graph,"graph")&&C.push("graph"),C}Je.filterQuadTermNames=l;function d(D,N,C=[]){let R=[];const F=[...C,"subject"];D.subject.termType==="Quad"?R=[...R,...d(D.subject,N,F)]:N(D.subject,F)&&R.push(F);const X=[...C,"predicate"];D.predicate.termType==="Quad"?R=[...R,...d(D.predicate,N,X)]:N(D.predicate,X)&&R.push(X);const oe=[...C,"object"];D.object.termType==="Quad"?R=[...R,...d(D.object,N,oe)]:N(D.object,oe)&&R.push(oe);const J=[...C,"graph"];return D.graph.termType==="Quad"?R=[...R,...d(D.graph,N,J)]:N(D.graph,J)&&R.push(J),R}Je.filterQuadTermNamesNested=d;function c(D,N,C){return(C||e).quad(N(D.subject,"subject"),N(D.predicate,"predicate"),N(D.object,"object"),N(D.graph,"graph"))}Je.mapTerms=c;function h(D,N,C,R=[]){return(C||e).quad(D.subject.termType==="Quad"?h(D.subject,N,C,[...R,"subject"]):N(D.subject,[...R,"subject"]),D.predicate.termType==="Quad"?h(D.predicate,N,C,[...R,"predicate"]):N(D.predicate,[...R,"predicate"]),D.object.termType==="Quad"?h(D.object,N,C,[...R,"object"]):N(D.object,[...R,"object"]),D.graph.termType==="Quad"?h(D.graph,N,C,[...R,"graph"]):N(D.graph,[...R,"graph"]))}Je.mapTermsNested=h;function m(D,N,C){let R=C;return R=N(R,D.subject,"subject"),R=N(R,D.predicate,"predicate"),R=N(R,D.object,"object"),N(R,D.graph,"graph")}Je.reduceTerms=m;function _(D,N,C,R=[]){let F=C;return D.subject.termType==="Quad"?F=_(D.subject,N,F,[...R,"subject"]):F=N(F,D.subject,[...R,"subject"]),D.predicate.termType==="Quad"?F=_(D.predicate,N,F,[...R,"predicate"]):F=N(F,D.predicate,[...R,"predicate"]),D.object.termType==="Quad"?F=_(D.object,N,F,[...R,"object"]):F=N(F,D.object,[...R,"object"]),D.graph.termType==="Quad"?F=_(D.graph,N,F,[...R,"graph"]):F=N(F,D.graph,[...R,"graph"]),F}Je.reduceTermsNested=_;function b(D,N){return N(D.subject,"subject")&&N(D.predicate,"predicate")&&N(D.object,"object")&&N(D.graph,"graph")}Je.everyTerms=b;function y(D,N,C=[]){return(D.subject.termType==="Quad"?y(D.subject,N,[...C,"subject"]):N(D.subject,[...C,"subject"]))&&(D.predicate.termType==="Quad"?y(D.predicate,N,[...C,"predicate"]):N(D.predicate,[...C,"predicate"]))&&(D.object.termType==="Quad"?y(D.object,N,[...C,"object"]):N(D.object,[...C,"object"]))&&(D.graph.termType==="Quad"?y(D.graph,N,[...C,"graph"]):N(D.graph,[...C,"graph"]))}Je.everyTermsNested=y;function p(D,N){return N(D.subject,"subject")||N(D.predicate,"predicate")||N(D.object,"object")||N(D.graph,"graph")}Je.someTerms=p;function g(D,N,C=[]){return(D.subject.termType==="Quad"?g(D.subject,N,[...C,"subject"]):N(D.subject,[...C,"subject"]))||(D.predicate.termType==="Quad"?g(D.predicate,N,[...C,"predicate"]):N(D.predicate,[...C,"predicate"]))||(D.object.termType==="Quad"?g(D.object,N,[...C,"object"]):N(D.object,[...C,"object"]))||(D.graph.termType==="Quad"?g(D.graph,N,[...C,"graph"]):N(D.graph,[...C,"graph"]))}Je.someTermsNested=g;function w(D,N){if(N.length===0)return D;if(D.termType==="Quad")return w(D[N[0]],N.slice(1));throw new Error(`Tried to get ${N[0]} from term of type ${D.termType}`)}Je.getValueNestedPath=w;function S(D,N){return!N||N.termType==="Variable"||N.termType==="Quad"&&D.termType==="Quad"&&O(D,N)||N.equals(D)}Je.matchTerm=S;function I(D,N,C,R,F){return S(D.subject,N)&&S(D.predicate,C)&&S(D.object,R)&&S(D.graph,F)}Je.matchPattern=I;function O(D,N){return I(D,N.subject,N.predicate,N.object,N.graph)}Je.matchPatternComplete=O;function M(D,N,C={}){const R={};function F(X,oe){return b(X,(J,le)=>{var ae,Z;const H=oe[le];switch(J.termType){case"Variable":return C.skipVarMapping&&H.termType==="Variable"||((Z=(ae=R[J.value])===null||ae===void 0?void 0:ae.equals(H))!==null&&Z!==void 0?Z:(R[J.value]=H,!0));case"Quad":return H.termType==="Quad"&&F(J,H);default:return J.equals(H)}})}return F(N,D)&&(C.returnMappings?R:!0)}return Je.matchPatternMappings=M,Je}var Tt={},$c={},Ft={},p_;function vN(){if(p_)return Ft;p_=1,Object.defineProperty(Ft,"__esModule",{value:!0}),Ft.stringQuadToQuad=Ft.quadToStringQuad=Ft.stringToTerm=Ft.getLiteralLanguage=Ft.getLiteralType=Ft.getLiteralValue=Ft.termToString=void 0;const t=Pt(),e=new t.DataFactory;function r(u){if(u)switch(u.termType){case"NamedNode":return u.value;case"BlankNode":return"_:"+u.value;case"Literal":const l=u;return'"'+l.value+'"'+(l.datatype&&l.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&l.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+l.datatype.value:"")+(l.language?"@"+l.language:"");case"Quad":return`<<${r(u.subject)} ${r(u.predicate)} ${r(u.object)}${u.graph.termType==="DefaultGraph"?"":" "+r(u.graph)}>>`;case"Variable":return"?"+u.value;case"DefaultGraph":return u.value}}Ft.termToString=r;function n(u){const l=/^"([^]*)"/.exec(u);if(!l)throw new Error(u+" is not a literal");return l[1]}Ft.getLiteralValue=n;function a(u){const l=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(u);if(!l)throw new Error(u+" is not a literal");return l[1]||(l[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}Ft.getLiteralType=a;function i(u){const l=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(u);if(!l)throw new Error(u+" is not a literal");return l[1]?l[1].toLowerCase():""}Ft.getLiteralLanguage=i;function s(u,l){if(l=l||e,!u||!u.length)return l.defaultGraph();switch(u[0]){case"_":return l.blankNode(u.substr(2));case"?":if(!l.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return l.variable(u.substr(1));case'"':const d=i(u),c=l.namedNode(a(u));return l.literal(n(u),d||c);case"<":default:if(u[0]==="<"&&u.length>4&&u[1]==="<"&&u[u.length-1]===">"&&u[u.length-2]===">"){const h=u.slice(2,-2).trim();let m=[],_=0,b=0,y=!1;for(let p=0;p<h.length;p++){const g=h[p];if(g==="<"&&_++,g===">"){if(_===0)throw new Error("Found closing tag without opening tag in "+u);_--}if(g==='"'){let w=!1,S=p;for(;S-- >0&&h[S]==="\\";)w=!w;w||(y=!y)}if(g===" "&&!y&&_===0){for(m.push(h.slice(b,p));h[p+1]===" ";)p+=1;b=p+1}}if(_!==0)throw new Error("Found opening tag without closing tag in "+u);if(m.push(h.slice(b,h.length)),m.length!==3&&m.length!==4)throw new Error("Nested quad syntax error "+u);return m=m.map(p=>p.startsWith("<")&&!p.includes(" ")?p.slice(1,-1):p),l.quad(s(m[0]),s(m[1]),s(m[2]),m[3]?s(m[3]):void 0)}return l.namedNode(u)}}Ft.stringToTerm=s;function o(u){return{subject:r(u.subject),predicate:r(u.predicate),object:r(u.object),graph:r(u.graph)}}Ft.quadToStringQuad=o;function f(u,l){return l=l||e,l.quad(s(u.subject,l),s(u.predicate,l),s(u.object,l),s(u.graph,l))}return Ft.stringQuadToQuad=f,Ft}var y_;function Ba(){return y_||(y_=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.termToString=t.stringToTerm=t.stringQuadToQuad=t.quadToStringQuad=t.getLiteralValue=t.getLiteralType=t.getLiteralLanguage=void 0;const e=vN();Object.defineProperty(t,"getLiteralLanguage",{enumerable:!0,get:function(){return e.getLiteralLanguage}}),Object.defineProperty(t,"getLiteralType",{enumerable:!0,get:function(){return e.getLiteralType}}),Object.defineProperty(t,"getLiteralValue",{enumerable:!0,get:function(){return e.getLiteralValue}}),Object.defineProperty(t,"quadToStringQuad",{enumerable:!0,get:function(){return e.quadToStringQuad}}),Object.defineProperty(t,"stringQuadToQuad",{enumerable:!0,get:function(){return e.stringQuadToQuad}}),Object.defineProperty(t,"stringToTerm",{enumerable:!0,get:function(){return e.stringToTerm}}),Object.defineProperty(t,"termToString",{enumerable:!0,get:function(){return e.termToString}})}($c)),$c}var g_;function wN(){if(g_)return Tt;g_=1,Object.defineProperty(Tt,"__esModule",{value:!0}),Tt.getQuads=Tt.getDefaultGraphs=Tt.getVariables=Tt.getLiterals=Tt.getBlankNodes=Tt.getNamedNodes=Tt.getTermsOfType=Tt.uniqTerms=Tt.TERM_TYPES=void 0;const t=Ba();Tt.TERM_TYPES=["NamedNode","BlankNode","Literal","Variable","DefaultGraph","Quad"];function e(u){const l={};return u.filter(d=>{const c=(0,t.termToString)(d);return!(c in l)&&(l[c]=!0)})}Tt.uniqTerms=e;function r(u,l){return u.filter(d=>d.termType===l)}Tt.getTermsOfType=r;function n(u){return r(u,"NamedNode")}Tt.getNamedNodes=n;function a(u){return r(u,"BlankNode")}Tt.getBlankNodes=a;function i(u){return r(u,"Literal")}Tt.getLiterals=i;function s(u){return r(u,"Variable")}Tt.getVariables=s;function o(u){return r(u,"DefaultGraph")}Tt.getDefaultGraphs=o;function f(u){return r(u,"Quad")}return Tt.getQuads=f,Tt}var b_;function gf(){return b_||(b_=1,function(t){var e=qa.__createBinding||(Object.create?function(n,a,i,s){s===void 0&&(s=i);var o=Object.getOwnPropertyDescriptor(a,i);(!o||("get"in o?!a.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,s,o)}:function(n,a,i,s){s===void 0&&(s=i),n[s]=a[i]}),r=qa.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&e(a,n,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(_N(),t),r(wN(),t)}(qa)),qa}var ka={},m_;function __(){if(m_)return ka;m_=1,Object.defineProperty(ka,"__esModule",{value:!0}),ka.TermDictionaryNumberRecordFullTerms=void 0;const t=Pt(),e=Ba();let r=class{constructor(a=new t.DataFactory){this.lastId=0,this.dictionary={},this.reverseDictionary={},this.features={quotedTriples:!1},this.dataFactory=a}encode(a){const i=(0,e.termToString)(a);let s=this.dictionary[i];return s===void 0&&(s=this.lastId++,this.dictionary[i]=s,this.reverseDictionary[s]=a),s}encodeOptional(a){const i=(0,e.termToString)(a);return this.dictionary[i]}decode(a){const i=this.reverseDictionary[a];if(i===void 0)throw new Error(`The value ${a} is not present in this dictionary`);return i}*encodings(){for(const a of Object.keys(this.reverseDictionary))yield Number.parseInt(a,10)}findQuotedTriples(a){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(a){throw new Error("findQuotedTriplesEncoded is not supported")}};return ka.TermDictionaryNumberRecordFullTerms=r,ka}var $a={},Ua={},Uc={},v_;function qr(){return v_||(v_=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.arePatternsQuoted=t.quadHasVariables=t.quadToPattern=t.encodeOptionalTerms=t.orderQuadComponents=t.getComponentOrderScore=t.getBestIndex=t.QUAD_TERM_NAMES_INVERSE=void 0;const e=gf();t.QUAD_TERM_NAMES_INVERSE=Object.fromEntries(e.QUAD_TERM_NAMES.map((u,l)=>[u,l]));function r(u,l){if(u.length===1||l.every(h=>h!==void 0))return 0;const d=[];for(let h=0;h<e.QUAD_TERM_NAMES.length;h++)l[h]&&d.push(e.QUAD_TERM_NAMES[h]);return u.map((h,m)=>({score:n(h,d),index:m})).sort((h,m)=>m.score-h.score)[0].index}t.getBestIndex=r;function n(u,l){return u.map((d,c)=>l.includes(d)?u.length-c:0).reduce((d,c)=>d+c,0)}t.getComponentOrderScore=n;function a(u,l){return u.map(d=>{const c=t.QUAD_TERM_NAMES_INVERSE[d];return l[c]})}t.orderQuadComponents=a;function i(u,l){const d=u.map(c=>{if(c){if(c.termType==="Quad"&&o(c))return;const h=l.encodeOptional(c);return h===void 0?"none":h}return c});if(!d.includes("none"))return d}t.encodeOptionalTerms=i;function s(u,l,d,c,h){let m=!1;return[[u||void 0,l||void 0,d||void 0,c||void 0].map(b=>{if(b){if(b.termType==="Variable")return;if(b.termType==="Quad"){if(h)return b;m=!0;return}}return b}),m]}t.quadToPattern=s;function o(u){for(const l of e.QUAD_TERM_NAMES){const d=u[l];if(d.termType==="Variable"||d.termType==="Quad"&&o(d))return!0}return!1}t.quadHasVariables=o;function f(u){return u.map(l=>(l==null?void 0:l.termType)==="Quad"&&o(l))}t.arePatternsQuoted=f}(Uc)),Uc}var w_;function Hc(){if(w_)return Ua;w_=1,Object.defineProperty(Ua,"__esModule",{value:!0}),Ua.RdfStoreIndexNestedMap=void 0;const t=qr();let e=class{constructor(n){this.features={quotedTripleFiltering:!1},this.dictionary=n.dictionary,this.nestedMap=new Map}set(n,a){const i=this.nestedMap;let s=i.get(n[0]);s||(s=new Map,i.set(n[0],s));let o=s.get(n[1]);o||(o=new Map,s.set(n[1],o));let f=o.get(n[2]);f||(f=new Map,o.set(n[2],f));const u=f.has(n[3]);return u||f.set(n[3],a),!u}remove(n){const a=this.nestedMap,i=a.get(n[0]);if(!i)return!1;const s=i.get(n[1]);if(!s)return!1;const o=s.get(n[2]);if(!o)return!1;const f=o.delete(n[3]);return f&&o.size===0&&(s.delete(n[2]),s.size===0&&(i.delete(n[1]),i.size===0&&a.delete(n[0]))),f}get(n){const a=(0,t.encodeOptionalTerms)(n,this.dictionary);if(!(!a||a.includes(void 0)))return this.getEncoded(a)}getEncoded(n){const a=this.nestedMap.get(n[0]);if(!a)return;const i=a.get(n[1]);if(!i)return;const s=i.get(n[2]);if(s)return s.get(n[3])}*find(n){const a=(0,t.encodeOptionalTerms)(n,this.dictionary);if(!a)return;const[i,s,o,f]=a,[u,l,d,c]=n;let h,m,_,b,y,p,g;const w=this.nestedMap,S=i!==void 0?w.has(i)?[i]:[]:w.keys();for(const I of S){y=w.get(I),h=u||this.dictionary.decode(I);const O=s!==void 0?y.has(s)?[s]:[]:y.keys();for(const M of O){p=y.get(M),m=l||this.dictionary.decode(M);const D=o!==void 0?p.has(o)?[o]:[]:p.keys();for(const N of D){g=p.get(N),_=d||this.dictionary.decode(N);const C=f!==void 0?g.has(f)?[f]:[]:g.keys();for(const R of C)b=c||this.dictionary.decode(R),yield[h,m,_,b]}}}}*findEncoded(n,a){const[i,s,o,f]=n;let u,l,d;const c=this.nestedMap,h=i!==void 0?c.has(i)?[i]:[]:c.keys();for(const m of h){u=c.get(m);const _=s!==void 0?u.has(s)?[s]:[]:u.keys();for(const b of _){l=u.get(b);const y=o!==void 0?l.has(o)?[o]:[]:l.keys();for(const p of y){d=l.get(p);const g=f!==void 0?d.has(f)?[f]:[]:d.keys();for(const w of g)yield[m,b,p,w]}}}}count(n){let a=0;const i=(0,t.encodeOptionalTerms)(n,this.dictionary);if(!i)return 0;const s=i[0],o=i[1],f=i[2],u=i[3];let l,d,c;const h=this.nestedMap,m=s!==void 0?h.has(s)?[s]:[]:h.keys();for(const _ of m){l=h.get(_);const b=o!==void 0?l.has(o)?[o]:[]:l.keys();for(const y of b){d=l.get(y);const p=f!==void 0?d.has(f)?[f]:[]:d.keys();for(const g of p)c=d.get(g),u!==void 0?c.has(u)&&a++:a+=c.size}}return a}};return Ua.RdfStoreIndexNestedMap=e,Ua}var E_;function S_(){if(E_)return $a;E_=1,Object.defineProperty($a,"__esModule",{value:!0}),$a.TermDictionaryQuotedIndexed=void 0;const t=Pt(),e=Hc(),r=qr();let n=class on{constructor(i,s=new t.DataFactory){this.quotedTriplesDictionary=[],this.features={quotedTriples:!0},this.plainTermDictionary=i;const o={indexCombinations:[],indexConstructor:void 0,dictionary:this,dataFactory:s};this.quotedTriplesReverseDictionaries=[new e.RdfStoreIndexNestedMap(o),new e.RdfStoreIndexNestedMap(o),new e.RdfStoreIndexNestedMap(o)],this.dataFactory=s}encode(i){return i.termType==="Quad"?this.encodeQuotedTriple(i,!1):this.plainTermDictionary.encode(i)}encodeQuotedTriple(i,s){if(i.graph.termType!=="DefaultGraph")throw new Error("Encoding of quoted quads outside of the default graph is not allowed");const o=(0,r.encodeOptionalTerms)([i.subject,i.predicate,i.object,i.graph],this),f=o&&o.every(c=>c!==void 0)?this.quotedTriplesReverseDictionaries[0].getEncoded(o):void 0;if(f!==void 0||s)return f===void 0?void 0:on.BITMASK|f;const u=[this.encode(i.subject),this.encode(i.predicate),this.encode(i.object)],l=this.quotedTriplesDictionary.length+1;this.quotedTriplesDictionary.push(u);const d=this.encode(this.dataFactory.defaultGraph());return this.quotedTriplesReverseDictionaries[0].set([u[0],u[1],u[2],d],l),this.quotedTriplesReverseDictionaries[1].set([u[1],u[2],u[0],d],l),this.quotedTriplesReverseDictionaries[2].set([u[2],u[0],u[1],d],l),on.BITMASK|l}encodeOptional(i){return i.termType==="Quad"?this.encodeQuotedTriple(i,!0):this.plainTermDictionary.encodeOptional(i)}decode(i){if(on.BITMASK&i){const s=(~on.BITMASK&i)-1;if(s>=this.quotedTriplesDictionary.length)throw new Error(`The value ${i} is not present in the quoted triples range of the dictionary`);const o=this.quotedTriplesDictionary[s];return this.dataFactory.quad(this.decode(o[0]),this.decode(o[1]),this.decode(o[2]))}return this.plainTermDictionary.decode(i)}*encodings(){for(const i of this.plainTermDictionary.encodings())yield i;for(const i of this.quotedTriplesDictionary.keys())yield on.BITMASK|1+i}*findQuotedTriples(i){for(const s of this.findQuotedTriplesEncoded(i))yield this.decode(s)}*findQuotedTriplesEncoded(i){const[s,o]=(0,r.quadToPattern)(i.subject,i.predicate,i.object,i.graph,!0);for(const f of this.patternToIterable(s[0]))for(const u of this.patternToIterable(s[1]))for(const l of this.patternToIterable(s[2]))for(const d of this.patternToIterable(s[3]))if(f&&u||!u&&!l){const c=[f,u,l,d];for(const h of this.quotedTriplesReverseDictionaries[0].findEncoded(c,s))yield on.BITMASK|this.quotedTriplesReverseDictionaries[0].getEncoded(h)}else if(!f&&u){const c=[u,l,f,d];for(const h of this.quotedTriplesReverseDictionaries[1].findEncoded(c,s))yield on.BITMASK|this.quotedTriplesReverseDictionaries[1].getEncoded(h)}else{const c=[l,f,u,d];for(const h of this.quotedTriplesReverseDictionaries[2].findEncoded(c,s))yield on.BITMASK|this.quotedTriplesReverseDictionaries[2].getEncoded(h)}}*patternToIterable(i){if((i==null?void 0:i.termType)==="Quad"){yield*this.findQuotedTriplesEncoded(i);return}if(i===void 0){yield void 0;return}const s=this.encodeOptional(i);s!==void 0&&(yield s)}};return n.BITMASK=1<<31,$a.TermDictionaryQuotedIndexed=n,$a}var Ha={},T_;function x_(){if(T_)return Ha;T_=1,Object.defineProperty(Ha,"__esModule",{value:!0}),Ha.RdfStoreIndexNestedMapQuoted=void 0;const t=qr(),e=Hc();let r=class extends e.RdfStoreIndexNestedMap{constructor(a){super(a),this.features={quotedTripleFiltering:!0}}*getQuotedPatternKeys(a,i){for(const s of this.dictionary.findQuotedTriplesEncoded(i))a.has(s)&&(yield s)}*find(a){const i=(0,t.encodeOptionalTerms)(a,this.dictionary);if(!i)return;const[s,o,f,u]=i,[l,d,c,h]=a,[m,_,b,y]=(0,t.arePatternsQuoted)(a);let p,g,w,S,I,O,M;const D=this.nestedMap,N=l!==void 0?m?this.getQuotedPatternKeys(D,l):D.has(s)?[s]:[]:D.keys();for(const C of N){I=D.get(C),p=!m&&l?l:this.dictionary.decode(C);const R=d!==void 0?_?this.getQuotedPatternKeys(I,d):I.has(o)?[o]:[]:I.keys();for(const F of R){O=I.get(F),g=!_&&d?d:this.dictionary.decode(F);const X=c!==void 0?b?this.getQuotedPatternKeys(O,c):O.has(f)?[f]:[]:O.keys();for(const oe of X){M=O.get(oe),w=!b&&c?c:this.dictionary.decode(oe);const J=h!==void 0?y?this.getQuotedPatternKeys(M,h):M.has(u)?[u]:[]:M.keys();for(const le of J)S=!y&&h?h:this.dictionary.decode(le),yield[p,g,w,S]}}}}*findEncoded(a,i){const[s,o,f,u]=a,[l,d,c,h]=i,[m,_,b,y]=(0,t.arePatternsQuoted)(i);let p,g,w;const S=this.nestedMap,I=l!==void 0?m?this.getQuotedPatternKeys(S,l):S.has(s)?[s]:[]:S.keys();for(const O of I){p=S.get(O);const M=d!==void 0?_?this.getQuotedPatternKeys(p,d):p.has(o)?[o]:[]:p.keys();for(const D of M){g=p.get(D);const N=c!==void 0?b?this.getQuotedPatternKeys(g,c):g.has(f)?[f]:[]:g.keys();for(const C of N){w=g.get(C);const R=h!==void 0?y?this.getQuotedPatternKeys(w,h):w.has(u)?[u]:[]:w.keys();for(const F of R)yield[Number.parseInt(O,10),Number.parseInt(D,10),Number.parseInt(C,10),Number.parseInt(F,10)]}}}}count(a){let i=0;const s=(0,t.encodeOptionalTerms)(a,this.dictionary);if(!s)return 0;const[o,f,u,l]=s,[d,c,h,m]=a,[_,b,y,p]=(0,t.arePatternsQuoted)(a);let g,w,S;const I=this.nestedMap,O=d!==void 0?_?this.getQuotedPatternKeys(I,d):I.has(o)?[o]:[]:I.keys();for(const M of O){g=I.get(M);const D=c!==void 0?b?this.getQuotedPatternKeys(g,c):g.has(f)?[f]:[]:g.keys();for(const N of D){w=g.get(N);const C=h!==void 0?y?this.getQuotedPatternKeys(w,h):w.has(u)?[u]:[]:w.keys();for(const R of C)S=w.get(R),m!==void 0?p?i+=[...this.getQuotedPatternKeys(S,m)].length:S.has(l)&&i++:i+=S.size}}return i}};return Ha.RdfStoreIndexNestedMapQuoted=r,Ha}var R_;function I_(){if(R_)return Fa;R_=1,Object.defineProperty(Fa,"__esModule",{value:!0}),Fa.RdfStore=void 0;const t=d_(),e=Pt(),r=gf(),n=O_(),a=__(),i=S_(),s=x_(),o=qr();let f=class Ku{constructor(l){this.features={quotedTripleFiltering:!0},this._size=0,this.options=l,this.dataFactory=l.dataFactory,this.dictionary=l.dictionary,this.indexesWrapped=Ku.constructIndexesWrapped(l),this.indexesWrappedComponentOrders=this.indexesWrapped.map(d=>d.componentOrder)}static createDefault(){return new Ku({indexCombinations:Ku.DEFAULT_INDEX_COMBINATIONS,indexConstructor:l=>new s.RdfStoreIndexNestedMapQuoted(l),dictionary:new i.TermDictionaryQuotedIndexed(new a.TermDictionaryNumberRecordFullTerms),dataFactory:new e.DataFactory})}static constructIndexesWrapped(l){const d=[];if(l.indexCombinations.length===0)throw new Error("At least one index combination is required");for(const c of l.indexCombinations){if(!Ku.isCombinationValid(c))throw new Error(`Invalid index combination: ${c}`);d.push({index:l.indexConstructor(l),componentOrder:c,componentOrderInverse:Object.fromEntries(c.map((h,m)=>[h,m]))})}return d}static isCombinationValid(l){for(const d of r.QUAD_TERM_NAMES)if(!l.includes(d))return!1;return l.length===4}get size(){return this._size}addQuad(l){const d=[this.dictionary.encode(l.subject),this.dictionary.encode(l.predicate),this.dictionary.encode(l.object),this.dictionary.encode(l.graph)];let c=!1;for(const h of this.indexesWrapped)c=h.index.set((0,o.orderQuadComponents)(h.componentOrder,d),!0);return c?(this._size++,!0):!1}removeQuad(l){const d=[this.dictionary.encodeOptional(l.subject),this.dictionary.encodeOptional(l.predicate),this.dictionary.encodeOptional(l.object),this.dictionary.encodeOptional(l.graph)];if(d.includes(void 0))return!1;let c=!1;for(const h of this.indexesWrapped)if(c=h.index.remove((0,o.orderQuadComponents)(h.componentOrder,d)),!c)break;return c?(this._size--,!0):!1}remove(l){return l.on("data",d=>this.removeQuad(d)),l}removeMatches(l,d,c,h){return this.remove(this.match(l,d,c,h))}deleteGraph(l){return typeof l=="string"&&(l=this.dataFactory.namedNode(l)),this.removeMatches(void 0,void 0,void 0,l)}import(l){return l.on("data",d=>this.addQuad(d)),l}*readQuads(l,d,c,h){const m=!!this.dictionary.features.quotedTriples&&Object.values(this.indexesWrapped).every(g=>g.index.features.quotedTripleFiltering),[_,b]=(0,o.quadToPattern)(l,d,c,h,m),y=this.indexesWrapped[(0,o.getBestIndex)(this.indexesWrappedComponentOrders,_)],p=(0,o.orderQuadComponents)(y.componentOrder,_);for(const g of y.index.find(p)){const w=this.dataFactory.quad(g[y.componentOrderInverse.subject],g[y.componentOrderInverse.predicate],g[y.componentOrderInverse.object],g[y.componentOrderInverse.graph]);b?(0,r.matchPattern)(w,l,d,c,h)&&(yield w):yield w}}getQuads(l,d,c,h){return[...this.readQuads(l,d,c,h)]}match(l,d,c,h){return(0,t.wrap)(this.readQuads(l,d,c,h))}countQuads(l,d,c,h){const m=!!this.dictionary.features.quotedTriples&&Object.values(this.indexesWrapped).every(p=>p.index.features.quotedTripleFiltering),[_]=(0,o.quadToPattern)(l,d,c,h,m);if(_.every(p=>p===void 0))return this.size;const b=this.indexesWrapped[(0,o.getBestIndex)(this.indexesWrappedComponentOrders,_)],y=(0,o.orderQuadComponents)(b.componentOrder,_);return b.index.count(y)}asDataset(){return new n.DatasetCoreWrapper(this)}};return f.DEFAULT_INDEX_COMBINATIONS=[["graph","subject","predicate","object"],["graph","predicate","object","subject"],["graph","object","subject","predicate"]],Fa.RdfStore=f,Fa}var A_;function O_(){if(A_)return La;A_=1,Object.defineProperty(La,"__esModule",{value:!0}),La.DatasetCoreWrapper=void 0;const t=I_();let e=class t3{constructor(n){this.store=n}get size(){return this.store.size}add(n){return this.store.addQuad(n),this}delete(n){return this.store.removeQuad(n),this}has(n){for(const a of this.store.readQuads(n.subject,n.predicate,n.object,n.graph))return!0;return!1}match(n,a,i,s){const o=new t.RdfStore(this.store.options);for(const f of this.store.readQuads(n,a,i,s))o.addQuad(f);return new t3(o)}[Symbol.iterator](){return this.store.readQuads()}};return La.DatasetCoreWrapper=e,La}var Vc={},N_;function EN(){return N_||(N_=1,Object.defineProperty(Vc,"__esModule",{value:!0})),Vc}var Va={},P_;function SN(){if(P_)return Va;P_=1,Object.defineProperty(Va,"__esModule",{value:!0}),Va.TermDictionaryNumberMap=void 0;const t=Pt(),e=Ba();let r=class{constructor(a=new t.DataFactory){this.lastId=0,this.dictionary=new Map,this.reverseDictionary=new Map,this.features={quotedTriples:!1},this.dataFactory=a}encode(a){const i=(0,e.termToString)(a);let s=this.dictionary.get(i);return s===void 0&&(s=this.lastId++,this.dictionary.set(i,s),this.reverseDictionary.set(s,i)),s}encodeOptional(a){const i=(0,e.termToString)(a);return this.dictionary.get(i)}decode(a){const i=this.reverseDictionary.get(a);if(i===void 0)throw new Error(`The value ${a} is not present in this dictionary`);return(0,e.stringToTerm)(i,this.dataFactory)}encodings(){return this.reverseDictionary.keys()}findQuotedTriples(a){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(a){throw new Error("findQuotedTriplesEncoded is not supported")}};return Va.TermDictionaryNumberMap=r,Va}var Ga={},D_;function TN(){if(D_)return Ga;D_=1,Object.defineProperty(Ga,"__esModule",{value:!0}),Ga.TermDictionaryNumberRecord=void 0;const t=Pt(),e=Ba();let r=class{constructor(a=new t.DataFactory){this.lastId=0,this.dictionary={},this.reverseDictionary={},this.features={quotedTriples:!1},this.dataFactory=a}encode(a){const i=(0,e.termToString)(a);let s=this.dictionary[i];return s===void 0&&(s=this.lastId++,this.dictionary[i]=s,this.reverseDictionary[s]=i),s}encodeOptional(a){const i=(0,e.termToString)(a);return this.dictionary[i]}decode(a){const i=this.reverseDictionary[a];if(i===void 0)throw new Error(`The value ${a} is not present in this dictionary`);return(0,e.stringToTerm)(i,this.dataFactory)}*encodings(){for(const a of Object.keys(this.reverseDictionary))yield Number.parseInt(a,10)}findQuotedTriples(a){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(a){throw new Error("findQuotedTriplesEncoded is not supported")}};return Ga.TermDictionaryNumberRecord=r,Ga}var za={},C_;function xN(){if(C_)return za;C_=1,Object.defineProperty(za,"__esModule",{value:!0}),za.TermDictionaryQuoted=void 0;const t=Pt(),e=gf();let r=class li{constructor(a,i,s=new t.DataFactory){this.features={quotedTriples:!0},this.plainTermDictionary=a,this.quotedTriplesDictionary=i,this.dataFactory=s}encode(a){return a.termType==="Quad"?li.BITMASK|1+this.quotedTriplesDictionary.encode(a):this.plainTermDictionary.encode(a)}encodeOptional(a){if(a.termType==="Quad"){const i=this.quotedTriplesDictionary.encodeOptional(a);return i===void 0?i:li.BITMASK|1+i}return this.plainTermDictionary.encodeOptional(a)}decode(a){if(li.BITMASK&a){const i=(~li.BITMASK&a)-1;return this.quotedTriplesDictionary.decode(i)}return this.plainTermDictionary.decode(a)}*encodings(){for(const a of this.plainTermDictionary.encodings())yield a;for(const a of this.quotedTriplesDictionary.encodings())yield li.BITMASK|1+a}*findQuotedTriples(a){for(const i of this.findQuotedTriplesEncoded(a))yield this.decode(i)}*findQuotedTriplesEncoded(a){for(let i of this.quotedTriplesDictionary.encodings()){i=li.BITMASK|1+i;const s=this.decode(i);(0,e.matchPattern)(s,a.subject,a.predicate,a.object,a.graph)&&(yield i)}}};return r.BITMASK=1<<31,za.TermDictionaryQuoted=r,za}var Wa={},L_;function RN(){if(L_)return Wa;L_=1,Object.defineProperty(Wa,"__esModule",{value:!0}),Wa.TermDictionaryQuotedReferential=void 0;const t=Pt(),e=gf(),r=qr();let n=class sn{constructor(i,s=new t.DataFactory){this.quotedTriplesDictionary=[],this.quotedTriplesReverseDictionary={},this.features={quotedTriples:!0},this.plainTermDictionary=i,this.dataFactory=s}encode(i){return i.termType==="Quad"?this.encodeQuotedTriple(i,!1):this.plainTermDictionary.encode(i)}encodeQuotedTriple(i,s){var o;if(i.graph.termType!=="DefaultGraph")throw new Error("Encoding of quoted quads outside of the default graph is not allowed");const f=(o=(0,r.encodeOptionalTerms)([i.subject,i.predicate,i.object,void 0],this))===null||o===void 0?void 0:o.slice(0,3),u=f&&f.every(c=>c!==void 0)?this.quotedTriplesReverseDictionary[f.join(sn.SEPARATOR)]:void 0;if(u!==void 0||s)return u===void 0?void 0:sn.BITMASK|u;const l=[this.encode(i.subject),this.encode(i.predicate),this.encode(i.object)],d=this.quotedTriplesDictionary.length+1;return this.quotedTriplesDictionary.push(l),this.quotedTriplesReverseDictionary[l.join(sn.SEPARATOR)]=d,sn.BITMASK|d}encodeOptional(i){return i.termType==="Quad"?this.encodeQuotedTriple(i,!0):this.plainTermDictionary.encodeOptional(i)}decode(i){if(sn.BITMASK&i){const s=(~sn.BITMASK&i)-1;if(s>=this.quotedTriplesDictionary.length)throw new Error(`The value ${i} is not present in the quoted triples range of the dictionary`);const o=this.quotedTriplesDictionary[s];return this.dataFactory.quad(this.decode(o[0]),this.decode(o[1]),this.decode(o[2]))}return this.plainTermDictionary.decode(i)}*encodings(){for(const i of this.plainTermDictionary.encodings())yield i;for(const i of this.quotedTriplesDictionary.keys())yield sn.BITMASK|1+i}*findQuotedTriples(i){for(const s of this.findQuotedTriplesEncoded(i))yield this.decode(s)}*findQuotedTriplesEncoded(i){for(let s of this.quotedTriplesDictionary.keys()){s=sn.BITMASK|1+s;const o=this.decode(s);(0,e.matchPattern)(o,i.subject,i.predicate,i.object,i.graph)&&(yield s)}}};return n.BITMASK=1<<31,n.SEPARATOR="_",Wa.TermDictionaryQuotedReferential=n,Wa}var Ka={},F_;function IN(){if(F_)return Ka;F_=1,Object.defineProperty(Ka,"__esModule",{value:!0}),Ka.TermDictionarySymbol=void 0;const t=Pt(),e=Ba();let r=class{constructor(a=new t.DataFactory){this.features={quotedTriples:!1},this.dataFactory=a}encode(a){return Symbol.for(`rdf::${(0,e.termToString)(a)}`)}encodeOptional(a){return this.encode(a)}decode(a){const i=Symbol.keyFor(a);if(i===void 0)throw new Error(`The value ${String(a)} is not present in this dictionary`);return(0,e.stringToTerm)(i.slice(5),this.dataFactory)}encodings(){throw new Error("encodings is not supported")}findQuotedTriples(a){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(a){throw new Error("findQuotedTriplesEncoded is not supported")}};return Ka.TermDictionarySymbol=r,Ka}var Gc={},M_;function AN(){return M_||(M_=1,Object.defineProperty(Gc,"__esModule",{value:!0})),Gc}var Qa={},j_;function q_(){if(j_)return Qa;j_=1,Object.defineProperty(Qa,"__esModule",{value:!0}),Qa.RdfStoreIndexNestedMapRecursive=void 0;const t=qr();let e=class{constructor(n){this.features={quotedTripleFiltering:!1},this.dictionary=n.dictionary,this.nestedMap=new Map}set(n,a){let i=this.nestedMap,s=!1;for(const[o,f]of n.entries()){const u=i;let l=u.get(f);l?o===n.length-1&&(s=!0):(l=o===n.length-1?a:new Map,u.set(f,l)),i=l}return!s}remove(n){const a=this.nestedMap,i=a.get(n[0]);if(!i)return!1;const s=i.get(n[1]);if(!s)return!1;const o=s.get(n[2]);if(!o)return!1;const f=o.delete(n[3]);return f&&o.size===0&&(s.delete(n[2]),s.size===0&&(i.delete(n[1]),i.size===0&&a.delete(n[0]))),f}get(n){const a=(0,t.encodeOptionalTerms)(n,this.dictionary);if(!(!a||a.includes(void 0)))return this.getEncoded(a)}getEncoded(n){const a=this.nestedMap.get(n[0]);if(!a)return;const i=a.get(n[1]);if(!i)return;const s=i.get(n[2]);if(s)return s.get(n[3])}*find(n){const a=(0,t.encodeOptionalTerms)(n,this.dictionary);if(a)for(const i of this.findEncoded(a,n))yield[a[0]!==void 0?n[0]:this.dictionary.decode(i[0]),a[1]!==void 0?n[1]:this.dictionary.decode(i[1]),a[2]!==void 0?n[2]:this.dictionary.decode(i[2]),a[3]!==void 0?n[3]:this.dictionary.decode(i[3])]}*findEncoded(n,a){return yield*this.findEncodedInner(0,n,a,this.nestedMap,[])}*findEncodedInner(n,a,i,s,o){if(n===a.length)yield[...o];else{const f=a[n];if(i[n]){const l=f;if(l!==void 0){const d=s.get(l);d&&(o[n]=f,yield*this.findEncodedInner(n+1,a,i,d,o))}}else for(const[l,d]of s.entries())o[n]=l,yield*this.findEncodedInner(n+1,a,i,d,o)}}count(n){return this.countInner(0,n,this.nestedMap)}countInner(n,a,i){const s=a[n];let o=0;if(s){const f=this.dictionary.encodeOptional(s);if(f!==void 0){if(n===a.length-1)return i.has(f)?1:0;const u=i.get(f);u&&(o+=this.countInner(n+1,a,u))}}else{if(n===a.length-1)return i.size;for(const f of i.values())o+=this.countInner(n+1,a,f)}return o}};return Qa.RdfStoreIndexNestedMapRecursive=e,Qa}var Xa={},B_;function ON(){if(B_)return Xa;B_=1,Object.defineProperty(Xa,"__esModule",{value:!0}),Xa.RdfStoreIndexNestedMapRecursiveQuoted=void 0;const t=qr(),e=q_();let r=class extends e.RdfStoreIndexNestedMapRecursive{constructor(a){super(a),this.features={quotedTripleFiltering:!0}}*findEncoded(a,i){return yield*this.findEncodedInnerQuoted(0,a,i,(0,t.arePatternsQuoted)(i),this.nestedMap,[])}*findEncodedInnerQuoted(a,i,s,o,f,u){if(a===i.length)yield[...u];else{const l=i[a],d=s[a];if(d)if(o[a]){const c=this.dictionary.findQuotedTriplesEncoded(d);for(const h of c){const m=f.get(h);m&&(u[a]=h,yield*this.findEncodedInnerQuoted(a+1,i,s,o,m,u))}}else{const c=l;if(c!==void 0){const h=f.get(c);h&&(u[a]=l,yield*this.findEncodedInnerQuoted(a+1,i,s,o,h,u))}}else for(const[c,h]of f.entries())u[a]=c,yield*this.findEncodedInnerQuoted(a+1,i,s,o,h,u)}}countInner(a,i,s){const o=i[a];let f=0;if(o)if(o.termType==="Quad"&&(0,t.quadHasVariables)(o)){const u=this.dictionary.findQuotedTriplesEncoded(o);for(const l of u)if(a===i.length-1)s.has(l)&&f++;else{const d=s.get(l);d&&(f+=this.countInner(a+1,i,d))}}else{const u=this.dictionary.encodeOptional(o);if(u!==void 0){if(a===i.length-1)return s.has(u)?1:0;const l=s.get(u);l&&(f+=this.countInner(a+1,i,l))}}else{if(a===i.length-1)return s.size;for(const u of s.values())f+=this.countInner(a+1,i,u)}return f}};return Xa.RdfStoreIndexNestedMapRecursiveQuoted=r,Xa}var Za={},k_;function $_(){if(k_)return Za;k_=1,Object.defineProperty(Za,"__esModule",{value:!0}),Za.RdfStoreIndexNestedRecord=void 0;const t=qr();let e=class{constructor(n){this.features={quotedTripleFiltering:!1},this.dictionary=n.dictionary,this.nestedRecords={}}set(n,a){const i=this.nestedRecords,s=i[n[0]]||(i[n[0]]={}),o=s[n[1]]||(s[n[1]]={}),f=o[n[2]]||(o[n[2]]={});return f[n[3]]?!1:(f[n[3]]=a,!0)}remove(n){const a=this.nestedRecords,i=a[n[0]];if(!i)return!1;const s=i[n[1]];if(!s)return!1;const o=s[n[2]];return!o||!o[n[3]]?!1:(delete o[n[3]],Object.keys(o).length===0&&(delete s[n[2]],Object.keys(s).length===0&&(delete i[n[1]],Object.keys(i).length===0&&delete a[n[0]])),!0)}get(n){const a=(0,t.encodeOptionalTerms)(n,this.dictionary);if(!(!a||a.includes(void 0)))return this.getEncoded(a)}getEncoded(n){var a,i,s;return(s=(i=(a=this.nestedRecords[n[0]])===null||a===void 0?void 0:a[n[1]])===null||i===void 0?void 0:i[n[2]])===null||s===void 0?void 0:s[n[3]]}*find(n){const a=(0,t.encodeOptionalTerms)(n,this.dictionary);if(!a)return;const[i,s,o,f]=a,[u,l,d,c]=n;let h,m,_,b,y,p,g;const w=this.nestedRecords,S=i!==void 0?i in w?[i]:[]:Object.keys(w);for(const I of S){y=w[I],h=u||this.dictionary.decode(Number.parseInt(I,10));const O=s!==void 0?s in y?[s]:[]:Object.keys(y);for(const M of O){p=y[M],m=l||this.dictionary.decode(Number.parseInt(M,10));const D=o!==void 0?o in p?[o]:[]:Object.keys(p);for(const N of D){g=p[N],_=d||this.dictionary.decode(Number.parseInt(N,10));const C=f!==void 0?f in g?[f]:[]:Object.keys(g);for(const R of C)b=c||this.dictionary.decode(Number.parseInt(R,10)),yield[h,m,_,b]}}}}*findEncoded(n,a){const[i,s,o,f]=n;let u,l,d;const c=this.nestedRecords,h=i!==void 0?i in c?[i]:[]:Object.keys(c);for(const m of h){u=c[m];const _=s!==void 0?s in u?[s]:[]:Object.keys(u);for(const b of _){l=u[b];const y=o!==void 0?o in l?[o]:[]:Object.keys(l);for(const p of y){d=l[p];const g=f!==void 0?f in d?[f]:[]:Object.keys(d);for(const w of g)yield[Number.parseInt(m,10),Number.parseInt(b,10),Number.parseInt(p,10),Number.parseInt(w,10)]}}}}count(n){let a=0;const i=(0,t.encodeOptionalTerms)(n,this.dictionary);if(!i)return 0;const s=i[0],o=i[1],f=i[2],u=i[3];let l,d,c;const h=this.nestedRecords,m=s!==void 0?s in h?[s]:[]:Object.keys(h);for(const _ of m){l=h[_];const b=o!==void 0?o in l?[o]:[]:Object.keys(l);for(const y of b){d=l[y];const p=f!==void 0?f in d?[f]:[]:Object.keys(d);for(const g of p)c=d[g],u!==void 0?u in c&&a++:a+=Object.keys(c).length}}return a}};return Za.RdfStoreIndexNestedRecord=e,Za}var Ja={},U_;function NN(){if(U_)return Ja;U_=1,Object.defineProperty(Ja,"__esModule",{value:!0}),Ja.RdfStoreIndexNestedRecordQuoted=void 0;const t=qr(),e=$_();let r=class extends e.RdfStoreIndexNestedRecord{constructor(a){super(a),this.features={quotedTripleFiltering:!0}}*getQuotedPatternKeys(a,i){for(const s of this.dictionary.findQuotedTriplesEncoded(i))s in a&&(yield s)}*find(a){const i=(0,t.encodeOptionalTerms)(a,this.dictionary);if(!i)return;const[s,o,f,u]=i,[l,d,c,h]=a,[m,_,b,y]=(0,t.arePatternsQuoted)(a);let p,g,w,S,I,O,M;const D=this.nestedRecords,N=l!==void 0?m?this.getQuotedPatternKeys(D,l):s in D?[s]:[]:Object.keys(D);for(const C of N){I=D[C],p=!m&&l?l:this.dictionary.decode(Number.parseInt(C,10));const R=d!==void 0?_?this.getQuotedPatternKeys(I,d):o in I?[o]:[]:Object.keys(I);for(const F of R){O=I[F],g=!_&&d?d:this.dictionary.decode(Number.parseInt(F,10));const X=c!==void 0?b?this.getQuotedPatternKeys(O,c):f in O?[f]:[]:Object.keys(O);for(const oe of X){M=O[oe],w=!b&&c?c:this.dictionary.decode(Number.parseInt(oe,10));const J=h!==void 0?y?this.getQuotedPatternKeys(M,h):u in M?[u]:[]:Object.keys(M);for(const le of J)S=!y&&h?h:this.dictionary.decode(Number.parseInt(le,10)),yield[p,g,w,S]}}}}*findEncoded(a,i){const[s,o,f,u]=a,[l,d,c,h]=i,[m,_,b,y]=(0,t.arePatternsQuoted)(i);let p,g,w;const S=this.nestedRecords,I=l!==void 0?m?this.getQuotedPatternKeys(S,l):s in S?[s]:[]:Object.keys(S);for(const O of I){p=S[O];const M=d!==void 0?_?this.getQuotedPatternKeys(p,d):o in p?[o]:[]:Object.keys(p);for(const D of M){g=p[D];const N=c!==void 0?b?this.getQuotedPatternKeys(g,c):f in g?[f]:[]:Object.keys(g);for(const C of N){w=g[C];const R=h!==void 0?y?this.getQuotedPatternKeys(w,h):u in w?[u]:[]:Object.keys(w);for(const F of R)yield[Number.parseInt(O,10),Number.parseInt(D,10),Number.parseInt(C,10),Number.parseInt(F,10)]}}}}count(a){let i=0;const s=(0,t.encodeOptionalTerms)(a,this.dictionary);if(!s)return 0;const[o,f,u,l]=s,[d,c,h,m]=a,[_,b,y,p]=(0,t.arePatternsQuoted)(a);let g,w,S;const I=this.nestedRecords,O=d!==void 0?_?this.getQuotedPatternKeys(I,d):o in I?[o]:[]:Object.keys(I);for(const M of O){g=I[M];const D=c!==void 0?b?this.getQuotedPatternKeys(g,c):f in g?[f]:[]:Object.keys(g);for(const N of D){w=g[N];const C=h!==void 0?y?this.getQuotedPatternKeys(w,h):u in w?[u]:[]:Object.keys(w);for(const R of C)S=w[R],m!==void 0?p?i+=[...this.getQuotedPatternKeys(S,m)].length:l in S&&i++:i+=Object.keys(S).length}}return i}};return Ja.RdfStoreIndexNestedRecordQuoted=r,Ja}var zc={},H_;function PN(){return H_||(H_=1,Object.defineProperty(zc,"__esModule",{value:!0})),zc}var Wc={},V_;function DN(){return V_||(V_=1,Object.defineProperty(Wc,"__esModule",{value:!0})),Wc}var G_;function z_(){return G_||(G_=1,function(t){var e=Ca.__createBinding||(Object.create?function(n,a,i,s){s===void 0&&(s=i);var o=Object.getOwnPropertyDescriptor(a,i);(!o||("get"in o?!a.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,s,o)}:function(n,a,i,s){s===void 0&&(s=i),n[s]=a[i]}),r=Ca.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&e(a,n,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(O_(),t),r(EN(),t),r(SN(),t),r(TN(),t),r(__(),t),r(xN(),t),r(S_(),t),r(RN(),t),r(IN(),t),r(AN(),t),r(Hc(),t),r(x_(),t),r(q_(),t),r(ON(),t),r($_(),t),r(NN(),t),r(PN(),t),r(qr(),t),r(DN(),t),r(I_(),t)}(Ca)),Ca}var wi=z_(),Kc=Pt(),Qc={},bf={},Xc,W_;function ar(){if(W_)return Xc;W_=1;function t(m){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},t(m)}function e(m,_,b){return Object.defineProperty(m,"prototype",{writable:!1}),m}function r(m,_){if(!(m instanceof _))throw new TypeError("Cannot call a class as a function")}function n(m,_,b){return _=c(_),a(m,u()?Reflect.construct(_,b,c(m).constructor):_.apply(m,b))}function a(m,_){if(_&&(t(_)=="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i(m)}function i(m){if(m===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}function s(m,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(_&&_.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),Object.defineProperty(m,"prototype",{writable:!1}),_&&d(m,_)}function o(m){var _=typeof Map=="function"?new Map:void 0;return o=function(y){if(y===null||!l(y))return y;if(typeof y!="function")throw new TypeError("Super expression must either be null or a function");if(_!==void 0){if(_.has(y))return _.get(y);_.set(y,p)}function p(){return f(y,arguments,c(this).constructor)}return p.prototype=Object.create(y.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),d(p,y)},o(m)}function f(m,_,b){if(u())return Reflect.construct.apply(null,arguments);var y=[null];y.push.apply(y,_);var p=new(m.bind.apply(m,y));return b&&d(p,b.prototype),p}function u(){try{var m=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u=function(){return!!m})()}function l(m){try{return Function.toString.call(m).indexOf("[native code]")!==-1}catch{return typeof m=="function"}}function d(m,_){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(b,y){return b.__proto__=y,b},d(m,_)}function c(m){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},c(m)}var h=function(m){function _(b){var y;return r(this,_),y=n(this,_,[`Format functions must be synchronous taking a two arguments: (info, opts)
Found: `.concat(b.toString().split(`
`)[0],`
`)]),Error.captureStackTrace(y,_),y}return s(_,m),e(_)}(o(Error));return Xc=function(m){if(m.length>2)throw new h(m);function _(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=y}_.prototype.transform=m;function b(y){return new _(y)}return b.Format=_,b},Xc}var Ya={exports:{}},Zc={exports:{}},Jc={exports:{}},Yc={},ed={},td,K_;function rd(){return K_||(K_=1,td=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var a=42;e[r]=a;for(var i in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==a||o.enumerable!==!0)return!1}return!0}),td}var nd,Q_;function mf(){if(Q_)return nd;Q_=1;var t=rd();return nd=function(){return t()&&!!Symbol.toStringTag},nd}var id,X_;function ad(){return X_||(X_=1,id=Object),id}var od,Z_;function CN(){return Z_||(Z_=1,od=Error),od}var sd,J_;function LN(){return J_||(J_=1,sd=EvalError),sd}var ud,Y_;function FN(){return Y_||(Y_=1,ud=RangeError),ud}var fd,e1;function MN(){return e1||(e1=1,fd=ReferenceError),fd}var ld,t1;function r1(){return t1||(t1=1,ld=SyntaxError),ld}var cd,n1;function Kr(){return n1||(n1=1,cd=TypeError),cd}var dd,i1;function jN(){return i1||(i1=1,dd=URIError),dd}var hd,a1;function qN(){return a1||(a1=1,hd=Math.abs),hd}var pd,o1;function BN(){return o1||(o1=1,pd=Math.floor),pd}var yd,s1;function kN(){return s1||(s1=1,yd=Math.max),yd}var gd,u1;function $N(){return u1||(u1=1,gd=Math.min),gd}var bd,f1;function UN(){return f1||(f1=1,bd=Math.pow),bd}var md,l1;function HN(){return l1||(l1=1,md=Math.round),md}var _d,c1;function VN(){return c1||(c1=1,_d=Number.isNaN||function(e){return e!==e}),_d}var vd,d1;function GN(){if(d1)return vd;d1=1;var t=VN();return vd=function(r){return t(r)||r===0?r:r<0?-1:1},vd}var wd,h1;function zN(){return h1||(h1=1,wd=Object.getOwnPropertyDescriptor),wd}var Ed,p1;function Ei(){if(p1)return Ed;p1=1;var t=zN();if(t)try{t([],"length")}catch{t=null}return Ed=t,Ed}var Sd,y1;function _f(){if(y1)return Sd;y1=1;var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return Sd=t,Sd}var Td,g1;function WN(){if(g1)return Td;g1=1;var t=typeof Symbol<"u"&&Symbol,e=rd();return Td=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},Td}var xd,b1;function m1(){return b1||(b1=1,xd=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),xd}var Rd,_1;function v1(){if(_1)return Rd;_1=1;var t=ad();return Rd=t.getPrototypeOf||null,Rd}var Id,w1;function KN(){if(w1)return Id;w1=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,r=Math.max,n="[object Function]",a=function(f,u){for(var l=[],d=0;d<f.length;d+=1)l[d]=f[d];for(var c=0;c<u.length;c+=1)l[c+f.length]=u[c];return l},i=function(f,u){for(var l=[],d=u,c=0;d<f.length;d+=1,c+=1)l[c]=f[d];return l},s=function(o,f){for(var u="",l=0;l<o.length;l+=1)u+=o[l],l+1<o.length&&(u+=f);return u};return Id=function(f){var u=this;if(typeof u!="function"||e.apply(u)!==n)throw new TypeError(t+u);for(var l=i(arguments,1),d,c=function(){if(this instanceof d){var y=u.apply(this,a(l,arguments));return Object(y)===y?y:this}return u.apply(f,a(l,arguments))},h=r(0,u.length-l.length),m=[],_=0;_<h;_++)m[_]="$"+_;if(d=Function("binder","return function ("+s(m,",")+"){ return binder.apply(this,arguments); }")(c),u.prototype){var b=function(){};b.prototype=u.prototype,d.prototype=new b,b.prototype=null}return d},Id}var Ad,E1;function eo(){if(E1)return Ad;E1=1;var t=KN();return Ad=Function.prototype.bind||t,Ad}var Od,S1;function Nd(){return S1||(S1=1,Od=Function.prototype.call),Od}var Pd,T1;function Dd(){return T1||(T1=1,Pd=Function.prototype.apply),Pd}var Cd,x1;function QN(){return x1||(x1=1,Cd=typeof Reflect<"u"&&Reflect&&Reflect.apply),Cd}var Ld,R1;function I1(){if(R1)return Ld;R1=1;var t=eo(),e=Dd(),r=Nd(),n=QN();return Ld=n||t.call(r,e),Ld}var Fd,A1;function Md(){if(A1)return Fd;A1=1;var t=eo(),e=Kr(),r=Nd(),n=I1();return Fd=function(i){if(i.length<1||typeof i[0]!="function")throw new e("a function is required");return n(t,r,i)},Fd}var jd,O1;function XN(){if(O1)return jd;O1=1;var t=Md(),e=Ei(),r;try{r=[].__proto__===Array.prototype}catch(s){if(!s||typeof s!="object"||!("code"in s)||s.code!=="ERR_PROTO_ACCESS")throw s}var n=!!r&&e&&e(Object.prototype,"__proto__"),a=Object,i=a.getPrototypeOf;return jd=n&&typeof n.get=="function"?t([n.get]):typeof i=="function"?function(o){return i(o==null?o:a(o))}:!1,jd}var qd,N1;function P1(){if(N1)return qd;N1=1;var t=m1(),e=v1(),r=XN();return qd=t?function(a){return t(a)}:e?function(a){if(!a||typeof a!="object"&&typeof a!="function")throw new TypeError("getProto: not an object");return e(a)}:r?function(a){return r(a)}:null,qd}var Bd,D1;function C1(){if(D1)return Bd;D1=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=eo();return Bd=r.call(t,e),Bd}var kd,L1;function to(){if(L1)return kd;L1=1;var t,e=ad(),r=CN(),n=LN(),a=FN(),i=MN(),s=r1(),o=Kr(),f=jN(),u=qN(),l=BN(),d=kN(),c=$N(),h=UN(),m=HN(),_=GN(),b=Function,y=function(G){try{return b('"use strict"; return ('+G+").constructor;")()}catch{}},p=Ei(),g=_f(),w=function(){throw new o},S=p?function(){try{return arguments.callee,w}catch{try{return p(arguments,"callee").get}catch{return w}}}():w,I=WN()(),O=P1(),M=v1(),D=m1(),N=Dd(),C=Nd(),R={},F=typeof Uint8Array>"u"||!O?t:O(Uint8Array),X={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":I&&O?O([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":R,"%AsyncGenerator%":R,"%AsyncGeneratorFunction%":R,"%AsyncIteratorPrototype%":R,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":r,"%eval%":eval,"%EvalError%":n,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":b,"%GeneratorFunction%":R,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":I&&O?O(O([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!I||!O?t:O(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":p,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":a,"%ReferenceError%":i,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!I||!O?t:O(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":I&&O?O(""[Symbol.iterator]()):t,"%Symbol%":I?Symbol:t,"%SyntaxError%":s,"%ThrowTypeError%":S,"%TypedArray%":F,"%TypeError%":o,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":f,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet,"%Function.prototype.call%":C,"%Function.prototype.apply%":N,"%Object.defineProperty%":g,"%Object.getPrototypeOf%":M,"%Math.abs%":u,"%Math.floor%":l,"%Math.max%":d,"%Math.min%":c,"%Math.pow%":h,"%Math.round%":m,"%Math.sign%":_,"%Reflect.getPrototypeOf%":D};if(O)try{null.error}catch(G){var oe=O(O(G));X["%Error.prototype%"]=oe}var J=function G(te){var E;if(te==="%AsyncFunction%")E=y("async function () {}");else if(te==="%GeneratorFunction%")E=y("function* () {}");else if(te==="%AsyncGeneratorFunction%")E=y("async function* () {}");else if(te==="%AsyncGenerator%"){var v=G("%AsyncGeneratorFunction%");v&&(E=v.prototype)}else if(te==="%AsyncIteratorPrototype%"){var T=G("%AsyncGenerator%");T&&O&&(E=O(T.prototype))}return X[te]=E,E},le={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ae=eo(),Z=C1(),H=ae.call(C,Array.prototype.concat),de=ae.call(N,Array.prototype.splice),he=ae.call(C,String.prototype.replace),W=ae.call(C,String.prototype.slice),z=ae.call(C,RegExp.prototype.exec),Q=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,A=/\\(\\)?/g,P=function(te){var E=W(te,0,1),v=W(te,-1);if(E==="%"&&v!=="%")throw new s("invalid intrinsic syntax, expected closing `%`");if(v==="%"&&E!=="%")throw new s("invalid intrinsic syntax, expected opening `%`");var T=[];return he(te,Q,function(L,Y,ne,pe){T[T.length]=ne?he(pe,A,"$1"):Y||L}),T},k=function(te,E){var v=te,T;if(Z(le,v)&&(T=le[v],v="%"+T[0]+"%"),Z(X,v)){var L=X[v];if(L===R&&(L=J(v)),typeof L>"u"&&!E)throw new o("intrinsic "+te+" exists, but is not available. Please file an issue!");return{alias:T,name:v,value:L}}throw new s("intrinsic "+te+" does not exist!")};return kd=function(te,E){if(typeof te!="string"||te.length===0)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof E!="boolean")throw new o('"allowMissing" argument must be a boolean');if(z(/^%?[^%]*%?$/,te)===null)throw new s("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var v=P(te),T=v.length>0?v[0]:"",L=k("%"+T+"%",E),Y=L.name,ne=L.value,pe=!1,we=L.alias;we&&(T=we[0],de(v,H([0,1],we)));for(var fe=1,Re=!0;fe<v.length;fe+=1){var Le=v[fe],Te=W(Le,0,1),Ue=W(Le,-1);if((Te==='"'||Te==="'"||Te==="`"||Ue==='"'||Ue==="'"||Ue==="`")&&Te!==Ue)throw new s("property names with quotes must have matching quotes");if((Le==="constructor"||!Re)&&(pe=!0),T+="."+Le,Y="%"+T+"%",Z(X,Y))ne=X[Y];else if(ne!=null){if(!(Le in ne)){if(!E)throw new o("base intrinsic for "+te+" exists, but the property is not available.");return}if(p&&fe+1>=v.length){var _e=p(ne,Le);Re=!!_e,Re&&"get"in _e&&!("originalValue"in _e.get)?ne=_e.get:ne=ne[Le]}else Re=Z(ne,Le),ne=ne[Le];Re&&!pe&&(X[Y]=ne)}}return ne},kd}var $d,F1;function dn(){if(F1)return $d;F1=1;var t=to(),e=Md(),r=e([t("%String.prototype.indexOf%")]);return $d=function(a,i){var s=t(a,!!i);return typeof s=="function"&&r(a,".prototype.")>-1?e([s]):s},$d}var Ud,M1;function ZN(){if(M1)return Ud;M1=1;var t=mf()(),e=dn(),r=e("Object.prototype.toString"),n=function(o){return t&&o&&typeof o=="object"&&Symbol.toStringTag in o?!1:r(o)==="[object Arguments]"},a=function(o){return n(o)?!0:o!==null&&typeof o=="object"&&"length"in o&&typeof o.length=="number"&&o.length>=0&&r(o)!=="[object Array]"&&"callee"in o&&r(o.callee)==="[object Function]"},i=function(){return n(arguments)}();return n.isLegacyArguments=a,Ud=i?n:a,Ud}var Hd,j1;function JN(){if(j1)return Hd;j1=1;var t=dn(),e=mf()(),r=C1(),n=Ei(),a;if(e){var i=t("RegExp.prototype.exec"),s={},o=function(){throw s},f={toString:o,valueOf:o};typeof Symbol.toPrimitive=="symbol"&&(f[Symbol.toPrimitive]=o),a=function(c){if(!c||typeof c!="object")return!1;var h=n(c,"lastIndex"),m=h&&r(h,"value");if(!m)return!1;try{i(c,f)}catch(_){return _===s}}}else{var u=t("Object.prototype.toString"),l="[object RegExp]";a=function(c){return!c||typeof c!="object"&&typeof c!="function"?!1:u(c)===l}}return Hd=a,Hd}var Vd,q1;function YN(){if(q1)return Vd;q1=1;var t=dn(),e=JN(),r=t("RegExp.prototype.exec"),n=Kr();return Vd=function(i){if(!e(i))throw new n("`regex` must be a RegExp");return function(o){return r(i,o)!==null}},Vd}var Gd,B1;function eP(){if(B1)return Gd;B1=1;var t=dn(),e=YN(),r=e(/^\s*(?:function)?\*/),n=mf()(),a=P1(),i=t("Object.prototype.toString"),s=t("Function.prototype.toString"),o=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch{}},f;return Gd=function(l){if(typeof l!="function")return!1;if(r(s(l)))return!0;if(!n){var d=i(l);return d==="[object GeneratorFunction]"}if(!a)return!1;if(typeof f>"u"){var c=o();f=c?a(c):!1}return a(l)===f},Gd}var zd,k1;function tP(){if(k1)return zd;k1=1;var t=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,n;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw n}}),n={},e(function(){throw 42},null,r)}catch(p){p!==n&&(e=null)}else e=null;var a=/^\s*class\b/,i=function(g){try{var w=t.call(g);return a.test(w)}catch{return!1}},s=function(g){try{return i(g)?!1:(t.call(g),!0)}catch{return!1}},o=Object.prototype.toString,f="[object Object]",u="[object Function]",l="[object GeneratorFunction]",d="[object HTMLAllCollection]",c="[object HTML document.all class]",h="[object HTMLCollection]",m=typeof Symbol=="function"&&!!Symbol.toStringTag,_=!(0 in[,]),b=function(){return!1};if(typeof document=="object"){var y=document.all;o.call(y)===o.call(document.all)&&(b=function(g){if((_||!g)&&(typeof g>"u"||typeof g=="object"))try{var w=o.call(g);return(w===d||w===c||w===h||w===f)&&g("")==null}catch{}return!1})}return zd=e?function(g){if(b(g))return!0;if(!g||typeof g!="function"&&typeof g!="object")return!1;try{e(g,null,r)}catch(w){if(w!==n)return!1}return!i(g)&&s(g)}:function(g){if(b(g))return!0;if(!g||typeof g!="function"&&typeof g!="object")return!1;if(m)return s(g);if(i(g))return!1;var w=o.call(g);return w!==u&&w!==l&&!/^\[object HTML/.test(w)?!1:s(g)},zd}var Wd,$1;function rP(){if($1)return Wd;$1=1;var t=tP(),e=Object.prototype.toString,r=Object.prototype.hasOwnProperty,n=function(f,u,l){for(var d=0,c=f.length;d<c;d++)r.call(f,d)&&(l==null?u(f[d],d,f):u.call(l,f[d],d,f))},a=function(f,u,l){for(var d=0,c=f.length;d<c;d++)l==null?u(f.charAt(d),d,f):u.call(l,f.charAt(d),d,f)},i=function(f,u,l){for(var d in f)r.call(f,d)&&(l==null?u(f[d],d,f):u.call(l,f[d],d,f))},s=function(f,u,l){if(!t(u))throw new TypeError("iterator must be a function");var d;arguments.length>=3&&(d=l),e.call(f)==="[object Array]"?n(f,u,d):typeof f=="string"?a(f,u,d):i(f,u,d)};return Wd=s,Wd}var Kd,U1;function nP(){return U1||(U1=1,Kd=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),Kd}var Qd,H1;function iP(){if(H1)return Qd;H1=1;var t=nP(),e=typeof globalThis>"u"?Ye:globalThis;return Qd=function(){for(var n=[],a=0;a<t.length;a++)typeof e[t[a]]=="function"&&(n[n.length]=t[a]);return n},Qd}var Xd={exports:{}},Zd,V1;function G1(){if(V1)return Zd;V1=1;var t=_f(),e=r1(),r=Kr(),n=Ei();return Zd=function(i,s,o){if(!i||typeof i!="object"&&typeof i!="function")throw new r("`obj` must be an object or a function`");if(typeof s!="string"&&typeof s!="symbol")throw new r("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new r("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new r("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new r("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new r("`loose`, if provided, must be a boolean");var f=arguments.length>3?arguments[3]:null,u=arguments.length>4?arguments[4]:null,l=arguments.length>5?arguments[5]:null,d=arguments.length>6?arguments[6]:!1,c=!!n&&n(i,s);if(t)t(i,s,{configurable:l===null&&c?c.configurable:!l,enumerable:f===null&&c?c.enumerable:!f,value:o,writable:u===null&&c?c.writable:!u});else if(d||!f&&!u&&!l)i[s]=o;else throw new e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Zd}var Jd,z1;function W1(){if(z1)return Jd;z1=1;var t=_f(),e=function(){return!!t};return e.hasArrayLengthDefineBug=function(){if(!t)return null;try{return t([],"length",{value:1}).length!==1}catch{return!0}},Jd=e,Jd}var Yd,K1;function aP(){if(K1)return Yd;K1=1;var t=to(),e=G1(),r=W1()(),n=Ei(),a=Kr(),i=t("%Math.floor%");return Yd=function(o,f){if(typeof o!="function")throw new a("`fn` is not a function");if(typeof f!="number"||f<0||f>4294967295||i(f)!==f)throw new a("`length` must be a positive 32-bit integer");var u=arguments.length>2&&!!arguments[2],l=!0,d=!0;if("length"in o&&n){var c=n(o,"length");c&&!c.configurable&&(l=!1),c&&!c.writable&&(d=!1)}return(l||d||!u)&&(r?e(o,"length",f,!0,!0):e(o,"length",f)),o},Yd}var eh,Q1;function oP(){if(Q1)return eh;Q1=1;var t=eo(),e=Dd(),r=I1();return eh=function(){return r(t,e,arguments)},eh}var X1;function vf(){return X1||(X1=1,function(t){var e=aP(),r=_f(),n=Md(),a=oP();t.exports=function(s){var o=n(arguments),f=s.length-(arguments.length-1);return e(o,1+(f>0?f:0),!0)},r?r(t.exports,"apply",{value:a}):t.exports.apply=a}(Xd)),Xd.exports}var th,Z1;function J1(){if(Z1)return th;Z1=1;var t=rP(),e=iP(),r=vf(),n=dn(),a=Ei(),i=n("Object.prototype.toString"),s=mf()(),o=typeof globalThis>"u"?Ye:globalThis,f=e(),u=n("String.prototype.slice"),l=Object.getPrototypeOf,d=n("Array.prototype.indexOf",!0)||function(b,y){for(var p=0;p<b.length;p+=1)if(b[p]===y)return p;return-1},c={__proto__:null};s&&a&&l?t(f,function(_){var b=new o[_];if(Symbol.toStringTag in b){var y=l(b),p=a(y,Symbol.toStringTag);if(!p){var g=l(y);p=a(g,Symbol.toStringTag)}c["$"+_]=r(p.get)}}):t(f,function(_){var b=new o[_],y=b.slice||b.set;y&&(c["$"+_]=r(y))});var h=function(b){var y=!1;return t(c,function(p,g){if(!y)try{"$"+p(b)===g&&(y=u(g,1))}catch{}}),y},m=function(b){var y=!1;return t(c,function(p,g){if(!y)try{p(b),y=u(g,1)}catch{}}),y};return th=function(b){if(!b||typeof b!="object")return!1;if(!s){var y=u(i(b),8,-1);return d(f,y)>-1?y:y!=="Object"?!1:m(b)}return a?h(b):null},th}var rh,Y1;function sP(){if(Y1)return rh;Y1=1;var t=J1();return rh=function(r){return!!t(r)},rh}var ev;function uP(){return ev||(ev=1,function(t){var e=ZN(),r=eP(),n=J1(),a=sP();function i(fe){return fe.call.bind(fe)}var s=typeof BigInt<"u",o=typeof Symbol<"u",f=i(Object.prototype.toString),u=i(Number.prototype.valueOf),l=i(String.prototype.valueOf),d=i(Boolean.prototype.valueOf);if(s)var c=i(BigInt.prototype.valueOf);if(o)var h=i(Symbol.prototype.valueOf);function m(fe,Re){if(typeof fe!="object")return!1;try{return Re(fe),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=r,t.isTypedArray=a;function _(fe){return typeof Promise<"u"&&fe instanceof Promise||fe!==null&&typeof fe=="object"&&typeof fe.then=="function"&&typeof fe.catch=="function"}t.isPromise=_;function b(fe){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(fe):a(fe)||W(fe)}t.isArrayBufferView=b;function y(fe){return n(fe)==="Uint8Array"}t.isUint8Array=y;function p(fe){return n(fe)==="Uint8ClampedArray"}t.isUint8ClampedArray=p;function g(fe){return n(fe)==="Uint16Array"}t.isUint16Array=g;function w(fe){return n(fe)==="Uint32Array"}t.isUint32Array=w;function S(fe){return n(fe)==="Int8Array"}t.isInt8Array=S;function I(fe){return n(fe)==="Int16Array"}t.isInt16Array=I;function O(fe){return n(fe)==="Int32Array"}t.isInt32Array=O;function M(fe){return n(fe)==="Float32Array"}t.isFloat32Array=M;function D(fe){return n(fe)==="Float64Array"}t.isFloat64Array=D;function N(fe){return n(fe)==="BigInt64Array"}t.isBigInt64Array=N;function C(fe){return n(fe)==="BigUint64Array"}t.isBigUint64Array=C;function R(fe){return f(fe)==="[object Map]"}R.working=typeof Map<"u"&&R(new Map);function F(fe){return typeof Map>"u"?!1:R.working?R(fe):fe instanceof Map}t.isMap=F;function X(fe){return f(fe)==="[object Set]"}X.working=typeof Set<"u"&&X(new Set);function oe(fe){return typeof Set>"u"?!1:X.working?X(fe):fe instanceof Set}t.isSet=oe;function J(fe){return f(fe)==="[object WeakMap]"}J.working=typeof WeakMap<"u"&&J(new WeakMap);function le(fe){return typeof WeakMap>"u"?!1:J.working?J(fe):fe instanceof WeakMap}t.isWeakMap=le;function ae(fe){return f(fe)==="[object WeakSet]"}ae.working=typeof WeakSet<"u"&&ae(new WeakSet);function Z(fe){return ae(fe)}t.isWeakSet=Z;function H(fe){return f(fe)==="[object ArrayBuffer]"}H.working=typeof ArrayBuffer<"u"&&H(new ArrayBuffer);function de(fe){return typeof ArrayBuffer>"u"?!1:H.working?H(fe):fe instanceof ArrayBuffer}t.isArrayBuffer=de;function he(fe){return f(fe)==="[object DataView]"}he.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&he(new DataView(new ArrayBuffer(1),0,1));function W(fe){return typeof DataView>"u"?!1:he.working?he(fe):fe instanceof DataView}t.isDataView=W;var z=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function Q(fe){return f(fe)==="[object SharedArrayBuffer]"}function A(fe){return typeof z>"u"?!1:(typeof Q.working>"u"&&(Q.working=Q(new z)),Q.working?Q(fe):fe instanceof z)}t.isSharedArrayBuffer=A;function P(fe){return f(fe)==="[object AsyncFunction]"}t.isAsyncFunction=P;function k(fe){return f(fe)==="[object Map Iterator]"}t.isMapIterator=k;function G(fe){return f(fe)==="[object Set Iterator]"}t.isSetIterator=G;function te(fe){return f(fe)==="[object Generator]"}t.isGeneratorObject=te;function E(fe){return f(fe)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=E;function v(fe){return m(fe,u)}t.isNumberObject=v;function T(fe){return m(fe,l)}t.isStringObject=T;function L(fe){return m(fe,d)}t.isBooleanObject=L;function Y(fe){return s&&m(fe,c)}t.isBigIntObject=Y;function ne(fe){return o&&m(fe,h)}t.isSymbolObject=ne;function pe(fe){return v(fe)||T(fe)||L(fe)||Y(fe)||ne(fe)}t.isBoxedPrimitive=pe;function we(fe){return typeof Uint8Array<"u"&&(de(fe)||A(fe))}t.isAnyArrayBuffer=we,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(fe){Object.defineProperty(t,fe,{enumerable:!1,value:function(){throw new Error(fe+" is not supported in userland")}})})}(ed)),ed}var nh,tv;function fP(){return tv||(tv=1,nh=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}),nh}var wf={exports:{}},rv;function vt(){return rv||(rv=1,typeof Object.create=="function"?wf.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:wf.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}),wf.exports}var nv;function wt(){return nv||(nv=1,function(t){var e={},r=Object.getOwnPropertyDescriptors||function(z){for(var Q=Object.keys(z),A={},P=0;P<Q.length;P++)A[Q[P]]=Object.getOwnPropertyDescriptor(z,Q[P]);return A},n=/%[sdj%]/g;t.format=function(W){if(!I(W)){for(var z=[],Q=0;Q<arguments.length;Q++)z.push(o(arguments[Q]));return z.join(" ")}for(var Q=1,A=arguments,P=A.length,k=String(W).replace(n,function(te){if(te==="%%")return"%";if(Q>=P)return te;switch(te){case"%s":return String(A[Q++]);case"%d":return Number(A[Q++]);case"%j":try{return JSON.stringify(A[Q++])}catch{return"[Circular]"}default:return te}}),G=A[Q];Q<P;G=A[++Q])g(G)||!N(G)?k+=" "+G:k+=" "+o(G);return k},t.deprecate=function(W,z){if(typeof xe<"u"&&xe.noDeprecation===!0)return W;if(typeof xe>"u")return function(){return t.deprecate(W,z).apply(this,arguments)};var Q=!1;function A(){if(!Q){if(xe.throwDeprecation)throw new Error(z);xe.traceDeprecation?console.trace(z):console.error(z),Q=!0}return W.apply(this,arguments)}return A};var a={},i=/^$/;if(e.NODE_DEBUG){var s=e.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+s+"$","i")}t.debuglog=function(W){if(W=W.toUpperCase(),!a[W])if(i.test(W)){var z=xe.pid;a[W]=function(){var Q=t.format.apply(t,arguments);console.error("%s %d: %s",W,z,Q)}}else a[W]=function(){};return a[W]};function o(W,z){var Q={seen:[],stylize:u};return arguments.length>=3&&(Q.depth=arguments[2]),arguments.length>=4&&(Q.colors=arguments[3]),p(z)?Q.showHidden=z:z&&t._extend(Q,z),M(Q.showHidden)&&(Q.showHidden=!1),M(Q.depth)&&(Q.depth=2),M(Q.colors)&&(Q.colors=!1),M(Q.customInspect)&&(Q.customInspect=!0),Q.colors&&(Q.stylize=f),d(Q,W,Q.depth)}t.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function f(W,z){var Q=o.styles[z];return Q?"\x1B["+o.colors[Q][0]+"m"+W+"\x1B["+o.colors[Q][1]+"m":W}function u(W,z){return W}function l(W){var z={};return W.forEach(function(Q,A){z[Q]=!0}),z}function d(W,z,Q){if(W.customInspect&&z&&F(z.inspect)&&z.inspect!==t.inspect&&!(z.constructor&&z.constructor.prototype===z)){var A=z.inspect(Q,W);return I(A)||(A=d(W,A,Q)),A}var P=c(W,z);if(P)return P;var k=Object.keys(z),G=l(k);if(W.showHidden&&(k=Object.getOwnPropertyNames(z)),R(z)&&(k.indexOf("message")>=0||k.indexOf("description")>=0))return h(z);if(k.length===0){if(F(z)){var te=z.name?": "+z.name:"";return W.stylize("[Function"+te+"]","special")}if(D(z))return W.stylize(RegExp.prototype.toString.call(z),"regexp");if(C(z))return W.stylize(Date.prototype.toString.call(z),"date");if(R(z))return h(z)}var E="",v=!1,T=["{","}"];if(y(z)&&(v=!0,T=["[","]"]),F(z)){var L=z.name?": "+z.name:"";E=" [Function"+L+"]"}if(D(z)&&(E=" "+RegExp.prototype.toString.call(z)),C(z)&&(E=" "+Date.prototype.toUTCString.call(z)),R(z)&&(E=" "+h(z)),k.length===0&&(!v||z.length==0))return T[0]+E+T[1];if(Q<0)return D(z)?W.stylize(RegExp.prototype.toString.call(z),"regexp"):W.stylize("[Object]","special");W.seen.push(z);var Y;return v?Y=m(W,z,Q,G,k):Y=k.map(function(ne){return _(W,z,Q,G,ne,v)}),W.seen.pop(),b(Y,E,T)}function c(W,z){if(M(z))return W.stylize("undefined","undefined");if(I(z)){var Q="'"+JSON.stringify(z).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return W.stylize(Q,"string")}if(S(z))return W.stylize(""+z,"number");if(p(z))return W.stylize(""+z,"boolean");if(g(z))return W.stylize("null","null")}function h(W){return"["+Error.prototype.toString.call(W)+"]"}function m(W,z,Q,A,P){for(var k=[],G=0,te=z.length;G<te;++G)Z(z,String(G))?k.push(_(W,z,Q,A,String(G),!0)):k.push("");return P.forEach(function(E){E.match(/^\d+$/)||k.push(_(W,z,Q,A,E,!0))}),k}function _(W,z,Q,A,P,k){var G,te,E;if(E=Object.getOwnPropertyDescriptor(z,P)||{value:z[P]},E.get?E.set?te=W.stylize("[Getter/Setter]","special"):te=W.stylize("[Getter]","special"):E.set&&(te=W.stylize("[Setter]","special")),Z(A,P)||(G="["+P+"]"),te||(W.seen.indexOf(E.value)<0?(g(Q)?te=d(W,E.value,null):te=d(W,E.value,Q-1),te.indexOf(`
`)>-1&&(k?te=te.split(`
`).map(function(v){return"  "+v}).join(`
`).slice(2):te=`
`+te.split(`
`).map(function(v){return"   "+v}).join(`
`))):te=W.stylize("[Circular]","special")),M(G)){if(k&&P.match(/^\d+$/))return te;G=JSON.stringify(""+P),G.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(G=G.slice(1,-1),G=W.stylize(G,"name")):(G=G.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),G=W.stylize(G,"string"))}return G+": "+te}function b(W,z,Q){var A=W.reduce(function(P,k){return k.indexOf(`
`)>=0,P+k.replace(/\u001b\[\d\d?m/g,"").length+1},0);return A>60?Q[0]+(z===""?"":z+`
 `)+" "+W.join(`,
  `)+" "+Q[1]:Q[0]+z+" "+W.join(", ")+" "+Q[1]}t.types=uP();function y(W){return Array.isArray(W)}t.isArray=y;function p(W){return typeof W=="boolean"}t.isBoolean=p;function g(W){return W===null}t.isNull=g;function w(W){return W==null}t.isNullOrUndefined=w;function S(W){return typeof W=="number"}t.isNumber=S;function I(W){return typeof W=="string"}t.isString=I;function O(W){return typeof W=="symbol"}t.isSymbol=O;function M(W){return W===void 0}t.isUndefined=M;function D(W){return N(W)&&oe(W)==="[object RegExp]"}t.isRegExp=D,t.types.isRegExp=D;function N(W){return typeof W=="object"&&W!==null}t.isObject=N;function C(W){return N(W)&&oe(W)==="[object Date]"}t.isDate=C,t.types.isDate=C;function R(W){return N(W)&&(oe(W)==="[object Error]"||W instanceof Error)}t.isError=R,t.types.isNativeError=R;function F(W){return typeof W=="function"}t.isFunction=F;function X(W){return W===null||typeof W=="boolean"||typeof W=="number"||typeof W=="string"||typeof W=="symbol"||typeof W>"u"}t.isPrimitive=X,t.isBuffer=fP();function oe(W){return Object.prototype.toString.call(W)}function J(W){return W<10?"0"+W.toString(10):W.toString(10)}var le=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ae(){var W=new Date,z=[J(W.getHours()),J(W.getMinutes()),J(W.getSeconds())].join(":");return[W.getDate(),le[W.getMonth()],z].join(" ")}t.log=function(){console.log("%s - %s",ae(),t.format.apply(t,arguments))},t.inherits=vt(),t._extend=function(W,z){if(!z||!N(z))return W;for(var Q=Object.keys(z),A=Q.length;A--;)W[Q[A]]=z[Q[A]];return W};function Z(W,z){return Object.prototype.hasOwnProperty.call(W,z)}var H=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(z){if(typeof z!="function")throw new TypeError('The "original" argument must be of type Function');if(H&&z[H]){var Q=z[H];if(typeof Q!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Q,H,{value:Q,enumerable:!1,writable:!1,configurable:!0}),Q}function Q(){for(var A,P,k=new Promise(function(E,v){A=E,P=v}),G=[],te=0;te<arguments.length;te++)G.push(arguments[te]);G.push(function(E,v){E?P(E):A(v)});try{z.apply(this,G)}catch(E){P(E)}return k}return Object.setPrototypeOf(Q,Object.getPrototypeOf(z)),H&&Object.defineProperty(Q,H,{value:Q,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Q,r(z))},t.promisify.custom=H;function de(W,z){if(!W){var Q=new Error("Promise was rejected with a falsy value");Q.reason=W,W=Q}return z(W)}function he(W){if(typeof W!="function")throw new TypeError('The "original" argument must be of type Function');function z(){for(var Q=[],A=0;A<arguments.length;A++)Q.push(arguments[A]);var P=Q.pop();if(typeof P!="function")throw new TypeError("The last argument must be of type Function");var k=this,G=function(){return P.apply(k,arguments)};W.apply(this,Q).then(function(te){xe.nextTick(G.bind(null,null,te))},function(te){xe.nextTick(de.bind(null,te,G))})}return Object.setPrototypeOf(z,Object.getPrototypeOf(W)),Object.defineProperties(z,r(W)),z}t.callbackify=he}(Yc)),Yc}var ih={exports:{}},iv;function lP(){return iv||(iv=1,function(t){var e={};t.exports=e;var r={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],brightRed:[91,39],brightGreen:[92,39],brightYellow:[93,39],brightBlue:[94,39],brightMagenta:[95,39],brightCyan:[96,39],brightWhite:[97,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgGray:[100,49],bgGrey:[100,49],bgBrightRed:[101,49],bgBrightGreen:[102,49],bgBrightYellow:[103,49],bgBrightBlue:[104,49],bgBrightMagenta:[105,49],bgBrightCyan:[106,49],bgBrightWhite:[107,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(r).forEach(function(n){var a=r[n],i=e[n]=[];i.open="\x1B["+a[0]+"m",i.close="\x1B["+a[1]+"m"})}(ih)),ih.exports}var Dt={},av;function Si(){return av||(av=1,Dt.endianness=function(){return"LE"},Dt.hostname=function(){return typeof location<"u"?location.hostname:""},Dt.loadavg=function(){return[]},Dt.uptime=function(){return 0},Dt.freemem=function(){return Number.MAX_VALUE},Dt.totalmem=function(){return Number.MAX_VALUE},Dt.cpus=function(){return[]},Dt.type=function(){return"Browser"},Dt.release=function(){return typeof navigator<"u"?navigator.appVersion:""},Dt.networkInterfaces=Dt.getNetworkInterfaces=function(){return{}},Dt.arch=function(){return"javascript"},Dt.platform=function(){return"browser"},Dt.tmpdir=Dt.tmpDir=function(){return"/tmp"},Dt.EOL=`
`,Dt.homedir=function(){return"/"}),Dt}var ah,ov;function cP(){return ov||(ov=1,ah=function(t,e){e=e||xe.argv||[];var r=e.indexOf("--"),n=/^-{1,2}/.test(t)?"":"--",a=e.indexOf(n+t);return a!==-1&&(r===-1?!0:a<r)}),ah}var oh,sv;function dP(){if(sv)return oh;sv=1;var t={},e=Si(),r=cP(),n=t,a=void 0;r("no-color")||r("no-colors")||r("color=false")?a=!1:(r("color")||r("colors")||r("color=true")||r("color=always"))&&(a=!0),"FORCE_COLOR"in n&&(a=n.FORCE_COLOR.length===0||parseInt(n.FORCE_COLOR,10)!==0);function i(f){return f===0?!1:{level:f,hasBasic:!0,has256:f>=2,has16m:f>=3}}function s(f){if(a===!1)return 0;if(r("color=16m")||r("color=full")||r("color=truecolor"))return 3;if(r("color=256"))return 2;if(f&&!f.isTTY&&a!==!0)return 0;var u=a?1:0;if(xe.platform==="win32"){var l=e.release().split(".");return Number(xe.versions.node.split(".")[0])>=8&&Number(l[0])>=10&&Number(l[2])>=10586?Number(l[2])>=14931?3:2:1}if("CI"in n)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(function(c){return c in n})||n.CI_NAME==="codeship"?1:u;if("TEAMCITY_VERSION"in n)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(n.TEAMCITY_VERSION)?1:0;if("TERM_PROGRAM"in n){var d=parseInt((n.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(n.TERM_PROGRAM){case"iTerm.app":return d>=3?3:2;case"Hyper":return 3;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(n.TERM)?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test(n.TERM)||"COLORTERM"in n?1:(n.TERM==="dumb",u)}function o(f){var u=s(f);return i(u)}return oh={supportsColor:o,stdout:o(xe.stdout),stderr:o(xe.stderr)},oh}var sh={exports:{}},uv;function hP(){return uv||(uv=1,function(t){t.exports=function(r,n){var a="";r=r||"Run the trap, drop the bass",r=r.split("");var i={a:["@","","","","","",""],b:["","","","","",""],c:["","",""],d:["","","","","",""],e:["","","","","","","",""],f:[""],g:[""],h:["","","","","",""],i:[""],j:[""],k:["","","",""],l:[""],m:["","","","","",""],n:["","","","","",""],o:["","","","","","","","",""],p:["",""],q:[""],r:["","","","","",""],s:["","","",""],t:["","",""],u:["",""],v:[""],w:["","","",""],x:["","","",""],y:["","",""],z:["",""]};return r.forEach(function(s){s=s.toLowerCase();var o=i[s]||[" "],f=Math.floor(Math.random()*o.length);typeof i[s]<"u"?a+=i[s][f]:a+=s}),a}}(sh)),sh.exports}var uh={exports:{}},fv;function pP(){return fv||(fv=1,function(t){t.exports=function(r,n){r=r||"   he is here   ";var a={up:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],down:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],mid:["","","","","","","","","","","","","","","","","","","","",""," "]},i=[].concat(a.up,a.down,a.mid);function s(u){var l=Math.floor(Math.random()*u);return l}function o(u){var l=!1;return i.filter(function(d){l=d===u}),l}function f(u,l){var d="",c,h;l=l||{},l.up=typeof l.up<"u"?l.up:!0,l.mid=typeof l.mid<"u"?l.mid:!0,l.down=typeof l.down<"u"?l.down:!0,l.size=typeof l.size<"u"?l.size:"maxi",u=u.split("");for(h in u)if(!o(h)){switch(d=d+u[h],c={up:0,down:0,mid:0},l.size){case"mini":c.up=s(8),c.mid=s(2),c.down=s(8);break;case"maxi":c.up=s(16)+3,c.mid=s(4)+1,c.down=s(64)+3;break;default:c.up=s(8)+1,c.mid=s(6)/2,c.down=s(8)+1;break}var m=["up","mid","down"];for(var _ in m)for(var b=m[_],y=0;y<=c[b];y++)l[b]&&(d=d+a[b][s(a[b].length)])}return d}return f(r,n)}}(uh)),uh.exports}var fh={exports:{}},lv;function yP(){return lv||(lv=1,function(t){t.exports=function(e){return function(r,n,a){if(r===" ")return r;switch(n%3){case 0:return e.red(r);case 1:return e.white(r);case 2:return e.blue(r)}}}}(fh)),fh.exports}var lh={exports:{}},cv;function gP(){return cv||(cv=1,function(t){t.exports=function(e){return function(r,n,a){return n%2===0?r:e.inverse(r)}}}(lh)),lh.exports}var ch={exports:{}},dv;function bP(){return dv||(dv=1,function(t){t.exports=function(e){var r=["red","yellow","green","blue","magenta"];return function(n,a,i){return n===" "?n:e[r[a++%r.length]](n)}}}(ch)),ch.exports}var dh={exports:{}},hv;function mP(){return hv||(hv=1,function(t){t.exports=function(e){var r=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta","brightYellow","brightRed","brightGreen","brightBlue","brightWhite","brightCyan","brightMagenta"];return function(n,a,i){return n===" "?n:e[r[Math.round(Math.random()*(r.length-2))]](n)}}}(dh)),dh.exports}var pv;function _P(){return pv||(pv=1,function(t){var e={};t.exports=e,e.themes={};var r=wt(),n=e.styles=lP(),a=Object.defineProperties,i=new RegExp(/[\r\n]+/g);e.supportsColor=dP().supportsColor,typeof e.enabled>"u"&&(e.enabled=e.supportsColor()!==!1),e.enable=function(){e.enabled=!0},e.disable=function(){e.enabled=!1},e.stripColors=e.strip=function(_){return(""+_).replace(/\x1B\[\d+m/g,"")},e.stylize=function(b,y){if(!e.enabled)return b+"";var p=n[y];return!p&&y in e?e[y](b):p.open+b+p.close};var s=/[|\\{}()[\]^$+*?.]/g,o=function(_){if(typeof _!="string")throw new TypeError("Expected a string");return _.replace(s,"\\$&")};function f(_){var b=function y(){return d.apply(y,arguments)};return b._styles=_,b.__proto__=l,b}var u=function(){var _={};return n.grey=n.gray,Object.keys(n).forEach(function(b){n[b].closeRe=new RegExp(o(n[b].close),"g"),_[b]={get:function(){return f(this._styles.concat(b))}}}),_}(),l=a(function(){},u);function d(){var _=Array.prototype.slice.call(arguments),b=_.map(function(S){return S!=null&&S.constructor===String?S:r.inspect(S)}).join(" ");if(!e.enabled||!b)return b;for(var y=b.indexOf(`
`)!=-1,p=this._styles,g=p.length;g--;){var w=n[p[g]];b=w.open+b.replace(w.closeRe,w.open)+w.close,y&&(b=b.replace(i,function(S){return w.close+S+w.open}))}return b}e.setTheme=function(_){if(typeof _=="string"){console.log("colors.setTheme now only accepts an object, not a string.  If you are trying to set a theme from a file, it is now your (the caller's) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + '/../themes/generic-logging.js'); The new syntax looks like colors.setTheme(require(__dirname + '/../themes/generic-logging.js'));");return}for(var b in _)(function(y){e[y]=function(p){if(typeof _[y]=="object"){var g=p;for(var w in _[y])g=e[_[y][w]](g);return g}return e[_[y]](p)}})(b)};function c(){var _={};return Object.keys(u).forEach(function(b){_[b]={get:function(){return f([b])}}}),_}var h=function(b,y){var p=y.split("");return p=p.map(b),p.join("")};e.trap=hP(),e.zalgo=pP(),e.maps={},e.maps.america=yP()(e),e.maps.zebra=gP()(e),e.maps.rainbow=bP()(e),e.maps.random=mP()(e);for(var m in e.maps)(function(_){e[_]=function(b){return h(e.maps[_],b)}})(m);a(e,c())}(Jc)),Jc.exports}var yv;function gv(){return yv||(yv=1,function(t){var e=_P();t.exports=e}(Zc)),Zc.exports}var hh={},ph={},Ef={},bv;function vP(){return bv||(bv=1,Ef.levels={error:0,warn:1,help:2,data:3,info:4,debug:5,prompt:6,verbose:7,input:8,silly:9},Ef.colors={error:"red",warn:"yellow",help:"cyan",data:"grey",info:"green",debug:"blue",prompt:"grey",verbose:"cyan",input:"grey",silly:"magenta"}),Ef}var Sf={},mv;function wP(){return mv||(mv=1,Sf.levels={error:0,warn:1,info:2,http:3,verbose:4,debug:5,silly:6},Sf.colors={error:"red",warn:"yellow",info:"green",http:"green",verbose:"cyan",debug:"blue",silly:"magenta"}),Sf}var Tf={},_v;function EP(){return _v||(_v=1,Tf.levels={emerg:0,alert:1,crit:2,error:3,warning:4,notice:5,info:6,debug:7},Tf.colors={emerg:"red",alert:"yellow",crit:"red",error:"red",warning:"red",notice:"yellow",info:"green",debug:"blue"}),Tf}var vv;function SP(){return vv||(vv=1,function(t){Object.defineProperty(t,"cli",{value:vP()}),Object.defineProperty(t,"npm",{value:wP()}),Object.defineProperty(t,"syslog",{value:EP()})}(ph)),ph}var wv;function Et(){return wv||(wv=1,function(t){Object.defineProperty(t,"LEVEL",{value:Symbol.for("level")}),Object.defineProperty(t,"MESSAGE",{value:Symbol.for("message")}),Object.defineProperty(t,"SPLAT",{value:Symbol.for("splat")}),Object.defineProperty(t,"configs",{value:SP()})}(hh)),hh}var Ev;function yh(){if(Ev)return Ya.exports;Ev=1;function t(c){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},t(c)}function e(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}function r(c,h){for(var m=0;m<h.length;m++){var _=h[m];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(c,a(_.key),_)}}function n(c,h,m){return r(c.prototype,h),r(c,m),Object.defineProperty(c,"prototype",{writable:!1}),c}function a(c){var h=i(c,"string");return t(h)=="symbol"?h:h+""}function i(c,h){if(t(c)!="object"||!c)return c;var m=c[Symbol.toPrimitive];if(m!==void 0){var _=m.call(c,h);if(t(_)!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(c)}var s=gv(),o=Et(),f=o.LEVEL,u=o.MESSAGE;s.enabled=!0;var l=/\s+/,d=function(){function c(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e(this,c),h.colors&&this.addColors(h.colors),this.options=h}return n(c,[{key:"addColors",value:function(m){return c.addColors(m)}},{key:"colorize",value:function(m,_,b){if(typeof b>"u"&&(b=_),!Array.isArray(c.allColors[m]))return s[c.allColors[m]](b);for(var y=0,p=c.allColors[m].length;y<p;y++)b=s[c.allColors[m][y]](b);return b}},{key:"transform",value:function(m,_){return _.all&&typeof m[u]=="string"&&(m[u]=this.colorize(m[f],m.level,m[u])),(_.level||_.all||!_.message)&&(m.level=this.colorize(m[f],m.level)),(_.all||_.message)&&(m.message=this.colorize(m[f],m.level,m.message)),m}}],[{key:"addColors",value:function(m){var _=Object.keys(m).reduce(function(b,y){return b[y]=l.test(m[y])?m[y].split(l):m[y],b},{});return c.allColors=Object.assign({},c.allColors||{},_),c.allColors}}])}();return Ya.exports=function(c){return new d(c)},Ya.exports.Colorizer=Ya.exports.Format=d,Ya.exports}var gh,Sv;function TP(){if(Sv)return gh;Sv=1;var t=yh(),e=t.Colorizer;return gh=function(r){return e.addColors(r.colors||r),r},gh}var bh,Tv;function xP(){if(Tv)return bh;Tv=1;var t=ar();return bh=t(function(e){return e.message="	".concat(e.message),e}),bh}var xf={exports:{}},ro={exports:{}},xv;function Rv(){if(xv)return ro.exports;xv=1;function t(y){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},t(y)}function e(y){return i(y)||a(y)||n(y)||r()}function r(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n(y,p){if(y){if(typeof y=="string")return s(y,p);var g={}.toString.call(y).slice(8,-1);return g==="Object"&&y.constructor&&(g=y.constructor.name),g==="Map"||g==="Set"?Array.from(y):g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g)?s(y,p):void 0}}function a(y){if(typeof Symbol<"u"&&y[Symbol.iterator]!=null||y["@@iterator"]!=null)return Array.from(y)}function i(y){if(Array.isArray(y))return s(y)}function s(y,p){(p==null||p>y.length)&&(p=y.length);for(var g=0,w=Array(p);g<p;g++)w[g]=y[g];return w}function o(y,p){if(!(y instanceof p))throw new TypeError("Cannot call a class as a function")}function f(y,p){for(var g=0;g<p.length;g++){var w=p[g];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,l(w.key),w)}}function u(y,p,g){return f(y.prototype,p),f(y,g),Object.defineProperty(y,"prototype",{writable:!1}),y}function l(y){var p=d(y,"string");return t(p)=="symbol"?p:p+""}function d(y,p){if(t(y)!="object"||!y)return y;var g=y[Symbol.toPrimitive];if(g!==void 0){var w=g.call(y,p);if(t(w)!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(y)}var c=Et(),h=c.configs,m=c.LEVEL,_=c.MESSAGE,b=function(){function y(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{levels:h.npm.levels};o(this,y),this.paddings=y.paddingForLevels(p.levels,p.filler),this.options=p}return u(y,[{key:"transform",value:function(g,w){return g.message="".concat(this.paddings[g[m]]).concat(g.message),g[_]&&(g[_]="".concat(this.paddings[g[m]]).concat(g[_])),g}}],[{key:"getLongestLevel",value:function(g){var w=Object.keys(g).map(function(S){return S.length});return Math.max.apply(Math,e(w))}},{key:"paddingForLevel",value:function(g,w,S){var I=S+1-g.length,O=Math.floor(I/w.length),M="".concat(w).concat(w.repeat(O));return M.slice(0,I)}},{key:"paddingForLevels",value:function(g){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:" ",S=y.getLongestLevel(g);return Object.keys(g).reduce(function(I,O){return I[O]=y.paddingForLevel(O,w,S),I},{})}}])}();return ro.exports=function(y){return new b(y)},ro.exports.Padder=ro.exports.Format=b,ro.exports}var Iv;function RP(){if(Iv)return xf.exports;Iv=1;function t(m){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},t(m)}function e(m,_){if(!(m instanceof _))throw new TypeError("Cannot call a class as a function")}function r(m,_){for(var b=0;b<_.length;b++){var y=_[b];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(m,a(y.key),y)}}function n(m,_,b){return r(m.prototype,_),Object.defineProperty(m,"prototype",{writable:!1}),m}function a(m){var _=i(m,"string");return t(_)=="symbol"?_:_+""}function i(m,_){if(t(m)!="object"||!m)return m;var b=m[Symbol.toPrimitive];if(b!==void 0){var y=b.call(m,_);if(t(y)!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(m)}var s=yh(),o=s.Colorizer,f=Rv(),u=f.Padder,l=Et(),d=l.configs,c=l.MESSAGE,h=function(){function m(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e(this,m),_.levels||(_.levels=d.cli.levels),this.colorizer=new o(_),this.padder=new u(_),this.options=_}return n(m,[{key:"transform",value:function(b,y){return this.colorizer.transform(this.padder.transform(b,y),y),b[c]="".concat(b.level,":").concat(b.message),b}}])}();return xf.exports=function(m){return new h(m)},xf.exports.Format=h,xf.exports}var Rf={exports:{}},Av;function IP(){if(Av)return Rf.exports;Av=1;var t=ar();function e(n){if(n.every(r))return function(a){for(var i=a,s=0;s<n.length;s++)if(i=n[s].transform(i,n[s].options),!i)return!1;return i}}function r(n){if(typeof n.transform!="function")throw new Error(["No transform function found on format. Did you create a format instance?","const myFormat = format(formatFn);","const instance = myFormat();"].join(`
`));return!0}return Rf.exports=function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var s=t(e(a)),o=s();return o.Format=s.Format,o},Rf.exports.cascade=e,Rf.exports}var mh,Ov;function AP(){if(Ov)return mh;Ov=1;function t(f){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},t(f)}function e(f,u,l){return(u=r(u))in f?Object.defineProperty(f,u,{value:l,enumerable:!0,configurable:!0,writable:!0}):f[u]=l,f}function r(f){var u=n(f,"string");return t(u)=="symbol"?u:u+""}function n(f,u){if(t(f)!="object"||!f)return f;var l=f[Symbol.toPrimitive];if(l!==void 0){var d=l.call(f,u||"default");if(t(d)!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(u==="string"?String:Number)(f)}var a=ar(),i=Et(),s=i.LEVEL,o=i.MESSAGE;return mh=a(function(f,u){var l=u.stack,d=u.cause;if(f instanceof Error){var c=Object.assign({},f,e(e(e({level:f.level},s,f[s]||f.level),"message",f.message),o,f[o]||f.message));return l&&(c.stack=f.stack),d&&(c.cause=f.cause),c}if(!(f.message instanceof Error))return f;var h=f.message;return Object.assign(f,h),f.message=h.message,f[o]=h.message,l&&(f.stack=h.stack),d&&(f.cause=h.cause),f}),mh}var If={exports:{}},Nv;function no(){return Nv||(Nv=1,function(t,e){const{hasOwnProperty:r}=Object.prototype,n=y();n.configure=y,n.stringify=n,n.default=n,e.stringify=n,e.configure=y,t.exports=n;const a=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]/;function i(p){return p.length<5e3&&!a.test(p)?`"${p}"`:JSON.stringify(p)}function s(p,g){if(p.length>200||g)return p.sort(g);for(let w=1;w<p.length;w++){const S=p[w];let I=w;for(;I!==0&&p[I-1]>S;)p[I]=p[I-1],I--;p[I]=S}return p}const o=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Object.getPrototypeOf(new Int8Array)),Symbol.toStringTag).get;function f(p){return o.call(p)!==void 0&&p.length!==0}function u(p,g,w){p.length<w&&(w=p.length);const S=g===","?"":" ";let I=`"0":${S}${p[0]}`;for(let O=1;O<w;O++)I+=`${g}"${O}":${S}${p[O]}`;return I}function l(p){if(r.call(p,"circularValue")){const g=p.circularValue;if(typeof g=="string")return`"${g}"`;if(g==null)return g;if(g===Error||g===TypeError)return{toString(){throw new TypeError("Converting circular structure to JSON")}};throw new TypeError('The "circularValue" argument must be of type string or the value null or undefined')}return'"[Circular]"'}function d(p){let g;if(r.call(p,"deterministic")&&(g=p.deterministic,typeof g!="boolean"&&typeof g!="function"))throw new TypeError('The "deterministic" argument must be of type boolean or comparator function');return g===void 0?!0:g}function c(p,g){let w;if(r.call(p,g)&&(w=p[g],typeof w!="boolean"))throw new TypeError(`The "${g}" argument must be of type boolean`);return w===void 0?!0:w}function h(p,g){let w;if(r.call(p,g)){if(w=p[g],typeof w!="number")throw new TypeError(`The "${g}" argument must be of type number`);if(!Number.isInteger(w))throw new TypeError(`The "${g}" argument must be an integer`);if(w<1)throw new RangeError(`The "${g}" argument must be >= 1`)}return w===void 0?1/0:w}function m(p){return p===1?"1 item":`${p} items`}function _(p){const g=new Set;for(const w of p)(typeof w=="string"||typeof w=="number")&&g.add(String(w));return g}function b(p){if(r.call(p,"strict")){const g=p.strict;if(typeof g!="boolean")throw new TypeError('The "strict" argument must be of type boolean');if(g)return w=>{let S=`Object can not safely be stringified. Received type ${typeof w}`;throw typeof w!="function"&&(S+=` (${w.toString()})`),new Error(S)}}}function y(p){p={...p};const g=b(p);g&&(p.bigint===void 0&&(p.bigint=!1),"circularValue"in p||(p.circularValue=Error));const w=l(p),S=c(p,"bigint"),I=d(p),O=typeof I=="function"?I:void 0,M=h(p,"maximumDepth"),D=h(p,"maximumBreadth");function N(oe,J,le,ae,Z,H){let de=J[oe];switch(typeof de=="object"&&de!==null&&typeof de.toJSON=="function"&&(de=de.toJSON(oe)),de=ae.call(J,oe,de),typeof de){case"string":return i(de);case"object":{if(de===null)return"null";if(le.indexOf(de)!==-1)return w;let he="",W=",";const z=H;if(Array.isArray(de)){if(de.length===0)return"[]";if(M<le.length+1)return'"[Array]"';le.push(de),Z!==""&&(H+=Z,he+=`
${H}`,W=`,
${H}`);const te=Math.min(de.length,D);let E=0;for(;E<te-1;E++){const T=N(String(E),de,le,ae,Z,H);he+=T!==void 0?T:"null",he+=W}const v=N(String(E),de,le,ae,Z,H);if(he+=v!==void 0?v:"null",de.length-1>D){const T=de.length-D-1;he+=`${W}"... ${m(T)} not stringified"`}return Z!==""&&(he+=`
${z}`),le.pop(),`[${he}]`}let Q=Object.keys(de);const A=Q.length;if(A===0)return"{}";if(M<le.length+1)return'"[Object]"';let P="",k="";Z!==""&&(H+=Z,W=`,
${H}`,P=" ");const G=Math.min(A,D);I&&!f(de)&&(Q=s(Q,O)),le.push(de);for(let te=0;te<G;te++){const E=Q[te],v=N(E,de,le,ae,Z,H);v!==void 0&&(he+=`${k}${i(E)}:${P}${v}`,k=W)}if(A>D){const te=A-D;he+=`${k}"...":${P}"${m(te)} not stringified"`,k=W}return Z!==""&&k.length>1&&(he=`
${H}${he}
${z}`),le.pop(),`{${he}}`}case"number":return isFinite(de)?String(de):g?g(de):"null";case"boolean":return de===!0?"true":"false";case"undefined":return;case"bigint":if(S)return String(de);default:return g?g(de):void 0}}function C(oe,J,le,ae,Z,H){switch(typeof J=="object"&&J!==null&&typeof J.toJSON=="function"&&(J=J.toJSON(oe)),typeof J){case"string":return i(J);case"object":{if(J===null)return"null";if(le.indexOf(J)!==-1)return w;const de=H;let he="",W=",";if(Array.isArray(J)){if(J.length===0)return"[]";if(M<le.length+1)return'"[Array]"';le.push(J),Z!==""&&(H+=Z,he+=`
${H}`,W=`,
${H}`);const A=Math.min(J.length,D);let P=0;for(;P<A-1;P++){const G=C(String(P),J[P],le,ae,Z,H);he+=G!==void 0?G:"null",he+=W}const k=C(String(P),J[P],le,ae,Z,H);if(he+=k!==void 0?k:"null",J.length-1>D){const G=J.length-D-1;he+=`${W}"... ${m(G)} not stringified"`}return Z!==""&&(he+=`
${de}`),le.pop(),`[${he}]`}le.push(J);let z="";Z!==""&&(H+=Z,W=`,
${H}`,z=" ");let Q="";for(const A of ae){const P=C(A,J[A],le,ae,Z,H);P!==void 0&&(he+=`${Q}${i(A)}:${z}${P}`,Q=W)}return Z!==""&&Q.length>1&&(he=`
${H}${he}
${de}`),le.pop(),`{${he}}`}case"number":return isFinite(J)?String(J):g?g(J):"null";case"boolean":return J===!0?"true":"false";case"undefined":return;case"bigint":if(S)return String(J);default:return g?g(J):void 0}}function R(oe,J,le,ae,Z){switch(typeof J){case"string":return i(J);case"object":{if(J===null)return"null";if(typeof J.toJSON=="function"){if(J=J.toJSON(oe),typeof J!="object")return R(oe,J,le,ae,Z);if(J===null)return"null"}if(le.indexOf(J)!==-1)return w;const H=Z;if(Array.isArray(J)){if(J.length===0)return"[]";if(M<le.length+1)return'"[Array]"';le.push(J),Z+=ae;let P=`
${Z}`;const k=`,
${Z}`,G=Math.min(J.length,D);let te=0;for(;te<G-1;te++){const v=R(String(te),J[te],le,ae,Z);P+=v!==void 0?v:"null",P+=k}const E=R(String(te),J[te],le,ae,Z);if(P+=E!==void 0?E:"null",J.length-1>D){const v=J.length-D-1;P+=`${k}"... ${m(v)} not stringified"`}return P+=`
${H}`,le.pop(),`[${P}]`}let de=Object.keys(J);const he=de.length;if(he===0)return"{}";if(M<le.length+1)return'"[Object]"';Z+=ae;const W=`,
${Z}`;let z="",Q="",A=Math.min(he,D);f(J)&&(z+=u(J,W,D),de=de.slice(J.length),A-=J.length,Q=W),I&&(de=s(de,O)),le.push(J);for(let P=0;P<A;P++){const k=de[P],G=R(k,J[k],le,ae,Z);G!==void 0&&(z+=`${Q}${i(k)}: ${G}`,Q=W)}if(he>D){const P=he-D;z+=`${Q}"...": "${m(P)} not stringified"`,Q=W}return Q!==""&&(z=`
${Z}${z}
${H}`),le.pop(),`{${z}}`}case"number":return isFinite(J)?String(J):g?g(J):"null";case"boolean":return J===!0?"true":"false";case"undefined":return;case"bigint":if(S)return String(J);default:return g?g(J):void 0}}function F(oe,J,le){switch(typeof J){case"string":return i(J);case"object":{if(J===null)return"null";if(typeof J.toJSON=="function"){if(J=J.toJSON(oe),typeof J!="object")return F(oe,J,le);if(J===null)return"null"}if(le.indexOf(J)!==-1)return w;let ae="";const Z=J.length!==void 0;if(Z&&Array.isArray(J)){if(J.length===0)return"[]";if(M<le.length+1)return'"[Array]"';le.push(J);const z=Math.min(J.length,D);let Q=0;for(;Q<z-1;Q++){const P=F(String(Q),J[Q],le);ae+=P!==void 0?P:"null",ae+=","}const A=F(String(Q),J[Q],le);if(ae+=A!==void 0?A:"null",J.length-1>D){const P=J.length-D-1;ae+=`,"... ${m(P)} not stringified"`}return le.pop(),`[${ae}]`}let H=Object.keys(J);const de=H.length;if(de===0)return"{}";if(M<le.length+1)return'"[Object]"';let he="",W=Math.min(de,D);Z&&f(J)&&(ae+=u(J,",",D),H=H.slice(J.length),W-=J.length,he=","),I&&(H=s(H,O)),le.push(J);for(let z=0;z<W;z++){const Q=H[z],A=F(Q,J[Q],le);A!==void 0&&(ae+=`${he}${i(Q)}:${A}`,he=",")}if(de>D){const z=de-D;ae+=`${he}"...":"${m(z)} not stringified"`}return le.pop(),`{${ae}}`}case"number":return isFinite(J)?String(J):g?g(J):"null";case"boolean":return J===!0?"true":"false";case"undefined":return;case"bigint":if(S)return String(J);default:return g?g(J):void 0}}function X(oe,J,le){if(arguments.length>1){let ae="";if(typeof le=="number"?ae=" ".repeat(Math.min(le,10)):typeof le=="string"&&(ae=le.slice(0,10)),J!=null){if(typeof J=="function")return N("",{"":oe},[],J,ae,"");if(Array.isArray(J))return C("",oe,[],_(J),ae,"")}if(ae.length!==0)return R("",oe,[],ae,"")}return F("",oe,[])}return X}}(If,If.exports)),If.exports}var _h,Pv;function OP(){if(Pv)return _h;Pv=1;var t=ar(),e=Et(),r=e.MESSAGE,n=no();function a(i,s){return typeof s=="bigint"?s.toString():s}return _h=t(function(i,s){var o=n.configure(s);return i[r]=o(i,s.replacer||a,s.space),i}),_h}var vh,Dv;function NP(){if(Dv)return vh;Dv=1;var t=ar();return vh=t(function(e,r){return r.message?(e.message="[".concat(r.label,"] ").concat(e.message),e):(e.label=r.label,e)}),vh}var wh,Cv;function PP(){if(Cv)return wh;Cv=1;var t=ar(),e=Et(),r=e.MESSAGE,n=no();return wh=t(function(a){var i={};return a.message&&(i["@message"]=a.message,delete a.message),a.timestamp&&(i["@timestamp"]=a.timestamp,delete a.timestamp),i["@fields"]=a,a[r]=n(i),a}),wh}var Eh,Lv;function DP(){if(Lv)return Eh;Lv=1;function t(o){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},t(o)}function e(o,f,u){return(f=r(f))in o?Object.defineProperty(o,f,{value:u,enumerable:!0,configurable:!0,writable:!0}):o[f]=u,o}function r(o){var f=n(o,"string");return t(f)=="symbol"?f:f+""}function n(o,f){if(t(o)!="object"||!o)return o;var u=o[Symbol.toPrimitive];if(u!==void 0){var l=u.call(o,f||"default");if(t(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(f==="string"?String:Number)(o)}var a=ar();function i(o,f,u){var l=f.reduce(function(c,h){return c[h]=o[h],delete o[h],c},{}),d=Object.keys(o).reduce(function(c,h){return c[h]=o[h],delete o[h],c},{});return Object.assign(o,l,e({},u,d)),o}function s(o,f,u){return o[u]=f.reduce(function(l,d){return l[d]=o[d],delete o[d],l},{}),o}return Eh=a(function(o){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u="metadata";f.key&&(u=f.key);var l=[];return!f.fillExcept&&!f.fillWith&&(l.push("level"),l.push("message")),f.fillExcept&&(l=f.fillExcept),l.length>0?i(o,l,u):f.fillWith?s(o,f.fillWith,u):o}),Eh}var Sh,Fv;function Mv(){if(Fv)return Sh;Fv=1;var t=1e3,e=t*60,r=e*60,n=r*24,a=n*7,i=n*365.25;Sh=function(l,d){d=d||{};var c=typeof l;if(c==="string"&&l.length>0)return s(l);if(c==="number"&&isFinite(l))return d.long?f(l):o(l);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(l))};function s(l){if(l=String(l),!(l.length>100)){var d=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(l);if(d){var c=parseFloat(d[1]),h=(d[2]||"ms").toLowerCase();switch(h){case"years":case"year":case"yrs":case"yr":case"y":return c*i;case"weeks":case"week":case"w":return c*a;case"days":case"day":case"d":return c*n;case"hours":case"hour":case"hrs":case"hr":case"h":return c*r;case"minutes":case"minute":case"mins":case"min":case"m":return c*e;case"seconds":case"second":case"secs":case"sec":case"s":return c*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}}}function o(l){var d=Math.abs(l);return d>=n?Math.round(l/n)+"d":d>=r?Math.round(l/r)+"h":d>=e?Math.round(l/e)+"m":d>=t?Math.round(l/t)+"s":l+"ms"}function f(l){var d=Math.abs(l);return d>=n?u(l,d,n,"day"):d>=r?u(l,d,r,"hour"):d>=e?u(l,d,e,"minute"):d>=t?u(l,d,t,"second"):l+" ms"}function u(l,d,c,h){var m=d>=c*1.5;return Math.round(l/c)+" "+h+(m?"s":"")}return Sh}var Th,jv;function CP(){if(jv)return Th;jv=1;var t=void 0,e=ar(),r=Mv();return Th=e(function(n){var a=+new Date;return t.diff=a-(t.prevTime||a),t.prevTime=a,n.ms="+".concat(r(t.diff)),n}),Th}var xh,qv;function LP(){if(qv)return xh;qv=1;var t=wt().inspect,e=ar(),r=Et(),n=r.LEVEL,a=r.MESSAGE,i=r.SPLAT;return xh=e(function(s){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=Object.assign({},s);return delete f[n],delete f[a],delete f[i],s[a]=t(f,!1,o.depth||null,o.colorize),s}),xh}var io={exports:{}},Bv;function FP(){if(Bv)return io.exports;Bv=1;function t(u){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},t(u)}function e(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function r(u,l){for(var d=0;d<l.length;d++){var c=l[d];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(u,a(c.key),c)}}function n(u,l,d){return r(u.prototype,l),Object.defineProperty(u,"prototype",{writable:!1}),u}function a(u){var l=i(u,"string");return t(l)=="symbol"?l:l+""}function i(u,l){if(t(u)!="object"||!u)return u;var d=u[Symbol.toPrimitive];if(d!==void 0){var c=d.call(u,l);if(t(c)!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(u)}var s=Et(),o=s.MESSAGE,f=function(){function u(l){e(this,u),this.template=l}return n(u,[{key:"transform",value:function(d){return d[o]=this.template(d),d}}])}();return io.exports=function(u){return new f(u)},io.exports.Printf=io.exports.Format=f,io.exports}var Rh,kv;function MP(){if(kv)return Rh;kv=1;var t=ar(),e=Et(),r=e.MESSAGE,n=no();return Rh=t(function(a){var i=n(Object.assign({},a,{level:void 0,message:void 0,splat:void 0})),s=a.padding&&a.padding[a.level]||"";return i!=="{}"?a[r]="".concat(a.level,":").concat(s," ").concat(a.message," ").concat(i):a[r]="".concat(a.level,":").concat(s," ").concat(a.message),a}),Rh}var Ih,$v;function jP(){if($v)return Ih;$v=1;function t(p){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},t(p)}function e(p){return i(p)||a(p)||n(p)||r()}function r(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n(p,g){{if(typeof p=="string")return s(p,g);var w={}.toString.call(p).slice(8,-1);return w==="Object"&&p.constructor&&(w=p.constructor.name),w==="Map"||w==="Set"?Array.from(p):w==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(w)?s(p,g):void 0}}function a(p){if(typeof Symbol<"u"&&p[Symbol.iterator]!=null||p["@@iterator"]!=null)return Array.from(p)}function i(p){if(Array.isArray(p))return s(p)}function s(p,g){(g==null||g>p.length)&&(g=p.length);for(var w=0,S=Array(g);w<g;w++)S[w]=p[w];return S}function o(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function f(p,g){for(var w=0;w<g.length;w++){var S=g[w];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(p,l(S.key),S)}}function u(p,g,w){return f(p.prototype,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function l(p){var g=d(p,"string");return t(g)=="symbol"?g:g+""}function d(p,g){if(t(p)!="object"||!p)return p;var w=p[Symbol.toPrimitive];if(w!==void 0){var S=w.call(p,g);if(t(S)!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(p)}var c=wt(),h=Et(),m=h.SPLAT,_=/%[scdjifoO%]/g,b=/%%/g,y=function(){function p(g){o(this,p),this.options=g}return u(p,[{key:"_splat",value:function(w,S){var I=w.message,O=w[m]||w.splat||[],M=I.match(b),D=M&&M.length||0,N=S.length-D,C=N-O.length,R=C<0?O.splice(C,-1*C):[],F=R.length;if(F)for(var X=0;X<F;X++)Object.assign(w,R[X]);return w.message=c.format.apply(c,[I].concat(e(O))),w}},{key:"transform",value:function(w){var S=w.message,I=w[m]||w.splat;if(!I||!I.length)return w;var O=S&&S.match&&S.match(_);if(!O&&(I||I.length)){var M=I.length>1?I.splice(0):I,D=M.length;if(D)for(var N=0;N<D;N++)Object.assign(w,M[N]);return w}return O?this._splat(w,O):w}}])}();return Ih=function(p){return new y(p)},Ih}var Uv=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,hn="\\d\\d?",pn="\\d\\d",qP="\\d{3}",BP="\\d{4}",ao="[^\\s]+",Hv=/\[([^]*?)\]/gm;function Vv(t,e){for(var r=[],n=0,a=t.length;n<a;n++)r.push(t[n].substr(0,e));return r}var Gv=function(t){return function(e,r){var n=r[t].map(function(i){return i.toLowerCase()}),a=n.indexOf(e.toLowerCase());return a>-1?a:null}};function yn(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];for(var n=0,a=e;n<a.length;n++){var i=a[n];for(var s in i)t[s]=i[s]}return t}var zv=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Wv=["January","February","March","April","May","June","July","August","September","October","November","December"],kP=Vv(Wv,3),$P=Vv(zv,3),Ah={dayNamesShort:$P,dayNames:zv,monthNamesShort:kP,monthNames:Wv,amPm:["am","pm"],DoFn:function(t){return t+["th","st","nd","rd"][t%10>3?0:(t-t%10!==10?1:0)*t%10]}},Af=yn({},Ah),Kv=function(t){return Af=yn(Af,t)},Qv=function(t){return t.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},tr=function(t,e){for(e===void 0&&(e=2),t=String(t);t.length<e;)t="0"+t;return t},UP={D:function(t){return String(t.getDate())},DD:function(t){return tr(t.getDate())},Do:function(t,e){return e.DoFn(t.getDate())},d:function(t){return String(t.getDay())},dd:function(t){return tr(t.getDay())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},M:function(t){return String(t.getMonth()+1)},MM:function(t){return tr(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},YY:function(t){return tr(String(t.getFullYear()),4).substr(2)},YYYY:function(t){return tr(t.getFullYear(),4)},h:function(t){return String(t.getHours()%12||12)},hh:function(t){return tr(t.getHours()%12||12)},H:function(t){return String(t.getHours())},HH:function(t){return tr(t.getHours())},m:function(t){return String(t.getMinutes())},mm:function(t){return tr(t.getMinutes())},s:function(t){return String(t.getSeconds())},ss:function(t){return tr(t.getSeconds())},S:function(t){return String(Math.round(t.getMilliseconds()/100))},SS:function(t){return tr(Math.round(t.getMilliseconds()/10),2)},SSS:function(t){return tr(t.getMilliseconds(),3)},a:function(t,e){return t.getHours()<12?e.amPm[0]:e.amPm[1]},A:function(t,e){return t.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+tr(Math.floor(Math.abs(e)/60)*100+Math.abs(e)%60,4)},Z:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+tr(Math.floor(Math.abs(e)/60),2)+":"+tr(Math.abs(e)%60,2)}},Xv=function(t){return+t-1},Zv=[null,hn],Jv=[null,ao],Yv=["isPm",ao,function(t,e){var r=t.toLowerCase();return r===e.amPm[0]?0:r===e.amPm[1]?1:null}],ew=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(t){var e=(t+"").match(/([+-]|\d\d)/gi);if(e){var r=+e[1]*60+parseInt(e[2],10);return e[0]==="+"?r:-r}return 0}],HP={D:["day",hn],DD:["day",pn],Do:["day",hn+ao,function(t){return parseInt(t,10)}],M:["month",hn,Xv],MM:["month",pn,Xv],YY:["year",pn,function(t){var e=new Date,r=+(""+e.getFullYear()).substr(0,2);return+(""+(+t>68?r-1:r)+t)}],h:["hour",hn,void 0,"isPm"],hh:["hour",pn,void 0,"isPm"],H:["hour",hn],HH:["hour",pn],m:["minute",hn],mm:["minute",pn],s:["second",hn],ss:["second",pn],YYYY:["year",BP],S:["millisecond","\\d",function(t){return+t*100}],SS:["millisecond",pn,function(t){return+t*10}],SSS:["millisecond",qP],d:Zv,dd:Zv,ddd:Jv,dddd:Jv,MMM:["month",ao,Gv("monthNamesShort")],MMMM:["month",ao,Gv("monthNames")],a:Yv,A:Yv,ZZ:ew,Z:ew},Of={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},tw=function(t){return yn(Of,t)},rw=function(t,e,r){if(e===void 0&&(e=Of.default),r===void 0&&(r={}),typeof t=="number"&&(t=new Date(t)),Object.prototype.toString.call(t)!=="[object Date]"||isNaN(t.getTime()))throw new Error("Invalid Date pass to format");e=Of[e]||e;var n=[];e=e.replace(Hv,function(i,s){return n.push(s),"@@@"});var a=yn(yn({},Af),r);return e=e.replace(Uv,function(i){return UP[i](t,a)}),e.replace(/@@@/g,function(){return n.shift()})};function nw(t,e,r){if(r===void 0&&(r={}),typeof e!="string")throw new Error("Invalid format in fecha parse");if(e=Of[e]||e,t.length>1e3)return null;var n=new Date,a={year:n.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},i=[],s=[],o=e.replace(Hv,function(w,S){return s.push(Qv(S)),"@@@"}),f={},u={};o=Qv(o).replace(Uv,function(w){var S=HP[w],I=S[0],O=S[1],M=S[3];if(f[I])throw new Error("Invalid format. "+I+" specified twice in format");return f[I]=!0,M&&(u[M]=!0),i.push(S),"("+O+")"}),Object.keys(u).forEach(function(w){if(!f[w])throw new Error("Invalid format. "+w+" is required in specified format")}),o=o.replace(/@@@/g,function(){return s.shift()});var l=t.match(new RegExp(o,"i"));if(!l)return null;for(var d=yn(yn({},Af),r),c=1;c<l.length;c++){var h=i[c-1],m=h[0],_=h[2],b=_?_(l[c],d):+l[c];if(b==null)return null;a[m]=b}a.isPm===1&&a.hour!=null&&+a.hour!=12?a.hour=+a.hour+12:a.isPm===0&&+a.hour==12&&(a.hour=0);var y;if(a.timezoneOffset==null){y=new Date(a.year,a.month,a.day,a.hour,a.minute,a.second,a.millisecond);for(var p=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],c=0,g=p.length;c<g;c++)if(f[p[c][0]]&&a[p[c][0]]!==y[p[c][1]]())return null}else if(y=new Date(Date.UTC(a.year,a.month,a.day,a.hour,a.minute-a.timezoneOffset,a.second,a.millisecond)),a.month>11||a.month<0||a.day>31||a.day<1||a.hour>23||a.hour<0||a.minute>59||a.minute<0||a.second>59||a.second<0)return null;return y}var VP={format:rw,parse:nw,defaultI18n:Ah,setGlobalDateI18n:Kv,setGlobalDateMasks:tw},GP=Object.freeze({__proto__:null,assign:yn,default:VP,defaultI18n:Ah,format:rw,parse:nw,setGlobalDateI18n:Kv,setGlobalDateMasks:tw}),zP=yi(GP),Oh,iw;function WP(){if(iw)return Oh;iw=1;var t=zP,e=ar();return Oh=e(function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return n.format&&(r.timestamp=typeof n.format=="function"?n.format():t.format(new Date,n.format)),r.timestamp||(r.timestamp=new Date().toISOString()),n.alias&&(r[n.alias]=r.timestamp),r}),Oh}var Nh,aw;function KP(){if(aw)return Nh;aw=1;var t=gv(),e=ar(),r=Et(),n=r.MESSAGE;return Nh=e(function(a,i){return i.level!==!1&&(a.level=t.strip(a.level)),i.message!==!1&&(a.message=t.strip(String(a.message))),i.raw!==!1&&a[n]&&(a[n]=t.strip(String(a[n]))),a}),Nh}var ow;function sw(){if(ow)return bf;ow=1;var t=bf.format=ar();return bf.levels=TP(),Object.defineProperty(t,"align",{value:xP()}),Object.defineProperty(t,"cli",{value:RP()}),Object.defineProperty(t,"colorize",{value:yh()}),Object.defineProperty(t,"combine",{value:IP()}),Object.defineProperty(t,"errors",{value:AP()}),Object.defineProperty(t,"json",{value:OP()}),Object.defineProperty(t,"label",{value:NP()}),Object.defineProperty(t,"logstash",{value:PP()}),Object.defineProperty(t,"metadata",{value:DP()}),Object.defineProperty(t,"ms",{value:CP()}),Object.defineProperty(t,"padLevels",{value:Rv()}),Object.defineProperty(t,"prettyPrint",{value:LP()}),Object.defineProperty(t,"printf",{value:FP()}),Object.defineProperty(t,"simple",{value:MP()}),Object.defineProperty(t,"splat",{value:jP()}),Object.defineProperty(t,"timestamp",{value:WP()}),Object.defineProperty(t,"uncolorize",{value:KP()}),bf}var Ph={},uw;function fw(){return uw||(uw=1,function(t){var e=wt(),r=e.format;t.warn={deprecated:function(a){return function(){throw new Error(r("{ %s } was removed in winston@3.0.0.",a))}},useFormat:function(a){return function(){throw new Error([r("{ %s } was removed in winston@3.0.0.",a),"Use a custom winston.format = winston.format(function) instead."].join(`
`))}},forFunctions:function(a,i,s){s.forEach(function(o){a[o]=t.warn[i](o)})},forProperties:function(a,i,s){s.forEach(function(o){var f=t.warn[i](o);Object.defineProperty(a,o,{get:f,set:f})})}}}(Ph)),Ph}var QP={name:"winston",description:"A logger for just about everything.",version:"3.17.0",author:"Charlie Robbins <charlie.robbins@gmail.com>",maintainers:["David Hyde <dabh@alumni.stanford.edu>"],repository:{type:"git",url:"https://github.com/winstonjs/winston.git"},keywords:["winston","logger","logging","logs","sysadmin","bunyan","pino","loglevel","tools","json","stream"],dependencies:{"@dabh/diagnostics":"^2.0.2","@colors/colors":"^1.6.0",async:"^3.2.3","is-stream":"^2.0.0",logform:"^2.7.0","one-time":"^1.0.0","readable-stream":"^3.4.0","safe-stable-stringify":"^2.3.1","stack-trace":"0.0.x","triple-beam":"^1.3.0","winston-transport":"^4.9.0"},devDependencies:{"@babel/cli":"^7.23.9","@babel/core":"^7.24.0","@babel/preset-env":"^7.24.0","@dabh/eslint-config-populist":"^4.4.0","@types/node":"^20.11.24","abstract-winston-transport":"^0.5.1",assume:"^2.2.0","cross-spawn-async":"^2.2.5",eslint:"^8.57.0",hock:"^1.4.1",mocha:"^10.3.0",nyc:"^17.1.0",rimraf:"5.0.1",split2:"^4.1.0","std-mocks":"^2.0.0",through2:"^4.0.2","winston-compat":"^0.1.5"},main:"./lib/winston.js",browser:"./dist/winston",types:"./index.d.ts",scripts:{lint:"eslint lib/*.js lib/winston/*.js lib/winston/**/*.js --resolve-plugins-relative-to ./node_modules/@dabh/eslint-config-populist",test:"rimraf test/fixtures/logs/* && mocha","test:coverage":"nyc npm run test:unit","test:unit":"mocha test/unit","test:integration":"mocha test/integration",build:"rimraf dist && babel lib -d dist",prepublishOnly:"npm run build"},engines:{node:">= 12.0.0"},license:"MIT"},Dh={},Nf={exports:{}},Ch={exports:{}},Lh,lw;function Pf(){if(lw)return Lh;lw=1,Lh=t;function t(r,n){if(e("noDeprecation"))return r;var a=!1;function i(){if(!a){if(e("throwDeprecation"))throw new Error(n);e("traceDeprecation")?console.trace(n):console.warn(n),a=!0}return r.apply(this,arguments)}return i}function e(r){try{if(!Ye.localStorage)return!1}catch{return!1}var n=Ye.localStorage[r];return n==null?!1:String(n).toLowerCase()==="true"}return Lh}var Fh,cw;function dw(){return cw||(cw=1,Fh=Jt().EventEmitter),Fh}var Mh,hw;function pw(){if(hw)return Mh;hw=1;function t(s,o){var f=this,u=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return u||l?(o?o(s):s&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,xe.nextTick(a,this,s)):xe.nextTick(a,this,s)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(s||null,function(d){!o&&d?f._writableState?f._writableState.errorEmitted?xe.nextTick(r,f):(f._writableState.errorEmitted=!0,xe.nextTick(e,f,d)):xe.nextTick(e,f,d):o?(xe.nextTick(r,f),o(d)):xe.nextTick(r,f)}),this)}function e(s,o){a(s,o),r(s)}function r(s){s._writableState&&!s._writableState.emitClose||s._readableState&&!s._readableState.emitClose||s.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function a(s,o){s.emit("error",o)}function i(s,o){var f=s._readableState,u=s._writableState;f&&f.autoDestroy||u&&u.autoDestroy?s.destroy(o):s.emit("error",o)}return Mh={destroy:t,undestroy:n,errorOrDestroy:i},Mh}var jh={},yw;function Df(){if(yw)return jh;yw=1;function t(o,f){o.prototype=Object.create(f.prototype),o.prototype.constructor=o,o.__proto__=f}var e={};function r(o,f,u){u||(u=Error);function l(c,h,m){return typeof f=="string"?f:f(c,h,m)}var d=function(c){t(h,c);function h(m,_,b){return c.call(this,l(m,_,b))||this}return h}(u);d.prototype.name=u.name,d.prototype.code=o,e[o]=d}function n(o,f){if(Array.isArray(o)){var u=o.length;return o=o.map(function(l){return String(l)}),u>2?"one of ".concat(f," ").concat(o.slice(0,u-1).join(", "),", or ")+o[u-1]:u===2?"one of ".concat(f," ").concat(o[0]," or ").concat(o[1]):"of ".concat(f," ").concat(o[0])}else return"of ".concat(f," ").concat(String(o))}function a(o,f,u){return o.substr(0,f.length)===f}function i(o,f,u){return(u===void 0||u>o.length)&&(u=o.length),o.substring(u-f.length,u)===f}function s(o,f,u){return typeof u!="number"&&(u=0),u+f.length>o.length?!1:o.indexOf(f,u)!==-1}return r("ERR_INVALID_OPT_VALUE",function(o,f){return'The value "'+f+'" is invalid for option "'+o+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(o,f,u){var l;typeof f=="string"&&a(f,"not ")?(l="must not be",f=f.replace(/^not /,"")):l="must be";var d;if(i(o," argument"))d="The ".concat(o," ").concat(l," ").concat(n(f,"type"));else{var c=s(o,".")?"property":"argument";d='The "'.concat(o,'" ').concat(c," ").concat(l," ").concat(n(f,"type"))}return d+=". Received type ".concat(typeof u),d},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(o){return"The "+o+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(o){return"Cannot call "+o+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(o){return"Unknown encoding: "+o},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),jh.codes=e,jh}var qh,gw;function bw(){if(gw)return qh;gw=1;var t=Df().codes.ERR_INVALID_OPT_VALUE;function e(n,a,i){return n.highWaterMark!=null?n.highWaterMark:a?n[i]:null}function r(n,a,i,s){var o=e(a,s,i);if(o!=null){if(!(isFinite(o)&&Math.floor(o)===o)||o<0){var f=s?i:"highWaterMark";throw new t(f,o)}return Math.floor(o)}return n.objectMode?16:16*1024}return qh={getHighWaterMark:r},qh}var Bh,mw;function XP(){if(mw)return Bh;mw=1;function t(m,_){var b=Object.keys(m);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(m);_&&(y=y.filter(function(p){return Object.getOwnPropertyDescriptor(m,p).enumerable})),b.push.apply(b,y)}return b}function e(m){for(var _=1;_<arguments.length;_++){var b=arguments[_]!=null?arguments[_]:{};_%2?t(Object(b),!0).forEach(function(y){r(m,y,b[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(b)):t(Object(b)).forEach(function(y){Object.defineProperty(m,y,Object.getOwnPropertyDescriptor(b,y))})}return m}function r(m,_,b){return _=s(_),_ in m?Object.defineProperty(m,_,{value:b,enumerable:!0,configurable:!0,writable:!0}):m[_]=b,m}function n(m,_){if(!(m instanceof _))throw new TypeError("Cannot call a class as a function")}function a(m,_){for(var b=0;b<_.length;b++){var y=_[b];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(m,s(y.key),y)}}function i(m,_,b){return a(m.prototype,_),Object.defineProperty(m,"prototype",{writable:!1}),m}function s(m){var _=o(m,"string");return typeof _=="symbol"?_:String(_)}function o(m,_){if(typeof m!="object"||m===null)return m;var b=m[Symbol.toPrimitive];if(b!==void 0){var y=b.call(m,_);if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(m)}var f=bt(),u=f.Buffer,l=wt(),d=l.inspect,c=d&&d.custom||"inspect";function h(m,_,b){u.prototype.copy.call(m,_,b)}return Bh=function(){function m(){n(this,m),this.head=null,this.tail=null,this.length=0}return i(m,[{key:"push",value:function(b){var y={data:b,next:null};this.length>0?this.tail.next=y:this.head=y,this.tail=y,++this.length}},{key:"unshift",value:function(b){var y={data:b,next:this.head};this.length===0&&(this.tail=y),this.head=y,++this.length}},{key:"shift",value:function(){if(this.length!==0){var b=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,b}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(b){if(this.length===0)return"";for(var y=this.head,p=""+y.data;y=y.next;)p+=b+y.data;return p}},{key:"concat",value:function(b){if(this.length===0)return u.alloc(0);for(var y=u.allocUnsafe(b>>>0),p=this.head,g=0;p;)h(p.data,y,g),g+=p.data.length,p=p.next;return y}},{key:"consume",value:function(b,y){var p;return b<this.head.data.length?(p=this.head.data.slice(0,b),this.head.data=this.head.data.slice(b)):b===this.head.data.length?p=this.shift():p=y?this._getString(b):this._getBuffer(b),p}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(b){var y=this.head,p=1,g=y.data;for(b-=g.length;y=y.next;){var w=y.data,S=b>w.length?w.length:b;if(S===w.length?g+=w:g+=w.slice(0,b),b-=S,b===0){S===w.length?(++p,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=w.slice(S));break}++p}return this.length-=p,g}},{key:"_getBuffer",value:function(b){var y=u.allocUnsafe(b),p=this.head,g=1;for(p.data.copy(y),b-=p.data.length;p=p.next;){var w=p.data,S=b>w.length?w.length:b;if(w.copy(y,y.length-b,0,S),b-=S,b===0){S===w.length?(++g,p.next?this.head=p.next:this.head=this.tail=null):(this.head=p,p.data=w.slice(S));break}++g}return this.length-=g,y}},{key:c,value:function(b,y){return d(this,e(e({},y),{},{depth:0,customInspect:!1}))}}]),m}(),Bh}var kh,_w;function ZP(){if(_w)return kh;_w=1;var t=Df().codes.ERR_STREAM_PREMATURE_CLOSE;function e(i){var s=!1;return function(){if(!s){s=!0;for(var o=arguments.length,f=new Array(o),u=0;u<o;u++)f[u]=arguments[u];i.apply(this,f)}}}function r(){}function n(i){return i.setHeader&&typeof i.abort=="function"}function a(i,s,o){if(typeof s=="function")return a(i,null,s);s||(s={}),o=e(o||r);var f=s.readable||s.readable!==!1&&i.readable,u=s.writable||s.writable!==!1&&i.writable,l=function(){i.writable||c()},d=i._writableState&&i._writableState.finished,c=function(){u=!1,d=!0,f||o.call(i)},h=i._readableState&&i._readableState.endEmitted,m=function(){f=!1,h=!0,u||o.call(i)},_=function(g){o.call(i,g)},b=function(){var g;if(f&&!h)return(!i._readableState||!i._readableState.ended)&&(g=new t),o.call(i,g);if(u&&!d)return(!i._writableState||!i._writableState.ended)&&(g=new t),o.call(i,g)},y=function(){i.req.on("finish",c)};return n(i)?(i.on("complete",c),i.on("abort",b),i.req?y():i.on("request",y)):u&&!i._writableState&&(i.on("end",l),i.on("close",l)),i.on("end",m),i.on("finish",c),s.error!==!1&&i.on("error",_),i.on("close",b),function(){i.removeListener("complete",c),i.removeListener("abort",b),i.removeListener("request",y),i.req&&i.req.removeListener("finish",c),i.removeListener("end",l),i.removeListener("close",l),i.removeListener("finish",c),i.removeListener("end",m),i.removeListener("error",_),i.removeListener("close",b)}}return kh=a,kh}var $h,vw;function JP(){if(vw)return $h;vw=1;var t;function e(g,w,S){return w=r(w),w in g?Object.defineProperty(g,w,{value:S,enumerable:!0,configurable:!0,writable:!0}):g[w]=S,g}function r(g){var w=n(g,"string");return typeof w=="symbol"?w:String(w)}function n(g,w){if(typeof g!="object"||g===null)return g;var S=g[Symbol.toPrimitive];if(S!==void 0){var I=S.call(g,w||"default");if(typeof I!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(g)}var a=ZP(),i=Symbol("lastResolve"),s=Symbol("lastReject"),o=Symbol("error"),f=Symbol("ended"),u=Symbol("lastPromise"),l=Symbol("handlePromise"),d=Symbol("stream");function c(g,w){return{value:g,done:w}}function h(g){var w=g[i];if(w!==null){var S=g[d].read();S!==null&&(g[u]=null,g[i]=null,g[s]=null,w(c(S,!1)))}}function m(g){xe.nextTick(h,g)}function _(g,w){return function(S,I){g.then(function(){if(w[f]){S(c(void 0,!0));return}w[l](S,I)},I)}}var b=Object.getPrototypeOf(function(){}),y=Object.setPrototypeOf((t={get stream(){return this[d]},next:function(){var w=this,S=this[o];if(S!==null)return Promise.reject(S);if(this[f])return Promise.resolve(c(void 0,!0));if(this[d].destroyed)return new Promise(function(D,N){xe.nextTick(function(){w[o]?N(w[o]):D(c(void 0,!0))})});var I=this[u],O;if(I)O=new Promise(_(I,this));else{var M=this[d].read();if(M!==null)return Promise.resolve(c(M,!1));O=new Promise(this[l])}return this[u]=O,O}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var w=this;return new Promise(function(S,I){w[d].destroy(null,function(O){if(O){I(O);return}S(c(void 0,!0))})})}),t),b),p=function(w){var S,I=Object.create(y,(S={},e(S,d,{value:w,writable:!0}),e(S,i,{value:null,writable:!0}),e(S,s,{value:null,writable:!0}),e(S,o,{value:null,writable:!0}),e(S,f,{value:w._readableState.endEmitted,writable:!0}),e(S,l,{value:function(M,D){var N=I[d].read();N?(I[u]=null,I[i]=null,I[s]=null,M(c(N,!1))):(I[i]=M,I[s]=D)},writable:!0}),S));return I[u]=null,a(w,function(O){if(O&&O.code!=="ERR_STREAM_PREMATURE_CLOSE"){var M=I[s];M!==null&&(I[u]=null,I[i]=null,I[s]=null,M(O)),I[o]=O;return}var D=I[i];D!==null&&(I[u]=null,I[i]=null,I[s]=null,D(c(void 0,!0))),I[f]=!0}),w.on("readable",m.bind(null,I)),I};return $h=p,$h}var Uh,ww;function YP(){return ww||(ww=1,Uh=function(){throw new Error("Readable.from is not available in the browser")}),Uh}var Hh,Ew;function eD(){if(Ew)return Hh;Ew=1,Hh=D;var t;D.ReadableState=M,Jt().EventEmitter;var e=function(v,T){return v.listeners(T).length},r=dw(),n=bt().Buffer,a=(typeof Ye<"u"?Ye:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function i(E){return n.from(E)}function s(E){return n.isBuffer(E)||E instanceof a}var o=wt(),f;o&&o.debuglog?f=o.debuglog("stream"):f=function(){};var u=XP(),l=pw(),d=bw(),c=d.getHighWaterMark,h=Df().codes,m=h.ERR_INVALID_ARG_TYPE,_=h.ERR_STREAM_PUSH_AFTER_EOF,b=h.ERR_METHOD_NOT_IMPLEMENTED,y=h.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,p,g,w;vt()(D,r);var S=l.errorOrDestroy,I=["error","close","destroy","pause","resume"];function O(E,v,T){if(typeof E.prependListener=="function")return E.prependListener(v,T);!E._events||!E._events[v]?E.on(v,T):Array.isArray(E._events[v])?E._events[v].unshift(T):E._events[v]=[T,E._events[v]]}function M(E,v,T){t=t||Cf(),E=E||{},typeof T!="boolean"&&(T=v instanceof t),this.objectMode=!!E.objectMode,T&&(this.objectMode=this.objectMode||!!E.readableObjectMode),this.highWaterMark=c(this,E,"readableHighWaterMark",T),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=E.emitClose!==!1,this.autoDestroy=!!E.autoDestroy,this.destroyed=!1,this.defaultEncoding=E.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,E.encoding&&(p||(p=Mr().StringDecoder),this.decoder=new p(E.encoding),this.encoding=E.encoding)}function D(E){if(t=t||Cf(),!(this instanceof D))return new D(E);var v=this instanceof t;this._readableState=new M(E,this,v),this.readable=!0,E&&(typeof E.read=="function"&&(this._read=E.read),typeof E.destroy=="function"&&(this._destroy=E.destroy)),r.call(this)}Object.defineProperty(D.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(v){this._readableState&&(this._readableState.destroyed=v)}}),D.prototype.destroy=l.destroy,D.prototype._undestroy=l.undestroy,D.prototype._destroy=function(E,v){v(E)},D.prototype.push=function(E,v){var T=this._readableState,L;return T.objectMode?L=!0:typeof E=="string"&&(v=v||T.defaultEncoding,v!==T.encoding&&(E=n.from(E,v),v=""),L=!0),N(this,E,v,!1,L)},D.prototype.unshift=function(E){return N(this,E,null,!0,!1)};function N(E,v,T,L,Y){f("readableAddChunk",v);var ne=E._readableState;if(v===null)ne.reading=!1,J(E,ne);else{var pe;if(Y||(pe=R(ne,v)),pe)S(E,pe);else if(ne.objectMode||v&&v.length>0)if(typeof v!="string"&&!ne.objectMode&&Object.getPrototypeOf(v)!==n.prototype&&(v=i(v)),L)ne.endEmitted?S(E,new y):C(E,ne,v,!0);else if(ne.ended)S(E,new _);else{if(ne.destroyed)return!1;ne.reading=!1,ne.decoder&&!T?(v=ne.decoder.write(v),ne.objectMode||v.length!==0?C(E,ne,v,!1):Z(E,ne)):C(E,ne,v,!1)}else L||(ne.reading=!1,Z(E,ne))}return!ne.ended&&(ne.length<ne.highWaterMark||ne.length===0)}function C(E,v,T,L){v.flowing&&v.length===0&&!v.sync?(v.awaitDrain=0,E.emit("data",T)):(v.length+=v.objectMode?1:T.length,L?v.buffer.unshift(T):v.buffer.push(T),v.needReadable&&le(E)),Z(E,v)}function R(E,v){var T;return!s(v)&&typeof v!="string"&&v!==void 0&&!E.objectMode&&(T=new m("chunk",["string","Buffer","Uint8Array"],v)),T}D.prototype.isPaused=function(){return this._readableState.flowing===!1},D.prototype.setEncoding=function(E){p||(p=Mr().StringDecoder);var v=new p(E);this._readableState.decoder=v,this._readableState.encoding=this._readableState.decoder.encoding;for(var T=this._readableState.buffer.head,L="";T!==null;)L+=v.write(T.data),T=T.next;return this._readableState.buffer.clear(),L!==""&&this._readableState.buffer.push(L),this._readableState.length=L.length,this};var F=1073741824;function X(E){return E>=F?E=F:(E--,E|=E>>>1,E|=E>>>2,E|=E>>>4,E|=E>>>8,E|=E>>>16,E++),E}function oe(E,v){return E<=0||v.length===0&&v.ended?0:v.objectMode?1:E!==E?v.flowing&&v.length?v.buffer.head.data.length:v.length:(E>v.highWaterMark&&(v.highWaterMark=X(E)),E<=v.length?E:v.ended?v.length:(v.needReadable=!0,0))}D.prototype.read=function(E){f("read",E),E=parseInt(E,10);var v=this._readableState,T=E;if(E!==0&&(v.emittedReadable=!1),E===0&&v.needReadable&&((v.highWaterMark!==0?v.length>=v.highWaterMark:v.length>0)||v.ended))return f("read: emitReadable",v.length,v.ended),v.length===0&&v.ended?k(this):le(this),null;if(E=oe(E,v),E===0&&v.ended)return v.length===0&&k(this),null;var L=v.needReadable;f("need readable",L),(v.length===0||v.length-E<v.highWaterMark)&&(L=!0,f("length less than watermark",L)),v.ended||v.reading?(L=!1,f("reading or ended",L)):L&&(f("do read"),v.reading=!0,v.sync=!0,v.length===0&&(v.needReadable=!0),this._read(v.highWaterMark),v.sync=!1,v.reading||(E=oe(T,v)));var Y;return E>0?Y=P(E,v):Y=null,Y===null?(v.needReadable=v.length<=v.highWaterMark,E=0):(v.length-=E,v.awaitDrain=0),v.length===0&&(v.ended||(v.needReadable=!0),T!==E&&v.ended&&k(this)),Y!==null&&this.emit("data",Y),Y};function J(E,v){if(f("onEofChunk"),!v.ended){if(v.decoder){var T=v.decoder.end();T&&T.length&&(v.buffer.push(T),v.length+=v.objectMode?1:T.length)}v.ended=!0,v.sync?le(E):(v.needReadable=!1,v.emittedReadable||(v.emittedReadable=!0,ae(E)))}}function le(E){var v=E._readableState;f("emitReadable",v.needReadable,v.emittedReadable),v.needReadable=!1,v.emittedReadable||(f("emitReadable",v.flowing),v.emittedReadable=!0,xe.nextTick(ae,E))}function ae(E){var v=E._readableState;f("emitReadable_",v.destroyed,v.length,v.ended),!v.destroyed&&(v.length||v.ended)&&(E.emit("readable"),v.emittedReadable=!1),v.needReadable=!v.flowing&&!v.ended&&v.length<=v.highWaterMark,A(E)}function Z(E,v){v.readingMore||(v.readingMore=!0,xe.nextTick(H,E,v))}function H(E,v){for(;!v.reading&&!v.ended&&(v.length<v.highWaterMark||v.flowing&&v.length===0);){var T=v.length;if(f("maybeReadMore read 0"),E.read(0),T===v.length)break}v.readingMore=!1}D.prototype._read=function(E){S(this,new b("_read()"))},D.prototype.pipe=function(E,v){var T=this,L=this._readableState;switch(L.pipesCount){case 0:L.pipes=E;break;case 1:L.pipes=[L.pipes,E];break;default:L.pipes.push(E);break}L.pipesCount+=1,f("pipe count=%d opts=%j",L.pipesCount,v);var Y=(!v||v.end!==!1)&&E!==xe.stdout&&E!==xe.stderr,ne=Y?we:Fe;L.endEmitted?xe.nextTick(ne):T.once("end",ne),E.on("unpipe",pe);function pe(je,Me){f("onunpipe"),je===T&&Me&&Me.hasUnpiped===!1&&(Me.hasUnpiped=!0,Le())}function we(){f("onend"),E.end()}var fe=de(T);E.on("drain",fe);var Re=!1;function Le(){f("cleanup"),E.removeListener("close",_e),E.removeListener("finish",Ee),E.removeListener("drain",fe),E.removeListener("error",Ue),E.removeListener("unpipe",pe),T.removeListener("end",we),T.removeListener("end",Fe),T.removeListener("data",Te),Re=!0,L.awaitDrain&&(!E._writableState||E._writableState.needDrain)&&fe()}T.on("data",Te);function Te(je){f("ondata");var Me=E.write(je);f("dest.write",Me),Me===!1&&((L.pipesCount===1&&L.pipes===E||L.pipesCount>1&&te(L.pipes,E)!==-1)&&!Re&&(f("false write response, pause",L.awaitDrain),L.awaitDrain++),T.pause())}function Ue(je){f("onerror",je),Fe(),E.removeListener("error",Ue),e(E,"error")===0&&S(E,je)}O(E,"error",Ue);function _e(){E.removeListener("finish",Ee),Fe()}E.once("close",_e);function Ee(){f("onfinish"),E.removeListener("close",_e),Fe()}E.once("finish",Ee);function Fe(){f("unpipe"),T.unpipe(E)}return E.emit("pipe",T),L.flowing||(f("pipe resume"),T.resume()),E};function de(E){return function(){var T=E._readableState;f("pipeOnDrain",T.awaitDrain),T.awaitDrain&&T.awaitDrain--,T.awaitDrain===0&&e(E,"data")&&(T.flowing=!0,A(E))}}D.prototype.unpipe=function(E){var v=this._readableState,T={hasUnpiped:!1};if(v.pipesCount===0)return this;if(v.pipesCount===1)return E&&E!==v.pipes?this:(E||(E=v.pipes),v.pipes=null,v.pipesCount=0,v.flowing=!1,E&&E.emit("unpipe",this,T),this);if(!E){var L=v.pipes,Y=v.pipesCount;v.pipes=null,v.pipesCount=0,v.flowing=!1;for(var ne=0;ne<Y;ne++)L[ne].emit("unpipe",this,{hasUnpiped:!1});return this}var pe=te(v.pipes,E);return pe===-1?this:(v.pipes.splice(pe,1),v.pipesCount-=1,v.pipesCount===1&&(v.pipes=v.pipes[0]),E.emit("unpipe",this,T),this)},D.prototype.on=function(E,v){var T=r.prototype.on.call(this,E,v),L=this._readableState;return E==="data"?(L.readableListening=this.listenerCount("readable")>0,L.flowing!==!1&&this.resume()):E==="readable"&&!L.endEmitted&&!L.readableListening&&(L.readableListening=L.needReadable=!0,L.flowing=!1,L.emittedReadable=!1,f("on readable",L.length,L.reading),L.length?le(this):L.reading||xe.nextTick(W,this)),T},D.prototype.addListener=D.prototype.on,D.prototype.removeListener=function(E,v){var T=r.prototype.removeListener.call(this,E,v);return E==="readable"&&xe.nextTick(he,this),T},D.prototype.removeAllListeners=function(E){var v=r.prototype.removeAllListeners.apply(this,arguments);return(E==="readable"||E===void 0)&&xe.nextTick(he,this),v};function he(E){var v=E._readableState;v.readableListening=E.listenerCount("readable")>0,v.resumeScheduled&&!v.paused?v.flowing=!0:E.listenerCount("data")>0&&E.resume()}function W(E){f("readable nexttick read 0"),E.read(0)}D.prototype.resume=function(){var E=this._readableState;return E.flowing||(f("resume"),E.flowing=!E.readableListening,z(this,E)),E.paused=!1,this};function z(E,v){v.resumeScheduled||(v.resumeScheduled=!0,xe.nextTick(Q,E,v))}function Q(E,v){f("resume",v.reading),v.reading||E.read(0),v.resumeScheduled=!1,E.emit("resume"),A(E),v.flowing&&!v.reading&&E.read(0)}D.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function A(E){var v=E._readableState;for(f("flow",v.flowing);v.flowing&&E.read()!==null;);}D.prototype.wrap=function(E){var v=this,T=this._readableState,L=!1;E.on("end",function(){if(f("wrapped end"),T.decoder&&!T.ended){var pe=T.decoder.end();pe&&pe.length&&v.push(pe)}v.push(null)}),E.on("data",function(pe){if(f("wrapped data"),T.decoder&&(pe=T.decoder.write(pe)),!(T.objectMode&&pe==null)&&!(!T.objectMode&&(!pe||!pe.length))){var we=v.push(pe);we||(L=!0,E.pause())}});for(var Y in E)this[Y]===void 0&&typeof E[Y]=="function"&&(this[Y]=function(we){return function(){return E[we].apply(E,arguments)}}(Y));for(var ne=0;ne<I.length;ne++)E.on(I[ne],this.emit.bind(this,I[ne]));return this._read=function(pe){f("wrapped _read",pe),L&&(L=!1,E.resume())},this},typeof Symbol=="function"&&(D.prototype[Symbol.asyncIterator]=function(){return g===void 0&&(g=JP()),g(this)}),Object.defineProperty(D.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(D.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(D.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(v){this._readableState&&(this._readableState.flowing=v)}}),D._fromList=P,Object.defineProperty(D.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function P(E,v){if(v.length===0)return null;var T;return v.objectMode?T=v.buffer.shift():!E||E>=v.length?(v.decoder?T=v.buffer.join(""):v.buffer.length===1?T=v.buffer.first():T=v.buffer.concat(v.length),v.buffer.clear()):T=v.buffer.consume(E,v.decoder),T}function k(E){var v=E._readableState;f("endReadable",v.endEmitted),v.endEmitted||(v.ended=!0,xe.nextTick(G,v,E))}function G(E,v){if(f("endReadableNT",E.endEmitted,E.length),!E.endEmitted&&E.length===0&&(E.endEmitted=!0,v.readable=!1,v.emit("end"),E.autoDestroy)){var T=v._writableState;(!T||T.autoDestroy&&T.finished)&&v.destroy()}}typeof Symbol=="function"&&(D.from=function(E,v){return w===void 0&&(w=YP()),w(D,E,v)});function te(E,v){for(var T=0,L=E.length;T<L;T++)if(E[T]===v)return T;return-1}return Hh}var Vh,Sw;function Cf(){if(Sw)return Vh;Sw=1;var t=Object.keys||function(u){var l=[];for(var d in u)l.push(d);return l};Vh=s;var e=eD(),r=zh();vt()(s,e);for(var n=t(r.prototype),a=0;a<n.length;a++){var i=n[a];s.prototype[i]||(s.prototype[i]=r.prototype[i])}function s(u){if(!(this instanceof s))return new s(u);e.call(this,u),r.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",o)))}Object.defineProperty(s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(s.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(s.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function o(){this._writableState.ended||xe.nextTick(f,this)}function f(u){u.end()}return Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(l){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=l,this._writableState.destroyed=l)}}),Vh}var Gh,Tw;function zh(){if(Tw)return Gh;Tw=1,Gh=M;function t(A){var P=this;this.next=null,this.entry=null,this.finish=function(){Q(P,A)}}var e;M.WritableState=I;var r={deprecate:Pf()},n=dw(),a=bt().Buffer,i=(typeof Ye<"u"?Ye:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s(A){return a.from(A)}function o(A){return a.isBuffer(A)||A instanceof i}var f=pw(),u=bw(),l=u.getHighWaterMark,d=Df().codes,c=d.ERR_INVALID_ARG_TYPE,h=d.ERR_METHOD_NOT_IMPLEMENTED,m=d.ERR_MULTIPLE_CALLBACK,_=d.ERR_STREAM_CANNOT_PIPE,b=d.ERR_STREAM_DESTROYED,y=d.ERR_STREAM_NULL_VALUES,p=d.ERR_STREAM_WRITE_AFTER_END,g=d.ERR_UNKNOWN_ENCODING,w=f.errorOrDestroy;vt()(M,n);function S(){}function I(A,P,k){e=e||Cf(),A=A||{},typeof k!="boolean"&&(k=P instanceof e),this.objectMode=!!A.objectMode,k&&(this.objectMode=this.objectMode||!!A.writableObjectMode),this.highWaterMark=l(this,A,"writableHighWaterMark",k),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var G=A.decodeStrings===!1;this.decodeStrings=!G,this.defaultEncoding=A.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(te){J(P,te)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=A.emitClose!==!1,this.autoDestroy=!!A.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}I.prototype.getBuffer=function(){for(var P=this.bufferedRequest,k=[];P;)k.push(P),P=P.next;return k},function(){try{Object.defineProperty(I.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var O;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(O=Function.prototype[Symbol.hasInstance],Object.defineProperty(M,Symbol.hasInstance,{value:function(P){return O.call(this,P)?!0:this!==M?!1:P&&P._writableState instanceof I}})):O=function(P){return P instanceof this};function M(A){e=e||Cf();var P=this instanceof e;if(!P&&!O.call(M,this))return new M(A);this._writableState=new I(A,this,P),this.writable=!0,A&&(typeof A.write=="function"&&(this._write=A.write),typeof A.writev=="function"&&(this._writev=A.writev),typeof A.destroy=="function"&&(this._destroy=A.destroy),typeof A.final=="function"&&(this._final=A.final)),n.call(this)}M.prototype.pipe=function(){w(this,new _)};function D(A,P){var k=new p;w(A,k),xe.nextTick(P,k)}function N(A,P,k,G){var te;return k===null?te=new y:typeof k!="string"&&!P.objectMode&&(te=new c("chunk",["string","Buffer"],k)),te?(w(A,te),xe.nextTick(G,te),!1):!0}M.prototype.write=function(A,P,k){var G=this._writableState,te=!1,E=!G.objectMode&&o(A);return E&&!a.isBuffer(A)&&(A=s(A)),typeof P=="function"&&(k=P,P=null),E?P="buffer":P||(P=G.defaultEncoding),typeof k!="function"&&(k=S),G.ending?D(this,k):(E||N(this,G,A,k))&&(G.pendingcb++,te=R(this,G,E,A,P,k)),te},M.prototype.cork=function(){this._writableState.corked++},M.prototype.uncork=function(){var A=this._writableState;A.corked&&(A.corked--,!A.writing&&!A.corked&&!A.bufferProcessing&&A.bufferedRequest&&Z(this,A))},M.prototype.setDefaultEncoding=function(P){if(typeof P=="string"&&(P=P.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((P+"").toLowerCase())>-1))throw new g(P);return this._writableState.defaultEncoding=P,this},Object.defineProperty(M.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function C(A,P,k){return!A.objectMode&&A.decodeStrings!==!1&&typeof P=="string"&&(P=a.from(P,k)),P}Object.defineProperty(M.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function R(A,P,k,G,te,E){if(!k){var v=C(P,G,te);G!==v&&(k=!0,te="buffer",G=v)}var T=P.objectMode?1:G.length;P.length+=T;var L=P.length<P.highWaterMark;if(L||(P.needDrain=!0),P.writing||P.corked){var Y=P.lastBufferedRequest;P.lastBufferedRequest={chunk:G,encoding:te,isBuf:k,callback:E,next:null},Y?Y.next=P.lastBufferedRequest:P.bufferedRequest=P.lastBufferedRequest,P.bufferedRequestCount+=1}else F(A,P,!1,T,G,te,E);return L}function F(A,P,k,G,te,E,v){P.writelen=G,P.writecb=v,P.writing=!0,P.sync=!0,P.destroyed?P.onwrite(new b("write")):k?A._writev(te,P.onwrite):A._write(te,E,P.onwrite),P.sync=!1}function X(A,P,k,G,te){--P.pendingcb,k?(xe.nextTick(te,G),xe.nextTick(W,A,P),A._writableState.errorEmitted=!0,w(A,G)):(te(G),A._writableState.errorEmitted=!0,w(A,G),W(A,P))}function oe(A){A.writing=!1,A.writecb=null,A.length-=A.writelen,A.writelen=0}function J(A,P){var k=A._writableState,G=k.sync,te=k.writecb;if(typeof te!="function")throw new m;if(oe(k),P)X(A,k,G,P,te);else{var E=H(k)||A.destroyed;!E&&!k.corked&&!k.bufferProcessing&&k.bufferedRequest&&Z(A,k),G?xe.nextTick(le,A,k,E,te):le(A,k,E,te)}}function le(A,P,k,G){k||ae(A,P),P.pendingcb--,G(),W(A,P)}function ae(A,P){P.length===0&&P.needDrain&&(P.needDrain=!1,A.emit("drain"))}function Z(A,P){P.bufferProcessing=!0;var k=P.bufferedRequest;if(A._writev&&k&&k.next){var G=P.bufferedRequestCount,te=new Array(G),E=P.corkedRequestsFree;E.entry=k;for(var v=0,T=!0;k;)te[v]=k,k.isBuf||(T=!1),k=k.next,v+=1;te.allBuffers=T,F(A,P,!0,P.length,te,"",E.finish),P.pendingcb++,P.lastBufferedRequest=null,E.next?(P.corkedRequestsFree=E.next,E.next=null):P.corkedRequestsFree=new t(P),P.bufferedRequestCount=0}else{for(;k;){var L=k.chunk,Y=k.encoding,ne=k.callback,pe=P.objectMode?1:L.length;if(F(A,P,!1,pe,L,Y,ne),k=k.next,P.bufferedRequestCount--,P.writing)break}k===null&&(P.lastBufferedRequest=null)}P.bufferedRequest=k,P.bufferProcessing=!1}M.prototype._write=function(A,P,k){k(new h("_write()"))},M.prototype._writev=null,M.prototype.end=function(A,P,k){var G=this._writableState;return typeof A=="function"?(k=A,A=null,P=null):typeof P=="function"&&(k=P,P=null),A!=null&&this.write(A,P),G.corked&&(G.corked=1,this.uncork()),G.ending||z(this,G,k),this},Object.defineProperty(M.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function H(A){return A.ending&&A.length===0&&A.bufferedRequest===null&&!A.finished&&!A.writing}function de(A,P){A._final(function(k){P.pendingcb--,k&&w(A,k),P.prefinished=!0,A.emit("prefinish"),W(A,P)})}function he(A,P){!P.prefinished&&!P.finalCalled&&(typeof A._final=="function"&&!P.destroyed?(P.pendingcb++,P.finalCalled=!0,xe.nextTick(de,A,P)):(P.prefinished=!0,A.emit("prefinish")))}function W(A,P){var k=H(P);if(k&&(he(A,P),P.pendingcb===0&&(P.finished=!0,A.emit("finish"),P.autoDestroy))){var G=A._readableState;(!G||G.autoDestroy&&G.endEmitted)&&A.destroy()}return k}function z(A,P,k){P.ending=!0,W(A,P),k&&(P.finished?xe.nextTick(k):A.once("finish",k)),P.ended=!0,A.writable=!1}function Q(A,P,k){var G=A.entry;for(A.entry=null;G;){var te=G.callback;P.pendingcb--,te(k),G=G.next}P.corkedRequestsFree.next=A}return Object.defineProperty(M.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(P){this._writableState&&(this._writableState.destroyed=P)}}),M.prototype.destroy=f.destroy,M.prototype._undestroy=f.undestroy,M.prototype._destroy=function(A,P){P(A)},Gh}var xw;function Rw(){if(xw)return Ch.exports;xw=1;var t=wt(),e=zh(),r=Et(),n=r.LEVEL,a=Ch.exports=function(){var s=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.call(this,{objectMode:!0,highWaterMark:o.highWaterMark}),this.format=o.format,this.level=o.level,this.handleExceptions=o.handleExceptions,this.handleRejections=o.handleRejections,this.silent=o.silent,o.log&&(this.log=o.log),o.logv&&(this.logv=o.logv),o.close&&(this.close=o.close),this.once("pipe",function(f){s.levels=f.levels,s.parent=f}),this.once("unpipe",function(f){f===s.parent&&(s.parent=null,s.close&&s.close())})};return t.inherits(a,e),a.prototype._write=function(s,o,f){if(this.silent||s.exception===!0&&!this.handleExceptions)return f(null);var u=this.level||this.parent&&this.parent.level;if(!u||this.levels[u]>=this.levels[s[n]]){if(s&&!this.format)return this.log(s,f);var l=void 0,d=void 0;try{d=this.format.transform(Object.assign({},s),this.format.options)}catch(c){l=c}if(l||!d){if(f(),l)throw l;return}return this.log(d,f)}return this._writableState.sync=!1,f(null)},a.prototype._writev=function(s,o){if(this.logv){var f=s.filter(this._accept,this);return f.length?this.logv(f,o):o(null)}for(var u=0;u<s.length;u++)if(this._accept(s[u])){if(s[u].chunk&&!this.format){this.log(s[u].chunk,s[u].callback);continue}var l=void 0,d=void 0;try{d=this.format.transform(Object.assign({},s[u].chunk),this.format.options)}catch(c){l=c}if(l||!d){if(s[u].callback(),l)throw o(null),l}else this.log(d,s[u].callback)}return o(null)},a.prototype._accept=function(s){var o=s.chunk;if(this.silent)return!1;var f=this.level||this.parent&&this.parent.level;return!!((o.exception===!0||!f||this.levels[f]>=this.levels[o[n]])&&(this.handleExceptions||o.exception!==!0))},a.prototype._nop=function(){},Ch.exports}var Wh={exports:{}},Iw;function tD(){if(Iw)return Wh.exports;Iw=1;var t=wt(),e=Et(),r=e.LEVEL,n=Rw(),a=Wh.exports=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(n.call(this,s),!s.transport||typeof s.transport.log!="function")throw new Error("Invalid transport, must be an object with a log method.");this.transport=s.transport,this.level=this.level||s.transport.level,this.handleExceptions=this.handleExceptions||s.transport.handleExceptions,this._deprecated();function o(f){this.emit("error",f,this.transport)}this.transport.__winstonError||(this.transport.__winstonError=o.bind(this),this.transport.on("error",this.transport.__winstonError))};return t.inherits(a,n),a.prototype._write=function(s,o,f){if(this.silent||s.exception===!0&&!this.handleExceptions)return f(null);(!this.level||this.levels[this.level]>=this.levels[s[r]])&&this.transport.log(s[r],s.message,s,this._nop),f(null)},a.prototype._writev=function(s,o){for(var f=0;f<s.length;f++)this._accept(s[f])&&(this.transport.log(s[f].chunk[r],s[f].chunk.message,s[f].chunk,this._nop),s[f].callback());return o(null)},a.prototype._deprecated=function(){console.error([this.transport.name+" is a legacy winston transport. Consider upgrading: ","- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md"].join(`
`))},a.prototype.close=function(){this.transport.close&&this.transport.close(),this.transport.__winstonError&&(this.transport.removeListener("error",this.transport.__winstonError),this.transport.__winstonError=null)},Wh.exports}var Aw;function oo(){return Aw||(Aw=1,Nf.exports=Rw(),Nf.exports.LegacyTransportStream=tD()),Nf.exports}var Kh,Ow;function rD(){if(Ow)return Kh;Ow=1;function t(p){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},t(p)}function e(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function r(p,g){for(var w=0;w<g.length;w++){var S=g[w];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(p,a(S.key),S)}}function n(p,g,w){return r(p.prototype,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function a(p){var g=i(p,"string");return t(g)=="symbol"?g:g+""}function i(p,g){if(t(p)!="object"||!p)return p;var w=p[Symbol.toPrimitive];if(w!==void 0){var S=w.call(p,g);if(t(S)!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(p)}function s(p,g,w){return g=l(g),o(p,u()?Reflect.construct(g,w,l(p).constructor):g.apply(p,w))}function o(p,g){if(g&&(t(g)=="object"||typeof g=="function"))return g;if(g!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f(p)}function f(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function u(){try{var p=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u=function(){return!!p})()}function l(p){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)},l(p)}function d(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),Object.defineProperty(p,"prototype",{writable:!1}),g&&c(p,g)}function c(p,g){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(w,S){return w.__proto__=S,w},c(p,g)}var h=Si(),m=Et(),_=m.LEVEL,b=m.MESSAGE,y=oo();return Kh=function(p){function g(){var w,S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e(this,g),w=s(this,g,[S]),w.name=S.name||"console",w.stderrLevels=w._stringArrayToSet(S.stderrLevels),w.consoleWarnLevels=w._stringArrayToSet(S.consoleWarnLevels),w.eol=typeof S.eol=="string"?S.eol:h.EOL,w.forceConsole=S.forceConsole||!1,w._consoleLog=console.log.bind(console),w._consoleWarn=console.warn.bind(console),w._consoleError=console.error.bind(console),w.setMaxListeners(30),w}return d(g,p),n(g,[{key:"log",value:function(S,I){var O=this;if(setImmediate(function(){return O.emit("logged",S)}),this.stderrLevels[S[_]]){console._stderr&&!this.forceConsole?console._stderr.write("".concat(S[b]).concat(this.eol)):this._consoleError(S[b]),I&&I();return}else if(this.consoleWarnLevels[S[_]]){console._stderr&&!this.forceConsole?console._stderr.write("".concat(S[b]).concat(this.eol)):this._consoleWarn(S[b]),I&&I();return}console._stdout&&!this.forceConsole?console._stdout.write("".concat(S[b]).concat(this.eol)):this._consoleLog(S[b]),I&&I()}},{key:"_stringArrayToSet",value:function(S,I){if(!S)return{};if(I=I||"Cannot make set from type other than Array of string elements",!Array.isArray(S))throw new Error(I);return S.reduce(function(O,M){if(typeof M!="string")throw new Error(I);return O[M]=!0,O},{})}}])}(y),Kh}var nD=null,Nw=Object.freeze({__proto__:null,default:nD}),Pw=yi(Nw),Qh,Dw;function iD(){if(Dw)return Qh;Dw=1;function t(a){if(typeof a!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(a))}function e(a,i){for(var s="",o=0,f=-1,u=0,l,d=0;d<=a.length;++d){if(d<a.length)l=a.charCodeAt(d);else{if(l===47)break;l=47}if(l===47){if(!(f===d-1||u===1))if(f!==d-1&&u===2){if(s.length<2||o!==2||s.charCodeAt(s.length-1)!==46||s.charCodeAt(s.length-2)!==46){if(s.length>2){var c=s.lastIndexOf("/");if(c!==s.length-1){c===-1?(s="",o=0):(s=s.slice(0,c),o=s.length-1-s.lastIndexOf("/")),f=d,u=0;continue}}else if(s.length===2||s.length===1){s="",o=0,f=d,u=0;continue}}i&&(s.length>0?s+="/..":s="..",o=2)}else s.length>0?s+="/"+a.slice(f+1,d):s=a.slice(f+1,d),o=d-f-1;f=d,u=0}else l===46&&u!==-1?++u:u=-1}return s}function r(a,i){var s=i.dir||i.root,o=i.base||(i.name||"")+(i.ext||"");return s?s===i.root?s+o:s+a+o:o}var n={resolve:function(){for(var i="",s=!1,o,f=arguments.length-1;f>=-1&&!s;f--){var u;f>=0?u=arguments[f]:(o===void 0&&(o=xe.cwd()),u=o),t(u),u.length!==0&&(i=u+"/"+i,s=u.charCodeAt(0)===47)}return i=e(i,!s),s?i.length>0?"/"+i:"/":i.length>0?i:"."},normalize:function(i){if(t(i),i.length===0)return".";var s=i.charCodeAt(0)===47,o=i.charCodeAt(i.length-1)===47;return i=e(i,!s),i.length===0&&!s&&(i="."),i.length>0&&o&&(i+="/"),s?"/"+i:i},isAbsolute:function(i){return t(i),i.length>0&&i.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var i,s=0;s<arguments.length;++s){var o=arguments[s];t(o),o.length>0&&(i===void 0?i=o:i+="/"+o)}return i===void 0?".":n.normalize(i)},relative:function(i,s){if(t(i),t(s),i===s||(i=n.resolve(i),s=n.resolve(s),i===s))return"";for(var o=1;o<i.length&&i.charCodeAt(o)===47;++o);for(var f=i.length,u=f-o,l=1;l<s.length&&s.charCodeAt(l)===47;++l);for(var d=s.length,c=d-l,h=u<c?u:c,m=-1,_=0;_<=h;++_){if(_===h){if(c>h){if(s.charCodeAt(l+_)===47)return s.slice(l+_+1);if(_===0)return s.slice(l+_)}else u>h&&(i.charCodeAt(o+_)===47?m=_:_===0&&(m=0));break}var b=i.charCodeAt(o+_),y=s.charCodeAt(l+_);if(b!==y)break;b===47&&(m=_)}var p="";for(_=o+m+1;_<=f;++_)(_===f||i.charCodeAt(_)===47)&&(p.length===0?p+="..":p+="/..");return p.length>0?p+s.slice(l+m):(l+=m,s.charCodeAt(l)===47&&++l,s.slice(l))},_makeLong:function(i){return i},dirname:function(i){if(t(i),i.length===0)return".";for(var s=i.charCodeAt(0),o=s===47,f=-1,u=!0,l=i.length-1;l>=1;--l)if(s=i.charCodeAt(l),s===47){if(!u){f=l;break}}else u=!1;return f===-1?o?"/":".":o&&f===1?"//":i.slice(0,f)},basename:function(i,s){if(s!==void 0&&typeof s!="string")throw new TypeError('"ext" argument must be a string');t(i);var o=0,f=-1,u=!0,l;if(s!==void 0&&s.length>0&&s.length<=i.length){if(s.length===i.length&&s===i)return"";var d=s.length-1,c=-1;for(l=i.length-1;l>=0;--l){var h=i.charCodeAt(l);if(h===47){if(!u){o=l+1;break}}else c===-1&&(u=!1,c=l+1),d>=0&&(h===s.charCodeAt(d)?--d===-1&&(f=l):(d=-1,f=c))}return o===f?f=c:f===-1&&(f=i.length),i.slice(o,f)}else{for(l=i.length-1;l>=0;--l)if(i.charCodeAt(l)===47){if(!u){o=l+1;break}}else f===-1&&(u=!1,f=l+1);return f===-1?"":i.slice(o,f)}},extname:function(i){t(i);for(var s=-1,o=0,f=-1,u=!0,l=0,d=i.length-1;d>=0;--d){var c=i.charCodeAt(d);if(c===47){if(!u){o=d+1;break}continue}f===-1&&(u=!1,f=d+1),c===46?s===-1?s=d:l!==1&&(l=1):s!==-1&&(l=-1)}return s===-1||f===-1||l===0||l===1&&s===f-1&&s===o+1?"":i.slice(s,f)},format:function(i){if(i===null||typeof i!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof i);return r("/",i)},parse:function(i){t(i);var s={root:"",dir:"",base:"",ext:"",name:""};if(i.length===0)return s;var o=i.charCodeAt(0),f=o===47,u;f?(s.root="/",u=1):u=0;for(var l=-1,d=0,c=-1,h=!0,m=i.length-1,_=0;m>=u;--m){if(o=i.charCodeAt(m),o===47){if(!h){d=m+1;break}continue}c===-1&&(h=!1,c=m+1),o===46?l===-1?l=m:_!==1&&(_=1):l!==-1&&(_=-1)}return l===-1||c===-1||_===0||_===1&&l===c-1&&l===d+1?c!==-1&&(d===0&&f?s.base=s.name=i.slice(1,c):s.base=s.name=i.slice(d,c)):(d===0&&f?(s.name=i.slice(1,l),s.base=i.slice(1,c)):(s.name=i.slice(d,l),s.base=i.slice(d,c)),s.ext=i.slice(l,c)),d>0?s.dir=i.slice(0,d-1):f&&(s.dir="/"),s},sep:"/",delimiter:":",win32:null,posix:null};return n.posix=n,Qh=n,Qh}var Lf={exports:{}},Ff={exports:{}},Mf={exports:{}},Cw;function Xh(){return Cw||(Cw=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;function r(n){return n&&typeof n.length=="number"&&n.length>=0&&n.length%1===0}t.exports=e.default}(Mf,Mf.exports)),Mf.exports}var Br={},jf={exports:{}},qf={exports:{}},Lw;function aD(){return Lw||(Lw=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(r){return function(...n){var a=n.pop();return r.call(this,n,a)}},t.exports=e.default}(qf,qf.exports)),qf.exports}var Qr={},Fw;function oD(){if(Fw)return Qr;Fw=1,Object.defineProperty(Qr,"__esModule",{value:!0}),Qr.fallback=n,Qr.wrap=a;var t=Qr.hasQueueMicrotask=typeof queueMicrotask=="function"&&queueMicrotask,e=Qr.hasSetImmediate=typeof setImmediate=="function"&&setImmediate,r=Qr.hasNextTick=typeof xe=="object"&&typeof xe.nextTick=="function";function n(s){setTimeout(s,0)}function a(s){return(o,...f)=>s(()=>o(...f))}var i;return t?i=queueMicrotask:e?i=setImmediate:r?i=xe.nextTick:i=n,Qr.default=a(i),Qr}var Mw;function sD(){return Mw||(Mw=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=f;var r=aD(),n=o(r),a=oD(),i=o(a),s=Ti();function o(d){return d&&d.__esModule?d:{default:d}}function f(d){return(0,s.isAsync)(d)?function(...c){const h=c.pop(),m=d.apply(this,c);return u(m,h)}:(0,n.default)(function(c,h){var m;try{m=d.apply(this,c)}catch(_){return h(_)}if(m&&typeof m.then=="function")return u(m,h);h(null,m)})}function u(d,c){return d.then(h=>{l(c,null,h)},h=>{l(c,h&&(h instanceof Error||h.message)?h:new Error(h))})}function l(d,c,h){try{d(c,h)}catch(m){(0,i.default)(_=>{throw _},m)}}t.exports=e.default}(jf,jf.exports)),jf.exports}var jw;function Ti(){if(jw)return Br;jw=1,Object.defineProperty(Br,"__esModule",{value:!0}),Br.isAsyncIterable=Br.isAsyncGenerator=Br.isAsync=void 0;var t=sD(),e=r(t);function r(o){return o&&o.__esModule?o:{default:o}}function n(o){return o[Symbol.toStringTag]==="AsyncFunction"}function a(o){return o[Symbol.toStringTag]==="AsyncGenerator"}function i(o){return typeof o[Symbol.asyncIterator]=="function"}function s(o){if(typeof o!="function")throw new Error("expected a function");return n(o)?(0,e.default)(o):o}return Br.default=s,Br.isAsync=n,Br.isAsyncGenerator=a,Br.isAsyncIterable=i,Br}var Bf={exports:{}},qw;function so(){return qw||(qw=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;function r(n,a){if(a||(a=n.length),!a)throw new Error("arity is undefined");function i(...s){return typeof s[a-1]=="function"?n.apply(this,s):new Promise((o,f)=>{s[a-1]=(u,...l)=>{if(u)return f(u);o(l.length>1?l:l[0])},n.apply(this,s)})}return i}t.exports=e.default}(Bf,Bf.exports)),Bf.exports}var Bw;function uD(){return Bw||(Bw=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=Xh(),n=f(r),a=Ti(),i=f(a),s=so(),o=f(s);function f(u){return u&&u.__esModule?u:{default:u}}e.default=(0,o.default)((u,l,d)=>{var c=(0,n.default)(l)?[]:{};u(l,(h,m,_)=>{(0,i.default)(h)((b,...y)=>{y.length<2&&([y]=y),c[m]=y,_(b)})},h=>d(h,c))},3),t.exports=e.default}(Ff,Ff.exports)),Ff.exports}var kf={exports:{}},$f={exports:{}},Uf={exports:{}},Hf={exports:{}},kw;function $w(){return kw||(kw=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;function r(n){function a(...i){if(n!==null){var s=n;n=null,s.apply(this,i)}}return Object.assign(a,n),a}t.exports=e.default}(Hf,Hf.exports)),Hf.exports}var Vf={exports:{}},Gf={exports:{}},Uw;function fD(){return Uw||(Uw=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(r){return r[Symbol.iterator]&&r[Symbol.iterator]()},t.exports=e.default}(Gf,Gf.exports)),Gf.exports}var Hw;function lD(){return Hw||(Hw=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var r=Xh(),n=s(r),a=fD(),i=s(a);function s(d){return d&&d.__esModule?d:{default:d}}function o(d){var c=-1,h=d.length;return function(){return++c<h?{value:d[c],key:c}:null}}function f(d){var c=-1;return function(){var m=d.next();return m.done?null:(c++,{value:m.value,key:c})}}function u(d){var c=d?Object.keys(d):[],h=-1,m=c.length;return function _(){var b=c[++h];return b==="__proto__"?_():h<m?{value:d[b],key:b}:null}}function l(d){if((0,n.default)(d))return o(d);var c=(0,i.default)(d);return c?f(c):u(d)}t.exports=e.default}(Vf,Vf.exports)),Vf.exports}var zf={exports:{}},Vw;function Gw(){return Vw||(Vw=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;function r(n){return function(...a){if(n===null)throw new Error("Callback was already called.");var i=n;n=null,i.apply(this,a)}}t.exports=e.default}(zf,zf.exports)),zf.exports}var Wf={exports:{}},Kf={exports:{}},zw;function Zh(){return zw||(zw=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0});const r={};e.default=r,t.exports=e.default}(Kf,Kf.exports)),Kf.exports}var Ww;function cD(){return Ww||(Ww=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=Zh(),n=a(r);function a(s){return s&&s.__esModule?s:{default:s}}function i(s,o,f,u){let l=!1,d=!1,c=!1,h=0,m=0;function _(){h>=o||c||l||(c=!0,s.next().then(({value:p,done:g})=>{if(!(d||l)){if(c=!1,g){l=!0,h<=0&&u(null);return}h++,f(p,m,b),m++,_()}}).catch(y))}function b(p,g){if(h-=1,!d){if(p)return y(p);if(p===!1){l=!0,d=!0;return}if(g===n.default||l&&h<=0)return l=!0,u(null);_()}}function y(p){d||(c=!1,l=!0,u(p))}_()}t.exports=e.default}(Wf,Wf.exports)),Wf.exports}var Kw;function dD(){return Kw||(Kw=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=$w(),n=h(r),a=lD(),i=h(a),s=Gw(),o=h(s),f=Ti(),u=cD(),l=h(u),d=Zh(),c=h(d);function h(m){return m&&m.__esModule?m:{default:m}}e.default=m=>(_,b,y)=>{if(y=(0,n.default)(y),m<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!_)return y(null);if((0,f.isAsyncGenerator)(_))return(0,l.default)(_,m,b,y);if((0,f.isAsyncIterable)(_))return(0,l.default)(_[Symbol.asyncIterator](),m,b,y);var p=(0,i.default)(_),g=!1,w=!1,S=0,I=!1;function O(D,N){if(!w)if(S-=1,D)g=!0,y(D);else if(D===!1)g=!0,w=!0;else{if(N===c.default||g&&S<=0)return g=!0,y(null);I||M()}}function M(){for(I=!0;S<m&&!g;){var D=p();if(D===null){g=!0,S<=0&&y(null);return}S+=1,b(D.value,D.key,(0,o.default)(O))}I=!1}M()},t.exports=e.default}(Uf,Uf.exports)),Uf.exports}var Qw;function Xw(){return Qw||(Qw=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=dD(),n=f(r),a=Ti(),i=f(a),s=so(),o=f(s);function f(l){return l&&l.__esModule?l:{default:l}}function u(l,d,c,h){return(0,n.default)(d)(l,(0,i.default)(c),h)}e.default=(0,o.default)(u,4),t.exports=e.default}($f,$f.exports)),$f.exports}var Zw;function hD(){return Zw||(Zw=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=Xw(),n=s(r),a=so(),i=s(a);function s(f){return f&&f.__esModule?f:{default:f}}function o(f,u,l){return(0,n.default)(f,1,u,l)}e.default=(0,i.default)(o,3),t.exports=e.default}(kf,kf.exports)),kf.exports}var Jw;function pD(){return Jw||(Jw=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var r=uD(),n=s(r),a=hD(),i=s(a);function s(f){return f&&f.__esModule?f:{default:f}}function o(f,u){return(0,n.default)(i.default,f,u)}t.exports=e.default}(Lf,Lf.exports)),Lf.exports}var Jh={},Yh,Yw;function eE(){return Yw||(Yw=1,Yh=Jt().EventEmitter),Yh}var ep,tE;function yD(){if(tE)return ep;tE=1;function t(m,_){var b=Object.keys(m);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(m);_&&(y=y.filter(function(p){return Object.getOwnPropertyDescriptor(m,p).enumerable})),b.push.apply(b,y)}return b}function e(m){for(var _=1;_<arguments.length;_++){var b=arguments[_]!=null?arguments[_]:{};_%2?t(Object(b),!0).forEach(function(y){r(m,y,b[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(b)):t(Object(b)).forEach(function(y){Object.defineProperty(m,y,Object.getOwnPropertyDescriptor(b,y))})}return m}function r(m,_,b){return _=s(_),_ in m?Object.defineProperty(m,_,{value:b,enumerable:!0,configurable:!0,writable:!0}):m[_]=b,m}function n(m,_){if(!(m instanceof _))throw new TypeError("Cannot call a class as a function")}function a(m,_){for(var b=0;b<_.length;b++){var y=_[b];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(m,s(y.key),y)}}function i(m,_,b){return a(m.prototype,_),Object.defineProperty(m,"prototype",{writable:!1}),m}function s(m){var _=o(m,"string");return typeof _=="symbol"?_:String(_)}function o(m,_){if(typeof m!="object"||m===null)return m;var b=m[Symbol.toPrimitive];if(b!==void 0){var y=b.call(m,_);if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(m)}var f=bt(),u=f.Buffer,l=wt(),d=l.inspect,c=d&&d.custom||"inspect";function h(m,_,b){u.prototype.copy.call(m,_,b)}return ep=function(){function m(){n(this,m),this.head=null,this.tail=null,this.length=0}return i(m,[{key:"push",value:function(b){var y={data:b,next:null};this.length>0?this.tail.next=y:this.head=y,this.tail=y,++this.length}},{key:"unshift",value:function(b){var y={data:b,next:this.head};this.length===0&&(this.tail=y),this.head=y,++this.length}},{key:"shift",value:function(){if(this.length!==0){var b=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,b}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(b){if(this.length===0)return"";for(var y=this.head,p=""+y.data;y=y.next;)p+=b+y.data;return p}},{key:"concat",value:function(b){if(this.length===0)return u.alloc(0);for(var y=u.allocUnsafe(b>>>0),p=this.head,g=0;p;)h(p.data,y,g),g+=p.data.length,p=p.next;return y}},{key:"consume",value:function(b,y){var p;return b<this.head.data.length?(p=this.head.data.slice(0,b),this.head.data=this.head.data.slice(b)):b===this.head.data.length?p=this.shift():p=y?this._getString(b):this._getBuffer(b),p}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(b){var y=this.head,p=1,g=y.data;for(b-=g.length;y=y.next;){var w=y.data,S=b>w.length?w.length:b;if(S===w.length?g+=w:g+=w.slice(0,b),b-=S,b===0){S===w.length?(++p,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=w.slice(S));break}++p}return this.length-=p,g}},{key:"_getBuffer",value:function(b){var y=u.allocUnsafe(b),p=this.head,g=1;for(p.data.copy(y),b-=p.data.length;p=p.next;){var w=p.data,S=b>w.length?w.length:b;if(w.copy(y,y.length-b,0,S),b-=S,b===0){S===w.length?(++g,p.next?this.head=p.next:this.head=this.tail=null):(this.head=p,p.data=w.slice(S));break}++g}return this.length-=g,y}},{key:c,value:function(b,y){return d(this,e(e({},y),{},{depth:0,customInspect:!1}))}}]),m}(),ep}var tp,rE;function nE(){if(rE)return tp;rE=1;function t(s,o){var f=this,u=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return u||l?(o?o(s):s&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,xe.nextTick(a,this,s)):xe.nextTick(a,this,s)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(s||null,function(d){!o&&d?f._writableState?f._writableState.errorEmitted?xe.nextTick(r,f):(f._writableState.errorEmitted=!0,xe.nextTick(e,f,d)):xe.nextTick(e,f,d):o?(xe.nextTick(r,f),o(d)):xe.nextTick(r,f)}),this)}function e(s,o){a(s,o),r(s)}function r(s){s._writableState&&!s._writableState.emitClose||s._readableState&&!s._readableState.emitClose||s.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function a(s,o){s.emit("error",o)}function i(s,o){var f=s._readableState,u=s._writableState;f&&f.autoDestroy||u&&u.autoDestroy?s.destroy(o):s.emit("error",o)}return tp={destroy:t,undestroy:n,errorOrDestroy:i},tp}var rp={},iE;function xi(){if(iE)return rp;iE=1;function t(o,f){o.prototype=Object.create(f.prototype),o.prototype.constructor=o,o.__proto__=f}var e={};function r(o,f,u){u||(u=Error);function l(c,h,m){return typeof f=="string"?f:f(c,h,m)}var d=function(c){t(h,c);function h(m,_,b){return c.call(this,l(m,_,b))||this}return h}(u);d.prototype.name=u.name,d.prototype.code=o,e[o]=d}function n(o,f){if(Array.isArray(o)){var u=o.length;return o=o.map(function(l){return String(l)}),u>2?"one of ".concat(f," ").concat(o.slice(0,u-1).join(", "),", or ")+o[u-1]:u===2?"one of ".concat(f," ").concat(o[0]," or ").concat(o[1]):"of ".concat(f," ").concat(o[0])}else return"of ".concat(f," ").concat(String(o))}function a(o,f,u){return o.substr(0,f.length)===f}function i(o,f,u){return(u===void 0||u>o.length)&&(u=o.length),o.substring(u-f.length,u)===f}function s(o,f,u){return typeof u!="number"&&(u=0),u+f.length>o.length?!1:o.indexOf(f,u)!==-1}return r("ERR_INVALID_OPT_VALUE",function(o,f){return'The value "'+f+'" is invalid for option "'+o+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(o,f,u){var l;typeof f=="string"&&a(f,"not ")?(l="must not be",f=f.replace(/^not /,"")):l="must be";var d;if(i(o," argument"))d="The ".concat(o," ").concat(l," ").concat(n(f,"type"));else{var c=s(o,".")?"property":"argument";d='The "'.concat(o,'" ').concat(c," ").concat(l," ").concat(n(f,"type"))}return d+=". Received type ".concat(typeof u),d},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(o){return"The "+o+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(o){return"Cannot call "+o+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(o){return"Unknown encoding: "+o},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),rp.codes=e,rp}var np,aE;function oE(){if(aE)return np;aE=1;var t=xi().codes.ERR_INVALID_OPT_VALUE;function e(n,a,i){return n.highWaterMark!=null?n.highWaterMark:a?n[i]:null}function r(n,a,i,s){var o=e(a,s,i);if(o!=null){if(!(isFinite(o)&&Math.floor(o)===o)||o<0){var f=s?i:"highWaterMark";throw new t(f,o)}return Math.floor(o)}return n.objectMode?16:16*1024}return np={getHighWaterMark:r},np}var ip,sE;function uE(){if(sE)return ip;sE=1,ip=M;function t(A){var P=this;this.next=null,this.entry=null,this.finish=function(){Q(P,A)}}var e;M.WritableState=I;var r={deprecate:Pf()},n=eE(),a=bt().Buffer,i=(typeof Ye<"u"?Ye:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s(A){return a.from(A)}function o(A){return a.isBuffer(A)||A instanceof i}var f=nE(),u=oE(),l=u.getHighWaterMark,d=xi().codes,c=d.ERR_INVALID_ARG_TYPE,h=d.ERR_METHOD_NOT_IMPLEMENTED,m=d.ERR_MULTIPLE_CALLBACK,_=d.ERR_STREAM_CANNOT_PIPE,b=d.ERR_STREAM_DESTROYED,y=d.ERR_STREAM_NULL_VALUES,p=d.ERR_STREAM_WRITE_AFTER_END,g=d.ERR_UNKNOWN_ENCODING,w=f.errorOrDestroy;vt()(M,n);function S(){}function I(A,P,k){e=e||Ri(),A=A||{},typeof k!="boolean"&&(k=P instanceof e),this.objectMode=!!A.objectMode,k&&(this.objectMode=this.objectMode||!!A.writableObjectMode),this.highWaterMark=l(this,A,"writableHighWaterMark",k),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var G=A.decodeStrings===!1;this.decodeStrings=!G,this.defaultEncoding=A.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(te){J(P,te)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=A.emitClose!==!1,this.autoDestroy=!!A.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}I.prototype.getBuffer=function(){for(var P=this.bufferedRequest,k=[];P;)k.push(P),P=P.next;return k},function(){try{Object.defineProperty(I.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var O;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(O=Function.prototype[Symbol.hasInstance],Object.defineProperty(M,Symbol.hasInstance,{value:function(P){return O.call(this,P)?!0:this!==M?!1:P&&P._writableState instanceof I}})):O=function(P){return P instanceof this};function M(A){e=e||Ri();var P=this instanceof e;if(!P&&!O.call(M,this))return new M(A);this._writableState=new I(A,this,P),this.writable=!0,A&&(typeof A.write=="function"&&(this._write=A.write),typeof A.writev=="function"&&(this._writev=A.writev),typeof A.destroy=="function"&&(this._destroy=A.destroy),typeof A.final=="function"&&(this._final=A.final)),n.call(this)}M.prototype.pipe=function(){w(this,new _)};function D(A,P){var k=new p;w(A,k),xe.nextTick(P,k)}function N(A,P,k,G){var te;return k===null?te=new y:typeof k!="string"&&!P.objectMode&&(te=new c("chunk",["string","Buffer"],k)),te?(w(A,te),xe.nextTick(G,te),!1):!0}M.prototype.write=function(A,P,k){var G=this._writableState,te=!1,E=!G.objectMode&&o(A);return E&&!a.isBuffer(A)&&(A=s(A)),typeof P=="function"&&(k=P,P=null),E?P="buffer":P||(P=G.defaultEncoding),typeof k!="function"&&(k=S),G.ending?D(this,k):(E||N(this,G,A,k))&&(G.pendingcb++,te=R(this,G,E,A,P,k)),te},M.prototype.cork=function(){this._writableState.corked++},M.prototype.uncork=function(){var A=this._writableState;A.corked&&(A.corked--,!A.writing&&!A.corked&&!A.bufferProcessing&&A.bufferedRequest&&Z(this,A))},M.prototype.setDefaultEncoding=function(P){if(typeof P=="string"&&(P=P.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((P+"").toLowerCase())>-1))throw new g(P);return this._writableState.defaultEncoding=P,this},Object.defineProperty(M.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function C(A,P,k){return!A.objectMode&&A.decodeStrings!==!1&&typeof P=="string"&&(P=a.from(P,k)),P}Object.defineProperty(M.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function R(A,P,k,G,te,E){if(!k){var v=C(P,G,te);G!==v&&(k=!0,te="buffer",G=v)}var T=P.objectMode?1:G.length;P.length+=T;var L=P.length<P.highWaterMark;if(L||(P.needDrain=!0),P.writing||P.corked){var Y=P.lastBufferedRequest;P.lastBufferedRequest={chunk:G,encoding:te,isBuf:k,callback:E,next:null},Y?Y.next=P.lastBufferedRequest:P.bufferedRequest=P.lastBufferedRequest,P.bufferedRequestCount+=1}else F(A,P,!1,T,G,te,E);return L}function F(A,P,k,G,te,E,v){P.writelen=G,P.writecb=v,P.writing=!0,P.sync=!0,P.destroyed?P.onwrite(new b("write")):k?A._writev(te,P.onwrite):A._write(te,E,P.onwrite),P.sync=!1}function X(A,P,k,G,te){--P.pendingcb,k?(xe.nextTick(te,G),xe.nextTick(W,A,P),A._writableState.errorEmitted=!0,w(A,G)):(te(G),A._writableState.errorEmitted=!0,w(A,G),W(A,P))}function oe(A){A.writing=!1,A.writecb=null,A.length-=A.writelen,A.writelen=0}function J(A,P){var k=A._writableState,G=k.sync,te=k.writecb;if(typeof te!="function")throw new m;if(oe(k),P)X(A,k,G,P,te);else{var E=H(k)||A.destroyed;!E&&!k.corked&&!k.bufferProcessing&&k.bufferedRequest&&Z(A,k),G?xe.nextTick(le,A,k,E,te):le(A,k,E,te)}}function le(A,P,k,G){k||ae(A,P),P.pendingcb--,G(),W(A,P)}function ae(A,P){P.length===0&&P.needDrain&&(P.needDrain=!1,A.emit("drain"))}function Z(A,P){P.bufferProcessing=!0;var k=P.bufferedRequest;if(A._writev&&k&&k.next){var G=P.bufferedRequestCount,te=new Array(G),E=P.corkedRequestsFree;E.entry=k;for(var v=0,T=!0;k;)te[v]=k,k.isBuf||(T=!1),k=k.next,v+=1;te.allBuffers=T,F(A,P,!0,P.length,te,"",E.finish),P.pendingcb++,P.lastBufferedRequest=null,E.next?(P.corkedRequestsFree=E.next,E.next=null):P.corkedRequestsFree=new t(P),P.bufferedRequestCount=0}else{for(;k;){var L=k.chunk,Y=k.encoding,ne=k.callback,pe=P.objectMode?1:L.length;if(F(A,P,!1,pe,L,Y,ne),k=k.next,P.bufferedRequestCount--,P.writing)break}k===null&&(P.lastBufferedRequest=null)}P.bufferedRequest=k,P.bufferProcessing=!1}M.prototype._write=function(A,P,k){k(new h("_write()"))},M.prototype._writev=null,M.prototype.end=function(A,P,k){var G=this._writableState;return typeof A=="function"?(k=A,A=null,P=null):typeof P=="function"&&(k=P,P=null),A!=null&&this.write(A,P),G.corked&&(G.corked=1,this.uncork()),G.ending||z(this,G,k),this},Object.defineProperty(M.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function H(A){return A.ending&&A.length===0&&A.bufferedRequest===null&&!A.finished&&!A.writing}function de(A,P){A._final(function(k){P.pendingcb--,k&&w(A,k),P.prefinished=!0,A.emit("prefinish"),W(A,P)})}function he(A,P){!P.prefinished&&!P.finalCalled&&(typeof A._final=="function"&&!P.destroyed?(P.pendingcb++,P.finalCalled=!0,xe.nextTick(de,A,P)):(P.prefinished=!0,A.emit("prefinish")))}function W(A,P){var k=H(P);if(k&&(he(A,P),P.pendingcb===0&&(P.finished=!0,A.emit("finish"),P.autoDestroy))){var G=A._readableState;(!G||G.autoDestroy&&G.endEmitted)&&A.destroy()}return k}function z(A,P,k){P.ending=!0,W(A,P),k&&(P.finished?xe.nextTick(k):A.once("finish",k)),P.ended=!0,A.writable=!1}function Q(A,P,k){var G=A.entry;for(A.entry=null;G;){var te=G.callback;P.pendingcb--,te(k),G=G.next}P.corkedRequestsFree.next=A}return Object.defineProperty(M.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(P){this._writableState&&(this._writableState.destroyed=P)}}),M.prototype.destroy=f.destroy,M.prototype._undestroy=f.undestroy,M.prototype._destroy=function(A,P){P(A)},ip}var ap,fE;function Ri(){if(fE)return ap;fE=1;var t=Object.keys||function(u){var l=[];for(var d in u)l.push(d);return l};ap=s;var e=pE(),r=uE();vt()(s,e);for(var n=t(r.prototype),a=0;a<n.length;a++){var i=n[a];s.prototype[i]||(s.prototype[i]=r.prototype[i])}function s(u){if(!(this instanceof s))return new s(u);e.call(this,u),r.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",o)))}Object.defineProperty(s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(s.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(s.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function o(){this._writableState.ended||xe.nextTick(f,this)}function f(u){u.end()}return Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(l){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=l,this._writableState.destroyed=l)}}),ap}var op,lE;function sp(){if(lE)return op;lE=1;var t=xi().codes.ERR_STREAM_PREMATURE_CLOSE;function e(i){var s=!1;return function(){if(!s){s=!0;for(var o=arguments.length,f=new Array(o),u=0;u<o;u++)f[u]=arguments[u];i.apply(this,f)}}}function r(){}function n(i){return i.setHeader&&typeof i.abort=="function"}function a(i,s,o){if(typeof s=="function")return a(i,null,s);s||(s={}),o=e(o||r);var f=s.readable||s.readable!==!1&&i.readable,u=s.writable||s.writable!==!1&&i.writable,l=function(){i.writable||c()},d=i._writableState&&i._writableState.finished,c=function(){u=!1,d=!0,f||o.call(i)},h=i._readableState&&i._readableState.endEmitted,m=function(){f=!1,h=!0,u||o.call(i)},_=function(g){o.call(i,g)},b=function(){var g;if(f&&!h)return(!i._readableState||!i._readableState.ended)&&(g=new t),o.call(i,g);if(u&&!d)return(!i._writableState||!i._writableState.ended)&&(g=new t),o.call(i,g)},y=function(){i.req.on("finish",c)};return n(i)?(i.on("complete",c),i.on("abort",b),i.req?y():i.on("request",y)):u&&!i._writableState&&(i.on("end",l),i.on("close",l)),i.on("end",m),i.on("finish",c),s.error!==!1&&i.on("error",_),i.on("close",b),function(){i.removeListener("complete",c),i.removeListener("abort",b),i.removeListener("request",y),i.req&&i.req.removeListener("finish",c),i.removeListener("end",l),i.removeListener("close",l),i.removeListener("finish",c),i.removeListener("end",m),i.removeListener("error",_),i.removeListener("close",b)}}return op=a,op}var up,cE;function gD(){if(cE)return up;cE=1;var t;function e(g,w,S){return w=r(w),w in g?Object.defineProperty(g,w,{value:S,enumerable:!0,configurable:!0,writable:!0}):g[w]=S,g}function r(g){var w=n(g,"string");return typeof w=="symbol"?w:String(w)}function n(g,w){if(typeof g!="object"||g===null)return g;var S=g[Symbol.toPrimitive];if(S!==void 0){var I=S.call(g,w||"default");if(typeof I!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(g)}var a=sp(),i=Symbol("lastResolve"),s=Symbol("lastReject"),o=Symbol("error"),f=Symbol("ended"),u=Symbol("lastPromise"),l=Symbol("handlePromise"),d=Symbol("stream");function c(g,w){return{value:g,done:w}}function h(g){var w=g[i];if(w!==null){var S=g[d].read();S!==null&&(g[u]=null,g[i]=null,g[s]=null,w(c(S,!1)))}}function m(g){xe.nextTick(h,g)}function _(g,w){return function(S,I){g.then(function(){if(w[f]){S(c(void 0,!0));return}w[l](S,I)},I)}}var b=Object.getPrototypeOf(function(){}),y=Object.setPrototypeOf((t={get stream(){return this[d]},next:function(){var w=this,S=this[o];if(S!==null)return Promise.reject(S);if(this[f])return Promise.resolve(c(void 0,!0));if(this[d].destroyed)return new Promise(function(D,N){xe.nextTick(function(){w[o]?N(w[o]):D(c(void 0,!0))})});var I=this[u],O;if(I)O=new Promise(_(I,this));else{var M=this[d].read();if(M!==null)return Promise.resolve(c(M,!1));O=new Promise(this[l])}return this[u]=O,O}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var w=this;return new Promise(function(S,I){w[d].destroy(null,function(O){if(O){I(O);return}S(c(void 0,!0))})})}),t),b),p=function(w){var S,I=Object.create(y,(S={},e(S,d,{value:w,writable:!0}),e(S,i,{value:null,writable:!0}),e(S,s,{value:null,writable:!0}),e(S,o,{value:null,writable:!0}),e(S,f,{value:w._readableState.endEmitted,writable:!0}),e(S,l,{value:function(M,D){var N=I[d].read();N?(I[u]=null,I[i]=null,I[s]=null,M(c(N,!1))):(I[i]=M,I[s]=D)},writable:!0}),S));return I[u]=null,a(w,function(O){if(O&&O.code!=="ERR_STREAM_PREMATURE_CLOSE"){var M=I[s];M!==null&&(I[u]=null,I[i]=null,I[s]=null,M(O)),I[o]=O;return}var D=I[i];D!==null&&(I[u]=null,I[i]=null,I[s]=null,D(c(void 0,!0))),I[f]=!0}),w.on("readable",m.bind(null,I)),I};return up=p,up}var fp,dE;function bD(){return dE||(dE=1,fp=function(){throw new Error("Readable.from is not available in the browser")}),fp}var lp,hE;function pE(){if(hE)return lp;hE=1,lp=D;var t;D.ReadableState=M,Jt().EventEmitter;var e=function(v,T){return v.listeners(T).length},r=eE(),n=bt().Buffer,a=(typeof Ye<"u"?Ye:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function i(E){return n.from(E)}function s(E){return n.isBuffer(E)||E instanceof a}var o=wt(),f;o&&o.debuglog?f=o.debuglog("stream"):f=function(){};var u=yD(),l=nE(),d=oE(),c=d.getHighWaterMark,h=xi().codes,m=h.ERR_INVALID_ARG_TYPE,_=h.ERR_STREAM_PUSH_AFTER_EOF,b=h.ERR_METHOD_NOT_IMPLEMENTED,y=h.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,p,g,w;vt()(D,r);var S=l.errorOrDestroy,I=["error","close","destroy","pause","resume"];function O(E,v,T){if(typeof E.prependListener=="function")return E.prependListener(v,T);!E._events||!E._events[v]?E.on(v,T):Array.isArray(E._events[v])?E._events[v].unshift(T):E._events[v]=[T,E._events[v]]}function M(E,v,T){t=t||Ri(),E=E||{},typeof T!="boolean"&&(T=v instanceof t),this.objectMode=!!E.objectMode,T&&(this.objectMode=this.objectMode||!!E.readableObjectMode),this.highWaterMark=c(this,E,"readableHighWaterMark",T),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=E.emitClose!==!1,this.autoDestroy=!!E.autoDestroy,this.destroyed=!1,this.defaultEncoding=E.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,E.encoding&&(p||(p=Mr().StringDecoder),this.decoder=new p(E.encoding),this.encoding=E.encoding)}function D(E){if(t=t||Ri(),!(this instanceof D))return new D(E);var v=this instanceof t;this._readableState=new M(E,this,v),this.readable=!0,E&&(typeof E.read=="function"&&(this._read=E.read),typeof E.destroy=="function"&&(this._destroy=E.destroy)),r.call(this)}Object.defineProperty(D.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(v){this._readableState&&(this._readableState.destroyed=v)}}),D.prototype.destroy=l.destroy,D.prototype._undestroy=l.undestroy,D.prototype._destroy=function(E,v){v(E)},D.prototype.push=function(E,v){var T=this._readableState,L;return T.objectMode?L=!0:typeof E=="string"&&(v=v||T.defaultEncoding,v!==T.encoding&&(E=n.from(E,v),v=""),L=!0),N(this,E,v,!1,L)},D.prototype.unshift=function(E){return N(this,E,null,!0,!1)};function N(E,v,T,L,Y){f("readableAddChunk",v);var ne=E._readableState;if(v===null)ne.reading=!1,J(E,ne);else{var pe;if(Y||(pe=R(ne,v)),pe)S(E,pe);else if(ne.objectMode||v&&v.length>0)if(typeof v!="string"&&!ne.objectMode&&Object.getPrototypeOf(v)!==n.prototype&&(v=i(v)),L)ne.endEmitted?S(E,new y):C(E,ne,v,!0);else if(ne.ended)S(E,new _);else{if(ne.destroyed)return!1;ne.reading=!1,ne.decoder&&!T?(v=ne.decoder.write(v),ne.objectMode||v.length!==0?C(E,ne,v,!1):Z(E,ne)):C(E,ne,v,!1)}else L||(ne.reading=!1,Z(E,ne))}return!ne.ended&&(ne.length<ne.highWaterMark||ne.length===0)}function C(E,v,T,L){v.flowing&&v.length===0&&!v.sync?(v.awaitDrain=0,E.emit("data",T)):(v.length+=v.objectMode?1:T.length,L?v.buffer.unshift(T):v.buffer.push(T),v.needReadable&&le(E)),Z(E,v)}function R(E,v){var T;return!s(v)&&typeof v!="string"&&v!==void 0&&!E.objectMode&&(T=new m("chunk",["string","Buffer","Uint8Array"],v)),T}D.prototype.isPaused=function(){return this._readableState.flowing===!1},D.prototype.setEncoding=function(E){p||(p=Mr().StringDecoder);var v=new p(E);this._readableState.decoder=v,this._readableState.encoding=this._readableState.decoder.encoding;for(var T=this._readableState.buffer.head,L="";T!==null;)L+=v.write(T.data),T=T.next;return this._readableState.buffer.clear(),L!==""&&this._readableState.buffer.push(L),this._readableState.length=L.length,this};var F=1073741824;function X(E){return E>=F?E=F:(E--,E|=E>>>1,E|=E>>>2,E|=E>>>4,E|=E>>>8,E|=E>>>16,E++),E}function oe(E,v){return E<=0||v.length===0&&v.ended?0:v.objectMode?1:E!==E?v.flowing&&v.length?v.buffer.head.data.length:v.length:(E>v.highWaterMark&&(v.highWaterMark=X(E)),E<=v.length?E:v.ended?v.length:(v.needReadable=!0,0))}D.prototype.read=function(E){f("read",E),E=parseInt(E,10);var v=this._readableState,T=E;if(E!==0&&(v.emittedReadable=!1),E===0&&v.needReadable&&((v.highWaterMark!==0?v.length>=v.highWaterMark:v.length>0)||v.ended))return f("read: emitReadable",v.length,v.ended),v.length===0&&v.ended?k(this):le(this),null;if(E=oe(E,v),E===0&&v.ended)return v.length===0&&k(this),null;var L=v.needReadable;f("need readable",L),(v.length===0||v.length-E<v.highWaterMark)&&(L=!0,f("length less than watermark",L)),v.ended||v.reading?(L=!1,f("reading or ended",L)):L&&(f("do read"),v.reading=!0,v.sync=!0,v.length===0&&(v.needReadable=!0),this._read(v.highWaterMark),v.sync=!1,v.reading||(E=oe(T,v)));var Y;return E>0?Y=P(E,v):Y=null,Y===null?(v.needReadable=v.length<=v.highWaterMark,E=0):(v.length-=E,v.awaitDrain=0),v.length===0&&(v.ended||(v.needReadable=!0),T!==E&&v.ended&&k(this)),Y!==null&&this.emit("data",Y),Y};function J(E,v){if(f("onEofChunk"),!v.ended){if(v.decoder){var T=v.decoder.end();T&&T.length&&(v.buffer.push(T),v.length+=v.objectMode?1:T.length)}v.ended=!0,v.sync?le(E):(v.needReadable=!1,v.emittedReadable||(v.emittedReadable=!0,ae(E)))}}function le(E){var v=E._readableState;f("emitReadable",v.needReadable,v.emittedReadable),v.needReadable=!1,v.emittedReadable||(f("emitReadable",v.flowing),v.emittedReadable=!0,xe.nextTick(ae,E))}function ae(E){var v=E._readableState;f("emitReadable_",v.destroyed,v.length,v.ended),!v.destroyed&&(v.length||v.ended)&&(E.emit("readable"),v.emittedReadable=!1),v.needReadable=!v.flowing&&!v.ended&&v.length<=v.highWaterMark,A(E)}function Z(E,v){v.readingMore||(v.readingMore=!0,xe.nextTick(H,E,v))}function H(E,v){for(;!v.reading&&!v.ended&&(v.length<v.highWaterMark||v.flowing&&v.length===0);){var T=v.length;if(f("maybeReadMore read 0"),E.read(0),T===v.length)break}v.readingMore=!1}D.prototype._read=function(E){S(this,new b("_read()"))},D.prototype.pipe=function(E,v){var T=this,L=this._readableState;switch(L.pipesCount){case 0:L.pipes=E;break;case 1:L.pipes=[L.pipes,E];break;default:L.pipes.push(E);break}L.pipesCount+=1,f("pipe count=%d opts=%j",L.pipesCount,v);var Y=(!v||v.end!==!1)&&E!==xe.stdout&&E!==xe.stderr,ne=Y?we:Fe;L.endEmitted?xe.nextTick(ne):T.once("end",ne),E.on("unpipe",pe);function pe(je,Me){f("onunpipe"),je===T&&Me&&Me.hasUnpiped===!1&&(Me.hasUnpiped=!0,Le())}function we(){f("onend"),E.end()}var fe=de(T);E.on("drain",fe);var Re=!1;function Le(){f("cleanup"),E.removeListener("close",_e),E.removeListener("finish",Ee),E.removeListener("drain",fe),E.removeListener("error",Ue),E.removeListener("unpipe",pe),T.removeListener("end",we),T.removeListener("end",Fe),T.removeListener("data",Te),Re=!0,L.awaitDrain&&(!E._writableState||E._writableState.needDrain)&&fe()}T.on("data",Te);function Te(je){f("ondata");var Me=E.write(je);f("dest.write",Me),Me===!1&&((L.pipesCount===1&&L.pipes===E||L.pipesCount>1&&te(L.pipes,E)!==-1)&&!Re&&(f("false write response, pause",L.awaitDrain),L.awaitDrain++),T.pause())}function Ue(je){f("onerror",je),Fe(),E.removeListener("error",Ue),e(E,"error")===0&&S(E,je)}O(E,"error",Ue);function _e(){E.removeListener("finish",Ee),Fe()}E.once("close",_e);function Ee(){f("onfinish"),E.removeListener("close",_e),Fe()}E.once("finish",Ee);function Fe(){f("unpipe"),T.unpipe(E)}return E.emit("pipe",T),L.flowing||(f("pipe resume"),T.resume()),E};function de(E){return function(){var T=E._readableState;f("pipeOnDrain",T.awaitDrain),T.awaitDrain&&T.awaitDrain--,T.awaitDrain===0&&e(E,"data")&&(T.flowing=!0,A(E))}}D.prototype.unpipe=function(E){var v=this._readableState,T={hasUnpiped:!1};if(v.pipesCount===0)return this;if(v.pipesCount===1)return E&&E!==v.pipes?this:(E||(E=v.pipes),v.pipes=null,v.pipesCount=0,v.flowing=!1,E&&E.emit("unpipe",this,T),this);if(!E){var L=v.pipes,Y=v.pipesCount;v.pipes=null,v.pipesCount=0,v.flowing=!1;for(var ne=0;ne<Y;ne++)L[ne].emit("unpipe",this,{hasUnpiped:!1});return this}var pe=te(v.pipes,E);return pe===-1?this:(v.pipes.splice(pe,1),v.pipesCount-=1,v.pipesCount===1&&(v.pipes=v.pipes[0]),E.emit("unpipe",this,T),this)},D.prototype.on=function(E,v){var T=r.prototype.on.call(this,E,v),L=this._readableState;return E==="data"?(L.readableListening=this.listenerCount("readable")>0,L.flowing!==!1&&this.resume()):E==="readable"&&!L.endEmitted&&!L.readableListening&&(L.readableListening=L.needReadable=!0,L.flowing=!1,L.emittedReadable=!1,f("on readable",L.length,L.reading),L.length?le(this):L.reading||xe.nextTick(W,this)),T},D.prototype.addListener=D.prototype.on,D.prototype.removeListener=function(E,v){var T=r.prototype.removeListener.call(this,E,v);return E==="readable"&&xe.nextTick(he,this),T},D.prototype.removeAllListeners=function(E){var v=r.prototype.removeAllListeners.apply(this,arguments);return(E==="readable"||E===void 0)&&xe.nextTick(he,this),v};function he(E){var v=E._readableState;v.readableListening=E.listenerCount("readable")>0,v.resumeScheduled&&!v.paused?v.flowing=!0:E.listenerCount("data")>0&&E.resume()}function W(E){f("readable nexttick read 0"),E.read(0)}D.prototype.resume=function(){var E=this._readableState;return E.flowing||(f("resume"),E.flowing=!E.readableListening,z(this,E)),E.paused=!1,this};function z(E,v){v.resumeScheduled||(v.resumeScheduled=!0,xe.nextTick(Q,E,v))}function Q(E,v){f("resume",v.reading),v.reading||E.read(0),v.resumeScheduled=!1,E.emit("resume"),A(E),v.flowing&&!v.reading&&E.read(0)}D.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function A(E){var v=E._readableState;for(f("flow",v.flowing);v.flowing&&E.read()!==null;);}D.prototype.wrap=function(E){var v=this,T=this._readableState,L=!1;E.on("end",function(){if(f("wrapped end"),T.decoder&&!T.ended){var pe=T.decoder.end();pe&&pe.length&&v.push(pe)}v.push(null)}),E.on("data",function(pe){if(f("wrapped data"),T.decoder&&(pe=T.decoder.write(pe)),!(T.objectMode&&pe==null)&&!(!T.objectMode&&(!pe||!pe.length))){var we=v.push(pe);we||(L=!0,E.pause())}});for(var Y in E)this[Y]===void 0&&typeof E[Y]=="function"&&(this[Y]=function(we){return function(){return E[we].apply(E,arguments)}}(Y));for(var ne=0;ne<I.length;ne++)E.on(I[ne],this.emit.bind(this,I[ne]));return this._read=function(pe){f("wrapped _read",pe),L&&(L=!1,E.resume())},this},typeof Symbol=="function"&&(D.prototype[Symbol.asyncIterator]=function(){return g===void 0&&(g=gD()),g(this)}),Object.defineProperty(D.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(D.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(D.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(v){this._readableState&&(this._readableState.flowing=v)}}),D._fromList=P,Object.defineProperty(D.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function P(E,v){if(v.length===0)return null;var T;return v.objectMode?T=v.buffer.shift():!E||E>=v.length?(v.decoder?T=v.buffer.join(""):v.buffer.length===1?T=v.buffer.first():T=v.buffer.concat(v.length),v.buffer.clear()):T=v.buffer.consume(E,v.decoder),T}function k(E){var v=E._readableState;f("endReadable",v.endEmitted),v.endEmitted||(v.ended=!0,xe.nextTick(G,v,E))}function G(E,v){if(f("endReadableNT",E.endEmitted,E.length),!E.endEmitted&&E.length===0&&(E.endEmitted=!0,v.readable=!1,v.emit("end"),E.autoDestroy)){var T=v._writableState;(!T||T.autoDestroy&&T.finished)&&v.destroy()}}typeof Symbol=="function"&&(D.from=function(E,v){return w===void 0&&(w=bD()),w(D,E,v)});function te(E,v){for(var T=0,L=E.length;T<L;T++)if(E[T]===v)return T;return-1}return lp}var cp,yE;function gE(){if(yE)return cp;yE=1,cp=o;var t=xi().codes,e=t.ERR_METHOD_NOT_IMPLEMENTED,r=t.ERR_MULTIPLE_CALLBACK,n=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=t.ERR_TRANSFORM_WITH_LENGTH_0,i=Ri();vt()(o,i);function s(l,d){var c=this._transformState;c.transforming=!1;var h=c.writecb;if(h===null)return this.emit("error",new r);c.writechunk=null,c.writecb=null,d!=null&&this.push(d),h(l);var m=this._readableState;m.reading=!1,(m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}function o(l){if(!(this instanceof o))return new o(l);i.call(this,l),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,l&&(typeof l.transform=="function"&&(this._transform=l.transform),typeof l.flush=="function"&&(this._flush=l.flush)),this.on("prefinish",f)}function f(){var l=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(d,c){u(l,d,c)}):u(this,null,null)}o.prototype.push=function(l,d){return this._transformState.needTransform=!1,i.prototype.push.call(this,l,d)},o.prototype._transform=function(l,d,c){c(new e("_transform()"))},o.prototype._write=function(l,d,c){var h=this._transformState;if(h.writecb=c,h.writechunk=l,h.writeencoding=d,!h.transforming){var m=this._readableState;(h.needTransform||m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}},o.prototype._read=function(l){var d=this._transformState;d.writechunk!==null&&!d.transforming?(d.transforming=!0,this._transform(d.writechunk,d.writeencoding,d.afterTransform)):d.needTransform=!0},o.prototype._destroy=function(l,d){i.prototype._destroy.call(this,l,function(c){d(c)})};function u(l,d,c){if(d)return l.emit("error",d);if(c!=null&&l.push(c),l._writableState.length)throw new a;if(l._transformState.transforming)throw new n;return l.push(null)}return cp}var dp,bE;function mD(){if(bE)return dp;bE=1,dp=e;var t=gE();vt()(e,t);function e(r){if(!(this instanceof e))return new e(r);t.call(this,r)}return e.prototype._transform=function(r,n,a){a(null,r)},dp}var hp,mE;function _D(){if(mE)return hp;mE=1;var t;function e(c){var h=!1;return function(){h||(h=!0,c.apply(void 0,arguments))}}var r=xi().codes,n=r.ERR_MISSING_ARGS,a=r.ERR_STREAM_DESTROYED;function i(c){if(c)throw c}function s(c){return c.setHeader&&typeof c.abort=="function"}function o(c,h,m,_){_=e(_);var b=!1;c.on("close",function(){b=!0}),t===void 0&&(t=sp()),t(c,{readable:h,writable:m},function(p){if(p)return _(p);b=!0,_()});var y=!1;return function(p){if(!b&&!y){if(y=!0,s(c))return c.abort();if(typeof c.destroy=="function")return c.destroy();_(p||new a("pipe"))}}}function f(c){c()}function u(c,h){return c.pipe(h)}function l(c){return!c.length||typeof c[c.length-1]!="function"?i:c.pop()}function d(){for(var c=arguments.length,h=new Array(c),m=0;m<c;m++)h[m]=arguments[m];var _=l(h);if(Array.isArray(h[0])&&(h=h[0]),h.length<2)throw new n("streams");var b,y=h.map(function(p,g){var w=g<h.length-1,S=g>0;return o(p,w,S,function(I){b||(b=I),I&&y.forEach(f),!w&&(y.forEach(f),_(b))})});return h.reduce(u)}return hp=d,hp}var pp,_E;function vD(){if(_E)return pp;_E=1,pp=r;var t=Jt().EventEmitter,e=vt();e(r,t),r.Readable=pE(),r.Writable=uE(),r.Duplex=Ri(),r.Transform=gE(),r.PassThrough=mD(),r.finished=sp(),r.pipeline=_D(),r.Stream=r;function r(){t.call(this)}return r.prototype.pipe=function(n,a){var i=this;function s(h){n.writable&&n.write(h)===!1&&i.pause&&i.pause()}i.on("data",s);function o(){i.readable&&i.resume&&i.resume()}n.on("drain",o),!n._isStdio&&(!a||a.end!==!1)&&(i.on("end",u),i.on("close",l));var f=!1;function u(){f||(f=!0,n.end())}function l(){f||(f=!0,typeof n.destroy=="function"&&n.destroy())}function d(h){if(c(),t.listenerCount(this,"error")===0)throw h}i.on("error",d),n.on("error",d);function c(){i.removeListener("data",s),n.removeListener("drain",o),i.removeListener("end",u),i.removeListener("close",l),i.removeListener("error",d),n.removeListener("error",d),i.removeListener("end",c),i.removeListener("close",c),n.removeListener("close",c)}return i.on("end",c),i.on("close",c),n.on("close",c),n.emit("pipe",i),n},pp}var yp={},gp={exports:{}},bp={},vE;function wE(){if(vE)return bp;vE=1;function t(p){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},t(p)}function e(p,g,w){return Object.defineProperty(p,"prototype",{writable:!1}),p}function r(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function n(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),Object.defineProperty(p,"prototype",{writable:!1}),g&&a(p,g)}function a(p,g){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(S,I){return S.__proto__=I,S},a(p,g)}function i(p){var g=f();return function(){var S=u(p),I;if(g){var O=u(this).constructor;I=Reflect.construct(S,arguments,O)}else I=S.apply(this,arguments);return s(this,I)}}function s(p,g){if(g&&(t(g)==="object"||typeof g=="function"))return g;if(g!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o(p)}function o(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function f(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function u(p){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(w){return w.__proto__||Object.getPrototypeOf(w)},u(p)}var l={},d,c;function h(p,g,w){w||(w=Error);function S(O,M,D){return typeof g=="string"?g:g(O,M,D)}var I=function(O){n(D,O);var M=i(D);function D(N,C,R){var F;return r(this,D),F=M.call(this,S(N,C,R)),F.code=p,F}return e(D)}(w);l[p]=I}function m(p,g){if(Array.isArray(p)){var w=p.length;return p=p.map(function(S){return String(S)}),w>2?"one of ".concat(g," ").concat(p.slice(0,w-1).join(", "),", or ")+p[w-1]:w===2?"one of ".concat(g," ").concat(p[0]," or ").concat(p[1]):"of ".concat(g," ").concat(p[0])}else return"of ".concat(g," ").concat(String(p))}function _(p,g,w){return p.substr(0,g.length)===g}function b(p,g,w){return(w===void 0||w>p.length)&&(w=p.length),p.substring(w-g.length,w)===g}function y(p,g,w){return typeof w!="number"&&(w=0),w+g.length>p.length?!1:p.indexOf(g,w)!==-1}return h("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),h("ERR_INVALID_ARG_TYPE",function(p,g,w){d===void 0&&(d=Xf()),d(typeof p=="string","'name' must be a string");var S;typeof g=="string"&&_(g,"not ")?(S="must not be",g=g.replace(/^not /,"")):S="must be";var I;if(b(p," argument"))I="The ".concat(p," ").concat(S," ").concat(m(g,"type"));else{var O=y(p,".")?"property":"argument";I='The "'.concat(p,'" ').concat(O," ").concat(S," ").concat(m(g,"type"))}return I+=". Received type ".concat(t(w)),I},TypeError),h("ERR_INVALID_ARG_VALUE",function(p,g){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";c===void 0&&(c=wt());var S=c.inspect(g);return S.length>128&&(S="".concat(S.slice(0,128),"...")),"The argument '".concat(p,"' ").concat(w,". Received ").concat(S)},TypeError),h("ERR_INVALID_RETURN_VALUE",function(p,g,w){var S;return w&&w.constructor&&w.constructor.name?S="instance of ".concat(w.constructor.name):S="type ".concat(t(w)),"Expected ".concat(p,' to be returned from the "').concat(g,'"')+" function but got ".concat(S,".")},TypeError),h("ERR_MISSING_ARGS",function(){for(var p=arguments.length,g=new Array(p),w=0;w<p;w++)g[w]=arguments[w];d===void 0&&(d=Xf()),d(g.length>0,"At least one arg needs to be specified");var S="The ",I=g.length;switch(g=g.map(function(O){return'"'.concat(O,'"')}),I){case 1:S+="".concat(g[0]," argument");break;case 2:S+="".concat(g[0]," and ").concat(g[1]," arguments");break;default:S+=g.slice(0,I-1).join(", "),S+=", and ".concat(g[I-1]," arguments");break}return"".concat(S," must be specified")},TypeError),bp.codes=l,bp}var mp,EE;function wD(){if(EE)return mp;EE=1;function t(Z,H){var de=Object.keys(Z);if(Object.getOwnPropertySymbols){var he=Object.getOwnPropertySymbols(Z);H&&(he=he.filter(function(W){return Object.getOwnPropertyDescriptor(Z,W).enumerable})),de.push.apply(de,he)}return de}function e(Z){for(var H=1;H<arguments.length;H++){var de=arguments[H]!=null?arguments[H]:{};H%2?t(Object(de),!0).forEach(function(he){r(Z,he,de[he])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Z,Object.getOwnPropertyDescriptors(de)):t(Object(de)).forEach(function(he){Object.defineProperty(Z,he,Object.getOwnPropertyDescriptor(de,he))})}return Z}function r(Z,H,de){return H=s(H),H in Z?Object.defineProperty(Z,H,{value:de,enumerable:!0,configurable:!0,writable:!0}):Z[H]=de,Z}function n(Z,H){if(!(Z instanceof H))throw new TypeError("Cannot call a class as a function")}function a(Z,H){for(var de=0;de<H.length;de++){var he=H[de];he.enumerable=he.enumerable||!1,he.configurable=!0,"value"in he&&(he.writable=!0),Object.defineProperty(Z,s(he.key),he)}}function i(Z,H,de){return a(Z.prototype,H),Object.defineProperty(Z,"prototype",{writable:!1}),Z}function s(Z){var H=o(Z,"string");return p(H)==="symbol"?H:String(H)}function o(Z,H){if(p(Z)!=="object"||Z===null)return Z;var de=Z[Symbol.toPrimitive];if(de!==void 0){var he=de.call(Z,H);if(p(he)!=="object")return he;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Z)}function f(Z,H){if(typeof H!="function"&&H!==null)throw new TypeError("Super expression must either be null or a function");Z.prototype=Object.create(H&&H.prototype,{constructor:{value:Z,writable:!0,configurable:!0}}),Object.defineProperty(Z,"prototype",{writable:!1}),H&&b(Z,H)}function u(Z){var H=m();return function(){var he=y(Z),W;if(H){var z=y(this).constructor;W=Reflect.construct(he,arguments,z)}else W=he.apply(this,arguments);return l(this,W)}}function l(Z,H){if(H&&(p(H)==="object"||typeof H=="function"))return H;if(H!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d(Z)}function d(Z){if(Z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Z}function c(Z){var H=typeof Map=="function"?new Map:void 0;return c=function(he){if(he===null||!_(he))return he;if(typeof he!="function")throw new TypeError("Super expression must either be null or a function");if(typeof H<"u"){if(H.has(he))return H.get(he);H.set(he,W)}function W(){return h(he,arguments,y(this).constructor)}return W.prototype=Object.create(he.prototype,{constructor:{value:W,enumerable:!1,writable:!0,configurable:!0}}),b(W,he)},c(Z)}function h(Z,H,de){return m()?h=Reflect.construct.bind():h=function(W,z,Q){var A=[null];A.push.apply(A,z);var P=Function.bind.apply(W,A),k=new P;return Q&&b(k,Q.prototype),k},h.apply(null,arguments)}function m(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _(Z){return Function.toString.call(Z).indexOf("[native code]")!==-1}function b(Z,H){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(he,W){return he.__proto__=W,he},b(Z,H)}function y(Z){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(de){return de.__proto__||Object.getPrototypeOf(de)},y(Z)}function p(Z){"@babel/helpers - typeof";return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},p(Z)}var g=wt(),w=g.inspect,S=wE(),I=S.codes.ERR_INVALID_ARG_TYPE;function O(Z,H,de){return(de===void 0||de>Z.length)&&(de=Z.length),Z.substring(de-H.length,de)===H}function M(Z,H){if(H=Math.floor(H),Z.length==0||H==0)return"";var de=Z.length*H;for(H=Math.floor(Math.log(H)/Math.log(2));H;)Z+=Z,H--;return Z+=Z.substring(0,de-Z.length),Z}var D="",N="",C="",R="",F={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},X=10;function oe(Z){var H=Object.keys(Z),de=Object.create(Object.getPrototypeOf(Z));return H.forEach(function(he){de[he]=Z[he]}),Object.defineProperty(de,"message",{value:Z.message}),de}function J(Z){return w(Z,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function le(Z,H,de){var he="",W="",z=0,Q="",A=!1,P=J(Z),k=P.split(`
`),G=J(H).split(`
`),te=0,E="";if(de==="strictEqual"&&p(Z)==="object"&&p(H)==="object"&&Z!==null&&H!==null&&(de="strictEqualObject"),k.length===1&&G.length===1&&k[0]!==G[0]){var v=k[0].length+G[0].length;if(v<=X){if((p(Z)!=="object"||Z===null)&&(p(H)!=="object"||H===null)&&(Z!==0||H!==0))return"".concat(F[de],`

`)+"".concat(k[0]," !== ").concat(G[0],`
`)}else if(de!=="strictEqualObject"){var T=xe.stderr&&xe.stderr.isTTY?xe.stderr.columns:80;if(v<T){for(;k[0][te]===G[0][te];)te++;te>2&&(E=`
  `.concat(M(" ",te),"^"),te=0)}}}for(var L=k[k.length-1],Y=G[G.length-1];L===Y&&(te++<2?Q=`
  `.concat(L).concat(Q):he=L,k.pop(),G.pop(),!(k.length===0||G.length===0));)L=k[k.length-1],Y=G[G.length-1];var ne=Math.max(k.length,G.length);if(ne===0){var pe=P.split(`
`);if(pe.length>30)for(pe[26]="".concat(D,"...").concat(R);pe.length>27;)pe.pop();return"".concat(F.notIdentical,`

`).concat(pe.join(`
`),`
`)}te>3&&(Q=`
`.concat(D,"...").concat(R).concat(Q),A=!0),he!==""&&(Q=`
  `.concat(he).concat(Q),he="");var we=0,fe=F[de]+`
`.concat(N,"+ actual").concat(R," ").concat(C,"- expected").concat(R),Re=" ".concat(D,"...").concat(R," Lines skipped");for(te=0;te<ne;te++){var Le=te-z;if(k.length<te+1)Le>1&&te>2&&(Le>4?(W+=`
`.concat(D,"...").concat(R),A=!0):Le>3&&(W+=`
  `.concat(G[te-2]),we++),W+=`
  `.concat(G[te-1]),we++),z=te,he+=`
`.concat(C,"-").concat(R," ").concat(G[te]),we++;else if(G.length<te+1)Le>1&&te>2&&(Le>4?(W+=`
`.concat(D,"...").concat(R),A=!0):Le>3&&(W+=`
  `.concat(k[te-2]),we++),W+=`
  `.concat(k[te-1]),we++),z=te,W+=`
`.concat(N,"+").concat(R," ").concat(k[te]),we++;else{var Te=G[te],Ue=k[te],_e=Ue!==Te&&(!O(Ue,",")||Ue.slice(0,-1)!==Te);_e&&O(Te,",")&&Te.slice(0,-1)===Ue&&(_e=!1,Ue+=","),_e?(Le>1&&te>2&&(Le>4?(W+=`
`.concat(D,"...").concat(R),A=!0):Le>3&&(W+=`
  `.concat(k[te-2]),we++),W+=`
  `.concat(k[te-1]),we++),z=te,W+=`
`.concat(N,"+").concat(R," ").concat(Ue),he+=`
`.concat(C,"-").concat(R," ").concat(Te),we+=2):(W+=he,he="",(Le===1||te===0)&&(W+=`
  `.concat(Ue),we++))}if(we>20&&te<ne-2)return"".concat(fe).concat(Re,`
`).concat(W,`
`).concat(D,"...").concat(R).concat(he,`
`)+"".concat(D,"...").concat(R)}return"".concat(fe).concat(A?Re:"",`
`).concat(W).concat(he).concat(Q).concat(E)}var ae=function(Z,H){f(he,Z);var de=u(he);function he(W){var z;if(n(this,he),p(W)!=="object"||W===null)throw new I("options","Object",W);var Q=W.message,A=W.operator,P=W.stackStartFn,k=W.actual,G=W.expected,te=Error.stackTraceLimit;if(Error.stackTraceLimit=0,Q!=null)z=de.call(this,String(Q));else if(xe.stderr&&xe.stderr.isTTY&&(xe.stderr&&xe.stderr.getColorDepth&&xe.stderr.getColorDepth()!==1?(D="\x1B[34m",N="\x1B[32m",R="\x1B[39m",C="\x1B[31m"):(D="",N="",R="",C="")),p(k)==="object"&&k!==null&&p(G)==="object"&&G!==null&&"stack"in k&&k instanceof Error&&"stack"in G&&G instanceof Error&&(k=oe(k),G=oe(G)),A==="deepStrictEqual"||A==="strictEqual")z=de.call(this,le(k,G,A));else if(A==="notDeepStrictEqual"||A==="notStrictEqual"){var E=F[A],v=J(k).split(`
`);if(A==="notStrictEqual"&&p(k)==="object"&&k!==null&&(E=F.notStrictEqualObject),v.length>30)for(v[26]="".concat(D,"...").concat(R);v.length>27;)v.pop();v.length===1?z=de.call(this,"".concat(E," ").concat(v[0])):z=de.call(this,"".concat(E,`

`).concat(v.join(`
`),`
`))}else{var T=J(k),L="",Y=F[A];A==="notDeepEqual"||A==="notEqual"?(T="".concat(F[A],`

`).concat(T),T.length>1024&&(T="".concat(T.slice(0,1021),"..."))):(L="".concat(J(G)),T.length>512&&(T="".concat(T.slice(0,509),"...")),L.length>512&&(L="".concat(L.slice(0,509),"...")),A==="deepEqual"||A==="equal"?T="".concat(Y,`

`).concat(T,`

should equal

`):L=" ".concat(A," ").concat(L)),z=de.call(this,"".concat(T).concat(L))}return Error.stackTraceLimit=te,z.generatedMessage=!Q,Object.defineProperty(d(z),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),z.code="ERR_ASSERTION",z.actual=k,z.expected=G,z.operator=A,Error.captureStackTrace&&Error.captureStackTrace(d(z),P),z.stack,z.name="AssertionError",l(z)}return i(he,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:H,value:function(z,Q){return w(this,e(e({},Q),{},{customInspect:!1,depth:0}))}}]),he}(c(Error),w.custom);return mp=ae,mp}var _p,SE;function TE(){if(SE)return _p;SE=1;var t=Object.prototype.toString;return _p=function(r){var n=t.call(r),a=n==="[object Arguments]";return a||(a=n!=="[object Array]"&&r!==null&&typeof r=="object"&&typeof r.length=="number"&&r.length>=0&&t.call(r.callee)==="[object Function]"),a},_p}var vp,xE;function ED(){if(xE)return vp;xE=1;var t;if(!Object.keys){var e=Object.prototype.hasOwnProperty,r=Object.prototype.toString,n=TE(),a=Object.prototype.propertyIsEnumerable,i=!a.call({toString:null},"toString"),s=a.call(function(){},"prototype"),o=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],f=function(c){var h=c.constructor;return h&&h.prototype===c},u={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},l=function(){if(typeof window>"u")return!1;for(var c in window)try{if(!u["$"+c]&&e.call(window,c)&&window[c]!==null&&typeof window[c]=="object")try{f(window[c])}catch{return!0}}catch{return!0}return!1}(),d=function(c){if(typeof window>"u"||!l)return f(c);try{return f(c)}catch{return!1}};t=function(h){var m=h!==null&&typeof h=="object",_=r.call(h)==="[object Function]",b=n(h),y=m&&r.call(h)==="[object String]",p=[];if(!m&&!_&&!b)throw new TypeError("Object.keys called on a non-object");var g=s&&_;if(y&&h.length>0&&!e.call(h,0))for(var w=0;w<h.length;++w)p.push(String(w));if(b&&h.length>0)for(var S=0;S<h.length;++S)p.push(String(S));else for(var I in h)!(g&&I==="prototype")&&e.call(h,I)&&p.push(String(I));if(i)for(var O=d(h),M=0;M<o.length;++M)!(O&&o[M]==="constructor")&&e.call(h,o[M])&&p.push(o[M]);return p}}return vp=t,vp}var wp,RE;function IE(){if(RE)return wp;RE=1;var t=Array.prototype.slice,e=TE(),r=Object.keys,n=r?function(s){return r(s)}:ED(),a=Object.keys;return n.shim=function(){if(Object.keys){var s=function(){var o=Object.keys(arguments);return o&&o.length===arguments.length}(1,2);s||(Object.keys=function(f){return e(f)?a(t.call(f)):a(f)})}else Object.keys=n;return Object.keys||n},wp=n,wp}var Ep,AE;function SD(){if(AE)return Ep;AE=1;var t=IE(),e=rd()(),r=dn(),n=ad(),a=r("Array.prototype.push"),i=r("Object.prototype.propertyIsEnumerable"),s=e?n.getOwnPropertySymbols:null;return Ep=function(f,u){if(f==null)throw new TypeError("target must be an object");var l=n(f);if(arguments.length===1)return l;for(var d=1;d<arguments.length;++d){var c=n(arguments[d]),h=t(c),m=e&&(n.getOwnPropertySymbols||s);if(m)for(var _=m(c),b=0;b<_.length;++b){var y=_[b];i(c,y)&&a(h,y)}for(var p=0;p<h.length;++p){var g=h[p];if(i(c,g)){var w=c[g];l[g]=w}}}return l},Ep}var Sp,OE;function TD(){if(OE)return Sp;OE=1;var t=SD(),e=function(){if(!Object.assign)return!1;for(var n="abcdefghijklmnopqrst",a=n.split(""),i={},s=0;s<a.length;++s)i[a[s]]=a[s];var o=Object.assign({},i),f="";for(var u in o)f+=u;return n!==f},r=function(){if(!Object.assign||!Object.preventExtensions)return!1;var n=Object.preventExtensions({1:2});try{Object.assign(n,"xy")}catch{return n[1]==="y"}return!1};return Sp=function(){return!Object.assign||e()||r()?t:Object.assign},Sp}var Tp,NE;function PE(){if(NE)return Tp;NE=1;var t=function(e){return e!==e};return Tp=function(r,n){return r===0&&n===0?1/r===1/n:!!(r===n||t(r)&&t(n))},Tp}var xp,DE;function Rp(){if(DE)return xp;DE=1;var t=PE();return xp=function(){return typeof Object.is=="function"?Object.is:t},xp}var Ip,CE;function xD(){if(CE)return Ip;CE=1;var t=to(),e=vf(),r=e(t("String.prototype.indexOf"));return Ip=function(a,i){var s=t(a,!!i);return typeof s=="function"&&r(a,".prototype.")>-1?e(s):s},Ip}var Ap,LE;function Qf(){if(LE)return Ap;LE=1;var t=IE(),e=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",r=Object.prototype.toString,n=Array.prototype.concat,a=G1(),i=function(u){return typeof u=="function"&&r.call(u)==="[object Function]"},s=W1()(),o=function(u,l,d,c){if(l in u){if(c===!0){if(u[l]===d)return}else if(!i(c)||!c())return}s?a(u,l,d,!0):a(u,l,d)},f=function(u,l){var d=arguments.length>2?arguments[2]:{},c=t(l);e&&(c=n.call(c,Object.getOwnPropertySymbols(l)));for(var h=0;h<c.length;h+=1)o(u,c[h],l[c[h]],d[c[h]])};return f.supportsDescriptors=!!s,Ap=f,Ap}var Op,FE;function RD(){if(FE)return Op;FE=1;var t=Rp(),e=Qf();return Op=function(){var n=t();return e(Object,{is:n},{is:function(){return Object.is!==n}}),n},Op}var Np,ME;function ID(){if(ME)return Np;ME=1;var t=Qf(),e=vf(),r=PE(),n=Rp(),a=RD(),i=e(n(),Object);return t(i,{getPolyfill:n,implementation:r,shim:a}),Np=i,Np}var Pp,jE;function qE(){return jE||(jE=1,Pp=function(e){return e!==e}),Pp}var Dp,BE;function kE(){if(BE)return Dp;BE=1;var t=qE();return Dp=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:t},Dp}var Cp,$E;function AD(){if($E)return Cp;$E=1;var t=Qf(),e=kE();return Cp=function(){var n=e();return t(Number,{isNaN:n},{isNaN:function(){return Number.isNaN!==n}}),n},Cp}var Lp,UE;function OD(){if(UE)return Lp;UE=1;var t=vf(),e=Qf(),r=qE(),n=kE(),a=AD(),i=t(n(),Number);return e(i,{getPolyfill:n,implementation:r,shim:a}),Lp=i,Lp}var Fp,HE;function ND(){if(HE)return Fp;HE=1;function t(_e,Ee){return i(_e)||a(_e,Ee)||r(_e,Ee)||e()}function e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r(_e,Ee){if(_e){if(typeof _e=="string")return n(_e,Ee);var Fe=Object.prototype.toString.call(_e).slice(8,-1);if(Fe==="Object"&&_e.constructor&&(Fe=_e.constructor.name),Fe==="Map"||Fe==="Set")return Array.from(_e);if(Fe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Fe))return n(_e,Ee)}}function n(_e,Ee){(Ee==null||Ee>_e.length)&&(Ee=_e.length);for(var Fe=0,je=new Array(Ee);Fe<Ee;Fe++)je[Fe]=_e[Fe];return je}function a(_e,Ee){var Fe=_e==null?null:typeof Symbol<"u"&&_e[Symbol.iterator]||_e["@@iterator"];if(Fe!=null){var je,Me,ze,ee,x=[],$=!0,ie=!1;try{if(ze=(Fe=Fe.call(_e)).next,Ee!==0)for(;!($=(je=ze.call(Fe)).done)&&(x.push(je.value),x.length!==Ee);$=!0);}catch(ye){ie=!0,Me=ye}finally{try{if(!$&&Fe.return!=null&&(ee=Fe.return(),Object(ee)!==ee))return}finally{if(ie)throw Me}}return x}}function i(_e){if(Array.isArray(_e))return _e}function s(_e){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ee){return typeof Ee}:function(Ee){return Ee&&typeof Symbol=="function"&&Ee.constructor===Symbol&&Ee!==Symbol.prototype?"symbol":typeof Ee},s(_e)}var o=/a/g.flags!==void 0,f=function(Ee){var Fe=[];return Ee.forEach(function(je){return Fe.push(je)}),Fe},u=function(Ee){var Fe=[];return Ee.forEach(function(je,Me){return Fe.push([Me,je])}),Fe},l=Object.is?Object.is:ID(),d=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},c=Number.isNaN?Number.isNaN:OD();function h(_e){return _e.call.bind(_e)}var m=h(Object.prototype.hasOwnProperty),_=h(Object.prototype.propertyIsEnumerable),b=h(Object.prototype.toString),y=wt().types,p=y.isAnyArrayBuffer,g=y.isArrayBufferView,w=y.isDate,S=y.isMap,I=y.isRegExp,O=y.isSet,M=y.isNativeError,D=y.isBoxedPrimitive,N=y.isNumberObject,C=y.isStringObject,R=y.isBooleanObject,F=y.isBigIntObject,X=y.isSymbolObject,oe=y.isFloat32Array,J=y.isFloat64Array;function le(_e){if(_e.length===0||_e.length>10)return!0;for(var Ee=0;Ee<_e.length;Ee++){var Fe=_e.charCodeAt(Ee);if(Fe<48||Fe>57)return!0}return _e.length===10&&_e>=Math.pow(2,32)}function ae(_e){return Object.keys(_e).filter(le).concat(d(_e).filter(Object.prototype.propertyIsEnumerable.bind(_e)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function Z(_e,Ee){if(_e===Ee)return 0;for(var Fe=_e.length,je=Ee.length,Me=0,ze=Math.min(Fe,je);Me<ze;++Me)if(_e[Me]!==Ee[Me]){Fe=_e[Me],je=Ee[Me];break}return Fe<je?-1:je<Fe?1:0}var H=!0,de=!1,he=0,W=1,z=2,Q=3;function A(_e,Ee){return o?_e.source===Ee.source&&_e.flags===Ee.flags:RegExp.prototype.toString.call(_e)===RegExp.prototype.toString.call(Ee)}function P(_e,Ee){if(_e.byteLength!==Ee.byteLength)return!1;for(var Fe=0;Fe<_e.byteLength;Fe++)if(_e[Fe]!==Ee[Fe])return!1;return!0}function k(_e,Ee){return _e.byteLength!==Ee.byteLength?!1:Z(new Uint8Array(_e.buffer,_e.byteOffset,_e.byteLength),new Uint8Array(Ee.buffer,Ee.byteOffset,Ee.byteLength))===0}function G(_e,Ee){return _e.byteLength===Ee.byteLength&&Z(new Uint8Array(_e),new Uint8Array(Ee))===0}function te(_e,Ee){return N(_e)?N(Ee)&&l(Number.prototype.valueOf.call(_e),Number.prototype.valueOf.call(Ee)):C(_e)?C(Ee)&&String.prototype.valueOf.call(_e)===String.prototype.valueOf.call(Ee):R(_e)?R(Ee)&&Boolean.prototype.valueOf.call(_e)===Boolean.prototype.valueOf.call(Ee):F(_e)?F(Ee)&&BigInt.prototype.valueOf.call(_e)===BigInt.prototype.valueOf.call(Ee):X(Ee)&&Symbol.prototype.valueOf.call(_e)===Symbol.prototype.valueOf.call(Ee)}function E(_e,Ee,Fe,je){if(_e===Ee)return _e!==0?!0:Fe?l(_e,Ee):!0;if(Fe){if(s(_e)!=="object")return typeof _e=="number"&&c(_e)&&c(Ee);if(s(Ee)!=="object"||_e===null||Ee===null||Object.getPrototypeOf(_e)!==Object.getPrototypeOf(Ee))return!1}else{if(_e===null||s(_e)!=="object")return Ee===null||s(Ee)!=="object"?_e==Ee:!1;if(Ee===null||s(Ee)!=="object")return!1}var Me=b(_e),ze=b(Ee);if(Me!==ze)return!1;if(Array.isArray(_e)){if(_e.length!==Ee.length)return!1;var ee=ae(_e),x=ae(Ee);return ee.length!==x.length?!1:T(_e,Ee,Fe,je,W,ee)}if(Me==="[object Object]"&&(!S(_e)&&S(Ee)||!O(_e)&&O(Ee)))return!1;if(w(_e)){if(!w(Ee)||Date.prototype.getTime.call(_e)!==Date.prototype.getTime.call(Ee))return!1}else if(I(_e)){if(!I(Ee)||!A(_e,Ee))return!1}else if(M(_e)||_e instanceof Error){if(_e.message!==Ee.message||_e.name!==Ee.name)return!1}else if(g(_e)){if(!Fe&&(oe(_e)||J(_e))){if(!P(_e,Ee))return!1}else if(!k(_e,Ee))return!1;var $=ae(_e),ie=ae(Ee);return $.length!==ie.length?!1:T(_e,Ee,Fe,je,he,$)}else{if(O(_e))return!O(Ee)||_e.size!==Ee.size?!1:T(_e,Ee,Fe,je,z);if(S(_e))return!S(Ee)||_e.size!==Ee.size?!1:T(_e,Ee,Fe,je,Q);if(p(_e)){if(!G(_e,Ee))return!1}else if(D(_e)&&!te(_e,Ee))return!1}return T(_e,Ee,Fe,je,he)}function v(_e,Ee){return Ee.filter(function(Fe){return _(_e,Fe)})}function T(_e,Ee,Fe,je,Me,ze){if(arguments.length===5){ze=Object.keys(_e);var ee=Object.keys(Ee);if(ze.length!==ee.length)return!1}for(var x=0;x<ze.length;x++)if(!m(Ee,ze[x]))return!1;if(Fe&&arguments.length===5){var $=d(_e);if($.length!==0){var ie=0;for(x=0;x<$.length;x++){var ye=$[x];if(_(_e,ye)){if(!_(Ee,ye))return!1;ze.push(ye),ie++}else if(_(Ee,ye))return!1}var V=d(Ee);if($.length!==V.length&&v(Ee,V).length!==ie)return!1}else{var re=d(Ee);if(re.length!==0&&v(Ee,re).length!==0)return!1}}if(ze.length===0&&(Me===he||Me===W&&_e.length===0||_e.size===0))return!0;if(je===void 0)je={val1:new Map,val2:new Map,position:0};else{var K=je.val1.get(_e);if(K!==void 0){var De=je.val2.get(Ee);if(De!==void 0)return K===De}je.position++}je.val1.set(_e,je.position),je.val2.set(Ee,je.position);var qe=Le(_e,Ee,Fe,ze,je,Me);return je.val1.delete(_e),je.val2.delete(Ee),qe}function L(_e,Ee,Fe,je){for(var Me=f(_e),ze=0;ze<Me.length;ze++){var ee=Me[ze];if(E(Ee,ee,Fe,je))return _e.delete(ee),!0}return!1}function Y(_e){switch(s(_e)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":_e=+_e;case"number":if(c(_e))return!1}return!0}function ne(_e,Ee,Fe){var je=Y(Fe);return je??(Ee.has(je)&&!_e.has(je))}function pe(_e,Ee,Fe,je,Me){var ze=Y(Fe);if(ze!=null)return ze;var ee=Ee.get(ze);return ee===void 0&&!Ee.has(ze)||!E(je,ee,!1,Me)?!1:!_e.has(ze)&&E(je,ee,!1,Me)}function we(_e,Ee,Fe,je){for(var Me=null,ze=f(_e),ee=0;ee<ze.length;ee++){var x=ze[ee];if(s(x)==="object"&&x!==null)Me===null&&(Me=new Set),Me.add(x);else if(!Ee.has(x)){if(Fe||!ne(_e,Ee,x))return!1;Me===null&&(Me=new Set),Me.add(x)}}if(Me!==null){for(var $=f(Ee),ie=0;ie<$.length;ie++){var ye=$[ie];if(s(ye)==="object"&&ye!==null){if(!L(Me,ye,Fe,je))return!1}else if(!Fe&&!_e.has(ye)&&!L(Me,ye,Fe,je))return!1}return Me.size===0}return!0}function fe(_e,Ee,Fe,je,Me,ze){for(var ee=f(_e),x=0;x<ee.length;x++){var $=ee[x];if(E(Fe,$,Me,ze)&&E(je,Ee.get($),Me,ze))return _e.delete($),!0}return!1}function Re(_e,Ee,Fe,je){for(var Me=null,ze=u(_e),ee=0;ee<ze.length;ee++){var x=t(ze[ee],2),$=x[0],ie=x[1];if(s($)==="object"&&$!==null)Me===null&&(Me=new Set),Me.add($);else{var ye=Ee.get($);if(ye===void 0&&!Ee.has($)||!E(ie,ye,Fe,je)){if(Fe||!pe(_e,Ee,$,ie,je))return!1;Me===null&&(Me=new Set),Me.add($)}}}if(Me!==null){for(var V=u(Ee),re=0;re<V.length;re++){var K=t(V[re],2),De=K[0],qe=K[1];if(s(De)==="object"&&De!==null){if(!fe(Me,_e,De,qe,Fe,je))return!1}else if(!Fe&&(!_e.has(De)||!E(_e.get(De),qe,!1,je))&&!fe(Me,_e,De,qe,!1,je))return!1}return Me.size===0}return!0}function Le(_e,Ee,Fe,je,Me,ze){var ee=0;if(ze===z){if(!we(_e,Ee,Fe,Me))return!1}else if(ze===Q){if(!Re(_e,Ee,Fe,Me))return!1}else if(ze===W)for(;ee<_e.length;ee++)if(m(_e,ee)){if(!m(Ee,ee)||!E(_e[ee],Ee[ee],Fe,Me))return!1}else{if(m(Ee,ee))return!1;for(var x=Object.keys(_e);ee<x.length;ee++){var $=x[ee];if(!m(Ee,$)||!E(_e[$],Ee[$],Fe,Me))return!1}return x.length===Object.keys(Ee).length}for(ee=0;ee<je.length;ee++){var ie=je[ee];if(!E(_e[ie],Ee[ie],Fe,Me))return!1}return!0}function Te(_e,Ee){return E(_e,Ee,de)}function Ue(_e,Ee){return E(_e,Ee,H)}return Fp={isDeepEqual:Te,isDeepStrictEqual:Ue},Fp}var VE;function Xf(){if(VE)return gp.exports;VE=1;function t(z){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Q){return typeof Q}:function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},t(z)}function e(z,Q,A){return Object.defineProperty(z,"prototype",{writable:!1}),z}function r(z,Q){if(!(z instanceof Q))throw new TypeError("Cannot call a class as a function")}var n=wE(),a=n.codes,i=a.ERR_AMBIGUOUS_ARGUMENT,s=a.ERR_INVALID_ARG_TYPE,o=a.ERR_INVALID_ARG_VALUE,f=a.ERR_INVALID_RETURN_VALUE,u=a.ERR_MISSING_ARGS,l=wD(),d=wt(),c=d.inspect,h=wt().types,m=h.isPromise,_=h.isRegExp,b=TD()(),y=Rp()(),p=xD()("RegExp.prototype.test"),g,w;function S(){var z=ND();g=z.isDeepEqual,w=z.isDeepStrictEqual}var I=!1,O=gp.exports=R,M={};function D(z){throw z.message instanceof Error?z.message:new l(z)}function N(z,Q,A,P,k){var G=arguments.length,te;if(G===0)te="Failed";else if(G===1)A=z,z=void 0;else{if(I===!1){I=!0;var E=xe.emitWarning?xe.emitWarning:console.warn.bind(console);E("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}G===2&&(P="!=")}if(A instanceof Error)throw A;var v={actual:z,expected:Q,operator:P===void 0?"fail":P,stackStartFn:k||N};A!==void 0&&(v.message=A);var T=new l(v);throw te&&(T.message=te,T.generatedMessage=!0),T}O.fail=N,O.AssertionError=l;function C(z,Q,A,P){if(!A){var k=!1;if(Q===0)k=!0,P="No value argument passed to `assert.ok()`";else if(P instanceof Error)throw P;var G=new l({actual:A,expected:!0,message:P,operator:"==",stackStartFn:z});throw G.generatedMessage=k,G}}function R(){for(var z=arguments.length,Q=new Array(z),A=0;A<z;A++)Q[A]=arguments[A];C.apply(void 0,[R,Q.length].concat(Q))}O.ok=R,O.equal=function z(Q,A,P){if(arguments.length<2)throw new u("actual","expected");Q!=A&&D({actual:Q,expected:A,message:P,operator:"==",stackStartFn:z})},O.notEqual=function z(Q,A,P){if(arguments.length<2)throw new u("actual","expected");Q==A&&D({actual:Q,expected:A,message:P,operator:"!=",stackStartFn:z})},O.deepEqual=function z(Q,A,P){if(arguments.length<2)throw new u("actual","expected");g===void 0&&S(),g(Q,A)||D({actual:Q,expected:A,message:P,operator:"deepEqual",stackStartFn:z})},O.notDeepEqual=function z(Q,A,P){if(arguments.length<2)throw new u("actual","expected");g===void 0&&S(),g(Q,A)&&D({actual:Q,expected:A,message:P,operator:"notDeepEqual",stackStartFn:z})},O.deepStrictEqual=function z(Q,A,P){if(arguments.length<2)throw new u("actual","expected");g===void 0&&S(),w(Q,A)||D({actual:Q,expected:A,message:P,operator:"deepStrictEqual",stackStartFn:z})},O.notDeepStrictEqual=F;function F(z,Q,A){if(arguments.length<2)throw new u("actual","expected");g===void 0&&S(),w(z,Q)&&D({actual:z,expected:Q,message:A,operator:"notDeepStrictEqual",stackStartFn:F})}O.strictEqual=function z(Q,A,P){if(arguments.length<2)throw new u("actual","expected");y(Q,A)||D({actual:Q,expected:A,message:P,operator:"strictEqual",stackStartFn:z})},O.notStrictEqual=function z(Q,A,P){if(arguments.length<2)throw new u("actual","expected");y(Q,A)&&D({actual:Q,expected:A,message:P,operator:"notStrictEqual",stackStartFn:z})};var X=e(function z(Q,A,P){var k=this;r(this,z),A.forEach(function(G){G in Q&&(P!==void 0&&typeof P[G]=="string"&&_(Q[G])&&p(Q[G],P[G])?k[G]=P[G]:k[G]=Q[G])})});function oe(z,Q,A,P,k,G){if(!(A in z)||!w(z[A],Q[A])){if(!P){var te=new X(z,k),E=new X(Q,k,z),v=new l({actual:te,expected:E,operator:"deepStrictEqual",stackStartFn:G});throw v.actual=z,v.expected=Q,v.operator=G.name,v}D({actual:z,expected:Q,message:P,operator:G.name,stackStartFn:G})}}function J(z,Q,A,P){if(typeof Q!="function"){if(_(Q))return p(Q,z);if(arguments.length===2)throw new s("expected",["Function","RegExp"],Q);if(t(z)!=="object"||z===null){var k=new l({actual:z,expected:Q,message:A,operator:"deepStrictEqual",stackStartFn:P});throw k.operator=P.name,k}var G=Object.keys(Q);if(Q instanceof Error)G.push("name","message");else if(G.length===0)throw new o("error",Q,"may not be an empty object");return g===void 0&&S(),G.forEach(function(te){typeof z[te]=="string"&&_(Q[te])&&p(Q[te],z[te])||oe(z,Q,te,A,G,P)}),!0}return Q.prototype!==void 0&&z instanceof Q?!0:Error.isPrototypeOf(Q)?!1:Q.call({},z)===!0}function le(z){if(typeof z!="function")throw new s("fn","Function",z);try{z()}catch(Q){return Q}return M}function ae(z){return m(z)||z!==null&&t(z)==="object"&&typeof z.then=="function"&&typeof z.catch=="function"}function Z(z){return Promise.resolve().then(function(){var Q;if(typeof z=="function"){if(Q=z(),!ae(Q))throw new f("instance of Promise","promiseFn",Q)}else if(ae(z))Q=z;else throw new s("promiseFn",["Function","Promise"],z);return Promise.resolve().then(function(){return Q}).then(function(){return M}).catch(function(A){return A})})}function H(z,Q,A,P){if(typeof A=="string"){if(arguments.length===4)throw new s("error",["Object","Error","Function","RegExp"],A);if(t(Q)==="object"&&Q!==null){if(Q.message===A)throw new i("error/message",'The error message "'.concat(Q.message,'" is identical to the message.'))}else if(Q===A)throw new i("error/message",'The error "'.concat(Q,'" is identical to the message.'));P=A,A=void 0}else if(A!=null&&t(A)!=="object"&&typeof A!="function")throw new s("error",["Object","Error","Function","RegExp"],A);if(Q===M){var k="";A&&A.name&&(k+=" (".concat(A.name,")")),k+=P?": ".concat(P):".";var G=z.name==="rejects"?"rejection":"exception";D({actual:void 0,expected:A,operator:z.name,message:"Missing expected ".concat(G).concat(k),stackStartFn:z})}if(A&&!J(Q,A,P,z))throw Q}function de(z,Q,A,P){if(Q!==M){if(typeof A=="string"&&(P=A,A=void 0),!A||J(Q,A)){var k=P?": ".concat(P):".",G=z.name==="doesNotReject"?"rejection":"exception";D({actual:Q,expected:A,operator:z.name,message:"Got unwanted ".concat(G).concat(k,`
`)+'Actual message: "'.concat(Q&&Q.message,'"'),stackStartFn:z})}throw Q}}O.throws=function z(Q){for(var A=arguments.length,P=new Array(A>1?A-1:0),k=1;k<A;k++)P[k-1]=arguments[k];H.apply(void 0,[z,le(Q)].concat(P))},O.rejects=function z(Q){for(var A=arguments.length,P=new Array(A>1?A-1:0),k=1;k<A;k++)P[k-1]=arguments[k];return Z(Q).then(function(G){return H.apply(void 0,[z,G].concat(P))})},O.doesNotThrow=function z(Q){for(var A=arguments.length,P=new Array(A>1?A-1:0),k=1;k<A;k++)P[k-1]=arguments[k];de.apply(void 0,[z,le(Q)].concat(P))},O.doesNotReject=function z(Q){for(var A=arguments.length,P=new Array(A>1?A-1:0),k=1;k<A;k++)P[k-1]=arguments[k];return Z(Q).then(function(G){return de.apply(void 0,[z,G].concat(P))})},O.ifError=function z(Q){if(Q!=null){var A="ifError got unwanted exception: ";t(Q)==="object"&&typeof Q.message=="string"?Q.message.length===0&&Q.constructor?A+=Q.constructor.name:A+=Q.message:A+=c(Q);var P=new l({actual:Q,expected:null,operator:"ifError",message:A,stackStartFn:z}),k=Q.stack;if(typeof k=="string"){var G=k.split(`
`);G.shift();for(var te=P.stack.split(`
`),E=0;E<G.length;E++){var v=te.indexOf(G[E]);if(v!==-1){te=te.slice(0,v);break}}P.stack="".concat(te.join(`
`),`
`).concat(G.join(`
`))}throw P}};function he(z,Q,A,P,k){if(!_(Q))throw new s("regexp","RegExp",Q);var G=k==="match";if(typeof z!="string"||p(Q,z)!==G){if(A instanceof Error)throw A;var te=!A;A=A||(typeof z!="string"?'The "string" argument must be of type string. Received type '+"".concat(t(z)," (").concat(c(z),")"):(G?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat(c(Q),`. Input:

`).concat(c(z),`
`));var E=new l({actual:z,expected:Q,message:A,operator:k,stackStartFn:P});throw E.generatedMessage=te,E}}O.match=function z(Q,A,P){he(Q,A,P,z,"match")},O.doesNotMatch=function z(Q,A,P){he(Q,A,P,z,"doesNotMatch")};function W(){for(var z=arguments.length,Q=new Array(z),A=0;A<z;A++)Q[A]=arguments[A];C.apply(void 0,[W,Q.length].concat(Q))}return O.strict=b(W,O,{equal:O.strictEqual,deepEqual:O.deepStrictEqual,notEqual:O.notStrictEqual,notDeepEqual:O.notDeepStrictEqual}),O.strict.strict=O.strict,gp.exports}var Mp,GE;function PD(){if(GE)return Mp;GE=1;function t(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}return Mp=t,Mp}var xr={},jp={},zE;function Zf(){return zE||(zE=1,function(t){var e=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function r(i,s){return Object.prototype.hasOwnProperty.call(i,s)}t.assign=function(i){for(var s=Array.prototype.slice.call(arguments,1);s.length;){var o=s.shift();if(o){if(typeof o!="object")throw new TypeError(o+"must be non-object");for(var f in o)r(o,f)&&(i[f]=o[f])}}return i},t.shrinkBuf=function(i,s){return i.length===s?i:i.subarray?i.subarray(0,s):(i.length=s,i)};var n={arraySet:function(i,s,o,f,u){if(s.subarray&&i.subarray){i.set(s.subarray(o,o+f),u);return}for(var l=0;l<f;l++)i[u+l]=s[o+l]},flattenChunks:function(i){var s,o,f,u,l,d;for(f=0,s=0,o=i.length;s<o;s++)f+=i[s].length;for(d=new Uint8Array(f),u=0,s=0,o=i.length;s<o;s++)l=i[s],d.set(l,u),u+=l.length;return d}},a={arraySet:function(i,s,o,f,u){for(var l=0;l<f;l++)i[u+l]=s[o+l]},flattenChunks:function(i){return[].concat.apply([],i)}};t.setTyped=function(i){i?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,n)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,a))},t.setTyped(e)}(jp)),jp}var $n={},WE;function DD(){if(WE)return $n;WE=1;var t=Zf(),e=4,r=0,n=1,a=2;function i(x){for(var $=x.length;--$>=0;)x[$]=0}var s=0,o=1,f=2,u=3,l=258,d=29,c=256,h=c+1+d,m=30,_=19,b=2*h+1,y=15,p=16,g=7,w=256,S=16,I=17,O=18,M=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],D=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],N=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],C=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],R=512,F=new Array((h+2)*2);i(F);var X=new Array(m*2);i(X);var oe=new Array(R);i(oe);var J=new Array(l-u+1);i(J);var le=new Array(d);i(le);var ae=new Array(m);i(ae);function Z(x,$,ie,ye,V){this.static_tree=x,this.extra_bits=$,this.extra_base=ie,this.elems=ye,this.max_length=V,this.has_stree=x&&x.length}var H,de,he;function W(x,$){this.dyn_tree=x,this.max_code=0,this.stat_desc=$}function z(x){return x<256?oe[x]:oe[256+(x>>>7)]}function Q(x,$){x.pending_buf[x.pending++]=$&255,x.pending_buf[x.pending++]=$>>>8&255}function A(x,$,ie){x.bi_valid>p-ie?(x.bi_buf|=$<<x.bi_valid&65535,Q(x,x.bi_buf),x.bi_buf=$>>p-x.bi_valid,x.bi_valid+=ie-p):(x.bi_buf|=$<<x.bi_valid&65535,x.bi_valid+=ie)}function P(x,$,ie){A(x,ie[$*2],ie[$*2+1])}function k(x,$){var ie=0;do ie|=x&1,x>>>=1,ie<<=1;while(--$>0);return ie>>>1}function G(x){x.bi_valid===16?(Q(x,x.bi_buf),x.bi_buf=0,x.bi_valid=0):x.bi_valid>=8&&(x.pending_buf[x.pending++]=x.bi_buf&255,x.bi_buf>>=8,x.bi_valid-=8)}function te(x,$){var ie=$.dyn_tree,ye=$.max_code,V=$.stat_desc.static_tree,re=$.stat_desc.has_stree,K=$.stat_desc.extra_bits,De=$.stat_desc.extra_base,qe=$.stat_desc.max_length,q,Se,Pe,se,ve,Oe,We=0;for(se=0;se<=y;se++)x.bl_count[se]=0;for(ie[x.heap[x.heap_max]*2+1]=0,q=x.heap_max+1;q<b;q++)Se=x.heap[q],se=ie[ie[Se*2+1]*2+1]+1,se>qe&&(se=qe,We++),ie[Se*2+1]=se,!(Se>ye)&&(x.bl_count[se]++,ve=0,Se>=De&&(ve=K[Se-De]),Oe=ie[Se*2],x.opt_len+=Oe*(se+ve),re&&(x.static_len+=Oe*(V[Se*2+1]+ve)));if(We!==0){do{for(se=qe-1;x.bl_count[se]===0;)se--;x.bl_count[se]--,x.bl_count[se+1]+=2,x.bl_count[qe]--,We-=2}while(We>0);for(se=qe;se!==0;se--)for(Se=x.bl_count[se];Se!==0;)Pe=x.heap[--q],!(Pe>ye)&&(ie[Pe*2+1]!==se&&(x.opt_len+=(se-ie[Pe*2+1])*ie[Pe*2],ie[Pe*2+1]=se),Se--)}}function E(x,$,ie){var ye=new Array(y+1),V=0,re,K;for(re=1;re<=y;re++)ye[re]=V=V+ie[re-1]<<1;for(K=0;K<=$;K++){var De=x[K*2+1];De!==0&&(x[K*2]=k(ye[De]++,De))}}function v(){var x,$,ie,ye,V,re=new Array(y+1);for(ie=0,ye=0;ye<d-1;ye++)for(le[ye]=ie,x=0;x<1<<M[ye];x++)J[ie++]=ye;for(J[ie-1]=ye,V=0,ye=0;ye<16;ye++)for(ae[ye]=V,x=0;x<1<<D[ye];x++)oe[V++]=ye;for(V>>=7;ye<m;ye++)for(ae[ye]=V<<7,x=0;x<1<<D[ye]-7;x++)oe[256+V++]=ye;for($=0;$<=y;$++)re[$]=0;for(x=0;x<=143;)F[x*2+1]=8,x++,re[8]++;for(;x<=255;)F[x*2+1]=9,x++,re[9]++;for(;x<=279;)F[x*2+1]=7,x++,re[7]++;for(;x<=287;)F[x*2+1]=8,x++,re[8]++;for(E(F,h+1,re),x=0;x<m;x++)X[x*2+1]=5,X[x*2]=k(x,5);H=new Z(F,M,c+1,h,y),de=new Z(X,D,0,m,y),he=new Z(new Array(0),N,0,_,g)}function T(x){var $;for($=0;$<h;$++)x.dyn_ltree[$*2]=0;for($=0;$<m;$++)x.dyn_dtree[$*2]=0;for($=0;$<_;$++)x.bl_tree[$*2]=0;x.dyn_ltree[w*2]=1,x.opt_len=x.static_len=0,x.last_lit=x.matches=0}function L(x){x.bi_valid>8?Q(x,x.bi_buf):x.bi_valid>0&&(x.pending_buf[x.pending++]=x.bi_buf),x.bi_buf=0,x.bi_valid=0}function Y(x,$,ie,ye){L(x),Q(x,ie),Q(x,~ie),t.arraySet(x.pending_buf,x.window,$,ie,x.pending),x.pending+=ie}function ne(x,$,ie,ye){var V=$*2,re=ie*2;return x[V]<x[re]||x[V]===x[re]&&ye[$]<=ye[ie]}function pe(x,$,ie){for(var ye=x.heap[ie],V=ie<<1;V<=x.heap_len&&(V<x.heap_len&&ne($,x.heap[V+1],x.heap[V],x.depth)&&V++,!ne($,ye,x.heap[V],x.depth));)x.heap[ie]=x.heap[V],ie=V,V<<=1;x.heap[ie]=ye}function we(x,$,ie){var ye,V,re=0,K,De;if(x.last_lit!==0)do ye=x.pending_buf[x.d_buf+re*2]<<8|x.pending_buf[x.d_buf+re*2+1],V=x.pending_buf[x.l_buf+re],re++,ye===0?P(x,V,$):(K=J[V],P(x,K+c+1,$),De=M[K],De!==0&&(V-=le[K],A(x,V,De)),ye--,K=z(ye),P(x,K,ie),De=D[K],De!==0&&(ye-=ae[K],A(x,ye,De)));while(re<x.last_lit);P(x,w,$)}function fe(x,$){var ie=$.dyn_tree,ye=$.stat_desc.static_tree,V=$.stat_desc.has_stree,re=$.stat_desc.elems,K,De,qe=-1,q;for(x.heap_len=0,x.heap_max=b,K=0;K<re;K++)ie[K*2]!==0?(x.heap[++x.heap_len]=qe=K,x.depth[K]=0):ie[K*2+1]=0;for(;x.heap_len<2;)q=x.heap[++x.heap_len]=qe<2?++qe:0,ie[q*2]=1,x.depth[q]=0,x.opt_len--,V&&(x.static_len-=ye[q*2+1]);for($.max_code=qe,K=x.heap_len>>1;K>=1;K--)pe(x,ie,K);q=re;do K=x.heap[1],x.heap[1]=x.heap[x.heap_len--],pe(x,ie,1),De=x.heap[1],x.heap[--x.heap_max]=K,x.heap[--x.heap_max]=De,ie[q*2]=ie[K*2]+ie[De*2],x.depth[q]=(x.depth[K]>=x.depth[De]?x.depth[K]:x.depth[De])+1,ie[K*2+1]=ie[De*2+1]=q,x.heap[1]=q++,pe(x,ie,1);while(x.heap_len>=2);x.heap[--x.heap_max]=x.heap[1],te(x,$),E(ie,qe,x.bl_count)}function Re(x,$,ie){var ye,V=-1,re,K=$[0*2+1],De=0,qe=7,q=4;for(K===0&&(qe=138,q=3),$[(ie+1)*2+1]=65535,ye=0;ye<=ie;ye++)re=K,K=$[(ye+1)*2+1],!(++De<qe&&re===K)&&(De<q?x.bl_tree[re*2]+=De:re!==0?(re!==V&&x.bl_tree[re*2]++,x.bl_tree[S*2]++):De<=10?x.bl_tree[I*2]++:x.bl_tree[O*2]++,De=0,V=re,K===0?(qe=138,q=3):re===K?(qe=6,q=3):(qe=7,q=4))}function Le(x,$,ie){var ye,V=-1,re,K=$[0*2+1],De=0,qe=7,q=4;for(K===0&&(qe=138,q=3),ye=0;ye<=ie;ye++)if(re=K,K=$[(ye+1)*2+1],!(++De<qe&&re===K)){if(De<q)do P(x,re,x.bl_tree);while(--De!==0);else re!==0?(re!==V&&(P(x,re,x.bl_tree),De--),P(x,S,x.bl_tree),A(x,De-3,2)):De<=10?(P(x,I,x.bl_tree),A(x,De-3,3)):(P(x,O,x.bl_tree),A(x,De-11,7));De=0,V=re,K===0?(qe=138,q=3):re===K?(qe=6,q=3):(qe=7,q=4)}}function Te(x){var $;for(Re(x,x.dyn_ltree,x.l_desc.max_code),Re(x,x.dyn_dtree,x.d_desc.max_code),fe(x,x.bl_desc),$=_-1;$>=3&&x.bl_tree[C[$]*2+1]===0;$--);return x.opt_len+=3*($+1)+5+5+4,$}function Ue(x,$,ie,ye){var V;for(A(x,$-257,5),A(x,ie-1,5),A(x,ye-4,4),V=0;V<ye;V++)A(x,x.bl_tree[C[V]*2+1],3);Le(x,x.dyn_ltree,$-1),Le(x,x.dyn_dtree,ie-1)}function _e(x){var $=4093624447,ie;for(ie=0;ie<=31;ie++,$>>>=1)if($&1&&x.dyn_ltree[ie*2]!==0)return r;if(x.dyn_ltree[9*2]!==0||x.dyn_ltree[10*2]!==0||x.dyn_ltree[13*2]!==0)return n;for(ie=32;ie<c;ie++)if(x.dyn_ltree[ie*2]!==0)return n;return r}var Ee=!1;function Fe(x){Ee||(v(),Ee=!0),x.l_desc=new W(x.dyn_ltree,H),x.d_desc=new W(x.dyn_dtree,de),x.bl_desc=new W(x.bl_tree,he),x.bi_buf=0,x.bi_valid=0,T(x)}function je(x,$,ie,ye){A(x,(s<<1)+(ye?1:0),3),Y(x,$,ie)}function Me(x){A(x,o<<1,3),P(x,w,F),G(x)}function ze(x,$,ie,ye){var V,re,K=0;x.level>0?(x.strm.data_type===a&&(x.strm.data_type=_e(x)),fe(x,x.l_desc),fe(x,x.d_desc),K=Te(x),V=x.opt_len+3+7>>>3,re=x.static_len+3+7>>>3,re<=V&&(V=re)):V=re=ie+5,ie+4<=V&&$!==-1?je(x,$,ie,ye):x.strategy===e||re===V?(A(x,(o<<1)+(ye?1:0),3),we(x,F,X)):(A(x,(f<<1)+(ye?1:0),3),Ue(x,x.l_desc.max_code+1,x.d_desc.max_code+1,K+1),we(x,x.dyn_ltree,x.dyn_dtree)),T(x),ye&&L(x)}function ee(x,$,ie){return x.pending_buf[x.d_buf+x.last_lit*2]=$>>>8&255,x.pending_buf[x.d_buf+x.last_lit*2+1]=$&255,x.pending_buf[x.l_buf+x.last_lit]=ie&255,x.last_lit++,$===0?x.dyn_ltree[ie*2]++:(x.matches++,$--,x.dyn_ltree[(J[ie]+c+1)*2]++,x.dyn_dtree[z($)*2]++),x.last_lit===x.lit_bufsize-1}return $n._tr_init=Fe,$n._tr_stored_block=je,$n._tr_flush_block=ze,$n._tr_tally=ee,$n._tr_align=Me,$n}var qp,KE;function QE(){if(KE)return qp;KE=1;function t(e,r,n,a){for(var i=e&65535|0,s=e>>>16&65535|0,o=0;n!==0;){o=n>2e3?2e3:n,n-=o;do i=i+r[a++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16|0}return qp=t,qp}var Bp,XE;function ZE(){if(XE)return Bp;XE=1;function t(){for(var n,a=[],i=0;i<256;i++){n=i;for(var s=0;s<8;s++)n=n&1?3988292384^n>>>1:n>>>1;a[i]=n}return a}var e=t();function r(n,a,i,s){var o=e,f=s+i;n^=-1;for(var u=s;u<f;u++)n=n>>>8^o[(n^a[u])&255];return n^-1}return Bp=r,Bp}var kp,JE;function CD(){return JE||(JE=1,kp={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}),kp}var YE;function LD(){if(YE)return xr;YE=1;var t=Zf(),e=DD(),r=QE(),n=ZE(),a=CD(),i=0,s=1,o=3,f=4,u=5,l=0,d=1,c=-2,h=-3,m=-5,_=-1,b=1,y=2,p=3,g=4,w=0,S=2,I=8,O=9,M=15,D=8,N=29,C=256,R=C+1+N,F=30,X=19,oe=2*R+1,J=15,le=3,ae=258,Z=ae+le+1,H=32,de=42,he=69,W=73,z=91,Q=103,A=113,P=666,k=1,G=2,te=3,E=4,v=3;function T(q,Se){return q.msg=a[Se],Se}function L(q){return(q<<1)-(q>4?9:0)}function Y(q){for(var Se=q.length;--Se>=0;)q[Se]=0}function ne(q){var Se=q.state,Pe=Se.pending;Pe>q.avail_out&&(Pe=q.avail_out),Pe!==0&&(t.arraySet(q.output,Se.pending_buf,Se.pending_out,Pe,q.next_out),q.next_out+=Pe,Se.pending_out+=Pe,q.total_out+=Pe,q.avail_out-=Pe,Se.pending-=Pe,Se.pending===0&&(Se.pending_out=0))}function pe(q,Se){e._tr_flush_block(q,q.block_start>=0?q.block_start:-1,q.strstart-q.block_start,Se),q.block_start=q.strstart,ne(q.strm)}function we(q,Se){q.pending_buf[q.pending++]=Se}function fe(q,Se){q.pending_buf[q.pending++]=Se>>>8&255,q.pending_buf[q.pending++]=Se&255}function Re(q,Se,Pe,se){var ve=q.avail_in;return ve>se&&(ve=se),ve===0?0:(q.avail_in-=ve,t.arraySet(Se,q.input,q.next_in,ve,Pe),q.state.wrap===1?q.adler=r(q.adler,Se,ve,Pe):q.state.wrap===2&&(q.adler=n(q.adler,Se,ve,Pe)),q.next_in+=ve,q.total_in+=ve,ve)}function Le(q,Se){var Pe=q.max_chain_length,se=q.strstart,ve,Oe,We=q.prev_length,ue=q.nice_match,B=q.strstart>q.w_size-Z?q.strstart-(q.w_size-Z):0,j=q.window,U=q.w_mask,ce=q.prev,me=q.strstart+ae,be=j[se+We-1],Ie=j[se+We];q.prev_length>=q.good_match&&(Pe>>=2),ue>q.lookahead&&(ue=q.lookahead);do if(ve=Se,!(j[ve+We]!==Ie||j[ve+We-1]!==be||j[ve]!==j[se]||j[++ve]!==j[se+1])){se+=2,ve++;do;while(j[++se]===j[++ve]&&j[++se]===j[++ve]&&j[++se]===j[++ve]&&j[++se]===j[++ve]&&j[++se]===j[++ve]&&j[++se]===j[++ve]&&j[++se]===j[++ve]&&j[++se]===j[++ve]&&se<me);if(Oe=ae-(me-se),se=me-ae,Oe>We){if(q.match_start=Se,We=Oe,Oe>=ue)break;be=j[se+We-1],Ie=j[se+We]}}while((Se=ce[Se&U])>B&&--Pe!==0);return We<=q.lookahead?We:q.lookahead}function Te(q){var Se=q.w_size,Pe,se,ve,Oe,We;do{if(Oe=q.window_size-q.lookahead-q.strstart,q.strstart>=Se+(Se-Z)){t.arraySet(q.window,q.window,Se,Se,0),q.match_start-=Se,q.strstart-=Se,q.block_start-=Se,se=q.hash_size,Pe=se;do ve=q.head[--Pe],q.head[Pe]=ve>=Se?ve-Se:0;while(--se);se=Se,Pe=se;do ve=q.prev[--Pe],q.prev[Pe]=ve>=Se?ve-Se:0;while(--se);Oe+=Se}if(q.strm.avail_in===0)break;if(se=Re(q.strm,q.window,q.strstart+q.lookahead,Oe),q.lookahead+=se,q.lookahead+q.insert>=le)for(We=q.strstart-q.insert,q.ins_h=q.window[We],q.ins_h=(q.ins_h<<q.hash_shift^q.window[We+1])&q.hash_mask;q.insert&&(q.ins_h=(q.ins_h<<q.hash_shift^q.window[We+le-1])&q.hash_mask,q.prev[We&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=We,We++,q.insert--,!(q.lookahead+q.insert<le)););}while(q.lookahead<Z&&q.strm.avail_in!==0)}function Ue(q,Se){var Pe=65535;for(Pe>q.pending_buf_size-5&&(Pe=q.pending_buf_size-5);;){if(q.lookahead<=1){if(Te(q),q.lookahead===0&&Se===i)return k;if(q.lookahead===0)break}q.strstart+=q.lookahead,q.lookahead=0;var se=q.block_start+Pe;if((q.strstart===0||q.strstart>=se)&&(q.lookahead=q.strstart-se,q.strstart=se,pe(q,!1),q.strm.avail_out===0)||q.strstart-q.block_start>=q.w_size-Z&&(pe(q,!1),q.strm.avail_out===0))return k}return q.insert=0,Se===f?(pe(q,!0),q.strm.avail_out===0?te:E):(q.strstart>q.block_start&&(pe(q,!1),q.strm.avail_out===0),k)}function _e(q,Se){for(var Pe,se;;){if(q.lookahead<Z){if(Te(q),q.lookahead<Z&&Se===i)return k;if(q.lookahead===0)break}if(Pe=0,q.lookahead>=le&&(q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+le-1])&q.hash_mask,Pe=q.prev[q.strstart&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=q.strstart),Pe!==0&&q.strstart-Pe<=q.w_size-Z&&(q.match_length=Le(q,Pe)),q.match_length>=le)if(se=e._tr_tally(q,q.strstart-q.match_start,q.match_length-le),q.lookahead-=q.match_length,q.match_length<=q.max_lazy_match&&q.lookahead>=le){q.match_length--;do q.strstart++,q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+le-1])&q.hash_mask,Pe=q.prev[q.strstart&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=q.strstart;while(--q.match_length!==0);q.strstart++}else q.strstart+=q.match_length,q.match_length=0,q.ins_h=q.window[q.strstart],q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+1])&q.hash_mask;else se=e._tr_tally(q,0,q.window[q.strstart]),q.lookahead--,q.strstart++;if(se&&(pe(q,!1),q.strm.avail_out===0))return k}return q.insert=q.strstart<le-1?q.strstart:le-1,Se===f?(pe(q,!0),q.strm.avail_out===0?te:E):q.last_lit&&(pe(q,!1),q.strm.avail_out===0)?k:G}function Ee(q,Se){for(var Pe,se,ve;;){if(q.lookahead<Z){if(Te(q),q.lookahead<Z&&Se===i)return k;if(q.lookahead===0)break}if(Pe=0,q.lookahead>=le&&(q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+le-1])&q.hash_mask,Pe=q.prev[q.strstart&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=q.strstart),q.prev_length=q.match_length,q.prev_match=q.match_start,q.match_length=le-1,Pe!==0&&q.prev_length<q.max_lazy_match&&q.strstart-Pe<=q.w_size-Z&&(q.match_length=Le(q,Pe),q.match_length<=5&&(q.strategy===b||q.match_length===le&&q.strstart-q.match_start>4096)&&(q.match_length=le-1)),q.prev_length>=le&&q.match_length<=q.prev_length){ve=q.strstart+q.lookahead-le,se=e._tr_tally(q,q.strstart-1-q.prev_match,q.prev_length-le),q.lookahead-=q.prev_length-1,q.prev_length-=2;do++q.strstart<=ve&&(q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+le-1])&q.hash_mask,Pe=q.prev[q.strstart&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=q.strstart);while(--q.prev_length!==0);if(q.match_available=0,q.match_length=le-1,q.strstart++,se&&(pe(q,!1),q.strm.avail_out===0))return k}else if(q.match_available){if(se=e._tr_tally(q,0,q.window[q.strstart-1]),se&&pe(q,!1),q.strstart++,q.lookahead--,q.strm.avail_out===0)return k}else q.match_available=1,q.strstart++,q.lookahead--}return q.match_available&&(se=e._tr_tally(q,0,q.window[q.strstart-1]),q.match_available=0),q.insert=q.strstart<le-1?q.strstart:le-1,Se===f?(pe(q,!0),q.strm.avail_out===0?te:E):q.last_lit&&(pe(q,!1),q.strm.avail_out===0)?k:G}function Fe(q,Se){for(var Pe,se,ve,Oe,We=q.window;;){if(q.lookahead<=ae){if(Te(q),q.lookahead<=ae&&Se===i)return k;if(q.lookahead===0)break}if(q.match_length=0,q.lookahead>=le&&q.strstart>0&&(ve=q.strstart-1,se=We[ve],se===We[++ve]&&se===We[++ve]&&se===We[++ve])){Oe=q.strstart+ae;do;while(se===We[++ve]&&se===We[++ve]&&se===We[++ve]&&se===We[++ve]&&se===We[++ve]&&se===We[++ve]&&se===We[++ve]&&se===We[++ve]&&ve<Oe);q.match_length=ae-(Oe-ve),q.match_length>q.lookahead&&(q.match_length=q.lookahead)}if(q.match_length>=le?(Pe=e._tr_tally(q,1,q.match_length-le),q.lookahead-=q.match_length,q.strstart+=q.match_length,q.match_length=0):(Pe=e._tr_tally(q,0,q.window[q.strstart]),q.lookahead--,q.strstart++),Pe&&(pe(q,!1),q.strm.avail_out===0))return k}return q.insert=0,Se===f?(pe(q,!0),q.strm.avail_out===0?te:E):q.last_lit&&(pe(q,!1),q.strm.avail_out===0)?k:G}function je(q,Se){for(var Pe;;){if(q.lookahead===0&&(Te(q),q.lookahead===0)){if(Se===i)return k;break}if(q.match_length=0,Pe=e._tr_tally(q,0,q.window[q.strstart]),q.lookahead--,q.strstart++,Pe&&(pe(q,!1),q.strm.avail_out===0))return k}return q.insert=0,Se===f?(pe(q,!0),q.strm.avail_out===0?te:E):q.last_lit&&(pe(q,!1),q.strm.avail_out===0)?k:G}function Me(q,Se,Pe,se,ve){this.good_length=q,this.max_lazy=Se,this.nice_length=Pe,this.max_chain=se,this.func=ve}var ze;ze=[new Me(0,0,0,0,Ue),new Me(4,4,8,4,_e),new Me(4,5,16,8,_e),new Me(4,6,32,32,_e),new Me(4,4,16,16,Ee),new Me(8,16,32,32,Ee),new Me(8,16,128,128,Ee),new Me(8,32,128,256,Ee),new Me(32,128,258,1024,Ee),new Me(32,258,258,4096,Ee)];function ee(q){q.window_size=2*q.w_size,Y(q.head),q.max_lazy_match=ze[q.level].max_lazy,q.good_match=ze[q.level].good_length,q.nice_match=ze[q.level].nice_length,q.max_chain_length=ze[q.level].max_chain,q.strstart=0,q.block_start=0,q.lookahead=0,q.insert=0,q.match_length=q.prev_length=le-1,q.match_available=0,q.ins_h=0}function x(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=I,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new t.Buf16(oe*2),this.dyn_dtree=new t.Buf16((2*F+1)*2),this.bl_tree=new t.Buf16((2*X+1)*2),Y(this.dyn_ltree),Y(this.dyn_dtree),Y(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new t.Buf16(J+1),this.heap=new t.Buf16(2*R+1),Y(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new t.Buf16(2*R+1),Y(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function $(q){var Se;return!q||!q.state?T(q,c):(q.total_in=q.total_out=0,q.data_type=S,Se=q.state,Se.pending=0,Se.pending_out=0,Se.wrap<0&&(Se.wrap=-Se.wrap),Se.status=Se.wrap?de:A,q.adler=Se.wrap===2?0:1,Se.last_flush=i,e._tr_init(Se),l)}function ie(q){var Se=$(q);return Se===l&&ee(q.state),Se}function ye(q,Se){return!q||!q.state||q.state.wrap!==2?c:(q.state.gzhead=Se,l)}function V(q,Se,Pe,se,ve,Oe){if(!q)return c;var We=1;if(Se===_&&(Se=6),se<0?(We=0,se=-se):se>15&&(We=2,se-=16),ve<1||ve>O||Pe!==I||se<8||se>15||Se<0||Se>9||Oe<0||Oe>g)return T(q,c);se===8&&(se=9);var ue=new x;return q.state=ue,ue.strm=q,ue.wrap=We,ue.gzhead=null,ue.w_bits=se,ue.w_size=1<<ue.w_bits,ue.w_mask=ue.w_size-1,ue.hash_bits=ve+7,ue.hash_size=1<<ue.hash_bits,ue.hash_mask=ue.hash_size-1,ue.hash_shift=~~((ue.hash_bits+le-1)/le),ue.window=new t.Buf8(ue.w_size*2),ue.head=new t.Buf16(ue.hash_size),ue.prev=new t.Buf16(ue.w_size),ue.lit_bufsize=1<<ve+6,ue.pending_buf_size=ue.lit_bufsize*4,ue.pending_buf=new t.Buf8(ue.pending_buf_size),ue.d_buf=1*ue.lit_bufsize,ue.l_buf=3*ue.lit_bufsize,ue.level=Se,ue.strategy=Oe,ue.method=Pe,ie(q)}function re(q,Se){return V(q,Se,I,M,D,w)}function K(q,Se){var Pe,se,ve,Oe;if(!q||!q.state||Se>u||Se<0)return q?T(q,c):c;if(se=q.state,!q.output||!q.input&&q.avail_in!==0||se.status===P&&Se!==f)return T(q,q.avail_out===0?m:c);if(se.strm=q,Pe=se.last_flush,se.last_flush=Se,se.status===de)if(se.wrap===2)q.adler=0,we(se,31),we(se,139),we(se,8),se.gzhead?(we(se,(se.gzhead.text?1:0)+(se.gzhead.hcrc?2:0)+(se.gzhead.extra?4:0)+(se.gzhead.name?8:0)+(se.gzhead.comment?16:0)),we(se,se.gzhead.time&255),we(se,se.gzhead.time>>8&255),we(se,se.gzhead.time>>16&255),we(se,se.gzhead.time>>24&255),we(se,se.level===9?2:se.strategy>=y||se.level<2?4:0),we(se,se.gzhead.os&255),se.gzhead.extra&&se.gzhead.extra.length&&(we(se,se.gzhead.extra.length&255),we(se,se.gzhead.extra.length>>8&255)),se.gzhead.hcrc&&(q.adler=n(q.adler,se.pending_buf,se.pending,0)),se.gzindex=0,se.status=he):(we(se,0),we(se,0),we(se,0),we(se,0),we(se,0),we(se,se.level===9?2:se.strategy>=y||se.level<2?4:0),we(se,v),se.status=A);else{var We=I+(se.w_bits-8<<4)<<8,ue=-1;se.strategy>=y||se.level<2?ue=0:se.level<6?ue=1:se.level===6?ue=2:ue=3,We|=ue<<6,se.strstart!==0&&(We|=H),We+=31-We%31,se.status=A,fe(se,We),se.strstart!==0&&(fe(se,q.adler>>>16),fe(se,q.adler&65535)),q.adler=1}if(se.status===he)if(se.gzhead.extra){for(ve=se.pending;se.gzindex<(se.gzhead.extra.length&65535)&&!(se.pending===se.pending_buf_size&&(se.gzhead.hcrc&&se.pending>ve&&(q.adler=n(q.adler,se.pending_buf,se.pending-ve,ve)),ne(q),ve=se.pending,se.pending===se.pending_buf_size));)we(se,se.gzhead.extra[se.gzindex]&255),se.gzindex++;se.gzhead.hcrc&&se.pending>ve&&(q.adler=n(q.adler,se.pending_buf,se.pending-ve,ve)),se.gzindex===se.gzhead.extra.length&&(se.gzindex=0,se.status=W)}else se.status=W;if(se.status===W)if(se.gzhead.name){ve=se.pending;do{if(se.pending===se.pending_buf_size&&(se.gzhead.hcrc&&se.pending>ve&&(q.adler=n(q.adler,se.pending_buf,se.pending-ve,ve)),ne(q),ve=se.pending,se.pending===se.pending_buf_size)){Oe=1;break}se.gzindex<se.gzhead.name.length?Oe=se.gzhead.name.charCodeAt(se.gzindex++)&255:Oe=0,we(se,Oe)}while(Oe!==0);se.gzhead.hcrc&&se.pending>ve&&(q.adler=n(q.adler,se.pending_buf,se.pending-ve,ve)),Oe===0&&(se.gzindex=0,se.status=z)}else se.status=z;if(se.status===z)if(se.gzhead.comment){ve=se.pending;do{if(se.pending===se.pending_buf_size&&(se.gzhead.hcrc&&se.pending>ve&&(q.adler=n(q.adler,se.pending_buf,se.pending-ve,ve)),ne(q),ve=se.pending,se.pending===se.pending_buf_size)){Oe=1;break}se.gzindex<se.gzhead.comment.length?Oe=se.gzhead.comment.charCodeAt(se.gzindex++)&255:Oe=0,we(se,Oe)}while(Oe!==0);se.gzhead.hcrc&&se.pending>ve&&(q.adler=n(q.adler,se.pending_buf,se.pending-ve,ve)),Oe===0&&(se.status=Q)}else se.status=Q;if(se.status===Q&&(se.gzhead.hcrc?(se.pending+2>se.pending_buf_size&&ne(q),se.pending+2<=se.pending_buf_size&&(we(se,q.adler&255),we(se,q.adler>>8&255),q.adler=0,se.status=A)):se.status=A),se.pending!==0){if(ne(q),q.avail_out===0)return se.last_flush=-1,l}else if(q.avail_in===0&&L(Se)<=L(Pe)&&Se!==f)return T(q,m);if(se.status===P&&q.avail_in!==0)return T(q,m);if(q.avail_in!==0||se.lookahead!==0||Se!==i&&se.status!==P){var B=se.strategy===y?je(se,Se):se.strategy===p?Fe(se,Se):ze[se.level].func(se,Se);if((B===te||B===E)&&(se.status=P),B===k||B===te)return q.avail_out===0&&(se.last_flush=-1),l;if(B===G&&(Se===s?e._tr_align(se):Se!==u&&(e._tr_stored_block(se,0,0,!1),Se===o&&(Y(se.head),se.lookahead===0&&(se.strstart=0,se.block_start=0,se.insert=0))),ne(q),q.avail_out===0))return se.last_flush=-1,l}return Se!==f?l:se.wrap<=0?d:(se.wrap===2?(we(se,q.adler&255),we(se,q.adler>>8&255),we(se,q.adler>>16&255),we(se,q.adler>>24&255),we(se,q.total_in&255),we(se,q.total_in>>8&255),we(se,q.total_in>>16&255),we(se,q.total_in>>24&255)):(fe(se,q.adler>>>16),fe(se,q.adler&65535)),ne(q),se.wrap>0&&(se.wrap=-se.wrap),se.pending!==0?l:d)}function De(q){var Se;return!q||!q.state?c:(Se=q.state.status,Se!==de&&Se!==he&&Se!==W&&Se!==z&&Se!==Q&&Se!==A&&Se!==P?T(q,c):(q.state=null,Se===A?T(q,h):l))}function qe(q,Se){var Pe=Se.length,se,ve,Oe,We,ue,B,j,U;if(!q||!q.state||(se=q.state,We=se.wrap,We===2||We===1&&se.status!==de||se.lookahead))return c;for(We===1&&(q.adler=r(q.adler,Se,Pe,0)),se.wrap=0,Pe>=se.w_size&&(We===0&&(Y(se.head),se.strstart=0,se.block_start=0,se.insert=0),U=new t.Buf8(se.w_size),t.arraySet(U,Se,Pe-se.w_size,se.w_size,0),Se=U,Pe=se.w_size),ue=q.avail_in,B=q.next_in,j=q.input,q.avail_in=Pe,q.next_in=0,q.input=Se,Te(se);se.lookahead>=le;){ve=se.strstart,Oe=se.lookahead-(le-1);do se.ins_h=(se.ins_h<<se.hash_shift^se.window[ve+le-1])&se.hash_mask,se.prev[ve&se.w_mask]=se.head[se.ins_h],se.head[se.ins_h]=ve,ve++;while(--Oe);se.strstart=ve,se.lookahead=le-1,Te(se)}return se.strstart+=se.lookahead,se.block_start=se.strstart,se.insert=se.lookahead,se.lookahead=0,se.match_length=se.prev_length=le-1,se.match_available=0,q.next_in=B,q.input=j,q.avail_in=ue,se.wrap=We,l}return xr.deflateInit=re,xr.deflateInit2=V,xr.deflateReset=ie,xr.deflateResetKeep=$,xr.deflateSetHeader=ye,xr.deflate=K,xr.deflateEnd=De,xr.deflateSetDictionary=qe,xr.deflateInfo="pako deflate (from Nodeca project)",xr}var hr={},$p,eS;function FD(){if(eS)return $p;eS=1;var t=30,e=12;return $p=function(n,a){var i,s,o,f,u,l,d,c,h,m,_,b,y,p,g,w,S,I,O,M,D,N,C,R,F;i=n.state,s=n.next_in,R=n.input,o=s+(n.avail_in-5),f=n.next_out,F=n.output,u=f-(a-n.avail_out),l=f+(n.avail_out-257),d=i.dmax,c=i.wsize,h=i.whave,m=i.wnext,_=i.window,b=i.hold,y=i.bits,p=i.lencode,g=i.distcode,w=(1<<i.lenbits)-1,S=(1<<i.distbits)-1;e:do{y<15&&(b+=R[s++]<<y,y+=8,b+=R[s++]<<y,y+=8),I=p[b&w];t:for(;;){if(O=I>>>24,b>>>=O,y-=O,O=I>>>16&255,O===0)F[f++]=I&65535;else if(O&16){M=I&65535,O&=15,O&&(y<O&&(b+=R[s++]<<y,y+=8),M+=b&(1<<O)-1,b>>>=O,y-=O),y<15&&(b+=R[s++]<<y,y+=8,b+=R[s++]<<y,y+=8),I=g[b&S];r:for(;;){if(O=I>>>24,b>>>=O,y-=O,O=I>>>16&255,O&16){if(D=I&65535,O&=15,y<O&&(b+=R[s++]<<y,y+=8,y<O&&(b+=R[s++]<<y,y+=8)),D+=b&(1<<O)-1,D>d){n.msg="invalid distance too far back",i.mode=t;break e}if(b>>>=O,y-=O,O=f-u,D>O){if(O=D-O,O>h&&i.sane){n.msg="invalid distance too far back",i.mode=t;break e}if(N=0,C=_,m===0){if(N+=c-O,O<M){M-=O;do F[f++]=_[N++];while(--O);N=f-D,C=F}}else if(m<O){if(N+=c+m-O,O-=m,O<M){M-=O;do F[f++]=_[N++];while(--O);if(N=0,m<M){O=m,M-=O;do F[f++]=_[N++];while(--O);N=f-D,C=F}}}else if(N+=m-O,O<M){M-=O;do F[f++]=_[N++];while(--O);N=f-D,C=F}for(;M>2;)F[f++]=C[N++],F[f++]=C[N++],F[f++]=C[N++],M-=3;M&&(F[f++]=C[N++],M>1&&(F[f++]=C[N++]))}else{N=f-D;do F[f++]=F[N++],F[f++]=F[N++],F[f++]=F[N++],M-=3;while(M>2);M&&(F[f++]=F[N++],M>1&&(F[f++]=F[N++]))}}else if(O&64){n.msg="invalid distance code",i.mode=t;break e}else{I=g[(I&65535)+(b&(1<<O)-1)];continue r}break}}else if(O&64)if(O&32){i.mode=e;break e}else{n.msg="invalid literal/length code",i.mode=t;break e}else{I=p[(I&65535)+(b&(1<<O)-1)];continue t}break}}while(s<o&&f<l);M=y>>3,s-=M,y-=M<<3,b&=(1<<y)-1,n.next_in=s,n.next_out=f,n.avail_in=s<o?5+(o-s):5-(s-o),n.avail_out=f<l?257+(l-f):257-(f-l),i.hold=b,i.bits=y},$p}var Up,tS;function MD(){if(tS)return Up;tS=1;var t=Zf(),e=15,r=852,n=592,a=0,i=1,s=2,o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],f=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],l=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];return Up=function(c,h,m,_,b,y,p,g){var w=g.bits,S=0,I=0,O=0,M=0,D=0,N=0,C=0,R=0,F=0,X=0,oe,J,le,ae,Z,H=null,de=0,he,W=new t.Buf16(e+1),z=new t.Buf16(e+1),Q=null,A=0,P,k,G;for(S=0;S<=e;S++)W[S]=0;for(I=0;I<_;I++)W[h[m+I]]++;for(D=w,M=e;M>=1&&W[M]===0;M--);if(D>M&&(D=M),M===0)return b[y++]=1<<24|64<<16|0,b[y++]=1<<24|64<<16|0,g.bits=1,0;for(O=1;O<M&&W[O]===0;O++);for(D<O&&(D=O),R=1,S=1;S<=e;S++)if(R<<=1,R-=W[S],R<0)return-1;if(R>0&&(c===a||M!==1))return-1;for(z[1]=0,S=1;S<e;S++)z[S+1]=z[S]+W[S];for(I=0;I<_;I++)h[m+I]!==0&&(p[z[h[m+I]]++]=I);if(c===a?(H=Q=p,he=19):c===i?(H=o,de-=257,Q=f,A-=257,he=256):(H=u,Q=l,he=-1),X=0,I=0,S=O,Z=y,N=D,C=0,le=-1,F=1<<D,ae=F-1,c===i&&F>r||c===s&&F>n)return 1;for(;;){P=S-C,p[I]<he?(k=0,G=p[I]):p[I]>he?(k=Q[A+p[I]],G=H[de+p[I]]):(k=96,G=0),oe=1<<S-C,J=1<<N,O=J;do J-=oe,b[Z+(X>>C)+J]=P<<24|k<<16|G|0;while(J!==0);for(oe=1<<S-1;X&oe;)oe>>=1;if(oe!==0?(X&=oe-1,X+=oe):X=0,I++,--W[S]===0){if(S===M)break;S=h[m+p[I]]}if(S>D&&(X&ae)!==le){for(C===0&&(C=D),Z+=O,N=S-C,R=1<<N;N+C<M&&(R-=W[N+C],!(R<=0));)N++,R<<=1;if(F+=1<<N,c===i&&F>r||c===s&&F>n)return 1;le=X&ae,b[le]=D<<24|N<<16|Z-y|0}}return X!==0&&(b[Z+X]=S-C<<24|64<<16|0),g.bits=D,0},Up}var rS;function jD(){if(rS)return hr;rS=1;var t=Zf(),e=QE(),r=ZE(),n=FD(),a=MD(),i=0,s=1,o=2,f=4,u=5,l=6,d=0,c=1,h=2,m=-2,_=-3,b=-4,y=-5,p=8,g=1,w=2,S=3,I=4,O=5,M=6,D=7,N=8,C=9,R=10,F=11,X=12,oe=13,J=14,le=15,ae=16,Z=17,H=18,de=19,he=20,W=21,z=22,Q=23,A=24,P=25,k=26,G=27,te=28,E=29,v=30,T=31,L=32,Y=852,ne=592,pe=15,we=pe;function fe(V){return(V>>>24&255)+(V>>>8&65280)+((V&65280)<<8)+((V&255)<<24)}function Re(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new t.Buf16(320),this.work=new t.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Le(V){var re;return!V||!V.state?m:(re=V.state,V.total_in=V.total_out=re.total=0,V.msg="",re.wrap&&(V.adler=re.wrap&1),re.mode=g,re.last=0,re.havedict=0,re.dmax=32768,re.head=null,re.hold=0,re.bits=0,re.lencode=re.lendyn=new t.Buf32(Y),re.distcode=re.distdyn=new t.Buf32(ne),re.sane=1,re.back=-1,d)}function Te(V){var re;return!V||!V.state?m:(re=V.state,re.wsize=0,re.whave=0,re.wnext=0,Le(V))}function Ue(V,re){var K,De;return!V||!V.state||(De=V.state,re<0?(K=0,re=-re):(K=(re>>4)+1,re<48&&(re&=15)),re&&(re<8||re>15))?m:(De.window!==null&&De.wbits!==re&&(De.window=null),De.wrap=K,De.wbits=re,Te(V))}function _e(V,re){var K,De;return V?(De=new Re,V.state=De,De.window=null,K=Ue(V,re),K!==d&&(V.state=null),K):m}function Ee(V){return _e(V,we)}var Fe=!0,je,Me;function ze(V){if(Fe){var re;for(je=new t.Buf32(512),Me=new t.Buf32(32),re=0;re<144;)V.lens[re++]=8;for(;re<256;)V.lens[re++]=9;for(;re<280;)V.lens[re++]=7;for(;re<288;)V.lens[re++]=8;for(a(s,V.lens,0,288,je,0,V.work,{bits:9}),re=0;re<32;)V.lens[re++]=5;a(o,V.lens,0,32,Me,0,V.work,{bits:5}),Fe=!1}V.lencode=je,V.lenbits=9,V.distcode=Me,V.distbits=5}function ee(V,re,K,De){var qe,q=V.state;return q.window===null&&(q.wsize=1<<q.wbits,q.wnext=0,q.whave=0,q.window=new t.Buf8(q.wsize)),De>=q.wsize?(t.arraySet(q.window,re,K-q.wsize,q.wsize,0),q.wnext=0,q.whave=q.wsize):(qe=q.wsize-q.wnext,qe>De&&(qe=De),t.arraySet(q.window,re,K-De,qe,q.wnext),De-=qe,De?(t.arraySet(q.window,re,K-De,De,0),q.wnext=De,q.whave=q.wsize):(q.wnext+=qe,q.wnext===q.wsize&&(q.wnext=0),q.whave<q.wsize&&(q.whave+=qe))),0}function x(V,re){var K,De,qe,q,Se,Pe,se,ve,Oe,We,ue,B,j,U,ce=0,me,be,Ie,Ce,He,Ve,Ke,Ge,Be=new t.Buf8(4),St,ke,ge=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!V||!V.state||!V.output||!V.input&&V.avail_in!==0)return m;K=V.state,K.mode===X&&(K.mode=oe),Se=V.next_out,qe=V.output,se=V.avail_out,q=V.next_in,De=V.input,Pe=V.avail_in,ve=K.hold,Oe=K.bits,We=Pe,ue=se,Ge=d;e:for(;;)switch(K.mode){case g:if(K.wrap===0){K.mode=oe;break}for(;Oe<16;){if(Pe===0)break e;Pe--,ve+=De[q++]<<Oe,Oe+=8}if(K.wrap&2&&ve===35615){K.check=0,Be[0]=ve&255,Be[1]=ve>>>8&255,K.check=r(K.check,Be,2,0),ve=0,Oe=0,K.mode=w;break}if(K.flags=0,K.head&&(K.head.done=!1),!(K.wrap&1)||(((ve&255)<<8)+(ve>>8))%31){V.msg="incorrect header check",K.mode=v;break}if((ve&15)!==p){V.msg="unknown compression method",K.mode=v;break}if(ve>>>=4,Oe-=4,Ke=(ve&15)+8,K.wbits===0)K.wbits=Ke;else if(Ke>K.wbits){V.msg="invalid window size",K.mode=v;break}K.dmax=1<<Ke,V.adler=K.check=1,K.mode=ve&512?R:X,ve=0,Oe=0;break;case w:for(;Oe<16;){if(Pe===0)break e;Pe--,ve+=De[q++]<<Oe,Oe+=8}if(K.flags=ve,(K.flags&255)!==p){V.msg="unknown compression method",K.mode=v;break}if(K.flags&57344){V.msg="unknown header flags set",K.mode=v;break}K.head&&(K.head.text=ve>>8&1),K.flags&512&&(Be[0]=ve&255,Be[1]=ve>>>8&255,K.check=r(K.check,Be,2,0)),ve=0,Oe=0,K.mode=S;case S:for(;Oe<32;){if(Pe===0)break e;Pe--,ve+=De[q++]<<Oe,Oe+=8}K.head&&(K.head.time=ve),K.flags&512&&(Be[0]=ve&255,Be[1]=ve>>>8&255,Be[2]=ve>>>16&255,Be[3]=ve>>>24&255,K.check=r(K.check,Be,4,0)),ve=0,Oe=0,K.mode=I;case I:for(;Oe<16;){if(Pe===0)break e;Pe--,ve+=De[q++]<<Oe,Oe+=8}K.head&&(K.head.xflags=ve&255,K.head.os=ve>>8),K.flags&512&&(Be[0]=ve&255,Be[1]=ve>>>8&255,K.check=r(K.check,Be,2,0)),ve=0,Oe=0,K.mode=O;case O:if(K.flags&1024){for(;Oe<16;){if(Pe===0)break e;Pe--,ve+=De[q++]<<Oe,Oe+=8}K.length=ve,K.head&&(K.head.extra_len=ve),K.flags&512&&(Be[0]=ve&255,Be[1]=ve>>>8&255,K.check=r(K.check,Be,2,0)),ve=0,Oe=0}else K.head&&(K.head.extra=null);K.mode=M;case M:if(K.flags&1024&&(B=K.length,B>Pe&&(B=Pe),B&&(K.head&&(Ke=K.head.extra_len-K.length,K.head.extra||(K.head.extra=new Array(K.head.extra_len)),t.arraySet(K.head.extra,De,q,B,Ke)),K.flags&512&&(K.check=r(K.check,De,B,q)),Pe-=B,q+=B,K.length-=B),K.length))break e;K.length=0,K.mode=D;case D:if(K.flags&2048){if(Pe===0)break e;B=0;do Ke=De[q+B++],K.head&&Ke&&K.length<65536&&(K.head.name+=String.fromCharCode(Ke));while(Ke&&B<Pe);if(K.flags&512&&(K.check=r(K.check,De,B,q)),Pe-=B,q+=B,Ke)break e}else K.head&&(K.head.name=null);K.length=0,K.mode=N;case N:if(K.flags&4096){if(Pe===0)break e;B=0;do Ke=De[q+B++],K.head&&Ke&&K.length<65536&&(K.head.comment+=String.fromCharCode(Ke));while(Ke&&B<Pe);if(K.flags&512&&(K.check=r(K.check,De,B,q)),Pe-=B,q+=B,Ke)break e}else K.head&&(K.head.comment=null);K.mode=C;case C:if(K.flags&512){for(;Oe<16;){if(Pe===0)break e;Pe--,ve+=De[q++]<<Oe,Oe+=8}if(ve!==(K.check&65535)){V.msg="header crc mismatch",K.mode=v;break}ve=0,Oe=0}K.head&&(K.head.hcrc=K.flags>>9&1,K.head.done=!0),V.adler=K.check=0,K.mode=X;break;case R:for(;Oe<32;){if(Pe===0)break e;Pe--,ve+=De[q++]<<Oe,Oe+=8}V.adler=K.check=fe(ve),ve=0,Oe=0,K.mode=F;case F:if(K.havedict===0)return V.next_out=Se,V.avail_out=se,V.next_in=q,V.avail_in=Pe,K.hold=ve,K.bits=Oe,h;V.adler=K.check=1,K.mode=X;case X:if(re===u||re===l)break e;case oe:if(K.last){ve>>>=Oe&7,Oe-=Oe&7,K.mode=G;break}for(;Oe<3;){if(Pe===0)break e;Pe--,ve+=De[q++]<<Oe,Oe+=8}switch(K.last=ve&1,ve>>>=1,Oe-=1,ve&3){case 0:K.mode=J;break;case 1:if(ze(K),K.mode=he,re===l){ve>>>=2,Oe-=2;break e}break;case 2:K.mode=Z;break;case 3:V.msg="invalid block type",K.mode=v}ve>>>=2,Oe-=2;break;case J:for(ve>>>=Oe&7,Oe-=Oe&7;Oe<32;){if(Pe===0)break e;Pe--,ve+=De[q++]<<Oe,Oe+=8}if((ve&65535)!==(ve>>>16^65535)){V.msg="invalid stored block lengths",K.mode=v;break}if(K.length=ve&65535,ve=0,Oe=0,K.mode=le,re===l)break e;case le:K.mode=ae;case ae:if(B=K.length,B){if(B>Pe&&(B=Pe),B>se&&(B=se),B===0)break e;t.arraySet(qe,De,q,B,Se),Pe-=B,q+=B,se-=B,Se+=B,K.length-=B;break}K.mode=X;break;case Z:for(;Oe<14;){if(Pe===0)break e;Pe--,ve+=De[q++]<<Oe,Oe+=8}if(K.nlen=(ve&31)+257,ve>>>=5,Oe-=5,K.ndist=(ve&31)+1,ve>>>=5,Oe-=5,K.ncode=(ve&15)+4,ve>>>=4,Oe-=4,K.nlen>286||K.ndist>30){V.msg="too many length or distance symbols",K.mode=v;break}K.have=0,K.mode=H;case H:for(;K.have<K.ncode;){for(;Oe<3;){if(Pe===0)break e;Pe--,ve+=De[q++]<<Oe,Oe+=8}K.lens[ge[K.have++]]=ve&7,ve>>>=3,Oe-=3}for(;K.have<19;)K.lens[ge[K.have++]]=0;if(K.lencode=K.lendyn,K.lenbits=7,St={bits:K.lenbits},Ge=a(i,K.lens,0,19,K.lencode,0,K.work,St),K.lenbits=St.bits,Ge){V.msg="invalid code lengths set",K.mode=v;break}K.have=0,K.mode=de;case de:for(;K.have<K.nlen+K.ndist;){for(;ce=K.lencode[ve&(1<<K.lenbits)-1],me=ce>>>24,be=ce>>>16&255,Ie=ce&65535,!(me<=Oe);){if(Pe===0)break e;Pe--,ve+=De[q++]<<Oe,Oe+=8}if(Ie<16)ve>>>=me,Oe-=me,K.lens[K.have++]=Ie;else{if(Ie===16){for(ke=me+2;Oe<ke;){if(Pe===0)break e;Pe--,ve+=De[q++]<<Oe,Oe+=8}if(ve>>>=me,Oe-=me,K.have===0){V.msg="invalid bit length repeat",K.mode=v;break}Ke=K.lens[K.have-1],B=3+(ve&3),ve>>>=2,Oe-=2}else if(Ie===17){for(ke=me+3;Oe<ke;){if(Pe===0)break e;Pe--,ve+=De[q++]<<Oe,Oe+=8}ve>>>=me,Oe-=me,Ke=0,B=3+(ve&7),ve>>>=3,Oe-=3}else{for(ke=me+7;Oe<ke;){if(Pe===0)break e;Pe--,ve+=De[q++]<<Oe,Oe+=8}ve>>>=me,Oe-=me,Ke=0,B=11+(ve&127),ve>>>=7,Oe-=7}if(K.have+B>K.nlen+K.ndist){V.msg="invalid bit length repeat",K.mode=v;break}for(;B--;)K.lens[K.have++]=Ke}}if(K.mode===v)break;if(K.lens[256]===0){V.msg="invalid code -- missing end-of-block",K.mode=v;break}if(K.lenbits=9,St={bits:K.lenbits},Ge=a(s,K.lens,0,K.nlen,K.lencode,0,K.work,St),K.lenbits=St.bits,Ge){V.msg="invalid literal/lengths set",K.mode=v;break}if(K.distbits=6,K.distcode=K.distdyn,St={bits:K.distbits},Ge=a(o,K.lens,K.nlen,K.ndist,K.distcode,0,K.work,St),K.distbits=St.bits,Ge){V.msg="invalid distances set",K.mode=v;break}if(K.mode=he,re===l)break e;case he:K.mode=W;case W:if(Pe>=6&&se>=258){V.next_out=Se,V.avail_out=se,V.next_in=q,V.avail_in=Pe,K.hold=ve,K.bits=Oe,n(V,ue),Se=V.next_out,qe=V.output,se=V.avail_out,q=V.next_in,De=V.input,Pe=V.avail_in,ve=K.hold,Oe=K.bits,K.mode===X&&(K.back=-1);break}for(K.back=0;ce=K.lencode[ve&(1<<K.lenbits)-1],me=ce>>>24,be=ce>>>16&255,Ie=ce&65535,!(me<=Oe);){if(Pe===0)break e;Pe--,ve+=De[q++]<<Oe,Oe+=8}if(be&&!(be&240)){for(Ce=me,He=be,Ve=Ie;ce=K.lencode[Ve+((ve&(1<<Ce+He)-1)>>Ce)],me=ce>>>24,be=ce>>>16&255,Ie=ce&65535,!(Ce+me<=Oe);){if(Pe===0)break e;Pe--,ve+=De[q++]<<Oe,Oe+=8}ve>>>=Ce,Oe-=Ce,K.back+=Ce}if(ve>>>=me,Oe-=me,K.back+=me,K.length=Ie,be===0){K.mode=k;break}if(be&32){K.back=-1,K.mode=X;break}if(be&64){V.msg="invalid literal/length code",K.mode=v;break}K.extra=be&15,K.mode=z;case z:if(K.extra){for(ke=K.extra;Oe<ke;){if(Pe===0)break e;Pe--,ve+=De[q++]<<Oe,Oe+=8}K.length+=ve&(1<<K.extra)-1,ve>>>=K.extra,Oe-=K.extra,K.back+=K.extra}K.was=K.length,K.mode=Q;case Q:for(;ce=K.distcode[ve&(1<<K.distbits)-1],me=ce>>>24,be=ce>>>16&255,Ie=ce&65535,!(me<=Oe);){if(Pe===0)break e;Pe--,ve+=De[q++]<<Oe,Oe+=8}if(!(be&240)){for(Ce=me,He=be,Ve=Ie;ce=K.distcode[Ve+((ve&(1<<Ce+He)-1)>>Ce)],me=ce>>>24,be=ce>>>16&255,Ie=ce&65535,!(Ce+me<=Oe);){if(Pe===0)break e;Pe--,ve+=De[q++]<<Oe,Oe+=8}ve>>>=Ce,Oe-=Ce,K.back+=Ce}if(ve>>>=me,Oe-=me,K.back+=me,be&64){V.msg="invalid distance code",K.mode=v;break}K.offset=Ie,K.extra=be&15,K.mode=A;case A:if(K.extra){for(ke=K.extra;Oe<ke;){if(Pe===0)break e;Pe--,ve+=De[q++]<<Oe,Oe+=8}K.offset+=ve&(1<<K.extra)-1,ve>>>=K.extra,Oe-=K.extra,K.back+=K.extra}if(K.offset>K.dmax){V.msg="invalid distance too far back",K.mode=v;break}K.mode=P;case P:if(se===0)break e;if(B=ue-se,K.offset>B){if(B=K.offset-B,B>K.whave&&K.sane){V.msg="invalid distance too far back",K.mode=v;break}B>K.wnext?(B-=K.wnext,j=K.wsize-B):j=K.wnext-B,B>K.length&&(B=K.length),U=K.window}else U=qe,j=Se-K.offset,B=K.length;B>se&&(B=se),se-=B,K.length-=B;do qe[Se++]=U[j++];while(--B);K.length===0&&(K.mode=W);break;case k:if(se===0)break e;qe[Se++]=K.length,se--,K.mode=W;break;case G:if(K.wrap){for(;Oe<32;){if(Pe===0)break e;Pe--,ve|=De[q++]<<Oe,Oe+=8}if(ue-=se,V.total_out+=ue,K.total+=ue,ue&&(V.adler=K.check=K.flags?r(K.check,qe,ue,Se-ue):e(K.check,qe,ue,Se-ue)),ue=se,(K.flags?ve:fe(ve))!==K.check){V.msg="incorrect data check",K.mode=v;break}ve=0,Oe=0}K.mode=te;case te:if(K.wrap&&K.flags){for(;Oe<32;){if(Pe===0)break e;Pe--,ve+=De[q++]<<Oe,Oe+=8}if(ve!==(K.total&4294967295)){V.msg="incorrect length check",K.mode=v;break}ve=0,Oe=0}K.mode=E;case E:Ge=c;break e;case v:Ge=_;break e;case T:return b;case L:default:return m}return V.next_out=Se,V.avail_out=se,V.next_in=q,V.avail_in=Pe,K.hold=ve,K.bits=Oe,(K.wsize||ue!==V.avail_out&&K.mode<v&&(K.mode<G||re!==f))&&ee(V,V.output,V.next_out,ue-V.avail_out),We-=V.avail_in,ue-=V.avail_out,V.total_in+=We,V.total_out+=ue,K.total+=ue,K.wrap&&ue&&(V.adler=K.check=K.flags?r(K.check,qe,ue,V.next_out-ue):e(K.check,qe,ue,V.next_out-ue)),V.data_type=K.bits+(K.last?64:0)+(K.mode===X?128:0)+(K.mode===he||K.mode===le?256:0),(We===0&&ue===0||re===f)&&Ge===d&&(Ge=y),Ge}function $(V){if(!V||!V.state)return m;var re=V.state;return re.window&&(re.window=null),V.state=null,d}function ie(V,re){var K;return!V||!V.state||(K=V.state,!(K.wrap&2))?m:(K.head=re,re.done=!1,d)}function ye(V,re){var K=re.length,De,qe,q;return!V||!V.state||(De=V.state,De.wrap!==0&&De.mode!==F)?m:De.mode===F&&(qe=1,qe=e(qe,re,K,0),qe!==De.check)?_:(q=ee(V,re,K,K),q?(De.mode=T,b):(De.havedict=1,d))}return hr.inflateReset=Te,hr.inflateReset2=Ue,hr.inflateResetKeep=Le,hr.inflateInit=Ee,hr.inflateInit2=_e,hr.inflate=x,hr.inflateEnd=$,hr.inflateGetHeader=ie,hr.inflateSetDictionary=ye,hr.inflateInfo="pako inflate (from Nodeca project)",hr}var Hp,nS;function qD(){return nS||(nS=1,Hp={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}),Hp}var iS;function BD(){return iS||(iS=1,function(t){var e=Xf(),r=PD(),n=LD(),a=jD(),i=qD();for(var s in i)t[s]=i[s];t.NONE=0,t.DEFLATE=1,t.INFLATE=2,t.GZIP=3,t.GUNZIP=4,t.DEFLATERAW=5,t.INFLATERAW=6,t.UNZIP=7;var o=31,f=139;function u(l){if(typeof l!="number"||l<t.DEFLATE||l>t.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=l,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}u.prototype.close=function(){if(this.write_in_progress){this.pending_close=!0;return}this.pending_close=!1,e(this.init_done,"close before init"),e(this.mode<=t.UNZIP),this.mode===t.DEFLATE||this.mode===t.GZIP||this.mode===t.DEFLATERAW?n.deflateEnd(this.strm):(this.mode===t.INFLATE||this.mode===t.GUNZIP||this.mode===t.INFLATERAW||this.mode===t.UNZIP)&&a.inflateEnd(this.strm),this.mode=t.NONE,this.dictionary=null},u.prototype.write=function(l,d,c,h,m,_,b){return this._write(!0,l,d,c,h,m,_,b)},u.prototype.writeSync=function(l,d,c,h,m,_,b){return this._write(!1,l,d,c,h,m,_,b)},u.prototype._write=function(l,d,c,h,m,_,b,y){if(e.equal(arguments.length,8),e(this.init_done,"write before init"),e(this.mode!==t.NONE,"already finalized"),e.equal(!1,this.write_in_progress,"write already in progress"),e.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,e.equal(!1,d===void 0,"must provide flush value"),this.write_in_progress=!0,d!==t.Z_NO_FLUSH&&d!==t.Z_PARTIAL_FLUSH&&d!==t.Z_SYNC_FLUSH&&d!==t.Z_FULL_FLUSH&&d!==t.Z_FINISH&&d!==t.Z_BLOCK)throw new Error("Invalid flush value");if(c==null&&(c=Zt.alloc(0),m=0,h=0),this.strm.avail_in=m,this.strm.input=c,this.strm.next_in=h,this.strm.avail_out=y,this.strm.output=_,this.strm.next_out=b,this.flush=d,!l)return this._process(),this._checkError()?this._afterSync():void 0;var p=this;return xe.nextTick(function(){p._process(),p._after()}),this},u.prototype._afterSync=function(){var l=this.strm.avail_out,d=this.strm.avail_in;return this.write_in_progress=!1,[d,l]},u.prototype._process=function(){var l=null;switch(this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=n.deflate(this.strm,this.flush);break;case t.UNZIP:switch(this.strm.avail_in>0&&(l=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(l===null)break;if(this.strm.input[l]===o){if(this.gzip_id_bytes_read=1,l++,this.strm.avail_in===1)break}else{this.mode=t.INFLATE;break}case 1:if(l===null)break;this.strm.input[l]===f?(this.gzip_id_bytes_read=2,this.mode=t.GUNZIP):this.mode=t.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:for(this.err=a.inflate(this.strm,this.flush),this.err===t.Z_NEED_DICT&&this.dictionary&&(this.err=a.inflateSetDictionary(this.strm,this.dictionary),this.err===t.Z_OK?this.err=a.inflate(this.strm,this.flush):this.err===t.Z_DATA_ERROR&&(this.err=t.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===t.GUNZIP&&this.err===t.Z_STREAM_END&&this.strm.next_in[0]!==0;)this.reset(),this.err=a.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},u.prototype._checkError=function(){switch(this.err){case t.Z_OK:case t.Z_BUF_ERROR:if(this.strm.avail_out!==0&&this.flush===t.Z_FINISH)return this._error("unexpected end of file"),!1;break;case t.Z_STREAM_END:break;case t.Z_NEED_DICT:return this.dictionary==null?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},u.prototype._after=function(){if(this._checkError()){var l=this.strm.avail_out,d=this.strm.avail_in;this.write_in_progress=!1,this.callback(d,l),this.pending_close&&this.close()}},u.prototype._error=function(l){this.strm.msg&&(l=this.strm.msg),this.onerror(l,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},u.prototype.init=function(l,d,c,h,m){e(arguments.length===4||arguments.length===5,"init(windowBits, level, memLevel, strategy, [dictionary])"),e(l>=8&&l<=15,"invalid windowBits"),e(d>=-1&&d<=9,"invalid compression level"),e(c>=1&&c<=9,"invalid memlevel"),e(h===t.Z_FILTERED||h===t.Z_HUFFMAN_ONLY||h===t.Z_RLE||h===t.Z_FIXED||h===t.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(d,l,c,h,m),this._setDictionary()},u.prototype.params=function(){throw new Error("deflateParams Not supported")},u.prototype.reset=function(){this._reset(),this._setDictionary()},u.prototype._init=function(l,d,c,h,m){switch(this.level=l,this.windowBits=d,this.memLevel=c,this.strategy=h,this.flush=t.Z_NO_FLUSH,this.err=t.Z_OK,(this.mode===t.GZIP||this.mode===t.GUNZIP)&&(this.windowBits+=16),this.mode===t.UNZIP&&(this.windowBits+=32),(this.mode===t.DEFLATERAW||this.mode===t.INFLATERAW)&&(this.windowBits=-1*this.windowBits),this.strm=new r,this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=n.deflateInit2(this.strm,this.level,t.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:case t.UNZIP:this.err=a.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==t.Z_OK&&this._error("Init error"),this.dictionary=m,this.write_in_progress=!1,this.init_done=!0},u.prototype._setDictionary=function(){if(this.dictionary!=null){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:this.err=n.deflateSetDictionary(this.strm,this.dictionary);break}this.err!==t.Z_OK&&this._error("Failed to set dictionary")}},u.prototype._reset=function(){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:case t.GZIP:this.err=n.deflateReset(this.strm);break;case t.INFLATE:case t.INFLATERAW:case t.GUNZIP:this.err=a.inflateReset(this.strm);break}this.err!==t.Z_OK&&this._error("Failed to reset stream")},t.Zlib=u}(yp)),yp}var aS;function kD(){return aS||(aS=1,function(t){var e=bt().Buffer,r=vD().Transform,n=BD(),a=wt(),i=Xf().ok,s=bt().kMaxLength,o="Cannot create final Buffer. It would be larger than 0x"+s.toString(16)+" bytes";n.Z_MIN_WINDOWBITS=8,n.Z_MAX_WINDOWBITS=15,n.Z_DEFAULT_WINDOWBITS=15,n.Z_MIN_CHUNK=64,n.Z_MAX_CHUNK=1/0,n.Z_DEFAULT_CHUNK=16*1024,n.Z_MIN_MEMLEVEL=1,n.Z_MAX_MEMLEVEL=9,n.Z_DEFAULT_MEMLEVEL=8,n.Z_MIN_LEVEL=-1,n.Z_MAX_LEVEL=9,n.Z_DEFAULT_LEVEL=n.Z_DEFAULT_COMPRESSION;for(var f=Object.keys(n),u=0;u<f.length;u++){var l=f[u];l.match(/^Z/)&&Object.defineProperty(t,l,{enumerable:!0,value:n[l],writable:!1})}for(var d={Z_OK:n.Z_OK,Z_STREAM_END:n.Z_STREAM_END,Z_NEED_DICT:n.Z_NEED_DICT,Z_ERRNO:n.Z_ERRNO,Z_STREAM_ERROR:n.Z_STREAM_ERROR,Z_DATA_ERROR:n.Z_DATA_ERROR,Z_MEM_ERROR:n.Z_MEM_ERROR,Z_BUF_ERROR:n.Z_BUF_ERROR,Z_VERSION_ERROR:n.Z_VERSION_ERROR},c=Object.keys(d),h=0;h<c.length;h++){var m=c[h];d[d[m]]=m}Object.defineProperty(t,"codes",{enumerable:!0,value:Object.freeze(d),writable:!1}),t.Deflate=y,t.Inflate=p,t.Gzip=g,t.Gunzip=w,t.DeflateRaw=S,t.InflateRaw=I,t.Unzip=O,t.createDeflate=function(R){return new y(R)},t.createInflate=function(R){return new p(R)},t.createDeflateRaw=function(R){return new S(R)},t.createInflateRaw=function(R){return new I(R)},t.createGzip=function(R){return new g(R)},t.createGunzip=function(R){return new w(R)},t.createUnzip=function(R){return new O(R)},t.deflate=function(R,F,X){return typeof F=="function"&&(X=F,F={}),_(new y(F),R,X)},t.deflateSync=function(R,F){return b(new y(F),R)},t.gzip=function(R,F,X){return typeof F=="function"&&(X=F,F={}),_(new g(F),R,X)},t.gzipSync=function(R,F){return b(new g(F),R)},t.deflateRaw=function(R,F,X){return typeof F=="function"&&(X=F,F={}),_(new S(F),R,X)},t.deflateRawSync=function(R,F){return b(new S(F),R)},t.unzip=function(R,F,X){return typeof F=="function"&&(X=F,F={}),_(new O(F),R,X)},t.unzipSync=function(R,F){return b(new O(F),R)},t.inflate=function(R,F,X){return typeof F=="function"&&(X=F,F={}),_(new p(F),R,X)},t.inflateSync=function(R,F){return b(new p(F),R)},t.gunzip=function(R,F,X){return typeof F=="function"&&(X=F,F={}),_(new w(F),R,X)},t.gunzipSync=function(R,F){return b(new w(F),R)},t.inflateRaw=function(R,F,X){return typeof F=="function"&&(X=F,F={}),_(new I(F),R,X)},t.inflateRawSync=function(R,F){return b(new I(F),R)};function _(R,F,X){var oe=[],J=0;R.on("error",ae),R.on("end",Z),R.end(F),le();function le(){for(var H;(H=R.read())!==null;)oe.push(H),J+=H.length;R.once("readable",le)}function ae(H){R.removeListener("end",Z),R.removeListener("readable",le),X(H)}function Z(){var H,de=null;J>=s?de=new RangeError(o):H=e.concat(oe,J),oe=[],R.close(),X(de,H)}}function b(R,F){if(typeof F=="string"&&(F=e.from(F)),!e.isBuffer(F))throw new TypeError("Not a string or buffer");var X=R._finishFlushFlag;return R._processChunk(F,X)}function y(R){if(!(this instanceof y))return new y(R);D.call(this,R,n.DEFLATE)}function p(R){if(!(this instanceof p))return new p(R);D.call(this,R,n.INFLATE)}function g(R){if(!(this instanceof g))return new g(R);D.call(this,R,n.GZIP)}function w(R){if(!(this instanceof w))return new w(R);D.call(this,R,n.GUNZIP)}function S(R){if(!(this instanceof S))return new S(R);D.call(this,R,n.DEFLATERAW)}function I(R){if(!(this instanceof I))return new I(R);D.call(this,R,n.INFLATERAW)}function O(R){if(!(this instanceof O))return new O(R);D.call(this,R,n.UNZIP)}function M(R){return R===n.Z_NO_FLUSH||R===n.Z_PARTIAL_FLUSH||R===n.Z_SYNC_FLUSH||R===n.Z_FULL_FLUSH||R===n.Z_FINISH||R===n.Z_BLOCK}function D(R,F){var X=this;if(this._opts=R=R||{},this._chunkSize=R.chunkSize||t.Z_DEFAULT_CHUNK,r.call(this,R),R.flush&&!M(R.flush))throw new Error("Invalid flush flag: "+R.flush);if(R.finishFlush&&!M(R.finishFlush))throw new Error("Invalid flush flag: "+R.finishFlush);if(this._flushFlag=R.flush||n.Z_NO_FLUSH,this._finishFlushFlag=typeof R.finishFlush<"u"?R.finishFlush:n.Z_FINISH,R.chunkSize&&(R.chunkSize<t.Z_MIN_CHUNK||R.chunkSize>t.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+R.chunkSize);if(R.windowBits&&(R.windowBits<t.Z_MIN_WINDOWBITS||R.windowBits>t.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+R.windowBits);if(R.level&&(R.level<t.Z_MIN_LEVEL||R.level>t.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+R.level);if(R.memLevel&&(R.memLevel<t.Z_MIN_MEMLEVEL||R.memLevel>t.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+R.memLevel);if(R.strategy&&R.strategy!=t.Z_FILTERED&&R.strategy!=t.Z_HUFFMAN_ONLY&&R.strategy!=t.Z_RLE&&R.strategy!=t.Z_FIXED&&R.strategy!=t.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+R.strategy);if(R.dictionary&&!e.isBuffer(R.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new n.Zlib(F);var oe=this;this._hadError=!1,this._handle.onerror=function(ae,Z){N(oe),oe._hadError=!0;var H=new Error(ae);H.errno=Z,H.code=t.codes[Z],oe.emit("error",H)};var J=t.Z_DEFAULT_COMPRESSION;typeof R.level=="number"&&(J=R.level);var le=t.Z_DEFAULT_STRATEGY;typeof R.strategy=="number"&&(le=R.strategy),this._handle.init(R.windowBits||t.Z_DEFAULT_WINDOWBITS,J,R.memLevel||t.Z_DEFAULT_MEMLEVEL,le,R.dictionary),this._buffer=e.allocUnsafe(this._chunkSize),this._offset=0,this._level=J,this._strategy=le,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!X._handle},configurable:!0,enumerable:!0})}a.inherits(D,r),D.prototype.params=function(R,F,X){if(R<t.Z_MIN_LEVEL||R>t.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+R);if(F!=t.Z_FILTERED&&F!=t.Z_HUFFMAN_ONLY&&F!=t.Z_RLE&&F!=t.Z_FIXED&&F!=t.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+F);if(this._level!==R||this._strategy!==F){var oe=this;this.flush(n.Z_SYNC_FLUSH,function(){i(oe._handle,"zlib binding closed"),oe._handle.params(R,F),oe._hadError||(oe._level=R,oe._strategy=F,X&&X())})}else xe.nextTick(X)},D.prototype.reset=function(){return i(this._handle,"zlib binding closed"),this._handle.reset()},D.prototype._flush=function(R){this._transform(e.alloc(0),"",R)},D.prototype.flush=function(R,F){var X=this,oe=this._writableState;(typeof R=="function"||R===void 0&&!F)&&(F=R,R=n.Z_FULL_FLUSH),oe.ended?F&&xe.nextTick(F):oe.ending?F&&this.once("end",F):oe.needDrain?F&&this.once("drain",function(){return X.flush(R,F)}):(this._flushFlag=R,this.write(e.alloc(0),"",F))},D.prototype.close=function(R){N(this,R),xe.nextTick(C,this)};function N(R,F){F&&xe.nextTick(F),R._handle&&(R._handle.close(),R._handle=null)}function C(R){R.emit("close")}D.prototype._transform=function(R,F,X){var oe,J=this._writableState,le=J.ending||J.ended,ae=le&&(!R||J.length===R.length);if(R!==null&&!e.isBuffer(R))return X(new Error("invalid input"));if(!this._handle)return X(new Error("zlib binding closed"));ae?oe=this._finishFlushFlag:(oe=this._flushFlag,R.length>=J.length&&(this._flushFlag=this._opts.flush||n.Z_NO_FLUSH)),this._processChunk(R,oe,X)},D.prototype._processChunk=function(R,F,X){var oe=R&&R.length,J=this._chunkSize-this._offset,le=0,ae=this,Z=typeof X=="function";if(!Z){var H=[],de=0,he;this.on("error",function(P){he=P}),i(this._handle,"zlib binding closed");do var W=this._handle.writeSync(F,R,le,oe,this._buffer,this._offset,J);while(!this._hadError&&A(W[0],W[1]));if(this._hadError)throw he;if(de>=s)throw N(this),new RangeError(o);var z=e.concat(H,de);return N(this),z}i(this._handle,"zlib binding closed");var Q=this._handle.write(F,R,le,oe,this._buffer,this._offset,J);Q.buffer=R,Q.callback=A;function A(P,k){if(this&&(this.buffer=null,this.callback=null),!ae._hadError){var G=J-k;if(i(G>=0,"have should not go down"),G>0){var te=ae._buffer.slice(ae._offset,ae._offset+G);ae._offset+=G,Z?ae.push(te):(H.push(te),de+=te.length)}if((k===0||ae._offset>=ae._chunkSize)&&(J=ae._chunkSize,ae._offset=0,ae._buffer=e.allocUnsafe(ae._chunkSize)),k===0){if(le+=oe-P,oe=P,!Z)return!0;var E=ae._handle.write(F,R,le,oe,ae._buffer,ae._offset,ae._chunkSize);E.callback=A,E.buffer=R;return}if(!Z)return!1;X()}}},a.inherits(y,D),a.inherits(p,D),a.inherits(g,D),a.inherits(w,D),a.inherits(S,D),a.inherits(I,D),a.inherits(O,D)}(Jh)),Jh}var Jf={exports:{}},Vp,oS;function sS(){return oS||(oS=1,Vp=Jt().EventEmitter),Vp}var Gp,uS;function $D(){if(uS)return Gp;uS=1;function t(m,_){var b=Object.keys(m);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(m);_&&(y=y.filter(function(p){return Object.getOwnPropertyDescriptor(m,p).enumerable})),b.push.apply(b,y)}return b}function e(m){for(var _=1;_<arguments.length;_++){var b=arguments[_]!=null?arguments[_]:{};_%2?t(Object(b),!0).forEach(function(y){r(m,y,b[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(b)):t(Object(b)).forEach(function(y){Object.defineProperty(m,y,Object.getOwnPropertyDescriptor(b,y))})}return m}function r(m,_,b){return _=s(_),_ in m?Object.defineProperty(m,_,{value:b,enumerable:!0,configurable:!0,writable:!0}):m[_]=b,m}function n(m,_){if(!(m instanceof _))throw new TypeError("Cannot call a class as a function")}function a(m,_){for(var b=0;b<_.length;b++){var y=_[b];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(m,s(y.key),y)}}function i(m,_,b){return a(m.prototype,_),Object.defineProperty(m,"prototype",{writable:!1}),m}function s(m){var _=o(m,"string");return typeof _=="symbol"?_:String(_)}function o(m,_){if(typeof m!="object"||m===null)return m;var b=m[Symbol.toPrimitive];if(b!==void 0){var y=b.call(m,_);if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(m)}var f=bt(),u=f.Buffer,l=wt(),d=l.inspect,c=d&&d.custom||"inspect";function h(m,_,b){u.prototype.copy.call(m,_,b)}return Gp=function(){function m(){n(this,m),this.head=null,this.tail=null,this.length=0}return i(m,[{key:"push",value:function(b){var y={data:b,next:null};this.length>0?this.tail.next=y:this.head=y,this.tail=y,++this.length}},{key:"unshift",value:function(b){var y={data:b,next:this.head};this.length===0&&(this.tail=y),this.head=y,++this.length}},{key:"shift",value:function(){if(this.length!==0){var b=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,b}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(b){if(this.length===0)return"";for(var y=this.head,p=""+y.data;y=y.next;)p+=b+y.data;return p}},{key:"concat",value:function(b){if(this.length===0)return u.alloc(0);for(var y=u.allocUnsafe(b>>>0),p=this.head,g=0;p;)h(p.data,y,g),g+=p.data.length,p=p.next;return y}},{key:"consume",value:function(b,y){var p;return b<this.head.data.length?(p=this.head.data.slice(0,b),this.head.data=this.head.data.slice(b)):b===this.head.data.length?p=this.shift():p=y?this._getString(b):this._getBuffer(b),p}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(b){var y=this.head,p=1,g=y.data;for(b-=g.length;y=y.next;){var w=y.data,S=b>w.length?w.length:b;if(S===w.length?g+=w:g+=w.slice(0,b),b-=S,b===0){S===w.length?(++p,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=w.slice(S));break}++p}return this.length-=p,g}},{key:"_getBuffer",value:function(b){var y=u.allocUnsafe(b),p=this.head,g=1;for(p.data.copy(y),b-=p.data.length;p=p.next;){var w=p.data,S=b>w.length?w.length:b;if(w.copy(y,y.length-b,0,S),b-=S,b===0){S===w.length?(++g,p.next?this.head=p.next:this.head=this.tail=null):(this.head=p,p.data=w.slice(S));break}++g}return this.length-=g,y}},{key:c,value:function(b,y){return d(this,e(e({},y),{},{depth:0,customInspect:!1}))}}]),m}(),Gp}var zp,fS;function lS(){if(fS)return zp;fS=1;function t(s,o){var f=this,u=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return u||l?(o?o(s):s&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,xe.nextTick(a,this,s)):xe.nextTick(a,this,s)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(s||null,function(d){!o&&d?f._writableState?f._writableState.errorEmitted?xe.nextTick(r,f):(f._writableState.errorEmitted=!0,xe.nextTick(e,f,d)):xe.nextTick(e,f,d):o?(xe.nextTick(r,f),o(d)):xe.nextTick(r,f)}),this)}function e(s,o){a(s,o),r(s)}function r(s){s._writableState&&!s._writableState.emitClose||s._readableState&&!s._readableState.emitClose||s.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function a(s,o){s.emit("error",o)}function i(s,o){var f=s._readableState,u=s._writableState;f&&f.autoDestroy||u&&u.autoDestroy?s.destroy(o):s.emit("error",o)}return zp={destroy:t,undestroy:n,errorOrDestroy:i},zp}var Wp={},cS;function Ii(){if(cS)return Wp;cS=1;function t(o,f){o.prototype=Object.create(f.prototype),o.prototype.constructor=o,o.__proto__=f}var e={};function r(o,f,u){u||(u=Error);function l(c,h,m){return typeof f=="string"?f:f(c,h,m)}var d=function(c){t(h,c);function h(m,_,b){return c.call(this,l(m,_,b))||this}return h}(u);d.prototype.name=u.name,d.prototype.code=o,e[o]=d}function n(o,f){if(Array.isArray(o)){var u=o.length;return o=o.map(function(l){return String(l)}),u>2?"one of ".concat(f," ").concat(o.slice(0,u-1).join(", "),", or ")+o[u-1]:u===2?"one of ".concat(f," ").concat(o[0]," or ").concat(o[1]):"of ".concat(f," ").concat(o[0])}else return"of ".concat(f," ").concat(String(o))}function a(o,f,u){return o.substr(0,f.length)===f}function i(o,f,u){return(u===void 0||u>o.length)&&(u=o.length),o.substring(u-f.length,u)===f}function s(o,f,u){return typeof u!="number"&&(u=0),u+f.length>o.length?!1:o.indexOf(f,u)!==-1}return r("ERR_INVALID_OPT_VALUE",function(o,f){return'The value "'+f+'" is invalid for option "'+o+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(o,f,u){var l;typeof f=="string"&&a(f,"not ")?(l="must not be",f=f.replace(/^not /,"")):l="must be";var d;if(i(o," argument"))d="The ".concat(o," ").concat(l," ").concat(n(f,"type"));else{var c=s(o,".")?"property":"argument";d='The "'.concat(o,'" ').concat(c," ").concat(l," ").concat(n(f,"type"))}return d+=". Received type ".concat(typeof u),d},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(o){return"The "+o+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(o){return"Cannot call "+o+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(o){return"Unknown encoding: "+o},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Wp.codes=e,Wp}var Kp,dS;function hS(){if(dS)return Kp;dS=1;var t=Ii().codes.ERR_INVALID_OPT_VALUE;function e(n,a,i){return n.highWaterMark!=null?n.highWaterMark:a?n[i]:null}function r(n,a,i,s){var o=e(a,s,i);if(o!=null){if(!(isFinite(o)&&Math.floor(o)===o)||o<0){var f=s?i:"highWaterMark";throw new t(f,o)}return Math.floor(o)}return n.objectMode?16:16*1024}return Kp={getHighWaterMark:r},Kp}var Qp,pS;function yS(){if(pS)return Qp;pS=1,Qp=M;function t(A){var P=this;this.next=null,this.entry=null,this.finish=function(){Q(P,A)}}var e;M.WritableState=I;var r={deprecate:Pf()},n=sS(),a=bt().Buffer,i=(typeof Ye<"u"?Ye:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s(A){return a.from(A)}function o(A){return a.isBuffer(A)||A instanceof i}var f=lS(),u=hS(),l=u.getHighWaterMark,d=Ii().codes,c=d.ERR_INVALID_ARG_TYPE,h=d.ERR_METHOD_NOT_IMPLEMENTED,m=d.ERR_MULTIPLE_CALLBACK,_=d.ERR_STREAM_CANNOT_PIPE,b=d.ERR_STREAM_DESTROYED,y=d.ERR_STREAM_NULL_VALUES,p=d.ERR_STREAM_WRITE_AFTER_END,g=d.ERR_UNKNOWN_ENCODING,w=f.errorOrDestroy;vt()(M,n);function S(){}function I(A,P,k){e=e||Ai(),A=A||{},typeof k!="boolean"&&(k=P instanceof e),this.objectMode=!!A.objectMode,k&&(this.objectMode=this.objectMode||!!A.writableObjectMode),this.highWaterMark=l(this,A,"writableHighWaterMark",k),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var G=A.decodeStrings===!1;this.decodeStrings=!G,this.defaultEncoding=A.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(te){J(P,te)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=A.emitClose!==!1,this.autoDestroy=!!A.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}I.prototype.getBuffer=function(){for(var P=this.bufferedRequest,k=[];P;)k.push(P),P=P.next;return k},function(){try{Object.defineProperty(I.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var O;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(O=Function.prototype[Symbol.hasInstance],Object.defineProperty(M,Symbol.hasInstance,{value:function(P){return O.call(this,P)?!0:this!==M?!1:P&&P._writableState instanceof I}})):O=function(P){return P instanceof this};function M(A){e=e||Ai();var P=this instanceof e;if(!P&&!O.call(M,this))return new M(A);this._writableState=new I(A,this,P),this.writable=!0,A&&(typeof A.write=="function"&&(this._write=A.write),typeof A.writev=="function"&&(this._writev=A.writev),typeof A.destroy=="function"&&(this._destroy=A.destroy),typeof A.final=="function"&&(this._final=A.final)),n.call(this)}M.prototype.pipe=function(){w(this,new _)};function D(A,P){var k=new p;w(A,k),xe.nextTick(P,k)}function N(A,P,k,G){var te;return k===null?te=new y:typeof k!="string"&&!P.objectMode&&(te=new c("chunk",["string","Buffer"],k)),te?(w(A,te),xe.nextTick(G,te),!1):!0}M.prototype.write=function(A,P,k){var G=this._writableState,te=!1,E=!G.objectMode&&o(A);return E&&!a.isBuffer(A)&&(A=s(A)),typeof P=="function"&&(k=P,P=null),E?P="buffer":P||(P=G.defaultEncoding),typeof k!="function"&&(k=S),G.ending?D(this,k):(E||N(this,G,A,k))&&(G.pendingcb++,te=R(this,G,E,A,P,k)),te},M.prototype.cork=function(){this._writableState.corked++},M.prototype.uncork=function(){var A=this._writableState;A.corked&&(A.corked--,!A.writing&&!A.corked&&!A.bufferProcessing&&A.bufferedRequest&&Z(this,A))},M.prototype.setDefaultEncoding=function(P){if(typeof P=="string"&&(P=P.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((P+"").toLowerCase())>-1))throw new g(P);return this._writableState.defaultEncoding=P,this},Object.defineProperty(M.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function C(A,P,k){return!A.objectMode&&A.decodeStrings!==!1&&typeof P=="string"&&(P=a.from(P,k)),P}Object.defineProperty(M.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function R(A,P,k,G,te,E){if(!k){var v=C(P,G,te);G!==v&&(k=!0,te="buffer",G=v)}var T=P.objectMode?1:G.length;P.length+=T;var L=P.length<P.highWaterMark;if(L||(P.needDrain=!0),P.writing||P.corked){var Y=P.lastBufferedRequest;P.lastBufferedRequest={chunk:G,encoding:te,isBuf:k,callback:E,next:null},Y?Y.next=P.lastBufferedRequest:P.bufferedRequest=P.lastBufferedRequest,P.bufferedRequestCount+=1}else F(A,P,!1,T,G,te,E);return L}function F(A,P,k,G,te,E,v){P.writelen=G,P.writecb=v,P.writing=!0,P.sync=!0,P.destroyed?P.onwrite(new b("write")):k?A._writev(te,P.onwrite):A._write(te,E,P.onwrite),P.sync=!1}function X(A,P,k,G,te){--P.pendingcb,k?(xe.nextTick(te,G),xe.nextTick(W,A,P),A._writableState.errorEmitted=!0,w(A,G)):(te(G),A._writableState.errorEmitted=!0,w(A,G),W(A,P))}function oe(A){A.writing=!1,A.writecb=null,A.length-=A.writelen,A.writelen=0}function J(A,P){var k=A._writableState,G=k.sync,te=k.writecb;if(typeof te!="function")throw new m;if(oe(k),P)X(A,k,G,P,te);else{var E=H(k)||A.destroyed;!E&&!k.corked&&!k.bufferProcessing&&k.bufferedRequest&&Z(A,k),G?xe.nextTick(le,A,k,E,te):le(A,k,E,te)}}function le(A,P,k,G){k||ae(A,P),P.pendingcb--,G(),W(A,P)}function ae(A,P){P.length===0&&P.needDrain&&(P.needDrain=!1,A.emit("drain"))}function Z(A,P){P.bufferProcessing=!0;var k=P.bufferedRequest;if(A._writev&&k&&k.next){var G=P.bufferedRequestCount,te=new Array(G),E=P.corkedRequestsFree;E.entry=k;for(var v=0,T=!0;k;)te[v]=k,k.isBuf||(T=!1),k=k.next,v+=1;te.allBuffers=T,F(A,P,!0,P.length,te,"",E.finish),P.pendingcb++,P.lastBufferedRequest=null,E.next?(P.corkedRequestsFree=E.next,E.next=null):P.corkedRequestsFree=new t(P),P.bufferedRequestCount=0}else{for(;k;){var L=k.chunk,Y=k.encoding,ne=k.callback,pe=P.objectMode?1:L.length;if(F(A,P,!1,pe,L,Y,ne),k=k.next,P.bufferedRequestCount--,P.writing)break}k===null&&(P.lastBufferedRequest=null)}P.bufferedRequest=k,P.bufferProcessing=!1}M.prototype._write=function(A,P,k){k(new h("_write()"))},M.prototype._writev=null,M.prototype.end=function(A,P,k){var G=this._writableState;return typeof A=="function"?(k=A,A=null,P=null):typeof P=="function"&&(k=P,P=null),A!=null&&this.write(A,P),G.corked&&(G.corked=1,this.uncork()),G.ending||z(this,G,k),this},Object.defineProperty(M.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function H(A){return A.ending&&A.length===0&&A.bufferedRequest===null&&!A.finished&&!A.writing}function de(A,P){A._final(function(k){P.pendingcb--,k&&w(A,k),P.prefinished=!0,A.emit("prefinish"),W(A,P)})}function he(A,P){!P.prefinished&&!P.finalCalled&&(typeof A._final=="function"&&!P.destroyed?(P.pendingcb++,P.finalCalled=!0,xe.nextTick(de,A,P)):(P.prefinished=!0,A.emit("prefinish")))}function W(A,P){var k=H(P);if(k&&(he(A,P),P.pendingcb===0&&(P.finished=!0,A.emit("finish"),P.autoDestroy))){var G=A._readableState;(!G||G.autoDestroy&&G.endEmitted)&&A.destroy()}return k}function z(A,P,k){P.ending=!0,W(A,P),k&&(P.finished?xe.nextTick(k):A.once("finish",k)),P.ended=!0,A.writable=!1}function Q(A,P,k){var G=A.entry;for(A.entry=null;G;){var te=G.callback;P.pendingcb--,te(k),G=G.next}P.corkedRequestsFree.next=A}return Object.defineProperty(M.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(P){this._writableState&&(this._writableState.destroyed=P)}}),M.prototype.destroy=f.destroy,M.prototype._undestroy=f.undestroy,M.prototype._destroy=function(A,P){P(A)},Qp}var Xp,gS;function Ai(){if(gS)return Xp;gS=1;var t=Object.keys||function(u){var l=[];for(var d in u)l.push(d);return l};Xp=s;var e=wS(),r=yS();vt()(s,e);for(var n=t(r.prototype),a=0;a<n.length;a++){var i=n[a];s.prototype[i]||(s.prototype[i]=r.prototype[i])}function s(u){if(!(this instanceof s))return new s(u);e.call(this,u),r.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",o)))}Object.defineProperty(s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(s.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(s.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function o(){this._writableState.ended||xe.nextTick(f,this)}function f(u){u.end()}return Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(l){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=l,this._writableState.destroyed=l)}}),Xp}var Zp,bS;function Jp(){if(bS)return Zp;bS=1;var t=Ii().codes.ERR_STREAM_PREMATURE_CLOSE;function e(i){var s=!1;return function(){if(!s){s=!0;for(var o=arguments.length,f=new Array(o),u=0;u<o;u++)f[u]=arguments[u];i.apply(this,f)}}}function r(){}function n(i){return i.setHeader&&typeof i.abort=="function"}function a(i,s,o){if(typeof s=="function")return a(i,null,s);s||(s={}),o=e(o||r);var f=s.readable||s.readable!==!1&&i.readable,u=s.writable||s.writable!==!1&&i.writable,l=function(){i.writable||c()},d=i._writableState&&i._writableState.finished,c=function(){u=!1,d=!0,f||o.call(i)},h=i._readableState&&i._readableState.endEmitted,m=function(){f=!1,h=!0,u||o.call(i)},_=function(g){o.call(i,g)},b=function(){var g;if(f&&!h)return(!i._readableState||!i._readableState.ended)&&(g=new t),o.call(i,g);if(u&&!d)return(!i._writableState||!i._writableState.ended)&&(g=new t),o.call(i,g)},y=function(){i.req.on("finish",c)};return n(i)?(i.on("complete",c),i.on("abort",b),i.req?y():i.on("request",y)):u&&!i._writableState&&(i.on("end",l),i.on("close",l)),i.on("end",m),i.on("finish",c),s.error!==!1&&i.on("error",_),i.on("close",b),function(){i.removeListener("complete",c),i.removeListener("abort",b),i.removeListener("request",y),i.req&&i.req.removeListener("finish",c),i.removeListener("end",l),i.removeListener("close",l),i.removeListener("finish",c),i.removeListener("end",m),i.removeListener("error",_),i.removeListener("close",b)}}return Zp=a,Zp}var Yp,mS;function UD(){if(mS)return Yp;mS=1;var t;function e(g,w,S){return w=r(w),w in g?Object.defineProperty(g,w,{value:S,enumerable:!0,configurable:!0,writable:!0}):g[w]=S,g}function r(g){var w=n(g,"string");return typeof w=="symbol"?w:String(w)}function n(g,w){if(typeof g!="object"||g===null)return g;var S=g[Symbol.toPrimitive];if(S!==void 0){var I=S.call(g,w||"default");if(typeof I!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(g)}var a=Jp(),i=Symbol("lastResolve"),s=Symbol("lastReject"),o=Symbol("error"),f=Symbol("ended"),u=Symbol("lastPromise"),l=Symbol("handlePromise"),d=Symbol("stream");function c(g,w){return{value:g,done:w}}function h(g){var w=g[i];if(w!==null){var S=g[d].read();S!==null&&(g[u]=null,g[i]=null,g[s]=null,w(c(S,!1)))}}function m(g){xe.nextTick(h,g)}function _(g,w){return function(S,I){g.then(function(){if(w[f]){S(c(void 0,!0));return}w[l](S,I)},I)}}var b=Object.getPrototypeOf(function(){}),y=Object.setPrototypeOf((t={get stream(){return this[d]},next:function(){var w=this,S=this[o];if(S!==null)return Promise.reject(S);if(this[f])return Promise.resolve(c(void 0,!0));if(this[d].destroyed)return new Promise(function(D,N){xe.nextTick(function(){w[o]?N(w[o]):D(c(void 0,!0))})});var I=this[u],O;if(I)O=new Promise(_(I,this));else{var M=this[d].read();if(M!==null)return Promise.resolve(c(M,!1));O=new Promise(this[l])}return this[u]=O,O}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var w=this;return new Promise(function(S,I){w[d].destroy(null,function(O){if(O){I(O);return}S(c(void 0,!0))})})}),t),b),p=function(w){var S,I=Object.create(y,(S={},e(S,d,{value:w,writable:!0}),e(S,i,{value:null,writable:!0}),e(S,s,{value:null,writable:!0}),e(S,o,{value:null,writable:!0}),e(S,f,{value:w._readableState.endEmitted,writable:!0}),e(S,l,{value:function(M,D){var N=I[d].read();N?(I[u]=null,I[i]=null,I[s]=null,M(c(N,!1))):(I[i]=M,I[s]=D)},writable:!0}),S));return I[u]=null,a(w,function(O){if(O&&O.code!=="ERR_STREAM_PREMATURE_CLOSE"){var M=I[s];M!==null&&(I[u]=null,I[i]=null,I[s]=null,M(O)),I[o]=O;return}var D=I[i];D!==null&&(I[u]=null,I[i]=null,I[s]=null,D(c(void 0,!0))),I[f]=!0}),w.on("readable",m.bind(null,I)),I};return Yp=p,Yp}var e0,_S;function HD(){return _S||(_S=1,e0=function(){throw new Error("Readable.from is not available in the browser")}),e0}var t0,vS;function wS(){if(vS)return t0;vS=1,t0=D;var t;D.ReadableState=M,Jt().EventEmitter;var e=function(v,T){return v.listeners(T).length},r=sS(),n=bt().Buffer,a=(typeof Ye<"u"?Ye:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function i(E){return n.from(E)}function s(E){return n.isBuffer(E)||E instanceof a}var o=wt(),f;o&&o.debuglog?f=o.debuglog("stream"):f=function(){};var u=$D(),l=lS(),d=hS(),c=d.getHighWaterMark,h=Ii().codes,m=h.ERR_INVALID_ARG_TYPE,_=h.ERR_STREAM_PUSH_AFTER_EOF,b=h.ERR_METHOD_NOT_IMPLEMENTED,y=h.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,p,g,w;vt()(D,r);var S=l.errorOrDestroy,I=["error","close","destroy","pause","resume"];function O(E,v,T){if(typeof E.prependListener=="function")return E.prependListener(v,T);!E._events||!E._events[v]?E.on(v,T):Array.isArray(E._events[v])?E._events[v].unshift(T):E._events[v]=[T,E._events[v]]}function M(E,v,T){t=t||Ai(),E=E||{},typeof T!="boolean"&&(T=v instanceof t),this.objectMode=!!E.objectMode,T&&(this.objectMode=this.objectMode||!!E.readableObjectMode),this.highWaterMark=c(this,E,"readableHighWaterMark",T),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=E.emitClose!==!1,this.autoDestroy=!!E.autoDestroy,this.destroyed=!1,this.defaultEncoding=E.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,E.encoding&&(p||(p=Mr().StringDecoder),this.decoder=new p(E.encoding),this.encoding=E.encoding)}function D(E){if(t=t||Ai(),!(this instanceof D))return new D(E);var v=this instanceof t;this._readableState=new M(E,this,v),this.readable=!0,E&&(typeof E.read=="function"&&(this._read=E.read),typeof E.destroy=="function"&&(this._destroy=E.destroy)),r.call(this)}Object.defineProperty(D.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(v){this._readableState&&(this._readableState.destroyed=v)}}),D.prototype.destroy=l.destroy,D.prototype._undestroy=l.undestroy,D.prototype._destroy=function(E,v){v(E)},D.prototype.push=function(E,v){var T=this._readableState,L;return T.objectMode?L=!0:typeof E=="string"&&(v=v||T.defaultEncoding,v!==T.encoding&&(E=n.from(E,v),v=""),L=!0),N(this,E,v,!1,L)},D.prototype.unshift=function(E){return N(this,E,null,!0,!1)};function N(E,v,T,L,Y){f("readableAddChunk",v);var ne=E._readableState;if(v===null)ne.reading=!1,J(E,ne);else{var pe;if(Y||(pe=R(ne,v)),pe)S(E,pe);else if(ne.objectMode||v&&v.length>0)if(typeof v!="string"&&!ne.objectMode&&Object.getPrototypeOf(v)!==n.prototype&&(v=i(v)),L)ne.endEmitted?S(E,new y):C(E,ne,v,!0);else if(ne.ended)S(E,new _);else{if(ne.destroyed)return!1;ne.reading=!1,ne.decoder&&!T?(v=ne.decoder.write(v),ne.objectMode||v.length!==0?C(E,ne,v,!1):Z(E,ne)):C(E,ne,v,!1)}else L||(ne.reading=!1,Z(E,ne))}return!ne.ended&&(ne.length<ne.highWaterMark||ne.length===0)}function C(E,v,T,L){v.flowing&&v.length===0&&!v.sync?(v.awaitDrain=0,E.emit("data",T)):(v.length+=v.objectMode?1:T.length,L?v.buffer.unshift(T):v.buffer.push(T),v.needReadable&&le(E)),Z(E,v)}function R(E,v){var T;return!s(v)&&typeof v!="string"&&v!==void 0&&!E.objectMode&&(T=new m("chunk",["string","Buffer","Uint8Array"],v)),T}D.prototype.isPaused=function(){return this._readableState.flowing===!1},D.prototype.setEncoding=function(E){p||(p=Mr().StringDecoder);var v=new p(E);this._readableState.decoder=v,this._readableState.encoding=this._readableState.decoder.encoding;for(var T=this._readableState.buffer.head,L="";T!==null;)L+=v.write(T.data),T=T.next;return this._readableState.buffer.clear(),L!==""&&this._readableState.buffer.push(L),this._readableState.length=L.length,this};var F=1073741824;function X(E){return E>=F?E=F:(E--,E|=E>>>1,E|=E>>>2,E|=E>>>4,E|=E>>>8,E|=E>>>16,E++),E}function oe(E,v){return E<=0||v.length===0&&v.ended?0:v.objectMode?1:E!==E?v.flowing&&v.length?v.buffer.head.data.length:v.length:(E>v.highWaterMark&&(v.highWaterMark=X(E)),E<=v.length?E:v.ended?v.length:(v.needReadable=!0,0))}D.prototype.read=function(E){f("read",E),E=parseInt(E,10);var v=this._readableState,T=E;if(E!==0&&(v.emittedReadable=!1),E===0&&v.needReadable&&((v.highWaterMark!==0?v.length>=v.highWaterMark:v.length>0)||v.ended))return f("read: emitReadable",v.length,v.ended),v.length===0&&v.ended?k(this):le(this),null;if(E=oe(E,v),E===0&&v.ended)return v.length===0&&k(this),null;var L=v.needReadable;f("need readable",L),(v.length===0||v.length-E<v.highWaterMark)&&(L=!0,f("length less than watermark",L)),v.ended||v.reading?(L=!1,f("reading or ended",L)):L&&(f("do read"),v.reading=!0,v.sync=!0,v.length===0&&(v.needReadable=!0),this._read(v.highWaterMark),v.sync=!1,v.reading||(E=oe(T,v)));var Y;return E>0?Y=P(E,v):Y=null,Y===null?(v.needReadable=v.length<=v.highWaterMark,E=0):(v.length-=E,v.awaitDrain=0),v.length===0&&(v.ended||(v.needReadable=!0),T!==E&&v.ended&&k(this)),Y!==null&&this.emit("data",Y),Y};function J(E,v){if(f("onEofChunk"),!v.ended){if(v.decoder){var T=v.decoder.end();T&&T.length&&(v.buffer.push(T),v.length+=v.objectMode?1:T.length)}v.ended=!0,v.sync?le(E):(v.needReadable=!1,v.emittedReadable||(v.emittedReadable=!0,ae(E)))}}function le(E){var v=E._readableState;f("emitReadable",v.needReadable,v.emittedReadable),v.needReadable=!1,v.emittedReadable||(f("emitReadable",v.flowing),v.emittedReadable=!0,xe.nextTick(ae,E))}function ae(E){var v=E._readableState;f("emitReadable_",v.destroyed,v.length,v.ended),!v.destroyed&&(v.length||v.ended)&&(E.emit("readable"),v.emittedReadable=!1),v.needReadable=!v.flowing&&!v.ended&&v.length<=v.highWaterMark,A(E)}function Z(E,v){v.readingMore||(v.readingMore=!0,xe.nextTick(H,E,v))}function H(E,v){for(;!v.reading&&!v.ended&&(v.length<v.highWaterMark||v.flowing&&v.length===0);){var T=v.length;if(f("maybeReadMore read 0"),E.read(0),T===v.length)break}v.readingMore=!1}D.prototype._read=function(E){S(this,new b("_read()"))},D.prototype.pipe=function(E,v){var T=this,L=this._readableState;switch(L.pipesCount){case 0:L.pipes=E;break;case 1:L.pipes=[L.pipes,E];break;default:L.pipes.push(E);break}L.pipesCount+=1,f("pipe count=%d opts=%j",L.pipesCount,v);var Y=(!v||v.end!==!1)&&E!==xe.stdout&&E!==xe.stderr,ne=Y?we:Fe;L.endEmitted?xe.nextTick(ne):T.once("end",ne),E.on("unpipe",pe);function pe(je,Me){f("onunpipe"),je===T&&Me&&Me.hasUnpiped===!1&&(Me.hasUnpiped=!0,Le())}function we(){f("onend"),E.end()}var fe=de(T);E.on("drain",fe);var Re=!1;function Le(){f("cleanup"),E.removeListener("close",_e),E.removeListener("finish",Ee),E.removeListener("drain",fe),E.removeListener("error",Ue),E.removeListener("unpipe",pe),T.removeListener("end",we),T.removeListener("end",Fe),T.removeListener("data",Te),Re=!0,L.awaitDrain&&(!E._writableState||E._writableState.needDrain)&&fe()}T.on("data",Te);function Te(je){f("ondata");var Me=E.write(je);f("dest.write",Me),Me===!1&&((L.pipesCount===1&&L.pipes===E||L.pipesCount>1&&te(L.pipes,E)!==-1)&&!Re&&(f("false write response, pause",L.awaitDrain),L.awaitDrain++),T.pause())}function Ue(je){f("onerror",je),Fe(),E.removeListener("error",Ue),e(E,"error")===0&&S(E,je)}O(E,"error",Ue);function _e(){E.removeListener("finish",Ee),Fe()}E.once("close",_e);function Ee(){f("onfinish"),E.removeListener("close",_e),Fe()}E.once("finish",Ee);function Fe(){f("unpipe"),T.unpipe(E)}return E.emit("pipe",T),L.flowing||(f("pipe resume"),T.resume()),E};function de(E){return function(){var T=E._readableState;f("pipeOnDrain",T.awaitDrain),T.awaitDrain&&T.awaitDrain--,T.awaitDrain===0&&e(E,"data")&&(T.flowing=!0,A(E))}}D.prototype.unpipe=function(E){var v=this._readableState,T={hasUnpiped:!1};if(v.pipesCount===0)return this;if(v.pipesCount===1)return E&&E!==v.pipes?this:(E||(E=v.pipes),v.pipes=null,v.pipesCount=0,v.flowing=!1,E&&E.emit("unpipe",this,T),this);if(!E){var L=v.pipes,Y=v.pipesCount;v.pipes=null,v.pipesCount=0,v.flowing=!1;for(var ne=0;ne<Y;ne++)L[ne].emit("unpipe",this,{hasUnpiped:!1});return this}var pe=te(v.pipes,E);return pe===-1?this:(v.pipes.splice(pe,1),v.pipesCount-=1,v.pipesCount===1&&(v.pipes=v.pipes[0]),E.emit("unpipe",this,T),this)},D.prototype.on=function(E,v){var T=r.prototype.on.call(this,E,v),L=this._readableState;return E==="data"?(L.readableListening=this.listenerCount("readable")>0,L.flowing!==!1&&this.resume()):E==="readable"&&!L.endEmitted&&!L.readableListening&&(L.readableListening=L.needReadable=!0,L.flowing=!1,L.emittedReadable=!1,f("on readable",L.length,L.reading),L.length?le(this):L.reading||xe.nextTick(W,this)),T},D.prototype.addListener=D.prototype.on,D.prototype.removeListener=function(E,v){var T=r.prototype.removeListener.call(this,E,v);return E==="readable"&&xe.nextTick(he,this),T},D.prototype.removeAllListeners=function(E){var v=r.prototype.removeAllListeners.apply(this,arguments);return(E==="readable"||E===void 0)&&xe.nextTick(he,this),v};function he(E){var v=E._readableState;v.readableListening=E.listenerCount("readable")>0,v.resumeScheduled&&!v.paused?v.flowing=!0:E.listenerCount("data")>0&&E.resume()}function W(E){f("readable nexttick read 0"),E.read(0)}D.prototype.resume=function(){var E=this._readableState;return E.flowing||(f("resume"),E.flowing=!E.readableListening,z(this,E)),E.paused=!1,this};function z(E,v){v.resumeScheduled||(v.resumeScheduled=!0,xe.nextTick(Q,E,v))}function Q(E,v){f("resume",v.reading),v.reading||E.read(0),v.resumeScheduled=!1,E.emit("resume"),A(E),v.flowing&&!v.reading&&E.read(0)}D.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function A(E){var v=E._readableState;for(f("flow",v.flowing);v.flowing&&E.read()!==null;);}D.prototype.wrap=function(E){var v=this,T=this._readableState,L=!1;E.on("end",function(){if(f("wrapped end"),T.decoder&&!T.ended){var pe=T.decoder.end();pe&&pe.length&&v.push(pe)}v.push(null)}),E.on("data",function(pe){if(f("wrapped data"),T.decoder&&(pe=T.decoder.write(pe)),!(T.objectMode&&pe==null)&&!(!T.objectMode&&(!pe||!pe.length))){var we=v.push(pe);we||(L=!0,E.pause())}});for(var Y in E)this[Y]===void 0&&typeof E[Y]=="function"&&(this[Y]=function(we){return function(){return E[we].apply(E,arguments)}}(Y));for(var ne=0;ne<I.length;ne++)E.on(I[ne],this.emit.bind(this,I[ne]));return this._read=function(pe){f("wrapped _read",pe),L&&(L=!1,E.resume())},this},typeof Symbol=="function"&&(D.prototype[Symbol.asyncIterator]=function(){return g===void 0&&(g=UD()),g(this)}),Object.defineProperty(D.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(D.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(D.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(v){this._readableState&&(this._readableState.flowing=v)}}),D._fromList=P,Object.defineProperty(D.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function P(E,v){if(v.length===0)return null;var T;return v.objectMode?T=v.buffer.shift():!E||E>=v.length?(v.decoder?T=v.buffer.join(""):v.buffer.length===1?T=v.buffer.first():T=v.buffer.concat(v.length),v.buffer.clear()):T=v.buffer.consume(E,v.decoder),T}function k(E){var v=E._readableState;f("endReadable",v.endEmitted),v.endEmitted||(v.ended=!0,xe.nextTick(G,v,E))}function G(E,v){if(f("endReadableNT",E.endEmitted,E.length),!E.endEmitted&&E.length===0&&(E.endEmitted=!0,v.readable=!1,v.emit("end"),E.autoDestroy)){var T=v._writableState;(!T||T.autoDestroy&&T.finished)&&v.destroy()}}typeof Symbol=="function"&&(D.from=function(E,v){return w===void 0&&(w=HD()),w(D,E,v)});function te(E,v){for(var T=0,L=E.length;T<L;T++)if(E[T]===v)return T;return-1}return t0}var r0,ES;function SS(){if(ES)return r0;ES=1,r0=o;var t=Ii().codes,e=t.ERR_METHOD_NOT_IMPLEMENTED,r=t.ERR_MULTIPLE_CALLBACK,n=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=t.ERR_TRANSFORM_WITH_LENGTH_0,i=Ai();vt()(o,i);function s(l,d){var c=this._transformState;c.transforming=!1;var h=c.writecb;if(h===null)return this.emit("error",new r);c.writechunk=null,c.writecb=null,d!=null&&this.push(d),h(l);var m=this._readableState;m.reading=!1,(m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}function o(l){if(!(this instanceof o))return new o(l);i.call(this,l),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,l&&(typeof l.transform=="function"&&(this._transform=l.transform),typeof l.flush=="function"&&(this._flush=l.flush)),this.on("prefinish",f)}function f(){var l=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(d,c){u(l,d,c)}):u(this,null,null)}o.prototype.push=function(l,d){return this._transformState.needTransform=!1,i.prototype.push.call(this,l,d)},o.prototype._transform=function(l,d,c){c(new e("_transform()"))},o.prototype._write=function(l,d,c){var h=this._transformState;if(h.writecb=c,h.writechunk=l,h.writeencoding=d,!h.transforming){var m=this._readableState;(h.needTransform||m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}},o.prototype._read=function(l){var d=this._transformState;d.writechunk!==null&&!d.transforming?(d.transforming=!0,this._transform(d.writechunk,d.writeencoding,d.afterTransform)):d.needTransform=!0},o.prototype._destroy=function(l,d){i.prototype._destroy.call(this,l,function(c){d(c)})};function u(l,d,c){if(d)return l.emit("error",d);if(c!=null&&l.push(c),l._writableState.length)throw new a;if(l._transformState.transforming)throw new n;return l.push(null)}return r0}var n0,TS;function VD(){if(TS)return n0;TS=1,n0=e;var t=SS();vt()(e,t);function e(r){if(!(this instanceof e))return new e(r);t.call(this,r)}return e.prototype._transform=function(r,n,a){a(null,r)},n0}var i0,xS;function GD(){if(xS)return i0;xS=1;var t;function e(c){var h=!1;return function(){h||(h=!0,c.apply(void 0,arguments))}}var r=Ii().codes,n=r.ERR_MISSING_ARGS,a=r.ERR_STREAM_DESTROYED;function i(c){if(c)throw c}function s(c){return c.setHeader&&typeof c.abort=="function"}function o(c,h,m,_){_=e(_);var b=!1;c.on("close",function(){b=!0}),t===void 0&&(t=Jp()),t(c,{readable:h,writable:m},function(p){if(p)return _(p);b=!0,_()});var y=!1;return function(p){if(!b&&!y){if(y=!0,s(c))return c.abort();if(typeof c.destroy=="function")return c.destroy();_(p||new a("pipe"))}}}function f(c){c()}function u(c,h){return c.pipe(h)}function l(c){return!c.length||typeof c[c.length-1]!="function"?i:c.pop()}function d(){for(var c=arguments.length,h=new Array(c),m=0;m<c;m++)h[m]=arguments[m];var _=l(h);if(Array.isArray(h[0])&&(h=h[0]),h.length<2)throw new n("streams");var b,y=h.map(function(p,g){var w=g<h.length-1,S=g>0;return o(p,w,S,function(I){b||(b=I),I&&y.forEach(f),!w&&(y.forEach(f),_(b))})});return h.reduce(u)}return i0=d,i0}var RS;function Oi(){return RS||(RS=1,function(t,e){e=t.exports=wS(),e.Stream=e,e.Readable=e,e.Writable=yS(),e.Duplex=Ai(),e.Transform=SS(),e.PassThrough=VD(),e.finished=Jp(),e.pipeline=GD()}(Jf,Jf.exports)),Jf.exports}var a0={exports:{}},o0,IS;function zD(){if(IS)return o0;IS=1;var t=[],e=[],r=function(){};function n(c){return~t.indexOf(c)?!1:(t.push(c),!0)}function a(c){r=c}function i(c){for(var h=[],m=0;m<t.length;m++){if(t[m].async){h.push(t[m]);continue}if(t[m](c))return!0}return h.length?new Promise(function(b){Promise.all(h.map(function(p){return p(c)})).then(function(p){b(p.some(Boolean))})}):!1}function s(c){return~e.indexOf(c)?!1:(e.push(c),!0)}function o(){r.apply(r,arguments)}function f(c){for(var h=0;h<e.length;h++)c=e[h].apply(e[h],arguments);return c}function u(c,h){var m=Object.prototype.hasOwnProperty;for(var _ in h)m.call(h,_)&&(c[_]=h[_]);return c}function l(c){return c.enabled=!1,c.modify=s,c.set=a,c.use=n,u(function(){return!1},c)}function d(c){function h(){var m=Array.prototype.slice.call(arguments,0);return o.call(o,c,f(m,c)),!0}return c.enabled=!0,c.modify=s,c.set=a,c.use=n,u(h,c)}return o0=function(h){return h.introduce=u,h.enabled=i,h.process=f,h.modify=s,h.write=o,h.nope=l,h.yep=d,h.set=a,h.use=n,h},o0}var s0,AS;function WD(){if(AS)return s0;AS=1;var t=zD(),e=t(function r(n,a){return a=a||{},a.namespace=n,a.prod=!0,a.dev=!1,a.force||r.force?r.yep(a):r.nope(a)});return s0=e,s0}var OS;function Yf(){return OS||(OS=1,a0.exports=WD()),a0.exports}var u0,NS;function KD(){if(NS)return u0;NS=1;var t=Pw,e=Mr(),r=e.StringDecoder,n=Oi(),a=n.Stream;function i(){}return u0=function(s,o){var f=Zt.alloc(65536),u=new r("utf8"),l=new a,d="",c=0,h=0;return s.start===-1&&delete s.start,l.readable=!0,l.destroy=function(){l.destroyed=!0,l.emit("end"),l.emit("close")},t.open(s.file,"a+","0644",function(m,_){if(m){o?o(m):l.emit("error",m),l.destroy();return}(function b(){if(l.destroyed){t.close(_,i);return}return t.read(_,f,0,f.length,c,function(y,p){if(y){o?o(y):l.emit("error",y),l.destroy();return}if(!p)return d&&((s.start==null||h>s.start)&&(o?o(null,d):l.emit("line",d)),h++,d=""),setTimeout(b,1e3);var g=u.write(f.slice(0,p));o||l.emit("data",g),g=(d+g).split(/\n+/);for(var w=g.length-1,S=0;S<w;S++)(s.start==null||h>s.start)&&(o?o(null,g[S]):l.emit("line",g[S])),h++;return d=g[w],c+=p,b()})})()}),o?l.destroy:l},u0}var f0,PS;function QD(){if(PS)return f0;PS=1;function t(N){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},t(N)}function e(N,C){if(!(N instanceof C))throw new TypeError("Cannot call a class as a function")}function r(N,C){for(var R=0;R<C.length;R++){var F=C[R];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(N,a(F.key),F)}}function n(N,C,R){return r(N.prototype,C),Object.defineProperty(N,"prototype",{writable:!1}),N}function a(N){var C=i(N,"string");return t(C)=="symbol"?C:C+""}function i(N,C){if(t(N)!="object"||!N)return N;var R=N[Symbol.toPrimitive];if(R!==void 0){var F=R.call(N,C);if(t(F)!="object")return F;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(N)}function s(N,C,R){return C=l(C),o(N,u()?Reflect.construct(C,R,l(N).constructor):C.apply(N,R))}function o(N,C){if(C&&(t(C)=="object"||typeof C=="function"))return C;if(C!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f(N)}function f(N){if(N===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N}function u(){try{var N=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u=function(){return!!N})()}function l(N){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(C){return C.__proto__||Object.getPrototypeOf(C)},l(N)}function d(N,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(C&&C.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),Object.defineProperty(N,"prototype",{writable:!1}),C&&c(N,C)}function c(N,C){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(R,F){return R.__proto__=F,R},c(N,C)}var h=Pw,m=iD(),_=pD(),b=kD(),y=Et(),p=y.MESSAGE,g=Oi(),w=g.Stream,S=g.PassThrough,I=oo(),O=Yf()("winston:file"),M=Si(),D=KD();return f0=function(N){function C(){var R,F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e(this,C),R=s(this,C,[F]),R.name=F.name||"file";function X(oe){for(var J=arguments.length,le=new Array(J>1?J-1:0),ae=1;ae<J;ae++)le[ae-1]=arguments[ae];le.slice(1).forEach(function(Z){if(F[Z])throw new Error("Cannot set ".concat(Z," and ").concat(oe," together"))})}if(R._stream=new S,R._stream.setMaxListeners(30),R._onError=R._onError.bind(R),F.filename||F.dirname)X("filename or dirname","stream"),R._basename=R.filename=F.filename?m.basename(F.filename):"winston.log",R.dirname=F.dirname||m.dirname(F.filename),R.options=F.options||{flags:"a"};else if(F.stream)console.warn("options.stream will be removed in winston@4. Use winston.transports.Stream"),X("stream","filename","maxsize"),R._dest=R._stream.pipe(R._setupStream(F.stream)),R.dirname=m.dirname(R._dest.path);else throw new Error("Cannot log to file without filename or stream.");return R.maxsize=F.maxsize||null,R.rotationFormat=F.rotationFormat||!1,R.zippedArchive=F.zippedArchive||!1,R.maxFiles=F.maxFiles||null,R.eol=typeof F.eol=="string"?F.eol:M.EOL,R.tailable=F.tailable||!1,R.lazy=F.lazy||!1,R._size=0,R._pendingSize=0,R._created=0,R._drain=!1,R._opening=!1,R._ending=!1,R._fileExist=!1,R.dirname&&R._createLogDirIfNotExist(R.dirname),R.lazy||R.open(),R}return d(C,N),n(C,[{key:"finishIfEnding",value:function(){var F=this;this._ending&&(this._opening?this.once("open",function(){F._stream.once("finish",function(){return F.emit("finish")}),setImmediate(function(){return F._stream.end()})}):(this._stream.once("finish",function(){return F.emit("finish")}),setImmediate(function(){return F._stream.end()})))}},{key:"log",value:function(F){var X=this,oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){};if(this.silent)return oe(),!0;if(this._drain){this._stream.once("drain",function(){X._drain=!1,X.log(F,oe)});return}if(this._rotate){this._stream.once("rotate",function(){X._rotate=!1,X.log(F,oe)});return}if(this.lazy){if(!this._fileExist){this._opening||this.open(),this.once("open",function(){X._fileExist=!0,X.log(F,oe)});return}if(this._needsNewFile(this._pendingSize)){this._dest.once("close",function(){X._opening||X.open(),X.once("open",function(){X.log(F,oe)})});return}}var J="".concat(F[p]).concat(this.eol),le=Zt.byteLength(J);function ae(){var H=this;if(this._size+=le,this._pendingSize-=le,O("logged %s %s",this._size,J),this.emit("logged",F),!this._rotate&&!this._opening&&this._needsNewFile()){if(this.lazy){this._endStream(function(){H.emit("fileclosed")});return}this._rotate=!0,this._endStream(function(){return H._rotateFile()})}}this._pendingSize+=le,this._opening&&!this.rotatedWhileOpening&&this._needsNewFile(this._size+this._pendingSize)&&(this.rotatedWhileOpening=!0);var Z=this._stream.write(J,ae.bind(this));return Z?oe():(this._drain=!0,this._stream.once("drain",function(){X._drain=!1,oe()})),O("written",Z,this._drain),this.finishIfEnding(),Z}},{key:"query",value:function(F,X){typeof F=="function"&&(X=F,F={}),F=W(F);var oe=m.join(this.dirname,this.filename),J="",le=[],ae=0,Z=h.createReadStream(oe,{encoding:"utf8"});Z.on("error",function(z){if(Z.readable&&Z.destroy(),!!X)return z.code!=="ENOENT"?X(z):X(null,le)}),Z.on("data",function(z){z=(J+z).split(/\n+/);for(var Q=z.length-1,A=0;A<Q;A++)(!F.start||ae>=F.start)&&H(z[A]),ae++;J=z[Q]}),Z.on("close",function(){J&&H(J,!0),F.order==="desc"&&(le=le.reverse()),X&&X(null,le)});function H(z,Q){try{var A=JSON.parse(z);he(A)&&de(A)}catch(P){Q||Z.emit("error",P)}}function de(z){if(F.rows&&le.length>=F.rows&&F.order!=="desc"){Z.readable&&Z.destroy();return}F.fields&&(z=F.fields.reduce(function(Q,A){return Q[A]=z[A],Q},{})),F.order==="desc"&&le.length>=F.rows&&le.shift(),le.push(z)}function he(z){if(z&&t(z)==="object"){var Q=new Date(z.timestamp);if(!(F.from&&Q<F.from||F.until&&Q>F.until||F.level&&F.level!==z.level))return!0}}function W(z){return z=z||{},z.rows=z.rows||z.limit||10,z.start=z.start||0,z.until=z.until||new Date,t(z.until)!=="object"&&(z.until=new Date(z.until)),z.from=z.from||z.until-24*60*60*1e3,t(z.from)!=="object"&&(z.from=new Date(z.from)),z.order=z.order||"desc",z}}},{key:"stream",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},X=m.join(this.dirname,this.filename),oe=new w,J={file:X,start:F.start};return oe.destroy=D(J,function(le,ae){if(le)return oe.emit("error",le);try{oe.emit("data",ae),ae=JSON.parse(ae),oe.emit("log",ae)}catch(Z){oe.emit("error",Z)}}),oe}},{key:"open",value:function(){var F=this;this.filename&&(this._opening||(this._opening=!0,this.stat(function(X,oe){if(X)return F.emit("error",X);O("stat done: %s { size: %s }",F.filename,oe),F._size=oe,F._dest=F._createStream(F._stream),F._opening=!1,F.once("open",function(){F._stream.emit("rotate")||(F._rotate=!1)})})))}},{key:"stat",value:function(F){var X=this,oe=this._getFile(),J=m.join(this.dirname,oe);h.stat(J,function(le,ae){if(le&&le.code==="ENOENT")return O("ENOENTok",J),X.filename=oe,F(null,0);if(le)return O("err ".concat(le.code," ").concat(J)),F(le);if(!ae||X._needsNewFile(ae.size))return X._incFile(function(){return X.stat(F)});X.filename=oe,F(null,ae.size)})}},{key:"close",value:function(F){var X=this;this._stream&&this._stream.end(function(){F&&F(),X.emit("flush"),X.emit("closed")})}},{key:"_needsNewFile",value:function(F){return F=F||this._size,this.maxsize&&F>=this.maxsize}},{key:"_onError",value:function(F){this.emit("error",F)}},{key:"_setupStream",value:function(F){return F.on("error",this._onError),F}},{key:"_cleanupStream",value:function(F){return F.removeListener("error",this._onError),F.destroy(),F}},{key:"_rotateFile",value:function(){var F=this;this._incFile(function(){return F.open()})}},{key:"_endStream",value:function(){var F=this,X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){};this._dest?(this._stream.unpipe(this._dest),this._dest.end(function(){F._cleanupStream(F._dest),X()})):X()}},{key:"_createStream",value:function(F){var X=this,oe=m.join(this.dirname,this.filename);O("create stream start",oe,this.options);var J=h.createWriteStream(oe,this.options).on("error",function(le){return O(le)}).on("close",function(){return O("close",J.path,J.bytesWritten)}).on("open",function(){O("file open ok",oe),X.emit("open",oe),F.pipe(J),X.rotatedWhileOpening&&(X._stream=new S,X._stream.setMaxListeners(30),X._rotateFile(),X.rotatedWhileOpening=!1,X._cleanupStream(J),F.end())});return O("create stream ok",oe),J}},{key:"_incFile",value:function(F){O("_incFile",this.filename);var X=m.extname(this._basename),oe=m.basename(this._basename,X),J=[];this.zippedArchive&&J.push((function(le){var ae=this._created>0&&!this.tailable?this._created:"";this._compressFile(m.join(this.dirname,"".concat(oe).concat(ae).concat(X)),m.join(this.dirname,"".concat(oe).concat(ae).concat(X,".gz")),le)}).bind(this)),J.push((function(le){this.tailable?this._checkMaxFilesTailable(X,oe,le):(this._created+=1,this._checkMaxFilesIncrementing(X,oe,le))}).bind(this)),_(J,F)}},{key:"_getFile",value:function(){var F=m.extname(this._basename),X=m.basename(this._basename,F),oe=this.rotationFormat?this.rotationFormat():this._created;return!this.tailable&&this._created?"".concat(X).concat(oe).concat(F):"".concat(X).concat(F)}},{key:"_checkMaxFilesIncrementing",value:function(F,X,oe){if(!this.maxFiles||this._created<this.maxFiles)return setImmediate(oe);var J=this._created-this.maxFiles,le=J!==0?J:"",ae=this.zippedArchive?".gz":"",Z="".concat(X).concat(le).concat(F).concat(ae),H=m.join(this.dirname,Z);h.unlink(H,oe)}},{key:"_checkMaxFilesTailable",value:function(F,X,oe){var J=this,le=[];if(this.maxFiles){for(var ae=this.zippedArchive?".gz":"",Z=this.maxFiles-1;Z>1;Z--)le.push((function(H,de){var he=this,W="".concat(X).concat(H-1).concat(F).concat(ae),z=m.join(this.dirname,W);h.exists(z,function(Q){if(!Q)return de(null);W="".concat(X).concat(H).concat(F).concat(ae),h.rename(z,m.join(he.dirname,W),de)})}).bind(this,Z));_(le,function(){h.rename(m.join(J.dirname,"".concat(X).concat(F).concat(ae)),m.join(J.dirname,"".concat(X,"1").concat(F).concat(ae)),oe)})}}},{key:"_compressFile",value:function(F,X,oe){h.access(F,h.F_OK,function(J){if(J)return oe();var le=b.createGzip(),ae=h.createReadStream(F),Z=h.createWriteStream(X);Z.on("finish",function(){h.unlink(F,oe)}),ae.pipe(le).pipe(Z)})}},{key:"_createLogDirIfNotExist",value:function(F){h.existsSync(F)||h.mkdirSync(F,{recursive:!0})}}])}(I),f0}var l0={},c0={exports:{}},d0={},DS;function CS(){return DS||(DS=1,function(t){t.fetch=a(Ye.fetch)&&a(Ye.ReadableStream),t.writableStream=a(Ye.WritableStream),t.abortController=a(Ye.AbortController);var e;function r(){if(e!==void 0)return e;if(Ye.XMLHttpRequest){e=new Ye.XMLHttpRequest;try{e.open("GET",Ye.XDomainRequest?"/":"https://example.com")}catch{e=null}}else e=null;return e}function n(i){var s=r();if(!s)return!1;try{return s.responseType=i,s.responseType===i}catch{}return!1}t.arraybuffer=t.fetch||n("arraybuffer"),t.msstream=!t.fetch&&n("ms-stream"),t.mozchunkedarraybuffer=!t.fetch&&n("moz-chunked-arraybuffer"),t.overrideMimeType=t.fetch||(r()?a(r().overrideMimeType):!1);function a(i){return typeof i=="function"}e=null}(d0)),d0}var el={},tl={exports:{}},h0,LS;function FS(){return LS||(LS=1,h0=Jt().EventEmitter),h0}var p0,MS;function XD(){if(MS)return p0;MS=1;function t(m,_){var b=Object.keys(m);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(m);_&&(y=y.filter(function(p){return Object.getOwnPropertyDescriptor(m,p).enumerable})),b.push.apply(b,y)}return b}function e(m){for(var _=1;_<arguments.length;_++){var b=arguments[_]!=null?arguments[_]:{};_%2?t(Object(b),!0).forEach(function(y){r(m,y,b[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(b)):t(Object(b)).forEach(function(y){Object.defineProperty(m,y,Object.getOwnPropertyDescriptor(b,y))})}return m}function r(m,_,b){return _=s(_),_ in m?Object.defineProperty(m,_,{value:b,enumerable:!0,configurable:!0,writable:!0}):m[_]=b,m}function n(m,_){if(!(m instanceof _))throw new TypeError("Cannot call a class as a function")}function a(m,_){for(var b=0;b<_.length;b++){var y=_[b];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(m,s(y.key),y)}}function i(m,_,b){return a(m.prototype,_),Object.defineProperty(m,"prototype",{writable:!1}),m}function s(m){var _=o(m,"string");return typeof _=="symbol"?_:String(_)}function o(m,_){if(typeof m!="object"||m===null)return m;var b=m[Symbol.toPrimitive];if(b!==void 0){var y=b.call(m,_);if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(m)}var f=bt(),u=f.Buffer,l=wt(),d=l.inspect,c=d&&d.custom||"inspect";function h(m,_,b){u.prototype.copy.call(m,_,b)}return p0=function(){function m(){n(this,m),this.head=null,this.tail=null,this.length=0}return i(m,[{key:"push",value:function(b){var y={data:b,next:null};this.length>0?this.tail.next=y:this.head=y,this.tail=y,++this.length}},{key:"unshift",value:function(b){var y={data:b,next:this.head};this.length===0&&(this.tail=y),this.head=y,++this.length}},{key:"shift",value:function(){if(this.length!==0){var b=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,b}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(b){if(this.length===0)return"";for(var y=this.head,p=""+y.data;y=y.next;)p+=b+y.data;return p}},{key:"concat",value:function(b){if(this.length===0)return u.alloc(0);for(var y=u.allocUnsafe(b>>>0),p=this.head,g=0;p;)h(p.data,y,g),g+=p.data.length,p=p.next;return y}},{key:"consume",value:function(b,y){var p;return b<this.head.data.length?(p=this.head.data.slice(0,b),this.head.data=this.head.data.slice(b)):b===this.head.data.length?p=this.shift():p=y?this._getString(b):this._getBuffer(b),p}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(b){var y=this.head,p=1,g=y.data;for(b-=g.length;y=y.next;){var w=y.data,S=b>w.length?w.length:b;if(S===w.length?g+=w:g+=w.slice(0,b),b-=S,b===0){S===w.length?(++p,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=w.slice(S));break}++p}return this.length-=p,g}},{key:"_getBuffer",value:function(b){var y=u.allocUnsafe(b),p=this.head,g=1;for(p.data.copy(y),b-=p.data.length;p=p.next;){var w=p.data,S=b>w.length?w.length:b;if(w.copy(y,y.length-b,0,S),b-=S,b===0){S===w.length?(++g,p.next?this.head=p.next:this.head=this.tail=null):(this.head=p,p.data=w.slice(S));break}++g}return this.length-=g,y}},{key:c,value:function(b,y){return d(this,e(e({},y),{},{depth:0,customInspect:!1}))}}]),m}(),p0}var y0,jS;function qS(){if(jS)return y0;jS=1;function t(s,o){var f=this,u=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return u||l?(o?o(s):s&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,xe.nextTick(a,this,s)):xe.nextTick(a,this,s)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(s||null,function(d){!o&&d?f._writableState?f._writableState.errorEmitted?xe.nextTick(r,f):(f._writableState.errorEmitted=!0,xe.nextTick(e,f,d)):xe.nextTick(e,f,d):o?(xe.nextTick(r,f),o(d)):xe.nextTick(r,f)}),this)}function e(s,o){a(s,o),r(s)}function r(s){s._writableState&&!s._writableState.emitClose||s._readableState&&!s._readableState.emitClose||s.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function a(s,o){s.emit("error",o)}function i(s,o){var f=s._readableState,u=s._writableState;f&&f.autoDestroy||u&&u.autoDestroy?s.destroy(o):s.emit("error",o)}return y0={destroy:t,undestroy:n,errorOrDestroy:i},y0}var g0={},BS;function Ni(){if(BS)return g0;BS=1;function t(o,f){o.prototype=Object.create(f.prototype),o.prototype.constructor=o,o.__proto__=f}var e={};function r(o,f,u){u||(u=Error);function l(c,h,m){return typeof f=="string"?f:f(c,h,m)}var d=function(c){t(h,c);function h(m,_,b){return c.call(this,l(m,_,b))||this}return h}(u);d.prototype.name=u.name,d.prototype.code=o,e[o]=d}function n(o,f){if(Array.isArray(o)){var u=o.length;return o=o.map(function(l){return String(l)}),u>2?"one of ".concat(f," ").concat(o.slice(0,u-1).join(", "),", or ")+o[u-1]:u===2?"one of ".concat(f," ").concat(o[0]," or ").concat(o[1]):"of ".concat(f," ").concat(o[0])}else return"of ".concat(f," ").concat(String(o))}function a(o,f,u){return o.substr(0,f.length)===f}function i(o,f,u){return(u===void 0||u>o.length)&&(u=o.length),o.substring(u-f.length,u)===f}function s(o,f,u){return typeof u!="number"&&(u=0),u+f.length>o.length?!1:o.indexOf(f,u)!==-1}return r("ERR_INVALID_OPT_VALUE",function(o,f){return'The value "'+f+'" is invalid for option "'+o+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(o,f,u){var l;typeof f=="string"&&a(f,"not ")?(l="must not be",f=f.replace(/^not /,"")):l="must be";var d;if(i(o," argument"))d="The ".concat(o," ").concat(l," ").concat(n(f,"type"));else{var c=s(o,".")?"property":"argument";d='The "'.concat(o,'" ').concat(c," ").concat(l," ").concat(n(f,"type"))}return d+=". Received type ".concat(typeof u),d},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(o){return"The "+o+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(o){return"Cannot call "+o+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(o){return"Unknown encoding: "+o},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),g0.codes=e,g0}var b0,kS;function $S(){if(kS)return b0;kS=1;var t=Ni().codes.ERR_INVALID_OPT_VALUE;function e(n,a,i){return n.highWaterMark!=null?n.highWaterMark:a?n[i]:null}function r(n,a,i,s){var o=e(a,s,i);if(o!=null){if(!(isFinite(o)&&Math.floor(o)===o)||o<0){var f=s?i:"highWaterMark";throw new t(f,o)}return Math.floor(o)}return n.objectMode?16:16*1024}return b0={getHighWaterMark:r},b0}var m0,US;function HS(){if(US)return m0;US=1,m0=M;function t(A){var P=this;this.next=null,this.entry=null,this.finish=function(){Q(P,A)}}var e;M.WritableState=I;var r={deprecate:Pf()},n=FS(),a=bt().Buffer,i=(typeof Ye<"u"?Ye:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s(A){return a.from(A)}function o(A){return a.isBuffer(A)||A instanceof i}var f=qS(),u=$S(),l=u.getHighWaterMark,d=Ni().codes,c=d.ERR_INVALID_ARG_TYPE,h=d.ERR_METHOD_NOT_IMPLEMENTED,m=d.ERR_MULTIPLE_CALLBACK,_=d.ERR_STREAM_CANNOT_PIPE,b=d.ERR_STREAM_DESTROYED,y=d.ERR_STREAM_NULL_VALUES,p=d.ERR_STREAM_WRITE_AFTER_END,g=d.ERR_UNKNOWN_ENCODING,w=f.errorOrDestroy;vt()(M,n);function S(){}function I(A,P,k){e=e||Pi(),A=A||{},typeof k!="boolean"&&(k=P instanceof e),this.objectMode=!!A.objectMode,k&&(this.objectMode=this.objectMode||!!A.writableObjectMode),this.highWaterMark=l(this,A,"writableHighWaterMark",k),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var G=A.decodeStrings===!1;this.decodeStrings=!G,this.defaultEncoding=A.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(te){J(P,te)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=A.emitClose!==!1,this.autoDestroy=!!A.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}I.prototype.getBuffer=function(){for(var P=this.bufferedRequest,k=[];P;)k.push(P),P=P.next;return k},function(){try{Object.defineProperty(I.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var O;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(O=Function.prototype[Symbol.hasInstance],Object.defineProperty(M,Symbol.hasInstance,{value:function(P){return O.call(this,P)?!0:this!==M?!1:P&&P._writableState instanceof I}})):O=function(P){return P instanceof this};function M(A){e=e||Pi();var P=this instanceof e;if(!P&&!O.call(M,this))return new M(A);this._writableState=new I(A,this,P),this.writable=!0,A&&(typeof A.write=="function"&&(this._write=A.write),typeof A.writev=="function"&&(this._writev=A.writev),typeof A.destroy=="function"&&(this._destroy=A.destroy),typeof A.final=="function"&&(this._final=A.final)),n.call(this)}M.prototype.pipe=function(){w(this,new _)};function D(A,P){var k=new p;w(A,k),xe.nextTick(P,k)}function N(A,P,k,G){var te;return k===null?te=new y:typeof k!="string"&&!P.objectMode&&(te=new c("chunk",["string","Buffer"],k)),te?(w(A,te),xe.nextTick(G,te),!1):!0}M.prototype.write=function(A,P,k){var G=this._writableState,te=!1,E=!G.objectMode&&o(A);return E&&!a.isBuffer(A)&&(A=s(A)),typeof P=="function"&&(k=P,P=null),E?P="buffer":P||(P=G.defaultEncoding),typeof k!="function"&&(k=S),G.ending?D(this,k):(E||N(this,G,A,k))&&(G.pendingcb++,te=R(this,G,E,A,P,k)),te},M.prototype.cork=function(){this._writableState.corked++},M.prototype.uncork=function(){var A=this._writableState;A.corked&&(A.corked--,!A.writing&&!A.corked&&!A.bufferProcessing&&A.bufferedRequest&&Z(this,A))},M.prototype.setDefaultEncoding=function(P){if(typeof P=="string"&&(P=P.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((P+"").toLowerCase())>-1))throw new g(P);return this._writableState.defaultEncoding=P,this},Object.defineProperty(M.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function C(A,P,k){return!A.objectMode&&A.decodeStrings!==!1&&typeof P=="string"&&(P=a.from(P,k)),P}Object.defineProperty(M.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function R(A,P,k,G,te,E){if(!k){var v=C(P,G,te);G!==v&&(k=!0,te="buffer",G=v)}var T=P.objectMode?1:G.length;P.length+=T;var L=P.length<P.highWaterMark;if(L||(P.needDrain=!0),P.writing||P.corked){var Y=P.lastBufferedRequest;P.lastBufferedRequest={chunk:G,encoding:te,isBuf:k,callback:E,next:null},Y?Y.next=P.lastBufferedRequest:P.bufferedRequest=P.lastBufferedRequest,P.bufferedRequestCount+=1}else F(A,P,!1,T,G,te,E);return L}function F(A,P,k,G,te,E,v){P.writelen=G,P.writecb=v,P.writing=!0,P.sync=!0,P.destroyed?P.onwrite(new b("write")):k?A._writev(te,P.onwrite):A._write(te,E,P.onwrite),P.sync=!1}function X(A,P,k,G,te){--P.pendingcb,k?(xe.nextTick(te,G),xe.nextTick(W,A,P),A._writableState.errorEmitted=!0,w(A,G)):(te(G),A._writableState.errorEmitted=!0,w(A,G),W(A,P))}function oe(A){A.writing=!1,A.writecb=null,A.length-=A.writelen,A.writelen=0}function J(A,P){var k=A._writableState,G=k.sync,te=k.writecb;if(typeof te!="function")throw new m;if(oe(k),P)X(A,k,G,P,te);else{var E=H(k)||A.destroyed;!E&&!k.corked&&!k.bufferProcessing&&k.bufferedRequest&&Z(A,k),G?xe.nextTick(le,A,k,E,te):le(A,k,E,te)}}function le(A,P,k,G){k||ae(A,P),P.pendingcb--,G(),W(A,P)}function ae(A,P){P.length===0&&P.needDrain&&(P.needDrain=!1,A.emit("drain"))}function Z(A,P){P.bufferProcessing=!0;var k=P.bufferedRequest;if(A._writev&&k&&k.next){var G=P.bufferedRequestCount,te=new Array(G),E=P.corkedRequestsFree;E.entry=k;for(var v=0,T=!0;k;)te[v]=k,k.isBuf||(T=!1),k=k.next,v+=1;te.allBuffers=T,F(A,P,!0,P.length,te,"",E.finish),P.pendingcb++,P.lastBufferedRequest=null,E.next?(P.corkedRequestsFree=E.next,E.next=null):P.corkedRequestsFree=new t(P),P.bufferedRequestCount=0}else{for(;k;){var L=k.chunk,Y=k.encoding,ne=k.callback,pe=P.objectMode?1:L.length;if(F(A,P,!1,pe,L,Y,ne),k=k.next,P.bufferedRequestCount--,P.writing)break}k===null&&(P.lastBufferedRequest=null)}P.bufferedRequest=k,P.bufferProcessing=!1}M.prototype._write=function(A,P,k){k(new h("_write()"))},M.prototype._writev=null,M.prototype.end=function(A,P,k){var G=this._writableState;return typeof A=="function"?(k=A,A=null,P=null):typeof P=="function"&&(k=P,P=null),A!=null&&this.write(A,P),G.corked&&(G.corked=1,this.uncork()),G.ending||z(this,G,k),this},Object.defineProperty(M.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function H(A){return A.ending&&A.length===0&&A.bufferedRequest===null&&!A.finished&&!A.writing}function de(A,P){A._final(function(k){P.pendingcb--,k&&w(A,k),P.prefinished=!0,A.emit("prefinish"),W(A,P)})}function he(A,P){!P.prefinished&&!P.finalCalled&&(typeof A._final=="function"&&!P.destroyed?(P.pendingcb++,P.finalCalled=!0,xe.nextTick(de,A,P)):(P.prefinished=!0,A.emit("prefinish")))}function W(A,P){var k=H(P);if(k&&(he(A,P),P.pendingcb===0&&(P.finished=!0,A.emit("finish"),P.autoDestroy))){var G=A._readableState;(!G||G.autoDestroy&&G.endEmitted)&&A.destroy()}return k}function z(A,P,k){P.ending=!0,W(A,P),k&&(P.finished?xe.nextTick(k):A.once("finish",k)),P.ended=!0,A.writable=!1}function Q(A,P,k){var G=A.entry;for(A.entry=null;G;){var te=G.callback;P.pendingcb--,te(k),G=G.next}P.corkedRequestsFree.next=A}return Object.defineProperty(M.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(P){this._writableState&&(this._writableState.destroyed=P)}}),M.prototype.destroy=f.destroy,M.prototype._undestroy=f.undestroy,M.prototype._destroy=function(A,P){P(A)},m0}var _0,VS;function Pi(){if(VS)return _0;VS=1;var t=Object.keys||function(u){var l=[];for(var d in u)l.push(d);return l};_0=s;var e=QS(),r=HS();vt()(s,e);for(var n=t(r.prototype),a=0;a<n.length;a++){var i=n[a];s.prototype[i]||(s.prototype[i]=r.prototype[i])}function s(u){if(!(this instanceof s))return new s(u);e.call(this,u),r.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",o)))}Object.defineProperty(s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(s.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(s.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function o(){this._writableState.ended||xe.nextTick(f,this)}function f(u){u.end()}return Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(l){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=l,this._writableState.destroyed=l)}}),_0}var v0,GS;function w0(){if(GS)return v0;GS=1;var t=Ni().codes.ERR_STREAM_PREMATURE_CLOSE;function e(i){var s=!1;return function(){if(!s){s=!0;for(var o=arguments.length,f=new Array(o),u=0;u<o;u++)f[u]=arguments[u];i.apply(this,f)}}}function r(){}function n(i){return i.setHeader&&typeof i.abort=="function"}function a(i,s,o){if(typeof s=="function")return a(i,null,s);s||(s={}),o=e(o||r);var f=s.readable||s.readable!==!1&&i.readable,u=s.writable||s.writable!==!1&&i.writable,l=function(){i.writable||c()},d=i._writableState&&i._writableState.finished,c=function(){u=!1,d=!0,f||o.call(i)},h=i._readableState&&i._readableState.endEmitted,m=function(){f=!1,h=!0,u||o.call(i)},_=function(g){o.call(i,g)},b=function(){var g;if(f&&!h)return(!i._readableState||!i._readableState.ended)&&(g=new t),o.call(i,g);if(u&&!d)return(!i._writableState||!i._writableState.ended)&&(g=new t),o.call(i,g)},y=function(){i.req.on("finish",c)};return n(i)?(i.on("complete",c),i.on("abort",b),i.req?y():i.on("request",y)):u&&!i._writableState&&(i.on("end",l),i.on("close",l)),i.on("end",m),i.on("finish",c),s.error!==!1&&i.on("error",_),i.on("close",b),function(){i.removeListener("complete",c),i.removeListener("abort",b),i.removeListener("request",y),i.req&&i.req.removeListener("finish",c),i.removeListener("end",l),i.removeListener("close",l),i.removeListener("finish",c),i.removeListener("end",m),i.removeListener("error",_),i.removeListener("close",b)}}return v0=a,v0}var E0,zS;function ZD(){if(zS)return E0;zS=1;var t;function e(g,w,S){return w=r(w),w in g?Object.defineProperty(g,w,{value:S,enumerable:!0,configurable:!0,writable:!0}):g[w]=S,g}function r(g){var w=n(g,"string");return typeof w=="symbol"?w:String(w)}function n(g,w){if(typeof g!="object"||g===null)return g;var S=g[Symbol.toPrimitive];if(S!==void 0){var I=S.call(g,w||"default");if(typeof I!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(g)}var a=w0(),i=Symbol("lastResolve"),s=Symbol("lastReject"),o=Symbol("error"),f=Symbol("ended"),u=Symbol("lastPromise"),l=Symbol("handlePromise"),d=Symbol("stream");function c(g,w){return{value:g,done:w}}function h(g){var w=g[i];if(w!==null){var S=g[d].read();S!==null&&(g[u]=null,g[i]=null,g[s]=null,w(c(S,!1)))}}function m(g){xe.nextTick(h,g)}function _(g,w){return function(S,I){g.then(function(){if(w[f]){S(c(void 0,!0));return}w[l](S,I)},I)}}var b=Object.getPrototypeOf(function(){}),y=Object.setPrototypeOf((t={get stream(){return this[d]},next:function(){var w=this,S=this[o];if(S!==null)return Promise.reject(S);if(this[f])return Promise.resolve(c(void 0,!0));if(this[d].destroyed)return new Promise(function(D,N){xe.nextTick(function(){w[o]?N(w[o]):D(c(void 0,!0))})});var I=this[u],O;if(I)O=new Promise(_(I,this));else{var M=this[d].read();if(M!==null)return Promise.resolve(c(M,!1));O=new Promise(this[l])}return this[u]=O,O}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var w=this;return new Promise(function(S,I){w[d].destroy(null,function(O){if(O){I(O);return}S(c(void 0,!0))})})}),t),b),p=function(w){var S,I=Object.create(y,(S={},e(S,d,{value:w,writable:!0}),e(S,i,{value:null,writable:!0}),e(S,s,{value:null,writable:!0}),e(S,o,{value:null,writable:!0}),e(S,f,{value:w._readableState.endEmitted,writable:!0}),e(S,l,{value:function(M,D){var N=I[d].read();N?(I[u]=null,I[i]=null,I[s]=null,M(c(N,!1))):(I[i]=M,I[s]=D)},writable:!0}),S));return I[u]=null,a(w,function(O){if(O&&O.code!=="ERR_STREAM_PREMATURE_CLOSE"){var M=I[s];M!==null&&(I[u]=null,I[i]=null,I[s]=null,M(O)),I[o]=O;return}var D=I[i];D!==null&&(I[u]=null,I[i]=null,I[s]=null,D(c(void 0,!0))),I[f]=!0}),w.on("readable",m.bind(null,I)),I};return E0=p,E0}var S0,WS;function JD(){return WS||(WS=1,S0=function(){throw new Error("Readable.from is not available in the browser")}),S0}var T0,KS;function QS(){if(KS)return T0;KS=1,T0=D;var t;D.ReadableState=M,Jt().EventEmitter;var e=function(v,T){return v.listeners(T).length},r=FS(),n=bt().Buffer,a=(typeof Ye<"u"?Ye:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function i(E){return n.from(E)}function s(E){return n.isBuffer(E)||E instanceof a}var o=wt(),f;o&&o.debuglog?f=o.debuglog("stream"):f=function(){};var u=XD(),l=qS(),d=$S(),c=d.getHighWaterMark,h=Ni().codes,m=h.ERR_INVALID_ARG_TYPE,_=h.ERR_STREAM_PUSH_AFTER_EOF,b=h.ERR_METHOD_NOT_IMPLEMENTED,y=h.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,p,g,w;vt()(D,r);var S=l.errorOrDestroy,I=["error","close","destroy","pause","resume"];function O(E,v,T){if(typeof E.prependListener=="function")return E.prependListener(v,T);!E._events||!E._events[v]?E.on(v,T):Array.isArray(E._events[v])?E._events[v].unshift(T):E._events[v]=[T,E._events[v]]}function M(E,v,T){t=t||Pi(),E=E||{},typeof T!="boolean"&&(T=v instanceof t),this.objectMode=!!E.objectMode,T&&(this.objectMode=this.objectMode||!!E.readableObjectMode),this.highWaterMark=c(this,E,"readableHighWaterMark",T),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=E.emitClose!==!1,this.autoDestroy=!!E.autoDestroy,this.destroyed=!1,this.defaultEncoding=E.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,E.encoding&&(p||(p=Mr().StringDecoder),this.decoder=new p(E.encoding),this.encoding=E.encoding)}function D(E){if(t=t||Pi(),!(this instanceof D))return new D(E);var v=this instanceof t;this._readableState=new M(E,this,v),this.readable=!0,E&&(typeof E.read=="function"&&(this._read=E.read),typeof E.destroy=="function"&&(this._destroy=E.destroy)),r.call(this)}Object.defineProperty(D.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(v){this._readableState&&(this._readableState.destroyed=v)}}),D.prototype.destroy=l.destroy,D.prototype._undestroy=l.undestroy,D.prototype._destroy=function(E,v){v(E)},D.prototype.push=function(E,v){var T=this._readableState,L;return T.objectMode?L=!0:typeof E=="string"&&(v=v||T.defaultEncoding,v!==T.encoding&&(E=n.from(E,v),v=""),L=!0),N(this,E,v,!1,L)},D.prototype.unshift=function(E){return N(this,E,null,!0,!1)};function N(E,v,T,L,Y){f("readableAddChunk",v);var ne=E._readableState;if(v===null)ne.reading=!1,J(E,ne);else{var pe;if(Y||(pe=R(ne,v)),pe)S(E,pe);else if(ne.objectMode||v&&v.length>0)if(typeof v!="string"&&!ne.objectMode&&Object.getPrototypeOf(v)!==n.prototype&&(v=i(v)),L)ne.endEmitted?S(E,new y):C(E,ne,v,!0);else if(ne.ended)S(E,new _);else{if(ne.destroyed)return!1;ne.reading=!1,ne.decoder&&!T?(v=ne.decoder.write(v),ne.objectMode||v.length!==0?C(E,ne,v,!1):Z(E,ne)):C(E,ne,v,!1)}else L||(ne.reading=!1,Z(E,ne))}return!ne.ended&&(ne.length<ne.highWaterMark||ne.length===0)}function C(E,v,T,L){v.flowing&&v.length===0&&!v.sync?(v.awaitDrain=0,E.emit("data",T)):(v.length+=v.objectMode?1:T.length,L?v.buffer.unshift(T):v.buffer.push(T),v.needReadable&&le(E)),Z(E,v)}function R(E,v){var T;return!s(v)&&typeof v!="string"&&v!==void 0&&!E.objectMode&&(T=new m("chunk",["string","Buffer","Uint8Array"],v)),T}D.prototype.isPaused=function(){return this._readableState.flowing===!1},D.prototype.setEncoding=function(E){p||(p=Mr().StringDecoder);var v=new p(E);this._readableState.decoder=v,this._readableState.encoding=this._readableState.decoder.encoding;for(var T=this._readableState.buffer.head,L="";T!==null;)L+=v.write(T.data),T=T.next;return this._readableState.buffer.clear(),L!==""&&this._readableState.buffer.push(L),this._readableState.length=L.length,this};var F=1073741824;function X(E){return E>=F?E=F:(E--,E|=E>>>1,E|=E>>>2,E|=E>>>4,E|=E>>>8,E|=E>>>16,E++),E}function oe(E,v){return E<=0||v.length===0&&v.ended?0:v.objectMode?1:E!==E?v.flowing&&v.length?v.buffer.head.data.length:v.length:(E>v.highWaterMark&&(v.highWaterMark=X(E)),E<=v.length?E:v.ended?v.length:(v.needReadable=!0,0))}D.prototype.read=function(E){f("read",E),E=parseInt(E,10);var v=this._readableState,T=E;if(E!==0&&(v.emittedReadable=!1),E===0&&v.needReadable&&((v.highWaterMark!==0?v.length>=v.highWaterMark:v.length>0)||v.ended))return f("read: emitReadable",v.length,v.ended),v.length===0&&v.ended?k(this):le(this),null;if(E=oe(E,v),E===0&&v.ended)return v.length===0&&k(this),null;var L=v.needReadable;f("need readable",L),(v.length===0||v.length-E<v.highWaterMark)&&(L=!0,f("length less than watermark",L)),v.ended||v.reading?(L=!1,f("reading or ended",L)):L&&(f("do read"),v.reading=!0,v.sync=!0,v.length===0&&(v.needReadable=!0),this._read(v.highWaterMark),v.sync=!1,v.reading||(E=oe(T,v)));var Y;return E>0?Y=P(E,v):Y=null,Y===null?(v.needReadable=v.length<=v.highWaterMark,E=0):(v.length-=E,v.awaitDrain=0),v.length===0&&(v.ended||(v.needReadable=!0),T!==E&&v.ended&&k(this)),Y!==null&&this.emit("data",Y),Y};function J(E,v){if(f("onEofChunk"),!v.ended){if(v.decoder){var T=v.decoder.end();T&&T.length&&(v.buffer.push(T),v.length+=v.objectMode?1:T.length)}v.ended=!0,v.sync?le(E):(v.needReadable=!1,v.emittedReadable||(v.emittedReadable=!0,ae(E)))}}function le(E){var v=E._readableState;f("emitReadable",v.needReadable,v.emittedReadable),v.needReadable=!1,v.emittedReadable||(f("emitReadable",v.flowing),v.emittedReadable=!0,xe.nextTick(ae,E))}function ae(E){var v=E._readableState;f("emitReadable_",v.destroyed,v.length,v.ended),!v.destroyed&&(v.length||v.ended)&&(E.emit("readable"),v.emittedReadable=!1),v.needReadable=!v.flowing&&!v.ended&&v.length<=v.highWaterMark,A(E)}function Z(E,v){v.readingMore||(v.readingMore=!0,xe.nextTick(H,E,v))}function H(E,v){for(;!v.reading&&!v.ended&&(v.length<v.highWaterMark||v.flowing&&v.length===0);){var T=v.length;if(f("maybeReadMore read 0"),E.read(0),T===v.length)break}v.readingMore=!1}D.prototype._read=function(E){S(this,new b("_read()"))},D.prototype.pipe=function(E,v){var T=this,L=this._readableState;switch(L.pipesCount){case 0:L.pipes=E;break;case 1:L.pipes=[L.pipes,E];break;default:L.pipes.push(E);break}L.pipesCount+=1,f("pipe count=%d opts=%j",L.pipesCount,v);var Y=(!v||v.end!==!1)&&E!==xe.stdout&&E!==xe.stderr,ne=Y?we:Fe;L.endEmitted?xe.nextTick(ne):T.once("end",ne),E.on("unpipe",pe);function pe(je,Me){f("onunpipe"),je===T&&Me&&Me.hasUnpiped===!1&&(Me.hasUnpiped=!0,Le())}function we(){f("onend"),E.end()}var fe=de(T);E.on("drain",fe);var Re=!1;function Le(){f("cleanup"),E.removeListener("close",_e),E.removeListener("finish",Ee),E.removeListener("drain",fe),E.removeListener("error",Ue),E.removeListener("unpipe",pe),T.removeListener("end",we),T.removeListener("end",Fe),T.removeListener("data",Te),Re=!0,L.awaitDrain&&(!E._writableState||E._writableState.needDrain)&&fe()}T.on("data",Te);function Te(je){f("ondata");var Me=E.write(je);f("dest.write",Me),Me===!1&&((L.pipesCount===1&&L.pipes===E||L.pipesCount>1&&te(L.pipes,E)!==-1)&&!Re&&(f("false write response, pause",L.awaitDrain),L.awaitDrain++),T.pause())}function Ue(je){f("onerror",je),Fe(),E.removeListener("error",Ue),e(E,"error")===0&&S(E,je)}O(E,"error",Ue);function _e(){E.removeListener("finish",Ee),Fe()}E.once("close",_e);function Ee(){f("onfinish"),E.removeListener("close",_e),Fe()}E.once("finish",Ee);function Fe(){f("unpipe"),T.unpipe(E)}return E.emit("pipe",T),L.flowing||(f("pipe resume"),T.resume()),E};function de(E){return function(){var T=E._readableState;f("pipeOnDrain",T.awaitDrain),T.awaitDrain&&T.awaitDrain--,T.awaitDrain===0&&e(E,"data")&&(T.flowing=!0,A(E))}}D.prototype.unpipe=function(E){var v=this._readableState,T={hasUnpiped:!1};if(v.pipesCount===0)return this;if(v.pipesCount===1)return E&&E!==v.pipes?this:(E||(E=v.pipes),v.pipes=null,v.pipesCount=0,v.flowing=!1,E&&E.emit("unpipe",this,T),this);if(!E){var L=v.pipes,Y=v.pipesCount;v.pipes=null,v.pipesCount=0,v.flowing=!1;for(var ne=0;ne<Y;ne++)L[ne].emit("unpipe",this,{hasUnpiped:!1});return this}var pe=te(v.pipes,E);return pe===-1?this:(v.pipes.splice(pe,1),v.pipesCount-=1,v.pipesCount===1&&(v.pipes=v.pipes[0]),E.emit("unpipe",this,T),this)},D.prototype.on=function(E,v){var T=r.prototype.on.call(this,E,v),L=this._readableState;return E==="data"?(L.readableListening=this.listenerCount("readable")>0,L.flowing!==!1&&this.resume()):E==="readable"&&!L.endEmitted&&!L.readableListening&&(L.readableListening=L.needReadable=!0,L.flowing=!1,L.emittedReadable=!1,f("on readable",L.length,L.reading),L.length?le(this):L.reading||xe.nextTick(W,this)),T},D.prototype.addListener=D.prototype.on,D.prototype.removeListener=function(E,v){var T=r.prototype.removeListener.call(this,E,v);return E==="readable"&&xe.nextTick(he,this),T},D.prototype.removeAllListeners=function(E){var v=r.prototype.removeAllListeners.apply(this,arguments);return(E==="readable"||E===void 0)&&xe.nextTick(he,this),v};function he(E){var v=E._readableState;v.readableListening=E.listenerCount("readable")>0,v.resumeScheduled&&!v.paused?v.flowing=!0:E.listenerCount("data")>0&&E.resume()}function W(E){f("readable nexttick read 0"),E.read(0)}D.prototype.resume=function(){var E=this._readableState;return E.flowing||(f("resume"),E.flowing=!E.readableListening,z(this,E)),E.paused=!1,this};function z(E,v){v.resumeScheduled||(v.resumeScheduled=!0,xe.nextTick(Q,E,v))}function Q(E,v){f("resume",v.reading),v.reading||E.read(0),v.resumeScheduled=!1,E.emit("resume"),A(E),v.flowing&&!v.reading&&E.read(0)}D.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function A(E){var v=E._readableState;for(f("flow",v.flowing);v.flowing&&E.read()!==null;);}D.prototype.wrap=function(E){var v=this,T=this._readableState,L=!1;E.on("end",function(){if(f("wrapped end"),T.decoder&&!T.ended){var pe=T.decoder.end();pe&&pe.length&&v.push(pe)}v.push(null)}),E.on("data",function(pe){if(f("wrapped data"),T.decoder&&(pe=T.decoder.write(pe)),!(T.objectMode&&pe==null)&&!(!T.objectMode&&(!pe||!pe.length))){var we=v.push(pe);we||(L=!0,E.pause())}});for(var Y in E)this[Y]===void 0&&typeof E[Y]=="function"&&(this[Y]=function(we){return function(){return E[we].apply(E,arguments)}}(Y));for(var ne=0;ne<I.length;ne++)E.on(I[ne],this.emit.bind(this,I[ne]));return this._read=function(pe){f("wrapped _read",pe),L&&(L=!1,E.resume())},this},typeof Symbol=="function"&&(D.prototype[Symbol.asyncIterator]=function(){return g===void 0&&(g=ZD()),g(this)}),Object.defineProperty(D.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(D.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(D.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(v){this._readableState&&(this._readableState.flowing=v)}}),D._fromList=P,Object.defineProperty(D.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function P(E,v){if(v.length===0)return null;var T;return v.objectMode?T=v.buffer.shift():!E||E>=v.length?(v.decoder?T=v.buffer.join(""):v.buffer.length===1?T=v.buffer.first():T=v.buffer.concat(v.length),v.buffer.clear()):T=v.buffer.consume(E,v.decoder),T}function k(E){var v=E._readableState;f("endReadable",v.endEmitted),v.endEmitted||(v.ended=!0,xe.nextTick(G,v,E))}function G(E,v){if(f("endReadableNT",E.endEmitted,E.length),!E.endEmitted&&E.length===0&&(E.endEmitted=!0,v.readable=!1,v.emit("end"),E.autoDestroy)){var T=v._writableState;(!T||T.autoDestroy&&T.finished)&&v.destroy()}}typeof Symbol=="function"&&(D.from=function(E,v){return w===void 0&&(w=JD()),w(D,E,v)});function te(E,v){for(var T=0,L=E.length;T<L;T++)if(E[T]===v)return T;return-1}return T0}var x0,XS;function ZS(){if(XS)return x0;XS=1,x0=o;var t=Ni().codes,e=t.ERR_METHOD_NOT_IMPLEMENTED,r=t.ERR_MULTIPLE_CALLBACK,n=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=t.ERR_TRANSFORM_WITH_LENGTH_0,i=Pi();vt()(o,i);function s(l,d){var c=this._transformState;c.transforming=!1;var h=c.writecb;if(h===null)return this.emit("error",new r);c.writechunk=null,c.writecb=null,d!=null&&this.push(d),h(l);var m=this._readableState;m.reading=!1,(m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}function o(l){if(!(this instanceof o))return new o(l);i.call(this,l),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,l&&(typeof l.transform=="function"&&(this._transform=l.transform),typeof l.flush=="function"&&(this._flush=l.flush)),this.on("prefinish",f)}function f(){var l=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(d,c){u(l,d,c)}):u(this,null,null)}o.prototype.push=function(l,d){return this._transformState.needTransform=!1,i.prototype.push.call(this,l,d)},o.prototype._transform=function(l,d,c){c(new e("_transform()"))},o.prototype._write=function(l,d,c){var h=this._transformState;if(h.writecb=c,h.writechunk=l,h.writeencoding=d,!h.transforming){var m=this._readableState;(h.needTransform||m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}},o.prototype._read=function(l){var d=this._transformState;d.writechunk!==null&&!d.transforming?(d.transforming=!0,this._transform(d.writechunk,d.writeencoding,d.afterTransform)):d.needTransform=!0},o.prototype._destroy=function(l,d){i.prototype._destroy.call(this,l,function(c){d(c)})};function u(l,d,c){if(d)return l.emit("error",d);if(c!=null&&l.push(c),l._writableState.length)throw new a;if(l._transformState.transforming)throw new n;return l.push(null)}return x0}var R0,JS;function YD(){if(JS)return R0;JS=1,R0=e;var t=ZS();vt()(e,t);function e(r){if(!(this instanceof e))return new e(r);t.call(this,r)}return e.prototype._transform=function(r,n,a){a(null,r)},R0}var I0,YS;function eC(){if(YS)return I0;YS=1;var t;function e(c){var h=!1;return function(){h||(h=!0,c.apply(void 0,arguments))}}var r=Ni().codes,n=r.ERR_MISSING_ARGS,a=r.ERR_STREAM_DESTROYED;function i(c){if(c)throw c}function s(c){return c.setHeader&&typeof c.abort=="function"}function o(c,h,m,_){_=e(_);var b=!1;c.on("close",function(){b=!0}),t===void 0&&(t=w0()),t(c,{readable:h,writable:m},function(p){if(p)return _(p);b=!0,_()});var y=!1;return function(p){if(!b&&!y){if(y=!0,s(c))return c.abort();if(typeof c.destroy=="function")return c.destroy();_(p||new a("pipe"))}}}function f(c){c()}function u(c,h){return c.pipe(h)}function l(c){return!c.length||typeof c[c.length-1]!="function"?i:c.pop()}function d(){for(var c=arguments.length,h=new Array(c),m=0;m<c;m++)h[m]=arguments[m];var _=l(h);if(Array.isArray(h[0])&&(h=h[0]),h.length<2)throw new n("streams");var b,y=h.map(function(p,g){var w=g<h.length-1,S=g>0;return o(p,w,S,function(I){b||(b=I),I&&y.forEach(f),!w&&(y.forEach(f),_(b))})});return h.reduce(u)}return I0=d,I0}var eT;function tT(){return eT||(eT=1,function(t,e){e=t.exports=QS(),e.Stream=e,e.Readable=e,e.Writable=HS(),e.Duplex=Pi(),e.Transform=ZS(),e.PassThrough=YD(),e.finished=w0(),e.pipeline=eC()}(tl,tl.exports)),tl.exports}var rT;function nT(){if(rT)return el;rT=1;var t=CS(),e=vt(),r=tT(),n=el.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},a=el.IncomingMessage=function(i,s,o,f){var u=this;if(r.Readable.call(u),u._mode=o,u.headers={},u.rawHeaders=[],u.trailers={},u.rawTrailers=[],u.on("end",function(){xe.nextTick(function(){u.emit("close")})}),o==="fetch"){let _=function(){d.read().then(function(b){if(!u._destroyed){if(f(b.done),b.done){u.push(null);return}u.push(Zt.from(b.value)),_()}}).catch(function(b){f(!0),u._destroyed||u.emit("error",b)})};if(u._fetchResponse=s,u.url=s.url,u.statusCode=s.status,u.statusMessage=s.statusText,s.headers.forEach(function(b,y){u.headers[y.toLowerCase()]=b,u.rawHeaders.push(y,b)}),t.writableStream){var l=new WritableStream({write:function(b){return f(!1),new Promise(function(y,p){u._destroyed?p():u.push(Zt.from(b))?y():u._resumeFetch=y})},close:function(){f(!0),u._destroyed||u.push(null)},abort:function(b){f(!0),u._destroyed||u.emit("error",b)}});try{s.body.pipeTo(l).catch(function(b){f(!0),u._destroyed||u.emit("error",b)});return}catch{}}var d=s.body.getReader();_()}else{u._xhr=i,u._pos=0,u.url=i.responseURL,u.statusCode=i.status,u.statusMessage=i.statusText;var c=i.getAllResponseHeaders().split(/\r?\n/);if(c.forEach(function(_){var b=_.match(/^([^:]+):\s*(.*)/);if(b){var y=b[1].toLowerCase();y==="set-cookie"?(u.headers[y]===void 0&&(u.headers[y]=[]),u.headers[y].push(b[2])):u.headers[y]!==void 0?u.headers[y]+=", "+b[2]:u.headers[y]=b[2],u.rawHeaders.push(b[1],b[2])}}),u._charset="x-user-defined",!t.overrideMimeType){var h=u.rawHeaders["mime-type"];if(h){var m=h.match(/;\s*charset=([^;])(;|$)/);m&&(u._charset=m[1].toLowerCase())}u._charset||(u._charset="utf-8")}}};return e(a,r.Readable),a.prototype._read=function(){var i=this,s=i._resumeFetch;s&&(i._resumeFetch=null,s())},a.prototype._onXHRProgress=function(i){var s=this,o=s._xhr,f=null;switch(s._mode){case"text":if(f=o.responseText,f.length>s._pos){var u=f.substr(s._pos);if(s._charset==="x-user-defined"){for(var l=Zt.alloc(u.length),d=0;d<u.length;d++)l[d]=u.charCodeAt(d)&255;s.push(l)}else s.push(u,s._charset);s._pos=f.length}break;case"arraybuffer":if(o.readyState!==n.DONE||!o.response)break;f=o.response,s.push(Zt.from(new Uint8Array(f)));break;case"moz-chunked-arraybuffer":if(f=o.response,o.readyState!==n.LOADING||!f)break;s.push(Zt.from(new Uint8Array(f)));break;case"ms-stream":if(f=o.response,o.readyState!==n.LOADING)break;var c=new Ye.MSStreamReader;c.onprogress=function(){c.result.byteLength>s._pos&&(s.push(Zt.from(new Uint8Array(c.result.slice(s._pos)))),s._pos=c.result.byteLength)},c.onload=function(){i(!0),s.push(null)},c.readAsArrayBuffer(f);break}s._xhr.readyState===n.DONE&&s._mode!=="ms-stream"&&(i(!0),s.push(null))},el}var iT;function tC(){if(iT)return c0.exports;iT=1;var t=CS(),e=vt(),r=nT(),n=tT(),a=r.IncomingMessage,i=r.readyStates;function s(l,d){return t.fetch&&d?"fetch":t.mozchunkedarraybuffer?"moz-chunked-arraybuffer":t.msstream?"ms-stream":t.arraybuffer&&l?"arraybuffer":"text"}var o=c0.exports=function(l){var d=this;n.Writable.call(d),d._opts=l,d._body=[],d._headers={},l.auth&&d.setHeader("Authorization","Basic "+Zt.from(l.auth).toString("base64")),Object.keys(l.headers).forEach(function(m){d.setHeader(m,l.headers[m])});var c,h=!0;if(l.mode==="disable-fetch"||"requestTimeout"in l&&!t.abortController)h=!1,c=!0;else if(l.mode==="prefer-streaming")c=!1;else if(l.mode==="allow-wrong-content-type")c=!t.overrideMimeType;else if(!l.mode||l.mode==="default"||l.mode==="prefer-fast")c=!0;else throw new Error("Invalid value for opts.mode");d._mode=s(c,h),d._fetchTimer=null,d._socketTimeout=null,d._socketTimer=null,d.on("finish",function(){d._onFinish()})};e(o,n.Writable),o.prototype.setHeader=function(l,d){var c=this,h=l.toLowerCase();u.indexOf(h)===-1&&(c._headers[h]={name:l,value:d})},o.prototype.getHeader=function(l){var d=this._headers[l.toLowerCase()];return d?d.value:null},o.prototype.removeHeader=function(l){var d=this;delete d._headers[l.toLowerCase()]},o.prototype._onFinish=function(){var l=this;if(!l._destroyed){var d=l._opts;"timeout"in d&&d.timeout!==0&&l.setTimeout(d.timeout);var c=l._headers,h=null;d.method!=="GET"&&d.method!=="HEAD"&&(h=new Blob(l._body,{type:(c["content-type"]||{}).value||""}));var m=[];if(Object.keys(c).forEach(function(p){var g=c[p].name,w=c[p].value;Array.isArray(w)?w.forEach(function(S){m.push([g,S])}):m.push([g,w])}),l._mode==="fetch"){var _=null;if(t.abortController){var b=new AbortController;_=b.signal,l._fetchAbortController=b,"requestTimeout"in d&&d.requestTimeout!==0&&(l._fetchTimer=Ye.setTimeout(function(){l.emit("requestTimeout"),l._fetchAbortController&&l._fetchAbortController.abort()},d.requestTimeout))}Ye.fetch(l._opts.url,{method:l._opts.method,headers:m,body:h||void 0,mode:"cors",credentials:d.withCredentials?"include":"same-origin",signal:_}).then(function(p){l._fetchResponse=p,l._resetTimers(!1),l._connect()},function(p){l._resetTimers(!0),l._destroyed||l.emit("error",p)})}else{var y=l._xhr=new Ye.XMLHttpRequest;try{y.open(l._opts.method,l._opts.url,!0)}catch(p){xe.nextTick(function(){l.emit("error",p)});return}"responseType"in y&&(y.responseType=l._mode),"withCredentials"in y&&(y.withCredentials=!!d.withCredentials),l._mode==="text"&&"overrideMimeType"in y&&y.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in d&&(y.timeout=d.requestTimeout,y.ontimeout=function(){l.emit("requestTimeout")}),m.forEach(function(p){y.setRequestHeader(p[0],p[1])}),l._response=null,y.onreadystatechange=function(){switch(y.readyState){case i.LOADING:case i.DONE:l._onXHRProgress();break}},l._mode==="moz-chunked-arraybuffer"&&(y.onprogress=function(){l._onXHRProgress()}),y.onerror=function(){l._destroyed||(l._resetTimers(!0),l.emit("error",new Error("XHR error")))};try{y.send(h)}catch(p){xe.nextTick(function(){l.emit("error",p)});return}}}};function f(l){try{var d=l.status;return d!==null&&d!==0}catch{return!1}}o.prototype._onXHRProgress=function(){var l=this;l._resetTimers(!1),!(!f(l._xhr)||l._destroyed)&&(l._response||l._connect(),l._response._onXHRProgress(l._resetTimers.bind(l)))},o.prototype._connect=function(){var l=this;l._destroyed||(l._response=new a(l._xhr,l._fetchResponse,l._mode,l._resetTimers.bind(l)),l._response.on("error",function(d){l.emit("error",d)}),l.emit("response",l._response))},o.prototype._write=function(l,d,c){var h=this;h._body.push(l),c()},o.prototype._resetTimers=function(l){var d=this;Ye.clearTimeout(d._socketTimer),d._socketTimer=null,l?(Ye.clearTimeout(d._fetchTimer),d._fetchTimer=null):d._socketTimeout&&(d._socketTimer=Ye.setTimeout(function(){d.emit("timeout")},d._socketTimeout))},o.prototype.abort=o.prototype.destroy=function(l){var d=this;d._destroyed=!0,d._resetTimers(!0),d._response&&(d._response._destroyed=!0),d._xhr?d._xhr.abort():d._fetchAbortController&&d._fetchAbortController.abort(),l&&d.emit("error",l)},o.prototype.end=function(l,d,c){var h=this;typeof l=="function"&&(c=l,l=void 0),n.Writable.prototype.end.call(h,l,d,c)},o.prototype.setTimeout=function(l,d){var c=this;d&&c.once("timeout",d),c._socketTimeout=l,c._resetTimers(!1)},o.prototype.flushHeaders=function(){},o.prototype.setNoDelay=function(){},o.prototype.setSocketKeepAlive=function(){};var u=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"];return c0.exports}var A0,aT;function rC(){if(aT)return A0;aT=1,A0=e;var t=Object.prototype.hasOwnProperty;function e(){for(var r={},n=0;n<arguments.length;n++){var a=arguments[n];for(var i in a)t.call(a,i)&&(r[i]=a[i])}return r}return A0}var O0,oT;function nC(){return oT||(oT=1,O0={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}),O0}var uo={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */var iC=uo.exports,sT;function aC(){return sT||(sT=1,function(t,e){(function(r){var n=e&&!e.nodeType&&e,a=!t.nodeType&&t,i=typeof Ye=="object"&&Ye;(i.global===i||i.window===i||i.self===i)&&(r=i);var s,o=2147483647,f=36,u=1,l=26,d=38,c=700,h=72,m=128,_="-",b=/^xn--/,y=/[^\x20-\x7E]/,p=/[\x2E\u3002\uFF0E\uFF61]/g,g={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=f-u,S=Math.floor,I=String.fromCharCode,O;function M(H){throw new RangeError(g[H])}function D(H,de){for(var he=H.length,W=[];he--;)W[he]=de(H[he]);return W}function N(H,de){var he=H.split("@"),W="";he.length>1&&(W=he[0]+"@",H=he[1]),H=H.replace(p,".");var z=H.split("."),Q=D(z,de).join(".");return W+Q}function C(H){for(var de=[],he=0,W=H.length,z,Q;he<W;)z=H.charCodeAt(he++),z>=55296&&z<=56319&&he<W?(Q=H.charCodeAt(he++),(Q&64512)==56320?de.push(((z&1023)<<10)+(Q&1023)+65536):(de.push(z),he--)):de.push(z);return de}function R(H){return D(H,function(de){var he="";return de>65535&&(de-=65536,he+=I(de>>>10&1023|55296),de=56320|de&1023),he+=I(de),he}).join("")}function F(H){return H-48<10?H-22:H-65<26?H-65:H-97<26?H-97:f}function X(H,de){return H+22+75*(H<26)-((de!=0)<<5)}function oe(H,de,he){var W=0;for(H=he?S(H/c):H>>1,H+=S(H/de);H>w*l>>1;W+=f)H=S(H/w);return S(W+(w+1)*H/(H+d))}function J(H){var de=[],he=H.length,W,z=0,Q=m,A=h,P,k,G,te,E,v,T,L,Y;for(P=H.lastIndexOf(_),P<0&&(P=0),k=0;k<P;++k)H.charCodeAt(k)>=128&&M("not-basic"),de.push(H.charCodeAt(k));for(G=P>0?P+1:0;G<he;){for(te=z,E=1,v=f;G>=he&&M("invalid-input"),T=F(H.charCodeAt(G++)),(T>=f||T>S((o-z)/E))&&M("overflow"),z+=T*E,L=v<=A?u:v>=A+l?l:v-A,!(T<L);v+=f)Y=f-L,E>S(o/Y)&&M("overflow"),E*=Y;W=de.length+1,A=oe(z-te,W,te==0),S(z/W)>o-Q&&M("overflow"),Q+=S(z/W),z%=W,de.splice(z++,0,Q)}return R(de)}function le(H){var de,he,W,z,Q,A,P,k,G,te,E,v=[],T,L,Y,ne;for(H=C(H),T=H.length,de=m,he=0,Q=h,A=0;A<T;++A)E=H[A],E<128&&v.push(I(E));for(W=z=v.length,z&&v.push(_);W<T;){for(P=o,A=0;A<T;++A)E=H[A],E>=de&&E<P&&(P=E);for(L=W+1,P-de>S((o-he)/L)&&M("overflow"),he+=(P-de)*L,de=P,A=0;A<T;++A)if(E=H[A],E<de&&++he>o&&M("overflow"),E==de){for(k=he,G=f;te=G<=Q?u:G>=Q+l?l:G-Q,!(k<te);G+=f)ne=k-te,Y=f-te,v.push(I(X(te+ne%Y,0))),k=S(ne/Y);v.push(I(X(k,0))),Q=oe(he,L,W==z),he=0,++W}++he,++de}return v.join("")}function ae(H){return N(H,function(de){return b.test(de)?J(de.slice(4).toLowerCase()):de})}function Z(H){return N(H,function(de){return y.test(de)?"xn--"+le(de):de})}if(s={version:"1.4.1",ucs2:{decode:C,encode:R},decode:J,encode:le,toASCII:Z,toUnicode:ae},n&&a)if(t.exports==n)a.exports=s;else for(O in s)s.hasOwnProperty(O)&&(n[O]=s[O]);else r.punycode=s})(iC)}(uo,uo.exports)),uo.exports}var oC=aC(),sC=Yu(oC),uC={},fC=Object.freeze({__proto__:null,default:uC}),lC=yi(fC),N0,uT;function rl(){if(uT)return N0;uT=1;var t=typeof Map=="function"&&Map.prototype,e=Object.getOwnPropertyDescriptor&&t?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,r=t&&e&&typeof e.get=="function"?e.get:null,n=t&&Map.prototype.forEach,a=typeof Set=="function"&&Set.prototype,i=Object.getOwnPropertyDescriptor&&a?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,s=a&&i&&typeof i.get=="function"?i.get:null,o=a&&Set.prototype.forEach,f=typeof WeakMap=="function"&&WeakMap.prototype,u=f?WeakMap.prototype.has:null,l=typeof WeakSet=="function"&&WeakSet.prototype,d=l?WeakSet.prototype.has:null,c=typeof WeakRef=="function"&&WeakRef.prototype,h=c?WeakRef.prototype.deref:null,m=Boolean.prototype.valueOf,_=Object.prototype.toString,b=Function.prototype.toString,y=String.prototype.match,p=String.prototype.slice,g=String.prototype.replace,w=String.prototype.toUpperCase,S=String.prototype.toLowerCase,I=RegExp.prototype.test,O=Array.prototype.concat,M=Array.prototype.join,D=Array.prototype.slice,N=Math.floor,C=typeof BigInt=="function"?BigInt.prototype.valueOf:null,R=Object.getOwnPropertySymbols,F=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,X=typeof Symbol=="function"&&typeof Symbol.iterator=="object",oe=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===X||!0)?Symbol.toStringTag:null,J=Object.prototype.propertyIsEnumerable,le=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(V){return V.__proto__}:null);function ae(V,re){if(V===1/0||V===-1/0||V!==V||V&&V>-1e3&&V<1e3||I.call(/e/,re))return re;var K=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof V=="number"){var De=V<0?-N(-V):N(V);if(De!==V){var qe=String(De),q=p.call(re,qe.length+1);return g.call(qe,K,"$&_")+"."+g.call(g.call(q,/([0-9]{3})/g,"$&_"),/_$/,"")}}return g.call(re,K,"$&_")}var Z=lC,H=Z.custom,de=T(H)?H:null,he={__proto__:null,double:'"',single:"'"},W={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};N0=function V(re,K,De,qe){var q=K||{};if(ne(q,"quoteStyle")&&!ne(he,q.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ne(q,"maxStringLength")&&(typeof q.maxStringLength=="number"?q.maxStringLength<0&&q.maxStringLength!==1/0:q.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Se=ne(q,"customInspect")?q.customInspect:!0;if(typeof Se!="boolean"&&Se!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ne(q,"indent")&&q.indent!==null&&q.indent!=="	"&&!(parseInt(q.indent,10)===q.indent&&q.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ne(q,"numericSeparator")&&typeof q.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Pe=q.numericSeparator;if(typeof re>"u")return"undefined";if(re===null)return"null";if(typeof re=="boolean")return re?"true":"false";if(typeof re=="string")return Fe(re,q);if(typeof re=="number"){if(re===0)return 1/0/re>0?"0":"-0";var se=String(re);return Pe?ae(re,se):se}if(typeof re=="bigint"){var ve=String(re)+"n";return Pe?ae(re,ve):ve}var Oe=typeof q.depth>"u"?5:q.depth;if(typeof De>"u"&&(De=0),De>=Oe&&Oe>0&&typeof re=="object")return A(re)?"[Array]":"[Object]";var We=$(q,De);if(typeof qe>"u")qe=[];else if(fe(qe,re)>=0)return"[Circular]";function ue(Ae,Ne,Xe){if(Ne&&(qe=D.call(qe),qe.push(Ne)),Xe){var Ze={depth:q.depth};return ne(q,"quoteStyle")&&(Ze.quoteStyle=q.quoteStyle),V(Ae,Ze,De+1,qe)}return V(Ae,q,De+1,qe)}if(typeof re=="function"&&!k(re)){var B=we(re),j=ye(re,ue);return"[Function"+(B?": "+B:" (anonymous)")+"]"+(j.length>0?" { "+M.call(j,", ")+" }":"")}if(T(re)){var U=X?g.call(String(re),/^(Symbol\(.*\))_[^)]*$/,"$1"):F.call(re);return typeof re=="object"&&!X?Me(U):U}if(Ee(re)){for(var ce="<"+S.call(String(re.nodeName)),me=re.attributes||[],be=0;be<me.length;be++)ce+=" "+me[be].name+"="+z(Q(me[be].value),"double",q);return ce+=">",re.childNodes&&re.childNodes.length&&(ce+="..."),ce+="</"+S.call(String(re.nodeName))+">",ce}if(A(re)){if(re.length===0)return"[]";var Ie=ye(re,ue);return We&&!x(Ie)?"["+ie(Ie,We)+"]":"[ "+M.call(Ie,", ")+" ]"}if(G(re)){var Ce=ye(re,ue);return!("cause"in Error.prototype)&&"cause"in re&&!J.call(re,"cause")?"{ ["+String(re)+"] "+M.call(O.call("[cause]: "+ue(re.cause),Ce),", ")+" }":Ce.length===0?"["+String(re)+"]":"{ ["+String(re)+"] "+M.call(Ce,", ")+" }"}if(typeof re=="object"&&Se){if(de&&typeof re[de]=="function"&&Z)return Z(re,{depth:Oe-De});if(Se!=="symbol"&&typeof re.inspect=="function")return re.inspect()}if(Re(re)){var He=[];return n&&n.call(re,function(Ae,Ne){He.push(ue(Ne,re,!0)+" => "+ue(Ae,re))}),ee("Map",r.call(re),He,We)}if(Ue(re)){var Ve=[];return o&&o.call(re,function(Ae){Ve.push(ue(Ae,re))}),ee("Set",s.call(re),Ve,We)}if(Le(re))return ze("WeakMap");if(_e(re))return ze("WeakSet");if(Te(re))return ze("WeakRef");if(E(re))return Me(ue(Number(re)));if(L(re))return Me(ue(C.call(re)));if(v(re))return Me(m.call(re));if(te(re))return Me(ue(String(re)));if(typeof window<"u"&&re===window)return"{ [object Window] }";if(typeof globalThis<"u"&&re===globalThis||typeof Ye<"u"&&re===Ye)return"{ [object globalThis] }";if(!P(re)&&!k(re)){var Ke=ye(re,ue),Ge=le?le(re)===Object.prototype:re instanceof Object||re.constructor===Object,Be=re instanceof Object?"":"null prototype",St=!Ge&&oe&&Object(re)===re&&oe in re?p.call(pe(re),8,-1):Be?"Object":"",ke=Ge||typeof re.constructor!="function"?"":re.constructor.name?re.constructor.name+" ":"",ge=ke+(St||Be?"["+M.call(O.call([],St||[],Be||[]),": ")+"] ":"");return Ke.length===0?ge+"{}":We?ge+"{"+ie(Ke,We)+"}":ge+"{ "+M.call(Ke,", ")+" }"}return String(re)};function z(V,re,K){var De=K.quoteStyle||re,qe=he[De];return qe+V+qe}function Q(V){return g.call(String(V),/"/g,"&quot;")}function A(V){return pe(V)==="[object Array]"&&(!oe||!(typeof V=="object"&&oe in V))}function P(V){return pe(V)==="[object Date]"&&(!oe||!(typeof V=="object"&&oe in V))}function k(V){return pe(V)==="[object RegExp]"&&(!oe||!(typeof V=="object"&&oe in V))}function G(V){return pe(V)==="[object Error]"&&(!oe||!(typeof V=="object"&&oe in V))}function te(V){return pe(V)==="[object String]"&&(!oe||!(typeof V=="object"&&oe in V))}function E(V){return pe(V)==="[object Number]"&&(!oe||!(typeof V=="object"&&oe in V))}function v(V){return pe(V)==="[object Boolean]"&&(!oe||!(typeof V=="object"&&oe in V))}function T(V){if(X)return V&&typeof V=="object"&&V instanceof Symbol;if(typeof V=="symbol")return!0;if(!V||typeof V!="object"||!F)return!1;try{return F.call(V),!0}catch{}return!1}function L(V){if(!V||typeof V!="object"||!C)return!1;try{return C.call(V),!0}catch{}return!1}var Y=Object.prototype.hasOwnProperty||function(V){return V in this};function ne(V,re){return Y.call(V,re)}function pe(V){return _.call(V)}function we(V){if(V.name)return V.name;var re=y.call(b.call(V),/^function\s*([\w$]+)/);return re?re[1]:null}function fe(V,re){if(V.indexOf)return V.indexOf(re);for(var K=0,De=V.length;K<De;K++)if(V[K]===re)return K;return-1}function Re(V){if(!r||!V||typeof V!="object")return!1;try{r.call(V);try{s.call(V)}catch{return!0}return V instanceof Map}catch{}return!1}function Le(V){if(!u||!V||typeof V!="object")return!1;try{u.call(V,u);try{d.call(V,d)}catch{return!0}return V instanceof WeakMap}catch{}return!1}function Te(V){if(!h||!V||typeof V!="object")return!1;try{return h.call(V),!0}catch{}return!1}function Ue(V){if(!s||!V||typeof V!="object")return!1;try{s.call(V);try{r.call(V)}catch{return!0}return V instanceof Set}catch{}return!1}function _e(V){if(!d||!V||typeof V!="object")return!1;try{d.call(V,d);try{u.call(V,u)}catch{return!0}return V instanceof WeakSet}catch{}return!1}function Ee(V){return!V||typeof V!="object"?!1:typeof HTMLElement<"u"&&V instanceof HTMLElement?!0:typeof V.nodeName=="string"&&typeof V.getAttribute=="function"}function Fe(V,re){if(V.length>re.maxStringLength){var K=V.length-re.maxStringLength,De="... "+K+" more character"+(K>1?"s":"");return Fe(p.call(V,0,re.maxStringLength),re)+De}var qe=W[re.quoteStyle||"single"];qe.lastIndex=0;var q=g.call(g.call(V,qe,"\\$1"),/[\x00-\x1f]/g,je);return z(q,"single",re)}function je(V){var re=V.charCodeAt(0),K={8:"b",9:"t",10:"n",12:"f",13:"r"}[re];return K?"\\"+K:"\\x"+(re<16?"0":"")+w.call(re.toString(16))}function Me(V){return"Object("+V+")"}function ze(V){return V+" { ? }"}function ee(V,re,K,De){var qe=De?ie(K,De):M.call(K,", ");return V+" ("+re+") {"+qe+"}"}function x(V){for(var re=0;re<V.length;re++)if(fe(V[re],`
`)>=0)return!1;return!0}function $(V,re){var K;if(V.indent==="	")K="	";else if(typeof V.indent=="number"&&V.indent>0)K=M.call(Array(V.indent+1)," ");else return null;return{base:K,prev:M.call(Array(re+1),K)}}function ie(V,re){if(V.length===0)return"";var K=`
`+re.prev+re.base;return K+M.call(V,","+K)+`
`+re.prev}function ye(V,re){var K=A(V),De=[];if(K){De.length=V.length;for(var qe=0;qe<V.length;qe++)De[qe]=ne(V,qe)?re(V[qe],V):""}var q=typeof R=="function"?R(V):[],Se;if(X){Se={};for(var Pe=0;Pe<q.length;Pe++)Se["$"+q[Pe]]=q[Pe]}for(var se in V)ne(V,se)&&(K&&String(Number(se))===se&&se<V.length||X&&Se["$"+se]instanceof Symbol||(I.call(/[^\w$]/,se)?De.push(re(se,V)+": "+re(V[se],V)):De.push(se+": "+re(V[se],V))));if(typeof R=="function")for(var ve=0;ve<q.length;ve++)J.call(V,q[ve])&&De.push("["+re(q[ve])+"]: "+re(V[q[ve]],V));return De}return N0}var P0,fT;function cC(){if(fT)return P0;fT=1;var t=rl(),e=Kr(),r=function(o,f,u){for(var l=o,d;(d=l.next)!=null;l=d)if(d.key===f)return l.next=d.next,u||(d.next=o.next,o.next=d),d},n=function(o,f){if(o){var u=r(o,f);return u&&u.value}},a=function(o,f,u){var l=r(o,f);l?l.value=u:o.next={key:f,next:o.next,value:u}},i=function(o,f){return o?!!r(o,f):!1},s=function(o,f){if(o)return r(o,f,!0)};return P0=function(){var f,u={assert:function(l){if(!u.has(l))throw new e("Side channel does not contain "+t(l))},delete:function(l){var d=f&&f.next,c=s(f,l);return c&&d&&d===c&&(f=void 0),!!c},get:function(l){return n(f,l)},has:function(l){return i(f,l)},set:function(l,d){f||(f={next:void 0}),a(f,l,d)}};return u},P0}var D0,lT;function cT(){if(lT)return D0;lT=1;var t=to(),e=dn(),r=rl(),n=Kr(),a=t("%Map%",!0),i=e("Map.prototype.get",!0),s=e("Map.prototype.set",!0),o=e("Map.prototype.has",!0),f=e("Map.prototype.delete",!0),u=e("Map.prototype.size",!0);return D0=!!a&&function(){var d,c={assert:function(h){if(!c.has(h))throw new n("Side channel does not contain "+r(h))},delete:function(h){if(d){var m=f(d,h);return u(d)===0&&(d=void 0),m}return!1},get:function(h){if(d)return i(d,h)},has:function(h){return d?o(d,h):!1},set:function(h,m){d||(d=new a),s(d,h,m)}};return c},D0}var C0,dT;function dC(){if(dT)return C0;dT=1;var t=to(),e=dn(),r=rl(),n=cT(),a=Kr(),i=t("%WeakMap%",!0),s=e("WeakMap.prototype.get",!0),o=e("WeakMap.prototype.set",!0),f=e("WeakMap.prototype.has",!0),u=e("WeakMap.prototype.delete",!0);return C0=i?function(){var d,c,h={assert:function(m){if(!h.has(m))throw new a("Side channel does not contain "+r(m))},delete:function(m){if(i&&m&&(typeof m=="object"||typeof m=="function")){if(d)return u(d,m)}else if(n&&c)return c.delete(m);return!1},get:function(m){return i&&m&&(typeof m=="object"||typeof m=="function")&&d?s(d,m):c&&c.get(m)},has:function(m){return i&&m&&(typeof m=="object"||typeof m=="function")&&d?f(d,m):!!c&&c.has(m)},set:function(m,_){i&&m&&(typeof m=="object"||typeof m=="function")?(d||(d=new i),o(d,m,_)):n&&(c||(c=n()),c.set(m,_))}};return h}:n,C0}var L0,hT;function hC(){if(hT)return L0;hT=1;var t=Kr(),e=rl(),r=cC(),n=cT(),a=dC(),i=a||n||r;return L0=function(){var o,f={assert:function(u){if(!f.has(u))throw new t("Side channel does not contain "+e(u))},delete:function(u){return!!o&&o.delete(u)},get:function(u){return o&&o.get(u)},has:function(u){return!!o&&o.has(u)},set:function(u,l){o||(o=i()),o.set(u,l)}};return f},L0}var F0,pT;function M0(){if(pT)return F0;pT=1;var t=String.prototype.replace,e=/%20/g,r={RFC1738:"RFC1738",RFC3986:"RFC3986"};return F0={default:r.RFC3986,formatters:{RFC1738:function(n){return t.call(n,e,"+")},RFC3986:function(n){return String(n)}},RFC1738:r.RFC1738,RFC3986:r.RFC3986},F0}var j0,yT;function gT(){if(yT)return j0;yT=1;var t=M0(),e=Object.prototype.hasOwnProperty,r=Array.isArray,n=function(){for(var b=[],y=0;y<256;++y)b.push("%"+((y<16?"0":"")+y.toString(16)).toUpperCase());return b}(),a=function(y){for(;y.length>1;){var p=y.pop(),g=p.obj[p.prop];if(r(g)){for(var w=[],S=0;S<g.length;++S)typeof g[S]<"u"&&w.push(g[S]);p.obj[p.prop]=w}}},i=function(y,p){for(var g=p&&p.plainObjects?{__proto__:null}:{},w=0;w<y.length;++w)typeof y[w]<"u"&&(g[w]=y[w]);return g},s=function b(y,p,g){if(!p)return y;if(typeof p!="object"&&typeof p!="function"){if(r(y))y.push(p);else if(y&&typeof y=="object")(g&&(g.plainObjects||g.allowPrototypes)||!e.call(Object.prototype,p))&&(y[p]=!0);else return[y,p];return y}if(!y||typeof y!="object")return[y].concat(p);var w=y;return r(y)&&!r(p)&&(w=i(y,g)),r(y)&&r(p)?(p.forEach(function(S,I){if(e.call(y,I)){var O=y[I];O&&typeof O=="object"&&S&&typeof S=="object"?y[I]=b(O,S,g):y.push(S)}else y[I]=S}),y):Object.keys(p).reduce(function(S,I){var O=p[I];return e.call(S,I)?S[I]=b(S[I],O,g):S[I]=O,S},w)},o=function(y,p){return Object.keys(p).reduce(function(g,w){return g[w]=p[w],g},y)},f=function(b,y,p){var g=b.replace(/\+/g," ");if(p==="iso-8859-1")return g.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(g)}catch{return g}},u=1024,l=function(y,p,g,w,S){if(y.length===0)return y;var I=y;if(typeof y=="symbol"?I=Symbol.prototype.toString.call(y):typeof y!="string"&&(I=String(y)),g==="iso-8859-1")return escape(I).replace(/%u[0-9a-f]{4}/gi,function(F){return"%26%23"+parseInt(F.slice(2),16)+"%3B"});for(var O="",M=0;M<I.length;M+=u){for(var D=I.length>=u?I.slice(M,M+u):I,N=[],C=0;C<D.length;++C){var R=D.charCodeAt(C);if(R===45||R===46||R===95||R===126||R>=48&&R<=57||R>=65&&R<=90||R>=97&&R<=122||S===t.RFC1738&&(R===40||R===41)){N[N.length]=D.charAt(C);continue}if(R<128){N[N.length]=n[R];continue}if(R<2048){N[N.length]=n[192|R>>6]+n[128|R&63];continue}if(R<55296||R>=57344){N[N.length]=n[224|R>>12]+n[128|R>>6&63]+n[128|R&63];continue}C+=1,R=65536+((R&1023)<<10|D.charCodeAt(C)&1023),N[N.length]=n[240|R>>18]+n[128|R>>12&63]+n[128|R>>6&63]+n[128|R&63]}O+=N.join("")}return O},d=function(y){for(var p=[{obj:{o:y},prop:"o"}],g=[],w=0;w<p.length;++w)for(var S=p[w],I=S.obj[S.prop],O=Object.keys(I),M=0;M<O.length;++M){var D=O[M],N=I[D];typeof N=="object"&&N!==null&&g.indexOf(N)===-1&&(p.push({obj:I,prop:D}),g.push(N))}return a(p),y},c=function(y){return Object.prototype.toString.call(y)==="[object RegExp]"},h=function(y){return!y||typeof y!="object"?!1:!!(y.constructor&&y.constructor.isBuffer&&y.constructor.isBuffer(y))},m=function(y,p){return[].concat(y,p)},_=function(y,p){if(r(y)){for(var g=[],w=0;w<y.length;w+=1)g.push(p(y[w]));return g}return p(y)};return j0={arrayToObject:i,assign:o,combine:m,compact:d,decode:f,encode:l,isBuffer:h,isRegExp:c,maybeMap:_,merge:s},j0}var q0,bT;function pC(){if(bT)return q0;bT=1;var t=hC(),e=gT(),r=M0(),n=Object.prototype.hasOwnProperty,a={brackets:function(b){return b+"[]"},comma:"comma",indices:function(b,y){return b+"["+y+"]"},repeat:function(b){return b}},i=Array.isArray,s=Array.prototype.push,o=function(_,b){s.apply(_,i(b)?b:[b])},f=Date.prototype.toISOString,u=r.default,l={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:e.encode,encodeValuesOnly:!1,filter:void 0,format:u,formatter:r.formatters[u],indices:!1,serializeDate:function(b){return f.call(b)},skipNulls:!1,strictNullHandling:!1},d=function(b){return typeof b=="string"||typeof b=="number"||typeof b=="boolean"||typeof b=="symbol"||typeof b=="bigint"},c={},h=function _(b,y,p,g,w,S,I,O,M,D,N,C,R,F,X,oe,J,le){for(var ae=b,Z=le,H=0,de=!1;(Z=Z.get(c))!==void 0&&!de;){var he=Z.get(b);if(H+=1,typeof he<"u"){if(he===H)throw new RangeError("Cyclic object value");de=!0}typeof Z.get(c)>"u"&&(H=0)}if(typeof D=="function"?ae=D(y,ae):ae instanceof Date?ae=R(ae):p==="comma"&&i(ae)&&(ae=e.maybeMap(ae,function(Y){return Y instanceof Date?R(Y):Y})),ae===null){if(S)return M&&!oe?M(y,l.encoder,J,"key",F):y;ae=""}if(d(ae)||e.isBuffer(ae)){if(M){var W=oe?y:M(y,l.encoder,J,"key",F);return[X(W)+"="+X(M(ae,l.encoder,J,"value",F))]}return[X(y)+"="+X(String(ae))]}var z=[];if(typeof ae>"u")return z;var Q;if(p==="comma"&&i(ae))oe&&M&&(ae=e.maybeMap(ae,M)),Q=[{value:ae.length>0?ae.join(",")||null:void 0}];else if(i(D))Q=D;else{var A=Object.keys(ae);Q=N?A.sort(N):A}var P=O?String(y).replace(/\./g,"%2E"):String(y),k=g&&i(ae)&&ae.length===1?P+"[]":P;if(w&&i(ae)&&ae.length===0)return k+"[]";for(var G=0;G<Q.length;++G){var te=Q[G],E=typeof te=="object"&&te&&typeof te.value<"u"?te.value:ae[te];if(!(I&&E===null)){var v=C&&O?String(te).replace(/\./g,"%2E"):String(te),T=i(ae)?typeof p=="function"?p(k,v):k:k+(C?"."+v:"["+v+"]");le.set(b,H);var L=t();L.set(c,le),o(z,_(E,T,p,g,w,S,I,O,p==="comma"&&oe&&i(ae)?null:M,D,N,C,R,F,X,oe,J,L))}}return z},m=function(b){if(!b)return l;if(typeof b.allowEmptyArrays<"u"&&typeof b.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof b.encodeDotInKeys<"u"&&typeof b.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(b.encoder!==null&&typeof b.encoder<"u"&&typeof b.encoder!="function")throw new TypeError("Encoder has to be a function.");var y=b.charset||l.charset;if(typeof b.charset<"u"&&b.charset!=="utf-8"&&b.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var p=r.default;if(typeof b.format<"u"){if(!n.call(r.formatters,b.format))throw new TypeError("Unknown format option provided.");p=b.format}var g=r.formatters[p],w=l.filter;(typeof b.filter=="function"||i(b.filter))&&(w=b.filter);var S;if(b.arrayFormat in a?S=b.arrayFormat:"indices"in b?S=b.indices?"indices":"repeat":S=l.arrayFormat,"commaRoundTrip"in b&&typeof b.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var I=typeof b.allowDots>"u"?b.encodeDotInKeys===!0?!0:l.allowDots:!!b.allowDots;return{addQueryPrefix:typeof b.addQueryPrefix=="boolean"?b.addQueryPrefix:l.addQueryPrefix,allowDots:I,allowEmptyArrays:typeof b.allowEmptyArrays=="boolean"?!!b.allowEmptyArrays:l.allowEmptyArrays,arrayFormat:S,charset:y,charsetSentinel:typeof b.charsetSentinel=="boolean"?b.charsetSentinel:l.charsetSentinel,commaRoundTrip:!!b.commaRoundTrip,delimiter:typeof b.delimiter>"u"?l.delimiter:b.delimiter,encode:typeof b.encode=="boolean"?b.encode:l.encode,encodeDotInKeys:typeof b.encodeDotInKeys=="boolean"?b.encodeDotInKeys:l.encodeDotInKeys,encoder:typeof b.encoder=="function"?b.encoder:l.encoder,encodeValuesOnly:typeof b.encodeValuesOnly=="boolean"?b.encodeValuesOnly:l.encodeValuesOnly,filter:w,format:p,formatter:g,serializeDate:typeof b.serializeDate=="function"?b.serializeDate:l.serializeDate,skipNulls:typeof b.skipNulls=="boolean"?b.skipNulls:l.skipNulls,sort:typeof b.sort=="function"?b.sort:null,strictNullHandling:typeof b.strictNullHandling=="boolean"?b.strictNullHandling:l.strictNullHandling}};return q0=function(_,b){var y=_,p=m(b),g,w;typeof p.filter=="function"?(w=p.filter,y=w("",y)):i(p.filter)&&(w=p.filter,g=w);var S=[];if(typeof y!="object"||y===null)return"";var I=a[p.arrayFormat],O=I==="comma"&&p.commaRoundTrip;g||(g=Object.keys(y)),p.sort&&g.sort(p.sort);for(var M=t(),D=0;D<g.length;++D){var N=g[D],C=y[N];p.skipNulls&&C===null||o(S,h(C,N,I,O,p.allowEmptyArrays,p.strictNullHandling,p.skipNulls,p.encodeDotInKeys,p.encode?p.encoder:null,p.filter,p.sort,p.allowDots,p.serializeDate,p.format,p.formatter,p.encodeValuesOnly,p.charset,M))}var R=S.join(p.delimiter),F=p.addQueryPrefix===!0?"?":"";return p.charsetSentinel&&(p.charset==="iso-8859-1"?F+="utf8=%26%2310003%3B&":F+="utf8=%E2%9C%93&"),R.length>0?F+R:""},q0}var B0,mT;function yC(){if(mT)return B0;mT=1;var t=gT(),e=Object.prototype.hasOwnProperty,r=Array.isArray,n={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:t.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},a=function(c){return c.replace(/&#(\d+);/g,function(h,m){return String.fromCharCode(parseInt(m,10))})},i=function(c,h,m){if(c&&typeof c=="string"&&h.comma&&c.indexOf(",")>-1)return c.split(",");if(h.throwOnLimitExceeded&&m>=h.arrayLimit)throw new RangeError("Array limit exceeded. Only "+h.arrayLimit+" element"+(h.arrayLimit===1?"":"s")+" allowed in an array.");return c},s="utf8=%26%2310003%3B",o="utf8=%E2%9C%93",f=function(h,m){var _={__proto__:null},b=m.ignoreQueryPrefix?h.replace(/^\?/,""):h;b=b.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var y=m.parameterLimit===1/0?void 0:m.parameterLimit,p=b.split(m.delimiter,m.throwOnLimitExceeded?y+1:y);if(m.throwOnLimitExceeded&&p.length>y)throw new RangeError("Parameter limit exceeded. Only "+y+" parameter"+(y===1?"":"s")+" allowed.");var g=-1,w,S=m.charset;if(m.charsetSentinel)for(w=0;w<p.length;++w)p[w].indexOf("utf8=")===0&&(p[w]===o?S="utf-8":p[w]===s&&(S="iso-8859-1"),g=w,w=p.length);for(w=0;w<p.length;++w)if(w!==g){var I=p[w],O=I.indexOf("]="),M=O===-1?I.indexOf("="):O+1,D,N;M===-1?(D=m.decoder(I,n.decoder,S,"key"),N=m.strictNullHandling?null:""):(D=m.decoder(I.slice(0,M),n.decoder,S,"key"),N=t.maybeMap(i(I.slice(M+1),m,r(_[D])?_[D].length:0),function(R){return m.decoder(R,n.decoder,S,"value")})),N&&m.interpretNumericEntities&&S==="iso-8859-1"&&(N=a(String(N))),I.indexOf("[]=")>-1&&(N=r(N)?[N]:N);var C=e.call(_,D);C&&m.duplicates==="combine"?_[D]=t.combine(_[D],N):(!C||m.duplicates==="last")&&(_[D]=N)}return _},u=function(c,h,m,_){var b=0;if(c.length>0&&c[c.length-1]==="[]"){var y=c.slice(0,-1).join("");b=Array.isArray(h)&&h[y]?h[y].length:0}for(var p=_?h:i(h,m,b),g=c.length-1;g>=0;--g){var w,S=c[g];if(S==="[]"&&m.parseArrays)w=m.allowEmptyArrays&&(p===""||m.strictNullHandling&&p===null)?[]:t.combine([],p);else{w=m.plainObjects?{__proto__:null}:{};var I=S.charAt(0)==="["&&S.charAt(S.length-1)==="]"?S.slice(1,-1):S,O=m.decodeDotInKeys?I.replace(/%2E/g,"."):I,M=parseInt(O,10);!m.parseArrays&&O===""?w={0:p}:!isNaN(M)&&S!==O&&String(M)===O&&M>=0&&m.parseArrays&&M<=m.arrayLimit?(w=[],w[M]=p):O!=="__proto__"&&(w[O]=p)}p=w}return p},l=function(h,m,_,b){if(h){var y=_.allowDots?h.replace(/\.([^.[]+)/g,"[$1]"):h,p=/(\[[^[\]]*])/,g=/(\[[^[\]]*])/g,w=_.depth>0&&p.exec(y),S=w?y.slice(0,w.index):y,I=[];if(S){if(!_.plainObjects&&e.call(Object.prototype,S)&&!_.allowPrototypes)return;I.push(S)}for(var O=0;_.depth>0&&(w=g.exec(y))!==null&&O<_.depth;){if(O+=1,!_.plainObjects&&e.call(Object.prototype,w[1].slice(1,-1))&&!_.allowPrototypes)return;I.push(w[1])}if(w){if(_.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+_.depth+" and strictDepth is true");I.push("["+y.slice(w.index)+"]")}return u(I,m,_,b)}},d=function(h){if(!h)return n;if(typeof h.allowEmptyArrays<"u"&&typeof h.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof h.decodeDotInKeys<"u"&&typeof h.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(h.decoder!==null&&typeof h.decoder<"u"&&typeof h.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof h.charset<"u"&&h.charset!=="utf-8"&&h.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof h.throwOnLimitExceeded<"u"&&typeof h.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var m=typeof h.charset>"u"?n.charset:h.charset,_=typeof h.duplicates>"u"?n.duplicates:h.duplicates;if(_!=="combine"&&_!=="first"&&_!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var b=typeof h.allowDots>"u"?h.decodeDotInKeys===!0?!0:n.allowDots:!!h.allowDots;return{allowDots:b,allowEmptyArrays:typeof h.allowEmptyArrays=="boolean"?!!h.allowEmptyArrays:n.allowEmptyArrays,allowPrototypes:typeof h.allowPrototypes=="boolean"?h.allowPrototypes:n.allowPrototypes,allowSparse:typeof h.allowSparse=="boolean"?h.allowSparse:n.allowSparse,arrayLimit:typeof h.arrayLimit=="number"?h.arrayLimit:n.arrayLimit,charset:m,charsetSentinel:typeof h.charsetSentinel=="boolean"?h.charsetSentinel:n.charsetSentinel,comma:typeof h.comma=="boolean"?h.comma:n.comma,decodeDotInKeys:typeof h.decodeDotInKeys=="boolean"?h.decodeDotInKeys:n.decodeDotInKeys,decoder:typeof h.decoder=="function"?h.decoder:n.decoder,delimiter:typeof h.delimiter=="string"||t.isRegExp(h.delimiter)?h.delimiter:n.delimiter,depth:typeof h.depth=="number"||h.depth===!1?+h.depth:n.depth,duplicates:_,ignoreQueryPrefix:h.ignoreQueryPrefix===!0,interpretNumericEntities:typeof h.interpretNumericEntities=="boolean"?h.interpretNumericEntities:n.interpretNumericEntities,parameterLimit:typeof h.parameterLimit=="number"?h.parameterLimit:n.parameterLimit,parseArrays:h.parseArrays!==!1,plainObjects:typeof h.plainObjects=="boolean"?h.plainObjects:n.plainObjects,strictDepth:typeof h.strictDepth=="boolean"?!!h.strictDepth:n.strictDepth,strictNullHandling:typeof h.strictNullHandling=="boolean"?h.strictNullHandling:n.strictNullHandling,throwOnLimitExceeded:typeof h.throwOnLimitExceeded=="boolean"?h.throwOnLimitExceeded:!1}};return B0=function(c,h){var m=d(h);if(c===""||c===null||typeof c>"u")return m.plainObjects?{__proto__:null}:{};for(var _=typeof c=="string"?f(c,m):c,b=m.plainObjects?{__proto__:null}:{},y=Object.keys(_),p=0;p<y.length;++p){var g=y[p],w=l(g,_[g],m,typeof c=="string");b=t.merge(b,w,m)}return m.allowSparse===!0?b:t.compact(b)},B0}var k0,_T;function gC(){if(_T)return k0;_T=1;var t=pC(),e=yC(),r=M0();return k0={formats:r,parse:e,stringify:t},k0}var bC=gC(),mC=Yu(bC),_C=sC;function pr(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var vC=/^([a-z0-9.+-]+:)/i,wC=/:[0-9]*$/,EC=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,SC=["<",">",'"',"`"," ","\r",`
`,"	"],TC=["{","}","|","\\","^","`"].concat(SC),$0=["'"].concat(TC),vT=["%","/","?",";","#"].concat($0),wT=["/","?","#"],xC=255,ET=/^[+a-z0-9A-Z_-]{0,63}$/,RC=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,IC={javascript:!0,"javascript:":!0},U0={javascript:!0,"javascript:":!0},Di={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},H0=mC;function fo(t,e,r){if(t&&typeof t=="object"&&t instanceof pr)return t;var n=new pr;return n.parse(t,e,r),n}pr.prototype.parse=function(t,e,r){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),a=n!==-1&&n<t.indexOf("#")?"?":"#",i=t.split(a),s=/\\/g;i[0]=i[0].replace(s,"/"),t=i.join(a);var o=t;if(o=o.trim(),!r&&t.split("#").length===1){var f=EC.exec(o);if(f)return this.path=o,this.href=o,this.pathname=f[1],f[2]?(this.search=f[2],e?this.query=H0.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var u=vC.exec(o);if(u){u=u[0];var l=u.toLowerCase();this.protocol=l,o=o.substr(u.length)}if(r||u||o.match(/^\/\/[^@/]+@[^@/]+/)){var d=o.substr(0,2)==="//";d&&!(u&&U0[u])&&(o=o.substr(2),this.slashes=!0)}if(!U0[u]&&(d||u&&!Di[u])){for(var c=-1,h=0;h<wT.length;h++){var m=o.indexOf(wT[h]);m!==-1&&(c===-1||m<c)&&(c=m)}var _,b;c===-1?b=o.lastIndexOf("@"):b=o.lastIndexOf("@",c),b!==-1&&(_=o.slice(0,b),o=o.slice(b+1),this.auth=decodeURIComponent(_)),c=-1;for(var h=0;h<vT.length;h++){var m=o.indexOf(vT[h]);m!==-1&&(c===-1||m<c)&&(c=m)}c===-1&&(c=o.length),this.host=o.slice(0,c),o=o.slice(c),this.parseHost(),this.hostname=this.hostname||"";var y=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!y)for(var p=this.hostname.split(/\./),h=0,g=p.length;h<g;h++){var w=p[h];if(w&&!w.match(ET)){for(var S="",I=0,O=w.length;I<O;I++)w.charCodeAt(I)>127?S+="x":S+=w[I];if(!S.match(ET)){var M=p.slice(0,h),D=p.slice(h+1),N=w.match(RC);N&&(M.push(N[1]),D.unshift(N[2])),D.length&&(o="/"+D.join(".")+o),this.hostname=M.join(".");break}}}this.hostname.length>xC?this.hostname="":this.hostname=this.hostname.toLowerCase(),y||(this.hostname=_C.toASCII(this.hostname));var C=this.port?":"+this.port:"",R=this.hostname||"";this.host=R+C,this.href+=this.host,y&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),o[0]!=="/"&&(o="/"+o))}if(!IC[l])for(var h=0,g=$0.length;h<g;h++){var F=$0[h];if(o.indexOf(F)!==-1){var X=encodeURIComponent(F);X===F&&(X=escape(F)),o=o.split(F).join(X)}}var oe=o.indexOf("#");oe!==-1&&(this.hash=o.substr(oe),o=o.slice(0,oe));var J=o.indexOf("?");if(J!==-1?(this.search=o.substr(J),this.query=o.substr(J+1),e&&(this.query=H0.parse(this.query)),o=o.slice(0,J)):e&&(this.search="",this.query={}),o&&(this.pathname=o),Di[l]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var C=this.pathname||"",le=this.search||"";this.path=C+le}return this.href=this.format(),this};function AC(t){return typeof t=="string"&&(t=fo(t)),t instanceof pr?t.format():pr.prototype.format.call(t)}pr.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",a=!1,i="";this.host?a=t+this.host:this.hostname&&(a=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(a+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(i=H0.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var s=this.search||i&&"?"+i||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||Di[e])&&a!==!1?(a="//"+(a||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):a||(a=""),n&&n.charAt(0)!=="#"&&(n="#"+n),s&&s.charAt(0)!=="?"&&(s="?"+s),r=r.replace(/[?#]/g,function(o){return encodeURIComponent(o)}),s=s.replace("#","%23"),e+a+r+s+n};function OC(t,e){return fo(t,!1,!0).resolve(e)}pr.prototype.resolve=function(t){return this.resolveObject(fo(t,!1,!0)).format()};function NC(t,e){return t?fo(t,!1,!0).resolveObject(e):e}pr.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new pr;e.parse(t,!1,!0),t=e}for(var r=new pr,n=Object.keys(this),a=0;a<n.length;a++){var i=n[a];r[i]=this[i]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var s=Object.keys(t),o=0;o<s.length;o++){var f=s[o];f!=="protocol"&&(r[f]=t[f])}return Di[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!Di[t.protocol]){for(var u=Object.keys(t),l=0;l<u.length;l++){var d=u[l];r[d]=t[d]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!U0[t.protocol]){for(var g=(t.pathname||"").split("/");g.length&&!(t.host=g.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),g[0]!==""&&g.unshift(""),g.length<2&&g.unshift(""),r.pathname=g.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var c=r.pathname||"",h=r.search||"";r.path=c+h}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var m=r.pathname&&r.pathname.charAt(0)==="/",_=t.host||t.pathname&&t.pathname.charAt(0)==="/",b=_||m||r.host&&t.pathname,y=b,p=r.pathname&&r.pathname.split("/")||[],g=t.pathname&&t.pathname.split("/")||[],w=r.protocol&&!Di[r.protocol];if(w&&(r.hostname="",r.port=null,r.host&&(p[0]===""?p[0]=r.host:p.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(g[0]===""?g[0]=t.host:g.unshift(t.host)),t.host=null),b=b&&(g[0]===""||p[0]==="")),_)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,p=g;else if(g.length)p||(p=[]),p.pop(),p=p.concat(g),r.search=t.search,r.query=t.query;else if(t.search!=null){if(w){r.host=p.shift(),r.hostname=r.host;var S=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;S&&(r.auth=S.shift(),r.hostname=S.shift(),r.host=r.hostname)}return r.search=t.search,r.query=t.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!p.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var I=p.slice(-1)[0],O=(r.host||t.host||p.length>1)&&(I==="."||I==="..")||I==="",M=0,D=p.length;D>=0;D--)I=p[D],I==="."?p.splice(D,1):I===".."?(p.splice(D,1),M++):M&&(p.splice(D,1),M--);if(!b&&!y)for(;M--;M)p.unshift("..");b&&p[0]!==""&&(!p[0]||p[0].charAt(0)!=="/")&&p.unshift(""),O&&p.join("/").substr(-1)!=="/"&&p.push("");var N=p[0]===""||p[0]&&p[0].charAt(0)==="/";if(w){r.hostname=N?"":p.length?p.shift():"",r.host=r.hostname;var S=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;S&&(r.auth=S.shift(),r.hostname=S.shift(),r.host=r.hostname)}return b=b||r.host&&p.length,b&&!N&&p.unshift(""),p.length>0?r.pathname=p.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},pr.prototype.parseHost=function(){var t=this.host,e=wC.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};var PC=fo,DC=OC,ST=NC,CC=AC,LC=pr;function FC(t,e){for(var r=0,n=t.length-1;n>=0;n--){var a=t[n];a==="."?t.splice(n,1):a===".."?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}function MC(){for(var t="",e=!1,r=arguments.length-1;r>=-1&&!e;r--){var n=r>=0?arguments[r]:"/";if(typeof n!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!n)continue;t=n+"/"+t,e=n.charAt(0)==="/"}return t=FC(jC(t.split("/"),function(a){return!!a}),!e).join("/"),(e?"/":"")+t||"."}function jC(t,e){if(t.filter)return t.filter(e);for(var r=[],n=0;n<t.length;n++)e(t[n],n,t)&&r.push(t[n]);return r}var TT=function(t){function e(){var n=this||self;return delete t.prototype.__magic__,n}if(typeof globalThis=="object")return globalThis;if(this)return e();t.defineProperty(t.prototype,"__magic__",{configurable:!0,get:e});var r=__magic__;return r}(Object),qC=CC,xT=PC,RT=DC,IT=LC,gn=TT.URL,AT=TT.URLSearchParams,BC=/%/g,kC=/\\/g,$C=/\n/g,UC=/\r/g,HC=/\t/g,VC=47;function GC(t){var e=t??null;return!!(e!==null&&(e!=null&&e.href)&&(e!=null&&e.origin))}function zC(t){if(t.hostname!=="")throw new TypeError('File URL host must be "localhost" or empty on browser');for(var e=t.pathname,r=0;r<e.length;r++)if(e[r]==="%"){var n=e.codePointAt(r+2)|32;if(e[r+1]==="2"&&n===102)throw new TypeError("File URL path must not include encoded / characters")}return decodeURIComponent(e)}function WC(t){return t.includes("%")&&(t=t.replace(BC,"%25")),t.includes("\\")&&(t=t.replace(kC,"%5C")),t.includes(`
`)&&(t=t.replace($C,"%0A")),t.includes("\r")&&(t=t.replace(UC,"%0D")),t.includes("	")&&(t=t.replace(HC,"%09")),t}var OT=function(e){if(typeof e>"u")throw new TypeError('The "domain" argument must be specified');return new gn("http://"+e).hostname},NT=function(e){if(typeof e>"u")throw new TypeError('The "domain" argument must be specified');return new gn("http://"+e).hostname},PT=function(e){var r=new gn("file://"),n=MC(e),a=e.charCodeAt(e.length-1);return a===VC&&n[n.length-1]!=="/"&&(n+="/"),r.pathname=WC(n),r},DT=function(e){if(!GC(e)&&typeof e!="string")throw new TypeError('The "path" argument must be of type string or an instance of URL. Received type '+typeof e+" ("+e+")");var r=new gn(e);if(r.protocol!=="file:")throw new TypeError("The URL must be of scheme file");return zC(r)},CT=function(e,r){var n,a,i,s;if(r===void 0&&(r={}),!(e instanceof gn))return qC(e);if(typeof r!="object"||r===null)throw new TypeError('The "options" argument must be of type object.');var o=(n=r.auth)!=null?n:!0,f=(a=r.fragment)!=null?a:!0,u=(i=r.search)!=null?i:!0;(s=r.unicode)!=null;var l=new gn(e.toString());return o||(l.username="",l.password=""),f||(l.hash=""),u||(l.search=""),l.toString()},KC={format:CT,parse:xT,resolve:RT,resolveObject:ST,Url:IT,URL:gn,URLSearchParams:AT,domainToASCII:OT,domainToUnicode:NT,pathToFileURL:PT,fileURLToPath:DT},QC=Object.freeze({__proto__:null,URL:gn,URLSearchParams:AT,Url:IT,default:KC,domainToASCII:OT,domainToUnicode:NT,fileURLToPath:DT,format:CT,parse:xT,pathToFileURL:PT,resolve:RT,resolveObject:ST}),LT=yi(QC),FT;function MT(){return FT||(FT=1,function(t){var e=tC(),r=nT(),n=rC(),a=nC(),i=LT,s=t;s.request=function(o,f){typeof o=="string"?o=i.parse(o):o=n(o);var u=Ye.location.protocol.search(/^https?:$/)===-1?"http:":"",l=o.protocol||u,d=o.hostname||o.host,c=o.port,h=o.path||"/";d&&d.indexOf(":")!==-1&&(d="["+d+"]"),o.url=(d?l+"//"+d:"")+(c?":"+c:"")+h,o.method=(o.method||"GET").toUpperCase(),o.headers=o.headers||{};var m=new e(o);return f&&m.on("response",f),m},s.get=function(f,u){var l=s.request(f,u);return l.end(),l},s.ClientRequest=e,s.IncomingMessage=r.IncomingMessage,s.Agent=function(){},s.Agent.defaultMaxSockets=4,s.globalAgent=new s.Agent,s.STATUS_CODES=a,s.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}(l0)),l0}var V0={exports:{}},jT;function XC(){return jT||(jT=1,function(t){var e=MT(),r=LT,n=t.exports;for(var a in e)e.hasOwnProperty(a)&&(n[a]=e[a]);n.request=function(s,o){return s=i(s),e.request.call(this,s,o)},n.get=function(s,o){return s=i(s),e.get.call(this,s,o)};function i(s){if(typeof s=="string"&&(s=r.parse(s)),s.protocol||(s.protocol="https:"),s.protocol!=="https:")throw new Error('Protocol "'+s.protocol+'" not supported. Expected "https:"');return s}}(V0)),V0.exports}var G0,qT;function ZC(){if(qT)return G0;qT=1;function t(O){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},t(O)}function e(O,M){var D=Object.keys(O);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(O);M&&(N=N.filter(function(C){return Object.getOwnPropertyDescriptor(O,C).enumerable})),D.push.apply(D,N)}return D}function r(O){for(var M=1;M<arguments.length;M++){var D=arguments[M]!=null?arguments[M]:{};M%2?e(Object(D),!0).forEach(function(N){n(O,N,D[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(D)):e(Object(D)).forEach(function(N){Object.defineProperty(O,N,Object.getOwnPropertyDescriptor(D,N))})}return O}function n(O,M,D){return(M=o(M))in O?Object.defineProperty(O,M,{value:D,enumerable:!0,configurable:!0,writable:!0}):O[M]=D,O}function a(O,M){if(!(O instanceof M))throw new TypeError("Cannot call a class as a function")}function i(O,M){for(var D=0;D<M.length;D++){var N=M[D];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(O,o(N.key),N)}}function s(O,M,D){return i(O.prototype,M),Object.defineProperty(O,"prototype",{writable:!1}),O}function o(O){var M=f(O,"string");return t(M)=="symbol"?M:M+""}function f(O,M){if(t(O)!="object"||!O)return O;var D=O[Symbol.toPrimitive];if(D!==void 0){var N=D.call(O,M);if(t(N)!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(O)}function u(O,M,D){return M=h(M),l(O,c()?Reflect.construct(M,D,h(O).constructor):M.apply(O,D))}function l(O,M){if(M&&(t(M)=="object"||typeof M=="function"))return M;if(M!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d(O)}function d(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}function c(){try{var O=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c=function(){return!!O})()}function h(O){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(M){return M.__proto__||Object.getPrototypeOf(M)},h(O)}function m(O,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(M&&M.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),M&&_(O,M)}function _(O,M){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(D,N){return D.__proto__=N,D},_(O,M)}var b=MT(),y=XC(),p=Oi(),g=p.Stream,w=oo(),S=no(),I=S.configure;return G0=function(O){function M(){var D,N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return a(this,M),D=u(this,M,[N]),D.options=N,D.name=N.name||"http",D.ssl=!!N.ssl,D.host=N.host||"localhost",D.port=N.port,D.auth=N.auth,D.path=N.path||"",D.maximumDepth=N.maximumDepth,D.agent=N.agent,D.headers=N.headers||{},D.headers["content-type"]="application/json",D.batch=N.batch||!1,D.batchInterval=N.batchInterval||5e3,D.batchCount=N.batchCount||10,D.batchOptions=[],D.batchTimeoutID=-1,D.batchCallback={},D.port||(D.port=D.ssl?443:80),D}return m(M,O),s(M,[{key:"log",value:function(N,C){var R=this;this._request(N,null,null,function(F,X){X&&X.statusCode!==200&&(F=new Error("Invalid HTTP Status Code: ".concat(X.statusCode))),F?R.emit("warn",F):R.emit("logged",N)}),C&&setImmediate(C)}},{key:"query",value:function(N,C){typeof N=="function"&&(C=N,N={}),N={method:"query",params:this.normalizeQuery(N)};var R=N.params.auth||null;delete N.params.auth;var F=N.params.path||null;delete N.params.path,this._request(N,R,F,function(X,oe,J){if(oe&&oe.statusCode!==200&&(X=new Error("Invalid HTTP Status Code: ".concat(oe.statusCode))),X)return C(X);if(typeof J=="string")try{J=JSON.parse(J)}catch(le){return C(le)}C(null,J)})}},{key:"stream",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},C=new g;N={method:"stream",params:N};var R=N.params.path||null;delete N.params.path;var F=N.params.auth||null;delete N.params.auth;var X="",oe=this._request(N,F,R);return C.destroy=function(){return oe.destroy()},oe.on("data",function(J){J=(X+J).split(/\n+/);for(var le=J.length-1,ae=0;ae<le;ae++)try{C.emit("log",JSON.parse(J[ae]))}catch(Z){C.emit("error",Z)}X=J[le]}),oe.on("error",function(J){return C.emit("error",J)}),C}},{key:"_request",value:function(N,C,R,F){N=N||{},C=C||this.auth,R=R||this.path||"",this.batch?this._doBatch(N,F,C,R):this._doRequest(N,F,C,R)}},{key:"_doBatch",value:function(N,C,R,F){if(this.batchOptions.push(N),this.batchOptions.length===1){var X=this;this.batchCallback=C,this.batchTimeoutID=setTimeout(function(){X.batchTimeoutID=-1,X._doBatchRequest(X.batchCallback,R,F)},this.batchInterval)}this.batchOptions.length===this.batchCount&&this._doBatchRequest(this.batchCallback,R,F)}},{key:"_doBatchRequest",value:function(N,C,R){this.batchTimeoutID>0&&(clearTimeout(this.batchTimeoutID),this.batchTimeoutID=-1);var F=this.batchOptions.slice();this.batchOptions=[],this._doRequest(F,N,C,R)}},{key:"_doRequest",value:function(N,C,R,F){var X=Object.assign({},this.headers);R&&R.bearer&&(X.Authorization="Bearer ".concat(R.bearer));var oe=(this.ssl?y:b).request(r(r({},this.options),{},{method:"POST",host:this.host,port:this.port,path:"/".concat(F.replace(/^\//,"")),headers:X,auth:R&&R.username&&R.password?"".concat(R.username,":").concat(R.password):"",agent:this.agent}));oe.on("error",C),oe.on("response",function(le){return le.on("end",function(){return C(null,le)}).resume()});var J=I(r({},this.maximumDepth&&{maximumDepth:this.maximumDepth}));oe.end(Zt.from(J(N,this.options.replacer),"utf8"))}}])}(w),G0}var z0,BT;function W0(){if(BT)return z0;BT=1;const t=e=>e!==null&&typeof e=="object"&&typeof e.pipe=="function";return t.writable=e=>t(e)&&e.writable!==!1&&typeof e._write=="function"&&typeof e._writableState=="object",t.readable=e=>t(e)&&e.readable!==!1&&typeof e._read=="function"&&typeof e._readableState=="object",t.duplex=e=>t.writable(e)&&t.readable(e),t.transform=e=>t.duplex(e)&&typeof e._transform=="function",z0=t,z0}var K0,kT;function JC(){if(kT)return K0;kT=1;function t(p){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},t(p)}function e(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function r(p,g){for(var w=0;w<g.length;w++){var S=g[w];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(p,a(S.key),S)}}function n(p,g,w){return r(p.prototype,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function a(p){var g=i(p,"string");return t(g)=="symbol"?g:g+""}function i(p,g){if(t(p)!="object"||!p)return p;var w=p[Symbol.toPrimitive];if(w!==void 0){var S=w.call(p,g);if(t(S)!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(p)}function s(p,g,w){return g=l(g),o(p,u()?Reflect.construct(g,w,l(p).constructor):g.apply(p,w))}function o(p,g){if(g&&(t(g)=="object"||typeof g=="function"))return g;if(g!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f(p)}function f(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function u(){try{var p=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u=function(){return!!p})()}function l(p){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)},l(p)}function d(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),Object.defineProperty(p,"prototype",{writable:!1}),g&&c(p,g)}function c(p,g){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(w,S){return w.__proto__=S,w},c(p,g)}var h=W0(),m=Et(),_=m.MESSAGE,b=Si(),y=oo();return K0=function(p){function g(){var w,S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(e(this,g),w=s(this,g,[S]),!S.stream||!h(S.stream))throw new Error("options.stream is required.");return w._stream=S.stream,w._stream.setMaxListeners(1/0),w.isObjectMode=S.stream._writableState.objectMode,w.eol=typeof S.eol=="string"?S.eol:b.EOL,w}return d(g,p),n(g,[{key:"log",value:function(S,I){var O=this;if(setImmediate(function(){return O.emit("logged",S)}),this.isObjectMode){this._stream.write(S),I&&I();return}this._stream.write("".concat(S[_]).concat(this.eol)),I&&I()}}])}(y),K0}var $T;function YC(){return $T||($T=1,function(t){Object.defineProperty(t,"Console",{configurable:!0,enumerable:!0,get:function(){return rD()}}),Object.defineProperty(t,"File",{configurable:!0,enumerable:!0,get:function(){return QD()}}),Object.defineProperty(t,"Http",{configurable:!0,enumerable:!0,get:function(){return ZC()}}),Object.defineProperty(t,"Stream",{configurable:!0,enumerable:!0,get:function(){return JC()}})}(Dh)),Dh}var Ci={},UT;function Q0(){if(UT)return Ci;UT=1;var t=sw(),e=Et(),r=e.configs;return Ci.cli=t.levels(r.cli),Ci.npm=t.levels(r.npm),Ci.syslog=t.levels(r.syslog),Ci.addColors=t.levels,Ci}var nl={exports:{}},il={exports:{}},HT;function eL(){return HT||(HT=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=Xh(),n=b(r),a=Zh(),i=b(a),s=Xw(),o=b(s),f=$w(),u=b(f),l=Gw(),d=b(l),c=Ti(),h=b(c),m=so(),_=b(m);function b(w){return w&&w.__esModule?w:{default:w}}function y(w,S,I){I=(0,u.default)(I);var O=0,M=0,{length:D}=w,N=!1;D===0&&I(null);function C(R,F){R===!1&&(N=!0),N!==!0&&(R?I(R):(++M===D||F===i.default)&&I(null))}for(;O<D;O++)S(w[O],O,(0,d.default)(C))}function p(w,S,I){return(0,o.default)(w,1/0,S,I)}function g(w,S,I){var O=(0,n.default)(w)?y:p;return O(w,(0,h.default)(S),I)}e.default=(0,_.default)(g,3),t.exports=e.default}(il,il.exports)),il.exports}var al={exports:{}},VT;function tL(){return VT||(VT=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;function r(n){return(a,i,s)=>n(a,s)}t.exports=e.default}(al,al.exports)),al.exports}var GT;function X0(){return GT||(GT=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=eL(),n=l(r),a=tL(),i=l(a),s=Ti(),o=l(s),f=so(),u=l(f);function l(c){return c&&c.__esModule?c:{default:c}}function d(c,h,m){return(0,n.default)(c,(0,i.default)((0,o.default)(h)),m)}e.default=(0,u.default)(d,3),t.exports=e.default}(nl,nl.exports)),nl.exports}var Z0,zT;function rL(){if(zT)return Z0;zT=1;var t=Object.prototype.toString;return Z0=function(r){if(typeof r.displayName=="string"&&r.constructor.name)return r.displayName;if(typeof r.name=="string"&&r.name)return r.name;if(typeof r=="object"&&r.constructor&&typeof r.constructor.name=="string")return r.constructor.name;var n=r.toString(),a=t.call(r).slice(8,-1);return a==="Function"?n=n.substring(n.indexOf("(")+1,n.indexOf(")")):n=a,n||"anonymous"},Z0}var J0,WT;function KT(){if(WT)return J0;WT=1;var t=rL();return J0=function(r){var n=0,a;function i(){return n||(n=1,a=r.apply(this,arguments),r=null),a}return i.displayName=t(r),i},J0}var Y0={},QT;function XT(){return QT||(QT=1,function(t){t.get=function(a){var i=Error.stackTraceLimit;Error.stackTraceLimit=1/0;var s={},o=Error.prepareStackTrace;Error.prepareStackTrace=function(u,l){return l},Error.captureStackTrace(s,a||t.get);var f=s.stack;return Error.prepareStackTrace=o,Error.stackTraceLimit=i,f},t.parse=function(a){if(!a.stack)return[];var i=this,s=a.stack.split(`
`).slice(1);return s.map(function(o){if(o.match(/^\s*[-]{4,}$/))return i._createParsedCallSite({fileName:o,lineNumber:null,functionName:null,typeName:null,methodName:null,columnNumber:null,native:null});var f=o.match(/at (?:(.+)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/);if(f){var u=null,l=null,d=null,c=null,h=null,m=f[5]==="native";if(f[1]){d=f[1];var _=d.lastIndexOf(".");if(d[_-1]=="."&&_--,_>0){u=d.substr(0,_),l=d.substr(_+1);var b=u.indexOf(".Module");b>0&&(d=d.substr(b+1),u=u.substr(0,b))}c=null}l&&(c=u,h=l),l==="<anonymous>"&&(h=null,d=null);var y={fileName:f[2]||null,lineNumber:parseInt(f[3],10)||null,functionName:d,typeName:c,methodName:h,columnNumber:parseInt(f[4],10)||null,native:m};return i._createParsedCallSite(y)}}).filter(function(o){return!!o})};function e(a){for(var i in a)this[i]=a[i]}var r=["this","typeName","functionName","methodName","fileName","lineNumber","columnNumber","function","evalOrigin"],n=["topLevel","eval","native","constructor"];r.forEach(function(a){e.prototype[a]=null,e.prototype["get"+a[0].toUpperCase()+a.substr(1)]=function(){return this[a]}}),n.forEach(function(a){e.prototype[a]=!1,e.prototype["is"+a[0].toUpperCase()+a.substr(1)]=function(){return this[a]}}),t._createParsedCallSite=function(a){return new e(a)}}(Y0)),Y0}var ey,ZT;function nL(){if(ZT)return ey;ZT=1;function t(_){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},t(_)}function e(_,b){if(!(_ instanceof b))throw new TypeError("Cannot call a class as a function")}function r(_,b){for(var y=0;y<b.length;y++){var p=b[y];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(_,a(p.key),p)}}function n(_,b,y){return r(_.prototype,b),Object.defineProperty(_,"prototype",{writable:!1}),_}function a(_){var b=i(_,"string");return t(b)=="symbol"?b:b+""}function i(_,b){if(t(_)!="object"||!_)return _;var y=_[Symbol.toPrimitive];if(y!==void 0){var p=y.call(_,b);if(t(p)!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(_)}function s(_,b,y){return b=l(b),o(_,u()?Reflect.construct(b,y,l(_).constructor):b.apply(_,y))}function o(_,b){if(b&&(t(b)=="object"||typeof b=="function"))return b;if(b!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f(_)}function f(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}function u(){try{var _=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u=function(){return!!_})()}function l(_){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(b){return b.__proto__||Object.getPrototypeOf(b)},l(_)}function d(_,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(b&&b.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),Object.defineProperty(_,"prototype",{writable:!1}),b&&c(_,b)}function c(_,b){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,p){return y.__proto__=p,y},c(_,b)}var h=Oi(),m=h.Writable;return ey=function(_){function b(y){var p;if(e(this,b),p=s(this,b,[{objectMode:!0}]),!y)throw new Error("ExceptionStream requires a TransportStream instance.");return p.handleExceptions=!0,p.transport=y,p}return d(b,_),n(b,[{key:"_write",value:function(p,g,w){return p.exception?this.transport.log(p,w):(w(),!0)}}])}(m),ey}var ty,JT;function YT(){if(JT)return ty;JT=1;function t(c){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},t(c)}function e(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}function r(c,h){for(var m=0;m<h.length;m++){var _=h[m];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(c,a(_.key),_)}}function n(c,h,m){return r(c.prototype,h),Object.defineProperty(c,"prototype",{writable:!1}),c}function a(c){var h=i(c,"string");return t(h)=="symbol"?h:h+""}function i(c,h){if(t(c)!="object"||!c)return c;var m=c[Symbol.toPrimitive];if(m!==void 0){var _=m.call(c,h);if(t(_)!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(c)}var s=Si(),o=X0(),f=Yf()("winston:exception"),u=KT(),l=XT(),d=nL();return ty=function(){function c(h){if(e(this,c),!h)throw new Error("Logger is required to handle exceptions");this.logger=h,this.handlers=new Map}return n(c,[{key:"handle",value:function(){for(var m=this,_=arguments.length,b=new Array(_),y=0;y<_;y++)b[y]=arguments[y];b.forEach(function(p){if(Array.isArray(p))return p.forEach(function(g){return m._addHandler(g)});m._addHandler(p)}),this.catcher||(this.catcher=this._uncaughtException.bind(this),xe.on("uncaughtException",this.catcher))}},{key:"unhandle",value:function(){var m=this;this.catcher&&(xe.removeListener("uncaughtException",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(function(_){return m.logger.unpipe(_)}))}},{key:"getAllInfo",value:function(m){var _=null;return m&&(_=typeof m=="string"?m:m.message),{error:m,level:"error",message:["uncaughtException: ".concat(_||"(no error message)"),m&&m.stack||"  No stack trace"].join(`
`),stack:m&&m.stack,exception:!0,date:new Date().toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(m)}}},{key:"getProcessInfo",value:function(){return{pid:xe.pid,uid:xe.getuid?xe.getuid():null,gid:xe.getgid?xe.getgid():null,cwd:xe.cwd(),execPath:xe.execPath,version:xe.version,argv:xe.argv,memoryUsage:xe.memoryUsage()}}},{key:"getOsInfo",value:function(){return{loadavg:s.loadavg(),uptime:s.uptime()}}},{key:"getTrace",value:function(m){var _=m?l.parse(m):l.get();return _.map(function(b){return{column:b.getColumnNumber(),file:b.getFileName(),function:b.getFunctionName(),line:b.getLineNumber(),method:b.getMethodName(),native:b.isNative()}})}},{key:"_addHandler",value:function(m){if(!this.handlers.has(m)){m.handleExceptions=!0;var _=new d(m);this.handlers.set(m,_),this.logger.pipe(_)}}},{key:"_uncaughtException",value:function(m){var _=this.getAllInfo(m),b=this._getExceptionHandlers(),y=typeof this.logger.exitOnError=="function"?this.logger.exitOnError(m):this.logger.exitOnError,p;!b.length&&y&&(console.warn("winston: exitOnError cannot be true with no exception handlers."),console.warn("winston: not exiting process."),y=!1);function g(){f("doExit",y),f("process._exiting",xe._exiting),y&&!xe._exiting&&(p&&clearTimeout(p),xe.exit(1))}if(!b||b.length===0)return xe.nextTick(g);o(b,function(w,S){var I=u(S),O=w.transport||w;function M(D){return function(){f(D),I()}}O._ending=!0,O.once("finish",M("finished")),O.once("error",M("error"))},function(){return y&&g()}),this.logger.log(_),y&&(p=setTimeout(g,3e3))}},{key:"_getExceptionHandlers",value:function(){return this.logger.transports.filter(function(m){var _=m.transport||m;return _.handleExceptions})}}])}(),ty}var ry,ex;function iL(){if(ex)return ry;ex=1;function t(_){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},t(_)}function e(_,b){if(!(_ instanceof b))throw new TypeError("Cannot call a class as a function")}function r(_,b){for(var y=0;y<b.length;y++){var p=b[y];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(_,a(p.key),p)}}function n(_,b,y){return r(_.prototype,b),Object.defineProperty(_,"prototype",{writable:!1}),_}function a(_){var b=i(_,"string");return t(b)=="symbol"?b:b+""}function i(_,b){if(t(_)!="object"||!_)return _;var y=_[Symbol.toPrimitive];if(y!==void 0){var p=y.call(_,b);if(t(p)!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(_)}function s(_,b,y){return b=l(b),o(_,u()?Reflect.construct(b,y,l(_).constructor):b.apply(_,y))}function o(_,b){if(b&&(t(b)=="object"||typeof b=="function"))return b;if(b!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f(_)}function f(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}function u(){try{var _=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u=function(){return!!_})()}function l(_){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(b){return b.__proto__||Object.getPrototypeOf(b)},l(_)}function d(_,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(b&&b.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),Object.defineProperty(_,"prototype",{writable:!1}),b&&c(_,b)}function c(_,b){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,p){return y.__proto__=p,y},c(_,b)}var h=Oi(),m=h.Writable;return ry=function(_){function b(y){var p;if(e(this,b),p=s(this,b,[{objectMode:!0}]),!y)throw new Error("RejectionStream requires a TransportStream instance.");return p.handleRejections=!0,p.transport=y,p}return d(b,_),n(b,[{key:"_write",value:function(p,g,w){return p.rejection?this.transport.log(p,w):(w(),!0)}}])}(m),ry}var ny,tx;function rx(){if(tx)return ny;tx=1;function t(c){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},t(c)}function e(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}function r(c,h){for(var m=0;m<h.length;m++){var _=h[m];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(c,a(_.key),_)}}function n(c,h,m){return r(c.prototype,h),Object.defineProperty(c,"prototype",{writable:!1}),c}function a(c){var h=i(c,"string");return t(h)=="symbol"?h:h+""}function i(c,h){if(t(c)!="object"||!c)return c;var m=c[Symbol.toPrimitive];if(m!==void 0){var _=m.call(c,h);if(t(_)!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(c)}var s=Si(),o=X0(),f=Yf()("winston:rejection"),u=KT(),l=XT(),d=iL();return ny=function(){function c(h){if(e(this,c),!h)throw new Error("Logger is required to handle rejections");this.logger=h,this.handlers=new Map}return n(c,[{key:"handle",value:function(){for(var m=this,_=arguments.length,b=new Array(_),y=0;y<_;y++)b[y]=arguments[y];b.forEach(function(p){if(Array.isArray(p))return p.forEach(function(g){return m._addHandler(g)});m._addHandler(p)}),this.catcher||(this.catcher=this._unhandledRejection.bind(this),xe.on("unhandledRejection",this.catcher))}},{key:"unhandle",value:function(){var m=this;this.catcher&&(xe.removeListener("unhandledRejection",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(function(_){return m.logger.unpipe(_)}))}},{key:"getAllInfo",value:function(m){var _=null;return m&&(_=typeof m=="string"?m:m.message),{error:m,level:"error",message:["unhandledRejection: ".concat(_||"(no error message)"),m&&m.stack||"  No stack trace"].join(`
`),stack:m&&m.stack,rejection:!0,date:new Date().toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(m)}}},{key:"getProcessInfo",value:function(){return{pid:xe.pid,uid:xe.getuid?xe.getuid():null,gid:xe.getgid?xe.getgid():null,cwd:xe.cwd(),execPath:xe.execPath,version:xe.version,argv:xe.argv,memoryUsage:xe.memoryUsage()}}},{key:"getOsInfo",value:function(){return{loadavg:s.loadavg(),uptime:s.uptime()}}},{key:"getTrace",value:function(m){var _=m?l.parse(m):l.get();return _.map(function(b){return{column:b.getColumnNumber(),file:b.getFileName(),function:b.getFunctionName(),line:b.getLineNumber(),method:b.getMethodName(),native:b.isNative()}})}},{key:"_addHandler",value:function(m){if(!this.handlers.has(m)){m.handleRejections=!0;var _=new d(m);this.handlers.set(m,_),this.logger.pipe(_)}}},{key:"_unhandledRejection",value:function(m){var _=this.getAllInfo(m),b=this._getRejectionHandlers(),y=typeof this.logger.exitOnError=="function"?this.logger.exitOnError(m):this.logger.exitOnError,p;!b.length&&y&&(console.warn("winston: exitOnError cannot be true with no rejection handlers."),console.warn("winston: not exiting process."),y=!1);function g(){f("doExit",y),f("process._exiting",xe._exiting),y&&!xe._exiting&&(p&&clearTimeout(p),xe.exit(1))}if(!b||b.length===0)return xe.nextTick(g);o(b,function(w,S){var I=u(S),O=w.transport||w;function M(D){return function(){f(D),I()}}O._ending=!0,O.once("finish",M("finished")),O.once("error",M("error"))},function(){return y&&g()}),this.logger.log(_),y&&(p=setTimeout(g,3e3))}},{key:"_getRejectionHandlers",value:function(){return this.logger.transports.filter(function(m){var _=m.transport||m;return _.handleRejections})}}])}(),ny}var iy={exports:{}},ay={exports:{}},nx;function aL(){if(nx)return ay.exports;nx=1;const t=wt(),e=zh(),{LEVEL:r}=Et(),n=ay.exports=function(i={}){e.call(this,{objectMode:!0,highWaterMark:i.highWaterMark}),this.format=i.format,this.level=i.level,this.handleExceptions=i.handleExceptions,this.handleRejections=i.handleRejections,this.silent=i.silent,i.log&&(this.log=i.log),i.logv&&(this.logv=i.logv),i.close&&(this.close=i.close),this.once("pipe",s=>{this.levels=s.levels,this.parent=s}),this.once("unpipe",s=>{s===this.parent&&(this.parent=null,this.close&&this.close())})};return t.inherits(n,e),n.prototype._write=function(i,s,o){if(this.silent||i.exception===!0&&!this.handleExceptions)return o(null);const f=this.level||this.parent&&this.parent.level;if(!f||this.levels[f]>=this.levels[i[r]]){if(i&&!this.format)return this.log(i,o);let u,l;try{l=this.format.transform(Object.assign({},i),this.format.options)}catch(d){u=d}if(u||!l){if(o(),u)throw u;return}return this.log(l,o)}return this._writableState.sync=!1,o(null)},n.prototype._writev=function(i,s){if(this.logv){const o=i.filter(this._accept,this);return o.length?this.logv(o,s):s(null)}for(let o=0;o<i.length;o++){if(!this._accept(i[o]))continue;if(i[o].chunk&&!this.format){this.log(i[o].chunk,i[o].callback);continue}let f,u;try{u=this.format.transform(Object.assign({},i[o].chunk),this.format.options)}catch(l){f=l}if(f||!u){if(i[o].callback(),f)throw s(null),f}else this.log(u,i[o].callback)}return s(null)},n.prototype._accept=function(i){const s=i.chunk;if(this.silent)return!1;const o=this.level||this.parent&&this.parent.level;return!!((s.exception===!0||!o||this.levels[o]>=this.levels[s[r]])&&(this.handleExceptions||s.exception!==!0))},n.prototype._nop=function(){},ay.exports}var ix;function oL(){if(ix)return iy.exports;ix=1;const t=wt(),{LEVEL:e}=Et(),r=aL(),n=iy.exports=function(i={}){if(r.call(this,i),!i.transport||typeof i.transport.log!="function")throw new Error("Invalid transport, must be an object with a log method.");this.transport=i.transport,this.level=this.level||i.transport.level,this.handleExceptions=this.handleExceptions||i.transport.handleExceptions,this._deprecated();function s(o){this.emit("error",o,this.transport)}this.transport.__winstonError||(this.transport.__winstonError=s.bind(this),this.transport.on("error",this.transport.__winstonError))};return t.inherits(n,r),n.prototype._write=function(i,s,o){if(this.silent||i.exception===!0&&!this.handleExceptions)return o(null);(!this.level||this.levels[this.level]>=this.levels[i[e]])&&this.transport.log(i[e],i.message,i,this._nop),o(null)},n.prototype._writev=function(i,s){for(let o=0;o<i.length;o++)this._accept(i[o])&&(this.transport.log(i[o].chunk[e],i[o].chunk.message,i[o].chunk,this._nop),i[o].callback());return s(null)},n.prototype._deprecated=function(){console.error([`${this.transport.name} is a legacy winston transport. Consider upgrading: `,"- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md"].join(`
`))},n.prototype.close=function(){this.transport.close&&this.transport.close(),this.transport.__winstonError&&(this.transport.removeListener("error",this.transport.__winstonError),this.transport.__winstonError=null)},iy.exports}var oy,ax;function sL(){if(ax)return oy;ax=1;function t(o){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},t(o)}function e(o,f){if(!(o instanceof f))throw new TypeError("Cannot call a class as a function")}function r(o,f){for(var u=0;u<f.length;u++){var l=f[u];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(o,a(l.key),l)}}function n(o,f,u){return r(o.prototype,f),Object.defineProperty(o,"prototype",{writable:!1}),o}function a(o){var f=i(o,"string");return t(f)=="symbol"?f:f+""}function i(o,f){if(t(o)!="object"||!o)return o;var u=o[Symbol.toPrimitive];if(u!==void 0){var l=u.call(o,f);if(t(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(o)}var s=function(){function o(f){e(this,o);var u=ly();if(t(f)!=="object"||Array.isArray(f)||!(f instanceof u))throw new Error("Logger is required for profiling");this.logger=f,this.start=Date.now()}return n(o,[{key:"done",value:function(){for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];typeof l[l.length-1]=="function"&&(console.warn("Callback function no longer supported as of winston@3.0.0"),l.pop());var c=t(l[l.length-1])==="object"?l.pop():{};return c.level=c.level||"info",c.durationMs=Date.now()-this.start,this.logger.write(c)}}])}();return oy=s,oy}var sy,ox;function uL(){if(ox)return sy;ox=1;class t extends Error{constructor(r){super(`Format functions must be synchronous taking a two arguments: (info, opts)
Found: ${r.toString().split(`
`)[0]}
`),Error.captureStackTrace(this,t)}}return sy=e=>{if(e.length>2)throw new t(e);function r(a={}){this.options=a}r.prototype.transform=e;function n(a){return new r(a)}return n.Format=r,n},sy}var uy,sx;function fL(){if(sx)return uy;sx=1;const t=uL(),{MESSAGE:e}=Et(),r=no();function n(a,i){return typeof i=="bigint"?i.toString():i}return uy=t((a,i)=>{const s=r.configure(i);return a[e]=s(a,i.replacer||n,i.space),a}),uy}var fy,ux;function ly(){if(ux)return fy;ux=1;function t(J,le,ae){return(le=i(le))in J?Object.defineProperty(J,le,{value:ae,enumerable:!0,configurable:!0,writable:!0}):J[le]=ae,J}function e(J){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(le){return typeof le}:function(le){return le&&typeof Symbol=="function"&&le.constructor===Symbol&&le!==Symbol.prototype?"symbol":typeof le},e(J)}function r(J,le){if(!(J instanceof le))throw new TypeError("Cannot call a class as a function")}function n(J,le){for(var ae=0;ae<le.length;ae++){var Z=le[ae];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(J,i(Z.key),Z)}}function a(J,le,ae){return n(J.prototype,le),Object.defineProperty(J,"prototype",{writable:!1}),J}function i(J){var le=s(J,"string");return e(le)=="symbol"?le:le+""}function s(J,le){if(e(J)!="object"||!J)return J;var ae=J[Symbol.toPrimitive];if(ae!==void 0){var Z=ae.call(J,le);if(e(Z)!="object")return Z;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(J)}function o(J,le,ae){return le=d(le),f(J,l()?Reflect.construct(le,ae,d(J).constructor):le.apply(J,ae))}function f(J,le){if(le&&(e(le)=="object"||typeof le=="function"))return le;if(le!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u(J)}function u(J){if(J===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return J}function l(){try{var J=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l=function(){return!!J})()}function d(J){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(le){return le.__proto__||Object.getPrototypeOf(le)},d(J)}function c(J,le){if(typeof le!="function"&&le!==null)throw new TypeError("Super expression must either be null or a function");J.prototype=Object.create(le&&le.prototype,{constructor:{value:J,writable:!0,configurable:!0}}),Object.defineProperty(J,"prototype",{writable:!1}),le&&h(J,le)}function h(J,le){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ae,Z){return ae.__proto__=Z,ae},h(J,le)}var m=Oi(),_=m.Stream,b=m.Transform,y=X0(),p=Et(),g=p.LEVEL,w=p.SPLAT,S=W0(),I=YT(),O=rx(),M=oL(),D=sL(),N=fw(),C=N.warn,R=Q0(),F=/%[scdjifoO%]/g,X=function(J){function le(ae){var Z;return r(this,le),Z=o(this,le,[{objectMode:!0}]),Z.configure(ae),Z}return c(le,J),a(le,[{key:"child",value:function(Z){var H=this;return Object.create(H,{write:{value:function(he){var W=Object.assign({},Z,he);he instanceof Error&&(W.stack=he.stack,W.message=he.message),H.write(W)}}})}},{key:"configure",value:function(){var Z=this,H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},de=H.silent,he=H.format,W=H.defaultMeta,z=H.levels,Q=H.level,A=Q===void 0?"info":Q,P=H.exitOnError,k=P===void 0?!0:P,G=H.transports,te=H.colors,E=H.emitErrs,v=H.formatters,T=H.padLevels,L=H.rewriters,Y=H.stripColors,ne=H.exceptionHandlers,pe=H.rejectionHandlers;if(this.transports.length&&this.clear(),this.silent=de,this.format=he||this.format||fL()(),this.defaultMeta=W||null,this.levels=z||this.levels||R.npm.levels,this.level=A,this.exceptions&&this.exceptions.unhandle(),this.rejections&&this.rejections.unhandle(),this.exceptions=new I(this),this.rejections=new O(this),this.profilers={},this.exitOnError=k,G&&(G=Array.isArray(G)?G:[G],G.forEach(function(we){return Z.add(we)})),te||E||v||T||L||Y)throw new Error(["{ colors, emitErrs, formatters, padLevels, rewriters, stripColors } were removed in winston@3.0.0.","Use a custom winston.format(function) instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join(`
`));ne&&this.exceptions.handle(ne),pe&&this.rejections.handle(pe)}},{key:"isLevelEnabled",value:function(Z){var H=this,de=oe(this.levels,Z);if(de===null)return!1;var he=oe(this.levels,this.level);if(he===null)return!1;if(!this.transports||this.transports.length===0)return he>=de;var W=this.transports.findIndex(function(z){var Q=oe(H.levels,z.level);return Q===null&&(Q=he),Q>=de});return W!==-1}},{key:"log",value:function(Z,H){for(var de=arguments.length,he=new Array(de>2?de-2:0),W=2;W<de;W++)he[W-2]=arguments[W];if(arguments.length===1)return Z[g]=Z.level,this._addDefaultMeta(Z),this.write(Z),this;if(arguments.length===2)return H&&e(H)==="object"?(H[g]=H.level=Z,this._addDefaultMeta(H),this.write(H),this):(H=t(t(t({},g,Z),"level",Z),"message",H),this._addDefaultMeta(H),this.write(H),this);var z=he[0];if(e(z)==="object"&&z!==null){var Q=H&&H.match&&H.match(F);if(!Q){var A=Object.assign({},this.defaultMeta,z,t(t(t(t({},g,Z),w,he),"level",Z),"message",H));return z.message&&(A.message="".concat(A.message," ").concat(z.message)),z.stack&&(A.stack=z.stack),z.cause&&(A.cause=z.cause),this.write(A),this}}return this.write(Object.assign({},this.defaultMeta,t(t(t(t({},g,Z),w,he),"level",Z),"message",H))),this}},{key:"_transform",value:function(Z,H,de){if(this.silent)return de();Z[g]||(Z[g]=Z.level),!this.levels[Z[g]]&&this.levels[Z[g]]!==0&&console.error("[winston] Unknown logger level: %s",Z[g]),this._readableState.pipes||console.error("[winston] Attempt to write logs with no transports, which can increase memory usage: %j",Z);try{this.push(this.format.transform(Z,this.format.options))}finally{this._writableState.sync=!1,de()}}},{key:"_final",value:function(Z){var H=this.transports.slice();y(H,function(de,he){if(!de||de.finished)return setImmediate(he);de.once("finish",he),de.end()},Z)}},{key:"add",value:function(Z){var H=!S(Z)||Z.log.length>2?new M({transport:Z}):Z;if(!H._writableState||!H._writableState.objectMode)throw new Error("Transports must WritableStreams in objectMode. Set { objectMode: true }.");return this._onEvent("error",H),this._onEvent("warn",H),this.pipe(H),Z.handleExceptions&&this.exceptions.handle(),Z.handleRejections&&this.rejections.handle(),this}},{key:"remove",value:function(Z){if(!Z)return this;var H=Z;return(!S(Z)||Z.log.length>2)&&(H=this.transports.filter(function(de){return de.transport===Z})[0]),H&&this.unpipe(H),this}},{key:"clear",value:function(){return this.unpipe(),this}},{key:"close",value:function(){return this.exceptions.unhandle(),this.rejections.unhandle(),this.clear(),this.emit("close"),this}},{key:"setLevels",value:function(){C.deprecated("setLevels")}},{key:"query",value:function(Z,H){typeof Z=="function"&&(H=Z,Z={}),Z=Z||{};var de={},he=Object.assign({},Z.query||{});function W(Q,A){Z.query&&typeof Q.formatQuery=="function"&&(Z.query=Q.formatQuery(he)),Q.query(Z,function(P,k){if(P)return A(P);typeof Q.formatResults=="function"&&(k=Q.formatResults(k,Z.format)),A(null,k)})}function z(Q,A){W(Q,function(P,k){A&&(k=P||k,k&&(de[Q.name]=k),A()),A=null})}y(this.transports.filter(function(Q){return!!Q.query}),z,function(){return H(null,de)})}},{key:"stream",value:function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},H=new _,de=[];return H._streams=de,H.destroy=function(){for(var he=de.length;he--;)de[he].destroy()},this.transports.filter(function(he){return!!he.stream}).forEach(function(he){var W=he.stream(Z);W&&(de.push(W),W.on("log",function(z){z.transport=z.transport||[],z.transport.push(he.name),H.emit("log",z)}),W.on("error",function(z){z.transport=z.transport||[],z.transport.push(he.name),H.emit("error",z)}))}),H}},{key:"startTimer",value:function(){return new D(this)}},{key:"profile",value:function(Z){var H=Date.now();if(this.profilers[Z]){var de=this.profilers[Z];delete this.profilers[Z];for(var he=arguments.length,W=new Array(he>1?he-1:0),z=1;z<he;z++)W[z-1]=arguments[z];typeof W[W.length-2]=="function"&&(console.warn("Callback function no longer supported as of winston@3.0.0"),W.pop());var Q=e(W[W.length-1])==="object"?W.pop():{};return Q.level=Q.level||"info",Q.durationMs=H-de,Q.message=Q.message||Z,this.write(Q)}return this.profilers[Z]=H,this}},{key:"handleExceptions",value:function(){var Z;console.warn("Deprecated: .handleExceptions() will be removed in winston@4. Use .exceptions.handle()"),(Z=this.exceptions).handle.apply(Z,arguments)}},{key:"unhandleExceptions",value:function(){var Z;console.warn("Deprecated: .unhandleExceptions() will be removed in winston@4. Use .exceptions.unhandle()"),(Z=this.exceptions).unhandle.apply(Z,arguments)}},{key:"cli",value:function(){throw new Error(["Logger.cli() was removed in winston@3.0.0","Use a custom winston.formats.cli() instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join(`
`))}},{key:"_onEvent",value:function(Z,H){function de(he){Z==="error"&&!this.transports.includes(H)&&this.add(H),this.emit(Z,he,H)}H["__winston"+Z]||(H["__winston"+Z]=de.bind(this),H.on(Z,H["__winston"+Z]))}},{key:"_addDefaultMeta",value:function(Z){this.defaultMeta&&Object.assign(Z,this.defaultMeta)}}])}(b);function oe(J,le){var ae=J[le];return!ae&&ae!==0?null:ae}return Object.defineProperty(X.prototype,"transports",{configurable:!1,enumerable:!0,get:function(){var le=this._readableState.pipes;return Array.isArray(le)?le:[le].filter(Boolean)}}),fy=X,fy}var cy,fx;function lx(){if(fx)return cy;fx=1;function t(b){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},t(b)}function e(b,y,p){return Object.defineProperty(b,"prototype",{writable:!1}),b}function r(b,y){if(!(b instanceof y))throw new TypeError("Cannot call a class as a function")}function n(b,y,p){return y=o(y),a(b,s()?Reflect.construct(y,p,o(b).constructor):y.apply(b,p))}function a(b,y){if(y&&(t(y)=="object"||typeof y=="function"))return y;if(y!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i(b)}function i(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}function s(){try{var b=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s=function(){return!!b})()}function o(b){return o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)},o(b)}function f(b,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(y&&y.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),Object.defineProperty(b,"prototype",{writable:!1}),y&&u(b,y)}function u(b,y){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(p,g){return p.__proto__=g,p},u(b,y)}var l=Et(),d=l.LEVEL,c=Q0(),h=ly(),m=Yf()("winston:create-logger");function _(b){return"is"+b.charAt(0).toUpperCase()+b.slice(1)+"Enabled"}return cy=function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};b.levels=b.levels||c.npm.levels;var y=function(g){function w(S){return r(this,w),n(this,w,[S])}return f(w,g),e(w)}(h),p=new y(b);return Object.keys(b.levels).forEach(function(g){if(m('Define prototype method for "%s"',g),g==="log"){console.warn('Level "log" not defined: conflicts with the method "log". Use a different level name.');return}y.prototype[g]=function(){for(var w=this||p,S=arguments.length,I=new Array(S),O=0;O<S;O++)I[O]=arguments[O];if(I.length===1){var M=I[0],D=M&&M.message&&M||{message:M};return D.level=D[d]=g,w._addDefaultMeta(D),w.write(D),this||p}return I.length===0?(w.log(g,""),w):w.log.apply(w,[g].concat(I))},y.prototype[_(g)]=function(){return(this||p).isLevelEnabled(g)}}),p},cy}var dy,cx;function lL(){if(cx)return dy;cx=1;function t(o){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},t(o)}function e(o,f){if(!(o instanceof f))throw new TypeError("Cannot call a class as a function")}function r(o,f){for(var u=0;u<f.length;u++){var l=f[u];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(o,a(l.key),l)}}function n(o,f,u){return r(o.prototype,f),Object.defineProperty(o,"prototype",{writable:!1}),o}function a(o){var f=i(o,"string");return t(f)=="symbol"?f:f+""}function i(o,f){if(t(o)!="object"||!o)return o;var u=o[Symbol.toPrimitive];if(u!==void 0){var l=u.call(o,f);if(t(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(o)}var s=lx();return dy=function(){function o(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e(this,o),this.loggers=new Map,this.options=f}return n(o,[{key:"add",value:function(u,l){var d=this;if(!this.loggers.has(u)){l=Object.assign({},l||this.options);var c=l.transports||this.options.transports;c?l.transports=Array.isArray(c)?c.slice():[c]:l.transports=[];var h=s(l);h.on("close",function(){return d._delete(u)}),this.loggers.set(u,h)}return this.loggers.get(u)}},{key:"get",value:function(u,l){return this.add(u,l)}},{key:"has",value:function(u){return!!this.loggers.has(u)}},{key:"close",value:function(u){var l=this;if(u)return this._removeLogger(u);this.loggers.forEach(function(d,c){return l._removeLogger(c)})}},{key:"_removeLogger",value:function(u){if(this.loggers.has(u)){var l=this.loggers.get(u);l.close(),this._delete(u)}}},{key:"_delete",value:function(u){this.loggers.delete(u)}}])}(),dy}var dx;function cL(){return dx||(dx=1,function(t){var e=sw(),r=fw(),n=r.warn;t.version=QP.version,t.transports=YC(),t.config=Q0(),t.addColors=e.levels,t.format=e.format,t.createLogger=lx(),t.Logger=ly(),t.ExceptionHandler=YT(),t.RejectionHandler=rx(),t.Container=lL(),t.Transport=oo(),t.loggers=new t.Container;var a=t.createLogger();Object.keys(t.config.npm.levels).concat(["log","query","stream","add","remove","clear","profile","startTimer","handleExceptions","unhandleExceptions","handleRejections","unhandleRejections","configure","child"]).forEach(function(i){return t[i]=function(){return a[i].apply(a,arguments)}}),Object.defineProperty(t,"level",{get:function(){return a.level},set:function(s){a.level=s}}),Object.defineProperty(t,"exceptions",{get:function(){return a.exceptions}}),Object.defineProperty(t,"rejections",{get:function(){return a.rejections}}),["exitOnError"].forEach(function(i){Object.defineProperty(t,i,{get:function(){return a[i]},set:function(o){a[i]=o}})}),Object.defineProperty(t,"default",{get:function(){return{exceptionHandlers:a.exceptionHandlers,rejectionHandlers:a.rejectionHandlers,transports:a.transports}}}),n.deprecated(t,"setLevels"),n.forFunctions(t,"useFormat",["cli"]),n.forProperties(t,"useFormat",["padLevels","stripColors"]),n.forFunctions(t,"deprecated",["addRewriter","addFilter","clone","extend"]),n.forProperties(t,"deprecated",["emitErrs","levelLength"])}(Qc)),Qc}var Un=cL(),hx=Yu(Un),hy={};const px="ldes-client",yx=new hx.transports.Console;typeof xe<"u"&&(yx.level=hy.LOG_LEVEL||((JO=hy.DEBUG)!=null&&JO.includes(px)||hy.DEBUG==="*"?"debug":"info"));const py=new WeakMap,yy=new Map;function or(t){let e;if(typeof t=="string")yy.has(t)?e=yy.get(t):(e=gx(t),yy.set(t,e));else{const{constructor:r}=t;py.has(r)?e=py.get(r):(e=gx(r.name),py.set(r,e))}return e}function gx(t){return hx.createLogger({format:Un.format.combine(Un.format.label({label:t}),Un.format.colorize(),Un.format.timestamp(),Un.format.metadata({fillExcept:["level","timestamp","label","message"]}),Un.format.printf(({level:e,message:r,label:n,timestamp:a})=>`${a} {${px}} [${n}] ${e}: ${r}`)),transports:[yx]})}const lo=or("Utils"),gy=new Kc.DataFactory;function bx(t,e,r,n){return t.getQuads(null,e,r,n).map(a=>a.subject)}function Rt(t,e,r,n){return t.getQuads(e,r,null,n).map(a=>a.object)}function dL(t){const e=[];return new Promise((r,n)=>{t.on("end",()=>r(e)),t.on("data",a=>{e.push(a)}),t.on("error",a=>{lo.error("[streamToArray] Stream to Array failed"),n(a)})})}function hL(t){const e=bx(t,Qe.RDF.terms.type,Qe.SHACL.terms.NodeShape,null);let r=null;if(e&&e.length>0){for(const n of e)if(bx(t,null,n,null).length===0)if(!r)r=n;else throw new Error("There are multiple main node shapes in a given shape graph. Unrelated shapes must be given as separate shape graphs");if(r)return r;throw new Error("No main SHACL Node Shapes found in given shape graph")}else throw new Error("No SHACL Node Shapes found in given shape graph")}class pL{constructor(e,r){$e(this,"concurrent",10);$e(this,"paused",!1);$e(this,"factory");$e(this,"children",[]);this.factory=e,r&&(this.concurrent=r)}create(e,r,n,a){const i=this.factory.build(e,JSON.stringify,JSON.parse,()=>({todo:[],inflight:[]}));a&&(i.item.todo=i.item.todo.map(({item:o,index:f})=>({index:f,item:a(o)})),i.item.inflight=i.item.inflight.map(({item:o,index:f})=>({index:f,item:a(o)})));const s=new yL(i,r,n,this);return this.children.push(s),s}pause(){this.paused=!0}unpause(){this.paused=!1,this.children.forEach(e=>e.checkReady())}}class yL{constructor(e,r,n,a){$e(this,"at",0);$e(this,"index",0);$e(this,"state");$e(this,"ranker");$e(this,"notifier");$e(this,"factory");$e(this,"logger",or(this));this.state=e;const i=[...this.state.item.todo,...this.state.item.inflight];for(this.state.item.todo.push(...this.state.item.inflight);this.state.item.inflight.pop(););for(;this.state.item.todo.pop(););this.ranker=r,this.notifier=n,this.factory=a;for(const s of i)this.push(s.item)}length(){return this.state.item.todo.length}push(e){const r={item:e,index:this.index};this.state.item.todo.push(r),this.index+=1,this.ranker.push(r),this.checkReady()}finished(e){const r=this.state.item.inflight.findIndex(n=>n.index==e);r>=0?this.state.item.inflight.splice(r,1):this.logger.error("[finished] Expected to be able to remove inflight item"),this.at-=1,this.checkReady()}checkReady(){if(!this.factory.paused)for(;this.at<this.factory.concurrent;){const e=this.ranker.pop();if(e){const r=this.state.item.todo.findIndex(n=>n.index==e.index);r>=0?this.state.item.todo.splice(r,1):this.logger.error("[checkReady] Expected to be able to remove inflight item"),this.state.item.inflight.push(e),this.at+=1,this.notifier.ready(e,{})}else break}}}function mx(t){if(typeof t=="string")return new URL(t);if(t instanceof URL)return t;if(t instanceof Request)return new URL(t.url);throw"Not a real url"}function gL(t,e){const r=fetch,n=async(i,s)=>{for(;;)try{return await r(i,s)}catch(o){lo.debug(`This should not happen, it will not happen this is safe. ${JSON.stringify(o)}`)}},a=t.auth?mL(n,t.auth):n;return bL(_L(a,t.retry||{}),t.concurrent)}function bL(t,e=10){const r={};return async(a,i)=>{const o=mx(a).origin;o in r||(r[o]=[]);const f=r[o];await new Promise(l=>{lo.debug(`[limit] ${o} capacity ${f.length}/${e}`),f.length<e?(f.push(l),l({})):f.push(l)});const u=await t(a,i);f.shift();for(let l=0;l<e;l++)f[l]&&f[l]();return u}}function mL(t,e){let r=!1;const n=`Basic ${Zt.from(e.auth).toString("base64")}`,a=s=>{const o=s||{},f=new Headers(o.headers);return f.set("Authorization",n),o.headers=f,o};return async(s,o)=>{const f=mx(s);if(r&&f.host===e.host)return await t(s,a(o));const u=await t(s,o);return u.status===401&&(lo.debug("[auth] Unauthorized, adding basic auth"),f.host===e.host)?(r=!0,await t(s,a(o))):u}}function _L(t,e){const r=Object.assign({codes:[408,425,429,500,502,503,504],base:500,maxRetries:5},e);return async(a,i)=>{let s=0,o=r.maxRetries;for(;r.maxRetries==0||s<r.maxRetries;){const f=await t(a,i);if(!f.ok){if(r.codes.some(u=>u==f.status)){lo.debug(`[retry_fetch] Retry ${a} ${s}/${r.maxRetries}`),s+=1,await new Promise(u=>setTimeout(u,o)),o*=2;continue}return f}return f}throw`Max retries exceeded (${r.maxRetries})`}}function vL(t,e,r,n,a){var f,u,l;let i;if(r){const d=(f=e.find(c=>c.subject.equals(t)&&c.predicate.equals(r)))==null?void 0:f.object.value;if(d)try{i=new Date(d)}catch{i=d}}let s;n&&(s=(u=e.find(d=>d.subject.equals(t)&&d.predicate.equals(n)))==null?void 0:u.object.value);const o=(l=e.find(d=>d.subject.equals(t)&&d.predicate.value===Qe.RDF.type))==null?void 0:l.object;return{quads:e,id:t,isVersionOf:s,timestamp:i,type:o,created:a}}function wL(t,e,r){if(e&&r.isVersionOfPath){const n=wi.RdfStore.createDefault();t.quads.forEach(i=>n.addQuad(i));const a=Rt(n,t.id,r.isVersionOfPath)[0];if(a){n.removeQuad(gy.quad(t.id,r.isVersionOfPath,a));for(const i of n.getQuads(t.id)){const s=gy.quad(a,i.predicate,i.object,i.graph);n.removeQuad(i),n.addQuad(s)}t.id=a,t.quads=n.getQuads()}else console.error(`No version property found in Member (${t.id}) as specified by ldes:isVersionOfPath ${r.isVersionOfPath}`)}return t}function EL(t,e,r,n,a){let i=_x();const s=o=>gy.literal(o.toISOString(),Qe.XSD.terms.dateTime);if(r){if(!a)throw"Cannot apply 'before' or 'after' filters since the target LDES does not define a ldes:timestampPath predicate";const o=dr(a),f=new vy({relationType:Qe.TREE.terms.LessThanRelation,value:s(r),compareType:"date",path:o,pathQuads:{entry:a,quads:[]},defaultTimezone:e});if(n){const u=new vy({relationType:Qe.TREE.terms.GreaterThanRelation,value:s(n),compareType:"date",path:o,pathQuads:{entry:a,quads:[]},defaultTimezone:e});i=new wx({items:[f,u]})}else i=f}else if(n){if(!a)throw"Cannot apply 'before' or 'after' filters since the target LDES does not define a ldes:timestampPath predicate";const o=dr(a);i=new vy({relationType:Qe.TREE.terms.GreaterThanRelation,value:s(n),compareType:"date",path:o,pathQuads:{entry:a,quads:[]},defaultTimezone:e})}return t instanceof Ex?i:new wx({items:[t,i]})}function by(t,e){const r=(i,s)=>{const o=i.predicate.value,f=s.predicate.value;return o==f?0:o<f?-1:1},n=t.store.getQuads(t.id,null,null,null).sort(r),a=e.store.getQuads(e.id,null,null,null).sort(r);if(n.length!=a.length)return!1;for(let i=0;i<n.length;i++){if(!n[i].predicate.equals(a[i].predicate))return!1;const s=n[i].object,o=a[i].object;if(s.termType!==o.termType)return!1;if(s.termType==="BlankNode"){if(!by({id:s,store:t.store},{id:o,store:e.store}))return!1}else if(s.value!==o.value)return!1}return!0}class SL{constructor(e,r){$e(this,"store");$e(this,"defaultTimezone");$e(this,"ranges",[]);this.store=e,this.defaultTimezone=r}allowed(e){return this.ranges.every(r=>e.matchRelation(r.range,{id:r.cbdEntry,store:this.store}))}addRelation(e){var o;const r=Rt(this.store,e,Qe.RDF.terms.type,null)[0]||Qe.TREE.Relation,n=Rt(this.store,e,Qe.TREE.terms.path,null)[0],a=Rt(this.store,e,Qe.TREE.terms.value,null)[0];let i=this.ranges.find(f=>by({id:n,store:this.store},{id:f.cbdEntry,store:this.store}));if(!i){const f={cbdEntry:n,range:vx.empty(this.defaultTimezone)};this.ranges.push(f),i=f}if(!a){i.range=void 0;return}let s;a.termType==="Literal"&&(s=a.datatype.value),(o=i.range)==null||o.add(a.value,r.value,s)}}const my=or("InBetweenRelation");function _y(t,e,r){if(e===Qe.XSD.custom("gYear")){const n=TL(t,r);if(!n)return;const[a,i]=n;return{min:a,max:i}}else if(e===Qe.XSD.custom("gYearMonth")){const n=xL(t,r);if(!n)return;const[a,i]=n;return{min:a,max:i}}else if(e===Qe.XSD.custom("date")){const n=RL(t,r);if(!n)return;const[a,i]=n;return{min:a,max:i}}else{const n=IL(t,r);if(!n)return;const[a,i]=n;return{min:a,max:i}}}function TL(t,e){const r=/^(-?[1-9][0-9]{3,}|-?0[0-9]{3})(Z|(\+|-)((0[0-9]|1[0-3]):([0-5][0-9])|14:00))?$/,n=t.match(r);if(!n){my.warn(`Invalid gYear format: ${t}`);return}const a=parseInt(n[1]);let i=0,s=0;const o=n[2]||e;if(o==="AoE")i=-12*60,s=12*60;else if(o!=="Z"){const f=n[3],u=parseInt(n[5]),l=parseInt(n[6]),d=(f==="+"?1:-1)*(u*60+l);i=d,s=d}return[new Date(Date.UTC(a,0,1)+i*60*1e3),new Date(Date.UTC(a+1,0,1)+s*60*1e3)]}function xL(t,e){const r=/^(-?[1-9][0-9]{3,}|-?0[0-9]{3})-(0[1-9]|1[0-2])(Z|(\+|-)((0[0-9]|1[0-3]):([0-5][0-9])|14:00))?$/,n=t.match(r);if(!n){my.warn(`Invalid gYearMonth format: ${t}`);return}const a=parseInt(n[1]),i=parseInt(n[2]);let s=0,o=0;const f=n[3]||e;if(f==="AoE")s=-12*60,o=12*60;else if(f!=="Z"){const u=n[4],l=parseInt(n[6]),d=parseInt(n[7]),c=(u==="+"?1:-1)*(l*60+d);s=c,o=c}return[new Date(Date.UTC(a,i-1,1)+s*60*1e3),new Date(Date.UTC(a,i,1)+o*60*1e3)]}function RL(t,e){const r=/^(-?[1-9][0-9]{3,}|-?0[0-9]{3})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])(Z|(\+|-)((0[0-9]|1[0-3]):([0-5][0-9])|14:00))?$/,n=t.match(r);if(!n){my.warn(`Invalid date format: ${t}`);return}const a=parseInt(n[1]),i=parseInt(n[2]),s=parseInt(n[3]);let o=0,f=0;const u=n[4]||e;if(u==="AoE")o=-12*60,f=12*60;else if(u!=="Z"){const l=n[5],d=parseInt(n[7]),c=parseInt(n[8]),h=(l==="+"?1:-1)*(d*60+c);o=h,f=h}return[new Date(Date.UTC(a,i-1,s)+o*60*1e3),new Date(Date.UTC(a,i-1,s+1)+f*60*1e3)]}function IL(t,e){const r=/^(-?[1-9][0-9]{3,}|-?0[0-9]{3})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])T([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])(Z|(\+|-)((0[0-9]|1[0-3]):([0-5][0-9])|14:00))?$/,n=t.match(r);if(n){const f=parseInt(n[1]),u=parseInt(n[2]),l=parseInt(n[3]),d=parseInt(n[4]),c=parseInt(n[5]),h=parseInt(n[6]);let m=0,_=0;const b=n[7]||e;if(b==="AoE")m=-12*60,_=12*60;else if(b!=="Z"){const y=n[8],p=parseInt(n[10]),g=parseInt(n[11]),w=(y==="+"?1:-1)*(p*60+g);m=w,_=w}return[new Date(Date.UTC(f,u-1,l,d,c,h)+m*60*1e3),new Date(Date.UTC(f,u-1,l,d,c,h+1)+_*60*1e3)]}const a=/^(-?[1-9][0-9]{3,}|-?0[0-9]{3})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])T([01][0-9]|2[0-3]):([0-5][0-9])(Z|(\+|-)((0[0-9]|1[0-3]):([0-5][0-9])|14:00))?$/,i=t.match(a);if(i){const f=parseInt(i[1]),u=parseInt(i[2]),l=parseInt(i[3]),d=parseInt(i[4]),c=parseInt(i[5]);let h=0,m=0;const _=i[6]||e;if(_==="AoE")h=-12*60,m=12*60;else if(_!=="Z"){const b=i[7],y=parseInt(i[9]),p=parseInt(i[10]),g=(b==="+"?1:-1)*(y*60+p);h=g,m=g}return[new Date(Date.UTC(f,u-1,l,d,c)+h*60*1e3),new Date(Date.UTC(f,u-1,l,d,c+1)+m*60*1e3)]}const s=/^(-?[1-9][0-9]{3,}|-?0[0-9]{3})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])T([01][0-9]|2[0-3])(Z|(\+|-)((0[0-9]|1[0-3]):([0-5][0-9])|14:00))?$/,o=t.match(s);if(o){const f=parseInt(o[1]),u=parseInt(o[2]),l=parseInt(o[3]),d=parseInt(o[4]);let c=0,h=0;const m=o[5]||e;if(m==="AoE")c=-12*60,h=12*60;else if(m!=="Z"){const _=o[6],b=parseInt(o[8]),y=parseInt(o[9]),p=(_==="+"?1:-1)*(b*60+y);c=p,h=p}return[new Date(Date.UTC(f,u-1,l,d)+c*60*1e3),new Date(Date.UTC(f,u-1,l,d+1)+h*60*1e3)]}}function _x(){return new Ex}let vx=class r3{constructor(e,r,n,a){$e(this,"min");$e(this,"eqMin",!0);$e(this,"max");$e(this,"eqMax",!0);$e(this,"logger",or(this));$e(this,"defaultTimezone");switch(e=this.parseValue(e,a),/^(AoE|Z|[+-]((0[0-9]|1[0-3]):([0-5][0-9])|14:00))$/.test(n)?this.defaultTimezone=n:(this.logger.warn(`Invalid timezone: '${n}'. Using default Anywhere on Earth (AoE) instead.`),this.defaultTimezone="AoE"),r){case Qe.TREE.EqualToRelation:this.min=e,this.max=e;return;case Qe.TREE.LessThanRelation:this.max=e,this.eqMax=!1;return;case Qe.TREE.LessThanOrEqualToRelation:this.max=e;return;case Qe.TREE.GreaterThanRelation:this.min=e,this.eqMin=!1;return;case Qe.TREE.GreaterThanOrEqualToRelation:this.min=e;return;case Qe.TREE.custom("InBetweenRelation"):{if(typeof e!="string")throw"InBetweenRelation can only handle string values, not"+typeof e;const s=_y(e,a,this.defaultTimezone);s&&(this.min=s.min,this.eqMin=!0,this.max=s.max,this.eqMax=!1);return}}}static empty(e){return new r3("",Qe.TREE.Relation,e)}add(e,r,n){switch(e=this.parseValue(e,n),r){case Qe.TREE.EqualToRelation:this.min=e,this.max=e;return;case Qe.TREE.LessThanRelation:(!this.max||e<this.max)&&(this.max=e,this.eqMax=!1);return;case Qe.TREE.LessThanOrEqualToRelation:(!this.max||e<this.max)&&(this.max=e);return;case Qe.TREE.GreaterThanRelation:(!this.min||e>this.min)&&(this.min=e,this.eqMin=!1);return;case Qe.TREE.GreaterThanOrEqualToRelation:(!this.min||e>this.min)&&(this.min=e);return;case Qe.TREE.custom("InBetweenRelation"):{if(typeof e!="string")throw"InBetweenRelation can only handle string values, not"+typeof e;const a=_y(e,n,this.defaultTimezone);a&&((this.min===void 0||a.min<this.min)&&(this.min=a.min,this.eqMin=!0),(this.max===void 0||a.max<this.max)&&(this.max=a.max,this.eqMax=!1));return}}}contains(e){if(this.min){if(this.eqMin){if(this.min>e)return!1}else if(this.min>=e)return!1}if(this.max){if(this.eqMax){if(this.max<e)return!1}else if(this.max<=e)return!1}return!0}overlaps(e){if(this.min&&e.max){if(this.eqMin&&e.eqMax){if(this.min>e.max)return!1}else if(this.min>=e.max)return!1}if(this.max&&e.min){if(this.eqMax&&e.eqMin){if(e.min>this.max)return!1}else if(e.min>=this.max)return!1}return!0}toString(e){const r=e||(i=>i.toString()),n=this.min?(this.eqMin?"[":"]")+r(this.min):"]",a=this.max?r(this.max)+(this.eqMax?"]":"["):"[";return n+","+a}parseValue(e,r){return r===Qe.XSD.dateTime?new Date(e):r===Qe.XSD.integer?parseInt(e.toString()):r===Qe.XSD.custom("float")||r===Qe.XSD.custom("double")||r===Qe.XSD.custom("decimal")?parseFloat(e.toString()):e}};class vy{constructor(e){$e(this,"relationType");$e(this,"value");$e(this,"compareType");$e(this,"path");$e(this,"pathQuads");$e(this,"range");$e(this,"defaultTimezone");$e(this,"logger",or(this));this.relationType=e.relationType,this.value=e.value,this.compareType=e.compareType||"string",this.path=e.path;const r=wi.RdfStore.createDefault();e.pathQuads.quads.forEach(a=>r.addQuad(a)),this.pathQuads={id:e.pathQuads.entry,store:r},this.defaultTimezone=e.defaultTimezone;let n;e.value.termType==="Literal"&&(n=e.value.datatype.value),this.range=new vx(this.parseValue(e.value.value),e.relationType.value,this.defaultTimezone,n)}memberEmitted(){}toString(){const e=this.compareType==="date"?r=>r.toISOString():void 0;return`${this.pathQuads.id.value}  ${this.range.toString(e)}`}matchRelation(e,r){if(!by(this.pathQuads,r))return!0;if(!e)return this.logger.debug("[matchRelation] Range is here also undefined, returning false"),!1;const n=this.compareType==="date"?a=>new Date(a).toISOString():void 0;return this.logger.verbose(`${this.range.toString(n)} contains ${e.toString(n)}. Overlaps: ${this.range.overlaps(e)}`),this.range.overlaps(e)}matchMember(e){const r=this.parseValue(this.path.execute(e)[0].id.value);return this.range.contains(r)}parseValue(e){switch(this.compareType){case"string":return e;case"date":return new Date(e);case"integer":return parseInt(e);case"float":return parseFloat(e);default:return e}}poll(){}}class AL{constructor(e){$e(this,"items");this.items=e.items}matchRelation(e,r){return this.items.map(n=>n.matchRelation(e,r)).reduce(this.combine.bind(this))}matchMember(e){return this.items.map(r=>r.matchMember(e)).reduce(this.combine.bind(this))}poll(){this.items.forEach(e=>e.poll())}}class wx extends AL{combine(e,r){return e&&r}memberEmitted(e){this.items.forEach(r=>r.memberEmitted(e))}toString(){return`(${this.items.map(r=>r.toString()).join(" ^ ")})`}}class Ex{constructor(){$e(this,"logger",or(this))}matchRelation(e,r){return this.logger.verbose("[matchRelation] Returning true"),!0}matchMember(e){return!0}memberEmitted(){}toString(){return"all"}poll(){}}const OL={urlIsView:!1,noShape:!1,condition:_x(),loose:!1,polling:!1,url:"",pollInterval:200,defaultTimezone:"AoE",materialize:!1,lastVersionOnly:!1,includeMetadata:!1},NL={target:{}};function PL(t){return Object.assign({},OL,NL,t)}var co={},ho={},po={},yo={},Hn={},go="delete",dt=5,yr=1<<dt,zt=yr-1,nt={};function wy(){return{value:!1}}function gr(t){t&&(t.value=!0)}function Ey(){}function Li(t){return t.size===void 0&&(t.size=t.__iterate(Sx)),t.size}function bn(t,e){if(typeof e!="number"){var r=e>>>0;if(""+r!==e||r===4294967295)return NaN;e=r}return e<0?Li(t)+e:e}function Sx(){return!0}function bo(t,e,r){return(t===0&&!xx(t)||r!==void 0&&t<=-r)&&(e===void 0||r!==void 0&&e>=r)}function Fi(t,e){return Tx(t,e,0)}function mo(t,e){return Tx(t,e,e)}function Tx(t,e,r){return t===void 0?r:xx(t)?e===1/0?e:Math.max(0,e+t)|0:e===void 0||e===t?t:Math.min(e,t)|0}function xx(t){return t<0||t===0&&1/t===-1/0}var Rx="@@__IMMUTABLE_ITERABLE__@@";function Ut(t){return!!(t&&t[Rx])}var Ix="@@__IMMUTABLE_KEYED__@@";function ut(t){return!!(t&&t[Ix])}var Ax="@@__IMMUTABLE_INDEXED__@@";function Mt(t){return!!(t&&t[Ax])}function Mi(t){return ut(t)||Mt(t)}var ht=function(e){return Ut(e)?e:Ht(e)},br=function(t){function e(r){return ut(r)?r:_n(r)}return e.__proto__=t,e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e}(ht),Vn=function(t){function e(r){return Mt(r)?r:_r(r)}return e.__proto__=t,e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e}(ht),ji=function(t){function e(r){return Ut(r)&&!Mi(r)?r:ki(r)}return e.__proto__=t,e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e}(ht);ht.Keyed=br,ht.Indexed=Vn,ht.Set=ji;var Ox="@@__IMMUTABLE_SEQ__@@";function _o(t){return!!(t&&t[Ox])}var Nx="@@__IMMUTABLE_RECORD__@@";function mn(t){return!!(t&&t[Nx])}function sr(t){return Ut(t)||mn(t)}var qi="@@__IMMUTABLE_ORDERED__@@";function ur(t){return!!(t&&t[qi])}var vo=0,Rr=1,mr=2,Sy=typeof Symbol=="function"&&Symbol.iterator,Px="@@iterator",ol=Sy||Px,at=function(e){this.next=e};at.prototype.toString=function(){return"[Iterator]"},at.KEYS=vo,at.VALUES=Rr,at.ENTRIES=mr,at.prototype.inspect=at.prototype.toSource=function(){return this.toString()},at.prototype[ol]=function(){return this};function pt(t,e,r,n){var a=t===0?e:t===1?r:[e,r];return n?n.value=a:n={value:a,done:!1},n}function Wt(){return{value:void 0,done:!0}}function Ty(t){return Array.isArray(t)?!0:!!sl(t)}function Dx(t){return t&&typeof t.next=="function"}function xy(t){var e=sl(t);return e&&e.call(t)}function sl(t){var e=t&&(Sy&&t[Sy]||t[Px]);if(typeof e=="function")return e}function DL(t){var e=sl(t);return e&&e===t.entries}function CL(t){var e=sl(t);return e&&e===t.keys}var Bi=Object.prototype.hasOwnProperty;function Ry(t){return Array.isArray(t)||typeof t=="string"?!0:t&&typeof t=="object"&&Number.isInteger(t.length)&&t.length>=0&&(t.length===0?Object.keys(t).length===1:t.hasOwnProperty(t.length-1))}var Ht=function(t){function e(r){return r==null?Ay():sr(r)?r.toSeq():FL(r)}return e.__proto__=t,e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.prototype.toSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq {","}")},e.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},e.prototype.__iterate=function(n,a){var i=this._cache;if(i){for(var s=i.length,o=0;o!==s;){var f=i[a?s-++o:o++];if(n(f[1],f[0],this)===!1)break}return o}return this.__iterateUncached(n,a)},e.prototype.__iterator=function(n,a){var i=this._cache;if(i){var s=i.length,o=0;return new at(function(){if(o===s)return Wt();var f=i[a?s-++o:o++];return pt(n,f[0],f[1])})}return this.__iteratorUncached(n,a)},e}(ht),_n=function(t){function e(r){return r==null?Ay().toKeyedSeq():Ut(r)?ut(r)?r.toSeq():r.fromEntrySeq():mn(r)?r.toSeq():Oy(r)}return e.__proto__=t,e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.prototype.toKeyedSeq=function(){return this},e}(Ht),_r=function(t){function e(r){return r==null?Ay():Ut(r)?ut(r)?r.entrySeq():r.toIndexedSeq():mn(r)?r.toSeq().entrySeq():Lx(r)}return e.__proto__=t,e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toIndexedSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq [","]")},e}(Ht),ki=function(t){function e(r){return(Ut(r)&&!Mi(r)?r:_r(r)).toSetSeq()}return e.__proto__=t,e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toSetSeq=function(){return this},e}(Ht);Ht.isSeq=_o,Ht.Keyed=_n,Ht.Set=ki,Ht.Indexed=_r,Ht.prototype[Ox]=!0;var Gn=function(t){function e(r){this._array=r,this.size=r.length}return e.__proto__=t,e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.prototype.get=function(n,a){return this.has(n)?this._array[bn(this,n)]:a},e.prototype.__iterate=function(n,a){for(var i=this._array,s=i.length,o=0;o!==s;){var f=a?s-++o:o++;if(n(i[f],f,this)===!1)break}return o},e.prototype.__iterator=function(n,a){var i=this._array,s=i.length,o=0;return new at(function(){if(o===s)return Wt();var f=a?s-++o:o++;return pt(n,f,i[f])})},e}(_r),Iy=function(t){function e(r){var n=Object.keys(r).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(r):[]);this._object=r,this._keys=n,this.size=n.length}return e.__proto__=t,e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.prototype.get=function(n,a){return a!==void 0&&!this.has(n)?a:this._object[n]},e.prototype.has=function(n){return Bi.call(this._object,n)},e.prototype.__iterate=function(n,a){for(var i=this._object,s=this._keys,o=s.length,f=0;f!==o;){var u=s[a?o-++f:f++];if(n(i[u],u,this)===!1)break}return f},e.prototype.__iterator=function(n,a){var i=this._object,s=this._keys,o=s.length,f=0;return new at(function(){if(f===o)return Wt();var u=s[a?o-++f:f++];return pt(n,u,i[u])})},e}(_n);Iy.prototype[qi]=!0;var LL=function(t){function e(r){this._collection=r,this.size=r.length||r.size}return e.__proto__=t,e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.prototype.__iterateUncached=function(n,a){if(a)return this.cacheResult().__iterate(n,a);var i=this._collection,s=xy(i),o=0;if(Dx(s))for(var f;!(f=s.next()).done&&n(f.value,o++,this)!==!1;);return o},e.prototype.__iteratorUncached=function(n,a){if(a)return this.cacheResult().__iterator(n,a);var i=this._collection,s=xy(i);if(!Dx(s))return new at(Wt);var o=0;return new at(function(){var f=s.next();return f.done?f:pt(n,o++,f.value)})},e}(_r),Cx;function Ay(){return Cx||(Cx=new Gn([]))}function Oy(t){var e=Ny(t);if(e)return e.fromEntrySeq();if(typeof t=="object")return new Iy(t);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+t)}function Lx(t){var e=Ny(t);if(e)return e;throw new TypeError("Expected Array or collection object of values: "+t)}function FL(t){var e=Ny(t);if(e)return DL(t)?e.fromEntrySeq():CL(t)?e.toSetSeq():e;if(typeof t=="object")return new Iy(t);throw new TypeError("Expected Array or collection object of values, or keyed object: "+t)}function Ny(t){return Ry(t)?new Gn(t):Ty(t)?new LL(t):void 0}var Fx="@@__IMMUTABLE_MAP__@@";function wo(t){return!!(t&&t[Fx])}function ul(t){return wo(t)&&ur(t)}function fl(t){return!!(t&&typeof t.equals=="function"&&typeof t.hashCode=="function")}function Ct(t,e){if(t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1;if(typeof t.valueOf=="function"&&typeof e.valueOf=="function"){if(t=t.valueOf(),e=e.valueOf(),t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1}return!!(fl(t)&&fl(e)&&t.equals(e))}var Eo=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(e,r){e|=0,r|=0;var n=e&65535,a=r&65535;return n*a+((e>>>16)*a+n*(r>>>16)<<16>>>0)|0};function ll(t){return t>>>1&1073741824|t&3221225471}var ML=Object.prototype.valueOf;function Kt(t){if(t==null)return Mx(t);if(typeof t.hashCode=="function")return ll(t.hashCode(t));var e=UL(t);if(e==null)return Mx(e);switch(typeof e){case"boolean":return e?1108378657:1108378656;case"number":return jL(e);case"string":return e.length>HL?qL(e):Py(e);case"object":case"function":return kL(e);case"symbol":return BL(e);default:if(typeof e.toString=="function")return Py(e.toString());throw new Error("Value type "+typeof e+" cannot be hashed.")}}function Mx(t){return t===null?1108378658:1108378659}function jL(t){if(t!==t||t===1/0)return 0;var e=t|0;for(e!==t&&(e^=t*4294967295);t>4294967295;)t/=4294967295,e^=t;return ll(e)}function qL(t){var e=My[t];return e===void 0&&(e=Py(t),Fy===VL&&(Fy=0,My={}),Fy++,My[t]=e),e}function Py(t){for(var e=0,r=0;r<t.length;r++)e=31*e+t.charCodeAt(r)|0;return ll(e)}function BL(t){var e=kx[t];return e!==void 0||(e=Bx(),kx[t]=e),e}function kL(t){var e;if(Dy&&(e=Cy.get(t),e!==void 0)||(e=t[zn],e!==void 0)||!qx&&(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[zn],e!==void 0||(e=$L(t),e!==void 0)))return e;if(e=Bx(),Dy)Cy.set(t,e);else{if(jx!==void 0&&jx(t)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(qx)Object.defineProperty(t,zn,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(t.propertyIsEnumerable!==void 0&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[zn]=e;else if(t.nodeType!==void 0)t[zn]=e;else throw new Error("Unable to set a non-enumerable property on object.")}return e}var jx=Object.isExtensible,qx=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}();function $L(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}function UL(t){return t.valueOf!==ML&&typeof t.valueOf=="function"?t.valueOf(t):t}function Bx(){var t=++Ly;return Ly&1073741824&&(Ly=0),t}var Dy=typeof WeakMap=="function",Cy;Dy&&(Cy=new WeakMap);var kx=Object.create(null),Ly=0,zn="__immutablehash__";typeof Symbol=="function"&&(zn=Symbol(zn));var HL=16,VL=255,Fy=0,My={},cl=function(t){function e(r,n){this._iter=r,this._useKeys=n,this.size=r.size}return e.__proto__=t,e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.prototype.get=function(n,a){return this._iter.get(n,a)},e.prototype.has=function(n){return this._iter.has(n)},e.prototype.valueSeq=function(){return this._iter.valueSeq()},e.prototype.reverse=function(){var n=this,a=jy(this,!0);return this._useKeys||(a.valueSeq=function(){return n._iter.toSeq().reverse()}),a},e.prototype.map=function(n,a){var i=this,s=Gx(this,n,a);return this._useKeys||(s.valueSeq=function(){return i._iter.toSeq().map(n,a)}),s},e.prototype.__iterate=function(n,a){var i=this;return this._iter.__iterate(function(s,o){return n(s,o,i)},a)},e.prototype.__iterator=function(n,a){return this._iter.__iterator(n,a)},e}(_n);cl.prototype[qi]=!0;var $x=function(t){function e(r){this._iter=r,this.size=r.size}return e.__proto__=t,e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.prototype.includes=function(n){return this._iter.includes(n)},e.prototype.__iterate=function(n,a){var i=this,s=0;return a&&Li(this),this._iter.__iterate(function(o){return n(o,a?i.size-++s:s++,i)},a)},e.prototype.__iterator=function(n,a){var i=this,s=this._iter.__iterator(Rr,a),o=0;return a&&Li(this),new at(function(){var f=s.next();return f.done?f:pt(n,a?i.size-++o:o++,f.value,f)})},e}(_r),Ux=function(t){function e(r){this._iter=r,this.size=r.size}return e.__proto__=t,e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.prototype.has=function(n){return this._iter.includes(n)},e.prototype.__iterate=function(n,a){var i=this;return this._iter.__iterate(function(s){return n(s,s,i)},a)},e.prototype.__iterator=function(n,a){var i=this._iter.__iterator(Rr,a);return new at(function(){var s=i.next();return s.done?s:pt(n,s.value,s.value,s)})},e}(ki),Hx=function(t){function e(r){this._iter=r,this.size=r.size}return e.__proto__=t,e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.prototype.entrySeq=function(){return this._iter.toSeq()},e.prototype.__iterate=function(n,a){var i=this;return this._iter.__iterate(function(s){if(s){Xx(s);var o=Ut(s);return n(o?s.get(1):s[1],o?s.get(0):s[0],i)}},a)},e.prototype.__iterator=function(n,a){var i=this._iter.__iterator(Rr,a);return new at(function(){for(;;){var s=i.next();if(s.done)return s;var o=s.value;if(o){Xx(o);var f=Ut(o);return pt(n,f?o.get(0):o[0],f?o.get(1):o[1],s)}}})},e}(_n);$x.prototype.cacheResult=cl.prototype.cacheResult=Ux.prototype.cacheResult=Hx.prototype.cacheResult=ky;function Vx(t){var e=kr(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var r=t.reverse.apply(this);return r.flip=function(){return t.reverse()},r},e.has=function(r){return t.includes(r)},e.includes=function(r){return t.has(r)},e.cacheResult=ky,e.__iterateUncached=function(r,n){var a=this;return t.__iterate(function(i,s){return r(s,i,a)!==!1},n)},e.__iteratorUncached=function(r,n){if(r===mr){var a=t.__iterator(r,n);return new at(function(){var i=a.next();if(!i.done){var s=i.value[0];i.value[0]=i.value[1],i.value[1]=s}return i})}return t.__iterator(r===Rr?vo:Rr,n)},e}function Gx(t,e,r){var n=kr(t);return n.size=t.size,n.has=function(a){return t.has(a)},n.get=function(a,i){var s=t.get(a,nt);return s===nt?i:e.call(r,s,a,t)},n.__iterateUncached=function(a,i){var s=this;return t.__iterate(function(o,f,u){return a(e.call(r,o,f,u),f,s)!==!1},i)},n.__iteratorUncached=function(a,i){var s=t.__iterator(mr,i);return new at(function(){var o=s.next();if(o.done)return o;var f=o.value,u=f[0];return pt(a,u,e.call(r,f[1],u,t),o)})},n}function jy(t,e){var r=this,n=kr(t);return n._iter=t,n.size=t.size,n.reverse=function(){return t},t.flip&&(n.flip=function(){var a=Vx(t);return a.reverse=function(){return t.flip()},a}),n.get=function(a,i){return t.get(e?a:-1-a,i)},n.has=function(a){return t.has(e?a:-1-a)},n.includes=function(a){return t.includes(a)},n.cacheResult=ky,n.__iterate=function(a,i){var s=this,o=0;return i&&Li(t),t.__iterate(function(f,u){return a(f,e?u:i?s.size-++o:o++,s)},!i)},n.__iterator=function(a,i){var s=0;i&&Li(t);var o=t.__iterator(mr,!i);return new at(function(){var f=o.next();if(f.done)return f;var u=f.value;return pt(a,e?u[0]:i?r.size-++s:s++,u[1],f)})},n}function zx(t,e,r,n){var a=kr(t);return n&&(a.has=function(i){var s=t.get(i,nt);return s!==nt&&!!e.call(r,s,i,t)},a.get=function(i,s){var o=t.get(i,nt);return o!==nt&&e.call(r,o,i,t)?o:s}),a.__iterateUncached=function(i,s){var o=this,f=0;return t.__iterate(function(u,l,d){if(e.call(r,u,l,d))return f++,i(u,n?l:f-1,o)},s),f},a.__iteratorUncached=function(i,s){var o=t.__iterator(mr,s),f=0;return new at(function(){for(;;){var u=o.next();if(u.done)return u;var l=u.value,d=l[0],c=l[1];if(e.call(r,c,d,t))return pt(i,n?d:f++,c,u)}})},a}function GL(t,e,r){var n=En().asMutable();return t.__iterate(function(a,i){n.update(e.call(r,a,i,t),0,function(s){return s+1})}),n.asImmutable()}function zL(t,e,r){var n=ut(t),a=(ur(t)?Ar():En()).asMutable();t.__iterate(function(s,o){a.update(e.call(r,s,o,t),function(f){return f=f||[],f.push(n?[o,s]:s),f})});var i=By(t);return a.map(function(s){return ft(t,i(s))}).asImmutable()}function WL(t,e,r){var n=ut(t),a=[[],[]];t.__iterate(function(s,o){a[e.call(r,s,o,t)?1:0].push(n?[o,s]:s)});var i=By(t);return a.map(function(s){return ft(t,i(s))})}function qy(t,e,r,n){var a=t.size;if(bo(e,r,a))return t;if(typeof a>"u"&&(e<0||r<0))return qy(t.toSeq().cacheResult(),e,r,n);var i=Fi(e,a),s=mo(r,a),o=s-i,f;o===o&&(f=o<0?0:o);var u=kr(t);return u.size=f===0?f:t.size&&f||void 0,!n&&_o(t)&&f>=0&&(u.get=function(l,d){return l=bn(this,l),l>=0&&l<f?t.get(l+i,d):d}),u.__iterateUncached=function(l,d){var c=this;if(f===0)return 0;if(d)return this.cacheResult().__iterate(l,d);var h=0,m=!0,_=0;return t.__iterate(function(b,y){if(!(m&&(m=h++<i)))return _++,l(b,n?y:_-1,c)!==!1&&_!==f}),_},u.__iteratorUncached=function(l,d){if(f!==0&&d)return this.cacheResult().__iterator(l,d);if(f===0)return new at(Wt);var c=t.__iterator(l,d),h=0,m=0;return new at(function(){for(;h++<i;)c.next();if(++m>f)return Wt();var _=c.next();return n||l===Rr||_.done?_:l===vo?pt(l,m-1,void 0,_):pt(l,m-1,_.value[1],_)})},u}function KL(t,e,r){var n=kr(t);return n.__iterateUncached=function(a,i){var s=this;if(i)return this.cacheResult().__iterate(a,i);var o=0;return t.__iterate(function(f,u,l){return e.call(r,f,u,l)&&++o&&a(f,u,s)}),o},n.__iteratorUncached=function(a,i){var s=this;if(i)return this.cacheResult().__iterator(a,i);var o=t.__iterator(mr,i),f=!0;return new at(function(){if(!f)return Wt();var u=o.next();if(u.done)return u;var l=u.value,d=l[0],c=l[1];return e.call(r,c,d,s)?a===mr?u:pt(a,d,c,u):(f=!1,Wt())})},n}function Wx(t,e,r,n){var a=kr(t);return a.__iterateUncached=function(i,s){var o=this;if(s)return this.cacheResult().__iterate(i,s);var f=!0,u=0;return t.__iterate(function(l,d,c){if(!(f&&(f=e.call(r,l,d,c))))return u++,i(l,n?d:u-1,o)}),u},a.__iteratorUncached=function(i,s){var o=this;if(s)return this.cacheResult().__iterator(i,s);var f=t.__iterator(mr,s),u=!0,l=0;return new at(function(){var d,c,h;do{if(d=f.next(),d.done)return n||i===Rr?d:i===vo?pt(i,l++,void 0,d):pt(i,l++,d.value[1],d);var m=d.value;c=m[0],h=m[1],u&&(u=e.call(r,h,c,o))}while(u);return i===mr?d:pt(i,c,h,d)})},a}function QL(t,e){var r=ut(t),n=[t].concat(e).map(function(s){return Ut(s)?r&&(s=br(s)):s=r?Oy(s):Lx(Array.isArray(s)?s:[s]),s}).filter(function(s){return s.size!==0});if(n.length===0)return t;if(n.length===1){var a=n[0];if(a===t||r&&ut(a)||Mt(t)&&Mt(a))return a}var i=new Gn(n);return r?i=i.toKeyedSeq():Mt(t)||(i=i.toSetSeq()),i=i.flatten(!0),i.size=n.reduce(function(s,o){if(s!==void 0){var f=o.size;if(f!==void 0)return s+f}},0),i}function Kx(t,e,r){var n=kr(t);return n.__iterateUncached=function(a,i){if(i)return this.cacheResult().__iterate(a,i);var s=0,o=!1;function f(u,l){u.__iterate(function(d,c){return(!e||l<e)&&Ut(d)?f(d,l+1):(s++,a(d,r?c:s-1,n)===!1&&(o=!0)),!o},i)}return f(t,0),s},n.__iteratorUncached=function(a,i){if(i)return this.cacheResult().__iterator(a,i);var s=t.__iterator(a,i),o=[],f=0;return new at(function(){for(;s;){var u=s.next();if(u.done!==!1){s=o.pop();continue}var l=u.value;if(a===mr&&(l=l[1]),(!e||o.length<e)&&Ut(l))o.push(s),s=l.__iterator(a,i);else return r?u:pt(a,f++,l,u)}return Wt()})},n}function XL(t,e,r){var n=By(t);return t.toSeq().map(function(a,i){return n(e.call(r,a,i,t))}).flatten(!0)}function ZL(t,e){var r=kr(t);return r.size=t.size&&t.size*2-1,r.__iterateUncached=function(n,a){var i=this,s=0;return t.__iterate(function(o){return(!s||n(e,s++,i)!==!1)&&n(o,s++,i)!==!1},a),s},r.__iteratorUncached=function(n,a){var i=t.__iterator(Rr,a),s=0,o;return new at(function(){return(!o||s%2)&&(o=i.next(),o.done)?o:s%2?pt(n,s++,e):pt(n,s++,o.value,o)})},r}function $i(t,e,r){e||(e=Zx);var n=ut(t),a=0,i=t.toSeq().map(function(s,o){return[o,s,a++,r?r(s,o,t):s]}).valueSeq().toArray();return i.sort(function(s,o){return e(s[3],o[3])||s[2]-o[2]}).forEach(n?function(s,o){i[o].length=2}:function(s,o){i[o]=s[1]}),n?_n(i):Mt(t)?_r(i):ki(i)}function dl(t,e,r){if(e||(e=Zx),r){var n=t.toSeq().map(function(a,i){return[a,r(a,i,t)]}).reduce(function(a,i){return Qx(e,a[1],i[1])?i:a});return n&&n[0]}return t.reduce(function(a,i){return Qx(e,a,i)?i:a})}function Qx(t,e,r){var n=t(r,e);return n===0&&r!==e&&(r==null||r!==r)||n>0}function hl(t,e,r,n){var a=kr(t),i=new Gn(r).map(function(s){return s.size});return a.size=n?i.max():i.min(),a.__iterate=function(s,o){for(var f=this.__iterator(Rr,o),u,l=0;!(u=f.next()).done&&s(u.value,l++,this)!==!1;);return l},a.__iteratorUncached=function(s,o){var f=r.map(function(d){return d=ht(d),xy(o?d.reverse():d)}),u=0,l=!1;return new at(function(){var d;return l||(d=f.map(function(c){return c.next()}),l=n?d.every(function(c){return c.done}):d.some(function(c){return c.done})),l?Wt():pt(s,u++,e.apply(null,d.map(function(c){return c.value})))})},a}function ft(t,e){return t===e?t:_o(t)?e:t.constructor(e)}function Xx(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function By(t){return ut(t)?br:Mt(t)?Vn:ji}function kr(t){return Object.create((ut(t)?_n:Mt(t)?_r:ki).prototype)}function ky(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):Ht.prototype.cacheResult.call(this)}function Zx(t,e){return t===void 0&&e===void 0?0:t===void 0?1:e===void 0?-1:t>e?1:t<e?-1:0}function $r(t,e){e=e||0;for(var r=Math.max(0,t.length-e),n=new Array(r),a=0;a<r;a++)n[a]=t[a+e];return n}function $y(t,e){if(!t)throw new Error(e)}function fr(t){$y(t!==1/0,"Cannot perform this action with an infinite size.")}function Jx(t){if(Ry(t)&&typeof t!="string")return t;if(ur(t))return t.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+t)}var JL=Object.prototype.toString;function pl(t){if(!t||typeof t!="object"||JL.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var r=e,n=Object.getPrototypeOf(e);n!==null;)r=n,n=Object.getPrototypeOf(r);return r===e}function vn(t){return typeof t=="object"&&(sr(t)||Array.isArray(t)||pl(t))}function So(t){try{return typeof t=="string"?JSON.stringify(t):String(t)}catch{return JSON.stringify(t)}}function Uy(t,e){return sr(t)?t.has(e):vn(t)&&Bi.call(t,e)}function yl(t,e,r){return sr(t)?t.get(e,r):Uy(t,e)?typeof t.get=="function"?t.get(e):t[e]:r}function gl(t){if(Array.isArray(t))return $r(t);var e={};for(var r in t)Bi.call(t,r)&&(e[r]=t[r]);return e}function Hy(t,e){if(!vn(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(sr(t)){if(!t.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+t);return t.remove(e)}if(!Bi.call(t,e))return t;var r=gl(t);return Array.isArray(r)?r.splice(e,1):delete r[e],r}function Vy(t,e,r){if(!vn(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(sr(t)){if(!t.set)throw new TypeError("Cannot update immutable value without .set() method: "+t);return t.set(e,r)}if(Bi.call(t,e)&&r===t[e])return t;var n=gl(t);return n[e]=r,n}function wn(t,e,r,n){n||(n=r,r=void 0);var a=Yx(sr(t),t,Jx(e),0,r,n);return a===nt?r:a}function Yx(t,e,r,n,a,i){var s=e===nt;if(n===r.length){var o=s?a:e,f=i(o);return f===o?e:f}if(!s&&!vn(e))throw new TypeError("Cannot update within non-data-structure value in path ["+r.slice(0,n).map(So)+"]: "+e);var u=r[n],l=s?nt:yl(e,u,nt),d=Yx(l===nt?t:sr(l),l,r,n+1,a,i);return d===l?e:d===nt?Hy(e,u):Vy(s?t?Ir():{}:e,u,d)}function Gy(t,e,r){return wn(t,e,nt,function(){return r})}function zy(t,e){return Gy(this,t,e)}function Wy(t,e){return wn(t,e,function(){return nt})}function Ky(t){return Wy(this,t)}function bl(t,e,r,n){return wn(t,[e],r,n)}function Qy(t,e,r){return arguments.length===1?t(this):bl(this,t,e,r)}function Xy(t,e,r){return wn(this,t,e,r)}function e2(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return r2(this,t)}function t2(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];if(typeof t!="function")throw new TypeError("Invalid merger function: "+t);return r2(this,e,t)}function r2(t,e,r){for(var n=[],a=0;a<e.length;a++){var i=br(e[a]);i.size!==0&&n.push(i)}return n.length===0?t:t.toSeq().size===0&&!t.__ownerID&&n.length===1?t.constructor(n[0]):t.withMutations(function(s){for(var o=r?function(u,l){bl(s,l,nt,function(d){return d===nt?u:r(d,u,l)})}:function(u,l){s.set(l,u)},f=0;f<n.length;f++)n[f].forEach(o)})}function n2(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return xo(t,e)}function i2(t,e){for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];return xo(e,r,t)}function a2(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return To(t,e)}function o2(t,e){for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];return To(e,r,t)}function To(t,e,r){return xo(t,e,YL(r))}function xo(t,e,r){if(!vn(t))throw new TypeError("Cannot merge into non-data-structure value: "+t);if(sr(t))return typeof r=="function"&&t.mergeWith?t.mergeWith.apply(t,[r].concat(e)):t.merge?t.merge.apply(t,e):t.concat.apply(t,e);for(var n=Array.isArray(t),a=t,i=n?Vn:br,s=n?function(f){a===t&&(a=gl(a)),a.push(f)}:function(f,u){var l=Bi.call(a,u),d=l&&r?r(a[u],f,u):f;(!l||d!==a[u])&&(a===t&&(a=gl(a)),a[u]=d)},o=0;o<e.length;o++)i(e[o]).forEach(s);return a}function YL(t){function e(r,n,a){return vn(r)&&vn(n)&&e6(r,n)?xo(r,[n],e):t?t(r,n,a):n}return e}function e6(t,e){var r=Ht(t),n=Ht(e);return Mt(r)===Mt(n)&&ut(r)===ut(n)}function s2(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return To(this,t)}function u2(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return To(this,e,t)}function Zy(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return wn(this,t,Ir(),function(n){return xo(n,e)})}function Jy(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return wn(this,t,Ir(),function(n){return To(n,e)})}function Ro(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this}function Io(){return this.__ownerID?this:this.__ensureOwner(new Ey)}function Ao(){return this.__ensureOwner()}function Yy(){return this.__altered}var En=function(t){function e(r){return r==null?Ir():wo(r)&&!ur(r)?r:Ir().withMutations(function(n){var a=t(r);fr(a.size),a.forEach(function(i,s){return n.set(s,i)})})}return e.__proto__=t,e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.of=function(){for(var n=[],a=arguments.length;a--;)n[a]=arguments[a];return Ir().withMutations(function(i){for(var s=0;s<n.length;s+=2){if(s+1>=n.length)throw new Error("Missing value for key: "+n[s]);i.set(n[s],n[s+1])}})},e.prototype.toString=function(){return this.__toString("Map {","}")},e.prototype.get=function(n,a){return this._root?this._root.get(0,void 0,n,a):a},e.prototype.set=function(n,a){return c2(this,n,a)},e.prototype.remove=function(n){return c2(this,n,nt)},e.prototype.deleteAll=function(n){var a=ht(n);return a.size===0?this:this.withMutations(function(i){a.forEach(function(s){return i.remove(s)})})},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Ir()},e.prototype.sort=function(n){return Ar($i(this,n))},e.prototype.sortBy=function(n,a){return Ar($i(this,a,n))},e.prototype.map=function(n,a){var i=this;return this.withMutations(function(s){s.forEach(function(o,f){s.set(f,n.call(a,o,f,i))})})},e.prototype.__iterator=function(n,a){return new t6(this,n,a)},e.prototype.__iterate=function(n,a){var i=this,s=0;return this._root&&this._root.iterate(function(o){return s++,n(o[1],o[0],i)},a),s},e.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?tg(this.size,this._root,n,this.__hash):this.size===0?Ir():(this.__ownerID=n,this.__altered=!1,this)},e}(br);En.isMap=wo;var yt=En.prototype;yt[Fx]=!0,yt[go]=yt.remove,yt.removeAll=yt.deleteAll,yt.setIn=zy,yt.removeIn=yt.deleteIn=Ky,yt.update=Qy,yt.updateIn=Xy,yt.merge=yt.concat=e2,yt.mergeWith=t2,yt.mergeDeep=s2,yt.mergeDeepWith=u2,yt.mergeIn=Zy,yt.mergeDeepIn=Jy,yt.withMutations=Ro,yt.wasAltered=Yy,yt.asImmutable=Ao,yt["@@transducer/init"]=yt.asMutable=Io,yt["@@transducer/step"]=function(t,e){return t.set(e[0],e[1])},yt["@@transducer/result"]=function(t){return t.asImmutable()};var Oo=function(e,r){this.ownerID=e,this.entries=r};Oo.prototype.get=function(e,r,n,a){for(var i=this.entries,s=0,o=i.length;s<o;s++)if(Ct(n,i[s][0]))return i[s][1];return a},Oo.prototype.update=function(e,r,n,a,i,s,o){for(var f=i===nt,u=this.entries,l=0,d=u.length;l<d&&!Ct(a,u[l][0]);l++);var c=l<d;if(c?u[l][1]===i:f)return this;if(gr(o),(f||!c)&&gr(s),!(f&&u.length===1)){if(!c&&!f&&u.length>=s6)return r6(e,u,a,i);var h=e&&e===this.ownerID,m=h?u:$r(u);return c?f?l===d-1?m.pop():m[l]=m.pop():m[l]=[a,i]:m.push([a,i]),h?(this.entries=m,this):new Oo(e,m)}};var Ui=function(e,r,n){this.ownerID=e,this.bitmap=r,this.nodes=n};Ui.prototype.get=function(e,r,n,a){r===void 0&&(r=Kt(n));var i=1<<((e===0?r:r>>>e)&zt),s=this.bitmap;return s&i?this.nodes[h2(s&i-1)].get(e+dt,r,n,a):a},Ui.prototype.update=function(e,r,n,a,i,s,o){n===void 0&&(n=Kt(a));var f=(r===0?n:n>>>r)&zt,u=1<<f,l=this.bitmap,d=(l&u)!==0;if(!d&&i===nt)return this;var c=h2(l&u-1),h=this.nodes,m=d?h[c]:void 0,_=rg(m,e,r+dt,n,a,i,s,o);if(_===m)return this;if(!d&&_&&h.length>=u6)return i6(e,h,l,f,_);if(d&&!_&&h.length===2&&d2(h[c^1]))return h[c^1];if(d&&_&&h.length===1&&d2(_))return _;var b=e&&e===this.ownerID,y=d?_?l:l^u:l|u,p=d?_?p2(h,c,_,b):o6(h,c,b):a6(h,c,_,b);return b?(this.bitmap=y,this.nodes=p,this):new Ui(e,y,p)};var No=function(e,r,n){this.ownerID=e,this.count=r,this.nodes=n};No.prototype.get=function(e,r,n,a){r===void 0&&(r=Kt(n));var i=(e===0?r:r>>>e)&zt,s=this.nodes[i];return s?s.get(e+dt,r,n,a):a},No.prototype.update=function(e,r,n,a,i,s,o){n===void 0&&(n=Kt(a));var f=(r===0?n:n>>>r)&zt,u=i===nt,l=this.nodes,d=l[f];if(u&&!d)return this;var c=rg(d,e,r+dt,n,a,i,s,o);if(c===d)return this;var h=this.count;if(!d)h++;else if(!c&&(h--,h<f6))return n6(e,l,h,f);var m=e&&e===this.ownerID,_=p2(l,f,c,m);return m?(this.count=h,this.nodes=_,this):new No(e,h,_)};var Hi=function(e,r,n){this.ownerID=e,this.keyHash=r,this.entries=n};Hi.prototype.get=function(e,r,n,a){for(var i=this.entries,s=0,o=i.length;s<o;s++)if(Ct(n,i[s][0]))return i[s][1];return a},Hi.prototype.update=function(e,r,n,a,i,s,o){n===void 0&&(n=Kt(a));var f=i===nt;if(n!==this.keyHash)return f?this:(gr(o),gr(s),ng(this,e,r,n,[a,i]));for(var u=this.entries,l=0,d=u.length;l<d&&!Ct(a,u[l][0]);l++);var c=l<d;if(c?u[l][1]===i:f)return this;if(gr(o),(f||!c)&&gr(s),f&&d===2)return new Xr(e,this.keyHash,u[l^1]);var h=e&&e===this.ownerID,m=h?u:$r(u);return c?f?l===d-1?m.pop():m[l]=m.pop():m[l]=[a,i]:m.push([a,i]),h?(this.entries=m,this):new Hi(e,this.keyHash,m)};var Xr=function(e,r,n){this.ownerID=e,this.keyHash=r,this.entry=n};Xr.prototype.get=function(e,r,n,a){return Ct(n,this.entry[0])?this.entry[1]:a},Xr.prototype.update=function(e,r,n,a,i,s,o){var f=i===nt,u=Ct(a,this.entry[0]);if(u?i===this.entry[1]:f)return this;if(gr(o),f){gr(s);return}return u?e&&e===this.ownerID?(this.entry[1]=i,this):new Xr(e,this.keyHash,[a,i]):(gr(s),ng(this,e,r,Kt(a),[a,i]))},Oo.prototype.iterate=Hi.prototype.iterate=function(t,e){for(var r=this.entries,n=0,a=r.length-1;n<=a;n++)if(t(r[e?a-n:n])===!1)return!1},Ui.prototype.iterate=No.prototype.iterate=function(t,e){for(var r=this.nodes,n=0,a=r.length-1;n<=a;n++){var i=r[e?a-n:n];if(i&&i.iterate(t,e)===!1)return!1}},Xr.prototype.iterate=function(t,e){return t(this.entry)};var t6=function(t){function e(r,n,a){this._type=n,this._reverse=a,this._stack=r._root&&f2(r._root)}return e.__proto__=t,e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.prototype.next=function(){for(var n=this._type,a=this._stack;a;){var i=a.node,s=a.index++,o=void 0;if(i.entry){if(s===0)return eg(n,i.entry)}else if(i.entries){if(o=i.entries.length-1,s<=o)return eg(n,i.entries[this._reverse?o-s:s])}else if(o=i.nodes.length-1,s<=o){var f=i.nodes[this._reverse?o-s:s];if(f){if(f.entry)return eg(n,f.entry);a=this._stack=f2(f,a)}continue}a=this._stack=this._stack.__prev}return Wt()},e}(at);function eg(t,e){return pt(t,e[0],e[1])}function f2(t,e){return{node:t,index:0,__prev:e}}function tg(t,e,r,n){var a=Object.create(yt);return a.size=t,a._root=e,a.__ownerID=r,a.__hash=n,a.__altered=!1,a}var l2;function Ir(){return l2||(l2=tg(0))}function c2(t,e,r){var n,a;if(t._root){var i=wy(),s=wy();if(n=rg(t._root,t.__ownerID,0,void 0,e,r,i,s),!s.value)return t;a=t.size+(i.value?r===nt?-1:1:0)}else{if(r===nt)return t;a=1,n=new Oo(t.__ownerID,[[e,r]])}return t.__ownerID?(t.size=a,t._root=n,t.__hash=void 0,t.__altered=!0,t):n?tg(a,n):Ir()}function rg(t,e,r,n,a,i,s,o){return t?t.update(e,r,n,a,i,s,o):i===nt?t:(gr(o),gr(s),new Xr(e,n,[a,i]))}function d2(t){return t.constructor===Xr||t.constructor===Hi}function ng(t,e,r,n,a){if(t.keyHash===n)return new Hi(e,n,[t.entry,a]);var i=(r===0?t.keyHash:t.keyHash>>>r)&zt,s=(r===0?n:n>>>r)&zt,o,f=i===s?[ng(t,e,r+dt,n,a)]:(o=new Xr(e,n,a),i<s?[t,o]:[o,t]);return new Ui(e,1<<i|1<<s,f)}function r6(t,e,r,n){t||(t=new Ey);for(var a=new Xr(t,Kt(r),[r,n]),i=0;i<e.length;i++){var s=e[i];a=a.update(t,0,void 0,s[0],s[1])}return a}function n6(t,e,r,n){for(var a=0,i=0,s=new Array(r),o=0,f=1,u=e.length;o<u;o++,f<<=1){var l=e[o];l!==void 0&&o!==n&&(a|=f,s[i++]=l)}return new Ui(t,a,s)}function i6(t,e,r,n,a){for(var i=0,s=new Array(yr),o=0;r!==0;o++,r>>>=1)s[o]=r&1?e[i++]:void 0;return s[n]=a,new No(t,i+1,s)}function h2(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,t+=t>>16,t&127}function p2(t,e,r,n){var a=n?t:$r(t);return a[e]=r,a}function a6(t,e,r,n){var a=t.length+1;if(n&&e+1===a)return t[e]=r,t;for(var i=new Array(a),s=0,o=0;o<a;o++)o===e?(i[o]=r,s=-1):i[o]=t[o+s];return i}function o6(t,e,r){var n=t.length-1;if(r&&e===n)return t.pop(),t;for(var a=new Array(n),i=0,s=0;s<n;s++)s===e&&(i=1),a[s]=t[s+i];return a}var s6=yr/4,u6=yr/2,f6=yr/4,y2="@@__IMMUTABLE_LIST__@@";function ml(t){return!!(t&&t[y2])}var Vi=function(t){function e(r){var n=_l();if(r==null)return n;if(ml(r))return r;var a=t(r),i=a.size;return i===0?n:(fr(i),i>0&&i<yr?Do(0,i,dt,null,new Sn(a.toArray())):n.withMutations(function(s){s.setSize(i),a.forEach(function(o,f){return s.set(f,o)})}))}return e.__proto__=t,e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("List [","]")},e.prototype.get=function(n,a){if(n=bn(this,n),n>=0&&n<this.size){n+=this._origin;var i=m2(this,n);return i&&i.array[n&zt]}return a},e.prototype.set=function(n,a){return l6(this,n,a)},e.prototype.remove=function(n){return this.has(n)?n===0?this.shift():n===this.size-1?this.pop():this.splice(n,1):this},e.prototype.insert=function(n,a){return this.splice(n,0,a)},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=dt,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):_l()},e.prototype.push=function(){var n=arguments,a=this.size;return this.withMutations(function(i){Tn(i,0,a+n.length);for(var s=0;s<n.length;s++)i.set(a+s,n[s])})},e.prototype.pop=function(){return Tn(this,0,-1)},e.prototype.unshift=function(){var n=arguments;return this.withMutations(function(a){Tn(a,-n.length);for(var i=0;i<n.length;i++)a.set(i,n[i])})},e.prototype.shift=function(){return Tn(this,1)},e.prototype.concat=function(){for(var n=arguments,a=[],i=0;i<arguments.length;i++){var s=n[i],o=t(typeof s!="string"&&Ty(s)?s:[s]);o.size!==0&&a.push(o)}return a.length===0?this:this.size===0&&!this.__ownerID&&a.length===1?this.constructor(a[0]):this.withMutations(function(f){a.forEach(function(u){return u.forEach(function(l){return f.push(l)})})})},e.prototype.setSize=function(n){return Tn(this,0,n)},e.prototype.map=function(n,a){var i=this;return this.withMutations(function(s){for(var o=0;o<i.size;o++)s.set(o,n.call(a,s.get(o),o,i))})},e.prototype.slice=function(n,a){var i=this.size;return bo(n,a,i)?this:Tn(this,Fi(n,i),mo(a,i))},e.prototype.__iterator=function(n,a){var i=a?this.size:0,s=g2(this,a);return new at(function(){var o=s();return o===Po?Wt():pt(n,a?--i:i++,o)})},e.prototype.__iterate=function(n,a){for(var i=a?this.size:0,s=g2(this,a),o;(o=s())!==Po&&n(o,a?--i:i++,this)!==!1;);return i},e.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?Do(this._origin,this._capacity,this._level,this._root,this._tail,n,this.__hash):this.size===0?_l():(this.__ownerID=n,this.__altered=!1,this)},e}(Vn);Vi.isList=ml;var It=Vi.prototype;It[y2]=!0,It[go]=It.remove,It.merge=It.concat,It.setIn=zy,It.deleteIn=It.removeIn=Ky,It.update=Qy,It.updateIn=Xy,It.mergeIn=Zy,It.mergeDeepIn=Jy,It.withMutations=Ro,It.wasAltered=Yy,It.asImmutable=Ao,It["@@transducer/init"]=It.asMutable=Io,It["@@transducer/step"]=function(t,e){return t.push(e)},It["@@transducer/result"]=function(t){return t.asImmutable()};var Sn=function(e,r){this.array=e,this.ownerID=r};Sn.prototype.removeBefore=function(e,r,n){if(n===r?1<<r:this.array.length===0)return this;var a=n>>>r&zt;if(a>=this.array.length)return new Sn([],e);var i=a===0,s;if(r>0){var o=this.array[a];if(s=o&&o.removeBefore(e,r-dt,n),s===o&&i)return this}if(i&&!s)return this;var f=Gi(this,e);if(!i)for(var u=0;u<a;u++)f.array[u]=void 0;return s&&(f.array[a]=s),f},Sn.prototype.removeAfter=function(e,r,n){if(n===(r?1<<r:0)||this.array.length===0)return this;var a=n-1>>>r&zt;if(a>=this.array.length)return this;var i;if(r>0){var s=this.array[a];if(i=s&&s.removeAfter(e,r-dt,n),i===s&&a===this.array.length-1)return this}var o=Gi(this,e);return o.array.splice(a+1),i&&(o.array[a]=i),o};var Po={};function g2(t,e){var r=t._origin,n=t._capacity,a=Co(n),i=t._tail;return s(t._root,t._level,0);function s(u,l,d){return l===0?o(u,d):f(u,l,d)}function o(u,l){var d=l===a?i&&i.array:u&&u.array,c=l>r?0:r-l,h=n-l;return h>yr&&(h=yr),function(){if(c===h)return Po;var m=e?--h:c++;return d&&d[m]}}function f(u,l,d){var c,h=u&&u.array,m=d>r?0:r-d>>l,_=(n-d>>l)+1;return _>yr&&(_=yr),function(){for(;;){if(c){var b=c();if(b!==Po)return b;c=null}if(m===_)return Po;var y=e?--_:m++;c=s(h&&h[y],l-dt,d+(y<<l))}}}}function Do(t,e,r,n,a,i,s){var o=Object.create(It);return o.size=e-t,o._origin=t,o._capacity=e,o._level=r,o._root=n,o._tail=a,o.__ownerID=i,o.__hash=s,o.__altered=!1,o}var b2;function _l(){return b2||(b2=Do(0,0,dt))}function l6(t,e,r){if(e=bn(t,e),e!==e)return t;if(e>=t.size||e<0)return t.withMutations(function(s){e<0?Tn(s,e).set(0,r):Tn(s,0,e+1).set(e,r)});e+=t._origin;var n=t._tail,a=t._root,i=wy();return e>=Co(t._capacity)?n=ig(n,t.__ownerID,0,e,r,i):a=ig(a,t.__ownerID,t._level,e,r,i),i.value?t.__ownerID?(t._root=a,t._tail=n,t.__hash=void 0,t.__altered=!0,t):Do(t._origin,t._capacity,t._level,a,n):t}function ig(t,e,r,n,a,i){var s=n>>>r&zt,o=t&&s<t.array.length;if(!o&&a===void 0)return t;var f;if(r>0){var u=t&&t.array[s],l=ig(u,e,r-dt,n,a,i);return l===u?t:(f=Gi(t,e),f.array[s]=l,f)}return o&&t.array[s]===a?t:(i&&gr(i),f=Gi(t,e),a===void 0&&s===f.array.length-1?f.array.pop():f.array[s]=a,f)}function Gi(t,e){return e&&t&&e===t.ownerID?t:new Sn(t?t.array.slice():[],e)}function m2(t,e){if(e>=Co(t._capacity))return t._tail;if(e<1<<t._level+dt){for(var r=t._root,n=t._level;r&&n>0;)r=r.array[e>>>n&zt],n-=dt;return r}}function Tn(t,e,r){e!==void 0&&(e|=0),r!==void 0&&(r|=0);var n=t.__ownerID||new Ey,a=t._origin,i=t._capacity,s=a+e,o=r===void 0?i:r<0?i+r:a+r;if(s===a&&o===i)return t;if(s>=o)return t.clear();for(var f=t._level,u=t._root,l=0;s+l<0;)u=new Sn(u&&u.array.length?[void 0,u]:[],n),f+=dt,l+=1<<f;l&&(s+=l,a+=l,o+=l,i+=l);for(var d=Co(i),c=Co(o);c>=1<<f+dt;)u=new Sn(u&&u.array.length?[u]:[],n),f+=dt;var h=t._tail,m=c<d?m2(t,o-1):c>d?new Sn([],n):h;if(h&&c>d&&s<i&&h.array.length){u=Gi(u,n);for(var _=u,b=f;b>dt;b-=dt){var y=d>>>b&zt;_=_.array[y]=Gi(_.array[y],n)}_.array[d>>>dt&zt]=h}if(o<i&&(m=m&&m.removeAfter(n,0,o)),s>=c)s-=c,o-=c,f=dt,u=null,m=m&&m.removeBefore(n,0,s);else if(s>a||c<d){for(l=0;u;){var p=s>>>f&zt;if(p!==c>>>f&zt)break;p&&(l+=(1<<f)*p),f-=dt,u=u.array[p]}u&&s>a&&(u=u.removeBefore(n,f,s-l)),u&&c<d&&(u=u.removeAfter(n,f,c-l)),l&&(s-=l,o-=l)}return t.__ownerID?(t.size=o-s,t._origin=s,t._capacity=o,t._level=f,t._root=u,t._tail=m,t.__hash=void 0,t.__altered=!0,t):Do(s,o,f,u,m)}function Co(t){return t<yr?0:t-1>>>dt<<dt}var Ar=function(t){function e(r){return r==null?Lo():ul(r)?r:Lo().withMutations(function(n){var a=br(r);fr(a.size),a.forEach(function(i,s){return n.set(s,i)})})}return e.__proto__=t,e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("OrderedMap {","}")},e.prototype.get=function(n,a){var i=this._map.get(n);return i!==void 0?this._list.get(i)[1]:a},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):Lo()},e.prototype.set=function(n,a){return v2(this,n,a)},e.prototype.remove=function(n){return v2(this,n,nt)},e.prototype.__iterate=function(n,a){var i=this;return this._list.__iterate(function(s){return s&&n(s[1],s[0],i)},a)},e.prototype.__iterator=function(n,a){return this._list.fromEntrySeq().__iterator(n,a)},e.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var a=this._map.__ensureOwner(n),i=this._list.__ensureOwner(n);return n?ag(a,i,n,this.__hash):this.size===0?Lo():(this.__ownerID=n,this.__altered=!1,this._map=a,this._list=i,this)},e}(En);Ar.isOrderedMap=ul,Ar.prototype[qi]=!0,Ar.prototype[go]=Ar.prototype.remove;function ag(t,e,r,n){var a=Object.create(Ar.prototype);return a.size=t?t.size:0,a._map=t,a._list=e,a.__ownerID=r,a.__hash=n,a.__altered=!1,a}var _2;function Lo(){return _2||(_2=ag(Ir(),_l()))}function v2(t,e,r){var n=t._map,a=t._list,i=n.get(e),s=i!==void 0,o,f;if(r===nt){if(!s)return t;a.size>=yr&&a.size>=n.size*2?(f=a.filter(function(u,l){return u!==void 0&&i!==l}),o=f.toKeyedSeq().map(function(u){return u[0]}).flip().toMap(),t.__ownerID&&(o.__ownerID=f.__ownerID=t.__ownerID)):(o=n.remove(e),f=i===a.size-1?a.pop():a.set(i,void 0))}else if(s){if(r===a.get(i)[1])return t;o=n,f=a.set(i,[e,r])}else o=n.set(e,a.size),f=a.set(a.size,[e,r]);return t.__ownerID?(t.size=o.size,t._map=o,t._list=f,t.__hash=void 0,t.__altered=!0,t):ag(o,f)}var w2="@@__IMMUTABLE_STACK__@@";function Fo(t){return!!(t&&t[w2])}var Mo=function(t){function e(r){return r==null?vl():Fo(r)?r:vl().pushAll(r)}return e.__proto__=t,e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("Stack [","]")},e.prototype.get=function(n,a){var i=this._head;for(n=bn(this,n);i&&n--;)i=i.next;return i?i.value:a},e.prototype.peek=function(){return this._head&&this._head.value},e.prototype.push=function(){var n=arguments;if(arguments.length===0)return this;for(var a=this.size+arguments.length,i=this._head,s=arguments.length-1;s>=0;s--)i={value:n[s],next:i};return this.__ownerID?(this.size=a,this._head=i,this.__hash=void 0,this.__altered=!0,this):jo(a,i)},e.prototype.pushAll=function(n){if(n=t(n),n.size===0)return this;if(this.size===0&&Fo(n))return n;fr(n.size);var a=this.size,i=this._head;return n.__iterate(function(s){a++,i={value:s,next:i}},!0),this.__ownerID?(this.size=a,this._head=i,this.__hash=void 0,this.__altered=!0,this):jo(a,i)},e.prototype.pop=function(){return this.slice(1)},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):vl()},e.prototype.slice=function(n,a){if(bo(n,a,this.size))return this;var i=Fi(n,this.size),s=mo(a,this.size);if(s!==this.size)return t.prototype.slice.call(this,n,a);for(var o=this.size-i,f=this._head;i--;)f=f.next;return this.__ownerID?(this.size=o,this._head=f,this.__hash=void 0,this.__altered=!0,this):jo(o,f)},e.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?jo(this.size,this._head,n,this.__hash):this.size===0?vl():(this.__ownerID=n,this.__altered=!1,this)},e.prototype.__iterate=function(n,a){var i=this;if(a)return new Gn(this.toArray()).__iterate(function(f,u){return n(f,u,i)},a);for(var s=0,o=this._head;o&&n(o.value,s++,this)!==!1;)o=o.next;return s},e.prototype.__iterator=function(n,a){if(a)return new Gn(this.toArray()).__iterator(n,a);var i=0,s=this._head;return new at(function(){if(s){var o=s.value;return s=s.next,pt(n,i++,o)}return Wt()})},e}(Vn);Mo.isStack=Fo;var Qt=Mo.prototype;Qt[w2]=!0,Qt.shift=Qt.pop,Qt.unshift=Qt.push,Qt.unshiftAll=Qt.pushAll,Qt.withMutations=Ro,Qt.wasAltered=Yy,Qt.asImmutable=Ao,Qt["@@transducer/init"]=Qt.asMutable=Io,Qt["@@transducer/step"]=function(t,e){return t.unshift(e)},Qt["@@transducer/result"]=function(t){return t.asImmutable()};function jo(t,e,r,n){var a=Object.create(Qt);return a.size=t,a._head=e,a.__ownerID=r,a.__hash=n,a.__altered=!1,a}var E2;function vl(){return E2||(E2=jo(0))}var S2="@@__IMMUTABLE_SET__@@";function qo(t){return!!(t&&t[S2])}function wl(t){return qo(t)&&ur(t)}function og(t,e){if(t===e)return!0;if(!Ut(e)||t.size!==void 0&&e.size!==void 0&&t.size!==e.size||t.__hash!==void 0&&e.__hash!==void 0&&t.__hash!==e.__hash||ut(t)!==ut(e)||Mt(t)!==Mt(e)||ur(t)!==ur(e))return!1;if(t.size===0&&e.size===0)return!0;var r=!Mi(t);if(ur(t)){var n=t.entries();return e.every(function(f,u){var l=n.next().value;return l&&Ct(l[1],f)&&(r||Ct(l[0],u))})&&n.next().done}var a=!1;if(t.size===void 0)if(e.size===void 0)typeof t.cacheResult=="function"&&t.cacheResult();else{a=!0;var i=t;t=e,e=i}var s=!0,o=e.__iterate(function(f,u){if(r?!t.has(f):a?!Ct(f,t.get(u,nt)):!Ct(t.get(u,nt),f))return s=!1,!1});return s&&t.size===o}function Wn(t,e){var r=function(n){t.prototype[n]=e[n]};return Object.keys(e).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(r),t}function El(t){if(!t||typeof t!="object")return t;if(!Ut(t)){if(!vn(t))return t;t=Ht(t)}if(ut(t)){var e={};return t.__iterate(function(n,a){e[a]=El(n)}),e}var r=[];return t.__iterate(function(n){r.push(El(n))}),r}var zi=function(t){function e(r){return r==null?Bo():qo(r)&&!ur(r)?r:Bo().withMutations(function(n){var a=t(r);fr(a.size),a.forEach(function(i){return n.add(i)})})}return e.__proto__=t,e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(n){return this(br(n).keySeq())},e.intersect=function(n){return n=ht(n).toArray(),n.length?jt.intersect.apply(e(n.pop()),n):Bo()},e.union=function(n){return n=ht(n).toArray(),n.length?jt.union.apply(e(n.pop()),n):Bo()},e.prototype.toString=function(){return this.__toString("Set {","}")},e.prototype.has=function(n){return this._map.has(n)},e.prototype.add=function(n){return Sl(this,this._map.set(n,n))},e.prototype.remove=function(n){return Sl(this,this._map.remove(n))},e.prototype.clear=function(){return Sl(this,this._map.clear())},e.prototype.map=function(n,a){var i=this,s=!1,o=Sl(this,this._map.mapEntries(function(f){var u=f[1],l=n.call(a,u,u,i);return l!==u&&(s=!0),[l,l]},a));return s?o:this},e.prototype.union=function(){for(var n=[],a=arguments.length;a--;)n[a]=arguments[a];return n=n.filter(function(i){return i.size!==0}),n.length===0?this:this.size===0&&!this.__ownerID&&n.length===1?this.constructor(n[0]):this.withMutations(function(i){for(var s=0;s<n.length;s++)typeof n[s]=="string"?i.add(n[s]):t(n[s]).forEach(function(o){return i.add(o)})})},e.prototype.intersect=function(){for(var n=[],a=arguments.length;a--;)n[a]=arguments[a];if(n.length===0)return this;n=n.map(function(s){return t(s)});var i=[];return this.forEach(function(s){n.every(function(o){return o.includes(s)})||i.push(s)}),this.withMutations(function(s){i.forEach(function(o){s.remove(o)})})},e.prototype.subtract=function(){for(var n=[],a=arguments.length;a--;)n[a]=arguments[a];if(n.length===0)return this;n=n.map(function(s){return t(s)});var i=[];return this.forEach(function(s){n.some(function(o){return o.includes(s)})&&i.push(s)}),this.withMutations(function(s){i.forEach(function(o){s.remove(o)})})},e.prototype.sort=function(n){return Kn($i(this,n))},e.prototype.sortBy=function(n,a){return Kn($i(this,a,n))},e.prototype.wasAltered=function(){return this._map.wasAltered()},e.prototype.__iterate=function(n,a){var i=this;return this._map.__iterate(function(s){return n(s,s,i)},a)},e.prototype.__iterator=function(n,a){return this._map.__iterator(n,a)},e.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var a=this._map.__ensureOwner(n);return n?this.__make(a,n):this.size===0?this.__empty():(this.__ownerID=n,this._map=a,this)},e}(ji);zi.isSet=qo;var jt=zi.prototype;jt[S2]=!0,jt[go]=jt.remove,jt.merge=jt.concat=jt.union,jt.withMutations=Ro,jt.asImmutable=Ao,jt["@@transducer/init"]=jt.asMutable=Io,jt["@@transducer/step"]=function(t,e){return t.add(e)},jt["@@transducer/result"]=function(t){return t.asImmutable()},jt.__empty=Bo,jt.__make=T2;function Sl(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:e.size===0?t.__empty():t.__make(e)}function T2(t,e){var r=Object.create(jt);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}var x2;function Bo(){return x2||(x2=T2(Ir()))}var sg=function(t){function e(r,n,a){if(!(this instanceof e))return new e(r,n,a);if($y(a!==0,"Cannot step a Range by 0"),r=r||0,n===void 0&&(n=1/0),a=a===void 0?1:Math.abs(a),n<r&&(a=-a),this._start=r,this._end=n,this._step=a,this.size=Math.max(0,Math.ceil((n-r)/a-1)+1),this.size===0){if(ug)return ug;ug=this}}return e.__proto__=t,e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},e.prototype.get=function(n,a){return this.has(n)?this._start+bn(this,n)*this._step:a},e.prototype.includes=function(n){var a=(n-this._start)/this._step;return a>=0&&a<this.size&&a===Math.floor(a)},e.prototype.slice=function(n,a){return bo(n,a,this.size)?this:(n=Fi(n,this.size),a=mo(a,this.size),a<=n?new e(0,0):new e(this.get(n,this._end),this.get(a,this._end),this._step))},e.prototype.indexOf=function(n){var a=n-this._start;if(a%this._step===0){var i=a/this._step;if(i>=0&&i<this.size)return i}return-1},e.prototype.lastIndexOf=function(n){return this.indexOf(n)},e.prototype.__iterate=function(n,a){for(var i=this.size,s=this._step,o=a?this._start+(i-1)*s:this._start,f=0;f!==i&&n(o,a?i-++f:f++,this)!==!1;)o+=a?-s:s;return f},e.prototype.__iterator=function(n,a){var i=this.size,s=this._step,o=a?this._start+(i-1)*s:this._start,f=0;return new at(function(){if(f===i)return Wt();var u=o;return o+=a?-s:s,pt(n,a?i-++f:f++,u)})},e.prototype.equals=function(n){return n instanceof e?this._start===n._start&&this._end===n._end&&this._step===n._step:og(this,n)},e}(_r),ug;function Tl(t,e,r){for(var n=Jx(e),a=0;a!==n.length;)if(t=yl(t,n[a++],nt),t===nt)return r;return t}function R2(t,e){return Tl(this,t,e)}function fg(t,e){return Tl(t,e,nt)!==nt}function c6(t){return fg(this,t)}function I2(){fr(this.size);var t={};return this.__iterate(function(e,r){t[r]=e}),t}ht.isIterable=Ut,ht.isKeyed=ut,ht.isIndexed=Mt,ht.isAssociative=Mi,ht.isOrdered=ur,ht.Iterator=at,Wn(ht,{toArray:function(){fr(this.size);var e=new Array(this.size||0),r=ut(this),n=0;return this.__iterate(function(a,i){e[n++]=r?[i,a]:a}),e},toIndexedSeq:function(){return new $x(this)},toJS:function(){return El(this)},toKeyedSeq:function(){return new cl(this,!0)},toMap:function(){return En(this.toKeyedSeq())},toObject:I2,toOrderedMap:function(){return Ar(this.toKeyedSeq())},toOrderedSet:function(){return Kn(ut(this)?this.valueSeq():this)},toSet:function(){return zi(ut(this)?this.valueSeq():this)},toSetSeq:function(){return new Ux(this)},toSeq:function(){return Mt(this)?this.toIndexedSeq():ut(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Mo(ut(this)?this.valueSeq():this)},toList:function(){return Vi(ut(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(e,r){return this.size===0?e+r:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+r},concat:function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return ft(this,QL(this,e))},includes:function(e){return this.some(function(r){return Ct(r,e)})},entries:function(){return this.__iterator(mr)},every:function(e,r){fr(this.size);var n=!0;return this.__iterate(function(a,i,s){if(!e.call(r,a,i,s))return n=!1,!1}),n},filter:function(e,r){return ft(this,zx(this,e,r,!0))},partition:function(e,r){return WL(this,e,r)},find:function(e,r,n){var a=this.findEntry(e,r);return a?a[1]:n},forEach:function(e,r){return fr(this.size),this.__iterate(r?e.bind(r):e)},join:function(e){fr(this.size),e=e!==void 0?""+e:",";var r="",n=!0;return this.__iterate(function(a){n?n=!1:r+=e,r+=a!=null?a.toString():""}),r},keys:function(){return this.__iterator(vo)},map:function(e,r){return ft(this,Gx(this,e,r))},reduce:function(e,r,n){return A2(this,e,r,n,arguments.length<2,!1)},reduceRight:function(e,r,n){return A2(this,e,r,n,arguments.length<2,!0)},reverse:function(){return ft(this,jy(this,!0))},slice:function(e,r){return ft(this,qy(this,e,r,!0))},some:function(e,r){fr(this.size);var n=!1;return this.__iterate(function(a,i,s){if(e.call(r,a,i,s))return n=!0,!1}),n},sort:function(e){return ft(this,$i(this,e))},values:function(){return this.__iterator(Rr)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(e,r){return Li(e?this.toSeq().filter(e,r):this)},countBy:function(e,r){return GL(this,e,r)},equals:function(e){return og(this,e)},entrySeq:function(){var e=this;if(e._cache)return new Gn(e._cache);var r=e.toSeq().map(h6).toIndexedSeq();return r.fromEntrySeq=function(){return e.toSeq()},r},filterNot:function(e,r){return this.filter(lg(e),r)},findEntry:function(e,r,n){var a=n;return this.__iterate(function(i,s,o){if(e.call(r,i,s,o))return a=[s,i],!1}),a},findKey:function(e,r){var n=this.findEntry(e,r);return n&&n[0]},findLast:function(e,r,n){return this.toKeyedSeq().reverse().find(e,r,n)},findLastEntry:function(e,r,n){return this.toKeyedSeq().reverse().findEntry(e,r,n)},findLastKey:function(e,r){return this.toKeyedSeq().reverse().findKey(e,r)},first:function(e){return this.find(Sx,null,e)},flatMap:function(e,r){return ft(this,XL(this,e,r))},flatten:function(e){return ft(this,Kx(this,e,!0))},fromEntrySeq:function(){return new Hx(this)},get:function(e,r){return this.find(function(n,a){return Ct(a,e)},void 0,r)},getIn:R2,groupBy:function(e,r){return zL(this,e,r)},has:function(e){return this.get(e,nt)!==nt},hasIn:c6,isSubset:function(e){return e=typeof e.includes=="function"?e:ht(e),this.every(function(r){return e.includes(r)})},isSuperset:function(e){return e=typeof e.isSubset=="function"?e:ht(e),e.isSubset(this)},keyOf:function(e){return this.findKey(function(r){return Ct(r,e)})},keySeq:function(){return this.toSeq().map(d6).toIndexedSeq()},last:function(e){return this.toSeq().reverse().first(e)},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return dl(this,e)},maxBy:function(e,r){return dl(this,r,e)},min:function(e){return dl(this,e?O2(e):P2)},minBy:function(e,r){return dl(this,r?O2(r):P2,e)},rest:function(){return this.slice(1)},skip:function(e){return e===0?this:this.slice(Math.max(0,e))},skipLast:function(e){return e===0?this:this.slice(0,-Math.max(0,e))},skipWhile:function(e,r){return ft(this,Wx(this,e,r,!0))},skipUntil:function(e,r){return this.skipWhile(lg(e),r)},sortBy:function(e,r){return ft(this,$i(this,r,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return this.slice(-Math.max(0,e))},takeWhile:function(e,r){return ft(this,KL(this,e,r))},takeUntil:function(e,r){return this.takeWhile(lg(e),r)},update:function(e){return e(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=p6(this))}});var Vt=ht.prototype;Vt[Rx]=!0,Vt[ol]=Vt.values,Vt.toJSON=Vt.toArray,Vt.__toStringMapper=So,Vt.inspect=Vt.toSource=function(){return this.toString()},Vt.chain=Vt.flatMap,Vt.contains=Vt.includes,Wn(br,{flip:function(){return ft(this,Vx(this))},mapEntries:function(e,r){var n=this,a=0;return ft(this,this.toSeq().map(function(i,s){return e.call(r,[s,i],a++,n)}).fromEntrySeq())},mapKeys:function(e,r){var n=this;return ft(this,this.toSeq().flip().map(function(a,i){return e.call(r,a,i,n)}).flip())}});var ko=br.prototype;ko[Ix]=!0,ko[ol]=Vt.entries,ko.toJSON=I2,ko.__toStringMapper=function(t,e){return So(e)+": "+So(t)},Wn(Vn,{toKeyedSeq:function(){return new cl(this,!1)},filter:function(e,r){return ft(this,zx(this,e,r,!1))},findIndex:function(e,r){var n=this.findEntry(e,r);return n?n[0]:-1},indexOf:function(e){var r=this.keyOf(e);return r===void 0?-1:r},lastIndexOf:function(e){var r=this.lastKeyOf(e);return r===void 0?-1:r},reverse:function(){return ft(this,jy(this,!1))},slice:function(e,r){return ft(this,qy(this,e,r,!1))},splice:function(e,r){var n=arguments.length;if(r=Math.max(r||0,0),n===0||n===2&&!r)return this;e=Fi(e,e<0?this.count():this.size);var a=this.slice(0,e);return ft(this,n===1?a:a.concat($r(arguments,2),this.slice(e+r)))},findLastIndex:function(e,r){var n=this.findLastEntry(e,r);return n?n[0]:-1},first:function(e){return this.get(0,e)},flatten:function(e){return ft(this,Kx(this,e,!1))},get:function(e,r){return e=bn(this,e),e<0||this.size===1/0||this.size!==void 0&&e>this.size?r:this.find(function(n,a){return a===e},void 0,r)},has:function(e){return e=bn(this,e),e>=0&&(this.size!==void 0?this.size===1/0||e<this.size:this.indexOf(e)!==-1)},interpose:function(e){return ft(this,ZL(this,e))},interleave:function(){var e=[this].concat($r(arguments)),r=hl(this.toSeq(),_r.of,e),n=r.flatten(!0);return r.size&&(n.size=r.size*e.length),ft(this,n)},keySeq:function(){return sg(0,this.size)},last:function(e){return this.get(-1,e)},skipWhile:function(e,r){return ft(this,Wx(this,e,r,!1))},zip:function(){var e=[this].concat($r(arguments));return ft(this,hl(this,N2,e))},zipAll:function(){var e=[this].concat($r(arguments));return ft(this,hl(this,N2,e,!0))},zipWith:function(e){var r=$r(arguments);return r[0]=this,ft(this,hl(this,e,r))}});var Wi=Vn.prototype;Wi[Ax]=!0,Wi[qi]=!0,Wn(ji,{get:function(e,r){return this.has(e)?e:r},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}});var Ki=ji.prototype;Ki.has=Vt.includes,Ki.contains=Ki.includes,Ki.keys=Ki.values,Wn(_n,ko),Wn(_r,Wi),Wn(ki,Ki);function A2(t,e,r,n,a,i){return fr(t.size),t.__iterate(function(s,o,f){a?(a=!1,r=s):r=e.call(n,r,s,o,f)},i),r}function d6(t,e){return e}function h6(t,e){return[e,t]}function lg(t){return function(){return!t.apply(this,arguments)}}function O2(t){return function(){return-t.apply(this,arguments)}}function N2(){return $r(arguments)}function P2(t,e){return t<e?1:t>e?-1:0}function p6(t){if(t.size===1/0)return 0;var e=ur(t),r=ut(t),n=e?1:0,a=t.__iterate(r?e?function(i,s){n=31*n+D2(Kt(i),Kt(s))|0}:function(i,s){n=n+D2(Kt(i),Kt(s))|0}:e?function(i){n=31*n+Kt(i)|0}:function(i){n=n+Kt(i)|0});return y6(a,n)}function y6(t,e){return e=Eo(e,3432918353),e=Eo(e<<15|e>>>-15,461845907),e=Eo(e<<13|e>>>-13,5),e=(e+3864292196|0)^t,e=Eo(e^e>>>16,2246822507),e=Eo(e^e>>>13,3266489909),e=ll(e^e>>>16),e}function D2(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}var Kn=function(t){function e(r){return r==null?cg():wl(r)?r:cg().withMutations(function(n){var a=ji(r);fr(a.size),a.forEach(function(i){return n.add(i)})})}return e.__proto__=t,e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(n){return this(br(n).keySeq())},e.prototype.toString=function(){return this.__toString("OrderedSet {","}")},e}(zi);Kn.isOrderedSet=wl;var Qn=Kn.prototype;Qn[qi]=!0,Qn.zip=Wi.zip,Qn.zipWith=Wi.zipWith,Qn.zipAll=Wi.zipAll,Qn.__empty=cg,Qn.__make=C2;function C2(t,e){var r=Object.create(Qn);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}var L2;function cg(){return L2||(L2=C2(Lo()))}var F2={LeftThenRight:-1,RightThenLeft:1};function g6(t){if(mn(t))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(sr(t))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(t===null||typeof t!="object")throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}var At=function(e,r){var n;g6(e);var a=function(o){var f=this;if(o instanceof a)return o;if(!(this instanceof a))return new a(o);if(!n){n=!0;var u=Object.keys(e),l=i._indices={};i._name=r,i._keys=u,i._defaultValues=e;for(var d=0;d<u.length;d++){var c=u[d];l[c]=d,i[c]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+hg(this)+' with property "'+c+'" since that property name is part of the Record API.'):b6(i,c)}}return this.__ownerID=void 0,this._values=Vi().withMutations(function(h){h.setSize(f._keys.length),br(o).forEach(function(m,_){h.set(f._indices[_],m===f._defaultValues[_]?void 0:m)})}),this},i=a.prototype=Object.create(ct);return i.constructor=a,r&&(a.displayName=r),a};At.prototype.toString=function(){for(var e=hg(this)+" { ",r=this._keys,n,a=0,i=r.length;a!==i;a++)n=r[a],e+=(a?", ":"")+n+": "+So(this.get(n));return e+" }"},At.prototype.equals=function(e){return this===e||mn(e)&&Qi(this).equals(Qi(e))},At.prototype.hashCode=function(){return Qi(this).hashCode()},At.prototype.has=function(e){return this._indices.hasOwnProperty(e)},At.prototype.get=function(e,r){if(!this.has(e))return r;var n=this._indices[e],a=this._values.get(n);return a===void 0?this._defaultValues[e]:a},At.prototype.set=function(e,r){if(this.has(e)){var n=this._values.set(this._indices[e],r===this._defaultValues[e]?void 0:r);if(n!==this._values&&!this.__ownerID)return dg(this,n)}return this},At.prototype.remove=function(e){return this.set(e)},At.prototype.clear=function(){var e=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:dg(this,e)},At.prototype.wasAltered=function(){return this._values.wasAltered()},At.prototype.toSeq=function(){return Qi(this)},At.prototype.toJS=function(){return El(this)},At.prototype.entries=function(){return this.__iterator(mr)},At.prototype.__iterator=function(e,r){return Qi(this).__iterator(e,r)},At.prototype.__iterate=function(e,r){return Qi(this).__iterate(e,r)},At.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var r=this._values.__ensureOwner(e);return e?dg(this,r,e):(this.__ownerID=e,this._values=r,this)},At.isRecord=mn,At.getDescriptiveName=hg;var ct=At.prototype;ct[Nx]=!0,ct[go]=ct.remove,ct.deleteIn=ct.removeIn=Ky,ct.getIn=R2,ct.hasIn=Vt.hasIn,ct.merge=e2,ct.mergeWith=t2,ct.mergeIn=Zy,ct.mergeDeep=s2,ct.mergeDeepWith=u2,ct.mergeDeepIn=Jy,ct.setIn=zy,ct.update=Qy,ct.updateIn=Xy,ct.withMutations=Ro,ct.asMutable=Io,ct.asImmutable=Ao,ct[ol]=ct.entries,ct.toJSON=ct.toObject=Vt.toObject,ct.inspect=ct.toSource=function(){return this.toString()};function dg(t,e,r){var n=Object.create(Object.getPrototypeOf(t));return n._values=e,n.__ownerID=r,n}function hg(t){return t.constructor.displayName||t.constructor.name||"Record"}function Qi(t){return Oy(t._keys.map(function(e){return[e,t.get(e)]}))}function b6(t,e){try{Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(r){$y(this.__ownerID,"Cannot set on an immutable record."),this.set(e,r)}})}catch{}}var M2=function(t){function e(r,n){if(!(this instanceof e))return new e(r,n);if(this._value=r,this.size=n===void 0?1/0:Math.max(0,n),this.size===0){if(pg)return pg;pg=this}}return e.__proto__=t,e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},e.prototype.get=function(n,a){return this.has(n)?this._value:a},e.prototype.includes=function(n){return Ct(this._value,n)},e.prototype.slice=function(n,a){var i=this.size;return bo(n,a,i)?this:new e(this._value,mo(a,i)-Fi(n,i))},e.prototype.reverse=function(){return this},e.prototype.indexOf=function(n){return Ct(this._value,n)?0:-1},e.prototype.lastIndexOf=function(n){return Ct(this._value,n)?this.size:-1},e.prototype.__iterate=function(n,a){for(var i=this.size,s=0;s!==i&&n(this._value,a?i-++s:s++,this)!==!1;);return s},e.prototype.__iterator=function(n,a){var i=this,s=this.size,o=0;return new at(function(){return o===s?Wt():pt(n,a?s-++o:o++,i._value)})},e.prototype.equals=function(n){return n instanceof e?Ct(this._value,n._value):og(this,n)},e}(_r),pg;function j2(t,e){return q2([],e||m6,t,"",e&&e.length>2?[]:void 0,{"":t})}function q2(t,e,r,n,a,i){if(typeof r!="string"&&!sr(r)&&(Ry(r)||Ty(r)||pl(r))){if(~t.indexOf(r))throw new TypeError("Cannot convert circular structure to Immutable");t.push(r),a&&n!==""&&a.push(n);var s=e.call(i,n,Ht(r).map(function(o,f){return q2(t,e,o,f,a,r)}),a&&a.slice());return t.pop(),a&&a.pop(),s}return r}function m6(t,e){return Mt(e)?e.toList():ut(e)?e.toMap():e.toSet()}var B2="4.3.7",_6={version:B2,Collection:ht,Iterable:ht,Seq:Ht,Map:En,OrderedMap:Ar,List:Vi,Stack:Mo,Set:zi,OrderedSet:Kn,PairSorting:F2,Record:At,Range:sg,Repeat:M2,is:Ct,fromJS:j2,hash:Kt,isImmutable:sr,isCollection:Ut,isKeyed:ut,isIndexed:Mt,isAssociative:Mi,isOrdered:ur,isValueObject:fl,isPlainObject:pl,isSeq:_o,isList:ml,isMap:wo,isOrderedMap:ul,isStack:Fo,isSet:qo,isOrderedSet:wl,isRecord:mn,get:yl,getIn:Tl,has:Uy,hasIn:fg,merge:n2,mergeDeep:a2,mergeWith:i2,mergeDeepWith:o2,remove:Hy,removeIn:Wy,set:Vy,setIn:Gy,update:bl,updateIn:wn},v6=ht,w6=Object.freeze({__proto__:null,Collection:ht,Iterable:v6,List:Vi,Map:En,OrderedMap:Ar,OrderedSet:Kn,PairSorting:F2,Range:sg,Record:At,Repeat:M2,Seq:Ht,Set:zi,Stack:Mo,default:_6,fromJS:j2,get:yl,getIn:Tl,has:Uy,hasIn:fg,hash:Kt,is:Ct,isAssociative:Mi,isCollection:Ut,isImmutable:sr,isIndexed:Mt,isKeyed:ut,isList:ml,isMap:wo,isOrdered:ur,isOrderedMap:ul,isOrderedSet:wl,isPlainObject:pl,isRecord:mn,isSeq:_o,isSet:qo,isStack:Fo,isValueObject:fl,merge:n2,mergeDeep:a2,mergeDeepWith:o2,mergeWith:i2,remove:Hy,removeIn:Wy,set:Vy,setIn:Gy,update:bl,updateIn:wn,version:B2}),E6=yi(w6),k2;function $2(){if(k2)return Hn;k2=1,Object.defineProperty(Hn,"__esModule",{value:!0}),Hn.ActionContextKey=Hn.ActionContext=void 0;const t=E6;let e=class Qu{constructor(a={}){this.map=(0,t.Map)(a)}setDefault(a,i){return this.has(a)?this:this.set(a,i)}set(a,i){return this.setRaw(a.name,i)}setRaw(a,i){return new Qu(this.map.set(a,i))}delete(a){return new Qu(this.map.delete(a.name))}get(a){return this.getRaw(a.name)}getRaw(a){return this.map.get(a)}getSafe(a){if(!this.has(a))throw new Error(`Context entry ${a.name} is required but not available`);return this.get(a)}has(a){return this.hasRaw(a.name)}hasRaw(a){return this.map.has(a)}merge(...a){let i=this;for(const s of a)for(const o of s.keys())i=i.set(o,s.get(o));return i}keys(){return[...this.map.keys()].map(a=>new r(a))}toJS(){return this.map.toJS()}toString(){return`ActionContext(${JSON.stringify(this.map.toJS())})`}[Symbol.for("nodejs.util.inspect.custom")](){return`ActionContext(${JSON.stringify(this.map.toJS(),null,"  ")})`}static ensureActionContext(a){return a instanceof Qu?a:new Qu((0,t.Map)(a??{}))}};Hn.ActionContext=e;class r{constructor(a){this.name=a}}return Hn.ActionContextKey=r,Hn}var $o={},U2;function H2(){if(U2)return $o;U2=1,Object.defineProperty($o,"__esModule",{value:!0}),$o.Bus=void 0;let t=class{constructor(r){this.actors=[],this.observers=[],this.dependencyLinks=new Map,Object.assign(this,r),this.failMessage=`All actors over bus ${this.name} failed to handle an action`}subscribe(r){this.actors.push(r),this.reorderForDependencies()}subscribeObserver(r){this.observers.push(r)}unsubscribe(r){const n=this.actors.indexOf(r);return n>=0?(this.actors.splice(n,1),!0):!1}unsubscribeObserver(r){const n=this.observers.indexOf(r);return n>=0?(this.observers.splice(n,1),!0):!1}publish(r){return this.actors.map(n=>({actor:n,reply:n.test(r)}))}onRun(r,n,a){for(const i of this.observers)i.onRun(r,n,a)}addDependencies(r,n){for(const a of n){let i=this.dependencyLinks.get(a);i||(i=[],this.dependencyLinks.set(a,i)),i.push(r)}this.reorderForDependencies()}reorderForDependencies(){if(this.dependencyLinks.size>0){const r=[];for(const n of this.dependencyLinks.keys()){const a=this.actors.indexOf(n);a>=0&&(this.actors.splice(a,1),r.push(n))}for(;r.length>0;){let n=-1;for(let i=0;i<r.length;i++){let s=!0;for(const o of this.dependencyLinks.get(r[i]))if(!this.actors.includes(o)&&r.includes(o)){s=!1;break}if(s){n=i;break}}if(n<0)throw new Error(`Cyclic dependency links detected in bus ${this.name}`);const a=r.splice(n,1)[0];this.actors.push(a)}}}};return $o.Bus=t,$o}var Uo={},V2;function S6(){if(V2)return Uo;V2=1,Object.defineProperty(Uo,"__esModule",{value:!0}),Uo.BusIndexed=void 0;const t=H2();let e=class extends t.Bus{constructor(n){super(n),this.actorsIndex={}}subscribe(n){const a=this.getActorIdentifiers(n)??["_undefined_"];for(const i of a){let s=this.actorsIndex[i];s||(s=this.actorsIndex[i]=[]),s.push(n),super.subscribe(n)}}unsubscribe(n){const a=this.getActorIdentifiers(n)??["_undefined_"];let i=!1;for(const s of a){const o=this.actorsIndex[s];if(o){const f=o.indexOf(n);f>=0&&o.splice(f,1),o.length===0&&delete this.actorsIndex[s]}i=i||super.unsubscribe(n)}return i}publish(n){const a=this.getActionIdentifier(n);return a?[...this.actorsIndex[a]||[],...this.actorsIndex._undefined_||[]].map(s=>({actor:s,reply:s.test(n)})):super.publish(n)}getActorIdentifiers(n){const a=this.actorIdentifierFields.reduce((i,s)=>i[s],n);if(a)return Array.isArray(a)?a:[a]}getActionIdentifier(n){return this.actionIdentifierFields.reduce((a,i)=>a[i],n)}};return Uo.BusIndexed=e,Uo}var Ho={},G2;function z2(){if(G2)return Ho;G2=1,Object.defineProperty(Ho,"__esModule",{value:!0}),Ho.CONTEXT_KEY_LOGGER=void 0;const t=$2();return Ho.CONTEXT_KEY_LOGGER=new t.ActionContextKey("@comunica/core:log"),Ho}var Vo={},W2;function T6(){if(W2)return Vo;W2=1,Object.defineProperty(Vo,"__esModule",{value:!0}),Vo.ActionObserver=void 0;let t=class{constructor(r){Object.assign(this,r)}};return Vo.ActionObserver=t,Vo}var Go={},K2;function x6(){if(K2)return Go;K2=1,Object.defineProperty(Go,"__esModule",{value:!0}),Go.Actor=void 0;const t=z2();let e=class ci{constructor(n){this.beforeActors=[],Object.assign(this,n),this.bus.subscribe(this),this.beforeActors.length>0&&this.bus.addDependencies(this,this.beforeActors),n.busFailMessage&&(this.bus.failMessage=n.busFailMessage)}static getContextLogger(n){return n.get(t.CONTEXT_KEY_LOGGER)}runObservable(n,a){const i=this.run(n,a);return this.bus.onRun(this,n,i),i}getDefaultLogData(n,a){const i=a?a():{};return i.actor=this.name,i}logTrace(n,a,i){const s=ci.getContextLogger(n);s&&s.trace(a,this.getDefaultLogData(n,i))}logDebug(n,a,i){const s=ci.getContextLogger(n);s&&s.debug(a,this.getDefaultLogData(n,i))}logInfo(n,a,i){const s=ci.getContextLogger(n);s&&s.info(a,this.getDefaultLogData(n,i))}logWarn(n,a,i){const s=ci.getContextLogger(n);s&&s.warn(a,this.getDefaultLogData(n,i))}logError(n,a,i){const s=ci.getContextLogger(n);s&&s.error(a,this.getDefaultLogData(n,i))}logFatal(n,a,i){const s=ci.getContextLogger(n);s&&s.fatal(a,this.getDefaultLogData(n,i))}};return Go.Actor=e,Go}var zo={},Q2;function R6(){if(Q2)return zo;Q2=1,Object.defineProperty(zo,"__esModule",{value:!0}),zo.Mediator=void 0;let t=class lb{constructor(r){Object.assign(this,r)}publish(r){const n=this.bus.publish(r);if(n.length===0)throw new Error(`No actors are able to reply to a message in the bus ${this.bus.name}`);return n}async mediateActor(r){return await this.mediateWith(r,this.publish(r))}async mediateTestable(r){return(await this.mediateActor(r)).mapAsync((a,i)=>a.runObservable(r,i))}async mediate(r){return(await this.mediateTestable(r)).getOrThrow()}constructFailureMessage(r,n){const a=`
        `;return`${this.bus.failMessage.replaceAll(/\$\{(.*?)\}/gu,(s,o)=>lb.getObjectValue({action:r},o.split("."))||s)}
    Error messages of failing actors:${a}${n.join(a)}`}static getObjectValue(r,n){if(n.length===0)return r;if(r)return lb.getObjectValue(r[n[0]],n.slice(1))}};return zo.Mediator=t,zo}var qt={},X2;function I6(){if(X2)return qt;X2=1,Object.defineProperty(qt,"__esModule",{value:!0}),qt.TestResultFailed=qt.TestResultPassed=qt.failTest=qt.passTestVoidWithSideData=qt.passTestWithSideData=qt.passTestVoid=qt.passTest=void 0;function t(o){return new i(o,void 0)}qt.passTest=t;function e(){return new i(!0,void 0)}qt.passTestVoid=e;function r(o,f){return new i(o,f)}qt.passTestWithSideData=r;function n(o){return new i(!0,o)}qt.passTestVoidWithSideData=n;function a(o){return new s(o)}qt.failTest=a;class i{constructor(f,u){this.value=f,this.sideData=u}isPassed(){return!0}isFailed(){return!1}get(){return this.value}getOrThrow(){return this.value}getSideData(){return this.sideData}getFailMessage(){}map(f){return new i(f(this.value,this.sideData),this.sideData)}async mapAsync(f){return new i(await f(this.value,this.sideData),this.sideData)}}qt.TestResultPassed=i;class s{constructor(f){this.failMessage=f}isPassed(){return!1}isFailed(){return!0}get(){}getOrThrow(){throw new Error(this.getFailMessage())}getSideData(){throw new Error(this.getFailMessage())}getFailMessage(){return this.failMessage}map(){return this}async mapAsync(){return this}}return qt.TestResultFailed=s,qt}var Z2;function gt(){return Z2||(Z2=1,function(t){var e=yo.__createBinding||(Object.create?function(n,a,i,s){s===void 0&&(s=i);var o=Object.getOwnPropertyDescriptor(a,i);(!o||("get"in o?!a.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,s,o)}:function(n,a,i,s){s===void 0&&(s=i),n[s]=a[i]}),r=yo.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&e(a,n,i)};Object.defineProperty(t,"__esModule",{value:!0}),r($2(),t),r(H2(),t),r(S6(),t),r(z2(),t),r(T6(),t),r(x6(),t),r(R6(),t),r(I6(),t)}(yo)),yo}var Wo={},it={},J2;function A6(){if(J2)return it;J2=1,Object.defineProperty(it,"__esModule",{value:!0}),it.KeysStatistics=it.KeysRdfJoin=it.KeysMergeBindingsContext=it.KeysRdfUpdateQuads=it.KeysQuerySourceIdentify=it.KeysRdfParseHtmlScript=it.KeysRdfParseJsonLd=it.KeysQueryOperation=it.KeysExpressionEvaluator=it.KeysInitQuery=it.KeysHttpProxy=it.KeysHttpMemento=it.KeysHttpWayback=it.KeysHttp=it.KeysCore=void 0;const t=gt();return it.KeysCore={log:t.CONTEXT_KEY_LOGGER},it.KeysHttp={includeCredentials:new t.ActionContextKey("@comunica/bus-http:include-credentials"),auth:new t.ActionContextKey("@comunica/bus-http:auth"),fetch:new t.ActionContextKey("@comunica/bus-http:fetch"),httpTimeout:new t.ActionContextKey("@comunica/bus-http:http-timeout"),httpBodyTimeout:new t.ActionContextKey("@comunica/bus-http:http-body-timeout"),httpRetryCount:new t.ActionContextKey("@comunica/bus-http:http-retry-count"),httpRetryDelayFallback:new t.ActionContextKey("@comunica/bus-http:http-retry-delay-fallback"),httpRetryDelayLimit:new t.ActionContextKey("@comunica/bus-http:http-retry-delay-limit"),httpRetryStatusCodes:new t.ActionContextKey("@comunica/bus-http:http-retry-status-codes")},it.KeysHttpWayback={recoverBrokenLinks:new t.ActionContextKey("@comunica/bus-http:recover-broken-links")},it.KeysHttpMemento={datetime:new t.ActionContextKey("@comunica/actor-http-memento:datetime")},it.KeysHttpProxy={httpProxyHandler:new t.ActionContextKey("@comunica/actor-http-proxy:httpProxyHandler")},it.KeysInitQuery={querySourcesUnidentified:new t.ActionContextKey("@comunica/actor-init-query:querySourcesUnidentified"),initialBindings:new t.ActionContextKey("@comunica/actor-init-query:initialBindings"),queryFormat:new t.ActionContextKey("@comunica/actor-init-query:queryFormat"),graphqlSingularizeVariables:new t.ActionContextKey("@comunica/actor-init-query:singularizeVariables"),lenient:new t.ActionContextKey("@comunica/actor-init-query:lenient"),queryString:new t.ActionContextKey("@comunica/actor-init-query:queryString"),query:new t.ActionContextKey("@comunica/actor-init-query:query"),baseIRI:new t.ActionContextKey("@comunica/actor-init-query:baseIRI"),functionArgumentsCache:new t.ActionContextKey("@comunica/actor-init-query:functionArgumentsCache"),queryTimestamp:new t.ActionContextKey("@comunica/actor-init-query:queryTimestamp"),queryTimestampHighResolution:new t.ActionContextKey("@comunica/actor-init-query:queryTimestampHighResolution"),extensionFunctionCreator:new t.ActionContextKey("@comunica/actor-init-query:extensionFunctionCreator"),extensionFunctions:new t.ActionContextKey("@comunica/actor-init-query:extensionFunctions"),cliArgsHandlers:new t.ActionContextKey("@comunica/actor-init-query:cliArgsHandlers"),explain:new t.ActionContextKey("@comunica/actor-init-query:explain"),physicalQueryPlanLogger:new t.ActionContextKey("@comunica/actor-init-query:physicalQueryPlanLogger"),physicalQueryPlanNode:new t.ActionContextKey("@comunica/actor-init-query:physicalQueryPlanNode"),jsonLdContext:new t.ActionContextKey("@context"),invalidateCache:new t.ActionContextKey("@comunica/actor-init-query:invalidateCache"),dataFactory:new t.ActionContextKey("@comunica/actor-init-query:dataFactory"),distinctConstruct:new t.ActionContextKey("@comunica/actor-init-query:distinctConstruct")},it.KeysExpressionEvaluator={extensionFunctionCreator:new t.ActionContextKey("@comunica/utils-expression-evaluator:extensionFunctionCreator"),superTypeProvider:new t.ActionContextKey("@comunica/utils-expression-evaluator:superTypeProvider"),defaultTimeZone:new t.ActionContextKey("@comunica/utils-expression-evaluator:defaultTimeZone"),actionContext:new t.ActionContextKey("@comunica/utils-expression-evaluator:actionContext")},it.KeysQueryOperation={operation:new t.ActionContextKey("@comunica/bus-query-operation:operation"),joinLeftMetadata:new t.ActionContextKey("@comunica/bus-query-operation:joinLeftMetadata"),joinRightMetadatas:new t.ActionContextKey("@comunica/bus-query-operation:joinRightMetadatas"),joinBindings:new t.ActionContextKey("@comunica/bus-query-operation:joinBindings"),readOnly:new t.ActionContextKey("@comunica/bus-query-operation:readOnly"),isPathArbitraryLengthDistinctKey:new t.ActionContextKey("@comunica/bus-query-operation:isPathArbitraryLengthDistinct"),limitIndicator:new t.ActionContextKey("@comunica/bus-query-operation:limitIndicator"),unionDefaultGraph:new t.ActionContextKey("@comunica/bus-query-operation:unionDefaultGraph"),querySources:new t.ActionContextKey("@comunica/bus-query-operation:querySources")},it.KeysRdfParseJsonLd={documentLoader:new t.ActionContextKey("@comunica/actor-rdf-parse-jsonld:documentLoader"),strictValues:new t.ActionContextKey("@comunica/actor-rdf-parse-jsonld:strictValues"),parserOptions:new t.ActionContextKey("@comunica/actor-rdf-parse-jsonld:parserOptions")},it.KeysRdfParseHtmlScript={processingHtmlScript:new t.ActionContextKey("@comunica/actor-rdf-parse-html-script:processingHtmlScript"),extractAllScripts:new t.ActionContextKey("extractAllScripts")},it.KeysQuerySourceIdentify={sourceIds:new t.ActionContextKey("@comunica/bus-query-source-identify:sourceIds"),hypermediaSourcesAggregatedStores:new t.ActionContextKey("@comunica/bus-query-source-identify:hypermediaSourcesAggregatedStores"),traverse:new t.ActionContextKey("@comunica/bus-query-source-identify:traverse")},it.KeysRdfUpdateQuads={destination:new t.ActionContextKey("@comunica/bus-rdf-update-quads:destination")},it.KeysMergeBindingsContext={sourcesBinding:new t.ActionContextKey("@comunica/bus-merge-bindings-context:sourcesBinding")},it.KeysRdfJoin={lastPhysicalJoin:new t.ActionContextKey("@comunica/bus-rdf-join:lastPhysicalJoin")},it.KeysStatistics={discoveredLinks:new t.ActionContextKey("@comunica/bus-context-preprocess:discoveredLinks"),dereferencedLinks:new t.ActionContextKey("@comunica/bus-context-preprocess:dereferencedLinks")},it}var Y2;function Or(){return Y2||(Y2=1,function(t){var e=Wo.__createBinding||(Object.create?function(n,a,i,s){s===void 0&&(s=i);var o=Object.getOwnPropertyDescriptor(a,i);(!o||("get"in o?!a.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,s,o)}:function(n,a,i,s){s===void 0&&(s=i),n[s]=a[i]}),r=Wo.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&e(a,n,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(A6(),t)}(Wo)),Wo}var eR;function tR(){if(eR)return po;eR=1,Object.defineProperty(po,"__esModule",{value:!0}),po.RdfDereferencerBase=void 0;const t=gt(),e=Or(),r=Pt();let n=class{constructor(i){this.mediatorDereferenceRdf=i.mediatorDereferenceRdf}dereference(i,s={}){const o=new t.ActionContext(s).setDefault(e.KeysInitQuery.dataFactory,new r.DataFactory);return this.mediatorDereferenceRdf.mediate({context:typeof s.fetch=="function"?o.setDefault(e.KeysHttp.fetch,s.fetch):o,headers:new Headers(s.headers),method:s.method,url:i})}};return po.RdfDereferencerBase=n,po}var rR;function O6(){if(rR)return ho;rR=1,Object.defineProperty(ho,"__esModule",{value:!0}),ho.RdfDereferencer=void 0;const t=tR();class e extends t.RdfDereferencerBase{}return ho.RdfDereferencer=e,ho}var Ko={},Qo={},nR;function N6(){if(nR)return Qo;nR=1,Object.defineProperty(Qo,"__esModule",{value:!0}),Qo.MediatorRace=void 0;const t=gt();let e=class extends t.Mediator{constructor(n){super(n)}mediateWith(n,a){return new Promise((i,s)=>{const o=[];for(const f of a)f.reply.then(u=>{u.isPassed()?i((0,t.passTestWithSideData)(f.actor,u.getSideData())):(o.push(u.getFailMessage()),o.length===a.length&&i((0,t.failTest)(this.constructFailureMessage(n,o))))}).catch(u=>{s(u)})})}};return Qo.MediatorRace=e,Qo}var iR;function yg(){return iR||(iR=1,function(t){var e=Ko.__createBinding||(Object.create?function(n,a,i,s){s===void 0&&(s=i);var o=Object.getOwnPropertyDescriptor(a,i);(!o||("get"in o?!a.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,s,o)}:function(n,a,i,s){s===void 0&&(s=i),n[s]=a[i]}),r=Ko.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&e(a,n,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(N6(),t)}(Ko)),Ko}var Xo={},Zo={},Jo={},Yo={},Zr={},aR;function gg(){if(aR)return Zr;aR=1,Object.defineProperty(Zr,"__esModule",{value:!0}),Zr.ActorDereferenceBase=Zr.isHardError=Zr.emptyReadable=void 0;const t=Or(),e=gt(),r=Tr();function n(){const s=new r.Readable;return s.push(null),s}Zr.emptyReadable=n;function a(s){return!s.get(t.KeysInitQuery.lenient)}Zr.isHardError=a;let i=class extends e.Actor{constructor(o){super(o)}async dereferenceErrorHandler(o,f,u){if(a(o.context))throw f;return this.logWarn(o.context,f.message),{...u,data:n()}}};return Zr.ActorDereferenceBase=i,Zr}var oR;function P6(){if(oR)return Yo;oR=1,Object.defineProperty(Yo,"__esModule",{value:!0}),Yo.ActorDereference=void 0;const t=gg();let e=class extends t.ActorDereferenceBase{constructor(n){super(n)}async handleDereferenceErrors(n,a,i,s=0){return this.dereferenceErrorHandler(n,a,{url:n.url,exists:!1,headers:i,requestTime:s})}};return Yo.ActorDereference=e,Yo}var Xn={},sR;function D6(){if(sR)return Xn;sR=1,Object.defineProperty(Xn,"__esModule",{value:!0}),Xn.ActorDereferenceParse=Xn.getMediaTypeFromExtension=void 0;const t=gt(),e=Tr(),r=gg();function n(i,s){const o=i.lastIndexOf(".");return o>=0&&(s==null?void 0:s[i.slice(o+1)])||""}Xn.getMediaTypeFromExtension=n;let a=class extends r.ActorDereferenceBase{constructor(s){super(s)}async test(s){return(0,t.passTestVoid)()}handleDereferenceStreamErrors(s,o){return(0,r.isHardError)(s.context)||(o.on("error",f=>{this.logWarn(s.context,f.message,()=>({url:s.url})),o.push(null)}),o=o.pipe(new e.PassThrough({objectMode:!0}))),o}async run(s){var l,d;const{context:o}=s,f=await this.mediatorDereference.mediate({...s,mediaTypes:async()=>{var c,h;return(h=await((c=this.mediatorParseMediatypes)==null?void 0:c.mediate({context:o,mediaTypes:!0})))==null?void 0:h.mediaTypes}});let u;try{u=(await this.mediatorParse.mediate({context:o,handle:{context:o,...f,metadata:await this.getMetadata(f)},handleMediaType:f.mediaType||n(f.url,this.mediaMappings)||s.mediaType})).handle,u.data=this.handleDereferenceStreamErrors(s,u.data)}catch(c){await((d=(l=f.data).close)==null?void 0:d.call(l)),u=await this.dereferenceErrorHandler(s,c,{})}return{...f,...u}}};return Xn.ActorDereferenceParse=a,Xn}var uR;function bg(){return uR||(uR=1,function(t){var e=Jo.__createBinding||(Object.create?function(n,a,i,s){s===void 0&&(s=i);var o=Object.getOwnPropertyDescriptor(a,i);(!o||("get"in o?!a.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,s,o)}:function(n,a,i,s){s===void 0&&(s=i),n[s]=a[i]}),r=Jo.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&e(a,n,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(P6(),t),r(D6(),t),r(gg(),t)}(Jo)),Jo}var fR;function C6(){if(fR)return Zo;fR=1,Object.defineProperty(Zo,"__esModule",{value:!0}),Zo.ActorDereferenceFallback=void 0;const t=bg(),e=gt();let r=class extends t.ActorDereference{constructor(a){super(a)}async test(a){return(0,e.passTestVoid)()}async run(a){return this.handleDereferenceErrors(a,new Error(`Could not dereference '${a.url}'`))}};return Zo.ActorDereferenceFallback=r,Zo}var lR;function L6(){return lR||(lR=1,function(t){var e=Xo.__createBinding||(Object.create?function(n,a,i,s){s===void 0&&(s=i);var o=Object.getOwnPropertyDescriptor(a,i);(!o||("get"in o?!a.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,s,o)}:function(n,a,i,s){s===void 0&&(s=i),n[s]=a[i]}),r=Xo.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&e(a,n,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(C6(),t)}(Xo)),Xo}var es={},ts={},rs={},ns={},mg={},Zn={},cR;function F6(){if(cR)return Zn;cR=1,Object.defineProperty(Zn,"__esModule",{value:!0}),Zn.readableFromWeb=Zn.ReadableFromWeb=void 0;const t=Tr();let e=class extends t.Readable{constructor(a,i){super(i),this.reader=a.getReader(),this.readerClosed=!1,this.reader.closed.then(()=>{this.readerClosed=!0}).catch(s=>{this.readerClosed=!0,this.destroy(s)})}_read(){this.reader.read().then(a=>this.push(a.done?null:a.value)).catch(a=>this.destroy(a))}destroy(a){return this.readerClosed||this.reader.cancel(a).then().catch(()=>{}),super.destroy(a)}};Zn.ReadableFromWeb=e;function r(n,a){return new e(n,a)}return Zn.readableFromWeb=r,Zn}var dR;function M6(){return dR||(dR=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.readableFromWeb=void 0;var e=F6();Object.defineProperty(t,"readableFromWeb",{enumerable:!0,get:function(){return e.readableFromWeb}})}(mg)),mg}var _g={exports:{}},hR;function j6(){return hR||(hR=1,function(t){t.exports=e,t.exports.WEBSTREAM_SUPPORT=typeof ReadableStream<"u";function e(r){if(!t.exports.WEBSTREAM_SUPPORT)throw new Error("No web ReadableStream support");var n=!1,a={};function i(f){a.data=l,a.end=l,a.end=d,a.close=d,a.error=d;for(var u in a)r.on(u,a[u]);r.pause();function l(c){n||(f.enqueue(c),r.pause())}function d(c){if(!n){n=!0;for(var h in a)r.removeListener(h,a[h]);c?f.error(c):f.close()}}}function s(){n||r.resume()}function o(){n=!0;for(var f in a)r.removeListener(f,a[f]);r.push(null),r.pause(),r.destroy?r.destroy():r.close&&r.close()}return new ReadableStream({start:i,pull:s,cancel:o})}}(_g)),_g.exports}var pR;function yR(){if(pR)return ns;pR=1,Object.defineProperty(ns,"__esModule",{value:!0}),ns.ActorHttp=void 0;const t=gt(),e=M6(),r=W0(),n=j6();let a=class n3 extends t.Actor{constructor(s){super(s)}static toNodeReadable(s){return r(s)||s===null?s:(0,e.readableFromWeb)(s)}static toWebReadableStream(s){return n(s)}static headersToHash(s){const o={};return s.forEach((f,u)=>{o[u]=f}),o}static getInputUrl(s){return new URL(s instanceof Request?s.url:s)}static createUserAgent(s,o){if(!n3.isBrowser()){const f=[`Comunica/${o.split(".")[0]}.0`,`${s}/${o}`];return typeof globalThis.navigator=="object"&&typeof globalThis.navigator.userAgent=="string"?f.push(globalThis.navigator.userAgent):typeof globalThis.process=="object"&&typeof globalThis.process.versions=="object"&&typeof globalThis.process.versions.node=="string"&&f.push(`Node.js/${globalThis.process.versions.node.split(".")[0]}`),typeof globalThis.process=="object"&&typeof globalThis.process.platform=="string"&&typeof globalThis.process.arch=="string"&&f.splice(1,0,`(${globalThis.process.platform}; ${globalThis.process.arch})`),f.join(" ")}}static isBrowser(){return typeof globalThis.window=="object"&&typeof globalThis.window.document=="object"||typeof globalThis.importScripts=="function"}};return ns.ActorHttp=a,ns}var is={},as={},os={},gR;function q6(){if(gR)return os;gR=1,Object.defineProperty(os,"__esModule",{value:!0}),os.promisifyEventEmitter=void 0;function t(e,r){return new Promise((n,a)=>{e.on("end",()=>n(r)),e.on("error",a)})}return os.promisifyEventEmitter=t,os}var bR;function xl(){if(bR)return as;bR=1;var t=as.__awaiter||function(n,a,i,s){function o(f){return f instanceof i?f:new i(function(u){u(f)})}return new(i||(i=Promise))(function(f,u){function l(h){try{c(s.next(h))}catch(m){u(m)}}function d(h){try{c(s.throw(h))}catch(m){u(m)}}function c(h){h.done?f(h.value):o(h.value).then(l,d)}c((s=s.apply(n,a||[])).next())})};Object.defineProperty(as,"__esModule",{value:!0}),as.stringify=r;const e=q6();function r(n){return t(this,void 0,void 0,function*(){let a="";return n.on("data",i=>{a+=i}),yield(0,e.promisifyEventEmitter)(n),a})}return as}var mR;function B6(){if(mR)return is;mR=1,Object.defineProperty(is,"__esModule",{value:!0}),is.validateAndCloseHttpResponse=void 0;const t=xl(),e=yR();async function r(n,a){var i;if(a.status>=400){let s="empty response";if(a.body){const o=e.ActorHttp.toNodeReadable(a.body);s=await(0,t.stringify)(o)}throw new Error(`Could not update ${n} (HTTP status ${a.status}):
${s}`)}await((i=a.body)==null?void 0:i.cancel())}return is.validateAndCloseHttpResponse=r,is}var _R;function Rl(){return _R||(_R=1,function(t){var e=rs.__createBinding||(Object.create?function(n,a,i,s){s===void 0&&(s=i);var o=Object.getOwnPropertyDescriptor(a,i);(!o||("get"in o?!a.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,s,o)}:function(n,a,i,s){s===void 0&&(s=i),n[s]=a[i]}),r=rs.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&e(a,n,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(yR(),t),r(B6(),t)}(rs)),rs}var k6={name:"@comunica/actor-http-fetch",version:"4.0.2",description:"A fetch http actor","lsd:module":!0,license:"MIT",funding:{type:"opencollective",url:"https://opencollective.com/comunica-association"},homepage:"https://comunica.dev/",repository:{type:"git",url:"https://github.com/comunica/comunica.git",directory:"packages/actor-http-fetch"},bugs:{url:"https://github.com/comunica/comunica/issues"},keywords:["comunica","runner"],sideEffects:!1,main:"lib/index.js",typings:"lib/index",publishConfig:{access:"public"},files:["components","lib/**/*.d.ts","lib/**/*.js","lib/**/*.js.map"],scripts:{build:"yarn run build:ts && yarn run build:components","build:ts":'node "../../node_modules/typescript/bin/tsc"',"build:components":"componentsjs-generator"},dependencies:{"@comunica/bus-http":"^4.0.2","@comunica/context-entries":"^4.0.2","@comunica/core":"^4.0.2","@comunica/mediatortype-time":"^4.0.2"},browser:{"./lib/FetchInitPreprocessor.js":"./lib/FetchInitPreprocessor-browser.js"},gitHead:"b60deab76821557f8d027208ab743d3c66fc60ea"},ss={},vR;function $6(){if(vR)return ss;vR=1,Object.defineProperty(ss,"__esModule",{value:!0}),ss.FetchInitPreprocessor=void 0;class t{async handle(r){if(r.body&&typeof r.body!="string"&&"getReader"in r.body){const n=r.body.getReader(),a=[];for(;;){const{done:i,value:s}=await n.read();if(i)break;a.push(s)}r.body=a.join("")}return{...r,keepalive:!r.body}}}return ss.FetchInitPreprocessor=t,ss}var wR;function U6(){if(wR)return ts;wR=1,Object.defineProperty(ts,"__esModule",{value:!0}),ts.ActorHttpFetch=void 0;const t=Rl(),e=Or(),r=gt(),n=k6,a=$6();let i=class cb extends t.ActorHttp{constructor(o){super(o),this.fetchInitPreprocessor=new a.FetchInitPreprocessor(o.agentOptions)}async test(o){return(0,r.passTest)({time:Number.POSITIVE_INFINITY})}async run(o){const f=this.prepareRequestHeaders(o),u={method:"GET",...o.init,headers:f};this.logInfo(o.context,`Requesting ${t.ActorHttp.getInputUrl(o.input).href}`,()=>({headers:t.ActorHttp.headersToHash(f),method:u.method})),o.context.has(e.KeysHttp.fetch)&&(u.headers=t.ActorHttp.headersToHash(f)),o.context.get(e.KeysHttp.includeCredentials)&&(u.credentials="include");const l=o.context.get(e.KeysHttp.httpTimeout),d=o.context.get(e.KeysHttp.httpBodyTimeout),c=o.context.get(e.KeysHttp.fetch)??fetch,h=await this.fetchInitPreprocessor.handle(u);let m,_;if(l){const y=new AbortController;h.signal=y.signal,m=()=>y.abort(new Error(`Fetch timed out for ${t.ActorHttp.getInputUrl(o.input).href} after ${l} ms`)),_=setTimeout(()=>m(),l)}const b=await c(o.input,h);return l&&(!d||!b.body)&&clearTimeout(_),b}prepareRequestHeaders(o){var l;const f=new Headers((l=o.init)==null?void 0:l.headers);t.ActorHttp.isBrowser()?f.delete("user-agent"):f.has("user-agent")||f.set("user-agent",cb.userAgent);const u=o.context.get(e.KeysHttp.auth);return u&&f.set("Authorization",`Basic ${cb.stringToBase64(u)}`),f}static stringToBase64(o){const f=new TextEncoder().encode(o),u=Array.from(f,l=>String.fromCodePoint(l)).join("");return btoa(u)}};return ts.ActorHttpFetch=i,i.userAgent=t.ActorHttp.createUserAgent("ActorHttpFetch",n.version),ts}var ER;function H6(){return ER||(ER=1,function(t){var e=es.__createBinding||(Object.create?function(n,a,i,s){s===void 0&&(s=i);var o=Object.getOwnPropertyDescriptor(a,i);(!o||("get"in o?!a.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,s,o)}:function(n,a,i,s){s===void 0&&(s=i),n[s]=a[i]}),r=es.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&e(a,n,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(U6(),t)}(es)),es}var us={},fs={},SR;function V6(){if(SR)return fs;SR=1,Object.defineProperty(fs,"__esModule",{value:!0}),fs.MediatorNumber=void 0;const t=gt();let e=class extends t.Mediator{constructor(n){super(n),this.indexPicker=this.createIndexPicker()}createIndexPicker(){switch(this.type){case"min":return n=>n.reduce((a,i,s)=>{const o=this.getOrDefault(i[this.field],Number.POSITIVE_INFINITY);return o!==null&&(Number.isNaN(a[0])||a[0]>o)?[o,s]:a},[Number.NaN,-1])[1];case"max":return n=>n.reduce((a,i,s)=>{const o=this.getOrDefault(i[this.field],Number.NEGATIVE_INFINITY);return o!==null&&(Number.isNaN(a[0])||a[0]<o)?[o,s]:a},[Number.NaN,-1])[1];default:throw new Error(`No valid "type" value was given, must be either 'min' or 'max', but got: ${this.type}`)}}getOrDefault(n,a){return n===void 0?a:n}async mediateWith(n,a){let i=await Promise.all(a.map(({reply:l})=>l));const s=[];if(this.ignoreFailures){const l={};l[this.field]=null,i=i.map(d=>d.isFailed()?(s.push(d.getFailMessage()),(0,t.passTestWithSideData)(l,void 0)):d)}const o=[],f=i.map((l,d)=>{const c=l.getOrThrow();return o[d]=l.getSideData(),c}),u=this.indexPicker(f);return u<0?(0,t.failTest)(this.constructFailureMessage(n,s)):(0,t.passTestWithSideData)(a[u].actor,o[u])}};return fs.MediatorNumber=e,fs}var TR;function G6(){return TR||(TR=1,function(t){var e=us.__createBinding||(Object.create?function(n,a,i,s){s===void 0&&(s=i);var o=Object.getOwnPropertyDescriptor(a,i);(!o||("get"in o?!a.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,s,o)}:function(n,a,i,s){s===void 0&&(s=i),n[s]=a[i]}),r=us.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&e(a,n,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(V6(),t)}(us)),us}var ls={},cs={},ds={},hs={},ps={},ys={},xR;function RR(){if(xR)return ys;xR=1,Object.defineProperty(ys,"__esModule",{value:!0}),ys.ActorAbstractMediaTyped=void 0;const t=gt();let e=class extends t.Actor{constructor(n){super(n)}async run(n){if("handle"in n){const a=n;return{handle:await this.runHandle(a.handle,a.handleMediaType,n.context)}}if("mediaTypes"in n)return{mediaTypes:await this.getMediaTypes(n.context)};if("mediaTypeFormats"in n)return{mediaTypeFormats:await this.getMediaTypeFormats(n.context)};throw new Error("Either a handle, mediaTypes or mediaTypeFormats action needs to be provided")}async test(n){if("handle"in n){const a=n;return(await this.testHandle(a.handle,a.handleMediaType,n.context)).map(i=>({handle:i}))}return"mediaTypes"in n?(await this.testMediaType(n.context)).map(a=>({mediaTypes:a})):"mediaTypeFormats"in n?(await this.testMediaTypeFormats(n.context)).map(a=>({mediaTypeFormats:a})):(0,t.failTest)("Either a handle, mediaTypes or mediaTypeFormats action needs to be provided")}};return ys.ActorAbstractMediaTyped=e,ys}var gs={},IR;function z6(){if(IR)return gs;IR=1,Object.defineProperty(gs,"__esModule",{value:!0}),gs.ActorAbstractMediaTypedFixed=void 0;const t=gt(),e=RR();let r=class extends e.ActorAbstractMediaTyped{constructor(a){super(a);const i=this.priorityScale||this.priorityScale===0?this.priorityScale:1;if(this.mediaTypePriorities)for(const[s,[o,f]]of Object.entries(this.mediaTypePriorities).entries())this.mediaTypePriorities[o]=i*f;this.mediaTypePriorities=Object.freeze(this.mediaTypePriorities),this.mediaTypeFormats=Object.freeze(this.mediaTypeFormats)}async testHandle(a,i,s){return!i||!(i in this.mediaTypePriorities)?(0,t.failTest)(`Unrecognized media type: ${i}`):await this.testHandleChecked(a,s)}async testMediaType(a){return(0,t.passTestVoid)()}async getMediaTypes(a){return this.mediaTypePriorities}async testMediaTypeFormats(a){return(0,t.passTestVoid)()}async getMediaTypeFormats(a){return this.mediaTypeFormats}};return gs.ActorAbstractMediaTypedFixed=r,gs}var AR;function OR(){return AR||(AR=1,function(t){var e=ps.__createBinding||(Object.create?function(n,a,i,s){s===void 0&&(s=i);var o=Object.getOwnPropertyDescriptor(a,i);(!o||("get"in o?!a.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,s,o)}:function(n,a,i,s){s===void 0&&(s=i),n[s]=a[i]}),r=ps.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&e(a,n,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(RR(),t),r(z6(),t)}(ps)),ps}var NR;function W6(){if(NR)return hs;NR=1,Object.defineProperty(hs,"__esModule",{value:!0}),hs.ActorRdfParse=void 0;const t=OR();let e=class extends t.ActorAbstractMediaTyped{constructor(n){super(n)}};return hs.ActorRdfParse=e,hs}var bs={},PR;function K6(){if(PR)return bs;PR=1,Object.defineProperty(bs,"__esModule",{value:!0}),bs.ActorRdfParseFixedMediaTypes=void 0;const t=OR(),e=gt();let r=class extends t.ActorAbstractMediaTypedFixed{constructor(a){super(a)}async testHandleChecked(a){return(0,e.passTestVoid)()}};return bs.ActorRdfParseFixedMediaTypes=r,bs}var DR;function Xi(){return DR||(DR=1,function(t){var e=ds.__createBinding||(Object.create?function(n,a,i,s){s===void 0&&(s=i);var o=Object.getOwnPropertyDescriptor(a,i);(!o||("get"in o?!a.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,s,o)}:function(n,a,i,s){s===void 0&&(s=i),n[s]=a[i]}),r=ds.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&e(a,n,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(W6(),t),r(K6(),t)}(ds)),ds}var CR=yi(z3),LR;function Q6(){if(LR)return cs;LR=1,Object.defineProperty(cs,"__esModule",{value:!0}),cs.ActorRdfParseN3=void 0;const t=Xi(),e=Or(),r=CR;let n=class extends t.ActorRdfParseFixedMediaTypes{constructor(i){super(i)}async runHandle(i,s,o){var l;const f=i.context.getSafe(e.KeysInitQuery.dataFactory);i.data.on("error",d=>u.emit("error",d));const u=i.data.pipe(new r.StreamParser({factory:f,baseIRI:(l=i.metadata)==null?void 0:l.baseIRI,format:s.endsWith("n3")?s:`${s}*`}));return{data:u,metadata:{triples:s==="text/turtle"||s==="application/n-triples"||s==="text/n3"}}}};return cs.ActorRdfParseN3=n,cs}var FR;function X6(){return FR||(FR=1,function(t){var e=ls.__createBinding||(Object.create?function(n,a,i,s){s===void 0&&(s=i);var o=Object.getOwnPropertyDescriptor(a,i);(!o||("get"in o?!a.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,s,o)}:function(n,a,i,s){s===void 0&&(s=i),n[s]=a[i]}),r=ls.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&e(a,n,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(Q6(),t)}(ls)),ls}var ms={},_s={},vs={},Jn={},ws={},Jr={},MR;function Z6(){if(MR)return Jr;MR=1,Object.defineProperty(Jr,"__esModule",{value:!0}),Jr.removeDotSegmentsOfPath=Jr.removeDotSegments=Jr.resolve=void 0;function t(a,i){i=i||"";const s=i.indexOf("#");if(s>0&&(i=i.substr(0,s)),!a.length){if(i.indexOf(":")<0)throw new Error(`Found invalid baseIRI '${i}' for value '${a}'`);return i}if(a.startsWith("?")){const h=i.indexOf("?");return h>0&&(i=i.substr(0,h)),i+a}if(a.startsWith("#"))return i+a;if(!i.length){const h=a.indexOf(":");if(h<0)throw new Error(`Found invalid relative IRI '${a}' for a missing baseIRI`);return r(a,h)}const o=a.indexOf(":");if(o>=0)return r(a,o);const f=i.indexOf(":");if(f<0)throw new Error(`Found invalid baseIRI '${i}' for value '${a}'`);const u=i.substr(0,f+1);if(a.indexOf("//")===0)return u+r(a,o);let l;if(i.indexOf("//",f)===f+1){if(l=i.indexOf("/",f+3),l<0)return i.length>f+3?i+"/"+r(a,o):u+r(a,o)}else if(l=i.indexOf("/",f+1),l<0)return u+r(a,o);if(a.indexOf("/")===0)return i.substr(0,l)+e(a);let d=i.substr(l);const c=d.lastIndexOf("/");return c>=0&&c<d.length-1&&(d=d.substr(0,c+1),a[0]==="."&&a[1]!=="."&&a[1]!=="/"&&a[2]&&(a=a.substr(1))),a=d+a,a=e(a),i.substr(0,l)+a}Jr.resolve=t;function e(a){const i=[];let s=0;for(;s<a.length;)switch(a[s]){case"/":if(a[s+1]===".")if(a[s+2]==="."){if(!n(a[s+3])){i.push([]),s++;break}i.pop(),a[s+3]||i.push([]),s+=3}else{if(!n(a[s+2])){i.push([]),s++;break}a[s+2]||i.push([]),s+=2}else i.push([]),s++;break;case"#":case"?":i.length||i.push([]),i[i.length-1].push(a.substr(s)),s=a.length;break;default:i.length||i.push([]),i[i.length-1].push(a[s]),s++;break}return"/"+i.map(o=>o.join("")).join("/")}Jr.removeDotSegments=e;function r(a,i){let s=i+1;i>=0?a[i+1]==="/"&&a[i+2]==="/"&&(s=i+3):a[0]==="/"&&a[1]==="/"&&(s=2);const o=a.indexOf("/",s);if(o<0)return a;const f=a.substr(0,o),u=a.substr(o);return f+e(u)}Jr.removeDotSegmentsOfPath=r;function n(a){return!a||a==="#"||a==="?"||a==="/"}return Jr}var jR;function vr(){return jR||(jR=1,function(t){var e=ws.__createBinding||(Object.create?function(n,a,i,s){s===void 0&&(s=i),Object.defineProperty(n,s,{enumerable:!0,get:function(){return a[i]}})}:function(n,a,i,s){s===void 0&&(s=i),n[s]=a[i]}),r=ws.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&e(a,n,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(Z6(),t)}(ws)),ws}var Yn={},vg={},qR;function J6(){return qR||(qR=1,function(t){/**
 * Character classes and associated utilities for the 5th edition of XML 1.0.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */Object.defineProperty(t,"__esModule",{value:!0}),t.CHAR=`	
\r ---`,t.S=` 	\r
`,t.NAME_START_CHAR=":A-Z_a-z-----------",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9--",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");var e=9,r=10,n=13,a=32;t.S_LIST=[a,r,n,e];function i(u){return u>=a&&u<=55295||u===r||u===n||u===e||u>=57344&&u<=65533||u>=65536&&u<=1114111}t.isChar=i;function s(u){return u===a||u===r||u===n||u===e}t.isS=s;function o(u){return u>=65&&u<=90||u>=97&&u<=122||u===58||u===95||u===8204||u===8205||u>=192&&u<=214||u>=216&&u<=246||u>=248&&u<=767||u>=880&&u<=893||u>=895&&u<=8191||u>=8304&&u<=8591||u>=11264&&u<=12271||u>=12289&&u<=55295||u>=63744&&u<=64975||u>=65008&&u<=65533||u>=65536&&u<=983039}t.isNameStartChar=o;function f(u){return o(u)||u>=48&&u<=57||u===45||u===46||u===183||u>=768&&u<=879||u>=8255&&u<=8256}t.isNameChar=f}(vg)),vg}var wg={},BR;function Y6(){return BR||(BR=1,function(t){/**
 * Character classes and associated utilities for the 2nd edition of XML 1.1.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */Object.defineProperty(t,"__esModule",{value:!0}),t.CHAR="---",t.RESTRICTED_CHAR="-\b\v\f---",t.S=` 	\r
`,t.NAME_START_CHAR=":A-Z_a-z-----------",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9--",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.RESTRICTED_CHAR_RE=new RegExp("^["+t.RESTRICTED_CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");var e=9,r=10,n=13,a=32;t.S_LIST=[a,r,n,e];function i(d){return d>=1&&d<=55295||d>=57344&&d<=65533||d>=65536&&d<=1114111}t.isChar=i;function s(d){return d>=1&&d<=8||d===11||d===12||d>=14&&d<=31||d>=127&&d<=132||d>=134&&d<=159}t.isRestrictedChar=s;function o(d){return d===9||d===10||d===13||d>31&&d<127||d===133||d>159&&d<=55295||d>=57344&&d<=65533||d>=65536&&d<=1114111}t.isCharAndNotRestricted=o;function f(d){return d===a||d===r||d===n||d===e}t.isS=f;function u(d){return d>=65&&d<=90||d>=97&&d<=122||d===58||d===95||d===8204||d===8205||d>=192&&d<=214||d>=216&&d<=246||d>=248&&d<=767||d>=880&&d<=893||d>=895&&d<=8191||d>=8304&&d<=8591||d>=11264&&d<=12271||d>=12289&&d<=55295||d>=63744&&d<=64975||d>=65008&&d<=65533||d>=65536&&d<=983039}t.isNameStartChar=u;function l(d){return u(d)||d>=48&&d<=57||d===45||d===46||d===183||d>=768&&d<=879||d>=8255&&d<=8256}t.isNameChar=l}(wg)),wg}var Eg={},kR;function eF(){return kR||(kR=1,function(t){/**
 * Character class utilities for XML NS 1.0 edition 3.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */Object.defineProperty(t,"__esModule",{value:!0}),t.NC_NAME_START_CHAR="A-Z_a-z------------",t.NC_NAME_CHAR="-"+t.NC_NAME_START_CHAR+".0-9--",t.NC_NAME_START_CHAR_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]$","u"),t.NC_NAME_CHAR_RE=new RegExp("^["+t.NC_NAME_CHAR+"]$","u"),t.NC_NAME_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]["+t.NC_NAME_CHAR+"]*$","u");function e(n){return n>=65&&n<=90||n===95||n>=97&&n<=122||n>=192&&n<=214||n>=216&&n<=246||n>=248&&n<=767||n>=880&&n<=893||n>=895&&n<=8191||n>=8204&&n<=8205||n>=8304&&n<=8591||n>=11264&&n<=12271||n>=12289&&n<=55295||n>=63744&&n<=64975||n>=65008&&n<=65533||n>=65536&&n<=983039}t.isNCNameStartChar=e;function r(n){return e(n)||n===45||n===46||n>=48&&n<=57||n===183||n>=768&&n<=879||n>=8255&&n<=8256}t.isNCNameChar=r}(Eg)),Eg}var $R;function tF(){if($R)return Yn;$R=1,Object.defineProperty(Yn,"__esModule",{value:!0}),Yn.SaxesParser=Yn.EVENTS=void 0;const t=J6(),e=Y6(),r=eF();var n=t.isS,a=t.isChar,i=t.isNameStartChar,s=t.isNameChar,o=t.S_LIST,f=t.NAME_RE,u=e.isChar,l=r.isNCNameStartChar,d=r.isNCNameChar,c=r.NC_NAME_RE;const h="http://www.w3.org/XML/1998/namespace",m="http://www.w3.org/2000/xmlns/",_={__proto__:null,xml:h,xmlns:m},b={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},y=-1,p=-2,g=0,w=1,S=2,I=3,O=4,M=5,D=6,N=7,C=8,R=9,F=10,X=11,oe=12,J=13,le=14,ae=15,Z=16,H=17,de=18,he=19,W=20,z=21,Q=22,A=23,P=24,k=25,G=26,te=27,E=28,v=29,T=30,L=31,Y=32,ne=33,pe=34,we=35,fe=36,Re=37,Le=38,Te=39,Ue=40,_e=41,Ee=42,Fe=43,je=44,Me=9,ze=10,ee=13,x=32,$=33,ie=34,ye=38,V=39,re=45,K=47,De=59,qe=60,q=61,Se=62,Pe=63,se=91,ve=93,Oe=133,We=8232,ue=ke=>ke===ie||ke===V,B=[ie,V],j=[...B,se,Se],U=[...B,qe,ve],ce=[q,Pe,...o],me=[...o,Se,ye,qe];function be(ke,ge,Ae){switch(ge){case"xml":Ae!==h&&ke.fail(`xml prefix must be bound to ${h}.`);break;case"xmlns":Ae!==m&&ke.fail(`xmlns prefix must be bound to ${m}.`);break}switch(Ae){case m:ke.fail(ge===""?`the default namespace may not be set to ${Ae}.`:`may not assign a prefix (even "xmlns") to the URI ${m}.`);break;case h:switch(ge){case"xml":break;case"":ke.fail(`the default namespace may not be set to ${Ae}.`);break;default:ke.fail("may not assign the xml namespace to another prefix.")}break}}function Ie(ke,ge){for(const Ae of Object.keys(ge))be(ke,Ae,ge[Ae])}const Ce=ke=>c.test(ke),He=ke=>f.test(ke),Ve=0,Ke=1,Ge=2;Yn.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const Be={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};class St{get closed(){return this._closed}constructor(ge){this.opt=ge??{},this.fragmentOpt=!!this.opt.fragment;const Ae=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,Ae){this.nameStartCheck=l,this.nameCheck=d,this.isName=Ce,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},_);const Ne=this.opt.additionalNamespaces;Ne!=null&&(Ie(this,Ne),Object.assign(this.ns,Ne))}else this.nameStartCheck=i,this.nameCheck=s,this.isName=He,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}_init(){var ge;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=Ve,this.attribList=[];const{fragmentOpt:Ae}=this;this.state=Ae?J:g,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=Ae,this.xmlDeclPossible=!Ae,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:Ne}=this.opt;if(Ne===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");Ne="1.0"}this.setXMLVersion(Ne),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(b),(ge=this.readyHandler)===null||ge===void 0||ge.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(ge,Ae){this[Be[ge]]=Ae}off(ge){this[Be[ge]]=void 0}makeError(ge){var Ae;let Ne=(Ae=this.fileName)!==null&&Ae!==void 0?Ae:"";return this.trackPosition&&(Ne.length>0&&(Ne+=":"),Ne+=`${this.line}:${this.column}`),Ne.length>0&&(Ne+=": "),new Error(Ne+ge)}fail(ge){const Ae=this.makeError(ge),Ne=this.errorHandler;if(Ne===void 0)throw Ae;return Ne(Ae),this}write(ge){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let Ae=!1;ge===null?(Ae=!0,ge=""):typeof ge=="object"&&(ge=ge.toString()),this.carriedFromPrevious!==void 0&&(ge=`${this.carriedFromPrevious}${ge}`,this.carriedFromPrevious=void 0);let Ne=ge.length;const Xe=ge.charCodeAt(Ne-1);!Ae&&(Xe===ee||Xe>=55296&&Xe<=56319)&&(this.carriedFromPrevious=ge[Ne-1],Ne--,ge=ge.slice(0,Ne));const{stateTable:Ze}=this;for(this.chunk=ge,this.i=0;this.i<Ne;)Ze[this.state].call(this);return this.chunkPosition+=Ne,Ae?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:ge,i:Ae}=this;if(this.prevI=Ae,this.i=Ae+1,Ae>=ge.length)return y;const Ne=ge.charCodeAt(Ae);if(this.column++,Ne<55296){if(Ne>=x||Ne===Me)return Ne;switch(Ne){case ze:return this.line++,this.column=0,this.positionAtNewLine=this.position,ze;case ee:return ge.charCodeAt(Ae+1)===ze&&(this.i=Ae+2),this.line++,this.column=0,this.positionAtNewLine=this.position,p;default:return this.fail("disallowed character."),Ne}}if(Ne>56319)return Ne>=57344&&Ne<=65533||this.fail("disallowed character."),Ne;const Xe=65536+(Ne-55296)*1024+(ge.charCodeAt(Ae+1)-56320);return this.i=Ae+2,Xe>1114111&&this.fail("disallowed character."),Xe}getCode11(){const{chunk:ge,i:Ae}=this;if(this.prevI=Ae,this.i=Ae+1,Ae>=ge.length)return y;const Ne=ge.charCodeAt(Ae);if(this.column++,Ne<55296){if(Ne>31&&Ne<127||Ne>159&&Ne!==We||Ne===Me)return Ne;switch(Ne){case ze:return this.line++,this.column=0,this.positionAtNewLine=this.position,ze;case ee:{const Ze=ge.charCodeAt(Ae+1);(Ze===ze||Ze===Oe)&&(this.i=Ae+2)}case Oe:case We:return this.line++,this.column=0,this.positionAtNewLine=this.position,p;default:return this.fail("disallowed character."),Ne}}if(Ne>56319)return Ne>=57344&&Ne<=65533||this.fail("disallowed character."),Ne;const Xe=65536+(Ne-55296)*1024+(ge.charCodeAt(Ae+1)-56320);return this.i=Ae+2,Xe>1114111&&this.fail("disallowed character."),Xe}getCodeNorm(){const ge=this.getCode();return ge===p?ze:ge}unget(){this.i=this.prevI,this.column--}captureTo(ge){let{i:Ae}=this;const{chunk:Ne}=this;for(;;){const Xe=this.getCode(),Ze=Xe===p,rt=Ze?ze:Xe;if(rt===y||ge.includes(rt))return this.text+=Ne.slice(Ae,this.prevI),rt;Ze&&(this.text+=`${Ne.slice(Ae,this.prevI)}
`,Ae=this.i)}}captureToChar(ge){let{i:Ae}=this;const{chunk:Ne}=this;for(;;){let Xe=this.getCode();switch(Xe){case p:this.text+=`${Ne.slice(Ae,this.prevI)}
`,Ae=this.i,Xe=ze;break;case y:return this.text+=Ne.slice(Ae),!1}if(Xe===ge)return this.text+=Ne.slice(Ae,this.prevI),!0}}captureNameChars(){const{chunk:ge,i:Ae}=this;for(;;){const Ne=this.getCode();if(Ne===y)return this.name+=ge.slice(Ae),y;if(!s(Ne))return this.name+=ge.slice(Ae,this.prevI),Ne===p?ze:Ne}}skipSpaces(){for(;;){const ge=this.getCodeNorm();if(ge===y||!n(ge))return ge}}setXMLVersion(ge){this.currentXMLVersion=ge,ge==="1.0"?(this.isChar=a,this.getCode=this.getCode10):(this.isChar=u,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=w}sBeginWhitespace(){const ge=this.i,Ae=this.skipSpaces();switch(this.prevI!==ge&&(this.xmlDeclPossible=!1),Ae){case qe:if(this.state=ae,this.text.length!==0)throw new Error("no-empty text at start");break;case y:break;default:this.unget(),this.state=J,this.xmlDeclPossible=!1}}sDoctype(){var ge;const Ae=this.captureTo(j);switch(Ae){case Se:{(ge=this.doctypeHandler)===null||ge===void 0||ge.call(this,this.text),this.text="",this.state=J,this.doctype=!0;break}case y:break;default:this.text+=String.fromCodePoint(Ae),Ae===se?this.state=O:ue(Ae)&&(this.state=I,this.q=Ae)}}sDoctypeQuote(){const ge=this.q;this.captureToChar(ge)&&(this.text+=String.fromCodePoint(ge),this.q=null,this.state=S)}sDTD(){const ge=this.captureTo(U);ge!==y&&(this.text+=String.fromCodePoint(ge),ge===ve?this.state=S:ge===qe?this.state=D:ue(ge)&&(this.state=M,this.q=ge))}sDTDQuoted(){const ge=this.q;this.captureToChar(ge)&&(this.text+=String.fromCodePoint(ge),this.state=O,this.q=null)}sDTDOpenWaka(){const ge=this.getCodeNorm();switch(this.text+=String.fromCodePoint(ge),ge){case $:this.state=N,this.openWakaBang="";break;case Pe:this.state=X;break;default:this.state=O}}sDTDOpenWakaBang(){const ge=String.fromCodePoint(this.getCodeNorm()),Ae=this.openWakaBang+=ge;this.text+=ge,Ae!=="-"&&(this.state=Ae==="--"?C:O,this.openWakaBang="")}sDTDComment(){this.captureToChar(re)&&(this.text+="-",this.state=R)}sDTDCommentEnding(){const ge=this.getCodeNorm();this.text+=String.fromCodePoint(ge),this.state=ge===re?F:C}sDTDCommentEnded(){const ge=this.getCodeNorm();this.text+=String.fromCodePoint(ge),ge===Se?this.state=O:(this.fail("malformed comment."),this.state=C)}sDTDPI(){this.captureToChar(Pe)&&(this.text+="?",this.state=oe)}sDTDPIEnding(){const ge=this.getCodeNorm();this.text+=String.fromCodePoint(ge),ge===Se&&(this.state=O)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:ge}=this;const{chunk:Ae}=this;e:for(;;)switch(this.getCode()){case p:this.entity+=`${Ae.slice(ge,this.prevI)}
`,ge=this.i;break;case De:{const{entityReturnState:Ne}=this,Xe=this.entity+Ae.slice(ge,this.prevI);this.state=Ne;let Ze;Xe===""?(this.fail("empty entity name."),Ze="&;"):(Ze=this.parseEntity(Xe),this.entity=""),(Ne!==J||this.textHandler!==void 0)&&(this.text+=Ze);break e}case y:this.entity+=Ae.slice(ge);break e}}sOpenWaka(){const ge=this.getCode();if(i(ge))this.state=pe,this.unget(),this.xmlDeclPossible=!1;else switch(ge){case K:this.state=Fe,this.xmlDeclPossible=!1;break;case $:this.state=Z,this.openWakaBang="",this.xmlDeclPossible=!1;break;case Pe:this.state=A;break;default:this.fail("disallowed character in tag name"),this.state=J,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":!this.sawRoot&&!this.reportedTextBeforeRoot&&(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=W,this.openWakaBang="";break;case"--":this.state=H,this.openWakaBang="";break;case"DOCTYPE":this.state=S,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(re)&&(this.state=de)}sCommentEnding(){var ge;const Ae=this.getCodeNorm();Ae===re?(this.state=he,(ge=this.commentHandler)===null||ge===void 0||ge.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(Ae)}`,this.state=H)}sCommentEnded(){const ge=this.getCodeNorm();ge!==Se?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(ge)}`,this.state=H):this.state=J}sCData(){this.captureToChar(ve)&&(this.state=z)}sCDataEnding(){const ge=this.getCodeNorm();ge===ve?this.state=Q:(this.text+=`]${String.fromCodePoint(ge)}`,this.state=W)}sCDataEnding2(){var ge;const Ae=this.getCodeNorm();switch(Ae){case Se:{(ge=this.cdataHandler)===null||ge===void 0||ge.call(this,this.text),this.text="",this.state=J;break}case ve:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(Ae)}`,this.state=W}}sPIFirstChar(){const ge=this.getCodeNorm();this.nameStartCheck(ge)?(this.piTarget+=String.fromCodePoint(ge),this.state=P):ge===Pe||n(ge)?(this.fail("processing instruction without a target."),this.state=ge===Pe?G:k):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(ge),this.state=P)}sPIRest(){const{chunk:ge,i:Ae}=this;for(;;){const Ne=this.getCodeNorm();if(Ne===y){this.piTarget+=ge.slice(Ae);return}if(!this.nameCheck(Ne)){this.piTarget+=ge.slice(Ae,this.prevI);const Xe=Ne===Pe;Xe||n(Ne)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=Xe?ne:te):this.state=Xe?G:k:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(Ne));break}}}sPIBody(){if(this.text.length===0){const ge=this.getCodeNorm();ge===Pe?this.state=G:n(ge)||(this.text=String.fromCodePoint(ge))}else this.captureToChar(Pe)&&(this.state=G)}sPIEnding(){var ge;const Ae=this.getCodeNorm();if(Ae===Se){const{piTarget:Ne}=this;Ne.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(ge=this.piHandler)===null||ge===void 0||ge.call(this,{target:Ne,body:this.text}),this.piTarget=this.text="",this.state=J}else Ae===Pe?this.text+="?":(this.text+=`?${String.fromCodePoint(Ae)}`,this.state=k);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const ge=this.skipSpaces();if(ge===Pe){this.state=ne;return}ge!==y&&(this.state=E,this.name=String.fromCodePoint(ge))}sXMLDeclName(){const ge=this.captureTo(ce);if(ge===Pe){this.state=ne,this.name+=this.text,this.text="",this.fail("XML declaration is incomplete.");return}if(n(ge)||ge===q){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=ge===q?T:v}}sXMLDeclEq(){const ge=this.getCodeNorm();if(ge===Pe){this.state=ne,this.fail("XML declaration is incomplete.");return}n(ge)||(ge!==q&&this.fail("value required."),this.state=T)}sXMLDeclValueStart(){const ge=this.getCodeNorm();if(ge===Pe){this.state=ne,this.fail("XML declaration is incomplete.");return}n(ge)||(ue(ge)?this.q=ge:(this.fail("value must be quoted."),this.q=x),this.state=L)}sXMLDeclValue(){const ge=this.captureTo([this.q,Pe]);if(ge===Pe){this.state=ne,this.text="",this.fail("XML declaration is incomplete.");return}if(ge===y)return;const Ae=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const Ne=Ae;this.xmlDecl.version=Ne,/^1\.[0-9]+$/.test(Ne)?this.opt.forceXMLVersion||this.setXMLVersion(Ne):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(Ae)||this.fail("encoding value must match 	/^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=Ae;break;case"standalone":Ae!=="yes"&&Ae!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=Ae;break}this.name="",this.state=Y}sXMLDeclSeparator(){const ge=this.getCodeNorm();if(ge===Pe){this.state=ne;return}n(ge)||(this.fail("whitespace required."),this.unget()),this.state=te}sXMLDeclEnding(){var ge;this.getCodeNorm()===Se?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(ge=this.xmldeclHandler)===null||ge===void 0||ge.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=J):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var ge;const Ae=this.captureNameChars();if(Ae===y)return;const Ne=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=Ne.ns=Object.create(null)),(ge=this.openTagStartHandler)===null||ge===void 0||ge.call(this,Ne),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),Ae){case Se:this.openTag();break;case K:this.state=we;break;default:n(Ae)||this.fail("disallowed character in tag name."),this.state=fe}}sOpenTagSlash(){this.getCode()===Se?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=fe)}sAttrib(){const ge=this.skipSpaces();ge!==y&&(i(ge)?(this.unget(),this.state=Re):ge===Se?this.openTag():ge===K?this.state=we:this.fail("disallowed character in attribute name."))}sAttribName(){const ge=this.captureNameChars();ge===q?this.state=Te:n(ge)?this.state=Le:ge===Se?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):ge!==y&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const ge=this.skipSpaces();switch(ge){case y:return;case q:this.state=Te;break;default:this.fail("attribute without value."),this.text="",this.name="",ge===Se?this.openTag():i(ge)?(this.unget(),this.state=Re):(this.fail("disallowed character in attribute name."),this.state=fe)}}sAttribValue(){const ge=this.getCodeNorm();ue(ge)?(this.q=ge,this.state=Ue):n(ge)||(this.fail("unquoted attribute value."),this.state=Ee,this.unget())}sAttribValueQuoted(){const{q:ge,chunk:Ae}=this;let{i:Ne}=this;for(;;)switch(this.getCode()){case ge:this.pushAttrib(this.name,this.text+Ae.slice(Ne,this.prevI)),this.name=this.text="",this.q=null,this.state=_e;return;case ye:this.text+=Ae.slice(Ne,this.prevI),this.state=le,this.entityReturnState=Ue;return;case ze:case p:case Me:this.text+=`${Ae.slice(Ne,this.prevI)} `,Ne=this.i;break;case qe:this.text+=Ae.slice(Ne,this.prevI),this.fail("disallowed character.");return;case y:this.text+=Ae.slice(Ne);return}}sAttribValueClosed(){const ge=this.getCodeNorm();n(ge)?this.state=fe:ge===Se?this.openTag():ge===K?this.state=we:i(ge)?(this.fail("no whitespace between attributes."),this.unget(),this.state=Re):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const ge=this.captureTo(me);switch(ge){case ye:this.state=le,this.entityReturnState=Ee;break;case qe:this.fail("disallowed character.");break;case y:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",ge===Se?this.openTag():this.state=fe}}sCloseTag(){const ge=this.captureNameChars();ge===Se?this.closeTag():n(ge)?this.state=je:ge!==y&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case Se:this.closeTag();break;case y:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:ge,forbiddenState:Ae}=this;const{chunk:Ne,textHandler:Xe}=this;e:for(;;)switch(this.getCode()){case qe:{if(this.state=ae,Xe!==void 0){const{text:Ze}=this,rt=Ne.slice(ge,this.prevI);Ze.length!==0?(Xe(Ze+rt),this.text=""):rt.length!==0&&Xe(rt)}Ae=Ve;break e}case ye:this.state=le,this.entityReturnState=J,Xe!==void 0&&(this.text+=Ne.slice(ge,this.prevI)),Ae=Ve;break e;case ve:switch(Ae){case Ve:Ae=Ke;break;case Ke:Ae=Ge;break;case Ge:break;default:throw new Error("impossible state")}break;case Se:Ae===Ge&&this.fail('the string "]]>" is disallowed in char data.'),Ae=Ve;break;case p:Xe!==void 0&&(this.text+=`${Ne.slice(ge,this.prevI)}
`),ge=this.i,Ae=Ve;break;case y:Xe!==void 0&&(this.text+=Ne.slice(ge));break e;default:Ae=Ve}this.forbiddenState=Ae}handleTextOutsideRoot(){let{i:ge}=this;const{chunk:Ae,textHandler:Ne}=this;let Xe=!1;e:for(;;){const Ze=this.getCode();switch(Ze){case qe:{if(this.state=ae,Ne!==void 0){const{text:rt}=this,Ot=Ae.slice(ge,this.prevI);rt.length!==0?(Ne(rt+Ot),this.text=""):Ot.length!==0&&Ne(Ot)}break e}case ye:this.state=le,this.entityReturnState=J,Ne!==void 0&&(this.text+=Ae.slice(ge,this.prevI)),Xe=!0;break e;case p:Ne!==void 0&&(this.text+=`${Ae.slice(ge,this.prevI)}
`),ge=this.i;break;case y:Ne!==void 0&&(this.text+=Ae.slice(ge));break e;default:n(Ze)||(Xe=!0)}}Xe&&(!this.sawRoot&&!this.reportedTextBeforeRoot&&(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(ge,Ae){var Ne;const{prefix:Xe,local:Ze}=this.qname(ge),rt={name:ge,prefix:Xe,local:Ze,value:Ae};if(this.attribList.push(rt),(Ne=this.attributeHandler)===null||Ne===void 0||Ne.call(this,rt),Xe==="xmlns"){const Ot=Ae.trim();this.currentXMLVersion==="1.0"&&Ot===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[Ze]=Ot,be(this,Ze,Ot)}else if(ge==="xmlns"){const Ot=Ae.trim();this.topNS[""]=Ot,be(this,"",Ot)}}pushAttribPlain(ge,Ae){var Ne;const Xe={name:ge,value:Ae};this.attribList.push(Xe),(Ne=this.attributeHandler)===null||Ne===void 0||Ne.call(this,Xe)}end(){var ge,Ae;this.sawRoot||this.fail("document must contain a root element.");const{tags:Ne}=this;for(;Ne.length>0;){const Ze=Ne.pop();this.fail(`unclosed tag: ${Ze.name}`)}this.state!==g&&this.state!==J&&this.fail("unexpected end.");const{text:Xe}=this;return Xe.length!==0&&((ge=this.textHandler)===null||ge===void 0||ge.call(this,Xe),this.text=""),this._closed=!0,(Ae=this.endHandler)===null||Ae===void 0||Ae.call(this),this._init(),this}resolve(ge){var Ae,Ne;let Xe=this.topNS[ge];if(Xe!==void 0)return Xe;const{tags:Ze}=this;for(let rt=Ze.length-1;rt>=0;rt--)if(Xe=Ze[rt].ns[ge],Xe!==void 0)return Xe;return Xe=this.ns[ge],Xe!==void 0?Xe:(Ne=(Ae=this.opt).resolvePrefix)===null||Ne===void 0?void 0:Ne.call(Ae,ge)}qname(ge){const Ae=ge.indexOf(":");if(Ae===-1)return{prefix:"",local:ge};const Ne=ge.slice(Ae+1),Xe=ge.slice(0,Ae);return(Xe===""||Ne===""||Ne.includes(":"))&&this.fail(`malformed name: ${ge}.`),{prefix:Xe,local:Ne}}processAttribsNS(){var ge;const{attribList:Ae}=this,Ne=this.tag;{const{prefix:rt,local:Ot}=this.qname(Ne.name);Ne.prefix=rt,Ne.local=Ot;const Hr=Ne.uri=(ge=this.resolve(rt))!==null&&ge!==void 0?ge:"";rt!==""&&(rt==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),Hr===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(rt)}.`),Ne.uri=rt))}if(Ae.length===0)return;const{attributes:Xe}=Ne,Ze=new Set;for(const rt of Ae){const{name:Ot,prefix:Hr,local:sb}=rt;let Cn,Nt;Hr===""?(Cn=Ot==="xmlns"?m:"",Nt=Ot):(Cn=this.resolve(Hr),Cn===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(Hr)}.`),Cn=Hr),Nt=`{${Cn}}${sb}`),Ze.has(Nt)&&this.fail(`duplicate attribute: ${Nt}.`),Ze.add(Nt),rt.uri=Cn,Xe[Ot]=rt}this.attribList=[]}processAttribsPlain(){const{attribList:ge}=this,Ae=this.tag.attributes;for(const{name:Ne,value:Xe}of ge)Ae[Ne]!==void 0&&this.fail(`duplicate attribute: ${Ne}.`),Ae[Ne]=Xe;this.attribList=[]}openTag(){var ge;this.processAttribs();const{tags:Ae}=this,Ne=this.tag;Ne.isSelfClosing=!1,(ge=this.openTagHandler)===null||ge===void 0||ge.call(this,Ne),Ae.push(Ne),this.state=J,this.name=""}openSelfClosingTag(){var ge,Ae,Ne;this.processAttribs();const{tags:Xe}=this,Ze=this.tag;Ze.isSelfClosing=!0,(ge=this.openTagHandler)===null||ge===void 0||ge.call(this,Ze),(Ae=this.closeTagHandler)===null||Ae===void 0||Ae.call(this,Ze),(this.tag=(Ne=Xe[Xe.length-1])!==null&&Ne!==void 0?Ne:null)===null&&(this.closedRoot=!0),this.state=J,this.name=""}closeTag(){const{tags:ge,name:Ae}=this;if(this.state=J,this.name="",Ae===""){this.fail("weird empty close tag."),this.text+="</>";return}const Ne=this.closeTagHandler;let Xe=ge.length;for(;Xe-- >0;){const Ze=this.tag=ge.pop();if(this.topNS=Ze.ns,Ne==null||Ne(Ze),Ze.name===Ae)break;this.fail("unexpected close tag.")}Xe===0?this.closedRoot=!0:Xe<0&&(this.fail(`unmatched closing tag: ${Ae}.`),this.text+=`</${Ae}>`)}parseEntity(ge){if(ge[0]!=="#"){const Ne=this.ENTITIES[ge];return Ne!==void 0?Ne:(this.fail(this.isName(ge)?"undefined entity.":"disallowed character in entity name."),`&${ge};`)}let Ae=NaN;return ge[1]==="x"&&/^#x[0-9a-f]+$/i.test(ge)?Ae=parseInt(ge.slice(2),16):/^#[0-9]+$/.test(ge)&&(Ae=parseInt(ge.slice(1),10)),this.isChar(Ae)?String.fromCodePoint(Ae):(this.fail("malformed character entity."),`&${ge};`)}}return Yn.SaxesParser=St,Yn}var Es={},UR;function rF(){if(UR)return Es;UR=1,Object.defineProperty(Es,"__esModule",{value:!0}),Es.ParseError=void 0;let t=class extends Error{constructor(r,n){const a=r.saxParser;super(r.trackPosition?`Line ${a.line} column ${a.column+1}: ${n}`:n)}};return Es.ParseError=t,Es}var Ss={},Sg={},HR;function nF(){return HR||(HR=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateIri=t.IriValidationStrategy=void 0;function e(){const o="[!$&'()*+,;=]",f="%[a-fA-F0-9]{2}",u="([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",l=`${u}\\.${u}\\.${u}\\.${u}`,d="[a-fA-F0-9]{1,4}",c=`(${d}:${d}|${l})`,h=`((${d}:){6}${c}|::(${d}:){5}${c}|(${d})?::(${d}:){4}${c}|((${d}:){0,1}${d})?::(${d}:){3}${c}|((${d}:){0,2}${d})?::(${d}:){2}${c}|((${d}:){0,3}${d})?::${d}:${c}|((${d}:){0,4}${d})?::${c}|((${d}:){0,5}${d})?::${d}|((${d}:){0,6}${d})?::)`,m=`v[a-fA-F0-9]+\\.(${o}|${o}|":)+`,_=`\\[(${h}|${m})\\]`,b="[0-9]*",y="[a-zA-Z][a-zA-Z0-9+\\-.]*",g="[---]",I="[a-zA-Z0-9\\-._~-----------------]",O=`(${I}|${f}|${o}|[:@])*`,M=`(${O}|[\\/?])*`,D=`(${O}|${g}|[\\/?])*`,N=`(${O})+`,C=`(${O})*`,R="",F=`${N}(\\/${C})*`,X=`\\/(${N}(\\/${C})*)?`,oe=`(\\/${C})*`,J=`(${I}|${f}|${o})*`,le=`(${_}|${l}|${J})`,H=`(\\/\\/${`(${`(${I}|${f}|${o}|:)*`}@)?${le}(:${b})?`}${oe}|${X}|${F}|${R})`,de=`^${y}:${H}(\\?${D})?(#${M})?$`;return new RegExp(de,"u")}const r=e(),n=/^[A-Za-z][\d+-.A-Za-z]*:[^\u0000-\u0020"<>\\^`{|}]*$/u;var a;(function(s){s.Strict="strict",s.Pragmatic="pragmatic",s.None="none"})(a=t.IriValidationStrategy||(t.IriValidationStrategy={}));function i(s,o=a.Strict){switch(o){case a.Strict:return r.test(s)?void 0:new Error(`Invalid IRI according to RFC 3987: '${s}'`);case a.Pragmatic:return n.test(s)?void 0:new Error(`Invalid IRI according to RDF Turtle: '${s}'`);case a.None:return;default:return new Error(`Not supported validation strategy "${o}"`)}}t.validateIri=i}(Sg)),Sg}var VR;function iF(){return VR||(VR=1,function(t){var e=Ss.__createBinding||(Object.create?function(n,a,i,s){s===void 0&&(s=i);var o=Object.getOwnPropertyDescriptor(a,i);(!o||("get"in o?!a.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,s,o)}:function(n,a,i,s){s===void 0&&(s=i),n[s]=a[i]}),r=Ss.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&e(a,n,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(nF(),t)}(Ss)),Ss}var GR;function aF(){if(GR)return Jn;GR=1,Object.defineProperty(Jn,"__esModule",{value:!0}),Jn.ParseType=Jn.RdfXmlParser=void 0;const t=vr(),e=tF(),r=Tr(),n=rF(),a=Pt(),i=iF();let s=class _t extends r.Transform{constructor(u){super({readableObjectMode:!0}),this.activeTagStack=[],this.nodeIds={},u&&(Object.assign(this,u),this.options=u),this.dataFactory||(this.dataFactory=new a.DataFactory),this.baseIRI||(this.baseIRI=""),this.defaultGraph||(this.defaultGraph=this.dataFactory.defaultGraph()),this.validateUri!==!1&&(this.validateUri=!0),this.iriValidationStrategy||(this.iriValidationStrategy=this.validateUri?i.IriValidationStrategy.Pragmatic:i.IriValidationStrategy.None),this.saxParser=new e.SaxesParser({xmlns:!0,position:this.trackPosition}),this.attachSaxListeners()}import(u){const l=new r.PassThrough({readableObjectMode:!0});u.on("error",c=>d.emit("error",c)),u.on("data",c=>l.push(c)),u.on("end",()=>l.push(null));const d=l.pipe(new _t(this.options));return d}_transform(u,l,d){try{this.saxParser.write(u)}catch(c){return d(c)}d()}newParseError(u){return new n.ParseError(this,u)}valueToUri(u,l){return this.uriToNamedNode((0,t.resolve)(u,l.baseIRI))}uriToNamedNode(u){const l=(0,i.validateIri)(u,this.iriValidationStrategy);if(l instanceof Error)throw this.newParseError(l.message);return this.dataFactory.namedNode(u)}validateNcname(u){if(!_t.NCNAME_MATCHER.test(u))throw this.newParseError(`Not a valid NCName: ${u}`)}attachSaxListeners(){this.saxParser.on("error",u=>this.emit("error",u)),this.saxParser.on("opentag",this.onTag.bind(this)),this.saxParser.on("text",this.onText.bind(this)),this.saxParser.on("cdata",this.onText.bind(this)),this.saxParser.on("closetag",this.onCloseTag.bind(this)),this.saxParser.on("doctype",this.onDoctype.bind(this))}onTag(u){const l=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;let d=o.RESOURCE;if(l&&(l.hadChildren=!0,d=l.childrenParseType),l&&l.childrenStringTags){const h=u.name;let m="";for(const p in u.attributes)m+=` ${p}="${u.attributes[p].value}"`;const b=`<${`${h}${m}`}>`;l.childrenStringTags.push(b);const y={childrenStringTags:l.childrenStringTags};y.childrenStringEmitClosingTag=`</${h}>`,this.activeTagStack.push(y);return}const c={};l?(c.language=l.language,c.baseIRI=l.baseIRI):c.baseIRI=this.baseIRI,this.activeTagStack.push(c),d===o.RESOURCE?this.onTagResource(u,c,l,!l):this.onTagProperty(u,c,l)}onTagResource(u,l,d,c){l.childrenParseType=o.PROPERTY;let h=!0;if(u.uri===_t.RDF){if(!c&&_t.FORBIDDEN_NODE_ELEMENTS.indexOf(u.local)>=0)throw this.newParseError(`Illegal node element name: ${u.local}`);switch(u.local){case"RDF":l.childrenParseType=o.RESOURCE;case"Description":h=!1}}const m=[],_=[];let b=null,y=!1,p=!1,g=null;for(const w in u.attributes){const S=u.attributes[w];if(d&&S.uri===_t.RDF)switch(S.local){case"about":if(b)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${S.value} and ${b} where found.`);b=S.value;continue;case"ID":if(b)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${S.value} and ${b} where found.`);this.validateNcname(S.value),b="#"+S.value,y=!0;continue;case"nodeID":if(b)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${S.value} and ${b} where found.`);this.validateNcname(S.value),b=S.value,p=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"type":g=S.value;continue;case"aboutEach":throw this.newParseError("rdf:aboutEach is not supported.");case"aboutEachPrefix":throw this.newParseError("rdf:aboutEachPrefix is not supported.");case"li":throw this.newParseError("rdf:li on node elements are not supported.")}else if(S.uri===_t.XML){if(S.local==="lang"){l.language=S.value===""?null:S.value.toLowerCase();continue}else if(S.local==="base"){l.baseIRI=(0,t.resolve)(S.value,l.baseIRI);continue}}S.prefix!=="xml"&&S.prefix!=="xmlns"&&(S.prefix!==""||S.local!=="xmlns")&&S.uri&&(m.push(this.uriToNamedNode(S.uri+S.local)),_.push(S.value))}if(b!==null&&(l.subject=p?this.dataFactory.blankNode(b):this.valueToUri(b,l),y&&this.claimNodeId(l.subject)),l.subject||(l.subject=this.dataFactory.blankNode()),h){const w=this.uriToNamedNode(u.uri+u.local);this.emitTriple(l.subject,this.dataFactory.namedNode(_t.RDF+"type"),w,d?d.reifiedStatementId:null)}if(d){if(d.predicate)if(d.childrenCollectionSubject){const w=this.dataFactory.blankNode();this.emitTriple(d.childrenCollectionSubject,d.childrenCollectionPredicate,w,d.reifiedStatementId),this.emitTriple(w,this.dataFactory.namedNode(_t.RDF+"first"),l.subject,l.reifiedStatementId),d.childrenCollectionSubject=w,d.childrenCollectionPredicate=this.dataFactory.namedNode(_t.RDF+"rest")}else{this.emitTriple(d.subject,d.predicate,l.subject,d.reifiedStatementId);for(let w=0;w<d.predicateSubPredicates.length;w++)this.emitTriple(l.subject,d.predicateSubPredicates[w],d.predicateSubObjects[w],null);d.predicateSubPredicates=[],d.predicateSubObjects=[],d.predicateEmitted=!0}for(let w=0;w<m.length;w++){const S=this.dataFactory.literal(_[w],l.datatype||l.language);this.emitTriple(l.subject,m[w],S,d.reifiedStatementId)}g&&this.emitTriple(l.subject,this.dataFactory.namedNode(_t.RDF+"type"),this.uriToNamedNode(g),null)}}onTagProperty(u,l,d){if(l.childrenParseType=o.RESOURCE,l.subject=d.subject,u.uri===_t.RDF&&u.local==="li"?(d.listItemCounter||(d.listItemCounter=1),l.predicate=this.uriToNamedNode(u.uri+"_"+d.listItemCounter++)):l.predicate=this.uriToNamedNode(u.uri+u.local),u.uri===_t.RDF&&_t.FORBIDDEN_PROPERTY_ELEMENTS.indexOf(u.local)>=0)throw this.newParseError(`Illegal property element name: ${u.local}`);l.predicateSubPredicates=[],l.predicateSubObjects=[];let c=!1,h=!1,m=null,_=!0;const b=[],y=[];for(const p in u.attributes){const g=u.attributes[p];if(g.uri===_t.RDF)switch(g.local){case"resource":if(m)throw this.newParseError(`Found both rdf:resource (${g.value}) and rdf:nodeID (${m}).`);if(c)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:resource (${g.value})`);l.hadChildren=!0,m=g.value,_=!1;continue;case"datatype":if(h)throw this.newParseError(`Found both non-rdf:* property attributes and rdf:datatype (${g.value}).`);if(c)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${g.value})`);l.datatype=this.valueToUri(g.value,l);continue;case"nodeID":if(h)throw this.newParseError(`Found both non-rdf:* property attributes and rdf:nodeID (${g.value}).`);if(l.hadChildren)throw this.newParseError(`Found both rdf:resource and rdf:nodeID (${g.value}).`);if(c)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID (${g.value})`);this.validateNcname(g.value),l.hadChildren=!0,m=g.value,_=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"parseType":if(h)throw this.newParseError("rdf:parseType is not allowed when non-rdf:* property attributes are present");if(l.datatype)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${l.datatype.value})`);if(m)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID or rdf:resource (${m})`);if(g.value==="Resource"){c=!0,l.childrenParseType=o.PROPERTY;const w=this.dataFactory.blankNode();this.emitTriple(l.subject,l.predicate,w,l.reifiedStatementId),l.subject=w,l.predicate=null}else g.value==="Collection"?(c=!0,l.hadChildren=!0,l.childrenCollectionSubject=l.subject,l.childrenCollectionPredicate=l.predicate,_=!1):g.value==="Literal"&&(c=!0,l.childrenTagsToString=!0,l.childrenStringTags=[]);continue;case"ID":this.validateNcname(g.value),l.reifiedStatementId=this.valueToUri("#"+g.value,l),this.claimNodeId(l.reifiedStatementId);continue}else if(g.uri===_t.XML&&g.local==="lang"){l.language=g.value===""?null:g.value.toLowerCase();continue}if(g.prefix!=="xml"&&g.prefix!=="xmlns"&&(g.prefix!==""||g.local!=="xmlns")&&g.uri){if(c||l.datatype)throw this.newParseError(`Found illegal rdf:* properties on property element with attribute: ${g.value}`);l.hadChildren=!0,h=!0,b.push(this.uriToNamedNode(g.uri+g.local)),y.push(this.dataFactory.literal(g.value,l.datatype||l.language))}}if(m!==null){const p=l.subject;l.subject=_?this.dataFactory.blankNode(m):this.valueToUri(m,l),this.emitTriple(p,l.predicate,l.subject,l.reifiedStatementId);for(let g=0;g<b.length;g++)this.emitTriple(l.subject,b[g],y[g],null);l.predicateEmitted=!0}else _&&(l.predicateSubPredicates=b,l.predicateSubObjects=y,l.predicateEmitted=!1)}emitTriple(u,l,d,c){this.push(this.dataFactory.quad(u,l,d,this.defaultGraph)),c&&(this.push(this.dataFactory.quad(c,this.dataFactory.namedNode(_t.RDF+"type"),this.dataFactory.namedNode(_t.RDF+"Statement"),this.defaultGraph)),this.push(this.dataFactory.quad(c,this.dataFactory.namedNode(_t.RDF+"subject"),u,this.defaultGraph)),this.push(this.dataFactory.quad(c,this.dataFactory.namedNode(_t.RDF+"predicate"),l,this.defaultGraph)),this.push(this.dataFactory.quad(c,this.dataFactory.namedNode(_t.RDF+"object"),d,this.defaultGraph)))}claimNodeId(u){if(!this.allowDuplicateRdfIds){if(this.nodeIds[u.value])throw this.newParseError(`Found multiple occurrences of rdf:ID='${u.value}'.`);this.nodeIds[u.value]=!0}}onText(u){const l=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;l&&(l.childrenStringTags?l.childrenStringTags.push(u):l.predicate&&(l.text=u))}onCloseTag(){const u=this.activeTagStack.pop();if(u.childrenStringEmitClosingTag&&u.childrenStringTags.push(u.childrenStringEmitClosingTag),u.childrenTagsToString&&(u.datatype=this.dataFactory.namedNode(_t.RDF+"XMLLiteral"),u.text=u.childrenStringTags.join(""),u.hadChildren=!1),u.childrenCollectionSubject)this.emitTriple(u.childrenCollectionSubject,u.childrenCollectionPredicate,this.dataFactory.namedNode(_t.RDF+"nil"),u.reifiedStatementId);else if(u.predicate){if(!u.hadChildren&&u.childrenParseType!==o.PROPERTY)this.emitTriple(u.subject,u.predicate,this.dataFactory.literal(u.text||"",u.datatype||u.language),u.reifiedStatementId);else if(!u.predicateEmitted){const l=this.dataFactory.blankNode();this.emitTriple(u.subject,u.predicate,l,u.reifiedStatementId);for(let d=0;d<u.predicateSubPredicates.length;d++)this.emitTriple(l,u.predicateSubPredicates[d],u.predicateSubObjects[d],null)}}}onDoctype(u){u.replace(/<!ENTITY\s+([^\s]+)\s+["']([^"']+)["']\s*>/g,(l,d,c)=>(this.saxParser.ENTITIES[d]=c,""))}};Jn.RdfXmlParser=s,s.MIME_TYPE="application/rdf+xml",s.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",s.XML="http://www.w3.org/XML/1998/namespace",s.FORBIDDEN_NODE_ELEMENTS=["RDF","ID","about","bagID","parseType","resource","nodeID","li","aboutEach","aboutEachPrefix"],s.FORBIDDEN_PROPERTY_ELEMENTS=["Description","RDF","ID","about","bagID","parseType","resource","nodeID","aboutEach","aboutEachPrefix"],s.NCNAME_MATCHER=/^([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_])([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_\-.0-9#xB7\u{0300}-\u{036F}\u{203F}-\u{2040}])*$/u;var o;return function(f){f[f.RESOURCE=0]="RESOURCE",f[f.PROPERTY=1]="PROPERTY"}(o||(Jn.ParseType=o={})),Jn}var zR;function oF(){return zR||(zR=1,function(t){var e=vs.__createBinding||(Object.create?function(n,a,i,s){s===void 0&&(s=i);var o=Object.getOwnPropertyDescriptor(a,i);(!o||("get"in o?!a.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,s,o)}:function(n,a,i,s){s===void 0&&(s=i),n[s]=a[i]}),r=vs.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&e(a,n,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(aF(),t)}(vs)),vs}var WR;function sF(){if(WR)return _s;WR=1,Object.defineProperty(_s,"__esModule",{value:!0}),_s.ActorRdfParseRdfXml=void 0;const t=Xi(),e=Or(),r=oF();let n=class extends t.ActorRdfParseFixedMediaTypes{constructor(i){super(i)}async runHandle(i){var f;const s=i.context.getSafe(e.KeysInitQuery.dataFactory);i.data.on("error",u=>o.emit("error",u));const o=i.data.pipe(new r.RdfXmlParser({dataFactory:s,baseIRI:(f=i.metadata)==null?void 0:f.baseIRI}));return{data:o,metadata:{triples:!0}}}};return _s.ActorRdfParseRdfXml=n,_s}var KR;function uF(){return KR||(KR=1,function(t){var e=ms.__createBinding||(Object.create?function(n,a,i,s){s===void 0&&(s=i);var o=Object.getOwnPropertyDescriptor(a,i);(!o||("get"in o?!a.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,s,o)}:function(n,a,i,s){s===void 0&&(s=i),n[s]=a[i]}),r=ms.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&e(a,n,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(sF(),t)}(ms)),ms}var Ts={},xs={},Rs={},Tg={},QR;function fF(){return QR||(QR=1,Object.defineProperty(Tg,"__esModule",{value:!0})),Tg}var xg={},XR;function lF(){return XR||(XR=1,Object.defineProperty(xg,"__esModule",{value:!0})),xg}var Rg={},ZR;function cF(){return ZR||(ZR=1,Object.defineProperty(Rg,"__esModule",{value:!0})),Rg}var Is={},ei={},xn={},Ig={},ti={},Il={},JR;function dF(){return JR||(JR=1,Object.defineProperty(Il,"__esModule",{value:!0}),Il.default=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(function(t){return t.charCodeAt(0)}))),Il}var Al={},YR;function hF(){return YR||(YR=1,Object.defineProperty(Al,"__esModule",{value:!0}),Al.default=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(function(t){return t.charCodeAt(0)}))),Al}var Ag={},eI;function tI(){return eI||(eI=1,function(t){var e;Object.defineProperty(t,"__esModule",{value:!0}),t.replaceCodePoint=t.fromCodePoint=void 0;var r=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);t.fromCodePoint=(e=String.fromCodePoint)!==null&&e!==void 0?e:function(i){var s="";return i>65535&&(i-=65536,s+=String.fromCharCode(i>>>10&1023|55296),i=56320|i&1023),s+=String.fromCharCode(i),s};function n(i){var s;return i>=55296&&i<=57343||i>1114111?65533:(s=r.get(i))!==null&&s!==void 0?s:i}t.replaceCodePoint=n;function a(i){return(0,t.fromCodePoint)(n(i))}t.default=a}(Ag)),Ag}var rI;function Rn(){return rI||(rI=1,function(t){var e=ti.__createBinding||(Object.create?function(C,R,F,X){X===void 0&&(X=F);var oe=Object.getOwnPropertyDescriptor(R,F);(!oe||("get"in oe?!R.__esModule:oe.writable||oe.configurable))&&(oe={enumerable:!0,get:function(){return R[F]}}),Object.defineProperty(C,X,oe)}:function(C,R,F,X){X===void 0&&(X=F),C[X]=R[F]}),r=ti.__setModuleDefault||(Object.create?function(C,R){Object.defineProperty(C,"default",{enumerable:!0,value:R})}:function(C,R){C.default=R}),n=ti.__importStar||function(C){if(C&&C.__esModule)return C;var R={};if(C!=null)for(var F in C)F!=="default"&&Object.prototype.hasOwnProperty.call(C,F)&&e(R,C,F);return r(R,C),R},a=ti.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(t,"__esModule",{value:!0}),t.decodeXML=t.decodeHTMLStrict=t.decodeHTMLAttribute=t.decodeHTML=t.determineBranch=t.EntityDecoder=t.DecodingMode=t.BinTrieFlags=t.fromCodePoint=t.replaceCodePoint=t.decodeCodePoint=t.xmlDecodeTree=t.htmlDecodeTree=void 0;var i=a(dF());t.htmlDecodeTree=i.default;var s=a(hF());t.xmlDecodeTree=s.default;var o=n(tI());t.decodeCodePoint=o.default;var f=tI();Object.defineProperty(t,"replaceCodePoint",{enumerable:!0,get:function(){return f.replaceCodePoint}}),Object.defineProperty(t,"fromCodePoint",{enumerable:!0,get:function(){return f.fromCodePoint}});var u;(function(C){C[C.NUM=35]="NUM",C[C.SEMI=59]="SEMI",C[C.EQUALS=61]="EQUALS",C[C.ZERO=48]="ZERO",C[C.NINE=57]="NINE",C[C.LOWER_A=97]="LOWER_A",C[C.LOWER_F=102]="LOWER_F",C[C.LOWER_X=120]="LOWER_X",C[C.LOWER_Z=122]="LOWER_Z",C[C.UPPER_A=65]="UPPER_A",C[C.UPPER_F=70]="UPPER_F",C[C.UPPER_Z=90]="UPPER_Z"})(u||(u={}));var l=32,d;(function(C){C[C.VALUE_LENGTH=49152]="VALUE_LENGTH",C[C.BRANCH_LENGTH=16256]="BRANCH_LENGTH",C[C.JUMP_TABLE=127]="JUMP_TABLE"})(d=t.BinTrieFlags||(t.BinTrieFlags={}));function c(C){return C>=u.ZERO&&C<=u.NINE}function h(C){return C>=u.UPPER_A&&C<=u.UPPER_F||C>=u.LOWER_A&&C<=u.LOWER_F}function m(C){return C>=u.UPPER_A&&C<=u.UPPER_Z||C>=u.LOWER_A&&C<=u.LOWER_Z||c(C)}function _(C){return C===u.EQUALS||m(C)}var b;(function(C){C[C.EntityStart=0]="EntityStart",C[C.NumericStart=1]="NumericStart",C[C.NumericDecimal=2]="NumericDecimal",C[C.NumericHex=3]="NumericHex",C[C.NamedEntity=4]="NamedEntity"})(b||(b={}));var y;(function(C){C[C.Legacy=0]="Legacy",C[C.Strict=1]="Strict",C[C.Attribute=2]="Attribute"})(y=t.DecodingMode||(t.DecodingMode={}));var p=function(){function C(R,F,X){this.decodeTree=R,this.emitCodePoint=F,this.errors=X,this.state=b.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=y.Strict}return C.prototype.startEntity=function(R){this.decodeMode=R,this.state=b.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1},C.prototype.write=function(R,F){switch(this.state){case b.EntityStart:return R.charCodeAt(F)===u.NUM?(this.state=b.NumericStart,this.consumed+=1,this.stateNumericStart(R,F+1)):(this.state=b.NamedEntity,this.stateNamedEntity(R,F));case b.NumericStart:return this.stateNumericStart(R,F);case b.NumericDecimal:return this.stateNumericDecimal(R,F);case b.NumericHex:return this.stateNumericHex(R,F);case b.NamedEntity:return this.stateNamedEntity(R,F)}},C.prototype.stateNumericStart=function(R,F){return F>=R.length?-1:(R.charCodeAt(F)|l)===u.LOWER_X?(this.state=b.NumericHex,this.consumed+=1,this.stateNumericHex(R,F+1)):(this.state=b.NumericDecimal,this.stateNumericDecimal(R,F))},C.prototype.addToNumericResult=function(R,F,X,oe){if(F!==X){var J=X-F;this.result=this.result*Math.pow(oe,J)+parseInt(R.substr(F,J),oe),this.consumed+=J}},C.prototype.stateNumericHex=function(R,F){for(var X=F;F<R.length;){var oe=R.charCodeAt(F);if(c(oe)||h(oe))F+=1;else return this.addToNumericResult(R,X,F,16),this.emitNumericEntity(oe,3)}return this.addToNumericResult(R,X,F,16),-1},C.prototype.stateNumericDecimal=function(R,F){for(var X=F;F<R.length;){var oe=R.charCodeAt(F);if(c(oe))F+=1;else return this.addToNumericResult(R,X,F,10),this.emitNumericEntity(oe,2)}return this.addToNumericResult(R,X,F,10),-1},C.prototype.emitNumericEntity=function(R,F){var X;if(this.consumed<=F)return(X=this.errors)===null||X===void 0||X.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(R===u.SEMI)this.consumed+=1;else if(this.decodeMode===y.Strict)return 0;return this.emitCodePoint((0,o.replaceCodePoint)(this.result),this.consumed),this.errors&&(R!==u.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed},C.prototype.stateNamedEntity=function(R,F){for(var X=this.decodeTree,oe=X[this.treeIndex],J=(oe&d.VALUE_LENGTH)>>14;F<R.length;F++,this.excess++){var le=R.charCodeAt(F);if(this.treeIndex=w(X,oe,this.treeIndex+Math.max(1,J),le),this.treeIndex<0)return this.result===0||this.decodeMode===y.Attribute&&(J===0||_(le))?0:this.emitNotTerminatedNamedEntity();if(oe=X[this.treeIndex],J=(oe&d.VALUE_LENGTH)>>14,J!==0){if(le===u.SEMI)return this.emitNamedEntityData(this.treeIndex,J,this.consumed+this.excess);this.decodeMode!==y.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1},C.prototype.emitNotTerminatedNamedEntity=function(){var R,F=this,X=F.result,oe=F.decodeTree,J=(oe[X]&d.VALUE_LENGTH)>>14;return this.emitNamedEntityData(X,J,this.consumed),(R=this.errors)===null||R===void 0||R.missingSemicolonAfterCharacterReference(),this.consumed},C.prototype.emitNamedEntityData=function(R,F,X){var oe=this.decodeTree;return this.emitCodePoint(F===1?oe[R]&~d.VALUE_LENGTH:oe[R+1],X),F===3&&this.emitCodePoint(oe[R+2],X),X},C.prototype.end=function(){var R;switch(this.state){case b.NamedEntity:return this.result!==0&&(this.decodeMode!==y.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case b.NumericDecimal:return this.emitNumericEntity(0,2);case b.NumericHex:return this.emitNumericEntity(0,3);case b.NumericStart:return(R=this.errors)===null||R===void 0||R.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case b.EntityStart:return 0}},C}();t.EntityDecoder=p;function g(C){var R="",F=new p(C,function(X){return R+=(0,o.fromCodePoint)(X)});return function(oe,J){for(var le=0,ae=0;(ae=oe.indexOf("&",ae))>=0;){R+=oe.slice(le,ae),F.startEntity(J);var Z=F.write(oe,ae+1);if(Z<0){le=ae+F.end();break}le=ae+Z,ae=Z===0?le+1:le}var H=R+oe.slice(le);return R="",H}}function w(C,R,F,X){var oe=(R&d.BRANCH_LENGTH)>>7,J=R&d.JUMP_TABLE;if(oe===0)return J!==0&&X===J?F:-1;if(J){var le=X-J;return le<0||le>=oe?-1:C[F+le]-1}for(var ae=F,Z=ae+oe-1;ae<=Z;){var H=ae+Z>>>1,de=C[H];if(de<X)ae=H+1;else if(de>X)Z=H-1;else return C[H+oe]}return-1}t.determineBranch=w;var S=g(i.default),I=g(s.default);function O(C,R){return R===void 0&&(R=y.Legacy),S(C,R)}t.decodeHTML=O;function M(C){return S(C,y.Attribute)}t.decodeHTMLAttribute=M;function D(C){return S(C,y.Strict)}t.decodeHTMLStrict=D;function N(C){return I(C,y.Strict)}t.decodeXML=N}(ti)),ti}var nI;function iI(){return nI||(nI=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.QuoteType=void 0;var e=Rn(),r;(function(c){c[c.Tab=9]="Tab",c[c.NewLine=10]="NewLine",c[c.FormFeed=12]="FormFeed",c[c.CarriageReturn=13]="CarriageReturn",c[c.Space=32]="Space",c[c.ExclamationMark=33]="ExclamationMark",c[c.Number=35]="Number",c[c.Amp=38]="Amp",c[c.SingleQuote=39]="SingleQuote",c[c.DoubleQuote=34]="DoubleQuote",c[c.Dash=45]="Dash",c[c.Slash=47]="Slash",c[c.Zero=48]="Zero",c[c.Nine=57]="Nine",c[c.Semi=59]="Semi",c[c.Lt=60]="Lt",c[c.Eq=61]="Eq",c[c.Gt=62]="Gt",c[c.Questionmark=63]="Questionmark",c[c.UpperA=65]="UpperA",c[c.LowerA=97]="LowerA",c[c.UpperF=70]="UpperF",c[c.LowerF=102]="LowerF",c[c.UpperZ=90]="UpperZ",c[c.LowerZ=122]="LowerZ",c[c.LowerX=120]="LowerX",c[c.OpeningSquareBracket=91]="OpeningSquareBracket"})(r||(r={}));var n;(function(c){c[c.Text=1]="Text",c[c.BeforeTagName=2]="BeforeTagName",c[c.InTagName=3]="InTagName",c[c.InSelfClosingTag=4]="InSelfClosingTag",c[c.BeforeClosingTagName=5]="BeforeClosingTagName",c[c.InClosingTagName=6]="InClosingTagName",c[c.AfterClosingTagName=7]="AfterClosingTagName",c[c.BeforeAttributeName=8]="BeforeAttributeName",c[c.InAttributeName=9]="InAttributeName",c[c.AfterAttributeName=10]="AfterAttributeName",c[c.BeforeAttributeValue=11]="BeforeAttributeValue",c[c.InAttributeValueDq=12]="InAttributeValueDq",c[c.InAttributeValueSq=13]="InAttributeValueSq",c[c.InAttributeValueNq=14]="InAttributeValueNq",c[c.BeforeDeclaration=15]="BeforeDeclaration",c[c.InDeclaration=16]="InDeclaration",c[c.InProcessingInstruction=17]="InProcessingInstruction",c[c.BeforeComment=18]="BeforeComment",c[c.CDATASequence=19]="CDATASequence",c[c.InSpecialComment=20]="InSpecialComment",c[c.InCommentLike=21]="InCommentLike",c[c.BeforeSpecialS=22]="BeforeSpecialS",c[c.SpecialStartSequence=23]="SpecialStartSequence",c[c.InSpecialTag=24]="InSpecialTag",c[c.BeforeEntity=25]="BeforeEntity",c[c.BeforeNumericEntity=26]="BeforeNumericEntity",c[c.InNamedEntity=27]="InNamedEntity",c[c.InNumericEntity=28]="InNumericEntity",c[c.InHexEntity=29]="InHexEntity"})(n||(n={}));function a(c){return c===r.Space||c===r.NewLine||c===r.Tab||c===r.FormFeed||c===r.CarriageReturn}function i(c){return c===r.Slash||c===r.Gt||a(c)}function s(c){return c>=r.Zero&&c<=r.Nine}function o(c){return c>=r.LowerA&&c<=r.LowerZ||c>=r.UpperA&&c<=r.UpperZ}function f(c){return c>=r.UpperA&&c<=r.UpperF||c>=r.LowerA&&c<=r.LowerF}var u;(function(c){c[c.NoValue=0]="NoValue",c[c.Unquoted=1]="Unquoted",c[c.Single=2]="Single",c[c.Double=3]="Double"})(u=t.QuoteType||(t.QuoteType={}));var l={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101])},d=function(){function c(h,m){var _=h.xmlMode,b=_===void 0?!1:_,y=h.decodeEntities,p=y===void 0?!0:y;this.cbs=m,this.state=n.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=n.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.trieIndex=0,this.trieCurrent=0,this.entityResult=0,this.entityExcess=0,this.xmlMode=b,this.decodeEntities=p,this.entityTrie=b?e.xmlDecodeTree:e.htmlDecodeTree}return c.prototype.reset=function(){this.state=n.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=n.Text,this.currentSequence=void 0,this.running=!0,this.offset=0},c.prototype.write=function(h){this.offset+=this.buffer.length,this.buffer=h,this.parse()},c.prototype.end=function(){this.running&&this.finish()},c.prototype.pause=function(){this.running=!1},c.prototype.resume=function(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()},c.prototype.getIndex=function(){return this.index},c.prototype.getSectionStart=function(){return this.sectionStart},c.prototype.stateText=function(h){h===r.Lt||!this.decodeEntities&&this.fastForwardTo(r.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=n.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&h===r.Amp&&(this.state=n.BeforeEntity)},c.prototype.stateSpecialStartSequence=function(h){var m=this.sequenceIndex===this.currentSequence.length,_=m?i(h):(h|32)===this.currentSequence[this.sequenceIndex];if(!_)this.isSpecial=!1;else if(!m){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=n.InTagName,this.stateInTagName(h)},c.prototype.stateInSpecialTag=function(h){if(this.sequenceIndex===this.currentSequence.length){if(h===r.Gt||a(h)){var m=this.index-this.currentSequence.length;if(this.sectionStart<m){var _=this.index;this.index=m,this.cbs.ontext(this.sectionStart,m),this.index=_}this.isSpecial=!1,this.sectionStart=m+2,this.stateInClosingTagName(h);return}this.sequenceIndex=0}(h|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===l.TitleEnd?this.decodeEntities&&h===r.Amp&&(this.state=n.BeforeEntity):this.fastForwardTo(r.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(h===r.Lt)},c.prototype.stateCDATASequence=function(h){h===l.Cdata[this.sequenceIndex]?++this.sequenceIndex===l.Cdata.length&&(this.state=n.InCommentLike,this.currentSequence=l.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=n.InDeclaration,this.stateInDeclaration(h))},c.prototype.fastForwardTo=function(h){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===h)return!0;return this.index=this.buffer.length+this.offset-1,!1},c.prototype.stateInCommentLike=function(h){h===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===l.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=n.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):h!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)},c.prototype.isTagStartChar=function(h){return this.xmlMode?!i(h):o(h)},c.prototype.startSpecial=function(h,m){this.isSpecial=!0,this.currentSequence=h,this.sequenceIndex=m,this.state=n.SpecialStartSequence},c.prototype.stateBeforeTagName=function(h){if(h===r.ExclamationMark)this.state=n.BeforeDeclaration,this.sectionStart=this.index+1;else if(h===r.Questionmark)this.state=n.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(h)){var m=h|32;this.sectionStart=this.index,!this.xmlMode&&m===l.TitleEnd[2]?this.startSpecial(l.TitleEnd,3):this.state=!this.xmlMode&&m===l.ScriptEnd[2]?n.BeforeSpecialS:n.InTagName}else h===r.Slash?this.state=n.BeforeClosingTagName:(this.state=n.Text,this.stateText(h))},c.prototype.stateInTagName=function(h){i(h)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(h))},c.prototype.stateBeforeClosingTagName=function(h){a(h)||(h===r.Gt?this.state=n.Text:(this.state=this.isTagStartChar(h)?n.InClosingTagName:n.InSpecialComment,this.sectionStart=this.index))},c.prototype.stateInClosingTagName=function(h){(h===r.Gt||a(h))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.AfterClosingTagName,this.stateAfterClosingTagName(h))},c.prototype.stateAfterClosingTagName=function(h){(h===r.Gt||this.fastForwardTo(r.Gt))&&(this.state=n.Text,this.baseState=n.Text,this.sectionStart=this.index+1)},c.prototype.stateBeforeAttributeName=function(h){h===r.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=n.InSpecialTag,this.sequenceIndex=0):this.state=n.Text,this.baseState=this.state,this.sectionStart=this.index+1):h===r.Slash?this.state=n.InSelfClosingTag:a(h)||(this.state=n.InAttributeName,this.sectionStart=this.index)},c.prototype.stateInSelfClosingTag=function(h){h===r.Gt?(this.cbs.onselfclosingtag(this.index),this.state=n.Text,this.baseState=n.Text,this.sectionStart=this.index+1,this.isSpecial=!1):a(h)||(this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(h))},c.prototype.stateInAttributeName=function(h){(h===r.Eq||i(h))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.AfterAttributeName,this.stateAfterAttributeName(h))},c.prototype.stateAfterAttributeName=function(h){h===r.Eq?this.state=n.BeforeAttributeValue:h===r.Slash||h===r.Gt?(this.cbs.onattribend(u.NoValue,this.index),this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(h)):a(h)||(this.cbs.onattribend(u.NoValue,this.index),this.state=n.InAttributeName,this.sectionStart=this.index)},c.prototype.stateBeforeAttributeValue=function(h){h===r.DoubleQuote?(this.state=n.InAttributeValueDq,this.sectionStart=this.index+1):h===r.SingleQuote?(this.state=n.InAttributeValueSq,this.sectionStart=this.index+1):a(h)||(this.sectionStart=this.index,this.state=n.InAttributeValueNq,this.stateInAttributeValueNoQuotes(h))},c.prototype.handleInAttributeValue=function(h,m){h===m||!this.decodeEntities&&this.fastForwardTo(m)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(m===r.DoubleQuote?u.Double:u.Single,this.index),this.state=n.BeforeAttributeName):this.decodeEntities&&h===r.Amp&&(this.baseState=this.state,this.state=n.BeforeEntity)},c.prototype.stateInAttributeValueDoubleQuotes=function(h){this.handleInAttributeValue(h,r.DoubleQuote)},c.prototype.stateInAttributeValueSingleQuotes=function(h){this.handleInAttributeValue(h,r.SingleQuote)},c.prototype.stateInAttributeValueNoQuotes=function(h){a(h)||h===r.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(u.Unquoted,this.index),this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(h)):this.decodeEntities&&h===r.Amp&&(this.baseState=this.state,this.state=n.BeforeEntity)},c.prototype.stateBeforeDeclaration=function(h){h===r.OpeningSquareBracket?(this.state=n.CDATASequence,this.sequenceIndex=0):this.state=h===r.Dash?n.BeforeComment:n.InDeclaration},c.prototype.stateInDeclaration=function(h){(h===r.Gt||this.fastForwardTo(r.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=n.Text,this.sectionStart=this.index+1)},c.prototype.stateInProcessingInstruction=function(h){(h===r.Gt||this.fastForwardTo(r.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=n.Text,this.sectionStart=this.index+1)},c.prototype.stateBeforeComment=function(h){h===r.Dash?(this.state=n.InCommentLike,this.currentSequence=l.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=n.InDeclaration},c.prototype.stateInSpecialComment=function(h){(h===r.Gt||this.fastForwardTo(r.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=n.Text,this.sectionStart=this.index+1)},c.prototype.stateBeforeSpecialS=function(h){var m=h|32;m===l.ScriptEnd[3]?this.startSpecial(l.ScriptEnd,4):m===l.StyleEnd[3]?this.startSpecial(l.StyleEnd,4):(this.state=n.InTagName,this.stateInTagName(h))},c.prototype.stateBeforeEntity=function(h){this.entityExcess=1,this.entityResult=0,h===r.Number?this.state=n.BeforeNumericEntity:h===r.Amp||(this.trieIndex=0,this.trieCurrent=this.entityTrie[0],this.state=n.InNamedEntity,this.stateInNamedEntity(h))},c.prototype.stateInNamedEntity=function(h){if(this.entityExcess+=1,this.trieIndex=(0,e.determineBranch)(this.entityTrie,this.trieCurrent,this.trieIndex+1,h),this.trieIndex<0){this.emitNamedEntity(),this.index--;return}this.trieCurrent=this.entityTrie[this.trieIndex];var m=this.trieCurrent&e.BinTrieFlags.VALUE_LENGTH;if(m){var _=(m>>14)-1;if(!this.allowLegacyEntity()&&h!==r.Semi)this.trieIndex+=_;else{var b=this.index-this.entityExcess+1;b>this.sectionStart&&this.emitPartial(this.sectionStart,b),this.entityResult=this.trieIndex,this.trieIndex+=_,this.entityExcess=0,this.sectionStart=this.index+1,_===0&&this.emitNamedEntity()}}},c.prototype.emitNamedEntity=function(){if(this.state=this.baseState,this.entityResult!==0){var h=(this.entityTrie[this.entityResult]&e.BinTrieFlags.VALUE_LENGTH)>>14;switch(h){case 1:{this.emitCodePoint(this.entityTrie[this.entityResult]&~e.BinTrieFlags.VALUE_LENGTH);break}case 2:{this.emitCodePoint(this.entityTrie[this.entityResult+1]);break}case 3:this.emitCodePoint(this.entityTrie[this.entityResult+1]),this.emitCodePoint(this.entityTrie[this.entityResult+2])}}},c.prototype.stateBeforeNumericEntity=function(h){(h|32)===r.LowerX?(this.entityExcess++,this.state=n.InHexEntity):(this.state=n.InNumericEntity,this.stateInNumericEntity(h))},c.prototype.emitNumericEntity=function(h){var m=this.index-this.entityExcess-1,_=m+2+ +(this.state===n.InHexEntity);_!==this.index&&(m>this.sectionStart&&this.emitPartial(this.sectionStart,m),this.sectionStart=this.index+Number(h),this.emitCodePoint((0,e.replaceCodePoint)(this.entityResult))),this.state=this.baseState},c.prototype.stateInNumericEntity=function(h){h===r.Semi?this.emitNumericEntity(!0):s(h)?(this.entityResult=this.entityResult*10+(h-r.Zero),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},c.prototype.stateInHexEntity=function(h){h===r.Semi?this.emitNumericEntity(!0):s(h)?(this.entityResult=this.entityResult*16+(h-r.Zero),this.entityExcess++):f(h)?(this.entityResult=this.entityResult*16+((h|32)-r.LowerA+10),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},c.prototype.allowLegacyEntity=function(){return!this.xmlMode&&(this.baseState===n.Text||this.baseState===n.InSpecialTag)},c.prototype.cleanup=function(){this.running&&this.sectionStart!==this.index&&(this.state===n.Text||this.state===n.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===n.InAttributeValueDq||this.state===n.InAttributeValueSq||this.state===n.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))},c.prototype.shouldContinue=function(){return this.index<this.buffer.length+this.offset&&this.running},c.prototype.parse=function(){for(;this.shouldContinue();){var h=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case n.Text:{this.stateText(h);break}case n.SpecialStartSequence:{this.stateSpecialStartSequence(h);break}case n.InSpecialTag:{this.stateInSpecialTag(h);break}case n.CDATASequence:{this.stateCDATASequence(h);break}case n.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(h);break}case n.InAttributeName:{this.stateInAttributeName(h);break}case n.InCommentLike:{this.stateInCommentLike(h);break}case n.InSpecialComment:{this.stateInSpecialComment(h);break}case n.BeforeAttributeName:{this.stateBeforeAttributeName(h);break}case n.InTagName:{this.stateInTagName(h);break}case n.InClosingTagName:{this.stateInClosingTagName(h);break}case n.BeforeTagName:{this.stateBeforeTagName(h);break}case n.AfterAttributeName:{this.stateAfterAttributeName(h);break}case n.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(h);break}case n.BeforeAttributeValue:{this.stateBeforeAttributeValue(h);break}case n.BeforeClosingTagName:{this.stateBeforeClosingTagName(h);break}case n.AfterClosingTagName:{this.stateAfterClosingTagName(h);break}case n.BeforeSpecialS:{this.stateBeforeSpecialS(h);break}case n.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(h);break}case n.InSelfClosingTag:{this.stateInSelfClosingTag(h);break}case n.InDeclaration:{this.stateInDeclaration(h);break}case n.BeforeDeclaration:{this.stateBeforeDeclaration(h);break}case n.BeforeComment:{this.stateBeforeComment(h);break}case n.InProcessingInstruction:{this.stateInProcessingInstruction(h);break}case n.InNamedEntity:{this.stateInNamedEntity(h);break}case n.BeforeEntity:{this.stateBeforeEntity(h);break}case n.InHexEntity:{this.stateInHexEntity(h);break}case n.InNumericEntity:{this.stateInNumericEntity(h);break}default:this.stateBeforeNumericEntity(h)}this.index++}this.cleanup()},c.prototype.finish=function(){this.state===n.InNamedEntity&&this.emitNamedEntity(),this.sectionStart<this.index&&this.handleTrailingData(),this.cbs.onend()},c.prototype.handleTrailingData=function(){var h=this.buffer.length+this.offset;this.state===n.InCommentLike?this.currentSequence===l.CdataEnd?this.cbs.oncdata(this.sectionStart,h,0):this.cbs.oncomment(this.sectionStart,h,0):this.state===n.InNumericEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===n.InHexEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===n.InTagName||this.state===n.BeforeAttributeName||this.state===n.BeforeAttributeValue||this.state===n.AfterAttributeName||this.state===n.InAttributeName||this.state===n.InAttributeValueSq||this.state===n.InAttributeValueDq||this.state===n.InAttributeValueNq||this.state===n.InClosingTagName||this.cbs.ontext(this.sectionStart,h)},c.prototype.emitPartial=function(h,m){this.baseState!==n.Text&&this.baseState!==n.InSpecialTag?this.cbs.onattribdata(h,m):this.cbs.ontext(h,m)},c.prototype.emitCodePoint=function(h){this.baseState!==n.Text&&this.baseState!==n.InSpecialTag?this.cbs.onattribentity(h):this.cbs.ontextentity(h)},c}();t.default=d}(Ig)),Ig}var aI;function oI(){if(aI)return xn;aI=1;var t=xn.__createBinding||(Object.create?function(b,y,p,g){g===void 0&&(g=p);var w=Object.getOwnPropertyDescriptor(y,p);(!w||("get"in w?!y.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return y[p]}}),Object.defineProperty(b,g,w)}:function(b,y,p,g){g===void 0&&(g=p),b[g]=y[p]}),e=xn.__setModuleDefault||(Object.create?function(b,y){Object.defineProperty(b,"default",{enumerable:!0,value:y})}:function(b,y){b.default=y}),r=xn.__importStar||function(b){if(b&&b.__esModule)return b;var y={};if(b!=null)for(var p in b)p!=="default"&&Object.prototype.hasOwnProperty.call(b,p)&&t(y,b,p);return e(y,b),y};Object.defineProperty(xn,"__esModule",{value:!0}),xn.Parser=void 0;var n=r(iI()),a=Rn(),i=new Set(["input","option","optgroup","select","button","datalist","textarea"]),s=new Set(["p"]),o=new Set(["thead","tbody"]),f=new Set(["dd","dt"]),u=new Set(["rt","rp"]),l=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",s],["h1",s],["h2",s],["h3",s],["h4",s],["h5",s],["h6",s],["select",i],["input",i],["output",i],["button",i],["datalist",i],["textarea",i],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",f],["dt",f],["address",s],["article",s],["aside",s],["blockquote",s],["details",s],["div",s],["dl",s],["fieldset",s],["figcaption",s],["figure",s],["footer",s],["form",s],["header",s],["hr",s],["main",s],["nav",s],["ol",s],["pre",s],["section",s],["table",s],["ul",s],["rt",u],["rp",u],["tbody",o],["tfoot",o]]),d=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),c=new Set(["math","svg"]),h=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),m=/\s|\//,_=function(){function b(y,p){p===void 0&&(p={});var g,w,S,I,O;this.options=p,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=y??{},this.lowerCaseTagNames=(g=p.lowerCaseTags)!==null&&g!==void 0?g:!p.xmlMode,this.lowerCaseAttributeNames=(w=p.lowerCaseAttributeNames)!==null&&w!==void 0?w:!p.xmlMode,this.tokenizer=new((S=p.Tokenizer)!==null&&S!==void 0?S:n.default)(this.options,this),(O=(I=this.cbs).onparserinit)===null||O===void 0||O.call(I,this)}return b.prototype.ontext=function(y,p){var g,w,S=this.getSlice(y,p);this.endIndex=p-1,(w=(g=this.cbs).ontext)===null||w===void 0||w.call(g,S),this.startIndex=p},b.prototype.ontextentity=function(y){var p,g,w=this.tokenizer.getSectionStart();this.endIndex=w-1,(g=(p=this.cbs).ontext)===null||g===void 0||g.call(p,(0,a.fromCodePoint)(y)),this.startIndex=w},b.prototype.isVoidElement=function(y){return!this.options.xmlMode&&d.has(y)},b.prototype.onopentagname=function(y,p){this.endIndex=p;var g=this.getSlice(y,p);this.lowerCaseTagNames&&(g=g.toLowerCase()),this.emitOpenTag(g)},b.prototype.emitOpenTag=function(y){var p,g,w,S;this.openTagStart=this.startIndex,this.tagname=y;var I=!this.options.xmlMode&&l.get(y);if(I)for(;this.stack.length>0&&I.has(this.stack[this.stack.length-1]);){var O=this.stack.pop();(g=(p=this.cbs).onclosetag)===null||g===void 0||g.call(p,O,!0)}this.isVoidElement(y)||(this.stack.push(y),c.has(y)?this.foreignContext.push(!0):h.has(y)&&this.foreignContext.push(!1)),(S=(w=this.cbs).onopentagname)===null||S===void 0||S.call(w,y),this.cbs.onopentag&&(this.attribs={})},b.prototype.endOpenTag=function(y){var p,g;this.startIndex=this.openTagStart,this.attribs&&((g=(p=this.cbs).onopentag)===null||g===void 0||g.call(p,this.tagname,this.attribs,y),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""},b.prototype.onopentagend=function(y){this.endIndex=y,this.endOpenTag(!1),this.startIndex=y+1},b.prototype.onclosetag=function(y,p){var g,w,S,I,O,M;this.endIndex=p;var D=this.getSlice(y,p);if(this.lowerCaseTagNames&&(D=D.toLowerCase()),(c.has(D)||h.has(D))&&this.foreignContext.pop(),this.isVoidElement(D))!this.options.xmlMode&&D==="br"&&((w=(g=this.cbs).onopentagname)===null||w===void 0||w.call(g,"br"),(I=(S=this.cbs).onopentag)===null||I===void 0||I.call(S,"br",{},!0),(M=(O=this.cbs).onclosetag)===null||M===void 0||M.call(O,"br",!1));else{var N=this.stack.lastIndexOf(D);if(N!==-1)if(this.cbs.onclosetag)for(var C=this.stack.length-N;C--;)this.cbs.onclosetag(this.stack.pop(),C!==0);else this.stack.length=N;else!this.options.xmlMode&&D==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=p+1},b.prototype.onselfclosingtag=function(y){this.endIndex=y,this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?(this.closeCurrentTag(!1),this.startIndex=y+1):this.onopentagend(y)},b.prototype.closeCurrentTag=function(y){var p,g,w=this.tagname;this.endOpenTag(y),this.stack[this.stack.length-1]===w&&((g=(p=this.cbs).onclosetag)===null||g===void 0||g.call(p,w,!y),this.stack.pop())},b.prototype.onattribname=function(y,p){this.startIndex=y;var g=this.getSlice(y,p);this.attribname=this.lowerCaseAttributeNames?g.toLowerCase():g},b.prototype.onattribdata=function(y,p){this.attribvalue+=this.getSlice(y,p)},b.prototype.onattribentity=function(y){this.attribvalue+=(0,a.fromCodePoint)(y)},b.prototype.onattribend=function(y,p){var g,w;this.endIndex=p,(w=(g=this.cbs).onattribute)===null||w===void 0||w.call(g,this.attribname,this.attribvalue,y===n.QuoteType.Double?'"':y===n.QuoteType.Single?"'":y===n.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""},b.prototype.getInstructionName=function(y){var p=y.search(m),g=p<0?y:y.substr(0,p);return this.lowerCaseTagNames&&(g=g.toLowerCase()),g},b.prototype.ondeclaration=function(y,p){this.endIndex=p;var g=this.getSlice(y,p);if(this.cbs.onprocessinginstruction){var w=this.getInstructionName(g);this.cbs.onprocessinginstruction("!".concat(w),"!".concat(g))}this.startIndex=p+1},b.prototype.onprocessinginstruction=function(y,p){this.endIndex=p;var g=this.getSlice(y,p);if(this.cbs.onprocessinginstruction){var w=this.getInstructionName(g);this.cbs.onprocessinginstruction("?".concat(w),"?".concat(g))}this.startIndex=p+1},b.prototype.oncomment=function(y,p,g){var w,S,I,O;this.endIndex=p,(S=(w=this.cbs).oncomment)===null||S===void 0||S.call(w,this.getSlice(y,p-g)),(O=(I=this.cbs).oncommentend)===null||O===void 0||O.call(I),this.startIndex=p+1},b.prototype.oncdata=function(y,p,g){var w,S,I,O,M,D,N,C,R,F;this.endIndex=p;var X=this.getSlice(y,p-g);this.options.xmlMode||this.options.recognizeCDATA?((S=(w=this.cbs).oncdatastart)===null||S===void 0||S.call(w),(O=(I=this.cbs).ontext)===null||O===void 0||O.call(I,X),(D=(M=this.cbs).oncdataend)===null||D===void 0||D.call(M)):((C=(N=this.cbs).oncomment)===null||C===void 0||C.call(N,"[CDATA[".concat(X,"]]")),(F=(R=this.cbs).oncommentend)===null||F===void 0||F.call(R)),this.startIndex=p+1},b.prototype.onend=function(){var y,p;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(var g=this.stack.length;g>0;this.cbs.onclosetag(this.stack[--g],!0));}(p=(y=this.cbs).onend)===null||p===void 0||p.call(y)},b.prototype.reset=function(){var y,p,g,w;(p=(y=this.cbs).onreset)===null||p===void 0||p.call(y),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(w=(g=this.cbs).onparserinit)===null||w===void 0||w.call(g,this),this.buffers.length=0,this.bufferOffset=0,this.writeIndex=0,this.ended=!1},b.prototype.parseComplete=function(y){this.reset(),this.end(y)},b.prototype.getSlice=function(y,p){for(;y-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();for(var g=this.buffers[0].slice(y-this.bufferOffset,p-this.bufferOffset);p-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),g+=this.buffers[0].slice(0,p-this.bufferOffset);return g},b.prototype.shiftBuffer=function(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()},b.prototype.write=function(y){var p,g;if(this.ended){(g=(p=this.cbs).onerror)===null||g===void 0||g.call(p,new Error(".write() after done!"));return}this.buffers.push(y),this.tokenizer.running&&(this.tokenizer.write(y),this.writeIndex++)},b.prototype.end=function(y){var p,g;if(this.ended){(g=(p=this.cbs).onerror)===null||g===void 0||g.call(p,new Error(".end() after done!"));return}y&&this.write(y),this.ended=!0,this.tokenizer.end()},b.prototype.pause=function(){this.tokenizer.pause()},b.prototype.resume=function(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()},b.prototype.parseChunk=function(y){this.write(y)},b.prototype.done=function(y){this.end(y)},b}();return xn.Parser=_,xn}var As={},Og={},sI;function ri(){return sI||(sI=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Doctype=t.CDATA=t.Tag=t.Style=t.Script=t.Comment=t.Directive=t.Text=t.Root=t.isTag=t.ElementType=void 0;var e;(function(n){n.Root="root",n.Text="text",n.Directive="directive",n.Comment="comment",n.Script="script",n.Style="style",n.Tag="tag",n.CDATA="cdata",n.Doctype="doctype"})(e=t.ElementType||(t.ElementType={}));function r(n){return n.type===e.Tag||n.type===e.Script||n.type===e.Style}t.isTag=r,t.Root=e.Root,t.Text=e.Text,t.Directive=e.Directive,t.Comment=e.Comment,t.Script=e.Script,t.Style=e.Style,t.Tag=e.Tag,t.CDATA=e.CDATA,t.Doctype=e.Doctype}(Og)),Og}var et={},uI;function fI(){if(uI)return et;uI=1;var t=et.__extends||function(){var S=function(I,O){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,D){M.__proto__=D}||function(M,D){for(var N in D)Object.prototype.hasOwnProperty.call(D,N)&&(M[N]=D[N])},S(I,O)};return function(I,O){if(typeof O!="function"&&O!==null)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");S(I,O);function M(){this.constructor=I}I.prototype=O===null?Object.create(O):(M.prototype=O.prototype,new M)}}(),e=et.__assign||function(){return e=Object.assign||function(S){for(var I,O=1,M=arguments.length;O<M;O++){I=arguments[O];for(var D in I)Object.prototype.hasOwnProperty.call(I,D)&&(S[D]=I[D])}return S},e.apply(this,arguments)};Object.defineProperty(et,"__esModule",{value:!0}),et.cloneNode=et.hasChildren=et.isDocument=et.isDirective=et.isComment=et.isText=et.isCDATA=et.isTag=et.Element=et.Document=et.CDATA=et.NodeWithChildren=et.ProcessingInstruction=et.Comment=et.Text=et.DataNode=et.Node=void 0;var r=ri(),n=function(){function S(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(S.prototype,"parentNode",{get:function(){return this.parent},set:function(I){this.parent=I},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"previousSibling",{get:function(){return this.prev},set:function(I){this.prev=I},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"nextSibling",{get:function(){return this.next},set:function(I){this.next=I},enumerable:!1,configurable:!0}),S.prototype.cloneNode=function(I){return I===void 0&&(I=!1),g(this,I)},S}();et.Node=n;var a=function(S){t(I,S);function I(O){var M=S.call(this)||this;return M.data=O,M}return Object.defineProperty(I.prototype,"nodeValue",{get:function(){return this.data},set:function(O){this.data=O},enumerable:!1,configurable:!0}),I}(n);et.DataNode=a;var i=function(S){t(I,S);function I(){var O=S!==null&&S.apply(this,arguments)||this;return O.type=r.ElementType.Text,O}return Object.defineProperty(I.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),I}(a);et.Text=i;var s=function(S){t(I,S);function I(){var O=S!==null&&S.apply(this,arguments)||this;return O.type=r.ElementType.Comment,O}return Object.defineProperty(I.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),I}(a);et.Comment=s;var o=function(S){t(I,S);function I(O,M){var D=S.call(this,M)||this;return D.name=O,D.type=r.ElementType.Directive,D}return Object.defineProperty(I.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),I}(a);et.ProcessingInstruction=o;var f=function(S){t(I,S);function I(O){var M=S.call(this)||this;return M.children=O,M}return Object.defineProperty(I.prototype,"firstChild",{get:function(){var O;return(O=this.children[0])!==null&&O!==void 0?O:null},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"childNodes",{get:function(){return this.children},set:function(O){this.children=O},enumerable:!1,configurable:!0}),I}(n);et.NodeWithChildren=f;var u=function(S){t(I,S);function I(){var O=S!==null&&S.apply(this,arguments)||this;return O.type=r.ElementType.CDATA,O}return Object.defineProperty(I.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),I}(f);et.CDATA=u;var l=function(S){t(I,S);function I(){var O=S!==null&&S.apply(this,arguments)||this;return O.type=r.ElementType.Root,O}return Object.defineProperty(I.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),I}(f);et.Document=l;var d=function(S){t(I,S);function I(O,M,D,N){D===void 0&&(D=[]),N===void 0&&(N=O==="script"?r.ElementType.Script:O==="style"?r.ElementType.Style:r.ElementType.Tag);var C=S.call(this,D)||this;return C.name=O,C.attribs=M,C.type=N,C}return Object.defineProperty(I.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"tagName",{get:function(){return this.name},set:function(O){this.name=O},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"attributes",{get:function(){var O=this;return Object.keys(this.attribs).map(function(M){var D,N;return{name:M,value:O.attribs[M],namespace:(D=O["x-attribsNamespace"])===null||D===void 0?void 0:D[M],prefix:(N=O["x-attribsPrefix"])===null||N===void 0?void 0:N[M]}})},enumerable:!1,configurable:!0}),I}(f);et.Element=d;function c(S){return(0,r.isTag)(S)}et.isTag=c;function h(S){return S.type===r.ElementType.CDATA}et.isCDATA=h;function m(S){return S.type===r.ElementType.Text}et.isText=m;function _(S){return S.type===r.ElementType.Comment}et.isComment=_;function b(S){return S.type===r.ElementType.Directive}et.isDirective=b;function y(S){return S.type===r.ElementType.Root}et.isDocument=y;function p(S){return Object.prototype.hasOwnProperty.call(S,"children")}et.hasChildren=p;function g(S,I){I===void 0&&(I=!1);var O;if(m(S))O=new i(S.data);else if(_(S))O=new s(S.data);else if(c(S)){var M=I?w(S.children):[],D=new d(S.name,e({},S.attribs),M);M.forEach(function(F){return F.parent=D}),S.namespace!=null&&(D.namespace=S.namespace),S["x-attribsNamespace"]&&(D["x-attribsNamespace"]=e({},S["x-attribsNamespace"])),S["x-attribsPrefix"]&&(D["x-attribsPrefix"]=e({},S["x-attribsPrefix"])),O=D}else if(h(S)){var M=I?w(S.children):[],N=new u(M);M.forEach(function(X){return X.parent=N}),O=N}else if(y(S)){var M=I?w(S.children):[],C=new l(M);M.forEach(function(X){return X.parent=C}),S["x-mode"]&&(C["x-mode"]=S["x-mode"]),O=C}else if(b(S)){var R=new o(S.name,S.data);S["x-name"]!=null&&(R["x-name"]=S["x-name"],R["x-publicId"]=S["x-publicId"],R["x-systemId"]=S["x-systemId"]),O=R}else throw new Error("Not implemented yet: ".concat(S.type));return O.startIndex=S.startIndex,O.endIndex=S.endIndex,S.sourceCodeLocation!=null&&(O.sourceCodeLocation=S.sourceCodeLocation),O}et.cloneNode=g;function w(S){for(var I=S.map(function(M){return g(M,!0)}),O=1;O<I.length;O++)I[O].prev=I[O-1],I[O-1].next=I[O];return I}return et}var lI;function wr(){return lI||(lI=1,function(t){var e=As.__createBinding||(Object.create?function(o,f,u,l){l===void 0&&(l=u);var d=Object.getOwnPropertyDescriptor(f,u);(!d||("get"in d?!f.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return f[u]}}),Object.defineProperty(o,l,d)}:function(o,f,u,l){l===void 0&&(l=u),o[l]=f[u]}),r=As.__exportStar||function(o,f){for(var u in o)u!=="default"&&!Object.prototype.hasOwnProperty.call(f,u)&&e(f,o,u)};Object.defineProperty(t,"__esModule",{value:!0}),t.DomHandler=void 0;var n=ri(),a=fI();r(fI(),t);var i={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},s=function(){function o(f,u,l){this.dom=[],this.root=new a.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof u=="function"&&(l=u,u=i),typeof f=="object"&&(u=f,f=void 0),this.callback=f??null,this.options=u??i,this.elementCB=l??null}return o.prototype.onparserinit=function(f){this.parser=f},o.prototype.onreset=function(){this.dom=[],this.root=new a.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},o.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},o.prototype.onerror=function(f){this.handleCallback(f)},o.prototype.onclosetag=function(){this.lastNode=null;var f=this.tagStack.pop();this.options.withEndIndices&&(f.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(f)},o.prototype.onopentag=function(f,u){var l=this.options.xmlMode?n.ElementType.Tag:void 0,d=new a.Element(f,u,void 0,l);this.addNode(d),this.tagStack.push(d)},o.prototype.ontext=function(f){var u=this.lastNode;if(u&&u.type===n.ElementType.Text)u.data+=f,this.options.withEndIndices&&(u.endIndex=this.parser.endIndex);else{var l=new a.Text(f);this.addNode(l),this.lastNode=l}},o.prototype.oncomment=function(f){if(this.lastNode&&this.lastNode.type===n.ElementType.Comment){this.lastNode.data+=f;return}var u=new a.Comment(f);this.addNode(u),this.lastNode=u},o.prototype.oncommentend=function(){this.lastNode=null},o.prototype.oncdatastart=function(){var f=new a.Text(""),u=new a.CDATA([f]);this.addNode(u),f.parent=u,this.lastNode=f},o.prototype.oncdataend=function(){this.lastNode=null},o.prototype.onprocessinginstruction=function(f,u){var l=new a.ProcessingInstruction(f,u);this.addNode(l)},o.prototype.handleCallback=function(f){if(typeof this.callback=="function")this.callback(f,this.dom);else if(f)throw f},o.prototype.addNode=function(f){var u=this.tagStack[this.tagStack.length-1],l=u.children[u.children.length-1];this.options.withStartIndices&&(f.startIndex=this.parser.startIndex),this.options.withEndIndices&&(f.endIndex=this.parser.endIndex),u.children.push(f),l&&(f.prev=l,l.next=f),f.parent=u,this.lastNode=null},o}();t.DomHandler=s,t.default=s}(As)),As}var Os={},Yr={},Ur={},Ng={},In={},Ol={},cI;function pF(){if(cI)return Ol;cI=1,Object.defineProperty(Ol,"__esModule",{value:!0});function t(e){for(var r=1;r<e.length;r++)e[r][0]+=e[r-1][0]+1;return e}return Ol.default=new Map(t([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(t([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(t([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(t([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]])),Ol}var Pg={},dI;function Dg(){return dI||(dI=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.escapeText=t.escapeAttribute=t.escapeUTF8=t.escape=t.encodeXML=t.getCodePoint=t.xmlReplacer=void 0,t.xmlReplacer=/["&'<>$\x80-\uFFFF]/g;var e=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);t.getCodePoint=String.prototype.codePointAt!=null?function(a,i){return a.codePointAt(i)}:function(a,i){return(a.charCodeAt(i)&64512)===55296?(a.charCodeAt(i)-55296)*1024+a.charCodeAt(i+1)-56320+65536:a.charCodeAt(i)};function r(a){for(var i="",s=0,o;(o=t.xmlReplacer.exec(a))!==null;){var f=o.index,u=a.charCodeAt(f),l=e.get(u);l!==void 0?(i+=a.substring(s,f)+l,s=f+1):(i+="".concat(a.substring(s,f),"&#x").concat((0,t.getCodePoint)(a,f).toString(16),";"),s=t.xmlReplacer.lastIndex+=+((u&64512)===55296))}return i+a.substr(s)}t.encodeXML=r,t.escape=r;function n(a,i){return function(o){for(var f,u=0,l="";f=a.exec(o);)u!==f.index&&(l+=o.substring(u,f.index)),l+=i.get(f[0].charCodeAt(0)),u=f.index+1;return l+o.substring(u)}}t.escapeUTF8=n(/[&<>'"]/g,e),t.escapeAttribute=n(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),t.escapeText=n(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]))}(Pg)),Pg}var hI;function pI(){if(hI)return In;hI=1;var t=In.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(In,"__esModule",{value:!0}),In.encodeNonAsciiHTML=In.encodeHTML=void 0;var e=t(pF()),r=Dg(),n=/[\t\n!-,./:-@[-`\f{-}$\x80-\uFFFF]/g;function a(o){return s(n,o)}In.encodeHTML=a;function i(o){return s(r.xmlReplacer,o)}In.encodeNonAsciiHTML=i;function s(o,f){for(var u="",l=0,d;(d=o.exec(f))!==null;){var c=d.index;u+=f.substring(l,c);var h=f.charCodeAt(c),m=e.default.get(h);if(typeof m=="object"){if(c+1<f.length){var _=f.charCodeAt(c+1),b=typeof m.n=="number"?m.n===_?m.o:void 0:m.n.get(_);if(b!==void 0){u+=b,l=o.lastIndex+=1;continue}}m=m.v}if(m!==void 0)u+=m,l=c+1;else{var y=(0,r.getCodePoint)(f,c);u+="&#x".concat(y.toString(16),";"),l=o.lastIndex+=+(y!==h)}}return u+f.substr(l)}return In}var yI;function yF(){return yI||(yI=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.decodeXMLStrict=t.decodeHTML5Strict=t.decodeHTML4Strict=t.decodeHTML5=t.decodeHTML4=t.decodeHTMLAttribute=t.decodeHTMLStrict=t.decodeHTML=t.decodeXML=t.DecodingMode=t.EntityDecoder=t.encodeHTML5=t.encodeHTML4=t.encodeNonAsciiHTML=t.encodeHTML=t.escapeText=t.escapeAttribute=t.escapeUTF8=t.escape=t.encodeXML=t.encode=t.decodeStrict=t.decode=t.EncodingMode=t.EntityLevel=void 0;var e=Rn(),r=pI(),n=Dg(),a;(function(c){c[c.XML=0]="XML",c[c.HTML=1]="HTML"})(a=t.EntityLevel||(t.EntityLevel={}));var i;(function(c){c[c.UTF8=0]="UTF8",c[c.ASCII=1]="ASCII",c[c.Extensive=2]="Extensive",c[c.Attribute=3]="Attribute",c[c.Text=4]="Text"})(i=t.EncodingMode||(t.EncodingMode={}));function s(c,h){h===void 0&&(h=a.XML);var m=typeof h=="number"?h:h.level;if(m===a.HTML){var _=typeof h=="object"?h.mode:void 0;return(0,e.decodeHTML)(c,_)}return(0,e.decodeXML)(c)}t.decode=s;function o(c,h){var m;h===void 0&&(h=a.XML);var _=typeof h=="number"?{level:h}:h;return(m=_.mode)!==null&&m!==void 0||(_.mode=e.DecodingMode.Strict),s(c,_)}t.decodeStrict=o;function f(c,h){h===void 0&&(h=a.XML);var m=typeof h=="number"?{level:h}:h;return m.mode===i.UTF8?(0,n.escapeUTF8)(c):m.mode===i.Attribute?(0,n.escapeAttribute)(c):m.mode===i.Text?(0,n.escapeText)(c):m.level===a.HTML?m.mode===i.ASCII?(0,r.encodeNonAsciiHTML)(c):(0,r.encodeHTML)(c):(0,n.encodeXML)(c)}t.encode=f;var u=Dg();Object.defineProperty(t,"encodeXML",{enumerable:!0,get:function(){return u.encodeXML}}),Object.defineProperty(t,"escape",{enumerable:!0,get:function(){return u.escape}}),Object.defineProperty(t,"escapeUTF8",{enumerable:!0,get:function(){return u.escapeUTF8}}),Object.defineProperty(t,"escapeAttribute",{enumerable:!0,get:function(){return u.escapeAttribute}}),Object.defineProperty(t,"escapeText",{enumerable:!0,get:function(){return u.escapeText}});var l=pI();Object.defineProperty(t,"encodeHTML",{enumerable:!0,get:function(){return l.encodeHTML}}),Object.defineProperty(t,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return l.encodeNonAsciiHTML}}),Object.defineProperty(t,"encodeHTML4",{enumerable:!0,get:function(){return l.encodeHTML}}),Object.defineProperty(t,"encodeHTML5",{enumerable:!0,get:function(){return l.encodeHTML}});var d=Rn();Object.defineProperty(t,"EntityDecoder",{enumerable:!0,get:function(){return d.EntityDecoder}}),Object.defineProperty(t,"DecodingMode",{enumerable:!0,get:function(){return d.DecodingMode}}),Object.defineProperty(t,"decodeXML",{enumerable:!0,get:function(){return d.decodeXML}}),Object.defineProperty(t,"decodeHTML",{enumerable:!0,get:function(){return d.decodeHTML}}),Object.defineProperty(t,"decodeHTMLStrict",{enumerable:!0,get:function(){return d.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTMLAttribute",{enumerable:!0,get:function(){return d.decodeHTMLAttribute}}),Object.defineProperty(t,"decodeHTML4",{enumerable:!0,get:function(){return d.decodeHTML}}),Object.defineProperty(t,"decodeHTML5",{enumerable:!0,get:function(){return d.decodeHTML}}),Object.defineProperty(t,"decodeHTML4Strict",{enumerable:!0,get:function(){return d.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTML5Strict",{enumerable:!0,get:function(){return d.decodeHTMLStrict}}),Object.defineProperty(t,"decodeXMLStrict",{enumerable:!0,get:function(){return d.decodeXML}})}(Ng)),Ng}var ni={},gI;function gF(){return gI||(gI=1,Object.defineProperty(ni,"__esModule",{value:!0}),ni.attributeNames=ni.elementNames=void 0,ni.elementNames=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(function(t){return[t.toLowerCase(),t]})),ni.attributeNames=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(function(t){return[t.toLowerCase(),t]}))),ni}var bI;function bF(){if(bI)return Ur;bI=1;var t=Ur.__assign||function(){return t=Object.assign||function(w){for(var S,I=1,O=arguments.length;I<O;I++){S=arguments[I];for(var M in S)Object.prototype.hasOwnProperty.call(S,M)&&(w[M]=S[M])}return w},t.apply(this,arguments)},e=Ur.__createBinding||(Object.create?function(w,S,I,O){O===void 0&&(O=I);var M=Object.getOwnPropertyDescriptor(S,I);(!M||("get"in M?!S.__esModule:M.writable||M.configurable))&&(M={enumerable:!0,get:function(){return S[I]}}),Object.defineProperty(w,O,M)}:function(w,S,I,O){O===void 0&&(O=I),w[O]=S[I]}),r=Ur.__setModuleDefault||(Object.create?function(w,S){Object.defineProperty(w,"default",{enumerable:!0,value:S})}:function(w,S){w.default=S}),n=Ur.__importStar||function(w){if(w&&w.__esModule)return w;var S={};if(w!=null)for(var I in w)I!=="default"&&Object.prototype.hasOwnProperty.call(w,I)&&e(S,w,I);return r(S,w),S};Object.defineProperty(Ur,"__esModule",{value:!0}),Ur.render=void 0;var a=n(ri()),i=yF(),s=gF(),o=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function f(w){return w.replace(/"/g,"&quot;")}function u(w,S){var I;if(w){var O=((I=S.encodeEntities)!==null&&I!==void 0?I:S.decodeEntities)===!1?f:S.xmlMode||S.encodeEntities!=="utf8"?i.encodeXML:i.escapeAttribute;return Object.keys(w).map(function(M){var D,N,C=(D=w[M])!==null&&D!==void 0?D:"";return S.xmlMode==="foreign"&&(M=(N=s.attributeNames.get(M))!==null&&N!==void 0?N:M),!S.emptyAttrs&&!S.xmlMode&&C===""?M:"".concat(M,'="').concat(O(C),'"')}).join(" ")}}var l=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function d(w,S){S===void 0&&(S={});for(var I=("length"in w)?w:[w],O="",M=0;M<I.length;M++)O+=c(I[M],S);return O}Ur.render=d,Ur.default=d;function c(w,S){switch(w.type){case a.Root:return d(w.children,S);case a.Doctype:case a.Directive:return b(w);case a.Comment:return g(w);case a.CDATA:return p(w);case a.Script:case a.Style:case a.Tag:return _(w,S);case a.Text:return y(w,S)}}var h=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),m=new Set(["svg","math"]);function _(w,S){var I;S.xmlMode==="foreign"&&(w.name=(I=s.elementNames.get(w.name))!==null&&I!==void 0?I:w.name,w.parent&&h.has(w.parent.name)&&(S=t(t({},S),{xmlMode:!1}))),!S.xmlMode&&m.has(w.name)&&(S=t(t({},S),{xmlMode:"foreign"}));var O="<".concat(w.name),M=u(w.attribs,S);return M&&(O+=" ".concat(M)),w.children.length===0&&(S.xmlMode?S.selfClosingTags!==!1:S.selfClosingTags&&l.has(w.name))?(S.xmlMode||(O+=" "),O+="/>"):(O+=">",w.children.length>0&&(O+=d(w.children,S)),(S.xmlMode||!l.has(w.name))&&(O+="</".concat(w.name,">"))),O}function b(w){return"<".concat(w.data,">")}function y(w,S){var I,O=w.data||"";return((I=S.encodeEntities)!==null&&I!==void 0?I:S.decodeEntities)!==!1&&!(!S.xmlMode&&w.parent&&o.has(w.parent.name))&&(O=S.xmlMode||S.encodeEntities!=="utf8"?(0,i.encodeXML)(O):(0,i.escapeText)(O)),O}function p(w){return"<![CDATA[".concat(w.children[0].data,"]]>")}function g(w){return"<!--".concat(w.data,"-->")}return Ur}var mI;function _I(){if(mI)return Yr;mI=1;var t=Yr.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Yr,"__esModule",{value:!0}),Yr.getOuterHTML=a,Yr.getInnerHTML=i,Yr.getText=s,Yr.textContent=o,Yr.innerText=f;var e=wr(),r=t(bF()),n=ri();function a(u,l){return(0,r.default)(u,l)}function i(u,l){return(0,e.hasChildren)(u)?u.children.map(function(d){return a(d,l)}).join(""):""}function s(u){return Array.isArray(u)?u.map(s).join(""):(0,e.isTag)(u)?u.name==="br"?`
`:s(u.children):(0,e.isCDATA)(u)?s(u.children):(0,e.isText)(u)?u.data:""}function o(u){return Array.isArray(u)?u.map(o).join(""):(0,e.hasChildren)(u)&&!(0,e.isComment)(u)?o(u.children):(0,e.isText)(u)?u.data:""}function f(u){return Array.isArray(u)?u.map(f).join(""):(0,e.hasChildren)(u)&&(u.type===n.ElementType.Tag||(0,e.isCDATA)(u))?f(u.children):(0,e.isText)(u)?u.data:""}return Yr}var Nr={},vI;function mF(){if(vI)return Nr;vI=1,Object.defineProperty(Nr,"__esModule",{value:!0}),Nr.getChildren=e,Nr.getParent=r,Nr.getSiblings=n,Nr.getAttributeValue=a,Nr.hasAttrib=i,Nr.getName=s,Nr.nextElementSibling=o,Nr.prevElementSibling=f;var t=wr();function e(u){return(0,t.hasChildren)(u)?u.children:[]}function r(u){return u.parent||null}function n(u){var l,d,c=r(u);if(c!=null)return e(c);for(var h=[u],m=u.prev,_=u.next;m!=null;)h.unshift(m),l=m,m=l.prev;for(;_!=null;)h.push(_),d=_,_=d.next;return h}function a(u,l){var d;return(d=u.attribs)===null||d===void 0?void 0:d[l]}function i(u,l){return u.attribs!=null&&Object.prototype.hasOwnProperty.call(u.attribs,l)&&u.attribs[l]!=null}function s(u){return u.name}function o(u){for(var l,d=u.next;d!==null&&!(0,t.isTag)(d);)l=d,d=l.next;return d}function f(u){for(var l,d=u.prev;d!==null&&!(0,t.isTag)(d);)l=d,d=l.prev;return d}return Nr}var en={},wI;function _F(){if(wI)return en;wI=1,Object.defineProperty(en,"__esModule",{value:!0}),en.removeElement=t,en.replaceElement=e,en.appendChild=r,en.append=n,en.prependChild=a,en.prepend=i;function t(s){if(s.prev&&(s.prev.next=s.next),s.next&&(s.next.prev=s.prev),s.parent){var o=s.parent.children,f=o.lastIndexOf(s);f>=0&&o.splice(f,1)}s.next=null,s.prev=null,s.parent=null}function e(s,o){var f=o.prev=s.prev;f&&(f.next=o);var u=o.next=s.next;u&&(u.prev=o);var l=o.parent=s.parent;if(l){var d=l.children;d[d.lastIndexOf(s)]=o,s.parent=null}}function r(s,o){if(t(o),o.next=null,o.parent=s,s.children.push(o)>1){var f=s.children[s.children.length-2];f.next=o,o.prev=f}else o.prev=null}function n(s,o){t(o);var f=s.parent,u=s.next;if(o.next=u,o.prev=s,s.next=o,o.parent=f,u){if(u.prev=o,f){var l=f.children;l.splice(l.lastIndexOf(u),0,o)}}else f&&f.children.push(o)}function a(s,o){if(t(o),o.parent=s,o.prev=null,s.children.unshift(o)!==1){var f=s.children[1];f.prev=o,o.next=f}else o.next=null}function i(s,o){t(o);var f=s.parent;if(f){var u=f.children;u.splice(u.indexOf(s),0,o)}s.prev&&(s.prev.next=o),o.parent=f,o.prev=s.prev,o.next=s,s.prev=o}return en}var tn={},EI;function SI(){if(EI)return tn;EI=1,Object.defineProperty(tn,"__esModule",{value:!0}),tn.filter=e,tn.find=r,tn.findOneChild=n,tn.findOne=a,tn.existsOne=i,tn.findAll=s;var t=wr();function e(o,f,u,l){return u===void 0&&(u=!0),l===void 0&&(l=1/0),r(o,Array.isArray(f)?f:[f],u,l)}function r(o,f,u,l){for(var d=[],c=[Array.isArray(f)?f:[f]],h=[0];;){if(h[0]>=c[0].length){if(h.length===1)return d;c.shift(),h.shift();continue}var m=c[0][h[0]++];if(o(m)&&(d.push(m),--l<=0))return d;u&&(0,t.hasChildren)(m)&&m.children.length>0&&(h.unshift(0),c.unshift(m.children))}}function n(o,f){return f.find(o)}function a(o,f,u){u===void 0&&(u=!0);for(var l=Array.isArray(f)?f:[f],d=0;d<l.length;d++){var c=l[d];if((0,t.isTag)(c)&&o(c))return c;if(u&&(0,t.hasChildren)(c)&&c.children.length>0){var h=a(o,c.children,!0);if(h)return h}}return null}function i(o,f){return(Array.isArray(f)?f:[f]).some(function(u){return(0,t.isTag)(u)&&o(u)||(0,t.hasChildren)(u)&&i(o,u.children)})}function s(o,f){for(var u=[],l=[Array.isArray(f)?f:[f]],d=[0];;){if(d[0]>=l[0].length){if(l.length===1)return u;l.shift(),d.shift();continue}var c=l[0][d[0]++];(0,t.isTag)(c)&&o(c)&&u.push(c),(0,t.hasChildren)(c)&&c.children.length>0&&(d.unshift(0),l.unshift(c.children))}}return tn}var rn={},TI;function xI(){if(TI)return rn;TI=1,Object.defineProperty(rn,"__esModule",{value:!0}),rn.testElement=s,rn.getElements=o,rn.getElementById=f,rn.getElementsByTagName=u,rn.getElementsByClassName=l,rn.getElementsByTagType=d;var t=wr(),e=SI(),r={tag_name:function(c){return typeof c=="function"?function(h){return(0,t.isTag)(h)&&c(h.name)}:c==="*"?t.isTag:function(h){return(0,t.isTag)(h)&&h.name===c}},tag_type:function(c){return typeof c=="function"?function(h){return c(h.type)}:function(h){return h.type===c}},tag_contains:function(c){return typeof c=="function"?function(h){return(0,t.isText)(h)&&c(h.data)}:function(h){return(0,t.isText)(h)&&h.data===c}}};function n(c,h){return typeof h=="function"?function(m){return(0,t.isTag)(m)&&h(m.attribs[c])}:function(m){return(0,t.isTag)(m)&&m.attribs[c]===h}}function a(c,h){return function(m){return c(m)||h(m)}}function i(c){var h=Object.keys(c).map(function(m){var _=c[m];return Object.prototype.hasOwnProperty.call(r,m)?r[m](_):n(m,_)});return h.length===0?null:h.reduce(a)}function s(c,h){var m=i(c);return m?m(h):!0}function o(c,h,m,_){_===void 0&&(_=1/0);var b=i(c);return b?(0,e.filter)(b,h,m,_):[]}function f(c,h,m){return m===void 0&&(m=!0),Array.isArray(h)||(h=[h]),(0,e.findOne)(n("id",c),h,m)}function u(c,h,m,_){return m===void 0&&(m=!0),_===void 0&&(_=1/0),(0,e.filter)(r.tag_name(c),h,m,_)}function l(c,h,m,_){return m===void 0&&(m=!0),_===void 0&&(_=1/0),(0,e.filter)(n("class",c),h,m,_)}function d(c,h,m,_){return m===void 0&&(m=!0),_===void 0&&(_=1/0),(0,e.filter)(r.tag_type(c),h,m,_)}return rn}var An={},RI;function vF(){if(RI)return An;RI=1,Object.defineProperty(An,"__esModule",{value:!0}),An.DocumentPosition=void 0,An.removeSubsets=e,An.compareDocumentPosition=n,An.uniqueSort=a;var t=wr();function e(i){for(var s=i.length;--s>=0;){var o=i[s];if(s>0&&i.lastIndexOf(o,s-1)>=0){i.splice(s,1);continue}for(var f=o.parent;f;f=f.parent)if(i.includes(f)){i.splice(s,1);break}}return i}var r;(function(i){i[i.DISCONNECTED=1]="DISCONNECTED",i[i.PRECEDING=2]="PRECEDING",i[i.FOLLOWING=4]="FOLLOWING",i[i.CONTAINS=8]="CONTAINS",i[i.CONTAINED_BY=16]="CONTAINED_BY"})(r||(An.DocumentPosition=r={}));function n(i,s){var o=[],f=[];if(i===s)return 0;for(var u=(0,t.hasChildren)(i)?i:i.parent;u;)o.unshift(u),u=u.parent;for(u=(0,t.hasChildren)(s)?s:s.parent;u;)f.unshift(u),u=u.parent;for(var l=Math.min(o.length,f.length),d=0;d<l&&o[d]===f[d];)d++;if(d===0)return r.DISCONNECTED;var c=o[d-1],h=c.children,m=o[d],_=f[d];return h.indexOf(m)>h.indexOf(_)?c===s?r.FOLLOWING|r.CONTAINED_BY:r.FOLLOWING:c===i?r.PRECEDING|r.CONTAINS:r.PRECEDING}function a(i){return i=i.filter(function(s,o,f){return!f.includes(s,o+1)}),i.sort(function(s,o){var f=n(s,o);return f&r.PRECEDING?-1:f&r.FOLLOWING?1:0}),i}return An}var Nl={},II;function wF(){if(II)return Nl;II=1,Object.defineProperty(Nl,"__esModule",{value:!0}),Nl.getFeed=r;var t=_I(),e=xI();function r(c){var h=f(d,c);return h?h.name==="feed"?n(h):a(h):null}function n(c){var h,m=c.children,_={type:"atom",items:(0,e.getElementsByTagName)("entry",m).map(function(p){var g,w=p.children,S={media:o(w)};l(S,"id","id",w),l(S,"title","title",w);var I=(g=f("link",w))===null||g===void 0?void 0:g.attribs.href;I&&(S.link=I);var O=u("summary",w)||u("content",w);O&&(S.description=O);var M=u("updated",w);return M&&(S.pubDate=new Date(M)),S})};l(_,"id","id",m),l(_,"title","title",m);var b=(h=f("link",m))===null||h===void 0?void 0:h.attribs.href;b&&(_.link=b),l(_,"description","subtitle",m);var y=u("updated",m);return y&&(_.updated=new Date(y)),l(_,"author","email",m,!0),_}function a(c){var h,m,_=(m=(h=f("channel",c.children))===null||h===void 0?void 0:h.children)!==null&&m!==void 0?m:[],b={type:c.name.substr(0,3),id:"",items:(0,e.getElementsByTagName)("item",c.children).map(function(p){var g=p.children,w={media:o(g)};l(w,"id","guid",g),l(w,"title","title",g),l(w,"link","link",g),l(w,"description","description",g);var S=u("pubDate",g)||u("dc:date",g);return S&&(w.pubDate=new Date(S)),w})};l(b,"title","title",_),l(b,"link","link",_),l(b,"description","description",_);var y=u("lastBuildDate",_);return y&&(b.updated=new Date(y)),l(b,"author","managingEditor",_,!0),b}var i=["url","type","lang"],s=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function o(c){return(0,e.getElementsByTagName)("media:content",c).map(function(h){for(var m=h.attribs,_={medium:m.medium,isDefault:!!m.isDefault},b=0,y=i;b<y.length;b++){var p=y[b];m[p]&&(_[p]=m[p])}for(var g=0,w=s;g<w.length;g++){var p=w[g];m[p]&&(_[p]=parseInt(m[p],10))}return m.expression&&(_.expression=m.expression),_})}function f(c,h){return(0,e.getElementsByTagName)(c,h,!0,1)[0]}function u(c,h,m){return m===void 0&&(m=!1),(0,t.textContent)((0,e.getElementsByTagName)(c,h,m,1)).trim()}function l(c,h,m,_,b){b===void 0&&(b=!1);var y=u(m,_,b);y&&(c[h]=y)}function d(c){return c==="rss"||c==="feed"||c==="rdf:RDF"}return Nl}var AI;function nn(){return AI||(AI=1,function(t){var e=Os.__createBinding||(Object.create?function(a,i,s,o){o===void 0&&(o=s);var f=Object.getOwnPropertyDescriptor(i,s);(!f||("get"in f?!i.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(a,o,f)}:function(a,i,s,o){o===void 0&&(o=s),a[o]=i[s]}),r=Os.__exportStar||function(a,i){for(var s in a)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,a,s)};Object.defineProperty(t,"__esModule",{value:!0}),t.hasChildren=t.isDocument=t.isComment=t.isText=t.isCDATA=t.isTag=void 0,r(_I(),t),r(mF(),t),r(_F(),t),r(SI(),t),r(xI(),t),r(vF(),t),r(wF(),t);var n=wr();Object.defineProperty(t,"isTag",{enumerable:!0,get:function(){return n.isTag}}),Object.defineProperty(t,"isCDATA",{enumerable:!0,get:function(){return n.isCDATA}}),Object.defineProperty(t,"isText",{enumerable:!0,get:function(){return n.isText}}),Object.defineProperty(t,"isComment",{enumerable:!0,get:function(){return n.isComment}}),Object.defineProperty(t,"isDocument",{enumerable:!0,get:function(){return n.isDocument}}),Object.defineProperty(t,"hasChildren",{enumerable:!0,get:function(){return n.hasChildren}})}(Os)),Os}var OI;function EF(){return OI||(OI=1,function(t){var e=ei.__createBinding||(Object.create?function(y,p,g,w){w===void 0&&(w=g);var S=Object.getOwnPropertyDescriptor(p,g);(!S||("get"in S?!p.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return p[g]}}),Object.defineProperty(y,w,S)}:function(y,p,g,w){w===void 0&&(w=g),y[w]=p[g]}),r=ei.__setModuleDefault||(Object.create?function(y,p){Object.defineProperty(y,"default",{enumerable:!0,value:p})}:function(y,p){y.default=p}),n=ei.__importStar||function(y){if(y&&y.__esModule)return y;var p={};if(y!=null)for(var g in y)g!=="default"&&Object.prototype.hasOwnProperty.call(y,g)&&e(p,y,g);return r(p,y),p},a=ei.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(t,"__esModule",{value:!0}),t.DomUtils=t.parseFeed=t.getFeed=t.ElementType=t.Tokenizer=t.createDomStream=t.parseDOM=t.parseDocument=t.DefaultHandler=t.DomHandler=t.Parser=void 0;var i=oI(),s=oI();Object.defineProperty(t,"Parser",{enumerable:!0,get:function(){return s.Parser}});var o=wr(),f=wr();Object.defineProperty(t,"DomHandler",{enumerable:!0,get:function(){return f.DomHandler}}),Object.defineProperty(t,"DefaultHandler",{enumerable:!0,get:function(){return f.DomHandler}});function u(y,p){var g=new o.DomHandler(void 0,p);return new i.Parser(g,p).end(y),g.root}t.parseDocument=u;function l(y,p){return u(y,p).children}t.parseDOM=l;function d(y,p,g){var w=new o.DomHandler(y,p,g);return new i.Parser(w,p)}t.createDomStream=d;var c=iI();Object.defineProperty(t,"Tokenizer",{enumerable:!0,get:function(){return a(c).default}}),t.ElementType=n(ri());var h=nn(),m=nn();Object.defineProperty(t,"getFeed",{enumerable:!0,get:function(){return m.getFeed}});var _={xmlMode:!0};function b(y,p){return p===void 0&&(p=_),(0,h.getFeed)(l(y,p))}t.parseFeed=b,t.DomUtils=n(nn())}(ei)),ei}var SF={"@context":{alternate:"http://www.w3.org/1999/xhtml/vocab#alternate",appendix:"http://www.w3.org/1999/xhtml/vocab#appendix",cite:"http://www.w3.org/1999/xhtml/vocab#cite",bookmark:"http://www.w3.org/1999/xhtml/vocab#bookmark",contents:"http://www.w3.org/1999/xhtml/vocab#contents",chapter:"http://www.w3.org/1999/xhtml/vocab#chapter",copyright:"http://www.w3.org/1999/xhtml/vocab#copyright",first:"http://www.w3.org/1999/xhtml/vocab#first",glossary:"http://www.w3.org/1999/xhtml/vocab#glossary",help:"http://www.w3.org/1999/xhtml/vocab#help",icon:"http://www.w3.org/1999/xhtml/vocab#icon",index:"http://www.w3.org/1999/xhtml/vocab#index",last:"http://www.w3.org/1999/xhtml/vocab#last",license:"http://www.w3.org/1999/xhtml/vocab#license",meta:"http://www.w3.org/1999/xhtml/vocab#meta",next:"http://www.w3.org/1999/xhtml/vocab#next",prev:"http://www.w3.org/1999/xhtml/vocab#prev",previous:"http://www.w3.org/1999/xhtml/vocab#previous",section:"http://www.w3.org/1999/xhtml/vocab#section",start:"http://www.w3.org/1999/xhtml/vocab#start",stylesheet:"http://www.w3.org/1999/xhtml/vocab#stylesheet",subsection:"http://www.w3.org/1999/xhtml/vocab#subsection",top:"http://www.w3.org/1999/xhtml/vocab#top",up:"http://www.w3.org/1999/xhtml/vocab#up",p3pv1:"http://www.w3.org/1999/xhtml/vocab#p3pv1"}},TF={"@context":{as:"https://www.w3.org/ns/activitystreams#",cat:"http://www.w3.org/ns/dcat#",cc:"http://creativecommons.org/ns#",cnt:"http://www.w3.org/2008/content#",csvw:"http://www.w3.org/ns/csvw#",ctag:"http://commontag.org/ns#",dc:"http://purl.org/dc/terms/",dc11:"http://purl.org/dc/elements/1.1/",dcat:"http://www.w3.org/ns/dcat#",dcterms:"http://purl.org/dc/terms/",dqv:"http://www.w3.org/ns/dqv#",duv:"https://www.w3.org/TR/vocab-duv#",earl:"http://www.w3.org/ns/earl#",foaf:"http://xmlns.com/foaf/0.1/",gldp:"http://www.w3.org/ns/people#",gr:"http://purl.org/goodrelations/v1#",grddl:"http://www.w3.org/2003/g/data-view#",ht:"http://www.w3.org/2006/http#",ical:"http://www.w3.org/2002/12/cal/icaltzd#",ldp:"http://www.w3.org/ns/ldp#",ma:"http://www.w3.org/ns/ma-ont#",oa:"http://www.w3.org/ns/oa#",odrl:"http://www.w3.org/ns/odrl/2/",og:"http://ogp.me/ns#",org:"http://www.w3.org/ns/org#",owl:"http://www.w3.org/2002/07/owl#",prov:"http://www.w3.org/ns/prov#",ptr:"http://www.w3.org/2009/pointers#",qb:"http://purl.org/linked-data/cube#",rev:"http://purl.org/stuff/rev#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfa:"http://www.w3.org/ns/rdfa#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",rif:"http://www.w3.org/2007/rif#",rr:"http://www.w3.org/ns/r2rml#",schema:"http://schema.org/",sd:"http://www.w3.org/ns/sparql-service-description#",sioc:"http://rdfs.org/sioc/ns#",skos:"http://www.w3.org/2004/02/skos/core#",skosxl:"http://www.w3.org/2008/05/skos-xl#",ssn:"http://www.w3.org/ns/ssn/",sosa:"http://www.w3.org/ns/sosa/",time:"http://www.w3.org/2006/time#",v:"http://rdf.data-vocabulary.org/#",vcard:"http://www.w3.org/2006/vcard/ns#",void:"http://rdfs.org/ns/void#",wdr:"http://www.w3.org/2007/05/powder#",wdrs:"http://www.w3.org/2007/05/powder-s#",xhv:"http://www.w3.org/1999/xhtml/vocab#",xml:"http://www.w3.org/XML/1998/namespace",xsd:"http://www.w3.org/2001/XMLSchema#",describedby:"http://www.w3.org/2007/05/powder-s#describedby",license:"http://www.w3.org/1999/xhtml/vocab#license",role:"http://www.w3.org/1999/xhtml/vocab#role"}},ii={},NI;function Cg(){return NI||(NI=1,Object.defineProperty(ii,"__esModule",{value:!0}),ii.RDFA_CONTENTTYPES=ii.RDFA_FEATURES=void 0,ii.RDFA_FEATURES={"":{baseTag:!0,xmlBase:!0,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!0,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!0,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!0,roleAttribute:!0},core:{baseTag:!1,xmlBase:!1,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!1,datetimeAttribute:!1,timeTag:!1,htmlDatatype:!1,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!1,roleAttribute:!1},html:{baseTag:!0,xmlBase:!1,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!0,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!0,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!1,roleAttribute:!0},xhtml:{baseTag:!0,xmlBase:!1,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!0,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!0,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!0,roleAttribute:!0},xml:{baseTag:!1,xmlBase:!0,langAttribute:!0,onlyAllowUriRelRevIfProperty:!1,inheritSubjectInHeadBody:!1,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!1,copyRdfaPatterns:!1,xmlnsPrefixMappings:!0,xhtmlInitialContext:!1,roleAttribute:!0}},ii.RDFA_CONTENTTYPES={"text/html":"html","application/xhtml+xml":"xhtml","application/xml":"xml","text/xml":"xml","image/svg+xml":"xml"}),ii}var Ns={},PI;function DI(){if(PI)return Ns;PI=1,Object.defineProperty(Ns,"__esModule",{value:!0}),Ns.Util=void 0;const t=vr(),e=Cg(),r=Pt();class n{constructor(i,s){this.dataFactory=i||new r.DataFactory,this.baseIRI=this.dataFactory.namedNode(s||""),this.baseIRIDocument=this.baseIRI}static parsePrefixes(i,s,o){const f={};if(o)for(const u in i)u.startsWith("xmlns")&&(f[u.substr(6)]=i[u]);if(i.prefix||Object.keys(f).length>0){const u=Object.assign(Object.assign({},s),f);if(i.prefix){let l;for(;l=n.PREFIX_REGEX.exec(i.prefix);)u[l[1]]=l[2]}return u}else return s}static expandPrefixedTerm(i,s){const o=i.indexOf(":");let f,u;if(o>=0&&(f=i.substr(0,o),u=i.substr(o+1)),f==="")return"http://www.w3.org/1999/xhtml/vocab#"+u;if(f){const l=s.prefixesAll[f];if(l)return l+u}if(i){const l=s.prefixesAll[i.toLocaleLowerCase()];if(l)return l}return i}static isValidIri(i){return n.IRI_REGEX.test(i)}static contentTypeToProfile(i){return e.RDFA_CONTENTTYPES[i]||""}getBaseIRI(i){let s=i;const o=s.indexOf("#");return o>=0&&(s=s.substr(0,o)),this.dataFactory.namedNode((0,t.resolve)(s,this.baseIRI.value))}getResourceOrBaseIri(i,s){return i===!0?this.getBaseIriTerm(s):i}getBaseIriTerm(i){return i.localBaseIRI||this.baseIRI}createVocabIris(i,s,o,f){return i.split(/\s+/).filter(u=>u&&(o||u.indexOf(":")>=0)).map(u=>this.createIri(u,s,!0,!0,f)).filter(u=>u!=null)}createLiteral(i,s){if(s.interpretObjectAsTime&&!s.datatype){for(const o of n.TIME_REGEXES)if(i.match(o.regex)){s.datatype=this.dataFactory.namedNode(n.XSD+o.type);break}}return this.dataFactory.literal(i,s.datatype||s.language)}createBlankNode(){return this.blankNodeFactory?this.blankNodeFactory():this.dataFactory.blankNode()}createIri(i,s,o,f,u){if(i=i||"",!f)return o||(i=(0,t.resolve)(i,this.getBaseIriTerm(s).value)),n.isValidIri(i)?this.dataFactory.namedNode(i):null;if(i.length>0&&i[0]==="["&&i[i.length-1]==="]"&&(i=i.substr(1,i.length-2),i.indexOf(":")<0))return null;if(i.startsWith("_:"))return u?this.dataFactory.blankNode(i.substr(2)||"b_identity"):null;if(o&&s.vocab&&i.indexOf(":")<0)return this.dataFactory.namedNode(s.vocab+i);let l=n.expandPrefixedTerm(i,s);return o?i!==l&&(l=(0,t.resolve)(l,this.baseIRIDocument.value)):l=(0,t.resolve)(l,this.getBaseIriTerm(s).value),n.isValidIri(l)?this.dataFactory.namedNode(l):null}}return Ns.Util=n,n.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",n.XSD="http://www.w3.org/2001/XMLSchema#",n.RDFA="http://www.w3.org/ns/rdfa#",n.PREFIX_REGEX=/\s*([^:\s]*)*:\s*([^\s]*)*\s*/g,n.TIME_REGEXES=[{regex:/^-?P([0-9]+Y)?([0-9]+M)?([0-9]+D)?(T([0-9]+H)?([0-9]+M)?([0-9]+(\.[0-9])?S)?)?$/,type:"duration"},{regex:/^[0-9]+-[0-9][0-9]-[0-9][0-9]T[0-9][0-9]:[0-9][0-9]:[0-9][0-9]((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,type:"dateTime"},{regex:/^[0-9]+-[0-9][0-9]-[0-9][0-9]Z?$/,type:"date"},{regex:/^[0-9][0-9]:[0-9][0-9]:[0-9][0-9]((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,type:"time"},{regex:/^[0-9]+-[0-9][0-9]$/,type:"gYearMonth"},{regex:/^[0-9]+$/,type:"gYear"}],n.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`]*$/,Ns}var CI;function xF(){if(CI)return Is;CI=1,Object.defineProperty(Is,"__esModule",{value:!0}),Is.RdfaParser=void 0;const t=EF(),e=Tr(),r=SF,n=TF,a=Cg(),i=DI();let s=class i3 extends e.Transform{constructor(f){super({readableObjectMode:!0}),this.activeTagStack=[],f=f||{},this.options=f,this.util=new i.Util(f.dataFactory,f.baseIRI),this.defaultGraph=f.defaultGraph||this.util.dataFactory.defaultGraph();const u=f.contentType?i.Util.contentTypeToProfile(f.contentType):f.profile||"";this.features=f.features||a.RDFA_FEATURES[u],this.htmlParseListener=f.htmlParseListener,this.rdfaPatterns=this.features.copyRdfaPatterns?{}:null,this.pendingRdfaPatternCopies=this.features.copyRdfaPatterns?{}:null,this.parser=this.initializeParser(u==="xml"),this.activeTagStack.push({incompleteTriples:[],inlist:!1,language:f.language,listMapping:{},listMappingLocal:{},name:"",prefixesAll:Object.assign(Object.assign({},n["@context"]),this.features.xhtmlInitialContext?r["@context"]:{}),prefixesCustom:{},skipElement:!1,vocab:f.vocab})}import(f){const u=new e.PassThrough({readableObjectMode:!0});f.on("error",d=>l.emit("error",d)),f.on("data",d=>u.push(d)),f.on("end",()=>u.push(null));const l=u.pipe(new i3(this.options));return l}_transform(f,u,l){this.parser.write(f.toString()),l()}_flush(f){this.parser.end(),f()}onTagOpen(f,u){let l=this.activeTagStack.length-1;for(;l>0&&this.activeTagStack[l].skipElement;)l--;let d=this.activeTagStack[l];l!==this.activeTagStack.length-1&&(d=Object.assign(Object.assign({},d),{language:this.activeTagStack[this.activeTagStack.length-1].language,prefixesAll:this.activeTagStack[this.activeTagStack.length-1].prefixesAll,prefixesCustom:this.activeTagStack[this.activeTagStack.length-1].prefixesCustom,vocab:this.activeTagStack[this.activeTagStack.length-1].vocab}));const c={collectChildTags:d.collectChildTags,incompleteTriples:[],inlist:"inlist"in u,listMapping:[],listMappingLocal:d.listMapping,localBaseIRI:d.localBaseIRI,name:f,prefixesAll:null,prefixesCustom:null,skipElement:!1};if(this.activeTagStack.push(c),c.collectChildTags){for(const S of Object.keys(d.prefixesCustom).sort()){const I=d.prefixesCustom[S],O=S===""?"xmlns":"xmlns:"+S;O in u||(u[O]=I)}const w=Object.keys(u).map(S=>`${S}="${u[S]}"`).join(" ");if(c.text=[`<${f}${w?" "+w:""}>`],this.features.skipHandlingXmlLiteralChildren)return}let h=!0,m=!0;if(this.features.onlyAllowUriRelRevIfProperty&&("property"in u&&"rel"in u&&(h=!1,u.rel.indexOf(":")<0&&delete u.rel),"property"in u&&"rev"in u&&(m=!1,u.rev.indexOf(":")<0&&delete u.rev)),this.features.copyRdfaPatterns){if(d.collectedPatternTag){const w={attributes:u,children:[],name:f,referenced:!1,rootPattern:!1,text:[]};d.collectedPatternTag.children.push(w),c.collectedPatternTag=w;return}if(u.typeof==="rdfa:Pattern"){c.collectedPatternTag={attributes:u,children:[],name:f,parentTag:d,referenced:!1,rootPattern:!0,text:[]};return}if(u.property==="rdfa:copy"){const w=u.resource||u.href||u.src;this.rdfaPatterns[w]?this.emitPatternCopy(d,this.rdfaPatterns[w],w):(this.pendingRdfaPatternCopies[w]||(this.pendingRdfaPatternCopies[w]=[]),this.pendingRdfaPatternCopies[w].push(d));return}}this.features.baseTag&&f==="base"&&u.href&&(this.util.baseIRI=this.util.getBaseIRI(u.href)),this.features.xmlBase&&u["xml:base"]&&(c.localBaseIRI=this.util.getBaseIRI(u["xml:base"])),this.features.timeTag&&f==="time"&&!u.datatype&&(c.interpretObjectAsTime=!0);let _,b,y;if("vocab"in u?u.vocab?(c.vocab=u.vocab,this.emitTriple(this.util.getBaseIriTerm(c),this.util.dataFactory.namedNode(i.Util.RDFA+"usesVocabulary"),this.util.dataFactory.namedNode(c.vocab))):c.vocab=this.activeTagStack[0].vocab:c.vocab=d.vocab,c.prefixesCustom=i.Util.parsePrefixes(u,d.prefixesCustom,this.features.xmlnsPrefixMappings),c.prefixesAll=Object.keys(c.prefixesCustom).length>0?Object.assign(Object.assign({},d.prefixesAll),c.prefixesCustom):d.prefixesAll,this.features.roleAttribute&&u.role){const w=u.id?this.util.createIri("#"+u.id,c,!1,!1,!1):this.util.createBlankNode(),S=c.vocab;c.vocab="http://www.w3.org/1999/xhtml/vocab#";for(const I of this.util.createVocabIris(u.role,c,!0,!1))this.emitTriple(w,this.util.dataFactory.namedNode("http://www.w3.org/1999/xhtml/vocab#role"),I);c.vocab=S}"xml:lang"in u||this.features.langAttribute&&"lang"in u?c.language=u["xml:lang"]||u.lang:c.language=d.language;const p=this.activeTagStack.length===2;if(!("rel"in u)&&!("rev"in u)?"property"in u&&!("content"in u)&&!("datatype"in u)?("about"in u?(_=this.util.createIri(u.about,c,!1,!0,!0),c.explicitNewSubject=!!_):p?_=!0:d.object&&(_=d.object),"typeof"in u&&("about"in u&&(y=this.util.createIri(u.about,c,!1,!0,!0)),!y&&p&&(y=!0),!y&&"resource"in u&&(y=this.util.createIri(u.resource,c,!1,!0,!0)),!y&&("href"in u||"src"in u)&&(y=this.util.createIri(u.href||u.src,c,!1,!1,!0)),!y&&this.isInheritSubjectInHeadBody(f)&&(y=_),y||(y=this.util.createBlankNode()),b=y)):(("about"in u||"resource"in u)&&(_=this.util.createIri(u.about||u.resource,c,!1,!0,!0),c.explicitNewSubject=!!_),!_&&("href"in u||"src"in u)&&(_=this.util.createIri(u.href||u.src,c,!1,!1,!0),c.explicitNewSubject=!!_),_||(p?_=!0:this.isInheritSubjectInHeadBody(f)?_=d.object:"typeof"in u?(_=this.util.createBlankNode(),c.explicitNewSubject=!0):d.object&&(_=d.object,"property"in u||(c.skipElement=!0))),"typeof"in u&&(y=_)):("about"in u?(_=this.util.createIri(u.about,c,!1,!0,!0),c.explicitNewSubject=!!_,"typeof"in u&&(y=_)):p?_=!0:d.object&&(_=d.object),"resource"in u&&(b=this.util.createIri(u.resource,c,!1,!0,!0)),b||("href"in u||"src"in u?b=this.util.createIri(u.href||u.src,c,!1,!1,!0):"typeof"in u&&!("about"in u)&&!this.isInheritSubjectInHeadBody(f)&&(b=this.util.createBlankNode())),"typeof"in u&&!("about"in u)&&(this.isInheritSubjectInHeadBody(f)?y=_:y=b)),y)for(const w of this.util.createVocabIris(u.typeof,c,!0,!0))this.emitTriple(this.util.getResourceOrBaseIri(y,c),this.util.dataFactory.namedNode(i.Util.RDF+"type"),w);if(_&&(c.listMapping={}),b){if("rel"in u&&"inlist"in u)for(const w of this.util.createVocabIris(u.rel,c,h,!1))this.addListMapping(c,_,w,b);if(!("rel"in u&&"inlist"in u)){if("rel"in u)for(const w of this.util.createVocabIris(u.rel,c,h,!1))this.emitTriple(this.util.getResourceOrBaseIri(_,c),w,this.util.getResourceOrBaseIri(b,c));if("rev"in u)for(const w of this.util.createVocabIris(u.rev,c,m,!1))this.emitTriple(this.util.getResourceOrBaseIri(b,c),w,this.util.getResourceOrBaseIri(_,c))}}if(!b){if("rel"in u)if("inlist"in u)for(const w of this.util.createVocabIris(u.rel,c,h,!1))this.addListMapping(c,_,w,null),c.incompleteTriples.push({predicate:w,reverse:!1,list:!0});else for(const w of this.util.createVocabIris(u.rel,c,h,!1))c.incompleteTriples.push({predicate:w,reverse:!1});if("rev"in u)for(const w of this.util.createVocabIris(u.rev,c,m,!1))c.incompleteTriples.push({predicate:w,reverse:!0});c.incompleteTriples.length>0&&(b=this.util.createBlankNode())}if("property"in u){c.predicates=this.util.createVocabIris(u.property,c,!0,!1);let w;if("datatype"in u?(c.datatype=this.util.createIri(u.datatype,c,!0,!0,!1),c.datatype&&(c.datatype.value===i.Util.RDF+"XMLLiteral"||this.features.htmlDatatype&&c.datatype.value===i.Util.RDF+"HTML")&&(c.collectChildTags=!0)):(!("rev"in u)&&!("rel"in u)&&!("content"in u)&&("resource"in u&&(w=this.util.createIri(u.resource,c,!1,!0,!0)),!w&&"href"in u&&(w=this.util.createIri(u.href,c,!1,!1,!0)),!w&&"src"in u&&(w=this.util.createIri(u.src,c,!1,!1,!0))),"typeof"in u&&!("about"in u)&&(w=y)),"content"in u){const S=this.util.createLiteral(u.content,c);if("inlist"in u)for(const I of c.predicates)this.addListMapping(c,_,I,S);else{const I=this.util.getResourceOrBaseIri(_,c);for(const O of c.predicates)this.emitTriple(I,O,S)}c.predicates=null}else if(this.features.datetimeAttribute&&"datetime"in u){c.interpretObjectAsTime=!0;const S=this.util.createLiteral(u.datetime,c);if("inlist"in u)for(const I of c.predicates)this.addListMapping(c,_,I,S);else{const I=this.util.getResourceOrBaseIri(_,c);for(const O of c.predicates)this.emitTriple(I,O,S)}c.predicates=null}else if(w){const S=this.util.getResourceOrBaseIri(w,c);if("inlist"in u)for(const I of c.predicates)this.addListMapping(c,_,I,S);else{const I=this.util.getResourceOrBaseIri(_,c);for(const O of c.predicates)this.emitTriple(I,O,S)}c.predicates=null}}let g=!1;if(!c.skipElement&&_&&d.incompleteTriples.length>0){g=!0;const w=this.util.getResourceOrBaseIri(d.subject,c),S=this.util.getResourceOrBaseIri(_,c);for(const I of d.incompleteTriples)if(I.reverse)this.emitTriple(S,I.predicate,w);else if(I.list){let O=null;for(let M=this.activeTagStack.length-1;M>=0;M--)if(this.activeTagStack[M].inlist){O=this.activeTagStack[M];break}this.addListMapping(O,_,I.predicate,S)}else this.emitTriple(w,I.predicate,S)}!g&&d.incompleteTriples.length>0&&(c.incompleteTriples=c.incompleteTriples.concat(d.incompleteTriples)),c.subject=_||d.subject,c.object=b||_}onText(f){const u=this.activeTagStack[this.activeTagStack.length-1];if(this.features.copyRdfaPatterns&&u.collectedPatternTag){u.collectedPatternTag.text.push(f);return}u.text||(u.text=[]),u.text.push(f)}onTagClose(){const f=this.activeTagStack[this.activeTagStack.length-1],u=this.activeTagStack[this.activeTagStack.length-2];if(!(f.collectChildTags&&u.collectChildTags&&this.features.skipHandlingXmlLiteralChildren)){if(this.features.copyRdfaPatterns&&f.collectedPatternTag&&f.collectedPatternTag.rootPattern){const l=f.collectedPatternTag.attributes.resource;if(delete f.collectedPatternTag.attributes.resource,delete f.collectedPatternTag.attributes.typeof,this.rdfaPatterns[l]=f.collectedPatternTag,this.pendingRdfaPatternCopies[l]){for(const d of this.pendingRdfaPatternCopies[l])this.emitPatternCopy(d,f.collectedPatternTag,l);delete this.pendingRdfaPatternCopies[l]}this.activeTagStack.pop();return}if(f.predicates){const l=this.util.getResourceOrBaseIri(f.subject,f);let d=f.text||[];f.collectChildTags&&u.collectChildTags&&(d=d.slice(1));const c=this.util.createLiteral(d.join(""),f);if(f.inlist)for(const h of f.predicates)this.addListMapping(f,l,h,c);else for(const h of f.predicates)this.emitTriple(l,h,c);u.predicates||(f.text=null)}if(f.object&&Object.keys(f.listMapping).length>0){const l=this.util.getResourceOrBaseIri(f.object,f);for(const d in f.listMapping){const c=this.util.dataFactory.namedNode(d),h=f.listMapping[d];if(h.length>0){const m=h.map(()=>this.util.createBlankNode());for(let _=0;_<h.length;_++){const b=this.util.getResourceOrBaseIri(h[_],f);this.emitTriple(m[_],this.util.dataFactory.namedNode(i.Util.RDF+"first"),b),this.emitTriple(m[_],this.util.dataFactory.namedNode(i.Util.RDF+"rest"),_<h.length-1?m[_+1]:this.util.dataFactory.namedNode(i.Util.RDF+"nil"))}this.emitTriple(l,c,m[0])}else this.emitTriple(l,c,this.util.dataFactory.namedNode(i.Util.RDF+"nil"))}}}this.activeTagStack.pop(),f.collectChildTags&&f.text&&f.text.push(`</${f.name}>`),f.text&&u&&(u.text?u.text=u.text.concat(f.text):u.text=f.text)}onEnd(){if(this.features.copyRdfaPatterns){this.features.copyRdfaPatterns=!1;for(const f in this.rdfaPatterns){const u=this.rdfaPatterns[f];u.referenced||(u.attributes.typeof="rdfa:Pattern",u.attributes.resource=f,this.emitPatternCopy(u.parentTag,u,f),u.referenced=!1,delete u.attributes.typeof,delete u.attributes.resource)}for(const f in this.pendingRdfaPatternCopies)for(const u of this.pendingRdfaPatternCopies[f])this.activeTagStack.push(u),this.onTagOpen("link",{property:"rdfa:copy",href:f}),this.onTagClose(),this.activeTagStack.pop();this.features.copyRdfaPatterns=!0}}isInheritSubjectInHeadBody(f){return this.features.inheritSubjectInHeadBody&&(f==="head"||f==="body")}addListMapping(f,u,l,d){if(f.explicitNewSubject){const c=this.util.createBlankNode();this.emitTriple(this.util.getResourceOrBaseIri(u,f),l,c),this.emitTriple(c,this.util.dataFactory.namedNode(i.Util.RDF+"first"),this.util.getResourceOrBaseIri(d,f)),this.emitTriple(c,this.util.dataFactory.namedNode(i.Util.RDF+"rest"),this.util.dataFactory.namedNode(i.Util.RDF+"nil"))}else{let c=f.listMappingLocal[l.value];c||(f.listMappingLocal[l.value]=c=[]),d&&c.push(d)}}emitTriple(f,u,l){f.termType==="NamedNode"&&f.value.indexOf(":")<0||u.termType==="NamedNode"&&u.value.indexOf(":")<0||l.termType==="NamedNode"&&l.value.indexOf(":")<0||this.push(this.util.dataFactory.quad(f,u,l,this.defaultGraph))}emitPatternCopy(f,u,l){if(this.activeTagStack.push(f),u.referenced=!0,!u.constructedBlankNodes)u.constructedBlankNodes=[],this.util.blankNodeFactory=()=>{const d=this.util.dataFactory.blankNode();return u.constructedBlankNodes.push(d),d};else{let d=0;this.util.blankNodeFactory=()=>u.constructedBlankNodes[d++]}this.emitPatternCopyAbsolute(u,!0,l),this.util.blankNodeFactory=null,this.activeTagStack.pop()}emitPatternCopyAbsolute(f,u,l){if(!(!u&&f.attributes.property==="rdfa:copy"&&f.attributes.href===l)){this.onTagOpen(f.name,f.attributes);for(const d of f.text)this.onText(d);for(const d of f.children)this.emitPatternCopyAbsolute(d,!1,l);this.onTagClose()}}initializeParser(f){return new t.Parser({onclosetag:()=>{try{this.onTagClose(),this.htmlParseListener&&this.htmlParseListener.onTagClose()}catch(u){this.emit("error",u)}},onend:()=>{try{this.onEnd(),this.htmlParseListener&&this.htmlParseListener.onEnd()}catch(u){this.emit("error",u)}},onopentag:(u,l)=>{try{this.onTagOpen(u,l),this.htmlParseListener&&this.htmlParseListener.onTagOpen(u,l)}catch(d){this.emit("error",d)}},ontext:u=>{try{this.onText(u),this.htmlParseListener&&this.htmlParseListener.onText(u)}catch(l){this.emit("error",l)}}},{decodeEntities:!0,recognizeSelfClosing:!0,xmlMode:f})}};return Is.RdfaParser=s,Is}var LI;function FI(){return LI||(LI=1,function(t){var e=Rs.__createBinding||(Object.create?function(n,a,i,s){s===void 0&&(s=i);var o=Object.getOwnPropertyDescriptor(a,i);(!o||("get"in o?!a.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,s,o)}:function(n,a,i,s){s===void 0&&(s=i),n[s]=a[i]}),r=Rs.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&e(a,n,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(fF(),t),r(lF(),t),r(cF(),t),r(xF(),t),r(Cg(),t),r(DI(),t)}(Rs)),Rs}var MI;function RF(){if(MI)return xs;MI=1,Object.defineProperty(xs,"__esModule",{value:!0}),xs.ActorRdfParseXmlRdfa=void 0;const t=Xi(),e=Or(),r=FI();let n=class extends t.ActorRdfParseFixedMediaTypes{constructor(i){super(i)}async runHandle(i,s,o){var d;const f=i.context.getSafe(e.KeysInitQuery.dataFactory),u=(i.headers&&i.headers.get("content-language"))??void 0;i.data.on("error",c=>l.emit("error",c));const l=i.data.pipe(new r.RdfaParser({dataFactory:f,baseIRI:(d=i.metadata)==null?void 0:d.baseIRI,profile:"xml",language:u}));return{data:l,metadata:{triples:!0}}}};return xs.ActorRdfParseXmlRdfa=n,xs}var jI;function IF(){return jI||(jI=1,function(t){var e=Ts.__createBinding||(Object.create?function(n,a,i,s){s===void 0&&(s=i);var o=Object.getOwnPropertyDescriptor(a,i);(!o||("get"in o?!a.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,s,o)}:function(n,a,i,s){s===void 0&&(s=i),n[s]=a[i]}),r=Ts.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&e(a,n,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(RF(),t)}(Ts)),Ts}var Ps={},Ds={},Pl={},Lg,qI;function AF(){if(qI)return Lg;qI=1;var t=function(){var e=function(Ie,Ce,He,Ve){for(He=He||{},Ve=Ie.length;Ve--;He[Ie[Ve]]=Ce);return He},r=[7,12,13,14,15,16,20,25,115,130],n=[7,13,16,20,25,115,130],a=[7,13,16,115,130],i=[1,25],s=[1,29],o=[1,27],f=[1,28],u=[13,16,115,130],l=[13,16,28,38,40,42,44,46,48,53,56,61,67,85,87,92,93,95,96,102,110,111,115,119,120,126,128,129,130,131,132,133,134,135,136],d=[28,56],c=[1,42],h=[46,48,53,56],m=[1,54],_=[1,60],b=[1,56],y=[1,57],p=[1,58],g=[1,63],w=[1,64],S=[1,65],I=[1,66],O=[1,67],M=[1,68],D=[1,75],N=[28,46,48,53,56],C=[28,42,46,48,53,56],R=[13,16,28,38,40,42,44,46,48,53,56,92,115,119,120,130,131,132,133,134,135,136],F=[13,16,28,38,40,42,44,46,48,53,56,67,85,87,92,95,96,115,119,120,126,128,129,130,131,132,133,134,135,136],X=[13,16,38,40,44,92,115,119,120,130,131,132,133,134,135,136],oe=[13,16,28,38,40,42,44,46,48,53,56,67,85,87,92,95,96,115,117,118,119,120,126,128,129,130,131,132,133,134,135,136],J=[13,16,28,56,115,130],le=[13,16,38,58,87,96,109,115,126,130],ae=[1,116],Z=[1,112],H=[1,108],de=[1,114],he=[1,111],W=[7,13,16,20,25,44,48,53,56,67,85,87,95,96,115,128,129,130],z=[48,53],Q=[48,53,87,96,126],A=[13,16,44,48,53,56,85,87,95,96,115,128,129,130],P=[1,126],k=[13,16,40,44,48,53,56,85,87,95,96,115,128,129,130],G=[1,129],te=[48,53,67,87,96,126],E=[13,16,40,44,48,53,56,67,85,87,95,96,115,128,129,130],v=[1,133],T=[13,16,40,44,48,53,56,67,85,87,95,96,102,115,128,129,130],L=[13,16,40,44,48,53,56,67,85,87,93,95,96,102,110,111,115,128,129,130],Y=[1,151],ne=[1,153],pe=[1,156],we=[1,157],fe=[1,158],Re=[1,167],Le=[1,175],Te=[13,16,44,48,53,56,67,85,87,95,96,115,128,129,130],Ue=[13,16,44,48,53,56,67,85,87,95,96,115,126,128,129,130],_e=[13,16,46,92,115,119,120,130,131,132,133,134,135,136],Ee={trace:function(){},yy:{},symbols_:{error:2,shaclDoc:3,shaclDoc_repetition0:4,shaclDoc_repetition1:5,ttlSection:6,EOF:7,directive:8,baseDecl:9,importsDecl:10,prefixDecl:11,KW_BASE:12,IRIREF:13,KW_IMPORTS:14,KW_PREFIX:15,PNAME_NS:16,nodeShapeIri:17,iri:18,nodeShape:19,KW_SHAPE:20,nodeShape_option0:21,nodeShape_option1:22,nodeShapeBody:23,shapeClass:24,KW_SHAPE_CLASS:25,shapeClass_option0:26,turtleAnnotation:27,";":28,turtleAnnotation2:29,predicate:30,turtleAnnotation2_option0:31,objectList:32,object:33,objectList_repetition0:34,iriOrLiteral:35,blankNodeSection:36,list:37,"(":38,list_repetition0:39,")":40,objectTail:41,",":42,LB:43,"[":44,RB:45,"]":46,LP:47,"%":48,RP:49,pcSection:50,iriHead:51,ttlStatement:52,".":53,ttlSection_repetition0:54,startNodeShape:55,"{":56,endNodeShape:57,"}":58,nodeShapeBody_repetition0:59,targetClass:60,"->":61,targetClass_repetition_plus0:62,constraint:63,constraint_group0:64,constraint_option0:65,orNotComponent:66,"|":67,nodeNot:68,nodeOrEmit:69,nodeOr:70,nodeOr_repetition_plus0:71,nodeValue:72,negation:73,nodeValue_group0:74,"=":75,iriOrLiteralOrArray:76,propertyShape:77,path:78,propertyShape_repetition0:79,propertyOrComponent:80,propertyNot:81,propertyOr:82,propertyOr_repetition_plus0:83,propertyAtom:84,NODEKIND:85,shapeRef:86,PARAM:87,propertyCount:88,propertyMinCount:89,"..":90,propertyMaxCount:91,INTEGER:92,"*":93,shapeRef_group0:94,"@":95,"!":96,pathAlternative:97,additionalAlternative:98,pathSequence:99,pathAlternative_repetition_plus0:100,additionalSequence:101,"/":102,pathEltOrInverse:103,pathSequence_repetition_plus0:104,pathElt:105,pathPrimary:106,pathMod:107,pathInverse:108,"^":109,"?":110,"+":111,iriOrLiteralOrArray_repetition0:112,literal:113,iri_group0:114,a:115,string:116,LANGTAG:117,"^^":118,DECIMAL:119,DOUBLE:120,literal_group0:121,string_group0:122,string_group1:123,shaclDoc_repetition1_group0:124,constraint_group0_repetition_plus0:125,TARGET:126,propertyShape_repetition0_group0:127,ATPNAME_LN:128,ATPNAME_NS:129,PNAME_LN:130,KW_TRUE:131,KW_FALSE:132,STRING_LITERAL1:133,STRING_LITERAL2:134,STRING_LITERAL_LONG1:135,STRING_LITERAL_LONG2:136,$accept:0,$end:1},terminals_:{2:"error",7:"EOF",12:"KW_BASE",13:"IRIREF",14:"KW_IMPORTS",15:"KW_PREFIX",16:"PNAME_NS",20:"KW_SHAPE",25:"KW_SHAPE_CLASS",28:";",38:"(",40:")",42:",",44:"[",46:"]",48:"%",53:".",56:"{",58:"}",61:"->",67:"|",75:"=",85:"NODEKIND",87:"PARAM",90:"..",92:"INTEGER",93:"*",95:"@",96:"!",102:"/",109:"^",110:"?",111:"+",115:"a",117:"LANGTAG",118:"^^",119:"DECIMAL",120:"DOUBLE",126:"TARGET",128:"ATPNAME_LN",129:"ATPNAME_NS",130:"PNAME_LN",131:"KW_TRUE",132:"KW_FALSE",133:"STRING_LITERAL1",134:"STRING_LITERAL2",135:"STRING_LITERAL_LONG1",136:"STRING_LITERAL_LONG2"},productions_:[0,[3,4],[8,1],[8,1],[8,1],[9,2],[10,2],[11,3],[17,1],[19,5],[24,4],[27,2],[29,2],[30,2],[32,2],[33,1],[33,1],[33,1],[37,3],[41,2],[43,1],[45,1],[36,3],[47,1],[49,1],[50,3],[51,1],[52,3],[6,1],[55,1],[57,1],[23,3],[60,2],[63,3],[66,2],[69,1],[70,1],[70,2],[68,1],[68,2],[72,3],[77,2],[80,2],[82,1],[82,2],[81,1],[81,2],[84,1],[84,1],[84,1],[84,3],[84,1],[88,5],[89,1],[91,1],[91,1],[86,1],[86,2],[73,1],[78,1],[98,2],[97,1],[97,2],[101,2],[99,1],[99,2],[105,1],[105,2],[103,1],[103,2],[108,1],[107,1],[107,1],[107,1],[106,1],[106,3],[76,1],[76,3],[35,1],[35,1],[18,1],[18,1],[18,1],[113,1],[113,2],[113,3],[113,1],[113,1],[113,1],[113,1],[116,1],[116,1],[4,0],[4,2],[124,1],[124,1],[5,0],[5,2],[21,0],[21,1],[22,0],[22,1],[26,0],[26,1],[31,0],[31,1],[34,0],[34,2],[39,0],[39,2],[54,0],[54,2],[59,0],[59,2],[62,1],[62,2],[125,1],[125,2],[64,1],[64,1],[65,0],[65,1],[71,1],[71,2],[74,1],[74,1],[127,1],[127,1],[79,0],[79,2],[83,1],[83,2],[94,1],[94,1],[100,1],[100,2],[104,1],[104,2],[112,0],[112,2],[114,1],[114,1],[121,1],[121,1],[122,1],[122,1],[123,1],[123,1]],performAction:function(Ce,He,Ve,Ke,Ge,Be,St){var ke=Be.length-1;switch(Ge){case 1:this.$=B(be.factory.namedNode(Se("")),be.factory.namedNode(je),be.factory.namedNode(K+"Ontology"));break;case 5:be.base=be.factory.namedNode(Be[ke].slice(1,-1)),be.n3Parser._setBase(be.base.value);break;case 6:this.$=B(be.base,be.factory.namedNode(K+"imports"),be.factory.namedNode(Be[ke].slice(1,-1)));break;case 7:this.$=be.prefixes[Be[ke-1].substr(0,Be[ke-1].length-1)]=Se(Be[ke]);break;case 8:be.nodeShapeStack=!1,B(be.currentNodeShape=Be[ke],be.factory.namedNode(je),be.factory.namedNode(re+"NodeShape"));break;case 10:this.$=B(be.currentNodeShape,be.factory.namedNode(je),be.factory.namedNode(De+"Class"));break;case 11:this.$=ce();break;case 13:this.$=Be[ke].forEach(Ne=>B(be.currentNodeShape,Be[ke-1],Ne));break;case 14:this.$=[Be[ke-1],...Be[ke]];break;case 18:this.$=q(Be[ke-1],!0);break;case 19:case 34:case 42:case 60:case 63:this.$=Be[ke];break;case 20:be.tempCurrentNodeShape=be.currentNodeShape,this.$=be.currentNodeShape=Oe();break;case 21:be.currentNodeShape=be.tempCurrentNodeShape;break;case 22:case 31:this.$=Be[ke-2];break;case 23:be.tempCurrentNodeShape=be.currentNodeShape,be.currentNodeShape=be.currentPropertyNode;break;case 24:be.currentNodeShape=be.tempCurrentNodeShape;break;case 26:be.currentNodeShape=Be[ke];break;case 29:be.nodeShapeStack?(be.nodeShapeStack.push(be.currentNodeShape),B(be.currentPropertyNode,be.factory.namedNode(re+"node"),be.currentNodeShape=Oe())):be.nodeShapeStack=[],this.$=be.currentNodeShape;break;case 30:be.nodeShapeStack.length>0&&(be.currentNodeShape=be.nodeShapeStack.pop());break;case 32:this.$=Be[ke].forEach(Ne=>{B(be.currentNodeShape,be.factory.namedNode(re+"targetClass"),Ne)});break;case 35:this.$=B(be.currentNodeShape,be.factory.namedNode(re+Be[ke][0]),Be[ke][1]);break;case 36:break;case 37:const ge=q([Be[ke-1],...Be[ke]].map(Ne=>{const Xe=Oe();return B(Xe,be.factory.namedNode(re+Ne[0]),Ne[1]),Xe}));this.$=["or",ge];break;case 39:case 46:this.$=U("not",...Be[ke]);break;case 40:case 50:this.$=[Be[ke-2],Be[ke]];break;case 43:this.$=Be[ke]&&j(...Be[ke]);break;case 44:this.$=j("or",q([Be[ke-1],...Be[ke]].map(Ne=>{const Xe=Oe();return B(Xe,be.factory.namedNode(re+Ne[0]),Ne[1]),Xe})));break;case 47:this.$=[qe[Be[ke].value]?"datatype":"class",Be[ke]];break;case 48:this.$=["nodeKind",be.factory.namedNode(re+Be[ke])];break;case 49:this.$=["node",be.factory.namedNode(Be[ke])];break;case 51:this.$=void 0;break;case 53:this.$=Be[ke]>0&&j("minCount",se(Be[ke],$));break;case 54:this.$=j("maxCount",se(Be[ke],$));break;case 56:this.$=Pe(Be[ke].slice(1));break;case 57:this.$=Se(Be[ke]);break;case 59:B(be.currentNodeShape,be.factory.namedNode(re+"property"),be.currentPropertyNode=Oe()),j("path",Be[ke]);break;case 62:const Ae=Oe();B(Ae,be.factory.namedNode(re+"alternativePath"),q([Be[ke-1],...Be[ke]])),this.$=Ae;break;case 65:this.$=q([Be[ke-1],...Be[ke]]);break;case 67:B(this.$=Oe(),be.factory.namedNode(re+Be[ke]),Be[ke-1]);break;case 69:B(this.$=Oe(),be.factory.namedNode(re+"inversePath"),Be[ke]);break;case 71:this.$="zeroOrOnePath";break;case 72:this.$="zeroOrMorePath";break;case 73:this.$="oneOrMorePath";break;case 75:this.$=Be[ke-1];break;case 77:this.$=q(Be[ke-1]);break;case 80:this.$=be.factory.namedNode(Se(Be[ke]));break;case 81:this.$=be.factory.namedNode(Pe(Be[ke]));break;case 82:this.$=ce(be.factory.namedNode(je));break;case 83:this.$=se(Be[ke]);break;case 84:this.$=ve(Be[ke-1],lowercase(Be[ke].substr(1)));break;case 85:this.$=se(Be[ke-2],Be[ke]);break;case 86:this.$=se(Be[ke],$);break;case 87:this.$=se(Be[ke],ie);break;case 88:this.$=se(Be[ke].toLowerCase(),ye);break;case 89:this.$=se(Be[ke].toLowerCase(),V);break;case 90:this.$=ue(Be[ke],1);break;case 91:this.$=ue(Be[ke],3);break;case 92:case 96:case 106:case 108:case 110:case 112:case 128:case 138:this.$=[];break;case 93:case 97:case 107:case 109:case 111:case 113:case 115:case 117:case 123:case 129:case 131:case 135:case 137:case 139:Be[ke-1].push(Be[ke]);break;case 114:case 116:case 122:case 130:case 134:case 136:this.$=[Be[ke]];break}},table:[e(r,[2,92],{3:1,4:2}),{1:[3]},e(n,[2,96],{5:3,8:4,9:5,10:6,11:7,12:[1,8],14:[1,9],15:[1,10]}),e(a,[2,110],{6:11,124:12,54:13,19:14,24:15,20:[1,16],25:[1,17]}),e(r,[2,93]),e(r,[2,2]),e(r,[2,3]),e(r,[2,4]),{13:[1,18]},{13:[1,19]},{16:[1,20]},{7:[1,21]},e(n,[2,97]),{7:[2,28],13:i,16:s,18:24,51:23,52:22,114:26,115:o,130:f},e(n,[2,94]),e(n,[2,95]),{13:i,16:s,17:30,18:31,114:26,115:o,130:f},{13:i,16:s,17:32,18:31,114:26,115:o,130:f},e(r,[2,5]),e(r,[2,6]),{13:[1,33]},{1:[2,1]},e(a,[2,111]),{13:i,16:s,18:36,29:34,30:35,114:26,115:o,130:f},e(u,[2,26]),e(l,[2,80]),e(l,[2,81]),e(l,[2,82]),e(l,[2,140]),e(l,[2,141]),e(d,[2,98],{21:37,60:38,61:[1,39]}),e([28,56,61],[2,8]),{26:40,27:41,28:c,56:[2,102]},e(r,[2,7]),{53:[1,43]},e(h,[2,104],{31:44,27:45,28:c}),{13:i,16:s,18:51,32:46,33:47,35:48,36:49,37:50,38:m,43:53,44:_,92:b,113:52,114:26,115:o,116:55,119:y,120:p,121:59,122:61,123:62,130:f,131:g,132:w,133:S,134:I,135:O,136:M},{22:69,27:70,28:c,56:[2,100]},e(d,[2,99]),{13:i,16:s,18:72,62:71,114:26,115:o,130:f},{23:73,55:74,56:D},{56:[2,103]},{13:i,16:s,18:36,29:76,30:35,114:26,115:o,130:f},e(a,[2,27]),e(h,[2,12]),e(h,[2,105]),e(N,[2,13]),e(C,[2,106],{34:77}),e(R,[2,15]),e(R,[2,16]),e(R,[2,17]),e(F,[2,78]),e(F,[2,79]),{13:i,16:s,18:36,29:78,30:35,114:26,115:o,130:f},e(X,[2,108],{39:79}),e(F,[2,83],{117:[1,80],118:[1,81]}),e(F,[2,86]),e(F,[2,87]),e(F,[2,88]),e(F,[2,89]),e(u,[2,20]),e(oe,[2,90]),e(oe,[2,91]),e(F,[2,142]),e(F,[2,143]),e(oe,[2,144]),e(oe,[2,145]),e(oe,[2,146]),e(oe,[2,147]),{23:82,55:74,56:D},{56:[2,101]},e(d,[2,32],{114:26,18:83,13:i,16:s,115:o,130:f}),e(J,[2,114]),e(n,[2,10]),e(le,[2,112],{59:84}),e(le,[2,29]),e(h,[2,11]),e(N,[2,14],{41:85,42:[1,86]}),{45:87,46:[1,88]},{13:i,16:s,18:51,33:90,35:48,36:49,37:50,38:m,40:[1,89],43:53,44:_,92:b,113:52,114:26,115:o,116:55,119:y,120:p,121:59,122:61,123:62,130:f,131:g,132:w,133:S,134:I,135:O,136:M},e(F,[2,84]),{13:i,16:s,18:91,114:26,115:o,130:f},e(n,[2,9]),e(J,[2,115]),{13:i,16:s,18:115,38:ae,57:92,58:[1,94],63:93,64:95,68:102,69:98,70:100,72:104,73:105,74:107,77:97,78:99,87:Z,96:H,97:101,99:103,103:106,105:109,106:113,108:110,109:de,114:26,115:o,125:96,126:he,130:f},e(C,[2,107]),{13:i,16:s,18:51,33:117,35:48,36:49,37:50,38:m,43:53,44:_,92:b,113:52,114:26,115:o,116:55,119:y,120:p,121:59,122:61,123:62,130:f,131:g,132:w,133:S,134:I,135:O,136:M},e(R,[2,22]),e(R,[2,21]),e(R,[2,18]),e(X,[2,109]),e(F,[2,85]),e(W,[2,31]),e(le,[2,113]),e(W,[2,30]),{47:120,48:[1,121],50:119,53:[2,120],65:118},e(z,[2,118],{70:100,68:102,72:104,73:105,74:107,69:122,87:Z,96:H,126:he}),e(z,[2,119]),e(Q,[2,116]),e(A,[2,128],{79:123}),e(Q,[2,35]),e(A,[2,59]),e(Q,[2,36],{71:124,66:125,67:P}),e(k,[2,61],{100:127,98:128,67:G}),e(te,[2,38]),{72:130,74:107,87:Z,126:he},e(E,[2,64],{104:131,101:132,102:v}),{75:[1,134]},e([13,16,56,85,87,95,115,126,128,129,130],[2,58]),e(T,[2,68]),{13:i,16:s,18:115,38:ae,105:135,106:113,114:26,115:o,130:f},{75:[2,124]},{75:[2,125]},e(T,[2,66],{107:136,93:[1,138],110:[1,137],111:[1,139]}),e([13,16,38,115,130],[2,70]),e(L,[2,74]),{13:i,16:s,18:115,38:ae,97:140,99:103,103:106,105:109,106:113,108:110,109:de,114:26,115:o,130:f},e(C,[2,19]),{53:[1,141]},{53:[2,121]},{13:i,16:s,18:36,29:142,30:35,114:26,115:o,130:f},e(u,[2,23]),e(Q,[2,117]),e(z,[2,41],{114:26,55:74,127:143,88:144,82:145,81:147,84:148,73:149,18:150,86:152,23:154,94:155,13:i,16:s,44:[1,146],56:D,85:Y,87:ne,95:pe,96:H,115:o,128:we,129:fe,130:f}),e(Q,[2,37],{66:159,67:P}),e(te,[2,122]),{68:160,72:104,73:105,74:107,87:Z,96:H,126:he},e(k,[2,62],{98:161,67:G}),e(E,[2,134]),{13:i,16:s,18:115,38:ae,99:162,103:106,105:109,106:113,108:110,109:de,114:26,115:o,130:f},e(te,[2,39]),e(E,[2,65],{101:163,102:v}),e(T,[2,136]),{13:i,16:s,18:115,38:ae,103:164,105:109,106:113,108:110,109:de,114:26,115:o,130:f},{13:i,16:s,18:51,35:166,44:Re,76:165,92:b,113:52,114:26,115:o,116:55,119:y,120:p,121:59,122:61,123:62,130:f,131:g,132:w,133:S,134:I,135:O,136:M},e(T,[2,69]),e(T,[2,67]),e(T,[2,71]),e(T,[2,72]),e(T,[2,73]),{40:[1,168]},e(le,[2,33]),{48:[1,170],49:169},e(A,[2,129]),e(A,[2,126]),e(A,[2,127]),{89:171,92:[1,172]},e(A,[2,43],{83:173,80:174,67:Le}),e(Te,[2,45]),{13:i,16:s,18:150,23:154,55:74,56:D,84:176,85:Y,86:152,87:ne,94:155,95:pe,114:26,115:o,128:we,129:fe,130:f},e(Te,[2,47]),e(Te,[2,48]),e(Te,[2,49]),{75:[1,177]},e(Te,[2,51]),e(Te,[2,56]),{13:[1,178]},e(Te,[2,132]),e(Te,[2,133]),e(te,[2,123]),e(te,[2,34]),e(E,[2,135]),e(E,[2,60]),e(T,[2,137]),e(T,[2,63]),e(te,[2,40]),e(Ue,[2,76]),e(_e,[2,138],{112:179}),e(L,[2,75]),{53:[2,25]},{53:[2,24]},{90:[1,180]},{90:[2,53]},e(A,[2,44],{80:181,67:Le}),e(Te,[2,130]),{13:i,16:s,18:150,23:154,55:74,56:D,73:149,81:182,84:148,85:Y,86:152,87:ne,94:155,95:pe,96:H,114:26,115:o,128:we,129:fe,130:f},e(Te,[2,46]),{13:i,16:s,18:51,35:166,44:Re,76:183,92:b,113:52,114:26,115:o,116:55,119:y,120:p,121:59,122:61,123:62,130:f,131:g,132:w,133:S,134:I,135:O,136:M},e(Te,[2,57]),{13:i,16:s,18:51,35:185,46:[1,184],92:b,113:52,114:26,115:o,116:55,119:y,120:p,121:59,122:61,123:62,130:f,131:g,132:w,133:S,134:I,135:O,136:M},{91:186,92:[1,187],93:[1,188]},e(Te,[2,131]),e(Te,[2,42]),e(Te,[2,50]),e(Ue,[2,77]),e(_e,[2,139]),{46:[1,189]},{46:[2,54]},{46:[2,55]},e(A,[2,52])],defaultActions:{21:[2,1],41:[2,103],70:[2,101],111:[2,124],112:[2,125],119:[2,121],169:[2,25],170:[2,24],172:[2,53],187:[2,54],188:[2,55]},parseError:function(Ce,He){if(He.recoverable)this.trace(Ce);else{var Ve=new Error(Ce);throw Ve.hash=He,Ve}},parse:function(Ce){var He=this,Ve=[0],Ke=[null],Ge=[],Be=this.table,St="",ke=0,ge=0,Ae=2,Ne=1,Xe=Ge.slice.call(arguments,1),Ze=Object.create(this.lexer),rt={yy:{}};for(var Ot in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Ot)&&(rt.yy[Ot]=this.yy[Ot]);Ze.setInput(Ce,rt.yy),rt.yy.lexer=Ze,rt.yy.parser=this,typeof Ze.yylloc>"u"&&(Ze.yylloc={});var Hr=Ze.yylloc;Ge.push(Hr);var sb=Ze.options&&Ze.options.ranges;typeof rt.yy.parseError=="function"?this.parseError=rt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var Cn=function(){var ta;return ta=Ze.lex()||Ne,typeof ta!="number"&&(ta=He.symbols_[ta]||ta),ta},Nt,fi,Sr,ub,ea={},jl,an,YO,ql;;){if(fi=Ve[Ve.length-1],this.defaultActions[fi]?Sr=this.defaultActions[fi]:((Nt===null||typeof Nt>"u")&&(Nt=Cn()),Sr=Be[fi]&&Be[fi][Nt]),typeof Sr>"u"||!Sr.length||!Sr[0]){var fb="";ql=[];for(jl in Be[fi])this.terminals_[jl]&&jl>Ae&&ql.push("'"+this.terminals_[jl]+"'");Ze.showPosition?fb="Parse error on line "+(ke+1)+`:
`+Ze.showPosition()+`
Expecting `+ql.join(", ")+", got '"+(this.terminals_[Nt]||Nt)+"'":fb="Parse error on line "+(ke+1)+": Unexpected "+(Nt==Ne?"end of input":"'"+(this.terminals_[Nt]||Nt)+"'"),this.parseError(fb,{text:Ze.match,token:this.terminals_[Nt]||Nt,line:Ze.yylineno,loc:Hr,expected:ql})}if(Sr[0]instanceof Array&&Sr.length>1)throw new Error("Parse Error: multiple actions possible at state: "+fi+", token: "+Nt);switch(Sr[0]){case 1:Ve.push(Nt),Ke.push(Ze.yytext),Ge.push(Ze.yylloc),Ve.push(Sr[1]),Nt=null,ge=Ze.yyleng,St=Ze.yytext,ke=Ze.yylineno,Hr=Ze.yylloc;break;case 2:if(an=this.productions_[Sr[1]][1],ea.$=Ke[Ke.length-an],ea._$={first_line:Ge[Ge.length-(an||1)].first_line,last_line:Ge[Ge.length-1].last_line,first_column:Ge[Ge.length-(an||1)].first_column,last_column:Ge[Ge.length-1].last_column},sb&&(ea._$.range=[Ge[Ge.length-(an||1)].range[0],Ge[Ge.length-1].range[1]]),ub=this.performAction.apply(ea,[St,ge,ke,rt.yy,Sr[1],Ke,Ge].concat(Xe)),typeof ub<"u")return ub;an&&(Ve=Ve.slice(0,-1*an*2),Ke=Ke.slice(0,-1*an),Ge=Ge.slice(0,-1*an)),Ve.push(this.productions_[Sr[1]][0]),Ke.push(ea.$),Ge.push(ea._$),YO=Be[Ve[Ve.length-2]][Ve[Ve.length-1]],Ve.push(YO);break;case 3:return!0}}return!0}};const Fe="http://www.w3.org/1999/02/22-rdf-syntax-ns#",je=Fe+"type",Me=Fe+"first",ze=Fe+"rest",ee=Fe+"nil",x="http://www.w3.org/2001/XMLSchema#",$=x+"integer",ie=x+"decimal",ye=x+"double",V=x+"boolean",re="http://www.w3.org/ns/shacl#",K="http://www.w3.org/2002/07/owl#",De="http://www.w3.org/2000/01/rdf-schema#",qe={[$]:!0,[ie]:!0,[x+"float"]:!0,[ye]:!0,[x+"string"]:!0,[V]:!0,[x+"dateTime"]:!0,[x+"nonPositiveInteger"]:!0,[x+"negativeInteger"]:!0,[x+"long"]:!0,[x+"int"]:!0,[x+"short"]:!0,[x+"byte"]:!0,[x+"nonNegativeInteger"]:!0,[x+"unsignedLong"]:!0,[x+"unsignedShort"]:!0,[x+"unsignedByte"]:!0,[x+"positiveInteger"]:!0,[Fe+"langString"]:!0};function q(Ie,Ce=!1){let He=0,Ve=Ie.length;if(Ce&&Ve===0)return be.factory.namedNode(ee);const Ke=head=Oe();return Ve===0&&B(head,be.factory.namedNode(ze),be.factory.namedNode(ee)),Ie.forEach(Ge=>{if(Ge===void 0)throw new Error("b");B(head,be.factory.namedNode(Me),Ge),B(head,be.factory.namedNode(ze),head=++He<Ve?Oe():be.factory.namedNode(ee))}),Ke}function Se(Ie){return be.n3Parser._resolveIRI(Ie[0]==="<"?Ie.substring(1,Ie.length-1):Ie)}function Pe(Ie){const Ce=Ie.indexOf(":"),He=Ie.substr(0,Ce),Ve=be.prefixes[He];if(!Ve)throw new Error("Unknown prefix: "+He);return Se(Ve+Ie.substr(Ce+1))}function se(Ie,Ce){return Ce&&Ce.termType!=="NamedNode"&&(Ce=be.factory.namedNode(Ce)),be.factory.literal(Ie,Ce)}function ve(Ie,Ce){return be.factory.literal(Ie,Ce)}function Oe(Ie){return be.factory.blankNode("g_"+We++)}var We=0;be._resetBlanks=function(){We=0};function ue(Ie,Ce){return be.n3Parser._lexer._unescape(Ie.substring(Ce,Ie.length-Ce))}function B(Ie,Ce,He){if(!Ie.termType||!Ce.termType||Ce.value.includes(",")||!He.termType)throw new Error(`boo ${Ie.value} ${Ce.value} ${He.value}`);be.onQuad(be.factory.quad(Ie,Ce,He))}function j(Ie,Ce){B(be.currentPropertyNode,be.factory.namedNode(re+Ie),Ce)}function U(Ie,Ce,He){const Ve=Oe();return B(Ve,be.factory.namedNode(re+Ce),He),[Ie,Ve]}function ce(Ie){if(!be.extended)throw new Error("Encountered extended SHACLC syntax; but extended parsing is disabled");return Ie}var me=function(){var Ie={EOF:1,parseError:function(He,Ve){if(this.yy.parser)this.yy.parser.parseError(He,Ve);else throw new Error(He)},setInput:function(Ce,He){return this.yy=He||this.yy||{},this._input=Ce,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Ce=this._input[0];this.yytext+=Ce,this.yyleng++,this.offset++,this.match+=Ce,this.matched+=Ce;var He=Ce.match(/(?:\r\n?|\n).*/g);return He?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Ce},unput:function(Ce){var He=Ce.length,Ve=Ce.split(/(?:\r\n?|\n)/g);this._input=Ce+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-He),this.offset-=He;var Ke=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Ve.length-1&&(this.yylineno-=Ve.length-1);var Ge=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Ve?(Ve.length===Ke.length?this.yylloc.first_column:0)+Ke[Ke.length-Ve.length].length-Ve[0].length:this.yylloc.first_column-He},this.options.ranges&&(this.yylloc.range=[Ge[0],Ge[0]+this.yyleng-He]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Ce){this.unput(this.match.slice(Ce))},pastInput:function(){var Ce=this.matched.substr(0,this.matched.length-this.match.length);return(Ce.length>20?"...":"")+Ce.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Ce=this.match;return Ce.length<20&&(Ce+=this._input.substr(0,20-Ce.length)),(Ce.substr(0,20)+(Ce.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Ce=this.pastInput(),He=new Array(Ce.length+1).join("-");return Ce+this.upcomingInput()+`
`+He+"^"},test_match:function(Ce,He){var Ve,Ke,Ge;if(this.options.backtrack_lexer&&(Ge={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Ge.yylloc.range=this.yylloc.range.slice(0))),Ke=Ce[0].match(/(?:\r\n?|\n).*/g),Ke&&(this.yylineno+=Ke.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Ke?Ke[Ke.length-1].length-Ke[Ke.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Ce[0].length},this.yytext+=Ce[0],this.match+=Ce[0],this.matches=Ce,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Ce[0].length),this.matched+=Ce[0],Ve=this.performAction.call(this,this.yy,this,He,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Ve)return Ve;if(this._backtrack){for(var Be in Ge)this[Be]=Ge[Be];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Ce,He,Ve,Ke;this._more||(this.yytext="",this.match="");for(var Ge=this._currentRules(),Be=0;Be<Ge.length;Be++)if(Ve=this._input.match(this.rules[Ge[Be]]),Ve&&(!He||Ve[0].length>He[0].length)){if(He=Ve,Ke=Be,this.options.backtrack_lexer){if(Ce=this.test_match(Ve,Ge[Be]),Ce!==!1)return Ce;if(this._backtrack){He=!1;continue}else return!1}else if(!this.options.flex)break}return He?(Ce=this.test_match(He,Ge[Ke]),Ce!==!1?Ce:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var He=this.next();return He||this.lex()},begin:function(He){this.conditionStack.push(He)},popState:function(){var He=this.conditionStack.length-1;return He>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(He){return He=this.conditionStack.length-1-Math.abs(He||0),He>=0?this.conditionStack[He]:"INITIAL"},pushState:function(He){this.begin(He)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0,"case-insensitive":!0},performAction:function(He,Ve,Ke,Ge){switch(Ke){case 0:break;case 1:return 12;case 2:return 14;case 3:return 15;case 4:return 25;case 5:return 20;case 6:return 131;case 7:return 132;case 8:return 85;case 9:return 126;case 10:return 87;case 11:return"PASS";case 12:return"COMMENT";case 13:return 13;case 14:return 16;case 15:return 130;case 16:return 129;case 17:return 128;case 18:return 117;case 19:return 92;case 20:return 119;case 21:return 120;case 22:return"EXPONENT";case 23:return 133;case 24:return 134;case 25:return 135;case 26:return 136;case 27:return 61;case 28:return 90;case 29:return 58;case 30:return 56;case 31:return 38;case 32:return 40;case 33:return 44;case 34:return 46;case 35:return 110;case 36:return 93;case 37:return 111;case 38:return 67;case 39:return 118;case 40:return 53;case 41:return 96;case 42:return 102;case 43:return 75;case 44:return 95;case 45:return 109;case 46:return 28;case 47:return 42;case 48:return 48;case 49:return 115;case 50:return 7;case 51:console.log(Ve.yytext);break}},rules:[/^(?:\s+|#[^\n\r]*)/i,/^(?:BASE)/i,/^(?:IMPORTS)/i,/^(?:PREFIX)/i,/^(?:shapeClass)/i,/^(?:shape)/i,/^(?:true)/i,/^(?:false)/i,/^(?:(BlankNode|IRI|Literal|BlankNodeOrIRI|BlankNodeOrLiteral|IRIOrLiteral\b))/i,/^(?:(targetNode|targetObjectsOf|targetSubjectsOf\b))/i,/^(?:(deactivated|severity|message|class|datatype|nodeKind|minExclusive|minInclusive|maxExclusive|maxInclusive|minLength|maxLength|pattern|flags|languageIn|uniqueLang|equals|disjoint|lessThan|lessThanOrEquals|qualifiedValueShape|qualifiedMinCount|qualifiedMaxCount|qualifiedValueShapesDisjoint|closed|ignoredProperties|hasValue|in))/i,/^(?:([ \t\r\n]+))/i,/^(?:(#[\r\n]*))/i,/^(?:(<([^=<>\"\{\}\|\^`\\\u0000-\u0020]|(\\u([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])|\\U([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])))*>))/i,/^(?:((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:))/i,/^(?:(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:)(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|:|[0-9]|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))*(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%)))))?)))/i,/^(?:(@(([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:))/i,/^(?:(@((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:)(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|:|[0-9]|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))*(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%)))))?)))/i,/^(?:(@[a-zA-Z]+(-[a-zA-Z0-9]+)*))/i,/^(?:([+-]?[0-9]+))/i,/^(?:([+-]?[0-9]*\.[0-9]+))/i,/^(?:([+-]?([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.?[0-9]+([eE][+-]?[0-9]+))))/i,/^(?:([eE][+-]?[0-9]+))/i,/^(?:('(?:(?:[^\u0027\u005C\u000A\u000D])|(\\[tbnrf\\\"\']))*'))/i,/^(?:("(?:(?:[^\u0022\u005C\u000A\u000D])|(\\[tbnrf\\\"\']))*"))/i,/^(?:('''(?:(?:'|'')?(?:[^'\\]|(\\[tbnrf\\\"\'])))*'''))/i,/^(?:("""(?:(?:"|"")?(?:[^\"\\]|(\\[tbnrf\\\"\'])))*"""))/i,/^(?:->)/i,/^(?:\.\.)/i,/^(?:\})/i,/^(?:\{)/i,/^(?:\()/i,/^(?:\))/i,/^(?:\[)/i,/^(?:\])/i,/^(?:\?)/i,/^(?:\*)/i,/^(?:\+)/i,/^(?:\|)/i,/^(?:\^\^)/i,/^(?:\.)/i,/^(?:!)/i,/^(?:\/)/i,/^(?:=)/i,/^(?:@)/i,/^(?:\^)/i,/^(?:;)/i,/^(?:,)/i,/^(?:%)/i,/^(?:a)/i,/^(?:$)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],inclusive:!0}}};return Ie}();Ee.lexer=me;function be(){this.yy={}}return be.prototype=Ee,Ee.Parser=be,new be}();return Lg=t,Lg}var BI;function OF(){if(BI)return Pl;BI=1;const t=AF().Parser,e=CR;class r{constructor(){}parse(a,{extendedSyntax:i,baseIRI:s}={}){this._parser=new t,this._parser.Parser.factory=e.DataFactory,this._parser.Parser.base=e.DataFactory.namedNode(s||"urn:x-base:default"),this._parser.Parser.extended=i===!0,this._parser.Parser.prefixes={rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",sh:"http://www.w3.org/ns/shacl#",xsd:"http://www.w3.org/2001/XMLSchema#"},this._parser.Parser.currentNodeShape=void 0,this._parser.Parser.currentPropertyNode=void 0,this._parser.Parser.nodeShapeStack=[],this._parser.Parser.tempCurrentNodeShape=void 0,this._parser.Parser.n3Parser=new e.Parser({baseIRI:s||"urn:x-base:default"});const o=[];return this._parser.Parser.onQuad=f=>{o.push(f)},this._parser.parse(a),o.prefixes=this._parser.Parser.prefixes,o}}return Pl.Parser=r,Pl.parse=function(a,i){return new r().parse(a,i)},Pl}var Cs={},kI;function NF(){if(kI)return Cs;kI=1,Object.defineProperty(Cs,"__esModule",{value:!0}),Cs.PrefixWrappingIterator=void 0;const t=d_();let e=class extends t.WrappingIterator{constructor(n){super(n==null?void 0:n.then(a=>(this.prefixes=a.prefixes,a)))}read(){if(this.prefixes){for(const n of Object.entries(this.prefixes))this.emit("prefix",...n);delete this.prefixes}return super.read()}};return Cs.PrefixWrappingIterator=e,Cs}var $I;function PF(){if($I)return Ds;$I=1,Object.defineProperty(Ds,"__esModule",{value:!0}),Ds.ActorRdfParseShaclc=void 0;const t=Xi(),e=xl(),r=Tr(),n=OF(),a=NF();let i=class extends t.ActorRdfParseFixedMediaTypes{constructor(o){super(o)}async runHandle(o,f,u){const l=new a.PrefixWrappingIterator((0,e.stringify)(o.data).then(c=>{var h;return(0,n.parse)(c,{extendedSyntax:f==="text/shaclc-ext",baseIRI:(h=o.metadata)==null?void 0:h.baseIRI})})),d=new r.Readable({objectMode:!0});return l.on("prefix",(...c)=>d.emit("prefix",...c)),{data:d.wrap(l),metadata:{triples:!0}}}};return Ds.ActorRdfParseShaclc=i,Ds}var UI;function DF(){return UI||(UI=1,function(t){var e=Ps.__createBinding||(Object.create?function(n,a,i,s){s===void 0&&(s=i);var o=Object.getOwnPropertyDescriptor(a,i);(!o||("get"in o?!a.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,s,o)}:function(n,a,i,s){s===void 0&&(s=i),n[s]=a[i]}),r=Ps.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&e(a,n,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(PF(),t)}(Ps)),Ps}var Ls={},Fs={},HI;function CF(){if(HI)return Fs;HI=1,Object.defineProperty(Fs,"__esModule",{value:!0}),Fs.MediatorCombineUnion=void 0;const t=gt();let e=class extends t.Mediator{constructor(n){super(n),this.combiner=this.createCombiner()}async mediate(n){let a;try{a=this.publish(n)}catch{a=[]}if(this.filterFailures){const o=[];for(const f of a)(await f.reply).isPassed()&&o.push(f);a=o}const i=[];await Promise.all(a.map(async({reply:o},f)=>{const u=await o,l=u.getOrThrow();return i[f]=u.getSideData(),l}));const s=await Promise.all(a.map((o,f)=>o.actor.runObservable(n,i[f])));return this.combiner(s)}mediateWith(){throw new Error("Method not supported.")}createCombiner(){return n=>{const a={};return a[this.field]={},[{}].concat(n.map(i=>i[this.field])).forEach(i=>{a[this.field]={...i,...a[this.field]}}),a}}};return Fs.MediatorCombineUnion=e,Fs}var VI;function LF(){return VI||(VI=1,function(t){var e=Ls.__createBinding||(Object.create?function(n,a,i,s){s===void 0&&(s=i);var o=Object.getOwnPropertyDescriptor(a,i);(!o||("get"in o?!a.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,s,o)}:function(n,a,i,s){s===void 0&&(s=i),n[s]=a[i]}),r=Ls.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&e(a,n,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(CF(),t)}(Ls)),Ls}var Ms={},js={},ai={},On={},Zi={},GI;function zI(){if(GI)return Zi;GI=1,Object.defineProperty(Zi,"__esModule",{value:!0}),Zi.QuoteType=void 0;var t=Rn(),e;(function(u){u[u.Tab=9]="Tab",u[u.NewLine=10]="NewLine",u[u.FormFeed=12]="FormFeed",u[u.CarriageReturn=13]="CarriageReturn",u[u.Space=32]="Space",u[u.ExclamationMark=33]="ExclamationMark",u[u.Number=35]="Number",u[u.Amp=38]="Amp",u[u.SingleQuote=39]="SingleQuote",u[u.DoubleQuote=34]="DoubleQuote",u[u.Dash=45]="Dash",u[u.Slash=47]="Slash",u[u.Zero=48]="Zero",u[u.Nine=57]="Nine",u[u.Semi=59]="Semi",u[u.Lt=60]="Lt",u[u.Eq=61]="Eq",u[u.Gt=62]="Gt",u[u.Questionmark=63]="Questionmark",u[u.UpperA=65]="UpperA",u[u.LowerA=97]="LowerA",u[u.UpperF=70]="UpperF",u[u.LowerF=102]="LowerF",u[u.UpperZ=90]="UpperZ",u[u.LowerZ=122]="LowerZ",u[u.LowerX=120]="LowerX",u[u.OpeningSquareBracket=91]="OpeningSquareBracket"})(e||(e={}));var r;(function(u){u[u.Text=1]="Text",u[u.BeforeTagName=2]="BeforeTagName",u[u.InTagName=3]="InTagName",u[u.InSelfClosingTag=4]="InSelfClosingTag",u[u.BeforeClosingTagName=5]="BeforeClosingTagName",u[u.InClosingTagName=6]="InClosingTagName",u[u.AfterClosingTagName=7]="AfterClosingTagName",u[u.BeforeAttributeName=8]="BeforeAttributeName",u[u.InAttributeName=9]="InAttributeName",u[u.AfterAttributeName=10]="AfterAttributeName",u[u.BeforeAttributeValue=11]="BeforeAttributeValue",u[u.InAttributeValueDq=12]="InAttributeValueDq",u[u.InAttributeValueSq=13]="InAttributeValueSq",u[u.InAttributeValueNq=14]="InAttributeValueNq",u[u.BeforeDeclaration=15]="BeforeDeclaration",u[u.InDeclaration=16]="InDeclaration",u[u.InProcessingInstruction=17]="InProcessingInstruction",u[u.BeforeComment=18]="BeforeComment",u[u.CDATASequence=19]="CDATASequence",u[u.InSpecialComment=20]="InSpecialComment",u[u.InCommentLike=21]="InCommentLike",u[u.BeforeSpecialS=22]="BeforeSpecialS",u[u.BeforeSpecialT=23]="BeforeSpecialT",u[u.SpecialStartSequence=24]="SpecialStartSequence",u[u.InSpecialTag=25]="InSpecialTag",u[u.InEntity=26]="InEntity"})(r||(r={}));function n(u){return u===e.Space||u===e.NewLine||u===e.Tab||u===e.FormFeed||u===e.CarriageReturn}function a(u){return u===e.Slash||u===e.Gt||n(u)}function i(u){return u>=e.LowerA&&u<=e.LowerZ||u>=e.UpperA&&u<=e.UpperZ}var s;(function(u){u[u.NoValue=0]="NoValue",u[u.Unquoted=1]="Unquoted",u[u.Single=2]="Single",u[u.Double=3]="Double"})(s||(Zi.QuoteType=s={}));var o={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])},f=function(){function u(l,d){var c=l.xmlMode,h=c===void 0?!1:c,m=l.decodeEntities,_=m===void 0?!0:m,b=this;this.cbs=d,this.state=r.Text,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=r.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.xmlMode=h,this.decodeEntities=_,this.entityDecoder=new t.EntityDecoder(h?t.xmlDecodeTree:t.htmlDecodeTree,function(y,p){return b.emitCodePoint(y,p)})}return u.prototype.reset=function(){this.state=r.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=r.Text,this.currentSequence=void 0,this.running=!0,this.offset=0},u.prototype.write=function(l){this.offset+=this.buffer.length,this.buffer=l,this.parse()},u.prototype.end=function(){this.running&&this.finish()},u.prototype.pause=function(){this.running=!1},u.prototype.resume=function(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()},u.prototype.stateText=function(l){l===e.Lt||!this.decodeEntities&&this.fastForwardTo(e.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=r.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&l===e.Amp&&this.startEntity()},u.prototype.stateSpecialStartSequence=function(l){var d=this.sequenceIndex===this.currentSequence.length,c=d?a(l):(l|32)===this.currentSequence[this.sequenceIndex];if(!c)this.isSpecial=!1;else if(!d){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=r.InTagName,this.stateInTagName(l)},u.prototype.stateInSpecialTag=function(l){if(this.sequenceIndex===this.currentSequence.length){if(l===e.Gt||n(l)){var d=this.index-this.currentSequence.length;if(this.sectionStart<d){var c=this.index;this.index=d,this.cbs.ontext(this.sectionStart,d),this.index=c}this.isSpecial=!1,this.sectionStart=d+2,this.stateInClosingTagName(l);return}this.sequenceIndex=0}(l|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===o.TitleEnd?this.decodeEntities&&l===e.Amp&&this.startEntity():this.fastForwardTo(e.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(l===e.Lt)},u.prototype.stateCDATASequence=function(l){l===o.Cdata[this.sequenceIndex]?++this.sequenceIndex===o.Cdata.length&&(this.state=r.InCommentLike,this.currentSequence=o.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=r.InDeclaration,this.stateInDeclaration(l))},u.prototype.fastForwardTo=function(l){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===l)return!0;return this.index=this.buffer.length+this.offset-1,!1},u.prototype.stateInCommentLike=function(l){l===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===o.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=r.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):l!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)},u.prototype.isTagStartChar=function(l){return this.xmlMode?!a(l):i(l)},u.prototype.startSpecial=function(l,d){this.isSpecial=!0,this.currentSequence=l,this.sequenceIndex=d,this.state=r.SpecialStartSequence},u.prototype.stateBeforeTagName=function(l){if(l===e.ExclamationMark)this.state=r.BeforeDeclaration,this.sectionStart=this.index+1;else if(l===e.Questionmark)this.state=r.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(l)){var d=l|32;this.sectionStart=this.index,this.xmlMode?this.state=r.InTagName:d===o.ScriptEnd[2]?this.state=r.BeforeSpecialS:d===o.TitleEnd[2]?this.state=r.BeforeSpecialT:this.state=r.InTagName}else l===e.Slash?this.state=r.BeforeClosingTagName:(this.state=r.Text,this.stateText(l))},u.prototype.stateInTagName=function(l){a(l)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(l))},u.prototype.stateBeforeClosingTagName=function(l){n(l)||(l===e.Gt?this.state=r.Text:(this.state=this.isTagStartChar(l)?r.InClosingTagName:r.InSpecialComment,this.sectionStart=this.index))},u.prototype.stateInClosingTagName=function(l){(l===e.Gt||n(l))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=r.AfterClosingTagName,this.stateAfterClosingTagName(l))},u.prototype.stateAfterClosingTagName=function(l){(l===e.Gt||this.fastForwardTo(e.Gt))&&(this.state=r.Text,this.sectionStart=this.index+1)},u.prototype.stateBeforeAttributeName=function(l){l===e.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=r.InSpecialTag,this.sequenceIndex=0):this.state=r.Text,this.sectionStart=this.index+1):l===e.Slash?this.state=r.InSelfClosingTag:n(l)||(this.state=r.InAttributeName,this.sectionStart=this.index)},u.prototype.stateInSelfClosingTag=function(l){l===e.Gt?(this.cbs.onselfclosingtag(this.index),this.state=r.Text,this.sectionStart=this.index+1,this.isSpecial=!1):n(l)||(this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(l))},u.prototype.stateInAttributeName=function(l){(l===e.Eq||a(l))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=this.index,this.state=r.AfterAttributeName,this.stateAfterAttributeName(l))},u.prototype.stateAfterAttributeName=function(l){l===e.Eq?this.state=r.BeforeAttributeValue:l===e.Slash||l===e.Gt?(this.cbs.onattribend(s.NoValue,this.sectionStart),this.sectionStart=-1,this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(l)):n(l)||(this.cbs.onattribend(s.NoValue,this.sectionStart),this.state=r.InAttributeName,this.sectionStart=this.index)},u.prototype.stateBeforeAttributeValue=function(l){l===e.DoubleQuote?(this.state=r.InAttributeValueDq,this.sectionStart=this.index+1):l===e.SingleQuote?(this.state=r.InAttributeValueSq,this.sectionStart=this.index+1):n(l)||(this.sectionStart=this.index,this.state=r.InAttributeValueNq,this.stateInAttributeValueNoQuotes(l))},u.prototype.handleInAttributeValue=function(l,d){l===d||!this.decodeEntities&&this.fastForwardTo(d)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(d===e.DoubleQuote?s.Double:s.Single,this.index+1),this.state=r.BeforeAttributeName):this.decodeEntities&&l===e.Amp&&this.startEntity()},u.prototype.stateInAttributeValueDoubleQuotes=function(l){this.handleInAttributeValue(l,e.DoubleQuote)},u.prototype.stateInAttributeValueSingleQuotes=function(l){this.handleInAttributeValue(l,e.SingleQuote)},u.prototype.stateInAttributeValueNoQuotes=function(l){n(l)||l===e.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(s.Unquoted,this.index),this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(l)):this.decodeEntities&&l===e.Amp&&this.startEntity()},u.prototype.stateBeforeDeclaration=function(l){l===e.OpeningSquareBracket?(this.state=r.CDATASequence,this.sequenceIndex=0):this.state=l===e.Dash?r.BeforeComment:r.InDeclaration},u.prototype.stateInDeclaration=function(l){(l===e.Gt||this.fastForwardTo(e.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=r.Text,this.sectionStart=this.index+1)},u.prototype.stateInProcessingInstruction=function(l){(l===e.Gt||this.fastForwardTo(e.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=r.Text,this.sectionStart=this.index+1)},u.prototype.stateBeforeComment=function(l){l===e.Dash?(this.state=r.InCommentLike,this.currentSequence=o.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=r.InDeclaration},u.prototype.stateInSpecialComment=function(l){(l===e.Gt||this.fastForwardTo(e.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=r.Text,this.sectionStart=this.index+1)},u.prototype.stateBeforeSpecialS=function(l){var d=l|32;d===o.ScriptEnd[3]?this.startSpecial(o.ScriptEnd,4):d===o.StyleEnd[3]?this.startSpecial(o.StyleEnd,4):(this.state=r.InTagName,this.stateInTagName(l))},u.prototype.stateBeforeSpecialT=function(l){var d=l|32;d===o.TitleEnd[3]?this.startSpecial(o.TitleEnd,4):d===o.TextareaEnd[3]?this.startSpecial(o.TextareaEnd,4):(this.state=r.InTagName,this.stateInTagName(l))},u.prototype.startEntity=function(){this.baseState=this.state,this.state=r.InEntity,this.entityStart=this.index,this.entityDecoder.startEntity(this.xmlMode?t.DecodingMode.Strict:this.baseState===r.Text||this.baseState===r.InSpecialTag?t.DecodingMode.Legacy:t.DecodingMode.Attribute)},u.prototype.stateInEntity=function(){var l=this.entityDecoder.write(this.buffer,this.index-this.offset);l>=0?(this.state=this.baseState,l===0&&(this.index=this.entityStart)):this.index=this.offset+this.buffer.length-1},u.prototype.cleanup=function(){this.running&&this.sectionStart!==this.index&&(this.state===r.Text||this.state===r.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===r.InAttributeValueDq||this.state===r.InAttributeValueSq||this.state===r.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))},u.prototype.shouldContinue=function(){return this.index<this.buffer.length+this.offset&&this.running},u.prototype.parse=function(){for(;this.shouldContinue();){var l=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case r.Text:{this.stateText(l);break}case r.SpecialStartSequence:{this.stateSpecialStartSequence(l);break}case r.InSpecialTag:{this.stateInSpecialTag(l);break}case r.CDATASequence:{this.stateCDATASequence(l);break}case r.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(l);break}case r.InAttributeName:{this.stateInAttributeName(l);break}case r.InCommentLike:{this.stateInCommentLike(l);break}case r.InSpecialComment:{this.stateInSpecialComment(l);break}case r.BeforeAttributeName:{this.stateBeforeAttributeName(l);break}case r.InTagName:{this.stateInTagName(l);break}case r.InClosingTagName:{this.stateInClosingTagName(l);break}case r.BeforeTagName:{this.stateBeforeTagName(l);break}case r.AfterAttributeName:{this.stateAfterAttributeName(l);break}case r.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(l);break}case r.BeforeAttributeValue:{this.stateBeforeAttributeValue(l);break}case r.BeforeClosingTagName:{this.stateBeforeClosingTagName(l);break}case r.AfterClosingTagName:{this.stateAfterClosingTagName(l);break}case r.BeforeSpecialS:{this.stateBeforeSpecialS(l);break}case r.BeforeSpecialT:{this.stateBeforeSpecialT(l);break}case r.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(l);break}case r.InSelfClosingTag:{this.stateInSelfClosingTag(l);break}case r.InDeclaration:{this.stateInDeclaration(l);break}case r.BeforeDeclaration:{this.stateBeforeDeclaration(l);break}case r.BeforeComment:{this.stateBeforeComment(l);break}case r.InProcessingInstruction:{this.stateInProcessingInstruction(l);break}case r.InEntity:{this.stateInEntity();break}}this.index++}this.cleanup()},u.prototype.finish=function(){this.state===r.InEntity&&(this.entityDecoder.end(),this.state=this.baseState),this.handleTrailingData(),this.cbs.onend()},u.prototype.handleTrailingData=function(){var l=this.buffer.length+this.offset;this.sectionStart>=l||(this.state===r.InCommentLike?this.currentSequence===o.CdataEnd?this.cbs.oncdata(this.sectionStart,l,0):this.cbs.oncomment(this.sectionStart,l,0):this.state===r.InTagName||this.state===r.BeforeAttributeName||this.state===r.BeforeAttributeValue||this.state===r.AfterAttributeName||this.state===r.InAttributeName||this.state===r.InAttributeValueSq||this.state===r.InAttributeValueDq||this.state===r.InAttributeValueNq||this.state===r.InClosingTagName||this.cbs.ontext(this.sectionStart,l))},u.prototype.emitCodePoint=function(l,d){this.baseState!==r.Text&&this.baseState!==r.InSpecialTag?(this.sectionStart<this.entityStart&&this.cbs.onattribdata(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+d,this.index=this.sectionStart-1,this.cbs.onattribentity(l)):(this.sectionStart<this.entityStart&&this.cbs.ontext(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+d,this.index=this.sectionStart-1,this.cbs.ontextentity(l,this.sectionStart))},u}();return Zi.default=f,Zi}var WI;function KI(){if(WI)return On;WI=1;var t=On.__createBinding||(Object.create?function(b,y,p,g){g===void 0&&(g=p);var w=Object.getOwnPropertyDescriptor(y,p);(!w||("get"in w?!y.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return y[p]}}),Object.defineProperty(b,g,w)}:function(b,y,p,g){g===void 0&&(g=p),b[g]=y[p]}),e=On.__setModuleDefault||(Object.create?function(b,y){Object.defineProperty(b,"default",{enumerable:!0,value:y})}:function(b,y){b.default=y}),r=On.__importStar||function(b){if(b&&b.__esModule)return b;var y={};if(b!=null)for(var p in b)p!=="default"&&Object.prototype.hasOwnProperty.call(b,p)&&t(y,b,p);return e(y,b),y};Object.defineProperty(On,"__esModule",{value:!0}),On.Parser=void 0;var n=r(zI()),a=Rn(),i=new Set(["input","option","optgroup","select","button","datalist","textarea"]),s=new Set(["p"]),o=new Set(["thead","tbody"]),f=new Set(["dd","dt"]),u=new Set(["rt","rp"]),l=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",s],["h1",s],["h2",s],["h3",s],["h4",s],["h5",s],["h6",s],["select",i],["input",i],["output",i],["button",i],["datalist",i],["textarea",i],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",f],["dt",f],["address",s],["article",s],["aside",s],["blockquote",s],["details",s],["div",s],["dl",s],["fieldset",s],["figcaption",s],["figure",s],["footer",s],["form",s],["header",s],["hr",s],["main",s],["nav",s],["ol",s],["pre",s],["section",s],["table",s],["ul",s],["rt",u],["rp",u],["tbody",o],["tfoot",o]]),d=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),c=new Set(["math","svg"]),h=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),m=/\s|\//,_=function(){function b(y,p){p===void 0&&(p={});var g,w,S,I,O,M;this.options=p,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=y??{},this.htmlMode=!this.options.xmlMode,this.lowerCaseTagNames=(g=p.lowerCaseTags)!==null&&g!==void 0?g:this.htmlMode,this.lowerCaseAttributeNames=(w=p.lowerCaseAttributeNames)!==null&&w!==void 0?w:this.htmlMode,this.recognizeSelfClosing=(S=p.recognizeSelfClosing)!==null&&S!==void 0?S:!this.htmlMode,this.tokenizer=new((I=p.Tokenizer)!==null&&I!==void 0?I:n.default)(this.options,this),this.foreignContext=[!this.htmlMode],(M=(O=this.cbs).onparserinit)===null||M===void 0||M.call(O,this)}return b.prototype.ontext=function(y,p){var g,w,S=this.getSlice(y,p);this.endIndex=p-1,(w=(g=this.cbs).ontext)===null||w===void 0||w.call(g,S),this.startIndex=p},b.prototype.ontextentity=function(y,p){var g,w;this.endIndex=p-1,(w=(g=this.cbs).ontext)===null||w===void 0||w.call(g,(0,a.fromCodePoint)(y)),this.startIndex=p},b.prototype.isVoidElement=function(y){return this.htmlMode&&d.has(y)},b.prototype.onopentagname=function(y,p){this.endIndex=p;var g=this.getSlice(y,p);this.lowerCaseTagNames&&(g=g.toLowerCase()),this.emitOpenTag(g)},b.prototype.emitOpenTag=function(y){var p,g,w,S;this.openTagStart=this.startIndex,this.tagname=y;var I=this.htmlMode&&l.get(y);if(I)for(;this.stack.length>0&&I.has(this.stack[0]);){var O=this.stack.shift();(g=(p=this.cbs).onclosetag)===null||g===void 0||g.call(p,O,!0)}this.isVoidElement(y)||(this.stack.unshift(y),this.htmlMode&&(c.has(y)?this.foreignContext.unshift(!0):h.has(y)&&this.foreignContext.unshift(!1))),(S=(w=this.cbs).onopentagname)===null||S===void 0||S.call(w,y),this.cbs.onopentag&&(this.attribs={})},b.prototype.endOpenTag=function(y){var p,g;this.startIndex=this.openTagStart,this.attribs&&((g=(p=this.cbs).onopentag)===null||g===void 0||g.call(p,this.tagname,this.attribs,y),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""},b.prototype.onopentagend=function(y){this.endIndex=y,this.endOpenTag(!1),this.startIndex=y+1},b.prototype.onclosetag=function(y,p){var g,w,S,I,O,M,D,N;this.endIndex=p;var C=this.getSlice(y,p);if(this.lowerCaseTagNames&&(C=C.toLowerCase()),this.htmlMode&&(c.has(C)||h.has(C))&&this.foreignContext.shift(),this.isVoidElement(C))this.htmlMode&&C==="br"&&((I=(S=this.cbs).onopentagname)===null||I===void 0||I.call(S,"br"),(M=(O=this.cbs).onopentag)===null||M===void 0||M.call(O,"br",{},!0),(N=(D=this.cbs).onclosetag)===null||N===void 0||N.call(D,"br",!1));else{var R=this.stack.indexOf(C);if(R!==-1)for(var F=0;F<=R;F++){var X=this.stack.shift();(w=(g=this.cbs).onclosetag)===null||w===void 0||w.call(g,X,F!==R)}else this.htmlMode&&C==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=p+1},b.prototype.onselfclosingtag=function(y){this.endIndex=y,this.recognizeSelfClosing||this.foreignContext[0]?(this.closeCurrentTag(!1),this.startIndex=y+1):this.onopentagend(y)},b.prototype.closeCurrentTag=function(y){var p,g,w=this.tagname;this.endOpenTag(y),this.stack[0]===w&&((g=(p=this.cbs).onclosetag)===null||g===void 0||g.call(p,w,!y),this.stack.shift())},b.prototype.onattribname=function(y,p){this.startIndex=y;var g=this.getSlice(y,p);this.attribname=this.lowerCaseAttributeNames?g.toLowerCase():g},b.prototype.onattribdata=function(y,p){this.attribvalue+=this.getSlice(y,p)},b.prototype.onattribentity=function(y){this.attribvalue+=(0,a.fromCodePoint)(y)},b.prototype.onattribend=function(y,p){var g,w;this.endIndex=p,(w=(g=this.cbs).onattribute)===null||w===void 0||w.call(g,this.attribname,this.attribvalue,y===n.QuoteType.Double?'"':y===n.QuoteType.Single?"'":y===n.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""},b.prototype.getInstructionName=function(y){var p=y.search(m),g=p<0?y:y.substr(0,p);return this.lowerCaseTagNames&&(g=g.toLowerCase()),g},b.prototype.ondeclaration=function(y,p){this.endIndex=p;var g=this.getSlice(y,p);if(this.cbs.onprocessinginstruction){var w=this.getInstructionName(g);this.cbs.onprocessinginstruction("!".concat(w),"!".concat(g))}this.startIndex=p+1},b.prototype.onprocessinginstruction=function(y,p){this.endIndex=p;var g=this.getSlice(y,p);if(this.cbs.onprocessinginstruction){var w=this.getInstructionName(g);this.cbs.onprocessinginstruction("?".concat(w),"?".concat(g))}this.startIndex=p+1},b.prototype.oncomment=function(y,p,g){var w,S,I,O;this.endIndex=p,(S=(w=this.cbs).oncomment)===null||S===void 0||S.call(w,this.getSlice(y,p-g)),(O=(I=this.cbs).oncommentend)===null||O===void 0||O.call(I),this.startIndex=p+1},b.prototype.oncdata=function(y,p,g){var w,S,I,O,M,D,N,C,R,F;this.endIndex=p;var X=this.getSlice(y,p-g);!this.htmlMode||this.options.recognizeCDATA?((S=(w=this.cbs).oncdatastart)===null||S===void 0||S.call(w),(O=(I=this.cbs).ontext)===null||O===void 0||O.call(I,X),(D=(M=this.cbs).oncdataend)===null||D===void 0||D.call(M)):((C=(N=this.cbs).oncomment)===null||C===void 0||C.call(N,"[CDATA[".concat(X,"]]")),(F=(R=this.cbs).oncommentend)===null||F===void 0||F.call(R)),this.startIndex=p+1},b.prototype.onend=function(){var y,p;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(var g=0;g<this.stack.length;g++)this.cbs.onclosetag(this.stack[g],!0)}(p=(y=this.cbs).onend)===null||p===void 0||p.call(y)},b.prototype.reset=function(){var y,p,g,w;(p=(y=this.cbs).onreset)===null||p===void 0||p.call(y),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(w=(g=this.cbs).onparserinit)===null||w===void 0||w.call(g,this),this.buffers.length=0,this.foreignContext.length=0,this.foreignContext.unshift(!this.htmlMode),this.bufferOffset=0,this.writeIndex=0,this.ended=!1},b.prototype.parseComplete=function(y){this.reset(),this.end(y)},b.prototype.getSlice=function(y,p){for(;y-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();for(var g=this.buffers[0].slice(y-this.bufferOffset,p-this.bufferOffset);p-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),g+=this.buffers[0].slice(0,p-this.bufferOffset);return g},b.prototype.shiftBuffer=function(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()},b.prototype.write=function(y){var p,g;if(this.ended){(g=(p=this.cbs).onerror)===null||g===void 0||g.call(p,new Error(".write() after done!"));return}this.buffers.push(y),this.tokenizer.running&&(this.tokenizer.write(y),this.writeIndex++)},b.prototype.end=function(y){var p,g;if(this.ended){(g=(p=this.cbs).onerror)===null||g===void 0||g.call(p,new Error(".end() after done!"));return}y&&this.write(y),this.ended=!0,this.tokenizer.end()},b.prototype.pause=function(){this.tokenizer.pause()},b.prototype.resume=function(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()},b.prototype.parseChunk=function(y){this.write(y)},b.prototype.done=function(y){this.end(y)},b}();return On.Parser=_,On}var QI;function FF(){return QI||(QI=1,function(t){var e=ai.__createBinding||(Object.create?function(p,g,w,S){S===void 0&&(S=w);var I=Object.getOwnPropertyDescriptor(g,w);(!I||("get"in I?!g.__esModule:I.writable||I.configurable))&&(I={enumerable:!0,get:function(){return g[w]}}),Object.defineProperty(p,S,I)}:function(p,g,w,S){S===void 0&&(S=w),p[S]=g[w]}),r=ai.__setModuleDefault||(Object.create?function(p,g){Object.defineProperty(p,"default",{enumerable:!0,value:g})}:function(p,g){p.default=g}),n=ai.__importStar||function(p){if(p&&p.__esModule)return p;var g={};if(p!=null)for(var w in p)w!=="default"&&Object.prototype.hasOwnProperty.call(p,w)&&e(g,p,w);return r(g,p),g},a=ai.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(t,"__esModule",{value:!0}),t.DomUtils=t.parseFeed=t.getFeed=t.ElementType=t.QuoteType=t.Tokenizer=t.createDomStream=t.createDocumentStream=t.parseDOM=t.parseDocument=t.DefaultHandler=t.DomHandler=t.Parser=void 0;var i=KI(),s=KI();Object.defineProperty(t,"Parser",{enumerable:!0,get:function(){return s.Parser}});var o=wr(),f=wr();Object.defineProperty(t,"DomHandler",{enumerable:!0,get:function(){return f.DomHandler}}),Object.defineProperty(t,"DefaultHandler",{enumerable:!0,get:function(){return f.DomHandler}});function u(p,g){var w=new o.DomHandler(void 0,g);return new i.Parser(w,g).end(p),w.root}t.parseDocument=u;function l(p,g){return u(p,g).children}t.parseDOM=l;function d(p,g,w){var S=new o.DomHandler(function(I){return p(I,S.root)},g,w);return new i.Parser(S,g)}t.createDocumentStream=d;function c(p,g,w){var S=new o.DomHandler(p,g,w);return new i.Parser(S,g)}t.createDomStream=c;var h=zI();Object.defineProperty(t,"Tokenizer",{enumerable:!0,get:function(){return a(h).default}}),Object.defineProperty(t,"QuoteType",{enumerable:!0,get:function(){return h.QuoteType}}),t.ElementType=n(ri());var m=nn(),_=nn();Object.defineProperty(t,"getFeed",{enumerable:!0,get:function(){return _.getFeed}});var b={xmlMode:!0};function y(p,g){return g===void 0&&(g=b),(0,m.getFeed)(l(p,g))}t.parseFeed=y,t.DomUtils=n(nn())}(ai)),ai}var XI;function MF(){if(XI)return js;XI=1,Object.defineProperty(js,"__esModule",{value:!0}),js.ActorRdfParseHtml=void 0;const t=Xi(),e=FF(),r=Tr();class n extends t.ActorRdfParseFixedMediaTypes{constructor(i){super(i)}async runHandle(i,s,o){var m;const f=new r.Readable({objectMode:!0});f._read=()=>{};let u=0,l=1;function d(_){f.emit("error",_)}function c(){--l===0&&f.push(null)}const h={baseIRI:((m=i.metadata)==null?void 0:m.baseIRI)??"",context:o,emit:_=>{u--,f.push(_)},end:c,error:d,headers:i.headers};try{const _=await Promise.all(this.busRdfParseHtml.publish(h));l+=_.length;const b=[];for(const g of _){const{htmlParseListener:w}=await g.actor.run(h,void 0);b.push(w)}const y=new e.Parser({onclosetag(){try{for(const g of b)g.onTagClose()}catch(g){d(g)}},onend(){try{for(const g of b)g.onEnd()}catch(g){d(g)}c()},onopentag(g,w){try{for(const S of b)S.onTagOpen(g,w)}catch(S){d(S)}},ontext(g){try{for(const w of b)w.onText(g)}catch(w){d(w)}}},{decodeEntities:!0,recognizeSelfClosing:!0,xmlMode:!1}),p=f._read=g=>{for(u=Math.max(g,u);u>0;){const w=i.data.read();if(w===null){i.data.once("readable",()=>p(0));return}y.write(w.toString())}};i.data.on("error",d).on("end",()=>y.end())}catch(_){setTimeout(()=>{f.emit("error",_)})}return{data:f}}}return js.ActorRdfParseHtml=n,js}var ZI;function jF(){return ZI||(ZI=1,function(t){var e=Ms.__createBinding||(Object.create?function(n,a,i,s){s===void 0&&(s=i);var o=Object.getOwnPropertyDescriptor(a,i);(!o||("get"in o?!a.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,s,o)}:function(n,a,i,s){s===void 0&&(s=i),n[s]=a[i]}),r=Ms.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&e(a,n,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(MF(),t)}(Ms)),Ms}var qs={},Bs={},ks={},$s={},JI;function qF(){if(JI)return $s;JI=1,Object.defineProperty($s,"__esModule",{value:!0}),$s.ActorRdfParseHtml=void 0;const t=gt();let e=class extends t.Actor{constructor(n){super(n)}};return $s.ActorRdfParseHtml=e,$s}var YI;function Fg(){return YI||(YI=1,function(t){var e=ks.__createBinding||(Object.create?function(n,a,i,s){s===void 0&&(s=i);var o=Object.getOwnPropertyDescriptor(a,i);(!o||("get"in o?!a.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,s,o)}:function(n,a,i,s){s===void 0&&(s=i),n[s]=a[i]}),r=ks.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&e(a,n,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(qF(),t)}(ks)),ks}var Us={},Mg={},eA;function BF(){return eA||(eA=1,Object.defineProperty(Mg,"__esModule",{value:!0})),Mg}var Hs={},tA;function rA(){if(tA)return Hs;tA=1,Object.defineProperty(Hs,"__esModule",{value:!0}),Hs.ItemPropertyHandlerContent=void 0;let t=class{canHandle(r,n){return"content"in n}getObject(r,n,a){return n.createLiteral(r.content,a)}};return Hs.ItemPropertyHandlerContent=t,Hs}var Vs={},Gs={},nA;function Dl(){if(nA)return Gs;nA=1,Object.defineProperty(Gs,"__esModule",{value:!0}),Gs.Util=void 0;const t=Pt(),e=vr();class r{constructor(a,i){this.dataFactory=a||new t.DataFactory,this.baseIRI=i||""}static isValidIri(a){return r.IRI_REGEX.test(a)}createVocabIris(a,i,s){return a.split(/\s+/u).filter(o=>!!o).map(o=>{if(!r.isValidIri(o)){if(!s)return;o=`${i.vocab||`${this.baseIRI}#`}${o}`}return this.dataFactory.namedNode(o)}).filter(o=>!!o)}getVocabularyExpansionType(a,i,s){const o=a.split(/\s+/u);if(o.includes("subPropertyOf")||o.includes("equivalentProperty"))return[this.dataFactory.namedNode(`${r.RDF}type`)];if(i.vocab&&i.vocab in s&&s[i.vocab].properties){let f=[];for(const[u,l]of Object.entries(s[i.vocab].properties))o.includes(u)&&(f=[...Object.values(l).map(d=>this.dataFactory.namedNode(d))]);return f}return[]}createSubject(a){if(!r.isValidIri(a))try{a=(0,e.resolve)(a,this.baseIRI)}catch{return}return this.dataFactory.namedNode(a)}createLiteral(a,i){return this.dataFactory.literal(a,i.language)}deriveVocab(a,i){let s;for(const o in i)if(a.startsWith(o)){s=o,s.endsWith("/")||(s+="#");break}if(!s){const o=a.indexOf("#");o>0?s=a.slice(0,o+1):s=(0,e.resolve)(".",a)}return s}}return Gs.Util=r,r.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",r.XSD="http://www.w3.org/2001/XMLSchema#",r.RDFA="http://www.w3.org/ns/rdfa#",r.IRI_REGEX=/^([A-Za-z][\d+-.A-Za-z]*|_):[^ "<>[\\\]`{|}]*$/u,Gs}var iA;function aA(){if(iA)return Vs;iA=1,Object.defineProperty(Vs,"__esModule",{value:!0}),Vs.ItemPropertyHandlerNumber=void 0;const t=Dl();let e=class{constructor(n,a){this.tagName=n,this.attributeName=a}canHandle(n,a){return this.tagName===n&&this.attributeName in a}getObject(n,a,i){const s=n[this.attributeName];let o;return!Number.isNaN(Number.parseInt(s,10))&&!s.includes(".")?o=`${t.Util.XSD}integer`:Number.isNaN(Number.parseFloat(s))||(o=`${t.Util.XSD}double`),a.dataFactory.literal(s,o&&a.dataFactory.namedNode(o))}};return Vs.ItemPropertyHandlerNumber=e,Vs}var zs={},oA;function sA(){if(oA)return zs;oA=1,Object.defineProperty(zs,"__esModule",{value:!0}),zs.ItemPropertyHandlerTime=void 0;const t=Dl();let e=class a3{canHandle(n,a){return n==="time"&&"datetime"in a}getObject(n,a,i){const s=n.datetime;let o;for(const f of a3.TIME_REGEXES)if(f.regex.test(s)){o=a.dataFactory.namedNode(t.Util.XSD+f.type);break}return a.dataFactory.literal(s,o)}};return zs.ItemPropertyHandlerTime=e,e.TIME_REGEXES=[{regex:/^-?P(\d+Y)?(\d+M)?(\d+D)?(T(\d+H)?(\d+M)?(\d+(\.\d)?S)?)?$/u,type:"duration"},{regex:/^\d+-\d\d-\d\dT\d\d:\d\d:\d\d((Z?)|([+-]\d\d:\d\d))$/u,type:"dateTime"},{regex:/^\d+-\d\d-\d\dZ?$/u,type:"date"},{regex:/^\d\d:\d\d:\d\d((Z?)|([+-]\d\d:\d\d))$/u,type:"time"},{regex:/^\d+-\d\d$/u,type:"gYearMonth"},{regex:/^\d+$/u,type:"gYear"}],zs}var Ws={},uA;function fA(){if(uA)return Ws;uA=1,Object.defineProperty(Ws,"__esModule",{value:!0}),Ws.ItemPropertyHandlerUrl=void 0;const t=vr();let e=class{constructor(n,a){this.tagName=n,this.attributeName=a}canHandle(n,a){return this.tagName===n&&this.attributeName in a}getObject(n,a,i){return a.dataFactory.namedNode((0,t.resolve)(n[this.attributeName],a.baseIRI))}};return Ws.ItemPropertyHandlerUrl=e,Ws}var jg={},lA;function kF(){return lA||(lA=1,Object.defineProperty(jg,"__esModule",{value:!0})),jg}var qg={},cA;function $F(){return cA||(cA=1,Object.defineProperty(qg,"__esModule",{value:!0})),qg}var Bg={},dA;function UF(){return dA||(dA=1,Object.defineProperty(Bg,"__esModule",{value:!0})),Bg}var Ks={},oi={},Nn={},kg={},hA;function pA(){return hA||(hA=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.QuoteType=void 0;var e=Rn(),r;(function(c){c[c.Tab=9]="Tab",c[c.NewLine=10]="NewLine",c[c.FormFeed=12]="FormFeed",c[c.CarriageReturn=13]="CarriageReturn",c[c.Space=32]="Space",c[c.ExclamationMark=33]="ExclamationMark",c[c.Number=35]="Number",c[c.Amp=38]="Amp",c[c.SingleQuote=39]="SingleQuote",c[c.DoubleQuote=34]="DoubleQuote",c[c.Dash=45]="Dash",c[c.Slash=47]="Slash",c[c.Zero=48]="Zero",c[c.Nine=57]="Nine",c[c.Semi=59]="Semi",c[c.Lt=60]="Lt",c[c.Eq=61]="Eq",c[c.Gt=62]="Gt",c[c.Questionmark=63]="Questionmark",c[c.UpperA=65]="UpperA",c[c.LowerA=97]="LowerA",c[c.UpperF=70]="UpperF",c[c.LowerF=102]="LowerF",c[c.UpperZ=90]="UpperZ",c[c.LowerZ=122]="LowerZ",c[c.LowerX=120]="LowerX",c[c.OpeningSquareBracket=91]="OpeningSquareBracket"})(r||(r={}));var n;(function(c){c[c.Text=1]="Text",c[c.BeforeTagName=2]="BeforeTagName",c[c.InTagName=3]="InTagName",c[c.InSelfClosingTag=4]="InSelfClosingTag",c[c.BeforeClosingTagName=5]="BeforeClosingTagName",c[c.InClosingTagName=6]="InClosingTagName",c[c.AfterClosingTagName=7]="AfterClosingTagName",c[c.BeforeAttributeName=8]="BeforeAttributeName",c[c.InAttributeName=9]="InAttributeName",c[c.AfterAttributeName=10]="AfterAttributeName",c[c.BeforeAttributeValue=11]="BeforeAttributeValue",c[c.InAttributeValueDq=12]="InAttributeValueDq",c[c.InAttributeValueSq=13]="InAttributeValueSq",c[c.InAttributeValueNq=14]="InAttributeValueNq",c[c.BeforeDeclaration=15]="BeforeDeclaration",c[c.InDeclaration=16]="InDeclaration",c[c.InProcessingInstruction=17]="InProcessingInstruction",c[c.BeforeComment=18]="BeforeComment",c[c.CDATASequence=19]="CDATASequence",c[c.InSpecialComment=20]="InSpecialComment",c[c.InCommentLike=21]="InCommentLike",c[c.BeforeSpecialS=22]="BeforeSpecialS",c[c.SpecialStartSequence=23]="SpecialStartSequence",c[c.InSpecialTag=24]="InSpecialTag",c[c.BeforeEntity=25]="BeforeEntity",c[c.BeforeNumericEntity=26]="BeforeNumericEntity",c[c.InNamedEntity=27]="InNamedEntity",c[c.InNumericEntity=28]="InNumericEntity",c[c.InHexEntity=29]="InHexEntity"})(n||(n={}));function a(c){return c===r.Space||c===r.NewLine||c===r.Tab||c===r.FormFeed||c===r.CarriageReturn}function i(c){return c===r.Slash||c===r.Gt||a(c)}function s(c){return c>=r.Zero&&c<=r.Nine}function o(c){return c>=r.LowerA&&c<=r.LowerZ||c>=r.UpperA&&c<=r.UpperZ}function f(c){return c>=r.UpperA&&c<=r.UpperF||c>=r.LowerA&&c<=r.LowerF}var u;(function(c){c[c.NoValue=0]="NoValue",c[c.Unquoted=1]="Unquoted",c[c.Single=2]="Single",c[c.Double=3]="Double"})(u=t.QuoteType||(t.QuoteType={}));var l={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101])},d=function(){function c(h,m){var _=h.xmlMode,b=_===void 0?!1:_,y=h.decodeEntities,p=y===void 0?!0:y;this.cbs=m,this.state=n.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=n.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.trieIndex=0,this.trieCurrent=0,this.entityResult=0,this.entityExcess=0,this.xmlMode=b,this.decodeEntities=p,this.entityTrie=b?e.xmlDecodeTree:e.htmlDecodeTree}return c.prototype.reset=function(){this.state=n.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=n.Text,this.currentSequence=void 0,this.running=!0,this.offset=0},c.prototype.write=function(h){this.offset+=this.buffer.length,this.buffer=h,this.parse()},c.prototype.end=function(){this.running&&this.finish()},c.prototype.pause=function(){this.running=!1},c.prototype.resume=function(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()},c.prototype.getIndex=function(){return this.index},c.prototype.getSectionStart=function(){return this.sectionStart},c.prototype.stateText=function(h){h===r.Lt||!this.decodeEntities&&this.fastForwardTo(r.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=n.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&h===r.Amp&&(this.state=n.BeforeEntity)},c.prototype.stateSpecialStartSequence=function(h){var m=this.sequenceIndex===this.currentSequence.length,_=m?i(h):(h|32)===this.currentSequence[this.sequenceIndex];if(!_)this.isSpecial=!1;else if(!m){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=n.InTagName,this.stateInTagName(h)},c.prototype.stateInSpecialTag=function(h){if(this.sequenceIndex===this.currentSequence.length){if(h===r.Gt||a(h)){var m=this.index-this.currentSequence.length;if(this.sectionStart<m){var _=this.index;this.index=m,this.cbs.ontext(this.sectionStart,m),this.index=_}this.isSpecial=!1,this.sectionStart=m+2,this.stateInClosingTagName(h);return}this.sequenceIndex=0}(h|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===l.TitleEnd?this.decodeEntities&&h===r.Amp&&(this.state=n.BeforeEntity):this.fastForwardTo(r.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(h===r.Lt)},c.prototype.stateCDATASequence=function(h){h===l.Cdata[this.sequenceIndex]?++this.sequenceIndex===l.Cdata.length&&(this.state=n.InCommentLike,this.currentSequence=l.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=n.InDeclaration,this.stateInDeclaration(h))},c.prototype.fastForwardTo=function(h){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===h)return!0;return this.index=this.buffer.length+this.offset-1,!1},c.prototype.stateInCommentLike=function(h){h===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===l.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=n.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):h!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)},c.prototype.isTagStartChar=function(h){return this.xmlMode?!i(h):o(h)},c.prototype.startSpecial=function(h,m){this.isSpecial=!0,this.currentSequence=h,this.sequenceIndex=m,this.state=n.SpecialStartSequence},c.prototype.stateBeforeTagName=function(h){if(h===r.ExclamationMark)this.state=n.BeforeDeclaration,this.sectionStart=this.index+1;else if(h===r.Questionmark)this.state=n.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(h)){var m=h|32;this.sectionStart=this.index,!this.xmlMode&&m===l.TitleEnd[2]?this.startSpecial(l.TitleEnd,3):this.state=!this.xmlMode&&m===l.ScriptEnd[2]?n.BeforeSpecialS:n.InTagName}else h===r.Slash?this.state=n.BeforeClosingTagName:(this.state=n.Text,this.stateText(h))},c.prototype.stateInTagName=function(h){i(h)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(h))},c.prototype.stateBeforeClosingTagName=function(h){a(h)||(h===r.Gt?this.state=n.Text:(this.state=this.isTagStartChar(h)?n.InClosingTagName:n.InSpecialComment,this.sectionStart=this.index))},c.prototype.stateInClosingTagName=function(h){(h===r.Gt||a(h))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.AfterClosingTagName,this.stateAfterClosingTagName(h))},c.prototype.stateAfterClosingTagName=function(h){(h===r.Gt||this.fastForwardTo(r.Gt))&&(this.state=n.Text,this.baseState=n.Text,this.sectionStart=this.index+1)},c.prototype.stateBeforeAttributeName=function(h){h===r.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=n.InSpecialTag,this.sequenceIndex=0):this.state=n.Text,this.baseState=this.state,this.sectionStart=this.index+1):h===r.Slash?this.state=n.InSelfClosingTag:a(h)||(this.state=n.InAttributeName,this.sectionStart=this.index)},c.prototype.stateInSelfClosingTag=function(h){h===r.Gt?(this.cbs.onselfclosingtag(this.index),this.state=n.Text,this.baseState=n.Text,this.sectionStart=this.index+1,this.isSpecial=!1):a(h)||(this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(h))},c.prototype.stateInAttributeName=function(h){(h===r.Eq||i(h))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.AfterAttributeName,this.stateAfterAttributeName(h))},c.prototype.stateAfterAttributeName=function(h){h===r.Eq?this.state=n.BeforeAttributeValue:h===r.Slash||h===r.Gt?(this.cbs.onattribend(u.NoValue,this.index),this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(h)):a(h)||(this.cbs.onattribend(u.NoValue,this.index),this.state=n.InAttributeName,this.sectionStart=this.index)},c.prototype.stateBeforeAttributeValue=function(h){h===r.DoubleQuote?(this.state=n.InAttributeValueDq,this.sectionStart=this.index+1):h===r.SingleQuote?(this.state=n.InAttributeValueSq,this.sectionStart=this.index+1):a(h)||(this.sectionStart=this.index,this.state=n.InAttributeValueNq,this.stateInAttributeValueNoQuotes(h))},c.prototype.handleInAttributeValue=function(h,m){h===m||!this.decodeEntities&&this.fastForwardTo(m)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(m===r.DoubleQuote?u.Double:u.Single,this.index),this.state=n.BeforeAttributeName):this.decodeEntities&&h===r.Amp&&(this.baseState=this.state,this.state=n.BeforeEntity)},c.prototype.stateInAttributeValueDoubleQuotes=function(h){this.handleInAttributeValue(h,r.DoubleQuote)},c.prototype.stateInAttributeValueSingleQuotes=function(h){this.handleInAttributeValue(h,r.SingleQuote)},c.prototype.stateInAttributeValueNoQuotes=function(h){a(h)||h===r.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(u.Unquoted,this.index),this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(h)):this.decodeEntities&&h===r.Amp&&(this.baseState=this.state,this.state=n.BeforeEntity)},c.prototype.stateBeforeDeclaration=function(h){h===r.OpeningSquareBracket?(this.state=n.CDATASequence,this.sequenceIndex=0):this.state=h===r.Dash?n.BeforeComment:n.InDeclaration},c.prototype.stateInDeclaration=function(h){(h===r.Gt||this.fastForwardTo(r.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=n.Text,this.sectionStart=this.index+1)},c.prototype.stateInProcessingInstruction=function(h){(h===r.Gt||this.fastForwardTo(r.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=n.Text,this.sectionStart=this.index+1)},c.prototype.stateBeforeComment=function(h){h===r.Dash?(this.state=n.InCommentLike,this.currentSequence=l.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=n.InDeclaration},c.prototype.stateInSpecialComment=function(h){(h===r.Gt||this.fastForwardTo(r.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=n.Text,this.sectionStart=this.index+1)},c.prototype.stateBeforeSpecialS=function(h){var m=h|32;m===l.ScriptEnd[3]?this.startSpecial(l.ScriptEnd,4):m===l.StyleEnd[3]?this.startSpecial(l.StyleEnd,4):(this.state=n.InTagName,this.stateInTagName(h))},c.prototype.stateBeforeEntity=function(h){this.entityExcess=1,this.entityResult=0,h===r.Number?this.state=n.BeforeNumericEntity:h===r.Amp||(this.trieIndex=0,this.trieCurrent=this.entityTrie[0],this.state=n.InNamedEntity,this.stateInNamedEntity(h))},c.prototype.stateInNamedEntity=function(h){if(this.entityExcess+=1,this.trieIndex=(0,e.determineBranch)(this.entityTrie,this.trieCurrent,this.trieIndex+1,h),this.trieIndex<0){this.emitNamedEntity(),this.index--;return}this.trieCurrent=this.entityTrie[this.trieIndex];var m=this.trieCurrent&e.BinTrieFlags.VALUE_LENGTH;if(m){var _=(m>>14)-1;if(!this.allowLegacyEntity()&&h!==r.Semi)this.trieIndex+=_;else{var b=this.index-this.entityExcess+1;b>this.sectionStart&&this.emitPartial(this.sectionStart,b),this.entityResult=this.trieIndex,this.trieIndex+=_,this.entityExcess=0,this.sectionStart=this.index+1,_===0&&this.emitNamedEntity()}}},c.prototype.emitNamedEntity=function(){if(this.state=this.baseState,this.entityResult!==0){var h=(this.entityTrie[this.entityResult]&e.BinTrieFlags.VALUE_LENGTH)>>14;switch(h){case 1:{this.emitCodePoint(this.entityTrie[this.entityResult]&~e.BinTrieFlags.VALUE_LENGTH);break}case 2:{this.emitCodePoint(this.entityTrie[this.entityResult+1]);break}case 3:this.emitCodePoint(this.entityTrie[this.entityResult+1]),this.emitCodePoint(this.entityTrie[this.entityResult+2])}}},c.prototype.stateBeforeNumericEntity=function(h){(h|32)===r.LowerX?(this.entityExcess++,this.state=n.InHexEntity):(this.state=n.InNumericEntity,this.stateInNumericEntity(h))},c.prototype.emitNumericEntity=function(h){var m=this.index-this.entityExcess-1,_=m+2+ +(this.state===n.InHexEntity);_!==this.index&&(m>this.sectionStart&&this.emitPartial(this.sectionStart,m),this.sectionStart=this.index+Number(h),this.emitCodePoint((0,e.replaceCodePoint)(this.entityResult))),this.state=this.baseState},c.prototype.stateInNumericEntity=function(h){h===r.Semi?this.emitNumericEntity(!0):s(h)?(this.entityResult=this.entityResult*10+(h-r.Zero),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},c.prototype.stateInHexEntity=function(h){h===r.Semi?this.emitNumericEntity(!0):s(h)?(this.entityResult=this.entityResult*16+(h-r.Zero),this.entityExcess++):f(h)?(this.entityResult=this.entityResult*16+((h|32)-r.LowerA+10),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},c.prototype.allowLegacyEntity=function(){return!this.xmlMode&&(this.baseState===n.Text||this.baseState===n.InSpecialTag)},c.prototype.cleanup=function(){this.running&&this.sectionStart!==this.index&&(this.state===n.Text||this.state===n.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===n.InAttributeValueDq||this.state===n.InAttributeValueSq||this.state===n.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))},c.prototype.shouldContinue=function(){return this.index<this.buffer.length+this.offset&&this.running},c.prototype.parse=function(){for(;this.shouldContinue();){var h=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case n.Text:{this.stateText(h);break}case n.SpecialStartSequence:{this.stateSpecialStartSequence(h);break}case n.InSpecialTag:{this.stateInSpecialTag(h);break}case n.CDATASequence:{this.stateCDATASequence(h);break}case n.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(h);break}case n.InAttributeName:{this.stateInAttributeName(h);break}case n.InCommentLike:{this.stateInCommentLike(h);break}case n.InSpecialComment:{this.stateInSpecialComment(h);break}case n.BeforeAttributeName:{this.stateBeforeAttributeName(h);break}case n.InTagName:{this.stateInTagName(h);break}case n.InClosingTagName:{this.stateInClosingTagName(h);break}case n.BeforeTagName:{this.stateBeforeTagName(h);break}case n.AfterAttributeName:{this.stateAfterAttributeName(h);break}case n.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(h);break}case n.BeforeAttributeValue:{this.stateBeforeAttributeValue(h);break}case n.BeforeClosingTagName:{this.stateBeforeClosingTagName(h);break}case n.AfterClosingTagName:{this.stateAfterClosingTagName(h);break}case n.BeforeSpecialS:{this.stateBeforeSpecialS(h);break}case n.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(h);break}case n.InSelfClosingTag:{this.stateInSelfClosingTag(h);break}case n.InDeclaration:{this.stateInDeclaration(h);break}case n.BeforeDeclaration:{this.stateBeforeDeclaration(h);break}case n.BeforeComment:{this.stateBeforeComment(h);break}case n.InProcessingInstruction:{this.stateInProcessingInstruction(h);break}case n.InNamedEntity:{this.stateInNamedEntity(h);break}case n.BeforeEntity:{this.stateBeforeEntity(h);break}case n.InHexEntity:{this.stateInHexEntity(h);break}case n.InNumericEntity:{this.stateInNumericEntity(h);break}default:this.stateBeforeNumericEntity(h)}this.index++}this.cleanup()},c.prototype.finish=function(){this.state===n.InNamedEntity&&this.emitNamedEntity(),this.sectionStart<this.index&&this.handleTrailingData(),this.cbs.onend()},c.prototype.handleTrailingData=function(){var h=this.buffer.length+this.offset;this.state===n.InCommentLike?this.currentSequence===l.CdataEnd?this.cbs.oncdata(this.sectionStart,h,0):this.cbs.oncomment(this.sectionStart,h,0):this.state===n.InNumericEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===n.InHexEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===n.InTagName||this.state===n.BeforeAttributeName||this.state===n.BeforeAttributeValue||this.state===n.AfterAttributeName||this.state===n.InAttributeName||this.state===n.InAttributeValueSq||this.state===n.InAttributeValueDq||this.state===n.InAttributeValueNq||this.state===n.InClosingTagName||this.cbs.ontext(this.sectionStart,h)},c.prototype.emitPartial=function(h,m){this.baseState!==n.Text&&this.baseState!==n.InSpecialTag?this.cbs.onattribdata(h,m):this.cbs.ontext(h,m)},c.prototype.emitCodePoint=function(h){this.baseState!==n.Text&&this.baseState!==n.InSpecialTag?this.cbs.onattribentity(h):this.cbs.ontextentity(h)},c}();t.default=d}(kg)),kg}var yA;function gA(){if(yA)return Nn;yA=1;var t=Nn.__createBinding||(Object.create?function(b,y,p,g){g===void 0&&(g=p);var w=Object.getOwnPropertyDescriptor(y,p);(!w||("get"in w?!y.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return y[p]}}),Object.defineProperty(b,g,w)}:function(b,y,p,g){g===void 0&&(g=p),b[g]=y[p]}),e=Nn.__setModuleDefault||(Object.create?function(b,y){Object.defineProperty(b,"default",{enumerable:!0,value:y})}:function(b,y){b.default=y}),r=Nn.__importStar||function(b){if(b&&b.__esModule)return b;var y={};if(b!=null)for(var p in b)p!=="default"&&Object.prototype.hasOwnProperty.call(b,p)&&t(y,b,p);return e(y,b),y};Object.defineProperty(Nn,"__esModule",{value:!0}),Nn.Parser=void 0;var n=r(pA()),a=Rn(),i=new Set(["input","option","optgroup","select","button","datalist","textarea"]),s=new Set(["p"]),o=new Set(["thead","tbody"]),f=new Set(["dd","dt"]),u=new Set(["rt","rp"]),l=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",s],["h1",s],["h2",s],["h3",s],["h4",s],["h5",s],["h6",s],["select",i],["input",i],["output",i],["button",i],["datalist",i],["textarea",i],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",f],["dt",f],["address",s],["article",s],["aside",s],["blockquote",s],["details",s],["div",s],["dl",s],["fieldset",s],["figcaption",s],["figure",s],["footer",s],["form",s],["header",s],["hr",s],["main",s],["nav",s],["ol",s],["pre",s],["section",s],["table",s],["ul",s],["rt",u],["rp",u],["tbody",o],["tfoot",o]]),d=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),c=new Set(["math","svg"]),h=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),m=/\s|\//,_=function(){function b(y,p){p===void 0&&(p={});var g,w,S,I,O;this.options=p,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=y??{},this.lowerCaseTagNames=(g=p.lowerCaseTags)!==null&&g!==void 0?g:!p.xmlMode,this.lowerCaseAttributeNames=(w=p.lowerCaseAttributeNames)!==null&&w!==void 0?w:!p.xmlMode,this.tokenizer=new((S=p.Tokenizer)!==null&&S!==void 0?S:n.default)(this.options,this),(O=(I=this.cbs).onparserinit)===null||O===void 0||O.call(I,this)}return b.prototype.ontext=function(y,p){var g,w,S=this.getSlice(y,p);this.endIndex=p-1,(w=(g=this.cbs).ontext)===null||w===void 0||w.call(g,S),this.startIndex=p},b.prototype.ontextentity=function(y){var p,g,w=this.tokenizer.getSectionStart();this.endIndex=w-1,(g=(p=this.cbs).ontext)===null||g===void 0||g.call(p,(0,a.fromCodePoint)(y)),this.startIndex=w},b.prototype.isVoidElement=function(y){return!this.options.xmlMode&&d.has(y)},b.prototype.onopentagname=function(y,p){this.endIndex=p;var g=this.getSlice(y,p);this.lowerCaseTagNames&&(g=g.toLowerCase()),this.emitOpenTag(g)},b.prototype.emitOpenTag=function(y){var p,g,w,S;this.openTagStart=this.startIndex,this.tagname=y;var I=!this.options.xmlMode&&l.get(y);if(I)for(;this.stack.length>0&&I.has(this.stack[this.stack.length-1]);){var O=this.stack.pop();(g=(p=this.cbs).onclosetag)===null||g===void 0||g.call(p,O,!0)}this.isVoidElement(y)||(this.stack.push(y),c.has(y)?this.foreignContext.push(!0):h.has(y)&&this.foreignContext.push(!1)),(S=(w=this.cbs).onopentagname)===null||S===void 0||S.call(w,y),this.cbs.onopentag&&(this.attribs={})},b.prototype.endOpenTag=function(y){var p,g;this.startIndex=this.openTagStart,this.attribs&&((g=(p=this.cbs).onopentag)===null||g===void 0||g.call(p,this.tagname,this.attribs,y),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""},b.prototype.onopentagend=function(y){this.endIndex=y,this.endOpenTag(!1),this.startIndex=y+1},b.prototype.onclosetag=function(y,p){var g,w,S,I,O,M;this.endIndex=p;var D=this.getSlice(y,p);if(this.lowerCaseTagNames&&(D=D.toLowerCase()),(c.has(D)||h.has(D))&&this.foreignContext.pop(),this.isVoidElement(D))!this.options.xmlMode&&D==="br"&&((w=(g=this.cbs).onopentagname)===null||w===void 0||w.call(g,"br"),(I=(S=this.cbs).onopentag)===null||I===void 0||I.call(S,"br",{},!0),(M=(O=this.cbs).onclosetag)===null||M===void 0||M.call(O,"br",!1));else{var N=this.stack.lastIndexOf(D);if(N!==-1)if(this.cbs.onclosetag)for(var C=this.stack.length-N;C--;)this.cbs.onclosetag(this.stack.pop(),C!==0);else this.stack.length=N;else!this.options.xmlMode&&D==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=p+1},b.prototype.onselfclosingtag=function(y){this.endIndex=y,this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?(this.closeCurrentTag(!1),this.startIndex=y+1):this.onopentagend(y)},b.prototype.closeCurrentTag=function(y){var p,g,w=this.tagname;this.endOpenTag(y),this.stack[this.stack.length-1]===w&&((g=(p=this.cbs).onclosetag)===null||g===void 0||g.call(p,w,!y),this.stack.pop())},b.prototype.onattribname=function(y,p){this.startIndex=y;var g=this.getSlice(y,p);this.attribname=this.lowerCaseAttributeNames?g.toLowerCase():g},b.prototype.onattribdata=function(y,p){this.attribvalue+=this.getSlice(y,p)},b.prototype.onattribentity=function(y){this.attribvalue+=(0,a.fromCodePoint)(y)},b.prototype.onattribend=function(y,p){var g,w;this.endIndex=p,(w=(g=this.cbs).onattribute)===null||w===void 0||w.call(g,this.attribname,this.attribvalue,y===n.QuoteType.Double?'"':y===n.QuoteType.Single?"'":y===n.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""},b.prototype.getInstructionName=function(y){var p=y.search(m),g=p<0?y:y.substr(0,p);return this.lowerCaseTagNames&&(g=g.toLowerCase()),g},b.prototype.ondeclaration=function(y,p){this.endIndex=p;var g=this.getSlice(y,p);if(this.cbs.onprocessinginstruction){var w=this.getInstructionName(g);this.cbs.onprocessinginstruction("!".concat(w),"!".concat(g))}this.startIndex=p+1},b.prototype.onprocessinginstruction=function(y,p){this.endIndex=p;var g=this.getSlice(y,p);if(this.cbs.onprocessinginstruction){var w=this.getInstructionName(g);this.cbs.onprocessinginstruction("?".concat(w),"?".concat(g))}this.startIndex=p+1},b.prototype.oncomment=function(y,p,g){var w,S,I,O;this.endIndex=p,(S=(w=this.cbs).oncomment)===null||S===void 0||S.call(w,this.getSlice(y,p-g)),(O=(I=this.cbs).oncommentend)===null||O===void 0||O.call(I),this.startIndex=p+1},b.prototype.oncdata=function(y,p,g){var w,S,I,O,M,D,N,C,R,F;this.endIndex=p;var X=this.getSlice(y,p-g);this.options.xmlMode||this.options.recognizeCDATA?((S=(w=this.cbs).oncdatastart)===null||S===void 0||S.call(w),(O=(I=this.cbs).ontext)===null||O===void 0||O.call(I,X),(D=(M=this.cbs).oncdataend)===null||D===void 0||D.call(M)):((C=(N=this.cbs).oncomment)===null||C===void 0||C.call(N,"[CDATA[".concat(X,"]]")),(F=(R=this.cbs).oncommentend)===null||F===void 0||F.call(R)),this.startIndex=p+1},b.prototype.onend=function(){var y,p;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(var g=this.stack.length;g>0;this.cbs.onclosetag(this.stack[--g],!0));}(p=(y=this.cbs).onend)===null||p===void 0||p.call(y)},b.prototype.reset=function(){var y,p,g,w;(p=(y=this.cbs).onreset)===null||p===void 0||p.call(y),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(w=(g=this.cbs).onparserinit)===null||w===void 0||w.call(g,this),this.buffers.length=0,this.bufferOffset=0,this.writeIndex=0,this.ended=!1},b.prototype.parseComplete=function(y){this.reset(),this.end(y)},b.prototype.getSlice=function(y,p){for(;y-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();for(var g=this.buffers[0].slice(y-this.bufferOffset,p-this.bufferOffset);p-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),g+=this.buffers[0].slice(0,p-this.bufferOffset);return g},b.prototype.shiftBuffer=function(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()},b.prototype.write=function(y){var p,g;if(this.ended){(g=(p=this.cbs).onerror)===null||g===void 0||g.call(p,new Error(".write() after done!"));return}this.buffers.push(y),this.tokenizer.running&&(this.tokenizer.write(y),this.writeIndex++)},b.prototype.end=function(y){var p,g;if(this.ended){(g=(p=this.cbs).onerror)===null||g===void 0||g.call(p,new Error(".end() after done!"));return}y&&this.write(y),this.ended=!0,this.tokenizer.end()},b.prototype.pause=function(){this.tokenizer.pause()},b.prototype.resume=function(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()},b.prototype.parseChunk=function(y){this.write(y)},b.prototype.done=function(y){this.end(y)},b}();return Nn.Parser=_,Nn}var bA;function HF(){return bA||(bA=1,function(t){var e=oi.__createBinding||(Object.create?function(y,p,g,w){w===void 0&&(w=g);var S=Object.getOwnPropertyDescriptor(p,g);(!S||("get"in S?!p.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return p[g]}}),Object.defineProperty(y,w,S)}:function(y,p,g,w){w===void 0&&(w=g),y[w]=p[g]}),r=oi.__setModuleDefault||(Object.create?function(y,p){Object.defineProperty(y,"default",{enumerable:!0,value:p})}:function(y,p){y.default=p}),n=oi.__importStar||function(y){if(y&&y.__esModule)return y;var p={};if(y!=null)for(var g in y)g!=="default"&&Object.prototype.hasOwnProperty.call(y,g)&&e(p,y,g);return r(p,y),p},a=oi.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(t,"__esModule",{value:!0}),t.DomUtils=t.parseFeed=t.getFeed=t.ElementType=t.Tokenizer=t.createDomStream=t.parseDOM=t.parseDocument=t.DefaultHandler=t.DomHandler=t.Parser=void 0;var i=gA(),s=gA();Object.defineProperty(t,"Parser",{enumerable:!0,get:function(){return s.Parser}});var o=wr(),f=wr();Object.defineProperty(t,"DomHandler",{enumerable:!0,get:function(){return f.DomHandler}}),Object.defineProperty(t,"DefaultHandler",{enumerable:!0,get:function(){return f.DomHandler}});function u(y,p){var g=new o.DomHandler(void 0,p);return new i.Parser(g,p).end(y),g.root}t.parseDocument=u;function l(y,p){return u(y,p).children}t.parseDOM=l;function d(y,p,g){var w=new o.DomHandler(y,p,g);return new i.Parser(w,p)}t.createDomStream=d;var c=pA();Object.defineProperty(t,"Tokenizer",{enumerable:!0,get:function(){return a(c).default}}),t.ElementType=n(ri());var h=nn(),m=nn();Object.defineProperty(t,"getFeed",{enumerable:!0,get:function(){return m.getFeed}});var _={xmlMode:!0};function b(y,p){return p===void 0&&(p=_),(0,h.getFeed)(l(y,p))}t.parseFeed=b,t.DomUtils=n(nn())}(oi)),oi}var VF={"http://schema.org/":{properties:{additionalType:{subPropertyOf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"}}},"http://microformats.org/profile/hcard":{}},mA;function GF(){if(mA)return Ks;mA=1,Object.defineProperty(Ks,"__esModule",{value:!0}),Ks.MicrodataRdfParser=void 0;const t=HF(),e=Tr(),r=rA(),n=aA(),a=sA(),i=fA(),s=Dl(),o=VF;let f=class db extends e.Transform{constructor(l){super({readableObjectMode:!0}),this.itemScopeStack=[],this.textBufferStack=[],this.isEmittingReferences=!1,this.pendingItemRefsDomain={},this.pendingItemRefsRangeFinalized={},this.pendingItemRefsRangeCollecting={},l=l||{},this.options=l,this.util=new s.Util(l.dataFactory,l.baseIRI),this.defaultGraph=l.defaultGraph||this.util.dataFactory.defaultGraph(),this.htmlParseListener=l.htmlParseListener,this.vocabRegistry=l.vocabRegistry||o,this.parser=this.initializeParser(!!l.xmlMode)}import(l){const d=new e.PassThrough({readableObjectMode:!0});l.on("error",h=>c.emit("error",h)),l.on("data",h=>d.push(h)),l.on("end",()=>d.push(null));const c=d.pipe(new db(this.options));return c}_transform(l,d,c){this.parser.write(l.toString()),c()}_flush(l){this.parser.end(),l()}getItemScope(l){let d=this.itemScopeStack.length-(l?2:1);for(;d>0&&!this.itemScopeStack[d];)d--;return this.itemScopeStack[d]}getDepth(){return this.itemScopeStack.length}onTagOpen(l,d){if(!this.isEmittingReferences){if("id"in d){const h=d.id;this.pendingItemRefsRangeCollecting[h]={events:[],counter:0,ids:[]}}for(const h of Object.values(this.pendingItemRefsRangeCollecting))h.counter++,h.events.push({type:"open",name:l,attributes:d})}this.textBufferStack.push(void 0);let c;if("itemscope"in d){let h;if(this.emittingReferencesItemScopeIdGenerator)h=this.emittingReferencesItemScopeIdGenerator();else{h="itemid"in d&&this.util.createSubject(d.itemid)||this.util.dataFactory.blankNode();for(const _ of Object.values(this.pendingItemRefsRangeCollecting))_.ids.push(h)}c={subject:h},this.isEmittingReferences&&(c.blockEmission=!0);const m=this.getItemScope();m&&m.vocab&&(c.vocab=m.vocab),this.itemScopeStack.push(c)}else c=this.getItemScope(),this.itemScopeStack.push(void 0);if(c){if("itemtype"in d)for(const h of this.util.createVocabIris(d.itemtype,c,!1))c.vocab||(c.vocab=this.util.deriveVocab(h.value,this.vocabRegistry)),c.blockEmission||this.emitTriple(c.subject,this.util.dataFactory.namedNode(`${s.Util.RDF}type`),h);if("lang"in d&&(c.language=d.lang),"xml:lang"in d&&(c.language=d["xml:lang"]),"itemscope"in d&&!this.isEmittingReferences&&"itemref"in d)for(const h of d.itemref.split(/\s+/u))h in this.pendingItemRefsDomain||(this.pendingItemRefsDomain[h]=[]),this.pendingItemRefsDomain[h].push(c),this.tryToEmitReferences(h,c)}"itemprop"in d&&this.handleItemProperties(d.itemprop,!1,c,l,d),"itemprop-reverse"in d&&this.handleItemProperties(d["itemprop-reverse"],!0,c,l,d)}onText(l){if(!this.isEmittingReferences)for(const d of Object.values(this.pendingItemRefsRangeCollecting))d.events.push({type:"text",data:l});for(const d of this.textBufferStack)d&&d.push(l)}onTagClose(){if(!this.isEmittingReferences)for(const[d,c]of Object.entries(this.pendingItemRefsRangeCollecting))c.counter--,c.events.push({type:"close"}),c.counter===0&&(this.pendingItemRefsRangeFinalized[d]=c,delete this.pendingItemRefsRangeCollecting[d],this.tryToEmitReferences(d));const l=this.getItemScope(!0);if(l){const d=this.getDepth();if(l.predicates&&d in l.predicates)for(const[c,h]of Object.entries(l.predicates[d])){const m=this.util.createLiteral(this.textBufferStack[d].join(""),l);this.emitPredicateTriples(l,h,m,c==="reverse"),delete l.predicates[d][c]}}this.itemScopeStack.pop(),this.textBufferStack.pop()}onEnd(){}initializeParser(l){return new t.Parser({onclosetag:()=>{try{this.onTagClose(),this.htmlParseListener&&this.htmlParseListener.onTagClose()}catch(d){this.emit("error",d)}},onend:()=>{try{this.onEnd(),this.htmlParseListener&&this.htmlParseListener.onEnd()}catch(d){this.emit("error",d)}},onopentag:(d,c)=>{try{this.onTagOpen(d,c),this.htmlParseListener&&this.htmlParseListener.onTagOpen(d,c)}catch(h){this.emit("error",h)}},ontext:d=>{try{this.onText(d),this.htmlParseListener&&this.htmlParseListener.onText(d)}catch(c){this.emit("error",c)}}},{decodeEntities:!0,recognizeSelfClosing:!0,xmlMode:l})}handleItemProperties(l,d,c,h,m){const _=this.getItemScope(!0);if(_){const b=this.getDepth(),y=this.util.createVocabIris(l,_,!0);_.predicates||(_.predicates={}),_.predicates[b]||(_.predicates[b]={});const p=d?"reverse":"forward";_.predicates[b][p]=y;for(const g of this.util.getVocabularyExpansionType(l,_,this.vocabRegistry))y.push(g);if(c&&"itemscope"in m)this.emitPredicateTriples(_,y,c.subject,d),delete _.predicates[b][p];else for(const g of db.ITEM_PROPERTY_HANDLERS)if(g.canHandle(h,m)){const w=g.getObject(m,this.util,_);this.emitPredicateTriples(_,y,w,d),delete _.predicates[b][p]}_.predicates[b][p]&&(this.textBufferStack[b]=[])}}emitPredicateTriples(l,d,c,h){if(!l.blockEmission)for(const m of d)h?c.termType!=="Literal"&&this.emitTriple(c,m,l.subject):this.emitTriple(l.subject,m,c)}emitTriple(l,d,c){this.push(this.util.dataFactory.quad(l,d,c,this.defaultGraph))}tryToEmitReferences(l,d){const c=this.pendingItemRefsRangeFinalized[l];if(c){let h;if(d){h=[d];const m=this.pendingItemRefsDomain[l].indexOf(d);this.pendingItemRefsDomain[l].splice(m,1)}else h=this.pendingItemRefsDomain[l],delete this.pendingItemRefsDomain[l];if(h){const m=this.itemScopeStack,_=this.textBufferStack;this.isEmittingReferences=!0;for(const b of h){this.itemScopeStack=[b],this.textBufferStack=[void 0];const y=[...c.ids];this.emittingReferencesItemScopeIdGenerator=()=>y.shift();for(const p of c.events)switch(p.type){case"open":this.onTagOpen(p.name,p.attributes);break;case"text":this.onText(p.data);break;case"close":this.onTagClose();break}}this.emittingReferencesItemScopeIdGenerator=void 0,this.itemScopeStack=m,this.textBufferStack=_,this.isEmittingReferences=!1}}}};return Ks.MicrodataRdfParser=f,f.ITEM_PROPERTY_HANDLERS=[new r.ItemPropertyHandlerContent,new i.ItemPropertyHandlerUrl("a","href"),new i.ItemPropertyHandlerUrl("area","href"),new i.ItemPropertyHandlerUrl("audio","src"),new i.ItemPropertyHandlerUrl("embed","src"),new i.ItemPropertyHandlerUrl("iframe","src"),new i.ItemPropertyHandlerUrl("img","src"),new i.ItemPropertyHandlerUrl("link","href"),new i.ItemPropertyHandlerUrl("object","data"),new i.ItemPropertyHandlerUrl("source","src"),new i.ItemPropertyHandlerUrl("track","src"),new i.ItemPropertyHandlerUrl("video","src"),new n.ItemPropertyHandlerNumber("data","value"),new n.ItemPropertyHandlerNumber("meter","value"),new a.ItemPropertyHandlerTime],Ks}var _A;function zF(){return _A||(_A=1,function(t){var e=Us.__createBinding||(Object.create?function(n,a,i,s){s===void 0&&(s=i);var o=Object.getOwnPropertyDescriptor(a,i);(!o||("get"in o?!a.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,s,o)}:function(n,a,i,s){s===void 0&&(s=i),n[s]=a[i]}),r=Us.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&e(a,n,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(BF(),t),r(rA(),t),r(aA(),t),r(sA(),t),r(fA(),t),r(kF(),t),r($F(),t),r(UF(),t),r(GF(),t),r(Dl(),t)}(Us)),Us}var vA;function WF(){if(vA)return Bs;vA=1,Object.defineProperty(Bs,"__esModule",{value:!0}),Bs.ActorRdfParseHtmlMicrodata=void 0;const t=Fg(),e=Or(),r=gt(),n=zF();let a=class extends t.ActorRdfParseHtml{constructor(s){super(s)}async test(s){return(0,r.passTestVoid)()}async run(s){const o=s.context.getSafe(e.KeysInitQuery.dataFactory),f=s.headers?s.headers.get("content-type"):null,u=f==null?void 0:f.includes("xml"),l=new n.MicrodataRdfParser({dataFactory:o,baseIRI:s.baseIRI,xmlMode:u});l.on("error",s.error),l.on("data",s.emit);const d=l.onEnd;return l.onEnd=()=>{d.call(l),s.end()},{htmlParseListener:l}}};return Bs.ActorRdfParseHtmlMicrodata=a,Bs}var wA;function KF(){return wA||(wA=1,function(t){var e=qs.__createBinding||(Object.create?function(n,a,i,s){s===void 0&&(s=i);var o=Object.getOwnPropertyDescriptor(a,i);(!o||("get"in o?!a.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,s,o)}:function(n,a,i,s){s===void 0&&(s=i),n[s]=a[i]}),r=qs.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&e(a,n,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(WF(),t)}(qs)),qs}var Qs={},Xs={},EA;function QF(){if(EA)return Xs;EA=1,Object.defineProperty(Xs,"__esModule",{value:!0}),Xs.ActorRdfParseHtmlRdfa=void 0;const t=Fg(),e=Or(),r=gt(),n=FI();let a=class extends t.ActorRdfParseHtml{constructor(s){super(s)}async test(s){return(0,r.passTestVoid)()}async run(s){const o=s.context.getSafe(e.KeysInitQuery.dataFactory),f=s.headers?s.headers.get("content-type"):null,u=(s.headers&&s.headers.get("content-language"))??void 0,l=f&&f.includes("xml")?"xhtml":"html",d=new n.RdfaParser({dataFactory:o,baseIRI:s.baseIRI,profile:l,language:u});d.on("error",s.error),d.on("data",s.emit);const c=d.onEnd;return d.onEnd=()=>{c.call(d),s.end()},{htmlParseListener:d}}};return Xs.ActorRdfParseHtmlRdfa=a,Xs}var SA;function XF(){return SA||(SA=1,function(t){var e=Qs.__createBinding||(Object.create?function(n,a,i,s){s===void 0&&(s=i);var o=Object.getOwnPropertyDescriptor(a,i);(!o||("get"in o?!a.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,s,o)}:function(n,a,i,s){s===void 0&&(s=i),n[s]=a[i]}),r=Qs.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&e(a,n,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(QF(),t)}(Qs)),Qs}var Zs={},Js={},Ys={},eu={},$g,TA;function ZF(){if(TA)return $g;TA=1;var{Buffer:t}=bt(),e={},r=e.LEFT_BRACE=1,n=e.RIGHT_BRACE=2,a=e.LEFT_BRACKET=3,i=e.RIGHT_BRACKET=4,s=e.COLON=5,o=e.COMMA=6,f=e.TRUE=7,u=e.FALSE=8,l=e.NULL=9,d=e.STRING=10,c=e.NUMBER=11,h=e.START=17,m=e.STOP=18,_=e.TRUE1=33,b=e.TRUE2=34,y=e.TRUE3=35,p=e.FALSE1=49,g=e.FALSE2=50,w=e.FALSE3=51,S=e.FALSE4=52,I=e.NULL1=65,O=e.NULL2=66,M=e.NULL3=67,D=e.NUMBER1=81,N=e.NUMBER3=83,C=e.STRING1=97,R=e.STRING2=98,F=e.STRING3=99,X=e.STRING4=100,oe=e.STRING5=101,J=e.STRING6=102,le=e.VALUE=113,ae=e.KEY=114,Z=e.OBJECT=129,H=e.ARRAY=130,de=92,he=47,W=8,z=12,Q=10,A=13,P=9,k=64*1024;function G(v){return t.alloc?t.alloc(v):new t(v)}function te(){this.tState=h,this.value=void 0,this.string=void 0,this.stringBuffer=G(k),this.stringBufferOffset=0,this.unicode=void 0,this.highSurrogate=void 0,this.key=void 0,this.mode=void 0,this.stack=[],this.state=le,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:G(2),3:G(3),4:G(4)},this.offset=-1}te.toknam=function(v){for(var T=Object.keys(e),L=0,Y=T.length;L<Y;L++){var ne=T[L];if(e[ne]===v)return ne}return v&&"0x"+v.toString(16)};var E=te.prototype;return E.onError=function(v){throw v},E.charError=function(v,T){this.tState=m,this.onError(new Error("Unexpected "+JSON.stringify(String.fromCharCode(v[T]))+" at position "+T+" in state "+te.toknam(this.tState)))},E.appendStringChar=function(v){this.stringBufferOffset>=k&&(this.string+=this.stringBuffer.toString("utf8"),this.stringBufferOffset=0),this.stringBuffer[this.stringBufferOffset++]=v},E.appendStringBuf=function(v,T,L){var Y=v.length;typeof T=="number"&&(typeof L=="number"?L<0?Y=v.length-T+L:Y=L-T:Y=v.length-T),Y<0&&(Y=0),this.stringBufferOffset+Y>k&&(this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0),v.copy(this.stringBuffer,this.stringBufferOffset,T,L),this.stringBufferOffset+=Y},E.write=function(v){typeof v=="string"&&(v=new t(v));for(var T,L=0,Y=v.length;L<Y;L++)if(this.tState===h){if(T=v[L],this.offset++,T===123)this.onToken(r,"{");else if(T===125)this.onToken(n,"}");else if(T===91)this.onToken(a,"[");else if(T===93)this.onToken(i,"]");else if(T===58)this.onToken(s,":");else if(T===44)this.onToken(o,",");else if(T===116)this.tState=_;else if(T===102)this.tState=p;else if(T===110)this.tState=I;else if(T===34)this.string="",this.stringBufferOffset=0,this.tState=C;else if(T===45)this.string="-",this.tState=D;else if(T>=48&&T<64)this.string=String.fromCharCode(T),this.tState=N;else if(!(T===32||T===9||T===10||T===13))return this.charError(v,L)}else if(this.tState===C)if(T=v[L],this.bytes_remaining>0){for(var ne=0;ne<this.bytes_remaining;ne++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+ne]=v[ne];this.appendStringBuf(this.temp_buffs[this.bytes_in_sequence]),this.bytes_in_sequence=this.bytes_remaining=0,L=L+ne-1}else if(this.bytes_remaining===0&&T>=128){if(T<=193||T>244)return this.onError(new Error("Invalid UTF-8 character at position "+L+" in state "+te.toknam(this.tState)));if(T>=194&&T<=223&&(this.bytes_in_sequence=2),T>=224&&T<=239&&(this.bytes_in_sequence=3),T>=240&&T<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+L>v.length){for(var pe=0;pe<=v.length-1-L;pe++)this.temp_buffs[this.bytes_in_sequence][pe]=v[L+pe];this.bytes_remaining=L+this.bytes_in_sequence-v.length,L=v.length-1}else this.appendStringBuf(v,L,L+this.bytes_in_sequence),L=L+this.bytes_in_sequence-1}else if(T===34)this.tState=h,this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0,this.onToken(d,this.string),this.offset+=t.byteLength(this.string,"utf8")+1,this.string=void 0;else if(T===92)this.tState=R;else if(T>=32)this.appendStringChar(T);else return this.charError(v,L);else if(this.tState===R)if(T=v[L],T===34)this.appendStringChar(T),this.tState=C;else if(T===92)this.appendStringChar(de),this.tState=C;else if(T===47)this.appendStringChar(he),this.tState=C;else if(T===98)this.appendStringChar(W),this.tState=C;else if(T===102)this.appendStringChar(z),this.tState=C;else if(T===110)this.appendStringChar(Q),this.tState=C;else if(T===114)this.appendStringChar(A),this.tState=C;else if(T===116)this.appendStringChar(P),this.tState=C;else if(T===117)this.unicode="",this.tState=F;else return this.charError(v,L);else if(this.tState===F||this.tState===X||this.tState===oe||this.tState===J)if(T=v[L],T>=48&&T<64||T>64&&T<=70||T>96&&T<=102){if(this.unicode+=String.fromCharCode(T),this.tState++===J){var we=parseInt(this.unicode,16);this.unicode=void 0,this.highSurrogate!==void 0&&we>=56320&&we<57344?(this.appendStringBuf(new t(String.fromCharCode(this.highSurrogate,we))),this.highSurrogate=void 0):this.highSurrogate===void 0&&we>=55296&&we<56320?this.highSurrogate=we:(this.highSurrogate!==void 0&&(this.appendStringBuf(new t(String.fromCharCode(this.highSurrogate))),this.highSurrogate=void 0),this.appendStringBuf(new t(String.fromCharCode(we)))),this.tState=C}}else return this.charError(v,L);else if(this.tState===D||this.tState===N)switch(T=v[L],T){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 46:case 101:case 69:case 43:case 45:this.string+=String.fromCharCode(T),this.tState=N;break;default:this.tState=h;var fe=this.numberReviver(this.string,v,L);if(fe)return fe;this.offset+=this.string.length-1,this.string=void 0,L--;break}else if(this.tState===_)if(v[L]===114)this.tState=b;else return this.charError(v,L);else if(this.tState===b)if(v[L]===117)this.tState=y;else return this.charError(v,L);else if(this.tState===y)if(v[L]===101)this.tState=h,this.onToken(f,!0),this.offset+=3;else return this.charError(v,L);else if(this.tState===p)if(v[L]===97)this.tState=g;else return this.charError(v,L);else if(this.tState===g)if(v[L]===108)this.tState=w;else return this.charError(v,L);else if(this.tState===w)if(v[L]===115)this.tState=S;else return this.charError(v,L);else if(this.tState===S)if(v[L]===101)this.tState=h,this.onToken(u,!1),this.offset+=4;else return this.charError(v,L);else if(this.tState===I)if(v[L]===117)this.tState=O;else return this.charError(v,L);else if(this.tState===O)if(v[L]===108)this.tState=M;else return this.charError(v,L);else if(this.tState===M)if(v[L]===108)this.tState=h,this.onToken(l,null),this.offset+=3;else return this.charError(v,L)},E.onToken=function(v,T){},E.parseError=function(v,T){this.tState=m,this.onError(new Error("Unexpected "+te.toknam(v)+(T?"("+JSON.stringify(T)+")":"")+" in state "+te.toknam(this.state)))},E.push=function(){this.stack.push({value:this.value,key:this.key,mode:this.mode})},E.pop=function(){var v=this.value,T=this.stack.pop();this.value=T.value,this.key=T.key,this.mode=T.mode,this.emit(v),this.mode||(this.state=le)},E.emit=function(v){this.mode&&(this.state=o),this.onValue(v)},E.onValue=function(v){},E.onToken=function(v,T){if(this.state===le)if(v===d||v===c||v===f||v===u||v===l)this.value&&(this.value[this.key]=T),this.emit(T);else if(v===r)this.push(),this.value?this.value=this.value[this.key]={}:this.value={},this.key=void 0,this.state=ae,this.mode=Z;else if(v===a)this.push(),this.value?this.value=this.value[this.key]=[]:this.value=[],this.key=0,this.mode=H,this.state=le;else if(v===n)if(this.mode===Z)this.pop();else return this.parseError(v,T);else if(v===i)if(this.mode===H)this.pop();else return this.parseError(v,T);else return this.parseError(v,T);else if(this.state===ae)if(v===d)this.key=T,this.state=s;else if(v===n)this.pop();else return this.parseError(v,T);else if(this.state===s)if(v===s)this.state=le;else return this.parseError(v,T);else if(this.state===o)if(v===o)this.mode===H?(this.key++,this.state=le):this.mode===Z&&(this.state=ae);else if(v===i&&this.mode===H||v===n&&this.mode===Z)this.pop();else return this.parseError(v,T);else return this.parseError(v,T)},E.numberReviver=function(v,T,L){var Y=Number(v);if(isNaN(Y))return this.charError(T,L);v.match(/[0-9]+/)==v&&Y.toString()!=v?this.onToken(d,v):this.onToken(c,Y)},te.C=e,$g=te,$g}var tu={},ru={},Ug={},xA;function nu(){return xA||(xA=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ERROR_CODES=t.ErrorCoded=void 0;class e extends Error{constructor(n,a){super(n),this.code=a}}t.ErrorCoded=e,function(r){r.COLLIDING_KEYWORDS="colliding keywords",r.CONFLICTING_INDEXES="conflicting indexes",r.CYCLIC_IRI_MAPPING="cyclic IRI mapping",r.INVALID_ID_VALUE="invalid @id value",r.INVALID_INDEX_VALUE="invalid @index value",r.INVALID_NEST_VALUE="invalid @nest value",r.INVALID_PREFIX_VALUE="invalid @prefix value",r.INVALID_PROPAGATE_VALUE="invalid @propagate value",r.INVALID_REVERSE_VALUE="invalid @reverse value",r.INVALID_IMPORT_VALUE="invalid @import value",r.INVALID_VERSION_VALUE="invalid @version value",r.INVALID_BASE_IRI="invalid base IRI",r.INVALID_CONTAINER_MAPPING="invalid container mapping",r.INVALID_CONTEXT_ENTRY="invalid context entry",r.INVALID_CONTEXT_NULLIFICATION="invalid context nullification",r.INVALID_DEFAULT_LANGUAGE="invalid default language",r.INVALID_INCLUDED_VALUE="invalid @included value",r.INVALID_IRI_MAPPING="invalid IRI mapping",r.INVALID_JSON_LITERAL="invalid JSON literal",r.INVALID_KEYWORD_ALIAS="invalid keyword alias",r.INVALID_LANGUAGE_MAP_VALUE="invalid language map value",r.INVALID_LANGUAGE_MAPPING="invalid language mapping",r.INVALID_LANGUAGE_TAGGED_STRING="invalid language-tagged string",r.INVALID_LANGUAGE_TAGGED_VALUE="invalid language-tagged value",r.INVALID_LOCAL_CONTEXT="invalid local context",r.INVALID_REMOTE_CONTEXT="invalid remote context",r.INVALID_REVERSE_PROPERTY="invalid reverse property",r.INVALID_REVERSE_PROPERTY_MAP="invalid reverse property map",r.INVALID_REVERSE_PROPERTY_VALUE="invalid reverse property value",r.INVALID_SCOPED_CONTEXT="invalid scoped context",r.INVALID_SCRIPT_ELEMENT="invalid script element",r.INVALID_SET_OR_LIST_OBJECT="invalid set or list object",r.INVALID_TERM_DEFINITION="invalid term definition",r.INVALID_TYPE_MAPPING="invalid type mapping",r.INVALID_TYPE_VALUE="invalid type value",r.INVALID_TYPED_VALUE="invalid typed value",r.INVALID_VALUE_OBJECT="invalid value object",r.INVALID_VALUE_OBJECT_VALUE="invalid value object value",r.INVALID_VOCAB_MAPPING="invalid vocab mapping",r.IRI_CONFUSED_WITH_PREFIX="IRI confused with prefix",r.KEYWORD_REDEFINITION="keyword redefinition",r.LOADING_DOCUMENT_FAILED="loading document failed",r.LOADING_REMOTE_CONTEXT_FAILED="loading remote context failed",r.MULTIPLE_CONTEXT_LINK_HEADERS="multiple context link headers",r.PROCESSING_MODE_CONFLICT="processing mode conflict",r.PROTECTED_TERM_REDEFINITION="protected term redefinition",r.CONTEXT_OVERFLOW="context overflow",r.INVALID_BASE_DIRECTION="invalid base direction",r.RECURSIVE_CONTEXT_INCLUSION="recursive context inclusion",r.INVALID_STREAMING_KEY_ORDER="invalid streaming key order",r.INVALID_EMBEDDED_NODE="invalid embedded node",r.INVALID_ANNOTATION="invalid annotation"}(t.ERROR_CODES||(t.ERROR_CODES={}))}(Ug)),Ug}var iu={},Hg,RA;function Vg(){if(RA)return Hg;RA=1;var t=/^utf-?8|ascii|utf-?16-?le|ucs-?2|base-?64|latin-?1$/i,e=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,r=/\s|\uFEFF|\xA0/,n=/\r?\n[\x20\x09]+/g,a=/[;,"]/,i=/[;,"]|\s/,s=/^[!#$%&'*+\-\.^_`|~\da-zA-Z]+$/,o={IDLE:1,URI:2,ATTR:4};function f(m){return m.replace(e,"")}function u(m){return r.test(m)}function l(m,_){for(;u(m[_]);)_++;return _}function d(m){return i.test(m)||!s.test(m)}function c(m,_){return Object.keys(m).length===Object.keys(_).length&&Object.keys(m).every(b=>b in _&&m[b]===_[b])}class h{constructor(_){this.refs=[],_&&this.parse(_)}rel(_){for(var b=[],y=_.toLowerCase(),p=0;p<this.refs.length;p++)typeof this.refs[p].rel=="string"&&this.refs[p].rel.toLowerCase()===y&&b.push(this.refs[p]);return b}get(_,b){_=_.toLowerCase(),b=b.toLowerCase();for(var y=[],p=0;p<this.refs.length;p++)typeof this.refs[p][_]=="string"&&this.refs[p][_].toLowerCase()===b&&y.push(this.refs[p]);return y}set(_){return this.refs.push(_),this}setUnique(_){return this.refs.some(b=>c(b,_))||this.refs.push(_),this}has(_,b){_=_.toLowerCase(),b=b.toLowerCase();for(var y=0;y<this.refs.length;y++)if(typeof this.refs[y][_]=="string"&&this.refs[y][_].toLowerCase()===b)return!0;return!1}parse(_,g){g=g||0,_=g?_.slice(g):_,_=f(_).replace(n,"");for(var y=o.IDLE,p=_.length,g=0,w=null;g<p;)if(y===o.IDLE){if(u(_[g])){g++;continue}else if(_[g]==="<"){w!=null&&(w.rel!=null?this.refs.push(...h.expandRelations(w)):this.refs.push(w));var S=_.indexOf(">",g);if(S===-1)throw new Error("Expected end of URI delimiter at offset "+g);w={uri:_.slice(g+1,S)},g=S,y=o.URI}else throw new Error('Unexpected character "'+_[g]+'" at offset '+g);g++}else if(y===o.URI)if(u(_[g])){g++;continue}else if(_[g]===";")y=o.ATTR,g++;else if(_[g]===",")y=o.IDLE,g++;else throw new Error('Unexpected character "'+_[g]+'" at offset '+g);else if(y===o.ATTR){if(_[g]===";"||u(_[g])){g++;continue}var S=_.indexOf("=",g);S===-1&&(S=_.indexOf(";",g)),S===-1&&(S=_.length);var I=f(_.slice(g,S)).toLowerCase(),O="";if(g=S+1,g=l(_,g),_[g]==='"')for(g++;g<p;){if(_[g]==='"'){g++;break}_[g]==="\\"&&g++,O+=_[g],g++}else{for(var S=g+1;!a.test(_[S])&&S<p;)S++;O=_.slice(g,S),g=S}switch(w[I]&&h.isSingleOccurenceAttr(I)||(I[I.length-1]==="*"?w[I]=h.parseExtendedValue(O):(O=I==="type"?O.toLowerCase():O,w[I]!=null?Array.isArray(w[I])?w[I].push(O):w[I]=[w[I],O]:w[I]=O)),_[g]){case",":y=o.IDLE;break;case";":y=o.ATTR;break}g++}else throw new Error('Unknown parser state "'+y+'"');return w!=null&&(w.rel!=null?this.refs.push(...h.expandRelations(w)):this.refs.push(w)),w=null,this}toString(){for(var _=[],b="",y=null,p=0;p<this.refs.length;p++)y=this.refs[p],b=Object.keys(this.refs[p]).reduce(function(g,w){return w==="uri"?g:g+"; "+h.formatAttribute(w,y[w])},"<"+y.uri+">"),_.push(b);return _.join(", ")}}return h.isCompatibleEncoding=function(m){return t.test(m)},h.parse=function(m,_){return new h().parse(m,_)},h.isSingleOccurenceAttr=function(m){return m==="rel"||m==="type"||m==="media"||m==="title"||m==="title*"},h.isTokenAttr=function(m){return m==="rel"||m==="type"||m==="anchor"},h.escapeQuotes=function(m){return m.replace(/"/g,'\\"')},h.expandRelations=function(m){var _=m.rel.split(" ");return _.map(function(b){var y=Object.assign({},m);return y.rel=b,y})},h.parseExtendedValue=function(m){var _=/([^']+)?(?:'([^']*)')?(.+)/.exec(m);return{language:_[2].toLowerCase(),encoding:h.isCompatibleEncoding(_[1])?null:_[1].toLowerCase(),value:h.isCompatibleEncoding(_[1])?decodeURIComponent(_[3]):_[3]}},h.formatExtendedAttribute=function(m,_){var b=(_.encoding||"utf-8").toUpperCase(),y=_.language||"en",p="";return Zt.isBuffer(_.value)&&h.isCompatibleEncoding(b)?p=_.value.toString(b):Zt.isBuffer(_.value)?p=_.value.toString("hex").replace(/[0-9a-f]{2}/gi,"%$1"):p=encodeURIComponent(_.value),m+"="+b+"'"+y+"'"+p},h.formatAttribute=function(m,_){return Array.isArray(_)?_.map(b=>h.formatAttribute(m,b)).join("; "):m[m.length-1]==="*"||typeof _!="string"?h.formatExtendedAttribute(m,_):(h.isTokenAttr(m)?_=d(_)?'"'+h.escapeQuotes(_)+'"':h.escapeQuotes(_):d(_)&&(_=encodeURIComponent(_),_=_.replace(/%20/g," ").replace(/%2C/g,",").replace(/%3B/g,";"),_='"'+_+'"'),m+"="+_)},Hg=h,Hg}var IA;function AA(){if(IA)return iu;IA=1,Object.defineProperty(iu,"__esModule",{value:!0}),iu.FetchDocumentLoader=void 0;const t=nu(),e=Vg(),r=vr();class n{constructor(i){this.fetcher=i}async load(i){const s=await(this.fetcher||fetch)(i,{headers:new Headers({accept:"application/ld+json"})});if(s.ok&&s.headers){let o=s.headers.get("Content-Type");if(o){const f=o.indexOf(";");f>0&&(o=o.substr(0,f))}if(o==="application/ld+json")return await s.json();if(s.headers.has("Link")){let f;if(s.headers.forEach((u,l)=>{if(l==="link"){const d=(0,e.parse)(u);for(const c of d.get("type","application/ld+json"))if(c.rel==="alternate"){if(f)throw new Error("Multiple JSON-LD alternate links were found on "+i);f=(0,r.resolve)(c.uri,i)}}}),f)return this.load(f)}throw new t.ErrorCoded(`Unsupported JSON-LD media type ${o}`,t.ERROR_CODES.LOADING_DOCUMENT_FAILED)}else throw new Error(s.statusText||`Status code: ${s.status}`)}}return iu.FetchDocumentLoader=n,iu}var Gg={},au={},OA;function zg(){if(OA)return au;OA=1,Object.defineProperty(au,"__esModule",{value:!0}),au.Util=void 0;class t{static isCompactIri(r){return r.indexOf(":")>0&&!(r&&r[0]==="#")}static getPrefix(r,n){if(r&&r[0]==="#")return null;const a=r.indexOf(":");if(a>=0){if(r.length>a+1&&r.charAt(a+1)==="/"&&r.charAt(a+2)==="/")return null;const i=r.substr(0,a);if(i==="_")return null;if(n[i])return i}return null}static getContextValueId(r){if(r===null||typeof r=="string")return r;const n=r["@id"];return n||null}static isSimpleTermDefinitionPrefix(r,n){return!t.isPotentialKeyword(r)&&(n.allowPrefixNonGenDelims||typeof r=="string"&&(r[0]==="_"||t.isPrefixIriEndingWithGenDelim(r)))}static isPotentialKeyword(r){return typeof r=="string"&&t.KEYWORD_REGEX.test(r)}static isPrefixIriEndingWithGenDelim(r){return t.ENDS_WITH_GEN_DELIM.test(r)}static isPrefixValue(r){return r&&(typeof r=="string"||r&&typeof r=="object")}static isValidIri(r){return!!(r&&t.IRI_REGEX.test(r))}static isValidIriWeak(r){return!!r&&r[0]!==":"&&t.IRI_REGEX_WEAK.test(r)}static isValidKeyword(r){return t.VALID_KEYWORDS[r]}static isTermProtected(r,n){const a=r[n];return typeof a!="string"&&a&&a["@protected"]}static hasProtectedTerms(r){for(const n of Object.keys(r))if(t.isTermProtected(r,n))return!0;return!1}static isReservedInternalKeyword(r){return r.startsWith("@__")}static deepEqual(r,n){const a=Object.keys(r),i=Object.keys(n);return a.length!==i.length?!1:a.every(s=>{const o=r[s],f=n[s];return o===f||o!==null&&f!==null&&typeof o=="object"&&typeof f=="object"&&this.deepEqual(o,f)})}}return t.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`#]*(#[^#]*)?$/,t.IRI_REGEX_WEAK=/(?::[^:])|\//,t.KEYWORD_REGEX=/^@[a-z]+$/i,t.ENDS_WITH_GEN_DELIM=/[:/?#\[\]@]$/,t.REGEX_LANGUAGE_TAG=/^[a-zA-Z]+(-[a-zA-Z0-9]+)*$/,t.REGEX_DIRECTION_TAG=/^(ltr)|(rtl)$/,t.VALID_KEYWORDS={"@annotation":!0,"@base":!0,"@container":!0,"@context":!0,"@direction":!0,"@graph":!0,"@id":!0,"@import":!0,"@included":!0,"@index":!0,"@json":!0,"@language":!0,"@list":!0,"@nest":!0,"@none":!0,"@prefix":!0,"@propagate":!0,"@protected":!0,"@reverse":!0,"@set":!0,"@type":!0,"@value":!0,"@version":!0,"@vocab":!0},t.EXPAND_KEYS_BLACKLIST=["@base","@vocab","@language","@version","@direction"],t.ALIAS_DOMAIN_BLACKLIST=["@container","@graph","@id","@index","@list","@nest","@none","@prefix","@reverse","@set","@type","@value","@version"],t.ALIAS_RANGE_BLACKLIST=["@context","@preserve"],t.CONTAINERS=["@list","@set","@index","@language","@graph","@id","@type"],t.CONTAINERS_1_0=["@list","@set","@index"],au.Util=t,au}var NA;function PA(){return NA||(NA=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultExpandOptions=t.JsonLdContextNormalized=void 0;const e=vr(),r=nu(),n=zg();class a{constructor(s){this.contextRaw=s}getContextRaw(){return this.contextRaw}expandTerm(s,o,f=t.defaultExpandOptions){const u=this.contextRaw[s];if(u===null||u&&u["@id"]===null)return null;let l=!0;if(u&&o){const b=n.Util.getContextValueId(u);if(b&&b!==s)if(typeof b!="string"||!n.Util.isValidIri(b)&&!n.Util.isValidKeyword(b))n.Util.isPotentialKeyword(b)||(l=!1);else return b}const d=n.Util.getPrefix(s,this.contextRaw),c=this.contextRaw["@vocab"],h=(!!c||c==="")&&c.indexOf(":")<0,m=this.contextRaw["@base"],_=n.Util.isPotentialKeyword(s);if(d){const b=this.contextRaw[d],y=n.Util.getContextValueId(b);if(y){if(typeof b=="string"||!f.allowPrefixForcing){if(!n.Util.isSimpleTermDefinitionPrefix(y,f))return s}else if(y[0]!=="_"&&!_&&!b["@prefix"]&&!(s in this.contextRaw))return s;return y+s.substr(d.length+1)}}else if(o&&(c||c===""||f.allowVocabRelativeToBase&&m&&h)&&!_&&!n.Util.isCompactIri(s))if(h){if(f.allowVocabRelativeToBase)return(c||m?(0,e.resolve)(c,m):"")+s;throw new r.ErrorCoded(`Relative vocab expansion for term '${s}' with vocab '${c}' is not allowed.`,r.ERROR_CODES.INVALID_VOCAB_MAPPING)}else return c+s;else if(!o&&m&&!_&&!n.Util.isCompactIri(s))return(0,e.resolve)(s,m);if(l)return s;throw new r.ErrorCoded(`Invalid IRI mapping found for context entry '${s}': '${JSON.stringify(u)}'`,r.ERROR_CODES.INVALID_IRI_MAPPING)}compactIri(s,o){if(o&&this.contextRaw["@vocab"]&&s.startsWith(this.contextRaw["@vocab"]))return s.substr(this.contextRaw["@vocab"].length);if(!o&&this.contextRaw["@base"]&&s.startsWith(this.contextRaw["@base"]))return s.substr(this.contextRaw["@base"].length);const f={prefix:"",suffix:s};for(const u in this.contextRaw){const l=this.contextRaw[u];if(l&&!n.Util.isPotentialKeyword(u)){const d=n.Util.getContextValueId(l);if(s.startsWith(d)){const c=s.substr(d.length);if(c)c.length<f.suffix.length&&(f.prefix=u,f.suffix=c);else if(o)return u}}}return f.prefix?f.prefix+":"+f.suffix:s}}t.JsonLdContextNormalized=a,t.defaultExpandOptions={allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}}(Gg)),Gg}var DA;function JF(){if(DA)return ru;DA=1,Object.defineProperty(ru,"__esModule",{value:!0}),ru.ContextParser=void 0;const t=vr(),e=nu(),r=AA(),n=PA(),a=zg();class i{constructor(o){o=o||{},this.documentLoader=o.documentLoader||new r.FetchDocumentLoader,this.documentCache={},this.validateContext=!o.skipValidation,this.expandContentTypeToBase=!!o.expandContentTypeToBase,this.remoteContextsDepthLimit=o.remoteContextsDepthLimit||32,this.redirectSchemaOrgHttps="redirectSchemaOrgHttps"in o?!!o.redirectSchemaOrgHttps:!0}static validateLanguage(o,f,u){if(typeof o!="string")throw new e.ErrorCoded(`The value of an '@language' must be a string, got '${JSON.stringify(o)}'`,u);if(!a.Util.REGEX_LANGUAGE_TAG.test(o)){if(f)throw new e.ErrorCoded(`The value of an '@language' must be a valid language tag, got '${JSON.stringify(o)}'`,u);return!1}return!0}static validateDirection(o,f){if(typeof o!="string")throw new e.ErrorCoded(`The value of an '@direction' must be a string, got '${JSON.stringify(o)}'`,e.ERROR_CODES.INVALID_BASE_DIRECTION);if(!a.Util.REGEX_DIRECTION_TAG.test(o)){if(f)throw new e.ErrorCoded(`The value of an '@direction' must be 'ltr' or 'rtl', got '${JSON.stringify(o)}'`,e.ERROR_CODES.INVALID_BASE_DIRECTION);return!1}return!0}idifyReverseTerms(o){for(const f of Object.keys(o)){let u=o[f];if(u&&typeof u=="object"&&u["@reverse"]&&!u["@id"]){if(typeof u["@reverse"]!="string"||a.Util.isValidKeyword(u["@reverse"]))throw new e.ErrorCoded(`Invalid @reverse value, must be absolute IRI or blank node: '${u["@reverse"]}'`,e.ERROR_CODES.INVALID_IRI_MAPPING);u=o[f]=Object.assign(Object.assign({},u),{"@id":u["@reverse"]}),u["@id"]=u["@reverse"],a.Util.isPotentialKeyword(u["@reverse"])?delete u["@reverse"]:u["@reverse"]=!0}}return o}expandPrefixedTerms(o,f,u){const l=o.getContextRaw();for(const d of u||Object.keys(l))if(a.Util.EXPAND_KEYS_BLACKLIST.indexOf(d)<0&&!a.Util.isReservedInternalKeyword(d)){const c=l[d];if(a.Util.isPotentialKeyword(d)&&a.Util.ALIAS_DOMAIN_BLACKLIST.indexOf(d)>=0&&(d!=="@type"||typeof l[d]=="object"&&!(l[d]["@protected"]||l[d]["@container"]==="@set")))throw new e.ErrorCoded(`Keywords can not be aliased to something else.
Tried mapping ${d} to ${JSON.stringify(c)}`,e.ERROR_CODES.KEYWORD_REDEFINITION);if(a.Util.ALIAS_RANGE_BLACKLIST.indexOf(a.Util.getContextValueId(c))>=0)throw new e.ErrorCoded(`Aliasing to certain keywords is not allowed.
Tried mapping ${d} to ${JSON.stringify(c)}`,e.ERROR_CODES.INVALID_KEYWORD_ALIAS);if(c&&a.Util.isPotentialKeyword(a.Util.getContextValueId(c))&&c["@prefix"]===!0)throw new e.ErrorCoded(`Tried to use keyword aliases as prefix: '${d}': '${JSON.stringify(c)}'`,e.ERROR_CODES.INVALID_TERM_DEFINITION);for(;a.Util.isPrefixValue(l[d]);){const h=l[d];let m=!1;if(typeof h=="string")l[d]=o.expandTerm(h,!0),m=m||h!==l[d];else{const _=h["@id"],b=h["@type"],y=!("@prefix"in h)||a.Util.isValidIri(d);if("@id"in h)_!=null&&typeof _=="string"&&(l[d]=Object.assign(Object.assign({},l[d]),{"@id":o.expandTerm(_,!0)}),m=m||_!==l[d]["@id"]);else if(!a.Util.isPotentialKeyword(d)&&y){const p=o.expandTerm(d,!0);p!==d&&(l[d]=Object.assign(Object.assign({},l[d]),{"@id":p}),m=!0)}if(b&&typeof b=="string"&&b!=="@vocab"&&(!h["@container"]||!h["@container"]["@type"])&&y){let p=o.expandTerm(b,!0);f&&b===p&&(p=o.expandTerm(b,!1)),p!==b&&(m=!0,l[d]=Object.assign(Object.assign({},l[d]),{"@type":p}))}}if(!m)break}}}normalize(o,{processingMode:f,normalizeLanguageTags:u}){if(u||f===1)for(const l of Object.keys(o))if(l==="@language"&&typeof o[l]=="string")o[l]=o[l].toLowerCase();else{const d=o[l];if(d&&typeof d=="object"&&typeof d["@language"]=="string"){const c=d["@language"].toLowerCase();c!==d["@language"]&&(o[l]=Object.assign(Object.assign({},d),{"@language":c}))}}}containersToHash(o){for(const f of Object.keys(o)){const u=o[f];if(u&&typeof u=="object"){if(typeof u["@container"]=="string")o[f]=Object.assign(Object.assign({},u),{"@container":{[u["@container"]]:!0}});else if(Array.isArray(u["@container"])){const l={};for(const d of u["@container"])l[d]=!0;o[f]=Object.assign(Object.assign({},u),{"@container":l})}}}}applyScopedProtected(o,{processingMode:f},u){if(f&&f>=1.1&&o["@protected"]){for(const l of Object.keys(o))if(!a.Util.isReservedInternalKeyword(l)&&!a.Util.isPotentialKeyword(l)&&!a.Util.isTermProtected(o,l)){const d=o[l];d&&typeof d=="object"?"@protected"in o[l]||(o[l]=Object.assign(Object.assign({},o[l]),{"@protected":!0})):(o[l]={"@id":d,"@protected":!0},a.Util.isSimpleTermDefinitionPrefix(d,u)&&(o[l]=Object.assign(Object.assign({},o[l]),{"@prefix":!0})))}delete o["@protected"]}}validateKeywordRedefinitions(o,f,u,l){for(const d of l??Object.keys(f))if(a.Util.isTermProtected(o,d)&&(typeof f[d]=="string"?f[d]={"@id":f[d],"@protected":!0}:f[d]=Object.assign(Object.assign({},f[d]),{"@protected":!0}),!a.Util.deepEqual(o[d],f[d])))throw new e.ErrorCoded(`Attempted to override the protected keyword ${d} from ${JSON.stringify(a.Util.getContextValueId(o[d]))} to ${JSON.stringify(a.Util.getContextValueId(f[d]))}`,e.ERROR_CODES.PROTECTED_TERM_REDEFINITION)}validate(o,{processingMode:f}){for(const u of Object.keys(o)){if(a.Util.isReservedInternalKeyword(u))continue;if(u==="")throw new e.ErrorCoded(`The empty term is not allowed, got: '${u}': '${JSON.stringify(o[u])}'`,e.ERROR_CODES.INVALID_TERM_DEFINITION);const l=o[u],d=typeof l;if(a.Util.isPotentialKeyword(u)){switch(u.substr(1)){case"vocab":if(l!==null&&d!=="string")throw new e.ErrorCoded(`Found an invalid @vocab IRI: ${l}`,e.ERROR_CODES.INVALID_VOCAB_MAPPING);break;case"base":if(l!==null&&d!=="string")throw new e.ErrorCoded(`Found an invalid @base IRI: ${o[u]}`,e.ERROR_CODES.INVALID_BASE_IRI);break;case"language":l!==null&&i.validateLanguage(l,!0,e.ERROR_CODES.INVALID_DEFAULT_LANGUAGE);break;case"version":if(l!==null&&d!=="number")throw new e.ErrorCoded(`Found an invalid @version number: ${l}`,e.ERROR_CODES.INVALID_VERSION_VALUE);break;case"direction":l!==null&&i.validateDirection(l,!0);break;case"propagate":if(f===1)throw new e.ErrorCoded(`Found an illegal @propagate keyword: ${l}`,e.ERROR_CODES.INVALID_CONTEXT_ENTRY);if(l!==null&&d!=="boolean")throw new e.ErrorCoded(`Found an invalid @propagate value: ${l}`,e.ERROR_CODES.INVALID_PROPAGATE_VALUE);break}if(a.Util.isValidKeyword(u)&&a.Util.isValidKeyword(a.Util.getContextValueId(l)))throw new e.ErrorCoded(`Illegal keyword alias in term value, found: '${u}': '${a.Util.getContextValueId(l)}'`,e.ERROR_CODES.KEYWORD_REDEFINITION);continue}if(l!==null)switch(d){case"string":if(a.Util.getPrefix(l,o)===u)throw new e.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${u}': '${JSON.stringify(l)}'`,e.ERROR_CODES.CYCLIC_IRI_MAPPING);if(a.Util.isValidIriWeak(u)){if(l==="@type")throw new e.ErrorCoded(`IRIs can not be mapped to @type, found: '${u}': '${l}'`,e.ERROR_CODES.INVALID_IRI_MAPPING);if(a.Util.isValidIri(l)&&l!==new n.JsonLdContextNormalized(o).expandTerm(u))throw new e.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${u}': '${l}'`,e.ERROR_CODES.INVALID_IRI_MAPPING)}break;case"object":if(!a.Util.isCompactIri(u)&&!("@id"in l)&&(l["@type"]==="@id"?!o["@base"]:!o["@vocab"]))throw new e.ErrorCoded(`Missing @id in context entry: '${u}': '${JSON.stringify(l)}'`,e.ERROR_CODES.INVALID_IRI_MAPPING);for(const c of Object.keys(l)){const h=l[c];if(h)switch(c){case"@id":if(a.Util.isValidKeyword(h)&&h!=="@type"&&h!=="@id"&&h!=="@graph"&&h!=="@nest")throw new e.ErrorCoded(`Illegal keyword alias in term value, found: '${u}': '${JSON.stringify(l)}'`,e.ERROR_CODES.INVALID_IRI_MAPPING);if(a.Util.isValidIriWeak(u)){if(h==="@type")throw new e.ErrorCoded(`IRIs can not be mapped to @type, found: '${u}': '${JSON.stringify(l)}'`,e.ERROR_CODES.INVALID_IRI_MAPPING);if(a.Util.isValidIri(h)&&h!==new n.JsonLdContextNormalized(o).expandTerm(u))throw new e.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${u}': '${JSON.stringify(l)}'`,e.ERROR_CODES.INVALID_IRI_MAPPING)}if(typeof h!="string")throw new e.ErrorCoded(`Detected non-string @id in context entry: '${u}': '${JSON.stringify(l)}'`,e.ERROR_CODES.INVALID_IRI_MAPPING);if(a.Util.getPrefix(h,o)===u)throw new e.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${u}': '${JSON.stringify(l)}'`,e.ERROR_CODES.CYCLIC_IRI_MAPPING);break;case"@type":if(l["@container"]==="@type"&&h!=="@id"&&h!=="@vocab")throw new e.ErrorCoded(`@container: @type only allows @type: @id or @vocab, but got: '${u}': '${h}'`,e.ERROR_CODES.INVALID_TYPE_MAPPING);if(typeof h!="string")throw new e.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(d)}'`,e.ERROR_CODES.INVALID_TYPE_MAPPING);if(h!=="@id"&&h!=="@vocab"&&(f===1||h!=="@json")&&(f===1||h!=="@none")&&(h[0]==="_"||!a.Util.isValidIri(h)))throw new e.ErrorCoded(`A context @type must be an absolute IRI, found: '${u}': '${h}'`,e.ERROR_CODES.INVALID_TYPE_MAPPING);break;case"@reverse":if(typeof h=="string"&&l["@id"]&&l["@id"]!==h)throw new e.ErrorCoded(`Found non-matching @id and @reverse term values in '${u}':'${h}' and '${l["@id"]}'`,e.ERROR_CODES.INVALID_REVERSE_PROPERTY);if("@nest"in l)throw new e.ErrorCoded(`@nest is not allowed in the reverse property '${u}'`,e.ERROR_CODES.INVALID_REVERSE_PROPERTY);break;case"@container":if(f===1&&(Object.keys(h).length>1||a.Util.CONTAINERS_1_0.indexOf(Object.keys(h)[0])<0))throw new e.ErrorCoded(`Invalid term @container for '${u}' ('${Object.keys(h)}') in 1.0, must be only one of ${a.Util.CONTAINERS_1_0.join(", ")}`,e.ERROR_CODES.INVALID_CONTAINER_MAPPING);for(const m of Object.keys(h)){if(m==="@list"&&l["@reverse"])throw new e.ErrorCoded(`Term value can not be @container: @list and @reverse at the same time on '${u}'`,e.ERROR_CODES.INVALID_REVERSE_PROPERTY);if(a.Util.CONTAINERS.indexOf(m)<0)throw new e.ErrorCoded(`Invalid term @container for '${u}' ('${m}'), must be one of ${a.Util.CONTAINERS.join(", ")}`,e.ERROR_CODES.INVALID_CONTAINER_MAPPING)}break;case"@language":i.validateLanguage(h,!0,e.ERROR_CODES.INVALID_LANGUAGE_MAPPING);break;case"@direction":i.validateDirection(h,!0);break;case"@prefix":if(h!==null&&typeof h!="boolean")throw new e.ErrorCoded(`Found an invalid term @prefix boolean in: '${u}': '${JSON.stringify(l)}'`,e.ERROR_CODES.INVALID_PREFIX_VALUE);if(!("@id"in l)&&!a.Util.isValidIri(u))throw new e.ErrorCoded(`Invalid @prefix definition for '${u}' ('${JSON.stringify(l)}'`,e.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@index":if(f===1||!l["@container"]||!l["@container"]["@index"])throw new e.ErrorCoded(`Attempt to add illegal key to value object: '${u}': '${JSON.stringify(l)}'`,e.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@nest":if(a.Util.isPotentialKeyword(h)&&h!=="@nest")throw new e.ErrorCoded(`Found an invalid term @nest value in: '${u}': '${JSON.stringify(l)}'`,e.ERROR_CODES.INVALID_NEST_VALUE)}}break;default:throw new e.ErrorCoded(`Found an invalid term value: '${u}': '${l}'`,e.ERROR_CODES.INVALID_TERM_DEFINITION)}}}applyBaseEntry(o,f,u){return typeof o=="string"||(u&&!("@base"in o)&&f.parentContext&&typeof f.parentContext=="object"&&"@base"in f.parentContext&&(o["@base"]=f.parentContext["@base"],f.parentContext["@__baseDocument"]&&(o["@__baseDocument"]=!0)),f.baseIRI&&!f.external&&("@base"in o?o["@base"]!==null&&typeof o["@base"]=="string"&&!a.Util.isValidIri(o["@base"])&&(o["@base"]=(0,t.resolve)(o["@base"],f.parentContext&&f.parentContext["@base"]||f.baseIRI)):(o["@base"]=f.baseIRI,o["@__baseDocument"]=!0))),o}normalizeContextIri(o,f){if(!a.Util.isValidIri(o))try{o=(0,t.resolve)(o,f)}catch{throw new Error(`Invalid context IRI: ${o}`)}return this.redirectSchemaOrgHttps&&o.startsWith("http://schema.org")&&(o="https://schema.org/"),o}async parseInnerContexts(o,f,u){for(const l of u??Object.keys(o)){const d=o[l];if(d&&typeof d=="object"&&"@context"in d&&d["@context"]!==null&&!f.ignoreScopedContexts){if(this.validateContext)try{const c=Object.assign(Object.assign({},o),{[l]:Object.assign({},o[l])});delete c[l]["@context"],await this.parse(d["@context"],Object.assign(Object.assign({},f),{external:!1,parentContext:c,ignoreProtection:!0,ignoreRemoteScopedContexts:!0,ignoreScopedContexts:!0}))}catch(c){throw new e.ErrorCoded(c.message,e.ERROR_CODES.INVALID_SCOPED_CONTEXT)}o[l]=Object.assign(Object.assign({},d),{"@context":(await this.parse(d["@context"],Object.assign(Object.assign({},f),{external:!1,minimalProcessing:!0,ignoreRemoteScopedContexts:!0,parentContext:o}))).getContextRaw()})}}return o}async parse(o,f={},u={}){const{baseIRI:l,parentContext:d,external:c,processingMode:h=i.DEFAULT_PROCESSING_MODE,normalizeLanguageTags:m,ignoreProtection:_,minimalProcessing:b}=f,y=f.remoteContexts||{};if(Object.keys(y).length>=this.remoteContextsDepthLimit)throw new e.ErrorCoded("Detected an overflow in remote context inclusions: "+Object.keys(y),e.ERROR_CODES.CONTEXT_OVERFLOW);if(o==null){if(!_&&d&&a.Util.hasProtectedTerms(d))throw new e.ErrorCoded("Illegal context nullification when terms are protected",e.ERROR_CODES.INVALID_CONTEXT_NULLIFICATION);return new n.JsonLdContextNormalized(this.applyBaseEntry({},f,!1))}else if(typeof o=="string"){const p=this.normalizeContextIri(o,l),g=this.getOverriddenLoad(p,f);if(g)return new n.JsonLdContextNormalized(g);const w=await this.parse(await this.load(p),Object.assign(Object.assign({},f),{baseIRI:p,external:!0,remoteContexts:Object.assign(Object.assign({},y),{[p]:!0})}));return this.applyBaseEntry(w.getContextRaw(),f,!0),w}else if(Array.isArray(o)){const p=[],g=await Promise.all(o.map((S,I)=>{if(typeof S=="string"){const O=this.normalizeContextIri(S,l);p[I]=O;const M=this.getOverriddenLoad(O,f);return M||this.load(O)}else return S}));if(b)return new n.JsonLdContextNormalized(g);const w=await g.reduce((S,I,O)=>S.then(M=>this.parse(I,Object.assign(Object.assign({},f),{baseIRI:p[O]||f.baseIRI,external:!!p[O]||f.external,parentContext:M.getContextRaw(),remoteContexts:p[O]?Object.assign(Object.assign({},y),{[p[O]]:!0}):y}),{skipValidation:O<g.length-1})),Promise.resolve(new n.JsonLdContextNormalized(d||{})));return this.applyBaseEntry(w.getContextRaw(),f,!0),w}else if(typeof o=="object"){if("@context"in o)return await this.parse(o["@context"],f);if(o=Object.assign({},o),c&&delete o["@base"],this.applyBaseEntry(o,f,!0),this.containersToHash(o),b)return new n.JsonLdContextNormalized(o);let p={};if("@import"in o)if(h>=1.1){if(typeof o["@import"]!="string")throw new e.ErrorCoded("An @import value must be a string, but got "+typeof o["@import"],e.ERROR_CODES.INVALID_IMPORT_VALUE);p=await this.loadImportContext(this.normalizeContextIri(o["@import"],l)),delete o["@import"]}else throw new e.ErrorCoded("Context importing is not supported in JSON-LD 1.0",e.ERROR_CODES.INVALID_CONTEXT_ENTRY);this.applyScopedProtected(p,{processingMode:h},n.defaultExpandOptions);const g=Object.assign(p,o);this.idifyReverseTerms(g),this.normalize(g,{processingMode:h,normalizeLanguageTags:m}),this.applyScopedProtected(g,{processingMode:h},n.defaultExpandOptions);const w=Object.keys(g),S=[];if(typeof d=="object")for(const O in d)O in g?S.push(O):g[O]=d[O];await this.parseInnerContexts(g,f,w);const I=new n.JsonLdContextNormalized(g);return(g&&g["@version"]||i.DEFAULT_PROCESSING_MODE)>=1.1&&(o["@vocab"]&&typeof o["@vocab"]=="string"||o["@vocab"]==="")&&(d&&"@vocab"in d&&o["@vocab"].indexOf(":")<0?g["@vocab"]=d["@vocab"]+o["@vocab"]:(a.Util.isCompactIri(o["@vocab"])||o["@vocab"]in g)&&(g["@vocab"]=I.expandTerm(o["@vocab"],!0))),this.expandPrefixedTerms(I,this.expandContentTypeToBase,w),!_&&d&&h>=1.1&&this.validateKeywordRedefinitions(d,g,n.defaultExpandOptions,S),this.validateContext&&!u.skipValidation&&this.validate(g,{processingMode:h}),I}else throw new e.ErrorCoded(`Tried parsing a context that is not a string, array or object, but got ${o}`,e.ERROR_CODES.INVALID_LOCAL_CONTEXT)}async load(o){const f=this.documentCache[o];if(f)return f;let u;try{u=await this.documentLoader.load(o)}catch(l){throw new e.ErrorCoded(`Failed to load remote context ${o}: ${l.message}`,e.ERROR_CODES.LOADING_REMOTE_CONTEXT_FAILED)}if(!("@context"in u))throw new e.ErrorCoded(`Missing @context in remote context at ${o}`,e.ERROR_CODES.INVALID_REMOTE_CONTEXT);return this.documentCache[o]=u["@context"]}getOverriddenLoad(o,f){if(o in(f.remoteContexts||{})){if(f.ignoreRemoteScopedContexts)return o;throw new e.ErrorCoded("Detected a cyclic context inclusion of "+o,e.ERROR_CODES.RECURSIVE_CONTEXT_INCLUSION)}return null}async loadImportContext(o){let f=await this.load(o);if(typeof f!="object"||Array.isArray(f))throw new e.ErrorCoded("An imported context must be a single object: "+o,e.ERROR_CODES.INVALID_REMOTE_CONTEXT);if("@import"in f)throw new e.ErrorCoded("An imported context can not import another context: "+o,e.ERROR_CODES.INVALID_CONTEXT_ENTRY);return f=Object.assign({},f),this.containersToHash(f),f}}return i.DEFAULT_PROCESSING_MODE=1.1,ru.ContextParser=i,ru}var Wg={},CA;function YF(){return CA||(CA=1,Object.defineProperty(Wg,"__esModule",{value:!0})),Wg}var Kg={},LA;function eM(){return LA||(LA=1,Object.defineProperty(Kg,"__esModule",{value:!0})),Kg}var FA;function rr(){return FA||(FA=1,function(t){var e=tu.__createBinding||(Object.create?function(n,a,i,s){s===void 0&&(s=i);var o=Object.getOwnPropertyDescriptor(a,i);(!o||("get"in o?!a.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,s,o)}:function(n,a,i,s){s===void 0&&(s=i),n[s]=a[i]}),r=tu.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&e(a,n,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(JF(),t),r(nu(),t),r(AA(),t),r(YF(),t),r(eM(),t),r(PA(),t),r(zg(),t)}(tu)),tu}var ou={},su={},uu={},fu={},MA;function tM(){if(MA)return fu;MA=1,Object.defineProperty(fu,"__esModule",{value:!0}),fu.ContainerHandlerIdentifier=void 0;let t=class{canCombineWithGraph(){return!0}async handle(r,n,a,i,s,o){let f;if(n.emittedStack[o+1]&&n.idStack[o+1])f=n.idStack[o+1][0];else{const d=await a.getContainerKey(i[o],i,o)!==null?await a.resourceToTerm(await n.getContext(i),i[o]):a.dataFactory.blankNode();if(!d){n.emittedStack[o]=!1;return}f=d,n.idStack[o+1]=[f]}let u=n.idStack[o];u||(u=n.idStack[o]=[]),u.some(l=>l.equals(f))||u.push(f),await n.handlePendingContainerFlushBuffers()||(n.emittedStack[o]=!1)}};return fu.ContainerHandlerIdentifier=t,fu}var lu={},cu={},jA;function Cl(){if(jA)return cu;jA=1,Object.defineProperty(cu,"__esModule",{value:!0}),cu.EntryHandlerPredicate=void 0;const t=rr(),e=si();let r=class o3{static async handlePredicateObject(a,i,s,o,f,u,l,d,c){const h=await i.getPropertiesDepth(s,o),m=await i.getDepthOffsetGraph(o,s),_=o-m,b=a.idStack[h];if(b&&!c)for(const y of b)if(m>=0){const g=a.idStack[_-1];if(g)for(const w of g)i.emitQuadChecked(o,y,f,u,w,l,d);else l?(i.validateReverseSubject(u),a.getUnidentifiedGraphBufferSafe(_-1).push({subject:u,predicate:f,object:y,isEmbedded:d})):a.getUnidentifiedGraphBufferSafe(_-1).push({subject:y,predicate:f,object:u,isEmbedded:d})}else{const g=await i.getGraphContainerValue(s,h);i.emitQuadChecked(o,y,f,u,g,l,d)}else if(l&&i.validateReverseSubject(u),c){if(a.rdfstar){a.idStack[o]&&a.emitError(new t.ErrorCoded(`Found an illegal @id inside an annotation: ${a.idStack[o][0].value}`,t.ERROR_CODES.INVALID_ANNOTATION));for(let g=0;g<o;g++)await i.unaliasKeyword(s[g],s,g)==="@id"&&a.emitError(new t.ErrorCoded("Found an illegal annotation inside an embedded node",t.ERROR_CODES.INVALID_ANNOTATION));const y=a.getAnnotationsBufferSafe(h),p={predicate:f,object:u,reverse:l,nestedAnnotations:[],depth:h};y.push(p);for(let g=y.length-2;g>=0;g--){const w=y[g];w.depth>h&&(p.nestedAnnotations.push(w),y.splice(g,1))}}}else a.getUnidentifiedValueBufferSafe(h).push({predicate:f,object:u,reverse:l,isEmbedded:d})}isPropertyHandler(){return!0}isStackProcessor(){return!0}async validate(a,i,s,o,f){const u=s[o];if(u){const l=await a.getContext(s);if(!a.jsonLiteralStack[o]&&await i.predicateToTerm(l,s[o]))return e.Util.getContextValueType(l,u)==="@json"&&(a.jsonLiteralStack[o+1]=!0),!0}return!1}async test(a,i,s,o,f){return o[f]}async handle(a,i,s,o,f,u,l){const d=o[u],c=await a.getContext(o),h=await i.predicateToTerm(c,s);if(h){const m=await i.valueToTerm(c,s,f,u,o);if(m.length)for(let _ of m){let b=await i.unaliasKeywordParent(o,u);const y=e.Util.isPropertyReverse(c,d,b);let p=0;for(;b==="@reverse"||typeof b=="number";)typeof b=="number"?p++:u--,b=await i.unaliasKeywordParent(o,u-p);const g=e.Util.isPropertyInEmbeddedNode(b);i.validateReverseInEmbeddedNode(s,y,g);const w=e.Util.isPropertyInAnnotationObject(b);if(f){const S="@list"in e.Util.getContextValueContainer(c,s);if(S||f["@list"]){if((S&&!Array.isArray(f)&&!f["@list"]||f["@list"]&&!Array.isArray(f["@list"]))&&_!==i.rdfNil){const I=i.dataFactory.blankNode();a.emitQuad(u,i.dataFactory.quad(I,i.rdfRest,i.rdfNil,i.getDefaultGraph())),a.emitQuad(u,i.dataFactory.quad(I,i.rdfFirst,_,i.getDefaultGraph())),_=I}if(y&&!a.allowSubjectList)throw new t.ErrorCoded(`Found illegal list value in subject position at ${s}`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY_VALUE)}}await o3.handlePredicateObject(a,i,o,u,h,_,y,g,w)}}}};return cu.EntryHandlerPredicate=r,cu}var qA;function rM(){if(qA)return lu;qA=1,Object.defineProperty(lu,"__esModule",{value:!0}),lu.ContainerHandlerIndex=void 0;const t=rr(),e=Cl(),r=si();let n=class{canCombineWithGraph(){return!0}async handle(i,s,o,f,u,l){if(!Array.isArray(u)){const d="@graph"in i,c=await s.getContext(f),h=f[l-1],m=r.Util.getContextValueIndex(c,h);if(m){if(t.Util.isPotentialKeyword(m))throw new t.ErrorCoded(`Keywords can not be used as @index value, got: ${m}`,t.ERROR_CODES.INVALID_TERM_DEFINITION);if(typeof m!="string")throw new t.ErrorCoded(`@index values must be strings, got: ${m}`,t.ERROR_CODES.INVALID_TERM_DEFINITION);if(typeof u!="object"){if(r.Util.getContextValueType(c,h)!=="@id")throw new t.ErrorCoded(`Property-based index containers require nodes as values or strings with @type: @id, but got: ${u}`,t.ERROR_CODES.INVALID_VALUE_OBJECT);const y=o.resourceToTerm(c,u);y&&(s.idStack[l+1]=[y])}const b=o.createVocabOrBaseTerm(c,m);if(b){const y=await o.valueToTerm(c,m,await o.getContainerKey(f[l],f,l),l,f);if(d){const p=await o.getGraphContainerValue(f,l+1);for(const g of y)s.emitQuad(l,o.dataFactory.quad(p,b,g,o.getDefaultGraph()))}else for(const p of y)await e.EntryHandlerPredicate.handlePredicateObject(s,o,f,l+1,b,p,!1,!1,!1)}}const _=d?2:1;await s.newOnValueJob(f.slice(0,f.length-_),u,l-_,!0),await s.handlePendingContainerFlushBuffers()}s.emittedStack[l]=!1}};return lu.ContainerHandlerIndex=n,lu}var du={},BA;function nM(){if(BA)return du;BA=1,Object.defineProperty(du,"__esModule",{value:!0}),du.ContainerHandlerLanguage=void 0;const t=rr();let e=class{canCombineWithGraph(){return!1}async handle(n,a,i,s,o,f){const u=await i.getContainerKey(s[f],s,f);if(Array.isArray(o))o=o.map(l=>({"@value":l,"@language":u}));else{if(typeof o!="string")throw new t.ErrorCoded(`Got invalid language map value, got '${JSON.stringify(o)}', but expected string`,t.ERROR_CODES.INVALID_LANGUAGE_MAP_VALUE);o={"@value":o,"@language":u}}await a.newOnValueJob(s.slice(0,s.length-1),o,f-1,!0),a.emittedStack[f]=!1}};return du.ContainerHandlerLanguage=e,du}var hu={},kA;function iM(){if(kA)return hu;kA=1,Object.defineProperty(hu,"__esModule",{value:!0}),hu.ContainerHandlerType=void 0;const t=Cl(),e=si();let r=class{canCombineWithGraph(){return!1}async handle(a,i,s,o,f,u){if(!Array.isArray(f)){if(typeof f=="string"){const c=await i.getContext(o),m=e.Util.getContextValueType(c,o[u-1])==="@vocab"?await s.createVocabOrBaseTerm(c,f):await s.resourceToTerm(c,f);if(m){const _={"@id":m.termType==="NamedNode"?m.value:f};await i.newOnValueJob(o.slice(0,o.length-1),_,u-1,!0),i.idStack[u+1]=[m]}}else{const c=!!i.idStack[u+1];c||delete i.idStack[u],await i.newOnValueJob(o.slice(0,o.length-1),f,u-1,!0),c||(i.idStack[u+1]=i.idStack[u])}const l=await s.getContainerKey(o[u],o,u),d=l!==null?s.createVocabOrBaseTerm(await i.getContext(o),l):null;d&&await t.EntryHandlerPredicate.handlePredicateObject(i,s,o,u+1,s.rdfType,d,!1,!1,!1),await i.handlePendingContainerFlushBuffers()}i.emittedStack[u]=!1}};return hu.ContainerHandlerType=r,hu}var $A;function UA(){if($A)return uu;$A=1,Object.defineProperty(uu,"__esModule",{value:!0}),uu.EntryHandlerContainer=void 0;const t=tM(),e=rM(),r=nM(),n=iM(),a=si();let i=class Ln{static isSimpleGraphContainer(o){return"@graph"in o&&("@set"in o&&Object.keys(o).length===2||Object.keys(o).length===1)}static isComplexGraphContainer(o){return"@graph"in o&&("@set"in o&&Object.keys(o).length>2||!("@set"in o)&&Object.keys(o).length>1)}static getContainerGraphIndex(o,f,u){let l=Ln.isSimpleGraphContainer(o),d="";for(let c=f;c<u.length;c++)(!l||typeof u[c]=="number")&&(d+=":"+u[c]),!l&&typeof u[c]!="number"&&(l=!0);return d}static async getContainerHandler(o,f,u){const l={containers:{"@set":!0},depth:u,fallback:!0};let d=!1;const c=await o.getContext(f,2);for(let h=u-1;h>=0;h--)if(typeof f[h]!="number"){const m=a.Util.getContextValue(c,"@container",f[h],!1);if(m&&Ln.isSimpleGraphContainer(m))return{containers:m,depth:h+1,fallback:!1};const _=a.Util.getContextValue(c,"@container",f[h-1],!1);if(_){const b="@graph"in _;for(const y in Ln.CONTAINER_HANDLERS)if(_[y])return b?Ln.CONTAINER_HANDLERS[y].canCombineWithGraph()?{containers:_,depth:h,fallback:!1}:l:d?l:{containers:_,depth:h,fallback:!1};return l}else{if(d)return l;d=!0}}return l}static async isBufferableContainerHandler(o,f,u){const l=await Ln.getContainerHandler(o,f,u);return!l.fallback&&!("@graph"in l.containers)}isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(o,f,u,l,d){return!!await this.test(o,f,null,u,l)}async test(o,f,u,l,d){const c=a.Util.getContextValueContainer(await o.getContext(l,2),l[d-1]);for(const h in Ln.CONTAINER_HANDLERS)if(c[h])return{containers:c,handler:Ln.CONTAINER_HANDLERS[h]};return null}async handle(o,f,u,l,d,c,h){return h.handler.handle(h.containers,o,f,l,d,c)}};return i.CONTAINER_HANDLERS={"@id":new t.ContainerHandlerIdentifier,"@index":new e.ContainerHandlerIndex,"@language":new r.ContainerHandlerLanguage,"@type":new n.ContainerHandlerType},uu.EntryHandlerContainer=i,uu}var Qg,HA;function aM(){return HA||(HA=1,Qg=function t(e){return e===null||typeof e!="object"||e.toJSON!=null?JSON.stringify(e):Array.isArray(e)?"["+e.reduce((r,n,a)=>{const i=a===0?"":",",s=n===void 0||typeof n=="symbol"?null:n;return r+i+t(s)},"")+"]":"{"+Object.keys(e).sort().reduce((r,n,a)=>{if(e[n]===void 0||typeof e[n]=="symbol")return r;const i=r.length===0?"":",";return r+i+t(n)+":"+t(e[n])},"")+"}"}),Qg}var VA;function si(){if(VA)return su;VA=1,Object.defineProperty(su,"__esModule",{value:!0}),su.Util=void 0;const t=rr(),e=Pt(),r=UA(),n=aM();class a{constructor(s){this.parsingContext=s.parsingContext,this.dataFactory=s.dataFactory||new e.DataFactory,this.rdfFirst=this.dataFactory.namedNode(a.RDF+"first"),this.rdfRest=this.dataFactory.namedNode(a.RDF+"rest"),this.rdfNil=this.dataFactory.namedNode(a.RDF+"nil"),this.rdfType=this.dataFactory.namedNode(a.RDF+"type"),this.rdfJson=this.dataFactory.namedNode(a.RDF+"JSON")}static getContextValue(s,o,f,u){const l=s.getContextRaw()[f];if(!l)return u;const d=l[o];return d===void 0?u:d}static getContextValueContainer(s,o){return a.getContextValue(s,"@container",o,{"@set":!0})}static getContextValueType(s,o){const f=a.getContextValue(s,"@type",o,null);return f==="@none"?null:f}static getContextValueLanguage(s,o){return a.getContextValue(s,"@language",o,s.getContextRaw()["@language"]||null)}static getContextValueDirection(s,o){return a.getContextValue(s,"@direction",o,s.getContextRaw()["@direction"]||null)}static isContextValueReverse(s,o){return!!a.getContextValue(s,"@reverse",o,null)}static getContextValueIndex(s,o){return a.getContextValue(s,"@index",o,s.getContextRaw()["@index"]||null)}static isPropertyReverse(s,o,f){return f==="@reverse"!==a.isContextValueReverse(s,o)}static isPropertyInEmbeddedNode(s){return s==="@id"}static isPropertyInAnnotationObject(s){return s==="@annotation"}static isValidIri(s){return s!==null&&t.Util.isValidIri(s)}static isPrefixArray(s,o){if(s.length>o.length)return!1;for(let f=0;f<s.length;f++)if(s[f]!==o[f])return!1;return!0}async validateValueIndexes(s){if(this.parsingContext.validateValueIndexes){const o={};for(const f of s)if(f&&typeof f=="object"){const u=f["@id"],l=f["@index"];if(u&&l){const d=o[u];if(d&&d!==l)throw new t.ErrorCoded(`Conflicting @index value for ${u}`,t.ERROR_CODES.CONFLICTING_INDEXES);o[u]=l}}}}async valueToTerm(s,o,f,u,l){if(a.getContextValueType(s,o)==="@json")return[this.dataFactory.literal(this.valueToJsonString(f),this.rdfJson)];const d=typeof f;switch(d){case"object":if(f==null)return[];if(Array.isArray(f))return"@list"in a.getContextValueContainer(s,o)?f.length===0?[this.rdfNil]:this.parsingContext.idStack[u+1]||[]:(await this.validateValueIndexes(f),[]);if(s=await this.getContextSelfOrPropertyScoped(s,o),"@context"in f&&(s=await this.parsingContext.parseContext(f["@context"],(await this.parsingContext.getContext(l,0)).getContextRaw())),f=await this.unaliasKeywords(f,l,u,s),"@value"in f){let c,h,m,_,b;for(o in f){const y=f[o];switch(o){case"@value":c=y;break;case"@language":h=y;break;case"@direction":m=y;break;case"@type":_=y;break;case"@index":b=y;break;case"@annotation":break;default:throw new t.ErrorCoded(`Unknown value entry '${o}' in @value: ${JSON.stringify(f)}`,t.ERROR_CODES.INVALID_VALUE_OBJECT)}}if(await this.unaliasKeyword(_,l,u,!0,s)==="@json")return[this.dataFactory.literal(this.valueToJsonString(c),this.rdfJson)];if(c===null)return[];if(typeof c=="object")throw new t.ErrorCoded(`The value of an '@value' can not be an object, got '${JSON.stringify(c)}'`,t.ERROR_CODES.INVALID_VALUE_OBJECT_VALUE);if(this.parsingContext.validateValueIndexes&&b&&typeof b!="string")throw new t.ErrorCoded(`The value of an '@index' must be a string, got '${JSON.stringify(b)}'`,t.ERROR_CODES.INVALID_INDEX_VALUE);if(h){if(typeof c!="string")throw new t.ErrorCoded(`When an '@language' is set, the value of '@value' must be a string, got '${JSON.stringify(c)}'`,t.ERROR_CODES.INVALID_LANGUAGE_TAGGED_VALUE);if(!t.ContextParser.validateLanguage(h,this.parsingContext.strictValues,t.ERROR_CODES.INVALID_LANGUAGE_TAGGED_STRING))return[];(this.parsingContext.normalizeLanguageTags||this.parsingContext.activeProcessingMode===1)&&(h=h.toLowerCase())}if(m){if(typeof c!="string")throw new Error(`When an '@direction' is set, the value of '@value' must be a string, got '${JSON.stringify(c)}'`);if(!t.ContextParser.validateDirection(m,this.parsingContext.strictValues))return[]}if(h&&m&&this.parsingContext.rdfDirection){if(_)throw new t.ErrorCoded(`Can not have '@language', '@direction' and '@type' in a value: '${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_VALUE_OBJECT);return this.nullableTermToArray(this.createLanguageDirectionLiteral(u,c,h,m))}else if(h){if(_)throw new t.ErrorCoded(`Can not have both '@language' and '@type' in a value: '${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_VALUE_OBJECT);return[this.dataFactory.literal(c,h)]}else if(m&&this.parsingContext.rdfDirection){if(_)throw new t.ErrorCoded(`Can not have both '@direction' and '@type' in a value: '${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_VALUE_OBJECT);return this.nullableTermToArray(this.createLanguageDirectionLiteral(u,c,h,m))}else if(_){if(typeof _!="string")throw new t.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(_)}'`,t.ERROR_CODES.INVALID_TYPED_VALUE);const y=this.createVocabOrBaseTerm(s,_);if(!y)throw new t.ErrorCoded(`Invalid '@type' value, got '${JSON.stringify(_)}'`,t.ERROR_CODES.INVALID_TYPED_VALUE);if(y.termType!=="NamedNode")throw new t.ErrorCoded(`Illegal value type (${y.termType}): ${_}`,t.ERROR_CODES.INVALID_TYPED_VALUE);return[this.dataFactory.literal(c,y)]}return await this.valueToTerm(new t.JsonLdContextNormalized({}),o,c,u,l)}else if("@set"in f){if(Object.keys(f).length>1)throw new t.ErrorCoded(`Found illegal neighbouring entries next to @set for key: '${o}'`,t.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT);return[]}else if("@list"in f){if(Object.keys(f).length>1)throw new t.ErrorCoded(`Found illegal neighbouring entries next to @list for key: '${o}'`,t.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT);const c=f["@list"];return Array.isArray(c)?c.length===0?[this.rdfNil]:this.parsingContext.idStack[u+1]||[]:await this.valueToTerm(await this.parsingContext.getContext(l),o,c,u-1,l.slice(0,-1))}else{if("@reverse"in f&&typeof f["@reverse"]=="boolean")return[];if("@graph"in a.getContextValueContainer(await this.parsingContext.getContext(l),o)){const c=this.parsingContext.graphContainerTermStack[u+1];return c?Object.values(c):[this.dataFactory.blankNode()]}else if("@id"in f){if(Object.keys(f).length>1&&(s=await this.parsingContext.getContext(l,0)),"@context"in f&&(s=await this.parsingContext.parseContext(f["@context"],s.getContextRaw())),f["@type"]==="@vocab")return this.nullableTermToArray(this.createVocabOrBaseTerm(s,f["@id"]));{const c=f["@id"];let h;if(typeof c=="object")if(this.parsingContext.rdfstar)h=this.parsingContext.idStack[u+1][0];else throw new t.ErrorCoded(`Found illegal @id '${f}'`,t.ERROR_CODES.INVALID_ID_VALUE);else h=this.resourceToTerm(s,c);return this.nullableTermToArray(h)}}else return this.parsingContext.emittedStack[u+1]||f&&typeof f=="object"&&Object.keys(f).length===0?this.parsingContext.idStack[u+1]||(this.parsingContext.idStack[u+1]=[this.dataFactory.blankNode()]):[]}case"string":return this.nullableTermToArray(this.stringValueToTerm(u,await this.getContextSelfOrPropertyScoped(s,o),o,f,null));case"boolean":return this.nullableTermToArray(this.stringValueToTerm(u,await this.getContextSelfOrPropertyScoped(s,o),o,(!!f).toString(),this.dataFactory.namedNode(a.XSD_BOOLEAN)));case"number":return this.nullableTermToArray(this.stringValueToTerm(u,await this.getContextSelfOrPropertyScoped(s,o),o,f,this.dataFactory.namedNode(f%1===0&&f<1e21?a.XSD_INTEGER:a.XSD_DOUBLE)));default:return this.parsingContext.emitError(new Error(`Could not determine the RDF type of a ${d}`)),[]}}async getContextSelfOrPropertyScoped(s,o){const f=s.getContextRaw()[o];return f&&typeof f=="object"&&"@context"in f&&(s=await this.parsingContext.parseContext(f,s.getContextRaw(),!0)),s}nullableTermToArray(s){return s?[s]:[]}predicateToTerm(s,o){const f=s.expandTerm(o,!0,this.parsingContext.getExpandOptions());if(!f)return null;if(f[0]==="_"&&f[1]===":")return this.parsingContext.produceGeneralizedRdf?this.dataFactory.blankNode(f.substr(2)):null;if(a.isValidIri(f))return this.dataFactory.namedNode(f);if(f&&this.parsingContext.strictValues)this.parsingContext.emitError(new t.ErrorCoded(`Invalid predicate IRI: ${f}`,t.ERROR_CODES.INVALID_IRI_MAPPING));else return null;return null}resourceToTerm(s,o){if(o.startsWith("_:"))return this.dataFactory.blankNode(o.substr(2));const f=s.expandTerm(o,!1,this.parsingContext.getExpandOptions());if(!a.isValidIri(f))if(f&&this.parsingContext.strictValues)this.parsingContext.emitError(new Error(`Invalid resource IRI: ${f}`));else return null;return this.dataFactory.namedNode(f)}createVocabOrBaseTerm(s,o){if(o.startsWith("_:"))return this.dataFactory.blankNode(o.substr(2));const f=this.parsingContext.getExpandOptions();let u=s.expandTerm(o,!0,f);if(u===o&&(u=s.expandTerm(o,!1,f)),!a.isValidIri(u))if(u&&this.parsingContext.strictValues&&!u.startsWith("@"))this.parsingContext.emitError(new Error(`Invalid term IRI: ${u}`));else return null;return this.dataFactory.namedNode(u)}intToString(s,o){return typeof s=="number"?Number.isFinite(s)?s%1===0&&(!o||o.value!==a.XSD_DOUBLE)?Number(s).toString():s.toExponential(15).replace(/(\d)0*e\+?/,"$1E"):s>0?"INF":"-INF":s}stringValueToTerm(s,o,f,u,l){const d=a.getContextValueType(o,f);if(d)if(d==="@id"){if(!l)return this.resourceToTerm(o,this.intToString(u,l))}else if(d==="@vocab"){if(!l)return this.createVocabOrBaseTerm(o,this.intToString(u,l))}else l=this.dataFactory.namedNode(d);if(!l){const c=a.getContextValueLanguage(o,f),h=a.getContextValueDirection(o,f);return h&&this.parsingContext.rdfDirection?this.createLanguageDirectionLiteral(s,this.intToString(u,l),c,h):this.dataFactory.literal(this.intToString(u,l),c)}return this.dataFactory.literal(this.intToString(u,l),l)}createLanguageDirectionLiteral(s,o,f,u){if(this.parsingContext.rdfDirection==="i18n-datatype")return f||(f=""),this.dataFactory.literal(o,this.dataFactory.namedNode(`https://www.w3.org/ns/i18n#${f}_${u}`));{const l=this.dataFactory.blankNode(),d=this.getDefaultGraph();return this.parsingContext.emitQuad(s,this.dataFactory.quad(l,this.dataFactory.namedNode(a.RDF+"value"),this.dataFactory.literal(o),d)),f&&this.parsingContext.emitQuad(s,this.dataFactory.quad(l,this.dataFactory.namedNode(a.RDF+"language"),this.dataFactory.literal(f),d)),this.parsingContext.emitQuad(s,this.dataFactory.quad(l,this.dataFactory.namedNode(a.RDF+"direction"),this.dataFactory.literal(u),d)),l}}valueToJsonString(s){return n(s)}async unaliasKeyword(s,o,f,u,l){if(Number.isInteger(s))return s;if(!u){const d=this.parsingContext.unaliasedKeywordCacheStack[f];if(d)return d}if(!t.Util.isPotentialKeyword(s)){l=l||await this.parsingContext.getContext(o);let d=l.getContextRaw()[s];d&&typeof d=="object"&&(d=d["@id"]),t.Util.isValidKeyword(d)&&(s=d)}return u?s:this.parsingContext.unaliasedKeywordCacheStack[f]=s}async unaliasKeywordParent(s,o){return await this.unaliasKeyword(o>0&&s[o-1],s,o-1)}async unaliasKeywords(s,o,f,u){const l={};for(const d in s)l[await this.unaliasKeyword(d,o,f+1,!0,u)]=s[d];return l}async isLiteral(s,o){for(let f=o;f>=0;f--){if(await this.unaliasKeyword(s[f],s,f)==="@annotation")return!1;if(this.parsingContext.literalStack[f]||this.parsingContext.jsonLiteralStack[f])return!0}return!1}async getDepthOffsetGraph(s,o){for(let f=s-1;f>0;f--)if(await this.unaliasKeyword(o[f],o,f)==="@graph"){const u=(await r.EntryHandlerContainer.getContainerHandler(this.parsingContext,o,f)).containers;return r.EntryHandlerContainer.isComplexGraphContainer(u)?-1:s-f-1}return-1}validateReverseSubject(s){if(s.termType==="Literal")throw new t.ErrorCoded(`Found illegal literal in subject position: ${s.value}`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY_VALUE)}getDefaultGraph(){return this.parsingContext.defaultGraph||this.dataFactory.defaultGraph()}async getGraphContainerValue(s,o){let f=this.getDefaultGraph();const{containers:u,depth:l}=await r.EntryHandlerContainer.getContainerHandler(this.parsingContext,s,o);if("@graph"in u){const d=r.EntryHandlerContainer.getContainerGraphIndex(u,l,s),c=this.parsingContext.graphContainerTermStack[l];if(f=c?c[d]:null,!f){let h=null;if("@id"in u){const m=await this.getContainerKey(s[l],s,l);m!==null&&(h=await this.resourceToTerm(await this.parsingContext.getContext(s),m))}h||(h=this.dataFactory.blankNode()),this.parsingContext.graphContainerTermStack[l]||(this.parsingContext.graphContainerTermStack[l]={}),f=this.parsingContext.graphContainerTermStack[l][d]=h}}return f}async getPropertiesDepth(s,o){let f=o;for(let u=o-1;u>0;u--)if(typeof s[u]!="number"){const l=await this.unaliasKeyword(s[u],s,u);if(l==="@reverse")return u;if(l==="@nest")f=u;else return f}return f}async getContainerKey(s,o,f){const u=await this.unaliasKeyword(s,o,f);return u==="@none"?null:u}validateReverseInEmbeddedNode(s,o,f){if(f&&o&&!this.parsingContext.rdfstarReverseInEmbedded)throw new t.ErrorCoded(`Illegal reverse property in embedded node in ${s}`,t.ERROR_CODES.INVALID_EMBEDDED_NODE)}emitQuadChecked(s,o,f,u,l,d,c){let h;if(d?(this.validateReverseSubject(u),h=this.dataFactory.quad(u,f,o,l)):h=this.dataFactory.quad(o,f,u,l),c){if(h.graph.termType!=="DefaultGraph"&&(h=this.dataFactory.quad(h.subject,h.predicate,h.object)),this.parsingContext.idStack[s-1])throw new t.ErrorCoded("Illegal multiple properties in an embedded node",t.ERROR_CODES.INVALID_EMBEDDED_NODE);this.parsingContext.idStack[s-1]=[h]}else this.parsingContext.emitQuad(s,h);const m=this.parsingContext.annotationsBuffer[s];if(m){for(const _ of m)this.emitAnnotation(s,h,_);delete this.parsingContext.annotationsBuffer[s]}}emitAnnotation(s,o,f){let u;f.reverse?(this.validateReverseSubject(f.object),u=this.dataFactory.quad(f.object,f.predicate,o)):u=this.dataFactory.quad(o,f.predicate,f.object),this.parsingContext.emitQuad(s,u);for(const l of f.nestedAnnotations)this.emitAnnotation(s,u,l)}}return a.XSD="http://www.w3.org/2001/XMLSchema#",a.XSD_BOOLEAN=a.XSD+"boolean",a.XSD_INTEGER=a.XSD+"integer",a.XSD_DOUBLE=a.XSD+"double",a.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",su.Util=a,su}var GA;function oM(){if(GA)return ou;GA=1,Object.defineProperty(ou,"__esModule",{value:!0}),ou.EntryHandlerArrayValue=void 0;const t=si(),e=rr();let r=class{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(a,i,s,o,f){return this.test(a,i,null,s,o)}async test(a,i,s,o,f){return typeof o[f]=="number"}async handle(a,i,s,o,f,u){let l=await i.unaliasKeywordParent(o,u);if(l==="@list"){let d=null,c=0;for(let h=u-2;h>0;h--){const m=o[h];if(typeof m=="string"||typeof m=="number"){c=h,d=m;break}}if(d!==null){const h=await i.valueToTerm(await a.getContext(o),d,f,u,o);for(const m of h)await this.handleListElement(a,i,m,f,u,o.slice(0,c),c);h.length===0&&await this.handleListElement(a,i,null,f,u,o.slice(0,c),c)}}else if(l==="@set")await a.newOnValueJob(o.slice(0,-2),f,u-2,!1);else if(l!==void 0&&l!=="@type"){for(let c=u-1;c>0;c--)if(typeof o[c]!="number"){l=await i.unaliasKeyword(o[c],o,c);break}const d=await a.getContext(o.slice(0,-1));if("@list"in t.Util.getContextValueContainer(d,l)){a.emittedStack[u+1]=!0;const c=await i.valueToTerm(await a.getContext(o),l,f,u,o);for(const h of c)await this.handleListElement(a,i,h,f,u,o.slice(0,-1),u-1);c.length===0&&await this.handleListElement(a,i,null,f,u,o.slice(0,-1),u-1)}else a.shiftStack(u,1),await a.newOnValueJob(o.slice(0,-1),f,u-1,!1),a.contextTree.removeContext(o.slice(0,-1))}}async handleListElement(a,i,s,o,f,u,l){let d=a.listPointerStack[f];if(o!==null&&(await i.unaliasKeywords(o,u,f))["@value"]!==null){if(!d||!d.value){const c=i.dataFactory.blankNode();d={value:c,listRootDepth:l,listId:c}}else{const c=i.dataFactory.blankNode();a.emitQuad(f,i.dataFactory.quad(d.value,i.rdfRest,c,i.getDefaultGraph())),d.value=c}s&&a.emitQuad(f,i.dataFactory.quad(d.value,i.rdfFirst,s,i.getDefaultGraph()))}else d||(d={listRootDepth:l,listId:i.rdfNil});a.listPointerStack[f]=d,a.rdfstar&&a.annotationsBuffer[f]&&a.emitError(new e.ErrorCoded("Found an illegal annotation inside a list",e.ERROR_CODES.INVALID_ANNOTATION))}};return ou.EntryHandlerArrayValue=r,ou}var pu={},zA;function sM(){if(zA)return pu;zA=1,Object.defineProperty(pu,"__esModule",{value:!0}),pu.EntryHandlerInvalidFallback=void 0;let t=class{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(r,n,a,i,s){return!1}async test(r,n,a,i,s){return!0}async handle(r,n,a,i,s,o){r.emittedStack[o]=!1}};return pu.EntryHandlerInvalidFallback=t,pu}var yu={},gu={},WA;function Pn(){if(WA)return gu;WA=1,Object.defineProperty(gu,"__esModule",{value:!0}),gu.EntryHandlerKeyword=void 0;let t=class{constructor(r){this.keyword=r}isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(r,n,a,i,s){return!1}async test(r,n,a,i,s){return a===this.keyword}};return gu.EntryHandlerKeyword=t,gu}var KA;function uM(){if(KA)return yu;KA=1,Object.defineProperty(yu,"__esModule",{value:!0}),yu.EntryHandlerKeywordContext=void 0;const t=rr(),e=Pn();let r=class extends e.EntryHandlerKeyword{constructor(){super("@context")}isStackProcessor(){return!1}async handle(a,i,s,o,f,u){a.streamingProfile&&(a.processingStack[u]||a.processingType[u]||a.idStack[u]!==void 0)&&a.emitError(new t.ErrorCoded("Found an out-of-order context, while streaming is enabled.(disable `streamingProfile`)",t.ERROR_CODES.INVALID_STREAMING_KEY_ORDER));const l=a.getContext(o),d=a.parseContext(f,(await l).getContextRaw());a.contextTree.setContext(o.slice(0,-1),d),a.emitContext(f),await a.validateContext(await d)}};return yu.EntryHandlerKeywordContext=r,yu}var bu={},QA;function fM(){if(QA)return bu;QA=1,Object.defineProperty(bu,"__esModule",{value:!0}),bu.EntryHandlerKeywordGraph=void 0;const t=Pn();let e=class extends t.EntryHandlerKeyword{constructor(){super("@graph")}async handle(n,a,i,s,o,f){n.graphStack[f+1]=!0}};return bu.EntryHandlerKeywordGraph=e,bu}var mu={},XA;function lM(){if(XA)return mu;XA=1,Object.defineProperty(mu,"__esModule",{value:!0}),mu.EntryHandlerKeywordId=void 0;const t=rr(),e=Pn();let r=class extends e.EntryHandlerKeyword{constructor(){super("@id")}isStackProcessor(){return!1}async handle(a,i,s,o,f,u){if(typeof f!="string"){if(a.rdfstar&&typeof f=="object"){const d=Object.keys(f);d.length===1&&d[0]==="@id"&&a.emitError(new t.ErrorCoded(`Invalid embedded node without property with @id ${f["@id"]}`,t.ERROR_CODES.INVALID_EMBEDDED_NODE))}else a.emitError(new t.ErrorCoded(`Found illegal @id '${f}'`,t.ERROR_CODES.INVALID_ID_VALUE));return}const l=await i.getPropertiesDepth(o,u);if(a.idStack[l]!==void 0&&(a.idStack[l][0].listHead?a.emitError(new t.ErrorCoded(`Found illegal neighbouring entries next to @list for key: '${o[u-1]}'`,t.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT)):a.emitError(new t.ErrorCoded(`Found duplicate @ids '${a.idStack[l][0].value}' and '${f}'`,t.ERROR_CODES.COLLIDING_KEYWORDS))),a.rdfstar&&a.annotationsBuffer[u])for(const d of a.annotationsBuffer[u])d.depth===u&&a.emitError(new t.ErrorCoded(`Found an illegal @id inside an annotation: ${f}`,t.ERROR_CODES.INVALID_ANNOTATION));a.idStack[l]=i.nullableTermToArray(await i.resourceToTerm(await a.getContext(o),f))}};return mu.EntryHandlerKeywordId=r,mu}var _u={},ZA;function cM(){if(ZA)return _u;ZA=1,Object.defineProperty(_u,"__esModule",{value:!0}),_u.EntryHandlerKeywordIncluded=void 0;const t=rr(),e=Pn();let r=class extends e.EntryHandlerKeyword{constructor(){super("@included")}async handle(a,i,s,o,f,u){typeof f!="object"&&a.emitError(new t.ErrorCoded(`Found illegal @included '${f}'`,t.ERROR_CODES.INVALID_INCLUDED_VALUE));const l=await i.unaliasKeywords(f,o,u,await a.getContext(o));"@value"in l&&a.emitError(new t.ErrorCoded(`Found an illegal @included @value node '${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_INCLUDED_VALUE)),"@list"in l&&a.emitError(new t.ErrorCoded(`Found an illegal @included @list node '${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_INCLUDED_VALUE)),a.emittedStack[u]=!1}};return _u.EntryHandlerKeywordIncluded=r,_u}var vu={},JA;function dM(){if(JA)return vu;JA=1,Object.defineProperty(vu,"__esModule",{value:!0}),vu.EntryHandlerKeywordNest=void 0;const t=rr(),e=Pn();let r=class extends e.EntryHandlerKeyword{constructor(){super("@nest")}async handle(a,i,s,o,f,u){typeof f!="object"&&a.emitError(new t.ErrorCoded(`Found invalid @nest entry for '${s}': '${f}'`,t.ERROR_CODES.INVALID_NEST_VALUE)),"@value"in await i.unaliasKeywords(f,o,u,await a.getContext(o))&&a.emitError(new t.ErrorCoded(`Found an invalid @value node for '${s}'`,t.ERROR_CODES.INVALID_NEST_VALUE)),a.emittedStack[u]=!1}};return vu.EntryHandlerKeywordNest=r,vu}var wu={},YA;function hM(){if(YA)return wu;YA=1,Object.defineProperty(wu,"__esModule",{value:!0}),wu.EntryHandlerKeywordType=void 0;const t=rr(),e=si(),r=Cl(),n=Pn();let a=class extends n.EntryHandlerKeyword{constructor(){super("@type")}isStackProcessor(){return!1}async handle(s,o,f,u,l,d){const c=u[d],h=await s.getContext(u),m=o.rdfType,_=await o.unaliasKeywordParent(u,d),b=e.Util.isPropertyReverse(h,c,_),y=e.Util.isPropertyInEmbeddedNode(_);o.validateReverseInEmbeddedNode(f,b,y);const p=e.Util.isPropertyInAnnotationObject(_),g=Array.isArray(l)?l:[l];for(const I of g){typeof I!="string"&&s.emitError(new t.ErrorCoded(`Found illegal @type '${I}'`,t.ERROR_CODES.INVALID_TYPE_VALUE));const O=o.createVocabOrBaseTerm(h,I);O&&await r.EntryHandlerPredicate.handlePredicateObject(s,o,u,d,m,O,b,y,p)}let w=Promise.resolve(h),S=!1;for(const I of g.sort()){const O=e.Util.getContextValue(h,"@context",I,null);O&&(S=!0,w=w.then(M=>s.parseContext(O,M.getContextRaw())))}s.streamingProfile&&(S||!s.streamingProfileAllowOutOfOrderPlainType)&&(s.processingStack[d]||s.idStack[d])&&s.emitError(new t.ErrorCoded("Found an out-of-order type-scoped context, while streaming is enabled.(disable `streamingProfile`)",t.ERROR_CODES.INVALID_STREAMING_KEY_ORDER)),S&&(w=w.then(I=>I.getContextRaw()["@propagate"]!==!0?new t.JsonLdContextNormalized(Object.assign(Object.assign({},I.getContextRaw()),{"@propagate":!1,"@__propagateFallback":h.getContextRaw()})):I),s.contextTree.setContext(u.slice(0,u.length-1),w)),s.processingType[d]=!0}};return wu.EntryHandlerKeywordType=a,wu}var Eu={},eO;function pM(){if(eO)return Eu;eO=1,Object.defineProperty(Eu,"__esModule",{value:!0}),Eu.EntryHandlerKeywordUnknownFallback=void 0;const t=rr();let e=class s3{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(n,a,i,s,o){const f=await a.unaliasKeyword(i[s],i,s);return t.Util.isPotentialKeyword(f)?!(!o&&f==="@list"):!1}async test(n,a,i,s,o){return t.Util.isPotentialKeyword(i)}async handle(n,a,i,s,o,f){const u=s3.VALID_KEYWORDS_TYPES[i];u!==void 0?u&&typeof o!==u.type&&n.emitError(new t.ErrorCoded(`Invalid value type for '${i}' with value '${o}'`,u.errorCode)):n.strictValues&&n.emitError(new Error(`Unknown keyword '${i}' with value '${o}'`)),n.emittedStack[f]=!1}};return e.VALID_KEYWORDS_TYPES={"@index":{type:"string",errorCode:t.ERROR_CODES.INVALID_INDEX_VALUE},"@list":null,"@reverse":{type:"object",errorCode:t.ERROR_CODES.INVALID_REVERSE_VALUE},"@set":null,"@value":null},Eu.EntryHandlerKeywordUnknownFallback=e,Eu}var Su={},tO;function yM(){if(tO)return Su;tO=1,Object.defineProperty(Su,"__esModule",{value:!0}),Su.EntryHandlerKeywordValue=void 0;const t=Pn();let e=class extends t.EntryHandlerKeyword{constructor(){super("@value")}async validate(n,a,i,s,o){const f=i[s];return f&&!n.literalStack[s]&&await this.test(n,a,f,i,s)&&(n.literalStack[s]=!0),super.validate(n,a,i,s,o)}async test(n,a,i,s,o){return await a.unaliasKeyword(s[o],s.slice(0,s.length-1),o-1,!0)==="@value"}async handle(n,a,i,s,o,f){n.literalStack[f]=!0,delete n.unidentifiedValuesBuffer[f],delete n.unidentifiedGraphsBuffer[f],n.emittedStack[f]=!1}};return Su.EntryHandlerKeywordValue=e,Su}var Tu={},xu={},rO;function gM(){if(rO)return xu;rO=1,Object.defineProperty(xu,"__esModule",{value:!0}),xu.ContextTree=void 0;let t=class u3{constructor(){this.subTrees={}}getContext(r){if(r.length>0){const[n,...a]=r,i=this.subTrees[n];if(i){const s=i.getContext(a);if(s)return s.then(({context:o,depth:f})=>({context:o,depth:f+1}))}}return this.context?this.context.then(n=>({context:n,depth:0})):null}setContext(r,n){if(r.length===0)this.context=n;else{const[a,...i]=r;let s=this.subTrees[a];s||(s=this.subTrees[a]=new u3),s.setContext(i,n)}}removeContext(r){this.setContext(r,null)}};return xu.ContextTree=t,xu}var nO;function bM(){if(nO)return Tu;nO=1,Object.defineProperty(Tu,"__esModule",{value:!0}),Tu.ParsingContext=void 0;const t=rr(),e=nu(),r=gM(),n=oO();let a=class f3{constructor(s){this.contextParser=new t.ContextParser({documentLoader:s.documentLoader,skipValidation:s.skipContextValidation}),this.streamingProfile=!!s.streamingProfile,this.baseIRI=s.baseIRI,this.produceGeneralizedRdf=!!s.produceGeneralizedRdf,this.allowSubjectList=!!s.allowSubjectList,this.processingMode=s.processingMode||n.JsonLdParser.DEFAULT_PROCESSING_MODE,this.strictValues=!!s.strictValues,this.validateValueIndexes=!!s.validateValueIndexes,this.defaultGraph=s.defaultGraph,this.rdfDirection=s.rdfDirection,this.normalizeLanguageTags=s.normalizeLanguageTags,this.streamingProfileAllowOutOfOrderPlainType=s.streamingProfileAllowOutOfOrderPlainType,this.rdfstar=s.rdfstar!==!1,this.rdfstarReverseInEmbedded=s.rdfstarReverseInEmbedded,this.topLevelProperties=!1,this.activeProcessingMode=parseFloat(this.processingMode),this.processingStack=[],this.processingType=[],this.emittedStack=[],this.idStack=[],this.graphStack=[],this.graphContainerTermStack=[],this.listPointerStack=[],this.contextTree=new r.ContextTree,this.literalStack=[],this.validationStack=[],this.unaliasedKeywordCacheStack=[],this.jsonLiteralStack=[],this.unidentifiedValuesBuffer=[],this.unidentifiedGraphsBuffer=[],this.annotationsBuffer=[],this.pendingContainerFlushBuffers=[],this.parser=s.parser,s.context?(this.rootContext=this.parseContext(s.context),this.rootContext.then(o=>this.validateContext(o))):this.rootContext=Promise.resolve(new t.JsonLdContextNormalized(this.baseIRI?{"@base":this.baseIRI,"@__baseDocument":!0}:{}))}async parseContext(s,o,f){return this.contextParser.parse(s,{baseIRI:this.baseIRI,ignoreProtection:f,normalizeLanguageTags:this.normalizeLanguageTags,parentContext:o,processingMode:this.activeProcessingMode})}validateContext(s){const o=s.getContextRaw()["@version"];if(o){if(this.activeProcessingMode&&o>this.activeProcessingMode)throw new e.ErrorCoded(`Unsupported JSON-LD version '${o}' under active processing mode ${this.activeProcessingMode}.`,e.ERROR_CODES.PROCESSING_MODE_CONFLICT);if(this.activeProcessingMode&&o<this.activeProcessingMode)throw new e.ErrorCoded(`Invalid JSON-LD version ${o} under active processing mode ${this.activeProcessingMode}.`,e.ERROR_CODES.INVALID_VERSION_VALUE);this.activeProcessingMode=o}}async getContext(s,o=1){const f=s;for(;typeof s[s.length-1]=="number";)s=s.slice(0,s.length-1);o&&(s=s.slice(0,-o));const u=await this.getContextPropagationAware(s);let d=u.context.getContextRaw();for(let c=u.depth;c<f.length-o;c++){const h=f[c],m=d[h];if(m&&typeof m=="object"&&"@context"in m){const _=(await this.parseContext(m,d,!0)).getContextRaw(),b=!(h in _)||_[h]["@context"]["@propagate"];(b!==!1||c===f.length-1-o)&&(d=Object.assign({},_),delete d["@propagate"],d[h]=Object.assign({},d[h]),"@id"in m&&(d[h]["@id"]=m["@id"]),delete d[h]["@context"],b!==!1&&this.contextTree.setContext(f.slice(0,c+o),Promise.resolve(new t.JsonLdContextNormalized(d))))}}return new t.JsonLdContextNormalized(d)}async getContextPropagationAware(s){const o=s.length;let f=null,u;do{u=!1,f&&"@__propagateFallback"in f.context.getContextRaw()?f.context=new t.JsonLdContextNormalized(f.context.getContextRaw()["@__propagateFallback"]):(f&&(s=s.slice(0,f.depth-1)),f=await this.contextTree.getContext(s)||{context:await this.rootContext,depth:0});const l=s[s.length-1];if(l in f.context.getContextRaw()){const d=f.context.getContextRaw()[l];d&&typeof d=="object"&&"@context"in d&&(u=!0)}}while(f.depth>0&&f.context.getContextRaw()["@propagate"]===!1&&f.depth!==o&&!u);return f.depth===0&&f.context.getContextRaw()["@propagate"]===!1&&f.depth!==o&&(f.context=new t.JsonLdContextNormalized({})),f}async newOnValueJob(s,o,f,u){await this.parser.newOnValueJob(s,o,f,u)}async handlePendingContainerFlushBuffers(){if(this.pendingContainerFlushBuffers.length>0){for(const s of this.pendingContainerFlushBuffers)await this.parser.flushBuffer(s.depth,s.keys),this.parser.flushStacks(s.depth);return this.pendingContainerFlushBuffers.splice(0,this.pendingContainerFlushBuffers.length),!0}else return!1}emitQuad(s,o){s===1&&(this.topLevelProperties=!0),this.parser.push(o)}emitError(s){this.parser.emit("error",s)}emitContext(s){this.parser.emit("context",s)}getUnidentifiedValueBufferSafe(s){let o=this.unidentifiedValuesBuffer[s];return o||(o=[],this.unidentifiedValuesBuffer[s]=o),o}getUnidentifiedGraphBufferSafe(s){let o=this.unidentifiedGraphsBuffer[s];return o||(o=[],this.unidentifiedGraphsBuffer[s]=o),o}getAnnotationsBufferSafe(s){let o=this.annotationsBuffer[s];return o||(o=[],this.annotationsBuffer[s]=o),o}getExpandOptions(){return f3.EXPAND_OPTIONS[this.activeProcessingMode]}shiftStack(s,o){const f=this.idStack[s+o];if(f&&(this.idStack[s]=f,this.emittedStack[s]=!0,delete this.idStack[s+o]),this.pendingContainerFlushBuffers.length)for(const u of this.pendingContainerFlushBuffers)u.depth>=s+o&&(u.depth-=o,u.keys.splice(s,o));this.unidentifiedValuesBuffer[s+o]&&(this.unidentifiedValuesBuffer[s]=this.unidentifiedValuesBuffer[s+o],delete this.unidentifiedValuesBuffer[s+o]),this.annotationsBuffer[s+o-1]&&(this.annotationsBuffer[s-1]||(this.annotationsBuffer[s-1]=[]),this.annotationsBuffer[s-1]=[...this.annotationsBuffer[s-1],...this.annotationsBuffer[s+o-1]],delete this.annotationsBuffer[s+o-1])}};return a.EXPAND_OPTIONS={1:{allowPrefixForcing:!1,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!1},1.1:{allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}},Tu.ParsingContext=a,Tu}var Ru={},iO;function mM(){if(iO)return Ru;iO=1,Object.defineProperty(Ru,"__esModule",{value:!0}),Ru.EntryHandlerKeywordAnnotation=void 0;const t=Pn(),e=rr();let r=class extends t.EntryHandlerKeyword{constructor(){super("@annotation")}async handle(a,i,s,o,f,u){(typeof f=="string"||typeof f=="object"&&f["@value"])&&a.emitError(new e.ErrorCoded(`Found illegal annotation value: ${JSON.stringify(f)}`,e.ERROR_CODES.INVALID_ANNOTATION))}};return Ru.EntryHandlerKeywordAnnotation=r,Ru}var aO;function oO(){if(aO)return eu;aO=1,Object.defineProperty(eu,"__esModule",{value:!0}),eu.JsonLdParser=void 0;const t=ZF(),e=rr(),r=Tr(),n=oM(),a=UA(),i=sM(),s=Cl(),o=uM(),f=fM(),u=lM(),l=cM(),d=dM(),c=hM(),h=pM(),m=yM(),_=bM(),b=si(),y=Vg(),p=mM();let g=class ra extends r.Transform{constructor(S){super({readableObjectMode:!0}),S=S||{},this.options=S,this.parsingContext=new _.ParsingContext(Object.assign({parser:this},S)),this.util=new b.Util({dataFactory:S.dataFactory,parsingContext:this.parsingContext}),this.jsonParser=new t,this.contextJobs=[],this.typeJobs=[],this.contextAwaitingJobs=[],this.lastDepth=0,this.lastKeys=[],this.lastOnValueJob=Promise.resolve(),this.attachJsonParserListeners(),this.on("end",()=>{typeof this.jsonParser.mode<"u"&&this.emit("error",new Error("Unclosed document"))})}static fromHttpResponse(S,I,O,M){let D,N=["application/activity+json"];if(M&&M.wellKnownMediaTypes&&(N=M.wellKnownMediaTypes),I!=="application/ld+json"&&!N.includes(I)){if(I!=="application/json"&&!I.endsWith("+json"))throw new e.ErrorCoded(`Unsupported JSON-LD media type ${I}`,e.ERROR_CODES.LOADING_DOCUMENT_FAILED);if(O&&O.has("Link")&&O.forEach((R,F)=>{if(F==="link"){const X=(0,y.parse)(R);for(const oe of X.get("rel","http://www.w3.org/ns/json-ld#context")){if(D)throw new e.ErrorCoded("Multiple JSON-LD context link headers were found on "+S,e.ERROR_CODES.MULTIPLE_CONTEXT_LINK_HEADERS);D=oe.uri}}}),!D&&!(M!=null&&M.ignoreMissingContextLinkHeader))throw new e.ErrorCoded(`Missing context link header for media type ${I} on ${S}`,e.ERROR_CODES.LOADING_DOCUMENT_FAILED)}let C;if(O&&O.has("Content-Type")){const R=O.get("Content-Type"),F=/; *profile=([^"]*)/.exec(R);F&&F[1]==="http://www.w3.org/ns/json-ld#streaming"&&(C=!0)}return new ra(Object.assign({baseIRI:S,context:D,streamingProfile:C},M||{}))}import(S){if("pipe"in S){S.on("error",O=>I.emit("error",O));const I=S.pipe(new ra(this.options));return I}else{const I=new r.PassThrough({readableObjectMode:!0});S.on("error",M=>O.emit("error",M)),S.on("data",M=>I.push(M)),S.on("end",()=>I.push(null));const O=I.pipe(new ra(this.options));return O}}_transform(S,I,O){this.jsonParser.write(S),this.lastOnValueJob.then(()=>O(),M=>O(M))}async newOnValueJob(S,I,O,M){let D=!0;if(M&&O<this.lastDepth){const X=this.parsingContext.listPointerStack[this.lastDepth];X&&(X.value&&this.push(this.util.dataFactory.quad(X.value,this.util.rdfRest,this.util.rdfNil,this.util.getDefaultGraph())),X.listId.listHead=!0,this.parsingContext.idStack[X.listRootDepth+1]=[X.listId],this.parsingContext.listPointerStack.splice(this.lastDepth,1)),await a.EntryHandlerContainer.isBufferableContainerHandler(this.parsingContext,this.lastKeys,this.lastDepth)?(this.parsingContext.pendingContainerFlushBuffers.push({depth:this.lastDepth,keys:this.lastKeys.slice(0,this.lastKeys.length)}),D=!1):await this.flushBuffer(this.lastDepth,this.lastKeys)}const N=await this.util.unaliasKeyword(S[O],S,O),C=await this.util.unaliasKeywordParent(S,O);this.parsingContext.emittedStack[O]=!0;let R=!0;e.Util.isValidKeyword(N)&&C==="@reverse"&&N!=="@context"&&this.emit("error",new e.ErrorCoded(`Found the @id '${I}' inside an @reverse property`,e.ERROR_CODES.INVALID_REVERSE_PROPERTY_MAP));let F=!1;this.parsingContext.validationStack.length>1&&(F=this.parsingContext.validationStack[this.parsingContext.validationStack.length-1].property);for(let X=Math.max(1,this.parsingContext.validationStack.length-1);X<S.length-1;X++){const oe=this.parsingContext.validationStack[X]||(this.parsingContext.validationStack[X]=await this.validateKey(S.slice(0,X+1),X,F));if(oe.valid)!F&&oe.property&&(F=!0);else{this.parsingContext.emittedStack[O]=!1,R=!1;break}}if(await this.util.isLiteral(S,O)&&(R=!1),R)for(const X of ra.ENTRY_HANDLERS){const oe=await X.test(this.parsingContext,this.util,N,S,O);if(oe){await X.handle(this.parsingContext,this.util,N,S,I,O,oe),X.isStackProcessor()&&(this.parsingContext.processingStack[O]=!0);break}}O===0&&Array.isArray(I)&&await this.util.validateValueIndexes(I),D&&O<this.lastDepth&&this.flushStacks(this.lastDepth),this.lastDepth=O,this.lastKeys=S,this.parsingContext.unaliasedKeywordCacheStack.splice(O-1)}flushStacks(S){this.parsingContext.processingStack.splice(S,1),this.parsingContext.processingType.splice(S,1),this.parsingContext.emittedStack.splice(S,1),this.parsingContext.idStack.splice(S,1),this.parsingContext.graphStack.splice(S+1,1),this.parsingContext.graphContainerTermStack.splice(S,1),this.parsingContext.jsonLiteralStack.splice(S,1),this.parsingContext.validationStack.splice(S-1,2),this.parsingContext.literalStack.splice(S,this.parsingContext.literalStack.length-S),this.parsingContext.annotationsBuffer.splice(S,1)}async flushBuffer(S,I){let O=this.parsingContext.idStack[S];!!O||(O=this.parsingContext.idStack[S]=[this.util.dataFactory.blankNode()]);const D=this.parsingContext.unidentifiedValuesBuffer[S];if(D){for(const R of O){const F=await this.util.getDepthOffsetGraph(S,I),X=this.parsingContext.graphStack[S]||F>=0?this.parsingContext.idStack[S-F-1]:[await this.util.getGraphContainerValue(I,S)];if(X)for(const oe of X){this.parsingContext.emittedStack[S]=!0;for(const J of D)this.util.emitQuadChecked(S,R,J.predicate,J.object,oe,J.reverse,J.isEmbedded)}else{const oe=this.parsingContext.getUnidentifiedGraphBufferSafe(S-await this.util.getDepthOffsetGraph(S,I)-1);for(const J of D)J.reverse?oe.push({object:R,predicate:J.predicate,subject:J.object,isEmbedded:J.isEmbedded}):oe.push({object:J.object,predicate:J.predicate,subject:R,isEmbedded:J.isEmbedded})}}this.parsingContext.unidentifiedValuesBuffer.splice(S,1),this.parsingContext.literalStack.splice(S,1),this.parsingContext.jsonLiteralStack.splice(S,1)}const N=this.parsingContext.unidentifiedGraphsBuffer[S];if(N){for(const R of O){const F=S===1&&R.termType==="BlankNode"&&!this.parsingContext.topLevelProperties?this.util.getDefaultGraph():R;this.parsingContext.emittedStack[S]=!0;for(const X of N)this.parsingContext.emitQuad(S,this.util.dataFactory.quad(X.subject,X.predicate,X.object,F))}this.parsingContext.unidentifiedGraphsBuffer.splice(S,1)}const C=this.parsingContext.annotationsBuffer[S];if(C){C.length>0&&S===1&&this.parsingContext.emitError(new e.ErrorCoded("Annotations can not be made on top-level nodes",e.ERROR_CODES.INVALID_ANNOTATION));const R=this.parsingContext.getAnnotationsBufferSafe(S-1);for(const F of C)R.push(F);delete this.parsingContext.annotationsBuffer[S]}}async validateKey(S,I,O){for(const M of ra.ENTRY_HANDLERS)if(await M.validate(this.parsingContext,this.util,S,I,O))return{valid:!0,property:O||M.isPropertyHandler()};return{valid:!1,property:!1}}attachJsonParserListeners(){this.jsonParser.onValue=S=>{const I=this.jsonParser.stack.length,O=new Array(I+1).fill(0).map((M,D)=>D===I?this.jsonParser.key:this.jsonParser.stack[D].key);if(!this.isParsingContextInner(I)){const M=()=>this.newOnValueJob(O,S,I,!0);if(!this.parsingContext.streamingProfile&&!this.parsingContext.contextTree.getContext(O.slice(0,-1)))if(O[I]==="@context"){let D=this.contextJobs[I];D||(D=this.contextJobs[I]=[]),D.push(M)}else this.contextAwaitingJobs.push({job:M,keys:O,depth:I});else this.lastOnValueJob=this.lastOnValueJob.then(M);!this.parsingContext.streamingProfile&&I===0&&(this.lastOnValueJob=this.lastOnValueJob.then(()=>this.executeBufferedJobs()))}},this.jsonParser.onError=S=>{this.emit("error",S)}}isParsingContextInner(S){for(let I=S;I>0;I--)if(this.jsonParser.stack[I-1].key==="@context")return!0;return!1}async executeBufferedJobs(){for(const I of this.contextJobs)if(I)for(const O of I)await O();this.parsingContext.unaliasedKeywordCacheStack.splice(0);const S=[];for(const I of this.contextAwaitingJobs)await this.util.unaliasKeyword(I.keys[I.depth],I.keys,I.depth,!0)==="@type"||typeof I.keys[I.depth]=="number"&&await this.util.unaliasKeyword(I.keys[I.depth-1],I.keys,I.depth-1,!0)==="@type"?this.typeJobs.push({job:I.job,keys:I.keys.slice(0,I.keys.length-1)}):S.push(I);for(const I of S){if(this.typeJobs.length>0){const O=[],M=[];for(let C=0;C<this.typeJobs.length;C++){const R=this.typeJobs[C];b.Util.isPrefixArray(R.keys,I.keys)&&(O.push(R),M.push(C))}const D=O.sort((C,R)=>C.keys.length-R.keys.length);for(const C of D)await C.job();const N=M.sort().reverse();for(const C of N)this.typeJobs.splice(C,1)}await I.job()}}};return g.DEFAULT_PROCESSING_MODE="1.1",g.ENTRY_HANDLERS=[new n.EntryHandlerArrayValue,new o.EntryHandlerKeywordContext,new u.EntryHandlerKeywordId,new l.EntryHandlerKeywordIncluded,new f.EntryHandlerKeywordGraph,new d.EntryHandlerKeywordNest,new c.EntryHandlerKeywordType,new m.EntryHandlerKeywordValue,new p.EntryHandlerKeywordAnnotation,new a.EntryHandlerContainer,new h.EntryHandlerKeywordUnknownFallback,new s.EntryHandlerPredicate,new i.EntryHandlerInvalidFallback],eu.JsonLdParser=g,eu}var sO;function _M(){return sO||(sO=1,function(t){var e=Ys.__createBinding||(Object.create?function(n,a,i,s){s===void 0&&(s=i);var o=Object.getOwnPropertyDescriptor(a,i);(!o||("get"in o?!a.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,s,o)}:function(n,a,i,s){s===void 0&&(s=i),n[s]=a[i]}),r=Ys.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&e(a,n,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(oO(),t)}(Ys)),Ys}var Iu={},Au={},Ou={},Xg={},uO;function fO(){return uO||(uO=1,function(){(function(t){(function(e){var r=typeof globalThis<"u"&&globalThis||typeof t<"u"&&t||typeof Ye<"u"&&Ye||{},n={searchParams:"URLSearchParams"in r,iterable:"Symbol"in r&&"iterator"in Symbol,blob:"FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in r,arrayBuffer:"ArrayBuffer"in r};function a(N){return N&&DataView.prototype.isPrototypeOf(N)}if(n.arrayBuffer)var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=ArrayBuffer.isView||function(N){return N&&i.indexOf(Object.prototype.toString.call(N))>-1};function o(N){if(typeof N!="string"&&(N=String(N)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(N)||N==="")throw new TypeError('Invalid character in header field name: "'+N+'"');return N.toLowerCase()}function f(N){return typeof N!="string"&&(N=String(N)),N}function u(N){var C={next:function(){var R=N.shift();return{done:R===void 0,value:R}}};return n.iterable&&(C[Symbol.iterator]=function(){return C}),C}function l(N){this.map={},N instanceof l?N.forEach(function(C,R){this.append(R,C)},this):Array.isArray(N)?N.forEach(function(C){if(C.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+C.length);this.append(C[0],C[1])},this):N&&Object.getOwnPropertyNames(N).forEach(function(C){this.append(C,N[C])},this)}l.prototype.append=function(N,C){N=o(N),C=f(C);var R=this.map[N];this.map[N]=R?R+", "+C:C},l.prototype.delete=function(N){delete this.map[o(N)]},l.prototype.get=function(N){return N=o(N),this.has(N)?this.map[N]:null},l.prototype.has=function(N){return this.map.hasOwnProperty(o(N))},l.prototype.set=function(N,C){this.map[o(N)]=f(C)},l.prototype.forEach=function(N,C){for(var R in this.map)this.map.hasOwnProperty(R)&&N.call(C,this.map[R],R,this)},l.prototype.keys=function(){var N=[];return this.forEach(function(C,R){N.push(R)}),u(N)},l.prototype.values=function(){var N=[];return this.forEach(function(C){N.push(C)}),u(N)},l.prototype.entries=function(){var N=[];return this.forEach(function(C,R){N.push([R,C])}),u(N)},n.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);function d(N){if(!N._noBody){if(N.bodyUsed)return Promise.reject(new TypeError("Already read"));N.bodyUsed=!0}}function c(N){return new Promise(function(C,R){N.onload=function(){C(N.result)},N.onerror=function(){R(N.error)}})}function h(N){var C=new FileReader,R=c(C);return C.readAsArrayBuffer(N),R}function m(N){var C=new FileReader,R=c(C),F=/charset=([A-Za-z0-9_-]+)/.exec(N.type),X=F?F[1]:"utf-8";return C.readAsText(N,X),R}function _(N){for(var C=new Uint8Array(N),R=new Array(C.length),F=0;F<C.length;F++)R[F]=String.fromCharCode(C[F]);return R.join("")}function b(N){if(N.slice)return N.slice(0);var C=new Uint8Array(N.byteLength);return C.set(new Uint8Array(N)),C.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(N){this.bodyUsed=this.bodyUsed,this._bodyInit=N,N?typeof N=="string"?this._bodyText=N:n.blob&&Blob.prototype.isPrototypeOf(N)?this._bodyBlob=N:n.formData&&FormData.prototype.isPrototypeOf(N)?this._bodyFormData=N:n.searchParams&&URLSearchParams.prototype.isPrototypeOf(N)?this._bodyText=N.toString():n.arrayBuffer&&n.blob&&a(N)?(this._bodyArrayBuffer=b(N.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):n.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(N)||s(N))?this._bodyArrayBuffer=b(N):this._bodyText=N=Object.prototype.toString.call(N):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof N=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n.searchParams&&URLSearchParams.prototype.isPrototypeOf(N)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n.blob&&(this.blob=function(){var N=d(this);if(N)return N;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var N=d(this);return N||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(n.blob)return this.blob().then(h);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var N=d(this);if(N)return N;if(this._bodyBlob)return m(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(_(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},n.formData&&(this.formData=function(){return this.text().then(S)}),this.json=function(){return this.text().then(JSON.parse)},this}var p=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function g(N){var C=N.toUpperCase();return p.indexOf(C)>-1?C:N}function w(N,C){if(!(this instanceof w))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');C=C||{};var R=C.body;if(N instanceof w){if(N.bodyUsed)throw new TypeError("Already read");this.url=N.url,this.credentials=N.credentials,C.headers||(this.headers=new l(N.headers)),this.method=N.method,this.mode=N.mode,this.signal=N.signal,!R&&N._bodyInit!=null&&(R=N._bodyInit,N.bodyUsed=!0)}else this.url=String(N);if(this.credentials=C.credentials||this.credentials||"same-origin",(C.headers||!this.headers)&&(this.headers=new l(C.headers)),this.method=g(C.method||this.method||"GET"),this.mode=C.mode||this.mode||null,this.signal=C.signal||this.signal||function(){if("AbortController"in r){var oe=new AbortController;return oe.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&R)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(R),(this.method==="GET"||this.method==="HEAD")&&(C.cache==="no-store"||C.cache==="no-cache")){var F=/([?&])_=[^&]*/;if(F.test(this.url))this.url=this.url.replace(F,"$1_="+new Date().getTime());else{var X=/\?/;this.url+=(X.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})};function S(N){var C=new FormData;return N.trim().split("&").forEach(function(R){if(R){var F=R.split("="),X=F.shift().replace(/\+/g," "),oe=F.join("=").replace(/\+/g," ");C.append(decodeURIComponent(X),decodeURIComponent(oe))}}),C}function I(N){var C=new l,R=N.replace(/\r?\n[\t ]+/g," ");return R.split("\r").map(function(F){return F.indexOf(`
`)===0?F.substr(1,F.length):F}).forEach(function(F){var X=F.split(":"),oe=X.shift().trim();if(oe){var J=X.join(":").trim();try{C.append(oe,J)}catch(le){console.warn("Response "+le.message)}}}),C}y.call(w.prototype);function O(N,C){if(!(this instanceof O))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(C||(C={}),this.type="default",this.status=C.status===void 0?200:C.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=C.statusText===void 0?"":""+C.statusText,this.headers=new l(C.headers),this.url=C.url||"",this._initBody(N)}y.call(O.prototype),O.prototype.clone=function(){return new O(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},O.error=function(){var N=new O(null,{status:200,statusText:""});return N.ok=!1,N.status=0,N.type="error",N};var M=[301,302,303,307,308];O.redirect=function(N,C){if(M.indexOf(C)===-1)throw new RangeError("Invalid status code");return new O(null,{status:C,headers:{location:N}})},e.DOMException=r.DOMException;try{new e.DOMException}catch{e.DOMException=function(C,R){this.message=C,this.name=R;var F=Error(C);this.stack=F.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function D(N,C){return new Promise(function(R,F){var X=new w(N,C);if(X.signal&&X.signal.aborted)return F(new e.DOMException("Aborted","AbortError"));var oe=new XMLHttpRequest;function J(){oe.abort()}oe.onload=function(){var Z={statusText:oe.statusText,headers:I(oe.getAllResponseHeaders()||"")};X.url.indexOf("file://")===0&&(oe.status<200||oe.status>599)?Z.status=200:Z.status=oe.status,Z.url="responseURL"in oe?oe.responseURL:Z.headers.get("X-Request-URL");var H="response"in oe?oe.response:oe.responseText;setTimeout(function(){R(new O(H,Z))},0)},oe.onerror=function(){setTimeout(function(){F(new TypeError("Network request failed"))},0)},oe.ontimeout=function(){setTimeout(function(){F(new TypeError("Network request timed out"))},0)},oe.onabort=function(){setTimeout(function(){F(new e.DOMException("Aborted","AbortError"))},0)};function le(Z){try{return Z===""&&r.location.href?r.location.href:Z}catch{return Z}}if(oe.open(X.method,le(X.url),!0),X.credentials==="include"?oe.withCredentials=!0:X.credentials==="omit"&&(oe.withCredentials=!1),"responseType"in oe&&(n.blob?oe.responseType="blob":n.arrayBuffer&&(oe.responseType="arraybuffer")),C&&typeof C.headers=="object"&&!(C.headers instanceof l||r.Headers&&C.headers instanceof r.Headers)){var ae=[];Object.getOwnPropertyNames(C.headers).forEach(function(Z){ae.push(o(Z)),oe.setRequestHeader(Z,f(C.headers[Z]))}),X.headers.forEach(function(Z,H){ae.indexOf(H)===-1&&oe.setRequestHeader(H,Z)})}else X.headers.forEach(function(Z,H){oe.setRequestHeader(H,Z)});X.signal&&(X.signal.addEventListener("abort",J),oe.onreadystatechange=function(){oe.readyState===4&&X.signal.removeEventListener("abort",J)}),oe.send(typeof X._bodyInit>"u"?null:X._bodyInit)})}return D.polyfill=!0,r.fetch||(r.fetch=D,r.Headers=l,r.Request=w,r.Response=O),e.Headers=l,e.Request=w,e.Response=O,e.fetch=D,Object.defineProperty(e,"__esModule",{value:!0}),e})({})})(typeof self<"u"?self:Xg)}()),Xg}var Zg={},lO;function Ll(){return lO||(lO=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ERROR_CODES=t.ErrorCoded=void 0;class e extends Error{constructor(n,a){super(n),this.code=a}}t.ErrorCoded=e,function(r){r.COLLIDING_KEYWORDS="colliding keywords",r.CONFLICTING_INDEXES="conflicting indexes",r.CYCLIC_IRI_MAPPING="cyclic IRI mapping",r.INVALID_ID_VALUE="invalid @id value",r.INVALID_INDEX_VALUE="invalid @index value",r.INVALID_NEST_VALUE="invalid @nest value",r.INVALID_PREFIX_VALUE="invalid @prefix value",r.INVALID_PROPAGATE_VALUE="invalid @propagate value",r.INVALID_REVERSE_VALUE="invalid @reverse value",r.INVALID_IMPORT_VALUE="invalid @import value",r.INVALID_VERSION_VALUE="invalid @version value",r.INVALID_BASE_IRI="invalid base IRI",r.INVALID_CONTAINER_MAPPING="invalid container mapping",r.INVALID_CONTEXT_ENTRY="invalid context entry",r.INVALID_CONTEXT_NULLIFICATION="invalid context nullification",r.INVALID_DEFAULT_LANGUAGE="invalid default language",r.INVALID_INCLUDED_VALUE="invalid @included value",r.INVALID_IRI_MAPPING="invalid IRI mapping",r.INVALID_JSON_LITERAL="invalid JSON literal",r.INVALID_KEYWORD_ALIAS="invalid keyword alias",r.INVALID_LANGUAGE_MAP_VALUE="invalid language map value",r.INVALID_LANGUAGE_MAPPING="invalid language mapping",r.INVALID_LANGUAGE_TAGGED_STRING="invalid language-tagged string",r.INVALID_LANGUAGE_TAGGED_VALUE="invalid language-tagged value",r.INVALID_LOCAL_CONTEXT="invalid local context",r.INVALID_REMOTE_CONTEXT="invalid remote context",r.INVALID_REVERSE_PROPERTY="invalid reverse property",r.INVALID_REVERSE_PROPERTY_MAP="invalid reverse property map",r.INVALID_REVERSE_PROPERTY_VALUE="invalid reverse property value",r.INVALID_SCOPED_CONTEXT="invalid scoped context",r.INVALID_SCRIPT_ELEMENT="invalid script element",r.INVALID_SET_OR_LIST_OBJECT="invalid set or list object",r.INVALID_TERM_DEFINITION="invalid term definition",r.INVALID_TYPE_MAPPING="invalid type mapping",r.INVALID_TYPE_VALUE="invalid type value",r.INVALID_TYPED_VALUE="invalid typed value",r.INVALID_VALUE_OBJECT="invalid value object",r.INVALID_VALUE_OBJECT_VALUE="invalid value object value",r.INVALID_VOCAB_MAPPING="invalid vocab mapping",r.IRI_CONFUSED_WITH_PREFIX="IRI confused with prefix",r.KEYWORD_REDEFINITION="keyword redefinition",r.LOADING_DOCUMENT_FAILED="loading document failed",r.LOADING_REMOTE_CONTEXT_FAILED="loading remote context failed",r.MULTIPLE_CONTEXT_LINK_HEADERS="multiple context link headers",r.PROCESSING_MODE_CONFLICT="processing mode conflict",r.PROTECTED_TERM_REDEFINITION="protected term redefinition",r.CONTEXT_OVERFLOW="context overflow",r.INVALID_BASE_DIRECTION="invalid base direction",r.RECURSIVE_CONTEXT_INCLUSION="recursive context inclusion",r.INVALID_STREAMING_KEY_ORDER="invalid streaming key order",r.INVALID_EMBEDDED_NODE="invalid embedded node",r.INVALID_ANNOTATION="invalid annotation"}(t.ERROR_CODES||(t.ERROR_CODES={}))}(Zg)),Zg}var Nu={},cO;function dO(){if(cO)return Nu;cO=1,Object.defineProperty(Nu,"__esModule",{value:!0}),Nu.FetchDocumentLoader=void 0,fO();const t=Ll(),e=Vg(),r=vr();let n=class{constructor(i){this.fetcher=i}async load(i){const s=await(this.fetcher||fetch)(i,{headers:new Headers({accept:"application/ld+json"})});if(s.ok&&s.headers){let o=s.headers.get("Content-Type");if(o){const f=o.indexOf(";");f>0&&(o=o.substr(0,f))}if(o==="application/ld+json")return await s.json();if(s.headers.has("Link")){let f;if(s.headers.forEach((u,l)=>{if(l==="link"){const d=(0,e.parse)(u);for(const c of d.get("type","application/ld+json"))if(c.rel==="alternate"){if(f)throw new Error("Multiple JSON-LD alternate links were found on "+i);f=(0,r.resolve)(c.uri,i)}}}),f)return this.load(f)}throw new t.ErrorCoded(`Unsupported JSON-LD media type ${o}`,t.ERROR_CODES.LOADING_DOCUMENT_FAILED)}else throw new Error(s.statusText||`Status code: ${s.status}`)}};return Nu.FetchDocumentLoader=n,Nu}var Jg={},Pu={},hO;function Yg(){if(hO)return Pu;hO=1,Object.defineProperty(Pu,"__esModule",{value:!0}),Pu.Util=void 0;let t=class un{static isCompactIri(r){return r.indexOf(":")>0&&!(r&&r[0]==="#")}static getPrefix(r,n){if(r&&r[0]==="#")return null;const a=r.indexOf(":");if(a>=0){if(r.length>a+1&&r.charAt(a+1)==="/"&&r.charAt(a+2)==="/")return null;const i=r.substr(0,a);if(i==="_")return null;if(n[i])return i}return null}static getContextValueId(r){if(r===null||typeof r=="string")return r;const n=r["@id"];return n||null}static isSimpleTermDefinitionPrefix(r,n){return!un.isPotentialKeyword(r)&&(n.allowPrefixNonGenDelims||typeof r=="string"&&(r[0]==="_"||un.isPrefixIriEndingWithGenDelim(r)))}static isPotentialKeyword(r){return typeof r=="string"&&un.KEYWORD_REGEX.test(r)}static isPrefixIriEndingWithGenDelim(r){return un.ENDS_WITH_GEN_DELIM.test(r)}static isPrefixValue(r){return r&&(typeof r=="string"||r&&typeof r=="object")}static isValidIri(r){return!!(r&&un.IRI_REGEX.test(r))}static isValidIriWeak(r){return!!r&&r[0]!==":"&&un.IRI_REGEX_WEAK.test(r)}static isValidKeyword(r){return un.VALID_KEYWORDS[r]}static isTermProtected(r,n){const a=r[n];return typeof a!="string"&&a&&a["@protected"]}static hasProtectedTerms(r){for(const n of Object.keys(r))if(un.isTermProtected(r,n))return!0;return!1}static isReservedInternalKeyword(r){return r.startsWith("@__")}static deepEqual(r,n){const a=Object.keys(r),i=Object.keys(n);return a.length!==i.length?!1:a.every(s=>{const o=r[s],f=n[s];return o===f||o!==null&&f!==null&&typeof o=="object"&&typeof f=="object"&&this.deepEqual(o,f)})}};return t.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`#]*(#[^#]*)?$/,t.IRI_REGEX_WEAK=/(?::[^:])|\//,t.KEYWORD_REGEX=/^@[a-z]+$/i,t.ENDS_WITH_GEN_DELIM=/[:/?#\[\]@]$/,t.REGEX_LANGUAGE_TAG=/^[a-zA-Z]+(-[a-zA-Z0-9]+)*$/,t.REGEX_DIRECTION_TAG=/^(ltr)|(rtl)$/,t.VALID_KEYWORDS={"@annotation":!0,"@base":!0,"@container":!0,"@context":!0,"@direction":!0,"@graph":!0,"@id":!0,"@import":!0,"@included":!0,"@index":!0,"@json":!0,"@language":!0,"@list":!0,"@nest":!0,"@none":!0,"@prefix":!0,"@propagate":!0,"@protected":!0,"@reverse":!0,"@set":!0,"@type":!0,"@value":!0,"@version":!0,"@vocab":!0},t.EXPAND_KEYS_BLACKLIST=["@base","@vocab","@language","@version","@direction"],t.ALIAS_DOMAIN_BLACKLIST=["@container","@graph","@id","@index","@list","@nest","@none","@prefix","@reverse","@set","@type","@value","@version"],t.ALIAS_RANGE_BLACKLIST=["@context","@preserve"],t.CONTAINERS=["@list","@set","@index","@language","@graph","@id","@type"],t.CONTAINERS_1_0=["@list","@set","@index"],Pu.Util=t,Pu}var pO;function yO(){return pO||(pO=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultExpandOptions=t.JsonLdContextNormalized=void 0;const e=vr(),r=Ll(),n=Yg();class a{constructor(s){this.contextRaw=s}getContextRaw(){return this.contextRaw}expandTerm(s,o,f=t.defaultExpandOptions){const u=this.contextRaw[s];if(u===null||u&&u["@id"]===null)return null;let l=!0;if(u&&o){const b=n.Util.getContextValueId(u);if(b&&b!==s)if(typeof b!="string"||!n.Util.isValidIri(b)&&!n.Util.isValidKeyword(b))n.Util.isPotentialKeyword(b)||(l=!1);else return b}const d=n.Util.getPrefix(s,this.contextRaw),c=this.contextRaw["@vocab"],h=(!!c||c==="")&&c.indexOf(":")<0,m=this.contextRaw["@base"],_=n.Util.isPotentialKeyword(s);if(d){const b=this.contextRaw[d],y=n.Util.getContextValueId(b);if(y){if(typeof b=="string"||!f.allowPrefixForcing){if(!n.Util.isSimpleTermDefinitionPrefix(y,f))return s}else if(y[0]!=="_"&&!_&&!b["@prefix"]&&!(s in this.contextRaw))return s;return y+s.substr(d.length+1)}}else if(o&&(c||c===""||f.allowVocabRelativeToBase&&m&&h)&&!_&&!n.Util.isCompactIri(s))if(h){if(f.allowVocabRelativeToBase)return(c||m?(0,e.resolve)(c,m):"")+s;throw new r.ErrorCoded(`Relative vocab expansion for term '${s}' with vocab '${c}' is not allowed.`,r.ERROR_CODES.INVALID_VOCAB_MAPPING)}else return c+s;else if(!o&&m&&!_&&!n.Util.isCompactIri(s))return(0,e.resolve)(s,m);if(l)return s;throw new r.ErrorCoded(`Invalid IRI mapping found for context entry '${s}': '${JSON.stringify(u)}'`,r.ERROR_CODES.INVALID_IRI_MAPPING)}compactIri(s,o){if(o&&this.contextRaw["@vocab"]&&s.startsWith(this.contextRaw["@vocab"]))return s.substr(this.contextRaw["@vocab"].length);if(!o&&this.contextRaw["@base"]&&s.startsWith(this.contextRaw["@base"]))return s.substr(this.contextRaw["@base"].length);const f={prefix:"",suffix:s};for(const u in this.contextRaw){const l=this.contextRaw[u];if(l&&!n.Util.isPotentialKeyword(u)){const d=n.Util.getContextValueId(l);if(s.startsWith(d)){const c=s.substr(d.length);if(c)c.length<f.suffix.length&&(f.prefix=u,f.suffix=c);else if(o)return u}}}return f.prefix?f.prefix+":"+f.suffix:s}}t.JsonLdContextNormalized=a,t.defaultExpandOptions={allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}}(Jg)),Jg}var gO;function vM(){if(gO)return Ou;gO=1,Object.defineProperty(Ou,"__esModule",{value:!0}),Ou.ContextParser=void 0,fO();const t=vr(),e=Ll(),r=dO(),n=yO(),a=Yg();let i=class di{constructor(o){o=o||{},this.documentLoader=o.documentLoader||new r.FetchDocumentLoader,this.documentCache={},this.validateContext=!o.skipValidation,this.expandContentTypeToBase=!!o.expandContentTypeToBase,this.remoteContextsDepthLimit=o.remoteContextsDepthLimit||32,this.redirectSchemaOrgHttps="redirectSchemaOrgHttps"in o?!!o.redirectSchemaOrgHttps:!0}static validateLanguage(o,f,u){if(typeof o!="string")throw new e.ErrorCoded(`The value of an '@language' must be a string, got '${JSON.stringify(o)}'`,u);if(!a.Util.REGEX_LANGUAGE_TAG.test(o)){if(f)throw new e.ErrorCoded(`The value of an '@language' must be a valid language tag, got '${JSON.stringify(o)}'`,u);return!1}return!0}static validateDirection(o,f){if(typeof o!="string")throw new e.ErrorCoded(`The value of an '@direction' must be a string, got '${JSON.stringify(o)}'`,e.ERROR_CODES.INVALID_BASE_DIRECTION);if(!a.Util.REGEX_DIRECTION_TAG.test(o)){if(f)throw new e.ErrorCoded(`The value of an '@direction' must be 'ltr' or 'rtl', got '${JSON.stringify(o)}'`,e.ERROR_CODES.INVALID_BASE_DIRECTION);return!1}return!0}idifyReverseTerms(o){for(const f of Object.keys(o)){let u=o[f];if(u&&typeof u=="object"&&u["@reverse"]&&!u["@id"]){if(typeof u["@reverse"]!="string"||a.Util.isValidKeyword(u["@reverse"]))throw new e.ErrorCoded(`Invalid @reverse value, must be absolute IRI or blank node: '${u["@reverse"]}'`,e.ERROR_CODES.INVALID_IRI_MAPPING);u=o[f]=Object.assign(Object.assign({},u),{"@id":u["@reverse"]}),u["@id"]=u["@reverse"],a.Util.isPotentialKeyword(u["@reverse"])?delete u["@reverse"]:u["@reverse"]=!0}}return o}expandPrefixedTerms(o,f,u){const l=o.getContextRaw();for(const d of u||Object.keys(l))if(a.Util.EXPAND_KEYS_BLACKLIST.indexOf(d)<0&&!a.Util.isReservedInternalKeyword(d)){const c=l[d];if(a.Util.isPotentialKeyword(d)&&a.Util.ALIAS_DOMAIN_BLACKLIST.indexOf(d)>=0&&(d!=="@type"||typeof l[d]=="object"&&!(l[d]["@protected"]||l[d]["@container"]==="@set")))throw new e.ErrorCoded(`Keywords can not be aliased to something else.
Tried mapping ${d} to ${JSON.stringify(c)}`,e.ERROR_CODES.KEYWORD_REDEFINITION);if(a.Util.ALIAS_RANGE_BLACKLIST.indexOf(a.Util.getContextValueId(c))>=0)throw new e.ErrorCoded(`Aliasing to certain keywords is not allowed.
Tried mapping ${d} to ${JSON.stringify(c)}`,e.ERROR_CODES.INVALID_KEYWORD_ALIAS);if(c&&a.Util.isPotentialKeyword(a.Util.getContextValueId(c))&&c["@prefix"]===!0)throw new e.ErrorCoded(`Tried to use keyword aliases as prefix: '${d}': '${JSON.stringify(c)}'`,e.ERROR_CODES.INVALID_TERM_DEFINITION);for(;a.Util.isPrefixValue(l[d]);){const h=l[d];let m=!1;if(typeof h=="string")l[d]=o.expandTerm(h,!0),m=m||h!==l[d];else{const _=h["@id"],b=h["@type"],y=!("@prefix"in h)||a.Util.isValidIri(d);if("@id"in h)_!=null&&typeof _=="string"&&(l[d]=Object.assign(Object.assign({},l[d]),{"@id":o.expandTerm(_,!0)}),m=m||_!==l[d]["@id"]);else if(!a.Util.isPotentialKeyword(d)&&y){const p=o.expandTerm(d,!0);p!==d&&(l[d]=Object.assign(Object.assign({},l[d]),{"@id":p}),m=!0)}if(b&&typeof b=="string"&&b!=="@vocab"&&(!h["@container"]||!h["@container"]["@type"])&&y){let p=o.expandTerm(b,!0);f&&b===p&&(p=o.expandTerm(b,!1)),p!==b&&(m=!0,l[d]=Object.assign(Object.assign({},l[d]),{"@type":p}))}}if(!m)break}}}normalize(o,{processingMode:f,normalizeLanguageTags:u}){if(u||f===1)for(const l of Object.keys(o))if(l==="@language"&&typeof o[l]=="string")o[l]=o[l].toLowerCase();else{const d=o[l];if(d&&typeof d=="object"&&typeof d["@language"]=="string"){const c=d["@language"].toLowerCase();c!==d["@language"]&&(o[l]=Object.assign(Object.assign({},d),{"@language":c}))}}}containersToHash(o){for(const f of Object.keys(o)){const u=o[f];if(u&&typeof u=="object"){if(typeof u["@container"]=="string")o[f]=Object.assign(Object.assign({},u),{"@container":{[u["@container"]]:!0}});else if(Array.isArray(u["@container"])){const l={};for(const d of u["@container"])l[d]=!0;o[f]=Object.assign(Object.assign({},u),{"@container":l})}}}}applyScopedProtected(o,{processingMode:f},u){if(f&&f>=1.1&&o["@protected"]){for(const l of Object.keys(o))if(!a.Util.isReservedInternalKeyword(l)&&!a.Util.isPotentialKeyword(l)&&!a.Util.isTermProtected(o,l)){const d=o[l];d&&typeof d=="object"?"@protected"in o[l]||(o[l]=Object.assign(Object.assign({},o[l]),{"@protected":!0})):(o[l]={"@id":d,"@protected":!0},a.Util.isSimpleTermDefinitionPrefix(d,u)&&(o[l]=Object.assign(Object.assign({},o[l]),{"@prefix":!0})))}delete o["@protected"]}}validateKeywordRedefinitions(o,f,u,l){for(const d of l??Object.keys(f))if(a.Util.isTermProtected(o,d)&&(typeof f[d]=="string"?f[d]={"@id":f[d],"@protected":!0}:f[d]=Object.assign(Object.assign({},f[d]),{"@protected":!0}),!a.Util.deepEqual(o[d],f[d])))throw new e.ErrorCoded(`Attempted to override the protected keyword ${d} from ${JSON.stringify(a.Util.getContextValueId(o[d]))} to ${JSON.stringify(a.Util.getContextValueId(f[d]))}`,e.ERROR_CODES.PROTECTED_TERM_REDEFINITION)}validate(o,{processingMode:f}){for(const u of Object.keys(o)){if(a.Util.isReservedInternalKeyword(u))continue;if(u==="")throw new e.ErrorCoded(`The empty term is not allowed, got: '${u}': '${JSON.stringify(o[u])}'`,e.ERROR_CODES.INVALID_TERM_DEFINITION);const l=o[u],d=typeof l;if(a.Util.isPotentialKeyword(u)){switch(u.substr(1)){case"vocab":if(l!==null&&d!=="string")throw new e.ErrorCoded(`Found an invalid @vocab IRI: ${l}`,e.ERROR_CODES.INVALID_VOCAB_MAPPING);break;case"base":if(l!==null&&d!=="string")throw new e.ErrorCoded(`Found an invalid @base IRI: ${o[u]}`,e.ERROR_CODES.INVALID_BASE_IRI);break;case"language":l!==null&&di.validateLanguage(l,!0,e.ERROR_CODES.INVALID_DEFAULT_LANGUAGE);break;case"version":if(l!==null&&d!=="number")throw new e.ErrorCoded(`Found an invalid @version number: ${l}`,e.ERROR_CODES.INVALID_VERSION_VALUE);break;case"direction":l!==null&&di.validateDirection(l,!0);break;case"propagate":if(f===1)throw new e.ErrorCoded(`Found an illegal @propagate keyword: ${l}`,e.ERROR_CODES.INVALID_CONTEXT_ENTRY);if(l!==null&&d!=="boolean")throw new e.ErrorCoded(`Found an invalid @propagate value: ${l}`,e.ERROR_CODES.INVALID_PROPAGATE_VALUE);break}if(a.Util.isValidKeyword(u)&&a.Util.isValidKeyword(a.Util.getContextValueId(l)))throw new e.ErrorCoded(`Illegal keyword alias in term value, found: '${u}': '${a.Util.getContextValueId(l)}'`,e.ERROR_CODES.KEYWORD_REDEFINITION);continue}if(l!==null)switch(d){case"string":if(a.Util.getPrefix(l,o)===u)throw new e.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${u}': '${JSON.stringify(l)}'`,e.ERROR_CODES.CYCLIC_IRI_MAPPING);if(a.Util.isValidIriWeak(u)){if(l==="@type")throw new e.ErrorCoded(`IRIs can not be mapped to @type, found: '${u}': '${l}'`,e.ERROR_CODES.INVALID_IRI_MAPPING);if(a.Util.isValidIri(l)&&l!==new n.JsonLdContextNormalized(o).expandTerm(u))throw new e.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${u}': '${l}'`,e.ERROR_CODES.INVALID_IRI_MAPPING)}break;case"object":if(!a.Util.isCompactIri(u)&&!("@id"in l)&&(l["@type"]==="@id"?!o["@base"]:!o["@vocab"]))throw new e.ErrorCoded(`Missing @id in context entry: '${u}': '${JSON.stringify(l)}'`,e.ERROR_CODES.INVALID_IRI_MAPPING);for(const c of Object.keys(l)){const h=l[c];if(h)switch(c){case"@id":if(a.Util.isValidKeyword(h)&&h!=="@type"&&h!=="@id"&&h!=="@graph"&&h!=="@nest")throw new e.ErrorCoded(`Illegal keyword alias in term value, found: '${u}': '${JSON.stringify(l)}'`,e.ERROR_CODES.INVALID_IRI_MAPPING);if(a.Util.isValidIriWeak(u)){if(h==="@type")throw new e.ErrorCoded(`IRIs can not be mapped to @type, found: '${u}': '${JSON.stringify(l)}'`,e.ERROR_CODES.INVALID_IRI_MAPPING);if(a.Util.isValidIri(h)&&h!==new n.JsonLdContextNormalized(o).expandTerm(u))throw new e.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${u}': '${JSON.stringify(l)}'`,e.ERROR_CODES.INVALID_IRI_MAPPING)}if(typeof h!="string")throw new e.ErrorCoded(`Detected non-string @id in context entry: '${u}': '${JSON.stringify(l)}'`,e.ERROR_CODES.INVALID_IRI_MAPPING);if(a.Util.getPrefix(h,o)===u)throw new e.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${u}': '${JSON.stringify(l)}'`,e.ERROR_CODES.CYCLIC_IRI_MAPPING);break;case"@type":if(l["@container"]==="@type"&&h!=="@id"&&h!=="@vocab")throw new e.ErrorCoded(`@container: @type only allows @type: @id or @vocab, but got: '${u}': '${h}'`,e.ERROR_CODES.INVALID_TYPE_MAPPING);if(typeof h!="string")throw new e.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(d)}'`,e.ERROR_CODES.INVALID_TYPE_MAPPING);if(h!=="@id"&&h!=="@vocab"&&(f===1||h!=="@json")&&(f===1||h!=="@none")&&(h[0]==="_"||!a.Util.isValidIri(h)))throw new e.ErrorCoded(`A context @type must be an absolute IRI, found: '${u}': '${h}'`,e.ERROR_CODES.INVALID_TYPE_MAPPING);break;case"@reverse":if(typeof h=="string"&&l["@id"]&&l["@id"]!==h)throw new e.ErrorCoded(`Found non-matching @id and @reverse term values in '${u}':'${h}' and '${l["@id"]}'`,e.ERROR_CODES.INVALID_REVERSE_PROPERTY);if("@nest"in l)throw new e.ErrorCoded(`@nest is not allowed in the reverse property '${u}'`,e.ERROR_CODES.INVALID_REVERSE_PROPERTY);break;case"@container":if(f===1&&(Object.keys(h).length>1||a.Util.CONTAINERS_1_0.indexOf(Object.keys(h)[0])<0))throw new e.ErrorCoded(`Invalid term @container for '${u}' ('${Object.keys(h)}') in 1.0, must be only one of ${a.Util.CONTAINERS_1_0.join(", ")}`,e.ERROR_CODES.INVALID_CONTAINER_MAPPING);for(const m of Object.keys(h)){if(m==="@list"&&l["@reverse"])throw new e.ErrorCoded(`Term value can not be @container: @list and @reverse at the same time on '${u}'`,e.ERROR_CODES.INVALID_REVERSE_PROPERTY);if(a.Util.CONTAINERS.indexOf(m)<0)throw new e.ErrorCoded(`Invalid term @container for '${u}' ('${m}'), must be one of ${a.Util.CONTAINERS.join(", ")}`,e.ERROR_CODES.INVALID_CONTAINER_MAPPING)}break;case"@language":di.validateLanguage(h,!0,e.ERROR_CODES.INVALID_LANGUAGE_MAPPING);break;case"@direction":di.validateDirection(h,!0);break;case"@prefix":if(h!==null&&typeof h!="boolean")throw new e.ErrorCoded(`Found an invalid term @prefix boolean in: '${u}': '${JSON.stringify(l)}'`,e.ERROR_CODES.INVALID_PREFIX_VALUE);if(!("@id"in l)&&!a.Util.isValidIri(u))throw new e.ErrorCoded(`Invalid @prefix definition for '${u}' ('${JSON.stringify(l)}'`,e.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@index":if(f===1||!l["@container"]||!l["@container"]["@index"])throw new e.ErrorCoded(`Attempt to add illegal key to value object: '${u}': '${JSON.stringify(l)}'`,e.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@nest":if(a.Util.isPotentialKeyword(h)&&h!=="@nest")throw new e.ErrorCoded(`Found an invalid term @nest value in: '${u}': '${JSON.stringify(l)}'`,e.ERROR_CODES.INVALID_NEST_VALUE)}}break;default:throw new e.ErrorCoded(`Found an invalid term value: '${u}': '${l}'`,e.ERROR_CODES.INVALID_TERM_DEFINITION)}}}applyBaseEntry(o,f,u){return typeof o=="string"||(u&&!("@base"in o)&&f.parentContext&&typeof f.parentContext=="object"&&"@base"in f.parentContext&&(o["@base"]=f.parentContext["@base"],f.parentContext["@__baseDocument"]&&(o["@__baseDocument"]=!0)),f.baseIRI&&!f.external&&("@base"in o?o["@base"]!==null&&typeof o["@base"]=="string"&&!a.Util.isValidIri(o["@base"])&&(o["@base"]=(0,t.resolve)(o["@base"],f.parentContext&&f.parentContext["@base"]||f.baseIRI)):(o["@base"]=f.baseIRI,o["@__baseDocument"]=!0))),o}normalizeContextIri(o,f){if(!a.Util.isValidIri(o))try{o=(0,t.resolve)(o,f)}catch{throw new Error(`Invalid context IRI: ${o}`)}return this.redirectSchemaOrgHttps&&o.startsWith("http://schema.org")&&(o="https://schema.org/"),o}async parseInnerContexts(o,f,u){for(const l of u??Object.keys(o)){const d=o[l];if(d&&typeof d=="object"&&"@context"in d&&d["@context"]!==null&&!f.ignoreScopedContexts){if(this.validateContext)try{const c=Object.assign(Object.assign({},o),{[l]:Object.assign({},o[l])});delete c[l]["@context"],await this.parse(d["@context"],Object.assign(Object.assign({},f),{external:!1,parentContext:c,ignoreProtection:!0,ignoreRemoteScopedContexts:!0,ignoreScopedContexts:!0}))}catch(c){throw new e.ErrorCoded(c.message,e.ERROR_CODES.INVALID_SCOPED_CONTEXT)}o[l]=Object.assign(Object.assign({},d),{"@context":(await this.parse(d["@context"],Object.assign(Object.assign({},f),{external:!1,minimalProcessing:!0,ignoreRemoteScopedContexts:!0,parentContext:o}))).getContextRaw()})}}return o}async parse(o,f={},u={}){const{baseIRI:l,parentContext:d,external:c,processingMode:h=di.DEFAULT_PROCESSING_MODE,normalizeLanguageTags:m,ignoreProtection:_,minimalProcessing:b}=f,y=f.remoteContexts||{};if(Object.keys(y).length>=this.remoteContextsDepthLimit)throw new e.ErrorCoded("Detected an overflow in remote context inclusions: "+Object.keys(y),e.ERROR_CODES.CONTEXT_OVERFLOW);if(o==null){if(!_&&d&&a.Util.hasProtectedTerms(d))throw new e.ErrorCoded("Illegal context nullification when terms are protected",e.ERROR_CODES.INVALID_CONTEXT_NULLIFICATION);return new n.JsonLdContextNormalized(this.applyBaseEntry({},f,!1))}else if(typeof o=="string"){const p=this.normalizeContextIri(o,l),g=this.getOverriddenLoad(p,f);if(g)return new n.JsonLdContextNormalized(g);const w=await this.parse(await this.load(p),Object.assign(Object.assign({},f),{baseIRI:p,external:!0,remoteContexts:Object.assign(Object.assign({},y),{[p]:!0})}));return this.applyBaseEntry(w.getContextRaw(),f,!0),w}else if(Array.isArray(o)){const p=[],g=await Promise.all(o.map((S,I)=>{if(typeof S=="string"){const O=this.normalizeContextIri(S,l);p[I]=O;const M=this.getOverriddenLoad(O,f);return M||this.load(O)}else return S}));if(b)return new n.JsonLdContextNormalized(g);const w=await g.reduce((S,I,O)=>S.then(M=>this.parse(I,Object.assign(Object.assign({},f),{baseIRI:p[O]||f.baseIRI,external:!!p[O]||f.external,parentContext:M.getContextRaw(),remoteContexts:p[O]?Object.assign(Object.assign({},y),{[p[O]]:!0}):y}),{skipValidation:O<g.length-1})),Promise.resolve(new n.JsonLdContextNormalized(d||{})));return this.applyBaseEntry(w.getContextRaw(),f,!0),w}else if(typeof o=="object"){if("@context"in o)return await this.parse(o["@context"],f);if(o=Object.assign({},o),c&&delete o["@base"],this.applyBaseEntry(o,f,!0),this.containersToHash(o),b)return new n.JsonLdContextNormalized(o);let p={};if("@import"in o)if(h>=1.1){if(typeof o["@import"]!="string")throw new e.ErrorCoded("An @import value must be a string, but got "+typeof o["@import"],e.ERROR_CODES.INVALID_IMPORT_VALUE);p=await this.loadImportContext(this.normalizeContextIri(o["@import"],l)),delete o["@import"]}else throw new e.ErrorCoded("Context importing is not supported in JSON-LD 1.0",e.ERROR_CODES.INVALID_CONTEXT_ENTRY);this.applyScopedProtected(p,{processingMode:h},n.defaultExpandOptions);const g=Object.assign(p,o);this.idifyReverseTerms(g),this.normalize(g,{processingMode:h,normalizeLanguageTags:m}),this.applyScopedProtected(g,{processingMode:h},n.defaultExpandOptions);const w=Object.keys(g),S=[];if(typeof d=="object")for(const O in d)O in g?S.push(O):g[O]=d[O];await this.parseInnerContexts(g,f,w);const I=new n.JsonLdContextNormalized(g);return(g&&g["@version"]||di.DEFAULT_PROCESSING_MODE)>=1.1&&(o["@vocab"]&&typeof o["@vocab"]=="string"||o["@vocab"]==="")&&(d&&"@vocab"in d&&o["@vocab"].indexOf(":")<0?g["@vocab"]=d["@vocab"]+o["@vocab"]:(a.Util.isCompactIri(o["@vocab"])||o["@vocab"]in g)&&(g["@vocab"]=I.expandTerm(o["@vocab"],!0))),this.expandPrefixedTerms(I,this.expandContentTypeToBase,w),!_&&d&&h>=1.1&&this.validateKeywordRedefinitions(d,g,n.defaultExpandOptions,S),this.validateContext&&!u.skipValidation&&this.validate(g,{processingMode:h}),I}else throw new e.ErrorCoded(`Tried parsing a context that is not a string, array or object, but got ${o}`,e.ERROR_CODES.INVALID_LOCAL_CONTEXT)}async load(o){const f=this.documentCache[o];if(f)return f;let u;try{u=await this.documentLoader.load(o)}catch(l){throw new e.ErrorCoded(`Failed to load remote context ${o}: ${l.message}`,e.ERROR_CODES.LOADING_REMOTE_CONTEXT_FAILED)}if(!("@context"in u))throw new e.ErrorCoded(`Missing @context in remote context at ${o}`,e.ERROR_CODES.INVALID_REMOTE_CONTEXT);return this.documentCache[o]=u["@context"]}getOverriddenLoad(o,f){if(o in(f.remoteContexts||{})){if(f.ignoreRemoteScopedContexts)return o;throw new e.ErrorCoded("Detected a cyclic context inclusion of "+o,e.ERROR_CODES.RECURSIVE_CONTEXT_INCLUSION)}return null}async loadImportContext(o){let f=await this.load(o);if(typeof f!="object"||Array.isArray(f))throw new e.ErrorCoded("An imported context must be a single object: "+o,e.ERROR_CODES.INVALID_REMOTE_CONTEXT);if("@import"in f)throw new e.ErrorCoded("An imported context can not import another context: "+o,e.ERROR_CODES.INVALID_CONTEXT_ENTRY);return f=Object.assign({},f),this.containersToHash(f),f}};return i.DEFAULT_PROCESSING_MODE=1.1,Ou.ContextParser=i,Ou}var eb={},bO;function wM(){return bO||(bO=1,Object.defineProperty(eb,"__esModule",{value:!0})),eb}var tb={},mO;function EM(){return mO||(mO=1,Object.defineProperty(tb,"__esModule",{value:!0})),tb}var _O;function SM(){return _O||(_O=1,function(t){var e=Au.__createBinding||(Object.create?function(n,a,i,s){s===void 0&&(s=i);var o=Object.getOwnPropertyDescriptor(a,i);(!o||("get"in o?!a.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,s,o)}:function(n,a,i,s){s===void 0&&(s=i),n[s]=a[i]}),r=Au.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&e(a,n,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(vM(),t),r(Ll(),t),r(dO(),t),r(wM(),t),r(EM(),t),r(yO(),t),r(Yg(),t)}(Au)),Au}var vO;function wO(){if(vO)return Iu;vO=1,Object.defineProperty(Iu,"__esModule",{value:!0}),Iu.DocumentLoaderMediated=void 0;const t=Rl(),e=xl(),r=SM();let n=class l3 extends r.FetchDocumentLoader{constructor(i,s){super(l3.createFetcher(i,s)),this.mediatorHttp=i,this.context=s}static createFetcher(i,s){return async(o,f)=>{const u=await i.mediate({input:o,init:f,context:s});return u.json=async()=>JSON.parse(await(0,e.stringify)(t.ActorHttp.toNodeReadable(u.body))),u}}};return Iu.DocumentLoaderMediated=n,Iu}var EO;function TM(){if(EO)return Js;EO=1,Object.defineProperty(Js,"__esModule",{value:!0}),Js.ActorRdfParseJsonLd=void 0;const t=Xi(),e=Or(),r=gt(),n=_M(),a=wO();let i=class extends t.ActorRdfParseFixedMediaTypes{constructor(o){super(o)}async testHandle(o,f,u){return u.has(e.KeysRdfParseHtmlScript.processingHtmlScript)&&f!=="application/ld+json"?(0,r.failTest)("JSON-LD in script tags can only have media type 'application/ld+json'"):!f||!(f in this.mediaTypePriorities||f.endsWith("+json"))?(0,r.failTest)(`Unrecognized media type: ${f}`):await this.testHandleChecked(o)}async runHandle(o,f,u){var h;const l=o.context.getSafe(e.KeysInitQuery.dataFactory);return{data:n.JsonLdParser.fromHttpResponse(((h=o.metadata)==null?void 0:h.baseIRI)??"",f,o.headers,{dataFactory:l,documentLoader:u.get(e.KeysRdfParseJsonLd.documentLoader)??new a.DocumentLoaderMediated(this.mediatorHttp,u),strictValues:u.get(e.KeysRdfParseJsonLd.strictValues),...u.get(e.KeysRdfParseJsonLd.parserOptions)}).import(o.data)}}};return Js.ActorRdfParseJsonLd=i,Js}var SO;function xM(){return SO||(SO=1,function(t){var e=Zs.__createBinding||(Object.create?function(n,a,i,s){s===void 0&&(s=i);var o=Object.getOwnPropertyDescriptor(a,i);(!o||("get"in o?!a.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,s,o)}:function(n,a,i,s){s===void 0&&(s=i),n[s]=a[i]}),r=Zs.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&e(a,n,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(TM(),t),r(wO(),t)}(Zs)),Zs}var Du={},Cu={},Lu={},Fu={},TO;function RM(){if(TO)return Fu;TO=1,Object.defineProperty(Fu,"__esModule",{value:!0}),Fu.ActorDereferenceRdf=void 0;const t=bg();let e=class extends t.ActorDereferenceParse{constructor(n){super(n)}};return Fu.ActorDereferenceRdf=e,Fu}var xO;function IM(){return xO||(xO=1,function(t){var e=Lu.__createBinding||(Object.create?function(n,a,i,s){s===void 0&&(s=i);var o=Object.getOwnPropertyDescriptor(a,i);(!o||("get"in o?!a.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,s,o)}:function(n,a,i,s){s===void 0&&(s=i),n[s]=a[i]}),r=Lu.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&e(a,n,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(RM(),t)}(Lu)),Lu}var RO;function AM(){if(RO)return Cu;RO=1,Object.defineProperty(Cu,"__esModule",{value:!0}),Cu.ActorDereferenceRdfParse=void 0;const t=IM();let e=class extends t.ActorDereferenceRdf{constructor(n){super(n)}async getMetadata(n){return{baseIRI:n.url}}};return Cu.ActorDereferenceRdfParse=e,Cu}var IO;function OM(){return IO||(IO=1,function(t){var e=Du.__createBinding||(Object.create?function(n,a,i,s){s===void 0&&(s=i);var o=Object.getOwnPropertyDescriptor(a,i);(!o||("get"in o?!a.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,s,o)}:function(n,a,i,s){s===void 0&&(s=i),n[s]=a[i]}),r=Du.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&e(a,n,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(AM(),t)}(Du)),Du}var Mu={},ju={},qu={},AO;function NM(){if(AO)return qu;AO=1,Object.defineProperty(qu,"__esModule",{value:!0}),qu.HtmlScriptListener=void 0;const t=Or(),e=Tr(),r=vr();let n=class Xu{constructor(i,s,o,f,u,l,d,c){this.textChunksJsonLd=[],this.endBarrier=1,this.passedScripts=0,this.isFinalJsonLdProcessing=!1,this.mediatorRdfParseHandle=i,this.cbQuad=s,this.cbError=o,this.cbEnd=f,this.supportedTypes=u,this.context=l.set(t.KeysRdfParseHtmlScript.processingHtmlScript,!0),this.baseIRI=d,this.headers=c,this.onlyFirstScript=l.get(t.KeysRdfParseHtmlScript.extractAllScripts)===!1;const h=this.baseIRI.indexOf("#");this.targetScriptId=h>0?this.baseIRI.slice(h+1,this.baseIRI.length):null}static newErrorCoded(i,s){const o=new Error(i);return o.code=s,o}onEnd(){--this.endBarrier===0&&(this.textChunksJsonLd.length>0?(this.handleMediaType="application/ld+json",this.textChunks=this.textChunksJsonLd,this.textChunks.push("]"),this.textChunksJsonLd=[],this.isFinalJsonLdProcessing=!0,this.endBarrier++,this.onTagClose()):(this.passedScripts===0&&this.targetScriptId&&this.cbError(Xu.newErrorCoded(`Failed to find targeted script id "${this.targetScriptId}"`,"loading document failed")),this.cbEnd()),this.isFinalJsonLdProcessing=!1)}onTagClose(){if(this.handleMediaType)if(this.requiresCustomJsonLdHandling(this.handleMediaType)&&!this.isFinalJsonLdProcessing)this.handleMediaType=void 0,this.textChunks=void 0,this.onEnd();else{const i=new e.Readable({objectMode:!0});i._read=()=>{};const s=this.textChunks,o={context:this.context,handle:{metadata:{baseIRI:this.baseIRI},data:i,headers:this.headers,context:this.context},handleMediaType:this.handleMediaType};this.mediatorRdfParseHandle.mediate(o).then(({handle:f})=>{f.data.on("error",u=>this.cbError(Xu.newErrorCoded(u.message,"invalid script element"))).on("data",this.cbQuad).on("end",()=>this.onEnd());for(const u of s)i.push(u);i.push(null)}).catch(f=>{this.targetScriptId?this.cbError(Xu.newErrorCoded(f.message,"loading document failed")):this.onEnd()}),this.handleMediaType=void 0,this.textChunks=void 0}}onTagOpen(i,s){i==="base"&&s.href&&(this.baseIRI=(0,r.resolve)(s.href,this.baseIRI)),i==="script"&&(!this.targetScriptId||s.id===this.targetScriptId)?this.supportedTypes[s.type]?this.onlyFirstScript&&this.passedScripts>0?this.handleMediaType=void 0:(this.passedScripts++,this.handleMediaType=s.type,this.endBarrier++,this.requiresCustomJsonLdHandling(this.handleMediaType)?(this.textChunks=this.textChunksJsonLd,this.textChunks.push(this.textChunks.length===0?"[":",")):this.textChunks=[]):this.targetScriptId&&this.cbError(Xu.newErrorCoded(`Targeted script "${this.targetScriptId}" does not have a supported type`,"loading document failed")):this.handleMediaType=void 0}onText(i){this.handleMediaType&&this.textChunks.push(i)}requiresCustomJsonLdHandling(i){return!this.onlyFirstScript&&!this.targetScriptId&&i==="application/ld+json"}};return qu.HtmlScriptListener=n,qu}var OO;function PM(){if(OO)return ju;OO=1,Object.defineProperty(ju,"__esModule",{value:!0}),ju.ActorRdfParseHtmlScript=void 0;const t=Fg(),e=gt(),r=NM();let n=class extends t.ActorRdfParseHtml{constructor(i){super(i)}async test(i){return(0,e.passTestVoid)()}async run(i){const s=(await this.mediatorRdfParseMediatypes.mediate({context:i.context,mediaTypes:!0})).mediaTypes;return{htmlParseListener:new r.HtmlScriptListener(this.mediatorRdfParseHandle,i.emit,i.error,i.end,s,i.context,i.baseIRI,i.headers)}}};return ju.ActorRdfParseHtmlScript=n,ju}var NO;function DM(){return NO||(NO=1,function(t){var e=Mu.__createBinding||(Object.create?function(n,a,i,s){s===void 0&&(s=i);var o=Object.getOwnPropertyDescriptor(a,i);(!o||("get"in o?!a.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,s,o)}:function(n,a,i,s){s===void 0&&(s=i),n[s]=a[i]}),r=Mu.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&e(a,n,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(PM(),t)}(Mu)),Mu}var Bu={},ku={},ui={},PO;function DO(){if(PO)return ui;PO=1,Object.defineProperty(ui,"__esModule",{value:!0}),ui.ActorDereferenceHttpBase=ui.mediaTypesToAcceptString=void 0;const t=bg(),e=Rl(),r=gt(),n=xl(),a=vr(),i=/^[^ ;]*/u;function s(f,u){const l="*/*;q=0.1",d=[],c=Object.entries(f).map(([m,_])=>({mediaType:m,priority:_})).sort((m,_)=>_.priority===m.priority?m.mediaType.localeCompare(_.mediaType):_.priority-m.priority);let h=c.length-1;for(const{mediaType:m,priority:_}of c){const b=m+(_===1?"":`;q=${_.toFixed(3).replace(/0*$/u,"")}`);if(h+b.length>u){for(;h+l.length>u;){const y=d.pop()??"";h-=y.length+1}d.push(l);break}d.push(b),h+=b.length}return d.length===0?"*/*":d.join(",")}ui.mediaTypesToAcceptString=s;let o=class extends t.ActorDereference{constructor(u){super(u)}async test({url:u}){return/^https?:/u.test(u)?(0,r.passTestVoid)():(0,r.failTest)(`Cannot retrieve ${u} because it is not an HTTP(S) URL.`)}async run(u){var y,p;let l=!0;const d=new Headers(u.headers);d.append("Accept",s(await((y=u.mediaTypes)==null?void 0:y.call(u))??{},this.getMaxAcceptHeaderLength()));let c;const h=Date.now();try{c=await this.mediatorHttp.mediate({context:u.context,init:{headers:d,method:u.method},input:u.url})}catch(g){return this.handleDereferenceErrors(u,g)}const m=(0,a.resolve)(c.url,u.url),_=Date.now()-h;if(c.status!==200){l=!1;const g=c.body?await(0,n.stringify)(e.ActorHttp.toNodeReadable(c.body)):"empty response";if(!u.acceptErrors){const w=new Error(`Could not retrieve ${u.url} (HTTP status ${c.status}):
${g}`);return this.handleDereferenceErrors(u,w,c.headers,_)}}const b=(p=i.exec(c.headers.get("content-type")??""))==null?void 0:p[0];return{url:m,data:l?e.ActorHttp.toNodeReadable(c.body):(0,t.emptyReadable)(),exists:l,requestTime:_,headers:c.headers,mediaType:b==="text/plain"?void 0:b}}};return ui.ActorDereferenceHttpBase=o,ui}var CO;function CM(){if(CO)return ku;CO=1,Object.defineProperty(ku,"__esModule",{value:!0}),ku.ActorDereferenceHttp=void 0;const t=DO();class e extends t.ActorDereferenceHttpBase{getMaxAcceptHeaderLength(){return this.maxAcceptHeaderLengthBrowser}}return ku.ActorDereferenceHttp=e,ku}var LO;function LM(){return LO||(LO=1,function(t){var e=Bu.__createBinding||(Object.create?function(n,a,i,s){s===void 0&&(s=i);var o=Object.getOwnPropertyDescriptor(a,i);(!o||("get"in o?!a.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,s,o)}:function(n,a,i,s){s===void 0&&(s=i),n[s]=a[i]}),r=Bu.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&e(a,n,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(CM(),t),r(DO(),t)}(Bu)),Bu}var $u={},Uu={},FO;function FM(){if(FO)return Uu;FO=1,Object.defineProperty(Uu,"__esModule",{value:!0}),Uu.ActorHttpProxy=void 0;const t=Rl(),e=Or(),r=gt();let n=class extends t.ActorHttp{constructor(i){super(i)}async test(i){const s=i.context.get(e.KeysHttpProxy.httpProxyHandler);return s?await s.getProxy(i)?(0,r.passTest)({time:Number.POSITIVE_INFINITY}):(0,r.failTest)(`Actor ${this.name} could not determine a proxy for the given request.`):(0,r.failTest)(`Actor ${this.name} could not find a proxy handler in the context.`)}async run(i){const s=typeof i.input=="string"?i.input:i.input.url,o=i.context.get(e.KeysHttpProxy.httpProxyHandler),f=await this.mediatorHttp.mediate({...await o.getProxy(i),context:i.context.delete(e.KeysHttpProxy.httpProxyHandler)});return Object.defineProperty(f,"url",{configurable:!0,enumerable:!0,get:()=>f.headers.get("x-final-url")??s}),f}};return Uu.ActorHttpProxy=n,Uu}var Hu={},MO;function MM(){if(MO)return Hu;MO=1,Object.defineProperty(Hu,"__esModule",{value:!0}),Hu.ProxyHandlerStatic=void 0;let t=class{constructor(r){this.prefixUrl=r}async getProxy(r){return{init:r.init,input:this.modifyInput(r.input)}}modifyInput(r){return typeof r=="string"?this.prefixUrl+r:new Request(this.prefixUrl+r.url,r)}};return Hu.ProxyHandlerStatic=t,Hu}var jO;function jM(){return jO||(jO=1,function(t){var e=$u.__createBinding||(Object.create?function(n,a,i,s){s===void 0&&(s=i);var o=Object.getOwnPropertyDescriptor(a,i);(!o||("get"in o?!a.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,s,o)}:function(n,a,i,s){s===void 0&&(s=i),n[s]=a[i]}),r=$u.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&e(a,n,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(FM(),t),r(MM(),t)}($u)),$u}var rb,qO;function qM(){return qO||(qO=1,rb=function(t){const e=new(gt()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-dereference-rdf/^4.0.0/components/ActorDereferenceRdf.jsonld#ActorDereferenceRdf_default_bus"}),r=new(gt()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-dereference/^4.0.0/components/ActorDereference.jsonld#ActorDereference_default_bus"}),n=new(gt()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http/^4.0.0/components/ActorHttp.jsonld#ActorHttp_default_bus"}),a=new(gt()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-parse/^4.0.0/components/ActorRdfParse.jsonld#ActorRdfParse_default_bus"}),i=new(gt()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-parse-html/^4.0.0/components/ActorRdfParseHtml.jsonld#ActorRdfParseHtml_default_bus"}),s=new(yg()).MediatorRace({name:"urn:comunica:default:dereference-rdf/mediators#main",bus:e}),o=new(L6()).ActorDereferenceFallback({name:"urn:comunica:default:dereference/actors#fallback",bus:r,busFailMessage:"Dereferencing failed: none of the configured actors were able to handle ${action.url}"}),f=new(yg()).MediatorRace({name:"urn:comunica:default:dereference/mediators#main",bus:r}),u=new(H6()).ActorHttpFetch({agentOptions:{keepAlive:!0,maxSockets:5},name:"urn:comunica:default:http/actors#fetch",bus:n,busFailMessage:"HTTP request failed: none of the configured actors were able to handle ${action.input}"}),l=new(G6()).MediatorNumber({field:"time",type:"min",ignoreFailures:!0,name:"urn:comunica:default:http/mediators#main",bus:n}),d=new(X6()).ActorRdfParseN3({mediaTypePriorities:{"application/n-quads":1,"application/n-triples":.8,"application/trig":.95,"text/n3":.35,"text/turtle":.6},mediaTypeFormats:{"application/n-quads":"http://www.w3.org/ns/formats/N-Quads","application/n-triples":"http://www.w3.org/ns/formats/N-Triples","application/trig":"http://www.w3.org/ns/formats/TriG","text/n3":"http://www.w3.org/ns/formats/N3","text/turtle":"http://www.w3.org/ns/formats/Turtle"},priorityScale:1,name:"urn:comunica:default:rdf-parse/actors#n3",bus:a,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),c=new(uF()).ActorRdfParseRdfXml({mediaTypePriorities:{"application/rdf+xml":1},mediaTypeFormats:{"application/rdf+xml":"http://www.w3.org/ns/formats/RDF_XML"},priorityScale:.5,name:"urn:comunica:default:rdf-parse/actors#rdfxml",bus:a,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),h=new(IF()).ActorRdfParseXmlRdfa({mediaTypePriorities:{"application/xml":1,"image/svg+xml":1,"text/xml":1},mediaTypeFormats:{"application/xml":"http://www.w3.org/ns/formats/RDFa","image/svg+xml":"http://www.w3.org/ns/formats/RDFa","text/xml":"http://www.w3.org/ns/formats/RDFa"},priorityScale:.3,name:"urn:comunica:default:rdf-parse/actors#xmlrdfa",bus:a,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),m=new(DF()).ActorRdfParseShaclc({mediaTypePriorities:{"text/shaclc":1,"text/shaclc-ext":.5},mediaTypeFormats:{"text/shaclc":"http://www.w3.org/ns/formats/Shaclc","text/shaclc-ext":"http://www.w3.org/ns/formats/ShaclcExtended"},priorityScale:.1,name:"urn:comunica:default:rdf-parse/actors#shaclc",bus:a,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),_=new(yg()).MediatorRace({name:"urn:comunica:default:rdf-parse/mediators#parse",bus:a}),b=new(LF()).MediatorCombineUnion({field:"mediaTypes",name:"urn:comunica:default:rdf-parse/mediators#mediaType",bus:a}),y=new(jF()).ActorRdfParseHtml({busRdfParseHtml:i,mediaTypePriorities:{"application/xhtml+xml":.9,"text/html":1},mediaTypeFormats:{"application/xhtml+xml":"http://www.w3.org/ns/formats/HTML","text/html":"http://www.w3.org/ns/formats/HTML"},priorityScale:.2,name:"urn:comunica:default:rdf-parse/actors#html",bus:a,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),p=new(KF()).ActorRdfParseHtmlMicrodata({name:"urn:comunica:default:rdf-parse-html/actors#microdata",bus:i,busFailMessage:"RDF HTML parsing failed: none of the configured parsers were able to parse RDF in HTML"}),g=new(XF()).ActorRdfParseHtmlRdfa({name:"urn:comunica:default:rdf-parse-html/actors#rdfa",bus:i,busFailMessage:"RDF HTML parsing failed: none of the configured parsers were able to parse RDF in HTML"}),w=new(xM()).ActorRdfParseJsonLd({mediatorHttp:l,mediaTypePriorities:{"application/json":.15,"application/ld+json":1},mediaTypeFormats:{"application/json":"http://www.w3.org/ns/formats/JSON-LD","application/ld+json":"http://www.w3.org/ns/formats/JSON-LD"},priorityScale:.9,name:"urn:comunica:default:rdf-parse/actors#jsonld",bus:a,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),S=new(OM()).ActorDereferenceRdfParse({mediatorDereference:f,mediatorParse:_,mediatorParseMediatypes:b,mediaMappings:{htm:"text/html",html:"text/html",json:"application/json",jsonld:"application/ld+json",n3:"text/n3",nq:"application/n-quads",nquads:"application/n-quads",nt:"application/n-triples",ntriples:"application/n-triples",owl:"application/rdf+xml",rdf:"application/rdf+xml",rdfxml:"application/rdf+xml",shaclc:"text/shaclc",shaclce:"text/shaclc-ext",shc:"text/shaclc",shce:"text/shaclc-ext",svg:"image/svg+xml",svgz:"image/svg+xml",trig:"application/trig",ttl:"text/turtle",turtle:"text/turtle",xht:"application/xhtml+xml",xhtml:"application/xhtml+xml",xml:"application/xml"},name:"urn:comunica:default:dereference-rdf/actors#parse",bus:e,busFailMessage:"RDF dereferencing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),I=new(DM()).ActorRdfParseHtmlScript({mediatorRdfParseMediatypes:b,mediatorRdfParseHandle:_,name:"urn:comunica:default:rdf-parse-html/actors#script",bus:i,busFailMessage:"RDF HTML parsing failed: none of the configured parsers were able to parse RDF in HTML"}),O=new(LM()).ActorDereferenceHttp({mediatorHttp:l,maxAcceptHeaderLength:1024,maxAcceptHeaderLengthBrowser:128,name:"urn:comunica:default:dereference/actors#http",bus:r,busFailMessage:"Dereferencing failed: none of the configured actors were able to handle ${action.url}",beforeActors:[o]}),M=new(jM()).ActorHttpProxy({mediatorHttp:l,name:"urn:comunica:default:http/actors#proxy",bus:n,busFailMessage:"HTTP request failed: none of the configured actors were able to handle ${action.input}",beforeActors:[u]});return new(nb()).RdfDereferencer({mediatorDereferenceRdf:s,actors:[O,o,S,M,u,d,w,c,h,y,m,p,g,I]})}),rb}var BO;function nb(){return BO||(BO=1,function(t){var e=co.__createBinding||(Object.create?function(i,s,o,f){f===void 0&&(f=o);var u=Object.getOwnPropertyDescriptor(s,o);(!u||("get"in u?!s.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return s[o]}}),Object.defineProperty(i,f,u)}:function(i,s,o,f){f===void 0&&(f=o),i[f]=s[o]}),r=co.__exportStar||function(i,s){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(s,o)&&e(s,i,o)};Object.defineProperty(t,"__esModule",{value:!0}),t.rdfDereferencer=void 0,r(O6(),t),r(tR(),t);const n=qM(),a=typeof n=="function"?n():void 0;t.rdfDereferencer=a}(co)),co}var ib=nb();let Fl;if(typeof window>"u"){let t;typeof require>"u"?Promise.resolve().then(function(){return Nw}).then(e=>t=e):t=require("fs"),Fl={getItem:e=>t.readFileSync(e,"utf8"),setItem:(e,r)=>{t.writeFileSync(e,r,"utf8")},removeItem:e=>{try{t.unlinkSync(e)}catch{}}}}else Fl={getItem:t=>{const e=localStorage.getItem(t);if(e)return e;throw"Key not found in local storage"},setItem:(t,e)=>{localStorage.setItem(t,e)},removeItem:t=>{localStorage.removeItem(t)}};class BM{build(e,r,n,a){return new kO(n,a)}write(){}}class kM{constructor(e){$e(this,"location");$e(this,"elements");$e(this,"found");this.location=e,this.elements=[],this.found={};try{const r=Fl.getItem(e);this.found=JSON.parse(r)}catch{}}write(){const e={};for(const r of this.elements)e[r.name]=r.serialize(r.state.item);Fl.setItem(this.location,JSON.stringify(e))}build(e,r,n,a){const i=this.elements.find(f=>f.name==e);if(i)return i.state;const s=this.found[e],o=new kO(n,a,s);return this.elements.push({name:e,serialize:r,state:o}),o}}class kO{constructor(e,r,n){$e(this,"item");const a=n?e(n):r();a?this.item=a:this.item=r()}}var Ji={},Dn={},Pr={},$O;function ab(){if($O)return Pr;$O=1,Object.defineProperty(Pr,"__esModule",{value:!0}),Pr.RDFMap=Pr.ShapeTemplate=Pr.ShapeError=Pr.NodeLink=void 0;class t{constructor(i,s){this.pathPattern=i,this.link=s}}Pr.NodeLink=t;class e{constructor(i,s=[]){this.errors=[],this.type=i,this.errors=s}toString(){if(this.errors.length===1)return this.errors[0].toString();{const i=this.type=="and"?" && ":" || ";return"("+this.errors.map(s=>s.toString()).join(i)+")"}}}Pr.ShapeError=e;class r{constructor(){this.requiredPaths=[],this.nodeLinks=[],this.atLeastOneLists=[],this.optionalPaths=[],this.closed=!1}fillPathsAndLinks(i,s){for(let o of this.atLeastOneLists)for(let f of o)i.push(...f.requiredPaths),i.push(...f.optionalPaths),s.push(...f.nodeLinks),f.fillPathsAndLinks(i,s)}invalidAtLeastOneLists(i){const s=new e("and");for(let o of this.atLeastOneLists){const f=new e("or");let u=!1;for(let l of o){const d=l.requiredAreNotPresent(i);if(d)f.errors.push(d);else{u=!0;break}}u||s.errors.push(f)}if(s.errors.length>0)return s}requiredPathsAreNotPresent(i){const s=this.requiredPaths.filter(o=>!o.found(i));if(s.length>0)return new e("and",s)}requiredAreNotPresent(i){const s=this.requiredPathsAreNotPresent(i),o=this.invalidAtLeastOneLists(i);if(s&&o)return new e("and",[...s.errors,...o.errors]);if(s)return s;if(o)return o}}Pr.ShapeTemplate=r;class n{constructor(){this.namedNodes=new Map,this.blankNodes=new Map}set(i,s){i.termType==="NamedNode"&&this.namedNodes.set(i.value,s),i.termType==="BlankNode"&&this.blankNodes.set(i.value,s)}get(i){if(i.termType==="NamedNode")return this.namedNodes.get(i.value);if(i.termType==="BlankNode")return this.blankNodes.get(i.value)}}return Pr.RDFMap=n,Pr}var Ml={exports:{}},ob,UO;function $M(){if(UO)return ob;UO=1;function t(e){n.debug=n,n.default=n,n.coerce=u,n.disable=o,n.enable=i,n.enabled=f,n.humanize=Mv(),n.destroy=l,Object.keys(e).forEach(d=>{n[d]=e[d]}),n.names=[],n.skips=[],n.formatters={};function r(d){let c=0;for(let h=0;h<d.length;h++)c=(c<<5)-c+d.charCodeAt(h),c|=0;return n.colors[Math.abs(c)%n.colors.length]}n.selectColor=r;function n(d){let c,h=null,m,_;function b(...y){if(!b.enabled)return;const p=b,g=Number(new Date),w=g-(c||g);p.diff=w,p.prev=c,p.curr=g,c=g,y[0]=n.coerce(y[0]),typeof y[0]!="string"&&y.unshift("%O");let S=0;y[0]=y[0].replace(/%([a-zA-Z%])/g,(O,M)=>{if(O==="%%")return"%";S++;const D=n.formatters[M];if(typeof D=="function"){const N=y[S];O=D.call(p,N),y.splice(S,1),S--}return O}),n.formatArgs.call(p,y),(p.log||n.log).apply(p,y)}return b.namespace=d,b.useColors=n.useColors(),b.color=n.selectColor(d),b.extend=a,b.destroy=n.destroy,Object.defineProperty(b,"enabled",{enumerable:!0,configurable:!1,get:()=>h!==null?h:(m!==n.namespaces&&(m=n.namespaces,_=n.enabled(d)),_),set:y=>{h=y}}),typeof n.init=="function"&&n.init(b),b}function a(d,c){const h=n(this.namespace+(typeof c>"u"?":":c)+d);return h.log=this.log,h}function i(d){n.save(d),n.namespaces=d,n.names=[],n.skips=[];const c=(typeof d=="string"?d:"").trim().replace(" ",",").split(",").filter(Boolean);for(const h of c)h[0]==="-"?n.skips.push(h.slice(1)):n.names.push(h)}function s(d,c){let h=0,m=0,_=-1,b=0;for(;h<d.length;)if(m<c.length&&(c[m]===d[h]||c[m]==="*"))c[m]==="*"?(_=m,b=h,m++):(h++,m++);else if(_!==-1)m=_+1,b++,h=b;else return!1;for(;m<c.length&&c[m]==="*";)m++;return m===c.length}function o(){const d=[...n.names,...n.skips.map(c=>"-"+c)].join(",");return n.enable(""),d}function f(d){for(const c of n.skips)if(s(d,c))return!1;for(const c of n.names)if(s(d,c))return!0;return!1}function u(d){return d instanceof Error?d.stack||d.message:d}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}return ob=t,ob}var HO;function UM(){return HO||(HO=1,function(t,e){var r={};e.formatArgs=a,e.save=i,e.load=s,e.useColors=n,e.storage=o(),e.destroy=(()=>{let u=!1;return()=>{u||(u=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let u;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(u=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(u[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function a(u){if(u[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+u[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const l="color: "+this.color;u.splice(1,0,l,"color: inherit");let d=0,c=0;u[0].replace(/%[a-zA-Z%]/g,h=>{h!=="%%"&&(d++,h==="%c"&&(c=d))}),u.splice(c,0,l)}e.log=console.debug||console.log||(()=>{});function i(u){try{u?e.storage.setItem("debug",u):e.storage.removeItem("debug")}catch{}}function s(){let u;try{u=e.storage.getItem("debug")}catch{}return!u&&typeof xe<"u"&&"env"in xe&&(u=r.DEBUG),u}function o(){try{return localStorage}catch{}}t.exports=$M()(e);const{formatters:f}=t.exports;f.j=function(u){try{return JSON.stringify(u)}catch(l){return"[UnexpectedJSONParseError]: "+l.message}}}(Ml,Ml.exports)),Ml.exports}var Vu={},Lt={},VO;function GO(){if(VO)return Lt;VO=1,Object.defineProperty(Lt,"__esModule",{value:!0}),Lt.ZeroOrOnePath=Lt.ZeroOrMorePath=Lt.OneOrMorePath=Lt.MultiPath=Lt.InversePath=Lt.AlternativePath=Lt.SequencePath=Lt.PredicatePath=void 0;class t{constructor(u){this.predicate=u}toString(){return`<${this.predicate.value}>`}found(u,l=!1){return u.enter(this.predicate,l)}match(u,l,d,c,h=!1){let m=(h?u.getQuads(null,this.predicate,d,null):u.getQuads(d,this.predicate,null,null)).filter(_=>!c.includes(_.graph.value));if(m.length>0){let _=l.push(this.predicate,h);return m.map(b=>{const y=h?b.subject:b.object;return{path:[b],target:y,cbdExtracted:_}})}else return[]}}Lt.PredicatePath=t;class e{constructor(u){this.sequence=u}found(u,l){let d=u;for(const c of this.sequence)d&&(d=c.found(d,l));return d}toString(){return this.sequence.map(u=>u.toString()).join("/")}match(u,l,d,c,h=!1){let m=[{path:[],target:d,cbdExtracted:l}];for(const _ of this.sequence)m=m.flatMap(b=>_.match(u,b.cbdExtracted,b.target,c,h).map(p=>({path:[...b.path,...p.path],cbdExtracted:p.cbdExtracted,target:p.target})));return m}}Lt.SequencePath=e;class r{constructor(u){this.alternatives=u}found(u,l){for(const d of this.alternatives){const c=d.found(u,l);if(c)return c}}toString(){return this.alternatives.map(u=>u.toString()).join("|")}match(u,l,d,c,h=!1){return this.alternatives.flatMap(m=>m.match(u,l,d,c,h))}}Lt.AlternativePath=r;class n{constructor(u){this.path=u}found(u,l){return this.path.found(u,!l)}toString(){return"^"+this.path.toString()}match(u,l,d,c,h=!1){return this.path.match(u,l,d,c,!h)}}Lt.InversePath=n;class a{constructor(u,l){this.path=u,this.maxCount=l}match(u,l,d,c,h=!1){const m=[];let _=[{path:[],target:d,cbdExtracted:l}];for(let b=0;!(this.maxCount&&b>this.maxCount||_.length===0);b++){const y=[];for(const p of _){this.filter(b,p)&&m.push(p);for(const g of this.path.match(u,p.cbdExtracted,p.target,c,h))y.push({path:[...p.path,...g.path],cbdExtracted:p.cbdExtracted,target:g.target})}_=y}return m}}Lt.MultiPath=a;class i extends a{constructor(u){super(u)}filter(u,l){return u>=1}toString(){return this.path.toString()+"+"}found(u,l){let d=this.path.found(u,l);if(!d)return;let c=this.path.found(d,l);for(;c;)d=c,c=this.path.found(d,l);return d}}Lt.OneOrMorePath=i;class s extends a{constructor(u){super(u)}filter(u,l){return!0}toString(){return this.path.toString()+"*"}found(u,l){let d=this.path.found(u,l);for(;d;)u=d,d=this.path.found(u,l);return u}}Lt.ZeroOrMorePath=s;class o extends a{constructor(u){super(u,1)}filter(u,l){return u<2}toString(){return this.path.toString()+"?"}found(u,l){return this.path.found(u,l)||u}}return Lt.ZeroOrOnePath=o,Lt}var zO;function HM(){if(zO)return Vu;zO=1,Object.defineProperty(Vu,"__esModule",{value:!0}),Vu.ShapesGraph=void 0;const t=GO(),e=Km(),r=ab(),n=Pt(),a=new n.DataFactory,i=(0,e.createTermNamespace)("http://www.w3.org/ns/shacl#","zeroOrMorePath","zeroOrOnePath","oneOrMorePath","inversePath","alternativePath","deactivated","minCount","path","node","closed","property","and","xone","or","NodeShape");let s=class{constructor(l){this.shapes=this.initializeFromStore(l),this.counter=0}toMermaid(l){const d=this.shapes.get(l);if(this.counter=0,!d)throw new Error(`No shape found for term "${l.value}"`);let c=`flowchart LR
`;return c+=this.toMermaidSingleShape(d,"1",d.label||"Shape"),c}toMermaidSingleShape(l,d,c){let h=`  S${d}((${c}))
`,m=[];return l.nodeLinks.forEach(_=>{let b=_.pathPattern.toString();const y=this.isPathRequired(b,l.requiredPaths);m.push(b),b=this.cleanPath(b);const p=this.shapes.get(_.link);if(!p)throw new Error(`The linked shape "${_.link}" is not found`);const g=`${d}_${this.counter}`;let w="-->";y||(w="-.->"),b.startsWith("^")?(b=b.substring(1),h+=`  S${g}[ ]${w}|"${b}"|S${d}
`):h+=`  S${d}${w}|"${b}"|S${g}[ ]
`,this.counter++;const S=this.toMermaidSingleShape(p,g,p.label||"Shape");h+=S}),l.atLeastOneLists.forEach(_=>{if(_.length>0){const b=`${d}_${this.counter}`;h+=`  S${d}---X${b}{OR}
`,_.forEach(y=>{const p=`${d}_${this.counter}`;this.counter++,h+=`  X${b}---S${p}
`;const g=this.toMermaidSingleShape(y,p,y.label||"Shape");h+=g})}}),h+=this.simplePathToMermaid(l.requiredPaths,m,d,"-->"),h+=this.simplePathToMermaid(l.optionalPaths,m,d,"-.->"),h}cleanPath(l){return l=l.replace(/</g,""),l.replace(/>/g,"")}isPathRequired(l,d){for(const c of d)if(l===c.toString())return!0;return!1}simplePathToMermaid(l,d,c,h){let m="";return l.forEach(_=>{let b=_.toString();d.includes(b)||(d.push(b),b=this.cleanPath(b),this.isRealInversePath(b)?(b=this.getRealPath(b),m+=`  S${c}_${this.counter}[ ]${h}|"${b}"|S${c}
`):(b=this.getRealPath(b),m+=`  S${c}${h}|"${b}"|S${c}_${this.counter}[ ]
`),this.counter++)}),m}isRealInversePath(l){const d=l.match(/^(\^+)[^\^]+/);return d?d[1].length%2!==0:!1}getRealPath(l){const d=l.match(/^\^*([^\^]+)/);if(!d)throw new Error(`No real path found in "${l}"`);return d[1]}constructPathPattern(l,d){if(d.termType==="BlankNode"){let c=f(l,d,i.zeroOrMorePath,null),h=f(l,d,i.oneOrMorePath,null),m=f(l,d,i.zeroOrOnePath,null),_=f(l,d,i.inversePath,null),b=f(l,d,i.alternativePath,null);if(c[0])return new t.ZeroOrMorePath(this.constructPathPattern(l,c[0]));if(h[0])return new t.OneOrMorePath(this.constructPathPattern(l,h[0]));if(m[0])return new t.ZeroOrOnePath(this.constructPathPattern(l,m[0]));if(_[0])return new t.InversePath(this.constructPathPattern(l,_[0]));if(b[0]){let y=this.rdfListToArray(l,b[0]).map(p=>this.constructPathPattern(l,p));return new t.AlternativePath(y)}else{const y=this.rdfListToArray(l,d);return new t.SequencePath(y.map(p=>this.constructPathPattern(l,p)))}}return new t.PredicatePath(d)}preprocessPropertyShape(l,d,c,h){let m=f(l,d,i.deactivated,null);if(m.length>0&&m[0].value==="true")return!0;let _=f(l,d,i.path,null)[0];if(!_)return!1;let b=this.constructPathPattern(l,_),y=f(l,d,i.minCount,null);y[0]&&y[0].value!=="0"||h?c.requiredPaths.push(b):c.optionalPaths.push(b);let p=f(l,d,i.node,null);return p[0]&&c.nodeLinks.push(new r.NodeLink(b,p[0])),!0}preprocessShape(l,d,c){return this.preprocessPropertyShape(l,d,c)?!0:this.preprocessNodeShape(l,d,c)}preprocessNodeShape(l,d,c){const h=f(l,d,e.RDFS.terms.label)[0];h?c.label=h.value:c.label=d.termType==="BlankNode"?d.value:d.value.split("/")[d.value.split("/").length-1];let m=f(l,d,i.closed,null)[0];m&&m.value==="true"&&(c.closed=!0);let _=f(l,d,i.property,null);for(let b of _)this.preprocessPropertyShape(l,b,c);for(let b of f(l,d,i.and,null))for(let y of this.rdfListToArray(l,b))this.preprocessShape(l,y,c);for(let b of f(l,d,i.xone,null).concat(f(l,d,i.or,null))){let y=this.rdfListToArray(l,b).map(p=>{let g=new r.ShapeTemplate;return this.preprocessShape(l,p,g),g});c.atLeastOneLists.push(y)}}initializeFromStore(l){const d=[].concat(o(l,i.property,null,null)).concat(o(l,e.RDF.terms.type,i.NodeShape,null)).concat(f(l,null,i.node,null)).filter((h,m,_)=>_.findIndex(b=>b.equals(h))===m);let c=new r.RDFMap;for(let h of d){let m=new r.ShapeTemplate,_=f(l,h,i.deactivated,null);_.length>0&&_[0].value==="true"||(this.preprocessNodeShape(l,h,m),c.set(h,m))}return c}*rdfListToGenerator(l,d){if(f(l,d,a.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"),null)[0]){yield f(l,d,a.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"),null)[0];let c=f(l,d,a.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"),null)[0];for(;c&&c.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#nil";)yield f(l,c,a.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"),null)[0],c=f(l,c,a.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"),null)[0]}else yield d}rdfListToArray(l,d){return Array.from(this.rdfListToGenerator(l,d))}};Vu.ShapesGraph=s;const o=function(u,l,d,c){return u.getQuads(null,l,d,c).map(h=>h.subject)},f=function(u,l,d,c){return u.getQuads(l,d,null,c).map(h=>h.object)};return Vu}var WO;function VM(){if(WO)return Dn;WO=1;var t=Dn.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(Dn,"__esModule",{value:!0}),Dn.CbdExtracted=Dn.CBDShapeExtractor=void 0;const e=nb(),r=ab(),n=Pt(),a=z_(),i=t(UM()),s=HM(),o=(0,i.default)("extract-cbd-shape"),f=new n.DataFactory;let u=class{constructor(h,m,_={}){this.options=Object.assign({cbdDefaultGraph:!1},_),m?this.dereferencer=m:this.dereferencer=e.rdfDereferencer,h&&(this.shapesGraph=new s.ShapesGraph(h))}async bulkExtract(h,m,_,b,y){const p=[],g=new Set(m.map(O=>O.value)),w={};for(let O of m)w[O.value]=[];const S=a.RdfStore.createDefault();for(let O of h.readQuads(null,null,null,null))O.graph.termType=="NamedNode"&&g.has(O.graph.value)?w[O.graph.value].push(O):S.addQuad(O);const I=[];for(let O of m){const M=this.extract(S,O,_,(b||[]).slice()).then(D=>{D.push(...w[O.value]),y&&y({subject:O,quads:D}),p.push({subject:O,quads:D})});I.push(M)}return await Promise.all(I),p}async extract(h,m,_,b){let y=(b||[]).map(g=>g.value);return await new d(h,this.dereferencer,y,this.options,this.shapesGraph).extract(m,!1,_)}};Dn.CBDShapeExtractor=u;class l{constructor(h,m=new r.RDFMap){h?this.topology=h:this.topology={forwards:{},backwards:{}},this.cbdExtractedMap=m}addCBDTerm(h){const m=this.cbdExtractedMap.get(h);m?m.cbd=!0:this.cbdExtractedMap.set(h,{cbd:!0,shape:!1})}addShapeTerm(h){const m=this.cbdExtractedMap.get(h);m?m.shape=!0:this.cbdExtractedMap.set(h,{cbd:!0,shape:!1})}cbdExtracted(h){var m;return!!((m=this.cbdExtractedMap.get(h))!=null&&m.shape)}push(h,m){if(m){if(!this.topology.backwards[h.value]){const _={forwards:{},backwards:{}};_.forwards[h.value]=this.topology,this.topology.backwards[h.value]=_}return new l(this.topology.backwards[h.value],this.cbdExtractedMap)}else{if(!this.topology.forwards[h.value]){const _={forwards:{},backwards:{}};_.backwards[h.value]=this.topology,this.topology.forwards[h.value]=_}return new l(this.topology.forwards[h.value],this.cbdExtractedMap)}}enter(h,m){const _=m?this.topology.backwards[h.value]:this.topology.forwards[h.value];if(_)return new l(_,this.cbdExtractedMap)}}Dn.CbdExtracted=l;class d{constructor(h,m,_,b,y){this.dereferenced=new Set,this.store=h,this.dereferencer=m,this.shapesGraph=y,this.graphsToIgnore=_,this.options=b}async extract(h,m,_){const b=await this.maybeExtractRecursively(h,new l,m,_);return b.push(...this.store.getQuads(null,null,null,h)),b.length===0&&await this.dereference(h.value)?(await this.maybeExtractRecursively(h,new l,m,_)).filter((p,g,w)=>g===w.findIndex(S=>S.equals(p))):b.filter((y,p,g)=>p===g.findIndex(w=>w.equals(y)))}async dereference(h){return this.dereferenced.has(h)?(o("Will not dereference "+h+" again"),!1):(this.dereferenced.add(h),await this.loadQuadStreamInStore((await this.dereferencer.dereference(h,{fetch:this.options.fetch})).data),!0)}async maybeExtractRecursively(h,m,_,b){return m.cbdExtracted(h)?[]:(m.addShapeTerm(h),this.extractRecursively(h,m,_,b))}async extractRecursively(h,m,_,b){const y=[];let p;if(b instanceof r.ShapeTemplate?p=b:b&&this.shapesGraph&&(p=this.shapesGraph.shapes.get(b)),p!=null&&p.closed||this.CBD(h,y,m,this.graphsToIgnore),p){let g=[],w=[];p.fillPathsAndLinks(g,w);for(let S of p.requiredPaths.concat(p.optionalPaths,g))if(!S.found(m)||p.closed){let I=S.match(this.store,m,h,this.graphsToIgnore).flatMap(O=>O.path);y.push(...I)}for(let S of p.nodeLinks.concat(w)){let I=S.pathPattern.match(this.store,m,h,this.graphsToIgnore);for(let O of I)y.push(...await this.maybeExtractRecursively(O.target,O.cbdExtracted,_,S.link))}}if(!_&&h.termType==="NamedNode"&&p){const g=p.requiredAreNotPresent(m);if(g){if(await this.dereference(h.value))return this.extractRecursively(h,m,_,b);o(`${h.value} does not adhere to the shape (${g.toString()})`)}}return y}async CBD(h,m,_,b){_.addCBDTerm(h);const y=this.options.cbdDefaultGraph?f.defaultGraph():null,p=this.store.getQuads(h,null,null,y);for(const g of p){if(b!=null&&b.includes(g.graph.value))continue;m.push(g);const w=_.push(g.predicate,!1);g.object.termType==="BlankNode"&&!_.cbdExtracted(g.object)&&await this.CBD(g.object,m,w,b)}}loadQuadStreamInStore(h){return new Promise((m,_)=>{this.store.import(h).on("end",m).on("error",_)})}}return Dn}var KO;function GM(){return KO||(KO=1,function(t){var e=Ji.__createBinding||(Object.create?function(o,f,u,l){l===void 0&&(l=u);var d=Object.getOwnPropertyDescriptor(f,u);(!d||("get"in d?!f.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return f[u]}}),Object.defineProperty(o,l,d)}:function(o,f,u,l){l===void 0&&(l=u),o[l]=f[u]}),r=Ji.__setModuleDefault||(Object.create?function(o,f){Object.defineProperty(o,"default",{enumerable:!0,value:f})}:function(o,f){o.default=f}),n=Ji.__importStar||function(o){if(o&&o.__esModule)return o;var f={};if(o!=null)for(var u in o)u!=="default"&&Object.prototype.hasOwnProperty.call(o,u)&&e(f,o,u);return r(f,o),f};Object.defineProperty(t,"__esModule",{value:!0}),t.shape=t.path=t.CBDShapeExtractor=void 0;const a=VM();Object.defineProperty(t,"CBDShapeExtractor",{enumerable:!0,get:function(){return a.CBDShapeExtractor}});const i=n(ab());t.shape=i;const s=n(GO());t.path=s}(Ji)),Ji}var zM=GM();function WM(t,e,r,n,a){const i=or("extractRelations"),s=r?Rt(t,null,Qe.TREE.terms.relation,null):Rt(t,e,Qe.TREE.terms.relation,null),o=e.value,f=new Map;for(const l of s){const d=Rt(t,l,Qe.TREE.terms.node,null)[0],c=Rt(t,l,Qe.RDF.terms.type,null)[0]||Qe.TREE.Relation,h=Rt(t,l,Qe.TREE.terms.path,null)[0],m=Rt(t,l,Qe.TREE.terms.value,null),_={type:c,path:h,value:m,id:l},b=f.get(d.value);if(b)b.relation.relations.push(_),b.cond.addRelation(l);else{const y=new SL(t,a);y.addRelation(l),f.set(d.value,{cond:y,relation:{node:d.value,source:o,relations:[_]}})}}const u=[];for(const l of f.values())l.cond.allowed(n)&&u.push(l.relation);return i.debug(`allowed ${JSON.stringify(u.map(l=>l.node))}`),u}const{namedNode:KM}=new Kc.DataFactory;function QM(){const t={};return t.waiting=new Promise(e=>t.callback=e),t}function QO(t){const e=t.callback;t.waiting=new Promise(r=>t.callback=r),e()}class XM{constructor(e,r,n,a,i,s){$e(this,"dereferencer");$e(this,"loose");$e(this,"fetch_f");$e(this,"condition");$e(this,"defaultTimezone");$e(this,"includeMetadata");$e(this,"closed",!1);$e(this,"logger",or(this));this.dereferencer=e,this.loose=r,this.fetch_f=s,this.condition=n,this.defaultTimezone=a,this.includeMetadata=i}close(){this.closed=!0}async fetch(e,r,n){try{const a={localFiles:!0,fetch:this.fetch_f};this.includeMetadata&&(a.headers={Accept:"application/metadata+trig"});const i=await this.dereferencer.dereference(e.target,a);e.target=i.url;const s={};if(i.headers){const u=i.headers.get("cache-control");if(u){const l=u.split(",").map(d=>d.split("=",2).map(c=>c.trim()));for(const d of l)d[0]=="max-age"&&(s.maxAge=parseInt(d[1])),d[0]=="immutable"&&(s.immutable=!0)}}s.immutable||this.closed||n.scheduleFetch(e,r),this.logger.debug(`[fetch] Cache for ${e.target} ${JSON.stringify(s)}`);const o=wi.RdfStore.createDefault();let f=0;await new Promise((u,l)=>{i.data.on("data",d=>{o.addQuad(d),f++}).on("end",u).on("error",l)}),this.logger.debug(`[fetch] Got data ${e.target} (${f} quads)`);for(const u of WM(o,KM(i.url),this.loose,this.condition,this.defaultTimezone))e.expected.some(l=>l==u.node)||this.closed||n.relationFound({from:e,target:u},r);this.closed||n.pageFetched({data:o,url:i.url},r)}catch(a){this.logger.error(`[fetch] Fetch failed ${JSON.stringify(a)}`),n.error(a,r)}}}const{namedNode:Gu}=cr;class ZM{constructor(e,r,n){$e(this,"queued",0);$e(this,"closed",!1);$e(this,"resolve");$e(this,"ldesId");$e(this,"state");$e(this,"extractor");$e(this,"shapeId");$e(this,"timestampPath");$e(this,"isVersionOfPath");$e(this,"logger",or(this));this.ldesId=e,this.state=r,this.extractor=n.extractor,this.timestampPath=n.timestampPath,this.isVersionOfPath=n.isVersionOfPath,this.shapeId=n.shape,this.logger.debug(`new ${e.value} ${JSON.stringify({extractor:n.extractor.constructor.name,shape:n.shape,timestampPath:n.timestampPath,isVersionOfPath:n.isVersionOfPath})}`)}extractMembers(e,r,n){var l;const a=Rt(e.data,this.ldesId,Qe.TREE.terms.member,null),i=(l=Rt(e.data,Gu(e.url),Qe.DC.terms.custom("created"),null)[0])==null?void 0:l.value,s=i?new Date(i):void 0,o=Rt(e.data,Gu(e.url),Qe.DC.terms.modified,null)[0],f=o?new Date(o.value):void 0;this.logger.debug(`Extracting ${a.length} members`);const u=[];for(const d of a)if(!this.state.has(d.value)){const c=this.extractMember(d,e.data).then(h=>(h&&(this.closed||n.extracted(h,r)),h)).catch(h=>{this.logger.error(h),n.error({error:h,type:"extract",memberId:d},r)});u.push(c)}Promise.all(u).then(d=>{this.logger.debug("All members extracted"),this.closed||n.done({id:Gu(e.url),created:s,updated:f},r)})}close(){this.logger.debug("Closing stream"),this.resolve&&(this.resolve(),this.resolve=void 0),this.closed=!0,this.logger.debug("this.resolve()")}length(){return this.state.size}reset(){return this.logger.debug(`Resetting with ${this.queued} members in queue`),this.queued=0,new Promise(e=>this.resolve=e)}async extractMemberQuads(e,r){return await this.extractor.extract(r,e,this.shapeId,[Gu(Qe.LDES.custom("IngestionMetadata"))])}async extractMember(e,r){var n;if(!this.state.has(e.value))try{const a=await this.extractMemberQuads(e,r),i=(n=Rt(r,e,Qe.DC.terms.custom("created"),Gu(Qe.LDES.custom("IngestionMetadata")))[0])==null?void 0:n.value;if(a.length>0)return this.state.add(e.value),vL(e,a,this.timestampPath,this.isVersionOfPath,i?new Date(i):void 0)}catch(a){this.logger.error(a);return}}}class JM{constructor(e,r,n,a,i,s){$e(this,"manager");$e(this,"fetcher");$e(this,"notifier");$e(this,"inFlight",0);$e(this,"fetchNotifier");$e(this,"memberNotifier");$e(this,"modulator");$e(this,"cacheList",[]);$e(this,"polling");$e(this,"pollInterval");$e(this,"canceled",!1);$e(this,"logger",or(this));this.pollInterval=s,this.notifier=n,this.manager=e,this.fetcher=r,this.polling=i,this.fetchNotifier={error:o=>{this.logger.error(`[fetch] Error: ${JSON.stringify(o)}`),this.notifier.error(o,{})},scheduleFetch:o=>{this.cacheList.push(o),this.notifier.mutable({},{})},pageFetched:(o,{index:f})=>{this.logger.debug(`Paged fetched ${o.url}`),this.handleFetched(o,f)},relationFound:({from:o,target:f})=>{o.expected.push(f.node),this.inFlight+=1,this.modulator.push({target:f.node,expected:[o.target]})}},this.memberNotifier={error:o=>{this.notifier.error(o,{})},done:o=>{this.logger.debug("[member] Members on page done"),this.inFlight-=1,this.checkEnd(),this.notifier.fragment(o,{})},extracted:o=>this.notifier.member(o,{})},this.modulator=a.create("fetcher",[],{ready:({item:o,index:f})=>this.fetcher.fetch(o,{index:f},this.fetchNotifier)})}start(e){this.inFlight=this.modulator.length(),this.inFlight<1?(this.inFlight=1,this.modulator.push({target:e,expected:[]}),this.logger.debug("[start] Nothing in flight, adding start url")):this.logger.debug("[start] Things are already inflight, not adding start url")}cancel(){this.canceled=!0}handleFetched(e,r){this.modulator.finished(r),this.manager.extractMembers(e,{},this.memberNotifier)}checkEnd(){this.canceled||this.inFlight==0&&(this.polling?setTimeout(()=>{if(this.canceled)return;this.notifier.pollCycle({},{});const e=this.cacheList.slice();this.cacheList=[];for(const r of e)this.inFlight+=1,this.modulator.push(r)},this.pollInterval||1e3):(this.logger.debug("Closing the notifier, polling is not set"),this.canceled=!0,this.notifier.close({},{})))}}var st=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(l){try{u(n.next(l))}catch(d){s(d)}}function f(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):a(l.value).then(o,f)}u((n=n.apply(t,e||[])).next())})},ot=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(l){return f([u,l])}}function f(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(r=0)),r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(l){u=[6,l],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},nr=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),a,i=[],s;try{for(;(e===void 0||e-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(o){s={error:o}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i},Er=function(t,e,r){if(r||arguments.length===2)for(var n=0,a=e.length,i;n<a;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))},XO=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(e){e===void 0&&(e=t.minComparator);var r=this;this.compare=e,this.heapArray=[],this._limit=0,this.offer=this.add,this.element=this.peek,this.poll=this.pop,this._invertedCompare=function(n,a){return r.compare(n,a).then(function(i){return-1*i})}}return t.getChildrenIndexOf=function(e){return[e*2+1,e*2+2]},t.getParentIndexOf=function(e){if(e<=0)return-1;var r=e%2?1:2;return Math.floor((e-r)/2)},t.getSiblingIndexOf=function(e){if(e<=0)return-1;var r=e%2?1:-1;return e+r},t.minComparator=function(e,r){return st(this,void 0,void 0,function(){return ot(this,function(n){return e>r?[2,1]:e<r?[2,-1]:[2,0]})})},t.maxComparator=function(e,r){return st(this,void 0,void 0,function(){return ot(this,function(n){return r>e?[2,1]:r<e?[2,-1]:[2,0]})})},t.minComparatorNumber=function(e,r){return st(this,void 0,void 0,function(){return ot(this,function(n){return[2,e-r]})})},t.maxComparatorNumber=function(e,r){return st(this,void 0,void 0,function(){return ot(this,function(n){return[2,r-e]})})},t.defaultIsEqual=function(e,r){return st(this,void 0,void 0,function(){return ot(this,function(n){return[2,e===r]})})},t.print=function(e){function r(l){var d=t.getParentIndexOf(l);return Math.floor(Math.log2(d+1))}function n(l,d){for(var c="";d>0;--d)c+=l;return c}for(var a=0,i=[],s=r(e.length-1)+2,o=0;a<e.length;){var f=r(a)+1;a===0&&(f=0);var u=String(e.get(a));u.length>o&&(o=u.length),i[f]=i[f]||[],i[f].push(u),a+=1}return i.map(function(l,d){var c=Math.pow(2,s-d)-1;return n(" ",Math.floor(c/2)*o)+l.map(function(h){var m=(o-h.length)/2;return n(" ",Math.ceil(m))+h+n(" ",Math.floor(m))}).join(n(" ",c*o))}).join(`
`)},t.heapify=function(e,r){return st(this,void 0,void 0,function(){var n;return ot(this,function(a){switch(a.label){case 0:return n=new t(r),n.heapArray=e,[4,n.init()];case 1:return a.sent(),[2,n]}})})},t.heappop=function(e,r){var n=new t(r);return n.heapArray=e,n.pop()},t.heappush=function(e,r,n){return st(this,void 0,void 0,function(){var a;return ot(this,function(i){switch(i.label){case 0:return a=new t(n),a.heapArray=e,[4,a.push(r)];case 1:return i.sent(),[2]}})})},t.heappushpop=function(e,r,n){var a=new t(n);return a.heapArray=e,a.pushpop(r)},t.heapreplace=function(e,r,n){var a=new t(n);return a.heapArray=e,a.replace(r)},t.heaptop=function(e,r,n){r===void 0&&(r=1);var a=new t(n);return a.heapArray=e,a.top(r)},t.heapbottom=function(e,r,n){r===void 0&&(r=1);var a=new t(n);return a.heapArray=e,a.bottom(r)},t.nlargest=function(e,r,n){return st(this,void 0,void 0,function(){var a;return ot(this,function(i){switch(i.label){case 0:return a=new t(n),a.heapArray=Er([],nr(r),!1),[4,a.init()];case 1:return i.sent(),[2,a.top(e)]}})})},t.nsmallest=function(e,r,n){return st(this,void 0,void 0,function(){var a;return ot(this,function(i){switch(i.label){case 0:return a=new t(n),a.heapArray=Er([],nr(r),!1),[4,a.init()];case 1:return i.sent(),[2,a.bottom(e)]}})})},t.prototype.add=function(e){return st(this,void 0,void 0,function(){return ot(this,function(r){switch(r.label){case 0:return[4,this._sortNodeUp(this.heapArray.push(e)-1)];case 1:return r.sent(),this._applyLimit(),[2,!0]}})})},t.prototype.addAll=function(e){return st(this,void 0,void 0,function(){var r,n,a;return ot(this,function(i){switch(i.label){case 0:r=this.length,(a=this.heapArray).push.apply(a,Er([],nr(e),!1)),n=this.length,i.label=1;case 1:return r<n?[4,this._sortNodeUp(r)]:[3,4];case 2:i.sent(),i.label=3;case 3:return++r,[3,1];case 4:return this._applyLimit(),[2,!0]}})})},t.prototype.bottom=function(){return st(this,arguments,void 0,function(e){return e===void 0&&(e=1),ot(this,function(r){return this.heapArray.length===0||e<=0?[2,[]]:this.heapArray.length===1?[2,[this.heapArray[0]]]:e>=this.heapArray.length?[2,Er([],nr(this.heapArray),!1)]:[2,this._bottomN_push(~~e)]})})},t.prototype.check=function(){return st(this,void 0,void 0,function(){var e,r,n,a,i,s,o,f,u;return ot(this,function(l){switch(l.label){case 0:e=0,l.label=1;case 1:if(!(e<this.heapArray.length))return[3,10];r=this.heapArray[e],n=this.getChildrenOf(e),l.label=2;case 2:l.trys.push([2,7,8,9]),a=(f=void 0,XO(n)),i=a.next(),l.label=3;case 3:return i.done?[3,6]:(s=i.value,[4,this.compare(r,s)]);case 4:if(l.sent()>0)return[2,r];l.label=5;case 5:return i=a.next(),[3,3];case 6:return[3,9];case 7:return o=l.sent(),f={error:o},[3,9];case 8:try{i&&!i.done&&(u=a.return)&&u.call(a)}finally{if(f)throw f.error}return[7];case 9:return++e,[3,1];case 10:return[2]}})})},t.prototype.clear=function(){this.heapArray=[]},t.prototype.clone=function(){var e=new t(this.comparator());return e.heapArray=this.toArray(),e._limit=this._limit,e},t.prototype.comparator=function(){return this.compare},t.prototype.contains=function(e){return st(this,arguments,void 0,function(r,n){var a,i,s,o,f,u;return n===void 0&&(n=t.defaultIsEqual),ot(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,7]),a=XO(this.heapArray),i=a.next(),l.label=1;case 1:return i.done?[3,4]:(s=i.value,[4,n(s,r)]);case 2:if(l.sent())return[2,!0];l.label=3;case 3:return i=a.next(),[3,1];case 4:return[3,7];case 5:return o=l.sent(),f={error:o},[3,7];case 6:try{i&&!i.done&&(u=a.return)&&u.call(a)}finally{if(f)throw f.error}return[7];case 7:return[2,!1]}})})},t.prototype.init=function(e){return st(this,void 0,void 0,function(){var r;return ot(this,function(n){switch(n.label){case 0:e&&(this.heapArray=Er([],nr(e),!1)),r=Math.floor(this.heapArray.length),n.label=1;case 1:return r>=0?[4,this._sortNodeDown(r)]:[3,4];case 2:n.sent(),n.label=3;case 3:return--r,[3,1];case 4:return this._applyLimit(),[2]}})})},t.prototype.isEmpty=function(){return this.length===0},t.prototype.leafs=function(){if(this.heapArray.length===0)return[];var e=t.getParentIndexOf(this.heapArray.length-1);return this.heapArray.slice(e+1)},Object.defineProperty(t.prototype,"length",{get:function(){return this.heapArray.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"limit",{get:function(){return this._limit},set:function(e){this._limit=~~e,this._applyLimit()},enumerable:!1,configurable:!0}),t.prototype.peek=function(){return this.heapArray[0]},t.prototype.pop=function(){return st(this,void 0,void 0,function(){var e;return ot(this,function(r){return e=this.heapArray.pop(),this.length>0&&e!==void 0?[2,this.replace(e)]:[2,e]})})},t.prototype.push=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return st(this,void 0,void 0,function(){return ot(this,function(n){return e.length<1?[2,!1]:e.length===1?[2,this.add(e[0])]:[2,this.addAll(e)]})})},t.prototype.pushpop=function(e){return st(this,void 0,void 0,function(){var r;return ot(this,function(n){switch(n.label){case 0:return[4,this.compare(this.heapArray[0],e)];case 1:return n.sent()<0?(r=nr([this.heapArray[0],e],2),e=r[0],this.heapArray[0]=r[1],[4,this._sortNodeDown(0)]):[3,3];case 2:n.sent(),n.label=3;case 3:return[2,e]}})})},t.prototype.remove=function(e){return st(this,arguments,void 0,function(r,n){var a,i,s,o=this;return n===void 0&&(n=t.defaultIsEqual),ot(this,function(f){switch(f.label){case 0:return this.heapArray.length?r!==void 0?[3,2]:[4,this.pop()]:[2,!1];case 1:return f.sent(),[2,!0];case 2:a=[0],f.label=3;case 3:return a.length?(i=a.shift(),[4,n(this.heapArray[i],r)]):[3,13];case 4:return f.sent()?i!==0?[3,6]:[4,this.pop()]:[3,11];case 5:return f.sent(),[3,10];case 6:return i!==this.heapArray.length-1?[3,7]:(this.heapArray.pop(),[3,10]);case 7:return this.heapArray.splice(i,1,this.heapArray.pop()),[4,this._sortNodeUp(i)];case 8:return f.sent(),[4,this._sortNodeDown(i)];case 9:f.sent(),f.label=10;case 10:return[2,!0];case 11:s=t.getChildrenIndexOf(i).filter(function(u){return u<o.heapArray.length}),a.push.apply(a,Er([],nr(s),!1)),f.label=12;case 12:return[3,3];case 13:return[2,!1]}})})},t.prototype.replace=function(e){return st(this,void 0,void 0,function(){var r;return ot(this,function(n){switch(n.label){case 0:return r=this.heapArray[0],this.heapArray[0]=e,[4,this._sortNodeDown(0)];case 1:return n.sent(),[2,r]}})})},t.prototype.size=function(){return this.length},t.prototype.top=function(){return st(this,arguments,void 0,function(e){return e===void 0&&(e=1),ot(this,function(r){return this.heapArray.length===0||e<=0?[2,[]]:this.heapArray.length===1||e===1?[2,[this.heapArray[0]]]:e>=this.heapArray.length?[2,Er([],nr(this.heapArray),!1)]:[2,this._topN_push(~~e)]})})},t.prototype.toArray=function(){return Er([],nr(this.heapArray),!1)},t.prototype.toString=function(){return this.heapArray.toString()},t.prototype.get=function(e){return this.heapArray[e]},t.prototype.getChildrenOf=function(e){var r=this;return t.getChildrenIndexOf(e).map(function(n){return r.heapArray[n]}).filter(function(n){return n!==void 0})},t.prototype.getParentOf=function(e){var r=t.getParentIndexOf(e);return this.heapArray[r]},t.prototype[Symbol.iterator]=function(){return ot(this,function(e){switch(e.label){case 0:return this.length?[4,this.pop()]:[3,2];case 1:return e.sent(),[3,0];case 2:return[2]}})},t.prototype.iterator=function(){return this},t.prototype._applyLimit=function(){if(this._limit&&this._limit<this.heapArray.length)for(var e=this.heapArray.length-this._limit;e;)this.heapArray.pop(),--e},t.prototype._bottomN_push=function(e){return st(this,void 0,void 0,function(){var r,n,a,i,o,s,o;return ot(this,function(f){switch(f.label){case 0:return r=new t(this.compare),r.limit=e,r.heapArray=this.heapArray.slice(-e),[4,r.init()];case 1:for(f.sent(),n=this.heapArray.length-1-e,a=t.getParentIndexOf(n),i=[],o=n;o>a;--o)i.push(o);s=this.heapArray,f.label=2;case 2:return i.length?(o=i.shift(),[4,this.compare(s[o],r.peek())]):[3,6];case 3:return f.sent()>0?[4,r.replace(s[o])]:[3,5];case 4:f.sent(),o%2&&i.push(t.getParentIndexOf(o)),f.label=5;case 5:return[3,2];case 6:return[2,r.toArray()]}})})},t.prototype._moveNode=function(e,r){var n;n=nr([this.heapArray[r],this.heapArray[e]],2),this.heapArray[e]=n[0],this.heapArray[r]=n[1]},t.prototype._sortNodeDown=function(e){return st(this,void 0,void 0,function(){var r,n,a,i,s,o;return ot(this,function(f){switch(f.label){case 0:r=this.heapArray.length,f.label=1;case 1:return n=2*e+1,a=n+1,i=e,s=n<r,s?[4,this.compare(this.heapArray[n],this.heapArray[i])]:[3,3];case 2:s=f.sent()<0,f.label=3;case 3:return s&&(i=n),o=a<r,o?[4,this.compare(this.heapArray[a],this.heapArray[i])]:[3,5];case 4:o=f.sent()<0,f.label=5;case 5:if(o&&(i=a),i===e)return[3,7];this._moveNode(e,i),e=i,f.label=6;case 6:return[3,1];case 7:return[2]}})})},t.prototype._sortNodeUp=function(e){return st(this,void 0,void 0,function(){var r;return ot(this,function(n){switch(n.label){case 0:return e>0?(r=t.getParentIndexOf(e),[4,this.compare(this.heapArray[e],this.heapArray[r])]):[3,2];case 1:if(n.sent()<0)this._moveNode(e,r),e=r;else return[3,2];return[3,0];case 2:return[2]}})})},t.prototype._topN_push=function(e){return st(this,void 0,void 0,function(){var r,n,a,i;return ot(this,function(s){switch(s.label){case 0:r=new t(this._invertedCompare),r.limit=e,n=[0],a=this.heapArray,s.label=1;case 1:return n.length?(i=n.shift(),i<a.length?r.length<e?[4,r.push(a[i])]:[3,3]:[3,6]):[3,7];case 2:return s.sent(),n.push.apply(n,Er([],nr(t.getChildrenIndexOf(i)),!1)),[3,6];case 3:return[4,this.compare(a[i],r.peek())];case 4:return s.sent()<0?[4,r.replace(a[i])]:[3,6];case 5:s.sent(),n.push.apply(n,Er([],nr(t.getChildrenIndexOf(i)),!1)),s.label=6;case 6:return[3,1];case 7:return[2,r.toArray()]}})})},t.prototype._topN_fill=function(e){return st(this,void 0,void 0,function(){var r,n,a,i,s,s;return ot(this,function(o){switch(o.label){case 0:return r=this.heapArray,n=new t(this._invertedCompare),n.limit=e,n.heapArray=r.slice(0,e),[4,n.init()];case 1:for(o.sent(),a=t.getParentIndexOf(e-1)+1,i=[],s=a;s<e;++s)i.push.apply(i,Er([],nr(t.getChildrenIndexOf(s).filter(function(f){return f<r.length})),!1));(e-1)%2&&i.push(e),o.label=2;case 2:return i.length?(s=i.shift(),s<r.length?[4,this.compare(r[s],n.peek())]:[3,5]):[3,6];case 3:return o.sent()<0?[4,n.replace(r[s])]:[3,5];case 4:o.sent(),i.push.apply(i,Er([],nr(t.getChildrenIndexOf(s)),!1)),o.label=5;case 5:return[3,2];case 6:return[2,n.toArray()]}})})},t.prototype._topN_heap=function(e){return st(this,void 0,void 0,function(){var r,n,a,i,s;return ot(this,function(o){switch(o.label){case 0:r=this.clone(),n=[],a=0,o.label=1;case 1:return a<e?(s=(i=n).push,[4,r.pop()]):[3,4];case 2:s.apply(i,[o.sent()]),o.label=3;case 3:return++a,[3,1];case 4:return[2,n]}})})},t.prototype._topIdxOf=function(e){return st(this,void 0,void 0,function(){var r,n,a,i;return ot(this,function(s){switch(s.label){case 0:if(!e.length)return[2,-1];r=0,n=e[r],a=1,s.label=1;case 1:return a<e.length?[4,this.compare(e[a],n)]:[3,4];case 2:i=s.sent(),i<0&&(r=a,n=e[a]),s.label=3;case 3:return++a,[3,1];case 4:return[2,r]}})})},t.prototype._topOf=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return st(this,void 0,void 0,function(){var n;return ot(this,function(a){switch(a.label){case 0:return n=new t(this.compare),[4,n.init(e)];case 1:return a.sent(),[2,n.peek()]}})})},t})();var YM=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(l){return f([u,l])}}function f(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(r=0)),r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(l){u=[6,l],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Bt=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),a,i=[],s;try{for(;(e===void 0||e-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(o){s={error:o}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i},Xt=function(t,e,r){if(r||arguments.length===2)for(var n=0,a=e.length,i;n<a;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))},Yi=function(){function t(e){e===void 0&&(e=t.minComparator);var r=this;this.compare=e,this.heapArray=[],this._limit=0,this.offer=this.add,this.element=this.peek,this.poll=this.pop,this.removeAll=this.clear,this._invertedCompare=function(n,a){return-1*r.compare(n,a)}}return t.getChildrenIndexOf=function(e){return[e*2+1,e*2+2]},t.getParentIndexOf=function(e){if(e<=0)return-1;var r=e%2?1:2;return Math.floor((e-r)/2)},t.getSiblingIndexOf=function(e){if(e<=0)return-1;var r=e%2?1:-1;return e+r},t.minComparator=function(e,r){return e>r?1:e<r?-1:0},t.maxComparator=function(e,r){return r>e?1:r<e?-1:0},t.minComparatorNumber=function(e,r){return e-r},t.maxComparatorNumber=function(e,r){return r-e},t.defaultIsEqual=function(e,r){return e===r},t.print=function(e){function r(l){var d=t.getParentIndexOf(l);return Math.floor(Math.log2(d+1))}function n(l,d){for(var c="";d>0;--d)c+=l;return c}for(var a=0,i=[],s=r(e.length-1)+2,o=0;a<e.length;){var f=r(a)+1;a===0&&(f=0);var u=String(e.get(a));u.length>o&&(o=u.length),i[f]=i[f]||[],i[f].push(u),a+=1}return i.map(function(l,d){var c=Math.pow(2,s-d)-1;return n(" ",Math.floor(c/2)*o)+l.map(function(h){var m=(o-h.length)/2;return n(" ",Math.ceil(m))+h+n(" ",Math.floor(m))}).join(n(" ",c*o))}).join(`
`)},t.heapify=function(e,r){var n=new t(r);return n.heapArray=e,n.init(),n},t.heappop=function(e,r){var n=new t(r);return n.heapArray=e,n.pop()},t.heappush=function(e,r,n){var a=new t(n);a.heapArray=e,a.push(r)},t.heappushpop=function(e,r,n){var a=new t(n);return a.heapArray=e,a.pushpop(r)},t.heapreplace=function(e,r,n){var a=new t(n);return a.heapArray=e,a.replace(r)},t.heaptop=function(e,r,n){r===void 0&&(r=1);var a=new t(n);return a.heapArray=e,a.top(r)},t.heapbottom=function(e,r,n){r===void 0&&(r=1);var a=new t(n);return a.heapArray=e,a.bottom(r)},t.nlargest=function(e,r,n){var a=new t(n);return a.heapArray=Xt([],Bt(r),!1),a.init(),a.top(e)},t.nsmallest=function(e,r,n){var a=new t(n);return a.heapArray=Xt([],Bt(r),!1),a.init(),a.bottom(e)},t.prototype.add=function(e){return this._sortNodeUp(this.heapArray.push(e)-1),this._applyLimit(),!0},t.prototype.addAll=function(e){var r,n=this.length;(r=this.heapArray).push.apply(r,Xt([],Bt(e),!1));for(var a=this.length;n<a;++n)this._sortNodeUp(n);return this._applyLimit(),!0},t.prototype.bottom=function(e){return e===void 0&&(e=1),this.heapArray.length===0||e<=0?[]:this.heapArray.length===1?[this.heapArray[0]]:e>=this.heapArray.length?Xt([],Bt(this.heapArray),!1):this._bottomN_push(~~e)},t.prototype.check=function(){var e=this;return this.heapArray.find(function(r,n){return!!e.getChildrenOf(n).find(function(a){return e.compare(r,a)>0})})},t.prototype.clear=function(){this.heapArray=[]},t.prototype.clone=function(){var e=new t(this.comparator());return e.heapArray=this.toArray(),e._limit=this._limit,e},t.prototype.comparator=function(){return this.compare},t.prototype.contains=function(e,r){return r===void 0&&(r=t.defaultIsEqual),this.indexOf(e,r)!==-1},t.prototype.init=function(e){e&&(this.heapArray=Xt([],Bt(e),!1));for(var r=Math.floor(this.heapArray.length);r>=0;--r)this._sortNodeDown(r);this._applyLimit()},t.prototype.isEmpty=function(){return this.length===0},t.prototype.indexOf=function(e,r){if(r===void 0&&(r=t.defaultIsEqual),this.heapArray.length===0)return-1;for(var n=[],a=0;a<this.heapArray.length;){var i=this.heapArray[a];if(r(i,e))return a;this.compare(i,e)<=0&&n.push.apply(n,Xt([],Bt(t.getChildrenIndexOf(a)),!1)),a=n.shift()||this.heapArray.length}return-1},t.prototype.indexOfEvery=function(e,r){if(r===void 0&&(r=t.defaultIsEqual),this.heapArray.length===0)return[];for(var n=[],a=[],i=0;i<this.heapArray.length;){var s=this.heapArray[i];r(s,e)?(a.push(i),n.push.apply(n,Xt([],Bt(t.getChildrenIndexOf(i)),!1))):this.compare(s,e)<=0&&n.push.apply(n,Xt([],Bt(t.getChildrenIndexOf(i)),!1)),i=n.shift()||this.heapArray.length}return a},t.prototype.leafs=function(){if(this.heapArray.length===0)return[];var e=t.getParentIndexOf(this.heapArray.length-1);return this.heapArray.slice(e+1)},Object.defineProperty(t.prototype,"length",{get:function(){return this.heapArray.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"limit",{get:function(){return this._limit},set:function(e){e<0||isNaN(e)?this._limit=0:this._limit=~~e,this._applyLimit()},enumerable:!1,configurable:!0}),t.prototype.setLimit=function(e){return this.limit=e,e<0||isNaN(e)?NaN:this._limit},t.prototype.peek=function(){return this.heapArray[0]},t.prototype.pop=function(){var e=this.heapArray.pop();return this.length>0&&e!==void 0?this.replace(e):e},t.prototype.push=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.length<1?!1:e.length===1?this.add(e[0]):this.addAll(e)},t.prototype.pushpop=function(e){var r;return this.compare(this.heapArray[0],e)<0&&(r=Bt([this.heapArray[0],e],2),e=r[0],this.heapArray[0]=r[1],this._sortNodeDown(0)),e},t.prototype.remove=function(e,r){var n=this;if(r===void 0&&(r=t.defaultIsEqual),!this.heapArray.length)return!1;if(e===void 0)return this.pop(),!0;for(var a=[0];a.length;){var i=a.shift();if(r(this.heapArray[i],e))return i===0?this.pop():i===this.heapArray.length-1?this.heapArray.pop():(this.heapArray.splice(i,1,this.heapArray.pop()),this._sortNodeUp(i),this._sortNodeDown(i)),!0;if(this.compare(this.heapArray[i],e)<=0){var s=t.getChildrenIndexOf(i).filter(function(o){return o<n.heapArray.length});a.push.apply(a,Xt([],Bt(s),!1))}}return!1},t.prototype.replace=function(e){var r=this.heapArray[0];return this.heapArray[0]=e,this._sortNodeDown(0),r},t.prototype.size=function(){return this.length},t.prototype.top=function(e){return e===void 0&&(e=1),this.heapArray.length===0||e<=0?[]:this.heapArray.length===1||e===1?[this.heapArray[0]]:e>=this.heapArray.length?Xt([],Bt(this.heapArray),!1):this._topN_push(~~e)},t.prototype.toArray=function(){return Xt([],Bt(this.heapArray),!1)},t.prototype.toString=function(){return this.heapArray.toString()},t.prototype.get=function(e){return this.heapArray[e]},t.prototype.getChildrenOf=function(e){var r=this;return t.getChildrenIndexOf(e).map(function(n){return r.heapArray[n]}).filter(function(n){return n!==void 0})},t.prototype.getParentOf=function(e){var r=t.getParentIndexOf(e);return this.heapArray[r]},t.prototype[Symbol.iterator]=function(){return YM(this,function(e){switch(e.label){case 0:return this.length?[4,this.pop()]:[3,2];case 1:return e.sent(),[3,0];case 2:return[2]}})},t.prototype.iterator=function(){return this.toArray()},t.prototype._applyLimit=function(){if(this._limit>0&&this._limit<this.heapArray.length)for(var e=this.heapArray.length-this._limit;e;)this.heapArray.pop(),--e},t.prototype._bottomN_push=function(e){var r=new t(this.compare);r.limit=e,r.heapArray=this.heapArray.slice(-e),r.init();for(var n=this.heapArray.length-1-e,a=t.getParentIndexOf(n),i=[],s=n;s>a;--s)i.push(s);for(var o=this.heapArray;i.length;){var s=i.shift();this.compare(o[s],r.peek())>0&&(r.replace(o[s]),s%2&&i.push(t.getParentIndexOf(s)))}return r.toArray()},t.prototype._moveNode=function(e,r){var n;n=Bt([this.heapArray[r],this.heapArray[e]],2),this.heapArray[e]=n[0],this.heapArray[r]=n[1]},t.prototype._sortNodeDown=function(e){for(var r=this.heapArray.length;;){var n=2*e+1,a=n+1,i=e;if(n<r&&this.compare(this.heapArray[n],this.heapArray[i])<0&&(i=n),a<r&&this.compare(this.heapArray[a],this.heapArray[i])<0&&(i=a),i===e)break;this._moveNode(e,i),e=i}},t.prototype._sortNodeUp=function(e){for(;e>0;){var r=t.getParentIndexOf(e);if(this.compare(this.heapArray[e],this.heapArray[r])<0)this._moveNode(e,r),e=r;else break}},t.prototype._topN_push=function(e){var r=new t(this._invertedCompare);r.limit=e;for(var n=[0],a=this.heapArray;n.length;){var i=n.shift();i<a.length&&(r.length<e?(r.push(a[i]),n.push.apply(n,Xt([],Bt(t.getChildrenIndexOf(i)),!1))):this.compare(a[i],r.peek())<0&&(r.replace(a[i]),n.push.apply(n,Xt([],Bt(t.getChildrenIndexOf(i)),!1))))}return r.toArray()},t.prototype._topN_fill=function(e){var r=this.heapArray,n=new t(this._invertedCompare);n.limit=e,n.heapArray=r.slice(0,e),n.init();for(var a=t.getParentIndexOf(e-1)+1,i=[],s=a;s<e;++s)i.push.apply(i,Xt([],Bt(t.getChildrenIndexOf(s).filter(function(o){return o<r.length})),!1));for((e-1)%2&&i.push(e);i.length;){var s=i.shift();s<r.length&&this.compare(r[s],n.peek())<0&&(n.replace(r[s]),i.push.apply(i,Xt([],Bt(t.getChildrenIndexOf(s)),!1)))}return n.toArray()},t.prototype._topN_heap=function(e){for(var r=this.clone(),n=[],a=0;a<e;++a)n.push(r.pop());return n},t.prototype._topIdxOf=function(e){if(!e.length)return-1;for(var r=0,n=e[r],a=1;a<e.length;++a){var i=this.compare(e[a],n);i<0&&(r=a,n=e[a])}return r},t.prototype._topOf=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=new t(this.compare);return n.init(e),n.peek()},t}();class zu{constructor(e,r,n=[],a,i){$e(this,"source");$e(this,"relations");$e(this,"target");$e(this,"cmp");if(this.source=e,this.target=r,this.cmp=i,this.relations=n.map(({value:s,important:o})=>({value:s,important:o})),a)for(this.relations.push(a);this.relations.length>=2;){const s=this.relations[this.relations.length-2],o=this.relations[this.relations.length-1];if(s.important&&!o.important)break;if(s.important){const f=s.value,u=o.value;this.cmp?this.cmp(f,u)<0&&(s.value=o.value):s.value=f<u?f:u}else s.important=o.important,s.value=o.value;this.relations.pop()}}push(e,r){return new zu(this.target,e,this.relations,r,this.cmp)}important(){return this.relations.length>0?this.relations[0].important:!1}ordering(e){if(this.important()&&!e.important())return 1;if(!this.important()&&e.important())return-1;const r=this.relations.length,n=e.relations.length;for(let a=0;a<Math.min(r,n);a++){if(!this.relations[a].important&&!e.relations[a].important)return 0;if(!this.relations[a].important)return-1;if(!e.relations[a].important)return 1;if(this.cmp){const i=this.cmp(this.relations[a].value,e.relations[a].value);if(i!==0)return i}else{if(this.relations[a].value<e.relations[a].value)return-1;if(this.relations[a].value>e.relations[a].value)return 1}}return 0}}class ej{constructor(e,r,n,a,i,s,o){$e(this,"members");$e(this,"manager");$e(this,"fetcher");$e(this,"notifier");$e(this,"launchedRelations");$e(this,"modulator");$e(this,"fetchNotifier");$e(this,"memberNotifer");$e(this,"fetchedPages");$e(this,"state");$e(this,"ordered");$e(this,"polling");$e(this,"toPoll");$e(this,"pollInterval");$e(this,"cancled",!1);$e(this,"logger",or(this));this.ordered=i,this.manager=e,this.fetcher=r,this.notifier=n,this.polling=s,this.pollInterval=o,this.toPoll=new Yi((f,u)=>f.chain.ordering(u.chain)),this.launchedRelations=new Yi((f,u)=>f.ordering(u)),this.fetchedPages=new Yi((f,u)=>f.relation.ordering(u.relation)),this.state=[],this.fetchNotifier={error:f=>{this.notifier.error(f,{})},scheduleFetch:({target:f,expected:u},{chain:l})=>{l.target=f,this.toPoll.push({chain:l,expected:u}),this.notifier.mutable({},{})},pageFetched:(f,{chain:u,index:l})=>{this.logger.debug(`Page fetched ${f.url}`),this.modulator.finished(l),this.handleFetched(f,u)},relationFound:({from:f,target:u},{chain:l})=>{f.expected.push(u.node),this.logger.debug(`Relation found ${u.node}`);const d=l.push(u.node,this.extractRelation(u));d.ordering(l)>=0?this.fetch(d,[f.target]):this.logger.error("Found relation backwards in time, this indicates wrong tree structure. Ignoring")}},this.memberNotifer={error:f=>{this.notifier.error(f,{})},done:(f,u)=>{this.logger.debug(`Member done ${u.target}`);const l=this.findOrDefault(u);l.extracting-=1,this.notifier.fragment(f,{}),this.checkEmit()},extracted:f=>{this.members.push(f)}},this.modulator=a.create("fetcher",new Yi((f,u)=>f.item.chain.ordering(u.item.chain)),{ready:({item:{chain:f,expected:u},index:l})=>{this.fetcher.fetch({target:f.target,expected:u},{chain:f,index:l},this.fetchNotifier)}},f=>{const{chain:u,expected:l}=f,d=this.ordered==="ascending"?(c,h)=>c>h?1:c<h?-1:0:(c,h)=>c>h?-1:c<h?1:0;return{chain:new zu(u.source,u.target,u.relations,void 0,d),expected:l}}),i=="ascending"?this.members=new Yi((f,u)=>f.id.equals(u.id)||f.timestamp==u.timestamp?0:!f&&u?1:f&&!u||f.timestamp<u.timestamp?-1:1):this.members=new Yi((f,u)=>f.id.equals(u.id)||f.timestamp==u.timestamp?0:!f&&u?-1:f&&!u||f.timestamp<u.timestamp?1:-1)}start(e){this.logger.debug(`Starting at ${e}`);const r=(n,a)=>n>a?1:n<a?-1:0;this.ordered==="ascending"?this.fetch(new zu("",e,[],void 0,(n,a)=>1*r(n,a)).push(e,{important:!1,value:0}),[]):this.fetch(new zu("",e,[],void 0,(n,a)=>-1*r(n,a)).push(e,{important:!1,value:0}),[])}cancel(){this.cancled=!0}checkEnd(){if(!this.cancled&&this.launchedRelations.isEmpty()){this.logger.debug("No more launched relations");let e=this.members.pop();for(;e;)this.notifier.member(e,{}),e=this.members.pop();this.polling?(this.logger.debug("Polling is enabled, settings timeout"),setTimeout(()=>{if(this.cancled)return;this.notifier.pollCycle({},{});const r=this.toPoll.toArray();this.logger.debug(`Let's repoll (${JSON.stringify(r.map(n=>n.chain.target))})`),this.toPoll.clear();for(const n of r)this.launchedRelations.push(n.chain),this.findOrDefault(n.chain).inFlight+=1,this.findOrDefault(n.chain).closed=!1,this.modulator.push(n)},this.pollInterval||1e3)):(this.logger.debug("Closing the notifier, polling is not set"),this.cancled=!0,this.notifier.close({},{}))}}findOrDefault(e){const r=this.state.find(a=>a.rel.ordering(e)==0);if(r)return r;const n={rel:e,inFlight:0,extracting:0,closed:!1};return this.state.push(n),n}extractRelation(e){const r=i=>{try{return new Date(i)}catch{return i}};let n;const a=e.relations.filter(i=>i.type.value===Qe.TREE.custom("InBetweenRelation")).flatMap(i=>i.value||[]).flatMap(i=>{let s;i.termType==="Literal"&&(s=i.datatype.value);const o=_y(i.value,s,"Z");return o?[o]:[]});return this.ordered==="ascending"&&(n=a.map(i=>i.min).reduce((i,s)=>i?s&&i>s?s:i:s,n)),this.ordered==="descending"&&(n=a.map(i=>i.max).reduce((i,s)=>i&&(!s||i>s)?i:s,n)),this.ordered==="ascending"?n=e.relations.filter(i=>tj.some(s=>i.type.value===s.value)).filter(i=>i.value).map(i=>r(i.value[0].value)).reduce((i,s)=>i?s&&i>s?s:i:s,n):this.ordered==="descending"&&(n=e.relations.filter(i=>rj.some(s=>i.type.value===s.value)).filter(i=>i.value).map(i=>r(i.value[0].value)).reduce((i,s)=>i&&(!s||i>s)?i:s,n)),n!==void 0?{important:!0,value:n}:{important:!1,value:0}}fetch(e,r){this.launchedRelations.push(e),this.findOrDefault(e).inFlight+=1,this.modulator.push({chain:e,expected:r})}handleFetched(e,r){this.fetchedPages.push({page:e,relation:r});const n=this.findOrDefault(r);n.extracting+=1,n.inFlight-=1,this.manager.extractMembers(e,r,this.memberNotifer)}checkEmit(){var r;let e=this.launchedRelations.pop();for(;e;){const n=((r=this.launchedRelations.peek())==null?void 0:r.relations[0])||{value:0,important:!1},a=this.findOrDefault(e);if(a.inFlight!=0||a.extracting!=0)break;if(n.important){a.closed=!0;let i=this.members.pop();for(;i;){if(!i.timestamp)this.notifier.member(i,{});else if(this.ordered=="ascending"?i.timestamp<n.value:i.timestamp>n.value)this.notifier.member(i,{});else break;i=this.members.pop()}i&&this.members.push(i)}e=this.launchedRelations.pop()}e&&this.launchedRelations.push(e),this.checkEnd()}}const tj=[Qe.TREE.terms.GreaterThanRelation,Qe.TREE.terms.GreaterThanOrEqualToRelation],rj=[Qe.TREE.terms.LessThanRelation,Qe.TREE.terms.LessThanOrEqualToRelation],ZO=new Kc.DataFactory;function nj(t,e="none",r,n){return new aj(PL(t),e,r,n)}async function ij(t,e,r,n,a){const i=or("getShape");if(a.shapeFile){const l=a.shapeFile.startsWith("http")?a.shapeFile:"file://"+a.shapeFile,d=await ib.rdfDereferencer.dereference(a.shapeFile,{localFiles:!0,fetch:a.fetch}),c=await dL(d.data);a.shape={quads:c,shapeId:ZO.namedNode(l)}}let s=a.noShape?[]:Rt(r,t,Qe.TREE.terms.shape),o=Rt(r,t,Qe.LDES.terms.timestampPath),f=Rt(r,t,Qe.LDES.terms.versionOfPath);if(i.debug(`Found ${s.length} shapes, ${o.length} timestampPaths, ${f.length} isVersionOfPaths`),s.length===0||o.length===0||f.length===0)try{i.debug(`Maybe find more info at ${e.value}`);const l=await n.dereference(e.value,{localFiles:!0,fetch:a.fetch});r=wi.RdfStore.createDefault(),await new Promise((c,h)=>{r.import(l.data).on("end",c).on("error",h)});const d=Rt(r,null,Qe.TREE.terms.shape);d&&(s=a.noShape?[]:d),o.length||(o=Rt(r,null,Qe.LDES.terms.timestampPath)),f.length||(f=Rt(r,null,Qe.LDES.terms.versionOfPath)),i.debug(`Found ${s.length} shapes, ${o.length} timestampPaths, ${f.length} isVersionOfPaths`)}catch(l){i.error(`Failed to fetch ${t.value}`),i.error(l)}s.length>1&&i.error(`Expected at most one shape id, found ${s.length}`),o.length>1&&i.error(`Expected at most one timestamp path, found ${o.length}`),f.length>1&&i.error(`Expected at most one versionOf path, found ${f.length}`);const u=wi.RdfStore.createDefault();if(a.shape){for(const l of a.shape.quads)u.addQuad(l);a.shape.shapeId=hL(u)}else{const l=s[0];if(l&&l.termType==="NamedNode"&&r.getQuads(l,null,null).length===0){const d=await ib.rdfDereferencer.dereference(l.value);await new Promise((c,h)=>{r.import(d.data).on("end",c).on("error",h)})}}return{extractor:new zM.CBDShapeExtractor(a.shape?u:r,n,{cbdDefaultGraph:a.onlyDefaultGraph,fetch:a.fetch}),shape:a.shape?a.shape.shapeId:s[0],timestampPath:o[0],isVersionOfPath:f[0]}}class aj{constructor(e,r="none",n,a){$e(this,"streamId");$e(this,"config");$e(this,"dereferencer");$e(this,"fetcher");$e(this,"memberManager");$e(this,"strategy");$e(this,"ordered");$e(this,"modulatorFactory");$e(this,"stateFactory");$e(this,"listeners",{});$e(this,"logger",or(this));this.config=e,this.dereferencer=n??ib.rdfDereferencer,this.streamId=a,this.ordered=r,this.stateFactory=e.stateFile?new kM(e.stateFile):new BM,this.modulatorFactory=new pL(this.stateFactory),typeof xe<"u"&&xe.on("SIGINT",()=>{this.logger.info("Caught interrupt signal, saving"),this.stateFactory.write(),xe.exit()})}on(e,r){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(r)}async init(e,r,n){const a=await oj(this.config.url,this.dereferencer,this.config.fetch),i=ZO.namedNode(this.config.url),s=a.data.getQuads(null,Qe.TREE.terms.view,null,null);let o=i;this.config.urlIsView||(s.length===0?this.logger.error("Did not find tree:view predicate, this is required to interpret the LDES"):o=s[0].object);const f=await ij(i,o,a.data,this.dereferencer,this.config),u=this.stateFactory.build("members",c=>{const h=[...c.values()];return JSON.stringify(h)},c=>new Set(JSON.parse(c)),()=>new Set),l=this.config.lastVersionOnly?this.stateFactory.build("versions",c=>{const h=[...c.entries()];return JSON.stringify(h)},c=>new Map(JSON.parse(c)),()=>new Map):void 0;if(this.streamId=this.streamId||s[0].subject,this.memberManager=new ZM(this.streamId||s[0].subject,u.item,f),this.logger.debug(`timestampPath ${!!f.timestampPath}`),this.ordered!=="none"&&!f.timestampPath)throw"Can only emit members in order, if LDES is configured with timestampPath";this.config.condition=EL(this.config.condition,this.config.defaultTimezone,this.config.before,this.config.after,f.timestampPath),this.fetcher=new XM(this.dereferencer,this.config.loose,this.config.condition,this.config.defaultTimezone,this.config.includeMetadata||!1,this.config.fetch);const d={error:c=>this.emit("error",c),fragment:c=>this.emit("fragment",c),member:c=>{if(this.config.condition.matchMember(c)){if(this.config.condition.memberEmitted(c),c.isVersionOf&&c.timestamp&&l){const h=l.item;if(h.has(c.isVersionOf)){const m=h.get(c.isVersionOf);if(c.timestamp>m)h.set(c.isVersionOf,c.timestamp);else return}else h.set(c.isVersionOf,c.timestamp)}e(wL(c,this.config.materialize===!0,f))}},pollCycle:()=>{this.config.condition.poll(),this.emit("poll",void 0)},mutable:()=>{this.emit("mutable",void 0)},close:()=>{this.stateFactory.write(),r()}};this.config.lastVersionOnly&&(this.ordered="descending"),this.strategy=this.ordered!=="none"?new ej(this.memberManager,this.fetcher,d,n,this.ordered,this.config.polling,this.config.pollInterval):new JM(this.memberManager,this.fetcher,d,n,this.config.polling,this.config.pollInterval),this.logger.debug(`Found ${s.length} views, choosing ${o.value}`),this.strategy.start(o.value)}stream(e){const r=QM(),n={start:async a=>{this.on("error",i=>{this.stateFactory.write(),this.memberManager.close(),this.fetcher.close(),a.error(i)}),this.modulatorFactory.pause(),await this.init(i=>{a.enqueue(i),QO(r)},()=>a.close(),this.modulatorFactory)},pull:async()=>{QO(r),this.modulatorFactory.unpause(),await r.waiting,this.modulatorFactory.pause()},cancel:async()=>{this.logger.info("Stream canceled"),this.stateFactory.write(),this.strategy.cancel(),this.memberManager.close(),this.fetcher.close()}};return new ReadableStream(n,e)}emit(e,r){(this.listeners[e]||[]).forEach(function(n){n(r)})}}async function oj(t,e,r){const n=await e.dereference(t,{localFiles:!0,fetch:r}),a=n.url,i=wi.RdfStore.createDefault();return await new Promise((s,o)=>{i.import(n.data).on("end",s).on("error",o)}),{url:a,data:i}}self.onmessage=async t=>{const{url:e,range:r}=t.data;console.log(t.data),await sj(e,r,postMessage)};async function sj(t,e,r){const n={url:t,polling:!1,fetch:gL({safe:!0})};e&&(n.after=new Date(e[0]),n.before=new Date(e[1]));const a=nj(n);for await(const i of uj(a.stream()))if(i){const s=i.quads.find(f=>f.predicate.value==="http://www.w3.org/2004/02/skos/core#prefLabel")||i.quads.find(f=>f.predicate.value===Qe.DC.title),o=i.quads.find(f=>f.predicate.value==="http://www.w3.org/ns/dcat#centroid")||i.quads.find(f=>f.predicate.value==="http://www.opengis.net/ont/geosparql#asWKT");if(o&&o.object.datatype.value==="http://www.opengis.net/ont/geosparql#wktLiteral"){const u=o.object.value.match(/POINT\s*\(([^)]+)\)/)[1].split(" ");r({member:{id:i.id,label:s==null?void 0:s.object.value,modified:i.timestamp,coords:[parseFloat(u[1]),parseFloat(u[0])]}})}}r({end:Date.now()})}function uj(t){const e=t.getReader();return{[Symbol.asyncIterator](){return{async next(){const{done:r,value:n}=await e.read();return r?(e.releaseLock(),{done:!0}):{done:!1,value:n}}}}}}})();
