var Lq=Object.defineProperty;var Dq=(e,t,r)=>t in e?Lq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Ye=(e,t,r)=>Dq(e,typeof t!="symbol"?t+"":t,r);function Nq(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();const Ro=globalThis||void 0||self;/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function xS(e){const t=Object.create(null);for(const r of e.split(","))t[r]=1;return r=>r in t}const rr={},Ru=[],ga=()=>{},Mq=()=>!1,i0=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),TS=e=>e.startsWith("onUpdate:"),on=Object.assign,RS=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},kq=Object.prototype.hasOwnProperty,Zt=(e,t)=>kq.call(e,t),Rt=Array.isArray,Au=e=>a0(e)==="[object Map]",DM=e=>a0(e)==="[object Set]",It=e=>typeof e=="function",_r=e=>typeof e=="string",Xa=e=>typeof e=="symbol",sr=e=>e!==null&&typeof e=="object",NM=e=>(sr(e)||It(e))&&It(e.then)&&It(e.catch),MM=Object.prototype.toString,a0=e=>MM.call(e),Fq=e=>a0(e).slice(8,-1),kM=e=>a0(e)==="[object Object]",AS=e=>_r(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,nh=xS(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),o0=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},jq=/-(\w)/g,Ti=o0(e=>e.replace(jq,(t,r)=>r?r.toUpperCase():"")),Bq=/\B([A-Z])/g,$o=o0(e=>e.replace(Bq,"-$1").toLowerCase()),s0=o0(e=>e.charAt(0).toUpperCase()+e.slice(1)),Iy=o0(e=>e?`on${s0(e)}`:""),Oo=(e,t)=>!Object.is(e,t),Oy=(e,...t)=>{for(let r=0;r<e.length;r++)e[r](...t)},FM=(e,t,r,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:r})},qq=e=>{const t=parseFloat(e);return isNaN(t)?e:t},$q=e=>{const t=_r(e)?Number(e):NaN;return isNaN(t)?e:t};let DT;const u0=()=>DT||(DT=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof Ro<"u"?Ro:{});function Fr(e){if(Rt(e)){const t={};for(let r=0;r<e.length;r++){const n=e[r],a=_r(n)?zq(n):Fr(n);if(a)for(const i in a)t[i]=a[i]}return t}else if(_r(e)||sr(e))return e}const Uq=/;(?![^(]*\))/g,Hq=/:([^]+)/,Vq=/\/\*[^]*?\*\//g;function zq(e){const t={};return e.replace(Vq,"").split(Uq).forEach(r=>{if(r){const n=r.split(Hq);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function vt(e){let t="";if(_r(e))t=e;else if(Rt(e))for(let r=0;r<e.length;r++){const n=vt(e[r]);n&&(t+=n+" ")}else if(sr(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}function nn(e){if(!e)return null;let{class:t,style:r}=e;return t&&!_r(t)&&(e.class=vt(t)),r&&(e.style=Fr(r)),e}const Gq="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Wq=xS(Gq);function jM(e){return!!e||e===""}const BM=e=>!!(e&&e.__v_isRef===!0),qt=e=>_r(e)?e:e==null?"":Rt(e)||sr(e)&&(e.toString===MM||!It(e.toString))?BM(e)?qt(e.value):JSON.stringify(e,qM,2):String(e),qM=(e,t)=>BM(t)?qM(e,t.value):Au(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[n,a],i)=>(r[Py(n,i)+" =>"]=a,r),{})}:DM(t)?{[`Set(${t.size})`]:[...t.values()].map(r=>Py(r))}:Xa(t)?Py(t):sr(t)&&!Rt(t)&&!kM(t)?String(t):t,Py=(e,t="")=>{var r;return Xa(e)?`Symbol(${(r=e.description)!=null?r:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Cn;class Kq{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Cn,!t&&Cn&&(this.index=(Cn.scopes||(Cn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].pause();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].resume();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].resume()}}run(t){if(this._active){const r=Cn;try{return Cn=this,t()}finally{Cn=r}}}on(){Cn=this}off(){Cn=this.parent}stop(t){if(this._active){this._active=!1;let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(this.effects.length=0,r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0}}}function $M(){return Cn}function Zq(e,t=!1){Cn&&Cn.cleanups.push(e)}let or;const Cy=new WeakSet;class UM{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Cn&&Cn.active&&Cn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Cy.has(this)&&(Cy.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||VM(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,NT(this),zM(this);const t=or,r=Vi;or=this,Vi=!0;try{return this.fn()}finally{GM(this),or=t,Vi=r,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)PS(t);this.deps=this.depsTail=void 0,NT(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Cy.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Dw(this)&&this.run()}get dirty(){return Dw(this)}}let HM=0,ih,ah;function VM(e,t=!1){if(e.flags|=8,t){e.next=ah,ah=e;return}e.next=ih,ih=e}function IS(){HM++}function OS(){if(--HM>0)return;if(ah){let t=ah;for(ah=void 0;t;){const r=t.next;t.next=void 0,t.flags&=-9,t=r}}let e;for(;ih;){let t=ih;for(ih=void 0;t;){const r=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=r}}if(e)throw e}function zM(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function GM(e){let t,r=e.depsTail,n=r;for(;n;){const a=n.prevDep;n.version===-1?(n===r&&(r=a),PS(n),Yq(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=a}e.deps=t,e.depsTail=r}function Dw(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(WM(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function WM(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===yh))return;e.globalVersion=yh;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!Dw(e)){e.flags&=-3;return}const r=or,n=Vi;or=e,Vi=!0;try{zM(e);const a=e.fn(e._value);(t.version===0||Oo(a,e._value))&&(e._value=a,t.version++)}catch(a){throw t.version++,a}finally{or=r,Vi=n,GM(e),e.flags&=-3}}function PS(e,t=!1){const{dep:r,prevSub:n,nextSub:a}=e;if(n&&(n.nextSub=a,e.prevSub=void 0),a&&(a.prevSub=n,e.nextSub=void 0),r.subs===e&&(r.subs=n,!n&&r.computed)){r.computed.flags&=-5;for(let i=r.computed.deps;i;i=i.nextDep)PS(i,!0)}!t&&!--r.sc&&r.map&&r.map.delete(r.key)}function Yq(e){const{prevDep:t,nextDep:r}=e;t&&(t.nextDep=r,e.prevDep=void 0),r&&(r.prevDep=t,e.nextDep=void 0)}let Vi=!0;const KM=[];function Uo(){KM.push(Vi),Vi=!1}function Ho(){const e=KM.pop();Vi=e===void 0?!0:e}function NT(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const r=or;or=void 0;try{t()}finally{or=r}}}let yh=0;class Qq{constructor(t,r){this.sub=t,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class CS{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!or||!Vi||or===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==or)r=this.activeLink=new Qq(or,this),or.deps?(r.prevDep=or.depsTail,or.depsTail.nextDep=r,or.depsTail=r):or.deps=or.depsTail=r,ZM(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const n=r.nextDep;n.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=n),r.prevDep=or.depsTail,r.nextDep=void 0,or.depsTail.nextDep=r,or.depsTail=r,or.deps===r&&(or.deps=n)}return r}trigger(t){this.version++,yh++,this.notify(t)}notify(t){IS();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{OS()}}}function ZM(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)ZM(n)}const r=e.dep.subs;r!==e&&(e.prevSub=r,r&&(r.nextSub=e)),e.dep.subs=e}}const jm=new WeakMap,Bs=Symbol(""),Nw=Symbol(""),gh=Symbol("");function bn(e,t,r){if(Vi&&or){let n=jm.get(e);n||jm.set(e,n=new Map);let a=n.get(r);a||(n.set(r,a=new CS),a.map=n,a.key=r),a.track()}}function Va(e,t,r,n,a,i){const o=jm.get(e);if(!o){yh++;return}const s=u=>{u&&u.trigger()};if(IS(),t==="clear")o.forEach(s);else{const u=Rt(e),l=u&&AS(r);if(u&&r==="length"){const f=Number(n);o.forEach((d,c)=>{(c==="length"||c===gh||!Xa(c)&&c>=f)&&s(d)})}else switch((r!==void 0||o.has(void 0))&&s(o.get(r)),l&&s(o.get(gh)),t){case"add":u?l&&s(o.get("length")):(s(o.get(Bs)),Au(e)&&s(o.get(Nw)));break;case"delete":u||(s(o.get(Bs)),Au(e)&&s(o.get(Nw)));break;case"set":Au(e)&&s(o.get(Bs));break}}OS()}function Xq(e,t){const r=jm.get(e);return r&&r.get(t)}function hu(e){const t=Vt(e);return t===e?t:(bn(t,"iterate",gh),Si(e)?t:t.map(vn))}function l0(e){return bn(e=Vt(e),"iterate",gh),e}const Jq={__proto__:null,[Symbol.iterator](){return Ly(this,Symbol.iterator,vn)},concat(...e){return hu(this).concat(...e.map(t=>Rt(t)?hu(t):t))},entries(){return Ly(this,"entries",e=>(e[1]=vn(e[1]),e))},every(e,t){return Oa(this,"every",e,t,void 0,arguments)},filter(e,t){return Oa(this,"filter",e,t,r=>r.map(vn),arguments)},find(e,t){return Oa(this,"find",e,t,vn,arguments)},findIndex(e,t){return Oa(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Oa(this,"findLast",e,t,vn,arguments)},findLastIndex(e,t){return Oa(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Oa(this,"forEach",e,t,void 0,arguments)},includes(...e){return Dy(this,"includes",e)},indexOf(...e){return Dy(this,"indexOf",e)},join(e){return hu(this).join(e)},lastIndexOf(...e){return Dy(this,"lastIndexOf",e)},map(e,t){return Oa(this,"map",e,t,void 0,arguments)},pop(){return Fl(this,"pop")},push(...e){return Fl(this,"push",e)},reduce(e,...t){return MT(this,"reduce",e,t)},reduceRight(e,...t){return MT(this,"reduceRight",e,t)},shift(){return Fl(this,"shift")},some(e,t){return Oa(this,"some",e,t,void 0,arguments)},splice(...e){return Fl(this,"splice",e)},toReversed(){return hu(this).toReversed()},toSorted(e){return hu(this).toSorted(e)},toSpliced(...e){return hu(this).toSpliced(...e)},unshift(...e){return Fl(this,"unshift",e)},values(){return Ly(this,"values",vn)}};function Ly(e,t,r){const n=l0(e),a=n[t]();return n!==e&&!Si(e)&&(a._next=a.next,a.next=()=>{const i=a._next();return i.value&&(i.value=r(i.value)),i}),a}const e$=Array.prototype;function Oa(e,t,r,n,a,i){const o=l0(e),s=o!==e&&!Si(e),u=o[t];if(u!==e$[t]){const d=u.apply(e,i);return s?vn(d):d}let l=r;o!==e&&(s?l=function(d,c){return r.call(this,vn(d),c,e)}:r.length>2&&(l=function(d,c){return r.call(this,d,c,e)}));const f=u.call(o,l,n);return s&&a?a(f):f}function MT(e,t,r,n){const a=l0(e);let i=r;return a!==e&&(Si(e)?r.length>3&&(i=function(o,s,u){return r.call(this,o,s,u,e)}):i=function(o,s,u){return r.call(this,o,vn(s),u,e)}),a[t](i,...n)}function Dy(e,t,r){const n=Vt(e);bn(n,"iterate",gh);const a=n[t](...r);return(a===-1||a===!1)&&NS(r[0])?(r[0]=Vt(r[0]),n[t](...r)):a}function Fl(e,t,r=[]){Uo(),IS();const n=Vt(e)[t].apply(e,r);return OS(),Ho(),n}const t$=xS("__proto__,__v_isRef,__isVue"),YM=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Xa));function r$(e){Xa(e)||(e=String(e));const t=Vt(this);return bn(t,"has",e),t.hasOwnProperty(e)}class QM{constructor(t=!1,r=!1){this._isReadonly=t,this._isShallow=r}get(t,r,n){if(r==="__v_skip")return t.__v_skip;const a=this._isReadonly,i=this._isShallow;if(r==="__v_isReactive")return!a;if(r==="__v_isReadonly")return a;if(r==="__v_isShallow")return i;if(r==="__v_raw")return n===(a?i?d$:tk:i?ek:JM).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const o=Rt(t);if(!a){let u;if(o&&(u=Jq[r]))return u;if(r==="hasOwnProperty")return r$}const s=Reflect.get(t,r,Gr(t)?t:n);return(Xa(r)?YM.has(r):t$(r))||(a||bn(t,"get",r),i)?s:Gr(s)?o&&AS(r)?s:s.value:sr(s)?a?rk(s):Ja(s):s}}class XM extends QM{constructor(t=!1){super(!1,t)}set(t,r,n,a){let i=t[r];if(!this._isShallow){const u=Us(i);if(!Si(n)&&!Us(n)&&(i=Vt(i),n=Vt(n)),!Rt(t)&&Gr(i)&&!Gr(n))return u?!1:(i.value=n,!0)}const o=Rt(t)&&AS(r)?Number(r)<t.length:Zt(t,r),s=Reflect.set(t,r,n,Gr(t)?t:a);return t===Vt(a)&&(o?Oo(n,i)&&Va(t,"set",r,n):Va(t,"add",r,n)),s}deleteProperty(t,r){const n=Zt(t,r);t[r];const a=Reflect.deleteProperty(t,r);return a&&n&&Va(t,"delete",r,void 0),a}has(t,r){const n=Reflect.has(t,r);return(!Xa(r)||!YM.has(r))&&bn(t,"has",r),n}ownKeys(t){return bn(t,"iterate",Rt(t)?"length":Bs),Reflect.ownKeys(t)}}class n$ extends QM{constructor(t=!1){super(!0,t)}set(t,r){return!0}deleteProperty(t,r){return!0}}const i$=new XM,a$=new n$,o$=new XM(!0);const Mw=e=>e,Cp=e=>Reflect.getPrototypeOf(e);function s$(e,t,r){return function(...n){const a=this.__v_raw,i=Vt(a),o=Au(i),s=e==="entries"||e===Symbol.iterator&&o,u=e==="keys"&&o,l=a[e](...n),f=r?Mw:t?kw:vn;return!t&&bn(i,"iterate",u?Nw:Bs),{next(){const{value:d,done:c}=l.next();return c?{value:d,done:c}:{value:s?[f(d[0]),f(d[1])]:f(d),done:c}},[Symbol.iterator](){return this}}}}function Lp(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function u$(e,t){const r={get(a){const i=this.__v_raw,o=Vt(i),s=Vt(a);e||(Oo(a,s)&&bn(o,"get",a),bn(o,"get",s));const{has:u}=Cp(o),l=t?Mw:e?kw:vn;if(u.call(o,a))return l(i.get(a));if(u.call(o,s))return l(i.get(s));i!==o&&i.get(a)},get size(){const a=this.__v_raw;return!e&&bn(Vt(a),"iterate",Bs),Reflect.get(a,"size",a)},has(a){const i=this.__v_raw,o=Vt(i),s=Vt(a);return e||(Oo(a,s)&&bn(o,"has",a),bn(o,"has",s)),a===s?i.has(a):i.has(a)||i.has(s)},forEach(a,i){const o=this,s=o.__v_raw,u=Vt(s),l=t?Mw:e?kw:vn;return!e&&bn(u,"iterate",Bs),s.forEach((f,d)=>a.call(i,l(f),l(d),o))}};return on(r,e?{add:Lp("add"),set:Lp("set"),delete:Lp("delete"),clear:Lp("clear")}:{add(a){!t&&!Si(a)&&!Us(a)&&(a=Vt(a));const i=Vt(this);return Cp(i).has.call(i,a)||(i.add(a),Va(i,"add",a,a)),this},set(a,i){!t&&!Si(i)&&!Us(i)&&(i=Vt(i));const o=Vt(this),{has:s,get:u}=Cp(o);let l=s.call(o,a);l||(a=Vt(a),l=s.call(o,a));const f=u.call(o,a);return o.set(a,i),l?Oo(i,f)&&Va(o,"set",a,i):Va(o,"add",a,i),this},delete(a){const i=Vt(this),{has:o,get:s}=Cp(i);let u=o.call(i,a);u||(a=Vt(a),u=o.call(i,a)),s&&s.call(i,a);const l=i.delete(a);return u&&Va(i,"delete",a,void 0),l},clear(){const a=Vt(this),i=a.size!==0,o=a.clear();return i&&Va(a,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(a=>{r[a]=s$(a,e,t)}),r}function LS(e,t){const r=u$(e,t);return(n,a,i)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?n:Reflect.get(Zt(r,a)&&a in n?r:n,a,i)}const l$={get:LS(!1,!1)},f$={get:LS(!1,!0)},c$={get:LS(!0,!1)};const JM=new WeakMap,ek=new WeakMap,tk=new WeakMap,d$=new WeakMap;function h$(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function p$(e){return e.__v_skip||!Object.isExtensible(e)?0:h$(Fq(e))}function Ja(e){return Us(e)?e:DS(e,!1,i$,l$,JM)}function m$(e){return DS(e,!1,o$,f$,ek)}function rk(e){return DS(e,!0,a$,c$,tk)}function DS(e,t,r,n,a){if(!sr(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=a.get(e);if(i)return i;const o=p$(e);if(o===0)return e;const s=new Proxy(e,o===2?n:r);return a.set(e,s),s}function Iu(e){return Us(e)?Iu(e.__v_raw):!!(e&&e.__v_isReactive)}function Us(e){return!!(e&&e.__v_isReadonly)}function Si(e){return!!(e&&e.__v_isShallow)}function NS(e){return e?!!e.__v_raw:!1}function Vt(e){const t=e&&e.__v_raw;return t?Vt(t):e}function Vo(e){return!Zt(e,"__v_skip")&&Object.isExtensible(e)&&FM(e,"__v_skip",!0),e}const vn=e=>sr(e)?Ja(e):e,kw=e=>sr(e)?rk(e):e;function Gr(e){return e?e.__v_isRef===!0:!1}function Je(e){return y$(e,!1)}function y$(e,t){return Gr(e)?e:new g$(e,t)}class g${constructor(t,r){this.dep=new CS,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?t:Vt(t),this._value=r?t:vn(t),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(t){const r=this._rawValue,n=this.__v_isShallow||Si(t)||Us(t);t=n?t:Vt(t),Oo(t,r)&&(this._rawValue=t,this._value=n?t:vn(t),this.dep.trigger())}}function Fe(e){return Gr(e)?e.value:e}function _$(e){return It(e)?e():Fe(e)}const b$={get:(e,t,r)=>t==="__v_raw"?e:Fe(Reflect.get(e,t,r)),set:(e,t,r,n)=>{const a=e[t];return Gr(a)&&!Gr(r)?(a.value=r,!0):Reflect.set(e,t,r,n)}};function nk(e){return Iu(e)?e:new Proxy(e,b$)}class v${constructor(t,r,n){this._object=t,this._key=r,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Xq(Vt(this._object),this._key)}}class w${constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function _h(e,t,r){return Gr(e)?e:It(e)?new w$(e):sr(e)&&arguments.length>1?S$(e,t,r):Je(e)}function S$(e,t,r){const n=e[t];return Gr(n)?n:new v$(e,t,r)}class E${constructor(t,r,n){this.fn=t,this.setter=r,this._value=void 0,this.dep=new CS(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=yh-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&or!==this)return VM(this,!0),!0}get value(){const t=this.dep.track();return WM(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function x$(e,t,r=!1){let n,a;return It(e)?n=e:(n=e.get,a=e.set),new E$(n,a,r)}const Dp={},Bm=new WeakMap;let As;function T$(e,t=!1,r=As){if(r){let n=Bm.get(r);n||Bm.set(r,n=[]),n.push(e)}}function R$(e,t,r=rr){const{immediate:n,deep:a,once:i,scheduler:o,augmentJob:s,call:u}=r,l=S=>a?S:Si(S)||a===!1||a===0?za(S,1):za(S);let f,d,c,p,_=!1,v=!1;if(Gr(e)?(d=()=>e.value,_=Si(e)):Iu(e)?(d=()=>l(e),_=!0):Rt(e)?(v=!0,_=e.some(S=>Iu(S)||Si(S)),d=()=>e.map(S=>{if(Gr(S))return S.value;if(Iu(S))return l(S);if(It(S))return u?u(S,2):S()})):It(e)?t?d=u?()=>u(e,2):e:d=()=>{if(c){Uo();try{c()}finally{Ho()}}const S=As;As=f;try{return u?u(e,3,[p]):e(p)}finally{As=S}}:d=ga,t&&a){const S=d,T=a===!0?1/0:a;d=()=>za(S(),T)}const b=$M(),m=()=>{f.stop(),b&&b.active&&RS(b.effects,f)};if(i&&t){const S=t;t=(...T)=>{S(...T),m()}}let y=v?new Array(e.length).fill(Dp):Dp;const g=S=>{if(!(!(f.flags&1)||!f.dirty&&!S))if(t){const T=f.run();if(a||_||(v?T.some((I,C)=>Oo(I,y[C])):Oo(T,y))){c&&c();const I=As;As=f;try{const C=[T,y===Dp?void 0:v&&y[0]===Dp?[]:y,p];u?u(t,3,C):t(...C),y=T}finally{As=I}}}else f.run()};return s&&s(g),f=new UM(d),f.scheduler=o?()=>o(g,!1):g,p=S=>T$(S,!1,f),c=f.onStop=()=>{const S=Bm.get(f);if(S){if(u)u(S,4);else for(const T of S)T();Bm.delete(f)}},t?n?g(!0):y=f.run():o?o(g.bind(null,!0),!0):f.run(),m.pause=f.pause.bind(f),m.resume=f.resume.bind(f),m.stop=m,m}function za(e,t=1/0,r){if(t<=0||!sr(e)||e.__v_skip||(r=r||new Set,r.has(e)))return e;if(r.add(e),t--,Gr(e))za(e.value,t,r);else if(Rt(e))for(let n=0;n<e.length;n++)za(e[n],t,r);else if(DM(e)||Au(e))e.forEach(n=>{za(n,t,r)});else if(kM(e)){for(const n in e)za(e[n],t,r);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&za(e[n],t,r)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Fh(e,t,r,n){try{return n?e(...n):e()}catch(a){f0(a,t,r)}}function Gi(e,t,r,n){if(It(e)){const a=Fh(e,t,r,n);return a&&NM(a)&&a.catch(i=>{f0(i,t,r)}),a}if(Rt(e)){const a=[];for(let i=0;i<e.length;i++)a.push(Gi(e[i],t,r,n));return a}}function f0(e,t,r,n=!0){const a=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||rr;if(t){let s=t.parent;const u=t.proxy,l=`https://vuejs.org/error-reference/#runtime-${r}`;for(;s;){const f=s.ec;if(f){for(let d=0;d<f.length;d++)if(f[d](e,u,l)===!1)return}s=s.parent}if(i){Uo(),Fh(i,null,10,[e,u,l]),Ho();return}}A$(e,r,a,n,o)}function A$(e,t,r,n=!0,a=!1){if(a)throw e;console.error(e)}const Ln=[];let ua=-1;const Ou=[];let wo=null,Su=0;const ik=Promise.resolve();let qm=null;function xr(e){const t=qm||ik;return e?t.then(this?e.bind(this):e):t}function I$(e){let t=ua+1,r=Ln.length;for(;t<r;){const n=t+r>>>1,a=Ln[n],i=bh(a);i<e||i===e&&a.flags&2?t=n+1:r=n}return t}function MS(e){if(!(e.flags&1)){const t=bh(e),r=Ln[Ln.length-1];!r||!(e.flags&2)&&t>=bh(r)?Ln.push(e):Ln.splice(I$(t),0,e),e.flags|=1,ak()}}function ak(){qm||(qm=ik.then(sk))}function O$(e){Rt(e)?Ou.push(...e):wo&&e.id===-1?wo.splice(Su+1,0,e):e.flags&1||(Ou.push(e),e.flags|=1),ak()}function kT(e,t,r=ua+1){for(;r<Ln.length;r++){const n=Ln[r];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;Ln.splice(r,1),r--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function ok(e){if(Ou.length){const t=[...new Set(Ou)].sort((r,n)=>bh(r)-bh(n));if(Ou.length=0,wo){wo.push(...t);return}for(wo=t,Su=0;Su<wo.length;Su++){const r=wo[Su];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}wo=null,Su=0}}const bh=e=>e.id==null?e.flags&2?-1:1/0:e.id;function sk(e){try{for(ua=0;ua<Ln.length;ua++){const t=Ln[ua];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Fh(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;ua<Ln.length;ua++){const t=Ln[ua];t&&(t.flags&=-2)}ua=-1,Ln.length=0,ok(),qm=null,(Ln.length||Ou.length)&&sk()}}let an=null,uk=null;function $m(e){const t=an;return an=e,uk=e&&e.type.__scopeId||null,t}function bt(e,t=an,r){if(!t||e._n)return e;const n=(...a)=>{n._d&&YT(-1);const i=$m(t);let o;try{o=e(...a)}finally{$m(i),n._d&&YT(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function Po(e,t){if(an===null)return e;const r=m0(an),n=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[i,o,s,u=rr]=t[a];i&&(It(i)&&(i={mounted:i,updated:i}),i.deep&&za(o),n.push({dir:i,instance:r,value:o,oldValue:void 0,arg:s,modifiers:u}))}return e}function ls(e,t,r,n){const a=e.dirs,i=t&&t.dirs;for(let o=0;o<a.length;o++){const s=a[o];i&&(s.oldValue=i[o].value);let u=s.dir[n];u&&(Uo(),Gi(u,r,8,[e.el,s,e,t]),Ho())}}const lk=Symbol("_vte"),fk=e=>e.__isTeleport,oh=e=>e&&(e.disabled||e.disabled===""),FT=e=>e&&(e.defer||e.defer===""),jT=e=>typeof SVGElement<"u"&&e instanceof SVGElement,BT=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,Fw=(e,t)=>{const r=e&&e.to;return _r(r)?t?t(r):null:r},ck={name:"Teleport",__isTeleport:!0,process(e,t,r,n,a,i,o,s,u,l){const{mc:f,pc:d,pbc:c,o:{insert:p,querySelector:_,createText:v,createComment:b}}=l,m=oh(t.props);let{shapeFlag:y,children:g,dynamicChildren:S}=t;if(e==null){const T=t.el=v(""),I=t.anchor=v("");p(T,r,n),p(I,r,n);const C=(D,M)=>{y&16&&(a&&a.isCE&&(a.ce._teleportTarget=D),f(g,D,M,a,i,o,s,u))},B=()=>{const D=t.target=Fw(t.props,_),M=dk(D,t,v,p);D&&(o!=="svg"&&jT(D)?o="svg":o!=="mathml"&&BT(D)&&(o="mathml"),m||(C(D,M),Pm(t,!1)))};m&&(C(r,I),Pm(t,!0)),FT(t.props)?Pn(()=>{B(),t.el.__isMounted=!0},i):B()}else{if(FT(t.props)&&!e.el.__isMounted){Pn(()=>{ck.process(e,t,r,n,a,i,o,s,u,l),delete e.el.__isMounted},i);return}t.el=e.el,t.targetStart=e.targetStart;const T=t.anchor=e.anchor,I=t.target=e.target,C=t.targetAnchor=e.targetAnchor,B=oh(e.props),D=B?r:I,M=B?T:C;if(o==="svg"||jT(I)?o="svg":(o==="mathml"||BT(I))&&(o="mathml"),S?(c(e.dynamicChildren,S,D,a,i,o,s),FS(e,t,!0)):u||d(e,t,D,M,a,i,o,s,!1),m)B?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):Np(t,r,T,l,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const j=t.target=Fw(t.props,_);j&&Np(t,j,null,l,0)}else B&&Np(t,I,C,l,1);Pm(t,m)}},remove(e,t,r,{um:n,o:{remove:a}},i){const{shapeFlag:o,children:s,anchor:u,targetStart:l,targetAnchor:f,target:d,props:c}=e;if(d&&(a(l),a(f)),i&&a(u),o&16){const p=i||!oh(c);for(let _=0;_<s.length;_++){const v=s[_];n(v,t,r,p,!!v.dynamicChildren)}}},move:Np,hydrate:P$};function Np(e,t,r,{o:{insert:n},m:a},i=2){i===0&&n(e.targetAnchor,t,r);const{el:o,anchor:s,shapeFlag:u,children:l,props:f}=e,d=i===2;if(d&&n(o,t,r),(!d||oh(f))&&u&16)for(let c=0;c<l.length;c++)a(l[c],t,r,2);d&&n(s,t,r)}function P$(e,t,r,n,a,i,{o:{nextSibling:o,parentNode:s,querySelector:u,insert:l,createText:f}},d){const c=t.target=Fw(t.props,u);if(c){const p=oh(t.props),_=c._lpa||c.firstChild;if(t.shapeFlag&16)if(p)t.anchor=d(o(e),t,s(e),r,n,a,i),t.targetStart=_,t.targetAnchor=_&&o(_);else{t.anchor=o(e);let v=_;for(;v;){if(v&&v.nodeType===8){if(v.data==="teleport start anchor")t.targetStart=v;else if(v.data==="teleport anchor"){t.targetAnchor=v,c._lpa=t.targetAnchor&&o(t.targetAnchor);break}}v=o(v)}t.targetAnchor||dk(c,t,f,l),d(_&&o(_),t,c,r,n,a,i)}Pm(t,p)}return t.anchor&&o(t.anchor)}const C$=ck;function Pm(e,t){const r=e.ctx;if(r&&r.ut){let n,a;for(t?(n=e.el,a=e.anchor):(n=e.targetStart,a=e.targetAnchor);n&&n!==a;)n.nodeType===1&&n.setAttribute("data-v-owner",r.uid),n=n.nextSibling;r.ut()}}function dk(e,t,r,n){const a=t.targetStart=r(""),i=t.targetAnchor=r("");return a[lk]=i,e&&(n(a,e),n(i,e)),i}const So=Symbol("_leaveCb"),Mp=Symbol("_enterCb");function L$(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Jt(()=>{e.isMounted=!0}),Gs(()=>{e.isUnmounting=!0}),e}const pi=[Function,Array],hk={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:pi,onEnter:pi,onAfterEnter:pi,onEnterCancelled:pi,onBeforeLeave:pi,onLeave:pi,onAfterLeave:pi,onLeaveCancelled:pi,onBeforeAppear:pi,onAppear:pi,onAfterAppear:pi,onAppearCancelled:pi},pk=e=>{const t=e.subTree;return t.component?pk(t.component):t},D$={name:"BaseTransition",props:hk,setup(e,{slots:t}){const r=Wk(),n=L$();return()=>{const a=t.default&&gk(t.default(),!0);if(!a||!a.length)return;const i=mk(a),o=Vt(e),{mode:s}=o;if(n.isLeaving)return Ny(i);const u=qT(i);if(!u)return Ny(i);let l=jw(u,o,n,r,d=>l=d);u.type!==Nn&&vh(u,l);let f=r.subTree&&qT(r.subTree);if(f&&f.type!==Nn&&!Ds(u,f)&&pk(r).type!==Nn){let d=jw(f,o,n,r);if(vh(f,d),s==="out-in"&&u.type!==Nn)return n.isLeaving=!0,d.afterLeave=()=>{n.isLeaving=!1,r.job.flags&8||r.update(),delete d.afterLeave,f=void 0},Ny(i);s==="in-out"&&u.type!==Nn?d.delayLeave=(c,p,_)=>{const v=yk(n,f);v[String(f.key)]=f,c[So]=()=>{p(),c[So]=void 0,delete l.delayedLeave,f=void 0},l.delayedLeave=()=>{_(),delete l.delayedLeave,f=void 0}}:f=void 0}else f&&(f=void 0);return i}}};function mk(e){let t=e[0];if(e.length>1){for(const r of e)if(r.type!==Nn){t=r;break}}return t}const N$=D$;function yk(e,t){const{leavingVNodes:r}=e;let n=r.get(t.type);return n||(n=Object.create(null),r.set(t.type,n)),n}function jw(e,t,r,n,a){const{appear:i,mode:o,persisted:s=!1,onBeforeEnter:u,onEnter:l,onAfterEnter:f,onEnterCancelled:d,onBeforeLeave:c,onLeave:p,onAfterLeave:_,onLeaveCancelled:v,onBeforeAppear:b,onAppear:m,onAfterAppear:y,onAppearCancelled:g}=t,S=String(e.key),T=yk(r,e),I=(D,M)=>{D&&Gi(D,n,9,M)},C=(D,M)=>{const j=M[1];I(D,M),Rt(D)?D.every(O=>O.length<=1)&&j():D.length<=1&&j()},B={mode:o,persisted:s,beforeEnter(D){let M=u;if(!r.isMounted)if(i)M=b||u;else return;D[So]&&D[So](!0);const j=T[S];j&&Ds(e,j)&&j.el[So]&&j.el[So](),I(M,[D])},enter(D){let M=l,j=f,O=d;if(!r.isMounted)if(i)M=m||l,j=y||f,O=g||d;else return;let q=!1;const Q=D[Mp]=ie=>{q||(q=!0,ie?I(O,[D]):I(j,[D]),B.delayedLeave&&B.delayedLeave(),D[Mp]=void 0)};M?C(M,[D,Q]):Q()},leave(D,M){const j=String(e.key);if(D[Mp]&&D[Mp](!0),r.isUnmounting)return M();I(c,[D]);let O=!1;const q=D[So]=Q=>{O||(O=!0,M(),Q?I(v,[D]):I(_,[D]),D[So]=void 0,T[j]===e&&delete T[j])};T[j]=e,p?C(p,[D,q]):q()},clone(D){const M=jw(D,t,r,n,a);return a&&a(M),M}};return B}function Ny(e){if(c0(e))return e=No(e),e.children=null,e}function qT(e){if(!c0(e))return fk(e.type)&&e.children?mk(e.children):e;const{shapeFlag:t,children:r}=e;if(r){if(t&16)return r[0];if(t&32&&It(r.default))return r.default()}}function vh(e,t){e.shapeFlag&6&&e.component?(e.transition=t,vh(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function gk(e,t=!1,r){let n=[],a=0;for(let i=0;i<e.length;i++){let o=e[i];const s=r==null?o.key:String(r)+String(o.key!=null?o.key:i);o.type===wt?(o.patchFlag&128&&a++,n=n.concat(gk(o.children,t,s))):(t||o.type!==Nn)&&n.push(s!=null?No(o,{key:s}):o)}if(a>1)for(let i=0;i<n.length;i++)n[i].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function Gt(e,t){return It(e)?on({name:e.name},t,{setup:e}):e}function _k(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Um(e,t,r,n,a=!1){if(Rt(e)){e.forEach((_,v)=>Um(_,t&&(Rt(t)?t[v]:t),r,n,a));return}if(Pu(n)&&!a){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Um(e,t,r,n.component.subTree);return}const i=n.shapeFlag&4?m0(n.component):n.el,o=a?null:i,{i:s,r:u}=e,l=t&&t.r,f=s.refs===rr?s.refs={}:s.refs,d=s.setupState,c=Vt(d),p=d===rr?()=>!1:_=>Zt(c,_);if(l!=null&&l!==u&&(_r(l)?(f[l]=null,p(l)&&(d[l]=null)):Gr(l)&&(l.value=null)),It(u))Fh(u,s,12,[o,f]);else{const _=_r(u),v=Gr(u);if(_||v){const b=()=>{if(e.f){const m=_?p(u)?d[u]:f[u]:u.value;a?Rt(m)&&RS(m,i):Rt(m)?m.includes(i)||m.push(i):_?(f[u]=[i],p(u)&&(d[u]=f[u])):(u.value=[i],e.k&&(f[e.k]=u.value))}else _?(f[u]=o,p(u)&&(d[u]=o)):v&&(u.value=o,e.k&&(f[e.k]=o))};o?(b.id=-1,Pn(b,r)):b()}}}u0().requestIdleCallback;u0().cancelIdleCallback;const Pu=e=>!!e.type.__asyncLoader,c0=e=>e.type.__isKeepAlive;function M$(e,t){bk(e,"a",t)}function k$(e,t){bk(e,"da",t)}function bk(e,t,r=cn){const n=e.__wdc||(e.__wdc=()=>{let a=r;for(;a;){if(a.isDeactivated)return;a=a.parent}return e()});if(d0(t,n,r),r){let a=r.parent;for(;a&&a.parent;)c0(a.parent.vnode)&&F$(n,t,r,a),a=a.parent}}function F$(e,t,r,n){const a=d0(t,e,n,!0);Yi(()=>{RS(n[t],a)},r)}function d0(e,t,r=cn,n=!1){if(r){const a=r[e]||(r[e]=[]),i=t.__weh||(t.__weh=(...o)=>{Uo();const s=jh(r),u=Gi(t,r,e,o);return s(),Ho(),u});return n?a.unshift(i):a.push(i),i}}const eo=e=>(t,r=cn)=>{(!Eh||e==="sp")&&d0(e,(...n)=>t(...n),r)},j$=eo("bm"),Jt=eo("m"),vk=eo("bu"),wk=eo("u"),Gs=eo("bum"),Yi=eo("um"),B$=eo("sp"),q$=eo("rtg"),$$=eo("rtc");function U$(e,t=cn){d0("ec",e,t)}const Sk="components";function ki(e,t){return xk(Sk,e,!0,t)||e}const Ek=Symbol.for("v-ndc");function wa(e){return _r(e)?xk(Sk,e,!1)||e:e||Ek}function xk(e,t,r=!0,n=!1){const a=an||cn;if(a){const i=a.type;{const s=T5(i,!1);if(s&&(s===t||s===Ti(t)||s===s0(Ti(t))))return i}const o=$T(a[e]||i[e],t)||$T(a.appContext[e],t);return!o&&n?i:o}}function $T(e,t){return e&&(e[t]||e[Ti(t)]||e[s0(Ti(t))])}function pr(e,t,r,n){let a;const i=r,o=Rt(e);if(o||_r(e)){const s=o&&Iu(e);let u=!1;s&&(u=!Si(e),e=l0(e)),a=new Array(e.length);for(let l=0,f=e.length;l<f;l++)a[l]=t(u?vn(e[l]):e[l],l,void 0,i)}else if(typeof e=="number"){a=new Array(e);for(let s=0;s<e;s++)a[s]=t(s+1,s,void 0,i)}else if(sr(e))if(e[Symbol.iterator])a=Array.from(e,(s,u)=>t(s,u,void 0,i));else{const s=Object.keys(e);a=new Array(s.length);for(let u=0,l=s.length;u<l;u++){const f=s[u];a[u]=t(e[f],f,u,i)}}else a=[];return a}function wn(e,t){for(let r=0;r<t.length;r++){const n=t[r];if(Rt(n))for(let a=0;a<n.length;a++)e[n[a].name]=n[a].fn;else n&&(e[n.name]=n.key?(...a)=>{const i=n.fn(...a);return i&&(i.key=n.key),i}:n.fn)}return e}function pt(e,t,r={},n,a){if(an.ce||an.parent&&Pu(an.parent)&&an.parent.ce)return t!=="default"&&(r.name=t),Ke(),Ot(wt,null,[Nt("slot",r,n)],64);let i=e[t];i&&i._c&&(i._d=!1),Ke();const o=i&&Tk(i(r)),s=r.key||o&&o.key,u=Ot(wt,{key:(s&&!Xa(s)?s:`_${t}`)+""},o||[],o&&e._===1?64:-2);return u.scopeId&&(u.slotScopeIds=[u.scopeId+"-s"]),i&&i._c&&(i._d=!0),u}function Tk(e){return e.some(t=>Sh(t)?!(t.type===Nn||t.type===wt&&!Tk(t.children)):!0)?e:null}const Bw=e=>e?Kk(e)?m0(e):Bw(e.parent):null,sh=on(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Bw(e.parent),$root:e=>Bw(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Ok(e),$forceUpdate:e=>e.f||(e.f=()=>{MS(e.update)}),$nextTick:e=>e.n||(e.n=xr.bind(e.proxy)),$watch:e=>l5.bind(e)}),My=(e,t)=>e!==rr&&!e.__isScriptSetup&&Zt(e,t),H$={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:r,setupState:n,data:a,props:i,accessCache:o,type:s,appContext:u}=e;let l;if(t[0]!=="$"){const p=o[t];if(p!==void 0)switch(p){case 1:return n[t];case 2:return a[t];case 4:return r[t];case 3:return i[t]}else{if(My(n,t))return o[t]=1,n[t];if(a!==rr&&Zt(a,t))return o[t]=2,a[t];if((l=e.propsOptions[0])&&Zt(l,t))return o[t]=3,i[t];if(r!==rr&&Zt(r,t))return o[t]=4,r[t];qw&&(o[t]=0)}}const f=sh[t];let d,c;if(f)return t==="$attrs"&&bn(e.attrs,"get",""),f(e);if((d=s.__cssModules)&&(d=d[t]))return d;if(r!==rr&&Zt(r,t))return o[t]=4,r[t];if(c=u.config.globalProperties,Zt(c,t))return c[t]},set({_:e},t,r){const{data:n,setupState:a,ctx:i}=e;return My(a,t)?(a[t]=r,!0):n!==rr&&Zt(n,t)?(n[t]=r,!0):Zt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:n,appContext:a,propsOptions:i}},o){let s;return!!r[o]||e!==rr&&Zt(e,o)||My(t,o)||(s=i[0])&&Zt(s,o)||Zt(n,o)||Zt(sh,o)||Zt(a.config.globalProperties,o)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:Zt(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};function Ws(){return Ak().slots}function Rk(){return Ak().attrs}function Ak(){const e=Wk();return e.setupContext||(e.setupContext=Yk(e))}function UT(e){return Rt(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}let qw=!0;function V$(e){const t=Ok(e),r=e.proxy,n=e.ctx;qw=!1,t.beforeCreate&&HT(t.beforeCreate,e,"bc");const{data:a,computed:i,methods:o,watch:s,provide:u,inject:l,created:f,beforeMount:d,mounted:c,beforeUpdate:p,updated:_,activated:v,deactivated:b,beforeDestroy:m,beforeUnmount:y,destroyed:g,unmounted:S,render:T,renderTracked:I,renderTriggered:C,errorCaptured:B,serverPrefetch:D,expose:M,inheritAttrs:j,components:O,directives:q,filters:Q}=t;if(l&&z$(l,n,null),o)for(const le in o){const ae=o[le];It(ae)&&(n[le]=ae.bind(r))}if(a){const le=a.call(r,r);sr(le)&&(e.data=Ja(le))}if(qw=!0,i)for(const le in i){const ae=i[le],ne=It(ae)?ae.bind(r,r):It(ae.get)?ae.get.bind(r,r):ga,V=!It(ae)&&It(ae.set)?ae.set.bind(r):ga,oe=tt({get:ne,set:V});Object.defineProperty(n,le,{enumerable:!0,configurable:!0,get:()=>oe.value,set:he=>oe.value=he})}if(s)for(const le in s)Ik(s[le],n,r,le);if(u){const le=It(u)?u.call(r):u;Reflect.ownKeys(le).forEach(ae=>{Wn(ae,le[ae])})}f&&HT(f,e,"c");function X(le,ae){Rt(ae)?ae.forEach(ne=>le(ne.bind(r))):ae&&le(ae.bind(r))}if(X(j$,d),X(Jt,c),X(vk,p),X(wk,_),X(M$,v),X(k$,b),X(U$,B),X($$,I),X(q$,C),X(Gs,y),X(Yi,S),X(B$,D),Rt(M))if(M.length){const le=e.exposed||(e.exposed={});M.forEach(ae=>{Object.defineProperty(le,ae,{get:()=>r[ae],set:ne=>r[ae]=ne})})}else e.exposed||(e.exposed={});T&&e.render===ga&&(e.render=T),j!=null&&(e.inheritAttrs=j),O&&(e.components=O),q&&(e.directives=q),D&&_k(e)}function z$(e,t,r=ga){Rt(e)&&(e=$w(e));for(const n in e){const a=e[n];let i;sr(a)?"default"in a?i=ni(a.from||n,a.default,!0):i=ni(a.from||n):i=ni(a),Gr(i)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[n]=i}}function HT(e,t,r){Gi(Rt(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,r)}function Ik(e,t,r,n){let a=n.includes(".")?Uk(r,n):()=>r[n];if(_r(e)){const i=t[e];It(i)&&Jr(a,i)}else if(It(e))Jr(a,e.bind(r));else if(sr(e))if(Rt(e))e.forEach(i=>Ik(i,t,r,n));else{const i=It(e.handler)?e.handler.bind(r):t[e.handler];It(i)&&Jr(a,i,e)}}function Ok(e){const t=e.type,{mixins:r,extends:n}=t,{mixins:a,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,s=i.get(t);let u;return s?u=s:!a.length&&!r&&!n?u=t:(u={},a.length&&a.forEach(l=>Hm(u,l,o,!0)),Hm(u,t,o)),sr(t)&&i.set(t,u),u}function Hm(e,t,r,n=!1){const{mixins:a,extends:i}=t;i&&Hm(e,i,r,!0),a&&a.forEach(o=>Hm(e,o,r,!0));for(const o in t)if(!(n&&o==="expose")){const s=G$[o]||r&&r[o];e[o]=s?s(e[o],t[o]):t[o]}return e}const G$={data:VT,props:zT,emits:zT,methods:Vd,computed:Vd,beforeCreate:In,created:In,beforeMount:In,mounted:In,beforeUpdate:In,updated:In,beforeDestroy:In,beforeUnmount:In,destroyed:In,unmounted:In,activated:In,deactivated:In,errorCaptured:In,serverPrefetch:In,components:Vd,directives:Vd,watch:K$,provide:VT,inject:W$};function VT(e,t){return t?e?function(){return on(It(e)?e.call(this,this):e,It(t)?t.call(this,this):t)}:t:e}function W$(e,t){return Vd($w(e),$w(t))}function $w(e){if(Rt(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function In(e,t){return e?[...new Set([].concat(e,t))]:t}function Vd(e,t){return e?on(Object.create(null),e,t):t}function zT(e,t){return e?Rt(e)&&Rt(t)?[...new Set([...e,...t])]:on(Object.create(null),UT(e),UT(t??{})):t}function K$(e,t){if(!e)return t;if(!t)return e;const r=on(Object.create(null),e);for(const n in t)r[n]=In(e[n],t[n]);return r}function Pk(){return{app:null,config:{isNativeTag:Mq,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Z$=0;function Y$(e,t){return function(n,a=null){It(n)||(n=on({},n)),a!=null&&!sr(a)&&(a=null);const i=Pk(),o=new WeakSet,s=[];let u=!1;const l=i.app={_uid:Z$++,_component:n,_props:a,_container:null,_context:i,_instance:null,version:A5,get config(){return i.config},set config(f){},use(f,...d){return o.has(f)||(f&&It(f.install)?(o.add(f),f.install(l,...d)):It(f)&&(o.add(f),f(l,...d))),l},mixin(f){return i.mixins.includes(f)||i.mixins.push(f),l},component(f,d){return d?(i.components[f]=d,l):i.components[f]},directive(f,d){return d?(i.directives[f]=d,l):i.directives[f]},mount(f,d,c){if(!u){const p=l._ceVNode||Nt(n,a);return p.appContext=i,c===!0?c="svg":c===!1&&(c=void 0),e(p,f,c),u=!0,l._container=f,f.__vue_app__=l,m0(p.component)}},onUnmount(f){s.push(f)},unmount(){u&&(Gi(s,l._instance,16),e(null,l._container),delete l._container.__vue_app__)},provide(f,d){return i.provides[f]=d,l},runWithContext(f){const d=Cu;Cu=l;try{return f()}finally{Cu=d}}};return l}}let Cu=null;function Wn(e,t){if(cn){let r=cn.provides;const n=cn.parent&&cn.parent.provides;n===r&&(r=cn.provides=Object.create(n)),r[e]=t}}function ni(e,t,r=!1){const n=cn||an;if(n||Cu){const a=Cu?Cu._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(a&&e in a)return a[e];if(arguments.length>1)return r&&It(t)?t.call(n&&n.proxy):t}}const Ck={},Lk=()=>Object.create(Ck),Dk=e=>Object.getPrototypeOf(e)===Ck;function Q$(e,t,r,n=!1){const a={},i=Lk();e.propsDefaults=Object.create(null),Nk(e,t,a,i);for(const o in e.propsOptions[0])o in a||(a[o]=void 0);r?e.props=n?a:m$(a):e.type.props?e.props=a:e.props=i,e.attrs=i}function X$(e,t,r,n){const{props:a,attrs:i,vnode:{patchFlag:o}}=e,s=Vt(a),[u]=e.propsOptions;let l=!1;if((n||o>0)&&!(o&16)){if(o&8){const f=e.vnode.dynamicProps;for(let d=0;d<f.length;d++){let c=f[d];if(h0(e.emitsOptions,c))continue;const p=t[c];if(u)if(Zt(i,c))p!==i[c]&&(i[c]=p,l=!0);else{const _=Ti(c);a[_]=Uw(u,s,_,p,e,!1)}else p!==i[c]&&(i[c]=p,l=!0)}}}else{Nk(e,t,a,i)&&(l=!0);let f;for(const d in s)(!t||!Zt(t,d)&&((f=$o(d))===d||!Zt(t,f)))&&(u?r&&(r[d]!==void 0||r[f]!==void 0)&&(a[d]=Uw(u,s,d,void 0,e,!0)):delete a[d]);if(i!==s)for(const d in i)(!t||!Zt(t,d))&&(delete i[d],l=!0)}l&&Va(e.attrs,"set","")}function Nk(e,t,r,n){const[a,i]=e.propsOptions;let o=!1,s;if(t)for(let u in t){if(nh(u))continue;const l=t[u];let f;a&&Zt(a,f=Ti(u))?!i||!i.includes(f)?r[f]=l:(s||(s={}))[f]=l:h0(e.emitsOptions,u)||(!(u in n)||l!==n[u])&&(n[u]=l,o=!0)}if(i){const u=Vt(r),l=s||rr;for(let f=0;f<i.length;f++){const d=i[f];r[d]=Uw(a,u,d,l[d],e,!Zt(l,d))}}return o}function Uw(e,t,r,n,a,i){const o=e[r];if(o!=null){const s=Zt(o,"default");if(s&&n===void 0){const u=o.default;if(o.type!==Function&&!o.skipFactory&&It(u)){const{propsDefaults:l}=a;if(r in l)n=l[r];else{const f=jh(a);n=l[r]=u.call(null,t),f()}}else n=u;a.ce&&a.ce._setProp(r,n)}o[0]&&(i&&!s?n=!1:o[1]&&(n===""||n===$o(r))&&(n=!0))}return n}const J$=new WeakMap;function Mk(e,t,r=!1){const n=r?J$:t.propsCache,a=n.get(e);if(a)return a;const i=e.props,o={},s=[];let u=!1;if(!It(e)){const f=d=>{u=!0;const[c,p]=Mk(d,t,!0);on(o,c),p&&s.push(...p)};!r&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!i&&!u)return sr(e)&&n.set(e,Ru),Ru;if(Rt(i))for(let f=0;f<i.length;f++){const d=Ti(i[f]);GT(d)&&(o[d]=rr)}else if(i)for(const f in i){const d=Ti(f);if(GT(d)){const c=i[f],p=o[d]=Rt(c)||It(c)?{type:c}:on({},c),_=p.type;let v=!1,b=!0;if(Rt(_))for(let m=0;m<_.length;++m){const y=_[m],g=It(y)&&y.name;if(g==="Boolean"){v=!0;break}else g==="String"&&(b=!1)}else v=It(_)&&_.name==="Boolean";p[0]=v,p[1]=b,(v||Zt(p,"default"))&&s.push(d)}}const l=[o,s];return sr(e)&&n.set(e,l),l}function GT(e){return e[0]!=="$"&&!nh(e)}const kk=e=>e[0]==="_"||e==="$stable",kS=e=>Rt(e)?e.map(ca):[ca(e)],e5=(e,t,r)=>{if(t._n)return t;const n=bt((...a)=>kS(t(...a)),r);return n._c=!1,n},Fk=(e,t,r)=>{const n=e._ctx;for(const a in e){if(kk(a))continue;const i=e[a];if(It(i))t[a]=e5(a,i,n);else if(i!=null){const o=kS(i);t[a]=()=>o}}},jk=(e,t)=>{const r=kS(t);e.slots.default=()=>r},Bk=(e,t,r)=>{for(const n in t)(r||n!=="_")&&(e[n]=t[n])},t5=(e,t,r)=>{const n=e.slots=Lk();if(e.vnode.shapeFlag&32){const a=t._;a?(Bk(n,t,r),r&&FM(n,"_",a,!0)):Fk(t,n)}else t&&jk(e,t)},r5=(e,t,r)=>{const{vnode:n,slots:a}=e;let i=!0,o=rr;if(n.shapeFlag&32){const s=t._;s?r&&s===1?i=!1:Bk(a,t,r):(i=!t.$stable,Fk(t,a)),o=t}else t&&(jk(e,t),o={default:1});if(i)for(const s in a)!kk(s)&&o[s]==null&&delete a[s]},Pn=y5;function n5(e){return i5(e)}function i5(e,t){const r=u0();r.__VUE__=!0;const{insert:n,remove:a,patchProp:i,createElement:o,createText:s,createComment:u,setText:l,setElementText:f,parentNode:d,nextSibling:c,setScopeId:p=ga,insertStaticContent:_}=e,v=(w,x,k,U=null,re=null,fe=null,ve=void 0,ce=null,Ie=!!x.dynamicChildren)=>{if(w===x)return;w&&!Ds(w,x)&&(U=A(w),he(w,re,fe,!0),w=null),x.patchFlag===-2&&(Ie=!1,x.dynamicChildren=null);const{type:be,ref:xe,shapeFlag:je}=x;switch(be){case p0:b(w,x,k,U);break;case Nn:m(w,x,k,U);break;case Fy:w==null&&y(x,k,U,ve);break;case wt:O(w,x,k,U,re,fe,ve,ce,Ie);break;default:je&1?T(w,x,k,U,re,fe,ve,ce,Ie):je&6?q(w,x,k,U,re,fe,ve,ce,Ie):(je&64||je&128)&&be.process(w,x,k,U,re,fe,ve,ce,Ie,pe)}xe!=null&&re&&Um(xe,w&&w.ref,fe,x||w,!x)},b=(w,x,k,U)=>{if(w==null)n(x.el=s(x.children),k,U);else{const re=x.el=w.el;x.children!==w.children&&l(re,x.children)}},m=(w,x,k,U)=>{w==null?n(x.el=u(x.children||""),k,U):x.el=w.el},y=(w,x,k,U)=>{[w.el,w.anchor]=_(w.children,x,k,U,w.el,w.anchor)},g=({el:w,anchor:x},k,U)=>{let re;for(;w&&w!==x;)re=c(w),n(w,k,U),w=re;n(x,k,U)},S=({el:w,anchor:x})=>{let k;for(;w&&w!==x;)k=c(w),a(w),w=k;a(x)},T=(w,x,k,U,re,fe,ve,ce,Ie)=>{x.type==="svg"?ve="svg":x.type==="math"&&(ve="mathml"),w==null?I(x,k,U,re,fe,ve,ce,Ie):D(w,x,re,fe,ve,ce,Ie)},I=(w,x,k,U,re,fe,ve,ce)=>{let Ie,be;const{props:xe,shapeFlag:je,transition:Ae,dirs:Pe}=w;if(Ie=w.el=o(w.type,fe,xe&&xe.is,xe),je&8?f(Ie,w.children):je&16&&B(w.children,Ie,null,U,re,ky(w,fe),ve,ce),Pe&&ls(w,null,U,"created"),C(Ie,w,w.scopeId,ve,U),xe){for(const Ze in xe)Ze!=="value"&&!nh(Ze)&&i(Ie,Ze,null,xe[Ze],fe,U);"value"in xe&&i(Ie,"value",null,xe.value,fe),(be=xe.onVnodeBeforeMount)&&ia(be,U,w)}Pe&&ls(w,null,U,"beforeMount");const ke=a5(re,Ae);ke&&Ae.beforeEnter(Ie),n(Ie,x,k),((be=xe&&xe.onVnodeMounted)||ke||Pe)&&Pn(()=>{be&&ia(be,U,w),ke&&Ae.enter(Ie),Pe&&ls(w,null,U,"mounted")},re)},C=(w,x,k,U,re)=>{if(k&&p(w,k),U)for(let fe=0;fe<U.length;fe++)p(w,U[fe]);if(re){let fe=re.subTree;if(x===fe||Vk(fe.type)&&(fe.ssContent===x||fe.ssFallback===x)){const ve=re.vnode;C(w,ve,ve.scopeId,ve.slotScopeIds,re.parent)}}},B=(w,x,k,U,re,fe,ve,ce,Ie=0)=>{for(let be=Ie;be<w.length;be++){const xe=w[be]=ce?Eo(w[be]):ca(w[be]);v(null,xe,x,k,U,re,fe,ve,ce)}},D=(w,x,k,U,re,fe,ve)=>{const ce=x.el=w.el;let{patchFlag:Ie,dynamicChildren:be,dirs:xe}=x;Ie|=w.patchFlag&16;const je=w.props||rr,Ae=x.props||rr;let Pe;if(k&&fs(k,!1),(Pe=Ae.onVnodeBeforeUpdate)&&ia(Pe,k,x,w),xe&&ls(x,w,k,"beforeUpdate"),k&&fs(k,!0),(je.innerHTML&&Ae.innerHTML==null||je.textContent&&Ae.textContent==null)&&f(ce,""),be?M(w.dynamicChildren,be,ce,k,U,ky(x,re),fe):ve||ae(w,x,ce,null,k,U,ky(x,re),fe,!1),Ie>0){if(Ie&16)j(ce,je,Ae,k,re);else if(Ie&2&&je.class!==Ae.class&&i(ce,"class",null,Ae.class,re),Ie&4&&i(ce,"style",je.style,Ae.style,re),Ie&8){const ke=x.dynamicProps;for(let Ze=0;Ze<ke.length;Ze++){const Ue=ke[Ze],it=je[Ue],ye=Ae[Ue];(ye!==it||Ue==="value")&&i(ce,Ue,it,ye,re,k)}}Ie&1&&w.children!==x.children&&f(ce,x.children)}else!ve&&be==null&&j(ce,je,Ae,k,re);((Pe=Ae.onVnodeUpdated)||xe)&&Pn(()=>{Pe&&ia(Pe,k,x,w),xe&&ls(x,w,k,"updated")},U)},M=(w,x,k,U,re,fe,ve)=>{for(let ce=0;ce<x.length;ce++){const Ie=w[ce],be=x[ce],xe=Ie.el&&(Ie.type===wt||!Ds(Ie,be)||Ie.shapeFlag&70)?d(Ie.el):k;v(Ie,be,xe,null,U,re,fe,ve,!0)}},j=(w,x,k,U,re)=>{if(x!==k){if(x!==rr)for(const fe in x)!nh(fe)&&!(fe in k)&&i(w,fe,x[fe],null,re,U);for(const fe in k){if(nh(fe))continue;const ve=k[fe],ce=x[fe];ve!==ce&&fe!=="value"&&i(w,fe,ce,ve,re,U)}"value"in k&&i(w,"value",x.value,k.value,re)}},O=(w,x,k,U,re,fe,ve,ce,Ie)=>{const be=x.el=w?w.el:s(""),xe=x.anchor=w?w.anchor:s("");let{patchFlag:je,dynamicChildren:Ae,slotScopeIds:Pe}=x;Pe&&(ce=ce?ce.concat(Pe):Pe),w==null?(n(be,k,U),n(xe,k,U),B(x.children||[],k,xe,re,fe,ve,ce,Ie)):je>0&&je&64&&Ae&&w.dynamicChildren?(M(w.dynamicChildren,Ae,k,re,fe,ve,ce),(x.key!=null||re&&x===re.subTree)&&FS(w,x,!0)):ae(w,x,k,xe,re,fe,ve,ce,Ie)},q=(w,x,k,U,re,fe,ve,ce,Ie)=>{x.slotScopeIds=ce,w==null?x.shapeFlag&512?re.ctx.activate(x,k,U,ve,Ie):Q(x,k,U,re,fe,ve,Ie):ie(w,x,Ie)},Q=(w,x,k,U,re,fe,ve)=>{const ce=w.component=w5(w,U,re);if(c0(w)&&(ce.ctx.renderer=pe),S5(ce,!1,ve),ce.asyncDep){if(re&&re.registerDep(ce,X,ve),!w.el){const Ie=ce.subTree=Nt(Nn);m(null,Ie,x,k)}}else X(ce,w,x,k,re,fe,ve)},ie=(w,x,k)=>{const U=x.component=w.component;if(p5(w,x,k))if(U.asyncDep&&!U.asyncResolved){le(U,x,k);return}else U.next=x,U.update();else x.el=w.el,U.vnode=x},X=(w,x,k,U,re,fe,ve)=>{const ce=()=>{if(w.isMounted){let{next:je,bu:Ae,u:Pe,parent:ke,vnode:Ze}=w;{const K=qk(w);if(K){je&&(je.el=Ze.el,le(w,je,ve)),K.asyncDep.then(()=>{w.isUnmounted||ce()});return}}let Ue=je,it;fs(w,!1),je?(je.el=Ze.el,le(w,je,ve)):je=Ze,Ae&&Oy(Ae),(it=je.props&&je.props.onVnodeBeforeUpdate)&&ia(it,ke,je,Ze),fs(w,!0);const ye=KT(w),F=w.subTree;w.subTree=ye,v(F,ye,d(F.el),A(F),w,re,fe),je.el=ye.el,Ue===null&&m5(w,ye.el),Pe&&Pn(Pe,re),(it=je.props&&je.props.onVnodeUpdated)&&Pn(()=>ia(it,ke,je,Ze),re)}else{let je;const{el:Ae,props:Pe}=x,{bm:ke,m:Ze,parent:Ue,root:it,type:ye}=w,F=Pu(x);fs(w,!1),ke&&Oy(ke),!F&&(je=Pe&&Pe.onVnodeBeforeMount)&&ia(je,Ue,x),fs(w,!0);{it.ce&&it.ce._injectChildStyle(ye);const K=w.subTree=KT(w);v(null,K,k,U,w,re,fe),x.el=K.el}if(Ze&&Pn(Ze,re),!F&&(je=Pe&&Pe.onVnodeMounted)){const K=x;Pn(()=>ia(je,Ue,K),re)}(x.shapeFlag&256||Ue&&Pu(Ue.vnode)&&Ue.vnode.shapeFlag&256)&&w.a&&Pn(w.a,re),w.isMounted=!0,x=k=U=null}};w.scope.on();const Ie=w.effect=new UM(ce);w.scope.off();const be=w.update=Ie.run.bind(Ie),xe=w.job=Ie.runIfDirty.bind(Ie);xe.i=w,xe.id=w.uid,Ie.scheduler=()=>MS(xe),fs(w,!0),be()},le=(w,x,k)=>{x.component=w;const U=w.vnode.props;w.vnode=x,w.next=null,X$(w,x.props,U,k),r5(w,x.children,k),Uo(),kT(w),Ho()},ae=(w,x,k,U,re,fe,ve,ce,Ie=!1)=>{const be=w&&w.children,xe=w?w.shapeFlag:0,je=x.children,{patchFlag:Ae,shapeFlag:Pe}=x;if(Ae>0){if(Ae&128){V(be,je,k,U,re,fe,ve,ce,Ie);return}else if(Ae&256){ne(be,je,k,U,re,fe,ve,ce,Ie);return}}Pe&8?(xe&16&&P(be,re,fe),je!==be&&f(k,je)):xe&16?Pe&16?V(be,je,k,U,re,fe,ve,ce,Ie):P(be,re,fe,!0):(xe&8&&f(k,""),Pe&16&&B(je,k,U,re,fe,ve,ce,Ie))},ne=(w,x,k,U,re,fe,ve,ce,Ie)=>{w=w||Ru,x=x||Ru;const be=w.length,xe=x.length,je=Math.min(be,xe);let Ae;for(Ae=0;Ae<je;Ae++){const Pe=x[Ae]=Ie?Eo(x[Ae]):ca(x[Ae]);v(w[Ae],Pe,k,null,re,fe,ve,ce,Ie)}be>xe?P(w,re,fe,!0,!1,je):B(x,k,U,re,fe,ve,ce,Ie,je)},V=(w,x,k,U,re,fe,ve,ce,Ie)=>{let be=0;const xe=x.length;let je=w.length-1,Ae=xe-1;for(;be<=je&&be<=Ae;){const Pe=w[be],ke=x[be]=Ie?Eo(x[be]):ca(x[be]);if(Ds(Pe,ke))v(Pe,ke,k,null,re,fe,ve,ce,Ie);else break;be++}for(;be<=je&&be<=Ae;){const Pe=w[je],ke=x[Ae]=Ie?Eo(x[Ae]):ca(x[Ae]);if(Ds(Pe,ke))v(Pe,ke,k,null,re,fe,ve,ce,Ie);else break;je--,Ae--}if(be>je){if(be<=Ae){const Pe=Ae+1,ke=Pe<xe?x[Pe].el:U;for(;be<=Ae;)v(null,x[be]=Ie?Eo(x[be]):ca(x[be]),k,ke,re,fe,ve,ce,Ie),be++}}else if(be>Ae)for(;be<=je;)he(w[be],re,fe,!0),be++;else{const Pe=be,ke=be,Ze=new Map;for(be=ke;be<=Ae;be++){const se=x[be]=Ie?Eo(x[be]):ca(x[be]);se.key!=null&&Ze.set(se.key,be)}let Ue,it=0;const ye=Ae-ke+1;let F=!1,K=0;const _e=new Array(ye);for(be=0;be<ye;be++)_e[be]=0;for(be=Pe;be<=je;be++){const se=w[be];if(it>=ye){he(se,re,fe,!0);continue}let ge;if(se.key!=null)ge=Ze.get(se.key);else for(Ue=ke;Ue<=Ae;Ue++)if(_e[Ue-ke]===0&&Ds(se,x[Ue])){ge=Ue;break}ge===void 0?he(se,re,fe,!0):(_e[ge-ke]=be+1,ge>=K?K=ge:F=!0,v(se,x[ge],k,null,re,fe,ve,ce,Ie),it++)}const Oe=F?o5(_e):Ru;for(Ue=Oe.length-1,be=ye-1;be>=0;be--){const se=ke+be,ge=x[se],de=se+1<xe?x[se+1].el:U;_e[be]===0?v(null,ge,k,de,re,fe,ve,ce,Ie):F&&(Ue<0||be!==Oe[Ue]?oe(ge,k,de,2):Ue--)}}},oe=(w,x,k,U,re=null)=>{const{el:fe,type:ve,transition:ce,children:Ie,shapeFlag:be}=w;if(be&6){oe(w.component.subTree,x,k,U);return}if(be&128){w.suspense.move(x,k,U);return}if(be&64){ve.move(w,x,k,pe);return}if(ve===wt){n(fe,x,k);for(let je=0;je<Ie.length;je++)oe(Ie[je],x,k,U);n(w.anchor,x,k);return}if(ve===Fy){g(w,x,k);return}if(U!==2&&be&1&&ce)if(U===0)ce.beforeEnter(fe),n(fe,x,k),Pn(()=>ce.enter(fe),re);else{const{leave:je,delayLeave:Ae,afterLeave:Pe}=ce,ke=()=>n(fe,x,k),Ze=()=>{je(fe,()=>{ke(),Pe&&Pe()})};Ae?Ae(fe,ke,Ze):Ze()}else n(fe,x,k)},he=(w,x,k,U=!1,re=!1)=>{const{type:fe,props:ve,ref:ce,children:Ie,dynamicChildren:be,shapeFlag:xe,patchFlag:je,dirs:Ae,cacheIndex:Pe}=w;if(je===-2&&(re=!1),ce!=null&&Um(ce,null,k,w,!0),Pe!=null&&(x.renderCache[Pe]=void 0),xe&256){x.ctx.deactivate(w);return}const ke=xe&1&&Ae,Ze=!Pu(w);let Ue;if(Ze&&(Ue=ve&&ve.onVnodeBeforeUnmount)&&ia(Ue,x,w),xe&6)ee(w.component,k,U);else{if(xe&128){w.suspense.unmount(k,U);return}ke&&ls(w,null,x,"beforeUnmount"),xe&64?w.type.remove(w,x,k,pe,U):be&&!be.hasOnce&&(fe!==wt||je>0&&je&64)?P(be,x,k,!1,!0):(fe===wt&&je&384||!re&&xe&16)&&P(Ie,x,k),U&&Y(w)}(Ze&&(Ue=ve&&ve.onVnodeUnmounted)||ke)&&Pn(()=>{Ue&&ia(Ue,x,w),ke&&ls(w,null,x,"unmounted")},k)},Y=w=>{const{type:x,el:k,anchor:U,transition:re}=w;if(x===wt){Z(k,U);return}if(x===Fy){S(w);return}const fe=()=>{a(k),re&&!re.persisted&&re.afterLeave&&re.afterLeave()};if(w.shapeFlag&1&&re&&!re.persisted){const{leave:ve,delayLeave:ce}=re,Ie=()=>ve(k,fe);ce?ce(w.el,fe,Ie):Ie()}else fe()},Z=(w,x)=>{let k;for(;w!==x;)k=c(w),a(w),w=k;a(x)},ee=(w,x,k)=>{const{bum:U,scope:re,job:fe,subTree:ve,um:ce,m:Ie,a:be}=w;WT(Ie),WT(be),U&&Oy(U),re.stop(),fe&&(fe.flags|=8,he(ve,w,x,k)),ce&&Pn(ce,x),Pn(()=>{w.isUnmounted=!0},x),x&&x.pendingBranch&&!x.isUnmounted&&w.asyncDep&&!w.asyncResolved&&w.suspenseId===x.pendingId&&(x.deps--,x.deps===0&&x.resolve())},P=(w,x,k,U=!1,re=!1,fe=0)=>{for(let ve=fe;ve<w.length;ve++)he(w[ve],x,k,U,re)},A=w=>{if(w.shapeFlag&6)return A(w.component.subTree);if(w.shapeFlag&128)return w.suspense.next();const x=c(w.anchor||w.el),k=x&&x[lk];return k?c(k):x};let $=!1;const te=(w,x,k)=>{w==null?x._vnode&&he(x._vnode,null,null,!0):v(x._vnode||null,w,x,null,null,null,k),x._vnode=w,$||($=!0,kT(),ok(),$=!1)},pe={p:v,um:he,m:oe,r:Y,mt:Q,mc:B,pc:ae,pbc:M,n:A,o:e};return{render:te,hydrate:void 0,createApp:Y$(te)}}function ky({type:e,props:t},r){return r==="svg"&&e==="foreignObject"||r==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:r}function fs({effect:e,job:t},r){r?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function a5(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function FS(e,t,r=!1){const n=e.children,a=t.children;if(Rt(n)&&Rt(a))for(let i=0;i<n.length;i++){const o=n[i];let s=a[i];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=a[i]=Eo(a[i]),s.el=o.el),!r&&s.patchFlag!==-2&&FS(o,s)),s.type===p0&&(s.el=o.el)}}function o5(e){const t=e.slice(),r=[0];let n,a,i,o,s;const u=e.length;for(n=0;n<u;n++){const l=e[n];if(l!==0){if(a=r[r.length-1],e[a]<l){t[n]=a,r.push(n);continue}for(i=0,o=r.length-1;i<o;)s=i+o>>1,e[r[s]]<l?i=s+1:o=s;l<e[r[i]]&&(i>0&&(t[n]=r[i-1]),r[i]=n)}}for(i=r.length,o=r[i-1];i-- >0;)r[i]=o,o=t[o];return r}function qk(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:qk(t)}function WT(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const s5=Symbol.for("v-scx"),u5=()=>ni(s5);function $k(e,t){return jS(e,null,t)}function Jr(e,t,r){return jS(e,t,r)}function jS(e,t,r=rr){const{immediate:n,deep:a,flush:i,once:o}=r,s=on({},r),u=t&&n||!t&&i!=="post";let l;if(Eh){if(i==="sync"){const p=u5();l=p.__watcherHandles||(p.__watcherHandles=[])}else if(!u){const p=()=>{};return p.stop=ga,p.resume=ga,p.pause=ga,p}}const f=cn;s.call=(p,_,v)=>Gi(p,f,_,v);let d=!1;i==="post"?s.scheduler=p=>{Pn(p,f&&f.suspense)}:i!=="sync"&&(d=!0,s.scheduler=(p,_)=>{_?p():MS(p)}),s.augmentJob=p=>{t&&(p.flags|=4),d&&(p.flags|=2,f&&(p.id=f.uid,p.i=f))};const c=R$(e,t,s);return Eh&&(l?l.push(c):u&&c()),c}function l5(e,t,r){const n=this.proxy,a=_r(e)?e.includes(".")?Uk(n,e):()=>n[e]:e.bind(n,n);let i;It(t)?i=t:(i=t.handler,r=t);const o=jh(this),s=jS(a,i.bind(n),r);return o(),s}function Uk(e,t){const r=t.split(".");return()=>{let n=e;for(let a=0;a<r.length&&n;a++)n=n[r[a]];return n}}const f5=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Ti(t)}Modifiers`]||e[`${$o(t)}Modifiers`];function c5(e,t,...r){if(e.isUnmounted)return;const n=e.vnode.props||rr;let a=r;const i=t.startsWith("update:"),o=i&&f5(n,t.slice(7));o&&(o.trim&&(a=r.map(f=>_r(f)?f.trim():f)),o.number&&(a=r.map(qq)));let s,u=n[s=Iy(t)]||n[s=Iy(Ti(t))];!u&&i&&(u=n[s=Iy($o(t))]),u&&Gi(u,e,6,a);const l=n[s+"Once"];if(l){if(!e.emitted)e.emitted={};else if(e.emitted[s])return;e.emitted[s]=!0,Gi(l,e,6,a)}}function Hk(e,t,r=!1){const n=t.emitsCache,a=n.get(e);if(a!==void 0)return a;const i=e.emits;let o={},s=!1;if(!It(e)){const u=l=>{const f=Hk(l,t,!0);f&&(s=!0,on(o,f))};!r&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!i&&!s?(sr(e)&&n.set(e,null),null):(Rt(i)?i.forEach(u=>o[u]=null):on(o,i),sr(e)&&n.set(e,o),o)}function h0(e,t){return!e||!i0(t)?!1:(t=t.slice(2).replace(/Once$/,""),Zt(e,t[0].toLowerCase()+t.slice(1))||Zt(e,$o(t))||Zt(e,t))}function KT(e){const{type:t,vnode:r,proxy:n,withProxy:a,propsOptions:[i],slots:o,attrs:s,emit:u,render:l,renderCache:f,props:d,data:c,setupState:p,ctx:_,inheritAttrs:v}=e,b=$m(e);let m,y;try{if(r.shapeFlag&4){const S=a||n,T=S;m=ca(l.call(T,S,f,d,p,c,_)),y=s}else{const S=t;m=ca(S.length>1?S(d,{attrs:s,slots:o,emit:u}):S(d,null)),y=t.props?s:d5(s)}}catch(S){uh.length=0,f0(S,e,1),m=Nt(Nn)}let g=m;if(y&&v!==!1){const S=Object.keys(y),{shapeFlag:T}=g;S.length&&T&7&&(i&&S.some(TS)&&(y=h5(y,i)),g=No(g,y,!1,!0))}return r.dirs&&(g=No(g,null,!1,!0),g.dirs=g.dirs?g.dirs.concat(r.dirs):r.dirs),r.transition&&vh(g,r.transition),m=g,$m(b),m}const d5=e=>{let t;for(const r in e)(r==="class"||r==="style"||i0(r))&&((t||(t={}))[r]=e[r]);return t},h5=(e,t)=>{const r={};for(const n in e)(!TS(n)||!(n.slice(9)in t))&&(r[n]=e[n]);return r};function p5(e,t,r){const{props:n,children:a,component:i}=e,{props:o,children:s,patchFlag:u}=t,l=i.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&u>=0){if(u&1024)return!0;if(u&16)return n?ZT(n,o,l):!!o;if(u&8){const f=t.dynamicProps;for(let d=0;d<f.length;d++){const c=f[d];if(o[c]!==n[c]&&!h0(l,c))return!0}}}else return(a||s)&&(!s||!s.$stable)?!0:n===o?!1:n?o?ZT(n,o,l):!0:!!o;return!1}function ZT(e,t,r){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let a=0;a<n.length;a++){const i=n[a];if(t[i]!==e[i]&&!h0(r,i))return!0}return!1}function m5({vnode:e,parent:t},r){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=r,t=t.parent;else break}}const Vk=e=>e.__isSuspense;function y5(e,t){t&&t.pendingBranch?Rt(e)?t.effects.push(...e):t.effects.push(e):O$(e)}const wt=Symbol.for("v-fgt"),p0=Symbol.for("v-txt"),Nn=Symbol.for("v-cmt"),Fy=Symbol.for("v-stc"),uh=[];let ti=null;function Ke(e=!1){uh.push(ti=e?null:[])}function g5(){uh.pop(),ti=uh[uh.length-1]||null}let wh=1;function YT(e,t=!1){wh+=e,e<0&&ti&&t&&(ti.hasOnce=!0)}function zk(e){return e.dynamicChildren=wh>0?ti||Ru:null,g5(),wh>0&&ti&&ti.push(e),e}function et(e,t,r,n,a,i){return zk(_t(e,t,r,n,a,i,!0))}function Ot(e,t,r,n,a){return zk(Nt(e,t,r,n,a,!0))}function Sh(e){return e?e.__v_isVNode===!0:!1}function Ds(e,t){return e.type===t.type&&e.key===t.key}const Gk=({key:e})=>e??null,Cm=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?_r(e)||Gr(e)||It(e)?{i:an,r:e,k:t,f:!!r}:e:null);function _t(e,t=null,r=null,n=0,a=null,i=e===wt?0:1,o=!1,s=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Gk(t),ref:t&&Cm(t),scopeId:uk,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:an};return s?(BS(u,r),i&128&&e.normalize(u)):r&&(u.shapeFlag|=_r(r)?8:16),wh>0&&!o&&ti&&(u.patchFlag>0||i&6)&&u.patchFlag!==32&&ti.push(u),u}const Nt=_5;function _5(e,t=null,r=null,n=0,a=null,i=!1){if((!e||e===Ek)&&(e=Nn),Sh(e)){const s=No(e,t,!0);return r&&BS(s,r),wh>0&&!i&&ti&&(s.shapeFlag&6?ti[ti.indexOf(e)]=s:ti.push(s)),s.patchFlag=-2,s}if(R5(e)&&(e=e.__vccOpts),t){t=Mn(t);let{class:s,style:u}=t;s&&!_r(s)&&(t.class=vt(s)),sr(u)&&(NS(u)&&!Rt(u)&&(u=on({},u)),t.style=Fr(u))}const o=_r(e)?1:Vk(e)?128:fk(e)?64:sr(e)?4:It(e)?2:0;return _t(e,t,r,n,a,o,i,!0)}function Mn(e){return e?NS(e)||Dk(e)?on({},e):e:null}function No(e,t,r=!1,n=!1){const{props:a,ref:i,patchFlag:o,children:s,transition:u}=e,l=t?jr(a||{},t):a,f={__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&Gk(l),ref:t&&t.ref?r&&i?Rt(i)?i.concat(Cm(t)):[i,Cm(t)]:Cm(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==wt?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:u,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&No(e.ssContent),ssFallback:e.ssFallback&&No(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return u&&n&&vh(f,u.clone(f)),f}function Ri(e=" ",t=0){return Nt(p0,null,e,t)}function rt(e="",t=!1){return t?(Ke(),Ot(Nn,null,e)):Nt(Nn,null,e)}function ca(e){return e==null||typeof e=="boolean"?Nt(Nn):Rt(e)?Nt(wt,null,e.slice()):Sh(e)?Eo(e):Nt(p0,null,String(e))}function Eo(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:No(e)}function BS(e,t){let r=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(Rt(t))r=16;else if(typeof t=="object")if(n&65){const a=t.default;a&&(a._c&&(a._d=!1),BS(e,a()),a._c&&(a._d=!0));return}else{r=32;const a=t._;!a&&!Dk(t)?t._ctx=an:a===3&&an&&(an.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else It(t)?(t={default:t,_ctx:an},r=32):(t=String(t),n&64?(r=16,t=[Ri(t)]):r=8);e.children=t,e.shapeFlag|=r}function jr(...e){const t={};for(let r=0;r<e.length;r++){const n=e[r];for(const a in n)if(a==="class")t.class!==n.class&&(t.class=vt([t.class,n.class]));else if(a==="style")t.style=Fr([t.style,n.style]);else if(i0(a)){const i=t[a],o=n[a];o&&i!==o&&!(Rt(i)&&i.includes(o))&&(t[a]=i?[].concat(i,o):o)}else a!==""&&(t[a]=n[a])}return t}function ia(e,t,r,n=null){Gi(e,t,7,[r,n])}const b5=Pk();let v5=0;function w5(e,t,r){const n=e.type,a=(t?t.appContext:e.appContext)||b5,i={uid:v5++,vnode:e,type:n,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Kq(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Mk(n,a),emitsOptions:Hk(n,a),emit:null,emitted:null,propsDefaults:rr,inheritAttrs:n.inheritAttrs,ctx:rr,data:rr,props:rr,attrs:rr,slots:rr,refs:rr,setupState:rr,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=c5.bind(null,i),e.ce&&e.ce(i),i}let cn=null;const Wk=()=>cn||an;let Vm,Hw;{const e=u0(),t=(r,n)=>{let a;return(a=e[r])||(a=e[r]=[]),a.push(n),i=>{a.length>1?a.forEach(o=>o(i)):a[0](i)}};Vm=t("__VUE_INSTANCE_SETTERS__",r=>cn=r),Hw=t("__VUE_SSR_SETTERS__",r=>Eh=r)}const jh=e=>{const t=cn;return Vm(e),e.scope.on(),()=>{e.scope.off(),Vm(t)}},QT=()=>{cn&&cn.scope.off(),Vm(null)};function Kk(e){return e.vnode.shapeFlag&4}let Eh=!1;function S5(e,t=!1,r=!1){t&&Hw(t);const{props:n,children:a}=e.vnode,i=Kk(e);Q$(e,n,i,t),t5(e,a,r);const o=i?E5(e,t):void 0;return t&&Hw(!1),o}function E5(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,H$);const{setup:n}=r;if(n){Uo();const a=e.setupContext=n.length>1?Yk(e):null,i=jh(e),o=Fh(n,e,0,[e.props,a]),s=NM(o);if(Ho(),i(),(s||e.sp)&&!Pu(e)&&_k(e),s){if(o.then(QT,QT),t)return o.then(u=>{XT(e,u)}).catch(u=>{f0(u,e,0)});e.asyncDep=o}else XT(e,o)}else Zk(e)}function XT(e,t,r){It(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:sr(t)&&(e.setupState=nk(t)),Zk(e)}function Zk(e,t,r){const n=e.type;e.render||(e.render=n.render||ga);{const a=jh(e);Uo();try{V$(e)}finally{Ho(),a()}}}const x5={get(e,t){return bn(e,"get",""),e[t]}};function Yk(e){const t=r=>{e.exposed=r||{}};return{attrs:new Proxy(e.attrs,x5),slots:e.slots,emit:e.emit,expose:t}}function m0(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(nk(Vo(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in sh)return sh[r](e)},has(t,r){return r in t||r in sh}})):e.proxy}function T5(e,t=!0){return It(e)?e.displayName||e.name:e.name||t&&e.__name}function R5(e){return It(e)&&"__vccOpts"in e}const tt=(e,t)=>x$(e,t,Eh);function to(e,t,r){const n=arguments.length;return n===2?sr(t)&&!Rt(t)?Sh(t)?Nt(e,null,[t]):Nt(e,t):Nt(e,null,t):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&Sh(r)&&(r=[r]),Nt(e,t,r))}const A5="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Vw;const JT=typeof window<"u"&&window.trustedTypes;if(JT)try{Vw=JT.createPolicy("vue",{createHTML:e=>e})}catch{}const Qk=Vw?e=>Vw.createHTML(e):e=>e,I5="http://www.w3.org/2000/svg",O5="http://www.w3.org/1998/Math/MathML",$a=typeof document<"u"?document:null,eR=$a&&$a.createElement("template"),P5={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,n)=>{const a=t==="svg"?$a.createElementNS(I5,e):t==="mathml"?$a.createElementNS(O5,e):r?$a.createElement(e,{is:r}):$a.createElement(e);return e==="select"&&n&&n.multiple!=null&&a.setAttribute("multiple",n.multiple),a},createText:e=>$a.createTextNode(e),createComment:e=>$a.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>$a.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,n,a,i){const o=r?r.previousSibling:t.lastChild;if(a&&(a===i||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),r),!(a===i||!(a=a.nextSibling)););else{eR.innerHTML=Qk(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const s=eR.content;if(n==="svg"||n==="mathml"){const u=s.firstChild;for(;u.firstChild;)s.appendChild(u.firstChild);s.removeChild(u)}t.insertBefore(s,r)}return[o?o.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}},uo="transition",jl="animation",xh=Symbol("_vtc"),Xk={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},C5=on({},hk,Xk),L5=e=>(e.displayName="Transition",e.props=C5,e),el=L5((e,{slots:t})=>to(N$,D5(e),t)),cs=(e,t=[])=>{Rt(e)?e.forEach(r=>r(...t)):e&&e(...t)},tR=e=>e?Rt(e)?e.some(t=>t.length>1):e.length>1:!1;function D5(e){const t={};for(const O in e)O in Xk||(t[O]=e[O]);if(e.css===!1)return t;const{name:r="v",type:n,duration:a,enterFromClass:i=`${r}-enter-from`,enterActiveClass:o=`${r}-enter-active`,enterToClass:s=`${r}-enter-to`,appearFromClass:u=i,appearActiveClass:l=o,appearToClass:f=s,leaveFromClass:d=`${r}-leave-from`,leaveActiveClass:c=`${r}-leave-active`,leaveToClass:p=`${r}-leave-to`}=e,_=N5(a),v=_&&_[0],b=_&&_[1],{onBeforeEnter:m,onEnter:y,onEnterCancelled:g,onLeave:S,onLeaveCancelled:T,onBeforeAppear:I=m,onAppear:C=y,onAppearCancelled:B=g}=t,D=(O,q,Q,ie)=>{O._enterCancelled=ie,ds(O,q?f:s),ds(O,q?l:o),Q&&Q()},M=(O,q)=>{O._isLeaving=!1,ds(O,d),ds(O,p),ds(O,c),q&&q()},j=O=>(q,Q)=>{const ie=O?C:y,X=()=>D(q,O,Q);cs(ie,[q,X]),rR(()=>{ds(q,O?u:i),Pa(q,O?f:s),tR(ie)||nR(q,n,v,X)})};return on(t,{onBeforeEnter(O){cs(m,[O]),Pa(O,i),Pa(O,o)},onBeforeAppear(O){cs(I,[O]),Pa(O,u),Pa(O,l)},onEnter:j(!1),onAppear:j(!0),onLeave(O,q){O._isLeaving=!0;const Q=()=>M(O,q);Pa(O,d),O._enterCancelled?(Pa(O,c),oR()):(oR(),Pa(O,c)),rR(()=>{O._isLeaving&&(ds(O,d),Pa(O,p),tR(S)||nR(O,n,b,Q))}),cs(S,[O,Q])},onEnterCancelled(O){D(O,!1,void 0,!0),cs(g,[O])},onAppearCancelled(O){D(O,!0,void 0,!0),cs(B,[O])},onLeaveCancelled(O){M(O),cs(T,[O])}})}function N5(e){if(e==null)return null;if(sr(e))return[jy(e.enter),jy(e.leave)];{const t=jy(e);return[t,t]}}function jy(e){return $q(e)}function Pa(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.add(r)),(e[xh]||(e[xh]=new Set)).add(t)}function ds(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.remove(n));const r=e[xh];r&&(r.delete(t),r.size||(e[xh]=void 0))}function rR(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let M5=0;function nR(e,t,r,n){const a=e._endId=++M5,i=()=>{a===e._endId&&n()};if(r!=null)return setTimeout(i,r);const{type:o,timeout:s,propCount:u}=k5(e,t);if(!o)return n();const l=o+"end";let f=0;const d=()=>{e.removeEventListener(l,c),i()},c=p=>{p.target===e&&++f>=u&&d()};setTimeout(()=>{f<u&&d()},s+1),e.addEventListener(l,c)}function k5(e,t){const r=window.getComputedStyle(e),n=_=>(r[_]||"").split(", "),a=n(`${uo}Delay`),i=n(`${uo}Duration`),o=iR(a,i),s=n(`${jl}Delay`),u=n(`${jl}Duration`),l=iR(s,u);let f=null,d=0,c=0;t===uo?o>0&&(f=uo,d=o,c=i.length):t===jl?l>0&&(f=jl,d=l,c=u.length):(d=Math.max(o,l),f=d>0?o>l?uo:jl:null,c=f?f===uo?i.length:u.length:0);const p=f===uo&&/\b(transform|all)(,|$)/.test(n(`${uo}Property`).toString());return{type:f,timeout:d,propCount:c,hasTransform:p}}function iR(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((r,n)=>aR(r)+aR(e[n])))}function aR(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function oR(){return document.body.offsetHeight}function F5(e,t,r){const n=e[xh];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}const zm=Symbol("_vod"),Jk=Symbol("_vsh"),Lm={beforeMount(e,{value:t},{transition:r}){e[zm]=e.style.display==="none"?"":e.style.display,r&&t?r.beforeEnter(e):Bl(e,t)},mounted(e,{value:t},{transition:r}){r&&t&&r.enter(e)},updated(e,{value:t,oldValue:r},{transition:n}){!t!=!r&&(n?t?(n.beforeEnter(e),Bl(e,!0),n.enter(e)):n.leave(e,()=>{Bl(e,!1)}):Bl(e,t))},beforeUnmount(e,{value:t}){Bl(e,t)}};function Bl(e,t){e.style.display=t?e[zm]:"none",e[Jk]=!t}const j5=Symbol(""),B5=/(^|;)\s*display\s*:/;function q5(e,t,r){const n=e.style,a=_r(r);let i=!1;if(r&&!a){if(t)if(_r(t))for(const o of t.split(";")){const s=o.slice(0,o.indexOf(":")).trim();r[s]==null&&Dm(n,s,"")}else for(const o in t)r[o]==null&&Dm(n,o,"");for(const o in r)o==="display"&&(i=!0),Dm(n,o,r[o])}else if(a){if(t!==r){const o=n[j5];o&&(r+=";"+o),n.cssText=r,i=B5.test(r)}}else t&&e.removeAttribute("style");zm in e&&(e[zm]=i?n.display:"",e[Jk]&&(n.display="none"))}const sR=/\s*!important$/;function Dm(e,t,r){if(Rt(r))r.forEach(n=>Dm(e,t,n));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const n=$5(e,t);sR.test(r)?e.setProperty($o(n),r.replace(sR,""),"important"):e[n]=r}}const uR=["Webkit","Moz","ms"],By={};function $5(e,t){const r=By[t];if(r)return r;let n=Ti(t);if(n!=="filter"&&n in e)return By[t]=n;n=s0(n);for(let a=0;a<uR.length;a++){const i=uR[a]+n;if(i in e)return By[t]=i}return t}const lR="http://www.w3.org/1999/xlink";function fR(e,t,r,n,a,i=Wq(t)){n&&t.startsWith("xlink:")?r==null?e.removeAttributeNS(lR,t.slice(6,t.length)):e.setAttributeNS(lR,t,r):r==null||i&&!jM(r)?e.removeAttribute(t):e.setAttribute(t,i?"":Xa(r)?String(r):r)}function cR(e,t,r,n,a){if(t==="innerHTML"||t==="textContent"){r!=null&&(e[t]=t==="innerHTML"?Qk(r):r);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const s=i==="OPTION"?e.getAttribute("value")||"":e.value,u=r==null?e.type==="checkbox"?"on":"":String(r);(s!==u||!("_value"in e))&&(e.value=u),r==null&&e.removeAttribute(t),e._value=r;return}let o=!1;if(r===""||r==null){const s=typeof e[t];s==="boolean"?r=jM(r):r==null&&s==="string"?(r="",o=!0):s==="number"&&(r=0,o=!0)}try{e[t]=r}catch{}o&&e.removeAttribute(a||t)}function U5(e,t,r,n){e.addEventListener(t,r,n)}function H5(e,t,r,n){e.removeEventListener(t,r,n)}const dR=Symbol("_vei");function V5(e,t,r,n,a=null){const i=e[dR]||(e[dR]={}),o=i[t];if(n&&o)o.value=n;else{const[s,u]=z5(t);if(n){const l=i[t]=K5(n,a);U5(e,s,l,u)}else o&&(H5(e,s,o,u),i[t]=void 0)}}const hR=/(?:Once|Passive|Capture)$/;function z5(e){let t;if(hR.test(e)){t={};let n;for(;n=e.match(hR);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):$o(e.slice(2)),t]}let qy=0;const G5=Promise.resolve(),W5=()=>qy||(G5.then(()=>qy=0),qy=Date.now());function K5(e,t){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;Gi(Z5(n,r.value),t,5,[n])};return r.value=e,r.attached=W5(),r}function Z5(e,t){if(Rt(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(n=>a=>!a._stopped&&n&&n(a))}else return t}const pR=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Y5=(e,t,r,n,a,i)=>{const o=a==="svg";t==="class"?F5(e,n,o):t==="style"?q5(e,r,n):i0(t)?TS(t)||V5(e,t,r,n,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Q5(e,t,n,o))?(cR(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&fR(e,t,n,o,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!_r(n))?cR(e,Ti(t),n,i,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),fR(e,t,n,o))};function Q5(e,t,r,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&pR(t)&&It(r));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const a=e.tagName;if(a==="IMG"||a==="VIDEO"||a==="CANVAS"||a==="SOURCE")return!1}return pR(t)&&_r(r)?!1:t in e}const X5=["ctrl","shift","alt","meta"],J5={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>X5.some(r=>e[`${r}Key`]&&!t.includes(r))},Th=(e,t)=>{const r=e._withMods||(e._withMods={}),n=t.join(".");return r[n]||(r[n]=(a,...i)=>{for(let o=0;o<t.length;o++){const s=J5[t[o]];if(s&&s(a,t))return}return e(a,...i)})},e9={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},t9=(e,t)=>{const r=e._withKeys||(e._withKeys={}),n=t.join(".");return r[n]||(r[n]=a=>{if(!("key"in a))return;const i=$o(a.key);if(t.some(o=>o===i||e9[o]===i))return e(a)})},r9=on({patchProp:Y5},P5);let mR;function eF(){return mR||(mR=n5(r9))}const zw=(...e)=>{eF().render(...e)},n9=(...e)=>{const t=eF().createApp(...e),{mount:r}=t;return t.mount=n=>{const a=a9(n);if(!a)return;const i=t._component;!It(i)&&!i.render&&!i.template&&(i.template=a.innerHTML),a.nodeType===1&&(a.textContent="");const o=r(a,!1,i9(a));return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),o},t};function i9(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function a9(e){return _r(e)?document.querySelector(e):e}var xt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function tl(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var zd={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var o9=zd.exports,yR;function s9(){return yR||(yR=1,function(e,t){(function(r,n){n(t)})(o9,function(r){var n="1.9.4";function a(h){var E,N,z,ue;for(N=1,z=arguments.length;N<z;N++){ue=arguments[N];for(E in ue)h[E]=ue[E]}return h}var i=Object.create||function(){function h(){}return function(E){return h.prototype=E,new h}}();function o(h,E){var N=Array.prototype.slice;if(h.bind)return h.bind.apply(h,N.call(arguments,1));var z=N.call(arguments,2);return function(){return h.apply(E,z.length?z.concat(N.call(arguments)):arguments)}}var s=0;function u(h){return"_leaflet_id"in h||(h._leaflet_id=++s),h._leaflet_id}function l(h,E,N){var z,ue,Ee,Be;return Be=function(){z=!1,ue&&(Ee.apply(N,ue),ue=!1)},Ee=function(){z?ue=arguments:(h.apply(N,arguments),setTimeout(Be,E),z=!0)},Ee}function f(h,E,N){var z=E[1],ue=E[0],Ee=z-ue;return h===z&&N?h:((h-ue)%Ee+Ee)%Ee+ue}function d(){return!1}function c(h,E){if(E===!1)return h;var N=Math.pow(10,E===void 0?6:E);return Math.round(h*N)/N}function p(h){return h.trim?h.trim():h.replace(/^\s+|\s+$/g,"")}function _(h){return p(h).split(/\s+/)}function v(h,E){Object.prototype.hasOwnProperty.call(h,"options")||(h.options=h.options?i(h.options):{});for(var N in E)h.options[N]=E[N];return h.options}function b(h,E,N){var z=[];for(var ue in h)z.push(encodeURIComponent(N?ue.toUpperCase():ue)+"="+encodeURIComponent(h[ue]));return(!E||E.indexOf("?")===-1?"?":"&")+z.join("&")}var m=/\{ *([\w_ -]+) *\}/g;function y(h,E){return h.replace(m,function(N,z){var ue=E[z];if(ue===void 0)throw new Error("No value provided for variable "+N);return typeof ue=="function"&&(ue=ue(E)),ue})}var g=Array.isArray||function(h){return Object.prototype.toString.call(h)==="[object Array]"};function S(h,E){for(var N=0;N<h.length;N++)if(h[N]===E)return N;return-1}var T="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function I(h){return window["webkit"+h]||window["moz"+h]||window["ms"+h]}var C=0;function B(h){var E=+new Date,N=Math.max(0,16-(E-C));return C=E+N,window.setTimeout(h,N)}var D=window.requestAnimationFrame||I("RequestAnimationFrame")||B,M=window.cancelAnimationFrame||I("CancelAnimationFrame")||I("CancelRequestAnimationFrame")||function(h){window.clearTimeout(h)};function j(h,E,N){if(N&&D===B)h.call(E);else return D.call(window,o(h,E))}function O(h){h&&M.call(window,h)}var q={__proto__:null,extend:a,create:i,bind:o,get lastId(){return s},stamp:u,throttle:l,wrapNum:f,falseFn:d,formatNum:c,trim:p,splitWords:_,setOptions:v,getParamString:b,template:y,isArray:g,indexOf:S,emptyImageUrl:T,requestFn:D,cancelFn:M,requestAnimFrame:j,cancelAnimFrame:O};function Q(){}Q.extend=function(h){var E=function(){v(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},N=E.__super__=this.prototype,z=i(N);z.constructor=E,E.prototype=z;for(var ue in this)Object.prototype.hasOwnProperty.call(this,ue)&&ue!=="prototype"&&ue!=="__super__"&&(E[ue]=this[ue]);return h.statics&&a(E,h.statics),h.includes&&(ie(h.includes),a.apply(null,[z].concat(h.includes))),a(z,h),delete z.statics,delete z.includes,z.options&&(z.options=N.options?i(N.options):{},a(z.options,h.options)),z._initHooks=[],z.callInitHooks=function(){if(!this._initHooksCalled){N.callInitHooks&&N.callInitHooks.call(this),this._initHooksCalled=!0;for(var Ee=0,Be=z._initHooks.length;Ee<Be;Ee++)z._initHooks[Ee].call(this)}},E},Q.include=function(h){var E=this.prototype.options;return a(this.prototype,h),h.options&&(this.prototype.options=E,this.mergeOptions(h.options)),this},Q.mergeOptions=function(h){return a(this.prototype.options,h),this},Q.addInitHook=function(h){var E=Array.prototype.slice.call(arguments,1),N=typeof h=="function"?h:function(){this[h].apply(this,E)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(N),this};function ie(h){if(!(typeof L>"u"||!L||!L.Mixin)){h=g(h)?h:[h];for(var E=0;E<h.length;E++)h[E]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var X={on:function(h,E,N){if(typeof h=="object")for(var z in h)this._on(z,h[z],E);else{h=_(h);for(var ue=0,Ee=h.length;ue<Ee;ue++)this._on(h[ue],E,N)}return this},off:function(h,E,N){if(!arguments.length)delete this._events;else if(typeof h=="object")for(var z in h)this._off(z,h[z],E);else{h=_(h);for(var ue=arguments.length===1,Ee=0,Be=h.length;Ee<Be;Ee++)ue?this._off(h[Ee]):this._off(h[Ee],E,N)}return this},_on:function(h,E,N,z){if(typeof E!="function"){console.warn("wrong listener type: "+typeof E);return}if(this._listens(h,E,N)===!1){N===this&&(N=void 0);var ue={fn:E,ctx:N};z&&(ue.once=!0),this._events=this._events||{},this._events[h]=this._events[h]||[],this._events[h].push(ue)}},_off:function(h,E,N){var z,ue,Ee;if(this._events&&(z=this._events[h],!!z)){if(arguments.length===1){if(this._firingCount)for(ue=0,Ee=z.length;ue<Ee;ue++)z[ue].fn=d;delete this._events[h];return}if(typeof E!="function"){console.warn("wrong listener type: "+typeof E);return}var Be=this._listens(h,E,N);if(Be!==!1){var Qe=z[Be];this._firingCount&&(Qe.fn=d,this._events[h]=z=z.slice()),z.splice(Be,1)}}},fire:function(h,E,N){if(!this.listens(h,N))return this;var z=a({},E,{type:h,target:this,sourceTarget:E&&E.sourceTarget||this});if(this._events){var ue=this._events[h];if(ue){this._firingCount=this._firingCount+1||1;for(var Ee=0,Be=ue.length;Ee<Be;Ee++){var Qe=ue[Ee],Xe=Qe.fn;Qe.once&&this.off(h,Xe,Qe.ctx),Xe.call(Qe.ctx||this,z)}this._firingCount--}}return N&&this._propagateEvent(z),this},listens:function(h,E,N,z){typeof h!="string"&&console.warn('"string" type argument expected');var ue=E;typeof E!="function"&&(z=!!E,ue=void 0,N=void 0);var Ee=this._events&&this._events[h];if(Ee&&Ee.length&&this._listens(h,ue,N)!==!1)return!0;if(z){for(var Be in this._eventParents)if(this._eventParents[Be].listens(h,E,N,z))return!0}return!1},_listens:function(h,E,N){if(!this._events)return!1;var z=this._events[h]||[];if(!E)return!!z.length;N===this&&(N=void 0);for(var ue=0,Ee=z.length;ue<Ee;ue++)if(z[ue].fn===E&&z[ue].ctx===N)return ue;return!1},once:function(h,E,N){if(typeof h=="object")for(var z in h)this._on(z,h[z],E,!0);else{h=_(h);for(var ue=0,Ee=h.length;ue<Ee;ue++)this._on(h[ue],E,N,!0)}return this},addEventParent:function(h){return this._eventParents=this._eventParents||{},this._eventParents[u(h)]=h,this},removeEventParent:function(h){return this._eventParents&&delete this._eventParents[u(h)],this},_propagateEvent:function(h){for(var E in this._eventParents)this._eventParents[E].fire(h.type,a({layer:h.target,propagatedFrom:h.target},h),!0)}};X.addEventListener=X.on,X.removeEventListener=X.clearAllEventListeners=X.off,X.addOneTimeEventListener=X.once,X.fireEvent=X.fire,X.hasEventListeners=X.listens;var le=Q.extend(X);function ae(h,E,N){this.x=N?Math.round(h):h,this.y=N?Math.round(E):E}var ne=Math.trunc||function(h){return h>0?Math.floor(h):Math.ceil(h)};ae.prototype={clone:function(){return new ae(this.x,this.y)},add:function(h){return this.clone()._add(V(h))},_add:function(h){return this.x+=h.x,this.y+=h.y,this},subtract:function(h){return this.clone()._subtract(V(h))},_subtract:function(h){return this.x-=h.x,this.y-=h.y,this},divideBy:function(h){return this.clone()._divideBy(h)},_divideBy:function(h){return this.x/=h,this.y/=h,this},multiplyBy:function(h){return this.clone()._multiplyBy(h)},_multiplyBy:function(h){return this.x*=h,this.y*=h,this},scaleBy:function(h){return new ae(this.x*h.x,this.y*h.y)},unscaleBy:function(h){return new ae(this.x/h.x,this.y/h.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ne(this.x),this.y=ne(this.y),this},distanceTo:function(h){h=V(h);var E=h.x-this.x,N=h.y-this.y;return Math.sqrt(E*E+N*N)},equals:function(h){return h=V(h),h.x===this.x&&h.y===this.y},contains:function(h){return h=V(h),Math.abs(h.x)<=Math.abs(this.x)&&Math.abs(h.y)<=Math.abs(this.y)},toString:function(){return"Point("+c(this.x)+", "+c(this.y)+")"}};function V(h,E,N){return h instanceof ae?h:g(h)?new ae(h[0],h[1]):h==null?h:typeof h=="object"&&"x"in h&&"y"in h?new ae(h.x,h.y):new ae(h,E,N)}function oe(h,E){if(h)for(var N=E?[h,E]:h,z=0,ue=N.length;z<ue;z++)this.extend(N[z])}oe.prototype={extend:function(h){var E,N;if(!h)return this;if(h instanceof ae||typeof h[0]=="number"||"x"in h)E=N=V(h);else if(h=he(h),E=h.min,N=h.max,!E||!N)return this;return!this.min&&!this.max?(this.min=E.clone(),this.max=N.clone()):(this.min.x=Math.min(E.x,this.min.x),this.max.x=Math.max(N.x,this.max.x),this.min.y=Math.min(E.y,this.min.y),this.max.y=Math.max(N.y,this.max.y)),this},getCenter:function(h){return V((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,h)},getBottomLeft:function(){return V(this.min.x,this.max.y)},getTopRight:function(){return V(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(h){var E,N;return typeof h[0]=="number"||h instanceof ae?h=V(h):h=he(h),h instanceof oe?(E=h.min,N=h.max):E=N=h,E.x>=this.min.x&&N.x<=this.max.x&&E.y>=this.min.y&&N.y<=this.max.y},intersects:function(h){h=he(h);var E=this.min,N=this.max,z=h.min,ue=h.max,Ee=ue.x>=E.x&&z.x<=N.x,Be=ue.y>=E.y&&z.y<=N.y;return Ee&&Be},overlaps:function(h){h=he(h);var E=this.min,N=this.max,z=h.min,ue=h.max,Ee=ue.x>E.x&&z.x<N.x,Be=ue.y>E.y&&z.y<N.y;return Ee&&Be},isValid:function(){return!!(this.min&&this.max)},pad:function(h){var E=this.min,N=this.max,z=Math.abs(E.x-N.x)*h,ue=Math.abs(E.y-N.y)*h;return he(V(E.x-z,E.y-ue),V(N.x+z,N.y+ue))},equals:function(h){return h?(h=he(h),this.min.equals(h.getTopLeft())&&this.max.equals(h.getBottomRight())):!1}};function he(h,E){return!h||h instanceof oe?h:new oe(h,E)}function Y(h,E){if(h)for(var N=E?[h,E]:h,z=0,ue=N.length;z<ue;z++)this.extend(N[z])}Y.prototype={extend:function(h){var E=this._southWest,N=this._northEast,z,ue;if(h instanceof ee)z=h,ue=h;else if(h instanceof Y){if(z=h._southWest,ue=h._northEast,!z||!ue)return this}else return h?this.extend(P(h)||Z(h)):this;return!E&&!N?(this._southWest=new ee(z.lat,z.lng),this._northEast=new ee(ue.lat,ue.lng)):(E.lat=Math.min(z.lat,E.lat),E.lng=Math.min(z.lng,E.lng),N.lat=Math.max(ue.lat,N.lat),N.lng=Math.max(ue.lng,N.lng)),this},pad:function(h){var E=this._southWest,N=this._northEast,z=Math.abs(E.lat-N.lat)*h,ue=Math.abs(E.lng-N.lng)*h;return new Y(new ee(E.lat-z,E.lng-ue),new ee(N.lat+z,N.lng+ue))},getCenter:function(){return new ee((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ee(this.getNorth(),this.getWest())},getSouthEast:function(){return new ee(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(h){typeof h[0]=="number"||h instanceof ee||"lat"in h?h=P(h):h=Z(h);var E=this._southWest,N=this._northEast,z,ue;return h instanceof Y?(z=h.getSouthWest(),ue=h.getNorthEast()):z=ue=h,z.lat>=E.lat&&ue.lat<=N.lat&&z.lng>=E.lng&&ue.lng<=N.lng},intersects:function(h){h=Z(h);var E=this._southWest,N=this._northEast,z=h.getSouthWest(),ue=h.getNorthEast(),Ee=ue.lat>=E.lat&&z.lat<=N.lat,Be=ue.lng>=E.lng&&z.lng<=N.lng;return Ee&&Be},overlaps:function(h){h=Z(h);var E=this._southWest,N=this._northEast,z=h.getSouthWest(),ue=h.getNorthEast(),Ee=ue.lat>E.lat&&z.lat<N.lat,Be=ue.lng>E.lng&&z.lng<N.lng;return Ee&&Be},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(h,E){return h?(h=Z(h),this._southWest.equals(h.getSouthWest(),E)&&this._northEast.equals(h.getNorthEast(),E)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Z(h,E){return h instanceof Y?h:new Y(h,E)}function ee(h,E,N){if(isNaN(h)||isNaN(E))throw new Error("Invalid LatLng object: ("+h+", "+E+")");this.lat=+h,this.lng=+E,N!==void 0&&(this.alt=+N)}ee.prototype={equals:function(h,E){if(!h)return!1;h=P(h);var N=Math.max(Math.abs(this.lat-h.lat),Math.abs(this.lng-h.lng));return N<=(E===void 0?1e-9:E)},toString:function(h){return"LatLng("+c(this.lat,h)+", "+c(this.lng,h)+")"},distanceTo:function(h){return $.distance(this,P(h))},wrap:function(){return $.wrapLatLng(this)},toBounds:function(h){var E=180*h/40075017,N=E/Math.cos(Math.PI/180*this.lat);return Z([this.lat-E,this.lng-N],[this.lat+E,this.lng+N])},clone:function(){return new ee(this.lat,this.lng,this.alt)}};function P(h,E,N){return h instanceof ee?h:g(h)&&typeof h[0]!="object"?h.length===3?new ee(h[0],h[1],h[2]):h.length===2?new ee(h[0],h[1]):null:h==null?h:typeof h=="object"&&"lat"in h?new ee(h.lat,"lng"in h?h.lng:h.lon,h.alt):E===void 0?null:new ee(h,E,N)}var A={latLngToPoint:function(h,E){var N=this.projection.project(h),z=this.scale(E);return this.transformation._transform(N,z)},pointToLatLng:function(h,E){var N=this.scale(E),z=this.transformation.untransform(h,N);return this.projection.unproject(z)},project:function(h){return this.projection.project(h)},unproject:function(h){return this.projection.unproject(h)},scale:function(h){return 256*Math.pow(2,h)},zoom:function(h){return Math.log(h/256)/Math.LN2},getProjectedBounds:function(h){if(this.infinite)return null;var E=this.projection.bounds,N=this.scale(h),z=this.transformation.transform(E.min,N),ue=this.transformation.transform(E.max,N);return new oe(z,ue)},infinite:!1,wrapLatLng:function(h){var E=this.wrapLng?f(h.lng,this.wrapLng,!0):h.lng,N=this.wrapLat?f(h.lat,this.wrapLat,!0):h.lat,z=h.alt;return new ee(N,E,z)},wrapLatLngBounds:function(h){var E=h.getCenter(),N=this.wrapLatLng(E),z=E.lat-N.lat,ue=E.lng-N.lng;if(z===0&&ue===0)return h;var Ee=h.getSouthWest(),Be=h.getNorthEast(),Qe=new ee(Ee.lat-z,Ee.lng-ue),Xe=new ee(Be.lat-z,Be.lng-ue);return new Y(Qe,Xe)}},$=a({},A,{wrapLng:[-180,180],R:6371e3,distance:function(h,E){var N=Math.PI/180,z=h.lat*N,ue=E.lat*N,Ee=Math.sin((E.lat-h.lat)*N/2),Be=Math.sin((E.lng-h.lng)*N/2),Qe=Ee*Ee+Math.cos(z)*Math.cos(ue)*Be*Be,Xe=2*Math.atan2(Math.sqrt(Qe),Math.sqrt(1-Qe));return this.R*Xe}}),te=6378137,pe={R:te,MAX_LATITUDE:85.0511287798,project:function(h){var E=Math.PI/180,N=this.MAX_LATITUDE,z=Math.max(Math.min(N,h.lat),-N),ue=Math.sin(z*E);return new ae(this.R*h.lng*E,this.R*Math.log((1+ue)/(1-ue))/2)},unproject:function(h){var E=180/Math.PI;return new ee((2*Math.atan(Math.exp(h.y/this.R))-Math.PI/2)*E,h.x*E/this.R)},bounds:function(){var h=te*Math.PI;return new oe([-h,-h],[h,h])}()};function R(h,E,N,z){if(g(h)){this._a=h[0],this._b=h[1],this._c=h[2],this._d=h[3];return}this._a=h,this._b=E,this._c=N,this._d=z}R.prototype={transform:function(h,E){return this._transform(h.clone(),E)},_transform:function(h,E){return E=E||1,h.x=E*(this._a*h.x+this._b),h.y=E*(this._c*h.y+this._d),h},untransform:function(h,E){return E=E||1,new ae((h.x/E-this._b)/this._a,(h.y/E-this._d)/this._c)}};function w(h,E,N,z){return new R(h,E,N,z)}var x=a({},$,{code:"EPSG:3857",projection:pe,transformation:function(){var h=.5/(Math.PI*pe.R);return w(h,.5,-h,.5)}()}),k=a({},x,{code:"EPSG:900913"});function U(h){return document.createElementNS("http://www.w3.org/2000/svg",h)}function re(h,E){var N="",z,ue,Ee,Be,Qe,Xe;for(z=0,Ee=h.length;z<Ee;z++){for(Qe=h[z],ue=0,Be=Qe.length;ue<Be;ue++)Xe=Qe[ue],N+=(ue?"L":"M")+Xe.x+" "+Xe.y;N+=E?$e.svg?"z":"x":""}return N||"M0 0"}var fe=document.documentElement.style,ve="ActiveXObject"in window,ce=ve&&!document.addEventListener,Ie="msLaunchUri"in navigator&&!("documentMode"in document),be=He("webkit"),xe=He("android"),je=He("android 2")||He("android 3"),Ae=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Pe=xe&&He("Google")&&Ae<537&&!("AudioNode"in window),ke=!!window.opera,Ze=!Ie&&He("chrome"),Ue=He("gecko")&&!be&&!ke&&!ve,it=!Ze&&He("safari"),ye=He("phantom"),F="OTransition"in fe,K=navigator.platform.indexOf("Win")===0,_e=ve&&"transition"in fe,Oe="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!je,se="MozPerspective"in fe,ge=!window.L_DISABLE_3D&&(_e||Oe||se)&&!F&&!ye,de=typeof orientation<"u"||He("mobile"),Re=de&&be,qe=de&&Oe,H=!window.PointerEvent&&window.MSPointerEvent,Te=!!(window.PointerEvent||H),De="ontouchstart"in window||!!window.TouchEvent,me=!window.L_NO_TOUCH&&(De||Te),Me=de&&ke,Ve=de&&Ue,ft=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,we=function(){var h=!1;try{var E=Object.defineProperty({},"passive",{get:function(){h=!0}});window.addEventListener("testPassiveEventSupport",d,E),window.removeEventListener("testPassiveEventSupport",d,E)}catch{}return h}(),W=function(){return!!document.createElement("canvas").getContext}(),G=!!(document.createElementNS&&U("svg").createSVGRect),J=!!G&&function(){var h=document.createElement("div");return h.innerHTML="<svg/>",(h.firstChild&&h.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Se=!G&&function(){try{var h=document.createElement("div");h.innerHTML='<v:shape adj="1"/>';var E=h.firstChild;return E.style.behavior="url(#default#VML)",E&&typeof E.adj=="object"}catch{return!1}}(),Ne=navigator.platform.indexOf("Mac")===0,Le=navigator.platform.indexOf("Linux")===0;function He(h){return navigator.userAgent.toLowerCase().indexOf(h)>=0}var $e={ie:ve,ielt9:ce,edge:Ie,webkit:be,android:xe,android23:je,androidStock:Pe,opera:ke,chrome:Ze,gecko:Ue,safari:it,phantom:ye,opera12:F,win:K,ie3d:_e,webkit3d:Oe,gecko3d:se,any3d:ge,mobile:de,mobileWebkit:Re,mobileWebkit3d:qe,msPointer:H,pointer:Te,touch:me,touchNative:De,mobileOpera:Me,mobileGecko:Ve,retina:ft,passiveEvents:we,canvas:W,svg:G,vml:Se,inlineSvg:J,mac:Ne,linux:Le},ut=$e.msPointer?"MSPointerDown":"pointerdown",lt=$e.msPointer?"MSPointerMove":"pointermove",dt=$e.msPointer?"MSPointerUp":"pointerup",ct=$e.msPointer?"MSPointerCancel":"pointercancel",nt={touchstart:ut,touchmove:lt,touchend:dt,touchcancel:ct},lr={touchstart:Rl,touchmove:Tn,touchend:Tn,touchcancel:Tn},at={},Ce=!1;function Ge(h,E,N){return E==="touchstart"&&Rr(),lr[E]?(N=lr[E].bind(this,N),h.addEventListener(nt[E],N,!1),N):(console.warn("wrong event specified:",E),d)}function We(h,E,N){if(!nt[E]){console.warn("wrong event specified:",E);return}h.removeEventListener(nt[E],N,!1)}function ht(h){at[h.pointerId]=h}function gt(h){at[h.pointerId]&&(at[h.pointerId]=h)}function Ct(h){delete at[h.pointerId]}function Rr(){Ce||(document.addEventListener(ut,ht,!0),document.addEventListener(lt,gt,!0),document.addEventListener(dt,Ct,!0),document.addEventListener(ct,Ct,!0),Ce=!0)}function Tn(h,E){if(E.pointerType!==(E.MSPOINTER_TYPE_MOUSE||"mouse")){E.touches=[];for(var N in at)E.touches.push(at[N]);E.changedTouches=[E],h(E)}}function Rl(h,E){E.MSPOINTER_TYPE_TOUCH&&E.pointerType===E.MSPOINTER_TYPE_TOUCH&&sn(E),Tn(h,E)}function ea(h){var E={},N,z;for(z in h)N=h[z],E[z]=N&&N.bind?N.bind(h):N;return h=E,E.type="dblclick",E.detail=2,E.isTrusted=!1,E._simulated=!0,E}var Ar=200;function xa(h,E){h.addEventListener("dblclick",E);var N=0,z;function ue(Ee){if(Ee.detail!==1){z=Ee.detail;return}if(!(Ee.pointerType==="mouse"||Ee.sourceCapabilities&&!Ee.sourceCapabilities.firesTouchEvents)){var Be=Zx(Ee);if(!(Be.some(function(Xe){return Xe instanceof HTMLLabelElement&&Xe.attributes.for})&&!Be.some(function(Xe){return Xe instanceof HTMLInputElement||Xe instanceof HTMLSelectElement}))){var Qe=Date.now();Qe-N<=Ar?(z++,z===2&&E(ea(Ee))):z=1,N=Qe}}}return h.addEventListener("click",ue),{dblclick:E,simDblclick:ue}}function $n(h,E){h.removeEventListener("dblclick",E.dblclick),h.removeEventListener("click",E.simDblclick)}var rs=yp(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),li=yp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ns=li==="webkitTransition"||li==="OTransition"?li+"End":"transitionend";function fi(h){return typeof h=="string"?document.getElementById(h):h}function ao(h,E){var N=h.style[E]||h.currentStyle&&h.currentStyle[E];if((!N||N==="auto")&&document.defaultView){var z=document.defaultView.getComputedStyle(h,null);N=z?z[E]:null}return N==="auto"?null:N}function Ft(h,E,N){var z=document.createElement(h);return z.className=E||"",N&&N.appendChild(z),z}function er(h){var E=h.parentNode;E&&E.removeChild(h)}function Di(h){for(;h.firstChild;)h.removeChild(h.firstChild)}function au(h){var E=h.parentNode;E&&E.lastChild!==h&&E.appendChild(h)}function ou(h){var E=h.parentNode;E&&E.firstChild!==h&&E.insertBefore(h,E.firstChild)}function iy(h,E){if(h.classList!==void 0)return h.classList.contains(E);var N=mp(h);return N.length>0&&new RegExp("(^|\\s)"+E+"(\\s|$)").test(N)}function Lt(h,E){if(h.classList!==void 0)for(var N=_(E),z=0,ue=N.length;z<ue;z++)h.classList.add(N[z]);else if(!iy(h,E)){var Ee=mp(h);ay(h,(Ee?Ee+" ":"")+E)}}function Dr(h,E){h.classList!==void 0?h.classList.remove(E):ay(h,p((" "+mp(h)+" ").replace(" "+E+" "," ")))}function ay(h,E){h.className.baseVal===void 0?h.className=E:h.className.baseVal=E}function mp(h){return h.correspondingElement&&(h=h.correspondingElement),h.className.baseVal===void 0?h.className:h.className.baseVal}function ci(h,E){"opacity"in h.style?h.style.opacity=E:"filter"in h.style&&F8(h,E)}function F8(h,E){var N=!1,z="DXImageTransform.Microsoft.Alpha";try{N=h.filters.item(z)}catch{if(E===1)return}E=Math.round(E*100),N?(N.Enabled=E!==100,N.Opacity=E):h.style.filter+=" progid:"+z+"(opacity="+E+")"}function yp(h){for(var E=document.documentElement.style,N=0;N<h.length;N++)if(h[N]in E)return h[N];return!1}function is(h,E,N){var z=E||new ae(0,0);h.style[rs]=($e.ie3d?"translate("+z.x+"px,"+z.y+"px)":"translate3d("+z.x+"px,"+z.y+"px,0)")+(N?" scale("+N+")":"")}function Ur(h,E){h._leaflet_pos=E,$e.any3d?is(h,E):(h.style.left=E.x+"px",h.style.top=E.y+"px")}function as(h){return h._leaflet_pos||new ae(0,0)}var Al,Il,oy;if("onselectstart"in document)Al=function(){Pt(window,"selectstart",sn)},Il=function(){ar(window,"selectstart",sn)};else{var Ol=yp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Al=function(){if(Ol){var h=document.documentElement.style;oy=h[Ol],h[Ol]="none"}},Il=function(){Ol&&(document.documentElement.style[Ol]=oy,oy=void 0)}}function sy(){Pt(window,"dragstart",sn)}function uy(){ar(window,"dragstart",sn)}var gp,ly;function fy(h){for(;h.tabIndex===-1;)h=h.parentNode;h.style&&(_p(),gp=h,ly=h.style.outlineStyle,h.style.outlineStyle="none",Pt(window,"keydown",_p))}function _p(){gp&&(gp.style.outlineStyle=ly,gp=void 0,ly=void 0,ar(window,"keydown",_p))}function Wx(h){do h=h.parentNode;while((!h.offsetWidth||!h.offsetHeight)&&h!==document.body);return h}function cy(h){var E=h.getBoundingClientRect();return{x:E.width/h.offsetWidth||1,y:E.height/h.offsetHeight||1,boundingClientRect:E}}var j8={__proto__:null,TRANSFORM:rs,TRANSITION:li,TRANSITION_END:ns,get:fi,getStyle:ao,create:Ft,remove:er,empty:Di,toFront:au,toBack:ou,hasClass:iy,addClass:Lt,removeClass:Dr,setClass:ay,getClass:mp,setOpacity:ci,testProp:yp,setTransform:is,setPosition:Ur,getPosition:as,get disableTextSelection(){return Al},get enableTextSelection(){return Il},disableImageDrag:sy,enableImageDrag:uy,preventOutline:fy,restoreOutline:_p,getSizedParentNode:Wx,getScale:cy};function Pt(h,E,N,z){if(E&&typeof E=="object")for(var ue in E)hy(h,ue,E[ue],N);else{E=_(E);for(var Ee=0,Be=E.length;Ee<Be;Ee++)hy(h,E[Ee],N,z)}return this}var ta="_leaflet_events";function ar(h,E,N,z){if(arguments.length===1)Kx(h),delete h[ta];else if(E&&typeof E=="object")for(var ue in E)py(h,ue,E[ue],N);else if(E=_(E),arguments.length===2)Kx(h,function(Qe){return S(E,Qe)!==-1});else for(var Ee=0,Be=E.length;Ee<Be;Ee++)py(h,E[Ee],N,z);return this}function Kx(h,E){for(var N in h[ta]){var z=N.split(/\d/)[0];(!E||E(z))&&py(h,z,null,null,N)}}var dy={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function hy(h,E,N,z){var ue=E+u(N)+(z?"_"+u(z):"");if(h[ta]&&h[ta][ue])return this;var Ee=function(Qe){return N.call(z||h,Qe||window.event)},Be=Ee;!$e.touchNative&&$e.pointer&&E.indexOf("touch")===0?Ee=Ge(h,E,Ee):$e.touch&&E==="dblclick"?Ee=xa(h,Ee):"addEventListener"in h?E==="touchstart"||E==="touchmove"||E==="wheel"||E==="mousewheel"?h.addEventListener(dy[E]||E,Ee,$e.passiveEvents?{passive:!1}:!1):E==="mouseenter"||E==="mouseleave"?(Ee=function(Qe){Qe=Qe||window.event,yy(h,Qe)&&Be(Qe)},h.addEventListener(dy[E],Ee,!1)):h.addEventListener(E,Be,!1):h.attachEvent("on"+E,Ee),h[ta]=h[ta]||{},h[ta][ue]=Ee}function py(h,E,N,z,ue){ue=ue||E+u(N)+(z?"_"+u(z):"");var Ee=h[ta]&&h[ta][ue];if(!Ee)return this;!$e.touchNative&&$e.pointer&&E.indexOf("touch")===0?We(h,E,Ee):$e.touch&&E==="dblclick"?$n(h,Ee):"removeEventListener"in h?h.removeEventListener(dy[E]||E,Ee,!1):h.detachEvent("on"+E,Ee),h[ta][ue]=null}function os(h){return h.stopPropagation?h.stopPropagation():h.originalEvent?h.originalEvent._stopped=!0:h.cancelBubble=!0,this}function my(h){return hy(h,"wheel",os),this}function Pl(h){return Pt(h,"mousedown touchstart dblclick contextmenu",os),h._leaflet_disable_click=!0,this}function sn(h){return h.preventDefault?h.preventDefault():h.returnValue=!1,this}function ss(h){return sn(h),os(h),this}function Zx(h){if(h.composedPath)return h.composedPath();for(var E=[],N=h.target;N;)E.push(N),N=N.parentNode;return E}function Yx(h,E){if(!E)return new ae(h.clientX,h.clientY);var N=cy(E),z=N.boundingClientRect;return new ae((h.clientX-z.left)/N.x-E.clientLeft,(h.clientY-z.top)/N.y-E.clientTop)}var B8=$e.linux&&$e.chrome?window.devicePixelRatio:$e.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Qx(h){return $e.edge?h.wheelDeltaY/2:h.deltaY&&h.deltaMode===0?-h.deltaY/B8:h.deltaY&&h.deltaMode===1?-h.deltaY*20:h.deltaY&&h.deltaMode===2?-h.deltaY*60:h.deltaX||h.deltaZ?0:h.wheelDelta?(h.wheelDeltaY||h.wheelDelta)/2:h.detail&&Math.abs(h.detail)<32765?-h.detail*20:h.detail?h.detail/-32765*60:0}function yy(h,E){var N=E.relatedTarget;if(!N)return!0;try{for(;N&&N!==h;)N=N.parentNode}catch{return!1}return N!==h}var q8={__proto__:null,on:Pt,off:ar,stopPropagation:os,disableScrollPropagation:my,disableClickPropagation:Pl,preventDefault:sn,stop:ss,getPropagationPath:Zx,getMousePosition:Yx,getWheelDelta:Qx,isExternalTarget:yy,addListener:Pt,removeListener:ar},Xx=le.extend({run:function(h,E,N,z){this.stop(),this._el=h,this._inProgress=!0,this._duration=N||.25,this._easeOutPower=1/Math.max(z||.5,.2),this._startPos=as(h),this._offset=E.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=j(this._animate,this),this._step()},_step:function(h){var E=+new Date-this._startTime,N=this._duration*1e3;E<N?this._runFrame(this._easeOut(E/N),h):(this._runFrame(1),this._complete())},_runFrame:function(h,E){var N=this._startPos.add(this._offset.multiplyBy(h));E&&N._round(),Ur(this._el,N),this.fire("step")},_complete:function(){O(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(h){return 1-Math.pow(1-h,this._easeOutPower)}}),Ut=le.extend({options:{crs:x,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(h,E){E=v(this,E),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(h),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),E.maxBounds&&this.setMaxBounds(E.maxBounds),E.zoom!==void 0&&(this._zoom=this._limitZoom(E.zoom)),E.center&&E.zoom!==void 0&&this.setView(P(E.center),E.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=li&&$e.any3d&&!$e.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Pt(this._proxy,ns,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(h,E,N){if(E=E===void 0?this._zoom:this._limitZoom(E),h=this._limitCenter(P(h),E,this.options.maxBounds),N=N||{},this._stop(),this._loaded&&!N.reset&&N!==!0){N.animate!==void 0&&(N.zoom=a({animate:N.animate},N.zoom),N.pan=a({animate:N.animate,duration:N.duration},N.pan));var z=this._zoom!==E?this._tryAnimatedZoom&&this._tryAnimatedZoom(h,E,N.zoom):this._tryAnimatedPan(h,N.pan);if(z)return clearTimeout(this._sizeTimer),this}return this._resetView(h,E,N.pan&&N.pan.noMoveStart),this},setZoom:function(h,E){return this._loaded?this.setView(this.getCenter(),h,{zoom:E}):(this._zoom=h,this)},zoomIn:function(h,E){return h=h||($e.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+h,E)},zoomOut:function(h,E){return h=h||($e.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-h,E)},setZoomAround:function(h,E,N){var z=this.getZoomScale(E),ue=this.getSize().divideBy(2),Ee=h instanceof ae?h:this.latLngToContainerPoint(h),Be=Ee.subtract(ue).multiplyBy(1-1/z),Qe=this.containerPointToLatLng(ue.add(Be));return this.setView(Qe,E,{zoom:N})},_getBoundsCenterZoom:function(h,E){E=E||{},h=h.getBounds?h.getBounds():Z(h);var N=V(E.paddingTopLeft||E.padding||[0,0]),z=V(E.paddingBottomRight||E.padding||[0,0]),ue=this.getBoundsZoom(h,!1,N.add(z));if(ue=typeof E.maxZoom=="number"?Math.min(E.maxZoom,ue):ue,ue===1/0)return{center:h.getCenter(),zoom:ue};var Ee=z.subtract(N).divideBy(2),Be=this.project(h.getSouthWest(),ue),Qe=this.project(h.getNorthEast(),ue),Xe=this.unproject(Be.add(Qe).divideBy(2).add(Ee),ue);return{center:Xe,zoom:ue}},fitBounds:function(h,E){if(h=Z(h),!h.isValid())throw new Error("Bounds are not valid.");var N=this._getBoundsCenterZoom(h,E);return this.setView(N.center,N.zoom,E)},fitWorld:function(h){return this.fitBounds([[-90,-180],[90,180]],h)},panTo:function(h,E){return this.setView(h,this._zoom,{pan:E})},panBy:function(h,E){if(h=V(h).round(),E=E||{},!h.x&&!h.y)return this.fire("moveend");if(E.animate!==!0&&!this.getSize().contains(h))return this._resetView(this.unproject(this.project(this.getCenter()).add(h)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Xx,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),E.noMoveStart||this.fire("movestart"),E.animate!==!1){Lt(this._mapPane,"leaflet-pan-anim");var N=this._getMapPanePos().subtract(h).round();this._panAnim.run(this._mapPane,N,E.duration||.25,E.easeLinearity)}else this._rawPanBy(h),this.fire("move").fire("moveend");return this},flyTo:function(h,E,N){if(N=N||{},N.animate===!1||!$e.any3d)return this.setView(h,E,N);this._stop();var z=this.project(this.getCenter()),ue=this.project(h),Ee=this.getSize(),Be=this._zoom;h=P(h),E=E===void 0?Be:E;var Qe=Math.max(Ee.x,Ee.y),Xe=Qe*this.getZoomScale(Be,E),ot=ue.distanceTo(z)||1,yt=1.42,Tt=yt*yt;function Mt(Hr){var Pp=Hr?-1:1,Iq=Hr?Xe:Qe,Oq=Xe*Xe-Qe*Qe+Pp*Tt*Tt*ot*ot,Pq=2*Iq*Tt*ot,Ay=Oq/Pq,LT=Math.sqrt(Ay*Ay+1)-Ay,Cq=LT<1e-9?-18:Math.log(LT);return Cq}function Rn(Hr){return(Math.exp(Hr)-Math.exp(-Hr))/2}function tn(Hr){return(Math.exp(Hr)+Math.exp(-Hr))/2}function hi(Hr){return Rn(Hr)/tn(Hr)}var Un=Mt(0);function du(Hr){return Qe*(tn(Un)/tn(Un+yt*Hr))}function xq(Hr){return Qe*(tn(Un)*hi(Un+yt*Hr)-Rn(Un))/Tt}function Tq(Hr){return 1-Math.pow(1-Hr,1.5)}var Rq=Date.now(),PT=(Mt(1)-Un)/yt,Aq=N.duration?1e3*N.duration:1e3*PT*.8;function CT(){var Hr=(Date.now()-Rq)/Aq,Pp=Tq(Hr)*PT;Hr<=1?(this._flyToFrame=j(CT,this),this._move(this.unproject(z.add(ue.subtract(z).multiplyBy(xq(Pp)/ot)),Be),this.getScaleZoom(Qe/du(Pp),Be),{flyTo:!0})):this._move(h,E)._moveEnd(!0)}return this._moveStart(!0,N.noMoveStart),CT.call(this),this},flyToBounds:function(h,E){var N=this._getBoundsCenterZoom(h,E);return this.flyTo(N.center,N.zoom,E)},setMaxBounds:function(h){return h=Z(h),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),h.isValid()?(this.options.maxBounds=h,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(h){var E=this.options.minZoom;return this.options.minZoom=h,this._loaded&&E!==h&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(h):this},setMaxZoom:function(h){var E=this.options.maxZoom;return this.options.maxZoom=h,this._loaded&&E!==h&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(h):this},panInsideBounds:function(h,E){this._enforcingBounds=!0;var N=this.getCenter(),z=this._limitCenter(N,this._zoom,Z(h));return N.equals(z)||this.panTo(z,E),this._enforcingBounds=!1,this},panInside:function(h,E){E=E||{};var N=V(E.paddingTopLeft||E.padding||[0,0]),z=V(E.paddingBottomRight||E.padding||[0,0]),ue=this.project(this.getCenter()),Ee=this.project(h),Be=this.getPixelBounds(),Qe=he([Be.min.add(N),Be.max.subtract(z)]),Xe=Qe.getSize();if(!Qe.contains(Ee)){this._enforcingBounds=!0;var ot=Ee.subtract(Qe.getCenter()),yt=Qe.extend(Ee).getSize().subtract(Xe);ue.x+=ot.x<0?-yt.x:yt.x,ue.y+=ot.y<0?-yt.y:yt.y,this.panTo(this.unproject(ue),E),this._enforcingBounds=!1}return this},invalidateSize:function(h){if(!this._loaded)return this;h=a({animate:!1,pan:!0},h===!0?{animate:!0}:h);var E=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var N=this.getSize(),z=E.divideBy(2).round(),ue=N.divideBy(2).round(),Ee=z.subtract(ue);return!Ee.x&&!Ee.y?this:(h.animate&&h.pan?this.panBy(Ee):(h.pan&&this._rawPanBy(Ee),this.fire("move"),h.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:E,newSize:N}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(h){if(h=this._locateOptions=a({timeout:1e4,watch:!1},h),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var E=o(this._handleGeolocationResponse,this),N=o(this._handleGeolocationError,this);return h.watch?this._locationWatchId=navigator.geolocation.watchPosition(E,N,h):navigator.geolocation.getCurrentPosition(E,N,h),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(h){if(this._container._leaflet_id){var E=h.code,N=h.message||(E===1?"permission denied":E===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:E,message:"Geolocation error: "+N+"."})}},_handleGeolocationResponse:function(h){if(this._container._leaflet_id){var E=h.coords.latitude,N=h.coords.longitude,z=new ee(E,N),ue=z.toBounds(h.coords.accuracy*2),Ee=this._locateOptions;if(Ee.setView){var Be=this.getBoundsZoom(ue);this.setView(z,Ee.maxZoom?Math.min(Be,Ee.maxZoom):Be)}var Qe={latlng:z,bounds:ue,timestamp:h.timestamp};for(var Xe in h.coords)typeof h.coords[Xe]=="number"&&(Qe[Xe]=h.coords[Xe]);this.fire("locationfound",Qe)}},addHandler:function(h,E){if(!E)return this;var N=this[h]=new E(this);return this._handlers.push(N),this.options[h]&&N.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),er(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(O(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var h;for(h in this._layers)this._layers[h].remove();for(h in this._panes)er(this._panes[h]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(h,E){var N="leaflet-pane"+(h?" leaflet-"+h.replace("Pane","")+"-pane":""),z=Ft("div",N,E||this._mapPane);return h&&(this._panes[h]=z),z},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var h=this.getPixelBounds(),E=this.unproject(h.getBottomLeft()),N=this.unproject(h.getTopRight());return new Y(E,N)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(h,E,N){h=Z(h),N=V(N||[0,0]);var z=this.getZoom()||0,ue=this.getMinZoom(),Ee=this.getMaxZoom(),Be=h.getNorthWest(),Qe=h.getSouthEast(),Xe=this.getSize().subtract(N),ot=he(this.project(Qe,z),this.project(Be,z)).getSize(),yt=$e.any3d?this.options.zoomSnap:1,Tt=Xe.x/ot.x,Mt=Xe.y/ot.y,Rn=E?Math.max(Tt,Mt):Math.min(Tt,Mt);return z=this.getScaleZoom(Rn,z),yt&&(z=Math.round(z/(yt/100))*(yt/100),z=E?Math.ceil(z/yt)*yt:Math.floor(z/yt)*yt),Math.max(ue,Math.min(Ee,z))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ae(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(h,E){var N=this._getTopLeftPoint(h,E);return new oe(N,N.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(h){return this.options.crs.getProjectedBounds(h===void 0?this.getZoom():h)},getPane:function(h){return typeof h=="string"?this._panes[h]:h},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(h,E){var N=this.options.crs;return E=E===void 0?this._zoom:E,N.scale(h)/N.scale(E)},getScaleZoom:function(h,E){var N=this.options.crs;E=E===void 0?this._zoom:E;var z=N.zoom(h*N.scale(E));return isNaN(z)?1/0:z},project:function(h,E){return E=E===void 0?this._zoom:E,this.options.crs.latLngToPoint(P(h),E)},unproject:function(h,E){return E=E===void 0?this._zoom:E,this.options.crs.pointToLatLng(V(h),E)},layerPointToLatLng:function(h){var E=V(h).add(this.getPixelOrigin());return this.unproject(E)},latLngToLayerPoint:function(h){var E=this.project(P(h))._round();return E._subtract(this.getPixelOrigin())},wrapLatLng:function(h){return this.options.crs.wrapLatLng(P(h))},wrapLatLngBounds:function(h){return this.options.crs.wrapLatLngBounds(Z(h))},distance:function(h,E){return this.options.crs.distance(P(h),P(E))},containerPointToLayerPoint:function(h){return V(h).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(h){return V(h).add(this._getMapPanePos())},containerPointToLatLng:function(h){var E=this.containerPointToLayerPoint(V(h));return this.layerPointToLatLng(E)},latLngToContainerPoint:function(h){return this.layerPointToContainerPoint(this.latLngToLayerPoint(P(h)))},mouseEventToContainerPoint:function(h){return Yx(h,this._container)},mouseEventToLayerPoint:function(h){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(h))},mouseEventToLatLng:function(h){return this.layerPointToLatLng(this.mouseEventToLayerPoint(h))},_initContainer:function(h){var E=this._container=fi(h);if(E){if(E._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Pt(E,"scroll",this._onScroll,this),this._containerId=u(E)},_initLayout:function(){var h=this._container;this._fadeAnimated=this.options.fadeAnimation&&$e.any3d,Lt(h,"leaflet-container"+($e.touch?" leaflet-touch":"")+($e.retina?" leaflet-retina":"")+($e.ielt9?" leaflet-oldie":"")+($e.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var E=ao(h,"position");E!=="absolute"&&E!=="relative"&&E!=="fixed"&&E!=="sticky"&&(h.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var h=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ur(this._mapPane,new ae(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Lt(h.markerPane,"leaflet-zoom-hide"),Lt(h.shadowPane,"leaflet-zoom-hide"))},_resetView:function(h,E,N){Ur(this._mapPane,new ae(0,0));var z=!this._loaded;this._loaded=!0,E=this._limitZoom(E),this.fire("viewprereset");var ue=this._zoom!==E;this._moveStart(ue,N)._move(h,E)._moveEnd(ue),this.fire("viewreset"),z&&this.fire("load")},_moveStart:function(h,E){return h&&this.fire("zoomstart"),E||this.fire("movestart"),this},_move:function(h,E,N,z){E===void 0&&(E=this._zoom);var ue=this._zoom!==E;return this._zoom=E,this._lastCenter=h,this._pixelOrigin=this._getNewPixelOrigin(h),z?N&&N.pinch&&this.fire("zoom",N):((ue||N&&N.pinch)&&this.fire("zoom",N),this.fire("move",N)),this},_moveEnd:function(h){return h&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return O(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(h){Ur(this._mapPane,this._getMapPanePos().subtract(h))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(h){this._targets={},this._targets[u(this._container)]=this;var E=h?ar:Pt;E(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&E(window,"resize",this._onResize,this),$e.any3d&&this.options.transform3DLimit&&(h?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){O(this._resizeRequest),this._resizeRequest=j(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var h=this._getMapPanePos();Math.max(Math.abs(h.x),Math.abs(h.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(h,E){for(var N=[],z,ue=E==="mouseout"||E==="mouseover",Ee=h.target||h.srcElement,Be=!1;Ee;){if(z=this._targets[u(Ee)],z&&(E==="click"||E==="preclick")&&this._draggableMoved(z)){Be=!0;break}if(z&&z.listens(E,!0)&&(ue&&!yy(Ee,h)||(N.push(z),ue))||Ee===this._container)break;Ee=Ee.parentNode}return!N.length&&!Be&&!ue&&this.listens(E,!0)&&(N=[this]),N},_isClickDisabled:function(h){for(;h&&h!==this._container;){if(h._leaflet_disable_click)return!0;h=h.parentNode}},_handleDOMEvent:function(h){var E=h.target||h.srcElement;if(!(!this._loaded||E._leaflet_disable_events||h.type==="click"&&this._isClickDisabled(E))){var N=h.type;N==="mousedown"&&fy(E),this._fireDOMEvent(h,N)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(h,E,N){if(h.type==="click"){var z=a({},h);z.type="preclick",this._fireDOMEvent(z,z.type,N)}var ue=this._findEventTargets(h,E);if(N){for(var Ee=[],Be=0;Be<N.length;Be++)N[Be].listens(E,!0)&&Ee.push(N[Be]);ue=Ee.concat(ue)}if(ue.length){E==="contextmenu"&&sn(h);var Qe=ue[0],Xe={originalEvent:h};if(h.type!=="keypress"&&h.type!=="keydown"&&h.type!=="keyup"){var ot=Qe.getLatLng&&(!Qe._radius||Qe._radius<=10);Xe.containerPoint=ot?this.latLngToContainerPoint(Qe.getLatLng()):this.mouseEventToContainerPoint(h),Xe.layerPoint=this.containerPointToLayerPoint(Xe.containerPoint),Xe.latlng=ot?Qe.getLatLng():this.layerPointToLatLng(Xe.layerPoint)}for(Be=0;Be<ue.length;Be++)if(ue[Be].fire(E,Xe,!0),Xe.originalEvent._stopped||ue[Be].options.bubblingMouseEvents===!1&&S(this._mouseEvents,E)!==-1)return}},_draggableMoved:function(h){return h=h.dragging&&h.dragging.enabled()?h:this,h.dragging&&h.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var h=0,E=this._handlers.length;h<E;h++)this._handlers[h].disable()},whenReady:function(h,E){return this._loaded?h.call(E||this,{target:this}):this.on("load",h,E),this},_getMapPanePos:function(){return as(this._mapPane)||new ae(0,0)},_moved:function(){var h=this._getMapPanePos();return h&&!h.equals([0,0])},_getTopLeftPoint:function(h,E){var N=h&&E!==void 0?this._getNewPixelOrigin(h,E):this.getPixelOrigin();return N.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(h,E){var N=this.getSize()._divideBy(2);return this.project(h,E)._subtract(N)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(h,E,N){var z=this._getNewPixelOrigin(N,E);return this.project(h,E)._subtract(z)},_latLngBoundsToNewLayerBounds:function(h,E,N){var z=this._getNewPixelOrigin(N,E);return he([this.project(h.getSouthWest(),E)._subtract(z),this.project(h.getNorthWest(),E)._subtract(z),this.project(h.getSouthEast(),E)._subtract(z),this.project(h.getNorthEast(),E)._subtract(z)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(h){return this.latLngToLayerPoint(h).subtract(this._getCenterLayerPoint())},_limitCenter:function(h,E,N){if(!N)return h;var z=this.project(h,E),ue=this.getSize().divideBy(2),Ee=new oe(z.subtract(ue),z.add(ue)),Be=this._getBoundsOffset(Ee,N,E);return Math.abs(Be.x)<=1&&Math.abs(Be.y)<=1?h:this.unproject(z.add(Be),E)},_limitOffset:function(h,E){if(!E)return h;var N=this.getPixelBounds(),z=new oe(N.min.add(h),N.max.add(h));return h.add(this._getBoundsOffset(z,E))},_getBoundsOffset:function(h,E,N){var z=he(this.project(E.getNorthEast(),N),this.project(E.getSouthWest(),N)),ue=z.min.subtract(h.min),Ee=z.max.subtract(h.max),Be=this._rebound(ue.x,-Ee.x),Qe=this._rebound(ue.y,-Ee.y);return new ae(Be,Qe)},_rebound:function(h,E){return h+E>0?Math.round(h-E)/2:Math.max(0,Math.ceil(h))-Math.max(0,Math.floor(E))},_limitZoom:function(h){var E=this.getMinZoom(),N=this.getMaxZoom(),z=$e.any3d?this.options.zoomSnap:1;return z&&(h=Math.round(h/z)*z),Math.max(E,Math.min(N,h))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Dr(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(h,E){var N=this._getCenterOffset(h)._trunc();return(E&&E.animate)!==!0&&!this.getSize().contains(N)?!1:(this.panBy(N,E),!0)},_createAnimProxy:function(){var h=this._proxy=Ft("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(h),this.on("zoomanim",function(E){var N=rs,z=this._proxy.style[N];is(this._proxy,this.project(E.center,E.zoom),this.getZoomScale(E.zoom,1)),z===this._proxy.style[N]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){er(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var h=this.getCenter(),E=this.getZoom();is(this._proxy,this.project(h,E),this.getZoomScale(E,1))},_catchTransitionEnd:function(h){this._animatingZoom&&h.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(h,E,N){if(this._animatingZoom)return!0;if(N=N||{},!this._zoomAnimated||N.animate===!1||this._nothingToAnimate()||Math.abs(E-this._zoom)>this.options.zoomAnimationThreshold)return!1;var z=this.getZoomScale(E),ue=this._getCenterOffset(h)._divideBy(1-1/z);return N.animate!==!0&&!this.getSize().contains(ue)?!1:(j(function(){this._moveStart(!0,N.noMoveStart||!1)._animateZoom(h,E,!0)},this),!0)},_animateZoom:function(h,E,N,z){this._mapPane&&(N&&(this._animatingZoom=!0,this._animateToCenter=h,this._animateToZoom=E,Lt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:h,zoom:E,noUpdate:z}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Dr(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function $8(h,E){return new Ut(h,E)}var Ni=Q.extend({options:{position:"topright"},initialize:function(h){v(this,h)},getPosition:function(){return this.options.position},setPosition:function(h){var E=this._map;return E&&E.removeControl(this),this.options.position=h,E&&E.addControl(this),this},getContainer:function(){return this._container},addTo:function(h){this.remove(),this._map=h;var E=this._container=this.onAdd(h),N=this.getPosition(),z=h._controlCorners[N];return Lt(E,"leaflet-control"),N.indexOf("bottom")!==-1?z.insertBefore(E,z.firstChild):z.appendChild(E),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(er(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(h){this._map&&h&&h.screenX>0&&h.screenY>0&&this._map.getContainer().focus()}}),Cl=function(h){return new Ni(h)};Ut.include({addControl:function(h){return h.addTo(this),this},removeControl:function(h){return h.remove(),this},_initControlPos:function(){var h=this._controlCorners={},E="leaflet-",N=this._controlContainer=Ft("div",E+"control-container",this._container);function z(ue,Ee){var Be=E+ue+" "+E+Ee;h[ue+Ee]=Ft("div",Be,N)}z("top","left"),z("top","right"),z("bottom","left"),z("bottom","right")},_clearControlPos:function(){for(var h in this._controlCorners)er(this._controlCorners[h]);er(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Jx=Ni.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(h,E,N,z){return N<z?-1:z<N?1:0}},initialize:function(h,E,N){v(this,N),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var z in h)this._addLayer(h[z],z);for(z in E)this._addLayer(E[z],z,!0)},onAdd:function(h){this._initLayout(),this._update(),this._map=h,h.on("zoomend",this._checkDisabledLayers,this);for(var E=0;E<this._layers.length;E++)this._layers[E].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(h){return Ni.prototype.addTo.call(this,h),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(h,E){return this._addLayer(h,E),this._map?this._update():this},addOverlay:function(h,E){return this._addLayer(h,E,!0),this._map?this._update():this},removeLayer:function(h){h.off("add remove",this._onLayerChange,this);var E=this._getLayer(u(h));return E&&this._layers.splice(this._layers.indexOf(E),1),this._map?this._update():this},expand:function(){Lt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var h=this._map.getSize().y-(this._container.offsetTop+50);return h<this._section.clientHeight?(Lt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=h+"px"):Dr(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Dr(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var h="leaflet-control-layers",E=this._container=Ft("div",h),N=this.options.collapsed;E.setAttribute("aria-haspopup",!0),Pl(E),my(E);var z=this._section=Ft("section",h+"-list");N&&(this._map.on("click",this.collapse,this),Pt(E,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var ue=this._layersLink=Ft("a",h+"-toggle",E);ue.href="#",ue.title="Layers",ue.setAttribute("role","button"),Pt(ue,{keydown:function(Ee){Ee.keyCode===13&&this._expandSafely()},click:function(Ee){sn(Ee),this._expandSafely()}},this),N||this.expand(),this._baseLayersList=Ft("div",h+"-base",z),this._separator=Ft("div",h+"-separator",z),this._overlaysList=Ft("div",h+"-overlays",z),E.appendChild(z)},_getLayer:function(h){for(var E=0;E<this._layers.length;E++)if(this._layers[E]&&u(this._layers[E].layer)===h)return this._layers[E]},_addLayer:function(h,E,N){this._map&&h.on("add remove",this._onLayerChange,this),this._layers.push({layer:h,name:E,overlay:N}),this.options.sortLayers&&this._layers.sort(o(function(z,ue){return this.options.sortFunction(z.layer,ue.layer,z.name,ue.name)},this)),this.options.autoZIndex&&h.setZIndex&&(this._lastZIndex++,h.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Di(this._baseLayersList),Di(this._overlaysList),this._layerControlInputs=[];var h,E,N,z,ue=0;for(N=0;N<this._layers.length;N++)z=this._layers[N],this._addItem(z),E=E||z.overlay,h=h||!z.overlay,ue+=z.overlay?0:1;return this.options.hideSingleBase&&(h=h&&ue>1,this._baseLayersList.style.display=h?"":"none"),this._separator.style.display=E&&h?"":"none",this},_onLayerChange:function(h){this._handlingClick||this._update();var E=this._getLayer(u(h.target)),N=E.overlay?h.type==="add"?"overlayadd":"overlayremove":h.type==="add"?"baselayerchange":null;N&&this._map.fire(N,E)},_createRadioElement:function(h,E){var N='<input type="radio" class="leaflet-control-layers-selector" name="'+h+'"'+(E?' checked="checked"':"")+"/>",z=document.createElement("div");return z.innerHTML=N,z.firstChild},_addItem:function(h){var E=document.createElement("label"),N=this._map.hasLayer(h.layer),z;h.overlay?(z=document.createElement("input"),z.type="checkbox",z.className="leaflet-control-layers-selector",z.defaultChecked=N):z=this._createRadioElement("leaflet-base-layers_"+u(this),N),this._layerControlInputs.push(z),z.layerId=u(h.layer),Pt(z,"click",this._onInputClick,this);var ue=document.createElement("span");ue.innerHTML=" "+h.name;var Ee=document.createElement("span");E.appendChild(Ee),Ee.appendChild(z),Ee.appendChild(ue);var Be=h.overlay?this._overlaysList:this._baseLayersList;return Be.appendChild(E),this._checkDisabledLayers(),E},_onInputClick:function(){if(!this._preventClick){var h=this._layerControlInputs,E,N,z=[],ue=[];this._handlingClick=!0;for(var Ee=h.length-1;Ee>=0;Ee--)E=h[Ee],N=this._getLayer(E.layerId).layer,E.checked?z.push(N):E.checked||ue.push(N);for(Ee=0;Ee<ue.length;Ee++)this._map.hasLayer(ue[Ee])&&this._map.removeLayer(ue[Ee]);for(Ee=0;Ee<z.length;Ee++)this._map.hasLayer(z[Ee])||this._map.addLayer(z[Ee]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var h=this._layerControlInputs,E,N,z=this._map.getZoom(),ue=h.length-1;ue>=0;ue--)E=h[ue],N=this._getLayer(E.layerId).layer,E.disabled=N.options.minZoom!==void 0&&z<N.options.minZoom||N.options.maxZoom!==void 0&&z>N.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var h=this._section;this._preventClick=!0,Pt(h,"click",sn),this.expand();var E=this;setTimeout(function(){ar(h,"click",sn),E._preventClick=!1})}}),U8=function(h,E,N){return new Jx(h,E,N)},gy=Ni.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(h){var E="leaflet-control-zoom",N=Ft("div",E+" leaflet-bar"),z=this.options;return this._zoomInButton=this._createButton(z.zoomInText,z.zoomInTitle,E+"-in",N,this._zoomIn),this._zoomOutButton=this._createButton(z.zoomOutText,z.zoomOutTitle,E+"-out",N,this._zoomOut),this._updateDisabled(),h.on("zoomend zoomlevelschange",this._updateDisabled,this),N},onRemove:function(h){h.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(h){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(h.shiftKey?3:1))},_zoomOut:function(h){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(h.shiftKey?3:1))},_createButton:function(h,E,N,z,ue){var Ee=Ft("a",N,z);return Ee.innerHTML=h,Ee.href="#",Ee.title=E,Ee.setAttribute("role","button"),Ee.setAttribute("aria-label",E),Pl(Ee),Pt(Ee,"click",ss),Pt(Ee,"click",ue,this),Pt(Ee,"click",this._refocusOnMap,this),Ee},_updateDisabled:function(){var h=this._map,E="leaflet-disabled";Dr(this._zoomInButton,E),Dr(this._zoomOutButton,E),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||h._zoom===h.getMinZoom())&&(Lt(this._zoomOutButton,E),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||h._zoom===h.getMaxZoom())&&(Lt(this._zoomInButton,E),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ut.mergeOptions({zoomControl:!0}),Ut.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new gy,this.addControl(this.zoomControl))});var H8=function(h){return new gy(h)},eT=Ni.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(h){var E="leaflet-control-scale",N=Ft("div",E),z=this.options;return this._addScales(z,E+"-line",N),h.on(z.updateWhenIdle?"moveend":"move",this._update,this),h.whenReady(this._update,this),N},onRemove:function(h){h.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(h,E,N){h.metric&&(this._mScale=Ft("div",E,N)),h.imperial&&(this._iScale=Ft("div",E,N))},_update:function(){var h=this._map,E=h.getSize().y/2,N=h.distance(h.containerPointToLatLng([0,E]),h.containerPointToLatLng([this.options.maxWidth,E]));this._updateScales(N)},_updateScales:function(h){this.options.metric&&h&&this._updateMetric(h),this.options.imperial&&h&&this._updateImperial(h)},_updateMetric:function(h){var E=this._getRoundNum(h),N=E<1e3?E+" m":E/1e3+" km";this._updateScale(this._mScale,N,E/h)},_updateImperial:function(h){var E=h*3.2808399,N,z,ue;E>5280?(N=E/5280,z=this._getRoundNum(N),this._updateScale(this._iScale,z+" mi",z/N)):(ue=this._getRoundNum(E),this._updateScale(this._iScale,ue+" ft",ue/E))},_updateScale:function(h,E,N){h.style.width=Math.round(this.options.maxWidth*N)+"px",h.innerHTML=E},_getRoundNum:function(h){var E=Math.pow(10,(Math.floor(h)+"").length-1),N=h/E;return N=N>=10?10:N>=5?5:N>=3?3:N>=2?2:1,E*N}}),V8=function(h){return new eT(h)},z8='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',_y=Ni.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+($e.inlineSvg?z8+" ":"")+"Leaflet</a>"},initialize:function(h){v(this,h),this._attributions={}},onAdd:function(h){h.attributionControl=this,this._container=Ft("div","leaflet-control-attribution"),Pl(this._container);for(var E in h._layers)h._layers[E].getAttribution&&this.addAttribution(h._layers[E].getAttribution());return this._update(),h.on("layeradd",this._addAttribution,this),this._container},onRemove:function(h){h.off("layeradd",this._addAttribution,this)},_addAttribution:function(h){h.layer.getAttribution&&(this.addAttribution(h.layer.getAttribution()),h.layer.once("remove",function(){this.removeAttribution(h.layer.getAttribution())},this))},setPrefix:function(h){return this.options.prefix=h,this._update(),this},addAttribution:function(h){return h?(this._attributions[h]||(this._attributions[h]=0),this._attributions[h]++,this._update(),this):this},removeAttribution:function(h){return h?(this._attributions[h]&&(this._attributions[h]--,this._update()),this):this},_update:function(){if(this._map){var h=[];for(var E in this._attributions)this._attributions[E]&&h.push(E);var N=[];this.options.prefix&&N.push(this.options.prefix),h.length&&N.push(h.join(", ")),this._container.innerHTML=N.join(' <span aria-hidden="true">|</span> ')}}});Ut.mergeOptions({attributionControl:!0}),Ut.addInitHook(function(){this.options.attributionControl&&new _y().addTo(this)});var G8=function(h){return new _y(h)};Ni.Layers=Jx,Ni.Zoom=gy,Ni.Scale=eT,Ni.Attribution=_y,Cl.layers=U8,Cl.zoom=H8,Cl.scale=V8,Cl.attribution=G8;var ra=Q.extend({initialize:function(h){this._map=h},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ra.addTo=function(h,E){return h.addHandler(E,this),this};var W8={Events:X},tT=$e.touch?"touchstart mousedown":"mousedown",oo=le.extend({options:{clickTolerance:3},initialize:function(h,E,N,z){v(this,z),this._element=h,this._dragStartTarget=E||h,this._preventOutline=N},enable:function(){this._enabled||(Pt(this._dragStartTarget,tT,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(oo._dragging===this&&this.finishDrag(!0),ar(this._dragStartTarget,tT,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(h){if(this._enabled&&(this._moved=!1,!iy(this._element,"leaflet-zoom-anim"))){if(h.touches&&h.touches.length!==1){oo._dragging===this&&this.finishDrag();return}if(!(oo._dragging||h.shiftKey||h.which!==1&&h.button!==1&&!h.touches)&&(oo._dragging=this,this._preventOutline&&fy(this._element),sy(),Al(),!this._moving)){this.fire("down");var E=h.touches?h.touches[0]:h,N=Wx(this._element);this._startPoint=new ae(E.clientX,E.clientY),this._startPos=as(this._element),this._parentScale=cy(N);var z=h.type==="mousedown";Pt(document,z?"mousemove":"touchmove",this._onMove,this),Pt(document,z?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(h){if(this._enabled){if(h.touches&&h.touches.length>1){this._moved=!0;return}var E=h.touches&&h.touches.length===1?h.touches[0]:h,N=new ae(E.clientX,E.clientY)._subtract(this._startPoint);!N.x&&!N.y||Math.abs(N.x)+Math.abs(N.y)<this.options.clickTolerance||(N.x/=this._parentScale.x,N.y/=this._parentScale.y,sn(h),this._moved||(this.fire("dragstart"),this._moved=!0,Lt(document.body,"leaflet-dragging"),this._lastTarget=h.target||h.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Lt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(N),this._moving=!0,this._lastEvent=h,this._updatePosition())}},_updatePosition:function(){var h={originalEvent:this._lastEvent};this.fire("predrag",h),Ur(this._element,this._newPos),this.fire("drag",h)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(h){Dr(document.body,"leaflet-dragging"),this._lastTarget&&(Dr(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ar(document,"mousemove touchmove",this._onMove,this),ar(document,"mouseup touchend touchcancel",this._onUp,this),uy(),Il();var E=this._moved&&this._moving;this._moving=!1,oo._dragging=!1,E&&this.fire("dragend",{noInertia:h,distance:this._newPos.distanceTo(this._startPos)})}});function rT(h,E,N){var z,ue=[1,4,2,8],Ee,Be,Qe,Xe,ot,yt,Tt,Mt;for(Ee=0,yt=h.length;Ee<yt;Ee++)h[Ee]._code=us(h[Ee],E);for(Qe=0;Qe<4;Qe++){for(Tt=ue[Qe],z=[],Ee=0,yt=h.length,Be=yt-1;Ee<yt;Be=Ee++)Xe=h[Ee],ot=h[Be],Xe._code&Tt?ot._code&Tt||(Mt=bp(ot,Xe,Tt,E,N),Mt._code=us(Mt,E),z.push(Mt)):(ot._code&Tt&&(Mt=bp(ot,Xe,Tt,E,N),Mt._code=us(Mt,E),z.push(Mt)),z.push(Xe));h=z}return h}function nT(h,E){var N,z,ue,Ee,Be,Qe,Xe,ot,yt;if(!h||h.length===0)throw new Error("latlngs not passed");di(h)||(console.warn("latlngs are not flat! Only the first ring will be used"),h=h[0]);var Tt=P([0,0]),Mt=Z(h),Rn=Mt.getNorthWest().distanceTo(Mt.getSouthWest())*Mt.getNorthEast().distanceTo(Mt.getNorthWest());Rn<1700&&(Tt=by(h));var tn=h.length,hi=[];for(N=0;N<tn;N++){var Un=P(h[N]);hi.push(E.project(P([Un.lat-Tt.lat,Un.lng-Tt.lng])))}for(Qe=Xe=ot=0,N=0,z=tn-1;N<tn;z=N++)ue=hi[N],Ee=hi[z],Be=ue.y*Ee.x-Ee.y*ue.x,Xe+=(ue.x+Ee.x)*Be,ot+=(ue.y+Ee.y)*Be,Qe+=Be*3;Qe===0?yt=hi[0]:yt=[Xe/Qe,ot/Qe];var du=E.unproject(V(yt));return P([du.lat+Tt.lat,du.lng+Tt.lng])}function by(h){for(var E=0,N=0,z=0,ue=0;ue<h.length;ue++){var Ee=P(h[ue]);E+=Ee.lat,N+=Ee.lng,z++}return P([E/z,N/z])}var K8={__proto__:null,clipPolygon:rT,polygonCenter:nT,centroid:by};function iT(h,E){if(!E||!h.length)return h.slice();var N=E*E;return h=Q8(h,N),h=Y8(h,N),h}function aT(h,E,N){return Math.sqrt(Ll(h,E,N,!0))}function Z8(h,E,N){return Ll(h,E,N)}function Y8(h,E){var N=h.length,z=typeof Uint8Array<"u"?Uint8Array:Array,ue=new z(N);ue[0]=ue[N-1]=1,vy(h,ue,E,0,N-1);var Ee,Be=[];for(Ee=0;Ee<N;Ee++)ue[Ee]&&Be.push(h[Ee]);return Be}function vy(h,E,N,z,ue){var Ee=0,Be,Qe,Xe;for(Qe=z+1;Qe<=ue-1;Qe++)Xe=Ll(h[Qe],h[z],h[ue],!0),Xe>Ee&&(Be=Qe,Ee=Xe);Ee>N&&(E[Be]=1,vy(h,E,N,z,Be),vy(h,E,N,Be,ue))}function Q8(h,E){for(var N=[h[0]],z=1,ue=0,Ee=h.length;z<Ee;z++)X8(h[z],h[ue])>E&&(N.push(h[z]),ue=z);return ue<Ee-1&&N.push(h[Ee-1]),N}var oT;function sT(h,E,N,z,ue){var Ee=z?oT:us(h,N),Be=us(E,N),Qe,Xe,ot;for(oT=Be;;){if(!(Ee|Be))return[h,E];if(Ee&Be)return!1;Qe=Ee||Be,Xe=bp(h,E,Qe,N,ue),ot=us(Xe,N),Qe===Ee?(h=Xe,Ee=ot):(E=Xe,Be=ot)}}function bp(h,E,N,z,ue){var Ee=E.x-h.x,Be=E.y-h.y,Qe=z.min,Xe=z.max,ot,yt;return N&8?(ot=h.x+Ee*(Xe.y-h.y)/Be,yt=Xe.y):N&4?(ot=h.x+Ee*(Qe.y-h.y)/Be,yt=Qe.y):N&2?(ot=Xe.x,yt=h.y+Be*(Xe.x-h.x)/Ee):N&1&&(ot=Qe.x,yt=h.y+Be*(Qe.x-h.x)/Ee),new ae(ot,yt,ue)}function us(h,E){var N=0;return h.x<E.min.x?N|=1:h.x>E.max.x&&(N|=2),h.y<E.min.y?N|=4:h.y>E.max.y&&(N|=8),N}function X8(h,E){var N=E.x-h.x,z=E.y-h.y;return N*N+z*z}function Ll(h,E,N,z){var ue=E.x,Ee=E.y,Be=N.x-ue,Qe=N.y-Ee,Xe=Be*Be+Qe*Qe,ot;return Xe>0&&(ot=((h.x-ue)*Be+(h.y-Ee)*Qe)/Xe,ot>1?(ue=N.x,Ee=N.y):ot>0&&(ue+=Be*ot,Ee+=Qe*ot)),Be=h.x-ue,Qe=h.y-Ee,z?Be*Be+Qe*Qe:new ae(ue,Ee)}function di(h){return!g(h[0])||typeof h[0][0]!="object"&&typeof h[0][0]<"u"}function uT(h){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),di(h)}function lT(h,E){var N,z,ue,Ee,Be,Qe,Xe,ot;if(!h||h.length===0)throw new Error("latlngs not passed");di(h)||(console.warn("latlngs are not flat! Only the first ring will be used"),h=h[0]);var yt=P([0,0]),Tt=Z(h),Mt=Tt.getNorthWest().distanceTo(Tt.getSouthWest())*Tt.getNorthEast().distanceTo(Tt.getNorthWest());Mt<1700&&(yt=by(h));var Rn=h.length,tn=[];for(N=0;N<Rn;N++){var hi=P(h[N]);tn.push(E.project(P([hi.lat-yt.lat,hi.lng-yt.lng])))}for(N=0,z=0;N<Rn-1;N++)z+=tn[N].distanceTo(tn[N+1])/2;if(z===0)ot=tn[0];else for(N=0,Ee=0;N<Rn-1;N++)if(Be=tn[N],Qe=tn[N+1],ue=Be.distanceTo(Qe),Ee+=ue,Ee>z){Xe=(Ee-z)/ue,ot=[Qe.x-Xe*(Qe.x-Be.x),Qe.y-Xe*(Qe.y-Be.y)];break}var Un=E.unproject(V(ot));return P([Un.lat+yt.lat,Un.lng+yt.lng])}var J8={__proto__:null,simplify:iT,pointToSegmentDistance:aT,closestPointOnSegment:Z8,clipSegment:sT,_getEdgeIntersection:bp,_getBitCode:us,_sqClosestPointOnSegment:Ll,isFlat:di,_flat:uT,polylineCenter:lT},wy={project:function(h){return new ae(h.lng,h.lat)},unproject:function(h){return new ee(h.y,h.x)},bounds:new oe([-180,-90],[180,90])},Sy={R:6378137,R_MINOR:6356752314245179e-9,bounds:new oe([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(h){var E=Math.PI/180,N=this.R,z=h.lat*E,ue=this.R_MINOR/N,Ee=Math.sqrt(1-ue*ue),Be=Ee*Math.sin(z),Qe=Math.tan(Math.PI/4-z/2)/Math.pow((1-Be)/(1+Be),Ee/2);return z=-N*Math.log(Math.max(Qe,1e-10)),new ae(h.lng*E*N,z)},unproject:function(h){for(var E=180/Math.PI,N=this.R,z=this.R_MINOR/N,ue=Math.sqrt(1-z*z),Ee=Math.exp(-h.y/N),Be=Math.PI/2-2*Math.atan(Ee),Qe=0,Xe=.1,ot;Qe<15&&Math.abs(Xe)>1e-7;Qe++)ot=ue*Math.sin(Be),ot=Math.pow((1-ot)/(1+ot),ue/2),Xe=Math.PI/2-2*Math.atan(Ee*ot)-Be,Be+=Xe;return new ee(Be*E,h.x*E/N)}},eq={__proto__:null,LonLat:wy,Mercator:Sy,SphericalMercator:pe},tq=a({},$,{code:"EPSG:3395",projection:Sy,transformation:function(){var h=.5/(Math.PI*Sy.R);return w(h,.5,-h,.5)}()}),fT=a({},$,{code:"EPSG:4326",projection:wy,transformation:w(1/180,1,-1/180,.5)}),rq=a({},A,{projection:wy,transformation:w(1,0,-1,0),scale:function(h){return Math.pow(2,h)},zoom:function(h){return Math.log(h)/Math.LN2},distance:function(h,E){var N=E.lng-h.lng,z=E.lat-h.lat;return Math.sqrt(N*N+z*z)},infinite:!0});A.Earth=$,A.EPSG3395=tq,A.EPSG3857=x,A.EPSG900913=k,A.EPSG4326=fT,A.Simple=rq;var Mi=le.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(h){return h.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(h){return h&&h.removeLayer(this),this},getPane:function(h){return this._map.getPane(h?this.options[h]||h:this.options.pane)},addInteractiveTarget:function(h){return this._map._targets[u(h)]=this,this},removeInteractiveTarget:function(h){return delete this._map._targets[u(h)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(h){var E=h.target;if(E.hasLayer(this)){if(this._map=E,this._zoomAnimated=E._zoomAnimated,this.getEvents){var N=this.getEvents();E.on(N,this),this.once("remove",function(){E.off(N,this)},this)}this.onAdd(E),this.fire("add"),E.fire("layeradd",{layer:this})}}});Ut.include({addLayer:function(h){if(!h._layerAdd)throw new Error("The provided object is not a Layer.");var E=u(h);return this._layers[E]?this:(this._layers[E]=h,h._mapToAdd=this,h.beforeAdd&&h.beforeAdd(this),this.whenReady(h._layerAdd,h),this)},removeLayer:function(h){var E=u(h);return this._layers[E]?(this._loaded&&h.onRemove(this),delete this._layers[E],this._loaded&&(this.fire("layerremove",{layer:h}),h.fire("remove")),h._map=h._mapToAdd=null,this):this},hasLayer:function(h){return u(h)in this._layers},eachLayer:function(h,E){for(var N in this._layers)h.call(E,this._layers[N]);return this},_addLayers:function(h){h=h?g(h)?h:[h]:[];for(var E=0,N=h.length;E<N;E++)this.addLayer(h[E])},_addZoomLimit:function(h){(!isNaN(h.options.maxZoom)||!isNaN(h.options.minZoom))&&(this._zoomBoundLayers[u(h)]=h,this._updateZoomLevels())},_removeZoomLimit:function(h){var E=u(h);this._zoomBoundLayers[E]&&(delete this._zoomBoundLayers[E],this._updateZoomLevels())},_updateZoomLevels:function(){var h=1/0,E=-1/0,N=this._getZoomSpan();for(var z in this._zoomBoundLayers){var ue=this._zoomBoundLayers[z].options;h=ue.minZoom===void 0?h:Math.min(h,ue.minZoom),E=ue.maxZoom===void 0?E:Math.max(E,ue.maxZoom)}this._layersMaxZoom=E===-1/0?void 0:E,this._layersMinZoom=h===1/0?void 0:h,N!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var su=Mi.extend({initialize:function(h,E){v(this,E),this._layers={};var N,z;if(h)for(N=0,z=h.length;N<z;N++)this.addLayer(h[N])},addLayer:function(h){var E=this.getLayerId(h);return this._layers[E]=h,this._map&&this._map.addLayer(h),this},removeLayer:function(h){var E=h in this._layers?h:this.getLayerId(h);return this._map&&this._layers[E]&&this._map.removeLayer(this._layers[E]),delete this._layers[E],this},hasLayer:function(h){var E=typeof h=="number"?h:this.getLayerId(h);return E in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(h){var E=Array.prototype.slice.call(arguments,1),N,z;for(N in this._layers)z=this._layers[N],z[h]&&z[h].apply(z,E);return this},onAdd:function(h){this.eachLayer(h.addLayer,h)},onRemove:function(h){this.eachLayer(h.removeLayer,h)},eachLayer:function(h,E){for(var N in this._layers)h.call(E,this._layers[N]);return this},getLayer:function(h){return this._layers[h]},getLayers:function(){var h=[];return this.eachLayer(h.push,h),h},setZIndex:function(h){return this.invoke("setZIndex",h)},getLayerId:function(h){return u(h)}}),nq=function(h,E){return new su(h,E)},Ta=su.extend({addLayer:function(h){return this.hasLayer(h)?this:(h.addEventParent(this),su.prototype.addLayer.call(this,h),this.fire("layeradd",{layer:h}))},removeLayer:function(h){return this.hasLayer(h)?(h in this._layers&&(h=this._layers[h]),h.removeEventParent(this),su.prototype.removeLayer.call(this,h),this.fire("layerremove",{layer:h})):this},setStyle:function(h){return this.invoke("setStyle",h)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var h=new Y;for(var E in this._layers){var N=this._layers[E];h.extend(N.getBounds?N.getBounds():N.getLatLng())}return h}}),iq=function(h,E){return new Ta(h,E)},uu=Q.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(h){v(this,h)},createIcon:function(h){return this._createIcon("icon",h)},createShadow:function(h){return this._createIcon("shadow",h)},_createIcon:function(h,E){var N=this._getIconUrl(h);if(!N){if(h==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var z=this._createImg(N,E&&E.tagName==="IMG"?E:null);return this._setIconStyles(z,h),(this.options.crossOrigin||this.options.crossOrigin==="")&&(z.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),z},_setIconStyles:function(h,E){var N=this.options,z=N[E+"Size"];typeof z=="number"&&(z=[z,z]);var ue=V(z),Ee=V(E==="shadow"&&N.shadowAnchor||N.iconAnchor||ue&&ue.divideBy(2,!0));h.className="leaflet-marker-"+E+" "+(N.className||""),Ee&&(h.style.marginLeft=-Ee.x+"px",h.style.marginTop=-Ee.y+"px"),ue&&(h.style.width=ue.x+"px",h.style.height=ue.y+"px")},_createImg:function(h,E){return E=E||document.createElement("img"),E.src=h,E},_getIconUrl:function(h){return $e.retina&&this.options[h+"RetinaUrl"]||this.options[h+"Url"]}});function aq(h){return new uu(h)}var Dl=uu.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(h){return typeof Dl.imagePath!="string"&&(Dl.imagePath=this._detectIconPath()),(this.options.imagePath||Dl.imagePath)+uu.prototype._getIconUrl.call(this,h)},_stripUrl:function(h){var E=function(N,z,ue){var Ee=z.exec(N);return Ee&&Ee[ue]};return h=E(h,/^url\((['"])?(.+)\1\)$/,2),h&&E(h,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var h=Ft("div","leaflet-default-icon-path",document.body),E=ao(h,"background-image")||ao(h,"backgroundImage");if(document.body.removeChild(h),E=this._stripUrl(E),E)return E;var N=document.querySelector('link[href$="leaflet.css"]');return N?N.href.substring(0,N.href.length-11-1):""}}),cT=ra.extend({initialize:function(h){this._marker=h},addHooks:function(){var h=this._marker._icon;this._draggable||(this._draggable=new oo(h,h,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Lt(h,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Dr(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(h){var E=this._marker,N=E._map,z=this._marker.options.autoPanSpeed,ue=this._marker.options.autoPanPadding,Ee=as(E._icon),Be=N.getPixelBounds(),Qe=N.getPixelOrigin(),Xe=he(Be.min._subtract(Qe).add(ue),Be.max._subtract(Qe).subtract(ue));if(!Xe.contains(Ee)){var ot=V((Math.max(Xe.max.x,Ee.x)-Xe.max.x)/(Be.max.x-Xe.max.x)-(Math.min(Xe.min.x,Ee.x)-Xe.min.x)/(Be.min.x-Xe.min.x),(Math.max(Xe.max.y,Ee.y)-Xe.max.y)/(Be.max.y-Xe.max.y)-(Math.min(Xe.min.y,Ee.y)-Xe.min.y)/(Be.min.y-Xe.min.y)).multiplyBy(z);N.panBy(ot,{animate:!1}),this._draggable._newPos._add(ot),this._draggable._startPos._add(ot),Ur(E._icon,this._draggable._newPos),this._onDrag(h),this._panRequest=j(this._adjustPan.bind(this,h))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(h){this._marker.options.autoPan&&(O(this._panRequest),this._panRequest=j(this._adjustPan.bind(this,h)))},_onDrag:function(h){var E=this._marker,N=E._shadow,z=as(E._icon),ue=E._map.layerPointToLatLng(z);N&&Ur(N,z),E._latlng=ue,h.latlng=ue,h.oldLatLng=this._oldLatLng,E.fire("move",h).fire("drag",h)},_onDragEnd:function(h){O(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",h)}}),vp=Mi.extend({options:{icon:new Dl,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(h,E){v(this,E),this._latlng=P(h)},onAdd:function(h){this._zoomAnimated=this._zoomAnimated&&h.options.markerZoomAnimation,this._zoomAnimated&&h.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(h){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&h.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(h){var E=this._latlng;return this._latlng=P(h),this.update(),this.fire("move",{oldLatLng:E,latlng:this._latlng})},setZIndexOffset:function(h){return this.options.zIndexOffset=h,this.update()},getIcon:function(){return this.options.icon},setIcon:function(h){return this.options.icon=h,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var h=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(h)}return this},_initIcon:function(){var h=this.options,E="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),N=h.icon.createIcon(this._icon),z=!1;N!==this._icon&&(this._icon&&this._removeIcon(),z=!0,h.title&&(N.title=h.title),N.tagName==="IMG"&&(N.alt=h.alt||"")),Lt(N,E),h.keyboard&&(N.tabIndex="0",N.setAttribute("role","button")),this._icon=N,h.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Pt(N,"focus",this._panOnFocus,this);var ue=h.icon.createShadow(this._shadow),Ee=!1;ue!==this._shadow&&(this._removeShadow(),Ee=!0),ue&&(Lt(ue,E),ue.alt=""),this._shadow=ue,h.opacity<1&&this._updateOpacity(),z&&this.getPane().appendChild(this._icon),this._initInteraction(),ue&&Ee&&this.getPane(h.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ar(this._icon,"focus",this._panOnFocus,this),er(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&er(this._shadow),this._shadow=null},_setPos:function(h){this._icon&&Ur(this._icon,h),this._shadow&&Ur(this._shadow,h),this._zIndex=h.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(h){this._icon&&(this._icon.style.zIndex=this._zIndex+h)},_animateZoom:function(h){var E=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center).round();this._setPos(E)},_initInteraction:function(){if(this.options.interactive&&(Lt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),cT)){var h=this.options.draggable;this.dragging&&(h=this.dragging.enabled(),this.dragging.disable()),this.dragging=new cT(this),h&&this.dragging.enable()}},setOpacity:function(h){return this.options.opacity=h,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var h=this.options.opacity;this._icon&&ci(this._icon,h),this._shadow&&ci(this._shadow,h)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var h=this._map;if(h){var E=this.options.icon.options,N=E.iconSize?V(E.iconSize):V(0,0),z=E.iconAnchor?V(E.iconAnchor):V(0,0);h.panInside(this._latlng,{paddingTopLeft:z,paddingBottomRight:N.subtract(z)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function oq(h,E){return new vp(h,E)}var so=Mi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(h){this._renderer=h.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(h){return v(this,h),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&h&&Object.prototype.hasOwnProperty.call(h,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),wp=so.extend({options:{fill:!0,radius:10},initialize:function(h,E){v(this,E),this._latlng=P(h),this._radius=this.options.radius},setLatLng:function(h){var E=this._latlng;return this._latlng=P(h),this.redraw(),this.fire("move",{oldLatLng:E,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(h){return this.options.radius=this._radius=h,this.redraw()},getRadius:function(){return this._radius},setStyle:function(h){var E=h&&h.radius||this._radius;return so.prototype.setStyle.call(this,h),this.setRadius(E),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var h=this._radius,E=this._radiusY||h,N=this._clickTolerance(),z=[h+N,E+N];this._pxBounds=new oe(this._point.subtract(z),this._point.add(z))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(h){return h.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function sq(h,E){return new wp(h,E)}var Ey=wp.extend({initialize:function(h,E,N){if(typeof E=="number"&&(E=a({},N,{radius:E})),v(this,E),this._latlng=P(h),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(h){return this._mRadius=h,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var h=[this._radius,this._radiusY||this._radius];return new Y(this._map.layerPointToLatLng(this._point.subtract(h)),this._map.layerPointToLatLng(this._point.add(h)))},setStyle:so.prototype.setStyle,_project:function(){var h=this._latlng.lng,E=this._latlng.lat,N=this._map,z=N.options.crs;if(z.distance===$.distance){var ue=Math.PI/180,Ee=this._mRadius/$.R/ue,Be=N.project([E+Ee,h]),Qe=N.project([E-Ee,h]),Xe=Be.add(Qe).divideBy(2),ot=N.unproject(Xe).lat,yt=Math.acos((Math.cos(Ee*ue)-Math.sin(E*ue)*Math.sin(ot*ue))/(Math.cos(E*ue)*Math.cos(ot*ue)))/ue;(isNaN(yt)||yt===0)&&(yt=Ee/Math.cos(Math.PI/180*E)),this._point=Xe.subtract(N.getPixelOrigin()),this._radius=isNaN(yt)?0:Xe.x-N.project([ot,h-yt]).x,this._radiusY=Xe.y-Be.y}else{var Tt=z.unproject(z.project(this._latlng).subtract([this._mRadius,0]));this._point=N.latLngToLayerPoint(this._latlng),this._radius=this._point.x-N.latLngToLayerPoint(Tt).x}this._updateBounds()}});function uq(h,E,N){return new Ey(h,E,N)}var Ra=so.extend({options:{smoothFactor:1,noClip:!1},initialize:function(h,E){v(this,E),this._setLatLngs(h)},getLatLngs:function(){return this._latlngs},setLatLngs:function(h){return this._setLatLngs(h),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(h){for(var E=1/0,N=null,z=Ll,ue,Ee,Be=0,Qe=this._parts.length;Be<Qe;Be++)for(var Xe=this._parts[Be],ot=1,yt=Xe.length;ot<yt;ot++){ue=Xe[ot-1],Ee=Xe[ot];var Tt=z(h,ue,Ee,!0);Tt<E&&(E=Tt,N=z(h,ue,Ee))}return N&&(N.distance=Math.sqrt(E)),N},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return lT(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(h,E){return E=E||this._defaultShape(),h=P(h),E.push(h),this._bounds.extend(h),this.redraw()},_setLatLngs:function(h){this._bounds=new Y,this._latlngs=this._convertLatLngs(h)},_defaultShape:function(){return di(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(h){for(var E=[],N=di(h),z=0,ue=h.length;z<ue;z++)N?(E[z]=P(h[z]),this._bounds.extend(E[z])):E[z]=this._convertLatLngs(h[z]);return E},_project:function(){var h=new oe;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,h),this._bounds.isValid()&&h.isValid()&&(this._rawPxBounds=h,this._updateBounds())},_updateBounds:function(){var h=this._clickTolerance(),E=new ae(h,h);this._rawPxBounds&&(this._pxBounds=new oe([this._rawPxBounds.min.subtract(E),this._rawPxBounds.max.add(E)]))},_projectLatlngs:function(h,E,N){var z=h[0]instanceof ee,ue=h.length,Ee,Be;if(z){for(Be=[],Ee=0;Ee<ue;Ee++)Be[Ee]=this._map.latLngToLayerPoint(h[Ee]),N.extend(Be[Ee]);E.push(Be)}else for(Ee=0;Ee<ue;Ee++)this._projectLatlngs(h[Ee],E,N)},_clipPoints:function(){var h=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(h))){if(this.options.noClip){this._parts=this._rings;return}var E=this._parts,N,z,ue,Ee,Be,Qe,Xe;for(N=0,ue=0,Ee=this._rings.length;N<Ee;N++)for(Xe=this._rings[N],z=0,Be=Xe.length;z<Be-1;z++)Qe=sT(Xe[z],Xe[z+1],h,z,!0),Qe&&(E[ue]=E[ue]||[],E[ue].push(Qe[0]),(Qe[1]!==Xe[z+1]||z===Be-2)&&(E[ue].push(Qe[1]),ue++))}},_simplifyPoints:function(){for(var h=this._parts,E=this.options.smoothFactor,N=0,z=h.length;N<z;N++)h[N]=iT(h[N],E)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(h,E){var N,z,ue,Ee,Be,Qe,Xe=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(h))return!1;for(N=0,Ee=this._parts.length;N<Ee;N++)for(Qe=this._parts[N],z=0,Be=Qe.length,ue=Be-1;z<Be;ue=z++)if(!(!E&&z===0)&&aT(h,Qe[ue],Qe[z])<=Xe)return!0;return!1}});function lq(h,E){return new Ra(h,E)}Ra._flat=uT;var lu=Ra.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return nT(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(h){var E=Ra.prototype._convertLatLngs.call(this,h),N=E.length;return N>=2&&E[0]instanceof ee&&E[0].equals(E[N-1])&&E.pop(),E},_setLatLngs:function(h){Ra.prototype._setLatLngs.call(this,h),di(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return di(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var h=this._renderer._bounds,E=this.options.weight,N=new ae(E,E);if(h=new oe(h.min.subtract(N),h.max.add(N)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(h))){if(this.options.noClip){this._parts=this._rings;return}for(var z=0,ue=this._rings.length,Ee;z<ue;z++)Ee=rT(this._rings[z],h,!0),Ee.length&&this._parts.push(Ee)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(h){var E=!1,N,z,ue,Ee,Be,Qe,Xe,ot;if(!this._pxBounds||!this._pxBounds.contains(h))return!1;for(Ee=0,Xe=this._parts.length;Ee<Xe;Ee++)for(N=this._parts[Ee],Be=0,ot=N.length,Qe=ot-1;Be<ot;Qe=Be++)z=N[Be],ue=N[Qe],z.y>h.y!=ue.y>h.y&&h.x<(ue.x-z.x)*(h.y-z.y)/(ue.y-z.y)+z.x&&(E=!E);return E||Ra.prototype._containsPoint.call(this,h,!0)}});function fq(h,E){return new lu(h,E)}var Aa=Ta.extend({initialize:function(h,E){v(this,E),this._layers={},h&&this.addData(h)},addData:function(h){var E=g(h)?h:h.features,N,z,ue;if(E){for(N=0,z=E.length;N<z;N++)ue=E[N],(ue.geometries||ue.geometry||ue.features||ue.coordinates)&&this.addData(ue);return this}var Ee=this.options;if(Ee.filter&&!Ee.filter(h))return this;var Be=Sp(h,Ee);return Be?(Be.feature=Tp(h),Be.defaultOptions=Be.options,this.resetStyle(Be),Ee.onEachFeature&&Ee.onEachFeature(h,Be),this.addLayer(Be)):this},resetStyle:function(h){return h===void 0?this.eachLayer(this.resetStyle,this):(h.options=a({},h.defaultOptions),this._setLayerStyle(h,this.options.style),this)},setStyle:function(h){return this.eachLayer(function(E){this._setLayerStyle(E,h)},this)},_setLayerStyle:function(h,E){h.setStyle&&(typeof E=="function"&&(E=E(h.feature)),h.setStyle(E))}});function Sp(h,E){var N=h.type==="Feature"?h.geometry:h,z=N?N.coordinates:null,ue=[],Ee=E&&E.pointToLayer,Be=E&&E.coordsToLatLng||xy,Qe,Xe,ot,yt;if(!z&&!N)return null;switch(N.type){case"Point":return Qe=Be(z),dT(Ee,h,Qe,E);case"MultiPoint":for(ot=0,yt=z.length;ot<yt;ot++)Qe=Be(z[ot]),ue.push(dT(Ee,h,Qe,E));return new Ta(ue);case"LineString":case"MultiLineString":return Xe=Ep(z,N.type==="LineString"?0:1,Be),new Ra(Xe,E);case"Polygon":case"MultiPolygon":return Xe=Ep(z,N.type==="Polygon"?1:2,Be),new lu(Xe,E);case"GeometryCollection":for(ot=0,yt=N.geometries.length;ot<yt;ot++){var Tt=Sp({geometry:N.geometries[ot],type:"Feature",properties:h.properties},E);Tt&&ue.push(Tt)}return new Ta(ue);case"FeatureCollection":for(ot=0,yt=N.features.length;ot<yt;ot++){var Mt=Sp(N.features[ot],E);Mt&&ue.push(Mt)}return new Ta(ue);default:throw new Error("Invalid GeoJSON object.")}}function dT(h,E,N,z){return h?h(E,N):new vp(N,z&&z.markersInheritOptions&&z)}function xy(h){return new ee(h[1],h[0],h[2])}function Ep(h,E,N){for(var z=[],ue=0,Ee=h.length,Be;ue<Ee;ue++)Be=E?Ep(h[ue],E-1,N):(N||xy)(h[ue]),z.push(Be);return z}function Ty(h,E){return h=P(h),h.alt!==void 0?[c(h.lng,E),c(h.lat,E),c(h.alt,E)]:[c(h.lng,E),c(h.lat,E)]}function xp(h,E,N,z){for(var ue=[],Ee=0,Be=h.length;Ee<Be;Ee++)ue.push(E?xp(h[Ee],di(h[Ee])?0:E-1,N,z):Ty(h[Ee],z));return!E&&N&&ue.length>0&&ue.push(ue[0].slice()),ue}function fu(h,E){return h.feature?a({},h.feature,{geometry:E}):Tp(E)}function Tp(h){return h.type==="Feature"||h.type==="FeatureCollection"?h:{type:"Feature",properties:{},geometry:h}}var Ry={toGeoJSON:function(h){return fu(this,{type:"Point",coordinates:Ty(this.getLatLng(),h)})}};vp.include(Ry),Ey.include(Ry),wp.include(Ry),Ra.include({toGeoJSON:function(h){var E=!di(this._latlngs),N=xp(this._latlngs,E?1:0,!1,h);return fu(this,{type:(E?"Multi":"")+"LineString",coordinates:N})}}),lu.include({toGeoJSON:function(h){var E=!di(this._latlngs),N=E&&!di(this._latlngs[0]),z=xp(this._latlngs,N?2:E?1:0,!0,h);return E||(z=[z]),fu(this,{type:(N?"Multi":"")+"Polygon",coordinates:z})}}),su.include({toMultiPoint:function(h){var E=[];return this.eachLayer(function(N){E.push(N.toGeoJSON(h).geometry.coordinates)}),fu(this,{type:"MultiPoint",coordinates:E})},toGeoJSON:function(h){var E=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(E==="MultiPoint")return this.toMultiPoint(h);var N=E==="GeometryCollection",z=[];return this.eachLayer(function(ue){if(ue.toGeoJSON){var Ee=ue.toGeoJSON(h);if(N)z.push(Ee.geometry);else{var Be=Tp(Ee);Be.type==="FeatureCollection"?z.push.apply(z,Be.features):z.push(Be)}}}),N?fu(this,{geometries:z,type:"GeometryCollection"}):{type:"FeatureCollection",features:z}}});function hT(h,E){return new Aa(h,E)}var cq=hT,Rp=Mi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(h,E,N){this._url=h,this._bounds=Z(E),v(this,N)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Lt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){er(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(h){return this.options.opacity=h,this._image&&this._updateOpacity(),this},setStyle:function(h){return h.opacity&&this.setOpacity(h.opacity),this},bringToFront:function(){return this._map&&au(this._image),this},bringToBack:function(){return this._map&&ou(this._image),this},setUrl:function(h){return this._url=h,this._image&&(this._image.src=h),this},setBounds:function(h){return this._bounds=Z(h),this._map&&this._reset(),this},getEvents:function(){var h={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},setZIndex:function(h){return this.options.zIndex=h,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var h=this._url.tagName==="IMG",E=this._image=h?this._url:Ft("img");if(Lt(E,"leaflet-image-layer"),this._zoomAnimated&&Lt(E,"leaflet-zoom-animated"),this.options.className&&Lt(E,this.options.className),E.onselectstart=d,E.onmousemove=d,E.onload=o(this.fire,this,"load"),E.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(E.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),h){this._url=E.src;return}E.src=this._url,E.alt=this.options.alt},_animateZoom:function(h){var E=this._map.getZoomScale(h.zoom),N=this._map._latLngBoundsToNewLayerBounds(this._bounds,h.zoom,h.center).min;is(this._image,N,E)},_reset:function(){var h=this._image,E=new oe(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),N=E.getSize();Ur(h,E.min),h.style.width=N.x+"px",h.style.height=N.y+"px"},_updateOpacity:function(){ci(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var h=this.options.errorOverlayUrl;h&&this._url!==h&&(this._url=h,this._image.src=h)},getCenter:function(){return this._bounds.getCenter()}}),dq=function(h,E,N){return new Rp(h,E,N)},pT=Rp.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var h=this._url.tagName==="VIDEO",E=this._image=h?this._url:Ft("video");if(Lt(E,"leaflet-image-layer"),this._zoomAnimated&&Lt(E,"leaflet-zoom-animated"),this.options.className&&Lt(E,this.options.className),E.onselectstart=d,E.onmousemove=d,E.onloadeddata=o(this.fire,this,"load"),h){for(var N=E.getElementsByTagName("source"),z=[],ue=0;ue<N.length;ue++)z.push(N[ue].src);this._url=N.length>0?z:[E.src];return}g(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(E.style,"objectFit")&&(E.style.objectFit="fill"),E.autoplay=!!this.options.autoplay,E.loop=!!this.options.loop,E.muted=!!this.options.muted,E.playsInline=!!this.options.playsInline;for(var Ee=0;Ee<this._url.length;Ee++){var Be=Ft("source");Be.src=this._url[Ee],E.appendChild(Be)}}});function hq(h,E,N){return new pT(h,E,N)}var mT=Rp.extend({_initImage:function(){var h=this._image=this._url;Lt(h,"leaflet-image-layer"),this._zoomAnimated&&Lt(h,"leaflet-zoom-animated"),this.options.className&&Lt(h,this.options.className),h.onselectstart=d,h.onmousemove=d}});function pq(h,E,N){return new mT(h,E,N)}var na=Mi.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(h,E){h&&(h instanceof ee||g(h))?(this._latlng=P(h),v(this,E)):(v(this,h),this._source=E),this.options.content&&(this._content=this.options.content)},openOn:function(h){return h=arguments.length?h:this._source._map,h.hasLayer(this)||h.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(h){return this._map?this.close():(arguments.length?this._source=h:h=this._source,this._prepareOpen(),this.openOn(h._map)),this},onAdd:function(h){this._zoomAnimated=h._zoomAnimated,this._container||this._initLayout(),h._fadeAnimated&&ci(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),h._fadeAnimated&&ci(this._container,1),this.bringToFront(),this.options.interactive&&(Lt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(h){h._fadeAnimated?(ci(this._container,0),this._removeTimeout=setTimeout(o(er,void 0,this._container),200)):er(this._container),this.options.interactive&&(Dr(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(h){return this._latlng=P(h),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(h){return this._content=h,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var h={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&au(this._container),this},bringToBack:function(){return this._map&&ou(this._container),this},_prepareOpen:function(h){var E=this._source;if(!E._map)return!1;if(E instanceof Ta){E=null;var N=this._source._layers;for(var z in N)if(N[z]._map){E=N[z];break}if(!E)return!1;this._source=E}if(!h)if(E.getCenter)h=E.getCenter();else if(E.getLatLng)h=E.getLatLng();else if(E.getBounds)h=E.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(h),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var h=this._contentNode,E=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof E=="string")h.innerHTML=E;else{for(;h.hasChildNodes();)h.removeChild(h.firstChild);h.appendChild(E)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var h=this._map.latLngToLayerPoint(this._latlng),E=V(this.options.offset),N=this._getAnchor();this._zoomAnimated?Ur(this._container,h.add(N)):E=E.add(h).add(N);var z=this._containerBottom=-E.y,ue=this._containerLeft=-Math.round(this._containerWidth/2)+E.x;this._container.style.bottom=z+"px",this._container.style.left=ue+"px"}},_getAnchor:function(){return[0,0]}});Ut.include({_initOverlay:function(h,E,N,z){var ue=E;return ue instanceof h||(ue=new h(z).setContent(E)),N&&ue.setLatLng(N),ue}}),Mi.include({_initOverlay:function(h,E,N,z){var ue=N;return ue instanceof h?(v(ue,z),ue._source=this):(ue=E&&!z?E:new h(z,this),ue.setContent(N)),ue}});var Ap=na.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(h){return h=arguments.length?h:this._source._map,!h.hasLayer(this)&&h._popup&&h._popup.options.autoClose&&h.removeLayer(h._popup),h._popup=this,na.prototype.openOn.call(this,h)},onAdd:function(h){na.prototype.onAdd.call(this,h),h.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof so||this._source.on("preclick",os))},onRemove:function(h){na.prototype.onRemove.call(this,h),h.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof so||this._source.off("preclick",os))},getEvents:function(){var h=na.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(h.preclick=this.close),this.options.keepInView&&(h.moveend=this._adjustPan),h},_initLayout:function(){var h="leaflet-popup",E=this._container=Ft("div",h+" "+(this.options.className||"")+" leaflet-zoom-animated"),N=this._wrapper=Ft("div",h+"-content-wrapper",E);if(this._contentNode=Ft("div",h+"-content",N),Pl(E),my(this._contentNode),Pt(E,"contextmenu",os),this._tipContainer=Ft("div",h+"-tip-container",E),this._tip=Ft("div",h+"-tip",this._tipContainer),this.options.closeButton){var z=this._closeButton=Ft("a",h+"-close-button",E);z.setAttribute("role","button"),z.setAttribute("aria-label","Close popup"),z.href="#close",z.innerHTML='<span aria-hidden="true">&#215;</span>',Pt(z,"click",function(ue){sn(ue),this.close()},this)}},_updateLayout:function(){var h=this._contentNode,E=h.style;E.width="",E.whiteSpace="nowrap";var N=h.offsetWidth;N=Math.min(N,this.options.maxWidth),N=Math.max(N,this.options.minWidth),E.width=N+1+"px",E.whiteSpace="",E.height="";var z=h.offsetHeight,ue=this.options.maxHeight,Ee="leaflet-popup-scrolled";ue&&z>ue?(E.height=ue+"px",Lt(h,Ee)):Dr(h,Ee),this._containerWidth=this._container.offsetWidth},_animateZoom:function(h){var E=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center),N=this._getAnchor();Ur(this._container,E.add(N))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var h=this._map,E=parseInt(ao(this._container,"marginBottom"),10)||0,N=this._container.offsetHeight+E,z=this._containerWidth,ue=new ae(this._containerLeft,-N-this._containerBottom);ue._add(as(this._container));var Ee=h.layerPointToContainerPoint(ue),Be=V(this.options.autoPanPadding),Qe=V(this.options.autoPanPaddingTopLeft||Be),Xe=V(this.options.autoPanPaddingBottomRight||Be),ot=h.getSize(),yt=0,Tt=0;Ee.x+z+Xe.x>ot.x&&(yt=Ee.x+z-ot.x+Xe.x),Ee.x-yt-Qe.x<0&&(yt=Ee.x-Qe.x),Ee.y+N+Xe.y>ot.y&&(Tt=Ee.y+N-ot.y+Xe.y),Ee.y-Tt-Qe.y<0&&(Tt=Ee.y-Qe.y),(yt||Tt)&&(this.options.keepInView&&(this._autopanning=!0),h.fire("autopanstart").panBy([yt,Tt]))}},_getAnchor:function(){return V(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),mq=function(h,E){return new Ap(h,E)};Ut.mergeOptions({closePopupOnClick:!0}),Ut.include({openPopup:function(h,E,N){return this._initOverlay(Ap,h,E,N).openOn(this),this},closePopup:function(h){return h=arguments.length?h:this._popup,h&&h.close(),this}}),Mi.include({bindPopup:function(h,E){return this._popup=this._initOverlay(Ap,this._popup,h,E),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(h){return this._popup&&(this instanceof Ta||(this._popup._source=this),this._popup._prepareOpen(h||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(h){return this._popup&&this._popup.setContent(h),this},getPopup:function(){return this._popup},_openPopup:function(h){if(!(!this._popup||!this._map)){ss(h);var E=h.layer||h.target;if(this._popup._source===E&&!(E instanceof so)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(h.latlng);return}this._popup._source=E,this.openPopup(h.latlng)}},_movePopup:function(h){this._popup.setLatLng(h.latlng)},_onKeyPress:function(h){h.originalEvent.keyCode===13&&this._openPopup(h)}});var Ip=na.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(h){na.prototype.onAdd.call(this,h),this.setOpacity(this.options.opacity),h.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(h){na.prototype.onRemove.call(this,h),h.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var h=na.prototype.getEvents.call(this);return this.options.permanent||(h.preclick=this.close),h},_initLayout:function(){var h="leaflet-tooltip",E=h+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ft("div",E),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(h){var E,N,z=this._map,ue=this._container,Ee=z.latLngToContainerPoint(z.getCenter()),Be=z.layerPointToContainerPoint(h),Qe=this.options.direction,Xe=ue.offsetWidth,ot=ue.offsetHeight,yt=V(this.options.offset),Tt=this._getAnchor();Qe==="top"?(E=Xe/2,N=ot):Qe==="bottom"?(E=Xe/2,N=0):Qe==="center"?(E=Xe/2,N=ot/2):Qe==="right"?(E=0,N=ot/2):Qe==="left"?(E=Xe,N=ot/2):Be.x<Ee.x?(Qe="right",E=0,N=ot/2):(Qe="left",E=Xe+(yt.x+Tt.x)*2,N=ot/2),h=h.subtract(V(E,N,!0)).add(yt).add(Tt),Dr(ue,"leaflet-tooltip-right"),Dr(ue,"leaflet-tooltip-left"),Dr(ue,"leaflet-tooltip-top"),Dr(ue,"leaflet-tooltip-bottom"),Lt(ue,"leaflet-tooltip-"+Qe),Ur(ue,h)},_updatePosition:function(){var h=this._map.latLngToLayerPoint(this._latlng);this._setPosition(h)},setOpacity:function(h){this.options.opacity=h,this._container&&ci(this._container,h)},_animateZoom:function(h){var E=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center);this._setPosition(E)},_getAnchor:function(){return V(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),yq=function(h,E){return new Ip(h,E)};Ut.include({openTooltip:function(h,E,N){return this._initOverlay(Ip,h,E,N).openOn(this),this},closeTooltip:function(h){return h.close(),this}}),Mi.include({bindTooltip:function(h,E){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ip,this._tooltip,h,E),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(h){if(!(!h&&this._tooltipHandlersAdded)){var E=h?"off":"on",N={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?N.add=this._openTooltip:(N.mouseover=this._openTooltip,N.mouseout=this.closeTooltip,N.click=this._openTooltip,this._map?this._addFocusListeners():N.add=this._addFocusListeners),this._tooltip.options.sticky&&(N.mousemove=this._moveTooltip),this[E](N),this._tooltipHandlersAdded=!h}},openTooltip:function(h){return this._tooltip&&(this instanceof Ta||(this._tooltip._source=this),this._tooltip._prepareOpen(h)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(h){return this._tooltip&&this._tooltip.setContent(h),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(h){var E=typeof h.getElement=="function"&&h.getElement();E&&(Pt(E,"focus",function(){this._tooltip._source=h,this.openTooltip()},this),Pt(E,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(h){var E=typeof h.getElement=="function"&&h.getElement();E&&E.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(h){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var E=this;this._map.once("moveend",function(){E._openOnceFlag=!1,E._openTooltip(h)});return}this._tooltip._source=h.layer||h.target,this.openTooltip(this._tooltip.options.sticky?h.latlng:void 0)}},_moveTooltip:function(h){var E=h.latlng,N,z;this._tooltip.options.sticky&&h.originalEvent&&(N=this._map.mouseEventToContainerPoint(h.originalEvent),z=this._map.containerPointToLayerPoint(N),E=this._map.layerPointToLatLng(z)),this._tooltip.setLatLng(E)}});var yT=uu.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(h){var E=h&&h.tagName==="DIV"?h:document.createElement("div"),N=this.options;if(N.html instanceof Element?(Di(E),E.appendChild(N.html)):E.innerHTML=N.html!==!1?N.html:"",N.bgPos){var z=V(N.bgPos);E.style.backgroundPosition=-z.x+"px "+-z.y+"px"}return this._setIconStyles(E,"icon"),E},createShadow:function(){return null}});function gq(h){return new yT(h)}uu.Default=Dl;var Nl=Mi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:$e.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(h){v(this,h)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(h){h._addZoomLimit(this)},onRemove:function(h){this._removeAllTiles(),er(this._container),h._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(au(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ou(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(h){return this.options.opacity=h,this._updateOpacity(),this},setZIndex:function(h){return this.options.zIndex=h,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var h=this._clampZoom(this._map.getZoom());h!==this._tileZoom&&(this._tileZoom=h,this._updateLevels()),this._update()}return this},getEvents:function(){var h={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=l(this._onMoveEnd,this.options.updateInterval,this)),h.move=this._onMove),this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},createTile:function(){return document.createElement("div")},getTileSize:function(){var h=this.options.tileSize;return h instanceof ae?h:new ae(h,h)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(h){for(var E=this.getPane().children,N=-h(-1/0,1/0),z=0,ue=E.length,Ee;z<ue;z++)Ee=E[z].style.zIndex,E[z]!==this._container&&Ee&&(N=h(N,+Ee));isFinite(N)&&(this.options.zIndex=N+h(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!$e.ielt9){ci(this._container,this.options.opacity);var h=+new Date,E=!1,N=!1;for(var z in this._tiles){var ue=this._tiles[z];if(!(!ue.current||!ue.loaded)){var Ee=Math.min(1,(h-ue.loaded)/200);ci(ue.el,Ee),Ee<1?E=!0:(ue.active?N=!0:this._onOpaqueTile(ue),ue.active=!0)}}N&&!this._noPrune&&this._pruneTiles(),E&&(O(this._fadeFrame),this._fadeFrame=j(this._updateOpacity,this))}},_onOpaqueTile:d,_initContainer:function(){this._container||(this._container=Ft("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var h=this._tileZoom,E=this.options.maxZoom;if(h!==void 0){for(var N in this._levels)N=Number(N),this._levels[N].el.children.length||N===h?(this._levels[N].el.style.zIndex=E-Math.abs(h-N),this._onUpdateLevel(N)):(er(this._levels[N].el),this._removeTilesAtZoom(N),this._onRemoveLevel(N),delete this._levels[N]);var z=this._levels[h],ue=this._map;return z||(z=this._levels[h]={},z.el=Ft("div","leaflet-tile-container leaflet-zoom-animated",this._container),z.el.style.zIndex=E,z.origin=ue.project(ue.unproject(ue.getPixelOrigin()),h).round(),z.zoom=h,this._setZoomTransform(z,ue.getCenter(),ue.getZoom()),d(z.el.offsetWidth),this._onCreateLevel(z)),this._level=z,z}},_onUpdateLevel:d,_onRemoveLevel:d,_onCreateLevel:d,_pruneTiles:function(){if(this._map){var h,E,N=this._map.getZoom();if(N>this.options.maxZoom||N<this.options.minZoom){this._removeAllTiles();return}for(h in this._tiles)E=this._tiles[h],E.retain=E.current;for(h in this._tiles)if(E=this._tiles[h],E.current&&!E.active){var z=E.coords;this._retainParent(z.x,z.y,z.z,z.z-5)||this._retainChildren(z.x,z.y,z.z,z.z+2)}for(h in this._tiles)this._tiles[h].retain||this._removeTile(h)}},_removeTilesAtZoom:function(h){for(var E in this._tiles)this._tiles[E].coords.z===h&&this._removeTile(E)},_removeAllTiles:function(){for(var h in this._tiles)this._removeTile(h)},_invalidateAll:function(){for(var h in this._levels)er(this._levels[h].el),this._onRemoveLevel(Number(h)),delete this._levels[h];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(h,E,N,z){var ue=Math.floor(h/2),Ee=Math.floor(E/2),Be=N-1,Qe=new ae(+ue,+Ee);Qe.z=+Be;var Xe=this._tileCoordsToKey(Qe),ot=this._tiles[Xe];return ot&&ot.active?(ot.retain=!0,!0):(ot&&ot.loaded&&(ot.retain=!0),Be>z?this._retainParent(ue,Ee,Be,z):!1)},_retainChildren:function(h,E,N,z){for(var ue=2*h;ue<2*h+2;ue++)for(var Ee=2*E;Ee<2*E+2;Ee++){var Be=new ae(ue,Ee);Be.z=N+1;var Qe=this._tileCoordsToKey(Be),Xe=this._tiles[Qe];if(Xe&&Xe.active){Xe.retain=!0;continue}else Xe&&Xe.loaded&&(Xe.retain=!0);N+1<z&&this._retainChildren(ue,Ee,N+1,z)}},_resetView:function(h){var E=h&&(h.pinch||h.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),E,E)},_animateZoom:function(h){this._setView(h.center,h.zoom,!0,h.noUpdate)},_clampZoom:function(h){var E=this.options;return E.minNativeZoom!==void 0&&h<E.minNativeZoom?E.minNativeZoom:E.maxNativeZoom!==void 0&&E.maxNativeZoom<h?E.maxNativeZoom:h},_setView:function(h,E,N,z){var ue=Math.round(E);this.options.maxZoom!==void 0&&ue>this.options.maxZoom||this.options.minZoom!==void 0&&ue<this.options.minZoom?ue=void 0:ue=this._clampZoom(ue);var Ee=this.options.updateWhenZooming&&ue!==this._tileZoom;(!z||Ee)&&(this._tileZoom=ue,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),ue!==void 0&&this._update(h),N||this._pruneTiles(),this._noPrune=!!N),this._setZoomTransforms(h,E)},_setZoomTransforms:function(h,E){for(var N in this._levels)this._setZoomTransform(this._levels[N],h,E)},_setZoomTransform:function(h,E,N){var z=this._map.getZoomScale(N,h.zoom),ue=h.origin.multiplyBy(z).subtract(this._map._getNewPixelOrigin(E,N)).round();$e.any3d?is(h.el,ue,z):Ur(h.el,ue)},_resetGrid:function(){var h=this._map,E=h.options.crs,N=this._tileSize=this.getTileSize(),z=this._tileZoom,ue=this._map.getPixelWorldBounds(this._tileZoom);ue&&(this._globalTileRange=this._pxBoundsToTileRange(ue)),this._wrapX=E.wrapLng&&!this.options.noWrap&&[Math.floor(h.project([0,E.wrapLng[0]],z).x/N.x),Math.ceil(h.project([0,E.wrapLng[1]],z).x/N.y)],this._wrapY=E.wrapLat&&!this.options.noWrap&&[Math.floor(h.project([E.wrapLat[0],0],z).y/N.x),Math.ceil(h.project([E.wrapLat[1],0],z).y/N.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(h){var E=this._map,N=E._animatingZoom?Math.max(E._animateToZoom,E.getZoom()):E.getZoom(),z=E.getZoomScale(N,this._tileZoom),ue=E.project(h,this._tileZoom).floor(),Ee=E.getSize().divideBy(z*2);return new oe(ue.subtract(Ee),ue.add(Ee))},_update:function(h){var E=this._map;if(E){var N=this._clampZoom(E.getZoom());if(h===void 0&&(h=E.getCenter()),this._tileZoom!==void 0){var z=this._getTiledPixelBounds(h),ue=this._pxBoundsToTileRange(z),Ee=ue.getCenter(),Be=[],Qe=this.options.keepBuffer,Xe=new oe(ue.getBottomLeft().subtract([Qe,-Qe]),ue.getTopRight().add([Qe,-Qe]));if(!(isFinite(ue.min.x)&&isFinite(ue.min.y)&&isFinite(ue.max.x)&&isFinite(ue.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ot in this._tiles){var yt=this._tiles[ot].coords;(yt.z!==this._tileZoom||!Xe.contains(new ae(yt.x,yt.y)))&&(this._tiles[ot].current=!1)}if(Math.abs(N-this._tileZoom)>1){this._setView(h,N);return}for(var Tt=ue.min.y;Tt<=ue.max.y;Tt++)for(var Mt=ue.min.x;Mt<=ue.max.x;Mt++){var Rn=new ae(Mt,Tt);if(Rn.z=this._tileZoom,!!this._isValidTile(Rn)){var tn=this._tiles[this._tileCoordsToKey(Rn)];tn?tn.current=!0:Be.push(Rn)}}if(Be.sort(function(Un,du){return Un.distanceTo(Ee)-du.distanceTo(Ee)}),Be.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var hi=document.createDocumentFragment();for(Mt=0;Mt<Be.length;Mt++)this._addTile(Be[Mt],hi);this._level.el.appendChild(hi)}}}},_isValidTile:function(h){var E=this._map.options.crs;if(!E.infinite){var N=this._globalTileRange;if(!E.wrapLng&&(h.x<N.min.x||h.x>N.max.x)||!E.wrapLat&&(h.y<N.min.y||h.y>N.max.y))return!1}if(!this.options.bounds)return!0;var z=this._tileCoordsToBounds(h);return Z(this.options.bounds).overlaps(z)},_keyToBounds:function(h){return this._tileCoordsToBounds(this._keyToTileCoords(h))},_tileCoordsToNwSe:function(h){var E=this._map,N=this.getTileSize(),z=h.scaleBy(N),ue=z.add(N),Ee=E.unproject(z,h.z),Be=E.unproject(ue,h.z);return[Ee,Be]},_tileCoordsToBounds:function(h){var E=this._tileCoordsToNwSe(h),N=new Y(E[0],E[1]);return this.options.noWrap||(N=this._map.wrapLatLngBounds(N)),N},_tileCoordsToKey:function(h){return h.x+":"+h.y+":"+h.z},_keyToTileCoords:function(h){var E=h.split(":"),N=new ae(+E[0],+E[1]);return N.z=+E[2],N},_removeTile:function(h){var E=this._tiles[h];E&&(er(E.el),delete this._tiles[h],this.fire("tileunload",{tile:E.el,coords:this._keyToTileCoords(h)}))},_initTile:function(h){Lt(h,"leaflet-tile");var E=this.getTileSize();h.style.width=E.x+"px",h.style.height=E.y+"px",h.onselectstart=d,h.onmousemove=d,$e.ielt9&&this.options.opacity<1&&ci(h,this.options.opacity)},_addTile:function(h,E){var N=this._getTilePos(h),z=this._tileCoordsToKey(h),ue=this.createTile(this._wrapCoords(h),o(this._tileReady,this,h));this._initTile(ue),this.createTile.length<2&&j(o(this._tileReady,this,h,null,ue)),Ur(ue,N),this._tiles[z]={el:ue,coords:h,current:!0},E.appendChild(ue),this.fire("tileloadstart",{tile:ue,coords:h})},_tileReady:function(h,E,N){E&&this.fire("tileerror",{error:E,tile:N,coords:h});var z=this._tileCoordsToKey(h);N=this._tiles[z],N&&(N.loaded=+new Date,this._map._fadeAnimated?(ci(N.el,0),O(this._fadeFrame),this._fadeFrame=j(this._updateOpacity,this)):(N.active=!0,this._pruneTiles()),E||(Lt(N.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:N.el,coords:h})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),$e.ielt9||!this._map._fadeAnimated?j(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(h){return h.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(h){var E=new ae(this._wrapX?f(h.x,this._wrapX):h.x,this._wrapY?f(h.y,this._wrapY):h.y);return E.z=h.z,E},_pxBoundsToTileRange:function(h){var E=this.getTileSize();return new oe(h.min.unscaleBy(E).floor(),h.max.unscaleBy(E).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var h in this._tiles)if(!this._tiles[h].loaded)return!1;return!0}});function _q(h){return new Nl(h)}var cu=Nl.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(h,E){this._url=h,E=v(this,E),E.detectRetina&&$e.retina&&E.maxZoom>0?(E.tileSize=Math.floor(E.tileSize/2),E.zoomReverse?(E.zoomOffset--,E.minZoom=Math.min(E.maxZoom,E.minZoom+1)):(E.zoomOffset++,E.maxZoom=Math.max(E.minZoom,E.maxZoom-1)),E.minZoom=Math.max(0,E.minZoom)):E.zoomReverse?E.minZoom=Math.min(E.maxZoom,E.minZoom):E.maxZoom=Math.max(E.minZoom,E.maxZoom),typeof E.subdomains=="string"&&(E.subdomains=E.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(h,E){return this._url===h&&E===void 0&&(E=!0),this._url=h,E||this.redraw(),this},createTile:function(h,E){var N=document.createElement("img");return Pt(N,"load",o(this._tileOnLoad,this,E,N)),Pt(N,"error",o(this._tileOnError,this,E,N)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(N.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(N.referrerPolicy=this.options.referrerPolicy),N.alt="",N.src=this.getTileUrl(h),N},getTileUrl:function(h){var E={r:$e.retina?"@2x":"",s:this._getSubdomain(h),x:h.x,y:h.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var N=this._globalTileRange.max.y-h.y;this.options.tms&&(E.y=N),E["-y"]=N}return y(this._url,a(E,this.options))},_tileOnLoad:function(h,E){$e.ielt9?setTimeout(o(h,this,null,E),0):h(null,E)},_tileOnError:function(h,E,N){var z=this.options.errorTileUrl;z&&E.getAttribute("src")!==z&&(E.src=z),h(N,E)},_onTileRemove:function(h){h.tile.onload=null},_getZoomForUrl:function(){var h=this._tileZoom,E=this.options.maxZoom,N=this.options.zoomReverse,z=this.options.zoomOffset;return N&&(h=E-h),h+z},_getSubdomain:function(h){var E=Math.abs(h.x+h.y)%this.options.subdomains.length;return this.options.subdomains[E]},_abortLoading:function(){var h,E;for(h in this._tiles)if(this._tiles[h].coords.z!==this._tileZoom&&(E=this._tiles[h].el,E.onload=d,E.onerror=d,!E.complete)){E.src=T;var N=this._tiles[h].coords;er(E),delete this._tiles[h],this.fire("tileabort",{tile:E,coords:N})}},_removeTile:function(h){var E=this._tiles[h];if(E)return E.el.setAttribute("src",T),Nl.prototype._removeTile.call(this,h)},_tileReady:function(h,E,N){if(!(!this._map||N&&N.getAttribute("src")===T))return Nl.prototype._tileReady.call(this,h,E,N)}});function gT(h,E){return new cu(h,E)}var _T=cu.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(h,E){this._url=h;var N=a({},this.defaultWmsParams);for(var z in E)z in this.options||(N[z]=E[z]);E=v(this,E);var ue=E.detectRetina&&$e.retina?2:1,Ee=this.getTileSize();N.width=Ee.x*ue,N.height=Ee.y*ue,this.wmsParams=N},onAdd:function(h){this._crs=this.options.crs||h.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var E=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[E]=this._crs.code,cu.prototype.onAdd.call(this,h)},getTileUrl:function(h){var E=this._tileCoordsToNwSe(h),N=this._crs,z=he(N.project(E[0]),N.project(E[1])),ue=z.min,Ee=z.max,Be=(this._wmsVersion>=1.3&&this._crs===fT?[ue.y,ue.x,Ee.y,Ee.x]:[ue.x,ue.y,Ee.x,Ee.y]).join(","),Qe=cu.prototype.getTileUrl.call(this,h);return Qe+b(this.wmsParams,Qe,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Be},setParams:function(h,E){return a(this.wmsParams,h),E||this.redraw(),this}});function bq(h,E){return new _T(h,E)}cu.WMS=_T,gT.wms=bq;var Ia=Mi.extend({options:{padding:.1},initialize:function(h){v(this,h),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Lt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var h={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(h.zoomanim=this._onAnimZoom),h},_onAnimZoom:function(h){this._updateTransform(h.center,h.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(h,E){var N=this._map.getZoomScale(E,this._zoom),z=this._map.getSize().multiplyBy(.5+this.options.padding),ue=this._map.project(this._center,E),Ee=z.multiplyBy(-N).add(ue).subtract(this._map._getNewPixelOrigin(h,E));$e.any3d?is(this._container,Ee,N):Ur(this._container,Ee)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var h in this._layers)this._layers[h]._reset()},_onZoomEnd:function(){for(var h in this._layers)this._layers[h]._project()},_updatePaths:function(){for(var h in this._layers)this._layers[h]._update()},_update:function(){var h=this.options.padding,E=this._map.getSize(),N=this._map.containerPointToLayerPoint(E.multiplyBy(-h)).round();this._bounds=new oe(N,N.add(E.multiplyBy(1+h*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),bT=Ia.extend({options:{tolerance:0},getEvents:function(){var h=Ia.prototype.getEvents.call(this);return h.viewprereset=this._onViewPreReset,h},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ia.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var h=this._container=document.createElement("canvas");Pt(h,"mousemove",this._onMouseMove,this),Pt(h,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Pt(h,"mouseout",this._handleMouseOut,this),h._leaflet_disable_events=!0,this._ctx=h.getContext("2d")},_destroyContainer:function(){O(this._redrawRequest),delete this._ctx,er(this._container),ar(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var h;this._redrawBounds=null;for(var E in this._layers)h=this._layers[E],h._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ia.prototype._update.call(this);var h=this._bounds,E=this._container,N=h.getSize(),z=$e.retina?2:1;Ur(E,h.min),E.width=z*N.x,E.height=z*N.y,E.style.width=N.x+"px",E.style.height=N.y+"px",$e.retina&&this._ctx.scale(2,2),this._ctx.translate(-h.min.x,-h.min.y),this.fire("update")}},_reset:function(){Ia.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(h){this._updateDashArray(h),this._layers[u(h)]=h;var E=h._order={layer:h,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=E),this._drawLast=E,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(h){this._requestRedraw(h)},_removePath:function(h){var E=h._order,N=E.next,z=E.prev;N?N.prev=z:this._drawLast=z,z?z.next=N:this._drawFirst=N,delete h._order,delete this._layers[u(h)],this._requestRedraw(h)},_updatePath:function(h){this._extendRedrawBounds(h),h._project(),h._update(),this._requestRedraw(h)},_updateStyle:function(h){this._updateDashArray(h),this._requestRedraw(h)},_updateDashArray:function(h){if(typeof h.options.dashArray=="string"){var E=h.options.dashArray.split(/[, ]+/),N=[],z,ue;for(ue=0;ue<E.length;ue++){if(z=Number(E[ue]),isNaN(z))return;N.push(z)}h.options._dashArray=N}else h.options._dashArray=h.options.dashArray},_requestRedraw:function(h){this._map&&(this._extendRedrawBounds(h),this._redrawRequest=this._redrawRequest||j(this._redraw,this))},_extendRedrawBounds:function(h){if(h._pxBounds){var E=(h.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new oe,this._redrawBounds.extend(h._pxBounds.min.subtract([E,E])),this._redrawBounds.extend(h._pxBounds.max.add([E,E]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var h=this._redrawBounds;if(h){var E=h.getSize();this._ctx.clearRect(h.min.x,h.min.y,E.x,E.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var h,E=this._redrawBounds;if(this._ctx.save(),E){var N=E.getSize();this._ctx.beginPath(),this._ctx.rect(E.min.x,E.min.y,N.x,N.y),this._ctx.clip()}this._drawing=!0;for(var z=this._drawFirst;z;z=z.next)h=z.layer,(!E||h._pxBounds&&h._pxBounds.intersects(E))&&h._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(h,E){if(this._drawing){var N,z,ue,Ee,Be=h._parts,Qe=Be.length,Xe=this._ctx;if(Qe){for(Xe.beginPath(),N=0;N<Qe;N++){for(z=0,ue=Be[N].length;z<ue;z++)Ee=Be[N][z],Xe[z?"lineTo":"moveTo"](Ee.x,Ee.y);E&&Xe.closePath()}this._fillStroke(Xe,h)}}},_updateCircle:function(h){if(!(!this._drawing||h._empty())){var E=h._point,N=this._ctx,z=Math.max(Math.round(h._radius),1),ue=(Math.max(Math.round(h._radiusY),1)||z)/z;ue!==1&&(N.save(),N.scale(1,ue)),N.beginPath(),N.arc(E.x,E.y/ue,z,0,Math.PI*2,!1),ue!==1&&N.restore(),this._fillStroke(N,h)}},_fillStroke:function(h,E){var N=E.options;N.fill&&(h.globalAlpha=N.fillOpacity,h.fillStyle=N.fillColor||N.color,h.fill(N.fillRule||"evenodd")),N.stroke&&N.weight!==0&&(h.setLineDash&&h.setLineDash(E.options&&E.options._dashArray||[]),h.globalAlpha=N.opacity,h.lineWidth=N.weight,h.strokeStyle=N.color,h.lineCap=N.lineCap,h.lineJoin=N.lineJoin,h.stroke())},_onClick:function(h){for(var E=this._map.mouseEventToLayerPoint(h),N,z,ue=this._drawFirst;ue;ue=ue.next)N=ue.layer,N.options.interactive&&N._containsPoint(E)&&(!(h.type==="click"||h.type==="preclick")||!this._map._draggableMoved(N))&&(z=N);this._fireEvent(z?[z]:!1,h)},_onMouseMove:function(h){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var E=this._map.mouseEventToLayerPoint(h);this._handleMouseHover(h,E)}},_handleMouseOut:function(h){var E=this._hoveredLayer;E&&(Dr(this._container,"leaflet-interactive"),this._fireEvent([E],h,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(h,E){if(!this._mouseHoverThrottled){for(var N,z,ue=this._drawFirst;ue;ue=ue.next)N=ue.layer,N.options.interactive&&N._containsPoint(E)&&(z=N);z!==this._hoveredLayer&&(this._handleMouseOut(h),z&&(Lt(this._container,"leaflet-interactive"),this._fireEvent([z],h,"mouseover"),this._hoveredLayer=z)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,h),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(h,E,N){this._map._fireDOMEvent(E,N||E.type,h)},_bringToFront:function(h){var E=h._order;if(E){var N=E.next,z=E.prev;if(N)N.prev=z;else return;z?z.next=N:N&&(this._drawFirst=N),E.prev=this._drawLast,this._drawLast.next=E,E.next=null,this._drawLast=E,this._requestRedraw(h)}},_bringToBack:function(h){var E=h._order;if(E){var N=E.next,z=E.prev;if(z)z.next=N;else return;N?N.prev=z:z&&(this._drawLast=z),E.prev=null,E.next=this._drawFirst,this._drawFirst.prev=E,this._drawFirst=E,this._requestRedraw(h)}}});function vT(h){return $e.canvas?new bT(h):null}var Ml=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(h){return document.createElement("<lvml:"+h+' class="lvml">')}}catch{}return function(h){return document.createElement("<"+h+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),vq={_initContainer:function(){this._container=Ft("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ia.prototype._update.call(this),this.fire("update"))},_initPath:function(h){var E=h._container=Ml("shape");Lt(E,"leaflet-vml-shape "+(this.options.className||"")),E.coordsize="1 1",h._path=Ml("path"),E.appendChild(h._path),this._updateStyle(h),this._layers[u(h)]=h},_addPath:function(h){var E=h._container;this._container.appendChild(E),h.options.interactive&&h.addInteractiveTarget(E)},_removePath:function(h){var E=h._container;er(E),h.removeInteractiveTarget(E),delete this._layers[u(h)]},_updateStyle:function(h){var E=h._stroke,N=h._fill,z=h.options,ue=h._container;ue.stroked=!!z.stroke,ue.filled=!!z.fill,z.stroke?(E||(E=h._stroke=Ml("stroke")),ue.appendChild(E),E.weight=z.weight+"px",E.color=z.color,E.opacity=z.opacity,z.dashArray?E.dashStyle=g(z.dashArray)?z.dashArray.join(" "):z.dashArray.replace(/( *, *)/g," "):E.dashStyle="",E.endcap=z.lineCap.replace("butt","flat"),E.joinstyle=z.lineJoin):E&&(ue.removeChild(E),h._stroke=null),z.fill?(N||(N=h._fill=Ml("fill")),ue.appendChild(N),N.color=z.fillColor||z.color,N.opacity=z.fillOpacity):N&&(ue.removeChild(N),h._fill=null)},_updateCircle:function(h){var E=h._point.round(),N=Math.round(h._radius),z=Math.round(h._radiusY||N);this._setPath(h,h._empty()?"M0 0":"AL "+E.x+","+E.y+" "+N+","+z+" 0,"+65535*360)},_setPath:function(h,E){h._path.v=E},_bringToFront:function(h){au(h._container)},_bringToBack:function(h){ou(h._container)}},Op=$e.vml?Ml:U,kl=Ia.extend({_initContainer:function(){this._container=Op("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Op("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){er(this._container),ar(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ia.prototype._update.call(this);var h=this._bounds,E=h.getSize(),N=this._container;(!this._svgSize||!this._svgSize.equals(E))&&(this._svgSize=E,N.setAttribute("width",E.x),N.setAttribute("height",E.y)),Ur(N,h.min),N.setAttribute("viewBox",[h.min.x,h.min.y,E.x,E.y].join(" ")),this.fire("update")}},_initPath:function(h){var E=h._path=Op("path");h.options.className&&Lt(E,h.options.className),h.options.interactive&&Lt(E,"leaflet-interactive"),this._updateStyle(h),this._layers[u(h)]=h},_addPath:function(h){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(h._path),h.addInteractiveTarget(h._path)},_removePath:function(h){er(h._path),h.removeInteractiveTarget(h._path),delete this._layers[u(h)]},_updatePath:function(h){h._project(),h._update()},_updateStyle:function(h){var E=h._path,N=h.options;E&&(N.stroke?(E.setAttribute("stroke",N.color),E.setAttribute("stroke-opacity",N.opacity),E.setAttribute("stroke-width",N.weight),E.setAttribute("stroke-linecap",N.lineCap),E.setAttribute("stroke-linejoin",N.lineJoin),N.dashArray?E.setAttribute("stroke-dasharray",N.dashArray):E.removeAttribute("stroke-dasharray"),N.dashOffset?E.setAttribute("stroke-dashoffset",N.dashOffset):E.removeAttribute("stroke-dashoffset")):E.setAttribute("stroke","none"),N.fill?(E.setAttribute("fill",N.fillColor||N.color),E.setAttribute("fill-opacity",N.fillOpacity),E.setAttribute("fill-rule",N.fillRule||"evenodd")):E.setAttribute("fill","none"))},_updatePoly:function(h,E){this._setPath(h,re(h._parts,E))},_updateCircle:function(h){var E=h._point,N=Math.max(Math.round(h._radius),1),z=Math.max(Math.round(h._radiusY),1)||N,ue="a"+N+","+z+" 0 1,0 ",Ee=h._empty()?"M0 0":"M"+(E.x-N)+","+E.y+ue+N*2+",0 "+ue+-N*2+",0 ";this._setPath(h,Ee)},_setPath:function(h,E){h._path.setAttribute("d",E)},_bringToFront:function(h){au(h._path)},_bringToBack:function(h){ou(h._path)}});$e.vml&&kl.include(vq);function wT(h){return $e.svg||$e.vml?new kl(h):null}Ut.include({getRenderer:function(h){var E=h.options.renderer||this._getPaneRenderer(h.options.pane)||this.options.renderer||this._renderer;return E||(E=this._renderer=this._createRenderer()),this.hasLayer(E)||this.addLayer(E),E},_getPaneRenderer:function(h){if(h==="overlayPane"||h===void 0)return!1;var E=this._paneRenderers[h];return E===void 0&&(E=this._createRenderer({pane:h}),this._paneRenderers[h]=E),E},_createRenderer:function(h){return this.options.preferCanvas&&vT(h)||wT(h)}});var ST=lu.extend({initialize:function(h,E){lu.prototype.initialize.call(this,this._boundsToLatLngs(h),E)},setBounds:function(h){return this.setLatLngs(this._boundsToLatLngs(h))},_boundsToLatLngs:function(h){return h=Z(h),[h.getSouthWest(),h.getNorthWest(),h.getNorthEast(),h.getSouthEast()]}});function wq(h,E){return new ST(h,E)}kl.create=Op,kl.pointsToPath=re,Aa.geometryToLayer=Sp,Aa.coordsToLatLng=xy,Aa.coordsToLatLngs=Ep,Aa.latLngToCoords=Ty,Aa.latLngsToCoords=xp,Aa.getFeature=fu,Aa.asFeature=Tp,Ut.mergeOptions({boxZoom:!0});var ET=ra.extend({initialize:function(h){this._map=h,this._container=h._container,this._pane=h._panes.overlayPane,this._resetStateTimeout=0,h.on("unload",this._destroy,this)},addHooks:function(){Pt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ar(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){er(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(h){if(!h.shiftKey||h.which!==1&&h.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Al(),sy(),this._startPoint=this._map.mouseEventToContainerPoint(h),Pt(document,{contextmenu:ss,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(h){this._moved||(this._moved=!0,this._box=Ft("div","leaflet-zoom-box",this._container),Lt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(h);var E=new oe(this._point,this._startPoint),N=E.getSize();Ur(this._box,E.min),this._box.style.width=N.x+"px",this._box.style.height=N.y+"px"},_finish:function(){this._moved&&(er(this._box),Dr(this._container,"leaflet-crosshair")),Il(),uy(),ar(document,{contextmenu:ss,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(h){if(!(h.which!==1&&h.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var E=new Y(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(E).fire("boxzoomend",{boxZoomBounds:E})}},_onKeyDown:function(h){h.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ut.addInitHook("addHandler","boxZoom",ET),Ut.mergeOptions({doubleClickZoom:!0});var xT=ra.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(h){var E=this._map,N=E.getZoom(),z=E.options.zoomDelta,ue=h.originalEvent.shiftKey?N-z:N+z;E.options.doubleClickZoom==="center"?E.setZoom(ue):E.setZoomAround(h.containerPoint,ue)}});Ut.addInitHook("addHandler","doubleClickZoom",xT),Ut.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var TT=ra.extend({addHooks:function(){if(!this._draggable){var h=this._map;this._draggable=new oo(h._mapPane,h._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),h.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),h.on("zoomend",this._onZoomEnd,this),h.whenReady(this._onZoomEnd,this))}Lt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Dr(this._map._container,"leaflet-grab"),Dr(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var h=this._map;if(h._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var E=Z(this._map.options.maxBounds);this._offsetLimit=he(this._map.latLngToContainerPoint(E.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(E.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;h.fire("movestart").fire("dragstart"),h.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(h){if(this._map.options.inertia){var E=this._lastTime=+new Date,N=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(N),this._times.push(E),this._prunePositions(E)}this._map.fire("move",h).fire("drag",h)},_prunePositions:function(h){for(;this._positions.length>1&&h-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var h=this._map.getSize().divideBy(2),E=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=E.subtract(h).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(h,E){return h-(h-E)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var h=this._draggable._newPos.subtract(this._draggable._startPos),E=this._offsetLimit;h.x<E.min.x&&(h.x=this._viscousLimit(h.x,E.min.x)),h.y<E.min.y&&(h.y=this._viscousLimit(h.y,E.min.y)),h.x>E.max.x&&(h.x=this._viscousLimit(h.x,E.max.x)),h.y>E.max.y&&(h.y=this._viscousLimit(h.y,E.max.y)),this._draggable._newPos=this._draggable._startPos.add(h)}},_onPreDragWrap:function(){var h=this._worldWidth,E=Math.round(h/2),N=this._initialWorldOffset,z=this._draggable._newPos.x,ue=(z-E+N)%h+E-N,Ee=(z+E+N)%h-E-N,Be=Math.abs(ue+N)<Math.abs(Ee+N)?ue:Ee;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Be},_onDragEnd:function(h){var E=this._map,N=E.options,z=!N.inertia||h.noInertia||this._times.length<2;if(E.fire("dragend",h),z)E.fire("moveend");else{this._prunePositions(+new Date);var ue=this._lastPos.subtract(this._positions[0]),Ee=(this._lastTime-this._times[0])/1e3,Be=N.easeLinearity,Qe=ue.multiplyBy(Be/Ee),Xe=Qe.distanceTo([0,0]),ot=Math.min(N.inertiaMaxSpeed,Xe),yt=Qe.multiplyBy(ot/Xe),Tt=ot/(N.inertiaDeceleration*Be),Mt=yt.multiplyBy(-Tt/2).round();!Mt.x&&!Mt.y?E.fire("moveend"):(Mt=E._limitOffset(Mt,E.options.maxBounds),j(function(){E.panBy(Mt,{duration:Tt,easeLinearity:Be,noMoveStart:!0,animate:!0})}))}}});Ut.addInitHook("addHandler","dragging",TT),Ut.mergeOptions({keyboard:!0,keyboardPanDelta:80});var RT=ra.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(h){this._map=h,this._setPanDelta(h.options.keyboardPanDelta),this._setZoomDelta(h.options.zoomDelta)},addHooks:function(){var h=this._map._container;h.tabIndex<=0&&(h.tabIndex="0"),Pt(h,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ar(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var h=document.body,E=document.documentElement,N=h.scrollTop||E.scrollTop,z=h.scrollLeft||E.scrollLeft;this._map._container.focus(),window.scrollTo(z,N)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(h){var E=this._panKeys={},N=this.keyCodes,z,ue;for(z=0,ue=N.left.length;z<ue;z++)E[N.left[z]]=[-1*h,0];for(z=0,ue=N.right.length;z<ue;z++)E[N.right[z]]=[h,0];for(z=0,ue=N.down.length;z<ue;z++)E[N.down[z]]=[0,h];for(z=0,ue=N.up.length;z<ue;z++)E[N.up[z]]=[0,-1*h]},_setZoomDelta:function(h){var E=this._zoomKeys={},N=this.keyCodes,z,ue;for(z=0,ue=N.zoomIn.length;z<ue;z++)E[N.zoomIn[z]]=h;for(z=0,ue=N.zoomOut.length;z<ue;z++)E[N.zoomOut[z]]=-h},_addHooks:function(){Pt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ar(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(h){if(!(h.altKey||h.ctrlKey||h.metaKey)){var E=h.keyCode,N=this._map,z;if(E in this._panKeys){if(!N._panAnim||!N._panAnim._inProgress)if(z=this._panKeys[E],h.shiftKey&&(z=V(z).multiplyBy(3)),N.options.maxBounds&&(z=N._limitOffset(V(z),N.options.maxBounds)),N.options.worldCopyJump){var ue=N.wrapLatLng(N.unproject(N.project(N.getCenter()).add(z)));N.panTo(ue)}else N.panBy(z)}else if(E in this._zoomKeys)N.setZoom(N.getZoom()+(h.shiftKey?3:1)*this._zoomKeys[E]);else if(E===27&&N._popup&&N._popup.options.closeOnEscapeKey)N.closePopup();else return;ss(h)}}});Ut.addInitHook("addHandler","keyboard",RT),Ut.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var AT=ra.extend({addHooks:function(){Pt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ar(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(h){var E=Qx(h),N=this._map.options.wheelDebounceTime;this._delta+=E,this._lastMousePos=this._map.mouseEventToContainerPoint(h),this._startTime||(this._startTime=+new Date);var z=Math.max(N-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),z),ss(h)},_performZoom:function(){var h=this._map,E=h.getZoom(),N=this._map.options.zoomSnap||0;h._stop();var z=this._delta/(this._map.options.wheelPxPerZoomLevel*4),ue=4*Math.log(2/(1+Math.exp(-Math.abs(z))))/Math.LN2,Ee=N?Math.ceil(ue/N)*N:ue,Be=h._limitZoom(E+(this._delta>0?Ee:-Ee))-E;this._delta=0,this._startTime=null,Be&&(h.options.scrollWheelZoom==="center"?h.setZoom(E+Be):h.setZoomAround(this._lastMousePos,E+Be))}});Ut.addInitHook("addHandler","scrollWheelZoom",AT);var Sq=600;Ut.mergeOptions({tapHold:$e.touchNative&&$e.safari&&$e.mobile,tapTolerance:15});var IT=ra.extend({addHooks:function(){Pt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ar(this._map._container,"touchstart",this._onDown,this)},_onDown:function(h){if(clearTimeout(this._holdTimeout),h.touches.length===1){var E=h.touches[0];this._startPos=this._newPos=new ae(E.clientX,E.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(Pt(document,"touchend",sn),Pt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",E))},this),Sq),Pt(document,"touchend touchcancel contextmenu",this._cancel,this),Pt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function h(){ar(document,"touchend",sn),ar(document,"touchend touchcancel",h)},_cancel:function(){clearTimeout(this._holdTimeout),ar(document,"touchend touchcancel contextmenu",this._cancel,this),ar(document,"touchmove",this._onMove,this)},_onMove:function(h){var E=h.touches[0];this._newPos=new ae(E.clientX,E.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(h,E){var N=new MouseEvent(h,{bubbles:!0,cancelable:!0,view:window,screenX:E.screenX,screenY:E.screenY,clientX:E.clientX,clientY:E.clientY});N._simulated=!0,E.target.dispatchEvent(N)}});Ut.addInitHook("addHandler","tapHold",IT),Ut.mergeOptions({touchZoom:$e.touch,bounceAtZoomLimits:!0});var OT=ra.extend({addHooks:function(){Lt(this._map._container,"leaflet-touch-zoom"),Pt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Dr(this._map._container,"leaflet-touch-zoom"),ar(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(h){var E=this._map;if(!(!h.touches||h.touches.length!==2||E._animatingZoom||this._zooming)){var N=E.mouseEventToContainerPoint(h.touches[0]),z=E.mouseEventToContainerPoint(h.touches[1]);this._centerPoint=E.getSize()._divideBy(2),this._startLatLng=E.containerPointToLatLng(this._centerPoint),E.options.touchZoom!=="center"&&(this._pinchStartLatLng=E.containerPointToLatLng(N.add(z)._divideBy(2))),this._startDist=N.distanceTo(z),this._startZoom=E.getZoom(),this._moved=!1,this._zooming=!0,E._stop(),Pt(document,"touchmove",this._onTouchMove,this),Pt(document,"touchend touchcancel",this._onTouchEnd,this),sn(h)}},_onTouchMove:function(h){if(!(!h.touches||h.touches.length!==2||!this._zooming)){var E=this._map,N=E.mouseEventToContainerPoint(h.touches[0]),z=E.mouseEventToContainerPoint(h.touches[1]),ue=N.distanceTo(z)/this._startDist;if(this._zoom=E.getScaleZoom(ue,this._startZoom),!E.options.bounceAtZoomLimits&&(this._zoom<E.getMinZoom()&&ue<1||this._zoom>E.getMaxZoom()&&ue>1)&&(this._zoom=E._limitZoom(this._zoom)),E.options.touchZoom==="center"){if(this._center=this._startLatLng,ue===1)return}else{var Ee=N._add(z)._divideBy(2)._subtract(this._centerPoint);if(ue===1&&Ee.x===0&&Ee.y===0)return;this._center=E.unproject(E.project(this._pinchStartLatLng,this._zoom).subtract(Ee),this._zoom)}this._moved||(E._moveStart(!0,!1),this._moved=!0),O(this._animRequest);var Be=o(E._move,E,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=j(Be,this,!0),sn(h)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,O(this._animRequest),ar(document,"touchmove",this._onTouchMove,this),ar(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ut.addInitHook("addHandler","touchZoom",OT),Ut.BoxZoom=ET,Ut.DoubleClickZoom=xT,Ut.Drag=TT,Ut.Keyboard=RT,Ut.ScrollWheelZoom=AT,Ut.TapHold=IT,Ut.TouchZoom=OT,r.Bounds=oe,r.Browser=$e,r.CRS=A,r.Canvas=bT,r.Circle=Ey,r.CircleMarker=wp,r.Class=Q,r.Control=Ni,r.DivIcon=yT,r.DivOverlay=na,r.DomEvent=q8,r.DomUtil=j8,r.Draggable=oo,r.Evented=le,r.FeatureGroup=Ta,r.GeoJSON=Aa,r.GridLayer=Nl,r.Handler=ra,r.Icon=uu,r.ImageOverlay=Rp,r.LatLng=ee,r.LatLngBounds=Y,r.Layer=Mi,r.LayerGroup=su,r.LineUtil=J8,r.Map=Ut,r.Marker=vp,r.Mixin=W8,r.Path=so,r.Point=ae,r.PolyUtil=K8,r.Polygon=lu,r.Polyline=Ra,r.Popup=Ap,r.PosAnimation=Xx,r.Projection=eq,r.Rectangle=ST,r.Renderer=Ia,r.SVG=kl,r.SVGOverlay=mT,r.TileLayer=cu,r.Tooltip=Ip,r.Transformation=R,r.Util=q,r.VideoOverlay=pT,r.bind=o,r.bounds=he,r.canvas=vT,r.circle=uq,r.circleMarker=sq,r.control=Cl,r.divIcon=gq,r.extend=a,r.featureGroup=iq,r.geoJSON=hT,r.geoJson=cq,r.gridLayer=_q,r.icon=aq,r.imageOverlay=dq,r.latLng=P,r.latLngBounds=Z,r.layerGroup=nq,r.map=$8,r.marker=oq,r.point=V,r.polygon=fq,r.polyline=lq,r.popup=mq,r.rectangle=wq,r.setOptions=v,r.stamp=u,r.svg=wT,r.svgOverlay=pq,r.tileLayer=gT,r.tooltip=yq,r.transformation=w,r.version=n,r.videoOverlay=hq;var Eq=window.L;r.noConflict=function(){return window.L=Eq,this},window.L=r})}(zd,zd.exports)),zd.exports}var tF=s9();const rF=Bh(tF),u9=Nq({__proto__:null,default:rF},[tF]),l9="modulepreload",f9=function(e,t){return new URL(e,t).href},gR={},Ei=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){const o=document.getElementsByTagName("link"),s=document.querySelector("meta[property=csp-nonce]"),u=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));a=Promise.allSettled(r.map(l=>{if(l=f9(l,n),l in gR)return;gR[l]=!0;const f=l.endsWith(".css"),d=f?'[rel="stylesheet"]':"";if(!!n)for(let _=o.length-1;_>=0;_--){const v=o[_];if(v.href===l&&(!f||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${d}`))return;const p=document.createElement("link");if(p.rel=f?"stylesheet":l9,f||(p.as="script"),p.crossOrigin="",p.href=l,u&&p.setAttribute("nonce",u),document.head.appendChild(p),f)return new Promise((_,v)=>{p.addEventListener("load",_),p.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return a.then(o=>{for(const s of o||[])s.status==="rejected"&&i(s.reason);return t().catch(i)})},Gw=(e,t)=>{for(const r of Object.keys(t))e.on(r,t[r])},qS=e=>{for(const t of Object.keys(e)){const r=e[t];r&&Ua(r.cancel)&&r.cancel()}},nF=e=>!e||typeof e.charAt!="function"?e:e.charAt(0).toUpperCase()+e.slice(1),Ua=e=>typeof e=="function",zo=(e,t,r)=>{for(const n in r){const a="set"+nF(n);e[a]?Jr(()=>r[n],(i,o)=>{e[a](i,o)}):t[a]&&Jr(()=>r[n],i=>{t[a](i)})}},br=(e,t,r={})=>{const n={...r};for(const a in e){const i=t[a],o=e[a];i&&(i&&i.custom===!0||o!==void 0&&(n[a]=o))}return n},Ks=e=>{const t={},r={};for(const n in e)if(n.startsWith("on")&&!n.startsWith("onUpdate")&&n!=="onReady"){const a=n.slice(2).toLocaleLowerCase();t[a]=e[n]}else r[n]=e[n];return{listeners:t,attrs:r}},iF=async e=>{const t=await Promise.all([Ei(()=>import("./marker-icon-2x-D4k_ikNW.js"),[],import.meta.url),Ei(()=>import("./marker-icon-C2eJqgqv.js"),[],import.meta.url),Ei(()=>import("./marker-shadow-DU6CIJ0p.js"),[],import.meta.url)]);delete e.Default.prototype._getIconUrl,e.Default.mergeOptions({iconRetinaUrl:t[0].default,iconUrl:t[1].default,shadowUrl:t[2].default})},Gd=e=>{const t=Je((...n)=>console.warn(`Method ${e} has been invoked without being replaced`)),r=(...n)=>t.value(...n);return r.wrapped=t,Wn(e,r),r},Wd=(e,t)=>e.wrapped.value=t,_a=typeof self=="object"&&self.self===self&&self||typeof Ro=="object"&&Ro.global===Ro&&Ro||globalThis,Kn=e=>{const t=ni(e);if(t===void 0)throw new Error(`Attempt to inject ${e.description} before it was provided.`);return t},aF=Object.freeze(Object.defineProperty({__proto__:null,WINDOW_OR_GLOBAL:_a,assertInject:Kn,bindEventHandlers:Gw,cancelDebounces:qS,capitalizeFirstLetter:nF,isFunction:Ua,propsBinder:zo,propsToLeafletOptions:br,provideLeafletWrapper:Gd,remapEvents:Ks,resetWebpackIcon:iF,updateLeafletWrapper:Wd},Symbol.toStringTag,{value:"Module"})),Go=Symbol("useGlobalLeaflet"),Zs=Symbol("addLayer"),qh=Symbol("removeLayer"),$S=Symbol("registerControl"),oF=Symbol("registerLayerControl"),US=Symbol("canSetParentHtml"),HS=Symbol("setParentHtml"),VS=Symbol("setIcon"),zS=Symbol("bindPopup"),sF=Symbol("bindTooltip"),GS=Symbol("unbindPopup"),WS=Symbol("unbindTooltip"),uF=Object.freeze(Object.defineProperty({__proto__:null,AddLayerInjection:Zs,BindPopupInjection:zS,BindTooltipInjection:sF,CanSetParentHtmlInjection:US,RegisterControlInjection:$S,RegisterLayerControlInjection:oF,RemoveLayerInjection:qh,SetIconInjection:VS,SetParentHtmlInjection:HS,UnbindPopupInjection:GS,UnbindTooltipInjection:WS,UseGlobalLeafletInjection:Go},Symbol.toStringTag,{value:"Module"})),rl={options:{type:Object,default:()=>({}),custom:!0}},nl=e=>({options:e.options,methods:{}}),c9=Object.freeze(Object.defineProperty({__proto__:null,componentProps:rl,setupComponent:nl},Symbol.toStringTag,{value:"Module"})),Ys={...rl,pane:{type:String},attribution:{type:String},name:{type:String,custom:!0},layerType:{type:String,custom:!0},visible:{type:Boolean,custom:!0,default:!0}},il=(e,t,r)=>{const n=Kn(Zs),a=Kn(qh),{options:i,methods:o}=nl(e),s=br(e,Ys,i),u=()=>n({leafletObject:t.value}),l=()=>a({leafletObject:t.value}),f={...o,setAttribution(d){l(),t.value.options.attribution=d,e.visible&&u()},setName(){l(),e.visible&&u()},setLayerType(){l(),e.visible&&u()},setVisible(d){t.value&&(d?u():l())},bindPopup(d){if(!t.value||!Ua(t.value.bindPopup)){console.warn("Attempt to bind popup before bindPopup method available on layer.");return}t.value.bindPopup(d)},bindTooltip(d){if(!t.value||!Ua(t.value.bindTooltip)){console.warn("Attempt to bind tooltip before bindTooltip method available on layer.");return}t.value.bindTooltip(d)},unbindTooltip(){t.value&&(Ua(t.value.closeTooltip)&&t.value.closeTooltip(),Ua(t.value.unbindTooltip)&&t.value.unbindTooltip())},unbindPopup(){t.value&&(Ua(t.value.closePopup)&&t.value.closePopup(),Ua(t.value.unbindPopup)&&t.value.unbindPopup())},updateVisibleProp(d){r.emit("update:visible",d)}};return Wn(zS,f.bindPopup),Wn(sF,f.bindTooltip),Wn(GS,f.unbindPopup),Wn(WS,f.unbindTooltip),Yi(()=>{f.unbindPopup(),f.unbindTooltip(),l()}),{options:s,methods:f}},lF=(e,t)=>{if(e&&t.default)return to("div",{style:{display:"none"}},t.default())},d9=Object.freeze(Object.defineProperty({__proto__:null,layerProps:Ys,render:lF,setupLayer:il},Symbol.toStringTag,{value:"Module"})),KS={...Ys,interactive:{type:Boolean,default:void 0},bubblingMouseEvents:{type:Boolean,default:void 0}},fF=(e,t,r)=>{const{options:n,methods:a}=il(e,t,r);return{options:br(e,KS,n),methods:a}},h9=Object.freeze(Object.defineProperty({__proto__:null,interactiveLayerProps:KS,setupInteractiveLayer:fF},Symbol.toStringTag,{value:"Module"})),y0={...KS,stroke:{type:Boolean,default:void 0},color:{type:String},weight:{type:Number},opacity:{type:Number},lineCap:{type:String},lineJoin:{type:String},dashArray:{type:String},dashOffset:{type:String},fill:{type:Boolean,default:void 0},fillColor:{type:String},fillOpacity:{type:Number},fillRule:{type:String},className:{type:String}},ZS=(e,t,r)=>{const{options:n,methods:a}=fF(e,t,r),i=br(e,y0,n),o=Kn(qh),s={...a,setStroke(u){t.value.setStyle({stroke:u})},setColor(u){t.value.setStyle({color:u})},setWeight(u){t.value.setStyle({weight:u})},setOpacity(u){t.value.setStyle({opacity:u})},setLineCap(u){t.value.setStyle({lineCap:u})},setLineJoin(u){t.value.setStyle({lineJoin:u})},setDashArray(u){t.value.setStyle({dashArray:u})},setDashOffset(u){t.value.setStyle({dashOffset:u})},setFill(u){t.value.setStyle({fill:u})},setFillColor(u){t.value.setStyle({fillColor:u})},setFillOpacity(u){t.value.setStyle({fillOpacity:u})},setFillRule(u){t.value.setStyle({fillRule:u})},setClassName(u){t.value.setStyle({className:u})}};return Gs(()=>{o({leafletObject:t.value})}),{options:i,methods:s}},p9=Object.freeze(Object.defineProperty({__proto__:null,pathProps:y0,setupPath:ZS},Symbol.toStringTag,{value:"Module"})),YS={...y0,radius:{type:Number},latLng:{type:[Object,Array],required:!0,custom:!0}},cF=(e,t,r)=>{const{options:n,methods:a}=ZS(e,t,r),i=br(e,YS,n),o={...a,setRadius(s){t.value.setRadius(s)},setLatLng(s){t.value.setLatLng(s)}};return{options:i,methods:o}},m9=Object.freeze(Object.defineProperty({__proto__:null,circleMarkerProps:YS,setupCircleMarker:cF},Symbol.toStringTag,{value:"Module"})),dF={...YS,radius:{type:Number}},y9=(e,t,r)=>{const{options:n,methods:a}=cF(e,t,r),i=br(e,dF,n),o={...a};return{options:i,methods:o}},g9=Object.freeze(Object.defineProperty({__proto__:null,circleProps:dF,setupCircle:y9},Symbol.toStringTag,{value:"Module"})),Qs={...rl,position:{type:String}},al=(e,t)=>{const{options:r,methods:n}=nl(e),a=br(e,Qs,r),i={...n,setPosition(o){t.value&&t.value.setPosition(o)}};return Yi(()=>{t.value&&t.value.remove()}),{options:a,methods:i}},hF=e=>e.default?to("div",{ref:"root"},e.default()):null,_9=Object.freeze(Object.defineProperty({__proto__:null,controlProps:Qs,renderLControl:hF,setupControl:al},Symbol.toStringTag,{value:"Module"}));({...Qs});const pF={...Qs,prefix:{type:String}},b9=(e,t)=>{const{options:r,methods:n}=al(e,t),a=br(e,pF,r),i={...n,setPrefix(o){t.value.setPrefix(o)}};return{options:a,methods:i}},v9=Object.freeze(Object.defineProperty({__proto__:null,controlAttributionProps:pF,setupControlAttribution:b9},Symbol.toStringTag,{value:"Module"})),mF={...Qs,collapsed:{type:Boolean,default:void 0},autoZIndex:{type:Boolean,default:void 0},hideSingleBase:{type:Boolean,default:void 0},sortLayers:{type:Boolean,default:void 0},sortFunction:{type:Function}},w9=(e,t)=>{const{options:r}=al(e,t);return{options:br(e,mF,r),methods:{addLayer(n){n.layerType==="base"?t.value.addBaseLayer(n.leafletObject,n.name):n.layerType==="overlay"&&t.value.addOverlay(n.leafletObject,n.name)},removeLayer(n){t.value.removeLayer(n.leafletObject)}}}},S9=Object.freeze(Object.defineProperty({__proto__:null,controlLayersProps:mF,setupControlLayers:w9},Symbol.toStringTag,{value:"Module"})),yF={...Qs,maxWidth:{type:Number},metric:{type:Boolean,default:void 0},imperial:{type:Boolean,default:void 0},updateWhenIdle:{type:Boolean,default:void 0}},E9=(e,t)=>{const{options:r,methods:n}=al(e,t);return{options:br(e,yF,r),methods:n}},x9=Object.freeze(Object.defineProperty({__proto__:null,controlScaleProps:yF,setupControlScale:E9},Symbol.toStringTag,{value:"Module"})),gF={...Qs,zoomInText:{type:String},zoomInTitle:{type:String},zoomOutText:{type:String},zoomOutTitle:{type:String}},T9=(e,t)=>{const{options:r,methods:n}=al(e,t);return{options:br(e,gF,r),methods:n}},R9=Object.freeze(Object.defineProperty({__proto__:null,controlZoomProps:gF,setupControlZoom:T9},Symbol.toStringTag,{value:"Module"})),g0={...Ys},QS=(e,t,r)=>{const{options:n,methods:a}=il(e,t,r),i=br(e,g0,n),o={...a,addLayer(s){t.value.addLayer(s.leafletObject)},removeLayer(s){t.value.removeLayer(s.leafletObject)}};return Wn(Zs,o.addLayer),Wn(qh,o.removeLayer),{options:i,methods:o}},A9=Object.freeze(Object.defineProperty({__proto__:null,layerGroupProps:g0,setupLayerGroup:QS},Symbol.toStringTag,{value:"Module"})),_F={...g0},I9=(e,t,r)=>{const{options:n,methods:a}=QS(e,t,r),i=br(e,_F,n),o={...a};return{options:i,methods:o}},O9=Object.freeze(Object.defineProperty({__proto__:null,featureGroupProps:_F,setupFeatureGroup:I9},Symbol.toStringTag,{value:"Module"})),bF={...g0,geojson:{type:[Object,Array],custom:!0},optionsStyle:{type:Function,custom:!0}},P9=(e,t,r)=>{const{options:n,methods:a}=QS(e,t,r),i=br(e,bF,n);Object.prototype.hasOwnProperty.call(e,"optionsStyle")&&(i.style=e.optionsStyle);const o={...a,setGeojson(s){t.value.clearLayers(),t.value.addData(s)},setOptionsStyle(s){t.value.setStyle(s)},getGeoJSONData(){return t.value.toGeoJSON()},getBounds(){return t.value.getBounds()}};return{options:i,methods:o}},C9=Object.freeze(Object.defineProperty({__proto__:null,geoJSONProps:bF,setupGeoJSON:P9},Symbol.toStringTag,{value:"Module"})),_0={...Ys,opacity:{type:Number},zIndex:{type:Number},tileSize:{type:[Number,Array,Object]},noWrap:{type:Boolean,default:void 0},minZoom:{type:Number},maxZoom:{type:Number},className:{type:String}},XS=(e,t,r)=>{const{options:n,methods:a}=il(e,t,r),i=br(e,_0,n),o={...a,setTileComponent(){var s;(s=t.value)==null||s.redraw()}};return Yi(()=>{t.value.off()}),{options:i,methods:o}},vF=(e,t,r,n)=>e.extend({initialize(a){this.tileComponents={},this.on("tileunload",this._unloadTile),r.setOptions(this,a)},createTile(a){const i=this._tileCoordsToKey(a);this.tileComponents[i]=t.create("div");const o=to({setup:n,props:["coords"]},{coords:a});return zw(o,this.tileComponents[i]),this.tileComponents[i]},_unloadTile(a){const i=this._tileCoordsToKey(a.coords);this.tileComponents[i]&&(this.tileComponents[i].innerHTML="",this.tileComponents[i]=void 0)}}),L9=Object.freeze(Object.defineProperty({__proto__:null,CreateVueGridLayer:vF,gridLayerProps:_0,setupGridLayer:XS},Symbol.toStringTag,{value:"Module"}));({..._0});const Ww={iconUrl:{type:String},iconRetinaUrl:{type:String},iconSize:{type:[Object,Array]},iconAnchor:{type:[Object,Array]},popupAnchor:{type:[Object,Array]},tooltipAnchor:{type:[Object,Array]},shadowUrl:{type:String},shadowRetinaUrl:{type:String},shadowSize:{type:[Object,Array]},shadowAnchor:{type:[Object,Array]},bgPos:{type:[Object,Array]},className:{type:String}},D9=Object.freeze(Object.defineProperty({__proto__:null,iconProps:Ww},Symbol.toStringTag,{value:"Module"}));({...Ww,...rl});const wF={...Ys,opacity:{type:Number},alt:{type:String},interactive:{type:Boolean,default:void 0},crossOrigin:{type:Boolean,default:void 0},errorOverlayUrl:{type:String},zIndex:{type:Number},className:{type:String},url:{type:String,required:!0,custom:!0},bounds:{type:[Array,Object],required:!0,custom:!0}},N9=(e,t,r)=>{const{options:n,methods:a}=il(e,t,r),i=br(e,wF,n),o={...a,setOpacity(s){return t.value.setOpacity(s)},setUrl(s){return t.value.setUrl(s)},setBounds(s){return t.value.setBounds(s)},getBounds(){return t.value.getBounds()},getElement(){return t.value.getElement()},bringToFront(){return t.value.bringToFront()},bringToBack(){return t.value.bringToBack()},setZIndex(s){return t.value.setZIndex(s)}};return{options:i,methods:o}},M9=Object.freeze(Object.defineProperty({__proto__:null,imageOverlayProps:wF,setupImageOverlay:N9},Symbol.toStringTag,{value:"Module"}));function SF(e,t,r){var n,a,i;t===void 0&&(t=50),r===void 0&&(r={});var o=(n=r.isImmediate)!=null&&n,s=(a=r.callback)!=null&&a,u=r.maxWait,l=Date.now(),f=[];function d(){if(u!==void 0){var p=Date.now()-l;if(p+t>=u)return u-p}return t}var c=function(){var p=[].slice.call(arguments),_=this;return new Promise(function(v,b){var m=o&&i===void 0;if(i!==void 0&&clearTimeout(i),i=setTimeout(function(){if(i=void 0,l=Date.now(),!o){var g=e.apply(_,p);s&&s(g),f.forEach(function(S){return(0,S.resolve)(g)}),f=[]}},d()),m){var y=e.apply(_,p);return s&&s(y),v(y)}f.push({resolve:v,reject:b})})};return c.cancel=function(p){i!==void 0&&clearTimeout(i),f.forEach(function(_){return(0,_.reject)(p)}),f=[]},c}const _R={...rl,center:{type:[Object,Array]},bounds:{type:[Array,Object]},maxBounds:{type:[Array,Object]},zoom:{type:Number},minZoom:{type:Number},maxZoom:{type:Number},paddingBottomRight:{type:[Object,Array]},paddingTopLeft:{type:Object},padding:{type:Object},worldCopyJump:{type:Boolean,default:void 0},crs:{type:[String,Object]},maxBoundsViscosity:{type:Number},inertia:{type:Boolean,default:void 0},inertiaDeceleration:{type:Number},inertiaMaxSpeed:{type:Number},easeLinearity:{type:Number},zoomAnimation:{type:Boolean,default:void 0},zoomAnimationThreshold:{type:Number},fadeAnimation:{type:Boolean,default:void 0},markerZoomAnimation:{type:Boolean,default:void 0},noBlockingAnimations:{type:Boolean,default:void 0},useGlobalLeaflet:{type:Boolean,default:!0,custom:!0}},k9=Gt({inheritAttrs:!1,emits:["ready","update:zoom","update:center","update:bounds"],props:_R,setup(e,t){const r=Je(),n=Ja({ready:!1,layersToAdd:[],layersInControl:[]}),{options:a}=nl(e),i=br(e,_R,a),{listeners:o,attrs:s}=Ks(t.attrs),u=Gd(Zs),l=Gd(qh),f=Gd($S),d=Gd(oF);Wn(Go,e.useGlobalLeaflet);const c=tt(()=>{const m={};return e.noBlockingAnimations&&(m.animate=!1),m}),p=tt(()=>{const m=c.value;return e.padding&&(m.padding=e.padding),e.paddingTopLeft&&(m.paddingTopLeft=e.paddingTopLeft),e.paddingBottomRight&&(m.paddingBottomRight=e.paddingBottomRight),m}),_={moveend:SF(m=>{n.leafletRef&&(t.emit("update:zoom",n.leafletRef.getZoom()),t.emit("update:center",n.leafletRef.getCenter()),t.emit("update:bounds",n.leafletRef.getBounds()))}),overlayadd(m){const y=n.layersInControl.find(g=>g.name===m.name);y&&y.updateVisibleProp(!0)},overlayremove(m){const y=n.layersInControl.find(g=>g.name===m.name);y&&y.updateVisibleProp(!1)}};Jt(async()=>{e.useGlobalLeaflet&&(_a.L=_a.L||await Ei(()=>Promise.resolve().then(()=>u9),void 0,import.meta.url));const{map:m,CRS:y,Icon:g,latLngBounds:S,latLng:T,stamp:I}=e.useGlobalLeaflet?_a.L:await Ei(()=>import("./leaflet-src.esm-HdBnhJze.js"),[],import.meta.url);try{i.beforeMapMount&&await i.beforeMapMount()}catch(D){console.error(`The following error occurred running the provided beforeMapMount hook ${D.message}`)}await iF(g);const C=typeof i.crs=="string"?y[i.crs]:i.crs;i.crs=C||y.EPSG3857;const B={addLayer(D){D.layerType!==void 0&&(n.layerControl===void 0?n.layersToAdd.push(D):n.layersInControl.find(M=>I(M.leafletObject)===I(D.leafletObject))||(n.layerControl.addLayer(D),n.layersInControl.push(D))),D.visible!==!1&&n.leafletRef.addLayer(D.leafletObject)},removeLayer(D){D.layerType!==void 0&&(n.layerControl===void 0?n.layersToAdd=n.layersToAdd.filter(M=>M.name!==D.name):(n.layerControl.removeLayer(D.leafletObject),n.layersInControl=n.layersInControl.filter(M=>I(M.leafletObject)!==I(D.leafletObject)))),n.leafletRef.removeLayer(D.leafletObject)},registerLayerControl(D){n.layerControl=D,n.layersToAdd.forEach(M=>{n.layerControl.addLayer(M)}),n.layersToAdd=[],f(D)},registerControl(D){n.leafletRef.addControl(D.leafletObject)},setZoom(D){const M=n.leafletRef.getZoom();D!==M&&n.leafletRef.setZoom(D,c.value)},setCrs(D){const M=n.leafletRef.getBounds();n.leafletRef.options.crs=D,n.leafletRef.fitBounds(M,{animate:!1,padding:[0,0]})},fitBounds(D){n.leafletRef.fitBounds(D,p.value)},setBounds(D){if(!D)return;const M=S(D);M.isValid()&&!(n.lastSetBounds||n.leafletRef.getBounds()).equals(M,0)&&(n.lastSetBounds=M,n.leafletRef.fitBounds(M))},setCenter(D){if(D==null)return;const M=T(D),j=n.lastSetCenter||n.leafletRef.getCenter();(j.lat!==M.lat||j.lng!==M.lng)&&(n.lastSetCenter=M,n.leafletRef.panTo(M,c.value))}};Wd(u,B.addLayer),Wd(l,B.removeLayer),Wd(f,B.registerControl),Wd(d,B.registerLayerControl),n.leafletRef=Vo(m(r.value,i)),zo(B,n.leafletRef,e),Gw(n.leafletRef,_),Gw(n.leafletRef,o),n.ready=!0,xr(()=>t.emit("ready",n.leafletRef))}),Gs(()=>{qS(_),n.leafletRef&&(n.leafletRef.off(),n.leafletRef.remove())});const v=tt(()=>n.leafletRef),b=tt(()=>n.ready);return{root:r,ready:b,leafletObject:v,attrs:s}},render({attrs:e}){return e.style||(e.style={}),e.style.width||(e.style.width="100%"),e.style.height||(e.style.height="100%"),to("div",{...e,ref:"root"},this.ready&&this.$slots.default?this.$slots.default():{})}}),F9=["Symbol(Comment)","Symbol(Text)"],j9=["LTooltip","LPopup"],JS={...Ys,draggable:{type:Boolean,default:void 0},icon:{type:[Object]},zIndexOffset:{type:Number},latLng:{type:[Object,Array],custom:!0,required:!0}},EF=(e,t,r)=>{const{options:n,methods:a}=il(e,t,r),i=br(e,JS,n),o={...a,setDraggable(s){t.value.dragging&&(s?t.value.dragging.enable():t.value.dragging.disable())},latLngSync(s){r.emit("update:latLng",s.latlng),r.emit("update:lat-lng",s.latlng)},setLatLng(s){if(s!=null&&t.value){const u=t.value.getLatLng();(!u||!u.equals(s))&&t.value.setLatLng(s)}}};return{options:i,methods:o}},xF=(e,t)=>{const r=t.slots.default&&t.slots.default();return r&&r.length&&r.some(B9)};function B9(e){return!(F9.includes(e.type.toString())||j9.includes(e.type.name))}const q9=Object.freeze(Object.defineProperty({__proto__:null,markerProps:JS,setupMarker:EF,shouldBlankIcon:xF},Symbol.toStringTag,{value:"Module"})),$9=Gt({name:"LMarker",props:JS,setup(e,t){const r=Je(),n=Je(!1),a=ni(Go),i=Kn(Zs);Wn(US,()=>{var l;return!!((l=r.value)!=null&&l.getElement())}),Wn(HS,l=>{var f,d;const c=Ua((f=r.value)==null?void 0:f.getElement)&&((d=r.value)==null?void 0:d.getElement());c&&(c.innerHTML=l)}),Wn(VS,l=>{var f;return((f=r.value)==null?void 0:f.setIcon)&&r.value.setIcon(l)});const{options:o,methods:s}=EF(e,r,t),u={moveHandler:SF(s.latLngSync)};return Jt(async()=>{const{marker:l,divIcon:f}=a?_a.L:await Ei(()=>import("./leaflet-src.esm-HdBnhJze.js"),[],import.meta.url);xF(o,t)&&(o.icon=f({className:""})),r.value=Vo(l(e.latLng,o));const{listeners:d}=Ks(t.attrs);r.value.on(d),r.value.on("move",u.moveHandler),zo(s,r.value,e),i({...e,...s,leafletObject:r.value}),n.value=!0,xr(()=>t.emit("ready",r.value))}),Gs(()=>qS(u)),{ready:n,leafletObject:r}},render(){return lF(this.ready,this.$slots)}}),eE={...y0,smoothFactor:{type:Number},noClip:{type:Boolean,default:void 0},latLngs:{type:Array,required:!0,custom:!0}},TF=(e,t,r)=>{const{options:n,methods:a}=ZS(e,t,r),i=br(e,eE,n),o={...a,setSmoothFactor(s){t.value.setStyle({smoothFactor:s})},setNoClip(s){t.value.setStyle({noClip:s})},addLatLng(s){t.value.addLatLng(s)}};return{options:i,methods:o}},U9=Object.freeze(Object.defineProperty({__proto__:null,polylineProps:eE,setupPolyline:TF},Symbol.toStringTag,{value:"Module"})),Gm={...eE},RF=(e,t,r)=>{const{options:n,methods:a}=TF(e,t,r),i=br(e,Gm,n),o={...a,toGeoJSON(s){return t.value.toGeoJSON(s)}};return{options:i,methods:o}},H9=Object.freeze(Object.defineProperty({__proto__:null,polygonProps:Gm,setupPolygon:RF},Symbol.toStringTag,{value:"Module"})),tE={...rl,content:{type:String,default:null}},rE=(e,t)=>{const{options:r,methods:n}=nl(e),a={...n,setContent(i){t.value&&i!==null&&i!==void 0&&t.value.setContent(i)}};return{options:r,methods:a}},AF=e=>e.default?to("div",{ref:"root"},e.default()):null,V9=Object.freeze(Object.defineProperty({__proto__:null,popperProps:tE,render:AF,setupPopper:rE},Symbol.toStringTag,{value:"Module"})),IF={...tE,latLng:{type:[Object,Array],default:()=>[]}},OF=(e,t)=>{const{options:r,methods:n}=rE(e,t);return{options:r,methods:n}},z9=Object.freeze(Object.defineProperty({__proto__:null,popupProps:IF,setupPopup:OF},Symbol.toStringTag,{value:"Module"})),G9=Gt({name:"LPopup",props:IF,setup(e,t){const r=Je(),n=Je(null),a=ni(Go),i=Kn(zS),o=Kn(GS),{options:s,methods:u}=OF(e,r);return Jt(async()=>{const{popup:l}=a?_a.L:await Ei(()=>import("./leaflet-src.esm-HdBnhJze.js"),[],import.meta.url);r.value=Vo(l(s)),e.latLng!==void 0&&r.value.setLatLng(e.latLng),zo(u,r.value,e);const{listeners:f}=Ks(t.attrs);r.value.on(f),r.value.setContent(e.content||n.value||""),i(r.value),xr(()=>t.emit("ready",r.value))}),Gs(()=>{o()}),{root:n,leafletObject:r}},render(){return AF(this.$slots)}}),PF={...Gm,latLngs:{...Gm.latLngs,required:!1},bounds:{type:Object,custom:!0}},W9=(e,t,r)=>{const{options:n,methods:a}=RF(e,t,r),i=br(e,PF,n),o={...a,setBounds(s){t.value.setBounds(s)},setLatLngs(s){t.value.setBounds(s)}};return{options:i,methods:o}},K9=Object.freeze(Object.defineProperty({__proto__:null,rectangleProps:PF,setupRectangle:W9},Symbol.toStringTag,{value:"Module"})),b0={..._0,tms:{type:Boolean,default:void 0},subdomains:{type:[String,Array],validator:e=>typeof e=="string"?!0:Array.isArray(e)?e.every(t=>typeof t=="string"):!1},detectRetina:{type:Boolean,default:void 0},url:{type:String,required:!0,custom:!0}},nE=(e,t,r)=>{const{options:n,methods:a}=XS(e,t,r),i=br(e,b0,n),o={...a};return{options:i,methods:o}},Z9=Object.freeze(Object.defineProperty({__proto__:null,setupTileLayer:nE,tileLayerProps:b0},Symbol.toStringTag,{value:"Module"})),Y9=Gt({props:b0,setup(e,t){const r=Je(),n=ni(Go),a=Kn(Zs),{options:i,methods:o}=nE(e,r,t);return Jt(async()=>{const{tileLayer:s}=n?_a.L:await Ei(()=>import("./leaflet-src.esm-HdBnhJze.js"),[],import.meta.url);r.value=Vo(s(e.url,i));const{listeners:u}=Ks(t.attrs);r.value.on(u),zo(o,r.value,e),a({...e,...o,leafletObject:r.value}),xr(()=>t.emit("ready",r.value))}),{leafletObject:r}},render(){return null}}),Q9={...tE},X9=(e,t)=>{const{options:r,methods:n}=rE(e,t),a=Kn(WS);return Gs(()=>{a()}),{options:r,methods:n}},J9=Object.freeze(Object.defineProperty({__proto__:null,setupTooltip:X9,tooltipProps:Q9},Symbol.toStringTag,{value:"Module"})),CF={...b0,layers:{type:String,required:!0},styles:{type:String},format:{type:String},transparent:{type:Boolean,default:void 0},version:{type:String},crs:{type:Object},uppercase:{type:Boolean,default:void 0}},e7=(e,t,r)=>{const{options:n,methods:a}=nE(e,t,r);return{options:br(e,CF,n),methods:{...a}}},t7=Object.freeze(Object.defineProperty({__proto__:null,setupWMSTileLayer:e7,wmsTileLayerProps:CF},Symbol.toStringTag,{value:"Module"})),LF=Object.freeze(Object.defineProperty({__proto__:null,Circle:g9,CircleMarker:m9,Component:c9,Control:_9,ControlAttribution:v9,ControlLayers:S9,ControlScale:x9,ControlZoom:R9,FeatureGroup:O9,GeoJSON:C9,GridLayer:L9,Icon:D9,ImageOverlay:M9,InteractiveLayer:h9,Layer:d9,LayerGroup:A9,Marker:q9,Path:p9,Polygon:H9,Polyline:U9,Popper:V9,Popup:z9,Rectangle:K9,TileLayer:Z9,Tooltip:J9,WmsTileLayer:t7},Symbol.toStringTag,{value:"Module"}));var r7=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Ro<"u"?Ro:typeof self<"u"?self:{},bR={exports:{}};(function(e,t){(function(r,n){n(t)})(r7,function(r){var n=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(i){L.Util.setOptions(this,i),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var o=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,o?this._withAnimation:this._noAnimation),this._markerCluster=o?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(i){if(i instanceof L.LayerGroup)return this.addLayers([i]);if(!i.getLatLng)return this._nonPointGroup.addLayer(i),this.fire("layeradd",{layer:i}),this;if(!this._map)return this._needsClustering.push(i),this.fire("layeradd",{layer:i}),this;if(this.hasLayer(i))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(i,this._maxZoom),this.fire("layeradd",{layer:i}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var o=i,s=this._zoom;if(i.__parent)for(;o.__parent._zoom>=s;)o=o.__parent;return this._currentShownBounds.contains(o.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(i,o):this._animationAddLayerNonAnimated(i,o)),this},removeLayer:function(i){return i instanceof L.LayerGroup?this.removeLayers([i]):i.getLatLng?this._map?i.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(i)),this._removeLayer(i,!0),this.fire("layerremove",{layer:i}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),i.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(i)&&(this._featureGroup.removeLayer(i),i.clusterShow&&i.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,i)&&this.hasLayer(i)&&this._needsRemoving.push({layer:i,latlng:i._latlng}),this.fire("layerremove",{layer:i}),this):(this._nonPointGroup.removeLayer(i),this.fire("layerremove",{layer:i}),this)},addLayers:function(i,o){if(!L.Util.isArray(i))return this.addLayer(i);var s=this._featureGroup,u=this._nonPointGroup,l=this.options.chunkedLoading,f=this.options.chunkInterval,d=this.options.chunkProgress,c=i.length,p=0,_=!0,v;if(this._map){var b=new Date().getTime(),m=L.bind(function(){var g=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();p<c;p++){if(l&&p%200===0){var S=new Date().getTime()-g;if(S>f)break}if(v=i[p],v instanceof L.LayerGroup){_&&(i=i.slice(),_=!1),this._extractNonGroupLayers(v,i),c=i.length;continue}if(!v.getLatLng){u.addLayer(v),o||this.fire("layeradd",{layer:v});continue}if(!this.hasLayer(v)&&(this._addLayer(v,this._maxZoom),o||this.fire("layeradd",{layer:v}),v.__parent&&v.__parent.getChildCount()===2)){var T=v.__parent.getAllChildMarkers(),I=T[0]===v?T[1]:T[0];s.removeLayer(I)}}d&&d(p,c,new Date().getTime()-b),p===c?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(m,this.options.chunkDelay)},this);m()}else for(var y=this._needsClustering;p<c;p++){if(v=i[p],v instanceof L.LayerGroup){_&&(i=i.slice(),_=!1),this._extractNonGroupLayers(v,i),c=i.length;continue}if(!v.getLatLng){u.addLayer(v);continue}this.hasLayer(v)||y.push(v)}return this},removeLayers:function(i){var o,s,u=i.length,l=this._featureGroup,f=this._nonPointGroup,d=!0;if(!this._map){for(o=0;o<u;o++){if(s=i[o],s instanceof L.LayerGroup){d&&(i=i.slice(),d=!1),this._extractNonGroupLayers(s,i),u=i.length;continue}this._arraySplice(this._needsClustering,s),f.removeLayer(s),this.hasLayer(s)&&this._needsRemoving.push({layer:s,latlng:s._latlng}),this.fire("layerremove",{layer:s})}return this}if(this._unspiderfy){this._unspiderfy();var c=i.slice(),p=u;for(o=0;o<p;o++){if(s=c[o],s instanceof L.LayerGroup){this._extractNonGroupLayers(s,c),p=c.length;continue}this._unspiderfyLayer(s)}}for(o=0;o<u;o++){if(s=i[o],s instanceof L.LayerGroup){d&&(i=i.slice(),d=!1),this._extractNonGroupLayers(s,i),u=i.length;continue}if(!s.__parent){f.removeLayer(s),this.fire("layerremove",{layer:s});continue}this._removeLayer(s,!0,!0),this.fire("layerremove",{layer:s}),l.hasLayer(s)&&(l.removeLayer(s),s.clusterShow&&s.clusterShow())}return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(i){i.off(this._childMarkerEventHandlers,this),delete i.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var i=new L.LatLngBounds;this._topClusterLevel&&i.extend(this._topClusterLevel._bounds);for(var o=this._needsClustering.length-1;o>=0;o--)i.extend(this._needsClustering[o].getLatLng());return i.extend(this._nonPointGroup.getBounds()),i},eachLayer:function(i,o){var s=this._needsClustering.slice(),u=this._needsRemoving,l,f,d;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(s),f=s.length-1;f>=0;f--){for(l=!0,d=u.length-1;d>=0;d--)if(u[d].layer===s[f]){l=!1;break}l&&i.call(o,s[f])}this._nonPointGroup.eachLayer(i,o)},getLayers:function(){var i=[];return this.eachLayer(function(o){i.push(o)}),i},getLayer:function(i){var o=null;return i=parseInt(i,10),this.eachLayer(function(s){L.stamp(s)===i&&(o=s)}),o},hasLayer:function(i){if(!i)return!1;var o,s=this._needsClustering;for(o=s.length-1;o>=0;o--)if(s[o]===i)return!0;for(s=this._needsRemoving,o=s.length-1;o>=0;o--)if(s[o].layer===i)return!1;return!!(i.__parent&&i.__parent._group===this)||this._nonPointGroup.hasLayer(i)},zoomToShowLayer:function(i,o){var s=this._map;typeof o!="function"&&(o=function(){});var u=function(){(s.hasLayer(i)||s.hasLayer(i.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",u,this),this.off("animationend",u,this),s.hasLayer(i)?o():i.__parent._icon&&(this.once("spiderfied",o,this),i.__parent.spiderfy()))};i._icon&&this._map.getBounds().contains(i.getLatLng())?o():i.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",u,this),this._map.panTo(i.getLatLng())):(this._map.on("moveend",u,this),this.on("animationend",u,this),i.__parent.zoomToBounds())},onAdd:function(i){this._map=i;var o,s,u;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(i),this._nonPointGroup.addTo(i),this._gridClusters||this._generateInitialClusters(),this._maxLat=i.options.crs.projection.MAX_LATITUDE,o=0,s=this._needsRemoving.length;o<s;o++)u=this._needsRemoving[o],u.newlatlng=u.layer._latlng,u.layer._latlng=u.latlng;for(o=0,s=this._needsRemoving.length;o<s;o++)u=this._needsRemoving[o],this._removeLayer(u.layer,!0),u.layer._latlng=u.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),s=this._needsClustering,this._needsClustering=[],this.addLayers(s,!0)},onRemove:function(i){i.off("zoomend",this._zoomEnd,this),i.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(i){for(var o=i;o&&!o._icon;)o=o.__parent;return o||null},_arraySplice:function(i,o){for(var s=i.length-1;s>=0;s--)if(i[s]===o)return i.splice(s,1),!0},_removeFromGridUnclustered:function(i,o){for(var s=this._map,u=this._gridUnclustered,l=Math.floor(this._map.getMinZoom());o>=l&&u[o].removeObject(i,s.project(i.getLatLng(),o));o--);},_childMarkerDragStart:function(i){i.target.__dragStart=i.target._latlng},_childMarkerMoved:function(i){if(!this._ignoreMove&&!i.target.__dragStart){var o=i.target._popup&&i.target._popup.isOpen();this._moveChild(i.target,i.oldLatLng,i.latlng),o&&i.target.openPopup()}},_moveChild:function(i,o,s){i._latlng=o,this.removeLayer(i),i._latlng=s,this.addLayer(i)},_childMarkerDragEnd:function(i){var o=i.target.__dragStart;delete i.target.__dragStart,o&&this._moveChild(i.target,o,i.target._latlng)},_removeLayer:function(i,o,s){var u=this._gridClusters,l=this._gridUnclustered,f=this._featureGroup,d=this._map,c=Math.floor(this._map.getMinZoom());o&&this._removeFromGridUnclustered(i,this._maxZoom);var p=i.__parent,_=p._markers,v;for(this._arraySplice(_,i);p&&(p._childCount--,p._boundsNeedUpdate=!0,!(p._zoom<c));)o&&p._childCount<=1?(v=p._markers[0]===i?p._markers[1]:p._markers[0],u[p._zoom].removeObject(p,d.project(p._cLatLng,p._zoom)),l[p._zoom].addObject(v,d.project(v.getLatLng(),p._zoom)),this._arraySplice(p.__parent._childClusters,p),p.__parent._markers.push(v),v.__parent=p.__parent,p._icon&&(f.removeLayer(p),s||f.addLayer(v))):p._iconNeedsUpdate=!0,p=p.__parent;delete i.__parent},_isOrIsParent:function(i,o){for(;o;){if(i===o)return!0;o=o.parentNode}return!1},fire:function(i,o,s){if(o&&o.layer instanceof L.MarkerCluster){if(o.originalEvent&&this._isOrIsParent(o.layer._icon,o.originalEvent.relatedTarget))return;i="cluster"+i}L.FeatureGroup.prototype.fire.call(this,i,o,s)},listens:function(i,o){return L.FeatureGroup.prototype.listens.call(this,i,o)||L.FeatureGroup.prototype.listens.call(this,"cluster"+i,o)},_defaultIconCreateFunction:function(i){var o=i.getChildCount(),s=" marker-cluster-";return o<10?s+="small":o<100?s+="medium":s+="large",new L.DivIcon({html:"<div><span>"+o+"</span></div>",className:"marker-cluster"+s,iconSize:new L.Point(40,40)})},_bindEvents:function(){var i=this._map,o=this.options.spiderfyOnMaxZoom,s=this.options.showCoverageOnHover,u=this.options.zoomToBoundsOnClick,l=this.options.spiderfyOnEveryZoom;(o||u||l)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),s&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),i.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(i){var o=i.layer,s=o;if(!(i.type==="clusterkeypress"&&i.originalEvent&&i.originalEvent.keyCode!==13)){for(;s._childClusters.length===1;)s=s._childClusters[0];s._zoom===this._maxZoom&&s._childCount===o._childCount&&this.options.spiderfyOnMaxZoom?o.spiderfy():this.options.zoomToBoundsOnClick&&o.zoomToBounds(),this.options.spiderfyOnEveryZoom&&o.spiderfy(),i.originalEvent&&i.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(i){var o=this._map;this._inZoomAnimation||(this._shownPolygon&&o.removeLayer(this._shownPolygon),i.layer.getChildCount()>2&&i.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(i.layer.getConvexHull(),this.options.polygonOptions),o.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var i=this.options.spiderfyOnMaxZoom,o=this.options.showCoverageOnHover,s=this.options.zoomToBoundsOnClick,u=this.options.spiderfyOnEveryZoom,l=this._map;(i||s||u)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),o&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),l.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var i=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,i),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),i),this._currentShownBounds=i}},_generateInitialClusters:function(){var i=Math.ceil(this._map.getMaxZoom()),o=Math.floor(this._map.getMinZoom()),s=this.options.maxClusterRadius,u=s;typeof s!="function"&&(u=function(){return s}),this.options.disableClusteringAtZoom!==null&&(i=this.options.disableClusteringAtZoom-1),this._maxZoom=i,this._gridClusters={},this._gridUnclustered={};for(var l=i;l>=o;l--)this._gridClusters[l]=new L.DistanceGrid(u(l)),this._gridUnclustered[l]=new L.DistanceGrid(u(l));this._topClusterLevel=new this._markerCluster(this,o-1)},_addLayer:function(i,o){var s=this._gridClusters,u=this._gridUnclustered,l=Math.floor(this._map.getMinZoom()),f,d;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(i),i.on(this._childMarkerEventHandlers,this);o>=l;o--){f=this._map.project(i.getLatLng(),o);var c=s[o].getNearObject(f);if(c){c._addChild(i),i.__parent=c;return}if(c=u[o].getNearObject(f),c){var p=c.__parent;p&&this._removeLayer(c,!1);var _=new this._markerCluster(this,o,c,i);s[o].addObject(_,this._map.project(_._cLatLng,o)),c.__parent=_,i.__parent=_;var v=_;for(d=o-1;d>p._zoom;d--)v=new this._markerCluster(this,d,v),s[d].addObject(v,this._map.project(c.getLatLng(),d));p._addChild(v),this._removeFromGridUnclustered(c,o);return}u[o].addObject(i,f)}this._topClusterLevel._addChild(i),i.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(i){i instanceof L.MarkerCluster&&i._iconNeedsUpdate&&i._updateIcon()})},_enqueue:function(i){this._queue.push(i),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var i=0;i<this._queue.length;i++)this._queue[i].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var i=Math.round(this._map._zoom);this._processQueue(),this._zoom<i&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,i)):this._zoom>i?(this._animationStart(),this._animationZoomOut(this._zoom,i)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(this.options.removeOutsideVisibleBounds){if(L.Browser.mobile)return this._checkBoundsMaxLat(this._map.getBounds())}else return this._mapBoundsInfinite;return this._checkBoundsMaxLat(this._map.getBounds().pad(1))},_checkBoundsMaxLat:function(i){var o=this._maxLat;return o!==void 0&&(i.getNorth()>=o&&(i._northEast.lat=1/0),i.getSouth()<=-o&&(i._southWest.lat=-1/0)),i},_animationAddLayerNonAnimated:function(i,o){if(o===i)this._featureGroup.addLayer(i);else if(o._childCount===2){o._addToMap();var s=o.getAllChildMarkers();this._featureGroup.removeLayer(s[0]),this._featureGroup.removeLayer(s[1])}else o._updateIcon()},_extractNonGroupLayers:function(i,o){var s=i.getLayers(),u=0,l;for(o=o||[];u<s.length;u++){if(l=s[u],l instanceof L.LayerGroup){this._extractNonGroupLayers(l,o);continue}o.push(l)}return o},_overrideMarkerIcon:function(i){var o=i.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[i]}});return o}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(i,o){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),i),this._topClusterLevel._recursivelyAddChildrenToMap(null,o,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(i,o){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),i),this._topClusterLevel._recursivelyAddChildrenToMap(null,o,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(i,o){this._animationAddLayerNonAnimated(i,o)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(i,o){var s=this._getExpandedVisibleBounds(),u=this._featureGroup,l=Math.floor(this._map.getMinZoom()),f;this._ignoreMove=!0,this._topClusterLevel._recursively(s,i,l,function(d){var c=d._latlng,p=d._markers,_;for(s.contains(c)||(c=null),d._isSingleParent()&&i+1===o?(u.removeLayer(d),d._recursivelyAddChildrenToMap(null,o,s)):(d.clusterHide(),d._recursivelyAddChildrenToMap(c,o,s)),f=p.length-1;f>=0;f--)_=p[f],s.contains(_._latlng)||u.removeLayer(_)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(s,o),u.eachLayer(function(d){!(d instanceof L.MarkerCluster)&&d._icon&&d.clusterShow()}),this._topClusterLevel._recursively(s,i,o,function(d){d._recursivelyRestoreChildPositions(o)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(s,i,l,function(d){u.removeLayer(d),d.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(i,o){this._animationZoomOutSingle(this._topClusterLevel,i-1,o),this._topClusterLevel._recursivelyAddChildrenToMap(null,o,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),i,this._getExpandedVisibleBounds())},_animationAddLayer:function(i,o){var s=this,u=this._featureGroup;u.addLayer(i),o!==i&&(o._childCount>2?(o._updateIcon(),this._forceLayout(),this._animationStart(),i._setPos(this._map.latLngToLayerPoint(o.getLatLng())),i.clusterHide(),this._enqueue(function(){u.removeLayer(i),i.clusterShow(),s._animationEnd()})):(this._forceLayout(),s._animationStart(),s._animationZoomOutSingle(o,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(i,o,s){var u=this._getExpandedVisibleBounds(),l=Math.floor(this._map.getMinZoom());i._recursivelyAnimateChildrenInAndAddSelfToMap(u,l,o+1,s);var f=this;this._forceLayout(),i._recursivelyBecomeVisible(u,s),this._enqueue(function(){if(i._childCount===1){var d=i._markers[0];this._ignoreMove=!0,d.setLatLng(d.getLatLng()),this._ignoreMove=!1,d.clusterShow&&d.clusterShow()}else i._recursively(u,s,l,function(c){c._recursivelyRemoveChildrenFromMap(u,l,o+1)});f._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(i){return new L.MarkerClusterGroup(i)};var a=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(i,o,s,u){L.Marker.prototype.initialize.call(this,s?s._cLatLng||s.getLatLng():new L.LatLng(0,0),{icon:this,pane:i.options.clusterPane}),this._group=i,this._zoom=o,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,s&&this._addChild(s),u&&this._addChild(u)},getAllChildMarkers:function(i,o){i=i||[];for(var s=this._childClusters.length-1;s>=0;s--)this._childClusters[s].getAllChildMarkers(i,o);for(var u=this._markers.length-1;u>=0;u--)o&&this._markers[u].__dragStart||i.push(this._markers[u]);return i},getChildCount:function(){return this._childCount},zoomToBounds:function(i){for(var o=this._childClusters.slice(),s=this._group._map,u=s.getBoundsZoom(this._bounds),l=this._zoom+1,f=s.getZoom(),d;o.length>0&&u>l;){l++;var c=[];for(d=0;d<o.length;d++)c=c.concat(o[d]._childClusters);o=c}u>l?this._group._map.setView(this._latlng,l):u<=f?this._group._map.setView(this._latlng,f+1):this._group._map.fitBounds(this._bounds,i)},getBounds:function(){var i=new L.LatLngBounds;return i.extend(this._bounds),i},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(i,o){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(i),i instanceof L.MarkerCluster?(o||(this._childClusters.push(i),i.__parent=this),this._childCount+=i._childCount):(o||this._markers.push(i),this._childCount++),this.__parent&&this.__parent._addChild(i,!0)},_setClusterCenter:function(i){this._cLatLng||(this._cLatLng=i._cLatLng||i._latlng)},_resetBounds:function(){var i=this._bounds;i._southWest&&(i._southWest.lat=1/0,i._southWest.lng=1/0),i._northEast&&(i._northEast.lat=-1/0,i._northEast.lng=-1/0)},_recalculateBounds:function(){var i=this._markers,o=this._childClusters,s=0,u=0,l=this._childCount,f,d,c,p;if(l!==0){for(this._resetBounds(),f=0;f<i.length;f++)c=i[f]._latlng,this._bounds.extend(c),s+=c.lat,u+=c.lng;for(f=0;f<o.length;f++)d=o[f],d._boundsNeedUpdate&&d._recalculateBounds(),this._bounds.extend(d._bounds),c=d._wLatLng,p=d._childCount,s+=c.lat*p,u+=c.lng*p;this._latlng=this._wLatLng=new L.LatLng(s/l,u/l),this._boundsNeedUpdate=!1}},_addToMap:function(i){i&&(this._backupLatlng=this._latlng,this.setLatLng(i)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(i,o,s){this._recursively(i,this._group._map.getMinZoom(),s-1,function(u){var l=u._markers,f,d;for(f=l.length-1;f>=0;f--)d=l[f],d._icon&&(d._setPos(o),d.clusterHide())},function(u){var l=u._childClusters,f,d;for(f=l.length-1;f>=0;f--)d=l[f],d._icon&&(d._setPos(o),d.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(i,o,s,u){this._recursively(i,u,o,function(l){l._recursivelyAnimateChildrenIn(i,l._group._map.latLngToLayerPoint(l.getLatLng()).round(),s),l._isSingleParent()&&s-1===u?(l.clusterShow(),l._recursivelyRemoveChildrenFromMap(i,o,s)):l.clusterHide(),l._addToMap()})},_recursivelyBecomeVisible:function(i,o){this._recursively(i,this._group._map.getMinZoom(),o,null,function(s){s.clusterShow()})},_recursivelyAddChildrenToMap:function(i,o,s){this._recursively(s,this._group._map.getMinZoom()-1,o,function(u){if(o!==u._zoom)for(var l=u._markers.length-1;l>=0;l--){var f=u._markers[l];s.contains(f._latlng)&&(i&&(f._backupLatlng=f.getLatLng(),f.setLatLng(i),f.clusterHide&&f.clusterHide()),u._group._featureGroup.addLayer(f))}},function(u){u._addToMap(i)})},_recursivelyRestoreChildPositions:function(i){for(var o=this._markers.length-1;o>=0;o--){var s=this._markers[o];s._backupLatlng&&(s.setLatLng(s._backupLatlng),delete s._backupLatlng)}if(i-1===this._zoom)for(var u=this._childClusters.length-1;u>=0;u--)this._childClusters[u]._restorePosition();else for(var l=this._childClusters.length-1;l>=0;l--)this._childClusters[l]._recursivelyRestoreChildPositions(i)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(i,o,s,u){var l,f;this._recursively(i,o-1,s-1,function(d){for(f=d._markers.length-1;f>=0;f--)l=d._markers[f],(!u||!u.contains(l._latlng))&&(d._group._featureGroup.removeLayer(l),l.clusterShow&&l.clusterShow())},function(d){for(f=d._childClusters.length-1;f>=0;f--)l=d._childClusters[f],(!u||!u.contains(l._latlng))&&(d._group._featureGroup.removeLayer(l),l.clusterShow&&l.clusterShow())})},_recursively:function(i,o,s,u,l){var f=this._childClusters,d=this._zoom,c,p;if(o<=d&&(u&&u(this),l&&d===s&&l(this)),d<o||d<s)for(c=f.length-1;c>=0;c--)p=f[c],p._boundsNeedUpdate&&p._recalculateBounds(),i.intersects(p._bounds)&&p._recursively(i,o,s,u,l)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var i=this.options.opacity;return this.setOpacity(0),this.options.opacity=i,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(i){this._cellSize=i,this._sqCellSize=i*i,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(i,o){var s=this._getCoord(o.x),u=this._getCoord(o.y),l=this._grid,f=l[u]=l[u]||{},d=f[s]=f[s]||[],c=L.Util.stamp(i);this._objectPoint[c]=o,d.push(i)},updateObject:function(i,o){this.removeObject(i),this.addObject(i,o)},removeObject:function(i,o){var s=this._getCoord(o.x),u=this._getCoord(o.y),l=this._grid,f=l[u]=l[u]||{},d=f[s]=f[s]||[],c,p;for(delete this._objectPoint[L.Util.stamp(i)],c=0,p=d.length;c<p;c++)if(d[c]===i)return d.splice(c,1),p===1&&delete f[s],!0},eachObject:function(i,o){var s,u,l,f,d,c,p,_=this._grid;for(s in _){d=_[s];for(u in d)for(c=d[u],l=0,f=c.length;l<f;l++)p=i.call(o,c[l]),p&&(l--,f--)}},getNearObject:function(i){var o=this._getCoord(i.x),s=this._getCoord(i.y),u,l,f,d,c,p,_,v,b=this._objectPoint,m=this._sqCellSize,y=null;for(u=s-1;u<=s+1;u++)if(d=this._grid[u],d){for(l=o-1;l<=o+1;l++)if(c=d[l],c)for(f=0,p=c.length;f<p;f++)_=c[f],v=this._sqDist(b[L.Util.stamp(_)],i),(v<m||v<=m&&y===null)&&(m=v,y=_)}return y},_getCoord:function(i){var o=Math.floor(i/this._cellSize);return isFinite(o)?o:i},_sqDist:function(i,o){var s=o.x-i.x,u=o.y-i.y;return s*s+u*u}},function(){L.QuickHull={getDistant:function(i,o){var s=o[1].lat-o[0].lat,u=o[0].lng-o[1].lng;return u*(i.lat-o[0].lat)+s*(i.lng-o[0].lng)},findMostDistantPointFromBaseLine:function(i,o){var s=0,u=null,l=[],f,d,c;for(f=o.length-1;f>=0;f--){if(d=o[f],c=this.getDistant(d,i),c>0)l.push(d);else continue;c>s&&(s=c,u=d)}return{maxPoint:u,newPoints:l}},buildConvexHull:function(i,o){var s=[],u=this.findMostDistantPointFromBaseLine(i,o);return u.maxPoint?(s=s.concat(this.buildConvexHull([i[0],u.maxPoint],u.newPoints)),s=s.concat(this.buildConvexHull([u.maxPoint,i[1]],u.newPoints)),s):[i[0]]},getConvexHull:function(i){var o=!1,s=!1,u=!1,l=!1,f=null,d=null,c=null,p=null,_=null,v=null,b;for(b=i.length-1;b>=0;b--){var m=i[b];(o===!1||m.lat>o)&&(f=m,o=m.lat),(s===!1||m.lat<s)&&(d=m,s=m.lat),(u===!1||m.lng>u)&&(c=m,u=m.lng),(l===!1||m.lng<l)&&(p=m,l=m.lng)}s!==o?(v=d,_=f):(v=p,_=c);var y=[].concat(this.buildConvexHull([v,_],i),this.buildConvexHull([_,v],i));return y}}}(),L.MarkerCluster.include({getConvexHull:function(){var i=this.getAllChildMarkers(),o=[],s,u;for(u=i.length-1;u>=0;u--)s=i[u].getLatLng(),o.push(s);return L.QuickHull.getConvexHull(o)}}),L.MarkerCluster.include({_2PI:Math.PI*2,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(!(this._group._spiderfied===this||this._group._inZoomAnimation)){var i=this.getAllChildMarkers(null,!0),o=this._group,s=o._map,u=s.latLngToLayerPoint(this._latlng),l;this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?l=this._group.options.spiderfyShapePositions(i.length,u):i.length>=this._circleSpiralSwitchover?l=this._generatePointsSpiral(i.length,u):(u.y+=10,l=this._generatePointsCircle(i.length,u)),this._animationSpiderfy(i,l)}},unspiderfy:function(i){this._group._inZoomAnimation||(this._animationUnspiderfy(i),this._group._spiderfied=null)},_generatePointsCircle:function(i,o){var s=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+i),u=s/this._2PI,l=this._2PI/i,f=[],d,c;for(u=Math.max(u,35),f.length=i,d=0;d<i;d++)c=this._circleStartAngle+d*l,f[d]=new L.Point(o.x+u*Math.cos(c),o.y+u*Math.sin(c))._round();return f},_generatePointsSpiral:function(i,o){var s=this._group.options.spiderfyDistanceMultiplier,u=s*this._spiralLengthStart,l=s*this._spiralFootSeparation,f=s*this._spiralLengthFactor*this._2PI,d=0,c=[],p;for(c.length=i,p=i;p>=0;p--)p<i&&(c[p]=new L.Point(o.x+u*Math.cos(d),o.y+u*Math.sin(d))._round()),d+=l/u+p*5e-4,u+=f/d;return c},_noanimationUnspiderfy:function(){var i=this._group,o=i._map,s=i._featureGroup,u=this.getAllChildMarkers(null,!0),l,f;for(i._ignoreMove=!0,this.setOpacity(1),f=u.length-1;f>=0;f--)l=u[f],s.removeLayer(l),l._preSpiderfyLatlng&&(l.setLatLng(l._preSpiderfyLatlng),delete l._preSpiderfyLatlng),l.setZIndexOffset&&l.setZIndexOffset(0),l._spiderLeg&&(o.removeLayer(l._spiderLeg),delete l._spiderLeg);i.fire("unspiderfied",{cluster:this,markers:u}),i._ignoreMove=!1,i._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(i,o){var s=this._group,u=s._map,l=s._featureGroup,f=this._group.options.spiderLegPolylineOptions,d,c,p,_;for(s._ignoreMove=!0,d=0;d<i.length;d++)_=u.layerPointToLatLng(o[d]),c=i[d],p=new L.Polyline([this._latlng,_],f),u.addLayer(p),c._spiderLeg=p,c._preSpiderfyLatlng=c._latlng,c.setLatLng(_),c.setZIndexOffset&&c.setZIndexOffset(1e6),l.addLayer(c);this.setOpacity(.3),s._ignoreMove=!1,s.fire("spiderfied",{cluster:this,markers:i})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(i,o){var s=this,u=this._group,l=u._map,f=u._featureGroup,d=this._latlng,c=l.latLngToLayerPoint(d),p=L.Path.SVG,_=L.extend({},this._group.options.spiderLegPolylineOptions),v=_.opacity,b,m,y,g,S,T;for(v===void 0&&(v=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),p?(_.opacity=0,_.className=(_.className||"")+" leaflet-cluster-spider-leg"):_.opacity=v,u._ignoreMove=!0,b=0;b<i.length;b++)m=i[b],T=l.layerPointToLatLng(o[b]),y=new L.Polyline([d,T],_),l.addLayer(y),m._spiderLeg=y,p&&(g=y._path,S=g.getTotalLength()+.1,g.style.strokeDasharray=S,g.style.strokeDashoffset=S),m.setZIndexOffset&&m.setZIndexOffset(1e6),m.clusterHide&&m.clusterHide(),f.addLayer(m),m._setPos&&m._setPos(c);for(u._forceLayout(),u._animationStart(),b=i.length-1;b>=0;b--)T=l.layerPointToLatLng(o[b]),m=i[b],m._preSpiderfyLatlng=m._latlng,m.setLatLng(T),m.clusterShow&&m.clusterShow(),p&&(y=m._spiderLeg,g=y._path,g.style.strokeDashoffset=0,y.setStyle({opacity:v}));this.setOpacity(.3),u._ignoreMove=!1,setTimeout(function(){u._animationEnd(),u.fire("spiderfied",{cluster:s,markers:i})},200)},_animationUnspiderfy:function(i){var o=this,s=this._group,u=s._map,l=s._featureGroup,f=i?u._latLngToNewLayerPoint(this._latlng,i.zoom,i.center):u.latLngToLayerPoint(this._latlng),d=this.getAllChildMarkers(null,!0),c=L.Path.SVG,p,_,v,b,m,y;for(s._ignoreMove=!0,s._animationStart(),this.setOpacity(1),_=d.length-1;_>=0;_--)p=d[_],p._preSpiderfyLatlng&&(p.closePopup(),p.setLatLng(p._preSpiderfyLatlng),delete p._preSpiderfyLatlng,y=!0,p._setPos&&(p._setPos(f),y=!1),p.clusterHide&&(p.clusterHide(),y=!1),y&&l.removeLayer(p),c&&(v=p._spiderLeg,b=v._path,m=b.getTotalLength()+.1,b.style.strokeDashoffset=m,v.setStyle({opacity:0})));s._ignoreMove=!1,setTimeout(function(){var g=0;for(_=d.length-1;_>=0;_--)p=d[_],p._spiderLeg&&g++;for(_=d.length-1;_>=0;_--)p=d[_],p._spiderLeg&&(p.clusterShow&&p.clusterShow(),p.setZIndexOffset&&p.setZIndexOffset(0),g>1&&l.removeLayer(p),u.removeLayer(p._spiderLeg),delete p._spiderLeg);s._animationEnd(),s.fire("unspiderfied",{cluster:o,markers:d})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(i){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(i))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(i){this._spiderfied&&this._spiderfied.unspiderfy(i)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(i){i._spiderLeg&&(this._featureGroup.removeLayer(i),i.clusterShow&&i.clusterShow(),i.setZIndexOffset&&i.setZIndexOffset(0),this._map.removeLayer(i._spiderLeg),delete i._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(i){return i?i instanceof L.MarkerClusterGroup?i=i._topClusterLevel.getAllChildMarkers():i instanceof L.LayerGroup?i=i._layers:i instanceof L.MarkerCluster?i=i.getAllChildMarkers():i instanceof L.Marker&&(i=[i]):i=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(i),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(i),this},_flagParentsIconsNeedUpdate:function(i){var o,s;for(o in i)for(s=i[o].__parent;s;)s._iconNeedsUpdate=!0,s=s.__parent},_refreshSingleMarkerModeMarkers:function(i){var o,s;for(o in i)s=i[o],this.hasLayer(s)&&s.setIcon(this._overrideMarkerIcon(s))}}),L.Marker.include({refreshIconOptions:function(i,o){var s=this.options.icon;return L.setOptions(s,i),this.setIcon(s),o&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),r.MarkerClusterGroup=n,r.MarkerCluster=a,Object.defineProperty(r,"__esModule",{value:!0})})})(bR,bR.exports);const vR=(e,t)=>{let r;return(...n)=>{const a=()=>(r=void 0,e.apply(void 0,n));clearTimeout(r),r=setTimeout(a,t)}},{featureGroupProps:n7,setupFeatureGroup:i7}=LF.FeatureGroup,{AddLayerInjection:a7,RemoveLayerInjection:o7}=uF,{propsToLeafletOptions:s7}=aF,u7=["layeradd","layerremove","click","dblclick","mousedown","mouseup","mouseover","mouseout","contextmenu"],wR=[...u7,"clusterclick","clustermouseover","clustermouseout","animationend","spiderfied","unspiderfied"],DF={...n7,maxClusterRadius:{type:[Number,Function],default:80},clusterPane:{type:String,default:"markerPane"},spiderfyOnEveryZoom:{type:Boolean,default:!1},spiderfyOnMaxZoom:{type:Boolean,default:!0},showCoverageOnHover:{type:Boolean,default:!0},zoomToBoundsOnClick:{type:Boolean,default:!0},singleMarkerMode:{type:Boolean,default:!1},disableClusteringAtZoom:{type:Number,default:null},removeOutsideVisibleBounds:{type:Boolean,default:!0},animate:{type:Boolean,default:!0},animateAddingMarkers:{type:Boolean,default:!1},spiderfyShapePositions:{type:Function,default:null},spiderfyDistanceMultiplier:{type:Number,default:1},spiderLegPolylineOptions:{type:Object,default:()=>({weight:1.5,color:"#222",opacity:.5})},chunkedLoading:{type:Boolean,default:!1},chunkInterval:{type:Number,default:200},chunkDelay:{type:Number,default:50},chunkProgress:{type:Function,default:null},polygonOptions:{type:Object,default:()=>({})},iconCreateFunction:{type:Function,default:null}},l7=(e,t,r)=>{const{options:n,methods:a}=i7(e,t,r),i=s7(e,DF,n);let o=[];const s=vR(()=>{var d,c;o.length===1?(d=t.value)==null||d.addLayer(o[0]):(c=t.value)==null||c.addLayers(o),o=[]},0);let u=[];const l=vR(()=>{var d,c;u.length===1?(d=t.value)==null||d.removeLayer(u[0]):(c=t.value)==null||c.removeLayers(u),u=[]},0),f={...a,addLayer(d){var c;if(e.animateAddingMarkers)return(c=t.value)==null?void 0:c.addLayer(d.leafletObject);o.push(d.leafletObject),s()},removeLayer(d){var c;if(e.animateAddingMarkers)return(c=t.value)==null?void 0:c.removeLayer(d.leafletObject);u.push(d.leafletObject),l()},setMaxClusterRadius(){throw new Error("Max cluster radius can't be set dynamically")},setClusterPane(){throw new Error("Cluster pane can't be set dynamically")},setSpiderfyOnEveryZoom(d){t.value&&(t.value._unbindEvents(),t.value.options.spiderfyOnEveryZoom=d,t.value._bindEvents())},setSpiderfyOnMaxZoom(d){t.value&&(t.value._unbindEvents(),t.value.options.spiderfyOnMaxZoom=d,t.value._bindEvents())},setShowCoverageOnHover(d){t.value&&(t.value._unbindEvents(),t.value.options.showCoverageOnHover=d,t.value._bindEvents())},setZoomToBoundsOnClick(d){t.value&&(t.value._unbindEvents(),t.value.options.zoomToBoundsOnClick=d,t.value._bindEvents())},setSingleMarkerMode(){throw new Error("Single marker mode can't be set dynamically")},setDisableClusteringAtZoom(){throw new Error("Disable Clustering at zoom can't be set dynamically")},setRemoveOutsideVisibleBounds(d){t.value&&(t.value.options.removeOutsideVisibleBounds=d)},setAnimate(){throw new Error("Animate can't be set dynamically")},setAnimateAddingMarkers(d){t.value&&(t.value.options.animateAddingMarkers=d)},setSpiderfyShapePositions(d){t.value&&(t.value.options.spiderfyShapePositions=d)},setSpiderfyDistanceMultiplier(d){t.value&&(t.value.options.spiderfyDistanceMultiplier=d)},setSpiderLegPolylineOptions(d){t.value&&(t.value.options.spiderLegPolylineOptions=d)},setChunkedLoading(d){t.value&&(t.value.options.chunkedLoading=d)},setChunkInterval(d){t.value&&(t.value.options.chunkInterval=d)},setChunkDelay(d){t.value&&(t.value.options.chunkDelay=d)},setChunkProgress(d){t.value&&(t.value.options.chunkProgress=d)},setPolygonOptions(d){t.value&&(t.value.options.polygonOptions=d)},setIconCreateFunction(d){t.value&&(t.value._unbindEvents(),t.value.options.iconCreateFunction=d,t.value._bindEvents())}};return Wn(a7,f.addLayer),Wn(o7,f.removeLayer),{options:i,methods:f}},{propsBinder:f7,assertInject:c7,WINDOW_OR_GLOBAL:d7}=aF,{AddLayerInjection:h7}=uF,{render:p7}=LF.Layer,m7={props:DF,emits:["ready",...wR],setup(e,t){const r=Je(),n=Je(!1),a=c7(h7),{methods:i,options:o}=l7(e,r,t);return Jt(async()=>{var s;const{markerClusterGroup:u}=d7.L;r.value=Vo(u(o));const l=d=>c=>t.emit(d,c),f=()=>{const d={};for(const c of wR)d[c]=l(c);return d};(s=r.value)==null||s.on(f()),f7(i,r.value,e),a({...e,...i,leafletObject:r.value}),n.value=!0,xr(()=>t.emit("ready",r.value))}),{ready:n,leafletObject:r}},render(){return p7(this.ready,this.$slots)}},y7=["primary","secondary","success","danger","warning","info","light","dark"],g7="rgba({{color}}, 0.2) 0, rgba({{color}}, 0.3) 40%, rgba({{color}}, 0.4) 50%, rgba({{color}}, 0.5) 60%, rgba({{color}}, 0) 70%",_7=[0,0,0],SR=.5,b7=e=>e&&y7.includes(e.toLowerCase()),v7=(e,t)=>{const r=i=>(i.length<7&&(i=`#${i[1]}${i[1]}${i[2]}${i[2]}${i[3]}${i[3]}`),[parseInt(i.substr(1,2),16),parseInt(i.substr(3,2),16),parseInt(i.substr(5,2),16)]),n=i=>{const o=document.body.appendChild(document.createElement("fictum")),s="rgb(1, 2, 3)";return o.style.color=s,o.style.color!==s||(o.style.color=i,o.style.color===s||o.style.color==="")?(document.body.removeChild(o),t):(i=getComputedStyle(o).color,document.body.removeChild(o),i)},a=i=>{const o=i.match(/[.\d]+/g);if(o===null)return;const s=o.map(u=>+Number(u));return s.length=3,s};return typeof e=="string"&&e.toLowerCase()==="transparent"?t:typeof e=="string"&&e[0]==="#"?r(e):(typeof e=="string"&&e.indexOf("rgb")===-1&&(e=n(e)),typeof e=="string"&&e.indexOf("rgb")===0?a(e):t)},w7=({offsetX:e,offsetY:t,height:r,width:n})=>{const a=t<=r/2,i=e<=n/2,o=(d,c)=>Math.sqrt(d**2+c**2),s=t===r/2&&e===n/2,u={first:a===!0&&i===!1,second:a===!0&&i===!0,third:a===!1&&i===!0,fourth:a===!1&&i===!1},l={topLeft:o(e,t),topRight:o(n-e,t),bottomLeft:o(e,r-t),bottomRight:o(n-e,r-t)};let f=0;return s||u.fourth?f=l.topLeft:u.third?f=l.topRight:u.second?f=l.bottomRight:u.first&&(f=l.bottomLeft),f*2},S7=(e,t)=>{for(const r in t)e.style[r]=t[r]},E7=e=>{const t=v7(e,_7);if(e!==""&&t){const r=t.join(",");return`radial-gradient(circle, ${g7.split("{{color}}").join(`${r}`)})`}},x7=(e,t,r)=>{const n=document.createElement("div");n.classList.add("ripple-wave");const a={offsetX:r.centered?t.height/2:t.left,offsetY:r.centered?t.width/2:t.top,height:t.height,width:t.width},i=w7(a),o=r.radius||i/2,s={delay:r.duration&&r.duration*SR,duration:r.duration&&r.duration-r.duration*SR},u={left:r.centered?`${Math.round(t.width/2-o)}px`:`${Math.round(t.left-o)}px`,top:r.centered?`${Math.round(t.height/2-o)}px`:`${Math.round(t.top-o)}px`,height:`${Math.round(r.radius&&r.radius*2||i)}px`,width:`${Math.round(r.radius&&r.radius*2||i)}px`,transitionDelay:`0s, ${s.delay}ms`,transitionDuration:`${r.duration}ms, ${s.duration}ms`};r.unbound&&e.classList.add("ripple-surface-unbound"),b7(r.color)?e.classList.add(`ripple-surface-${r.color}`):u.backgroundImage=E7(r.color),S7(n,u),e.appendChild(n),setTimeout(()=>{n.classList.add("active")},50),setTimeout(()=>{e.removeChild(n)},r.duration?r.duration+1e3:1e3)},NF={mounted(e,t){if(t.value===!1)return;const r={centered:t.value&&t.value.centered||!1,color:t.value&&t.value.color||"",duration:t.value&&t.value.duration||500,radius:t.value&&t.value.radius||0,unbound:t.value&&t.value.unbound||!1};e.classList.add("ripple-surface"),e.waves=n=>{const a={top:n.offsetY,left:n.offsetX,height:e.offsetHeight,width:e.offsetWidth};x7(e,a,r)},e.addEventListener("click",n=>e.waves(n))},updated(e,t){t.value!==!1&&(e.classList.contains("ripple-surface")||e.classList.add("ripple-surface"))},unmounted(e){e.removeEventListener("click",t=>e.waves(t))}},T7={name:"MDBBtn"},MF=Gt({...T7,props:{color:String,size:String,outline:String,rounded:Boolean,floating:Boolean,toggler:Boolean,toggle:Boolean,role:{type:String,default:"button"},type:{type:String,default:"button"},tag:{type:String,default:"button"},block:{type:Boolean,default:!1},ripple:{type:[Object,Boolean],default:e=>e.outline||e.color==="light"||e.color==="link"?{color:"dark"}:!0},picker:Boolean},emits:["update:toggle"],setup(e,{emit:t}){const r=e,n=Je(r.toggle),a=tt(()=>[!r.picker&&"btn",r.color&&`btn-${r.color}`,r.size&&`btn-${r.size}`,r.outline&&`btn-outline-${r.outline}`,r.rounded&&"btn-rounded",r.floating&&"btn-floating",r.block&&"btn-block",n.value&&"active"]),i=()=>{r.toggler&&(n.value=!n.value,t("update:toggle",n.value))};return(o,s)=>Po((Ke(),Ot(wa(e.tag),{type:e.type,role:e.role,class:vt(a.value),onClick:i},{default:bt(()=>[pt(o.$slots,"default")]),_:3},8,["type","role","class"])),[[Fe(NF),e.ripple]])}}),R7=1e6,A7=e=>{do e+=Math.floor(Math.random()*R7);while(document.getElementById(e));return e},I7=/\..*/,O7={mouseenter:"mouseover",mouseleave:"mouseout"},P7=["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"];function kF(e,t,r){const n=typeof t=="string",a=n?r:t;let i=e.replace(I7,"");const o=O7[i];return o&&(i=o),P7.indexOf(i)>-1||(i=e),[n,a,i]}function C7(e,t,r,n){if(typeof t!="string"||!e)return;const[a,i,o]=kF(t,r,n);e.addEventListener(o,i,a)}function L7(e,t,r,n){e.removeEventListener(t,r,!!n)}const D7=function(e,t,r,n=void 0){C7(e,t,r,n)},N7=function(e,t,r,n=void 0){if(typeof t!="string"||!e)return;const[a,i,o]=kF(t,r,n);L7(e,o,i,a?r:void 0)},Kw={stopProp(e){e.stopPropagation()},mounted(e,t){const r=a=>{const i=a.target;!e.contains(i)&&e!==i&&t.value(a)};e.clickOutside=r;const n=t.modifiers.mousedown?"mousedown":"click";document.addEventListener(n,a=>{var i;return(i=e.clickOutside)==null?void 0:i.call(e,a)}),document.addEventListener("touchstart",a=>{var i;return(i=e.clickOutside)==null?void 0:i.call(e,a)})},unmounted(e,t){if(!e.clickOutside)return;const r=t.modifiers.mousedown?"mousedown":"click";document.removeEventListener(r,n=>{var a;return(a=e.clickOutside)==null?void 0:a.call(e,n)}),document.removeEventListener("touchstart",n=>{var a;return(a=e.clickOutside)==null?void 0:a.call(e,n)}),delete e.clickOutside}},M7={key:1,class:"visually-hidden"},k7={name:"MDBDropdownToggle"};({...k7,props:{...MF.props}});const F7={name:"MDBCol"},j7=Gt({...F7,props:{tag:{type:String,default:"div"},col:String,sm:String,md:String,lg:String,xl:String,offset:String,offsetSm:String,offsetMd:String,offsetLg:String,offsetXl:String,auto:{type:Boolean,default:!1}},setup(e){const t=e,r=tt(()=>[t.col?"col-"+t.col:"",t.sm?"col-sm-"+t.sm:"",t.md?"col-md-"+t.md:"",t.lg?"col-lg-"+t.lg:"",t.xl?"col-xl-"+t.xl:"",!t.col&&!t.sm&&!t.md&&!t.lg&&!t.xl?"col":"",t.offset?"offset-"+t.offset:"",t.offsetSm?"offset-sm-"+t.offsetSm:"",t.offsetMd?"offset-md-"+t.offsetMd:"",t.offsetLg?"offset-lg-"+t.offsetLg:"",t.offsetXl?"offset-xl-"+t.offsetXl:"",t.auto?"col-auto":""]);return(n,a)=>(Ke(),Ot(wa(e.tag),{class:vt(r.value)},{default:bt(()=>[pt(n.$slots,"default")]),_:3},8,["class"]))}}),B7={name:"MDBRow"},q7=Gt({...B7,props:{tag:{type:String,default:"div"},start:{type:Boolean,default:!1},end:{type:Boolean,default:!1},center:{type:Boolean,default:!1},between:{type:Boolean,default:!1},around:{type:Boolean,default:!1},cols:[String,Array]},setup(e){const t=e,r=tt(()=>{const a=t.cols;return["row",t.cols&&a?`${n(a)}`:"",t.start&&"justify-content-start",t.end&&"justify-content-end",t.center&&"justify-content-center",t.between&&"justify-content-between",t.around&&"justify-content-around"]}),n=a=>typeof a=="string"?`row-cols-${a}`:a.map(i=>`row-cols-${i}`.trim()).join(" ");return(a,i)=>(Ke(),Ot(wa(e.tag),{class:vt(r.value)},{default:bt(()=>[pt(a.$slots,"default")]),_:3},8,["class"]))}}),$7={name:"MDBContainer"},U7=Gt({...$7,props:{tag:{type:String,default:"div"},sm:{type:Boolean,default:!1},md:{type:Boolean,default:!1},lg:{type:Boolean,default:!1},xl:{type:Boolean,default:!1},xxl:{type:Boolean,default:!1},fluid:{type:Boolean,default:!1}},setup(e){const t=e,r=tt(()=>[t.fluid?"container-fluid":"",t.sm?"container-sm":"",t.md?"container-md":"",t.lg?"container-lg":"",t.xl?"container-xl":"",t.xxl?"container-xxl":"",!t.fluid&&!t.sm&&!t.md&&!t.lg&&!t.xl&&!t.xxl?"container":""]);return(n,a)=>(Ke(),Ot(wa(e.tag),{class:vt(r.value)},{default:bt(()=>[pt(n.$slots,"default")]),_:3},8,["class"]))}}),H7=["id","value"],V7=["for"],z7={key:2,class:"form-helper"},G7={key:3,class:"form-helper"},W7={class:"form-counter"},K7=_t("div",{class:"form-notch-trailing"},null,-1),Z7=["id","value"],Y7=["for"],Q7={key:1,class:"form-helper"},X7={key:2,class:"form-helper"},J7={class:"form-counter"},eU=_t("div",{class:"form-notch-trailing"},null,-1),tU={key:9,class:"form-text"},rU={name:"MDBInput",inheritAttrs:!1},nU=Gt({...rU,props:{id:String,label:String,labelClass:String,modelValue:[String,Number,Date],size:String,formOutline:{type:Boolean,default:!0},wrapperClass:String,inputGroup:{type:[Boolean,String],default:!1},wrap:{type:Boolean,default:!0},formText:String,white:Boolean,validationEvent:String,isValidated:Boolean,isValid:Boolean,validFeedback:String,invalidFeedback:String,tooltipFeedback:{type:Boolean,default:!1},tag:{type:String,default:"div"},helper:String,counter:Boolean,maxlength:{type:Number,default:0}},emits:["update:modelValue","click-outside","on-validate"],setup(e,{expose:t,emit:r}){const n=e,a=Rk(),i=Je(null),o=Je(n.modelValue),s=Je(null),u=Je(!1),l=Je(9),f=Je(0),d=n.id||A7("MDBInput-"),c=Je(!1),p=tt(()=>[n.formOutline&&"form-outline",m.value,n.white&&"form-white",n.wrapperClass]),_=tt(()=>["form-control",n.size?`form-control-${n.size}`:n.inputGroup&&n.inputGroup!==!0&&`form-control-${n.inputGroup}`,(o.value||o.value===0)&&"active",u.value&&"placeholder-active",T.value&&I.value&&"is-valid",T.value&&!I.value&&"is-invalid",q.value&&v()]),v=()=>q.value?o.value||o.value===0||c.value?"opacity-1":"opacity-0":"",b=tt(()=>["form-label",n.labelClass]),m=tt(()=>{if(n.inputGroup)return n.inputGroup!==!0?`input-group input-group-${n.inputGroup}`:"input-group"}),y=tt(()=>n.inputGroup&&T.value?{marginBottom:"1rem"}:""),g=tt(()=>n.tooltipFeedback?"valid-tooltip":"valid-feedback"),S=tt(()=>n.tooltipFeedback?"invalid-tooltip":"invalid-feedback"),T=Je(n.isValidated),I=Je(n.isValid),C=Je(""),B=tt(()=>T.value&&!I.value&&n.validationEvent?C.value:n.invalidFeedback),D=P=>{const A=P.target;I.value=A.checkValidity(),I.value||(C.value=A.validationMessage),T.value=!0,r("on-validate",I.value)},M=()=>{n.validationEvent!=="submit"&&i.value&&n.validationEvent&&D7(i.value,n.validationEvent,D)};function j(){s.value&&(f.value=s.value.clientWidth*.8+8)}const O=tt(()=>n.label&&s.value&&f.value===8&&s.value.textContent!==""),q=tt(()=>["date","time","datetime-local","month","week"].includes(a.type));function Q(){a.placeholder&&!s.value?u.value=!0:u.value=!1}const ie=Je(null);ie.value=typeof o.value=="string"&&o.value?o.value.length:0;function X(P){const A=P.target;if(n.maxlength&&A.value.length>n.maxlength&&typeof o.value=="string"){A.value=o.value;return}ie.value=A.value.length,o.value=A.value,r("update:modelValue",o.value)}function le(){Z(!0),c.value=!0,n.label&&O.value&&j()}function ae(){Z(),c.value=!1}function ne(){r("click-outside")}const V=Je(null),oe=Je(null),he=P=>{oe.value&&oe.value.forEach(A=>A.style.opacity=P?"0":"1"),P&&V.value&&(V.value.style.opacity="1")},Y=a.type&&a.type==="date",Z=(P=!1)=>{var A;n.label&&n.formOutline&&oe.value&&((A=oe.value)==null?void 0:A.length)>1&&he(P),Y&&i.value&&(i.value.type=P?"date":"text")},ee=P=>![...P.parentNode.children].findIndex(A=>A===P);return Jt(()=>{var P;if(j(),Q(),Z(),n.label&&n.formOutline&&i.value&&(oe.value=((P=i.value.parentNode)==null?void 0:P.querySelectorAll(".form-notch"))||null),n.label&&n.formOutline&&s.value&&i.value&&!ee(i.value)){const A=parseFloat(getComputedStyle(s.value).left);s.value.style.left=`${A+i.value.offsetLeft}px`,l.value+=i.value.offsetLeft}n.validationEvent&&M()}),wk(()=>{j(),Q()}),Yi(()=>{i.value&&n.validationEvent&&N7(i.value,n.validationEvent,D)}),$k(()=>{var P,A;if(typeof n.modelValue=="string"){if(n.maxlength&&((P=n.modelValue)==null?void 0:P.length)>n.maxlength){o.value=n.modelValue.slice(0,n.maxlength),ie.value=n.maxlength;return}ie.value=((A=n.modelValue)==null?void 0:A.length)||0}o.value=n.modelValue}),Jr(()=>n.isValidated,P=>T.value=P),Jr(()=>n.isValid,P=>I.value=P),t({inputRef:i}),(P,A)=>(Ke(),et(wt,null,[e.wrap?rt("",!0):Po((Ke(),et("input",jr({key:0,class:_.value,id:Fe(d),value:o.value},P.$attrs,{onInput:X,ref_key:"inputRef",ref:i,onFocus:le,onBlur:ae}),null,16,H7)),[[Fe(Kw),ne]]),e.label&&!e.wrap?(Ke(),et("label",{key:1,ref_key:"labelRef",ref:s,class:vt(b.value),for:Fe(d)},qt(e.label),11,V7)):rt("",!0),!e.wrap&&e.helper?(Ke(),et("div",z7,qt(e.helper),1)):rt("",!0),!e.wrap&&e.counter?(Ke(),et("div",G7,[_t("div",W7,qt(ie.value)+" / "+qt(e.maxlength),1)])):rt("",!0),e.wrap?rt("",!0):pt(P.$slots,"default",{key:4}),!e.wrap&&e.validFeedback?(Ke(),et("div",{key:5,class:vt(g.value)},qt(e.validFeedback),3)):rt("",!0),!e.wrap&&B.value?(Ke(),et("div",{key:6,class:vt(S.value)},qt(B.value),3)):rt("",!0),!e.wrap&&e.formOutline?(Ke(),et("div",{key:7,class:"form-notch",ref_key:"notchRef",ref:V},[_t("div",{class:"form-notch-leading",style:Fr({width:`${l.value}px`})},null,4),_t("div",{class:"form-notch-middle",style:Fr({width:`${f.value}px`})},null,4),K7],512)):rt("",!0),e.wrap?Po((Ke(),Ot(wa(e.tag),{key:8,class:vt(p.value),style:Fr(y.value)},{default:bt(()=>[pt(P.$slots,"prepend"),_t("input",jr({class:_.value},P.$attrs,{id:Fe(d),value:o.value,onInput:X,ref_key:"inputRef",ref:i,onFocus:le,onBlur:ae}),null,16,Z7),e.label?(Ke(),et("label",{key:0,ref_key:"labelRef",ref:s,class:vt(b.value),for:Fe(d)},qt(e.label),11,Y7)):rt("",!0),e.helper?(Ke(),et("div",Q7,qt(e.helper),1)):rt("",!0),e.counter?(Ke(),et("div",X7,[_t("div",J7,qt(ie.value)+" / "+qt(e.maxlength),1)])):rt("",!0),pt(P.$slots,"default"),e.validFeedback?(Ke(),et("div",{key:3,class:vt(g.value)},qt(e.validFeedback),3)):rt("",!0),B.value?(Ke(),et("div",{key:4,class:vt(S.value)},qt(B.value),3)):rt("",!0),e.formOutline?(Ke(),et("div",{key:5,class:"form-notch",ref_key:"notchRef",ref:V},[_t("div",{class:"form-notch-leading",style:Fr({width:`${l.value}px`})},null,4),_t("div",{class:"form-notch-middle",style:Fr({width:`${f.value}px`})},null,4),eU],512)):rt("",!0)]),_:3},8,["class","style"])),[[Fe(Kw),ne]]):rt("",!0),e.formText?(Ke(),et("div",tU,qt(e.formText),1)):rt("",!0)],64))}}),FF=6048e5,iU=864e5,aU=6e4,jF=36e5,oU=1e3,ER=Symbol.for("constructDateFrom");function Xt(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&ER in e?e[ER](t):e instanceof Date?new e.constructor(t):new Date(t)}function Et(e,t){return Xt(t||e,e)}function _i(e,t,r){const n=Et(e,r==null?void 0:r.in);return isNaN(t)?Xt((r==null?void 0:r.in)||e,NaN):(t&&n.setDate(n.getDate()+t),n)}function zi(e,t,r){const n=Et(e,r==null?void 0:r.in);if(isNaN(t))return Xt(e,NaN);if(!t)return n;const a=n.getDate(),i=Xt(e,n.getTime());i.setMonth(n.getMonth()+t+1,0);const o=i.getDate();return a>=o?i:(n.setFullYear(i.getFullYear(),i.getMonth(),a),n)}function BF(e,t,r){const{years:n=0,months:a=0,weeks:i=0,days:o=0,hours:s=0,minutes:u=0,seconds:l=0}=t,f=Et(e,r==null?void 0:r.in),d=a||n?zi(f,a+n*12):f,c=o||i?_i(d,o+i*7):d,p=u+s*60,v=(l+p*60)*1e3;return Xt(e,+c+v)}function sU(e,t,r){return Xt(e,+Et(e)+t)}function uU(e,t,r){return sU(e,t*jF)}let lU={};function Xs(){return lU}function Wi(e,t){var s,u,l,f;const r=Xs(),n=(t==null?void 0:t.weekStartsOn)??((u=(s=t==null?void 0:t.locale)==null?void 0:s.options)==null?void 0:u.weekStartsOn)??r.weekStartsOn??((f=(l=r.locale)==null?void 0:l.options)==null?void 0:f.weekStartsOn)??0,a=Et(e,t==null?void 0:t.in),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function ku(e,t){return Wi(e,{...t,weekStartsOn:1})}function qF(e,t){const r=Et(e,t==null?void 0:t.in),n=r.getFullYear(),a=Xt(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const i=ku(a),o=Xt(r,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const s=ku(o);return r.getTime()>=i.getTime()?n+1:r.getTime()>=s.getTime()?n:n-1}function Wm(e){const t=Et(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function $h(e,...t){const r=Xt.bind(null,t.find(n=>typeof n=="object"));return t.map(r)}function xR(e,t){const r=Et(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function $F(e,t,r){const[n,a]=$h(r==null?void 0:r.in,e,t),i=xR(n),o=xR(a),s=+i-Wm(i),u=+o-Wm(o);return Math.round((s-u)/iU)}function fU(e,t){const r=qF(e,t),n=Xt(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),ku(n)}function cU(e,t,r){return zi(e,t*3,r)}function iE(e,t,r){return zi(e,t*12,r)}function TR(e,t){const r=+Et(e)-+Et(t);return r<0?-1:r>0?1:r}function UF(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function lh(e){return!(!UF(e)&&typeof e!="number"||isNaN(+Et(e)))}function RR(e,t){const r=Et(e,t==null?void 0:t.in);return Math.trunc(r.getMonth()/3)+1}function dU(e,t,r){const[n,a]=$h(r==null?void 0:r.in,e,t);return n.getFullYear()-a.getFullYear()}function hU(e,t,r){const[n,a]=$h(r==null?void 0:r.in,e,t),i=TR(n,a),o=Math.abs(dU(n,a));n.setFullYear(1584),a.setFullYear(1584);const s=TR(n,a)===-i,u=i*(o-+s);return u===0?0:u}function HF(e,t){const[r,n]=$h(e,t.start,t.end);return{start:r,end:n}}function VF(e,t){const{start:r,end:n}=HF(t==null?void 0:t.in,e);let a=+r>+n;const i=a?+r:+n,o=a?n:r;o.setHours(0,0,0,0);let s=1;const u=[];for(;+o<=i;)u.push(Xt(r,o)),o.setDate(o.getDate()+s),o.setHours(0,0,0,0);return a?u.reverse():u}function ks(e,t){const r=Et(e,t==null?void 0:t.in),n=r.getMonth(),a=n-n%3;return r.setMonth(a,1),r.setHours(0,0,0,0),r}function pU(e,t){const{start:r,end:n}=HF(t==null?void 0:t.in,e);let a=+r>+n;const i=a?+ks(r):+ks(n);let o=ks(a?n:r),s=1;const u=[];for(;+o<=i;)u.push(Xt(r,o)),o=cU(o,s);return a?u.reverse():u}function mU(e,t){const r=Et(e,t==null?void 0:t.in);return r.setDate(1),r.setHours(0,0,0,0),r}function zF(e,t){const r=Et(e,t==null?void 0:t.in),n=r.getFullYear();return r.setFullYear(n+1,0,0),r.setHours(23,59,59,999),r}function Rh(e,t){const r=Et(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function GF(e,t){var s,u,l,f;const r=Xs(),n=(t==null?void 0:t.weekStartsOn)??((u=(s=t==null?void 0:t.locale)==null?void 0:s.options)==null?void 0:u.weekStartsOn)??r.weekStartsOn??((f=(l=r.locale)==null?void 0:l.options)==null?void 0:f.weekStartsOn)??0,a=Et(e,t==null?void 0:t.in),i=a.getDay(),o=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function AR(e,t){const r=Et(e,t==null?void 0:t.in),n=r.getMonth(),a=n-n%3+3;return r.setMonth(a,0),r.setHours(23,59,59,999),r}const yU={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},gU=(e,t,r)=>{let n;const a=yU[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function $y(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const _U={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},bU={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},vU={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},wU={date:$y({formats:_U,defaultWidth:"full"}),time:$y({formats:bU,defaultWidth:"full"}),dateTime:$y({formats:vU,defaultWidth:"full"})},SU={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},EU=(e,t,r,n)=>SU[e];function ql(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,s=r!=null&&r.width?String(r.width):o;a=e.formattingValues[s]||e.formattingValues[o]}else{const o=e.defaultWidth,s=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[s]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const xU={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},TU={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},RU={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},AU={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},IU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},OU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},PU=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},CU={ordinalNumber:PU,era:ql({values:xU,defaultWidth:"wide"}),quarter:ql({values:TU,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ql({values:RU,defaultWidth:"wide"}),day:ql({values:AU,defaultWidth:"wide"}),dayPeriod:ql({values:IU,defaultWidth:"wide",formattingValues:OU,defaultFormattingWidth:"wide"})};function $l(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],s=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(s)?DU(s,d=>d.test(o)):LU(s,d=>d.test(o));let l;l=e.valueCallback?e.valueCallback(u):u,l=r.valueCallback?r.valueCallback(l):l;const f=t.slice(o.length);return{value:l,rest:f}}}function LU(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function DU(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function NU(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const s=t.slice(a.length);return{value:o,rest:s}}}const MU=/^(\d+)(th|st|nd|rd)?/i,kU=/\d+/i,FU={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},jU={any:[/^b/i,/^(a|c)/i]},BU={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},qU={any:[/1/i,/2/i,/3/i,/4/i]},$U={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},UU={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},HU={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},VU={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},zU={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},GU={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},WU={ordinalNumber:NU({matchPattern:MU,parsePattern:kU,valueCallback:e=>parseInt(e,10)}),era:$l({matchPatterns:FU,defaultMatchWidth:"wide",parsePatterns:jU,defaultParseWidth:"any"}),quarter:$l({matchPatterns:BU,defaultMatchWidth:"wide",parsePatterns:qU,defaultParseWidth:"any",valueCallback:e=>e+1}),month:$l({matchPatterns:$U,defaultMatchWidth:"wide",parsePatterns:UU,defaultParseWidth:"any"}),day:$l({matchPatterns:HU,defaultMatchWidth:"wide",parsePatterns:VU,defaultParseWidth:"any"}),dayPeriod:$l({matchPatterns:zU,defaultMatchWidth:"any",parsePatterns:GU,defaultParseWidth:"any"})},WF={code:"en-US",formatDistance:gU,formatLong:wU,formatRelative:EU,localize:CU,match:WU,options:{weekStartsOn:0,firstWeekContainsDate:1}};function KU(e,t){const r=Et(e,t==null?void 0:t.in);return $F(r,Rh(r))+1}function aE(e,t){const r=Et(e,t==null?void 0:t.in),n=+ku(r)-+fU(r);return Math.round(n/FF)+1}function oE(e,t){var f,d,c,p;const r=Et(e,t==null?void 0:t.in),n=r.getFullYear(),a=Xs(),i=(t==null?void 0:t.firstWeekContainsDate)??((d=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:d.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(c=a.locale)==null?void 0:c.options)==null?void 0:p.firstWeekContainsDate)??1,o=Xt((t==null?void 0:t.in)||e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const s=Wi(o,t),u=Xt((t==null?void 0:t.in)||e,0);u.setFullYear(n,0,i),u.setHours(0,0,0,0);const l=Wi(u,t);return+r>=+s?n+1:+r>=+l?n:n-1}function ZU(e,t){var s,u,l,f;const r=Xs(),n=(t==null?void 0:t.firstWeekContainsDate)??((u=(s=t==null?void 0:t.locale)==null?void 0:s.options)==null?void 0:u.firstWeekContainsDate)??r.firstWeekContainsDate??((f=(l=r.locale)==null?void 0:l.options)==null?void 0:f.firstWeekContainsDate)??1,a=oE(e,t),i=Xt((t==null?void 0:t.in)||e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Wi(i,t)}function sE(e,t){const r=Et(e,t==null?void 0:t.in),n=+Wi(r,t)-+ZU(r,t);return Math.round(n/FF)+1}function Qt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const lo={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Qt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Qt(r+1,2)},d(e,t){return Qt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Qt(e.getHours()%12||12,t.length)},H(e,t){return Qt(e.getHours(),t.length)},m(e,t){return Qt(e.getMinutes(),t.length)},s(e,t){return Qt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Qt(a,t.length)}},pu={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},IR={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return lo.y(e,t)},Y:function(e,t,r,n){const a=oE(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Qt(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Qt(i,t.length)},R:function(e,t){const r=qF(e);return Qt(r,t.length)},u:function(e,t){const r=e.getFullYear();return Qt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Qt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Qt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return lo.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Qt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=sE(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Qt(a,t.length)},I:function(e,t,r){const n=aE(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Qt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):lo.d(e,t)},D:function(e,t,r){const n=KU(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Qt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Qt(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Qt(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Qt(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=pu.noon:n===0?a=pu.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=pu.evening:n>=12?a=pu.afternoon:n>=4?a=pu.morning:a=pu.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return lo.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):lo.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Qt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Qt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):lo.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):lo.s(e,t)},S:function(e,t){return lo.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return PR(n);case"XXXX":case"XX":return Is(n);case"XXXXX":case"XXX":default:return Is(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return PR(n);case"xxxx":case"xx":return Is(n);case"xxxxx":case"xxx":default:return Is(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+OR(n,":");case"OOOO":default:return"GMT"+Is(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+OR(n,":");case"zzzz":default:return"GMT"+Is(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return Qt(n,t.length)},T:function(e,t,r){return Qt(+e,t.length)}};function OR(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+Qt(i,2)}function PR(e,t){return e%60===0?(e>0?"-":"+")+Qt(Math.abs(e)/60,2):Is(e,t)}function Is(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Qt(Math.trunc(n/60),2),i=Qt(n%60,2);return r+a+t+i}const CR=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},KF=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},YU=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return CR(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",CR(n,t)).replace("{{time}}",KF(a,t))},Zw={p:KF,P:YU},QU=/^D+$/,XU=/^Y+$/,JU=["D","DD","YY","YYYY"];function ZF(e){return QU.test(e)}function YF(e){return XU.test(e)}function Yw(e,t,r){const n=eH(e,t,r);if(console.warn(n),JU.includes(e))throw new RangeError(n)}function eH(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const tH=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,rH=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,nH=/^'([^]*?)'?$/,iH=/''/g,aH=/[a-zA-Z]/;function ba(e,t,r){var f,d,c,p,_,v,b,m;const n=Xs(),a=(r==null?void 0:r.locale)??n.locale??WF,i=(r==null?void 0:r.firstWeekContainsDate)??((d=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:d.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(c=n.locale)==null?void 0:c.options)==null?void 0:p.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((v=(_=r==null?void 0:r.locale)==null?void 0:_.options)==null?void 0:v.weekStartsOn)??n.weekStartsOn??((m=(b=n.locale)==null?void 0:b.options)==null?void 0:m.weekStartsOn)??0,s=Et(e,r==null?void 0:r.in);if(!lh(s))throw new RangeError("Invalid time value");let u=t.match(rH).map(y=>{const g=y[0];if(g==="p"||g==="P"){const S=Zw[g];return S(y,a.formatLong)}return y}).join("").match(tH).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const g=y[0];if(g==="'")return{isToken:!1,value:oH(y)};if(IR[g])return{isToken:!0,value:y};if(g.match(aH))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(u=a.localize.preprocessor(s,u));const l={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return u.map(y=>{if(!y.isToken)return y.value;const g=y.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&YF(g)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&ZF(g))&&Yw(g,t,String(e));const S=IR[g[0]];return S(s,g,a.localize,l)}).join("")}function oH(e){const t=e.match(nH);return t?t[1].replace(iH,"'"):e}function sH(e,t){return Et(e,t==null?void 0:t.in).getDay()}function uH(e,t){const r=Et(e,t==null?void 0:t.in),n=r.getFullYear(),a=r.getMonth(),i=Xt(r,0);return i.setFullYear(n,a+1,0),i.setHours(0,0,0,0),i.getDate()}function lH(){return Object.assign({},Xs())}function Za(e,t){return Et(e,t==null?void 0:t.in).getHours()}function fH(e,t){const r=Et(e,t==null?void 0:t.in).getDay();return r===0?7:r}function Mo(e,t){return Et(e,t==null?void 0:t.in).getMinutes()}function jt(e,t){return Et(e,t==null?void 0:t.in).getMonth()}function Fu(e){return Et(e).getSeconds()}function At(e,t){return Et(e,t==null?void 0:t.in).getFullYear()}function Hs(e,t){return+Et(e)>+Et(t)}function ju(e,t){return+Et(e)<+Et(t)}function Tu(e,t){return+Et(e)==+Et(t)}function cH(e,t){const r=dH(t)?new t(0):Xt(t,0);return r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r}function dH(e){var t;return typeof e=="function"&&((t=e.prototype)==null?void 0:t.constructor)===e}const hH=10;class QF{constructor(){Ye(this,"subPriority",0)}validate(t,r){return!0}}class pH extends QF{constructor(t,r,n,a,i){super(),this.value=t,this.validateValue=r,this.setValue=n,this.priority=a,i&&(this.subPriority=i)}validate(t,r){return this.validateValue(t,this.value,r)}set(t,r,n){return this.setValue(t,r,this.value,n)}}class mH extends QF{constructor(r,n){super();Ye(this,"priority",hH);Ye(this,"subPriority",-1);this.context=r||(a=>Xt(n,a))}set(r,n){return n.timestampIsSet?r:Xt(r,cH(r,this.context))}}let Wt=class{run(t,r,n,a){const i=this.parse(t,r,n,a);return i?{setter:new pH(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(t,r,n){return!0}};class yH extends Wt{constructor(){super(...arguments);Ye(this,"priority",140);Ye(this,"incompatibleTokens",["R","u","t","T"])}parse(r,n,a){switch(n){case"G":case"GG":case"GGG":return a.era(r,{width:"abbreviated"})||a.era(r,{width:"narrow"});case"GGGGG":return a.era(r,{width:"narrow"});case"GGGG":default:return a.era(r,{width:"wide"})||a.era(r,{width:"abbreviated"})||a.era(r,{width:"narrow"})}}set(r,n,a){return n.era=a,r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}}const Br={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},da={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function qr(e,t){return e&&{value:t(e.value),rest:e.rest}}function Sr(e,t){const r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function ha(e,t){const r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};const n=r[1]==="+"?1:-1,a=r[2]?parseInt(r[2],10):0,i=r[3]?parseInt(r[3],10):0,o=r[5]?parseInt(r[5],10):0;return{value:n*(a*jF+i*aU+o*oU),rest:t.slice(r[0].length)}}function XF(e){return Sr(Br.anyDigitsSigned,e)}function Or(e,t){switch(e){case 1:return Sr(Br.singleDigit,t);case 2:return Sr(Br.twoDigits,t);case 3:return Sr(Br.threeDigits,t);case 4:return Sr(Br.fourDigits,t);default:return Sr(new RegExp("^\\d{1,"+e+"}"),t)}}function Km(e,t){switch(e){case 1:return Sr(Br.singleDigitSigned,t);case 2:return Sr(Br.twoDigitsSigned,t);case 3:return Sr(Br.threeDigitsSigned,t);case 4:return Sr(Br.fourDigitsSigned,t);default:return Sr(new RegExp("^-?\\d{1,"+e+"}"),t)}}function uE(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function JF(e,t){const r=t>0,n=r?t:1-t;let a;if(n<=50)a=e||100;else{const i=n+50,o=Math.trunc(i/100)*100,s=e>=i%100;a=e+o-(s?100:0)}return r?a:1-a}function e6(e){return e%400===0||e%4===0&&e%100!==0}class gH extends Wt{constructor(){super(...arguments);Ye(this,"priority",130);Ye(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,n,a){const i=o=>({year:o,isTwoDigitYear:n==="yy"});switch(n){case"y":return qr(Or(4,r),i);case"yo":return qr(a.ordinalNumber(r,{unit:"year"}),i);default:return qr(Or(n.length,r),i)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,a){const i=r.getFullYear();if(a.isTwoDigitYear){const s=JF(a.year,i);return r.setFullYear(s,0,1),r.setHours(0,0,0,0),r}const o=!("era"in n)||n.era===1?a.year:1-a.year;return r.setFullYear(o,0,1),r.setHours(0,0,0,0),r}}class _H extends Wt{constructor(){super(...arguments);Ye(this,"priority",130);Ye(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,n,a){const i=o=>({year:o,isTwoDigitYear:n==="YY"});switch(n){case"Y":return qr(Or(4,r),i);case"Yo":return qr(a.ordinalNumber(r,{unit:"year"}),i);default:return qr(Or(n.length,r),i)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,a,i){const o=oE(r,i);if(a.isTwoDigitYear){const u=JF(a.year,o);return r.setFullYear(u,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),Wi(r,i)}const s=!("era"in n)||n.era===1?a.year:1-a.year;return r.setFullYear(s,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),Wi(r,i)}}class bH extends Wt{constructor(){super(...arguments);Ye(this,"priority",130);Ye(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,n){return Km(n==="R"?4:n.length,r)}set(r,n,a){const i=Xt(r,0);return i.setFullYear(a,0,4),i.setHours(0,0,0,0),ku(i)}}class vH extends Wt{constructor(){super(...arguments);Ye(this,"priority",130);Ye(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,n){return Km(n==="u"?4:n.length,r)}set(r,n,a){return r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}}class wH extends Wt{constructor(){super(...arguments);Ye(this,"priority",120);Ye(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"Q":case"QQ":return Or(n.length,r);case"Qo":return a.ordinalNumber(r,{unit:"quarter"});case"QQQ":return a.quarter(r,{width:"abbreviated",context:"formatting"})||a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(r,{width:"wide",context:"formatting"})||a.quarter(r,{width:"abbreviated",context:"formatting"})||a.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=1&&n<=4}set(r,n,a){return r.setMonth((a-1)*3,1),r.setHours(0,0,0,0),r}}class SH extends Wt{constructor(){super(...arguments);Ye(this,"priority",120);Ye(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"q":case"qq":return Or(n.length,r);case"qo":return a.ordinalNumber(r,{unit:"quarter"});case"qqq":return a.quarter(r,{width:"abbreviated",context:"standalone"})||a.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(r,{width:"wide",context:"standalone"})||a.quarter(r,{width:"abbreviated",context:"standalone"})||a.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=1&&n<=4}set(r,n,a){return r.setMonth((a-1)*3,1),r.setHours(0,0,0,0),r}}class EH extends Wt{constructor(){super(...arguments);Ye(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Ye(this,"priority",110)}parse(r,n,a){const i=o=>o-1;switch(n){case"M":return qr(Sr(Br.month,r),i);case"MM":return qr(Or(2,r),i);case"Mo":return qr(a.ordinalNumber(r,{unit:"month"}),i);case"MMM":return a.month(r,{width:"abbreviated",context:"formatting"})||a.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(r,{width:"wide",context:"formatting"})||a.month(r,{width:"abbreviated",context:"formatting"})||a.month(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.setMonth(a,1),r.setHours(0,0,0,0),r}}class xH extends Wt{constructor(){super(...arguments);Ye(this,"priority",110);Ye(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,n,a){const i=o=>o-1;switch(n){case"L":return qr(Sr(Br.month,r),i);case"LL":return qr(Or(2,r),i);case"Lo":return qr(a.ordinalNumber(r,{unit:"month"}),i);case"LLL":return a.month(r,{width:"abbreviated",context:"standalone"})||a.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(r,{width:"wide",context:"standalone"})||a.month(r,{width:"abbreviated",context:"standalone"})||a.month(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.setMonth(a,1),r.setHours(0,0,0,0),r}}function TH(e,t,r){const n=Et(e,r==null?void 0:r.in),a=sE(n,r)-t;return n.setDate(n.getDate()-a*7),Et(n,r==null?void 0:r.in)}class RH extends Wt{constructor(){super(...arguments);Ye(this,"priority",100);Ye(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,n,a){switch(n){case"w":return Sr(Br.week,r);case"wo":return a.ordinalNumber(r,{unit:"week"});default:return Or(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,a,i){return Wi(TH(r,a,i),i)}}function AH(e,t,r){const n=Et(e,r==null?void 0:r.in),a=aE(n,r)-t;return n.setDate(n.getDate()-a*7),n}class IH extends Wt{constructor(){super(...arguments);Ye(this,"priority",100);Ye(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,n,a){switch(n){case"I":return Sr(Br.week,r);case"Io":return a.ordinalNumber(r,{unit:"week"});default:return Or(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,a){return ku(AH(r,a))}}const OH=[31,28,31,30,31,30,31,31,30,31,30,31],PH=[31,29,31,30,31,30,31,31,30,31,30,31];class CH extends Wt{constructor(){super(...arguments);Ye(this,"priority",90);Ye(this,"subPriority",1);Ye(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"d":return Sr(Br.date,r);case"do":return a.ordinalNumber(r,{unit:"date"});default:return Or(n.length,r)}}validate(r,n){const a=r.getFullYear(),i=e6(a),o=r.getMonth();return i?n>=1&&n<=PH[o]:n>=1&&n<=OH[o]}set(r,n,a){return r.setDate(a),r.setHours(0,0,0,0),r}}class LH extends Wt{constructor(){super(...arguments);Ye(this,"priority",90);Ye(this,"subpriority",1);Ye(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,n,a){switch(n){case"D":case"DD":return Sr(Br.dayOfYear,r);case"Do":return a.ordinalNumber(r,{unit:"date"});default:return Or(n.length,r)}}validate(r,n){const a=r.getFullYear();return e6(a)?n>=1&&n<=366:n>=1&&n<=365}set(r,n,a){return r.setMonth(0,a),r.setHours(0,0,0,0),r}}function lE(e,t,r){var d,c,p,_;const n=Xs(),a=(r==null?void 0:r.weekStartsOn)??((c=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((_=(p=n.locale)==null?void 0:p.options)==null?void 0:_.weekStartsOn)??0,i=Et(e,r==null?void 0:r.in),o=i.getDay(),u=(t%7+7)%7,l=7-a,f=t<0||t>6?t-(o+l)%7:(u+l)%7-(o+l)%7;return _i(i,f,r)}class DH extends Wt{constructor(){super(...arguments);Ye(this,"priority",90);Ye(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"E":case"EE":case"EEE":return a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,i){return r=lE(r,a,i),r.setHours(0,0,0,0),r}}class NH extends Wt{constructor(){super(...arguments);Ye(this,"priority",90);Ye(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,n,a,i){const o=s=>{const u=Math.floor((s-1)/7)*7;return(s+i.weekStartsOn+6)%7+u};switch(n){case"e":case"ee":return qr(Or(n.length,r),o);case"eo":return qr(a.ordinalNumber(r,{unit:"day"}),o);case"eee":return a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"eeeee":return a.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,i){return r=lE(r,a,i),r.setHours(0,0,0,0),r}}class MH extends Wt{constructor(){super(...arguments);Ye(this,"priority",90);Ye(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,n,a,i){const o=s=>{const u=Math.floor((s-1)/7)*7;return(s+i.weekStartsOn+6)%7+u};switch(n){case"c":case"cc":return qr(Or(n.length,r),o);case"co":return qr(a.ordinalNumber(r,{unit:"day"}),o);case"ccc":return a.day(r,{width:"abbreviated",context:"standalone"})||a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"});case"ccccc":return a.day(r,{width:"narrow",context:"standalone"});case"cccccc":return a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(r,{width:"wide",context:"standalone"})||a.day(r,{width:"abbreviated",context:"standalone"})||a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,i){return r=lE(r,a,i),r.setHours(0,0,0,0),r}}function kH(e,t,r){const n=Et(e,r==null?void 0:r.in),a=fH(n,r),i=t-a;return _i(n,i,r)}class FH extends Wt{constructor(){super(...arguments);Ye(this,"priority",90);Ye(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,n,a){const i=o=>o===0?7:o;switch(n){case"i":case"ii":return Or(n.length,r);case"io":return a.ordinalNumber(r,{unit:"day"});case"iii":return qr(a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),i);case"iiiii":return qr(a.day(r,{width:"narrow",context:"formatting"}),i);case"iiiiii":return qr(a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),i);case"iiii":default:return qr(a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),i)}}validate(r,n){return n>=1&&n<=7}set(r,n,a){return r=kH(r,a),r.setHours(0,0,0,0),r}}class jH extends Wt{constructor(){super(...arguments);Ye(this,"priority",80);Ye(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,n,a){switch(n){case"a":case"aa":case"aaa":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(uE(a),0,0,0),r}}class BH extends Wt{constructor(){super(...arguments);Ye(this,"priority",80);Ye(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,n,a){switch(n){case"b":case"bb":case"bbb":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(uE(a),0,0,0),r}}class qH extends Wt{constructor(){super(...arguments);Ye(this,"priority",80);Ye(this,"incompatibleTokens",["a","b","t","T"])}parse(r,n,a){switch(n){case"B":case"BB":case"BBB":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(uE(a),0,0,0),r}}class $H extends Wt{constructor(){super(...arguments);Ye(this,"priority",70);Ye(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,n,a){switch(n){case"h":return Sr(Br.hour12h,r);case"ho":return a.ordinalNumber(r,{unit:"hour"});default:return Or(n.length,r)}}validate(r,n){return n>=1&&n<=12}set(r,n,a){const i=r.getHours()>=12;return i&&a<12?r.setHours(a+12,0,0,0):!i&&a===12?r.setHours(0,0,0,0):r.setHours(a,0,0,0),r}}class UH extends Wt{constructor(){super(...arguments);Ye(this,"priority",70);Ye(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,n,a){switch(n){case"H":return Sr(Br.hour23h,r);case"Ho":return a.ordinalNumber(r,{unit:"hour"});default:return Or(n.length,r)}}validate(r,n){return n>=0&&n<=23}set(r,n,a){return r.setHours(a,0,0,0),r}}class HH extends Wt{constructor(){super(...arguments);Ye(this,"priority",70);Ye(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,n,a){switch(n){case"K":return Sr(Br.hour11h,r);case"Ko":return a.ordinalNumber(r,{unit:"hour"});default:return Or(n.length,r)}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.getHours()>=12&&a<12?r.setHours(a+12,0,0,0):r.setHours(a,0,0,0),r}}class VH extends Wt{constructor(){super(...arguments);Ye(this,"priority",70);Ye(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,n,a){switch(n){case"k":return Sr(Br.hour24h,r);case"ko":return a.ordinalNumber(r,{unit:"hour"});default:return Or(n.length,r)}}validate(r,n){return n>=1&&n<=24}set(r,n,a){const i=a<=24?a%24:a;return r.setHours(i,0,0,0),r}}class zH extends Wt{constructor(){super(...arguments);Ye(this,"priority",60);Ye(this,"incompatibleTokens",["t","T"])}parse(r,n,a){switch(n){case"m":return Sr(Br.minute,r);case"mo":return a.ordinalNumber(r,{unit:"minute"});default:return Or(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,a){return r.setMinutes(a,0,0),r}}class GH extends Wt{constructor(){super(...arguments);Ye(this,"priority",50);Ye(this,"incompatibleTokens",["t","T"])}parse(r,n,a){switch(n){case"s":return Sr(Br.second,r);case"so":return a.ordinalNumber(r,{unit:"second"});default:return Or(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,a){return r.setSeconds(a,0),r}}class WH extends Wt{constructor(){super(...arguments);Ye(this,"priority",30);Ye(this,"incompatibleTokens",["t","T"])}parse(r,n){const a=i=>Math.trunc(i*Math.pow(10,-n.length+3));return qr(Or(n.length,r),a)}set(r,n,a){return r.setMilliseconds(a),r}}class KH extends Wt{constructor(){super(...arguments);Ye(this,"priority",10);Ye(this,"incompatibleTokens",["t","T","x"])}parse(r,n){switch(n){case"X":return ha(da.basicOptionalMinutes,r);case"XX":return ha(da.basic,r);case"XXXX":return ha(da.basicOptionalSeconds,r);case"XXXXX":return ha(da.extendedOptionalSeconds,r);case"XXX":default:return ha(da.extended,r)}}set(r,n,a){return n.timestampIsSet?r:Xt(r,r.getTime()-Wm(r)-a)}}class ZH extends Wt{constructor(){super(...arguments);Ye(this,"priority",10);Ye(this,"incompatibleTokens",["t","T","X"])}parse(r,n){switch(n){case"x":return ha(da.basicOptionalMinutes,r);case"xx":return ha(da.basic,r);case"xxxx":return ha(da.basicOptionalSeconds,r);case"xxxxx":return ha(da.extendedOptionalSeconds,r);case"xxx":default:return ha(da.extended,r)}}set(r,n,a){return n.timestampIsSet?r:Xt(r,r.getTime()-Wm(r)-a)}}class YH extends Wt{constructor(){super(...arguments);Ye(this,"priority",40);Ye(this,"incompatibleTokens","*")}parse(r){return XF(r)}set(r,n,a){return[Xt(r,a*1e3),{timestampIsSet:!0}]}}class QH extends Wt{constructor(){super(...arguments);Ye(this,"priority",20);Ye(this,"incompatibleTokens","*")}parse(r){return XF(r)}set(r,n,a){return[Xt(r,a),{timestampIsSet:!0}]}}const XH={G:new yH,y:new gH,Y:new _H,R:new bH,u:new vH,Q:new wH,q:new SH,M:new EH,L:new xH,w:new RH,I:new IH,d:new CH,D:new LH,E:new DH,e:new NH,c:new MH,i:new FH,a:new jH,b:new BH,B:new qH,h:new $H,H:new UH,K:new HH,k:new VH,m:new zH,s:new GH,S:new WH,X:new KH,x:new ZH,t:new YH,T:new QH},JH=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,eV=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,tV=/^'([^]*?)'?$/,rV=/''/g,nV=/\S/,iV=/[a-zA-Z]/;function Qw(e,t,r,n){var b,m,y,g,S,T,I,C;const a=()=>Xt((n==null?void 0:n.in)||r,NaN),i=lH(),o=(n==null?void 0:n.locale)??i.locale??WF,s=(n==null?void 0:n.firstWeekContainsDate)??((m=(b=n==null?void 0:n.locale)==null?void 0:b.options)==null?void 0:m.firstWeekContainsDate)??i.firstWeekContainsDate??((g=(y=i.locale)==null?void 0:y.options)==null?void 0:g.firstWeekContainsDate)??1,u=(n==null?void 0:n.weekStartsOn)??((T=(S=n==null?void 0:n.locale)==null?void 0:S.options)==null?void 0:T.weekStartsOn)??i.weekStartsOn??((C=(I=i.locale)==null?void 0:I.options)==null?void 0:C.weekStartsOn)??0;if(!t)return e?a():Et(r,n==null?void 0:n.in);const l={firstWeekContainsDate:s,weekStartsOn:u,locale:o},f=[new mH(n==null?void 0:n.in,r)],d=t.match(eV).map(B=>{const D=B[0];if(D in Zw){const M=Zw[D];return M(B,o.formatLong)}return B}).join("").match(JH),c=[];for(let B of d){!(n!=null&&n.useAdditionalWeekYearTokens)&&YF(B)&&Yw(B,t,e),!(n!=null&&n.useAdditionalDayOfYearTokens)&&ZF(B)&&Yw(B,t,e);const D=B[0],M=XH[D];if(M){const{incompatibleTokens:j}=M;if(Array.isArray(j)){const q=c.find(Q=>j.includes(Q.token)||Q.token===D);if(q)throw new RangeError(`The format string mustn't contain \`${q.fullToken}\` and \`${B}\` at the same time`)}else if(M.incompatibleTokens==="*"&&c.length>0)throw new RangeError(`The format string mustn't contain \`${B}\` and any other token at the same time`);c.push({token:D,fullToken:B});const O=M.run(e,B,o.match,l);if(!O)return a();f.push(O.setter),e=O.rest}else{if(D.match(iV))throw new RangeError("Format string contains an unescaped latin alphabet character `"+D+"`");if(B==="''"?B="'":D==="'"&&(B=aV(B)),e.indexOf(B)===0)e=e.slice(B.length);else return a()}}if(e.length>0&&nV.test(e))return a();const p=f.map(B=>B.priority).sort((B,D)=>D-B).filter((B,D,M)=>M.indexOf(B)===D).map(B=>f.filter(D=>D.priority===B).sort((D,M)=>M.subPriority-D.subPriority)).map(B=>B[0]);let _=Et(r,n==null?void 0:n.in);if(isNaN(+_))return a();const v={};for(const B of p){if(!B.validate(_,l))return a();const D=B.set(_,v,l);Array.isArray(D)?(_=D[0],Object.assign(v,D[1])):_=D}return _}function aV(e){return e.match(tV)[1].replace(rV,"'")}function LR(e,t,r){const[n,a]=$h(r==null?void 0:r.in,e,t);return+ks(n)==+ks(a)}function t6(e,t,r){return _i(e,-t,r)}function r6(e,t,r){const n=Et(e,r==null?void 0:r.in),a=n.getFullYear(),i=n.getDate(),o=Xt(e,0);o.setFullYear(a,t,15),o.setHours(0,0,0,0);const s=uH(o);return n.setMonth(t,Math.min(i,s)),n}function ir(e,t,r){let n=Et(e,r==null?void 0:r.in);return isNaN(+n)?Xt(e,NaN):(t.year!=null&&n.setFullYear(t.year),t.month!=null&&(n=r6(n,t.month)),t.date!=null&&n.setDate(t.date),t.hours!=null&&n.setHours(t.hours),t.minutes!=null&&n.setMinutes(t.minutes),t.seconds!=null&&n.setSeconds(t.seconds),t.milliseconds!=null&&n.setMilliseconds(t.milliseconds),n)}function oV(e,t,r){const n=Et(e,r==null?void 0:r.in);return n.setHours(t),n}function n6(e,t,r){const n=Et(e,r==null?void 0:r.in);return n.setMilliseconds(t),n}function sV(e,t,r){const n=Et(e,r==null?void 0:r.in);return n.setMinutes(t),n}function i6(e,t,r){const n=Et(e,r==null?void 0:r.in);return n.setSeconds(t),n}function ya(e,t,r){const n=Et(e,r==null?void 0:r.in);return isNaN(+n)?Xt(e,NaN):(n.setFullYear(t),n)}function Bu(e,t,r){return zi(e,-t,r)}function uV(e,t,r){const{years:n=0,months:a=0,weeks:i=0,days:o=0,hours:s=0,minutes:u=0,seconds:l=0}=t,f=Bu(e,a+n*12,r),d=t6(f,o+i*7,r),c=u+s*60,_=(l+c*60)*1e3;return Xt(e,+d-_)}function a6(e,t,r){return iE(e,-t,r)}function ol(){const e=Rk();return Ke(),et("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img",...e},[_t("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),_t("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),_t("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),_t("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}ol.compatConfig={MODE:3};function o6(){return Ke(),et("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[_t("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),_t("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}o6.compatConfig={MODE:3};function fE(){return Ke(),et("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[_t("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}fE.compatConfig={MODE:3};function cE(){return Ke(),et("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[_t("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}cE.compatConfig={MODE:3};function dE(){return Ke(),et("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[_t("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),_t("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}dE.compatConfig={MODE:3};function hE(){return Ke(),et("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[_t("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}hE.compatConfig={MODE:3};function pE(){return Ke(),et("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[_t("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}pE.compatConfig={MODE:3};const Zn=(e,t)=>t?new Date(e.toLocaleString("en-US",{timeZone:t})):new Date(e),mE=(e,t,r)=>Xw(e,t,r)||st(),lV=(e,t,r)=>{const n=t.dateInTz?Zn(new Date(e),t.dateInTz):st(e);return r?pn(n,!0):n},Xw=(e,t,r)=>{if(!e)return null;const n=r?pn(st(e),!0):st(e);return t?t.exactMatch?lV(e,t,r):Zn(n,t.timezone):n},fV=e=>{const t=new Date(e.getFullYear(),0,1).getTimezoneOffset();return e.getTimezoneOffset()<t},cV=(e,t)=>{if(!e)return 0;const r=new Date,n=new Date(r.toLocaleString("en-US",{timeZone:"UTC"})),a=new Date(r.toLocaleString("en-US",{timeZone:e})),i=(fV(t??a)?a:t??a).getTimezoneOffset()/60;return(+n-+a)/(1e3*60*60)-i};var qi=(e=>(e.month="month",e.year="year",e))(qi||{}),$i=(e=>(e.top="top",e.bottom="bottom",e))($i||{}),qs=(e=>(e.header="header",e.calendar="calendar",e.timePicker="timePicker",e))(qs||{}),_n=(e=>(e.month="month",e.year="year",e.calendar="calendar",e.time="time",e.minutes="minutes",e.hours="hours",e.seconds="seconds",e))(_n||{});const dV=["timestamp","date","iso"];var On=(e=>(e.up="up",e.down="down",e.left="left",e.right="right",e))(On||{}),cr=(e=>(e.arrowUp="ArrowUp",e.arrowDown="ArrowDown",e.arrowLeft="ArrowLeft",e.arrowRight="ArrowRight",e.enter="Enter",e.space=" ",e.esc="Escape",e.tab="Tab",e.home="Home",e.end="End",e.pageUp="PageUp",e.pageDown="PageDown",e))(cr||{}),Lu=(e=>(e.MONTH_AND_YEAR="MM-yyyy",e.YEAR="yyyy",e.DATE="dd-MM-yyyy",e))(Lu||{});function DR(e){return t=>new Intl.DateTimeFormat(e,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${t}T00:00:00+00:00`)).slice(0,2)}function hV(e){return t=>ba(Zn(new Date(`2017-01-0${t}T00:00:00+00:00`),"UTC"),"EEEEEE",{locale:e})}const pV=(e,t,r)=>{const n=[1,2,3,4,5,6,7];let a;if(e!==null)try{a=n.map(hV(e))}catch{a=n.map(DR(t))}else a=n.map(DR(t));const i=a.slice(0,r),o=a.slice(r+1,a.length);return[a[r]].concat(...o).concat(...i)},yE=(e,t,r)=>{const n=[];for(let a=+e[0];a<=+e[1];a++)n.push({value:+a,text:f6(a,t)});return r?n.reverse():n},s6=(e,t,r)=>{const n=[1,2,3,4,5,6,7,8,9,10,11,12].map(i=>{const o=i<10?`0${i}`:i;return new Date(`2017-${o}-01T00:00:00+00:00`)});if(e!==null)try{const i=r==="long"?"LLLL":"LLL";return n.map((o,s)=>{const u=ba(Zn(o,"UTC"),i,{locale:e});return{text:u.charAt(0).toUpperCase()+u.substring(1),value:s}})}catch{}const a=new Intl.DateTimeFormat(t,{month:r,timeZone:"UTC"});return n.map((i,o)=>{const s=a.format(i);return{text:s.charAt(0).toUpperCase()+s.substring(1),value:o}})},mV=e=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][e],Qr=e=>{const t=Fe(e);return t!=null&&t.$el?t==null?void 0:t.$el:t},yV=e=>({type:"dot",...e??{}}),u6=e=>Array.isArray(e)?!!e[0]&&!!e[1]:!1,gE={prop:e=>`"${e}" prop must be enabled!`,dateArr:e=>`You need to use array as "model-value" binding in order to support "${e}"`},rn=e=>e,NR=e=>e===0?e:!e||isNaN(+e)?null:+e,MR=e=>e===null,l6=e=>{if(e)return[...e.querySelectorAll("input, button, select, textarea, a[href]")][0]},gV=e=>{const t=[],r=n=>n.filter(a=>a);for(let n=0;n<e.length;n+=3){const a=[e[n],e[n+1],e[n+2]];t.push(r(a))}return t},Ah=(e,t,r)=>{const n=r!=null,a=t!=null;if(!n&&!a)return!1;const i=+r,o=+t;return n&&a?+e>i||+e<o:n?+e>i:a?+e<o:!1},qu=(e,t)=>gV(e).map(r=>r.map(n=>{const{active:a,disabled:i,isBetween:o,highlighted:s}=t(n);return{...n,active:a,disabled:i,className:{dp__overlay_cell_active:a,dp__overlay_cell:!a,dp__overlay_cell_disabled:i,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:i&&a,dp__cell_in_between:o,"dp--highlighted":s}}})),Co=(e,t,r=!1)=>{e&&t.allowStopPropagation&&(r&&e.stopImmediatePropagation(),e.stopPropagation())},_V=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function bV(e,t){let r=[...document.querySelectorAll(_V())];r=r.filter(a=>!e.contains(a)||a.hasAttribute("data-datepicker-instance"));const n=r.indexOf(e);if(n>=0&&(t?n-1>=0:n+1<=r.length))return r[n+(t?-1:1)]}const Jw=(e,t)=>e==null?void 0:e.querySelector(`[data-dp-element="${t}"]`),f6=(e,t)=>new Intl.NumberFormat(t,{useGrouping:!1,style:"decimal"}).format(e),_E=(e,t)=>ba(e,t??Lu.DATE),Uy=e=>Array.isArray(e),Zm=(e,t,r)=>t.get(_E(e,r)),vV=(e,t)=>e?t?t instanceof Map?!!Zm(e,t):t(st(e)):!1:!0,kn=(e,t,r=!1,n)=>{if(e.key===cr.enter||e.key===cr.space)return r&&e.preventDefault(),t();if(n)return n(e)},wV=()=>"ontouchstart"in window||navigator.maxTouchPoints>0,SV=(e,t)=>e?Lu.MONTH_AND_YEAR:t?Lu.YEAR:Lu.DATE,c6=e=>e<10?`0${e}`:e,kR=(e,t,r,n,a,i)=>{const o=Qw(e,t.slice(0,e.length),new Date,{locale:i});return lh(o)&&UF(o)?n||a?o:ir(o,{hours:+r.hours,minutes:+(r==null?void 0:r.minutes),seconds:+(r==null?void 0:r.seconds),milliseconds:0}):null},EV=(e,t,r,n,a,i)=>{const o=Array.isArray(r)?r[0]:r;if(typeof t=="string")return kR(e,t,o,n,a,i);if(Array.isArray(t)){let s=null;for(const u of t)if(s=kR(e,u,o,n,a,i),s)break;return s}return typeof t=="function"?t(e):null},st=e=>e?new Date(e):new Date,xV=(e,t,r)=>{if(t){const a=(e.getMonth()+1).toString().padStart(2,"0"),i=e.getDate().toString().padStart(2,"0"),o=e.getHours().toString().padStart(2,"0"),s=e.getMinutes().toString().padStart(2,"0"),u=r?e.getSeconds().toString().padStart(2,"0"):"00";return`${e.getFullYear()}-${a}-${i}T${o}:${s}:${u}.000Z`}const n=Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds());return new Date(n).toISOString()},pn=(e,t)=>{const r=st(JSON.parse(JSON.stringify(e))),n=ir(r,{hours:0,minutes:0,seconds:0,milliseconds:0});return t?mU(n):n},Lo=(e,t,r,n)=>{let a=e?st(e):st();return(t||t===0)&&(a=oV(a,+t)),(r||r===0)&&(a=sV(a,+r)),(n||n===0)&&(a=i6(a,+n)),n6(a,0)},Ir=(e,t)=>!e||!t?!1:ju(pn(e),pn(t)),Bt=(e,t)=>!e||!t?!1:Tu(pn(e),pn(t)),kr=(e,t)=>!e||!t?!1:Hs(pn(e),pn(t)),Ih=(e,t,r)=>e!=null&&e[0]&&e!=null&&e[1]?kr(r,e[0])&&Ir(r,e[1]):e!=null&&e[0]&&t?kr(r,e[0])&&Ir(r,t)||Ir(r,e[0])&&kr(r,t):!1,Ui=e=>{const t=ir(new Date(e),{date:1});return pn(t)},Hy=(e,t,r)=>t&&(r||r===0)?Object.fromEntries(["hours","minutes","seconds"].map(n=>n===t?[n,r]:[n,isNaN(+e[n])?void 0:+e[n]])):{hours:isNaN(+e.hours)?void 0:+e.hours,minutes:isNaN(+e.minutes)?void 0:+e.minutes,seconds:isNaN(+e.seconds)?void 0:+e.seconds},$s=e=>({hours:Za(e),minutes:Mo(e),seconds:Fu(e)}),d6=(e,t)=>{if(t){const r=At(st(t));if(r>e)return 12;if(r===e)return jt(st(t))}},h6=(e,t)=>{if(t){const r=At(st(t));return r<e?-1:r===e?jt(st(t)):void 0}},$u=e=>{if(e)return At(st(e))},p6=(e,t)=>{const r=kr(e,t)?t:e,n=kr(t,e)?t:e;return VF({start:r,end:n})},TV=e=>{const t=zi(e,1);return{month:jt(t),year:At(t)}},Ha=(e,t)=>{const r=Wi(e,{weekStartsOn:+t}),n=GF(e,{weekStartsOn:+t});return[r,n]},m6=(e,t)=>{const r={hours:Za(st()),minutes:Mo(st()),seconds:t?Fu(st()):0};return Object.assign(r,e)},Ao=(e,t,r)=>[ir(st(e),{date:1}),ir(st(),{month:t,year:r,date:1})],Ga=(e,t,r)=>{let n=e?st(e):st();return(t||t===0)&&(n=r6(n,t)),r&&(n=ya(n,r)),n},y6=(e,t,r,n,a)=>{if(!n||a&&!t||!a&&!r)return!1;const i=a?zi(e,1):Bu(e,1),o=[jt(i),At(i)];return a?!AV(...o,t):!RV(...o,r)},RV=(e,t,r)=>Ir(...Ao(r,e,t))||Bt(...Ao(r,e,t)),AV=(e,t,r)=>kr(...Ao(r,e,t))||Bt(...Ao(r,e,t)),g6=(e,t,r,n,a,i,o)=>{if(typeof t=="function"&&!o)return t(e);const s=r?{locale:r}:void 0;return Array.isArray(e)?`${ba(e[0],i,s)}${a&&!e[1]?"":n}${e[1]?ba(e[1],i,s):""}`:ba(e,i,s)},mu=e=>{if(e)return null;throw new Error(gE.prop("partial-range"))},kp=(e,t)=>{if(t)return e();throw new Error(gE.prop("range"))},eS=e=>Array.isArray(e)?lh(e[0])&&(e[1]?lh(e[1]):!0):e?lh(e):!1,IV=(e,t)=>ir(t??st(),{hours:+e.hours||0,minutes:+e.minutes||0,seconds:+e.seconds||0}),Vy=(e,t,r,n)=>{if(!e)return!0;if(n){const a=r==="max"?ju(e,t):Hs(e,t),i={seconds:0,milliseconds:0};return a||Tu(ir(e,i),ir(t,i))}return r==="max"?e.getTime()<=t.getTime():e.getTime()>=t.getTime()},zy=(e,t,r)=>e?IV(e,t):st(r??t),FR=(e,t,r,n,a)=>{if(Array.isArray(n)){const o=zy(e,n[0],t),s=zy(e,n[1],t);return Vy(n[0],o,r,!!t)&&Vy(n[1],s,r,!!t)&&a}const i=zy(e,n,t);return Vy(n,i,r,!!t)&&a},Gy=e=>ir(st(),$s(e)),OV=(e,t,r)=>{if(e instanceof Map){const n=`${c6(r+1)}-${t}`;return e.size?e.has(n):!1}return!1},PV=(e,t,r)=>{if(e instanceof Map){const n=`${c6(r+1)}-${t}`;return e.size?e.has(n):!0}return!0},_6=(e,t,r)=>typeof e=="function"?e({month:t,year:r}):!!e.months.find(n=>n.month===t&&n.year===r),bE=(e,t)=>typeof e=="function"?e(t):e.years.includes(t),tS=e=>`dp-${ba(e,"yyyy-MM-dd")}`,jR=(e,t)=>{const r=t6(pn(t),e),n=_i(pn(t),e);return{before:r,after:n}},Ul=Ja({menuFocused:!1,shiftKeyInMenu:!1}),b6=()=>{const e=r=>{Ul.menuFocused=r},t=r=>{Ul.shiftKeyInMenu!==r&&(Ul.shiftKeyInMenu=r)};return{control:tt(()=>({shiftKeyInMenu:Ul.shiftKeyInMenu,menuFocused:Ul.menuFocused})),setMenuFocused:e,setShiftKey:t}},fr=Ja({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),Wy=Je(null),Fp=Je(!1),Ky=Je(!1),Zy=Je(!1),Yy=Je(!1),mn=Je(0),Nr=Je(0),Wo=()=>{const e=tt(()=>Fp.value?[...fr.selectionGrid,fr.actionRow].filter(d=>d.length):Ky.value?[...fr.timePicker[0],...fr.timePicker[1],Yy.value?[]:[Wy.value],fr.actionRow].filter(d=>d.length):Zy.value?[...fr.monthPicker,fr.actionRow]:[fr.monthYear,...fr.calendar,fr.time,fr.actionRow].filter(d=>d.length)),t=d=>{mn.value=d?mn.value+1:mn.value-1;let c=null;e.value[Nr.value]&&(c=e.value[Nr.value][mn.value]),!c&&e.value[Nr.value+(d?1:-1)]?(Nr.value=Nr.value+(d?1:-1),mn.value=d?0:e.value[Nr.value].length-1):c||(mn.value=d?mn.value-1:mn.value+1)},r=d=>{Nr.value===0&&!d||Nr.value===e.value.length&&d||(Nr.value=d?Nr.value+1:Nr.value-1,e.value[Nr.value]?e.value[Nr.value]&&!e.value[Nr.value][mn.value]&&mn.value!==0&&(mn.value=e.value[Nr.value].length-1):Nr.value=d?Nr.value-1:Nr.value+1)},n=d=>{let c=null;e.value[Nr.value]&&(c=e.value[Nr.value][mn.value]),c?c.focus({preventScroll:!Fp.value}):mn.value=d?mn.value-1:mn.value+1},a=()=>{t(!0),n(!0)},i=()=>{t(!1),n(!1)},o=()=>{r(!1),n(!0)},s=()=>{r(!0),n(!0)},u=(d,c)=>{fr[c]=d},l=(d,c)=>{fr[c]=d},f=()=>{mn.value=0,Nr.value=0};return{buildMatrix:u,buildMultiLevelMatrix:l,setTimePickerBackRef:d=>{Wy.value=d},setSelectionGrid:d=>{Fp.value=d,f(),d||(fr.selectionGrid=[])},setTimePicker:(d,c=!1)=>{Ky.value=d,Yy.value=c,f(),d||(fr.timePicker[0]=[],fr.timePicker[1]=[])},setTimePickerElements:(d,c=0)=>{fr.timePicker[c]=d},arrowRight:a,arrowLeft:i,arrowUp:o,arrowDown:s,clearArrowNav:()=>{fr.monthYear=[],fr.calendar=[],fr.time=[],fr.actionRow=[],fr.selectionGrid=[],fr.timePicker[0]=[],fr.timePicker[1]=[],Fp.value=!1,Ky.value=!1,Yy.value=!1,Zy.value=!1,f(),Wy.value=null},setMonthPicker:d=>{Zy.value=d,f()},refSets:fr}},BR=e=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...e??{}}),CV=e=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:t=>`Increment ${t}`,decrementValue:t=>`Decrement ${t}`,openTpOverlay:t=>`Open ${t} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:void 0,weekDay:void 0,clearInput:"Clear value",calendarIcon:"Calendar icon",timePicker:"Time picker",monthPicker:t=>`Month picker${t?" overlay":""}`,yearPicker:t=>`Year picker${t?" overlay":""}`,timeOverlay:t=>`${t} overlay`,...e??{}}),qR=e=>e?typeof e=="boolean"?e?2:0:+e>=2?+e:2:0,LV=e=>{const t=typeof e=="object"&&e,r={static:!0,solo:!1};if(!e)return{...r,count:qR(!1)};const n=t?e:{},a=t?n.count??!0:e,i=qR(a);return Object.assign(r,n,{count:i})},DV=(e,t,r)=>e||(typeof r=="string"?r:t),NV=e=>typeof e=="boolean"?e?BR({}):!1:BR(e),MV=e=>{const t={enterSubmit:!0,tabSubmit:!0,openMenu:"open",selectOnFocus:!1,rangeSeparator:" - ",escClose:!0};return typeof e=="object"?{...t,...e??{},enabled:!0}:{...t,enabled:e}},kV=e=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...e??{}}),FV=e=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...e??{}}),jV=e=>{const t={input:!1};return typeof e=="object"?{...t,...e??{},enabled:!0}:{enabled:e,...t}},BV=e=>({allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,arrowLeft:void 0,keepViewOnOffsetClick:!1,timeArrowHoldThreshold:0,shadowDom:!1,mobileBreakpoint:600,setDateOnMenuClose:!1,...e??{}}),qV=e=>{const t={dates:Array.isArray(e)?e.map(r=>st(r)):[],years:[],months:[],quarters:[],weeks:[],weekdays:[],options:{highlightDisabled:!1}};return typeof e=="function"?e:{...t,...e??{}}},$V=e=>typeof e=="object"?{type:(e==null?void 0:e.type)??"local",hideOnOffsetDates:(e==null?void 0:e.hideOnOffsetDates)??!1}:{type:e,hideOnOffsetDates:!1},UV=e=>{const t={noDisabledRange:!1,showLastInRange:!0,minMaxRawRange:!1,partialRange:!0,disableTimeRangeValidation:!1,maxRange:void 0,minRange:void 0,autoRange:void 0,fixedStart:!1,fixedEnd:!1};return typeof e=="object"?{enabled:!0,...t,...e}:{enabled:e,...t}},HV=e=>e?typeof e=="string"?{timezone:e,exactMatch:!1,dateInTz:void 0,emitTimezone:void 0,convertModel:!0}:{timezone:e.timezone,exactMatch:e.exactMatch??!1,dateInTz:e.dateInTz??void 0,emitTimezone:e.emitTimezone??void 0,convertModel:e.convertModel??!0}:{timezone:void 0,exactMatch:!1,emitTimezone:void 0},Qy=(e,t,r,n)=>new Map(e.map(a=>{const i=mE(a,t,n);return[_E(i,r),i]})),VV=(e,t)=>e.length?new Map(e.map(r=>{const n=mE(r.date,t);return[_E(n,Lu.DATE),r]})):null,zV=e=>{var t;const r=SV(e.isMonthPicker,e.isYearPicker);return{minDate:Xw(e.minDate,e.timezone,e.isSpecific),maxDate:Xw(e.maxDate,e.timezone,e.isSpecific),disabledDates:Uy(e.disabledDates)?Qy(e.disabledDates,e.timezone,r,e.isSpecific):e.disabledDates,allowedDates:Uy(e.allowedDates)?Qy(e.allowedDates,e.timezone,r,e.isSpecific):null,highlight:typeof e.highlight=="object"&&Uy((t=e.highlight)==null?void 0:t.dates)?Qy(e.highlight.dates,e.timezone,r):e.highlight,markers:VV(e.markers,e.timezone)}},GV=e=>typeof e=="boolean"?{enabled:e,dragSelect:!0,limit:null}:{enabled:!!e,limit:e.limit?+e.limit:null,dragSelect:e.dragSelect??!0},WV=e=>({...Object.fromEntries(Object.keys(e).map(t=>{const r=t,n=e[r],a=typeof e[r]=="string"?{[n]:!0}:Object.fromEntries(n.map(i=>[i,!0]));return[t,a]}))}),vr=e=>{const t=()=>{const I=e.enableSeconds?":ss":"",C=e.enableMinutes?":mm":"";return e.is24?`HH${C}${I}`:`hh${C}${I} aa`},r=()=>{var I;return e.format?e.format:e.monthPicker?"MM/yyyy":e.timePicker?t():e.weekPicker?`${((I=b.value)==null?void 0:I.type)==="iso"?"II":"ww"}-RR`:e.yearPicker?"yyyy":e.quarterPicker?"QQQ/yyyy":e.enableTimePicker?`MM/dd/yyyy, ${t()}`:"MM/dd/yyyy"},n=I=>m6(I,e.enableSeconds),a=()=>S.value.enabled?e.startTime&&Array.isArray(e.startTime)?[n(e.startTime[0]),n(e.startTime[1])]:null:e.startTime&&!Array.isArray(e.startTime)?n(e.startTime):null,i=tt(()=>LV(e.multiCalendars)),o=tt(()=>a()),s=tt(()=>CV(e.ariaLabels)),u=tt(()=>kV(e.filters)),l=tt(()=>NV(e.transitions)),f=tt(()=>FV(e.actionRow)),d=tt(()=>DV(e.previewFormat,e.format,r())),c=tt(()=>MV(e.textInput)),p=tt(()=>jV(e.inline)),_=tt(()=>BV(e.config)),v=tt(()=>qV(e.highlight)),b=tt(()=>$V(e.weekNumbers)),m=tt(()=>HV(e.timezone)),y=tt(()=>GV(e.multiDates)),g=tt(()=>zV({minDate:e.minDate,maxDate:e.maxDate,disabledDates:e.disabledDates,allowedDates:e.allowedDates,highlight:v.value,markers:e.markers,timezone:m.value,isSpecific:e.monthPicker||e.yearPicker||e.quarterPicker,isMonthPicker:e.monthPicker,isYearPicker:e.yearPicker})),S=tt(()=>UV(e.range)),T=tt(()=>WV(e.ui));return{defaultedTransitions:l,defaultedMultiCalendars:i,defaultedStartTime:o,defaultedAriaLabels:s,defaultedFilters:u,defaultedActionRow:f,defaultedPreviewFormat:d,defaultedTextInput:c,defaultedInline:p,defaultedConfig:_,defaultedHighlight:v,defaultedWeekNumbers:b,defaultedRange:S,propDates:g,defaultedTz:m,defaultedMultiDates:y,defaultedUI:T,getDefaultPattern:r,getDefaultStartTime:a}},KV=(e,t,r)=>{const n=Je(),{defaultedTextInput:a,defaultedRange:i,defaultedTz:o,defaultedMultiDates:s,getDefaultPattern:u}=vr(t),l=Je(""),f=_h(t,"format"),d=_h(t,"formatLocale");Jr(n,()=>{typeof t.onInternalModelChange=="function"&&e("internal-model-change",n.value,P(!0))},{deep:!0}),Jr(i,(A,$)=>{A.enabled!==$.enabled&&(n.value=null)}),Jr(f,()=>{ae()});const c=A=>o.value.timezone&&o.value.convertModel?Zn(A,o.value.timezone):A,p=A=>{if(o.value.timezone&&o.value.convertModel){const $=cV(o.value.timezone,A);return uU(A,$)}return A},_=(A,$,te=!1)=>g6(A,t.format,t.formatLocale,a.value.rangeSeparator,t.modelAuto,$??u(),te),v=A=>A?t.modelType?V(A):{hours:Za(A),minutes:Mo(A),seconds:t.enableSeconds?Fu(A):0}:null,b=A=>t.modelType?V(A):{month:jt(A),year:At(A)},m=A=>Array.isArray(A)?s.value.enabled?A.map($=>y($,ya(st(),$))):kp(()=>[ya(st(),A[0]),A[1]?ya(st(),A[1]):mu(i.value.partialRange)],i.value.enabled):ya(st(),+A),y=(A,$)=>(typeof A=="string"||typeof A=="number")&&t.modelType?ne(A):$,g=A=>Array.isArray(A)?[y(A[0],Lo(null,+A[0].hours,+A[0].minutes,A[0].seconds)),y(A[1],Lo(null,+A[1].hours,+A[1].minutes,A[1].seconds))]:y(A,Lo(null,A.hours,A.minutes,A.seconds)),S=A=>{const $=ir(st(),{date:1});return Array.isArray(A)?s.value.enabled?A.map(te=>y(te,Ga($,+te.month,+te.year))):kp(()=>[y(A[0],Ga($,+A[0].month,+A[0].year)),y(A[1],A[1]?Ga($,+A[1].month,+A[1].year):mu(i.value.partialRange))],i.value.enabled):y(A,Ga($,+A.month,+A.year))},T=A=>{if(Array.isArray(A))return A.map($=>ne($));throw new Error(gE.dateArr("multi-dates"))},I=A=>{if(Array.isArray(A)&&i.value.enabled){const $=A[0],te=A[1];return[st(Array.isArray($)?$[0]:null),Array.isArray(te)&&te.length?st(te[0]):null]}return st(A[0])},C=A=>t.modelAuto?Array.isArray(A)?[ne(A[0]),ne(A[1])]:t.autoApply?[ne(A)]:[ne(A),null]:Array.isArray(A)?kp(()=>A[1]?[ne(A[0]),A[1]?ne(A[1]):mu(i.value.partialRange)]:[ne(A[0])],i.value.enabled):ne(A),B=()=>{Array.isArray(n.value)&&i.value.enabled&&n.value.length===1&&n.value.push(mu(i.value.partialRange))},D=()=>{const A=n.value;return[V(A[0]),A[1]?V(A[1]):mu(i.value.partialRange)]},M=()=>n.value[1]?D():V(rn(n.value[0])),j=()=>(n.value||[]).map(A=>V(A)),O=(A=!1)=>(A||B(),t.modelAuto?M():s.value.enabled?j():Array.isArray(n.value)?kp(()=>D(),i.value.enabled):V(rn(n.value))),q=A=>!A||Array.isArray(A)&&!A.length?null:t.timePicker?g(rn(A)):t.monthPicker?S(rn(A)):t.yearPicker?m(rn(A)):s.value.enabled?T(rn(A)):t.weekPicker?I(rn(A)):C(rn(A)),Q=A=>{const $=q(A);eS(rn($))?(n.value=rn($),ae()):(n.value=null,l.value="")},ie=()=>{const A=$=>ba($,a.value.format);return`${A(n.value[0])} ${a.value.rangeSeparator} ${n.value[1]?A(n.value[1]):""}`},X=()=>r.value&&n.value?Array.isArray(n.value)?ie():ba(n.value,a.value.format):_(n.value),le=()=>n.value?s.value.enabled?n.value.map(A=>_(A)).join("; "):a.value.enabled&&typeof a.value.format=="string"?X():_(n.value):"",ae=()=>{!t.format||typeof t.format=="string"||a.value.enabled&&typeof a.value.format=="string"?l.value=le():l.value=t.format(n.value)},ne=A=>{if(t.utc){const $=new Date(A);return t.utc==="preserve"?new Date($.getTime()+$.getTimezoneOffset()*6e4):$}return t.modelType?dV.includes(t.modelType)?c(new Date(A)):t.modelType==="format"&&(typeof t.format=="string"||!t.format)?c(Qw(A,u(),new Date,{locale:d.value})):c(Qw(A,t.modelType,new Date,{locale:d.value})):c(new Date(A))},V=A=>A?t.utc?xV(A,t.utc==="preserve",t.enableSeconds):t.modelType?t.modelType==="timestamp"?+p(A):t.modelType==="iso"?p(A).toISOString():t.modelType==="format"&&(typeof t.format=="string"||!t.format)?_(p(A)):_(p(A),t.modelType,!0):p(A):"",oe=(A,$=!1,te=!1)=>{if(te)return A;if(e("update:model-value",A),o.value.emitTimezone&&$){const pe=Array.isArray(A)?A.map(R=>Zn(rn(R),o.value.emitTimezone)):Zn(rn(A),o.value.emitTimezone);e("update:model-timezone-value",pe)}},he=A=>Array.isArray(n.value)?s.value.enabled?n.value.map($=>A($)):[A(n.value[0]),n.value[1]?A(n.value[1]):mu(i.value.partialRange)]:A(rn(n.value)),Y=()=>{if(Array.isArray(n.value)){const A=Ha(n.value[0],t.weekStart),$=n.value[1]?Ha(n.value[1],t.weekStart):[];return[A.map(te=>st(te)),$.map(te=>st(te))]}return Ha(n.value,t.weekStart).map(A=>st(A))},Z=(A,$)=>oe(rn(he(A)),!1,$),ee=A=>{const $=Y();return A?$:e("update:model-value",Y())},P=(A=!1)=>(A||ae(),t.monthPicker?Z(b,A):t.timePicker?Z(v,A):t.yearPicker?Z(At,A):t.weekPicker?ee(A):oe(O(A),!0,A));return{inputValue:l,internalModelValue:n,checkBeforeEmit:()=>n.value?i.value.enabled?i.value.partialRange?n.value.length>=1:n.value.length===2:!!n.value:!1,parseExternalModelValue:Q,formatInputValue:ae,emitModelValue:P}},ZV=(e,t)=>{const{defaultedFilters:r,propDates:n}=vr(e),{validateMonthYearInRange:a}=Ko(e),i=(f,d)=>{let c=f;return r.value.months.includes(jt(c))?(c=d?zi(f,1):Bu(f,1),i(c,d)):c},o=(f,d)=>{let c=f;return r.value.years.includes(At(c))?(c=d?iE(f,1):a6(f,1),o(c,d)):c},s=(f,d=!1)=>{const c=ir(st(),{month:e.month,year:e.year});let p=f?zi(c,1):Bu(c,1);e.disableYearSelect&&(p=ya(p,e.year));let _=jt(p),v=At(p);r.value.months.includes(_)&&(p=i(p,f),_=jt(p),v=At(p)),r.value.years.includes(v)&&(p=o(p,f),v=At(p)),a(_,v,f,e.preventMinMaxNavigation)&&u(_,v,d)},u=(f,d,c)=>{t("update-month-year",{month:f,year:d,fromNav:c})},l=tt(()=>f=>y6(ir(st(),{month:e.month,year:e.year}),n.value.maxDate,n.value.minDate,e.preventMinMaxNavigation,f));return{handleMonthYearChange:s,isDisabled:l,updateMonthYear:u}},v0={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:[Boolean,String],default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:[String,Object],default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},highlight:{type:[Function,Object],default:null},teleport:{type:[Boolean,String,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:[Object,Boolean],default:!1},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},alwaysClearable:{type:Boolean,default:!1},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:[Boolean,Object],default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},onInternalModelChange:{type:[Function,Object],default:null},enableMinutes:{type:Boolean,default:!0},ui:{type:Object,default:()=>({})}},Qi={...v0,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},menuWrapRef:{type:Object,default:null},getInputRect:{type:Function,default:()=>({})},isTextInputDate:{type:Boolean,default:!1},isMobile:{type:Boolean,default:void 0}},YV=["title"],QV=["disabled"],XV=Gt({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...Qi},emits:["close-picker","select-date","select-now","invalid-select"],setup(e,{emit:t}){const r=t,n=e,{defaultedActionRow:a,defaultedPreviewFormat:i,defaultedMultiCalendars:o,defaultedTextInput:s,defaultedInline:u,defaultedRange:l,defaultedMultiDates:f}=vr(n),{isTimeValid:d,isMonthValid:c}=Ko(n),{buildMatrix:p}=Wo(),_=Je(null),v=Je(null),b=Je(!1),m=Je({}),y=Je(null),g=Je(null);Jt(()=>{n.arrowNavigation&&p([Qr(_),Qr(v)],"actionRow"),S(),window.addEventListener("resize",S)}),Yi(()=>{window.removeEventListener("resize",S)});const S=()=>{b.value=!1,setTimeout(()=>{var Q,ie;const X=(Q=y.value)==null?void 0:Q.getBoundingClientRect(),le=(ie=g.value)==null?void 0:ie.getBoundingClientRect();X&&le&&(m.value.maxWidth=`${le.width-X.width-20}px`),b.value=!0},0)},T=tt(()=>l.value.enabled&&!l.value.partialRange&&n.internalModelValue?n.internalModelValue.length===2:!0),I=tt(()=>!d.value(n.internalModelValue)||!c.value(n.internalModelValue)||!T.value),C=()=>{const Q=i.value;return n.timePicker||n.monthPicker,Q(rn(n.internalModelValue))},B=()=>{const Q=n.internalModelValue;return o.value.count>0?`${D(Q[0])} - ${D(Q[1])}`:[D(Q[0]),D(Q[1])]},D=Q=>g6(Q,i.value,n.formatLocale,s.value.rangeSeparator,n.modelAuto,i.value),M=tt(()=>!n.internalModelValue||!n.menuMount?"":typeof i.value=="string"?Array.isArray(n.internalModelValue)?n.internalModelValue.length===2&&n.internalModelValue[1]?B():f.value.enabled?n.internalModelValue.map(Q=>`${D(Q)}`):n.modelAuto?`${D(n.internalModelValue[0])}`:`${D(n.internalModelValue[0])} -`:D(n.internalModelValue):C()),j=()=>f.value.enabled?"; ":" - ",O=tt(()=>Array.isArray(M.value)?M.value.join(j()):M.value),q=()=>{d.value(n.internalModelValue)&&c.value(n.internalModelValue)&&T.value?r("select-date"):r("invalid-select")};return(Q,ie)=>(Ke(),et("div",{ref_key:"actionRowRef",ref:g,class:"dp__action_row"},[Q.$slots["action-row"]?pt(Q.$slots,"action-row",nn(jr({key:0},{internalModelValue:Q.internalModelValue,disabled:I.value,selectDate:()=>Q.$emit("select-date"),closePicker:()=>Q.$emit("close-picker")}))):(Ke(),et(wt,{key:1},[Fe(a).showPreview?(Ke(),et("div",{key:0,class:"dp__selection_preview",title:O.value,style:Fr(m.value)},[Q.$slots["action-preview"]&&b.value?pt(Q.$slots,"action-preview",{key:0,value:Q.internalModelValue}):rt("",!0),!Q.$slots["action-preview"]&&b.value?(Ke(),et(wt,{key:1},[Ri(qt(O.value),1)],64)):rt("",!0)],12,YV)):rt("",!0),_t("div",{ref_key:"actionBtnContainer",ref:y,class:"dp__action_buttons","data-dp-element":"action-row"},[Q.$slots["action-buttons"]?pt(Q.$slots,"action-buttons",{key:0,value:Q.internalModelValue}):rt("",!0),Q.$slots["action-buttons"]?rt("",!0):(Ke(),et(wt,{key:1},[!Fe(u).enabled&&Fe(a).showCancel?(Ke(),et("button",{key:0,ref_key:"cancelButtonRef",ref:_,type:"button",class:"dp__action_button dp__action_cancel",onClick:ie[0]||(ie[0]=X=>Q.$emit("close-picker")),onKeydown:ie[1]||(ie[1]=X=>Fe(kn)(X,()=>Q.$emit("close-picker")))},qt(Q.cancelText),545)):rt("",!0),Fe(a).showNow?(Ke(),et("button",{key:1,type:"button",class:"dp__action_button dp__action_cancel",onClick:ie[2]||(ie[2]=X=>Q.$emit("select-now")),onKeydown:ie[3]||(ie[3]=X=>Fe(kn)(X,()=>Q.$emit("select-now")))},qt(Q.nowButtonLabel),33)):rt("",!0),Fe(a).showSelect?(Ke(),et("button",{key:2,ref_key:"selectButtonRef",ref:v,type:"button",class:"dp__action_button dp__action_select",disabled:I.value,"data-test-id":"select-button",onKeydown:ie[4]||(ie[4]=X=>Fe(kn)(X,()=>q())),onClick:q},qt(Q.selectText),41,QV)):rt("",!0)],64))],512)],64))],512))}}),JV=["role","aria-label","tabindex"],ez={class:"dp__selection_grid_header"},tz=["aria-selected","aria-disabled","data-test-id","onClick","onKeydown","onMouseover"],rz=["aria-label"],Uh=Gt({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{},menuWrapRef:{},ariaLabels:{},overlayLabel:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(e,{expose:t,emit:r}){const{setSelectionGrid:n,buildMultiLevelMatrix:a,setMonthPicker:i}=Wo(),o=r,s=e,{defaultedAriaLabels:u,defaultedTextInput:l,defaultedConfig:f}=vr(s),{hideNavigationButtons:d}=E0(),c=Je(!1),p=Je(null),_=Je(null),v=Je([]),b=Je(),m=Je(null),y=Je(0),g=Je(null);vk(()=>{p.value=null}),Jt(()=>{xr().then(()=>j()),s.noOverlayFocus||T(),S(!0)}),Yi(()=>S(!1));const S=he=>{var Y;s.arrowNavigation&&((Y=s.headerRefs)!=null&&Y.length?i(he):n(he))},T=()=>{var he;const Y=Qr(_);Y&&(l.value.enabled||(p.value?(he=p.value)==null||he.focus({preventScroll:!0}):Y.focus({preventScroll:!0})),c.value=Y.clientHeight<Y.scrollHeight)},I=tt(()=>({dp__overlay:!0,"dp--overlay-absolute":!s.useRelative,"dp--overlay-relative":s.useRelative})),C=tt(()=>s.useRelative?{height:`${s.height}px`,width:"var(--dp-menu-min-width)"}:void 0),B=tt(()=>({dp__overlay_col:!0})),D=tt(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:c.value,dp__button_bottom:s.isLast})),M=tt(()=>{var he,Y;return{dp__overlay_container:!0,dp__container_flex:((he=s.items)==null?void 0:he.length)<=6,dp__container_block:((Y=s.items)==null?void 0:Y.length)>6}});Jr(()=>s.items,()=>j(!1),{deep:!0});const j=(he=!0)=>{xr().then(()=>{const Y=Qr(p),Z=Qr(_),ee=Qr(m),P=Qr(g),A=ee?ee.getBoundingClientRect().height:0;Z&&(Z.getBoundingClientRect().height?y.value=Z.getBoundingClientRect().height-A:y.value=f.value.modeHeight-A),Y&&P&&he&&(P.scrollTop=Y.offsetTop-P.offsetTop-(y.value/2-Y.getBoundingClientRect().height)-A)})},O=he=>{he.disabled||o("selected",he.value)},q=()=>{o("toggle"),o("reset-flow")},Q=()=>{s.escClose&&q()},ie=(he,Y,Z,ee)=>{he&&((Y.active||Y.value===s.focusValue)&&(p.value=he),s.arrowNavigation&&(Array.isArray(v.value[Z])?v.value[Z][ee]=he:v.value[Z]=[he],X()))},X=()=>{var he,Y;const Z=(he=s.headerRefs)!=null&&he.length?[s.headerRefs].concat(v.value):v.value.concat([s.skipButtonRef?[]:[m.value]]);a(rn(Z),(Y=s.headerRefs)!=null&&Y.length?"monthPicker":"selectionGrid")},le=he=>{s.arrowNavigation||Co(he,f.value,!0)},ae=he=>{b.value=he,o("hover-value",he)},ne=()=>{if(q(),!s.isLast){const he=Jw(s.menuWrapRef??null,"action-row");if(he){const Y=l6(he);Y==null||Y.focus()}}},V=he=>{switch(he.key){case cr.esc:return Q();case cr.arrowLeft:return le(he);case cr.arrowRight:return le(he);case cr.arrowUp:return le(he);case cr.arrowDown:return le(he);default:return}},oe=he=>{if(he.key===cr.enter)return q();if(he.key===cr.tab)return ne()};return t({focusGrid:T}),(he,Y)=>{var Z;return Ke(),et("div",{ref_key:"gridWrapRef",ref:_,class:vt(I.value),style:Fr(C.value),role:he.useRelative?void 0:"dialog","aria-label":he.overlayLabel,tabindex:he.useRelative?void 0:"0",onKeydown:V,onClick:Y[0]||(Y[0]=Th(()=>{},["prevent"]))},[_t("div",{ref_key:"containerRef",ref:g,class:vt(M.value),style:Fr({"--dp-overlay-height":`${y.value}px`}),role:"grid"},[_t("div",ez,[pt(he.$slots,"header")]),he.$slots.overlay?pt(he.$slots,"overlay",{key:0}):(Ke(!0),et(wt,{key:1},pr(he.items,(ee,P)=>(Ke(),et("div",{key:P,class:vt(["dp__overlay_row",{dp__flex_row:he.items.length>=3}]),role:"row"},[(Ke(!0),et(wt,null,pr(ee,(A,$)=>(Ke(),et("div",{key:A.value,ref_for:!0,ref:te=>ie(te,A,P,$),role:"gridcell",class:vt(B.value),"aria-selected":A.active||void 0,"aria-disabled":A.disabled||void 0,tabindex:"0","data-test-id":A.text,onClick:Th(te=>O(A),["prevent"]),onKeydown:te=>Fe(kn)(te,()=>O(A),!0),onMouseover:te=>ae(A.value)},[_t("div",{class:vt(A.className)},[he.$slots.item?pt(he.$slots,"item",{key:0,item:A}):rt("",!0),he.$slots.item?rt("",!0):(Ke(),et(wt,{key:1},[Ri(qt(A.text),1)],64))],2)],42,tz))),128))],2))),128))],6),he.$slots["button-icon"]?Po((Ke(),et("button",{key:0,ref_key:"toggleButton",ref:m,type:"button","aria-label":(Z=Fe(u))==null?void 0:Z.toggleOverlay,class:vt(D.value),tabindex:"0",onClick:q,onKeydown:oe},[pt(he.$slots,"button-icon")],42,rz)),[[Lm,!Fe(d)(he.hideNavigation,he.type)]]):rt("",!0)],46,JV)}}}),nz=["data-dp-mobile"],w0=Gt({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean},collapse:{type:Boolean},isMobile:{type:Boolean}},setup(e){const t=e,r=tt(()=>t.multiCalendars>0?[...Array(t.multiCalendars).keys()]:[0]),n=tt(()=>({dp__instance_calendar:t.multiCalendars>0}));return(a,i)=>(Ke(),et("div",{class:vt({dp__menu_inner:!a.stretch,"dp--menu--inner-stretched":a.stretch,dp__flex_display:a.multiCalendars>0,"dp--flex-display-collapsed":a.collapse}),"data-dp-mobile":a.isMobile},[(Ke(!0),et(wt,null,pr(r.value,(o,s)=>(Ke(),et("div",{key:o,class:vt(n.value)},[pt(a.$slots,"default",{instance:o,index:s})],2))),128))],10,nz))}}),iz=["data-dp-element","aria-label","aria-disabled"],fh=Gt({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},elName:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(e,{emit:t}){const r=t,n=Je(null);return Jt(()=>r("set-ref",n)),(a,i)=>(Ke(),et("button",{ref_key:"elRef",ref:n,type:"button","data-dp-element":a.elName,class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":a.ariaLabel,"aria-disabled":a.disabled||void 0,onClick:i[0]||(i[0]=o=>a.$emit("activate")),onKeydown:i[1]||(i[1]=o=>Fe(kn)(o,()=>a.$emit("activate"),!0))},[_t("span",{class:vt(["dp__inner_nav",{dp__inner_nav_disabled:a.disabled}])},[pt(a.$slots,"default")],2)],40,iz))}}),az=["aria-label","data-test-id"],v6=Gt({__name:"YearModePicker",props:{...Qi,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(e,{emit:t}){const r=t,n=e,{showRightIcon:a,showLeftIcon:i}=E0(),{defaultedConfig:o,defaultedMultiCalendars:s,defaultedAriaLabels:u,defaultedTransitions:l,defaultedUI:f}=vr(n),{showTransition:d,transitionName:c}=Hh(l),p=Je(!1),_=(m=!1,y)=>{p.value=!p.value,r("toggle-year-picker",{flow:m,show:y})},v=m=>{p.value=!1,r("year-select",m)},b=(m=!1)=>{r("handle-year",m)};return(m,y)=>{var g,S,T,I,C;return Ke(),et(wt,null,[_t("div",{class:vt(["dp--year-mode-picker",{"dp--hidden-el":p.value}])},[Fe(i)(Fe(s),e.instance)?(Ke(),Ot(fh,{key:0,ref:"mpPrevIconRef","aria-label":(g=Fe(u))==null?void 0:g.prevYear,disabled:e.isDisabled(!1),class:vt((S=Fe(f))==null?void 0:S.navBtnPrev),onActivate:y[0]||(y[0]=B=>b(!1))},{default:bt(()=>[m.$slots["arrow-left"]?pt(m.$slots,"arrow-left",{key:0}):rt("",!0),m.$slots["arrow-left"]?rt("",!0):(Ke(),Ot(Fe(fE),{key:1}))]),_:3},8,["aria-label","disabled","class"])):rt("",!0),_t("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":`${e.year}-${(T=Fe(u))==null?void 0:T.openYearsOverlay}`,"data-test-id":`year-mode-btn-${e.instance}`,onClick:y[1]||(y[1]=()=>_(!1)),onKeydown:y[2]||(y[2]=t9(()=>_(!1),["enter"]))},[m.$slots.year?pt(m.$slots,"year",{key:0,year:e.year}):rt("",!0),m.$slots.year?rt("",!0):(Ke(),et(wt,{key:1},[Ri(qt(e.year),1)],64))],40,az),Fe(a)(Fe(s),e.instance)?(Ke(),Ot(fh,{key:1,ref:"mpNextIconRef","aria-label":(I=Fe(u))==null?void 0:I.nextYear,disabled:e.isDisabled(!0),class:vt((C=Fe(f))==null?void 0:C.navBtnNext),onActivate:y[3]||(y[3]=B=>b(!0))},{default:bt(()=>[m.$slots["arrow-right"]?pt(m.$slots,"arrow-right",{key:0}):rt("",!0),m.$slots["arrow-right"]?rt("",!0):(Ke(),Ot(Fe(cE),{key:1}))]),_:3},8,["aria-label","disabled","class"])):rt("",!0)],2),Nt(el,{name:Fe(c)(e.showYearPicker),css:Fe(d)},{default:bt(()=>{var B,D;return[e.showYearPicker?(Ke(),Ot(Uh,{key:0,items:e.items,"text-input":m.textInput,"esc-close":m.escClose,config:m.config,"is-last":m.autoApply&&!Fe(o).keepActionRow,"hide-navigation":m.hideNavigation,"aria-labels":m.ariaLabels,"overlay-label":(D=(B=Fe(u))==null?void 0:B.yearPicker)==null?void 0:D.call(B,!0),type:"year",onToggle:_,onSelected:y[4]||(y[4]=M=>v(M))},wn({"button-icon":bt(()=>[m.$slots["calendar-icon"]?pt(m.$slots,"calendar-icon",{key:0}):rt("",!0),m.$slots["calendar-icon"]?rt("",!0):(Ke(),Ot(Fe(ol),{key:1}))]),_:2},[m.$slots["year-overlay-value"]?{name:"item",fn:bt(({item:M})=>[pt(m.$slots,"year-overlay-value",{text:M.text,value:M.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation","aria-labels","overlay-label"])):rt("",!0)]}),_:3},8,["name","css"])],64)}}}),vE=(e,t,r)=>{if(t.value&&Array.isArray(t.value))if(t.value.some(n=>Bt(e,n))){const n=t.value.filter(a=>!Bt(a,e));t.value=n.length?n:null}else(r&&+r>t.value.length||!r)&&t.value.push(e);else t.value=[e]},wE=(e,t,r)=>{let n=e.value?e.value.slice():[];return n.length===2&&n[1]!==null&&(n=[]),n.length?(Ir(t,n[0])?n.unshift(t):n[1]=t,r("range-end",t)):(n=[t],r("range-start",t)),n},S0=(e,t,r,n)=>{e&&(e[0]&&e[1]&&r&&t("auto-apply"),e[0]&&!e[1]&&n&&r&&t("auto-apply"))},w6=e=>{Array.isArray(e.value)&&e.value.length<=2&&e.range?e.modelValue.value=e.value.map(t=>Zn(st(t),e.timezone)):Array.isArray(e.value)||(e.modelValue.value=Zn(st(e.value),e.timezone))},S6=(e,t,r,n)=>Array.isArray(t.value)&&(t.value.length===2||t.value.length===1&&n.value.partialRange)?n.value.fixedStart&&(kr(e,t.value[0])||Bt(e,t.value[0]))?[t.value[0],e]:n.value.fixedEnd&&(Ir(e,t.value[1])||Bt(e,t.value[1]))?[e,t.value[1]]:(r("invalid-fixed-range",e),t.value):[],E6=({multiCalendars:e,range:t,highlight:r,propDates:n,calendars:a,modelValue:i,props:o,filters:s,year:u,month:l,emit:f})=>{const d=tt(()=>yE(o.yearRange,o.locale,o.reverseYears)),c=Je([!1]),p=tt(()=>(M,j)=>{const O=ir(Ui(new Date),{month:l.value(M),year:u.value(M)}),q=j?zF(O):Rh(O);return y6(q,n.value.maxDate,n.value.minDate,o.preventMinMaxNavigation,j)}),_=()=>Array.isArray(i.value)&&e.value.solo&&i.value[1],v=()=>{for(let M=0;M<e.value.count;M++)if(M===0)a.value[M]=a.value[0];else if(M===e.value.count-1&&_())a.value[M]={month:jt(i.value[1]),year:At(i.value[1])};else{const j=ir(st(),a.value[M-1]);a.value[M]={month:jt(j),year:At(iE(j,1))}}},b=M=>{if(!M)return v();const j=ir(st(),a.value[M]);return a.value[0].year=At(a6(j,e.value.count-1)),v()},m=(M,j)=>{const O=hU(j,M);return t.value.showLastInRange&&O>1?j:M},y=M=>o.focusStartDate||e.value.solo?M[0]:M[1]?m(M[0],M[1]):M[0],g=()=>{if(i.value){const M=Array.isArray(i.value)?y(i.value):i.value;a.value[0]={month:jt(M),year:At(M)}}},S=()=>{g(),e.value.count&&v()};Jr(i,(M,j)=>{o.isTextInputDate&&JSON.stringify(M??{})!==JSON.stringify(j??{})&&S()}),Jt(()=>{S()});const T=(M,j)=>{a.value[j].year=M,f("update-month-year",{instance:j,year:M,month:a.value[j].month}),e.value.count&&!e.value.solo&&b(j)},I=tt(()=>M=>qu(d.value,j=>{var O;const q=u.value(M)===j.value,Q=Ah(j.value,$u(n.value.minDate),$u(n.value.maxDate))||((O=s.value.years)==null?void 0:O.includes(u.value(M))),ie=bE(r.value,j.value);return{active:q,disabled:Q,highlighted:ie}})),C=(M,j)=>{T(M,j),D(j)},B=(M,j=!1)=>{if(!p.value(M,j)){const O=j?u.value(M)+1:u.value(M)-1;T(O,M)}},D=(M,j=!1,O)=>{j||f("reset-flow"),O!==void 0?c.value[M]=O:c.value[M]=!c.value[M],c.value[M]?f("overlay-toggle",{open:!0,overlay:_n.year}):(f("overlay-closed"),f("overlay-toggle",{open:!1,overlay:_n.year}))};return{isDisabled:p,groupedYears:I,showYearPicker:c,selectYear:T,toggleYearPicker:D,handleYearSelect:C,handleYear:B}},oz=(e,t)=>{const{defaultedMultiCalendars:r,defaultedAriaLabels:n,defaultedTransitions:a,defaultedConfig:i,defaultedRange:o,defaultedHighlight:s,propDates:u,defaultedTz:l,defaultedFilters:f,defaultedMultiDates:d}=vr(e),c=()=>{e.isTextInputDate&&S(At(st(e.startDate)),0)},{modelValue:p,year:_,month:v,calendars:b}=Vh(e,t,c),m=tt(()=>s6(e.formatLocale,e.locale,e.monthNameFormat)),y=Je(null),{checkMinMaxRange:g}=Ko(e),{selectYear:S,groupedYears:T,showYearPicker:I,toggleYearPicker:C,handleYearSelect:B,handleYear:D,isDisabled:M}=E6({modelValue:p,multiCalendars:r,range:o,highlight:s,calendars:b,year:_,propDates:u,month:v,filters:f,props:e,emit:t});Jt(()=>{e.startDate&&(p.value&&e.focusStartDate||!p.value)&&S(At(st(e.startDate)),0)});const j=Z=>Z?{month:jt(Z),year:At(Z)}:{month:null,year:null},O=()=>p.value?Array.isArray(p.value)?p.value.map(Z=>j(Z)):j(p.value):j(),q=(Z,ee)=>{const P=b.value[Z],A=O();return Array.isArray(A)?A.some($=>$.year===(P==null?void 0:P.year)&&$.month===ee):(P==null?void 0:P.year)===A.year&&ee===A.month},Q=(Z,ee,P)=>{var A,$;const te=O();return Array.isArray(te)?_.value(ee)===((A=te[P])==null?void 0:A.year)&&Z===(($=te[P])==null?void 0:$.month):!1},ie=(Z,ee)=>{if(o.value.enabled){const P=O();if(Array.isArray(p.value)&&Array.isArray(P)){const A=Q(Z,ee,0)||Q(Z,ee,1),$=Ga(Ui(st()),Z,_.value(ee));return Ih(p.value,y.value,$)&&!A}return!1}return!1},X=tt(()=>Z=>qu(m.value,ee=>{var P;const A=q(Z,ee.value),$=Ah(ee.value,d6(_.value(Z),u.value.minDate),h6(_.value(Z),u.value.maxDate))||OV(u.value.disabledDates,_.value(Z),ee.value)||((P=f.value.months)==null?void 0:P.includes(ee.value))||!PV(u.value.allowedDates,_.value(Z),ee.value),te=ie(ee.value,Z),pe=_6(s.value,ee.value,_.value(Z));return{active:A,disabled:$,isBetween:te,highlighted:pe}})),le=(Z,ee)=>Ga(Ui(st()),Z,_.value(ee)),ae=(Z,ee)=>{const P=p.value?p.value:Ui(new Date);p.value=Ga(P,Z,_.value(ee)),t("auto-apply"),t("update-flow-step")},ne=(Z,ee)=>{const P=le(Z,ee);o.value.fixedEnd||o.value.fixedStart?p.value=S6(P,p,t,o):p.value?g(P,p.value)&&(p.value=wE(p,le(Z,ee),t)):p.value=[le(Z,ee)],xr().then(()=>{S0(p.value,t,e.autoApply,e.modelAuto)})},V=(Z,ee)=>{vE(le(Z,ee),p,d.value.limit),t("auto-apply",!0)},oe=(Z,ee)=>(b.value[ee].month=Z,Y(ee,b.value[ee].year,Z),d.value.enabled?V(Z,ee):o.value.enabled?ne(Z,ee):ae(Z,ee)),he=(Z,ee)=>{S(Z,ee),Y(ee,Z,null)},Y=(Z,ee,P)=>{let A=P;if(!A&&A!==0){const $=O();A=Array.isArray($)?$[Z].month:$.month}t("update-month-year",{instance:Z,year:ee,month:A})};return{groupedMonths:X,groupedYears:T,year:_,isDisabled:M,defaultedMultiCalendars:r,defaultedAriaLabels:n,defaultedTransitions:a,defaultedConfig:i,showYearPicker:I,modelValue:p,presetDate:(Z,ee)=>{w6({value:Z,modelValue:p,range:o.value.enabled,timezone:ee?void 0:l.value.timezone}),t("auto-apply")},setHoverDate:(Z,ee)=>{y.value=le(Z,ee)},selectMonth:oe,selectYear:he,toggleYearPicker:C,handleYearSelect:B,handleYear:D,getModelMonthYear:O}},sz=Gt({compatConfig:{MODE:3},__name:"MonthPicker",props:{...Qi},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","update-flow-step","mount","invalid-fixed-range","overlay-toggle"],setup(e,{expose:t,emit:r}){const n=r,a=Ws(),i=ri(a,"yearMode"),o=e;Jt(()=>{o.shadow||n("mount",null)});const{groupedMonths:s,groupedYears:u,year:l,isDisabled:f,defaultedMultiCalendars:d,defaultedConfig:c,showYearPicker:p,modelValue:_,presetDate:v,setHoverDate:b,selectMonth:m,selectYear:y,toggleYearPicker:g,handleYearSelect:S,handleYear:T,getModelMonthYear:I}=oz(o,n);return t({getSidebarProps:()=>({modelValue:_,year:l,getModelMonthYear:I,selectMonth:m,selectYear:y,handleYear:T}),presetDate:v,toggleYearPicker:C=>g(0,C)}),(C,B)=>(Ke(),Ot(w0,{"multi-calendars":Fe(d).count,collapse:C.collapse,stretch:"","is-mobile":C.isMobile},{default:bt(({instance:D})=>[C.$slots["top-extra"]?pt(C.$slots,"top-extra",{key:0,value:C.internalModelValue}):rt("",!0),C.$slots["month-year"]?pt(C.$slots,"month-year",nn(jr({key:1},{year:Fe(l),months:Fe(s)(D),years:Fe(u)(D),selectMonth:Fe(m),selectYear:Fe(y),instance:D}))):(Ke(),Ot(Uh,{key:2,items:Fe(s)(D),"arrow-navigation":C.arrowNavigation,"is-last":C.autoApply&&!Fe(c).keepActionRow,"esc-close":C.escClose,height:Fe(c).modeHeight,config:C.config,"no-overlay-focus":!!(C.noOverlayFocus||C.textInput),"use-relative":"",type:"month",onSelected:M=>Fe(m)(M,D),onHoverValue:M=>Fe(b)(M,D)},wn({header:bt(()=>[Nt(v6,jr(C.$props,{items:Fe(u)(D),instance:D,"show-year-picker":Fe(p)[D],year:Fe(l)(D),"is-disabled":M=>Fe(f)(D,M),onHandleYear:M=>Fe(T)(D,M),onYearSelect:M=>Fe(S)(M,D),onToggleYearPicker:M=>Fe(g)(D,M==null?void 0:M.flow,M==null?void 0:M.show)}),wn({_:2},[pr(Fe(i),(M,j)=>({name:M,fn:bt(O=>[pt(C.$slots,M,nn(Mn(O)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},[C.$slots["month-overlay-value"]?{name:"item",fn:bt(({item:M})=>[pt(C.$slots,"month-overlay-value",{text:M.text,value:M.value})]),key:"0"}:void 0]),1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars","collapse","is-mobile"]))}}),uz=(e,t)=>{const r=()=>{e.isTextInputDate&&(f.value=At(st(e.startDate)))},{modelValue:n}=Vh(e,t,r),a=Je(null),{defaultedHighlight:i,defaultedMultiDates:o,defaultedFilters:s,defaultedRange:u,propDates:l}=vr(e),f=Je();Jt(()=>{e.startDate&&(n.value&&e.focusStartDate||!n.value)&&(f.value=At(st(e.startDate)))});const d=m=>Array.isArray(n.value)?n.value.some(y=>At(y)===m):n.value?At(n.value)===m:!1,c=m=>u.value.enabled&&Array.isArray(n.value)?Ih(n.value,a.value,b(m)):!1,p=m=>l.value.allowedDates instanceof Map?l.value.allowedDates.size?l.value.allowedDates.has(`${m}`):!1:!0,_=m=>l.value.disabledDates instanceof Map?l.value.disabledDates.size?l.value.disabledDates.has(`${m}`):!1:!0,v=tt(()=>qu(yE(e.yearRange,e.locale,e.reverseYears),m=>{const y=d(m.value),g=Ah(m.value,$u(l.value.minDate),$u(l.value.maxDate))||s.value.years.includes(m.value)||!p(m.value)||_(m.value),S=c(m.value)&&!y,T=bE(i.value,m.value);return{active:y,disabled:g,isBetween:S,highlighted:T}})),b=m=>ya(Ui(Rh(new Date)),m);return{groupedYears:v,modelValue:n,focusYear:f,setHoverValue:m=>{a.value=ya(Ui(new Date),m)},selectYear:m=>{var y;if(t("update-month-year",{instance:0,year:m}),o.value.enabled)return n.value?Array.isArray(n.value)&&(((y=n.value)==null?void 0:y.map(g=>At(g))).includes(m)?n.value=n.value.filter(g=>At(g)!==m):n.value.push(ya(pn(st()),m))):n.value=[ya(pn(Rh(st())),m)],t("auto-apply",!0);u.value.enabled?(n.value=wE(n,b(m),t),xr().then(()=>{S0(n.value,t,e.autoApply,e.modelAuto)})):(n.value=b(m),t("auto-apply"))}}},lz=Gt({compatConfig:{MODE:3},__name:"YearPicker",props:{...Qi},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply","update-month-year"],setup(e,{expose:t,emit:r}){const n=r,a=e,{groupedYears:i,modelValue:o,focusYear:s,selectYear:u,setHoverValue:l}=uz(a,n),{defaultedConfig:f}=vr(a);return t({getSidebarProps:()=>({modelValue:o,selectYear:u})}),(d,c)=>(Ke(),et("div",null,[d.$slots["top-extra"]?pt(d.$slots,"top-extra",{key:0,value:d.internalModelValue}):rt("",!0),d.$slots["month-year"]?pt(d.$slots,"month-year",nn(jr({key:1},{years:Fe(i),selectYear:Fe(u)}))):(Ke(),Ot(Uh,{key:2,items:Fe(i),"is-last":d.autoApply&&!Fe(f).keepActionRow,height:Fe(f).modeHeight,config:d.config,"no-overlay-focus":!!(d.noOverlayFocus||d.textInput),"focus-value":Fe(s),type:"year","use-relative":"",onSelected:Fe(u),onHoverValue:Fe(l)},wn({_:2},[d.$slots["year-overlay-value"]?{name:"item",fn:bt(({item:p})=>[pt(d.$slots,"year-overlay-value",{text:p.text,value:p.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),fz={key:0,class:"dp__time_input"},cz=["data-compact","data-collapsed"],dz=["data-test-id","aria-label","onKeydown","onClick","onMousedown"],hz=["aria-label","disabled","data-test-id","onKeydown","onClick"],pz=["data-test-id","aria-label","onKeydown","onClick","onMousedown"],mz={key:0},yz=["aria-label","data-compact"],gz=Gt({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Qi},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","overlay-opened","am-pm-change"],setup(e,{expose:t,emit:r}){const n=r,a=e,{setTimePickerElements:i,setTimePickerBackRef:o}=Wo(),{defaultedAriaLabels:s,defaultedTransitions:u,defaultedFilters:l,defaultedConfig:f,defaultedRange:d,defaultedMultiCalendars:c}=vr(a),{transitionName:p,showTransition:_}=Hh(u),v=Ja({hours:!1,minutes:!1,seconds:!1}),b=Je("AM"),m=Je(null),y=Je([]),g=Je(),S=Je(!1);Jt(()=>{n("mounted")});const T=U=>ir(new Date,{hours:U.hours,minutes:U.minutes,seconds:a.enableSeconds?U.seconds:0,milliseconds:0}),I=tt(()=>U=>ne(U,a[U])||B(U,a[U])),C=tt(()=>({hours:a.hours,minutes:a.minutes,seconds:a.seconds})),B=(U,re)=>d.value.enabled&&!d.value.disableTimeRangeValidation?!a.validateTime(U,re):!1,D=(U,re)=>{if(d.value.enabled&&!d.value.disableTimeRangeValidation){const fe=re?+a[`${U}Increment`]:-+a[`${U}Increment`],ve=a[U]+fe;return!a.validateTime(U,ve)}return!1},M=tt(()=>U=>!Z(+a[U]+ +a[`${U}Increment`],U)||D(U,!0)),j=tt(()=>U=>!Z(+a[U]-+a[`${U}Increment`],U)||D(U,!1)),O=(U,re)=>BF(ir(st(),U),re),q=(U,re)=>uV(ir(st(),U),re),Q=tt(()=>({dp__time_col:!0,dp__time_col_block:!a.timePickerInline,dp__time_col_reg_block:!a.enableSeconds&&a.is24&&!a.timePickerInline,dp__time_col_reg_inline:!a.enableSeconds&&a.is24&&a.timePickerInline,dp__time_col_reg_with_button:!a.enableSeconds&&!a.is24,dp__time_col_sec:a.enableSeconds&&a.is24,dp__time_col_sec_with_button:a.enableSeconds&&!a.is24})),ie=tt(()=>a.timePickerInline&&d.value.enabled&&!c.value.count),X=tt(()=>{const U=[{type:"hours"}];return a.enableMinutes&&U.push({type:"",separator:!0},{type:"minutes"}),a.enableSeconds&&U.push({type:"",separator:!0},{type:"seconds"}),U}),le=tt(()=>X.value.filter(U=>!U.separator)),ae=tt(()=>U=>{if(U==="hours"){const re=pe(+a.hours);return{text:re<10?`0${re}`:`${re}`,value:re}}return{text:a[U]<10?`0${a[U]}`:`${a[U]}`,value:a[U]}}),ne=(U,re)=>{var fe;if(!a.disabledTimesConfig)return!1;const ve=a.disabledTimesConfig(a.order,U==="hours"?re:void 0);return ve[U]?!!((fe=ve[U])!=null&&fe.includes(re)):!0},V=(U,re)=>re!=="hours"||b.value==="AM"?U:U+12,oe=U=>{const re=a.is24?24:12,fe=U==="hours"?re:60,ve=+a[`${U}GridIncrement`],ce=U==="hours"&&!a.is24?ve:0,Ie=[];for(let be=ce;be<fe;be+=ve)Ie.push({value:a.is24?be:V(be,U),text:be<10?`0${be}`:`${be}`});return U==="hours"&&!a.is24&&Ie.unshift({value:b.value==="PM"?12:0,text:"12"}),qu(Ie,be=>({active:!1,disabled:l.value.times[U].includes(be.value)||!Z(be.value,U)||ne(U,be.value)||B(U,be.value)}))},he=U=>U>=0?U:59,Y=U=>U>=0?U:23,Z=(U,re)=>{const fe=a.minTime?T(Hy(a.minTime)):null,ve=a.maxTime?T(Hy(a.maxTime)):null,ce=T(Hy(C.value,re,re==="minutes"||re==="seconds"?he(U):Y(U)));return fe&&ve?(ju(ce,ve)||Tu(ce,ve))&&(Hs(ce,fe)||Tu(ce,fe)):fe?Hs(ce,fe)||Tu(ce,fe):ve?ju(ce,ve)||Tu(ce,ve):!0},ee=U=>a[`no${U[0].toUpperCase()+U.slice(1)}Overlay`],P=U=>{ee(U)||(v[U]=!v[U],v[U]?(S.value=!0,n("overlay-opened",U)):(S.value=!1,n("overlay-closed",U)))},A=U=>U==="hours"?Za:U==="minutes"?Mo:Fu,$=()=>{g.value&&clearTimeout(g.value)},te=(U,re=!0,fe)=>{const ve=re?O:q,ce=re?+a[`${U}Increment`]:-+a[`${U}Increment`];Z(+a[U]+ce,U)&&n(`update:${U}`,A(U)(ve({[U]:+a[U]},{[U]:+a[`${U}Increment`]}))),!(fe!=null&&fe.keyboard)&&f.value.timeArrowHoldThreshold&&(g.value=setTimeout(()=>{te(U,re)},f.value.timeArrowHoldThreshold))},pe=U=>a.is24?U:(U>=12?b.value="PM":b.value="AM",mV(U)),R=()=>{b.value==="PM"?(b.value="AM",n("update:hours",a.hours-12)):(b.value="PM",n("update:hours",a.hours+12)),n("am-pm-change",b.value)},w=U=>{v[U]=!0},x=(U,re,fe)=>{if(U&&a.arrowNavigation){Array.isArray(y.value[re])?y.value[re][fe]=U:y.value[re]=[U];const ve=y.value.reduce((ce,Ie)=>Ie.map((be,xe)=>[...ce[xe]||[],Ie[xe]]),[]);o(a.closeTimePickerBtn),m.value&&(ve[1]=ve[1].concat(m.value)),i(ve,a.order)}},k=(U,re)=>(P(U),n(`update:${U}`,re));return t({openChildCmp:w}),(U,re)=>{var fe;return U.disabled?rt("",!0):(Ke(),et("div",fz,[(Ke(!0),et(wt,null,pr(X.value,(ve,ce)=>{var Ie,be,xe;return Ke(),et("div",{key:ce,class:vt(Q.value),"data-compact":ie.value&&!U.enableSeconds,"data-collapsed":ie.value&&U.enableSeconds},[ve.separator?(Ke(),et(wt,{key:0},[S.value?rt("",!0):(Ke(),et(wt,{key:0},[Ri(":")],64))],64)):(Ke(),et(wt,{key:1},[_t("button",{ref_for:!0,ref:je=>x(je,ce,0),type:"button",class:vt({dp__btn:!0,dp__inc_dec_button:!U.timePickerInline,dp__inc_dec_button_inline:U.timePickerInline,dp__tp_inline_btn_top:U.timePickerInline,dp__inc_dec_button_disabled:M.value(ve.type),"dp--hidden-el":S.value}),"data-test-id":`${ve.type}-time-inc-btn-${a.order}`,"aria-label":(Ie=Fe(s))==null?void 0:Ie.incrementValue(ve.type),tabindex:"0",onKeydown:je=>Fe(kn)(je,()=>te(ve.type,!0,{keyboard:!0}),!0),onClick:je=>Fe(f).timeArrowHoldThreshold?void 0:te(ve.type,!0),onMousedown:je=>Fe(f).timeArrowHoldThreshold?te(ve.type,!0):void 0,onMouseup:$},[a.timePickerInline?(Ke(),et(wt,{key:1},[U.$slots["tp-inline-arrow-up"]?pt(U.$slots,"tp-inline-arrow-up",{key:0}):(Ke(),et(wt,{key:1},[re[2]||(re[2]=_t("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1)),re[3]||(re[3]=_t("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1))],64))],64)):(Ke(),et(wt,{key:0},[U.$slots["arrow-up"]?pt(U.$slots,"arrow-up",{key:0}):rt("",!0),U.$slots["arrow-up"]?rt("",!0):(Ke(),Ot(Fe(hE),{key:1}))],64))],42,dz),_t("button",{ref_for:!0,ref:je=>x(je,ce,1),type:"button","aria-label":`${ae.value(ve.type).text}-${(be=Fe(s))==null?void 0:be.openTpOverlay(ve.type)}`,class:vt({dp__time_display:!0,dp__time_display_block:!U.timePickerInline,dp__time_display_inline:U.timePickerInline,"dp--time-invalid":I.value(ve.type),"dp--time-overlay-btn":!I.value(ve.type),"dp--hidden-el":S.value}),disabled:ee(ve.type),tabindex:"0","data-test-id":`${ve.type}-toggle-overlay-btn-${a.order}`,onKeydown:je=>Fe(kn)(je,()=>P(ve.type),!0),onClick:je=>P(ve.type)},[U.$slots[ve.type]?pt(U.$slots,ve.type,{key:0,text:ae.value(ve.type).text,value:ae.value(ve.type).value}):rt("",!0),U.$slots[ve.type]?rt("",!0):(Ke(),et(wt,{key:1},[Ri(qt(ae.value(ve.type).text),1)],64))],42,hz),_t("button",{ref_for:!0,ref:je=>x(je,ce,2),type:"button",class:vt({dp__btn:!0,dp__inc_dec_button:!U.timePickerInline,dp__inc_dec_button_inline:U.timePickerInline,dp__tp_inline_btn_bottom:U.timePickerInline,dp__inc_dec_button_disabled:j.value(ve.type),"dp--hidden-el":S.value}),"data-test-id":`${ve.type}-time-dec-btn-${a.order}`,"aria-label":(xe=Fe(s))==null?void 0:xe.decrementValue(ve.type),tabindex:"0",onKeydown:je=>Fe(kn)(je,()=>te(ve.type,!1,{keyboard:!0}),!0),onClick:je=>Fe(f).timeArrowHoldThreshold?void 0:te(ve.type,!1),onMousedown:je=>Fe(f).timeArrowHoldThreshold?te(ve.type,!1):void 0,onMouseup:$},[a.timePickerInline?(Ke(),et(wt,{key:1},[U.$slots["tp-inline-arrow-down"]?pt(U.$slots,"tp-inline-arrow-down",{key:0}):(Ke(),et(wt,{key:1},[re[4]||(re[4]=_t("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1)),re[5]||(re[5]=_t("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1))],64))],64)):(Ke(),et(wt,{key:0},[U.$slots["arrow-down"]?pt(U.$slots,"arrow-down",{key:0}):rt("",!0),U.$slots["arrow-down"]?rt("",!0):(Ke(),Ot(Fe(pE),{key:1}))],64))],42,pz)],64))],10,cz)}),128)),U.is24?rt("",!0):(Ke(),et("div",mz,[U.$slots["am-pm-button"]?pt(U.$slots,"am-pm-button",{key:0,toggle:R,value:b.value}):rt("",!0),U.$slots["am-pm-button"]?rt("",!0):(Ke(),et("button",{key:1,ref_key:"amPmButton",ref:m,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(fe=Fe(s))==null?void 0:fe.amPmButton,tabindex:"0","data-compact":ie.value,onClick:R,onKeydown:re[0]||(re[0]=ve=>Fe(kn)(ve,()=>R(),!0))},qt(b.value),41,yz))])),(Ke(!0),et(wt,null,pr(le.value,(ve,ce)=>(Ke(),Ot(el,{key:ce,name:Fe(p)(v[ve.type]),css:Fe(_)},{default:bt(()=>{var Ie,be;return[v[ve.type]?(Ke(),Ot(Uh,{key:0,items:oe(ve.type),"is-last":U.autoApply&&!Fe(f).keepActionRow,"esc-close":U.escClose,type:ve.type,"text-input":U.textInput,config:U.config,"arrow-navigation":U.arrowNavigation,"aria-labels":U.ariaLabels,"overlay-label":(be=(Ie=Fe(s)).timeOverlay)==null?void 0:be.call(Ie,ve.type),onSelected:xe=>k(ve.type,xe),onToggle:xe=>P(ve.type),onResetFlow:re[1]||(re[1]=xe=>U.$emit("reset-flow"))},wn({"button-icon":bt(()=>[U.$slots["clock-icon"]?pt(U.$slots,"clock-icon",{key:0}):rt("",!0),U.$slots["clock-icon"]?rt("",!0):(Ke(),Ot(wa(U.timePickerInline?Fe(ol):Fe(dE)),{key:1}))]),_:2},[U.$slots[`${ve.type}-overlay-value`]?{name:"item",fn:bt(({item:xe})=>[pt(U.$slots,`${ve.type}-overlay-value`,{text:xe.text,value:xe.value})]),key:"0"}:void 0,U.$slots[`${ve.type}-overlay-header`]?{name:"header",fn:bt(()=>[pt(U.$slots,`${ve.type}-overlay-header`,{toggle:()=>P(ve.type)})]),key:"1"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","aria-labels","overlay-label","onSelected","onToggle"])):rt("",!0)]}),_:2},1032,["name","css"]))),128))]))}}}),_z=["data-dp-mobile"],bz=["aria-label","tabindex"],vz=["role","aria-label","tabindex"],wz=["aria-label"],x6=Gt({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Qi},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(e,{expose:t,emit:r}){const n=r,a=e,{buildMatrix:i,setTimePicker:o}=Wo(),s=Ws(),{defaultedTransitions:u,defaultedAriaLabels:l,defaultedTextInput:f,defaultedConfig:d,defaultedRange:c}=vr(a),{transitionName:p,showTransition:_}=Hh(u),{hideNavigationButtons:v}=E0(),b=Je(null),m=Je(null),y=Je([]),g=Je(null),S=Je(!1);Jt(()=>{n("mount"),!a.timePicker&&a.arrowNavigation?i([Qr(b.value)],"time"):o(!0,a.timePicker)});const T=tt(()=>c.value.enabled&&a.modelAuto?u6(a.internalModelValue):!0),I=Je(!1),C=ne=>({hours:Array.isArray(a.hours)?a.hours[ne]:a.hours,minutes:Array.isArray(a.minutes)?a.minutes[ne]:a.minutes,seconds:Array.isArray(a.seconds)?a.seconds[ne]:a.seconds}),B=tt(()=>{const ne=[];if(c.value.enabled)for(let V=0;V<2;V++)ne.push(C(V));else ne.push(C(0));return ne}),D=(ne,V=!1,oe="")=>{V||n("reset-flow"),I.value=ne,n(ne?"overlay-opened":"overlay-closed",_n.time),a.arrowNavigation&&o(ne),xr(()=>{oe!==""&&y.value[0]&&y.value[0].openChildCmp(oe)})},M=tt(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:a.autoApply&&!d.value.keepActionRow})),j=ri(s,"timePicker"),O=(ne,V,oe)=>c.value.enabled?V===0?[ne,B.value[1][oe]]:[B.value[0][oe],ne]:ne,q=ne=>{n("update:hours",ne)},Q=ne=>{n("update:minutes",ne)},ie=ne=>{n("update:seconds",ne)},X=()=>{if(g.value&&!f.value.enabled&&!a.noOverlayFocus){const ne=l6(g.value);ne&&ne.focus({preventScroll:!0})}},le=ne=>{S.value=!1,n("overlay-closed",ne)},ae=ne=>{S.value=!0,n("overlay-opened",ne)};return t({toggleTimePicker:D}),(ne,V)=>{var oe;return Ke(),et("div",{class:"dp--tp-wrap","data-dp-mobile":ne.isMobile},[!ne.timePicker&&!ne.timePickerInline?Po((Ke(),et("button",{key:0,ref_key:"openTimePickerBtn",ref:b,type:"button",class:vt({...M.value,"dp--hidden-el":I.value}),"aria-label":(oe=Fe(l))==null?void 0:oe.openTimePicker,tabindex:ne.noOverlayFocus?void 0:0,"data-test-id":"open-time-picker-btn",onKeydown:V[0]||(V[0]=he=>Fe(kn)(he,()=>D(!0))),onClick:V[1]||(V[1]=he=>D(!0))},[ne.$slots["clock-icon"]?pt(ne.$slots,"clock-icon",{key:0}):rt("",!0),ne.$slots["clock-icon"]?rt("",!0):(Ke(),Ot(Fe(dE),{key:1}))],42,bz)),[[Lm,!Fe(v)(ne.hideNavigation,"time")]]):rt("",!0),Nt(el,{name:Fe(p)(I.value),css:Fe(_)&&!ne.timePickerInline},{default:bt(()=>{var he,Y;return[I.value||ne.timePicker||ne.timePickerInline?(Ke(),et("div",{key:0,ref_key:"overlayRef",ref:g,role:ne.timePickerInline?void 0:"dialog",class:vt({dp__overlay:!ne.timePickerInline,"dp--overlay-absolute":!a.timePicker&&!ne.timePickerInline,"dp--overlay-relative":a.timePicker}),style:Fr(ne.timePicker?{height:`${Fe(d).modeHeight}px`}:void 0),"aria-label":(he=Fe(l))==null?void 0:he.timePicker,tabindex:ne.timePickerInline?void 0:0},[_t("div",{class:vt(ne.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[ne.$slots["time-picker-overlay"]?pt(ne.$slots,"time-picker-overlay",{key:0,hours:e.hours,minutes:e.minutes,seconds:e.seconds,setHours:q,setMinutes:Q,setSeconds:ie}):rt("",!0),ne.$slots["time-picker-overlay"]?rt("",!0):(Ke(),et("div",{key:1,class:vt(ne.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(Ke(!0),et(wt,null,pr(B.value,(Z,ee)=>Po((Ke(),Ot(gz,jr({key:ee,ref_for:!0},{...ne.$props,order:ee,hours:Z.hours,minutes:Z.minutes,seconds:Z.seconds,closeTimePickerBtn:m.value,disabledTimesConfig:e.disabledTimesConfig,disabled:ee===0?Fe(c).fixedStart:Fe(c).fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:y,"validate-time":(P,A)=>e.validateTime(P,O(A,ee,P)),"onUpdate:hours":P=>q(O(P,ee,"hours")),"onUpdate:minutes":P=>Q(O(P,ee,"minutes")),"onUpdate:seconds":P=>ie(O(P,ee,"seconds")),onMounted:X,onOverlayClosed:le,onOverlayOpened:ae,onAmPmChange:V[2]||(V[2]=P=>ne.$emit("am-pm-change",P))}),wn({_:2},[pr(Fe(j),(P,A)=>({name:P,fn:bt($=>[pt(ne.$slots,P,jr({ref_for:!0},$))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[Lm,ee===0?!0:T.value]])),128))],2)),!ne.timePicker&&!ne.timePickerInline?Po((Ke(),et("button",{key:2,ref_key:"closeTimePickerBtn",ref:m,type:"button",class:vt({...M.value,"dp--hidden-el":S.value}),"aria-label":(Y=Fe(l))==null?void 0:Y.closeTimePicker,tabindex:"0",onKeydown:V[3]||(V[3]=Z=>Fe(kn)(Z,()=>D(!1))),onClick:V[4]||(V[4]=Z=>D(!1))},[ne.$slots["calendar-icon"]?pt(ne.$slots,"calendar-icon",{key:0}):rt("",!0),ne.$slots["calendar-icon"]?rt("",!0):(Ke(),Ot(Fe(ol),{key:1}))],42,wz)),[[Lm,!Fe(v)(ne.hideNavigation,"time")]]):rt("",!0)],2)],14,vz)):rt("",!0)]}),_:3},8,["name","css"])],8,_z)}}}),T6=(e,t,r,n)=>{const{defaultedRange:a}=vr(e),i=(g,S)=>Array.isArray(t[g])?t[g][S]:t[g],o=g=>e.enableSeconds?Array.isArray(t.seconds)?t.seconds[g]:t.seconds:0,s=(g,S)=>g?S!==void 0?Lo(g,i("hours",S),i("minutes",S),o(S)):Lo(g,t.hours,t.minutes,o()):i6(st(),o(S)),u=(g,S)=>{t[g]=S},l=tt(()=>e.modelAuto&&a.value.enabled?Array.isArray(r.value)?r.value.length>1:!1:a.value.enabled),f=(g,S)=>{const T=Object.fromEntries(Object.keys(t).map(I=>I===g?[I,S]:[I,t[I]].slice()));if(l.value&&!a.value.disableTimeRangeValidation){const I=B=>r.value?Lo(r.value[B],T.hours[B],T.minutes[B],T.seconds[B]):null,C=B=>n6(r.value[B],0);return!(Bt(I(0),I(1))&&(Hs(I(0),C(1))||ju(I(1),C(0))))}return!0},d=(g,S)=>{f(g,S)&&(u(g,S),n&&n())},c=g=>{d("hours",g)},p=g=>{d("minutes",g)},_=g=>{d("seconds",g)},v=(g,S,T,I)=>{S&&c(g),!S&&!T&&p(g),T&&_(g),r.value&&I(r.value)},b=g=>{if(g){const S=Array.isArray(g),T=S?[+g[0].hours,+g[1].hours]:+g.hours,I=S?[+g[0].minutes,+g[1].minutes]:+g.minutes,C=S?[+g[0].seconds,+g[1].seconds]:+g.seconds;u("hours",T),u("minutes",I),e.enableSeconds&&u("seconds",C)}},m=(g,S)=>{const T={hours:Array.isArray(t.hours)?t.hours[g]:t.hours,disabledArr:[]};return(S||S===0)&&(T.hours=S),Array.isArray(e.disabledTimes)&&(T.disabledArr=a.value.enabled&&Array.isArray(e.disabledTimes[g])?e.disabledTimes[g]:e.disabledTimes),T},y=tt(()=>(g,S)=>{var T;if(Array.isArray(e.disabledTimes)){const{disabledArr:I,hours:C}=m(g,S),B=I.filter(D=>+D.hours===C);return((T=B[0])==null?void 0:T.minutes)==="*"?{hours:[C],minutes:void 0,seconds:void 0}:{hours:[],minutes:(B==null?void 0:B.map(D=>+D.minutes))??[],seconds:(B==null?void 0:B.map(D=>D.seconds?+D.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:u,updateHours:c,updateMinutes:p,updateSeconds:_,getSetDateTime:s,updateTimeValues:v,getSecondsValue:o,assignStartTime:b,validateTime:f,disabledTimesConfig:y}},Sz=(e,t)=>{const r=()=>{e.isTextInputDate&&S()},{modelValue:n,time:a}=Vh(e,t,r),{defaultedStartTime:i,defaultedRange:o,defaultedTz:s}=vr(e),{updateTimeValues:u,getSetDateTime:l,setTime:f,assignStartTime:d,disabledTimesConfig:c,validateTime:p}=T6(e,a,n,_);function _(){t("update-flow-step")}const v=I=>{const{hours:C,minutes:B,seconds:D}=I;return{hours:+C,minutes:+B,seconds:D?+D:0}},b=()=>{if(e.startTime){if(Array.isArray(e.startTime)){const C=v(e.startTime[0]),B=v(e.startTime[1]);return[ir(st(),C),ir(st(),B)]}const I=v(e.startTime);return ir(st(),I)}return o.value.enabled?[null,null]:null},m=()=>{if(o.value.enabled){const[I,C]=b();n.value=[Zn(l(I,0),s.value.timezone),Zn(l(C,1),s.value.timezone)]}else n.value=Zn(l(b()),s.value.timezone)},y=I=>Array.isArray(I)?[$s(st(I[0])),$s(st(I[1]))]:[$s(I??st())],g=(I,C,B)=>{f("hours",I),f("minutes",C),f("seconds",e.enableSeconds?B:0)},S=()=>{const[I,C]=y(n.value);return o.value.enabled?g([I.hours,C.hours],[I.minutes,C.minutes],[I.seconds,C.seconds]):g(I.hours,I.minutes,I.seconds)};Jt(()=>{if(!e.shadow)return d(i.value),n.value?S():m()});const T=()=>{Array.isArray(n.value)?n.value=n.value.map((I,C)=>I&&l(I,C)):n.value=l(n.value),t("time-update")};return{modelValue:n,time:a,disabledTimesConfig:c,updateTime:(I,C=!0,B=!1)=>{u(I,C,B,T)},validateTime:p}},Ez=Gt({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...Qi},emits:["update:internal-model-value","time-update","am-pm-change","mount","reset-flow","update-flow-step","overlay-toggle"],setup(e,{expose:t,emit:r}){const n=r,a=e,i=Ws(),o=ri(i,"timePicker"),s=Je(null),{time:u,modelValue:l,disabledTimesConfig:f,updateTime:d,validateTime:c}=Sz(a,n);return Jt(()=>{a.shadow||n("mount",null)}),t({getSidebarProps:()=>({modelValue:l,time:u,updateTime:d}),toggleTimePicker:(p,_=!1,v="")=>{var b;(b=s.value)==null||b.toggleTimePicker(p,_,v)}}),(p,_)=>(Ke(),Ot(w0,{"multi-calendars":0,stretch:"","is-mobile":p.isMobile},{default:bt(()=>[Nt(x6,jr({ref_key:"tpRef",ref:s},p.$props,{hours:Fe(u).hours,minutes:Fe(u).minutes,seconds:Fe(u).seconds,"internal-model-value":p.internalModelValue,"disabled-times-config":Fe(f),"validate-time":Fe(c),"onUpdate:hours":_[0]||(_[0]=v=>Fe(d)(v)),"onUpdate:minutes":_[1]||(_[1]=v=>Fe(d)(v,!1)),"onUpdate:seconds":_[2]||(_[2]=v=>Fe(d)(v,!1,!0)),onAmPmChange:_[3]||(_[3]=v=>p.$emit("am-pm-change",v)),onResetFlow:_[4]||(_[4]=v=>p.$emit("reset-flow")),onOverlayClosed:_[5]||(_[5]=v=>p.$emit("overlay-toggle",{open:!1,overlay:v})),onOverlayOpened:_[6]||(_[6]=v=>p.$emit("overlay-toggle",{open:!0,overlay:v}))}),wn({_:2},[pr(Fe(o),(v,b)=>({name:v,fn:bt(m=>[pt(p.$slots,v,nn(Mn(m)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3},8,["is-mobile"]))}}),xz={class:"dp--header-wrap"},Tz={key:0,class:"dp__month_year_wrap"},Rz={key:0},Az={class:"dp__month_year_wrap"},Iz=["data-dp-element","aria-label","data-test-id","onClick","onKeydown"],Oz=Gt({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...Qi},emits:["update-month-year","mount","reset-flow","overlay-closed","overlay-opened"],setup(e,{expose:t,emit:r}){const n=r,a=e,{defaultedTransitions:i,defaultedAriaLabels:o,defaultedMultiCalendars:s,defaultedFilters:u,defaultedConfig:l,defaultedHighlight:f,propDates:d,defaultedUI:c}=vr(a),{transitionName:p,showTransition:_}=Hh(i),{buildMatrix:v}=Wo(),{handleMonthYearChange:b,isDisabled:m,updateMonthYear:y}=ZV(a,n),{showLeftIcon:g,showRightIcon:S}=E0(),T=Je(!1),I=Je(!1),C=Je(!1),B=Je([null,null,null,null]);Jt(()=>{n("mount")});const D=Y=>({get:()=>a[Y],set:Z=>{const ee=Y===qi.month?qi.year:qi.month;n("update-month-year",{[Y]:Z,[ee]:a[ee]}),Y===qi.month?le(!0):ae(!0)}}),M=tt(D(qi.month)),j=tt(D(qi.year)),O=tt(()=>Y=>({month:a.month,year:a.year,items:Y===qi.month?a.months:a.years,instance:a.instance,updateMonthYear:y,toggle:Y===qi.month?le:ae})),q=tt(()=>a.months.find(Z=>Z.value===a.month)||{text:"",value:0}),Q=tt(()=>qu(a.months,Y=>{const Z=a.month===Y.value,ee=Ah(Y.value,d6(a.year,d.value.minDate),h6(a.year,d.value.maxDate))||u.value.months.includes(Y.value),P=_6(f.value,Y.value,a.year);return{active:Z,disabled:ee,highlighted:P}})),ie=tt(()=>qu(a.years,Y=>{const Z=a.year===Y.value,ee=Ah(Y.value,$u(d.value.minDate),$u(d.value.maxDate))||u.value.years.includes(Y.value),P=bE(f.value,Y.value);return{active:Z,disabled:ee,highlighted:P}})),X=(Y,Z,ee)=>{ee!==void 0?Y.value=ee:Y.value=!Y.value,Y.value?(C.value=!0,n("overlay-opened",Z)):(C.value=!1,n("overlay-closed",Z))},le=(Y=!1,Z)=>{ne(Y),X(T,_n.month,Z)},ae=(Y=!1,Z)=>{ne(Y),X(I,_n.year,Z)},ne=Y=>{Y||n("reset-flow")},V=(Y,Z)=>{a.arrowNavigation&&(B.value[Z]=Qr(Y),v(B.value,"monthYear"))},oe=tt(()=>{var Y,Z,ee,P,A,$;return[{type:qi.month,index:1,toggle:le,modelValue:M.value,updateModelValue:te=>M.value=te,text:q.value.text,showSelectionGrid:T.value,items:Q.value,ariaLabel:(Y=o.value)==null?void 0:Y.openMonthsOverlay,overlayLabel:((ee=(Z=o.value).monthPicker)==null?void 0:ee.call(Z,!0))??void 0},{type:qi.year,index:2,toggle:ae,modelValue:j.value,updateModelValue:te=>j.value=te,text:f6(a.year,a.locale),showSelectionGrid:I.value,items:ie.value,ariaLabel:(P=o.value)==null?void 0:P.openYearsOverlay,overlayLabel:(($=(A=o.value).yearPicker)==null?void 0:$.call(A,!0))??void 0}]}),he=tt(()=>a.disableYearSelect?[oe.value[0]]:a.yearFirst?[...oe.value].reverse():oe.value);return t({toggleMonthPicker:le,toggleYearPicker:ae,handleMonthYearChange:b}),(Y,Z)=>{var ee,P,A,$,te,pe;return Ke(),et("div",xz,[Y.$slots["month-year"]?(Ke(),et("div",Tz,[pt(Y.$slots,"month-year",nn(Mn({month:e.month,year:e.year,months:e.months,years:e.years,updateMonthYear:Fe(y),handleMonthYearChange:Fe(b),instance:e.instance,isDisabled:Fe(m)})))])):(Ke(),et(wt,{key:1},[Y.$slots["top-extra"]?(Ke(),et("div",Rz,[pt(Y.$slots,"top-extra",{value:Y.internalModelValue})])):rt("",!0),_t("div",Az,[Fe(g)(Fe(s),e.instance)&&!Y.vertical?(Ke(),Ot(fh,{key:0,"aria-label":(ee=Fe(o))==null?void 0:ee.prevMonth,disabled:Fe(m)(!1),class:vt((P=Fe(c))==null?void 0:P.navBtnPrev),"el-name":"action-prev",onActivate:Z[0]||(Z[0]=R=>Fe(b)(!1,!0)),onSetRef:Z[1]||(Z[1]=R=>V(R,0))},{default:bt(()=>[Y.$slots["arrow-left"]?pt(Y.$slots,"arrow-left",{key:0}):rt("",!0),Y.$slots["arrow-left"]?rt("",!0):(Ke(),Ot(Fe(fE),{key:1}))]),_:3},8,["aria-label","disabled","class"])):rt("",!0),_t("div",{class:vt(["dp__month_year_wrap",{dp__year_disable_select:Y.disableYearSelect}])},[(Ke(!0),et(wt,null,pr(he.value,(R,w)=>(Ke(),et(wt,{key:R.type},[_t("button",{ref_for:!0,ref:x=>V(x,w+1),type:"button","data-dp-element":`overlay-${R.type}`,class:vt(["dp__btn dp__month_year_select",{"dp--hidden-el":C.value}]),"aria-label":`${R.text}-${R.ariaLabel}`,"data-test-id":`${R.type}-toggle-overlay-${e.instance}`,onClick:R.toggle,onKeydown:x=>Fe(kn)(x,()=>R.toggle(),!0)},[Y.$slots[R.type]?pt(Y.$slots,R.type,{key:0,text:R.text,value:a[R.type]}):rt("",!0),Y.$slots[R.type]?rt("",!0):(Ke(),et(wt,{key:1},[Ri(qt(R.text),1)],64))],42,Iz),Nt(el,{name:Fe(p)(R.showSelectionGrid),css:Fe(_)},{default:bt(()=>[R.showSelectionGrid?(Ke(),Ot(Uh,{key:0,items:R.items,"arrow-navigation":Y.arrowNavigation,"hide-navigation":Y.hideNavigation,"is-last":Y.autoApply&&!Fe(l).keepActionRow,"skip-button-ref":!1,config:Y.config,type:R.type,"header-refs":[],"esc-close":Y.escClose,"menu-wrap-ref":Y.menuWrapRef,"text-input":Y.textInput,"aria-labels":Y.ariaLabels,"overlay-label":R.overlayLabel,onSelected:R.updateModelValue,onToggle:R.toggle},wn({"button-icon":bt(()=>[Y.$slots["calendar-icon"]?pt(Y.$slots,"calendar-icon",{key:0}):rt("",!0),Y.$slots["calendar-icon"]?rt("",!0):(Ke(),Ot(Fe(ol),{key:1}))]),_:2},[Y.$slots[`${R.type}-overlay-value`]?{name:"item",fn:bt(({item:x})=>[pt(Y.$slots,`${R.type}-overlay-value`,{text:x.text,value:x.value})]),key:"0"}:void 0,Y.$slots[`${R.type}-overlay`]?{name:"overlay",fn:bt(()=>[pt(Y.$slots,`${R.type}-overlay`,jr({ref_for:!0},O.value(R.type)))]),key:"1"}:void 0,Y.$slots[`${R.type}-overlay-header`]?{name:"header",fn:bt(()=>[pt(Y.$slots,`${R.type}-overlay-header`,{toggle:R.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","menu-wrap-ref","text-input","aria-labels","overlay-label","onSelected","onToggle"])):rt("",!0)]),_:2},1032,["name","css"])],64))),128))],2),Fe(g)(Fe(s),e.instance)&&Y.vertical?(Ke(),Ot(fh,{key:1,"aria-label":(A=Fe(o))==null?void 0:A.prevMonth,"el-name":"action-prev",disabled:Fe(m)(!1),class:vt(($=Fe(c))==null?void 0:$.navBtnPrev),onActivate:Z[2]||(Z[2]=R=>Fe(b)(!1,!0))},{default:bt(()=>[Y.$slots["arrow-up"]?pt(Y.$slots,"arrow-up",{key:0}):rt("",!0),Y.$slots["arrow-up"]?rt("",!0):(Ke(),Ot(Fe(hE),{key:1}))]),_:3},8,["aria-label","disabled","class"])):rt("",!0),Fe(S)(Fe(s),e.instance)?(Ke(),Ot(fh,{key:2,ref:"rightIcon","el-name":"action-next",disabled:Fe(m)(!0),"aria-label":(te=Fe(o))==null?void 0:te.nextMonth,class:vt((pe=Fe(c))==null?void 0:pe.navBtnNext),onActivate:Z[3]||(Z[3]=R=>Fe(b)(!0,!0)),onSetRef:Z[4]||(Z[4]=R=>V(R,Y.disableYearSelect?2:3))},{default:bt(()=>[Y.$slots[Y.vertical?"arrow-down":"arrow-right"]?pt(Y.$slots,Y.vertical?"arrow-down":"arrow-right",{key:0}):rt("",!0),Y.$slots[Y.vertical?"arrow-down":"arrow-right"]?rt("",!0):(Ke(),Ot(wa(Y.vertical?Fe(pE):Fe(cE)),{key:1}))]),_:3},8,["disabled","aria-label","class"])):rt("",!0)])],64))])}}}),Pz={class:"dp__calendar_header",role:"row"},Cz={key:0,class:"dp__calendar_header_item",role:"gridcell"},Lz=["aria-label"],Dz={key:0,class:"dp__calendar_item dp__week_num",role:"gridcell"},Nz={class:"dp__cell_inner"},Mz=["id","aria-pressed","aria-disabled","aria-label","tabindex","data-test-id","onClick","onTouchend","onKeydown","onMouseenter","onMouseleave","onMousedown"],kz=Gt({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Qi},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(e,{expose:t,emit:r}){const n=r,a=e,{buildMultiLevelMatrix:i}=Wo(),{defaultedTransitions:o,defaultedConfig:s,defaultedAriaLabels:u,defaultedMultiCalendars:l,defaultedWeekNumbers:f,defaultedMultiDates:d,defaultedUI:c}=vr(a),p=Je(null),_=Je({bottom:"",left:"",transform:""}),v=Je([]),b=Je(null),m=Je(!0),y=Je(""),g=Je({startX:0,endX:0,startY:0,endY:0}),S=Je([]),T=Je({left:"50%"}),I=Je(!1),C=tt(()=>a.calendar?a.calendar(a.mappedDates):a.mappedDates),B=tt(()=>a.dayNames?Array.isArray(a.dayNames)?a.dayNames:a.dayNames(a.locale,+a.weekStart):pV(a.formatLocale,a.locale,+a.weekStart));Jt(()=>{n("mount",{cmp:"calendar",refs:v}),s.value.noSwipe||b.value&&(b.value.addEventListener("touchstart",V,{passive:!1}),b.value.addEventListener("touchend",oe,{passive:!1}),b.value.addEventListener("touchmove",he,{passive:!1})),a.monthChangeOnScroll&&b.value&&b.value.addEventListener("wheel",ee,{passive:!1})});const D=R=>R?a.vertical?"vNext":"next":a.vertical?"vPrevious":"previous",M=(R,w)=>{if(a.transitions){const x=pn(Ga(st(),a.month,a.year));y.value=kr(pn(Ga(st(),R,w)),x)?o.value[D(!0)]:o.value[D(!1)],m.value=!1,xr(()=>{m.value=!0})}},j=tt(()=>({...c.value.calendar??{}})),O=tt(()=>R=>{const w=yV(R);return{dp__marker_dot:w.type==="dot",dp__marker_line:w.type==="line"}}),q=tt(()=>R=>Bt(R,p.value)),Q=tt(()=>({dp__calendar:!0,dp__calendar_next:l.value.count>0&&a.instance!==0})),ie=tt(()=>R=>a.hideOffsetDates?R.current:!0),X=async(R,w)=>{const{width:x,height:k}=R.getBoundingClientRect();p.value=w.value;let U={left:`${x/2}px`},re=-50;if(await xr(),S.value[0]){const{left:fe,width:ve}=S.value[0].getBoundingClientRect();fe<0&&(U={left:"0"},re=0,T.value.left=`${x/2}px`),window.innerWidth<fe+ve&&(U={right:"0"},re=0,T.value.left=`${ve-x/2}px`)}_.value={bottom:`${k}px`,...U,transform:`translateX(${re}%)`}},le=async(R,w,x)=>{var k,U,re;const fe=Qr(v.value[w][x]);fe&&((k=R.marker)!=null&&k.customPosition&&(re=(U=R.marker)==null?void 0:U.tooltip)!=null&&re.length?_.value=R.marker.customPosition(fe):await X(fe,R),n("tooltip-open",R.marker))},ae=async(R,w,x)=>{var k,U;if(I.value&&d.value.enabled&&d.value.dragSelect)return n("select-date",R);if(n("set-hover-date",R),(U=(k=R.marker)==null?void 0:k.tooltip)!=null&&U.length){if(a.hideOffsetDates&&!R.current)return;await le(R,w,x)}},ne=R=>{p.value&&(p.value=null,_.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),n("tooltip-close",R.marker))},V=R=>{g.value.startX=R.changedTouches[0].screenX,g.value.startY=R.changedTouches[0].screenY},oe=R=>{g.value.endX=R.changedTouches[0].screenX,g.value.endY=R.changedTouches[0].screenY,Y()},he=R=>{a.vertical&&!a.inline&&R.preventDefault()},Y=()=>{const R=a.vertical?"Y":"X";Math.abs(g.value[`start${R}`]-g.value[`end${R}`])>10&&n("handle-swipe",g.value[`start${R}`]>g.value[`end${R}`]?"right":"left")},Z=(R,w,x)=>{R&&(Array.isArray(v.value[w])?v.value[w][x]=R:v.value[w]=[R]),a.arrowNavigation&&i(v.value,"calendar")},ee=R=>{a.monthChangeOnScroll&&(R.preventDefault(),n("handle-scroll",R))},P=R=>f.value.type==="local"?sE(R.value,{weekStartsOn:+a.weekStart}):f.value.type==="iso"?aE(R.value):typeof f.value.type=="function"?f.value.type(R.value):"",A=R=>{const w=R[0];return f.value.hideOnOffsetDates?R.some(x=>x.current)?P(w):"":P(w)},$=(R,w,x=!0)=>{!x&&wV()||(!d.value.enabled||s.value.allowPreventDefault)&&(Co(R,s.value),n("select-date",w))},te=R=>{Co(R,s.value)},pe=R=>{d.value.enabled&&d.value.dragSelect?(I.value=!0,n("select-date",R)):d.value.enabled&&n("select-date",R)};return t({triggerTransition:M}),(R,w)=>(Ke(),et("div",{class:vt(Q.value)},[_t("div",{ref_key:"calendarWrapRef",ref:b,class:vt(j.value),role:"grid"},[_t("div",Pz,[R.weekNumbers?(Ke(),et("div",Cz,qt(R.weekNumName),1)):rt("",!0),(Ke(!0),et(wt,null,pr(B.value,(x,k)=>{var U,re;return Ke(),et("div",{key:k,class:"dp__calendar_header_item",role:"gridcell","data-test-id":"calendar-header","aria-label":(re=(U=Fe(u))==null?void 0:U.weekDay)==null?void 0:re.call(U,k)},[R.$slots["calendar-header"]?pt(R.$slots,"calendar-header",{key:0,day:x,index:k}):rt("",!0),R.$slots["calendar-header"]?rt("",!0):(Ke(),et(wt,{key:1},[Ri(qt(x),1)],64))],8,Lz)}),128))]),w[2]||(w[2]=_t("div",{class:"dp__calendar_header_separator"},null,-1)),Nt(el,{name:y.value,css:!!R.transitions},{default:bt(()=>[m.value?(Ke(),et("div",{key:0,class:"dp__calendar",role:"rowgroup",onMouseleave:w[1]||(w[1]=x=>I.value=!1)},[(Ke(!0),et(wt,null,pr(C.value,(x,k)=>(Ke(),et("div",{key:k,class:"dp__calendar_row",role:"row"},[R.weekNumbers?(Ke(),et("div",Dz,[_t("div",Nz,qt(A(x.days)),1)])):rt("",!0),(Ke(!0),et(wt,null,pr(x.days,(U,re)=>{var fe,ve,ce;return Ke(),et("div",{id:Fe(tS)(U.value),ref_for:!0,ref:Ie=>Z(Ie,k,re),key:re+k,role:"gridcell",class:"dp__calendar_item","aria-pressed":(U.classData.dp__active_date||U.classData.dp__range_start||U.classData.dp__range_start)??void 0,"aria-disabled":U.classData.dp__cell_disabled||void 0,"aria-label":(ve=(fe=Fe(u))==null?void 0:fe.day)==null?void 0:ve.call(fe,U),tabindex:!U.current&&R.hideOffsetDates?void 0:0,"data-test-id":Fe(tS)(U.value),onClick:Th(Ie=>$(Ie,U),["prevent"]),onTouchend:Ie=>$(Ie,U,!1),onKeydown:Ie=>Fe(kn)(Ie,()=>R.$emit("select-date",U)),onMouseenter:Ie=>ae(U,k,re),onMouseleave:Ie=>ne(U),onMousedown:Ie=>pe(U),onMouseup:w[0]||(w[0]=Ie=>I.value=!1)},[_t("div",{class:vt(["dp__cell_inner",U.classData])},[R.$slots.day&&ie.value(U)?pt(R.$slots,"day",{key:0,day:+U.text,date:U.value}):rt("",!0),R.$slots.day?rt("",!0):(Ke(),et(wt,{key:1},[Ri(qt(U.text),1)],64)),U.marker&&ie.value(U)?(Ke(),et(wt,{key:2},[R.$slots.marker?pt(R.$slots,"marker",{key:0,marker:U.marker,day:+U.text,date:U.value}):(Ke(),et("div",{key:1,class:vt(O.value(U.marker)),style:Fr(U.marker.color?{backgroundColor:U.marker.color}:{})},null,6))],64)):rt("",!0),q.value(U.value)?(Ke(),et("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:S,class:"dp__marker_tooltip",style:Fr(_.value)},[(ce=U.marker)!=null&&ce.tooltip?(Ke(),et("div",{key:0,class:"dp__tooltip_content",onClick:te},[(Ke(!0),et(wt,null,pr(U.marker.tooltip,(Ie,be)=>(Ke(),et("div",{key:be,class:"dp__tooltip_text"},[R.$slots["marker-tooltip"]?pt(R.$slots,"marker-tooltip",{key:0,tooltip:Ie,day:U.value}):rt("",!0),R.$slots["marker-tooltip"]?rt("",!0):(Ke(),et(wt,{key:1},[_t("div",{class:"dp__tooltip_mark",style:Fr(Ie.color?{backgroundColor:Ie.color}:{})},null,4),_t("div",null,qt(Ie.text),1)],64))]))),128)),_t("div",{class:"dp__arrow_bottom_tp",style:Fr(T.value)},null,4)])):rt("",!0)],4)):rt("",!0)],2)],40,Mz)}),128))]))),128))],32)):rt("",!0)]),_:3},8,["name","css"])],2)],2))}}),$R=e=>Array.isArray(e),Fz=(e,t,r,n)=>{const a=Je([]),i=Je(new Date),o=Je(),s=()=>oe(e.isTextInputDate),{modelValue:u,calendars:l,time:f,today:d}=Vh(e,t,s),{defaultedMultiCalendars:c,defaultedStartTime:p,defaultedRange:_,defaultedConfig:v,defaultedTz:b,propDates:m,defaultedMultiDates:y}=vr(e),{validateMonthYearInRange:g,isDisabled:S,isDateRangeAllowed:T,checkMinMaxRange:I}=Ko(e),{updateTimeValues:C,getSetDateTime:B,setTime:D,assignStartTime:M,validateTime:j,disabledTimesConfig:O}=T6(e,f,u,n),q=tt(()=>Re=>l.value[Re]?l.value[Re].month:0),Q=tt(()=>Re=>l.value[Re]?l.value[Re].year:0),ie=Re=>!v.value.keepViewOnOffsetClick||Re?!0:!o.value,X=(Re,qe,H,Te=!1)=>{var De,me;ie(Te)&&(l.value[Re]||(l.value[Re]={month:0,year:0}),l.value[Re].month=MR(qe)?(De=l.value[Re])==null?void 0:De.month:qe,l.value[Re].year=MR(H)?(me=l.value[Re])==null?void 0:me.year:H)},le=()=>{e.autoApply&&t("select-date")},ae=()=>{p.value&&M(p.value)};Jt(()=>{e.shadow||(u.value||(w(),ae()),oe(!0),e.focusStartDate&&e.startDate&&w())});const ne=tt(()=>{var Re;return(Re=e.flow)!=null&&Re.length&&!e.partialFlow?e.flowStep===e.flow.length:!0}),V=()=>{e.autoApply&&ne.value&&t("auto-apply",e.partialFlow?e.flowStep!==e.flow.length:!1)},oe=(Re=!1)=>{if(u.value)return Array.isArray(u.value)?(a.value=u.value,$(Re)):Z(u.value,Re);if(c.value.count&&Re&&!e.startDate)return Y(st(),Re)},he=()=>Array.isArray(u.value)&&_.value.enabled?jt(u.value[0])===jt(u.value[1]??u.value[0]):!1,Y=(Re=new Date,qe=!1)=>{if((!c.value.count||!c.value.static||qe)&&X(0,jt(Re),At(Re)),c.value.count&&(!u.value||he()||!c.value.solo)&&(!c.value.solo||qe))for(let H=1;H<c.value.count;H++){const Te=ir(st(),{month:q.value(H-1),year:Q.value(H-1)}),De=BF(Te,{months:1});l.value[H]={month:jt(De),year:At(De)}}},Z=(Re,qe)=>{Y(Re),D("hours",Za(Re)),D("minutes",Mo(Re)),D("seconds",Fu(Re)),c.value.count&&qe&&R()},ee=Re=>{if(c.value.count){if(c.value.solo)return 0;const qe=jt(Re[0]),H=jt(Re[1]);return Math.abs(H-qe)<c.value.count?0:1}return 1},P=(Re,qe)=>{Re[1]&&_.value.showLastInRange?Y(Re[ee(Re)],qe):Y(Re[0],qe);const H=(Te,De)=>[Te(Re[0]),Re[1]?Te(Re[1]):f[De][1]];D("hours",H(Za,"hours")),D("minutes",H(Mo,"minutes")),D("seconds",H(Fu,"seconds"))},A=(Re,qe)=>{if((_.value.enabled||e.weekPicker)&&!y.value.enabled)return P(Re,qe);if(y.value.enabled&&qe){const H=Re[Re.length-1];return Z(H,qe)}},$=Re=>{const qe=u.value;A(qe,Re),c.value.count&&c.value.solo&&R()},te=(Re,qe)=>{const H=ir(st(),{month:q.value(qe),year:Q.value(qe)}),Te=Re<0?zi(H,1):Bu(H,1);g(jt(Te),At(Te),Re<0,e.preventMinMaxNavigation)&&(X(qe,jt(Te),At(Te)),t("update-month-year",{instance:qe,month:jt(Te),year:At(Te)}),c.value.count&&!c.value.solo&&pe(qe),r())},pe=Re=>{for(let qe=Re-1;qe>=0;qe--){const H=Bu(ir(st(),{month:q.value(qe+1),year:Q.value(qe+1)}),1);X(qe,jt(H),At(H))}for(let qe=Re+1;qe<=c.value.count-1;qe++){const H=zi(ir(st(),{month:q.value(qe-1),year:Q.value(qe-1)}),1);X(qe,jt(H),At(H))}},R=()=>{if(Array.isArray(u.value)&&u.value.length===2){const Re=st(st(u.value[1]?u.value[1]:zi(u.value[0],1))),[qe,H]=[jt(u.value[0]),At(u.value[0])],[Te,De]=[jt(u.value[1]),At(u.value[1])];(qe!==Te||qe===Te&&H!==De)&&c.value.solo&&X(1,jt(Re),At(Re))}else u.value&&!Array.isArray(u.value)&&(X(0,jt(u.value),At(u.value)),Y(st()))},w=()=>{e.startDate&&(X(0,jt(st(e.startDate)),At(st(e.startDate))),c.value.count&&pe(0))},x=(Re,qe)=>{if(e.monthChangeOnScroll){const H=new Date().getTime()-i.value.getTime(),Te=Math.abs(Re.deltaY);let De=500;Te>1&&(De=100),Te>100&&(De=0),H>De&&(i.value=new Date,te(e.monthChangeOnScroll!=="inverse"?-Re.deltaY:Re.deltaY,qe))}},k=(Re,qe,H=!1)=>{e.monthChangeOnArrows&&e.vertical===H&&U(Re,qe)},U=(Re,qe)=>{te(Re==="right"?-1:1,qe)},re=Re=>{if(m.value.markers)return Zm(Re.value,m.value.markers)},fe=(Re,qe)=>{switch(e.sixWeeks===!0?"append":e.sixWeeks){case"prepend":return[!0,!1];case"center":return[Re==0,!0];case"fair":return[Re==0||qe>Re,!0];case"append":return[!1,!1];default:return[!1,!1]}},ve=(Re,qe,H,Te)=>{if(e.sixWeeks&&Re.length<6){const De=6-Re.length,me=(qe.getDay()+7-Te)%7,Me=6-(H.getDay()+7-Te)%7,[Ve,ft]=fe(me,Me);for(let we=1;we<=De;we++)if(ft?!!(we%2)==Ve:Ve){const W=Re[0].days[0],G=ce(_i(W.value,-7),jt(qe));Re.unshift({days:G})}else{const W=Re[Re.length-1],G=W.days[W.days.length-1],J=ce(_i(G.value,1),jt(qe));Re.push({days:J})}}return Re},ce=(Re,qe)=>{const H=st(Re),Te=[];for(let De=0;De<7;De++){const me=_i(H,De),Me=jt(me)!==qe;Te.push({text:e.hideOffsetDates&&Me?"":me.getDate(),value:me,current:!Me,classData:{}})}return Te},Ie=(Re,qe)=>{const H=[],Te=new Date(qe,Re),De=new Date(qe,Re+1,0),me=e.weekStart,Me=Wi(Te,{weekStartsOn:me}),Ve=ft=>{const we=ce(ft,Re);if(H.push({days:we}),!H[H.length-1].days.some(W=>Bt(pn(W.value),pn(De)))){const W=_i(ft,7);Ve(W)}};return Ve(Me),ve(H,Te,De,me)},be=Re=>{const qe=Lo(st(Re.value),f.hours,f.minutes,Ue());t("date-update",qe),y.value.enabled?vE(qe,u,y.value.limit):u.value=qe,n(),xr().then(()=>{V()})},xe=Re=>_.value.noDisabledRange?p6(a.value[0],Re).some(qe=>S(qe)):!1,je=()=>{a.value=u.value?u.value.slice():[],a.value.length===2&&!(_.value.fixedStart||_.value.fixedEnd)&&(a.value=[])},Ae=(Re,qe)=>{const H=[st(Re.value),_i(st(Re.value),+_.value.autoRange)];T(H)?(qe&&Pe(Re.value),a.value=H):t("invalid-date",Re.value)},Pe=Re=>{const qe=jt(st(Re)),H=At(st(Re));if(X(0,qe,H),c.value.count>0)for(let Te=1;Te<c.value.count;Te++){const De=TV(ir(st(Re),{year:Q.value(Te-1),month:q.value(Te-1)}));X(Te,De.month,De.year)}},ke=Re=>{if(xe(Re.value)||!I(Re.value,u.value,_.value.fixedStart?0:1))return t("invalid-date",Re.value);a.value=S6(st(Re.value),u,t,_)},Ze=(Re,qe)=>{if(je(),_.value.autoRange)return Ae(Re,qe);if(_.value.fixedStart||_.value.fixedEnd)return ke(Re);a.value[0]?I(st(Re.value),u.value)&&!xe(Re.value)?Ir(st(Re.value),st(a.value[0]))?(a.value.unshift(st(Re.value)),t("range-end",a.value[0])):(a.value[1]=st(Re.value),t("range-end",a.value[1])):(e.autoApply&&t("auto-apply-invalid",Re.value),t("invalid-date",Re.value)):(a.value[0]=st(Re.value),t("range-start",a.value[0]))},Ue=(Re=!0)=>e.enableSeconds?Array.isArray(f.seconds)?Re?f.seconds[0]:f.seconds[1]:f.seconds:0,it=Re=>{a.value[Re]=Lo(a.value[Re],f.hours[Re],f.minutes[Re],Ue(Re!==1))},ye=()=>{var Re,qe;a.value[0]&&a.value[1]&&+((Re=a.value)==null?void 0:Re[0])>+((qe=a.value)==null?void 0:qe[1])&&(a.value.reverse(),t("range-start",a.value[0]),t("range-end",a.value[1]))},F=()=>{a.value.length&&(a.value[0]&&!a.value[1]?it(0):(it(0),it(1),n()),ye(),u.value=a.value.slice(),S0(a.value,t,e.autoApply,e.modelAuto))},K=(Re,qe=!1)=>{if(S(Re.value)||!Re.current&&e.hideOffsetDates)return t("invalid-date",Re.value);if(o.value=JSON.parse(JSON.stringify(Re)),!_.value.enabled)return be(Re);$R(f.hours)&&$R(f.minutes)&&!y.value.enabled&&(Ze(Re,qe),F())},_e=(Re,qe)=>{var H;X(Re,qe.month,qe.year,!0),c.value.count&&!c.value.solo&&pe(Re),t("update-month-year",{instance:Re,month:qe.month,year:qe.year}),r(c.value.solo?Re:void 0);const Te=(H=e.flow)!=null&&H.length?e.flow[e.flowStep]:void 0;!qe.fromNav&&(Te===_n.month||Te===_n.year)&&n()},Oe=(Re,qe)=>{w6({value:Re,modelValue:u,range:_.value.enabled,timezone:qe?void 0:b.value.timezone}),le(),e.multiCalendars&&xr().then(()=>oe(!0))},se=()=>{const Re=mE(st(),b.value);!_.value.enabled&&!y.value.enabled?u.value=Re:u.value&&Array.isArray(u.value)&&u.value[0]?y.value.enabled?u.value=[...u.value,Re]:u.value=Ir(Re,u.value[0])?[Re,u.value[0]]:[u.value[0],Re]:u.value=[Re],le()},ge=()=>{if(Array.isArray(u.value))if(y.value.enabled){const Re=de();u.value[u.value.length-1]=B(Re)}else u.value=u.value.map((Re,qe)=>Re&&B(Re,qe));else u.value=B(u.value);t("time-update")},de=()=>Array.isArray(u.value)&&u.value.length?u.value[u.value.length-1]:null;return{calendars:l,modelValue:u,month:q,year:Q,time:f,disabledTimesConfig:O,today:d,validateTime:j,getCalendarDays:Ie,getMarker:re,handleScroll:x,handleSwipe:U,handleArrow:k,selectDate:K,updateMonthYear:_e,presetDate:Oe,selectCurrentDate:se,updateTime:(Re,qe=!0,H=!1)=>{C(Re,qe,H,ge)},assignMonthAndYear:Y,setStartTime:ae}},jz={key:0},Bz=Gt({__name:"DatePicker",props:{...Qi},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(e,{expose:t,emit:r}){const n=r,a=e,{calendars:i,month:o,year:s,modelValue:u,time:l,disabledTimesConfig:f,today:d,validateTime:c,getCalendarDays:p,getMarker:_,handleArrow:v,handleScroll:b,handleSwipe:m,selectDate:y,updateMonthYear:g,presetDate:S,selectCurrentDate:T,updateTime:I,assignMonthAndYear:C,setStartTime:B}=Fz(a,n,he,Y),D=Ws(),{setHoverDate:M,getDayClassData:j,clearHoverDate:O}=rG(u,a),{defaultedMultiCalendars:q}=vr(a),Q=Je([]),ie=Je([]),X=Je(null),le=ri(D,"calendar"),ae=ri(D,"monthYear"),ne=ri(D,"timePicker"),V=x=>{a.shadow||n("mount",x)};Jr(i,()=>{a.shadow||setTimeout(()=>{n("recalculate-position")},0)},{deep:!0}),Jr(q,(x,k)=>{x.count-k.count>0&&C()},{deep:!0});const oe=tt(()=>x=>p(o.value(x),s.value(x)).map(k=>({...k,days:k.days.map(U=>(U.marker=_(U),U.classData=j(U),U))})));function he(x){var k;x||x===0?(k=ie.value[x])==null||k.triggerTransition(o.value(x),s.value(x)):ie.value.forEach((U,re)=>U.triggerTransition(o.value(re),s.value(re)))}function Y(){n("update-flow-step")}const Z=(x,k=!1)=>{y(x,k),a.spaceConfirm&&n("select-date")},ee=(x,k,U=0)=>{var re;(re=Q.value[U])==null||re.toggleMonthPicker(x,k)},P=(x,k,U=0)=>{var re;(re=Q.value[U])==null||re.toggleYearPicker(x,k)},A=(x,k,U)=>{var re;(re=X.value)==null||re.toggleTimePicker(x,k,U)},$=(x,k)=>{var U;if(!a.range){const re=u.value?u.value:d,fe=k?new Date(k):re,ve=x?Wi(fe,{weekStartsOn:1}):GF(fe,{weekStartsOn:1});y({value:ve,current:jt(fe)===o.value(0),text:"",classData:{}}),(U=document.getElementById(tS(ve)))==null||U.focus()}},te=x=>{var k;(k=Q.value[0])==null||k.handleMonthYearChange(x,!0)},pe=x=>{g(0,{month:o.value(0),year:s.value(0)+(x?1:-1),fromNav:!0})},R=(x,k)=>{x===_n.time&&n(`time-picker-${k?"open":"close"}`),n("overlay-toggle",{open:k,overlay:x})},w=x=>{n("overlay-toggle",{open:!1,overlay:x}),n("focus-menu")};return t({clearHoverDate:O,presetDate:S,selectCurrentDate:T,toggleMonthPicker:ee,toggleYearPicker:P,toggleTimePicker:A,handleArrow:v,updateMonthYear:g,getSidebarProps:()=>({modelValue:u,month:o,year:s,time:l,updateTime:I,updateMonthYear:g,selectDate:y,presetDate:S}),changeMonth:te,changeYear:pe,selectWeekDate:$,setStartTime:B}),(x,k)=>(Ke(),et(wt,null,[Nt(w0,{"multi-calendars":Fe(q).count,collapse:x.collapse,"is-mobile":x.isMobile},{default:bt(({instance:U,index:re})=>[x.disableMonthYearSelect?rt("",!0):(Ke(),Ot(Oz,jr({key:0,ref:fe=>{fe&&(Q.value[re]=fe)},months:Fe(s6)(x.formatLocale,x.locale,x.monthNameFormat),years:Fe(yE)(x.yearRange,x.locale,x.reverseYears),month:Fe(o)(U),year:Fe(s)(U),instance:U},x.$props,{onMount:k[0]||(k[0]=fe=>V(Fe(qs).header)),onResetFlow:k[1]||(k[1]=fe=>x.$emit("reset-flow")),onUpdateMonthYear:fe=>Fe(g)(U,fe),onOverlayClosed:w,onOverlayOpened:k[2]||(k[2]=fe=>x.$emit("overlay-toggle",{open:!0,overlay:fe}))}),wn({_:2},[pr(Fe(ae),(fe,ve)=>({name:fe,fn:bt(ce=>[pt(x.$slots,fe,nn(Mn(ce)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),Nt(kz,jr({ref:fe=>{fe&&(ie.value[re]=fe)},"mapped-dates":oe.value(U),month:Fe(o)(U),year:Fe(s)(U),instance:U},x.$props,{onSelectDate:fe=>Fe(y)(fe,U!==1),onHandleSpace:fe=>Z(fe,U!==1),onSetHoverDate:k[3]||(k[3]=fe=>Fe(M)(fe)),onHandleScroll:fe=>Fe(b)(fe,U),onHandleSwipe:fe=>Fe(m)(fe,U),onMount:k[4]||(k[4]=fe=>V(Fe(qs).calendar)),onResetFlow:k[5]||(k[5]=fe=>x.$emit("reset-flow")),onTooltipOpen:k[6]||(k[6]=fe=>x.$emit("tooltip-open",fe)),onTooltipClose:k[7]||(k[7]=fe=>x.$emit("tooltip-close",fe))}),wn({_:2},[pr(Fe(le),(fe,ve)=>({name:fe,fn:bt(ce=>[pt(x.$slots,fe,nn(Mn({...ce})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars","collapse","is-mobile"]),x.enableTimePicker?(Ke(),et("div",jz,[x.$slots["time-picker"]?pt(x.$slots,"time-picker",nn(jr({key:0},{time:Fe(l),updateTime:Fe(I)}))):(Ke(),Ot(x6,jr({key:1,ref_key:"timePickerRef",ref:X},x.$props,{hours:Fe(l).hours,minutes:Fe(l).minutes,seconds:Fe(l).seconds,"internal-model-value":x.internalModelValue,"disabled-times-config":Fe(f),"validate-time":Fe(c),onMount:k[8]||(k[8]=U=>V(Fe(qs).timePicker)),"onUpdate:hours":k[9]||(k[9]=U=>Fe(I)(U)),"onUpdate:minutes":k[10]||(k[10]=U=>Fe(I)(U,!1)),"onUpdate:seconds":k[11]||(k[11]=U=>Fe(I)(U,!1,!0)),onResetFlow:k[12]||(k[12]=U=>x.$emit("reset-flow")),onOverlayClosed:k[13]||(k[13]=U=>R(U,!1)),onOverlayOpened:k[14]||(k[14]=U=>R(U,!0)),onAmPmChange:k[15]||(k[15]=U=>x.$emit("am-pm-change",U))}),wn({_:2},[pr(Fe(ne),(U,re)=>({name:U,fn:bt(fe=>[pt(x.$slots,U,nn(Mn(fe)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):rt("",!0)],64))}}),qz=(e,t)=>{const r=Je(),{defaultedMultiCalendars:n,defaultedConfig:a,defaultedHighlight:i,defaultedRange:o,propDates:s,defaultedFilters:u,defaultedMultiDates:l}=vr(e),{modelValue:f,year:d,month:c,calendars:p}=Vh(e,t),{isDisabled:_}=Ko(e),{selectYear:v,groupedYears:b,showYearPicker:m,isDisabled:y,toggleYearPicker:g,handleYearSelect:S,handleYear:T}=E6({modelValue:f,multiCalendars:n,range:o,highlight:i,calendars:p,propDates:s,month:c,year:d,filters:u,props:e,emit:t}),I=(ie,X)=>[ie,X].map(le=>ba(le,"MMMM",{locale:e.formatLocale})).join("-"),C=tt(()=>ie=>f.value?Array.isArray(f.value)?f.value.some(X=>LR(ie,X)):LR(f.value,ie):!1),B=ie=>{if(o.value.enabled){if(Array.isArray(f.value)){const X=Bt(ie,f.value[0])||Bt(ie,f.value[1]);return Ih(f.value,r.value,ie)&&!X}return!1}return!1},D=(ie,X)=>ie.quarter===RR(X)&&ie.year===At(X),M=ie=>typeof i.value=="function"?i.value({quarter:RR(ie),year:At(ie)}):!!i.value.quarters.find(X=>D(X,ie)),j=tt(()=>ie=>{const X=ir(new Date,{year:d.value(ie)});return pU({start:Rh(X),end:zF(X)}).map(le=>{const ae=ks(le),ne=AR(le),V=_(le),oe=B(ae),he=M(ae);return{text:I(ae,ne),value:ae,active:C.value(ae),highlighted:he,disabled:V,isBetween:oe}})}),O=ie=>{vE(ie,f,l.value.limit),t("auto-apply",!0)},q=ie=>{f.value=wE(f,ie,t),S0(f.value,t,e.autoApply,e.modelAuto)},Q=ie=>{f.value=ie,t("auto-apply")};return{defaultedConfig:a,defaultedMultiCalendars:n,groupedYears:b,year:d,isDisabled:y,quarters:j,showYearPicker:m,modelValue:f,setHoverDate:ie=>{r.value=ie},selectYear:v,selectQuarter:(ie,X,le)=>{if(!le)return p.value[X].month=jt(AR(ie)),l.value.enabled?O(ie):o.value.enabled?q(ie):Q(ie)},toggleYearPicker:g,handleYearSelect:S,handleYear:T}},$z={class:"dp--quarter-items"},Uz=["data-test-id","disabled","onClick","onMouseover"],Hz=Gt({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...Qi},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end","overlay-toggle","update-month-year"],setup(e,{expose:t,emit:r}){const n=r,a=e,i=Ws(),o=ri(i,"yearMode"),{defaultedMultiCalendars:s,defaultedConfig:u,groupedYears:l,year:f,isDisabled:d,quarters:c,modelValue:p,showYearPicker:_,setHoverDate:v,selectQuarter:b,toggleYearPicker:m,handleYearSelect:y,handleYear:g}=qz(a,n);return t({getSidebarProps:()=>({modelValue:p,year:f,selectQuarter:b,handleYearSelect:y,handleYear:g})}),(S,T)=>(Ke(),Ot(w0,{"multi-calendars":Fe(s).count,collapse:S.collapse,stretch:"","is-mobile":S.isMobile},{default:bt(({instance:I})=>[_t("div",{class:"dp-quarter-picker-wrap",style:Fr({minHeight:`${Fe(u).modeHeight}px`})},[S.$slots["top-extra"]?pt(S.$slots,"top-extra",{key:0,value:S.internalModelValue}):rt("",!0),_t("div",null,[Nt(v6,jr(S.$props,{items:Fe(l)(I),instance:I,"show-year-picker":Fe(_)[I],year:Fe(f)(I),"is-disabled":C=>Fe(d)(I,C),onHandleYear:C=>Fe(g)(I,C),onYearSelect:C=>Fe(y)(C,I),onToggleYearPicker:C=>Fe(m)(I,C==null?void 0:C.flow,C==null?void 0:C.show)}),wn({_:2},[pr(Fe(o),(C,B)=>({name:C,fn:bt(D=>[pt(S.$slots,C,nn(Mn(D)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_t("div",$z,[(Ke(!0),et(wt,null,pr(Fe(c)(I),(C,B)=>(Ke(),et("div",{key:B},[_t("button",{type:"button",class:vt(["dp--qr-btn",{"dp--qr-btn-active":C.active,"dp--qr-btn-between":C.isBetween,"dp--qr-btn-disabled":C.disabled,"dp--highlighted":C.highlighted}]),"data-test-id":C.value,disabled:C.disabled,onClick:D=>Fe(b)(C.value,I,C.disabled),onMouseover:D=>Fe(v)(C.value)},[S.$slots.quarter?pt(S.$slots,"quarter",{key:0,value:C.value,text:C.text}):(Ke(),et(wt,{key:1},[Ri(qt(C.text),1)],64))],42,Uz)]))),128))])],4)]),_:3},8,["multi-calendars","collapse","is-mobile"]))}}),R6=(e,t)=>{const r=Je(0);Jt(()=>{n(),window.addEventListener("resize",n,{passive:!0})}),Yi(()=>{window.removeEventListener("resize",n)});const n=()=>{r.value=window.document.documentElement.clientWidth};return{isMobile:tt(()=>r.value<=e.value.mobileBreakpoint&&!t?!0:void 0)}},Vz=["id","tabindex","role","aria-label"],zz={key:0,class:"dp--menu-load-container"},Gz={key:1,class:"dp--menu-header"},Wz=["data-dp-mobile"],Kz={key:0,class:"dp__sidebar_left"},Zz=["data-dp-mobile"],Yz=["data-test-id","data-dp-mobile","onClick","onKeydown"],Qz={key:2,class:"dp__sidebar_right"},Xz={key:3,class:"dp__action_extra"},UR=Gt({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...v0,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},getInputRect:{type:Function,default:()=>({})},isTextInputDate:{type:Boolean,default:!1}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date","overlay-toggle","menu-blur"],setup(e,{expose:t,emit:r}){const n=r,a=e,i=Je(null),o=tt(()=>{const{openOnTop:be,...xe}=a;return{...xe,isMobile:v.value,flowStep:j.value,menuWrapRef:i.value}}),{setMenuFocused:s,setShiftKey:u,control:l}=b6(),f=Ws(),{defaultedTextInput:d,defaultedInline:c,defaultedConfig:p,defaultedUI:_}=vr(a),{isMobile:v}=R6(p,a.shadow),b=Je(null),m=Je(0),y=Je(null),g=Je(!1),S=Je(null),T=Je(!1);Jt(()=>{if(!a.shadow){g.value=!0,I(),window.addEventListener("resize",I);const be=Qr(i);if(be&&!d.value.enabled&&!c.value.enabled&&(s(!0),ae()),be){const xe=je=>{T.value=!0,p.value.allowPreventDefault&&je.preventDefault(),Co(je,p.value,!0)};be.addEventListener("pointerdown",xe),be.addEventListener("mousedown",xe)}}document.addEventListener("mousedown",Ie)}),Yi(()=>{window.removeEventListener("resize",I),document.addEventListener("mousedown",Ie)});const I=()=>{const be=Qr(y);be&&(m.value=be.getBoundingClientRect().width)},{arrowRight:C,arrowLeft:B,arrowDown:D,arrowUp:M}=Wo(),{flowStep:j,updateFlowStep:O,childMount:q,resetFlow:Q,handleFlow:ie}=nG(a,n,S),X=tt(()=>a.monthPicker?sz:a.yearPicker?lz:a.timePicker?Ez:a.quarterPicker?Hz:Bz),le=tt(()=>{var be;if(p.value.arrowLeft)return p.value.arrowLeft;const xe=(be=i.value)==null?void 0:be.getBoundingClientRect(),je=a.getInputRect();return(je==null?void 0:je.width)<(m==null?void 0:m.value)&&(je==null?void 0:je.left)<=((xe==null?void 0:xe.left)??0)?`${(je==null?void 0:je.width)/2}px`:(je==null?void 0:je.right)>=((xe==null?void 0:xe.right)??0)&&(je==null?void 0:je.width)<(m==null?void 0:m.value)?`${(m==null?void 0:m.value)-(je==null?void 0:je.width)/2}px`:"50%"}),ae=()=>{const be=Qr(i);be&&be.focus({preventScroll:!0})},ne=tt(()=>{var be;return((be=S.value)==null?void 0:be.getSidebarProps())||{}}),V=()=>{a.openOnTop&&n("recalculate-position")},oe=ri(f,"action"),he=tt(()=>a.monthPicker||a.yearPicker?ri(f,"monthYear"):a.timePicker?ri(f,"timePicker"):ri(f,"shared")),Y=tt(()=>a.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),Z=tt(()=>({dp__menu_disabled:a.disabled,dp__menu_readonly:a.readonly,"dp-menu-loading":a.loading})),ee=tt(()=>({dp__menu:!0,dp__menu_index:!c.value.enabled,dp__relative:c.value.enabled,..._.value.menu??{}})),P=be=>{Co(be,p.value,!0)},A=()=>{a.escClose&&n("close-picker")},$=be=>{if(a.arrowNavigation){if(be===On.up)return M();if(be===On.down)return D();if(be===On.left)return B();if(be===On.right)return C()}else be===On.left||be===On.up?x("handleArrow",On.left,0,be===On.up):x("handleArrow",On.right,0,be===On.down)},te=be=>{u(be.shiftKey),!a.disableMonthYearSelect&&be.code===cr.tab&&be.target.classList.contains("dp__menu")&&l.value.shiftKeyInMenu&&(be.preventDefault(),Co(be,p.value,!0),n("close-picker"))},pe=()=>{ae(),n("time-picker-close")},R=be=>{var xe,je,Ae;(xe=S.value)==null||xe.toggleTimePicker(!1,!1),(je=S.value)==null||je.toggleMonthPicker(!1,!1,be),(Ae=S.value)==null||Ae.toggleYearPicker(!1,!1,be)},w=(be,xe=0)=>{var je,Ae,Pe;return be==="month"?(je=S.value)==null?void 0:je.toggleMonthPicker(!1,!0,xe):be==="year"?(Ae=S.value)==null?void 0:Ae.toggleYearPicker(!1,!0,xe):be==="time"?(Pe=S.value)==null?void 0:Pe.toggleTimePicker(!0,!1):R(xe)},x=(be,...xe)=>{var je,Ae;(je=S.value)!=null&&je[be]&&((Ae=S.value)==null||Ae[be](...xe))},k=()=>{x("selectCurrentDate")},U=(be,xe)=>{x("presetDate",_$(be),xe)},re=()=>{x("clearHoverDate")},fe=(be,xe)=>{x("updateMonthYear",be,xe)},ve=(be,xe)=>{be.preventDefault(),$(xe)},ce=be=>{var xe,je,Ae;if(te(be),be.key===cr.home||be.key===cr.end)return x("selectWeekDate",be.key===cr.home,be.target.getAttribute("id"));switch((be.key===cr.pageUp||be.key===cr.pageDown)&&(be.shiftKey?(x("changeYear",be.key===cr.pageUp),(xe=Jw(i.value,"overlay-year"))==null||xe.focus()):(x("changeMonth",be.key===cr.pageUp),(je=Jw(i.value,be.key===cr.pageUp?"action-prev":"action-next"))==null||je.focus()),be.target.getAttribute("id")&&((Ae=i.value)==null||Ae.focus({preventScroll:!0}))),be.key){case cr.esc:return A();case cr.arrowLeft:return ve(be,On.left);case cr.arrowRight:return ve(be,On.right);case cr.arrowUp:return ve(be,On.up);case cr.arrowDown:return ve(be,On.down);default:return}},Ie=be=>{var xe;c.value.enabled&&!c.value.input&&!((xe=i.value)!=null&&xe.contains(be.target))&&T.value&&(T.value=!1,n("menu-blur"))};return t({updateMonthYear:fe,switchView:w,handleFlow:ie,onValueCleared:()=>{var be,xe;(xe=(be=S.value)==null?void 0:be.setStartTime)==null||xe.call(be)}}),(be,xe)=>{var je,Ae,Pe;return Ke(),et("div",{id:be.uid?`dp-menu-${be.uid}`:void 0,ref_key:"dpMenuRef",ref:i,tabindex:Fe(c).enabled?void 0:"0",role:Fe(c).enabled?void 0:"dialog","aria-label":(je=be.ariaLabels)==null?void 0:je.menu,class:vt(ee.value),style:Fr({"--dp-arrow-left":le.value}),onMouseleave:re,onClick:P,onKeydown:ce},[(be.disabled||be.readonly)&&Fe(c).enabled||be.loading?(Ke(),et("div",{key:0,class:vt(Z.value)},[be.loading?(Ke(),et("div",zz,xe[19]||(xe[19]=[_t("span",{class:"dp--menu-loader"},null,-1)]))):rt("",!0)],2)):rt("",!0),be.$slots["menu-header"]?(Ke(),et("div",Gz,[pt(be.$slots,"menu-header")])):rt("",!0),!Fe(c).enabled&&!be.teleportCenter?(Ke(),et("div",{key:2,class:vt(Y.value)},null,2)):rt("",!0),_t("div",{ref_key:"innerMenuRef",ref:y,class:vt({dp__menu_content_wrapper:((Ae=be.presetDates)==null?void 0:Ae.length)||!!be.$slots["left-sidebar"]||!!be.$slots["right-sidebar"],"dp--menu-content-wrapper-collapsed":e.collapse&&(((Pe=be.presetDates)==null?void 0:Pe.length)||!!be.$slots["left-sidebar"]||!!be.$slots["right-sidebar"])}),"data-dp-mobile":Fe(v),style:Fr({"--dp-menu-width":`${m.value}px`})},[be.$slots["left-sidebar"]?(Ke(),et("div",Kz,[pt(be.$slots,"left-sidebar",nn(Mn(ne.value)))])):rt("",!0),be.presetDates.length?(Ke(),et("div",{key:1,class:vt({"dp--preset-dates-collapsed":e.collapse,"dp--preset-dates":!0}),"data-dp-mobile":Fe(v)},[(Ke(!0),et(wt,null,pr(be.presetDates,(ke,Ze)=>(Ke(),et(wt,{key:Ze},[ke.slot?pt(be.$slots,ke.slot,{key:0,presetDate:U,label:ke.label,value:ke.value}):(Ke(),et("button",{key:1,type:"button",style:Fr(ke.style||{}),class:vt(["dp__btn dp--preset-range",{"dp--preset-range-collapsed":e.collapse}]),"data-test-id":ke.testId??void 0,"data-dp-mobile":Fe(v),onClick:Th(Ue=>U(ke.value,ke.noTz),["prevent"]),onKeydown:Ue=>Fe(kn)(Ue,()=>U(ke.value,ke.noTz),!0)},qt(ke.label),47,Yz))],64))),128))],10,Zz)):rt("",!0),_t("div",{ref_key:"calendarWrapperRef",ref:b,class:"dp__instance_calendar",role:"document"},[(Ke(),Ot(wa(X.value),jr({ref_key:"dynCmpRef",ref:S},o.value,{"flow-step":Fe(j),onMount:Fe(q),onUpdateFlowStep:Fe(O),onResetFlow:Fe(Q),onFocusMenu:ae,onSelectDate:xe[0]||(xe[0]=ke=>be.$emit("select-date")),onDateUpdate:xe[1]||(xe[1]=ke=>be.$emit("date-update",ke)),onTooltipOpen:xe[2]||(xe[2]=ke=>be.$emit("tooltip-open",ke)),onTooltipClose:xe[3]||(xe[3]=ke=>be.$emit("tooltip-close",ke)),onAutoApply:xe[4]||(xe[4]=ke=>be.$emit("auto-apply",ke)),onRangeStart:xe[5]||(xe[5]=ke=>be.$emit("range-start",ke)),onRangeEnd:xe[6]||(xe[6]=ke=>be.$emit("range-end",ke)),onInvalidFixedRange:xe[7]||(xe[7]=ke=>be.$emit("invalid-fixed-range",ke)),onTimeUpdate:xe[8]||(xe[8]=ke=>be.$emit("time-update")),onAmPmChange:xe[9]||(xe[9]=ke=>be.$emit("am-pm-change",ke)),onTimePickerOpen:xe[10]||(xe[10]=ke=>be.$emit("time-picker-open",ke)),onTimePickerClose:pe,onRecalculatePosition:V,onUpdateMonthYear:xe[11]||(xe[11]=ke=>be.$emit("update-month-year",ke)),onAutoApplyInvalid:xe[12]||(xe[12]=ke=>be.$emit("auto-apply-invalid",ke)),onInvalidDate:xe[13]||(xe[13]=ke=>be.$emit("invalid-date",ke)),onOverlayToggle:xe[14]||(xe[14]=ke=>be.$emit("overlay-toggle",ke)),"onUpdate:internalModelValue":xe[15]||(xe[15]=ke=>be.$emit("update:internal-model-value",ke))}),wn({_:2},[pr(he.value,(ke,Ze)=>({name:ke,fn:bt(Ue=>[pt(be.$slots,ke,nn(Mn({...Ue})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),be.$slots["right-sidebar"]?(Ke(),et("div",Qz,[pt(be.$slots,"right-sidebar",nn(Mn(ne.value)))])):rt("",!0),be.$slots["action-extra"]?(Ke(),et("div",Xz,[be.$slots["action-extra"]?pt(be.$slots,"action-extra",{key:0,selectCurrentDate:k}):rt("",!0)])):rt("",!0)],14,Wz),!be.autoApply||Fe(p).keepActionRow?(Ke(),Ot(XV,jr({key:3,"menu-mount":g.value},o.value,{"calendar-width":m.value,onClosePicker:xe[16]||(xe[16]=ke=>be.$emit("close-picker")),onSelectDate:xe[17]||(xe[17]=ke=>be.$emit("select-date")),onInvalidSelect:xe[18]||(xe[18]=ke=>be.$emit("invalid-select")),onSelectNow:k}),wn({_:2},[pr(Fe(oe),(ke,Ze)=>({name:ke,fn:bt(Ue=>[pt(be.$slots,ke,nn(Mn({...Ue})))])}))]),1040,["menu-mount","calendar-width"])):rt("",!0)],46,Vz)}}});var Eu=(e=>(e.center="center",e.left="left",e.right="right",e))(Eu||{});const Jz=({menuRef:e,menuRefInner:t,inputRef:r,pickerWrapperRef:n,inline:a,emit:i,props:o,slots:s})=>{const{defaultedConfig:u}=vr(o),l=Je({}),f=Je(!1),d=Je({top:"0",left:"0"}),c=Je(!1),p=_h(o,"teleportCenter");Jr(p,()=>{d.value=JSON.parse(JSON.stringify({})),T()});const _=X=>{if(o.teleport){const le=X.getBoundingClientRect();return{left:le.left+window.scrollX,top:le.top+window.scrollY}}return{top:0,left:0}},v=(X,le)=>{d.value.left=`${X+le-l.value.width}px`},b=X=>{d.value.left=`${X}px`},m=(X,le)=>{o.position===Eu.left&&b(X),o.position===Eu.right&&v(X,le),o.position===Eu.center&&(d.value.left=`${X+le/2-l.value.width/2}px`)},y=X=>{const{width:le,height:ae}=X.getBoundingClientRect(),{top:ne,left:V}=_(X);return{top:+ne,left:+V,width:le,height:ae}},g=()=>{d.value.left="50%",d.value.top="50%",d.value.transform="translate(-50%, -50%)",d.value.position="fixed",delete d.value.opacity},S=()=>{const X=Qr(r);d.value=o.altPosition(X)},T=(X=!0)=>{var le;if(!a.value.enabled){if(p.value)return g();if(o.altPosition!==null)return S();if(X){const ae=o.teleport?(le=t.value)==null?void 0:le.$el:e.value;ae&&(l.value=ae.getBoundingClientRect()),i("recalculate-position")}return O()}},I=({inputEl:X,left:le,width:ae})=>{window.screen.width>768&&!f.value&&m(le,ae),D(X)},C=X=>{const{top:le,left:ae,height:ne,width:V}=y(X);d.value.top=`${ne+le+ +o.offset}px`,c.value=!1,f.value||(d.value.left=`${ae+V/2-l.value.width/2}px`),I({inputEl:X,left:ae,width:V})},B=X=>{const{top:le,left:ae,width:ne}=y(X);d.value.top=`${le-+o.offset-l.value.height}px`,c.value=!0,I({inputEl:X,left:ae,width:ne})},D=X=>{if(o.autoPosition){const{left:le,width:ae}=y(X),{left:ne,right:V}=l.value;if(!f.value){if(Math.abs(ne)!==Math.abs(V)){if(ne<=0)return f.value=!0,b(le);if(V>=document.documentElement.clientWidth)return f.value=!0,v(le,ae)}return m(le,ae)}}},M=()=>{const X=Qr(r);if(X){if(o.autoPosition===$i.top)return $i.top;if(o.autoPosition===$i.bottom)return $i.bottom;const{height:le}=l.value,{top:ae,height:ne}=X.getBoundingClientRect(),V=window.innerHeight-ae-ne,oe=ae;return le<=V?$i.bottom:le>V&&le<=oe?$i.top:V>=oe?$i.bottom:$i.top}return $i.bottom},j=X=>M()===$i.bottom?C(X):B(X),O=()=>{const X=Qr(r);if(X)return o.autoPosition?j(X):C(X)},q=function(X){if(X){const le=X.scrollHeight>X.clientHeight,ae=window.getComputedStyle(X).overflowY.indexOf("hidden")!==-1;return le&&!ae}return!0},Q=function(X){return!X||X===document.body||X.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:q(X)?X:Q(X.assignedSlot&&u.value.shadowDom?X.assignedSlot.parentNode:X.parentNode)},ie=X=>{if(X)switch(o.position){case Eu.left:return{left:0,transform:"translateX(0)"};case Eu.right:return{left:`${X.width}px`,transform:"translateX(-100%)"};default:return{left:`${X.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:c,menuStyle:d,xCorrect:f,setMenuPosition:T,getScrollableParent:Q,shadowRender:(X,le)=>{var ae,ne,V;const oe=document.createElement("div"),he=(ae=Qr(r))==null?void 0:ae.getBoundingClientRect();oe.setAttribute("id","dp--temp-container");const Y=(ne=n.value)!=null&&ne.clientWidth?n.value:document.body;Y.append(oe);const Z=ie(he),ee=u.value.shadowDom?Object.keys(s).filter(A=>["right-sidebar","left-sidebar","top-extra","action-extra"].includes(A)):Object.keys(s),P=to(X,{...le,shadow:!0,style:{opacity:0,position:"absolute",...Z}},Object.fromEntries(ee.map(A=>[A,s[A]])));zw(P,oe),l.value=(V=P.el)==null?void 0:V.getBoundingClientRect(),zw(null,oe),Y.removeChild(oe)}}},fo=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"hours-overlay-header",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-header",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-header",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]},{name:"top-extra",use:["shared","month-year"]},{name:"tp-inline-arrow-up",use:["shared","time"]},{name:"tp-inline-arrow-down",use:["shared","time"]},{name:"menu-header",use:["menu"]}],eG=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],tG={all:()=>fo,monthYear:()=>fo.filter(e=>e.use.includes("month-year")),input:()=>eG,timePicker:()=>fo.filter(e=>e.use.includes("time")),action:()=>fo.filter(e=>e.use.includes("action")),calendar:()=>fo.filter(e=>e.use.includes("calendar")),menu:()=>fo.filter(e=>e.use.includes("menu")),shared:()=>fo.filter(e=>e.use.includes("shared")),yearMode:()=>fo.filter(e=>e.use.includes("year-mode"))},ri=(e,t,r)=>{const n=[];return tG[t]().forEach(a=>{e[a.name]&&n.push(a.name)}),r!=null&&r.length&&r.forEach(a=>{a.slot&&n.push(a.slot)}),n},Hh=e=>{const t=tt(()=>n=>e.value?n?e.value.open:e.value.close:""),r=tt(()=>n=>e.value?n?e.value.menuAppearTop:e.value.menuAppearBottom:"");return{transitionName:t,showTransition:!!e.value,menuTransition:r}},Vh=(e,t,r)=>{const{defaultedRange:n,defaultedTz:a}=vr(e),i=st(Zn(st(),a.value.timezone)),o=Je([{month:jt(i),year:At(i)}]),s=c=>{const p={hours:Za(i),minutes:Mo(i),seconds:0};return n.value.enabled?[p[c],p[c]]:p[c]},u=Ja({hours:s("hours"),minutes:s("minutes"),seconds:s("seconds")});Jr(n,(c,p)=>{c.enabled!==p.enabled&&(u.hours=s("hours"),u.minutes=s("minutes"),u.seconds=s("seconds"))},{deep:!0});const l=tt({get:()=>e.internalModelValue,set:c=>{!e.readonly&&!e.disabled&&t("update:internal-model-value",c)}}),f=tt(()=>c=>o.value[c]?o.value[c].month:0),d=tt(()=>c=>o.value[c]?o.value[c].year:0);return Jr(l,(c,p)=>{r&&JSON.stringify(c??{})!==JSON.stringify(p??{})&&r()},{deep:!0}),{calendars:o,time:u,modelValue:l,month:f,year:d,today:i}},rG=(e,t)=>{const{defaultedMultiCalendars:r,defaultedMultiDates:n,defaultedUI:a,defaultedHighlight:i,defaultedTz:o,propDates:s,defaultedRange:u}=vr(t),{isDisabled:l}=Ko(t),f=Je(null),d=Je(Zn(new Date,o.value.timezone)),c=A=>{!A.current&&t.hideOffsetDates||(f.value=A.value)},p=()=>{f.value=null},_=A=>Array.isArray(e.value)&&u.value.enabled&&e.value[0]&&f.value?A?kr(f.value,e.value[0]):Ir(f.value,e.value[0]):!0,v=(A,$)=>{const te=()=>e.value?$?e.value[0]||null:e.value[1]:null,pe=e.value&&Array.isArray(e.value)?te():null;return Bt(st(A.value),pe)},b=A=>{const $=Array.isArray(e.value)?e.value[0]:null;return A?!Ir(f.value??null,$):!0},m=(A,$=!0)=>(u.value.enabled||t.weekPicker)&&Array.isArray(e.value)&&e.value.length===2?t.hideOffsetDates&&!A.current?!1:Bt(st(A.value),e.value[$?0:1]):u.value.enabled?v(A,$)&&b($)||Bt(A.value,Array.isArray(e.value)?e.value[0]:null)&&_($):!1,y=(A,$)=>{if(Array.isArray(e.value)&&e.value[0]&&e.value.length===1){const te=Bt(A.value,f.value);return $?kr(e.value[0],A.value)&&te:Ir(e.value[0],A.value)&&te}return!1},g=A=>!e.value||t.hideOffsetDates&&!A.current?!1:u.value.enabled?t.modelAuto&&Array.isArray(e.value)?Bt(A.value,e.value[0]?e.value[0]:d.value):!1:n.value.enabled&&Array.isArray(e.value)?e.value.some($=>Bt($,A.value)):Bt(A.value,e.value?e.value:d.value),S=A=>{if(u.value.autoRange||t.weekPicker){if(f.value){if(t.hideOffsetDates&&!A.current)return!1;const $=_i(f.value,+u.value.autoRange),te=Ha(st(f.value),t.weekStart);return t.weekPicker?Bt(te[1],st(A.value)):Bt($,st(A.value))}return!1}return!1},T=A=>{if(u.value.autoRange||t.weekPicker){if(f.value){const $=_i(f.value,+u.value.autoRange);if(t.hideOffsetDates&&!A.current)return!1;const te=Ha(st(f.value),t.weekStart);return t.weekPicker?kr(A.value,te[0])&&Ir(A.value,te[1]):kr(A.value,f.value)&&Ir(A.value,$)}return!1}return!1},I=A=>{if(u.value.autoRange||t.weekPicker){if(f.value){if(t.hideOffsetDates&&!A.current)return!1;const $=Ha(st(f.value),t.weekStart);return t.weekPicker?Bt($[0],A.value):Bt(f.value,A.value)}return!1}return!1},C=A=>Ih(e.value,f.value,A.value),B=()=>t.modelAuto&&Array.isArray(t.internalModelValue)?!!t.internalModelValue[0]:!1,D=()=>t.modelAuto?u6(t.internalModelValue):!0,M=A=>{if(t.weekPicker)return!1;const $=u.value.enabled?!m(A)&&!m(A,!1):!0;return!l(A.value)&&!g(A)&&!(!A.current&&t.hideOffsetDates)&&$},j=A=>u.value.enabled?t.modelAuto?B()&&g(A):!1:g(A),O=A=>i.value?vV(A.value,s.value.highlight):!1,q=A=>{const $=l(A.value);return $&&(typeof i.value=="function"?!i.value(A.value,$):!i.value.options.highlightDisabled)},Q=A=>{var $;return typeof i.value=="function"?i.value(A.value):($=i.value.weekdays)==null?void 0:$.includes(A.value.getDay())},ie=A=>(u.value.enabled||t.weekPicker)&&(!(r.value.count>0)||A.current)&&D()&&!(!A.current&&t.hideOffsetDates)&&!g(A)?C(A):!1,X=A=>{if(Array.isArray(e.value)&&e.value.length===1){const{before:$,after:te}=jR(+u.value.maxRange,e.value[0]);return ju(A.value,$)||Hs(A.value,te)}return!1},le=A=>{if(Array.isArray(e.value)&&e.value.length===1){const{before:$,after:te}=jR(+u.value.minRange,e.value[0]);return Ih([$,te],e.value[0],A.value)}return!1},ae=A=>u.value.enabled&&(u.value.maxRange||u.value.minRange)?u.value.maxRange&&u.value.minRange?X(A)||le(A):u.value.maxRange?X(A):le(A):!1,ne=A=>{const{isRangeStart:$,isRangeEnd:te}=Y(A),pe=u.value.enabled?$||te:!1;return{dp__cell_offset:!A.current,dp__pointer:!t.disabled&&!(!A.current&&t.hideOffsetDates)&&!l(A.value)&&!ae(A),dp__cell_disabled:l(A.value)||ae(A),dp__cell_highlight:!q(A)&&(O(A)||Q(A))&&!j(A)&&!pe&&!I(A)&&!(ie(A)&&t.weekPicker)&&!te,dp__cell_highlight_active:!q(A)&&(O(A)||Q(A))&&j(A),dp__today:!t.noToday&&Bt(A.value,d.value)&&A.current,"dp--past":Ir(A.value,d.value),"dp--future":kr(A.value,d.value)}},V=A=>({dp__active_date:j(A),dp__date_hover:M(A)}),oe=A=>{if(e.value&&!Array.isArray(e.value)){const $=Ha(e.value,t.weekStart);return{...ee(A),dp__range_start:Bt($[0],A.value),dp__range_end:Bt($[1],A.value),dp__range_between_week:kr(A.value,$[0])&&Ir(A.value,$[1])}}return{...ee(A)}},he=A=>{if(e.value&&Array.isArray(e.value)){const $=Ha(e.value[0],t.weekStart),te=e.value[1]?Ha(e.value[1],t.weekStart):[];return{...ee(A),dp__range_start:Bt($[0],A.value)||Bt(te[0],A.value),dp__range_end:Bt($[1],A.value)||Bt(te[1],A.value),dp__range_between_week:kr(A.value,$[0])&&Ir(A.value,$[1])||kr(A.value,te[0])&&Ir(A.value,te[1]),dp__range_between:kr(A.value,$[1])&&Ir(A.value,te[0])}}return{...ee(A)}},Y=A=>{const $=r.value.count>0?A.current&&m(A)&&D():m(A)&&D(),te=r.value.count>0?A.current&&m(A,!1)&&D():m(A,!1)&&D();return{isRangeStart:$,isRangeEnd:te}},Z=A=>{const{isRangeStart:$,isRangeEnd:te}=Y(A);return{dp__range_start:$,dp__range_end:te,dp__range_between:ie(A),dp__date_hover:Bt(A.value,f.value)&&!$&&!te&&!t.weekPicker,dp__date_hover_start:y(A,!0),dp__date_hover_end:y(A,!1)}},ee=A=>({...Z(A),dp__cell_auto_range:T(A),dp__cell_auto_range_start:I(A),dp__cell_auto_range_end:S(A)}),P=A=>u.value.enabled?u.value.autoRange?ee(A):t.modelAuto?{...V(A),...Z(A)}:t.weekPicker?he(A):Z(A):t.weekPicker?oe(A):V(A);return{setHoverDate:c,clearHoverDate:p,getDayClassData:A=>t.hideOffsetDates&&!A.current?{}:{...ne(A),...P(A),[t.dayClass?t.dayClass(A.value,t.internalModelValue):""]:!0,...a.value.calendarCell??{}}}},Ko=e=>{const{defaultedFilters:t,defaultedRange:r,propDates:n,defaultedMultiDates:a}=vr(e),i=Q=>n.value.disabledDates?typeof n.value.disabledDates=="function"?n.value.disabledDates(st(Q)):!!Zm(Q,n.value.disabledDates):!1,o=Q=>n.value.maxDate?e.yearPicker?At(Q)>At(n.value.maxDate):kr(Q,n.value.maxDate):!1,s=Q=>n.value.minDate?e.yearPicker?At(Q)<At(n.value.minDate):Ir(Q,n.value.minDate):!1,u=Q=>{const ie=o(Q),X=s(Q),le=i(Q),ae=t.value.months.map(Y=>+Y).includes(jt(Q)),ne=e.disabledWeekDays.length?e.disabledWeekDays.some(Y=>+Y===sH(Q)):!1,V=p(Q),oe=At(Q),he=oe<+e.yearRange[0]||oe>+e.yearRange[1];return!(ie||X||le||ae||he||ne||V)},l=(Q,ie)=>Ir(...Ao(n.value.minDate,Q,ie))||Bt(...Ao(n.value.minDate,Q,ie)),f=(Q,ie)=>kr(...Ao(n.value.maxDate,Q,ie))||Bt(...Ao(n.value.maxDate,Q,ie)),d=(Q,ie,X)=>{let le=!1;return n.value.maxDate&&X&&f(Q,ie)&&(le=!0),n.value.minDate&&!X&&l(Q,ie)&&(le=!0),le},c=(Q,ie,X,le)=>{let ae=!1;return le&&(n.value.minDate||n.value.maxDate)?n.value.minDate&&n.value.maxDate?ae=d(Q,ie,X):(n.value.minDate&&l(Q,ie)||n.value.maxDate&&f(Q,ie))&&(ae=!0):ae=!0,ae},p=Q=>Array.isArray(n.value.allowedDates)&&!n.value.allowedDates.length?!0:n.value.allowedDates?!Zm(Q,n.value.allowedDates):!1,_=Q=>!u(Q),v=Q=>r.value.noDisabledRange?!VF({start:Q[0],end:Q[1]}).some(ie=>_(ie)):!0,b=Q=>{if(Q){const ie=At(Q);return ie>=+e.yearRange[0]&&ie<=e.yearRange[1]}return!0},m=(Q,ie)=>!!(Array.isArray(Q)&&Q[ie]&&(r.value.maxRange||r.value.minRange)&&b(Q[ie])),y=(Q,ie,X=0)=>{if(m(ie,X)&&b(Q)){const le=$F(Q,ie[X]),ae=p6(ie[X],Q),ne=ae.length===1?0:ae.filter(oe=>_(oe)).length,V=Math.abs(le)-(r.value.minMaxRawRange?0:ne);if(r.value.minRange&&r.value.maxRange)return V>=+r.value.minRange&&V<=+r.value.maxRange;if(r.value.minRange)return V>=+r.value.minRange;if(r.value.maxRange)return V<=+r.value.maxRange}return!0},g=()=>!e.enableTimePicker||e.monthPicker||e.yearPicker||e.ignoreTimeValidation,S=Q=>Array.isArray(Q)?[Q[0]?Gy(Q[0]):null,Q[1]?Gy(Q[1]):null]:Gy(Q),T=(Q,ie,X)=>Q.find(le=>+le.hours===Za(ie)&&le.minutes==="*"?!0:+le.minutes===Mo(ie)&&+le.hours===Za(ie))&&X,I=(Q,ie,X)=>{const[le,ae]=Q,[ne,V]=ie;return!T(le,ne,X)&&!T(ae,V,X)&&X},C=(Q,ie)=>{const X=Array.isArray(ie)?ie:[ie];return Array.isArray(e.disabledTimes)?Array.isArray(e.disabledTimes[0])?I(e.disabledTimes,X,Q):!X.some(le=>T(e.disabledTimes,le,Q)):Q},B=(Q,ie)=>{const X=Array.isArray(ie)?[$s(ie[0]),ie[1]?$s(ie[1]):void 0]:$s(ie),le=!e.disabledTimes(X);return Q&&le},D=(Q,ie)=>e.disabledTimes?Array.isArray(e.disabledTimes)?C(ie,Q):B(ie,Q):ie,M=Q=>{let ie=!0;if(!Q||g())return!0;const X=!n.value.minDate&&!n.value.maxDate?S(Q):Q;return(e.maxTime||n.value.maxDate)&&(ie=FR(e.maxTime,n.value.maxDate,"max",rn(X),ie)),(e.minTime||n.value.minDate)&&(ie=FR(e.minTime,n.value.minDate,"min",rn(X),ie)),D(Q,ie)},j=Q=>{if(!e.monthPicker)return!0;let ie=!0;const X=st(Ui(Q));if(n.value.minDate&&n.value.maxDate){const le=st(Ui(n.value.minDate)),ae=st(Ui(n.value.maxDate));return kr(X,le)&&Ir(X,ae)||Bt(X,le)||Bt(X,ae)}if(n.value.minDate){const le=st(Ui(n.value.minDate));ie=kr(X,le)||Bt(X,le)}if(n.value.maxDate){const le=st(Ui(n.value.maxDate));ie=Ir(X,le)||Bt(X,le)}return ie},O=tt(()=>Q=>!e.enableTimePicker||e.ignoreTimeValidation?!0:M(Q)),q=tt(()=>Q=>e.monthPicker?Array.isArray(Q)&&(r.value.enabled||a.value.enabled)?!Q.filter(ie=>!j(ie)).length:j(Q):!0);return{isDisabled:_,validateDate:u,validateMonthYearInRange:c,isDateRangeAllowed:v,checkMinMaxRange:y,isValidTime:M,isTimeValid:O,isMonthValid:q}},E0=()=>{const e=tt(()=>(n,a)=>n==null?void 0:n.includes(a)),t=tt(()=>(n,a)=>n.count?n.solo?!0:a===0:!0),r=tt(()=>(n,a)=>n.count?n.solo?!0:a===n.count-1:!0);return{hideNavigationButtons:e,showLeftIcon:t,showRightIcon:r}},nG=(e,t,r)=>{const n=Je(0),a=Ja({[qs.timePicker]:!e.enableTimePicker||e.timePicker||e.monthPicker,[qs.calendar]:!1,[qs.header]:!1}),i=tt(()=>e.monthPicker||e.timePicker),o=d=>{var c;if((c=e.flow)!=null&&c.length){if(!d&&i.value)return f();a[d]=!0,Object.keys(a).filter(p=>!a[p]).length||f()}},s=()=>{var d,c;(d=e.flow)!=null&&d.length&&n.value!==-1&&(n.value+=1,t("flow-step",n.value),f()),((c=e.flow)==null?void 0:c.length)===n.value&&xr().then(()=>u())},u=()=>{n.value=-1},l=(d,c,...p)=>{var _,v;e.flow[n.value]===d&&r.value&&((v=(_=r.value)[c])==null||v.call(_,...p))},f=(d=0)=>{d&&(n.value+=d),l(_n.month,"toggleMonthPicker",!0),l(_n.year,"toggleYearPicker",!0),l(_n.calendar,"toggleTimePicker",!1,!0),l(_n.time,"toggleTimePicker",!0,!0);const c=e.flow[n.value];(c===_n.hours||c===_n.minutes||c===_n.seconds)&&l(c,"toggleTimePicker",!0,!0,c)};return{childMount:o,updateFlowStep:s,resetFlow:u,handleFlow:f,flowStep:n}},iG={key:1,class:"dp__input_wrap"},aG=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],oG={key:2,class:"dp--clear-btn"},sG=["aria-label"],uG=Gt({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...v0},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur","text-input"],setup(e,{expose:t,emit:r}){const n=r,a=e,{defaultedTextInput:i,defaultedAriaLabels:o,defaultedInline:s,defaultedConfig:u,defaultedRange:l,defaultedMultiDates:f,defaultedUI:d,getDefaultPattern:c,getDefaultStartTime:p}=vr(a),{checkMinMaxRange:_}=Ko(a),v=Je(),b=Je(null),m=Je(!1),y=Je(!1),g=tt(()=>({dp__pointer:!a.disabled&&!a.readonly&&!i.value.enabled,dp__disabled:a.disabled,dp__input_readonly:!i.value.enabled,dp__input:!0,dp__input_icon_pad:!a.hideInputIcon,dp__input_valid:typeof a.state=="boolean"?a.state:!1,dp__input_invalid:typeof a.state=="boolean"?!a.state:!1,dp__input_focus:m.value||a.isMenuOpen,dp__input_reg:!i.value.enabled,...d.value.input??{}})),S=()=>{n("set-input-date",null),a.clearable&&a.autoApply&&(n("set-empty-date"),v.value=null)},T=oe=>{const he=p();return EV(oe,i.value.format??c(),he??m6({},a.enableSeconds),a.inputValue,y.value,a.formatLocale)},I=oe=>{const{rangeSeparator:he}=i.value,[Y,Z]=oe.split(`${he}`);if(Y){const ee=T(Y.trim()),P=Z?T(Z.trim()):null;if(Hs(ee,P))return;const A=ee&&P?[ee,P]:[ee];_(P,A,0)&&(v.value=ee?A:null)}},C=()=>{y.value=!0},B=oe=>{if(l.value.enabled)I(oe);else if(f.value.enabled){const he=oe.split(";");v.value=he.map(Y=>T(Y.trim())).filter(Y=>Y)}else v.value=T(oe)},D=oe=>{var he;const Y=typeof oe=="string"?oe:(he=oe.target)==null?void 0:he.value;Y!==""?(i.value.openMenu&&!a.isMenuOpen&&n("open"),B(Y),n("set-input-date",v.value)):S(),y.value=!1,n("update:input-value",Y),n("text-input",oe,v.value)},M=oe=>{i.value.enabled?(B(oe.target.value),i.value.enterSubmit&&eS(v.value)&&a.inputValue!==""?(n("set-input-date",v.value,!0),v.value=null):i.value.enterSubmit&&a.inputValue===""&&(v.value=null,n("clear"))):q(oe)},j=(oe,he)=>{i.value.enabled&&i.value.tabSubmit&&!he&&B(oe.target.value),i.value.tabSubmit&&eS(v.value)&&a.inputValue!==""?(n("set-input-date",v.value,!0,!0),v.value=null):i.value.tabSubmit&&a.inputValue===""&&(v.value=null,n("clear",!0))},O=()=>{m.value=!0,n("focus"),xr().then(()=>{var oe;i.value.enabled&&i.value.selectOnFocus&&((oe=b.value)==null||oe.select())})},q=oe=>{if(Co(oe,u.value,!0),i.value.enabled&&i.value.openMenu&&!s.value.input){if(i.value.openMenu==="open"&&!a.isMenuOpen)return n("open");if(i.value.openMenu==="toggle")return n("toggle")}else i.value.enabled||n("toggle")},Q=()=>{n("real-blur"),m.value=!1,(!a.isMenuOpen||s.value.enabled&&s.value.input)&&n("blur"),a.autoApply&&i.value.enabled&&v.value&&!a.isMenuOpen&&(n("set-input-date",v.value),n("select-date"),v.value=null)},ie=oe=>{Co(oe,u.value,!0),n("clear")},X=()=>{n("close")},le=oe=>{if(oe.key==="Tab"&&j(oe),oe.key==="Enter"&&M(oe),oe.key==="Escape"&&i.value.escClose&&X(),!i.value.enabled){if(oe.code==="Tab")return;oe.preventDefault()}},ae=()=>{var oe;(oe=b.value)==null||oe.focus({preventScroll:!0})},ne=oe=>{v.value=oe},V=oe=>{oe.key===cr.tab&&j(oe,!0)};return t({focusInput:ae,setParsedDate:ne}),(oe,he)=>{var Y,Z,ee;return Ke(),et("div",{onClick:q},[oe.$slots.trigger&&!oe.$slots["dp-input"]&&!Fe(s).enabled?pt(oe.$slots,"trigger",{key:0}):rt("",!0),!oe.$slots.trigger&&(!Fe(s).enabled||Fe(s).input)?(Ke(),et("div",iG,[oe.$slots["dp-input"]&&!oe.$slots.trigger&&(!Fe(s).enabled||Fe(s).enabled&&Fe(s).input)?pt(oe.$slots,"dp-input",{key:0,value:e.inputValue,isMenuOpen:e.isMenuOpen,onInput:D,onEnter:M,onTab:j,onClear:ie,onBlur:Q,onKeypress:le,onPaste:C,onFocus:O,openMenu:()=>oe.$emit("open"),closeMenu:()=>oe.$emit("close"),toggleMenu:()=>oe.$emit("toggle")}):rt("",!0),oe.$slots["dp-input"]?rt("",!0):(Ke(),et("input",{key:1,id:oe.uid?`dp-input-${oe.uid}`:void 0,ref_key:"inputRef",ref:b,"data-test-id":"dp-input",name:oe.name,class:vt(g.value),inputmode:Fe(i).enabled?"text":"none",placeholder:oe.placeholder,disabled:oe.disabled,readonly:oe.readonly,required:oe.required,value:e.inputValue,autocomplete:oe.autocomplete,"aria-label":(Y=Fe(o))==null?void 0:Y.input,"aria-disabled":oe.disabled||void 0,"aria-invalid":oe.state===!1?!0:void 0,onInput:D,onBlur:Q,onFocus:O,onKeypress:le,onKeydown:he[0]||(he[0]=P=>le(P)),onPaste:C},null,42,aG)),_t("div",{onClick:he[3]||(he[3]=P=>n("toggle"))},[oe.$slots["input-icon"]&&!oe.hideInputIcon?(Ke(),et("span",{key:0,class:"dp__input_icon",onClick:he[1]||(he[1]=P=>n("toggle"))},[pt(oe.$slots,"input-icon")])):rt("",!0),!oe.$slots["input-icon"]&&!oe.hideInputIcon&&!oe.$slots["dp-input"]?(Ke(),Ot(Fe(ol),{key:1,"aria-label":(Z=Fe(o))==null?void 0:Z.calendarIcon,class:"dp__input_icon dp__input_icons",onClick:he[2]||(he[2]=P=>n("toggle"))},null,8,["aria-label"])):rt("",!0)]),oe.$slots["clear-icon"]&&(oe.alwaysClearable||e.inputValue&&oe.clearable&&!oe.disabled&&!oe.readonly)?(Ke(),et("span",oG,[pt(oe.$slots,"clear-icon",{clear:ie})])):rt("",!0),!oe.$slots["clear-icon"]&&(oe.alwaysClearable||oe.clearable&&e.inputValue&&!oe.disabled&&!oe.readonly)?(Ke(),et("button",{key:3,"aria-label":(ee=Fe(o))==null?void 0:ee.clearInput,class:"dp--clear-btn",type:"button",onKeydown:he[4]||(he[4]=P=>Fe(kn)(P,()=>ie(P),!0,V)),onClick:he[5]||(he[5]=Th(P=>ie(P),["prevent"]))},[Nt(Fe(o6),{class:"dp__input_icons","data-test-id":"clear-icon"})],40,sG)):rt("",!0)])):rt("",!0)])}}}),lG=typeof window<"u"?window:void 0,Xy=()=>{},fG=e=>$M()?(Zq(e),!0):!1,cG=(e,t,r,n)=>{if(!e)return Xy;let a=Xy;const i=Jr(()=>Fe(e),s=>{a(),s&&(s.addEventListener(t,r,n),a=()=>{s.removeEventListener(t,r,n),a=Xy})},{immediate:!0,flush:"post"}),o=()=>{i(),a()};return fG(o),o},dG=(e,t,r,n={})=>{const{window:a=lG,event:i="pointerdown"}=n;return a?cG(a,i,o=>{const s=Qr(e),u=Qr(t);!s||!u||s===o.target||o.composedPath().includes(s)||o.composedPath().includes(u)||r(o)},{passive:!0}):void 0},hG=["data-dp-mobile"],pG=Gt({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...v0},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date","overlay-toggle","text-input"],setup(e,{expose:t,emit:r}){const n=r,a=e,i=Ws(),o=Je(!1),s=_h(a,"modelValue"),u=_h(a,"timezone"),l=Je(null),f=Je(null),d=Je(null),c=Je(!1),p=Je(null),_=Je(!1),v=Je(!1),b=Je(!1),m=Je(!1),{setMenuFocused:y,setShiftKey:g}=b6(),{clearArrowNav:S}=Wo(),{validateDate:T,isValidTime:I}=Ko(a),{defaultedTransitions:C,defaultedTextInput:B,defaultedInline:D,defaultedConfig:M,defaultedRange:j,defaultedMultiDates:O}=vr(a),{menuTransition:q,showTransition:Q}=Hh(C),{isMobile:ie}=R6(M);Jt(()=>{P(a.modelValue),xr().then(()=>{if(!D.value.enabled){const Te=he(p.value);Te==null||Te.addEventListener("scroll",re),window==null||window.addEventListener("resize",fe)}}),D.value.enabled&&(o.value=!0),window==null||window.addEventListener("keyup",ve),window==null||window.addEventListener("keydown",ce)}),Yi(()=>{if(!D.value.enabled){const Te=he(p.value);Te==null||Te.removeEventListener("scroll",re),window==null||window.removeEventListener("resize",fe)}window==null||window.removeEventListener("keyup",ve),window==null||window.removeEventListener("keydown",ce)});const X=ri(i,"all",a.presetDates),le=ri(i,"input");Jr([s,u],()=>{P(s.value)},{deep:!0});const{openOnTop:ae,menuStyle:ne,xCorrect:V,setMenuPosition:oe,getScrollableParent:he,shadowRender:Y}=Jz({menuRef:l,menuRefInner:f,inputRef:d,pickerWrapperRef:p,inline:D,emit:n,props:a,slots:i}),{inputValue:Z,internalModelValue:ee,parseExternalModelValue:P,emitModelValue:A,formatInputValue:$,checkBeforeEmit:te}=KV(n,a,c),pe=tt(()=>({dp__main:!0,dp__theme_dark:a.dark,dp__theme_light:!a.dark,dp__flex_display:D.value.enabled,"dp--flex-display-collapsed":b.value,dp__flex_display_with_input:D.value.input})),R=tt(()=>a.dark?"dp__theme_dark":"dp__theme_light"),w=tt(()=>a.teleport?{to:typeof a.teleport=="boolean"?"body":a.teleport,disabled:!a.teleport||D.value.enabled}:{}),x=tt(()=>({class:"dp__outer_menu_wrap"})),k=tt(()=>D.value.enabled&&(a.timePicker||a.monthPicker||a.yearPicker||a.quarterPicker)),U=()=>{var Te,De;return((De=(Te=d.value)==null?void 0:Te.$el)==null?void 0:De.getBoundingClientRect())??{width:0,left:0,right:0}},re=()=>{o.value&&(M.value.closeOnScroll?Ue():oe())},fe=()=>{var Te;o.value&&oe();const De=((Te=f.value)==null?void 0:Te.$el.getBoundingClientRect().width)??0;b.value=document.body.offsetWidth<=De},ve=Te=>{Te.key==="Tab"&&!D.value.enabled&&!a.teleport&&M.value.tabOutClosesMenu&&(p.value.contains(document.activeElement)||Ue()),v.value=Te.shiftKey},ce=Te=>{v.value=Te.shiftKey},Ie=()=>{!a.disabled&&!a.readonly&&(Y(UR,a),oe(!1),o.value=!0,o.value&&n("open"),o.value||Ze(),P(a.modelValue))},be=()=>{var Te,De;Z.value="",Ze(),(Te=f.value)==null||Te.onValueCleared(),(De=d.value)==null||De.setParsedDate(null),n("update:model-value",null),n("update:model-timezone-value",null),n("cleared"),M.value.closeOnClearValue&&Ue()},xe=()=>{const Te=ee.value;return!Te||!Array.isArray(Te)&&T(Te)?!0:Array.isArray(Te)?O.value.enabled||Te.length===2&&T(Te[0])&&T(Te[1])?!0:j.value.partialRange&&!a.timePicker?T(Te[0]):!1:!1},je=()=>{te()&&xe()?(A(),Ue()):n("invalid-select",ee.value)},Ae=Te=>{Pe(),A(),M.value.closeOnAutoApply&&!Te&&Ue()},Pe=()=>{d.value&&B.value.enabled&&d.value.setParsedDate(ee.value)},ke=(Te=!1)=>{a.autoApply&&I(ee.value)&&xe()&&(j.value.enabled&&Array.isArray(ee.value)?(j.value.partialRange||ee.value.length===2)&&Ae(Te):Ae(Te))},Ze=()=>{B.value.enabled||(ee.value=null)},Ue=(Te=!1)=>{Te&&ee.value&&M.value.setDateOnMenuClose&&je(),D.value.enabled||(o.value&&(o.value=!1,V.value=!1,y(!1),g(!1),S(),n("closed"),Z.value&&P(s.value)),Ze(),n("blur"))},it=(Te,De,me=!1)=>{if(!Te){ee.value=null;return}const Me=Array.isArray(Te)?!Te.some(ft=>!T(ft)):T(Te),Ve=I(Te);Me&&Ve?(m.value=!0,ee.value=Te,De&&(_.value=me,je(),n("text-submit")),xr().then(()=>{m.value=!1})):n("invalid-date",Te)},ye=()=>{a.autoApply&&I(ee.value)&&A(),Pe()},F=()=>o.value?Ue():Ie(),K=Te=>{ee.value=Te},_e=()=>{B.value.enabled&&(c.value=!0,$()),n("focus")},Oe=()=>{if(B.value.enabled&&(c.value=!1,P(a.modelValue),_.value)){const Te=bV(p.value,v.value);Te==null||Te.focus()}n("blur")},se=Te=>{f.value&&f.value.updateMonthYear(0,{month:NR(Te.month),year:NR(Te.year)})},ge=Te=>{P(Te??a.modelValue)},de=(Te,De)=>{var me;(me=f.value)==null||me.switchView(Te,De)},Re=(Te,De)=>M.value.onClickOutside?M.value.onClickOutside(Te,De):Ue(!0),qe=(Te=0)=>{var De;(De=f.value)==null||De.handleFlow(Te)},H=()=>l;return dG(l,d,Te=>Re(xe,Te)),t({closeMenu:Ue,selectDate:je,clearValue:be,openMenu:Ie,onScroll:re,formatInputValue:$,updateInternalModelValue:K,setMonthYear:se,parseModel:ge,switchView:de,toggleMenu:F,handleFlow:qe,getDpWrapMenuRef:H}),(Te,De)=>(Ke(),et("div",{ref_key:"pickerWrapperRef",ref:p,class:vt(pe.value),"data-datepicker-instance":"","data-dp-mobile":Fe(ie)},[Nt(uG,jr({ref_key:"inputRef",ref:d,"input-value":Fe(Z),"onUpdate:inputValue":De[0]||(De[0]=me=>Gr(Z)?Z.value=me:null),"is-menu-open":o.value},Te.$props,{onClear:be,onOpen:Ie,onSetInputDate:it,onSetEmptyDate:Fe(A),onSelectDate:je,onToggle:F,onClose:Ue,onFocus:_e,onBlur:Oe,onRealBlur:De[1]||(De[1]=me=>c.value=!1),onTextInput:De[2]||(De[2]=me=>Te.$emit("text-input",me))}),wn({_:2},[pr(Fe(le),(me,Me)=>({name:me,fn:bt(Ve=>[pt(Te.$slots,me,nn(Mn(Ve)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),(Ke(),Ot(wa(Te.teleport?C$:"div"),nn(Mn(w.value)),{default:bt(()=>[Nt(el,{name:Fe(q)(Fe(ae)),css:Fe(Q)&&!Fe(D).enabled},{default:bt(()=>[o.value?(Ke(),et("div",jr({key:0,ref_key:"dpWrapMenuRef",ref:l},x.value,{class:{"dp--menu-wrapper":!Fe(D).enabled},style:Fe(D).enabled?void 0:Fe(ne)}),[Nt(UR,jr({ref_key:"dpMenuRef",ref:f},Te.$props,{"internal-model-value":Fe(ee),"onUpdate:internalModelValue":De[3]||(De[3]=me=>Gr(ee)?ee.value=me:null),class:{[R.value]:!0,"dp--menu-wrapper":Te.teleport},"open-on-top":Fe(ae),"no-overlay-focus":k.value,collapse:b.value,"get-input-rect":U,"is-text-input-date":m.value,onClosePicker:Ue,onSelectDate:je,onAutoApply:ke,onTimeUpdate:ye,onFlowStep:De[4]||(De[4]=me=>Te.$emit("flow-step",me)),onUpdateMonthYear:De[5]||(De[5]=me=>Te.$emit("update-month-year",me)),onInvalidSelect:De[6]||(De[6]=me=>Te.$emit("invalid-select",Fe(ee))),onAutoApplyInvalid:De[7]||(De[7]=me=>Te.$emit("invalid-select",me)),onInvalidFixedRange:De[8]||(De[8]=me=>Te.$emit("invalid-fixed-range",me)),onRecalculatePosition:Fe(oe),onTooltipOpen:De[9]||(De[9]=me=>Te.$emit("tooltip-open",me)),onTooltipClose:De[10]||(De[10]=me=>Te.$emit("tooltip-close",me)),onTimePickerOpen:De[11]||(De[11]=me=>Te.$emit("time-picker-open",me)),onTimePickerClose:De[12]||(De[12]=me=>Te.$emit("time-picker-close",me)),onAmPmChange:De[13]||(De[13]=me=>Te.$emit("am-pm-change",me)),onRangeStart:De[14]||(De[14]=me=>Te.$emit("range-start",me)),onRangeEnd:De[15]||(De[15]=me=>Te.$emit("range-end",me)),onDateUpdate:De[16]||(De[16]=me=>Te.$emit("date-update",me)),onInvalidDate:De[17]||(De[17]=me=>Te.$emit("invalid-date",me)),onOverlayToggle:De[18]||(De[18]=me=>Te.$emit("overlay-toggle",me)),onMenuBlur:De[19]||(De[19]=me=>Te.$emit("blur"))}),wn({_:2},[pr(Fe(X),(me,Me)=>({name:me,fn:bt(Ve=>[pt(Te.$slots,me,nn(Mn({...Ve})))])}))]),1040,["internal-model-value","class","open-on-top","no-overlay-focus","collapse","is-text-input-date","onRecalculatePosition"])],16)):rt("",!0)]),_:3},8,["name","css"])]),_:3},16))],10,hG))}}),SE=(()=>{const e=pG;return e.install=t=>{t.component("Vue3DatePicker",e)},e})(),mG=Object.freeze(Object.defineProperty({__proto__:null,default:SE},Symbol.toStringTag,{value:"Module"}));Object.entries(mG).forEach(([e,t])=>{e!=="default"&&(SE[e]=t)});function yG(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var A6={exports:{}},$r=A6.exports={},la,fa;function rS(){throw new Error("setTimeout has not been defined")}function nS(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?la=setTimeout:la=rS}catch{la=rS}try{typeof clearTimeout=="function"?fa=clearTimeout:fa=nS}catch{fa=nS}})();function I6(e){if(la===setTimeout)return setTimeout(e,0);if((la===rS||!la)&&setTimeout)return la=setTimeout,setTimeout(e,0);try{return la(e,0)}catch{try{return la.call(null,e,0)}catch{return la.call(this,e,0)}}}function gG(e){if(fa===clearTimeout)return clearTimeout(e);if((fa===nS||!fa)&&clearTimeout)return fa=clearTimeout,clearTimeout(e);try{return fa(e)}catch{try{return fa.call(null,e)}catch{return fa.call(this,e)}}}var Wa=[],Du=!1,Fs,Nm=-1;function _G(){!Du||!Fs||(Du=!1,Fs.length?Wa=Fs.concat(Wa):Nm=-1,Wa.length&&O6())}function O6(){if(!Du){var e=I6(_G);Du=!0;for(var t=Wa.length;t;){for(Fs=Wa,Wa=[];++Nm<t;)Fs&&Fs[Nm].run();Nm=-1,t=Wa.length}Fs=null,Du=!1,gG(e)}}$r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];Wa.push(new P6(e,t)),Wa.length===1&&!Du&&I6(O6)};function P6(e,t){this.fun=e,this.array=t}P6.prototype.run=function(){this.fun.apply(null,this.array)};$r.title="browser";$r.browser=!0;$r.env={};$r.argv=[];$r.version="";$r.versions={};function ro(){}$r.on=ro;$r.addListener=ro;$r.once=ro;$r.off=ro;$r.removeListener=ro;$r.removeAllListeners=ro;$r.emit=ro;$r.prependListener=ro;$r.prependOnceListener=ro;$r.listeners=function(e){return[]};$r.binding=function(e){throw new Error("process.binding is not supported")};$r.cwd=function(){return"/"};$r.chdir=function(e){throw new Error("process.chdir is not supported")};$r.umask=function(){return 0};var bG=A6.exports;const ze=yG(bG);var EE={},x0={};x0.byteLength=SG;x0.toByteArray=xG;x0.fromByteArray=AG;var pa=[],gi=[],vG=typeof Uint8Array<"u"?Uint8Array:Array,Jy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var yu=0,wG=Jy.length;yu<wG;++yu)pa[yu]=Jy[yu],gi[Jy.charCodeAt(yu)]=yu;gi[45]=62;gi[95]=63;function C6(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function SG(e){var t=C6(e),r=t[0],n=t[1];return(r+n)*3/4-n}function EG(e,t,r){return(t+r)*3/4-r}function xG(e){var t,r=C6(e),n=r[0],a=r[1],i=new vG(EG(e,n,a)),o=0,s=a>0?n-4:n,u;for(u=0;u<s;u+=4)t=gi[e.charCodeAt(u)]<<18|gi[e.charCodeAt(u+1)]<<12|gi[e.charCodeAt(u+2)]<<6|gi[e.charCodeAt(u+3)],i[o++]=t>>16&255,i[o++]=t>>8&255,i[o++]=t&255;return a===2&&(t=gi[e.charCodeAt(u)]<<2|gi[e.charCodeAt(u+1)]>>4,i[o++]=t&255),a===1&&(t=gi[e.charCodeAt(u)]<<10|gi[e.charCodeAt(u+1)]<<4|gi[e.charCodeAt(u+2)]>>2,i[o++]=t>>8&255,i[o++]=t&255),i}function TG(e){return pa[e>>18&63]+pa[e>>12&63]+pa[e>>6&63]+pa[e&63]}function RG(e,t,r){for(var n,a=[],i=t;i<r;i+=3)n=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(e[i+2]&255),a.push(TG(n));return a.join("")}function AG(e){for(var t,r=e.length,n=r%3,a=[],i=16383,o=0,s=r-n;o<s;o+=i)a.push(RG(e,o,o+i>s?s:o+i));return n===1?(t=e[r-1],a.push(pa[t>>2]+pa[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],a.push(pa[t>>10]+pa[t>>4&63]+pa[t<<2&63]+"=")),a.join("")}var xE={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */xE.read=function(e,t,r,n,a){var i,o,s=a*8-n-1,u=(1<<s)-1,l=u>>1,f=-7,d=r?a-1:0,c=r?-1:1,p=e[t+d];for(d+=c,i=p&(1<<-f)-1,p>>=-f,f+=s;f>0;i=i*256+e[t+d],d+=c,f-=8);for(o=i&(1<<-f)-1,i>>=-f,f+=n;f>0;o=o*256+e[t+d],d+=c,f-=8);if(i===0)i=1-l;else{if(i===u)return o?NaN:(p?-1:1)*(1/0);o=o+Math.pow(2,n),i=i-l}return(p?-1:1)*o*Math.pow(2,i-n)};xE.write=function(e,t,r,n,a,i){var o,s,u,l=i*8-a-1,f=(1<<l)-1,d=f>>1,c=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:i-1,_=n?1:-1,v=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=f):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),o+d>=1?t+=c/u:t+=c*Math.pow(2,1-d),t*u>=2&&(o++,u/=2),o+d>=f?(s=0,o=f):o+d>=1?(s=(t*u-1)*Math.pow(2,a),o=o+d):(s=t*Math.pow(2,d-1)*Math.pow(2,a),o=0));a>=8;e[r+p]=s&255,p+=_,s/=256,a-=8);for(o=o<<a|s,l+=a;l>0;e[r+p]=o&255,p+=_,o/=256,l-=8);e[r+p-_]|=v*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=x0,r=xE,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=f,e.SlowBuffer=T,e.INSPECT_MAX_BYTES=50;const a=2147483647;e.kMaxLength=a;const{Uint8Array:i,ArrayBuffer:o,SharedArrayBuffer:s}=globalThis;f.TYPED_ARRAY_SUPPORT=u(),!f.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function u(){try{const ye=new i(1),F={foo:function(){return 42}};return Object.setPrototypeOf(F,i.prototype),Object.setPrototypeOf(ye,F),ye.foo()===42}catch{return!1}}Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}});function l(ye){if(ye>a)throw new RangeError('The value "'+ye+'" is invalid for option "size"');const F=new i(ye);return Object.setPrototypeOf(F,f.prototype),F}function f(ye,F,K){if(typeof ye=="number"){if(typeof F=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return _(ye)}return d(ye,F,K)}f.poolSize=8192;function d(ye,F,K){if(typeof ye=="string")return v(ye,F);if(o.isView(ye))return m(ye);if(ye==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ye);if(Pe(ye,o)||ye&&Pe(ye.buffer,o)||typeof s<"u"&&(Pe(ye,s)||ye&&Pe(ye.buffer,s)))return y(ye,F,K);if(typeof ye=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const _e=ye.valueOf&&ye.valueOf();if(_e!=null&&_e!==ye)return f.from(_e,F,K);const Oe=g(ye);if(Oe)return Oe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof ye[Symbol.toPrimitive]=="function")return f.from(ye[Symbol.toPrimitive]("string"),F,K);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ye)}f.from=function(ye,F,K){return d(ye,F,K)},Object.setPrototypeOf(f.prototype,i.prototype),Object.setPrototypeOf(f,i);function c(ye){if(typeof ye!="number")throw new TypeError('"size" argument must be of type number');if(ye<0)throw new RangeError('The value "'+ye+'" is invalid for option "size"')}function p(ye,F,K){return c(ye),ye<=0?l(ye):F!==void 0?typeof K=="string"?l(ye).fill(F,K):l(ye).fill(F):l(ye)}f.alloc=function(ye,F,K){return p(ye,F,K)};function _(ye){return c(ye),l(ye<0?0:S(ye)|0)}f.allocUnsafe=function(ye){return _(ye)},f.allocUnsafeSlow=function(ye){return _(ye)};function v(ye,F){if((typeof F!="string"||F==="")&&(F="utf8"),!f.isEncoding(F))throw new TypeError("Unknown encoding: "+F);const K=I(ye,F)|0;let _e=l(K);const Oe=_e.write(ye,F);return Oe!==K&&(_e=_e.slice(0,Oe)),_e}function b(ye){const F=ye.length<0?0:S(ye.length)|0,K=l(F);for(let _e=0;_e<F;_e+=1)K[_e]=ye[_e]&255;return K}function m(ye){if(Pe(ye,i)){const F=new i(ye);return y(F.buffer,F.byteOffset,F.byteLength)}return b(ye)}function y(ye,F,K){if(F<0||ye.byteLength<F)throw new RangeError('"offset" is outside of buffer bounds');if(ye.byteLength<F+(K||0))throw new RangeError('"length" is outside of buffer bounds');let _e;return F===void 0&&K===void 0?_e=new i(ye):K===void 0?_e=new i(ye,F):_e=new i(ye,F,K),Object.setPrototypeOf(_e,f.prototype),_e}function g(ye){if(f.isBuffer(ye)){const F=S(ye.length)|0,K=l(F);return K.length===0||ye.copy(K,0,0,F),K}if(ye.length!==void 0)return typeof ye.length!="number"||ke(ye.length)?l(0):b(ye);if(ye.type==="Buffer"&&Array.isArray(ye.data))return b(ye.data)}function S(ye){if(ye>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return ye|0}function T(ye){return+ye!=ye&&(ye=0),f.alloc(+ye)}f.isBuffer=function(F){return F!=null&&F._isBuffer===!0&&F!==f.prototype},f.compare=function(F,K){if(Pe(F,i)&&(F=f.from(F,F.offset,F.byteLength)),Pe(K,i)&&(K=f.from(K,K.offset,K.byteLength)),!f.isBuffer(F)||!f.isBuffer(K))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(F===K)return 0;let _e=F.length,Oe=K.length;for(let se=0,ge=Math.min(_e,Oe);se<ge;++se)if(F[se]!==K[se]){_e=F[se],Oe=K[se];break}return _e<Oe?-1:Oe<_e?1:0},f.isEncoding=function(F){switch(String(F).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(F,K){if(!Array.isArray(F))throw new TypeError('"list" argument must be an Array of Buffers');if(F.length===0)return f.alloc(0);let _e;if(K===void 0)for(K=0,_e=0;_e<F.length;++_e)K+=F[_e].length;const Oe=f.allocUnsafe(K);let se=0;for(_e=0;_e<F.length;++_e){let ge=F[_e];if(Pe(ge,i))se+ge.length>Oe.length?(f.isBuffer(ge)||(ge=f.from(ge)),ge.copy(Oe,se)):i.prototype.set.call(Oe,ge,se);else if(f.isBuffer(ge))ge.copy(Oe,se);else throw new TypeError('"list" argument must be an Array of Buffers');se+=ge.length}return Oe};function I(ye,F){if(f.isBuffer(ye))return ye.length;if(o.isView(ye)||Pe(ye,o))return ye.byteLength;if(typeof ye!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ye);const K=ye.length,_e=arguments.length>2&&arguments[2]===!0;if(!_e&&K===0)return 0;let Oe=!1;for(;;)switch(F){case"ascii":case"latin1":case"binary":return K;case"utf8":case"utf-8":return Ie(ye).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return K*2;case"hex":return K>>>1;case"base64":return je(ye).length;default:if(Oe)return _e?-1:Ie(ye).length;F=(""+F).toLowerCase(),Oe=!0}}f.byteLength=I;function C(ye,F,K){let _e=!1;if((F===void 0||F<0)&&(F=0),F>this.length||((K===void 0||K>this.length)&&(K=this.length),K<=0)||(K>>>=0,F>>>=0,K<=F))return"";for(ye||(ye="utf8");;)switch(ye){case"hex":return he(this,F,K);case"utf8":case"utf-8":return le(this,F,K);case"ascii":return V(this,F,K);case"latin1":case"binary":return oe(this,F,K);case"base64":return X(this,F,K);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y(this,F,K);default:if(_e)throw new TypeError("Unknown encoding: "+ye);ye=(ye+"").toLowerCase(),_e=!0}}f.prototype._isBuffer=!0;function B(ye,F,K){const _e=ye[F];ye[F]=ye[K],ye[K]=_e}f.prototype.swap16=function(){const F=this.length;if(F%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let K=0;K<F;K+=2)B(this,K,K+1);return this},f.prototype.swap32=function(){const F=this.length;if(F%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let K=0;K<F;K+=4)B(this,K,K+3),B(this,K+1,K+2);return this},f.prototype.swap64=function(){const F=this.length;if(F%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let K=0;K<F;K+=8)B(this,K,K+7),B(this,K+1,K+6),B(this,K+2,K+5),B(this,K+3,K+4);return this},f.prototype.toString=function(){const F=this.length;return F===0?"":arguments.length===0?le(this,0,F):C.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(F){if(!f.isBuffer(F))throw new TypeError("Argument must be a Buffer");return this===F?!0:f.compare(this,F)===0},f.prototype.inspect=function(){let F="";const K=e.INSPECT_MAX_BYTES;return F=this.toString("hex",0,K).replace(/(.{2})/g,"$1 ").trim(),this.length>K&&(F+=" ... "),"<Buffer "+F+">"},n&&(f.prototype[n]=f.prototype.inspect),f.prototype.compare=function(F,K,_e,Oe,se){if(Pe(F,i)&&(F=f.from(F,F.offset,F.byteLength)),!f.isBuffer(F))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof F);if(K===void 0&&(K=0),_e===void 0&&(_e=F?F.length:0),Oe===void 0&&(Oe=0),se===void 0&&(se=this.length),K<0||_e>F.length||Oe<0||se>this.length)throw new RangeError("out of range index");if(Oe>=se&&K>=_e)return 0;if(Oe>=se)return-1;if(K>=_e)return 1;if(K>>>=0,_e>>>=0,Oe>>>=0,se>>>=0,this===F)return 0;let ge=se-Oe,de=_e-K;const Re=Math.min(ge,de),qe=this.slice(Oe,se),H=F.slice(K,_e);for(let Te=0;Te<Re;++Te)if(qe[Te]!==H[Te]){ge=qe[Te],de=H[Te];break}return ge<de?-1:de<ge?1:0};function D(ye,F,K,_e,Oe){if(ye.length===0)return-1;if(typeof K=="string"?(_e=K,K=0):K>2147483647?K=2147483647:K<-2147483648&&(K=-2147483648),K=+K,ke(K)&&(K=Oe?0:ye.length-1),K<0&&(K=ye.length+K),K>=ye.length){if(Oe)return-1;K=ye.length-1}else if(K<0)if(Oe)K=0;else return-1;if(typeof F=="string"&&(F=f.from(F,_e)),f.isBuffer(F))return F.length===0?-1:M(ye,F,K,_e,Oe);if(typeof F=="number")return F=F&255,typeof i.prototype.indexOf=="function"?Oe?i.prototype.indexOf.call(ye,F,K):i.prototype.lastIndexOf.call(ye,F,K):M(ye,[F],K,_e,Oe);throw new TypeError("val must be string, number or Buffer")}function M(ye,F,K,_e,Oe){let se=1,ge=ye.length,de=F.length;if(_e!==void 0&&(_e=String(_e).toLowerCase(),_e==="ucs2"||_e==="ucs-2"||_e==="utf16le"||_e==="utf-16le")){if(ye.length<2||F.length<2)return-1;se=2,ge/=2,de/=2,K/=2}function Re(H,Te){return se===1?H[Te]:H.readUInt16BE(Te*se)}let qe;if(Oe){let H=-1;for(qe=K;qe<ge;qe++)if(Re(ye,qe)===Re(F,H===-1?0:qe-H)){if(H===-1&&(H=qe),qe-H+1===de)return H*se}else H!==-1&&(qe-=qe-H),H=-1}else for(K+de>ge&&(K=ge-de),qe=K;qe>=0;qe--){let H=!0;for(let Te=0;Te<de;Te++)if(Re(ye,qe+Te)!==Re(F,Te)){H=!1;break}if(H)return qe}return-1}f.prototype.includes=function(F,K,_e){return this.indexOf(F,K,_e)!==-1},f.prototype.indexOf=function(F,K,_e){return D(this,F,K,_e,!0)},f.prototype.lastIndexOf=function(F,K,_e){return D(this,F,K,_e,!1)};function j(ye,F,K,_e){K=Number(K)||0;const Oe=ye.length-K;_e?(_e=Number(_e),_e>Oe&&(_e=Oe)):_e=Oe;const se=F.length;_e>se/2&&(_e=se/2);let ge;for(ge=0;ge<_e;++ge){const de=parseInt(F.substr(ge*2,2),16);if(ke(de))return ge;ye[K+ge]=de}return ge}function O(ye,F,K,_e){return Ae(Ie(F,ye.length-K),ye,K,_e)}function q(ye,F,K,_e){return Ae(be(F),ye,K,_e)}function Q(ye,F,K,_e){return Ae(je(F),ye,K,_e)}function ie(ye,F,K,_e){return Ae(xe(F,ye.length-K),ye,K,_e)}f.prototype.write=function(F,K,_e,Oe){if(K===void 0)Oe="utf8",_e=this.length,K=0;else if(_e===void 0&&typeof K=="string")Oe=K,_e=this.length,K=0;else if(isFinite(K))K=K>>>0,isFinite(_e)?(_e=_e>>>0,Oe===void 0&&(Oe="utf8")):(Oe=_e,_e=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const se=this.length-K;if((_e===void 0||_e>se)&&(_e=se),F.length>0&&(_e<0||K<0)||K>this.length)throw new RangeError("Attempt to write outside buffer bounds");Oe||(Oe="utf8");let ge=!1;for(;;)switch(Oe){case"hex":return j(this,F,K,_e);case"utf8":case"utf-8":return O(this,F,K,_e);case"ascii":case"latin1":case"binary":return q(this,F,K,_e);case"base64":return Q(this,F,K,_e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ie(this,F,K,_e);default:if(ge)throw new TypeError("Unknown encoding: "+Oe);Oe=(""+Oe).toLowerCase(),ge=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function X(ye,F,K){return F===0&&K===ye.length?t.fromByteArray(ye):t.fromByteArray(ye.slice(F,K))}function le(ye,F,K){K=Math.min(ye.length,K);const _e=[];let Oe=F;for(;Oe<K;){const se=ye[Oe];let ge=null,de=se>239?4:se>223?3:se>191?2:1;if(Oe+de<=K){let Re,qe,H,Te;switch(de){case 1:se<128&&(ge=se);break;case 2:Re=ye[Oe+1],(Re&192)===128&&(Te=(se&31)<<6|Re&63,Te>127&&(ge=Te));break;case 3:Re=ye[Oe+1],qe=ye[Oe+2],(Re&192)===128&&(qe&192)===128&&(Te=(se&15)<<12|(Re&63)<<6|qe&63,Te>2047&&(Te<55296||Te>57343)&&(ge=Te));break;case 4:Re=ye[Oe+1],qe=ye[Oe+2],H=ye[Oe+3],(Re&192)===128&&(qe&192)===128&&(H&192)===128&&(Te=(se&15)<<18|(Re&63)<<12|(qe&63)<<6|H&63,Te>65535&&Te<1114112&&(ge=Te))}}ge===null?(ge=65533,de=1):ge>65535&&(ge-=65536,_e.push(ge>>>10&1023|55296),ge=56320|ge&1023),_e.push(ge),Oe+=de}return ne(_e)}const ae=4096;function ne(ye){const F=ye.length;if(F<=ae)return String.fromCharCode.apply(String,ye);let K="",_e=0;for(;_e<F;)K+=String.fromCharCode.apply(String,ye.slice(_e,_e+=ae));return K}function V(ye,F,K){let _e="";K=Math.min(ye.length,K);for(let Oe=F;Oe<K;++Oe)_e+=String.fromCharCode(ye[Oe]&127);return _e}function oe(ye,F,K){let _e="";K=Math.min(ye.length,K);for(let Oe=F;Oe<K;++Oe)_e+=String.fromCharCode(ye[Oe]);return _e}function he(ye,F,K){const _e=ye.length;(!F||F<0)&&(F=0),(!K||K<0||K>_e)&&(K=_e);let Oe="";for(let se=F;se<K;++se)Oe+=Ze[ye[se]];return Oe}function Y(ye,F,K){const _e=ye.slice(F,K);let Oe="";for(let se=0;se<_e.length-1;se+=2)Oe+=String.fromCharCode(_e[se]+_e[se+1]*256);return Oe}f.prototype.slice=function(F,K){const _e=this.length;F=~~F,K=K===void 0?_e:~~K,F<0?(F+=_e,F<0&&(F=0)):F>_e&&(F=_e),K<0?(K+=_e,K<0&&(K=0)):K>_e&&(K=_e),K<F&&(K=F);const Oe=this.subarray(F,K);return Object.setPrototypeOf(Oe,f.prototype),Oe};function Z(ye,F,K){if(ye%1!==0||ye<0)throw new RangeError("offset is not uint");if(ye+F>K)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUintLE=f.prototype.readUIntLE=function(F,K,_e){F=F>>>0,K=K>>>0,_e||Z(F,K,this.length);let Oe=this[F],se=1,ge=0;for(;++ge<K&&(se*=256);)Oe+=this[F+ge]*se;return Oe},f.prototype.readUintBE=f.prototype.readUIntBE=function(F,K,_e){F=F>>>0,K=K>>>0,_e||Z(F,K,this.length);let Oe=this[F+--K],se=1;for(;K>0&&(se*=256);)Oe+=this[F+--K]*se;return Oe},f.prototype.readUint8=f.prototype.readUInt8=function(F,K){return F=F>>>0,K||Z(F,1,this.length),this[F]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(F,K){return F=F>>>0,K||Z(F,2,this.length),this[F]|this[F+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(F,K){return F=F>>>0,K||Z(F,2,this.length),this[F]<<8|this[F+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(F,K){return F=F>>>0,K||Z(F,4,this.length),(this[F]|this[F+1]<<8|this[F+2]<<16)+this[F+3]*16777216},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(F,K){return F=F>>>0,K||Z(F,4,this.length),this[F]*16777216+(this[F+1]<<16|this[F+2]<<8|this[F+3])},f.prototype.readBigUInt64LE=Ue(function(F){F=F>>>0,re(F,"offset");const K=this[F],_e=this[F+7];(K===void 0||_e===void 0)&&fe(F,this.length-8);const Oe=K+this[++F]*2**8+this[++F]*2**16+this[++F]*2**24,se=this[++F]+this[++F]*2**8+this[++F]*2**16+_e*2**24;return BigInt(Oe)+(BigInt(se)<<BigInt(32))}),f.prototype.readBigUInt64BE=Ue(function(F){F=F>>>0,re(F,"offset");const K=this[F],_e=this[F+7];(K===void 0||_e===void 0)&&fe(F,this.length-8);const Oe=K*2**24+this[++F]*2**16+this[++F]*2**8+this[++F],se=this[++F]*2**24+this[++F]*2**16+this[++F]*2**8+_e;return(BigInt(Oe)<<BigInt(32))+BigInt(se)}),f.prototype.readIntLE=function(F,K,_e){F=F>>>0,K=K>>>0,_e||Z(F,K,this.length);let Oe=this[F],se=1,ge=0;for(;++ge<K&&(se*=256);)Oe+=this[F+ge]*se;return se*=128,Oe>=se&&(Oe-=Math.pow(2,8*K)),Oe},f.prototype.readIntBE=function(F,K,_e){F=F>>>0,K=K>>>0,_e||Z(F,K,this.length);let Oe=K,se=1,ge=this[F+--Oe];for(;Oe>0&&(se*=256);)ge+=this[F+--Oe]*se;return se*=128,ge>=se&&(ge-=Math.pow(2,8*K)),ge},f.prototype.readInt8=function(F,K){return F=F>>>0,K||Z(F,1,this.length),this[F]&128?(255-this[F]+1)*-1:this[F]},f.prototype.readInt16LE=function(F,K){F=F>>>0,K||Z(F,2,this.length);const _e=this[F]|this[F+1]<<8;return _e&32768?_e|4294901760:_e},f.prototype.readInt16BE=function(F,K){F=F>>>0,K||Z(F,2,this.length);const _e=this[F+1]|this[F]<<8;return _e&32768?_e|4294901760:_e},f.prototype.readInt32LE=function(F,K){return F=F>>>0,K||Z(F,4,this.length),this[F]|this[F+1]<<8|this[F+2]<<16|this[F+3]<<24},f.prototype.readInt32BE=function(F,K){return F=F>>>0,K||Z(F,4,this.length),this[F]<<24|this[F+1]<<16|this[F+2]<<8|this[F+3]},f.prototype.readBigInt64LE=Ue(function(F){F=F>>>0,re(F,"offset");const K=this[F],_e=this[F+7];(K===void 0||_e===void 0)&&fe(F,this.length-8);const Oe=this[F+4]+this[F+5]*2**8+this[F+6]*2**16+(_e<<24);return(BigInt(Oe)<<BigInt(32))+BigInt(K+this[++F]*2**8+this[++F]*2**16+this[++F]*2**24)}),f.prototype.readBigInt64BE=Ue(function(F){F=F>>>0,re(F,"offset");const K=this[F],_e=this[F+7];(K===void 0||_e===void 0)&&fe(F,this.length-8);const Oe=(K<<24)+this[++F]*2**16+this[++F]*2**8+this[++F];return(BigInt(Oe)<<BigInt(32))+BigInt(this[++F]*2**24+this[++F]*2**16+this[++F]*2**8+_e)}),f.prototype.readFloatLE=function(F,K){return F=F>>>0,K||Z(F,4,this.length),r.read(this,F,!0,23,4)},f.prototype.readFloatBE=function(F,K){return F=F>>>0,K||Z(F,4,this.length),r.read(this,F,!1,23,4)},f.prototype.readDoubleLE=function(F,K){return F=F>>>0,K||Z(F,8,this.length),r.read(this,F,!0,52,8)},f.prototype.readDoubleBE=function(F,K){return F=F>>>0,K||Z(F,8,this.length),r.read(this,F,!1,52,8)};function ee(ye,F,K,_e,Oe,se){if(!f.isBuffer(ye))throw new TypeError('"buffer" argument must be a Buffer instance');if(F>Oe||F<se)throw new RangeError('"value" argument is out of bounds');if(K+_e>ye.length)throw new RangeError("Index out of range")}f.prototype.writeUintLE=f.prototype.writeUIntLE=function(F,K,_e,Oe){if(F=+F,K=K>>>0,_e=_e>>>0,!Oe){const de=Math.pow(2,8*_e)-1;ee(this,F,K,_e,de,0)}let se=1,ge=0;for(this[K]=F&255;++ge<_e&&(se*=256);)this[K+ge]=F/se&255;return K+_e},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(F,K,_e,Oe){if(F=+F,K=K>>>0,_e=_e>>>0,!Oe){const de=Math.pow(2,8*_e)-1;ee(this,F,K,_e,de,0)}let se=_e-1,ge=1;for(this[K+se]=F&255;--se>=0&&(ge*=256);)this[K+se]=F/ge&255;return K+_e},f.prototype.writeUint8=f.prototype.writeUInt8=function(F,K,_e){return F=+F,K=K>>>0,_e||ee(this,F,K,1,255,0),this[K]=F&255,K+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(F,K,_e){return F=+F,K=K>>>0,_e||ee(this,F,K,2,65535,0),this[K]=F&255,this[K+1]=F>>>8,K+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(F,K,_e){return F=+F,K=K>>>0,_e||ee(this,F,K,2,65535,0),this[K]=F>>>8,this[K+1]=F&255,K+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(F,K,_e){return F=+F,K=K>>>0,_e||ee(this,F,K,4,4294967295,0),this[K+3]=F>>>24,this[K+2]=F>>>16,this[K+1]=F>>>8,this[K]=F&255,K+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(F,K,_e){return F=+F,K=K>>>0,_e||ee(this,F,K,4,4294967295,0),this[K]=F>>>24,this[K+1]=F>>>16,this[K+2]=F>>>8,this[K+3]=F&255,K+4};function P(ye,F,K,_e,Oe){U(F,_e,Oe,ye,K,7);let se=Number(F&BigInt(4294967295));ye[K++]=se,se=se>>8,ye[K++]=se,se=se>>8,ye[K++]=se,se=se>>8,ye[K++]=se;let ge=Number(F>>BigInt(32)&BigInt(4294967295));return ye[K++]=ge,ge=ge>>8,ye[K++]=ge,ge=ge>>8,ye[K++]=ge,ge=ge>>8,ye[K++]=ge,K}function A(ye,F,K,_e,Oe){U(F,_e,Oe,ye,K,7);let se=Number(F&BigInt(4294967295));ye[K+7]=se,se=se>>8,ye[K+6]=se,se=se>>8,ye[K+5]=se,se=se>>8,ye[K+4]=se;let ge=Number(F>>BigInt(32)&BigInt(4294967295));return ye[K+3]=ge,ge=ge>>8,ye[K+2]=ge,ge=ge>>8,ye[K+1]=ge,ge=ge>>8,ye[K]=ge,K+8}f.prototype.writeBigUInt64LE=Ue(function(F,K=0){return P(this,F,K,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeBigUInt64BE=Ue(function(F,K=0){return A(this,F,K,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeIntLE=function(F,K,_e,Oe){if(F=+F,K=K>>>0,!Oe){const Re=Math.pow(2,8*_e-1);ee(this,F,K,_e,Re-1,-Re)}let se=0,ge=1,de=0;for(this[K]=F&255;++se<_e&&(ge*=256);)F<0&&de===0&&this[K+se-1]!==0&&(de=1),this[K+se]=(F/ge>>0)-de&255;return K+_e},f.prototype.writeIntBE=function(F,K,_e,Oe){if(F=+F,K=K>>>0,!Oe){const Re=Math.pow(2,8*_e-1);ee(this,F,K,_e,Re-1,-Re)}let se=_e-1,ge=1,de=0;for(this[K+se]=F&255;--se>=0&&(ge*=256);)F<0&&de===0&&this[K+se+1]!==0&&(de=1),this[K+se]=(F/ge>>0)-de&255;return K+_e},f.prototype.writeInt8=function(F,K,_e){return F=+F,K=K>>>0,_e||ee(this,F,K,1,127,-128),F<0&&(F=255+F+1),this[K]=F&255,K+1},f.prototype.writeInt16LE=function(F,K,_e){return F=+F,K=K>>>0,_e||ee(this,F,K,2,32767,-32768),this[K]=F&255,this[K+1]=F>>>8,K+2},f.prototype.writeInt16BE=function(F,K,_e){return F=+F,K=K>>>0,_e||ee(this,F,K,2,32767,-32768),this[K]=F>>>8,this[K+1]=F&255,K+2},f.prototype.writeInt32LE=function(F,K,_e){return F=+F,K=K>>>0,_e||ee(this,F,K,4,2147483647,-2147483648),this[K]=F&255,this[K+1]=F>>>8,this[K+2]=F>>>16,this[K+3]=F>>>24,K+4},f.prototype.writeInt32BE=function(F,K,_e){return F=+F,K=K>>>0,_e||ee(this,F,K,4,2147483647,-2147483648),F<0&&(F=4294967295+F+1),this[K]=F>>>24,this[K+1]=F>>>16,this[K+2]=F>>>8,this[K+3]=F&255,K+4},f.prototype.writeBigInt64LE=Ue(function(F,K=0){return P(this,F,K,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),f.prototype.writeBigInt64BE=Ue(function(F,K=0){return A(this,F,K,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function $(ye,F,K,_e,Oe,se){if(K+_e>ye.length)throw new RangeError("Index out of range");if(K<0)throw new RangeError("Index out of range")}function te(ye,F,K,_e,Oe){return F=+F,K=K>>>0,Oe||$(ye,F,K,4),r.write(ye,F,K,_e,23,4),K+4}f.prototype.writeFloatLE=function(F,K,_e){return te(this,F,K,!0,_e)},f.prototype.writeFloatBE=function(F,K,_e){return te(this,F,K,!1,_e)};function pe(ye,F,K,_e,Oe){return F=+F,K=K>>>0,Oe||$(ye,F,K,8),r.write(ye,F,K,_e,52,8),K+8}f.prototype.writeDoubleLE=function(F,K,_e){return pe(this,F,K,!0,_e)},f.prototype.writeDoubleBE=function(F,K,_e){return pe(this,F,K,!1,_e)},f.prototype.copy=function(F,K,_e,Oe){if(!f.isBuffer(F))throw new TypeError("argument should be a Buffer");if(_e||(_e=0),!Oe&&Oe!==0&&(Oe=this.length),K>=F.length&&(K=F.length),K||(K=0),Oe>0&&Oe<_e&&(Oe=_e),Oe===_e||F.length===0||this.length===0)return 0;if(K<0)throw new RangeError("targetStart out of bounds");if(_e<0||_e>=this.length)throw new RangeError("Index out of range");if(Oe<0)throw new RangeError("sourceEnd out of bounds");Oe>this.length&&(Oe=this.length),F.length-K<Oe-_e&&(Oe=F.length-K+_e);const se=Oe-_e;return this===F&&typeof i.prototype.copyWithin=="function"?this.copyWithin(K,_e,Oe):i.prototype.set.call(F,this.subarray(_e,Oe),K),se},f.prototype.fill=function(F,K,_e,Oe){if(typeof F=="string"){if(typeof K=="string"?(Oe=K,K=0,_e=this.length):typeof _e=="string"&&(Oe=_e,_e=this.length),Oe!==void 0&&typeof Oe!="string")throw new TypeError("encoding must be a string");if(typeof Oe=="string"&&!f.isEncoding(Oe))throw new TypeError("Unknown encoding: "+Oe);if(F.length===1){const ge=F.charCodeAt(0);(Oe==="utf8"&&ge<128||Oe==="latin1")&&(F=ge)}}else typeof F=="number"?F=F&255:typeof F=="boolean"&&(F=Number(F));if(K<0||this.length<K||this.length<_e)throw new RangeError("Out of range index");if(_e<=K)return this;K=K>>>0,_e=_e===void 0?this.length:_e>>>0,F||(F=0);let se;if(typeof F=="number")for(se=K;se<_e;++se)this[se]=F;else{const ge=f.isBuffer(F)?F:f.from(F,Oe),de=ge.length;if(de===0)throw new TypeError('The value "'+F+'" is invalid for argument "value"');for(se=0;se<_e-K;++se)this[se+K]=ge[se%de]}return this};const R={};function w(ye,F,K){R[ye]=class extends K{constructor(){super(),Object.defineProperty(this,"message",{value:F.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${ye}]`,this.stack,delete this.name}get code(){return ye}set code(Oe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Oe,writable:!0})}toString(){return`${this.name} [${ye}]: ${this.message}`}}}w("ERR_BUFFER_OUT_OF_BOUNDS",function(ye){return ye?`${ye} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),w("ERR_INVALID_ARG_TYPE",function(ye,F){return`The "${ye}" argument must be of type number. Received type ${typeof F}`},TypeError),w("ERR_OUT_OF_RANGE",function(ye,F,K){let _e=`The value of "${ye}" is out of range.`,Oe=K;return Number.isInteger(K)&&Math.abs(K)>2**32?Oe=x(String(K)):typeof K=="bigint"&&(Oe=String(K),(K>BigInt(2)**BigInt(32)||K<-(BigInt(2)**BigInt(32)))&&(Oe=x(Oe)),Oe+="n"),_e+=` It must be ${F}. Received ${Oe}`,_e},RangeError);function x(ye){let F="",K=ye.length;const _e=ye[0]==="-"?1:0;for(;K>=_e+4;K-=3)F=`_${ye.slice(K-3,K)}${F}`;return`${ye.slice(0,K)}${F}`}function k(ye,F,K){re(F,"offset"),(ye[F]===void 0||ye[F+K]===void 0)&&fe(F,ye.length-(K+1))}function U(ye,F,K,_e,Oe,se){if(ye>K||ye<F){const ge=typeof F=="bigint"?"n":"";let de;throw F===0||F===BigInt(0)?de=`>= 0${ge} and < 2${ge} ** ${(se+1)*8}${ge}`:de=`>= -(2${ge} ** ${(se+1)*8-1}${ge}) and < 2 ** ${(se+1)*8-1}${ge}`,new R.ERR_OUT_OF_RANGE("value",de,ye)}k(_e,Oe,se)}function re(ye,F){if(typeof ye!="number")throw new R.ERR_INVALID_ARG_TYPE(F,"number",ye)}function fe(ye,F,K){throw Math.floor(ye)!==ye?(re(ye,K),new R.ERR_OUT_OF_RANGE("offset","an integer",ye)):F<0?new R.ERR_BUFFER_OUT_OF_BOUNDS:new R.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${F}`,ye)}const ve=/[^+/0-9A-Za-z-_]/g;function ce(ye){if(ye=ye.split("=")[0],ye=ye.trim().replace(ve,""),ye.length<2)return"";for(;ye.length%4!==0;)ye=ye+"=";return ye}function Ie(ye,F){F=F||1/0;let K;const _e=ye.length;let Oe=null;const se=[];for(let ge=0;ge<_e;++ge){if(K=ye.charCodeAt(ge),K>55295&&K<57344){if(!Oe){if(K>56319){(F-=3)>-1&&se.push(239,191,189);continue}else if(ge+1===_e){(F-=3)>-1&&se.push(239,191,189);continue}Oe=K;continue}if(K<56320){(F-=3)>-1&&se.push(239,191,189),Oe=K;continue}K=(Oe-55296<<10|K-56320)+65536}else Oe&&(F-=3)>-1&&se.push(239,191,189);if(Oe=null,K<128){if((F-=1)<0)break;se.push(K)}else if(K<2048){if((F-=2)<0)break;se.push(K>>6|192,K&63|128)}else if(K<65536){if((F-=3)<0)break;se.push(K>>12|224,K>>6&63|128,K&63|128)}else if(K<1114112){if((F-=4)<0)break;se.push(K>>18|240,K>>12&63|128,K>>6&63|128,K&63|128)}else throw new Error("Invalid code point")}return se}function be(ye){const F=[];for(let K=0;K<ye.length;++K)F.push(ye.charCodeAt(K)&255);return F}function xe(ye,F){let K,_e,Oe;const se=[];for(let ge=0;ge<ye.length&&!((F-=2)<0);++ge)K=ye.charCodeAt(ge),_e=K>>8,Oe=K%256,se.push(Oe),se.push(_e);return se}function je(ye){return t.toByteArray(ce(ye))}function Ae(ye,F,K,_e){let Oe;for(Oe=0;Oe<_e&&!(Oe+K>=F.length||Oe>=ye.length);++Oe)F[Oe+K]=ye[Oe];return Oe}function Pe(ye,F){return ye instanceof F||ye!=null&&ye.constructor!=null&&ye.constructor.name!=null&&ye.constructor.name===F.name}function ke(ye){return ye!==ye}const Ze=function(){const ye="0123456789abcdef",F=new Array(256);for(let K=0;K<16;++K){const _e=K*16;for(let Oe=0;Oe<16;++Oe)F[_e+Oe]=ye[K]+ye[Oe]}return F}();function Ue(ye){return typeof BigInt>"u"?it:ye}function it(){throw new Error("BigInt not supported")}})(EE);const Jn=EE.Buffer,IG=EE.Buffer;/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var eg,HR;function OG(){if(HR)return eg;HR=1;let e;return eg=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:xt):t=>(e||(e=Promise.resolve())).then(t).catch(r=>setTimeout(()=>{throw r},0)),eg}var PG=OG();const CG=Bh(PG),Hl="http://www.w3.org/1999/02/22-rdf-syntax-ns#",Vl="http://www.w3.org/2001/XMLSchema#",tg="http://www.w3.org/2000/10/swap/",gn={xsd:{decimal:`${Vl}decimal`,boolean:`${Vl}boolean`,double:`${Vl}double`,integer:`${Vl}integer`,string:`${Vl}string`},rdf:{type:`${Hl}type`,nil:`${Hl}nil`,first:`${Hl}first`,rest:`${Hl}rest`,langString:`${Hl}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${tg}reify#forSome`,forAll:`${tg}reify#forAll`},log:{implies:`${tg}log#implies`}},{xsd:jp}=gn,LG=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,VR={"\\":"\\","'":"'",'"':'"',n:`
`,r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},DG=/[\x00-\x20<>\\"\{\}\|\^\`]/,NG={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},MG=/$0^/;class TE{constructor(t){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,t=t||{},this._lineMode=!!t.lineMode){this._n3Mode=!1;for(const r in this)!(r in NG)&&this[r]instanceof RegExp&&(this[r]=MG)}else this._n3Mode=t.n3!==!1;this.comments=!!t.comments,this._literalClosingPos=0}_tokenizeToEnd(t,r){let n=this._input,a=n.length;for(;;){let s,u;for(;s=this._newline.exec(n);)this.comments&&(u=this._comment.exec(s[0]))&&i("comment",u[1],"",this._line,s[0].length),n=n.substr(s[0].length,n.length),a=n.length,this._line++;if(!s&&(s=this._whitespace.exec(n))&&(n=n.substr(s[0].length,n.length)),this._endOfFile.test(n))return r&&(this.comments&&(u=this._comment.exec(n))&&i("comment",u[1],"",this._line,n.length),n=null,i("eof","","",this._line,0)),this._input=n;const l=this._line,f=n[0];let d="",c="",p="",_=null,v=0,b=!1;switch(f){case"^":if(n.length<3)break;if(n[1]==="^"){if(this._previousMarker="^^",n=n.substr(2),n[0]!=="<"){b=!0;break}}else{this._n3Mode&&(v=1,d="^");break}case"<":if(_=this._unescapedIri.exec(n))d="IRI",c=_[1];else if(_=this._iri.exec(n)){if(c=this._unescape(_[1]),c===null||DG.test(c))return o(this);d="IRI"}else n.length>1&&n[1]==="<"?(d="<<",v=2):this._n3Mode&&n.length>1&&n[1]==="="&&(d="inverse",v=2,c=">");break;case">":n.length>1&&n[1]===">"&&(d=">>",v=2);break;case"_":((_=this._blank.exec(n))||r&&(_=this._blank.exec(`${n} `)))&&(d="blank",p="_",c=_[1]);break;case'"':if(_=this._simpleQuotedString.exec(n))c=_[1];else if({value:c,matchLength:v}=this._parseLiteral(n),c===null)return o(this);(_!==null||v!==0)&&(d="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(_=this._simpleApostropheString.exec(n))c=_[1];else if({value:c,matchLength:v}=this._parseLiteral(n),c===null)return o(this);(_!==null||v!==0)&&(d="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(_=this._variable.exec(n))&&(d="var",c=_[0]);break;case"@":this._previousMarker==="literal"&&(_=this._langcode.exec(n))?(d="langcode",c=_[1]):(_=this._keyword.exec(n))&&(d=_[0]);break;case".":if(n.length===1?r:n[1]<"0"||n[1]>"9"){d=".",v=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(_=this._number.exec(n)||r&&(_=this._number.exec(`${n} `)))&&(d="literal",c=_[0],p=typeof _[1]=="string"?jp.double:typeof _[2]=="string"?jp.decimal:jp.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(_=this._sparqlKeyword.exec(n))?d=_[0].toUpperCase():b=!0;break;case"f":case"t":(_=this._boolean.exec(n))?(d="literal",c=_[0],p=jp.boolean):b=!0;break;case"a":(_=this._shortPredicates.exec(n))?(d="abbreviation",c="a"):b=!0;break;case"=":this._n3Mode&&n.length>1&&(d="abbreviation",n[1]!==">"?(v=1,c="="):(v=2,c=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(v=1,d=f);break;case"{":!this._lineMode&&n.length>=2&&(n[1]==="|"?(d="{|",v=2):(d=f,v=1));break;case"|":n.length>=2&&n[1]==="}"&&(d="|}",v=2);break;default:b=!0}if(b&&((this._previousMarker==="@prefix"||this._previousMarker==="PREFIX")&&(_=this._prefix.exec(n))?(d="prefix",c=_[1]||""):((_=this._prefixed.exec(n))||r&&(_=this._prefixed.exec(`${n} `)))&&(d="prefixed",p=_[1]||"",c=this._unescape(_[2]))),this._previousMarker==="^^")switch(d){case"prefixed":d="type";break;case"IRI":d="typeIRI";break;default:d=""}if(!d)return r||!/^'''|^"""/.test(n)&&/\n|\r/.test(n)?o(this):this._input=n;const m=v||_[0].length,y=i(d,c,p,l,m);this.previousToken=y,this._previousMarker=d,n=n.substr(m,n.length)}function i(s,u,l,f,d){const c=n?a-n.length:a,p=c+d,_={type:s,value:u,prefix:l,line:f,start:c,end:p};return t(null,_),_}function o(s){t(s._syntaxError(/^\S*/.exec(n)[0]))}}_unescape(t){let r=!1;const n=t.replace(LG,(a,i,o,s)=>{if(typeof i=="string")return String.fromCharCode(Number.parseInt(i,16));if(typeof o=="string"){let u=Number.parseInt(o,16);return u<=65535?String.fromCharCode(Number.parseInt(o,16)):String.fromCharCode(55296+((u-=65536)>>10),56320+(u&1023))}return s in VR?VR[s]:(r=!0,"")});return r?null:n}_parseLiteral(t){if(t.length>=3){const r=t.match(/^(?:"""|"|'''|'|)/)[0],n=r.length;let a=Math.max(this._literalClosingPos,n);for(;(a=t.indexOf(r,a))>0;){let i=0;for(;t[a-i-1]==="\\";)i++;if(i%2===0){const o=t.substring(n,a),s=o.split(/\r\n|\r|\n/).length-1,u=a+n;if(n===1&&s!==0||n===3&&this._lineMode)break;return this._line+=s,{value:this._unescape(o),matchLength:u}}a++}this._literalClosingPos=t.length-n+1}return{value:"",matchLength:0}}_syntaxError(t){this._input=null;const r=new Error(`Unexpected "${t}" on line ${this._line}.`);return r.context={token:void 0,line:this._line,previousToken:this.previousToken},r}_readStartingBom(t){return t.startsWith("\uFEFF")?t.substr(1):t}tokenize(t,r){if(this._line=1,typeof t=="string")if(this._input=this._readStartingBom(t),typeof r=="function")CG(()=>this._tokenizeToEnd(r,!0));else{const n=[];let a;if(this._tokenizeToEnd((i,o)=>i?a=i:n.push(o),!0),a)throw a;return n}else this._pendingBuffer=null,typeof t.setEncoding=="function"&&t.setEncoding("utf8"),t.on("data",n=>{this._input!==null&&n.length!==0&&(this._pendingBuffer&&(n=IG.concat([this._pendingBuffer,n]),this._pendingBuffer=null),n[n.length-1]&128?this._pendingBuffer=n:(typeof this._input>"u"?this._input=this._readStartingBom(typeof n=="string"?n:n.toString()):this._input+=n,this._tokenizeToEnd(r,!1)))}),t.on("end",()=>{typeof this._input=="string"&&this._tokenizeToEnd(r,!0)}),t.on("error",r)}}const{rdf:kG,xsd:Ns}=gn;let sl,FG=0;const Ai={namedNode:D6,blankNode:N6,variable:k6,literal:M6,defaultGraph:jG,quad:iS,triple:iS,fromTerm:Kd,fromQuad:F6};class ai{constructor(t){this.id=t}get value(){return this.id}equals(t){return t instanceof ai?this.id===t.id:!!t&&this.termType===t.termType&&this.value===t.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}}let T0=class extends ai{get termType(){return"NamedNode"}},Nu=class L6 extends ai{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const t=this.id;let r=t.lastIndexOf('"')+1;return r<t.length&&t[r++]==="@"?t.substr(r).toLowerCase():""}get datatype(){return new T0(this.datatypeString)}get datatypeString(){const t=this.id,r=t.lastIndexOf('"')+1,n=r<t.length?t[r]:"";return n==="^"?t.substr(r+2):n!=="@"?Ns.string:kG.langString}equals(t){return t instanceof L6?this.id===t.id:!!t&&!!t.datatype&&this.termType===t.termType&&this.value===t.value&&this.language===t.language&&this.datatype.value===t.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}},RE=class extends ai{constructor(t){super(`_:${t}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}},AE=class extends ai{constructor(t){super(`?${t}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}},IE=class extends ai{constructor(){return super(""),sl||this}get termType(){return"DefaultGraph"}equals(t){return this===t||!!t&&this.termType===t.termType}};sl=new IE;function js(e,t,r){if(t=t||Ai,!e)return t.defaultGraph();switch(e[0]){case"?":return t.variable(e.substr(1));case"_":return t.blankNode(e.substr(2));case'"':if(t===Ai)return new Nu(e);if(e[e.length-1]==='"')return t.literal(e.substr(1,e.length-2));const n=e.lastIndexOf('"',e.length-1);return t.literal(e.substr(1,n-1),e[n+1]==="@"?e.substr(n+2):t.namedNode(e.substr(n+3)));case"[":e=JSON.parse(e);break;default:if(!r||!Array.isArray(e))return t.namedNode(e)}return t.quad(js(e[0],t,!0),js(e[1],t,!0),js(e[2],t,!0),e[3]&&js(e[3],t,!0))}function Io(e,t){if(typeof e=="string")return e;if(e instanceof ai&&e.termType!=="Quad")return e.id;if(!e)return sl.id;switch(e.termType){case"NamedNode":return e.value;case"BlankNode":return`_:${e.value}`;case"Variable":return`?${e.value}`;case"DefaultGraph":return"";case"Literal":return`"${e.value}"${e.language?`@${e.language}`:e.datatype&&e.datatype.value!==Ns.string?`^^${e.datatype.value}`:""}`;case"Quad":const r=[Io(e.subject,!0),Io(e.predicate,!0),Io(e.object,!0)];return e.graph&&e.graph.termType!=="DefaultGraph"&&r.push(Io(e.graph,!0)),t?r:JSON.stringify(r);default:throw new Error(`Unexpected termType: ${e.termType}`)}}let Uu=class extends ai{constructor(t,r,n,a){super(""),this._subject=t,this._predicate=r,this._object=n,this._graph=a||sl}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(t){return!!t&&this._subject.equals(t.subject)&&this._predicate.equals(t.predicate)&&this._object.equals(t.object)&&this._graph.equals(t.graph)}};function D6(e){return new T0(e)}function N6(e){return new RE(e||`n3-${FG++}`)}function M6(e,t){if(typeof t=="string")return new Nu(`"${e}"@${t.toLowerCase()}`);let r=t?t.value:"";return r===""&&(typeof e=="boolean"?r=Ns.boolean:typeof e=="number"&&(Number.isFinite(e)?r=Number.isInteger(e)?Ns.integer:Ns.double:(r=Ns.double,Number.isNaN(e)||(e=e>0?"INF":"-INF")))),r===""||r===Ns.string?new Nu(`"${e}"`):new Nu(`"${e}"^^${r}`)}function k6(e){return new AE(e)}function jG(){return sl}function iS(e,t,r,n){return new Uu(e,t,r,n)}function Kd(e){if(e instanceof ai)return e;switch(e.termType){case"NamedNode":return D6(e.value);case"BlankNode":return N6(e.value);case"Variable":return k6(e.value);case"DefaultGraph":return sl;case"Literal":return M6(e.value,e.language||e.datatype);case"Quad":return F6(e);default:throw new Error(`Unexpected termType: ${e.termType}`)}}function F6(e){if(e instanceof Uu)return e;if(e.termType!=="Quad")throw new Error(`Unexpected termType: ${e.termType}`);return iS(Kd(e.subject),Kd(e.predicate),Kd(e.object),Kd(e.graph))}let zR=0;class R0{constructor(t){this._contextStack=[],this._graph=null,t=t||{},this._setBase(t.baseIRI),t.factory&&j6(this,t.factory);const r=typeof t.format=="string"?t.format.match(/\w*$/)[0].toLowerCase():"",n=/turtle/.test(r),a=/trig/.test(r),i=/triple/.test(r),o=/quad/.test(r),s=this._n3Mode=/n3/.test(r),u=i||o;(this._supportsNamedGraphs=!(n||s))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(n||a||i||s),this._supportsRDFStar=r===""||/star|\*$/.test(r),u&&(this._resolveRelativeIRI=l=>null),this._blankNodePrefix=typeof t.blankNodePrefix!="string"?"":t.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=t.lexer||new TE({lineMode:u,n3:s}),this._explicitQuantifiers=!!t.explicitQuantifiers}static _resetBlankNodePrefix(){zR=0}_setBase(t){if(!t)this._base="",this._basePath="";else{const r=t.indexOf("#");r>=0&&(t=t.substr(0,r)),this._base=t,this._basePath=t.indexOf("/")<0?t:t.replace(/[^\/?]*(?:\?.*)?$/,""),t=t.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=t[0],this._baseScheme=t[1]}}_saveContext(t,r,n,a,i){const o=this._n3Mode;this._contextStack.push({type:t,subject:n,predicate:a,object:i,graph:r,inverse:o?this._inversePredicate:!1,blankPrefix:o?this._prefixes._:"",quantified:o?this._quantified:null}),o&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(t,r){const n=this._contextStack.pop();if(!n||n.type!==t)return this._error(`Unexpected ${r.type}`,r);this._subject=n.subject,this._predicate=n.predicate,this._object=n.object,this._graph=n.graph,this._n3Mode&&(this._inversePredicate=n.inverse,this._prefixes._=n.blankPrefix,this._quantified=n.quantified)}_readInTopContext(t){switch(t.type){case"eof":return this._graph!==null?this._error("Unclosed graph",t):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(t)}}_readEntity(t,r){let n;switch(t.type){case"IRI":case"typeIRI":const a=this._resolveIRI(t.value);if(a===null)return this._error("Invalid IRI",t);n=this._factory.namedNode(a);break;case"type":case"prefixed":const i=this._prefixes[t.prefix];if(i===void 0)return this._error(`Undefined prefix "${t.prefix}:"`,t);n=this._factory.namedNode(i+t.value);break;case"blank":n=this._factory.blankNode(this._prefixes[t.prefix]+t.value);break;case"var":n=this._factory.variable(t.value.substr(1));break;default:return this._error(`Expected entity but got ${t.type}`,t)}return!r&&this._n3Mode&&n.id in this._quantified&&(n=this._quantified[n.id]),n}_readSubject(t){switch(this._predicate=null,t.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._factory.blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._factory.blankNode(),null,null),this._readSubject):this._error("Unexpected graph",t);case"}":return this._readPunctuation(t);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier="blankNode",this._readQuantifierList):this._error('Unexpected "@forSome"',t);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier="variable",this._readQuantifierList):this._error('Unexpected "@forAll"',t);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",t);if(t.prefix.length===0)return this._literalValue=t.value,this._completeSubjectLiteral;this._subject=this._factory.literal(t.value,this._factory.namedNode(t.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",t);default:if((this._subject=this._readEntity(t))===void 0)return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(t){const r=t.type;switch(r){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[t.value];break;case".":case"]":case"}":return this._predicate===null?this._error(`Unexpected ${r}`,t):(this._subject=null,r==="]"?this._readBlankNodeTail(t):this._readPunctuation(t));case";":return this._predicate!==null?this._readPredicate:this._error("Expected predicate but got ;",t);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._factory.blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",t);default:if((this._predicate=this._readEntity(t))===void 0)return}return this._readObject}_readObject(t){switch(t.type){case"literal":if(t.prefix.length===0)return this._literalValue=t.value,this._readDataTypeOrLang;this._object=this._factory.literal(t.value,this._factory.namedNode(t.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._factory.blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._factory.blankNode()),this._readSubject):this._error("Unexpected graph",t);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",t);default:if((this._object=this._readEntity(t))===void 0)return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(t){return t.type==="{"?this._readGraph(t):this._readPredicate(t)}_readGraph(t){return t.type!=="{"?this._error(`Expected graph but got ${t.type}`,t):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(t){return t.type==="]"?(this._subject=null,this._readBlankNodeTail(t)):(this._predicate=null,this._readPredicate(t))}_readBlankNodeTail(t){if(t.type!=="]")return this._readBlankNodePunctuation(t);this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph);const r=this._predicate===null;return this._restoreContext("blank",t),this._object!==null?this._getContextEndReader():this._predicate!==null?this._readObject:r?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(t){switch(t.type){case".":case"}":return this._subject=null,this._readPunctuation(t);default:return this._readPredicate(t)}}_readListItem(t){let r=null,n=null,a=this._readListItem;const i=this._subject,o=this._contextStack,s=o[o.length-1];switch(t.type){case"[":this._saveContext("blank",this._graph,n=this._factory.blankNode(),this.RDF_FIRST,this._subject=r=this._factory.blankNode()),a=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,n=this._factory.blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",t),o.length!==0&&o[o.length-1].type==="list"&&this._emit(this._subject,this._predicate,this._object,this._graph),this._predicate===null){if(a=this._readPredicate,this._subject===this.RDF_NIL)return a}else if(a=this._getContextEndReader(),this._object===this.RDF_NIL)return a;n=this.RDF_NIL;break;case"literal":t.prefix.length===0?(this._literalValue=t.value,a=this._readListItemDataTypeOrLang):(r=this._factory.literal(t.value,this._factory.namedNode(t.prefix)),a=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._factory.blankNode()),this._readSubject):this._error("Unexpected graph",t);default:if((r=this._readEntity(t))===void 0)return}if(n===null&&(this._subject=n=this._factory.blankNode()),i===null?s.predicate===null?s.subject=n:s.object=n:this._emit(i,this.RDF_REST,n,this._graph),r!==null){if(this._n3Mode&&(t.type==="IRI"||t.type==="prefixed"))return this._saveContext("item",this._graph,n,this.RDF_FIRST,r),this._subject=r,this._predicate=null,this._getPathReader(this._readListItem);this._emit(n,this.RDF_FIRST,r,this._graph)}return a}_readDataTypeOrLang(t){return this._completeObjectLiteral(t,!1)}_readListItemDataTypeOrLang(t){return this._completeObjectLiteral(t,!0)}_completeLiteral(t){let r=this._factory.literal(this._literalValue);switch(t.type){case"type":case"typeIRI":const n=this._readEntity(t);if(n===void 0)return;r=this._factory.literal(this._literalValue,n),t=null;break;case"langcode":r=this._factory.literal(this._literalValue,t.value),t=null;break}return{token:t,literal:r}}_completeSubjectLiteral(t){return this._subject=this._completeLiteral(t).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(t,r){const n=this._completeLiteral(t);if(n)return this._object=n.literal,r&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),n.token===null?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(n.token))}_readFormulaTail(t){return t.type!=="}"?this._readPunctuation(t):(this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",t),this._object===null?this._readPredicate:this._getContextEndReader())}_readPunctuation(t){let r,n=this._graph;const a=this._subject,i=this._inversePredicate;switch(t.type){case"}":if(this._graph===null)return this._error("Unexpected graph closing",t);if(this._n3Mode)return this._readFormulaTail(t);this._graph=null;case".":this._subject=null,r=this._contextStack.length?this._readSubject:this._readInTopContext,i&&(this._inversePredicate=!1);break;case";":r=this._readPredicate;break;case",":r=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF-star syntax",t);const o=this._predicate,s=this._object;this._subject=this._factory.quad(a,o,s,this.DEFAULTGRAPH),r=this._readPredicate;break;case"|}":if(this._subject.termType!=="Quad")return this._error("Unexpected asserted triple closing",t);this._subject=null,r=this._readPunctuation;break;default:if(this._supportsQuads&&this._graph===null&&(n=this._readEntity(t))!==void 0){r=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,t)}if(a!==null){const o=this._predicate,s=this._object;i?this._emit(s,o,a,n):this._emit(a,o,s,n)}return r}_readBlankNodePunctuation(t){let r;switch(t.type){case";":r=this._readPredicate;break;case",":r=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,t)}return this._emit(this._subject,this._predicate,this._object,this._graph),r}_readQuadPunctuation(t){return t.type!=="."?this._error("Expected dot to follow quad",t):this._readInTopContext}_readPrefix(t){return t.type!=="prefix"?this._error("Expected prefix to follow @prefix",t):(this._prefix=t.value,this._readPrefixIRI)}_readPrefixIRI(t){if(t.type!=="IRI")return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,t);const r=this._readEntity(t);return this._prefixes[this._prefix]=r.value,this._prefixCallback(this._prefix,r),this._readDeclarationPunctuation}_readBaseIRI(t){const r=t.type==="IRI"&&this._resolveIRI(t.value);return r?(this._setBase(r),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",t)}_readNamedGraphLabel(t){switch(t.type){case"IRI":case"blank":case"prefixed":return this._readSubject(t),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",t)}}_readNamedGraphBlankLabel(t){return t.type!=="]"?this._error("Invalid graph label",t):(this._subject=this._factory.blankNode(),this._readGraph)}_readDeclarationPunctuation(t){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(t)):t.type!=="."?this._error("Expected declaration to end with a dot",t):this._readInTopContext}_readQuantifierList(t){let r;switch(t.type){case"IRI":case"prefixed":if((r=this._readEntity(t,!0))!==void 0)break;default:return this._error(`Unexpected ${t.type}`,t)}return this._explicitQuantifiers?(this._subject===null?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._factory.blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._factory.blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,r,this.QUANTIFIERS_GRAPH)):this._quantified[r.id]=this._factory[this._quantifier](this._factory.blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(t){return t.type===","?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(t))}_getPathReader(t){return this._afterPath=t,this._readPath}_readPath(t){switch(t.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const r=this._contextStack,n=r.length&&r[r.length-1];if(n&&n.type==="item"){const a=this._subject;this._restoreContext("item",t),this._emit(this._subject,this.RDF_FIRST,a,this._graph)}return this._afterPath(t)}}_readForwardPath(t){let r,n;const a=this._factory.blankNode();if((n=this._readEntity(t))!==void 0)return this._predicate===null?(r=this._subject,this._subject=a):(r=this._object,this._object=a),this._emit(r,n,a,this._graph),this._readPath}_readBackwardPath(t){const r=this._factory.blankNode();let n,a;if((n=this._readEntity(t))!==void 0)return this._predicate===null?(a=this._subject,this._subject=r):(a=this._object,this._object=r),this._emit(r,n,a,this._graph),this._readPath}_readRDFStarTailOrGraph(t){return t.type!==">>"?this._supportsQuads&&this._graph===null&&(this._graph=this._readEntity(t))!==void 0?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,t):this._readRDFStarTail(t)}_readRDFStarTail(t){if(t.type!==">>")return this._error(`Expected >> but got ${t.type}`,t);const r=this._factory.quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",t),this._subject===null?(this._subject=r,this._readPredicate):(this._object=r,this._getContextEndReader())}_getContextEndReader(){const t=this._contextStack;if(!t.length)return this._readPunctuation;switch(t[t.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(t,r,n,a){this._callback(null,this._factory.quad(t,r,n,a||this.DEFAULTGRAPH))}_error(t,r){const n=new Error(`${t} on line ${r.line}.`);n.context={token:r,line:r.line,previousToken:this._lexer.previousToken},this._callback(n),this._callback=Bp}_resolveIRI(t){return/^[a-z][a-z0-9+.-]*:/i.test(t)?t:this._resolveRelativeIRI(t)}_resolveRelativeIRI(t){if(!t.length)return this._base;switch(t[0]){case"#":return this._base+t;case"?":return this._base.replace(/(?:\?.*)?$/,t);case"/":return(t[1]==="/"?this._baseScheme:this._baseRoot)+this._removeDotSegments(t);default:return/^[^/:]*:/.test(t)?null:this._removeDotSegments(this._basePath+t)}}_removeDotSegments(t){if(!/(^|\/)\.\.?($|[/#?])/.test(t))return t;const r=t.length;let n="",a=-1,i=-1,o=0,s="/";for(;a<r;){switch(s){case":":if(i<0&&t[++a]==="/"&&t[++a]==="/")for(;(i=a+1)<r&&t[i]!=="/";)a=i;break;case"?":case"#":a=r;break;case"/":if(t[a+1]===".")switch(s=t[++a+1],s){case"/":n+=t.substring(o,a-1),o=a+1;break;case void 0:case"?":case"#":return n+t.substring(o,a)+t.substr(a+1);case".":if(s=t[++a+1],s===void 0||s==="/"||s==="?"||s==="#"){if(n+=t.substring(o,a-2),(o=n.lastIndexOf("/"))>=i&&(n=n.substr(0,o)),s!=="/")return`${n}/${t.substr(a+1)}`;o=a+1}}}s=t[++a]}return n+t.substring(o)}parse(t,r,n){let a,i,o;if(r&&(r.onQuad||r.onPrefix||r.onComment)?(a=r.onQuad,i=r.onPrefix,o=r.onComment):(a=r,i=n),this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${zR++}_`,this._prefixCallback=i||Bp,this._inversePredicate=!1,this._quantified=Object.create(null),!a){const u=[];let l;if(this._callback=(f,d)=>{f?l=f:d&&u.push(d)},this._lexer.tokenize(t).every(f=>this._readCallback=this._readCallback(f)),l)throw l;return u}let s=(u,l)=>{u!==null?(this._callback(u),this._callback=Bp):this._readCallback&&(this._readCallback=this._readCallback(l))};o&&(this._lexer.comments=!0,s=(u,l)=>{u!==null?(this._callback(u),this._callback=Bp):this._readCallback&&(l.type==="comment"?o(l.value):this._readCallback=this._readCallback(l))}),this._callback=a,this._lexer.tokenize(t,s)}}function Bp(){}function j6(e,t){e._factory=t,e.DEFAULTGRAPH=t.defaultGraph(),e.RDF_FIRST=t.namedNode(gn.rdf.first),e.RDF_REST=t.namedNode(gn.rdf.rest),e.RDF_NIL=t.namedNode(gn.rdf.nil),e.N3_FORALL=t.namedNode(gn.r.forAll),e.N3_FORSOME=t.namedNode(gn.r.forSome),e.ABBREVIATIONS={a:t.namedNode(gn.rdf.type),"=":t.namedNode(gn.owl.sameAs),">":t.namedNode(gn.log.implies)},e.QUANTIFIERS_GRAPH=t.namedNode("urn:n3:quantifiers")}j6(R0.prototype,Ai);function BG(e){return!!e&&e.termType==="NamedNode"}function qG(e){return!!e&&e.termType==="BlankNode"}function $G(e){return!!e&&e.termType==="Literal"}function UG(e){return!!e&&e.termType==="Variable"}function Oh(e){return!!e&&e.termType==="DefaultGraph"}function HG(e){return Oh(e.graph)}function VG(e,t){return B6({"":e.value||e},t)("")}function B6(e,t){const r=Object.create(null);for(const a in e)n(a,e[a]);t=t||Ai;function n(a,i){if(typeof i=="string"){const o=Object.create(null);r[a]=s=>o[s]||(o[s]=t.namedNode(i+s))}else if(!(a in r))throw new Error(`Unknown prefix: ${a}`);return r[a]}return n}const q6=Object.freeze(Object.defineProperty({__proto__:null,inDefaultGraph:HG,isBlankNode:qG,isDefaultGraph:Oh,isLiteral:$G,isNamedNode:BG,isVariable:UG,prefix:VG,prefixes:B6},Symbol.toStringTag,{value:"Module"})),zl=Ai.defaultGraph(),{rdf:zG,xsd:gu}=gn,GR=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,WR=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,GG={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};class Gl extends ai{equals(t){return t===this}}class zh{constructor(t,r){if(this._prefixRegex=/$0^/,t&&typeof t.write!="function"&&(r=t,t=null),r=r||{},this._lists=r.lists,t)this._outputStream=t,this._endStream=r.end===void 0?!0:!!r.end;else{let n="";this._outputStream={write(a,i,o){n+=a,o&&o()},end:a=>{a&&a(null,n)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(r.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=zl,this._prefixIRIs=Object.create(null),r.prefixes&&this.addPrefixes(r.prefixes),r.baseIRI&&(this._baseMatcher=new RegExp(`^${ZR(r.baseIRI)}${r.baseIRI.endsWith("/")?"":"[#?]"}`),this._baseLength=r.baseIRI.length))}get _inDefaultGraph(){return zl.equals(this._graph)}_write(t,r){this._outputStream.write(t,"utf8",r)}_writeQuad(t,r,n,a,i){try{a.equals(this._graph)||(this._write((this._subject===null?"":this._inDefaultGraph?`.
`:`
}
`)+(zl.equals(a)?"":`${this._encodeIriOrBlank(a)} {
`)),this._graph=a,this._subject=null),t.equals(this._subject)?r.equals(this._predicate)?this._write(`, ${this._encodeObject(n)}`,i):this._write(`;
    ${this._encodePredicate(this._predicate=r)} ${this._encodeObject(n)}`,i):this._write(`${(this._subject===null?"":`.
`)+this._encodeSubject(this._subject=t)} ${this._encodePredicate(this._predicate=r)} ${this._encodeObject(n)}`,i)}catch(o){i&&i(o)}}_writeQuadLine(t,r,n,a,i){delete this._prefixMatch,this._write(this.quadToString(t,r,n,a),i)}quadToString(t,r,n,a){return`${this._encodeSubject(t)} ${this._encodeIriOrBlank(r)} ${this._encodeObject(n)}${a&&a.value?` ${this._encodeIriOrBlank(a)} .
`:` .
`}`}quadsToString(t){let r="";for(const n of t)r+=this.quadToString(n.subject,n.predicate,n.object,n.graph);return r}_encodeSubject(t){return t.termType==="Quad"?this._encodeQuad(t):this._encodeIriOrBlank(t)}_encodeIriOrBlank(t){if(t.termType!=="NamedNode")return this._lists&&t.value in this._lists&&(t=this.list(this._lists[t.value])),"id"in t?t.id:`_:${t.value}`;let r=t.value;this._baseMatcher&&this._baseMatcher.test(r)&&(r=r.substr(this._baseLength)),GR.test(r)&&(r=r.replace(WR,KR));const n=this._prefixRegex.exec(r);return n?n[1]?this._prefixIRIs[n[1]]+n[2]:r:`<${r}>`}_encodeLiteral(t){let r=t.value;if(GR.test(r)&&(r=r.replace(WR,KR)),t.language)return`"${r}"@${t.language}`;if(this._lineMode){if(t.datatype.value===gu.string)return`"${r}"`}else switch(t.datatype.value){case gu.string:return`"${r}"`;case gu.boolean:if(r==="true"||r==="false")return r;break;case gu.integer:if(/^[+-]?\d+$/.test(r))return r;break;case gu.decimal:if(/^[+-]?\d*\.\d+$/.test(r))return r;break;case gu.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(r))return r;break}return`"${r}"^^${this._encodeIriOrBlank(t.datatype)}`}_encodePredicate(t){return t.value===zG.type?"a":this._encodeIriOrBlank(t)}_encodeObject(t){switch(t.termType){case"Quad":return this._encodeQuad(t);case"Literal":return this._encodeLiteral(t);default:return this._encodeIriOrBlank(t)}}_encodeQuad({subject:t,predicate:r,object:n,graph:a}){return`<<${this._encodeSubject(t)} ${this._encodePredicate(r)} ${this._encodeObject(n)}${Oh(a)?"":` ${this._encodeIriOrBlank(a)}`}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(t,r,n,a,i){n===void 0?this._writeQuad(t.subject,t.predicate,t.object,t.graph,r):typeof a=="function"?this._writeQuad(t,r,n,zl,a):this._writeQuad(t,r,n,a||zl,i)}addQuads(t){for(let r=0;r<t.length;r++)this.addQuad(t[r])}addPrefix(t,r,n){const a={};a[t]=r,this.addPrefixes(a,n)}addPrefixes(t,r){if(!this._prefixIRIs)return r&&r();let n=!1;for(let a in t){let i=t[a];typeof i!="string"&&(i=i.value),n=!0,this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null,this._graph=""),this._prefixIRIs[i]=a+=":",this._write(`@prefix ${a} <${i}>.
`)}if(n){let a="",i="";for(const o in this._prefixIRIs)a+=a?`|${o}`:o,i+=(i?"|":"")+this._prefixIRIs[o];a=ZR(a),this._prefixRegex=new RegExp(`^(?:${i})[^/]*$|^(${a})([_a-zA-Z0-9][\\-_a-zA-Z0-9]*)$`)}this._write(n?`
`:"",r)}blank(t,r){let n=t,a,i;switch(t===void 0?n=[]:t.termType?n=[{predicate:t,object:r}]:"length"in t||(n=[t]),i=n.length){case 0:return new Gl("[]");case 1:if(a=n[0],!(a.object instanceof Gl))return new Gl(`[ ${this._encodePredicate(a.predicate)} ${this._encodeObject(a.object)} ]`);default:let o="[";for(let s=0;s<i;s++)a=n[s],a.predicate.equals(t)?o+=`, ${this._encodeObject(a.object)}`:(o+=`${(s?`;
  `:`
  `)+this._encodePredicate(a.predicate)} ${this._encodeObject(a.object)}`,t=a.predicate);return new Gl(`${o}
]`)}}list(t){const r=t&&t.length||0,n=new Array(r);for(let a=0;a<r;a++)n[a]=this._encodeObject(t[a]);return new Gl(`(${n.join(" ")})`)}end(t){this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null),this._write=this._blockedWrite;let r=t&&((n,a)=>{r=null,t(n,a)});if(this._endStream)try{return this._outputStream.end(r)}catch{}r&&r()}}function KR(e){let t=GG[e];return t===void 0&&(e.length===1?(t=e.charCodeAt(0).toString(16),t="\\u0000".substr(0,6-t.length)+t):(t=((e.charCodeAt(0)-55296)*1024+e.charCodeAt(1)+9216).toString(16),t="\\U00000000".substr(0,10-t.length)+t)),t}function ZR(e){return e.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&")}var rg={exports:{}},ng={exports:{}},ig={},YR;function Tr(){return YR||(YR=1,function(e){Object.defineProperties(e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var t={},r={};r.byteLength=f,r.toByteArray=c,r.fromByteArray=v;for(var n=[],a=[],i=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=o.length;s<u;++s)n[s]=o[s],a[o.charCodeAt(s)]=s;a[45]=62,a[95]=63;function l(y){var g=y.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var S=y.indexOf("=");S===-1&&(S=g);var T=S===g?0:4-S%4;return[S,T]}function f(y){var g=l(y),S=g[0],T=g[1];return(S+T)*3/4-T}function d(y,g,S){return(g+S)*3/4-S}function c(y){var g,S=l(y),T=S[0],I=S[1],C=new i(d(y,T,I)),B=0,D=I>0?T-4:T,M;for(M=0;M<D;M+=4)g=a[y.charCodeAt(M)]<<18|a[y.charCodeAt(M+1)]<<12|a[y.charCodeAt(M+2)]<<6|a[y.charCodeAt(M+3)],C[B++]=g>>16&255,C[B++]=g>>8&255,C[B++]=g&255;return I===2&&(g=a[y.charCodeAt(M)]<<2|a[y.charCodeAt(M+1)]>>4,C[B++]=g&255),I===1&&(g=a[y.charCodeAt(M)]<<10|a[y.charCodeAt(M+1)]<<4|a[y.charCodeAt(M+2)]>>2,C[B++]=g>>8&255,C[B++]=g&255),C}function p(y){return n[y>>18&63]+n[y>>12&63]+n[y>>6&63]+n[y&63]}function _(y,g,S){for(var T,I=[],C=g;C<S;C+=3)T=(y[C]<<16&16711680)+(y[C+1]<<8&65280)+(y[C+2]&255),I.push(p(T));return I.join("")}function v(y){for(var g,S=y.length,T=S%3,I=[],C=16383,B=0,D=S-T;B<D;B+=C)I.push(_(y,B,B+C>D?D:B+C));return T===1?(g=y[S-1],I.push(n[g>>2]+n[g<<4&63]+"==")):T===2&&(g=(y[S-2]<<8)+y[S-1],I.push(n[g>>10]+n[g>>4&63]+n[g<<2&63]+"=")),I.join("")}var b={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */b.read=function(y,g,S,T,I){var C,B,D=I*8-T-1,M=(1<<D)-1,j=M>>1,O=-7,q=S?I-1:0,Q=S?-1:1,ie=y[g+q];for(q+=Q,C=ie&(1<<-O)-1,ie>>=-O,O+=D;O>0;C=C*256+y[g+q],q+=Q,O-=8);for(B=C&(1<<-O)-1,C>>=-O,O+=T;O>0;B=B*256+y[g+q],q+=Q,O-=8);if(C===0)C=1-j;else{if(C===M)return B?NaN:(ie?-1:1)*(1/0);B=B+Math.pow(2,T),C=C-j}return(ie?-1:1)*B*Math.pow(2,C-T)},b.write=function(y,g,S,T,I,C){var B,D,M,j=C*8-I-1,O=(1<<j)-1,q=O>>1,Q=I===23?Math.pow(2,-24)-Math.pow(2,-77):0,ie=T?0:C-1,X=T?1:-1,le=g<0||g===0&&1/g<0?1:0;for(g=Math.abs(g),isNaN(g)||g===1/0?(D=isNaN(g)?1:0,B=O):(B=Math.floor(Math.log(g)/Math.LN2),g*(M=Math.pow(2,-B))<1&&(B--,M*=2),B+q>=1?g+=Q/M:g+=Q*Math.pow(2,1-q),g*M>=2&&(B++,M/=2),B+q>=O?(D=0,B=O):B+q>=1?(D=(g*M-1)*Math.pow(2,I),B=B+q):(D=g*Math.pow(2,q-1)*Math.pow(2,I),B=0));I>=8;y[S+ie]=D&255,ie+=X,D/=256,I-=8);for(B=B<<I|D,j+=I;j>0;y[S+ie]=B&255,ie+=X,B/=256,j-=8);y[S+ie-X]|=le*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(y){const g=r,S=b,T=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;y.Buffer=O,y.SlowBuffer=Y,y.INSPECT_MAX_BYTES=50;const I=2147483647;y.kMaxLength=I;const{Uint8Array:C,ArrayBuffer:B,SharedArrayBuffer:D}=globalThis;O.TYPED_ARRAY_SUPPORT=M(),!O.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function M(){try{const W=new C(1),G={foo:function(){return 42}};return Object.setPrototypeOf(G,C.prototype),Object.setPrototypeOf(W,G),W.foo()===42}catch{return!1}}Object.defineProperty(O.prototype,"parent",{enumerable:!0,get:function(){if(O.isBuffer(this))return this.buffer}}),Object.defineProperty(O.prototype,"offset",{enumerable:!0,get:function(){if(O.isBuffer(this))return this.byteOffset}});function j(W){if(W>I)throw new RangeError('The value "'+W+'" is invalid for option "size"');const G=new C(W);return Object.setPrototypeOf(G,O.prototype),G}function O(W,G,J){if(typeof W=="number"){if(typeof G=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return X(W)}return q(W,G,J)}O.poolSize=8192;function q(W,G,J){if(typeof W=="string")return le(W,G);if(B.isView(W))return ne(W);if(W==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W);if(me(W,B)||W&&me(W.buffer,B)||typeof D<"u"&&(me(W,D)||W&&me(W.buffer,D)))return V(W,G,J);if(typeof W=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Se=W.valueOf&&W.valueOf();if(Se!=null&&Se!==W)return O.from(Se,G,J);const Ne=oe(W);if(Ne)return Ne;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof W[Symbol.toPrimitive]=="function")return O.from(W[Symbol.toPrimitive]("string"),G,J);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W)}O.from=function(W,G,J){return q(W,G,J)},Object.setPrototypeOf(O.prototype,C.prototype),Object.setPrototypeOf(O,C);function Q(W){if(typeof W!="number")throw new TypeError('"size" argument must be of type number');if(W<0)throw new RangeError('The value "'+W+'" is invalid for option "size"')}function ie(W,G,J){return Q(W),W<=0?j(W):G!==void 0?typeof J=="string"?j(W).fill(G,J):j(W).fill(G):j(W)}O.alloc=function(W,G,J){return ie(W,G,J)};function X(W){return Q(W),j(W<0?0:he(W)|0)}O.allocUnsafe=function(W){return X(W)},O.allocUnsafeSlow=function(W){return X(W)};function le(W,G){if((typeof G!="string"||G==="")&&(G="utf8"),!O.isEncoding(G))throw new TypeError("Unknown encoding: "+G);const J=Z(W,G)|0;let Se=j(J);const Ne=Se.write(W,G);return Ne!==J&&(Se=Se.slice(0,Ne)),Se}function ae(W){const G=W.length<0?0:he(W.length)|0,J=j(G);for(let Se=0;Se<G;Se+=1)J[Se]=W[Se]&255;return J}function ne(W){if(me(W,C)){const G=new C(W);return V(G.buffer,G.byteOffset,G.byteLength)}return ae(W)}function V(W,G,J){if(G<0||W.byteLength<G)throw new RangeError('"offset" is outside of buffer bounds');if(W.byteLength<G+(J||0))throw new RangeError('"length" is outside of buffer bounds');let Se;return G===void 0&&J===void 0?Se=new C(W):J===void 0?Se=new C(W,G):Se=new C(W,G,J),Object.setPrototypeOf(Se,O.prototype),Se}function oe(W){if(O.isBuffer(W)){const G=he(W.length)|0,J=j(G);return J.length===0||W.copy(J,0,0,G),J}if(W.length!==void 0)return typeof W.length!="number"||Me(W.length)?j(0):ae(W);if(W.type==="Buffer"&&Array.isArray(W.data))return ae(W.data)}function he(W){if(W>=I)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+I.toString(16)+" bytes");return W|0}function Y(W){return+W!=W&&(W=0),O.alloc(+W)}O.isBuffer=function(G){return G!=null&&G._isBuffer===!0&&G!==O.prototype},O.compare=function(G,J){if(me(G,C)&&(G=O.from(G,G.offset,G.byteLength)),me(J,C)&&(J=O.from(J,J.offset,J.byteLength)),!O.isBuffer(G)||!O.isBuffer(J))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(G===J)return 0;let Se=G.length,Ne=J.length;for(let Le=0,He=Math.min(Se,Ne);Le<He;++Le)if(G[Le]!==J[Le]){Se=G[Le],Ne=J[Le];break}return Se<Ne?-1:Ne<Se?1:0},O.isEncoding=function(G){switch(String(G).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},O.concat=function(G,J){if(!Array.isArray(G))throw new TypeError('"list" argument must be an Array of Buffers');if(G.length===0)return O.alloc(0);let Se;if(J===void 0)for(J=0,Se=0;Se<G.length;++Se)J+=G[Se].length;const Ne=O.allocUnsafe(J);let Le=0;for(Se=0;Se<G.length;++Se){let He=G[Se];if(me(He,C))Le+He.length>Ne.length?(O.isBuffer(He)||(He=O.from(He)),He.copy(Ne,Le)):C.prototype.set.call(Ne,He,Le);else if(O.isBuffer(He))He.copy(Ne,Le);else throw new TypeError('"list" argument must be an Array of Buffers');Le+=He.length}return Ne};function Z(W,G){if(O.isBuffer(W))return W.length;if(B.isView(W)||me(W,B))return W.byteLength;if(typeof W!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof W);const J=W.length,Se=arguments.length>2&&arguments[2]===!0;if(!Se&&J===0)return 0;let Ne=!1;for(;;)switch(G){case"ascii":case"latin1":case"binary":return J;case"utf8":case"utf-8":return Re(W).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return J*2;case"hex":return J>>>1;case"base64":return Te(W).length;default:if(Ne)return Se?-1:Re(W).length;G=(""+G).toLowerCase(),Ne=!0}}O.byteLength=Z;function ee(W,G,J){let Se=!1;if((G===void 0||G<0)&&(G=0),G>this.length||((J===void 0||J>this.length)&&(J=this.length),J<=0)||(J>>>=0,G>>>=0,J<=G))return"";for(W||(W="utf8");;)switch(W){case"hex":return Ie(this,G,J);case"utf8":case"utf-8":return U(this,G,J);case"ascii":return ve(this,G,J);case"latin1":case"binary":return ce(this,G,J);case"base64":return k(this,G,J);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return be(this,G,J);default:if(Se)throw new TypeError("Unknown encoding: "+W);W=(W+"").toLowerCase(),Se=!0}}O.prototype._isBuffer=!0;function P(W,G,J){const Se=W[G];W[G]=W[J],W[J]=Se}O.prototype.swap16=function(){const G=this.length;if(G%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let J=0;J<G;J+=2)P(this,J,J+1);return this},O.prototype.swap32=function(){const G=this.length;if(G%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let J=0;J<G;J+=4)P(this,J,J+3),P(this,J+1,J+2);return this},O.prototype.swap64=function(){const G=this.length;if(G%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let J=0;J<G;J+=8)P(this,J,J+7),P(this,J+1,J+6),P(this,J+2,J+5),P(this,J+3,J+4);return this},O.prototype.toString=function(){const G=this.length;return G===0?"":arguments.length===0?U(this,0,G):ee.apply(this,arguments)},O.prototype.toLocaleString=O.prototype.toString,O.prototype.equals=function(G){if(!O.isBuffer(G))throw new TypeError("Argument must be a Buffer");return this===G?!0:O.compare(this,G)===0},O.prototype.inspect=function(){let G="";const J=y.INSPECT_MAX_BYTES;return G=this.toString("hex",0,J).replace(/(.{2})/g,"$1 ").trim(),this.length>J&&(G+=" ... "),"<Buffer "+G+">"},T&&(O.prototype[T]=O.prototype.inspect),O.prototype.compare=function(G,J,Se,Ne,Le){if(me(G,C)&&(G=O.from(G,G.offset,G.byteLength)),!O.isBuffer(G))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof G);if(J===void 0&&(J=0),Se===void 0&&(Se=G?G.length:0),Ne===void 0&&(Ne=0),Le===void 0&&(Le=this.length),J<0||Se>G.length||Ne<0||Le>this.length)throw new RangeError("out of range index");if(Ne>=Le&&J>=Se)return 0;if(Ne>=Le)return-1;if(J>=Se)return 1;if(J>>>=0,Se>>>=0,Ne>>>=0,Le>>>=0,this===G)return 0;let He=Le-Ne,$e=Se-J;const ut=Math.min(He,$e),lt=this.slice(Ne,Le),dt=G.slice(J,Se);for(let ct=0;ct<ut;++ct)if(lt[ct]!==dt[ct]){He=lt[ct],$e=dt[ct];break}return He<$e?-1:$e<He?1:0};function A(W,G,J,Se,Ne){if(W.length===0)return-1;if(typeof J=="string"?(Se=J,J=0):J>2147483647?J=2147483647:J<-2147483648&&(J=-2147483648),J=+J,Me(J)&&(J=Ne?0:W.length-1),J<0&&(J=W.length+J),J>=W.length){if(Ne)return-1;J=W.length-1}else if(J<0)if(Ne)J=0;else return-1;if(typeof G=="string"&&(G=O.from(G,Se)),O.isBuffer(G))return G.length===0?-1:$(W,G,J,Se,Ne);if(typeof G=="number")return G=G&255,typeof C.prototype.indexOf=="function"?Ne?C.prototype.indexOf.call(W,G,J):C.prototype.lastIndexOf.call(W,G,J):$(W,[G],J,Se,Ne);throw new TypeError("val must be string, number or Buffer")}function $(W,G,J,Se,Ne){let Le=1,He=W.length,$e=G.length;if(Se!==void 0&&(Se=String(Se).toLowerCase(),Se==="ucs2"||Se==="ucs-2"||Se==="utf16le"||Se==="utf-16le")){if(W.length<2||G.length<2)return-1;Le=2,He/=2,$e/=2,J/=2}function ut(dt,ct){return Le===1?dt[ct]:dt.readUInt16BE(ct*Le)}let lt;if(Ne){let dt=-1;for(lt=J;lt<He;lt++)if(ut(W,lt)===ut(G,dt===-1?0:lt-dt)){if(dt===-1&&(dt=lt),lt-dt+1===$e)return dt*Le}else dt!==-1&&(lt-=lt-dt),dt=-1}else for(J+$e>He&&(J=He-$e),lt=J;lt>=0;lt--){let dt=!0;for(let ct=0;ct<$e;ct++)if(ut(W,lt+ct)!==ut(G,ct)){dt=!1;break}if(dt)return lt}return-1}O.prototype.includes=function(G,J,Se){return this.indexOf(G,J,Se)!==-1},O.prototype.indexOf=function(G,J,Se){return A(this,G,J,Se,!0)},O.prototype.lastIndexOf=function(G,J,Se){return A(this,G,J,Se,!1)};function te(W,G,J,Se){J=Number(J)||0;const Ne=W.length-J;Se?(Se=Number(Se),Se>Ne&&(Se=Ne)):Se=Ne;const Le=G.length;Se>Le/2&&(Se=Le/2);let He;for(He=0;He<Se;++He){const $e=parseInt(G.substr(He*2,2),16);if(Me($e))return He;W[J+He]=$e}return He}function pe(W,G,J,Se){return De(Re(G,W.length-J),W,J,Se)}function R(W,G,J,Se){return De(qe(G),W,J,Se)}function w(W,G,J,Se){return De(Te(G),W,J,Se)}function x(W,G,J,Se){return De(H(G,W.length-J),W,J,Se)}O.prototype.write=function(G,J,Se,Ne){if(J===void 0)Ne="utf8",Se=this.length,J=0;else if(Se===void 0&&typeof J=="string")Ne=J,Se=this.length,J=0;else if(isFinite(J))J=J>>>0,isFinite(Se)?(Se=Se>>>0,Ne===void 0&&(Ne="utf8")):(Ne=Se,Se=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Le=this.length-J;if((Se===void 0||Se>Le)&&(Se=Le),G.length>0&&(Se<0||J<0)||J>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ne||(Ne="utf8");let He=!1;for(;;)switch(Ne){case"hex":return te(this,G,J,Se);case"utf8":case"utf-8":return pe(this,G,J,Se);case"ascii":case"latin1":case"binary":return R(this,G,J,Se);case"base64":return w(this,G,J,Se);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,G,J,Se);default:if(He)throw new TypeError("Unknown encoding: "+Ne);Ne=(""+Ne).toLowerCase(),He=!0}},O.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function k(W,G,J){return G===0&&J===W.length?g.fromByteArray(W):g.fromByteArray(W.slice(G,J))}function U(W,G,J){J=Math.min(W.length,J);const Se=[];let Ne=G;for(;Ne<J;){const Le=W[Ne];let He=null,$e=Le>239?4:Le>223?3:Le>191?2:1;if(Ne+$e<=J){let ut,lt,dt,ct;switch($e){case 1:Le<128&&(He=Le);break;case 2:ut=W[Ne+1],(ut&192)===128&&(ct=(Le&31)<<6|ut&63,ct>127&&(He=ct));break;case 3:ut=W[Ne+1],lt=W[Ne+2],(ut&192)===128&&(lt&192)===128&&(ct=(Le&15)<<12|(ut&63)<<6|lt&63,ct>2047&&(ct<55296||ct>57343)&&(He=ct));break;case 4:ut=W[Ne+1],lt=W[Ne+2],dt=W[Ne+3],(ut&192)===128&&(lt&192)===128&&(dt&192)===128&&(ct=(Le&15)<<18|(ut&63)<<12|(lt&63)<<6|dt&63,ct>65535&&ct<1114112&&(He=ct))}}He===null?(He=65533,$e=1):He>65535&&(He-=65536,Se.push(He>>>10&1023|55296),He=56320|He&1023),Se.push(He),Ne+=$e}return fe(Se)}const re=4096;function fe(W){const G=W.length;if(G<=re)return String.fromCharCode.apply(String,W);let J="",Se=0;for(;Se<G;)J+=String.fromCharCode.apply(String,W.slice(Se,Se+=re));return J}function ve(W,G,J){let Se="";J=Math.min(W.length,J);for(let Ne=G;Ne<J;++Ne)Se+=String.fromCharCode(W[Ne]&127);return Se}function ce(W,G,J){let Se="";J=Math.min(W.length,J);for(let Ne=G;Ne<J;++Ne)Se+=String.fromCharCode(W[Ne]);return Se}function Ie(W,G,J){const Se=W.length;(!G||G<0)&&(G=0),(!J||J<0||J>Se)&&(J=Se);let Ne="";for(let Le=G;Le<J;++Le)Ne+=Ve[W[Le]];return Ne}function be(W,G,J){const Se=W.slice(G,J);let Ne="";for(let Le=0;Le<Se.length-1;Le+=2)Ne+=String.fromCharCode(Se[Le]+Se[Le+1]*256);return Ne}O.prototype.slice=function(G,J){const Se=this.length;G=~~G,J=J===void 0?Se:~~J,G<0?(G+=Se,G<0&&(G=0)):G>Se&&(G=Se),J<0?(J+=Se,J<0&&(J=0)):J>Se&&(J=Se),J<G&&(J=G);const Ne=this.subarray(G,J);return Object.setPrototypeOf(Ne,O.prototype),Ne};function xe(W,G,J){if(W%1!==0||W<0)throw new RangeError("offset is not uint");if(W+G>J)throw new RangeError("Trying to access beyond buffer length")}O.prototype.readUintLE=O.prototype.readUIntLE=function(G,J,Se){G=G>>>0,J=J>>>0,Se||xe(G,J,this.length);let Ne=this[G],Le=1,He=0;for(;++He<J&&(Le*=256);)Ne+=this[G+He]*Le;return Ne},O.prototype.readUintBE=O.prototype.readUIntBE=function(G,J,Se){G=G>>>0,J=J>>>0,Se||xe(G,J,this.length);let Ne=this[G+--J],Le=1;for(;J>0&&(Le*=256);)Ne+=this[G+--J]*Le;return Ne},O.prototype.readUint8=O.prototype.readUInt8=function(G,J){return G=G>>>0,J||xe(G,1,this.length),this[G]},O.prototype.readUint16LE=O.prototype.readUInt16LE=function(G,J){return G=G>>>0,J||xe(G,2,this.length),this[G]|this[G+1]<<8},O.prototype.readUint16BE=O.prototype.readUInt16BE=function(G,J){return G=G>>>0,J||xe(G,2,this.length),this[G]<<8|this[G+1]},O.prototype.readUint32LE=O.prototype.readUInt32LE=function(G,J){return G=G>>>0,J||xe(G,4,this.length),(this[G]|this[G+1]<<8|this[G+2]<<16)+this[G+3]*16777216},O.prototype.readUint32BE=O.prototype.readUInt32BE=function(G,J){return G=G>>>0,J||xe(G,4,this.length),this[G]*16777216+(this[G+1]<<16|this[G+2]<<8|this[G+3])},O.prototype.readBigUInt64LE=ft(function(G){G=G>>>0,Oe(G,"offset");const J=this[G],Se=this[G+7];(J===void 0||Se===void 0)&&se(G,this.length-8);const Ne=J+this[++G]*2**8+this[++G]*2**16+this[++G]*2**24,Le=this[++G]+this[++G]*2**8+this[++G]*2**16+Se*2**24;return BigInt(Ne)+(BigInt(Le)<<BigInt(32))}),O.prototype.readBigUInt64BE=ft(function(G){G=G>>>0,Oe(G,"offset");const J=this[G],Se=this[G+7];(J===void 0||Se===void 0)&&se(G,this.length-8);const Ne=J*2**24+this[++G]*2**16+this[++G]*2**8+this[++G],Le=this[++G]*2**24+this[++G]*2**16+this[++G]*2**8+Se;return(BigInt(Ne)<<BigInt(32))+BigInt(Le)}),O.prototype.readIntLE=function(G,J,Se){G=G>>>0,J=J>>>0,Se||xe(G,J,this.length);let Ne=this[G],Le=1,He=0;for(;++He<J&&(Le*=256);)Ne+=this[G+He]*Le;return Le*=128,Ne>=Le&&(Ne-=Math.pow(2,8*J)),Ne},O.prototype.readIntBE=function(G,J,Se){G=G>>>0,J=J>>>0,Se||xe(G,J,this.length);let Ne=J,Le=1,He=this[G+--Ne];for(;Ne>0&&(Le*=256);)He+=this[G+--Ne]*Le;return Le*=128,He>=Le&&(He-=Math.pow(2,8*J)),He},O.prototype.readInt8=function(G,J){return G=G>>>0,J||xe(G,1,this.length),this[G]&128?(255-this[G]+1)*-1:this[G]},O.prototype.readInt16LE=function(G,J){G=G>>>0,J||xe(G,2,this.length);const Se=this[G]|this[G+1]<<8;return Se&32768?Se|4294901760:Se},O.prototype.readInt16BE=function(G,J){G=G>>>0,J||xe(G,2,this.length);const Se=this[G+1]|this[G]<<8;return Se&32768?Se|4294901760:Se},O.prototype.readInt32LE=function(G,J){return G=G>>>0,J||xe(G,4,this.length),this[G]|this[G+1]<<8|this[G+2]<<16|this[G+3]<<24},O.prototype.readInt32BE=function(G,J){return G=G>>>0,J||xe(G,4,this.length),this[G]<<24|this[G+1]<<16|this[G+2]<<8|this[G+3]},O.prototype.readBigInt64LE=ft(function(G){G=G>>>0,Oe(G,"offset");const J=this[G],Se=this[G+7];(J===void 0||Se===void 0)&&se(G,this.length-8);const Ne=this[G+4]+this[G+5]*2**8+this[G+6]*2**16+(Se<<24);return(BigInt(Ne)<<BigInt(32))+BigInt(J+this[++G]*2**8+this[++G]*2**16+this[++G]*2**24)}),O.prototype.readBigInt64BE=ft(function(G){G=G>>>0,Oe(G,"offset");const J=this[G],Se=this[G+7];(J===void 0||Se===void 0)&&se(G,this.length-8);const Ne=(J<<24)+this[++G]*2**16+this[++G]*2**8+this[++G];return(BigInt(Ne)<<BigInt(32))+BigInt(this[++G]*2**24+this[++G]*2**16+this[++G]*2**8+Se)}),O.prototype.readFloatLE=function(G,J){return G=G>>>0,J||xe(G,4,this.length),S.read(this,G,!0,23,4)},O.prototype.readFloatBE=function(G,J){return G=G>>>0,J||xe(G,4,this.length),S.read(this,G,!1,23,4)},O.prototype.readDoubleLE=function(G,J){return G=G>>>0,J||xe(G,8,this.length),S.read(this,G,!0,52,8)},O.prototype.readDoubleBE=function(G,J){return G=G>>>0,J||xe(G,8,this.length),S.read(this,G,!1,52,8)};function je(W,G,J,Se,Ne,Le){if(!O.isBuffer(W))throw new TypeError('"buffer" argument must be a Buffer instance');if(G>Ne||G<Le)throw new RangeError('"value" argument is out of bounds');if(J+Se>W.length)throw new RangeError("Index out of range")}O.prototype.writeUintLE=O.prototype.writeUIntLE=function(G,J,Se,Ne){if(G=+G,J=J>>>0,Se=Se>>>0,!Ne){const $e=Math.pow(2,8*Se)-1;je(this,G,J,Se,$e,0)}let Le=1,He=0;for(this[J]=G&255;++He<Se&&(Le*=256);)this[J+He]=G/Le&255;return J+Se},O.prototype.writeUintBE=O.prototype.writeUIntBE=function(G,J,Se,Ne){if(G=+G,J=J>>>0,Se=Se>>>0,!Ne){const $e=Math.pow(2,8*Se)-1;je(this,G,J,Se,$e,0)}let Le=Se-1,He=1;for(this[J+Le]=G&255;--Le>=0&&(He*=256);)this[J+Le]=G/He&255;return J+Se},O.prototype.writeUint8=O.prototype.writeUInt8=function(G,J,Se){return G=+G,J=J>>>0,Se||je(this,G,J,1,255,0),this[J]=G&255,J+1},O.prototype.writeUint16LE=O.prototype.writeUInt16LE=function(G,J,Se){return G=+G,J=J>>>0,Se||je(this,G,J,2,65535,0),this[J]=G&255,this[J+1]=G>>>8,J+2},O.prototype.writeUint16BE=O.prototype.writeUInt16BE=function(G,J,Se){return G=+G,J=J>>>0,Se||je(this,G,J,2,65535,0),this[J]=G>>>8,this[J+1]=G&255,J+2},O.prototype.writeUint32LE=O.prototype.writeUInt32LE=function(G,J,Se){return G=+G,J=J>>>0,Se||je(this,G,J,4,4294967295,0),this[J+3]=G>>>24,this[J+2]=G>>>16,this[J+1]=G>>>8,this[J]=G&255,J+4},O.prototype.writeUint32BE=O.prototype.writeUInt32BE=function(G,J,Se){return G=+G,J=J>>>0,Se||je(this,G,J,4,4294967295,0),this[J]=G>>>24,this[J+1]=G>>>16,this[J+2]=G>>>8,this[J+3]=G&255,J+4};function Ae(W,G,J,Se,Ne){_e(G,Se,Ne,W,J,7);let Le=Number(G&BigInt(4294967295));W[J++]=Le,Le=Le>>8,W[J++]=Le,Le=Le>>8,W[J++]=Le,Le=Le>>8,W[J++]=Le;let He=Number(G>>BigInt(32)&BigInt(4294967295));return W[J++]=He,He=He>>8,W[J++]=He,He=He>>8,W[J++]=He,He=He>>8,W[J++]=He,J}function Pe(W,G,J,Se,Ne){_e(G,Se,Ne,W,J,7);let Le=Number(G&BigInt(4294967295));W[J+7]=Le,Le=Le>>8,W[J+6]=Le,Le=Le>>8,W[J+5]=Le,Le=Le>>8,W[J+4]=Le;let He=Number(G>>BigInt(32)&BigInt(4294967295));return W[J+3]=He,He=He>>8,W[J+2]=He,He=He>>8,W[J+1]=He,He=He>>8,W[J]=He,J+8}O.prototype.writeBigUInt64LE=ft(function(G,J=0){return Ae(this,G,J,BigInt(0),BigInt("0xffffffffffffffff"))}),O.prototype.writeBigUInt64BE=ft(function(G,J=0){return Pe(this,G,J,BigInt(0),BigInt("0xffffffffffffffff"))}),O.prototype.writeIntLE=function(G,J,Se,Ne){if(G=+G,J=J>>>0,!Ne){const ut=Math.pow(2,8*Se-1);je(this,G,J,Se,ut-1,-ut)}let Le=0,He=1,$e=0;for(this[J]=G&255;++Le<Se&&(He*=256);)G<0&&$e===0&&this[J+Le-1]!==0&&($e=1),this[J+Le]=(G/He>>0)-$e&255;return J+Se},O.prototype.writeIntBE=function(G,J,Se,Ne){if(G=+G,J=J>>>0,!Ne){const ut=Math.pow(2,8*Se-1);je(this,G,J,Se,ut-1,-ut)}let Le=Se-1,He=1,$e=0;for(this[J+Le]=G&255;--Le>=0&&(He*=256);)G<0&&$e===0&&this[J+Le+1]!==0&&($e=1),this[J+Le]=(G/He>>0)-$e&255;return J+Se},O.prototype.writeInt8=function(G,J,Se){return G=+G,J=J>>>0,Se||je(this,G,J,1,127,-128),G<0&&(G=255+G+1),this[J]=G&255,J+1},O.prototype.writeInt16LE=function(G,J,Se){return G=+G,J=J>>>0,Se||je(this,G,J,2,32767,-32768),this[J]=G&255,this[J+1]=G>>>8,J+2},O.prototype.writeInt16BE=function(G,J,Se){return G=+G,J=J>>>0,Se||je(this,G,J,2,32767,-32768),this[J]=G>>>8,this[J+1]=G&255,J+2},O.prototype.writeInt32LE=function(G,J,Se){return G=+G,J=J>>>0,Se||je(this,G,J,4,2147483647,-2147483648),this[J]=G&255,this[J+1]=G>>>8,this[J+2]=G>>>16,this[J+3]=G>>>24,J+4},O.prototype.writeInt32BE=function(G,J,Se){return G=+G,J=J>>>0,Se||je(this,G,J,4,2147483647,-2147483648),G<0&&(G=4294967295+G+1),this[J]=G>>>24,this[J+1]=G>>>16,this[J+2]=G>>>8,this[J+3]=G&255,J+4},O.prototype.writeBigInt64LE=ft(function(G,J=0){return Ae(this,G,J,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),O.prototype.writeBigInt64BE=ft(function(G,J=0){return Pe(this,G,J,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ke(W,G,J,Se,Ne,Le){if(J+Se>W.length)throw new RangeError("Index out of range");if(J<0)throw new RangeError("Index out of range")}function Ze(W,G,J,Se,Ne){return G=+G,J=J>>>0,Ne||ke(W,G,J,4),S.write(W,G,J,Se,23,4),J+4}O.prototype.writeFloatLE=function(G,J,Se){return Ze(this,G,J,!0,Se)},O.prototype.writeFloatBE=function(G,J,Se){return Ze(this,G,J,!1,Se)};function Ue(W,G,J,Se,Ne){return G=+G,J=J>>>0,Ne||ke(W,G,J,8),S.write(W,G,J,Se,52,8),J+8}O.prototype.writeDoubleLE=function(G,J,Se){return Ue(this,G,J,!0,Se)},O.prototype.writeDoubleBE=function(G,J,Se){return Ue(this,G,J,!1,Se)},O.prototype.copy=function(G,J,Se,Ne){if(!O.isBuffer(G))throw new TypeError("argument should be a Buffer");if(Se||(Se=0),!Ne&&Ne!==0&&(Ne=this.length),J>=G.length&&(J=G.length),J||(J=0),Ne>0&&Ne<Se&&(Ne=Se),Ne===Se||G.length===0||this.length===0)return 0;if(J<0)throw new RangeError("targetStart out of bounds");if(Se<0||Se>=this.length)throw new RangeError("Index out of range");if(Ne<0)throw new RangeError("sourceEnd out of bounds");Ne>this.length&&(Ne=this.length),G.length-J<Ne-Se&&(Ne=G.length-J+Se);const Le=Ne-Se;return this===G&&typeof C.prototype.copyWithin=="function"?this.copyWithin(J,Se,Ne):C.prototype.set.call(G,this.subarray(Se,Ne),J),Le},O.prototype.fill=function(G,J,Se,Ne){if(typeof G=="string"){if(typeof J=="string"?(Ne=J,J=0,Se=this.length):typeof Se=="string"&&(Ne=Se,Se=this.length),Ne!==void 0&&typeof Ne!="string")throw new TypeError("encoding must be a string");if(typeof Ne=="string"&&!O.isEncoding(Ne))throw new TypeError("Unknown encoding: "+Ne);if(G.length===1){const He=G.charCodeAt(0);(Ne==="utf8"&&He<128||Ne==="latin1")&&(G=He)}}else typeof G=="number"?G=G&255:typeof G=="boolean"&&(G=Number(G));if(J<0||this.length<J||this.length<Se)throw new RangeError("Out of range index");if(Se<=J)return this;J=J>>>0,Se=Se===void 0?this.length:Se>>>0,G||(G=0);let Le;if(typeof G=="number")for(Le=J;Le<Se;++Le)this[Le]=G;else{const He=O.isBuffer(G)?G:O.from(G,Ne),$e=He.length;if($e===0)throw new TypeError('The value "'+G+'" is invalid for argument "value"');for(Le=0;Le<Se-J;++Le)this[Le+J]=He[Le%$e]}return this};const it={};function ye(W,G,J){it[W]=class extends J{constructor(){super(),Object.defineProperty(this,"message",{value:G.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${W}]`,this.stack,delete this.name}get code(){return W}set code(Ne){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Ne,writable:!0})}toString(){return`${this.name} [${W}]: ${this.message}`}}}ye("ERR_BUFFER_OUT_OF_BOUNDS",function(W){return W?`${W} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ye("ERR_INVALID_ARG_TYPE",function(W,G){return`The "${W}" argument must be of type number. Received type ${typeof G}`},TypeError),ye("ERR_OUT_OF_RANGE",function(W,G,J){let Se=`The value of "${W}" is out of range.`,Ne=J;return Number.isInteger(J)&&Math.abs(J)>2**32?Ne=F(String(J)):typeof J=="bigint"&&(Ne=String(J),(J>BigInt(2)**BigInt(32)||J<-(BigInt(2)**BigInt(32)))&&(Ne=F(Ne)),Ne+="n"),Se+=` It must be ${G}. Received ${Ne}`,Se},RangeError);function F(W){let G="",J=W.length;const Se=W[0]==="-"?1:0;for(;J>=Se+4;J-=3)G=`_${W.slice(J-3,J)}${G}`;return`${W.slice(0,J)}${G}`}function K(W,G,J){Oe(G,"offset"),(W[G]===void 0||W[G+J]===void 0)&&se(G,W.length-(J+1))}function _e(W,G,J,Se,Ne,Le){if(W>J||W<G){const He=typeof G=="bigint"?"n":"";let $e;throw G===0||G===BigInt(0)?$e=`>= 0${He} and < 2${He} ** ${(Le+1)*8}${He}`:$e=`>= -(2${He} ** ${(Le+1)*8-1}${He}) and < 2 ** ${(Le+1)*8-1}${He}`,new it.ERR_OUT_OF_RANGE("value",$e,W)}K(Se,Ne,Le)}function Oe(W,G){if(typeof W!="number")throw new it.ERR_INVALID_ARG_TYPE(G,"number",W)}function se(W,G,J){throw Math.floor(W)!==W?(Oe(W,J),new it.ERR_OUT_OF_RANGE("offset","an integer",W)):G<0?new it.ERR_BUFFER_OUT_OF_BOUNDS:new it.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${G}`,W)}const ge=/[^+/0-9A-Za-z-_]/g;function de(W){if(W=W.split("=")[0],W=W.trim().replace(ge,""),W.length<2)return"";for(;W.length%4!==0;)W=W+"=";return W}function Re(W,G){G=G||1/0;let J;const Se=W.length;let Ne=null;const Le=[];for(let He=0;He<Se;++He){if(J=W.charCodeAt(He),J>55295&&J<57344){if(!Ne){if(J>56319){(G-=3)>-1&&Le.push(239,191,189);continue}else if(He+1===Se){(G-=3)>-1&&Le.push(239,191,189);continue}Ne=J;continue}if(J<56320){(G-=3)>-1&&Le.push(239,191,189),Ne=J;continue}J=(Ne-55296<<10|J-56320)+65536}else Ne&&(G-=3)>-1&&Le.push(239,191,189);if(Ne=null,J<128){if((G-=1)<0)break;Le.push(J)}else if(J<2048){if((G-=2)<0)break;Le.push(J>>6|192,J&63|128)}else if(J<65536){if((G-=3)<0)break;Le.push(J>>12|224,J>>6&63|128,J&63|128)}else if(J<1114112){if((G-=4)<0)break;Le.push(J>>18|240,J>>12&63|128,J>>6&63|128,J&63|128)}else throw new Error("Invalid code point")}return Le}function qe(W){const G=[];for(let J=0;J<W.length;++J)G.push(W.charCodeAt(J)&255);return G}function H(W,G){let J,Se,Ne;const Le=[];for(let He=0;He<W.length&&!((G-=2)<0);++He)J=W.charCodeAt(He),Se=J>>8,Ne=J%256,Le.push(Ne),Le.push(Se);return Le}function Te(W){return g.toByteArray(de(W))}function De(W,G,J,Se){let Ne;for(Ne=0;Ne<Se&&!(Ne+J>=G.length||Ne>=W.length);++Ne)G[Ne+J]=W[Ne];return Ne}function me(W,G){return W instanceof G||W!=null&&W.constructor!=null&&W.constructor.name!=null&&W.constructor.name===G.name}function Me(W){return W!==W}const Ve=function(){const W="0123456789abcdef",G=new Array(256);for(let J=0;J<16;++J){const Se=J*16;for(let Ne=0;Ne<16;++Ne)G[Se+Ne]=W[J]+W[Ne]}return G}();function ft(W){return typeof BigInt>"u"?we:W}function we(){throw new Error("BigInt not supported")}})(t);const m=t.Buffer;e.Blob=t.Blob,e.BlobOptions=t.BlobOptions,e.Buffer=t.Buffer,e.File=t.File,e.FileOptions=t.FileOptions,e.INSPECT_MAX_BYTES=t.INSPECT_MAX_BYTES,e.SlowBuffer=t.SlowBuffer,e.TranscodeEncoding=t.TranscodeEncoding,e.atob=t.atob,e.btoa=t.btoa,e.constants=t.constants,e.default=m,e.isAscii=t.isAscii,e.isUtf8=t.isUtf8,e.kMaxLength=t.kMaxLength,e.kStringMaxLength=t.kStringMaxLength,e.resolveObjectURL=t.resolveObjectURL,e.transcode=t.transcode}(ig)),ig}var ag,QR;function Er(){if(QR)return ag;QR=1;class e extends Error{constructor(r){if(!Array.isArray(r))throw new TypeError(`Expected input to be an Array, got ${typeof r}`);let n="";for(let a=0;a<r.length;a++)n+=`    ${r[a].stack}
`;super(n),this.name="AggregateError",this.errors=r}}return ag={AggregateError:e,ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,r){return t.includes(r)},ArrayPrototypeIndexOf(t,r){return t.indexOf(r)},ArrayPrototypeJoin(t,r){return t.join(r)},ArrayPrototypeMap(t,r){return t.map(r)},ArrayPrototypePop(t,r){return t.pop(r)},ArrayPrototypePush(t,r){return t.push(r)},ArrayPrototypeSlice(t,r,n){return t.slice(r,n)},Error,FunctionPrototypeCall(t,r,...n){return t.call(r,...n)},FunctionPrototypeSymbolHasInstance(t,r){return Function.prototype[Symbol.hasInstance].call(t,r)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,r){return Object.defineProperties(t,r)},ObjectDefineProperty(t,r,n){return Object.defineProperty(t,r,n)},ObjectGetOwnPropertyDescriptor(t,r){return Object.getOwnPropertyDescriptor(t,r)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,r){return Object.setPrototypeOf(t,r)},Promise,PromisePrototypeCatch(t,r){return t.catch(r)},PromisePrototypeThen(t,r,n){return t.then(r,n)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,r){return t.test(r)},SafeSet:Set,String,StringPrototypeSlice(t,r,n){return t.slice(r,n)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,r,n){return t.set(r,n)},Boolean,Uint8Array},ag}var og={exports:{}},sg,XR;function $6(){return XR||(XR=1,sg={format(e,...t){return e.replace(/%([sdifj])/g,function(...[r,n]){const a=t.shift();return n==="f"?a.toFixed(6):n==="j"?JSON.stringify(a):n==="s"&&typeof a=="object"?`${a.constructor!==Object?a.constructor.name:""} {}`.trim():a.toString()})},inspect(e){switch(typeof e){case"string":if(e.includes("'"))if(e.includes('"')){if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}else return`"${e}"`;return`'${e}'`;case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}}}),sg}var ug,JR;function qn(){if(JR)return ug;JR=1;const{format:e,inspect:t}=$6(),{AggregateError:r}=Er(),n=globalThis.AggregateError||r,a=Symbol("kIsNodeError"),i=["string","function","number","object","Function","Object","boolean","bigint","symbol"],o=/^([A-Z][a-z0-9]*)+$/,s="__node_internal_",u={};function l(b,m){if(!b)throw new u.ERR_INTERNAL_ASSERTION(m)}function f(b){let m="",y=b.length;const g=b[0]==="-"?1:0;for(;y>=g+4;y-=3)m=`_${b.slice(y-3,y)}${m}`;return`${b.slice(0,y)}${m}`}function d(b,m,y){if(typeof m=="function")return l(m.length<=y.length,`Code: ${b}; The provided arguments length (${y.length}) does not match the required ones (${m.length}).`),m(...y);const g=(m.match(/%[dfijoOs]/g)||[]).length;return l(g===y.length,`Code: ${b}; The provided arguments length (${y.length}) does not match the required ones (${g}).`),y.length===0?m:e(m,...y)}function c(b,m,y){y||(y=Error);class g extends y{constructor(...T){super(d(b,m,T))}toString(){return`${this.name} [${b}]: ${this.message}`}}Object.defineProperties(g.prototype,{name:{value:y.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${b}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),g.prototype.code=b,g.prototype[a]=!0,u[b]=g}function p(b){const m=s+b.name;return Object.defineProperty(b,"name",{value:m}),b}function _(b,m){if(b&&m&&b!==m){if(Array.isArray(m.errors))return m.errors.push(b),m;const y=new n([m,b],m.message);return y.code=m.code,y}return b||m}class v extends Error{constructor(m="The operation was aborted",y=void 0){if(y!==void 0&&typeof y!="object")throw new u.ERR_INVALID_ARG_TYPE("options","Object",y);super(m,y),this.code="ABORT_ERR",this.name="AbortError"}}return c("ERR_ASSERTION","%s",Error),c("ERR_INVALID_ARG_TYPE",(b,m,y)=>{l(typeof b=="string","'name' must be a string"),Array.isArray(m)||(m=[m]);let g="The ";b.endsWith(" argument")?g+=`${b} `:g+=`"${b}" ${b.includes(".")?"property":"argument"} `,g+="must be ";const S=[],T=[],I=[];for(const B of m)l(typeof B=="string","All expected entries have to be of type string"),i.includes(B)?S.push(B.toLowerCase()):o.test(B)?T.push(B):(l(B!=="object",'The value "object" should be written as "Object"'),I.push(B));if(T.length>0){const B=S.indexOf("object");B!==-1&&(S.splice(S,B,1),T.push("Object"))}if(S.length>0){switch(S.length){case 1:g+=`of type ${S[0]}`;break;case 2:g+=`one of type ${S[0]} or ${S[1]}`;break;default:{const B=S.pop();g+=`one of type ${S.join(", ")}, or ${B}`}}(T.length>0||I.length>0)&&(g+=" or ")}if(T.length>0){switch(T.length){case 1:g+=`an instance of ${T[0]}`;break;case 2:g+=`an instance of ${T[0]} or ${T[1]}`;break;default:{const B=T.pop();g+=`an instance of ${T.join(", ")}, or ${B}`}}I.length>0&&(g+=" or ")}switch(I.length){case 0:break;case 1:I[0].toLowerCase()!==I[0]&&(g+="an "),g+=`${I[0]}`;break;case 2:g+=`one of ${I[0]} or ${I[1]}`;break;default:{const B=I.pop();g+=`one of ${I.join(", ")}, or ${B}`}}if(y==null)g+=`. Received ${y}`;else if(typeof y=="function"&&y.name)g+=`. Received function ${y.name}`;else if(typeof y=="object"){var C;if((C=y.constructor)!==null&&C!==void 0&&C.name)g+=`. Received an instance of ${y.constructor.name}`;else{const B=t(y,{depth:-1});g+=`. Received ${B}`}}else{let B=t(y,{colors:!1});B.length>25&&(B=`${B.slice(0,25)}...`),g+=`. Received type ${typeof y} (${B})`}return g},TypeError),c("ERR_INVALID_ARG_VALUE",(b,m,y="is invalid")=>{let g=t(m);return g.length>128&&(g=g.slice(0,128)+"..."),`The ${b.includes(".")?"property":"argument"} '${b}' ${y}. Received ${g}`},TypeError),c("ERR_INVALID_RETURN_VALUE",(b,m,y)=>{var g;const S=y!=null&&(g=y.constructor)!==null&&g!==void 0&&g.name?`instance of ${y.constructor.name}`:`type ${typeof y}`;return`Expected ${b} to be returned from the "${m}" function but got ${S}.`},TypeError),c("ERR_MISSING_ARGS",(...b)=>{l(b.length>0,"At least one arg needs to be specified");let m;const y=b.length;switch(b=(Array.isArray(b)?b:[b]).map(g=>`"${g}"`).join(" or "),y){case 1:m+=`The ${b[0]} argument`;break;case 2:m+=`The ${b[0]} and ${b[1]} arguments`;break;default:{const g=b.pop();m+=`The ${b.join(", ")}, and ${g} arguments`}break}return`${m} must be specified`},TypeError),c("ERR_OUT_OF_RANGE",(b,m,y)=>{l(m,'Missing "range" argument');let g;if(Number.isInteger(y)&&Math.abs(y)>2**32)g=f(String(y));else if(typeof y=="bigint"){g=String(y);const S=BigInt(2)**BigInt(32);(y>S||y<-S)&&(g=f(g)),g+="n"}else g=t(y);return`The value of "${b}" is out of range. It must be ${m}. Received ${g}`},RangeError),c("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),c("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),c("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),c("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),c("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),c("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),c("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),c("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),c("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),c("ERR_STREAM_WRITE_AFTER_END","write after end",Error),c("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),ug={AbortError:v,aggregateTwoErrors:p(_),hideStackFrames:p,codes:u},ug}var Wl={exports:{}},eA;function Ph(){if(eA)return Wl.exports;eA=1;const{AbortController:e,AbortSignal:t}=typeof self<"u"?self:typeof window<"u"?window:void 0;return Wl.exports=e,Wl.exports.AbortSignal=t,Wl.exports.default=e,Wl.exports}var qp={exports:{}},tA;function Qn(){if(tA)return qp.exports;tA=1;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(T,I,C){return Function.prototype.apply.call(T,I,C)},r;e&&typeof e.ownKeys=="function"?r=e.ownKeys:Object.getOwnPropertySymbols?r=function(T){return Object.getOwnPropertyNames(T).concat(Object.getOwnPropertySymbols(T))}:r=function(T){return Object.getOwnPropertyNames(T)};function n(S){console&&console.warn&&console.warn(S)}var a=Number.isNaN||function(T){return T!==T};function i(){i.init.call(this)}qp.exports=i,qp.exports.once=m,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var o=10;function s(S){if(typeof S!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof S)}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(S){if(typeof S!="number"||S<0||a(S))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+S+".");o=S}}),i.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(T){if(typeof T!="number"||T<0||a(T))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+T+".");return this._maxListeners=T,this};function u(S){return S._maxListeners===void 0?i.defaultMaxListeners:S._maxListeners}i.prototype.getMaxListeners=function(){return u(this)},i.prototype.emit=function(T){for(var I=[],C=1;C<arguments.length;C++)I.push(arguments[C]);var B=T==="error",D=this._events;if(D!==void 0)B=B&&D.error===void 0;else if(!B)return!1;if(B){var M;if(I.length>0&&(M=I[0]),M instanceof Error)throw M;var j=new Error("Unhandled error."+(M?" ("+M.message+")":""));throw j.context=M,j}var O=D[T];if(O===void 0)return!1;if(typeof O=="function")t(O,this,I);else for(var q=O.length,Q=_(O,q),C=0;C<q;++C)t(Q[C],this,I);return!0};function l(S,T,I,C){var B,D,M;if(s(I),D=S._events,D===void 0?(D=S._events=Object.create(null),S._eventsCount=0):(D.newListener!==void 0&&(S.emit("newListener",T,I.listener?I.listener:I),D=S._events),M=D[T]),M===void 0)M=D[T]=I,++S._eventsCount;else if(typeof M=="function"?M=D[T]=C?[I,M]:[M,I]:C?M.unshift(I):M.push(I),B=u(S),B>0&&M.length>B&&!M.warned){M.warned=!0;var j=new Error("Possible EventEmitter memory leak detected. "+M.length+" "+String(T)+" listeners added. Use emitter.setMaxListeners() to increase limit");j.name="MaxListenersExceededWarning",j.emitter=S,j.type=T,j.count=M.length,n(j)}return S}i.prototype.addListener=function(T,I){return l(this,T,I,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(T,I){return l(this,T,I,!0)};function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(S,T,I){var C={fired:!1,wrapFn:void 0,target:S,type:T,listener:I},B=f.bind(C);return B.listener=I,C.wrapFn=B,B}i.prototype.once=function(T,I){return s(I),this.on(T,d(this,T,I)),this},i.prototype.prependOnceListener=function(T,I){return s(I),this.prependListener(T,d(this,T,I)),this},i.prototype.removeListener=function(T,I){var C,B,D,M,j;if(s(I),B=this._events,B===void 0)return this;if(C=B[T],C===void 0)return this;if(C===I||C.listener===I)--this._eventsCount===0?this._events=Object.create(null):(delete B[T],B.removeListener&&this.emit("removeListener",T,C.listener||I));else if(typeof C!="function"){for(D=-1,M=C.length-1;M>=0;M--)if(C[M]===I||C[M].listener===I){j=C[M].listener,D=M;break}if(D<0)return this;D===0?C.shift():v(C,D),C.length===1&&(B[T]=C[0]),B.removeListener!==void 0&&this.emit("removeListener",T,j||I)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(T){var I,C,B;if(C=this._events,C===void 0)return this;if(C.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):C[T]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete C[T]),this;if(arguments.length===0){var D=Object.keys(C),M;for(B=0;B<D.length;++B)M=D[B],M!=="removeListener"&&this.removeAllListeners(M);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(I=C[T],typeof I=="function")this.removeListener(T,I);else if(I!==void 0)for(B=I.length-1;B>=0;B--)this.removeListener(T,I[B]);return this};function c(S,T,I){var C=S._events;if(C===void 0)return[];var B=C[T];return B===void 0?[]:typeof B=="function"?I?[B.listener||B]:[B]:I?b(B):_(B,B.length)}i.prototype.listeners=function(T){return c(this,T,!0)},i.prototype.rawListeners=function(T){return c(this,T,!1)},i.listenerCount=function(S,T){return typeof S.listenerCount=="function"?S.listenerCount(T):p.call(S,T)},i.prototype.listenerCount=p;function p(S){var T=this._events;if(T!==void 0){var I=T[S];if(typeof I=="function")return 1;if(I!==void 0)return I.length}return 0}i.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function _(S,T){for(var I=new Array(T),C=0;C<T;++C)I[C]=S[C];return I}function v(S,T){for(;T+1<S.length;T++)S[T]=S[T+1];S.pop()}function b(S){for(var T=new Array(S.length),I=0;I<T.length;++I)T[I]=S[I].listener||S[I];return T}function m(S,T){return new Promise(function(I,C){function B(M){S.removeListener(T,D),C(M)}function D(){typeof S.removeListener=="function"&&S.removeListener("error",B),I([].slice.call(arguments))}g(S,T,D,{once:!0}),T!=="error"&&y(S,B,{once:!0})})}function y(S,T,I){typeof S.on=="function"&&g(S,"error",T,I)}function g(S,T,I,C){if(typeof S.on=="function")C.once?S.once(T,I):S.on(T,I);else if(typeof S.addEventListener=="function")S.addEventListener(T,function B(D){C.once&&S.removeEventListener(T,B),I(D)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof S)}return qp.exports}var rA;function Yn(){return rA||(rA=1,function(e){const t=Tr(),{format:r,inspect:n}=$6(),{codes:{ERR_INVALID_ARG_TYPE:a}}=qn(),{kResistStopPropagation:i,AggregateError:o,SymbolDispose:s}=Er(),u=globalThis.AbortSignal||Ph().AbortSignal,l=globalThis.AbortController||Ph().AbortController,f=Object.getPrototypeOf(async function(){}).constructor,d=globalThis.Blob||t.Blob,c=typeof d<"u"?function(b){return b instanceof d}:function(b){return!1},p=(v,b)=>{if(v!==void 0&&(v===null||typeof v!="object"||!("aborted"in v)))throw new a(b,"AbortSignal",v)},_=(v,b)=>{if(typeof v!="function")throw new a(b,"Function",v)};e.exports={AggregateError:o,kEmptyObject:Object.freeze({}),once(v){let b=!1;return function(...m){b||(b=!0,v.apply(this,m))}},createDeferredPromise:function(){let v,b;return{promise:new Promise((y,g)=>{v=y,b=g}),resolve:v,reject:b}},promisify(v){return new Promise((b,m)=>{v((y,...g)=>y?m(y):b(...g))})},debuglog(){return function(){}},format:r,inspect:n,types:{isAsyncFunction(v){return v instanceof f},isArrayBufferView(v){return ArrayBuffer.isView(v)}},isBlob:c,deprecate(v,b){return v},addAbortListener:Qn().addAbortListener||function(b,m){if(b===void 0)throw new a("signal","AbortSignal",b);p(b,"signal"),_(m,"listener");let y;return b.aborted?queueMicrotask(()=>m()):(b.addEventListener("abort",m,{__proto__:null,once:!0,[i]:!0}),y=()=>{b.removeEventListener("abort",m)}),{__proto__:null,[s](){var g;(g=y)===null||g===void 0||g()}}},AbortSignalAny:u.any||function(b){if(b.length===1)return b[0];const m=new l,y=()=>m.abort();return b.forEach(g=>{p(g,"signals"),g.addEventListener("abort",y,{once:!0})}),m.signal.addEventListener("abort",()=>{b.forEach(g=>g.removeEventListener("abort",y))},{once:!0}),m.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}(og)),og.exports}var $p={},lg,nA;function Gh(){if(nA)return lg;nA=1;const{ArrayIsArray:e,ArrayPrototypeIncludes:t,ArrayPrototypeJoin:r,ArrayPrototypeMap:n,NumberIsInteger:a,NumberIsNaN:i,NumberMAX_SAFE_INTEGER:o,NumberMIN_SAFE_INTEGER:s,NumberParseInt:u,ObjectPrototypeHasOwnProperty:l,RegExpPrototypeExec:f,String:d,StringPrototypeToUpperCase:c,StringPrototypeTrim:p}=Er(),{hideStackFrames:_,codes:{ERR_SOCKET_BAD_PORT:v,ERR_INVALID_ARG_TYPE:b,ERR_INVALID_ARG_VALUE:m,ERR_OUT_OF_RANGE:y,ERR_UNKNOWN_SIGNAL:g}}=qn(),{normalizeEncoding:S}=Yn(),{isAsyncFunction:T,isArrayBufferView:I}=Yn().types,C={};function B(ce){return ce===(ce|0)}function D(ce){return ce===ce>>>0}const M=/^[0-7]+$/,j="must be a 32-bit unsigned integer or an octal string";function O(ce,Ie,be){if(typeof ce>"u"&&(ce=be),typeof ce=="string"){if(f(M,ce)===null)throw new m(Ie,ce,j);ce=u(ce,8)}return ie(ce,Ie),ce}const q=_((ce,Ie,be=s,xe=o)=>{if(typeof ce!="number")throw new b(Ie,"number",ce);if(!a(ce))throw new y(Ie,"an integer",ce);if(ce<be||ce>xe)throw new y(Ie,`>= ${be} && <= ${xe}`,ce)}),Q=_((ce,Ie,be=-2147483648,xe=2147483647)=>{if(typeof ce!="number")throw new b(Ie,"number",ce);if(!a(ce))throw new y(Ie,"an integer",ce);if(ce<be||ce>xe)throw new y(Ie,`>= ${be} && <= ${xe}`,ce)}),ie=_((ce,Ie,be=!1)=>{if(typeof ce!="number")throw new b(Ie,"number",ce);if(!a(ce))throw new y(Ie,"an integer",ce);const xe=be?1:0,je=4294967295;if(ce<xe||ce>je)throw new y(Ie,`>= ${xe} && <= ${je}`,ce)});function X(ce,Ie){if(typeof ce!="string")throw new b(Ie,"string",ce)}function le(ce,Ie,be=void 0,xe){if(typeof ce!="number")throw new b(Ie,"number",ce);if(be!=null&&ce<be||xe!=null&&ce>xe||(be!=null||xe!=null)&&i(ce))throw new y(Ie,`${be!=null?`>= ${be}`:""}${be!=null&&xe!=null?" && ":""}${xe!=null?`<= ${xe}`:""}`,ce)}const ae=_((ce,Ie,be)=>{if(!t(be,ce)){const je="must be one of: "+r(n(be,Ae=>typeof Ae=="string"?`'${Ae}'`:d(Ae)),", ");throw new m(Ie,ce,je)}});function ne(ce,Ie){if(typeof ce!="boolean")throw new b(Ie,"boolean",ce)}function V(ce,Ie,be){return ce==null||!l(ce,Ie)?be:ce[Ie]}const oe=_((ce,Ie,be=null)=>{const xe=V(be,"allowArray",!1),je=V(be,"allowFunction",!1);if(!V(be,"nullable",!1)&&ce===null||!xe&&e(ce)||typeof ce!="object"&&(!je||typeof ce!="function"))throw new b(Ie,"Object",ce)}),he=_((ce,Ie)=>{if(ce!=null&&typeof ce!="object"&&typeof ce!="function")throw new b(Ie,"a dictionary",ce)}),Y=_((ce,Ie,be=0)=>{if(!e(ce))throw new b(Ie,"Array",ce);if(ce.length<be){const xe=`must be longer than ${be}`;throw new m(Ie,ce,xe)}});function Z(ce,Ie){Y(ce,Ie);for(let be=0;be<ce.length;be++)X(ce[be],`${Ie}[${be}]`)}function ee(ce,Ie){Y(ce,Ie);for(let be=0;be<ce.length;be++)ne(ce[be],`${Ie}[${be}]`)}function P(ce,Ie){Y(ce,Ie);for(let be=0;be<ce.length;be++){const xe=ce[be],je=`${Ie}[${be}]`;if(xe==null)throw new b(je,"AbortSignal",xe);R(xe,je)}}function A(ce,Ie="signal"){if(X(ce,Ie),C[ce]===void 0)throw C[c(ce)]!==void 0?new g(ce+" (signals must use all capital letters)"):new g(ce)}const $=_((ce,Ie="buffer")=>{if(!I(ce))throw new b(Ie,["Buffer","TypedArray","DataView"],ce)});function te(ce,Ie){const be=S(Ie),xe=ce.length;if(be==="hex"&&xe%2!==0)throw new m("encoding",Ie,`is invalid for data of length ${xe}`)}function pe(ce,Ie="Port",be=!0){if(typeof ce!="number"&&typeof ce!="string"||typeof ce=="string"&&p(ce).length===0||+ce!==+ce>>>0||ce>65535||ce===0&&!be)throw new v(Ie,ce,be);return ce|0}const R=_((ce,Ie)=>{if(ce!==void 0&&(ce===null||typeof ce!="object"||!("aborted"in ce)))throw new b(Ie,"AbortSignal",ce)}),w=_((ce,Ie)=>{if(typeof ce!="function")throw new b(Ie,"Function",ce)}),x=_((ce,Ie)=>{if(typeof ce!="function"||T(ce))throw new b(Ie,"Function",ce)}),k=_((ce,Ie)=>{if(ce!==void 0)throw new b(Ie,"undefined",ce)});function U(ce,Ie,be){if(!t(be,ce))throw new b(Ie,`('${r(be,"|")}')`,ce)}const re=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function fe(ce,Ie){if(typeof ce>"u"||!f(re,ce))throw new m(Ie,ce,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function ve(ce){if(typeof ce=="string")return fe(ce,"hints"),ce;if(e(ce)){const Ie=ce.length;let be="";if(Ie===0)return be;for(let xe=0;xe<Ie;xe++){const je=ce[xe];fe(je,"hints"),be+=je,xe!==Ie-1&&(be+=", ")}return be}throw new m("hints",ce,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}return lg={isInt32:B,isUint32:D,parseFileMode:O,validateArray:Y,validateStringArray:Z,validateBooleanArray:ee,validateAbortSignalArray:P,validateBoolean:ne,validateBuffer:$,validateDictionary:he,validateEncoding:te,validateFunction:w,validateInt32:Q,validateInteger:q,validateNumber:le,validateObject:oe,validateOneOf:ae,validatePlainFunction:x,validatePort:pe,validateSignalName:A,validateString:X,validateUint32:ie,validateUndefined:k,validateUnion:U,validateAbortSignal:R,validateLinkHeaderValue:ve},lg}var Up={exports:{}},fg={exports:{}},iA;function Js(){if(iA)return fg.exports;iA=1;var e=fg.exports={},t,r;function n(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?t=setTimeout:t=n}catch{t=n}try{typeof clearTimeout=="function"?r=clearTimeout:r=a}catch{r=a}})();function i(v){if(t===setTimeout)return setTimeout(v,0);if((t===n||!t)&&setTimeout)return t=setTimeout,setTimeout(v,0);try{return t(v,0)}catch{try{return t.call(null,v,0)}catch{return t.call(this,v,0)}}}function o(v){if(r===clearTimeout)return clearTimeout(v);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(v);try{return r(v)}catch{try{return r.call(null,v)}catch{return r.call(this,v)}}}var s=[],u=!1,l,f=-1;function d(){!u||!l||(u=!1,l.length?s=l.concat(s):f=-1,s.length&&c())}function c(){if(!u){var v=i(d);u=!0;for(var b=s.length;b;){for(l=s,s=[];++f<b;)l&&l[f].run();f=-1,b=s.length}l=null,u=!1,o(v)}}e.nextTick=function(v){var b=new Array(arguments.length-1);if(arguments.length>1)for(var m=1;m<arguments.length;m++)b[m-1]=arguments[m];s.push(new p(v,b)),s.length===1&&!u&&i(c)};function p(v,b){this.fun=v,this.array=b}p.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={};function _(){}return e.on=_,e.addListener=_,e.once=_,e.off=_,e.removeListener=_,e.removeAllListeners=_,e.emit=_,e.prependListener=_,e.prependOnceListener=_,e.listeners=function(v){return[]},e.binding=function(v){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(v){throw new Error("process.chdir is not supported")},e.umask=function(){return 0},fg.exports}var cg,aA;function no(){if(aA)return cg;aA=1;const{SymbolAsyncIterator:e,SymbolIterator:t,SymbolFor:r}=Er(),n=r("nodejs.stream.destroyed"),a=r("nodejs.stream.errored"),i=r("nodejs.stream.readable"),o=r("nodejs.stream.writable"),s=r("nodejs.stream.disturbed"),u=r("nodejs.webstream.isClosedPromise"),l=r("nodejs.webstream.controllerErrorFunction");function f(V,oe=!1){var he;return!!(V&&typeof V.pipe=="function"&&typeof V.on=="function"&&(!oe||typeof V.pause=="function"&&typeof V.resume=="function")&&(!V._writableState||((he=V._readableState)===null||he===void 0?void 0:he.readable)!==!1)&&(!V._writableState||V._readableState))}function d(V){var oe;return!!(V&&typeof V.write=="function"&&typeof V.on=="function"&&(!V._readableState||((oe=V._writableState)===null||oe===void 0?void 0:oe.writable)!==!1))}function c(V){return!!(V&&typeof V.pipe=="function"&&V._readableState&&typeof V.on=="function"&&typeof V.write=="function")}function p(V){return V&&(V._readableState||V._writableState||typeof V.write=="function"&&typeof V.on=="function"||typeof V.pipe=="function"&&typeof V.on=="function")}function _(V){return!!(V&&!p(V)&&typeof V.pipeThrough=="function"&&typeof V.getReader=="function"&&typeof V.cancel=="function")}function v(V){return!!(V&&!p(V)&&typeof V.getWriter=="function"&&typeof V.abort=="function")}function b(V){return!!(V&&!p(V)&&typeof V.readable=="object"&&typeof V.writable=="object")}function m(V){return _(V)||v(V)||b(V)}function y(V,oe){return V==null?!1:oe===!0?typeof V[e]=="function":oe===!1?typeof V[t]=="function":typeof V[e]=="function"||typeof V[t]=="function"}function g(V){if(!p(V))return null;const oe=V._writableState,he=V._readableState,Y=oe||he;return!!(V.destroyed||V[n]||Y!=null&&Y.destroyed)}function S(V){if(!d(V))return null;if(V.writableEnded===!0)return!0;const oe=V._writableState;return oe!=null&&oe.errored?!1:typeof(oe==null?void 0:oe.ended)!="boolean"?null:oe.ended}function T(V,oe){if(!d(V))return null;if(V.writableFinished===!0)return!0;const he=V._writableState;return he!=null&&he.errored?!1:typeof(he==null?void 0:he.finished)!="boolean"?null:!!(he.finished||oe===!1&&he.ended===!0&&he.length===0)}function I(V){if(!f(V))return null;if(V.readableEnded===!0)return!0;const oe=V._readableState;return!oe||oe.errored?!1:typeof(oe==null?void 0:oe.ended)!="boolean"?null:oe.ended}function C(V,oe){if(!f(V))return null;const he=V._readableState;return he!=null&&he.errored?!1:typeof(he==null?void 0:he.endEmitted)!="boolean"?null:!!(he.endEmitted||oe===!1&&he.ended===!0&&he.length===0)}function B(V){return V&&V[i]!=null?V[i]:typeof(V==null?void 0:V.readable)!="boolean"?null:g(V)?!1:f(V)&&V.readable&&!C(V)}function D(V){return V&&V[o]!=null?V[o]:typeof(V==null?void 0:V.writable)!="boolean"?null:g(V)?!1:d(V)&&V.writable&&!S(V)}function M(V,oe){return p(V)?g(V)?!0:!((oe==null?void 0:oe.readable)!==!1&&B(V)||(oe==null?void 0:oe.writable)!==!1&&D(V)):null}function j(V){var oe,he;return p(V)?V.writableErrored?V.writableErrored:(oe=(he=V._writableState)===null||he===void 0?void 0:he.errored)!==null&&oe!==void 0?oe:null:null}function O(V){var oe,he;return p(V)?V.readableErrored?V.readableErrored:(oe=(he=V._readableState)===null||he===void 0?void 0:he.errored)!==null&&oe!==void 0?oe:null:null}function q(V){if(!p(V))return null;if(typeof V.closed=="boolean")return V.closed;const oe=V._writableState,he=V._readableState;return typeof(oe==null?void 0:oe.closed)=="boolean"||typeof(he==null?void 0:he.closed)=="boolean"?(oe==null?void 0:oe.closed)||(he==null?void 0:he.closed):typeof V._closed=="boolean"&&Q(V)?V._closed:null}function Q(V){return typeof V._closed=="boolean"&&typeof V._defaultKeepAlive=="boolean"&&typeof V._removedConnection=="boolean"&&typeof V._removedContLen=="boolean"}function ie(V){return typeof V._sent100=="boolean"&&Q(V)}function X(V){var oe;return typeof V._consuming=="boolean"&&typeof V._dumped=="boolean"&&((oe=V.req)===null||oe===void 0?void 0:oe.upgradeOrConnect)===void 0}function le(V){if(!p(V))return null;const oe=V._writableState,he=V._readableState,Y=oe||he;return!Y&&ie(V)||!!(Y&&Y.autoDestroy&&Y.emitClose&&Y.closed===!1)}function ae(V){var oe;return!!(V&&((oe=V[s])!==null&&oe!==void 0?oe:V.readableDidRead||V.readableAborted))}function ne(V){var oe,he,Y,Z,ee,P,A,$,te,pe;return!!(V&&((oe=(he=(Y=(Z=(ee=(P=V[a])!==null&&P!==void 0?P:V.readableErrored)!==null&&ee!==void 0?ee:V.writableErrored)!==null&&Z!==void 0?Z:(A=V._readableState)===null||A===void 0?void 0:A.errorEmitted)!==null&&Y!==void 0?Y:($=V._writableState)===null||$===void 0?void 0:$.errorEmitted)!==null&&he!==void 0?he:(te=V._readableState)===null||te===void 0?void 0:te.errored)!==null&&oe!==void 0?oe:!((pe=V._writableState)===null||pe===void 0)&&pe.errored))}return cg={isDestroyed:g,kIsDestroyed:n,isDisturbed:ae,kIsDisturbed:s,isErrored:ne,kIsErrored:a,isReadable:B,kIsReadable:i,kIsClosedPromise:u,kControllerErrorFunction:l,kIsWritable:o,isClosed:q,isDuplexNodeStream:c,isFinished:M,isIterable:y,isReadableNodeStream:f,isReadableStream:_,isReadableEnded:I,isReadableFinished:C,isReadableErrored:O,isNodeStream:p,isWebStream:m,isWritable:D,isWritableNodeStream:d,isWritableStream:v,isWritableEnded:S,isWritableFinished:T,isWritableErrored:j,isServerRequest:X,isServerResponse:ie,willEmitClose:le,isTransformStream:b},cg}var oA;function Zo(){if(oA)return Up.exports;oA=1;const e=Js(),{AbortError:t,codes:r}=qn(),{ERR_INVALID_ARG_TYPE:n,ERR_STREAM_PREMATURE_CLOSE:a}=r,{kEmptyObject:i,once:o}=Yn(),{validateAbortSignal:s,validateFunction:u,validateObject:l,validateBoolean:f}=Gh(),{Promise:d,PromisePrototypeThen:c,SymbolDispose:p}=Er(),{isClosed:_,isReadable:v,isReadableNodeStream:b,isReadableStream:m,isReadableFinished:y,isReadableErrored:g,isWritable:S,isWritableNodeStream:T,isWritableStream:I,isWritableFinished:C,isWritableErrored:B,isNodeStream:D,willEmitClose:M,kIsClosedPromise:j}=no();let O;function q(ae){return ae.setHeader&&typeof ae.abort=="function"}const Q=()=>{};function ie(ae,ne,V){var oe,he;if(arguments.length===2?(V=ne,ne=i):ne==null?ne=i:l(ne,"options"),u(V,"callback"),s(ne.signal,"options.signal"),V=o(V),m(ae)||I(ae))return X(ae,ne,V);if(!D(ae))throw new n("stream",["ReadableStream","WritableStream","Stream"],ae);const Y=(oe=ne.readable)!==null&&oe!==void 0?oe:b(ae),Z=(he=ne.writable)!==null&&he!==void 0?he:T(ae),ee=ae._writableState,P=ae._readableState,A=()=>{ae.writable||pe()};let $=M(ae)&&b(ae)===Y&&T(ae)===Z,te=C(ae,!1);const pe=()=>{te=!0,ae.destroyed&&($=!1),!($&&(!ae.readable||Y))&&(!Y||R)&&V.call(ae)};let R=y(ae,!1);const w=()=>{R=!0,ae.destroyed&&($=!1),!($&&(!ae.writable||Z))&&(!Z||te)&&V.call(ae)},x=ce=>{V.call(ae,ce)};let k=_(ae);const U=()=>{k=!0;const ce=B(ae)||g(ae);if(ce&&typeof ce!="boolean")return V.call(ae,ce);if(Y&&!R&&b(ae,!0)&&!y(ae,!1))return V.call(ae,new a);if(Z&&!te&&!C(ae,!1))return V.call(ae,new a);V.call(ae)},re=()=>{k=!0;const ce=B(ae)||g(ae);if(ce&&typeof ce!="boolean")return V.call(ae,ce);V.call(ae)},fe=()=>{ae.req.on("finish",pe)};q(ae)?(ae.on("complete",pe),$||ae.on("abort",U),ae.req?fe():ae.on("request",fe)):Z&&!ee&&(ae.on("end",A),ae.on("close",A)),!$&&typeof ae.aborted=="boolean"&&ae.on("aborted",U),ae.on("end",w),ae.on("finish",pe),ne.error!==!1&&ae.on("error",x),ae.on("close",U),k?e.nextTick(U):ee!=null&&ee.errorEmitted||P!=null&&P.errorEmitted?$||e.nextTick(re):(!Y&&(!$||v(ae))&&(te||S(ae)===!1)||!Z&&(!$||S(ae))&&(R||v(ae)===!1)||P&&ae.req&&ae.aborted)&&e.nextTick(re);const ve=()=>{V=Q,ae.removeListener("aborted",U),ae.removeListener("complete",pe),ae.removeListener("abort",U),ae.removeListener("request",fe),ae.req&&ae.req.removeListener("finish",pe),ae.removeListener("end",A),ae.removeListener("close",A),ae.removeListener("finish",pe),ae.removeListener("end",w),ae.removeListener("error",x),ae.removeListener("close",U)};if(ne.signal&&!k){const ce=()=>{const Ie=V;ve(),Ie.call(ae,new t(void 0,{cause:ne.signal.reason}))};if(ne.signal.aborted)e.nextTick(ce);else{O=O||Yn().addAbortListener;const Ie=O(ne.signal,ce),be=V;V=o((...xe)=>{Ie[p](),be.apply(ae,xe)})}}return ve}function X(ae,ne,V){let oe=!1,he=Q;if(ne.signal)if(he=()=>{oe=!0,V.call(ae,new t(void 0,{cause:ne.signal.reason}))},ne.signal.aborted)e.nextTick(he);else{O=O||Yn().addAbortListener;const Z=O(ne.signal,he),ee=V;V=o((...P)=>{Z[p](),ee.apply(ae,P)})}const Y=(...Z)=>{oe||e.nextTick(()=>V.apply(ae,Z))};return c(ae[j].promise,Y,Y),Q}function le(ae,ne){var V;let oe=!1;return ne===null&&(ne=i),(V=ne)!==null&&V!==void 0&&V.cleanup&&(f(ne.cleanup,"cleanup"),oe=ne.cleanup),new d((he,Y)=>{const Z=ie(ae,ne,ee=>{oe&&Z(),ee?Y(ee):he()})})}return Up.exports=ie,Up.exports.finished=le,Up.exports}var dg,sA;function ul(){if(sA)return dg;sA=1;const e=Js(),{aggregateTwoErrors:t,codes:{ERR_MULTIPLE_CALLBACK:r},AbortError:n}=qn(),{Symbol:a}=Er(),{kIsDestroyed:i,isDestroyed:o,isFinished:s,isServerRequest:u}=no(),l=a("kDestroy"),f=a("kConstruct");function d(M,j,O){M&&(M.stack,j&&!j.errored&&(j.errored=M),O&&!O.errored&&(O.errored=M))}function c(M,j){const O=this._readableState,q=this._writableState,Q=q||O;return q!=null&&q.destroyed||O!=null&&O.destroyed?(typeof j=="function"&&j(),this):(d(M,q,O),q&&(q.destroyed=!0),O&&(O.destroyed=!0),Q.constructed?p(this,M,j):this.once(l,function(ie){p(this,t(ie,M),j)}),this)}function p(M,j,O){let q=!1;function Q(ie){if(q)return;q=!0;const X=M._readableState,le=M._writableState;d(ie,le,X),le&&(le.closed=!0),X&&(X.closed=!0),typeof O=="function"&&O(ie),ie?e.nextTick(_,M,ie):e.nextTick(v,M)}try{M._destroy(j||null,Q)}catch(ie){Q(ie)}}function _(M,j){b(M,j),v(M)}function v(M){const j=M._readableState,O=M._writableState;O&&(O.closeEmitted=!0),j&&(j.closeEmitted=!0),(O!=null&&O.emitClose||j!=null&&j.emitClose)&&M.emit("close")}function b(M,j){const O=M._readableState,q=M._writableState;q!=null&&q.errorEmitted||O!=null&&O.errorEmitted||(q&&(q.errorEmitted=!0),O&&(O.errorEmitted=!0),M.emit("error",j))}function m(){const M=this._readableState,j=this._writableState;M&&(M.constructed=!0,M.closed=!1,M.closeEmitted=!1,M.destroyed=!1,M.errored=null,M.errorEmitted=!1,M.reading=!1,M.ended=M.readable===!1,M.endEmitted=M.readable===!1),j&&(j.constructed=!0,j.destroyed=!1,j.closed=!1,j.closeEmitted=!1,j.errored=null,j.errorEmitted=!1,j.finalCalled=!1,j.prefinished=!1,j.ended=j.writable===!1,j.ending=j.writable===!1,j.finished=j.writable===!1)}function y(M,j,O){const q=M._readableState,Q=M._writableState;if(Q!=null&&Q.destroyed||q!=null&&q.destroyed)return this;q!=null&&q.autoDestroy||Q!=null&&Q.autoDestroy?M.destroy(j):j&&(j.stack,Q&&!Q.errored&&(Q.errored=j),q&&!q.errored&&(q.errored=j),O?e.nextTick(b,M,j):b(M,j))}function g(M,j){if(typeof M._construct!="function")return;const O=M._readableState,q=M._writableState;O&&(O.constructed=!1),q&&(q.constructed=!1),M.once(f,j),!(M.listenerCount(f)>1)&&e.nextTick(S,M)}function S(M){let j=!1;function O(q){if(j){y(M,q??new r);return}j=!0;const Q=M._readableState,ie=M._writableState,X=ie||Q;Q&&(Q.constructed=!0),ie&&(ie.constructed=!0),X.destroyed?M.emit(l,q):q?y(M,q,!0):e.nextTick(T,M)}try{M._construct(q=>{e.nextTick(O,q)})}catch(q){e.nextTick(O,q)}}function T(M){M.emit(f)}function I(M){return(M==null?void 0:M.setHeader)&&typeof M.abort=="function"}function C(M){M.emit("close")}function B(M,j){M.emit("error",j),e.nextTick(C,M)}function D(M,j){!M||o(M)||(!j&&!s(M)&&(j=new n),u(M)?(M.socket=null,M.destroy(j)):I(M)?M.abort():I(M.req)?M.req.abort():typeof M.destroy=="function"?M.destroy(j):typeof M.close=="function"?M.close():j?e.nextTick(B,M,j):e.nextTick(C,M),M.destroyed||(M[i]=!0))}return dg={construct:g,destroyer:D,destroy:c,undestroy:m,errorOrDestroy:y},dg}var hg,uA;function OE(){if(uA)return hg;uA=1;const{ArrayIsArray:e,ObjectSetPrototypeOf:t}=Er(),{EventEmitter:r}=Qn();function n(i){r.call(this,i)}t(n.prototype,r.prototype),t(n,r),n.prototype.pipe=function(i,o){const s=this;function u(v){i.writable&&i.write(v)===!1&&s.pause&&s.pause()}s.on("data",u);function l(){s.readable&&s.resume&&s.resume()}i.on("drain",l),!i._isStdio&&(!o||o.end!==!1)&&(s.on("end",d),s.on("close",c));let f=!1;function d(){f||(f=!0,i.end())}function c(){f||(f=!0,typeof i.destroy=="function"&&i.destroy())}function p(v){_(),r.listenerCount(this,"error")===0&&this.emit("error",v)}a(s,"error",p),a(i,"error",p);function _(){s.removeListener("data",u),i.removeListener("drain",l),s.removeListener("end",d),s.removeListener("close",c),s.removeListener("error",p),i.removeListener("error",p),s.removeListener("end",_),s.removeListener("close",_),i.removeListener("close",_)}return s.on("end",_),s.on("close",_),i.on("close",_),i.emit("pipe",s),i};function a(i,o,s){if(typeof i.prependListener=="function")return i.prependListener(o,s);!i._events||!i._events[o]?i.on(o,s):e(i._events[o])?i._events[o].unshift(s):i._events[o]=[s,i._events[o]]}return hg={Stream:n,prependListener:a},hg}var pg={exports:{}},lA;function A0(){return lA||(lA=1,function(e){const{SymbolDispose:t}=Er(),{AbortError:r,codes:n}=qn(),{isNodeStream:a,isWebStream:i,kControllerErrorFunction:o}=no(),s=Zo(),{ERR_INVALID_ARG_TYPE:u}=n;let l;const f=(d,c)=>{if(typeof d!="object"||!("aborted"in d))throw new u(c,"AbortSignal",d)};e.exports.addAbortSignal=function(c,p){if(f(c,"signal"),!a(p)&&!i(p))throw new u("stream",["ReadableStream","WritableStream","Stream"],p);return e.exports.addAbortSignalNoValidate(c,p)},e.exports.addAbortSignalNoValidate=function(d,c){if(typeof d!="object"||!("aborted"in d))return c;const p=a(c)?()=>{c.destroy(new r(void 0,{cause:d.reason}))}:()=>{c[o](new r(void 0,{cause:d.reason}))};if(d.aborted)p();else{l=l||Yn().addAbortListener;const _=l(d,p);s(c,_[t])}return c}}(pg)),pg.exports}var mg,fA;function WG(){if(fA)return mg;fA=1;const{StringPrototypeSlice:e,SymbolIterator:t,TypedArrayPrototypeSet:r,Uint8Array:n}=Er(),{Buffer:a}=Tr(),{inspect:i}=Yn();return mg=class{constructor(){this.head=null,this.tail=null,this.length=0}push(s){const u={data:s,next:null};this.length>0?this.tail.next=u:this.head=u,this.tail=u,++this.length}unshift(s){const u={data:s,next:this.head};this.length===0&&(this.tail=u),this.head=u,++this.length}shift(){if(this.length===0)return;const s=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,s}clear(){this.head=this.tail=null,this.length=0}join(s){if(this.length===0)return"";let u=this.head,l=""+u.data;for(;(u=u.next)!==null;)l+=s+u.data;return l}concat(s){if(this.length===0)return a.alloc(0);const u=a.allocUnsafe(s>>>0);let l=this.head,f=0;for(;l;)r(u,l.data,f),f+=l.data.length,l=l.next;return u}consume(s,u){const l=this.head.data;if(s<l.length){const f=l.slice(0,s);return this.head.data=l.slice(s),f}return s===l.length?this.shift():u?this._getString(s):this._getBuffer(s)}first(){return this.head.data}*[t](){for(let s=this.head;s;s=s.next)yield s.data}_getString(s){let u="",l=this.head,f=0;do{const d=l.data;if(s>d.length)u+=d,s-=d.length;else{s===d.length?(u+=d,++f,l.next?this.head=l.next:this.head=this.tail=null):(u+=e(d,0,s),this.head=l,l.data=e(d,s));break}++f}while((l=l.next)!==null);return this.length-=f,u}_getBuffer(s){const u=a.allocUnsafe(s),l=s;let f=this.head,d=0;do{const c=f.data;if(s>c.length)r(u,c,l-s),s-=c.length;else{s===c.length?(r(u,c,l-s),++d,f.next?this.head=f.next:this.head=this.tail=null):(r(u,new n(c.buffer,c.byteOffset,s),l-s),this.head=f,f.data=c.slice(s));break}++d}while((f=f.next)!==null);return this.length-=d,u}[Symbol.for("nodejs.util.inspect.custom")](s,u){return i(this,{...u,depth:0,customInspect:!1})}},mg}var yg,cA;function I0(){if(cA)return yg;cA=1;const{MathFloor:e,NumberIsInteger:t}=Er(),{validateInteger:r}=Gh(),{ERR_INVALID_ARG_VALUE:n}=qn().codes;let a=16*1024,i=16;function o(f,d,c){return f.highWaterMark!=null?f.highWaterMark:d?f[c]:null}function s(f){return f?i:a}function u(f,d){r(d,"value",0),f?i=d:a=d}function l(f,d,c,p){const _=o(d,p,c);if(_!=null){if(!t(_)||_<0){const v=p?`options.${c}`:"options.highWaterMark";throw new n(v,_)}return e(_)}return s(f.objectMode)}return yg={getHighWaterMark:l,getDefaultHighWaterMark:s,setDefaultHighWaterMark:u},yg}var gg={},Hp={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var dA;function KG(){return dA||(dA=1,function(e,t){var r=Tr(),n=r.Buffer;function a(o,s){for(var u in o)s[u]=o[u]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(a(r,t),t.Buffer=i);function i(o,s,u){return n(o,s,u)}i.prototype=Object.create(n.prototype),a(n,i),i.from=function(o,s,u){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,s,u)},i.alloc=function(o,s,u){if(typeof o!="number")throw new TypeError("Argument must be a number");var l=n(o);return s!==void 0?typeof u=="string"?l.fill(s,u):l.fill(s):l.fill(0),l},i.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},i.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}}(Hp,Hp.exports)),Hp.exports}var hA;function va(){if(hA)return gg;hA=1;var e=KG().Buffer,t=e.isEncoding||function(m){switch(m=""+m,m&&m.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(m){if(!m)return"utf8";for(var y;;)switch(m){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return m;default:if(y)return;m=(""+m).toLowerCase(),y=!0}}function n(m){var y=r(m);if(typeof y!="string"&&(e.isEncoding===t||!t(m)))throw new Error("Unknown encoding: "+m);return y||m}gg.StringDecoder=a;function a(m){this.encoding=n(m);var y;switch(this.encoding){case"utf16le":this.text=d,this.end=c,y=4;break;case"utf8":this.fillLast=u,y=4;break;case"base64":this.text=p,this.end=_,y=3;break;default:this.write=v,this.end=b;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(y)}a.prototype.write=function(m){if(m.length===0)return"";var y,g;if(this.lastNeed){if(y=this.fillLast(m),y===void 0)return"";g=this.lastNeed,this.lastNeed=0}else g=0;return g<m.length?y?y+this.text(m,g):this.text(m,g):y||""},a.prototype.end=f,a.prototype.text=l,a.prototype.fillLast=function(m){if(this.lastNeed<=m.length)return m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,m.length),this.lastNeed-=m.length};function i(m){return m<=127?0:m>>5===6?2:m>>4===14?3:m>>3===30?4:m>>6===2?-1:-2}function o(m,y,g){var S=y.length-1;if(S<g)return 0;var T=i(y[S]);return T>=0?(T>0&&(m.lastNeed=T-1),T):--S<g||T===-2?0:(T=i(y[S]),T>=0?(T>0&&(m.lastNeed=T-2),T):--S<g||T===-2?0:(T=i(y[S]),T>=0?(T>0&&(T===2?T=0:m.lastNeed=T-3),T):0))}function s(m,y,g){if((y[0]&192)!==128)return m.lastNeed=0,"";if(m.lastNeed>1&&y.length>1){if((y[1]&192)!==128)return m.lastNeed=1,"";if(m.lastNeed>2&&y.length>2&&(y[2]&192)!==128)return m.lastNeed=2,""}}function u(m){var y=this.lastTotal-this.lastNeed,g=s(this,m);if(g!==void 0)return g;if(this.lastNeed<=m.length)return m.copy(this.lastChar,y,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);m.copy(this.lastChar,y,0,m.length),this.lastNeed-=m.length}function l(m,y){var g=o(this,m,y);if(!this.lastNeed)return m.toString("utf8",y);this.lastTotal=g;var S=m.length-(g-this.lastNeed);return m.copy(this.lastChar,0,S),m.toString("utf8",y,S)}function f(m){var y=m&&m.length?this.write(m):"";return this.lastNeed?y+"":y}function d(m,y){if((m.length-y)%2===0){var g=m.toString("utf16le",y);if(g){var S=g.charCodeAt(g.length-1);if(S>=55296&&S<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1],g.slice(0,-1)}return g}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=m[m.length-1],m.toString("utf16le",y,m.length-1)}function c(m){var y=m&&m.length?this.write(m):"";if(this.lastNeed){var g=this.lastTotal-this.lastNeed;return y+this.lastChar.toString("utf16le",0,g)}return y}function p(m,y){var g=(m.length-y)%3;return g===0?m.toString("base64",y):(this.lastNeed=3-g,this.lastTotal=3,g===1?this.lastChar[0]=m[m.length-1]:(this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1]),m.toString("base64",y,m.length-g))}function _(m){var y=m&&m.length?this.write(m):"";return this.lastNeed?y+this.lastChar.toString("base64",0,3-this.lastNeed):y}function v(m){return m.toString(this.encoding)}function b(m){return m&&m.length?this.write(m):""}return gg}var _g,pA;function U6(){if(pA)return _g;pA=1;const e=Js(),{PromisePrototypeThen:t,SymbolAsyncIterator:r,SymbolIterator:n}=Er(),{Buffer:a}=Tr(),{ERR_INVALID_ARG_TYPE:i,ERR_STREAM_NULL_VALUES:o}=qn().codes;function s(u,l,f){let d;if(typeof l=="string"||l instanceof a)return new u({objectMode:!0,...f,read(){this.push(l),this.push(null)}});let c;if(l&&l[r])c=!0,d=l[r]();else if(l&&l[n])c=!1,d=l[n]();else throw new i("iterable",["Iterable"],l);const p=new u({objectMode:!0,highWaterMark:1,...f});let _=!1;p._read=function(){_||(_=!0,b())},p._destroy=function(m,y){t(v(m),()=>e.nextTick(y,m),g=>e.nextTick(y,g||m))};async function v(m){const y=m!=null,g=typeof d.throw=="function";if(y&&g){const{value:S,done:T}=await d.throw(m);if(await S,T)return}if(typeof d.return=="function"){const{value:S}=await d.return();await S}}async function b(){for(;;){try{const{value:m,done:y}=c?await d.next():d.next();if(y)p.push(null);else{const g=m&&typeof m.then=="function"?await m:m;if(g===null)throw _=!1,new o;if(p.push(g))continue;_=!1}}catch(m){p.destroy(m)}break}}return p}return _g=s,_g}var bg,mA;function O0(){if(mA)return bg;mA=1;const e=Js(),{ArrayPrototypeIndexOf:t,NumberIsInteger:r,NumberIsNaN:n,NumberParseInt:a,ObjectDefineProperties:i,ObjectKeys:o,ObjectSetPrototypeOf:s,Promise:u,SafeSet:l,SymbolAsyncDispose:f,SymbolAsyncIterator:d,Symbol:c}=Er();bg=xe,xe.ReadableState=be;const{EventEmitter:p}=Qn(),{Stream:_,prependListener:v}=OE(),{Buffer:b}=Tr(),{addAbortSignal:m}=A0(),y=Zo();let g=Yn().debuglog("stream",we=>{g=we});const S=WG(),T=ul(),{getHighWaterMark:I,getDefaultHighWaterMark:C}=I0(),{aggregateTwoErrors:B,codes:{ERR_INVALID_ARG_TYPE:D,ERR_METHOD_NOT_IMPLEMENTED:M,ERR_OUT_OF_RANGE:j,ERR_STREAM_PUSH_AFTER_EOF:O,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:q},AbortError:Q}=qn(),{validateObject:ie}=Gh(),X=c("kPaused"),{StringDecoder:le}=va(),ae=U6();s(xe.prototype,_.prototype),s(xe,_);const ne=()=>{},{errorOrDestroy:V}=T,oe=1,he=2,Y=4,Z=8,ee=16,P=32,A=64,$=128,te=256,pe=512,R=1024,w=2048,x=4096,k=8192,U=16384,re=32768,fe=65536,ve=1<<17,ce=1<<18;function Ie(we){return{enumerable:!1,get(){return(this.state&we)!==0},set(W){W?this.state|=we:this.state&=~we}}}i(be.prototype,{objectMode:Ie(oe),ended:Ie(he),endEmitted:Ie(Y),reading:Ie(Z),constructed:Ie(ee),sync:Ie(P),needReadable:Ie(A),emittedReadable:Ie($),readableListening:Ie(te),resumeScheduled:Ie(pe),errorEmitted:Ie(R),emitClose:Ie(w),autoDestroy:Ie(x),destroyed:Ie(k),closed:Ie(U),closeEmitted:Ie(re),multiAwaitDrain:Ie(fe),readingMore:Ie(ve),dataEmitted:Ie(ce)});function be(we,W,G){typeof G!="boolean"&&(G=W instanceof Ya()),this.state=w|x|ee|P,we&&we.objectMode&&(this.state|=oe),G&&we&&we.readableObjectMode&&(this.state|=oe),this.highWaterMark=we?I(this,we,"readableHighWaterMark",G):C(!1),this.buffer=new S,this.length=0,this.pipes=[],this.flowing=null,this[X]=null,we&&we.emitClose===!1&&(this.state&=-2049),we&&we.autoDestroy===!1&&(this.state&=-4097),this.errored=null,this.defaultEncoding=we&&we.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,we&&we.encoding&&(this.decoder=new le(we.encoding),this.encoding=we.encoding)}function xe(we){if(!(this instanceof xe))return new xe(we);const W=this instanceof Ya();this._readableState=new be(we,this,W),we&&(typeof we.read=="function"&&(this._read=we.read),typeof we.destroy=="function"&&(this._destroy=we.destroy),typeof we.construct=="function"&&(this._construct=we.construct),we.signal&&!W&&m(we.signal,this)),_.call(this,we),T.construct(this,()=>{this._readableState.needReadable&&F(this,this._readableState)})}xe.prototype.destroy=T.destroy,xe.prototype._undestroy=T.undestroy,xe.prototype._destroy=function(we,W){W(we)},xe.prototype[p.captureRejectionSymbol]=function(we){this.destroy(we)},xe.prototype[f]=function(){let we;return this.destroyed||(we=this.readableEnded?null:new Q,this.destroy(we)),new u((W,G)=>y(this,J=>J&&J!==we?G(J):W(null)))},xe.prototype.push=function(we,W){return je(this,we,W,!1)},xe.prototype.unshift=function(we,W){return je(this,we,W,!0)};function je(we,W,G,J){g("readableAddChunk",W);const Se=we._readableState;let Ne;if(Se.state&oe||(typeof W=="string"?(G=G||Se.defaultEncoding,Se.encoding!==G&&(J&&Se.encoding?W=b.from(W,G).toString(Se.encoding):(W=b.from(W,G),G=""))):W instanceof b?G="":_._isUint8Array(W)?(W=_._uint8ArrayToBuffer(W),G=""):W!=null&&(Ne=new D("chunk",["string","Buffer","Uint8Array"],W))),Ne)V(we,Ne);else if(W===null)Se.state&=-9,Ue(we,Se);else if(Se.state&oe||W&&W.length>0)if(J)if(Se.state&Y)V(we,new q);else{if(Se.destroyed||Se.errored)return!1;Ae(we,Se,W,!0)}else if(Se.ended)V(we,new O);else{if(Se.destroyed||Se.errored)return!1;Se.state&=-9,Se.decoder&&!G?(W=Se.decoder.write(W),Se.objectMode||W.length!==0?Ae(we,Se,W,!1):F(we,Se)):Ae(we,Se,W,!1)}else J||(Se.state&=-9,F(we,Se));return!Se.ended&&(Se.length<Se.highWaterMark||Se.length===0)}function Ae(we,W,G,J){W.flowing&&W.length===0&&!W.sync&&we.listenerCount("data")>0?(W.state&fe?W.awaitDrainWriters.clear():W.awaitDrainWriters=null,W.dataEmitted=!0,we.emit("data",G)):(W.length+=W.objectMode?1:G.length,J?W.buffer.unshift(G):W.buffer.push(G),W.state&A&&it(we)),F(we,W)}xe.prototype.isPaused=function(){const we=this._readableState;return we[X]===!0||we.flowing===!1},xe.prototype.setEncoding=function(we){const W=new le(we);this._readableState.decoder=W,this._readableState.encoding=this._readableState.decoder.encoding;const G=this._readableState.buffer;let J="";for(const Se of G)J+=W.write(Se);return G.clear(),J!==""&&G.push(J),this._readableState.length=J.length,this};const Pe=1073741824;function ke(we){if(we>Pe)throw new j("size","<= 1GiB",we);return we--,we|=we>>>1,we|=we>>>2,we|=we>>>4,we|=we>>>8,we|=we>>>16,we++,we}function Ze(we,W){return we<=0||W.length===0&&W.ended?0:W.state&oe?1:n(we)?W.flowing&&W.length?W.buffer.first().length:W.length:we<=W.length?we:W.ended?W.length:0}xe.prototype.read=function(we){g("read",we),we===void 0?we=NaN:r(we)||(we=a(we,10));const W=this._readableState,G=we;if(we>W.highWaterMark&&(W.highWaterMark=ke(we)),we!==0&&(W.state&=-129),we===0&&W.needReadable&&((W.highWaterMark!==0?W.length>=W.highWaterMark:W.length>0)||W.ended))return g("read: emitReadable",W.length,W.ended),W.length===0&&W.ended?De(this):it(this),null;if(we=Ze(we,W),we===0&&W.ended)return W.length===0&&De(this),null;let J=(W.state&A)!==0;if(g("need readable",J),(W.length===0||W.length-we<W.highWaterMark)&&(J=!0,g("length less than watermark",J)),W.ended||W.reading||W.destroyed||W.errored||!W.constructed)J=!1,g("reading, ended or constructing",J);else if(J){g("do read"),W.state|=Z|P,W.length===0&&(W.state|=A);try{this._read(W.highWaterMark)}catch(Ne){V(this,Ne)}W.state&=-33,W.reading||(we=Ze(G,W))}let Se;return we>0?Se=Te(we,W):Se=null,Se===null?(W.needReadable=W.length<=W.highWaterMark,we=0):(W.length-=we,W.multiAwaitDrain?W.awaitDrainWriters.clear():W.awaitDrainWriters=null),W.length===0&&(W.ended||(W.needReadable=!0),G!==we&&W.ended&&De(this)),Se!==null&&!W.errorEmitted&&!W.closeEmitted&&(W.dataEmitted=!0,this.emit("data",Se)),Se};function Ue(we,W){if(g("onEofChunk"),!W.ended){if(W.decoder){const G=W.decoder.end();G&&G.length&&(W.buffer.push(G),W.length+=W.objectMode?1:G.length)}W.ended=!0,W.sync?it(we):(W.needReadable=!1,W.emittedReadable=!0,ye(we))}}function it(we){const W=we._readableState;g("emitReadable",W.needReadable,W.emittedReadable),W.needReadable=!1,W.emittedReadable||(g("emitReadable",W.flowing),W.emittedReadable=!0,e.nextTick(ye,we))}function ye(we){const W=we._readableState;g("emitReadable_",W.destroyed,W.length,W.ended),!W.destroyed&&!W.errored&&(W.length||W.ended)&&(we.emit("readable"),W.emittedReadable=!1),W.needReadable=!W.flowing&&!W.ended&&W.length<=W.highWaterMark,Re(we)}function F(we,W){!W.readingMore&&W.constructed&&(W.readingMore=!0,e.nextTick(K,we,W))}function K(we,W){for(;!W.reading&&!W.ended&&(W.length<W.highWaterMark||W.flowing&&W.length===0);){const G=W.length;if(g("maybeReadMore read 0"),we.read(0),G===W.length)break}W.readingMore=!1}xe.prototype._read=function(we){throw new M("_read()")},xe.prototype.pipe=function(we,W){const G=this,J=this._readableState;J.pipes.length===1&&(J.multiAwaitDrain||(J.multiAwaitDrain=!0,J.awaitDrainWriters=new l(J.awaitDrainWriters?[J.awaitDrainWriters]:[]))),J.pipes.push(we),g("pipe count=%d opts=%j",J.pipes.length,W);const Ne=(!W||W.end!==!1)&&we!==e.stdout&&we!==e.stderr?He:Ce;J.endEmitted?e.nextTick(Ne):G.once("end",Ne),we.on("unpipe",Le);function Le(Ge,We){g("onunpipe"),Ge===G&&We&&We.hasUnpiped===!1&&(We.hasUnpiped=!0,lt())}function He(){g("onend"),we.end()}let $e,ut=!1;function lt(){g("cleanup"),we.removeListener("close",lr),we.removeListener("finish",at),$e&&we.removeListener("drain",$e),we.removeListener("error",nt),we.removeListener("unpipe",Le),G.removeListener("end",He),G.removeListener("end",Ce),G.removeListener("data",ct),ut=!0,$e&&J.awaitDrainWriters&&(!we._writableState||we._writableState.needDrain)&&$e()}function dt(){ut||(J.pipes.length===1&&J.pipes[0]===we?(g("false write response, pause",0),J.awaitDrainWriters=we,J.multiAwaitDrain=!1):J.pipes.length>1&&J.pipes.includes(we)&&(g("false write response, pause",J.awaitDrainWriters.size),J.awaitDrainWriters.add(we)),G.pause()),$e||($e=_e(G,we),we.on("drain",$e))}G.on("data",ct);function ct(Ge){g("ondata");const We=we.write(Ge);g("dest.write",We),We===!1&&dt()}function nt(Ge){if(g("onerror",Ge),Ce(),we.removeListener("error",nt),we.listenerCount("error")===0){const We=we._writableState||we._readableState;We&&!We.errorEmitted?V(we,Ge):we.emit("error",Ge)}}v(we,"error",nt);function lr(){we.removeListener("finish",at),Ce()}we.once("close",lr);function at(){g("onfinish"),we.removeListener("close",lr),Ce()}we.once("finish",at);function Ce(){g("unpipe"),G.unpipe(we)}return we.emit("pipe",G),we.writableNeedDrain===!0?dt():J.flowing||(g("pipe resume"),G.resume()),we};function _e(we,W){return function(){const J=we._readableState;J.awaitDrainWriters===W?(g("pipeOnDrain",1),J.awaitDrainWriters=null):J.multiAwaitDrain&&(g("pipeOnDrain",J.awaitDrainWriters.size),J.awaitDrainWriters.delete(W)),(!J.awaitDrainWriters||J.awaitDrainWriters.size===0)&&we.listenerCount("data")&&we.resume()}}xe.prototype.unpipe=function(we){const W=this._readableState,G={hasUnpiped:!1};if(W.pipes.length===0)return this;if(!we){const Se=W.pipes;W.pipes=[],this.pause();for(let Ne=0;Ne<Se.length;Ne++)Se[Ne].emit("unpipe",this,{hasUnpiped:!1});return this}const J=t(W.pipes,we);return J===-1?this:(W.pipes.splice(J,1),W.pipes.length===0&&this.pause(),we.emit("unpipe",this,G),this)},xe.prototype.on=function(we,W){const G=_.prototype.on.call(this,we,W),J=this._readableState;return we==="data"?(J.readableListening=this.listenerCount("readable")>0,J.flowing!==!1&&this.resume()):we==="readable"&&!J.endEmitted&&!J.readableListening&&(J.readableListening=J.needReadable=!0,J.flowing=!1,J.emittedReadable=!1,g("on readable",J.length,J.reading),J.length?it(this):J.reading||e.nextTick(se,this)),G},xe.prototype.addListener=xe.prototype.on,xe.prototype.removeListener=function(we,W){const G=_.prototype.removeListener.call(this,we,W);return we==="readable"&&e.nextTick(Oe,this),G},xe.prototype.off=xe.prototype.removeListener,xe.prototype.removeAllListeners=function(we){const W=_.prototype.removeAllListeners.apply(this,arguments);return(we==="readable"||we===void 0)&&e.nextTick(Oe,this),W};function Oe(we){const W=we._readableState;W.readableListening=we.listenerCount("readable")>0,W.resumeScheduled&&W[X]===!1?W.flowing=!0:we.listenerCount("data")>0?we.resume():W.readableListening||(W.flowing=null)}function se(we){g("readable nexttick read 0"),we.read(0)}xe.prototype.resume=function(){const we=this._readableState;return we.flowing||(g("resume"),we.flowing=!we.readableListening,ge(this,we)),we[X]=!1,this};function ge(we,W){W.resumeScheduled||(W.resumeScheduled=!0,e.nextTick(de,we,W))}function de(we,W){g("resume",W.reading),W.reading||we.read(0),W.resumeScheduled=!1,we.emit("resume"),Re(we),W.flowing&&!W.reading&&we.read(0)}xe.prototype.pause=function(){return g("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(g("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[X]=!0,this};function Re(we){const W=we._readableState;for(g("flow",W.flowing);W.flowing&&we.read()!==null;);}xe.prototype.wrap=function(we){let W=!1;we.on("data",J=>{!this.push(J)&&we.pause&&(W=!0,we.pause())}),we.on("end",()=>{this.push(null)}),we.on("error",J=>{V(this,J)}),we.on("close",()=>{this.destroy()}),we.on("destroy",()=>{this.destroy()}),this._read=()=>{W&&we.resume&&(W=!1,we.resume())};const G=o(we);for(let J=1;J<G.length;J++){const Se=G[J];this[Se]===void 0&&typeof we[Se]=="function"&&(this[Se]=we[Se].bind(we))}return this},xe.prototype[d]=function(){return qe(this)},xe.prototype.iterator=function(we){return we!==void 0&&ie(we,"options"),qe(this,we)};function qe(we,W){typeof we.read!="function"&&(we=xe.wrap(we,{objectMode:!0}));const G=H(we,W);return G.stream=we,G}async function*H(we,W){let G=ne;function J(Le){this===we?(G(),G=ne):G=Le}we.on("readable",J);let Se;const Ne=y(we,{writable:!1},Le=>{Se=Le?B(Se,Le):null,G(),G=ne});try{for(;;){const Le=we.destroyed?null:we.read();if(Le!==null)yield Le;else{if(Se)throw Se;if(Se===null)return;await new u(J)}}}catch(Le){throw Se=B(Se,Le),Se}finally{(Se||(W==null?void 0:W.destroyOnReturn)!==!1)&&(Se===void 0||we._readableState.autoDestroy)?T.destroyer(we,null):(we.off("readable",J),Ne())}}i(xe.prototype,{readable:{__proto__:null,get(){const we=this._readableState;return!!we&&we.readable!==!1&&!we.destroyed&&!we.errorEmitted&&!we.endEmitted},set(we){this._readableState&&(this._readableState.readable=!!we)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(we){this._readableState&&(this._readableState.flowing=we)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(we){this._readableState&&(this._readableState.destroyed=we)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),i(be.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[X]!==!1},set(we){this[X]=!!we}}}),xe._fromList=Te;function Te(we,W){if(W.length===0)return null;let G;return W.objectMode?G=W.buffer.shift():!we||we>=W.length?(W.decoder?G=W.buffer.join(""):W.buffer.length===1?G=W.buffer.first():G=W.buffer.concat(W.length),W.buffer.clear()):G=W.buffer.consume(we,W.decoder),G}function De(we){const W=we._readableState;g("endReadable",W.endEmitted),W.endEmitted||(W.ended=!0,e.nextTick(me,W,we))}function me(we,W){if(g("endReadableNT",we.endEmitted,we.length),!we.errored&&!we.closeEmitted&&!we.endEmitted&&we.length===0){if(we.endEmitted=!0,W.emit("end"),W.writable&&W.allowHalfOpen===!1)e.nextTick(Me,W);else if(we.autoDestroy){const G=W._writableState;(!G||G.autoDestroy&&(G.finished||G.writable===!1))&&W.destroy()}}}function Me(we){we.writable&&!we.writableEnded&&!we.destroyed&&we.end()}xe.from=function(we,W){return ae(xe,we,W)};let Ve;function ft(){return Ve===void 0&&(Ve={}),Ve}return xe.fromWeb=function(we,W){return ft().newStreamReadableFromReadableStream(we,W)},xe.toWeb=function(we,W){return ft().newReadableStreamFromStreamReadable(we,W)},xe.wrap=function(we,W){var G,J;return new xe({objectMode:(G=(J=we.readableObjectMode)!==null&&J!==void 0?J:we.objectMode)!==null&&G!==void 0?G:!0,...W,destroy(Se,Ne){T.destroyer(we,Se),Ne(Se)}}).wrap(we)},bg}var vg,yA;function PE(){if(yA)return vg;yA=1;const e=Js(),{ArrayPrototypeSlice:t,Error:r,FunctionPrototypeSymbolHasInstance:n,ObjectDefineProperty:a,ObjectDefineProperties:i,ObjectSetPrototypeOf:o,StringPrototypeToLowerCase:s,Symbol:u,SymbolHasInstance:l}=Er();vg=ie,ie.WritableState=q;const{EventEmitter:f}=Qn(),d=OE().Stream,{Buffer:c}=Tr(),p=ul(),{addAbortSignal:_}=A0(),{getHighWaterMark:v,getDefaultHighWaterMark:b}=I0(),{ERR_INVALID_ARG_TYPE:m,ERR_METHOD_NOT_IMPLEMENTED:y,ERR_MULTIPLE_CALLBACK:g,ERR_STREAM_CANNOT_PIPE:S,ERR_STREAM_DESTROYED:T,ERR_STREAM_ALREADY_FINISHED:I,ERR_STREAM_NULL_VALUES:C,ERR_STREAM_WRITE_AFTER_END:B,ERR_UNKNOWN_ENCODING:D}=qn().codes,{errorOrDestroy:M}=p;o(ie.prototype,d.prototype),o(ie,d);function j(){}const O=u("kOnFinished");function q(x,k,U){typeof U!="boolean"&&(U=k instanceof Ya()),this.objectMode=!!(x&&x.objectMode),U&&(this.objectMode=this.objectMode||!!(x&&x.writableObjectMode)),this.highWaterMark=x?v(this,x,"writableHighWaterMark",U):b(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const re=!!(x&&x.decodeStrings===!1);this.decodeStrings=!re,this.defaultEncoding=x&&x.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=V.bind(void 0,k),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,Q(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!x||x.emitClose!==!1,this.autoDestroy=!x||x.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[O]=[]}function Q(x){x.buffered=[],x.bufferedIndex=0,x.allBuffers=!0,x.allNoop=!0}q.prototype.getBuffer=function(){return t(this.buffered,this.bufferedIndex)},a(q.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function ie(x){const k=this instanceof Ya();if(!k&&!n(ie,this))return new ie(x);this._writableState=new q(x,this,k),x&&(typeof x.write=="function"&&(this._write=x.write),typeof x.writev=="function"&&(this._writev=x.writev),typeof x.destroy=="function"&&(this._destroy=x.destroy),typeof x.final=="function"&&(this._final=x.final),typeof x.construct=="function"&&(this._construct=x.construct),x.signal&&_(x.signal,this)),d.call(this,x),p.construct(this,()=>{const U=this._writableState;U.writing||Z(this,U),$(this,U)})}a(ie,l,{__proto__:null,value:function(x){return n(this,x)?!0:this!==ie?!1:x&&x._writableState instanceof q}}),ie.prototype.pipe=function(){M(this,new S)};function X(x,k,U,re){const fe=x._writableState;if(typeof U=="function")re=U,U=fe.defaultEncoding;else{if(!U)U=fe.defaultEncoding;else if(U!=="buffer"&&!c.isEncoding(U))throw new D(U);typeof re!="function"&&(re=j)}if(k===null)throw new C;if(!fe.objectMode)if(typeof k=="string")fe.decodeStrings!==!1&&(k=c.from(k,U),U="buffer");else if(k instanceof c)U="buffer";else if(d._isUint8Array(k))k=d._uint8ArrayToBuffer(k),U="buffer";else throw new m("chunk",["string","Buffer","Uint8Array"],k);let ve;return fe.ending?ve=new B:fe.destroyed&&(ve=new T("write")),ve?(e.nextTick(re,ve),M(x,ve,!0),ve):(fe.pendingcb++,le(x,fe,k,U,re))}ie.prototype.write=function(x,k,U){return X(this,x,k,U)===!0},ie.prototype.cork=function(){this._writableState.corked++},ie.prototype.uncork=function(){const x=this._writableState;x.corked&&(x.corked--,x.writing||Z(this,x))},ie.prototype.setDefaultEncoding=function(k){if(typeof k=="string"&&(k=s(k)),!c.isEncoding(k))throw new D(k);return this._writableState.defaultEncoding=k,this};function le(x,k,U,re,fe){const ve=k.objectMode?1:U.length;k.length+=ve;const ce=k.length<k.highWaterMark;return ce||(k.needDrain=!0),k.writing||k.corked||k.errored||!k.constructed?(k.buffered.push({chunk:U,encoding:re,callback:fe}),k.allBuffers&&re!=="buffer"&&(k.allBuffers=!1),k.allNoop&&fe!==j&&(k.allNoop=!1)):(k.writelen=ve,k.writecb=fe,k.writing=!0,k.sync=!0,x._write(U,re,k.onwrite),k.sync=!1),ce&&!k.errored&&!k.destroyed}function ae(x,k,U,re,fe,ve,ce){k.writelen=re,k.writecb=ce,k.writing=!0,k.sync=!0,k.destroyed?k.onwrite(new T("write")):U?x._writev(fe,k.onwrite):x._write(fe,ve,k.onwrite),k.sync=!1}function ne(x,k,U,re){--k.pendingcb,re(U),Y(k),M(x,U)}function V(x,k){const U=x._writableState,re=U.sync,fe=U.writecb;if(typeof fe!="function"){M(x,new g);return}U.writing=!1,U.writecb=null,U.length-=U.writelen,U.writelen=0,k?(k.stack,U.errored||(U.errored=k),x._readableState&&!x._readableState.errored&&(x._readableState.errored=k),re?e.nextTick(ne,x,U,k,fe):ne(x,U,k,fe)):(U.buffered.length>U.bufferedIndex&&Z(x,U),re?U.afterWriteTickInfo!==null&&U.afterWriteTickInfo.cb===fe?U.afterWriteTickInfo.count++:(U.afterWriteTickInfo={count:1,cb:fe,stream:x,state:U},e.nextTick(oe,U.afterWriteTickInfo)):he(x,U,1,fe))}function oe({stream:x,state:k,count:U,cb:re}){return k.afterWriteTickInfo=null,he(x,k,U,re)}function he(x,k,U,re){for(!k.ending&&!x.destroyed&&k.length===0&&k.needDrain&&(k.needDrain=!1,x.emit("drain"));U-- >0;)k.pendingcb--,re();k.destroyed&&Y(k),$(x,k)}function Y(x){if(x.writing)return;for(let fe=x.bufferedIndex;fe<x.buffered.length;++fe){var k;const{chunk:ve,callback:ce}=x.buffered[fe],Ie=x.objectMode?1:ve.length;x.length-=Ie,ce((k=x.errored)!==null&&k!==void 0?k:new T("write"))}const U=x[O].splice(0);for(let fe=0;fe<U.length;fe++){var re;U[fe]((re=x.errored)!==null&&re!==void 0?re:new T("end"))}Q(x)}function Z(x,k){if(k.corked||k.bufferProcessing||k.destroyed||!k.constructed)return;const{buffered:U,bufferedIndex:re,objectMode:fe}=k,ve=U.length-re;if(!ve)return;let ce=re;if(k.bufferProcessing=!0,ve>1&&x._writev){k.pendingcb-=ve-1;const Ie=k.allNoop?j:xe=>{for(let je=ce;je<U.length;++je)U[je].callback(xe)},be=k.allNoop&&ce===0?U:t(U,ce);be.allBuffers=k.allBuffers,ae(x,k,!0,k.length,be,"",Ie),Q(k)}else{do{const{chunk:Ie,encoding:be,callback:xe}=U[ce];U[ce++]=null;const je=fe?1:Ie.length;ae(x,k,!1,je,Ie,be,xe)}while(ce<U.length&&!k.writing);ce===U.length?Q(k):ce>256?(U.splice(0,ce),k.bufferedIndex=0):k.bufferedIndex=ce}k.bufferProcessing=!1}ie.prototype._write=function(x,k,U){if(this._writev)this._writev([{chunk:x,encoding:k}],U);else throw new y("_write()")},ie.prototype._writev=null,ie.prototype.end=function(x,k,U){const re=this._writableState;typeof x=="function"?(U=x,x=null,k=null):typeof k=="function"&&(U=k,k=null);let fe;if(x!=null){const ve=X(this,x,k);ve instanceof r&&(fe=ve)}return re.corked&&(re.corked=1,this.uncork()),fe||(!re.errored&&!re.ending?(re.ending=!0,$(this,re,!0),re.ended=!0):re.finished?fe=new I("end"):re.destroyed&&(fe=new T("end"))),typeof U=="function"&&(fe||re.finished?e.nextTick(U,fe):re[O].push(U)),this};function ee(x){return x.ending&&!x.destroyed&&x.constructed&&x.length===0&&!x.errored&&x.buffered.length===0&&!x.finished&&!x.writing&&!x.errorEmitted&&!x.closeEmitted}function P(x,k){let U=!1;function re(fe){if(U){M(x,fe??g());return}if(U=!0,k.pendingcb--,fe){const ve=k[O].splice(0);for(let ce=0;ce<ve.length;ce++)ve[ce](fe);M(x,fe,k.sync)}else ee(k)&&(k.prefinished=!0,x.emit("prefinish"),k.pendingcb++,e.nextTick(te,x,k))}k.sync=!0,k.pendingcb++;try{x._final(re)}catch(fe){re(fe)}k.sync=!1}function A(x,k){!k.prefinished&&!k.finalCalled&&(typeof x._final=="function"&&!k.destroyed?(k.finalCalled=!0,P(x,k)):(k.prefinished=!0,x.emit("prefinish")))}function $(x,k,U){ee(k)&&(A(x,k),k.pendingcb===0&&(U?(k.pendingcb++,e.nextTick((re,fe)=>{ee(fe)?te(re,fe):fe.pendingcb--},x,k)):ee(k)&&(k.pendingcb++,te(x,k))))}function te(x,k){k.pendingcb--,k.finished=!0;const U=k[O].splice(0);for(let re=0;re<U.length;re++)U[re]();if(x.emit("finish"),k.autoDestroy){const re=x._readableState;(!re||re.autoDestroy&&(re.endEmitted||re.readable===!1))&&x.destroy()}}i(ie.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(x){this._writableState&&(this._writableState.destroyed=x)}},writable:{__proto__:null,get(){const x=this._writableState;return!!x&&x.writable!==!1&&!x.destroyed&&!x.errored&&!x.ending&&!x.ended},set(x){this._writableState&&(this._writableState.writable=!!x)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const x=this._writableState;return x?!x.destroyed&&!x.ending&&x.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const pe=p.destroy;ie.prototype.destroy=function(x,k){const U=this._writableState;return!U.destroyed&&(U.bufferedIndex<U.buffered.length||U[O].length)&&e.nextTick(Y,U),pe.call(this,x,k),this},ie.prototype._undestroy=p.undestroy,ie.prototype._destroy=function(x,k){k(x)},ie.prototype[f.captureRejectionSymbol]=function(x){this.destroy(x)};let R;function w(){return R===void 0&&(R={}),R}return ie.fromWeb=function(x,k){return w().newStreamWritableFromWritableStream(x,k)},ie.toWeb=function(x){return w().newWritableStreamFromStreamWritable(x)},vg}var wg,gA;function ZG(){if(gA)return wg;gA=1;const e=Js(),t=Tr(),{isReadable:r,isWritable:n,isIterable:a,isNodeStream:i,isReadableNodeStream:o,isWritableNodeStream:s,isDuplexNodeStream:u,isReadableStream:l,isWritableStream:f}=no(),d=Zo(),{AbortError:c,codes:{ERR_INVALID_ARG_TYPE:p,ERR_INVALID_RETURN_VALUE:_}}=qn(),{destroyer:v}=ul(),b=Ya(),m=O0(),y=PE(),{createDeferredPromise:g}=Yn(),S=U6(),T=globalThis.Blob||t.Blob,I=typeof T<"u"?function(q){return q instanceof T}:function(q){return!1},C=globalThis.AbortController||Ph().AbortController,{FunctionPrototypeCall:B}=Er();class D extends b{constructor(q){super(q),(q==null?void 0:q.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(q==null?void 0:q.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}wg=function O(q,Q){if(u(q))return q;if(o(q))return j({readable:q});if(s(q))return j({writable:q});if(i(q))return j({writable:!1,readable:!1});if(l(q))return j({readable:m.fromWeb(q)});if(f(q))return j({writable:y.fromWeb(q)});if(typeof q=="function"){const{value:X,write:le,final:ae,destroy:ne}=M(q);if(a(X))return S(D,X,{objectMode:!0,write:le,final:ae,destroy:ne});const V=X==null?void 0:X.then;if(typeof V=="function"){let oe;const he=B(V,X,Y=>{if(Y!=null)throw new _("nully","body",Y)},Y=>{v(oe,Y)});return oe=new D({objectMode:!0,readable:!1,write:le,final(Y){ae(async()=>{try{await he,e.nextTick(Y,null)}catch(Z){e.nextTick(Y,Z)}})},destroy:ne})}throw new _("Iterable, AsyncIterable or AsyncFunction",Q,X)}if(I(q))return O(q.arrayBuffer());if(a(q))return S(D,q,{objectMode:!0,writable:!1});if(l(q==null?void 0:q.readable)&&f(q==null?void 0:q.writable))return D.fromWeb(q);if(typeof(q==null?void 0:q.writable)=="object"||typeof(q==null?void 0:q.readable)=="object"){const X=q!=null&&q.readable?o(q==null?void 0:q.readable)?q==null?void 0:q.readable:O(q.readable):void 0,le=q!=null&&q.writable?s(q==null?void 0:q.writable)?q==null?void 0:q.writable:O(q.writable):void 0;return j({readable:X,writable:le})}const ie=q==null?void 0:q.then;if(typeof ie=="function"){let X;return B(ie,q,le=>{le!=null&&X.push(le),X.push(null)},le=>{v(X,le)}),X=new D({objectMode:!0,writable:!1,read(){}})}throw new p(Q,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],q)};function M(O){let{promise:q,resolve:Q}=g();const ie=new C,X=ie.signal;return{value:O(async function*(){for(;;){const ae=q;q=null;const{chunk:ne,done:V,cb:oe}=await ae;if(e.nextTick(oe),V)return;if(X.aborted)throw new c(void 0,{cause:X.reason});({promise:q,resolve:Q}=g()),yield ne}}(),{signal:X}),write(ae,ne,V){const oe=Q;Q=null,oe({chunk:ae,done:!1,cb:V})},final(ae){const ne=Q;Q=null,ne({done:!0,cb:ae})},destroy(ae,ne){ie.abort(),ne(ae)}}}function j(O){const q=O.readable&&typeof O.readable.read!="function"?m.wrap(O.readable):O.readable,Q=O.writable;let ie=!!r(q),X=!!n(Q),le,ae,ne,V,oe;function he(Y){const Z=V;V=null,Z?Z(Y):Y&&oe.destroy(Y)}return oe=new D({readableObjectMode:!!(q!=null&&q.readableObjectMode),writableObjectMode:!!(Q!=null&&Q.writableObjectMode),readable:ie,writable:X}),X&&(d(Q,Y=>{X=!1,Y&&v(q,Y),he(Y)}),oe._write=function(Y,Z,ee){Q.write(Y,Z)?ee():le=ee},oe._final=function(Y){Q.end(),ae=Y},Q.on("drain",function(){if(le){const Y=le;le=null,Y()}}),Q.on("finish",function(){if(ae){const Y=ae;ae=null,Y()}})),ie&&(d(q,Y=>{ie=!1,Y&&v(q,Y),he(Y)}),q.on("readable",function(){if(ne){const Y=ne;ne=null,Y()}}),q.on("end",function(){oe.push(null)}),oe._read=function(){for(;;){const Y=q.read();if(Y===null){ne=oe._read;return}if(!oe.push(Y))return}}),oe._destroy=function(Y,Z){!Y&&V!==null&&(Y=new c),ne=null,le=null,ae=null,V===null?Z(Y):(V=Z,v(Q,Y),v(q,Y))},oe}return wg}var Sg,_A;function Ya(){if(_A)return Sg;_A=1;const{ObjectDefineProperties:e,ObjectGetOwnPropertyDescriptor:t,ObjectKeys:r,ObjectSetPrototypeOf:n}=Er();Sg=o;const a=O0(),i=PE();n(o.prototype,a.prototype),n(o,a);{const f=r(i.prototype);for(let d=0;d<f.length;d++){const c=f[d];o.prototype[c]||(o.prototype[c]=i.prototype[c])}}function o(f){if(!(this instanceof o))return new o(f);a.call(this,f),i.call(this,f),f?(this.allowHalfOpen=f.allowHalfOpen!==!1,f.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),f.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}e(o.prototype,{writable:{__proto__:null,...t(i.prototype,"writable")},writableHighWaterMark:{__proto__:null,...t(i.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...t(i.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...t(i.prototype,"writableBuffer")},writableLength:{__proto__:null,...t(i.prototype,"writableLength")},writableFinished:{__proto__:null,...t(i.prototype,"writableFinished")},writableCorked:{__proto__:null,...t(i.prototype,"writableCorked")},writableEnded:{__proto__:null,...t(i.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...t(i.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(f){this._readableState&&this._writableState&&(this._readableState.destroyed=f,this._writableState.destroyed=f)}}});let s;function u(){return s===void 0&&(s={}),s}o.fromWeb=function(f,d){return u().newStreamDuplexFromReadableWritablePair(f,d)},o.toWeb=function(f){return u().newReadableWritablePairFromDuplex(f)};let l;return o.from=function(f){return l||(l=ZG()),l(f,"body")},Sg}var Eg,bA;function H6(){if(bA)return Eg;bA=1;const{ObjectSetPrototypeOf:e,Symbol:t}=Er();Eg=o;const{ERR_METHOD_NOT_IMPLEMENTED:r}=qn().codes,n=Ya(),{getHighWaterMark:a}=I0();e(o.prototype,n.prototype),e(o,n);const i=t("kCallback");function o(l){if(!(this instanceof o))return new o(l);const f=l?a(this,l,"readableHighWaterMark",!0):null;f===0&&(l={...l,highWaterMark:null,readableHighWaterMark:f,writableHighWaterMark:l.writableHighWaterMark||0}),n.call(this,l),this._readableState.sync=!1,this[i]=null,l&&(typeof l.transform=="function"&&(this._transform=l.transform),typeof l.flush=="function"&&(this._flush=l.flush)),this.on("prefinish",u)}function s(l){typeof this._flush=="function"&&!this.destroyed?this._flush((f,d)=>{if(f){l?l(f):this.destroy(f);return}d!=null&&this.push(d),this.push(null),l&&l()}):(this.push(null),l&&l())}function u(){this._final!==s&&s.call(this)}return o.prototype._final=s,o.prototype._transform=function(l,f,d){throw new r("_transform()")},o.prototype._write=function(l,f,d){const c=this._readableState,p=this._writableState,_=c.length;this._transform(l,f,(v,b)=>{if(v){d(v);return}b!=null&&this.push(b),p.ended||_===c.length||c.length<c.highWaterMark?d():this[i]=d})},o.prototype._read=function(){if(this[i]){const l=this[i];this[i]=null,l()}},Eg}var xg,vA;function V6(){if(vA)return xg;vA=1;const{ObjectSetPrototypeOf:e}=Er();xg=r;const t=H6();e(r.prototype,t.prototype),e(r,t);function r(n){if(!(this instanceof r))return new r(n);t.call(this,n)}return r.prototype._transform=function(n,a,i){i(null,n)},xg}var Tg,wA;function CE(){if(wA)return Tg;wA=1;const e=Js(),{ArrayIsArray:t,Promise:r,SymbolAsyncIterator:n,SymbolDispose:a}=Er(),i=Zo(),{once:o}=Yn(),s=ul(),u=Ya(),{aggregateTwoErrors:l,codes:{ERR_INVALID_ARG_TYPE:f,ERR_INVALID_RETURN_VALUE:d,ERR_MISSING_ARGS:c,ERR_STREAM_DESTROYED:p,ERR_STREAM_PREMATURE_CLOSE:_},AbortError:v}=qn(),{validateFunction:b,validateAbortSignal:m}=Gh(),{isIterable:y,isReadable:g,isReadableNodeStream:S,isNodeStream:T,isTransformStream:I,isWebStream:C,isReadableStream:B,isReadableFinished:D}=no(),M=globalThis.AbortController||Ph().AbortController;let j,O,q;function Q(Y,Z,ee){let P=!1;Y.on("close",()=>{P=!0});const A=i(Y,{readable:Z,writable:ee},$=>{P=!$});return{destroy:$=>{P||(P=!0,s.destroyer(Y,$||new p("pipe")))},cleanup:A}}function ie(Y){return b(Y[Y.length-1],"streams[stream.length - 1]"),Y.pop()}function X(Y){if(y(Y))return Y;if(S(Y))return le(Y);throw new f("val",["Readable","Iterable","AsyncIterable"],Y)}async function*le(Y){O||(O=O0()),yield*O.prototype[n].call(Y)}async function ae(Y,Z,ee,{end:P}){let A,$=null;const te=w=>{if(w&&(A=w),$){const x=$;$=null,x()}},pe=()=>new r((w,x)=>{A?x(A):$=()=>{A?x(A):w()}});Z.on("drain",te);const R=i(Z,{readable:!1},te);try{Z.writableNeedDrain&&await pe();for await(const w of Y)Z.write(w)||await pe();P&&(Z.end(),await pe()),ee()}catch(w){ee(A!==w?l(A,w):w)}finally{R(),Z.off("drain",te)}}async function ne(Y,Z,ee,{end:P}){I(Z)&&(Z=Z.writable);const A=Z.getWriter();try{for await(const $ of Y)await A.ready,A.write($).catch(()=>{});await A.ready,P&&await A.close(),ee()}catch($){try{await A.abort($),ee($)}catch(te){ee(te)}}}function V(...Y){return oe(Y,o(ie(Y)))}function oe(Y,Z,ee){if(Y.length===1&&t(Y[0])&&(Y=Y[0]),Y.length<2)throw new c("streams");const P=new M,A=P.signal,$=ee==null?void 0:ee.signal,te=[];m($,"options.signal");function pe(){fe(new v)}q=q||Yn().addAbortListener;let R;$&&(R=q($,pe));let w,x;const k=[];let U=0;function re(be){fe(be,--U===0)}function fe(be,xe){var je;if(be&&(!w||w.code==="ERR_STREAM_PREMATURE_CLOSE")&&(w=be),!(!w&&!xe)){for(;k.length;)k.shift()(w);(je=R)===null||je===void 0||je[a](),P.abort(),xe&&(w||te.forEach(Ae=>Ae()),e.nextTick(Z,w,x))}}let ve;for(let be=0;be<Y.length;be++){const xe=Y[be],je=be<Y.length-1,Ae=be>0,Pe=je||(ee==null?void 0:ee.end)!==!1,ke=be===Y.length-1;if(T(xe)){let Ze=function(Ue){Ue&&Ue.name!=="AbortError"&&Ue.code!=="ERR_STREAM_PREMATURE_CLOSE"&&re(Ue)};if(Pe){const{destroy:Ue,cleanup:it}=Q(xe,je,Ae);k.push(Ue),g(xe)&&ke&&te.push(it)}xe.on("error",Ze),g(xe)&&ke&&te.push(()=>{xe.removeListener("error",Ze)})}if(be===0)if(typeof xe=="function"){if(ve=xe({signal:A}),!y(ve))throw new d("Iterable, AsyncIterable or Stream","source",ve)}else y(xe)||S(xe)||I(xe)?ve=xe:ve=u.from(xe);else if(typeof xe=="function"){if(I(ve)){var ce;ve=X((ce=ve)===null||ce===void 0?void 0:ce.readable)}else ve=X(ve);if(ve=xe(ve,{signal:A}),je){if(!y(ve,!0))throw new d("AsyncIterable",`transform[${be-1}]`,ve)}else{var Ie;j||(j=V6());const Ze=new j({objectMode:!0}),Ue=(Ie=ve)===null||Ie===void 0?void 0:Ie.then;if(typeof Ue=="function")U++,Ue.call(ve,F=>{x=F,F!=null&&Ze.write(F),Pe&&Ze.end(),e.nextTick(re)},F=>{Ze.destroy(F),e.nextTick(re,F)});else if(y(ve,!0))U++,ae(ve,Ze,re,{end:Pe});else if(B(ve)||I(ve)){const F=ve.readable||ve;U++,ae(F,Ze,re,{end:Pe})}else throw new d("AsyncIterable or Promise","destination",ve);ve=Ze;const{destroy:it,cleanup:ye}=Q(ve,!1,!0);k.push(it),ke&&te.push(ye)}}else if(T(xe)){if(S(ve)){U+=2;const Ze=he(ve,xe,re,{end:Pe});g(xe)&&ke&&te.push(Ze)}else if(I(ve)||B(ve)){const Ze=ve.readable||ve;U++,ae(Ze,xe,re,{end:Pe})}else if(y(ve))U++,ae(ve,xe,re,{end:Pe});else throw new f("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],ve);ve=xe}else if(C(xe)){if(S(ve))U++,ne(X(ve),xe,re,{end:Pe});else if(B(ve)||y(ve))U++,ne(ve,xe,re,{end:Pe});else if(I(ve))U++,ne(ve.readable,xe,re,{end:Pe});else throw new f("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],ve);ve=xe}else ve=u.from(xe)}return(A!=null&&A.aborted||$!=null&&$.aborted)&&e.nextTick(pe),ve}function he(Y,Z,ee,{end:P}){let A=!1;if(Z.on("close",()=>{A||ee(new _)}),Y.pipe(Z,{end:!1}),P){let $=function(){A=!0,Z.end()};D(Y)?e.nextTick($):Y.once("end",$)}else ee();return i(Y,{readable:!0,writable:!1},$=>{const te=Y._readableState;$&&$.code==="ERR_STREAM_PREMATURE_CLOSE"&&te&&te.ended&&!te.errored&&!te.errorEmitted?Y.once("end",ee).once("error",ee):ee($)}),i(Z,{readable:!1,writable:!0},ee)}return Tg={pipelineImpl:oe,pipeline:V},Tg}var Rg,SA;function z6(){if(SA)return Rg;SA=1;const{pipeline:e}=CE(),t=Ya(),{destroyer:r}=ul(),{isNodeStream:n,isReadable:a,isWritable:i,isWebStream:o,isTransformStream:s,isWritableStream:u,isReadableStream:l}=no(),{AbortError:f,codes:{ERR_INVALID_ARG_VALUE:d,ERR_MISSING_ARGS:c}}=qn(),p=Zo();return Rg=function(...v){if(v.length===0)throw new c("streams");if(v.length===1)return t.from(v[0]);const b=[...v];if(typeof v[0]=="function"&&(v[0]=t.from(v[0])),typeof v[v.length-1]=="function"){const j=v.length-1;v[j]=t.from(v[j])}for(let j=0;j<v.length;++j)if(!(!n(v[j])&&!o(v[j]))){if(j<v.length-1&&!(a(v[j])||l(v[j])||s(v[j])))throw new d(`streams[${j}]`,b[j],"must be readable");if(j>0&&!(i(v[j])||u(v[j])||s(v[j])))throw new d(`streams[${j}]`,b[j],"must be writable")}let m,y,g,S,T;function I(j){const O=S;S=null,O?O(j):j?T.destroy(j):!M&&!D&&T.destroy()}const C=v[0],B=e(v,I),D=!!(i(C)||u(C)||s(C)),M=!!(a(B)||l(B)||s(B));if(T=new t({writableObjectMode:!!(C!=null&&C.writableObjectMode),readableObjectMode:!!(B!=null&&B.readableObjectMode),writable:D,readable:M}),D){if(n(C))T._write=function(O,q,Q){C.write(O,q)?Q():m=Q},T._final=function(O){C.end(),y=O},C.on("drain",function(){if(m){const O=m;m=null,O()}});else if(o(C)){const q=(s(C)?C.writable:C).getWriter();T._write=async function(Q,ie,X){try{await q.ready,q.write(Q).catch(()=>{}),X()}catch(le){X(le)}},T._final=async function(Q){try{await q.ready,q.close().catch(()=>{}),y=Q}catch(ie){Q(ie)}}}const j=s(B)?B.readable:B;p(j,()=>{if(y){const O=y;y=null,O()}})}if(M){if(n(B))B.on("readable",function(){if(g){const j=g;g=null,j()}}),B.on("end",function(){T.push(null)}),T._read=function(){for(;;){const j=B.read();if(j===null){g=T._read;return}if(!T.push(j))return}};else if(o(B)){const O=(s(B)?B.readable:B).getReader();T._read=async function(){for(;;)try{const{value:q,done:Q}=await O.read();if(!T.push(q))return;if(Q){T.push(null);return}}catch{return}}}}return T._destroy=function(j,O){!j&&S!==null&&(j=new f),g=null,m=null,y=null,S===null?O(j):(S=O,n(B)&&r(B,j))},T},Rg}var EA;function YG(){if(EA)return $p;EA=1;const e=globalThis.AbortController||Ph().AbortController,{codes:{ERR_INVALID_ARG_VALUE:t,ERR_INVALID_ARG_TYPE:r,ERR_MISSING_ARGS:n,ERR_OUT_OF_RANGE:a},AbortError:i}=qn(),{validateAbortSignal:o,validateInteger:s,validateObject:u}=Gh(),l=Er().Symbol("kWeak"),f=Er().Symbol("kResistStopPropagation"),{finished:d}=Zo(),c=z6(),{addAbortSignalNoValidate:p}=A0(),{isWritable:_,isNodeStream:v}=no(),{deprecate:b}=Yn(),{ArrayPrototypePush:m,Boolean:y,MathFloor:g,Number:S,NumberIsNaN:T,Promise:I,PromiseReject:C,PromiseResolve:B,PromisePrototypeThen:D,Symbol:M}=Er(),j=M("kEmpty"),O=M("kEof");function q($,te){if(te!=null&&u(te,"options"),(te==null?void 0:te.signal)!=null&&o(te.signal,"options.signal"),v($)&&!_($))throw new t("stream",$,"must be writable");const pe=c(this,$);return te!=null&&te.signal&&p(te.signal,pe),pe}function Q($,te){if(typeof $!="function")throw new r("fn",["Function","AsyncFunction"],$);te!=null&&u(te,"options"),(te==null?void 0:te.signal)!=null&&o(te.signal,"options.signal");let pe=1;(te==null?void 0:te.concurrency)!=null&&(pe=g(te.concurrency));let R=pe-1;return(te==null?void 0:te.highWaterMark)!=null&&(R=g(te.highWaterMark)),s(pe,"options.concurrency",1),s(R,"options.highWaterMark",0),R+=pe,(async function*(){const x=Yn().AbortSignalAny([te==null?void 0:te.signal].filter(y)),k=this,U=[],re={signal:x};let fe,ve,ce=!1,Ie=0;function be(){ce=!0,xe()}function xe(){Ie-=1,je()}function je(){ve&&!ce&&Ie<pe&&U.length<R&&(ve(),ve=null)}async function Ae(){try{for await(let Pe of k){if(ce)return;if(x.aborted)throw new i;try{if(Pe=$(Pe,re),Pe===j)continue;Pe=B(Pe)}catch(ke){Pe=C(ke)}Ie+=1,D(Pe,xe,be),U.push(Pe),fe&&(fe(),fe=null),!ce&&(U.length>=R||Ie>=pe)&&await new I(ke=>{ve=ke})}U.push(O)}catch(Pe){const ke=C(Pe);D(ke,xe,be),U.push(ke)}finally{ce=!0,fe&&(fe(),fe=null)}}Ae();try{for(;;){for(;U.length>0;){const Pe=await U[0];if(Pe===O)return;if(x.aborted)throw new i;Pe!==j&&(yield Pe),U.shift(),je()}await new I(Pe=>{fe=Pe})}}finally{ce=!0,ve&&(ve(),ve=null)}}).call(this)}function ie($=void 0){return $!=null&&u($,"options"),($==null?void 0:$.signal)!=null&&o($.signal,"options.signal"),(async function*(){let pe=0;for await(const w of this){var R;if($!=null&&(R=$.signal)!==null&&R!==void 0&&R.aborted)throw new i({cause:$.signal.reason});yield[pe++,w]}}).call(this)}async function X($,te=void 0){for await(const pe of V.call(this,$,te))return!0;return!1}async function le($,te=void 0){if(typeof $!="function")throw new r("fn",["Function","AsyncFunction"],$);return!await X.call(this,async(...pe)=>!await $(...pe),te)}async function ae($,te){for await(const pe of V.call(this,$,te))return pe}async function ne($,te){if(typeof $!="function")throw new r("fn",["Function","AsyncFunction"],$);async function pe(R,w){return await $(R,w),j}for await(const R of Q.call(this,pe,te));}function V($,te){if(typeof $!="function")throw new r("fn",["Function","AsyncFunction"],$);async function pe(R,w){return await $(R,w)?R:j}return Q.call(this,pe,te)}class oe extends n{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function he($,te,pe){var R;if(typeof $!="function")throw new r("reducer",["Function","AsyncFunction"],$);pe!=null&&u(pe,"options"),(pe==null?void 0:pe.signal)!=null&&o(pe.signal,"options.signal");let w=arguments.length>1;if(pe!=null&&(R=pe.signal)!==null&&R!==void 0&&R.aborted){const fe=new i(void 0,{cause:pe.signal.reason});throw this.once("error",()=>{}),await d(this.destroy(fe)),fe}const x=new e,k=x.signal;if(pe!=null&&pe.signal){const fe={once:!0,[l]:this,[f]:!0};pe.signal.addEventListener("abort",()=>x.abort(),fe)}let U=!1;try{for await(const fe of this){var re;if(U=!0,pe!=null&&(re=pe.signal)!==null&&re!==void 0&&re.aborted)throw new i;w?te=await $(te,fe,{signal:k}):(te=fe,w=!0)}if(!U&&!w)throw new oe}finally{x.abort()}return te}async function Y($){$!=null&&u($,"options"),($==null?void 0:$.signal)!=null&&o($.signal,"options.signal");const te=[];for await(const R of this){var pe;if($!=null&&(pe=$.signal)!==null&&pe!==void 0&&pe.aborted)throw new i(void 0,{cause:$.signal.reason});m(te,R)}return te}function Z($,te){const pe=Q.call(this,$,te);return(async function*(){for await(const w of pe)yield*w}).call(this)}function ee($){if($=S($),T($))return 0;if($<0)throw new a("number",">= 0",$);return $}function P($,te=void 0){return te!=null&&u(te,"options"),(te==null?void 0:te.signal)!=null&&o(te.signal,"options.signal"),$=ee($),(async function*(){var R;if(te!=null&&(R=te.signal)!==null&&R!==void 0&&R.aborted)throw new i;for await(const x of this){var w;if(te!=null&&(w=te.signal)!==null&&w!==void 0&&w.aborted)throw new i;$--<=0&&(yield x)}}).call(this)}function A($,te=void 0){return te!=null&&u(te,"options"),(te==null?void 0:te.signal)!=null&&o(te.signal,"options.signal"),$=ee($),(async function*(){var R;if(te!=null&&(R=te.signal)!==null&&R!==void 0&&R.aborted)throw new i;for await(const x of this){var w;if(te!=null&&(w=te.signal)!==null&&w!==void 0&&w.aborted)throw new i;if($-- >0&&(yield x),$<=0)return}}).call(this)}return $p.streamReturningOperators={asIndexedPairs:b(ie,"readable.asIndexedPairs will be removed in a future version."),drop:P,filter:V,flatMap:Z,map:Q,take:A,compose:q},$p.promiseReturningOperators={every:le,forEach:ne,reduce:he,toArray:Y,some:X,find:ae},$p}var Ag,xA;function G6(){if(xA)return Ag;xA=1;const{ArrayPrototypePop:e,Promise:t}=Er(),{isIterable:r,isNodeStream:n,isWebStream:a}=no(),{pipelineImpl:i}=CE(),{finished:o}=Zo();W6();function s(...u){return new t((l,f)=>{let d,c;const p=u[u.length-1];if(p&&typeof p=="object"&&!n(p)&&!r(p)&&!a(p)){const _=e(u);d=_.signal,c=_.end}i(u,(_,v)=>{_?f(_):l(v)},{signal:d,end:c})})}return Ag={finished:o,pipeline:s},Ag}var TA;function W6(){if(TA)return ng.exports;TA=1;const{Buffer:e}=Tr(),{ObjectDefineProperty:t,ObjectKeys:r,ReflectApply:n}=Er(),{promisify:{custom:a}}=Yn(),{streamReturningOperators:i,promiseReturningOperators:o}=YG(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:s}}=qn(),u=z6(),{setDefaultHighWaterMark:l,getDefaultHighWaterMark:f}=I0(),{pipeline:d}=CE(),{destroyer:c}=ul(),p=Zo(),_=G6(),v=no(),b=ng.exports=OE().Stream;b.isDestroyed=v.isDestroyed,b.isDisturbed=v.isDisturbed,b.isErrored=v.isErrored,b.isReadable=v.isReadable,b.isWritable=v.isWritable,b.Readable=O0();for(const y of r(i)){let S=function(...T){if(new.target)throw s();return b.Readable.from(n(g,this,T))};const g=i[y];t(S,"name",{__proto__:null,value:g.name}),t(S,"length",{__proto__:null,value:g.length}),t(b.Readable.prototype,y,{__proto__:null,value:S,enumerable:!1,configurable:!0,writable:!0})}for(const y of r(o)){let S=function(...T){if(new.target)throw s();return n(g,this,T)};const g=o[y];t(S,"name",{__proto__:null,value:g.name}),t(S,"length",{__proto__:null,value:g.length}),t(b.Readable.prototype,y,{__proto__:null,value:S,enumerable:!1,configurable:!0,writable:!0})}b.Writable=PE(),b.Duplex=Ya(),b.Transform=H6(),b.PassThrough=V6(),b.pipeline=d;const{addAbortSignal:m}=A0();return b.addAbortSignal=m,b.finished=p,b.destroy=c,b.compose=u,b.setDefaultHighWaterMark=l,b.getDefaultHighWaterMark=f,t(b,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return _}}),t(d,a,{__proto__:null,enumerable:!0,get(){return _.pipeline}}),t(p,a,{__proto__:null,enumerable:!0,get(){return _.finished}}),b.Stream=b,b._isUint8Array=function(g){return g instanceof Uint8Array},b._uint8ArrayToBuffer=function(g){return e.from(g.buffer,g.byteOffset,g.byteLength)},ng.exports}var RA;function Xi(){return RA||(RA=1,function(e){const t=W6(),r=G6(),n=t.Readable.destroy;e.exports=t.Readable,e.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,e.exports._isUint8Array=t._isUint8Array,e.exports.isDisturbed=t.isDisturbed,e.exports.isErrored=t.isErrored,e.exports.isReadable=t.isReadable,e.exports.Readable=t.Readable,e.exports.Writable=t.Writable,e.exports.Duplex=t.Duplex,e.exports.Transform=t.Transform,e.exports.PassThrough=t.PassThrough,e.exports.addAbortSignal=t.addAbortSignal,e.exports.finished=t.finished,e.exports.destroy=t.destroy,e.exports.destroy=n,e.exports.pipeline=t.pipeline,e.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return r}}),e.exports.Stream=t.Stream,e.exports.default=e.exports}(rg)),rg.exports}var P0=Xi();const Ig=Symbol("iter");function ch(e,t,r=4){if(r===0)return Object.assign(e,t);for(const n in t)e[n]=ch(e[n]||Object.create(null),t[n],r-1);return e}function K6(e,t,r=4){let n=!1;for(const a in e)if(a in t){const i=r===0?null:K6(e[a],t[a],r-1);if(i!==!1)n=n||Object.create(null),n[a]=i;else if(r===3)return!1}return n}function Z6(e,t,r=4){let n=!1;for(const a in e)if(!(a in t))n=n||Object.create(null),n[a]=r===0?null:ch({},e[a],r-1);else if(r!==0){const i=Z6(e[a],t[a],r-1);if(i!==!1)n=n||Object.create(null),n[a]=i;else if(r===3)return!1}return n}class LE{constructor(t={}){this._id=1,this._ids=Object.create(null),this._ids[""]=1,this._entities=Object.create(null),this._entities[1]="",this._blankNodeIndex=0,this._factory=t.factory||Ai}_termFromId(t){if(t[0]==="."){const r=this._entities,n=t.split(".");return this._factory.quad(this._termFromId(r[n[1]]),this._termFromId(r[n[2]]),this._termFromId(r[n[3]]),n[4]&&this._termFromId(r[n[4]]))}return js(t,this._factory)}_termToNumericId(t){if(t.termType==="Quad"){const r=this._termToNumericId(t.subject),n=this._termToNumericId(t.predicate),a=this._termToNumericId(t.object);let i;return r&&n&&a&&(Oh(t.graph)||(i=this._termToNumericId(t.graph)))&&this._ids[i?`.${r}.${n}.${a}.${i}`:`.${r}.${n}.${a}`]}return this._ids[Io(t)]}_termToNewNumericId(t){const r=t&&t.termType==="Quad"?`.${this._termToNewNumericId(t.subject)}.${this._termToNewNumericId(t.predicate)}.${this._termToNewNumericId(t.object)}${Oh(t.graph)?"":`.${this._termToNewNumericId(t.graph)}`}`:Io(t);return this._ids[r]||(this._ids[this._entities[++this._id]=r]=this._id)}createBlankNode(t){let r,n;if(t)for(r=t=`_:${t}`,n=1;this._ids[r];)r=t+n++;else do r=`_:b${this._blankNodeIndex++}`;while(this._ids[r]);return this._ids[r]=++this._id,this._entities[this._id]=r,this._factory.blankNode(r.substr(2))}}class yn{constructor(t,r){this._size=0,this._graphs=Object.create(null),!r&&t&&!t[0]&&(r=t,t=null),r=r||{},this._factory=r.factory||Ai,this._entityIndex=r.entityIndex||new LE({factory:this._factory}),this._entities=this._entityIndex._entities,this._termFromId=this._entityIndex._termFromId.bind(this._entityIndex),this._termToNumericId=this._entityIndex._termToNumericId.bind(this._entityIndex),this._termToNewNumericId=this._entityIndex._termToNewNumericId.bind(this._entityIndex),t&&this.addQuads(t)}get size(){let t=this._size;if(t!==null)return t;t=0;const r=this._graphs;let n,a;for(const i in r)for(const o in n=r[i].subjects)for(const s in a=n[o])t+=Object.keys(a[s]).length;return this._size=t}_addToIndex(t,r,n,a){const i=t[r]||(t[r]={}),o=i[n]||(i[n]={}),s=a in o;return s||(o[a]=null),!s}_removeFromIndex(t,r,n,a){const i=t[r],o=i[n];delete o[a];for(const s in o)return;delete i[n];for(const s in i)return;delete t[r]}*_findInIndex(t,r,n,a,i,o,s,u){let l,f,d;const c=this._entities,p=this._termFromId(c[u]),_={subject:null,predicate:null,object:null};r&&((l=t,t={})[r]=l[r]);for(const v in t)if(f=t[v]){_[i]=this._termFromId(c[v]),n&&((l=f,f={})[n]=l[n]);for(const b in f)if(d=f[b]){_[o]=this._termFromId(c[b]);const m=a?a in d?[a]:[]:Object.keys(d);for(let y=0;y<m.length;y++)_[s]=this._termFromId(c[m[y]]),yield this._factory.quad(_.subject,_.predicate,_.object,p)}}}_loop(t,r){for(const n in t)r(n)}_loopByKey0(t,r,n){let a,i;if(a=t[r])for(i in a)n(i)}_loopByKey1(t,r,n){let a,i;for(a in t)i=t[a],i[r]&&n(a)}_loopBy2Keys(t,r,n,a){let i,o,s;if((i=t[r])&&(o=i[n]))for(s in o)a(s)}_countInIndex(t,r,n,a){let i=0,o,s,u;r&&((o=t,t={})[r]=o[r]);for(const l in t)if(s=t[l]){n&&((o=s,s={})[n]=o[n]);for(const f in s)(u=s[f])&&(a?a in u&&i++:i+=Object.keys(u).length)}return i}_getGraphs(t){return t=t===""?1:t&&(this._termToNumericId(t)||-1),typeof t!="number"?this._graphs:{[t]:this._graphs[t]}}_uniqueEntities(t){const r=Object.create(null);return n=>{n in r||(r[n]=!0,t(this._termFromId(this._entities[n],this._factory)))}}add(t){return this.addQuad(t),this}addQuad(t,r,n,a){r||(a=t.graph,n=t.object,r=t.predicate,t=t.subject),a=a?this._termToNewNumericId(a):1;let i=this._graphs[a];return i||(i=this._graphs[a]={subjects:{},predicates:{},objects:{}},Object.freeze(i)),t=this._termToNewNumericId(t),r=this._termToNewNumericId(r),n=this._termToNewNumericId(n),this._addToIndex(i.subjects,t,r,n)?(this._addToIndex(i.predicates,r,n,t),this._addToIndex(i.objects,n,t,r),this._size=null,!0):!1}addQuads(t){for(let r=0;r<t.length;r++)this.addQuad(t[r])}delete(t){return this.removeQuad(t),this}has(t,r,n,a){return t&&t.subject&&({subject:t,predicate:r,object:n,graph:a}=t),!this.readQuads(t,r,n,a).next().done}import(t){return t.on("data",r=>{this.addQuad(r)}),t}removeQuad(t,r,n,a){r||({subject:t,predicate:r,object:n,graph:a}=t),a=a?this._termToNumericId(a):1;const i=this._graphs;let o,s,u;if(!(t=t&&this._termToNumericId(t))||!(r=r&&this._termToNumericId(r))||!(n=n&&this._termToNumericId(n))||!(o=i[a])||!(s=o.subjects[t])||!(u=s[r])||!(n in u))return!1;this._removeFromIndex(o.subjects,t,r,n),this._removeFromIndex(o.predicates,r,n,t),this._removeFromIndex(o.objects,n,t,r),this._size!==null&&this._size--;for(t in o.subjects)return!0;return delete i[a],!0}removeQuads(t){for(let r=0;r<t.length;r++)this.removeQuad(t[r])}remove(t){return t.on("data",r=>{this.removeQuad(r)}),t}removeMatches(t,r,n,a){const i=new P0.Readable({objectMode:!0}),o=this.readQuads(t,r,n,a);return i._read=s=>{for(;--s>=0;){const{done:u,value:l}=o.next();if(u){i.push(null);return}i.push(l)}},this.remove(i)}deleteGraph(t){return this.removeMatches(null,null,null,t)}getQuads(t,r,n,a){return[...this.readQuads(t,r,n,a)]}*readQuads(t,r,n,a){const i=this._getGraphs(a);let o,s,u,l;if(!(t&&!(s=this._termToNumericId(t))||r&&!(u=this._termToNumericId(r))||n&&!(l=this._termToNumericId(n))))for(const f in i)(o=i[f])&&(s?l?yield*this._findInIndex(o.objects,l,s,u,"object","subject","predicate",f):yield*this._findInIndex(o.subjects,s,u,null,"subject","predicate","object",f):u?yield*this._findInIndex(o.predicates,u,l,null,"predicate","object","subject",f):l?yield*this._findInIndex(o.objects,l,null,null,"object","subject","predicate",f):yield*this._findInIndex(o.subjects,null,null,null,"subject","predicate","object",f))}match(t,r,n,a){return new xo(this,t,r,n,a,{entityIndex:this._entityIndex})}countQuads(t,r,n,a){const i=this._getGraphs(a);let o=0,s,u,l,f;if(t&&!(u=this._termToNumericId(t))||r&&!(l=this._termToNumericId(r))||n&&!(f=this._termToNumericId(n)))return 0;for(const d in i)(s=i[d])&&(t?n?o+=this._countInIndex(s.objects,f,u,l):o+=this._countInIndex(s.subjects,u,l,f):r?o+=this._countInIndex(s.predicates,l,f,u):o+=this._countInIndex(s.objects,f,u,l));return o}forEach(t,r,n,a,i){this.some(o=>(t(o,this),!1),r,n,a,i)}every(t,r,n,a,i){return!this.some(o=>!t(o,this),r,n,a,i)}some(t,r,n,a,i){for(const o of this.readQuads(r,n,a,i))if(t(o))return!0;return!1}getSubjects(t,r,n){const a=[];return this.forSubjects(i=>{a.push(i)},t,r,n),a}forSubjects(t,r,n,a){const i=this._getGraphs(a);let o,s,u;if(t=this._uniqueEntities(t),!(r&&!(s=this._termToNumericId(r))||n&&!(u=this._termToNumericId(n))))for(a in i)(o=i[a])&&(s?u?this._loopBy2Keys(o.predicates,s,u,t):this._loopByKey1(o.subjects,s,t):u?this._loopByKey0(o.objects,u,t):this._loop(o.subjects,t))}getPredicates(t,r,n){const a=[];return this.forPredicates(i=>{a.push(i)},t,r,n),a}forPredicates(t,r,n,a){const i=this._getGraphs(a);let o,s,u;if(t=this._uniqueEntities(t),!(r&&!(s=this._termToNumericId(r))||n&&!(u=this._termToNumericId(n))))for(a in i)(o=i[a])&&(s?u?this._loopBy2Keys(o.objects,u,s,t):this._loopByKey0(o.subjects,s,t):u?this._loopByKey1(o.predicates,u,t):this._loop(o.predicates,t))}getObjects(t,r,n){const a=[];return this.forObjects(i=>{a.push(i)},t,r,n),a}forObjects(t,r,n,a){const i=this._getGraphs(a);let o,s,u;if(t=this._uniqueEntities(t),!(r&&!(s=this._termToNumericId(r))||n&&!(u=this._termToNumericId(n))))for(a in i)(o=i[a])&&(s?u?this._loopBy2Keys(o.subjects,s,u,t):this._loopByKey1(o.objects,s,t):u?this._loopByKey0(o.predicates,u,t):this._loop(o.objects,t))}getGraphs(t,r,n){const a=[];return this.forGraphs(i=>{a.push(i)},t,r,n),a}forGraphs(t,r,n,a){for(const i in this._graphs)this.some(o=>(t(o.graph),!0),r,n,a,this._termFromId(this._entities[i]))}createBlankNode(t){return this._entityIndex.createBlankNode(t)}extractLists({remove:t=!1,ignoreErrors:r=!1}={}){const n={},a=r?()=>!0:(s,u)=>{throw new Error(`${s.value} ${u}`)},i=this.getQuads(null,gn.rdf.rest,gn.rdf.nil,null),o=t?[...i]:[];return i.forEach(s=>{const u=[];let l=!1,f,d;const c=s.graph;let p=s.subject;for(;p&&!l;){const _=this.getQuads(null,null,p,null),v=this.getQuads(p,null,null,null);let b,m=null,y=null,g=null;for(let S=0;S<v.length&&!l;S++)b=v[S],b.graph.equals(c)?f?l=a(p,"has non-list arcs out"):b.predicate.value===gn.rdf.first?m?l=a(p,"has multiple rdf:first arcs"):o.push(m=b):b.predicate.value===gn.rdf.rest?y?l=a(p,"has multiple rdf:rest arcs"):o.push(y=b):_.length?l=a(p,"can't be subject and object"):(f=b,d="subject"):l=a(p,"not confined to single graph");for(let S=0;S<_.length&&!l;++S)b=_[S],f?l=a(p,"can't have coreferences"):b.predicate.value===gn.rdf.rest?g?l=a(p,"has incoming rdf:rest arcs"):g=b:(f=b,d="object");m?u.unshift(m.object):l=a(p,"has no list head"),p=g&&g.subject}l?t=!1:f&&(n[f[d].value]=u)}),t&&this.removeQuads(o),n}addAll(t){if(t instanceof xo&&(t=t.filtered),Array.isArray(t))this.addQuads(t);else if(t instanceof yn&&t._entityIndex===this._entityIndex)t._size!==0&&(this._graphs=ch(this._graphs,t._graphs),this._size=null);else for(const r of t)this.add(r);return this}contains(t){if(t instanceof xo&&(t=t.filtered),t===this)return!0;if(!(t instanceof yn)||this._entityIndex!==t._entityIndex)return t.every(l=>this.has(l));const r=this._graphs,n=t._graphs;let a,i,o,s,u;for(const l in n){if(!(a=r[l]))return!1;a=a.subjects;for(const f in i=n[l].subjects){if(!(o=a[f]))return!1;for(const d in s=i[f]){if(!(u=o[d]))return!1;for(const c in s[d])if(!(c in u))return!1}}}return!0}deleteMatches(t,r,n,a){for(const i of this.match(t,r,n,a))this.removeQuad(i);return this}difference(t){if(t&&t instanceof xo&&(t=t.filtered),t===this)return new yn({entityIndex:this._entityIndex});if(t instanceof yn&&t._entityIndex===this._entityIndex){const r=new yn({entityIndex:this._entityIndex}),n=Z6(this._graphs,t._graphs);return n&&(r._graphs=n,r._size=null),r}return this.filter(r=>!t.has(r))}equals(t){return t instanceof xo&&(t=t.filtered),t===this||this.size===t.size&&this.contains(t)}filter(t){const r=new yn({entityIndex:this._entityIndex});for(const n of this)t(n,this)&&r.add(n);return r}intersection(t){if(t instanceof xo&&(t=t.filtered),t===this){const r=new yn({entityIndex:this._entityIndex});return r._graphs=ch(Object.create(null),this._graphs),r._size=this._size,r}else if(t instanceof yn&&this._entityIndex===t._entityIndex){const r=new yn({entityIndex:this._entityIndex}),n=K6(t._graphs,this._graphs);return n&&(r._graphs=n,r._size=null),r}return this.filter(r=>t.has(r))}map(t){const r=new yn({entityIndex:this._entityIndex});for(const n of this)r.add(t(n,this));return r}reduce(t,r){const n=this.readQuads();let a=r===void 0?n.next().value:r;for(const i of n)a=t(a,i,this);return a}toArray(){return this.getQuads()}toCanonical(){throw new Error("not implemented")}toStream(){return this.match()}toString(){return new zh().quadsToString(this)}union(t){const r=new yn({entityIndex:this._entityIndex});return r._graphs=ch(Object.create(null),this._graphs),r._size=this._size,r.addAll(t),r}*[Symbol.iterator](){yield*this.readQuads()}}function sa(e,t,r=0){const n=t[r];if(n&&!(n in e))return!1;let a=!1;for(const i in n?{[n]:e[n]}:e){const o=r===2?null:sa(e[i],t,r+1);o!==!1&&(a=a||Object.create(null),a[i]=o)}return a}class xo extends P0.Readable{constructor(t,r,n,a,i,o){super({objectMode:!0}),Object.assign(this,{n3Store:t,subject:r,predicate:n,object:a,graph:i,options:o})}get filtered(){if(!this._filtered){const{n3Store:t,graph:r,object:n,predicate:a,subject:i}=this,o=this._filtered=new yn({factory:t._factory,entityIndex:this.options.entityIndex});let s,u,l;if(i&&!(s=o._termToNumericId(i))||a&&!(u=o._termToNumericId(a))||n&&!(l=o._termToNumericId(n)))return o;const f=t._getGraphs(r);for(const d in f){let c,p,_;!s&&u?(p=sa(f[d].predicates,[u,l,s]))&&(c=sa(f[d].subjects,[s,u,l]),_=sa(f[d].objects,[l,s,u])):l?(_=sa(f[d].objects,[l,s,u]))&&(c=sa(f[d].subjects,[s,u,l]),p=sa(f[d].predicates,[u,l,s])):(c=sa(f[d].subjects,[s,u,l]))&&(p=sa(f[d].predicates,[u,l,s]),_=sa(f[d].objects,[l,s,u])),c&&(o._graphs[d]={subjects:c,predicates:p,objects:_})}o._size=null}return this._filtered}get size(){return this.filtered.size}_read(t){t>0&&!this[Ig]&&(this[Ig]=this[Symbol.iterator]());const r=this[Ig];for(;--t>=0;){const{done:n,value:a}=r.next();if(n){this.push(null);return}this.push(a)}}addAll(t){return this.filtered.addAll(t)}contains(t){return this.filtered.contains(t)}deleteMatches(t,r,n,a){return this.filtered.deleteMatches(t,r,n,a)}difference(t){return this.filtered.difference(t)}equals(t){return this.filtered.equals(t)}every(t,r,n,a,i){return this.filtered.every(t,r,n,a,i)}filter(t){return this.filtered.filter(t)}forEach(t,r,n,a,i){return this.filtered.forEach(t,r,n,a,i)}import(t){return this.filtered.import(t)}intersection(t){return this.filtered.intersection(t)}map(t){return this.filtered.map(t)}some(t,r,n,a,i){return this.filtered.some(t,r,n,a,i)}toCanonical(){return this.filtered.toCanonical()}toStream(){return this._filtered?this._filtered.toStream():this.n3Store.match(this.subject,this.predicate,this.object,this.graph)}union(t){return this._filtered?this._filtered.union(t):this.n3Store.match(this.subject,this.predicate,this.object,this.graph).addAll(t)}toArray(){return this._filtered?this._filtered.toArray():this.n3Store.getQuads(this.subject,this.predicate,this.object,this.graph)}reduce(t,r){return this.filtered.reduce(t,r)}toString(){return new zh().quadsToString(this)}add(t){return this.filtered.add(t)}delete(t){return this.filtered.delete(t)}has(t){return this.filtered.has(t)}match(t,r,n,a){return new xo(this.filtered,t,r,n,a,this.options)}*[Symbol.iterator](){yield*this._filtered||this.n3Store.readQuads(this.subject,this.predicate,this.object,this.graph)}}class Y6{dataset(t){return new yn(t)}}function Q6(e){const t=[];for(const{subject:r,object:n}of e.match(null,Ai.namedNode("http://www.w3.org/2000/10/swap/log#implies"),null,Ai.defaultGraph())){const a=[...e.match(null,null,null,r)],i=[...e.match(null,null,null,n)];t.push({premise:a,conclusion:i})}return t}class X6{constructor(t){this._store=t}_add(t,r,n,a,i){this._store._addToIndex(a.subjects,t,r,n)&&(this._store._addToIndex(a.predicates,r,n,t),this._store._addToIndex(a.objects,n,t,r),i())}_evaluatePremise(t,r,n,a=0){let i,o,s,u,l;const[f,d,c]=t.premise[a].value,p=r[t.premise[a].content],_=!(s=f.value);for(s in _?p:{[s]:p[s]})if(u=p[s]){_&&(f.value=Number(s)),i=!(s=d.value);for(s in i?u:{[s]:u[s]})if(l=u[s]){i&&(d.value=Number(s)),o=!(s=c.value);for(s in o?l:{[s]:l[s]})o&&(c.value=Number(s)),a===t.premise.length-1?t.conclusion.forEach(v=>{this._add(v.subject.value,v.predicate.value,v.object.value,r,()=>{n(v)})}):this._evaluatePremise(t,r,n,a+1);o&&(c.value=null)}i&&(d.value=null)}_&&(f.value=null)}_evaluateRules(t,r,n){for(let a=0;a<t.length;a++)this._evaluatePremise(t[a],r,n)}_reasonGraphNaive(t,r){const n=[];function a(s){s.next&&s.next.forEach(u=>{n.push([s.subject.value,s.predicate.value,s.object.value,u])})}const i=s=>{s.forEach(u=>{this._add(u.subject.value,u.predicate.value,u.object.value,r,()=>{a(u)})})};this._evaluateRules(t,r,a);let o;for(;(o=n.pop())!==void 0;){const[s,u,l,f]=o,d=f.basePremise.subject.value;d||(f.basePremise.subject.value=s);const c=f.basePremise.predicate.value;c||(f.basePremise.predicate.value=u);const p=f.basePremise.object.value;p||(f.basePremise.object.value=l),f.premise.length===0?i(f.conclusion):this._evaluatePremise(f,r,a),d||(f.basePremise.subject.value=null),c||(f.basePremise.predicate.value=null),p||(f.basePremise.object.value=null)}}_createRule({premise:t,conclusion:r}){const n={},a=o=>o.termType==="Variable"?n[o.value]=n[o.value]||{}:{value:this._store._termToNewNumericId(o)},i=o=>({subject:a(o.subject),predicate:a(o.predicate),object:a(o.object)});return{premise:t.map(o=>i(o)),conclusion:r.map(o=>i(o)),variables:Object.values(n)}}reason(t){Array.isArray(t)||(t=Q6(t)),t=t.map(n=>this._createRule(n));for(const n of t)for(const a of t)for(let i=0;i<a.premise.length;i++){const o=a.premise[i];for(const s of n.conclusion){if(Og(o.subject,s.subject)&&Og(o.predicate,s.predicate)&&Og(o.object,s.object)){const u=new Set,l=[];o.subject.value=o.subject.value||1,o.object.value=o.object.value||1,o.predicate.value=o.predicate.value||1;for(let f=0;f<a.premise.length;f++)f!==i&&l.push(AA(a.premise[f],u));(s.next=s.next||[]).push({premise:l,conclusion:a.conclusion,basePremise:o})}a.variables.forEach(u=>{u.value=null})}}for(const n of t){const a=new Set;n.premise=n.premise.map(i=>AA(i,a))}const r=this._store._getGraphs();for(const n in r)this._reasonGraphNaive(t,r[n]);this._store._size=null}}function AA({subject:e,predicate:t,object:r},n){const a=e.value||n.has(e)||(n.add(e),!1),i=t.value||n.has(t)||(n.add(t),!1),o=r.value||n.has(r)||(n.add(r),!1);return!a&&i?{content:"predicates",value:[t,r,e]}:o?{content:"objects",value:[r,e,t]}:{content:"subjects",value:[e,t,r]}}function Og(e,t){return e.value===null&&(e.value=t.value),e.value===t.value}class J6 extends P0.Transform{constructor(t){super({decodeStrings:!0}),this._readableState.objectMode=!0;const r=new R0(t);let n,a;const i={onQuad:(o,s)=>{o&&this.emit("error",o)||s&&this.push(s)},onPrefix:(o,s)=>{this.emit("prefix",o,s)}};t&&t.comments&&(i.onComment=o=>{this.emit("comment",o)}),r.parse({on:(o,s)=>{switch(o){case"data":n=s;break;case"end":a=s;break}}},i),this._transform=(o,s,u)=>{n(o),u()},this._flush=o=>{a(),o()}}import(t){return t.on("data",r=>{this.write(r)}),t.on("end",()=>{this.end()}),t.on("error",r=>{this.emit("error",r)}),this}}class ej extends P0.Transform{constructor(t){super({encoding:"utf8",writableObjectMode:!0});const r=this._writer=new zh({write:(n,a,i)=>{this.push(n),i&&i()},end:n=>{this.push(null),n&&n()}},t);this._transform=(n,a,i)=>{r.addQuad(n,i)},this._flush=n=>{r.end(n)}}import(t){return t.on("data",r=>{this.write(r)}),t.on("end",()=>{this.end()}),t.on("error",r=>{this.emit("error",r)}),t.on("prefix",(r,n)=>{this._writer.addPrefix(r,n)}),this}}const QG={Lexer:TE,Parser:R0,Writer:zh,Store:yn,StoreFactory:Y6,EntityIndex:LE,StreamParser:J6,StreamWriter:ej,Util:q6,Reasoner:X6,DataFactory:Ai,Term:ai,NamedNode:T0,Literal:Nu,BlankNode:RE,Variable:AE,DefaultGraph:IE,Quad:Uu,Triple:Uu,termFromId:js,termToId:Io},XG=Object.freeze(Object.defineProperty({__proto__:null,BlankNode:RE,DataFactory:Ai,DefaultGraph:IE,EntityIndex:LE,Lexer:TE,Literal:Nu,NamedNode:T0,Parser:R0,Quad:Uu,Reasoner:X6,Store:yn,StoreFactory:Y6,StreamParser:J6,StreamWriter:ej,Term:ai,Triple:Uu,Util:q6,Variable:AE,Writer:zh,default:QG,getRulesFromDataset:Q6,termFromId:js,termToId:Io},Symbol.toStringTag,{value:"Module"}));let IA=0;class zr{constructor(t){Ye(this,"_exec");Ye(this,"index");this._exec=t,this.index=IA,IA+=1}asMulti(){return new Gn((t,r,n)=>this.execute(t,n))}and(...t){return new zr((r,n,a)=>{const i=this.execute(r,a),o=t.map(s=>s.execute(r,a));return[i,...o]})}orM(...t){return new Gn((r,n,a)=>[this,...t].flatMap(o=>{try{return[o.execute(r,a)]}catch{return[]}}))}or(...t){return new zr((r,n,a)=>{try{return this.execute(r,a)}catch{for(let o=0;o<t.length;o++)try{return t[o].execute(r,a)}catch{}}throw"nope"})}map(t){return new zr((r,n,a)=>{const i=this.execute(r,a);return t(i)})}then(t){return new zr((r,n,a)=>{const i=this.execute(r,a);return t.execute(i,a)})}execute(t,r=[]){return r[this.index]||(r[this.index]={}),this._exec(t,r[this.index],r)}}class Gn extends zr{one(t){return new zr((r,n,a)=>this.execute(r,a)[0]||t)}expectOne(){return new zr((t,r,n)=>{const a=this.execute(t,n);if(a.length<1)throw"Nope";return a[0]})}thenAll(t){return new Gn((r,n,a)=>this.execute(r,a).flatMap(o=>{try{return[t.execute(o,a)]}catch{return[]}}))}thenSome(t){return this.thenAll(t)}thenFlat(t){return new Gn((r,n,a)=>this.execute(r,a).flatMap(o=>t.execute(o,a)))}mapAll(t){return new Gn((r,n,a)=>this.execute(r,a).map(t))}orAll(...t){return new Gn((r,n,a)=>{const i=[];try{i.push(...this.execute(r,a))}catch{}for(let o=0;o<t.length;o++)try{i.push(...t[o].execute(r,a))}catch{}return i})}filter(t){return new Gn((r,n,a)=>this.execute(r,a).filter(t))}reduce(t,r){return new zr((n,a,i)=>this.and(r).map(([s,u])=>s.reduce((l,f)=>t.execute([f,l],i),u)).execute(n,i))}}function bi(e){return new Gn(({quads:t,id:r})=>t.filter(a=>a.subject.equals(r)&&(!e||a.predicate.equals(e))).map(a=>({quads:t,id:a.object})))}function Pg(e){return new Gn(({quads:t,id:r})=>t.filter(a=>a.object.equals(r)&&(!e||a.predicate.equals(e))).map(a=>({quads:t,id:a.subject})))}new zr(({id:e,quads:t})=>({id:e.subject,quads:t}));new zr(({id:e,quads:t})=>({id:e.predicate,quads:t}));new zr(({id:e,quads:t})=>({id:e.object,quads:t}));function JG(){return new zr(e=>e)}var Kl={},Cg={},OA;function eW(){return OA||(OA=1,Cg.__esModule=!0),Cg}var Lg={},PA;function tW(){return PA||(PA=1,Lg.__esModule=!0),Lg}var Dg={},CA;function rW(){return CA||(CA=1,Dg.__esModule=!0),Dg}var Ng={},LA;function nW(){return LA||(LA=1,Ng.__esModule=!0),Ng}var Mg={},DA;function iW(){return DA||(DA=1,function(e){e.__esModule=!0,e.RelationType=void 0,function(t){t.Relation="https://w3id.org/tree#Relation",t.Substring="https://w3id.org/tree#SubstringRelation",t.Prefix="https://w3id.org/tree#PrefixRelation",t.Suffix="https://w3id.org/tree#SuffixRelation",t.GreaterThan="https://w3id.org/tree#GreaterThanRelation",t.GreaterThanOrEqualTo="https://w3id.org/tree#GreaterThanOrEqualToRelation",t.LessThan="https://w3id.org/tree#LessThanRelation",t.LessThanOrEqualTo="https://w3id.org/tree#LessThanOrEqualToRelation",t.EqualThan="https://w3id.org/tree#EqualThanRelation",t.GeospatiallyContains="https://w3id.org/tree#GeospatiallyContainsRelation"}(e.RelationType||(e.RelationType={}))}(Mg)),Mg}var hs={},Mm={exports:{}},aW=Mm.exports,NA;function oW(){return NA||(NA=1,function(e){(function(t,r){e.exports?e.exports=r():t.log=r()})(aW,function(){var t=function(){},r="undefined",n=typeof window!==r&&typeof window.navigator!==r&&/Trident\/|MSIE /.test(window.navigator.userAgent),a=["trace","debug","info","warn","error"],i={},o=null;function s(v,b){var m=v[b];if(typeof m.bind=="function")return m.bind(v);try{return Function.prototype.bind.call(m,v)}catch{return function(){return Function.prototype.apply.apply(m,[v,arguments])}}}function u(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function l(v){return v==="debug"&&(v="log"),typeof console===r?!1:v==="trace"&&n?u:console[v]!==void 0?s(console,v):console.log!==void 0?s(console,"log"):t}function f(){for(var v=this.getLevel(),b=0;b<a.length;b++){var m=a[b];this[m]=b<v?t:this.methodFactory(m,v,this.name)}if(this.log=this.debug,typeof console===r&&v<this.levels.SILENT)return"No console available for logging"}function d(v){return function(){typeof console!==r&&(f.call(this),this[v].apply(this,arguments))}}function c(v,b,m){return l(v)||d.apply(this,arguments)}function p(v,b){var m=this,y,g,S,T="loglevel";typeof v=="string"?T+=":"+v:typeof v=="symbol"&&(T=void 0);function I(j){var O=(a[j]||"silent").toUpperCase();if(!(typeof window===r||!T)){try{window.localStorage[T]=O;return}catch{}try{window.document.cookie=encodeURIComponent(T)+"="+O+";"}catch{}}}function C(){var j;if(!(typeof window===r||!T)){try{j=window.localStorage[T]}catch{}if(typeof j===r)try{var O=window.document.cookie,q=encodeURIComponent(T),Q=O.indexOf(q+"=");Q!==-1&&(j=/^([^;]+)/.exec(O.slice(Q+q.length+1))[1])}catch{}return m.levels[j]===void 0&&(j=void 0),j}}function B(){if(!(typeof window===r||!T)){try{window.localStorage.removeItem(T)}catch{}try{window.document.cookie=encodeURIComponent(T)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}function D(j){var O=j;if(typeof O=="string"&&m.levels[O.toUpperCase()]!==void 0&&(O=m.levels[O.toUpperCase()]),typeof O=="number"&&O>=0&&O<=m.levels.SILENT)return O;throw new TypeError("log.setLevel() called with invalid level: "+j)}m.name=v,m.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},m.methodFactory=b||c,m.getLevel=function(){return S??g??y},m.setLevel=function(j,O){return S=D(j),O!==!1&&I(S),f.call(m)},m.setDefaultLevel=function(j){g=D(j),C()||m.setLevel(j,!1)},m.resetLevel=function(){S=null,B(),f.call(m)},m.enableAll=function(j){m.setLevel(m.levels.TRACE,j)},m.disableAll=function(j){m.setLevel(m.levels.SILENT,j)},m.rebuild=function(){if(o!==m&&(y=D(o.getLevel())),f.call(m),o===m)for(var j in i)i[j].rebuild()},y=D(o?o.getLevel():"WARN");var M=C();M!=null&&(S=D(M)),f.call(m)}o=new p,o.getLogger=function(b){if(typeof b!="symbol"&&typeof b!="string"||b==="")throw new TypeError("You must supply a name when creating a logger.");var m=i[b];return m||(m=i[b]=new p(b,o.methodFactory)),m};var _=typeof window!==r?window.log:void 0;return o.noConflict=function(){return typeof window!==r&&window.log===o&&(window.log=_),o},o.getLoggers=function(){return i},o.default=o,o})}(Mm)),Mm.exports}var km={exports:{}},sW=km.exports,MA;function uW(){return MA||(MA=1,function(e){(function(t,r){e.exports?e.exports=r():t.prefix=r(t)})(sW,function(t){var r=function(f){for(var d=1,c=arguments.length,p;d<c;d++)for(p in arguments[d])Object.prototype.hasOwnProperty.call(arguments[d],p)&&(f[p]=arguments[d][p]);return f},n={template:"[%t] %l:",levelFormatter:function(f){return f.toUpperCase()},nameFormatter:function(f){return f||"root"},timestampFormatter:function(f){return f.toTimeString().replace(/.*(\d{2}:\d{2}:\d{2}).*/,"$1")},format:void 0},a,i={},o=function(f){if(!f||!f.getLogger)throw new TypeError("Argument is not a root logger");a=f},s=function(f,d){if(!f||!f.setLevel)throw new TypeError("Argument is not a logger");var c=f.methodFactory,p=f.name||"",_=i[p]||i[""]||n;function v(b,m,y){var g=c(b,m,y),S=i[y]||i[""],T=S.template.indexOf("%t")!==-1,I=S.template.indexOf("%l")!==-1,C=S.template.indexOf("%n")!==-1;return function(){for(var B="",D=arguments.length,M=Array(D),j=0;j<D;j++)M[j]=arguments[j];if(p||!i[y]){var O=S.timestampFormatter(new Date),q=S.levelFormatter(b),Q=S.nameFormatter(y);S.format?B+=S.format(q,Q,O):(B+=S.template,T&&(B=B.replace(/%t/,O)),I&&(B=B.replace(/%l/,q)),C&&(B=B.replace(/%n/,Q))),M.length&&typeof M[0]=="string"?M[0]=B+" "+M[0]:M.unshift(B)}g.apply(void 0,M)}}return i[p]||(f.methodFactory=v),d=d||{},d.template&&(d.format=void 0),i[p]=r({},_,d),f.setLevel(f.getLevel()),a||f.warn("It is necessary to call the function reg() of loglevel-plugin-prefix before calling apply. From the next release, it will throw an error. See more: https://github.com/kutuluk/loglevel-plugin-prefix/blob/master/README.md"),f},u={reg:o,apply:s},l;return t&&(l=t.prefix,u.noConflict=function(){return t.prefix===u&&(t.prefix=l),u}),u})}(km)),km.exports}var kA;function lW(){if(kA)return hs;kA=1,hs.__esModule=!0,hs.getLogger=hs.LoggerBrowser=void 0;var e=oW(),t=uW(),r=function(){function i(o,s){var u=typeof o=="string"?o:o.constructor.name;s=s&&n(s)?s:"info",e.setDefaultLevel("info"),s&&n(s)&&e.setLevel(s),t.reg(e),t.apply(e,{template:"%t [%n] %l:",levelFormatter:function(l){return l},nameFormatter:function(l){return l||"global"},timestampFormatter:function(l){return l.toISOString()}}),this.logger=e.getLogger(u)}return i.prototype.error=function(o){this.logger.error(o)},i.prototype.warn=function(o){this.logger.warn(o)},i.prototype.info=function(o){this.logger.info(o)},i.prototype.debug=function(o){this.logger.debug(o)},i.prototype.trace=function(o){this.logger.trace(o)},i}();hs.LoggerBrowser=r;function n(i){return i=i.toUpperCase(),Object.keys(e.levels).includes(i)}var a=function(i){return new r(i,"info")};return hs.getLogger=a,hs}var kt={},Zl={},Yl={},FA;function tj(){if(FA)return Yl;FA=1,Object.defineProperty(Yl,"__esModule",{value:!0}),Yl.BlankNode=void 0;class e{constructor(r){this.termType="BlankNode",this.value=r}equals(r){return!!r&&r.termType==="BlankNode"&&r.value===this.value}}return Yl.BlankNode=e,Yl}var Ql={},Xl={},jA;function rj(){if(jA)return Xl;jA=1,Object.defineProperty(Xl,"__esModule",{value:!0}),Xl.DefaultGraph=void 0;class e{constructor(){this.termType="DefaultGraph",this.value=""}equals(r){return!!r&&r.termType==="DefaultGraph"}}return Xl.DefaultGraph=e,e.INSTANCE=new e,Xl}var Jl={},ef={},BA;function DE(){if(BA)return ef;BA=1,Object.defineProperty(ef,"__esModule",{value:!0}),ef.NamedNode=void 0;class e{constructor(r){this.termType="NamedNode",this.value=r}equals(r){return!!r&&r.termType==="NamedNode"&&r.value===this.value}}return ef.NamedNode=e,ef}var qA;function nj(){if(qA)return Jl;qA=1,Object.defineProperty(Jl,"__esModule",{value:!0}),Jl.Literal=void 0;const e=DE();class t{constructor(n,a){this.termType="Literal",this.value=n,typeof a=="string"?(this.language=a,this.datatype=t.RDF_LANGUAGE_STRING):a?(this.language="",this.datatype=a):(this.language="",this.datatype=t.XSD_STRING)}equals(n){return!!n&&n.termType==="Literal"&&n.value===this.value&&n.language===this.language&&this.datatype.equals(n.datatype)}}return Jl.Literal=t,t.RDF_LANGUAGE_STRING=new e.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.XSD_STRING=new e.NamedNode("http://www.w3.org/2001/XMLSchema#string"),Jl}var tf={},$A;function ij(){if($A)return tf;$A=1,Object.defineProperty(tf,"__esModule",{value:!0}),tf.Quad=void 0;class e{constructor(r,n,a,i){this.termType="Quad",this.value="",this.subject=r,this.predicate=n,this.object=a,this.graph=i}equals(r){return!!r&&(r.termType==="Quad"||!r.termType)&&this.subject.equals(r.subject)&&this.predicate.equals(r.predicate)&&this.object.equals(r.object)&&this.graph.equals(r.graph)}}return tf.Quad=e,tf}var rf={},UA;function aj(){if(UA)return rf;UA=1,Object.defineProperty(rf,"__esModule",{value:!0}),rf.Variable=void 0;class e{constructor(r){this.termType="Variable",this.value=r}equals(r){return!!r&&r.termType==="Variable"&&r.value===this.value}}return rf.Variable=e,rf}var HA;function fW(){if(HA)return Ql;HA=1,Object.defineProperty(Ql,"__esModule",{value:!0}),Ql.DataFactory=void 0;const e=tj(),t=rj(),r=nj(),n=DE(),a=ij(),i=aj();let o=0;class s{constructor(l){this.blankNodeCounter=0,l=l||{},this.blankNodePrefix=l.blankNodePrefix||`df_${o++}_`}namedNode(l){return new n.NamedNode(l)}blankNode(l){return new e.BlankNode(l||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(l,f){return new r.Literal(l,f)}variable(l){return new i.Variable(l)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(l,f,d,c){return new a.Quad(l,f,d,c||this.defaultGraph())}fromTerm(l){switch(l.termType){case"NamedNode":return this.namedNode(l.value);case"BlankNode":return this.blankNode(l.value);case"Literal":return l.language?this.literal(l.value,l.language):l.datatype.equals(r.Literal.XSD_STRING)?this.literal(l.value):this.literal(l.value,this.fromTerm(l.datatype));case"Variable":return this.variable(l.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(l.subject),this.fromTerm(l.predicate),this.fromTerm(l.object),this.fromTerm(l.graph))}}fromQuad(l){return this.fromTerm(l)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return Ql.DataFactory=s,Ql}var VA;function en(){return VA||(VA=1,function(e){var t=Zl.__createBinding||(Object.create?function(n,a,i,o){o===void 0&&(o=i);var s=Object.getOwnPropertyDescriptor(a,i);(!s||("get"in s?!a.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,o,s)}:function(n,a,i,o){o===void 0&&(o=i),n[o]=a[i]}),r=Zl.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(tj(),e),r(fW(),e),r(rj(),e),r(nj(),e),r(DE(),e),r(ij(),e),r(aj(),e)}(Zl)),Zl}var zA;function cW(){if(zA)return kt;zA=1;var e=kt.__spreadArray||function(s,u,l){if(l||arguments.length===2)for(var f=0,d=u.length,c;f<d;f++)(c||!(f in u))&&(c||(c=Array.prototype.slice.call(u,0,f)),c[f]=u[f]);return s.concat(c||Array.prototype.slice.call(u))};kt.__esModule=!0,kt.EX=kt.SHACL=kt.VOID=kt.PPLAN=kt.PROV=kt.SDS=kt.LDES=kt.TREE=kt.XSD=kt.RDFS=kt.RDF=kt.FOAF=kt.DC=kt.createUriAndTermNamespace=kt.createTermNamespace=kt.createUriNamespace=kt.createNamespace=void 0;var t=en(),r=new t.DataFactory;function n(s,u){for(var l=[],f=2;f<arguments.length;f++)l[f-2]=arguments[f];var d={};d.namespace=u(s),d.custom=function(v){return u(s+v)};for(var c=0,p=l;c<p.length;c++){var _=p[c];d[_]=u("".concat(s).concat(_))}return d}kt.createNamespace=n;function a(s){for(var u=[],l=1;l<arguments.length;l++)u[l-1]=arguments[l];return n.apply(void 0,e([s,function(f){return f}],u,!1))}kt.createUriNamespace=a;function i(s){for(var u=[],l=1;l<arguments.length;l++)u[l-1]=arguments[l];return n.apply(void 0,e([s,r.namedNode],u,!1))}kt.createTermNamespace=i;function o(s){for(var u=[],l=1;l<arguments.length;l++)u[l-1]=arguments[l];return Object.assign(a.apply(void 0,e([s],u,!1)),{terms:i.apply(void 0,e([s],u,!1))})}return kt.createUriAndTermNamespace=o,kt.DC=o("http://purl.org/dc/terms/","description","modified","title"),kt.FOAF=o("http://xmlns.com/foaf/0.1/","Agent"),kt.RDF=o("http://www.w3.org/1999/02/22-rdf-syntax-ns#","type","Class","Property","nil","rest","first"),kt.RDFS=o("http://www.w3.org/2000/01/rdf-schema#","label","comment","domain","range","isDefinedBy","Class","subClassOf"),kt.XSD=o("http://www.w3.org/2001/XMLSchema#","dateTime","integer","string"),kt.TREE=o("https://w3id.org/tree#","Collection","Relation","Node","Member","member","view","value","relation","PrefixRelation","SubstringRelation","SuffixRelation","GreaterThanRelation","GreaterThanOrEqualToRelation","LessThanRelation","LessThanOrEqualToRelation","EqualToRelation","GeospatiallyContainsRelation","path","node","shape","search","ConditionalImport","import","importStream","remainingItems","zoom","latitudeTile","longitudeTile"),kt.LDES=o("https://w3id.org/ldes#","EventStream","timestampPath","versionOfPath","DurationAgoPolicy","Bucketization","retentionPolicy","amount","bucket","bucketProperty","bucketType","LatestVersionSubset","BucketizeStrategy"),kt.SDS=o("https://w3id.org/sds#","Member","Record","ImmutableMember","shape","carries","dataset","Stream","payload","bucket","relationType","relationBucket","relationValue","relationPath","stream","relation"),kt.PROV=o("http://www.w3.org/ns/prov#","used","startedAtTime","wasGeneratedBy"),kt.PPLAN=o("http://purl.org/net/p-plan#","Activity"),kt.VOID=o("http://rdfs.org/ns/void#","Dataset","DatasetDescription","Linkset","TechnicalFeature","feature","sparqlEndpoint","dataDump","rootResource","exampleResource","uriLookupEndpoint","openSearchDescription","uriSpace","uriRegexPattern","vocabulary","subset","propertyPartition","triples","entities","class","classes","classPartition","property","properties","distinctSubjects","distinctObjects","documents","target","subjectsTarget","objectsTarget","linkPredicate","inDataset"),kt.SHACL=o("http://www.w3.org/ns/shacl#","NodeShape","targetClass","property","path","name","alternativePath","datatype","nodeKind","pattern","flags","minExclusive","minInclusive","maxExclusive","maxInclusive","not","and","or","xone","in","hasValue","defaultValue","minCount","maxCount"),kt.EX=o("http://example.org/ns#"),kt}var GA;function oj(){return GA||(GA=1,function(e){var t=Kl.__createBinding||(Object.create?function(a,i,o,s){s===void 0&&(s=o),Object.defineProperty(a,s,{enumerable:!0,get:function(){return i[o]}})}:function(a,i,o,s){s===void 0&&(s=o),a[s]=i[o]}),r=Kl.__exportStar||function(a,i){for(var o in a)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,a,o)};e.__esModule=!0,e.getLogger=e.Logger=e.LoggerBrowser=void 0,r(eW(),e),r(tW(),e),r(rW(),e),r(nW(),e),r(iW(),e);var n=lW();t(e,n,"LoggerBrowser"),t(e,n,"LoggerBrowser","Logger"),t(e,n,"getLogger"),r(cW(),e)}(Kl)),Kl}var mt=oj(),nf={},af={},WA;function sj(){if(WA)return af;WA=1,Object.defineProperty(af,"__esModule",{value:!0}),af.BlankNode=void 0;let e=class{constructor(r){this.termType="BlankNode",this.value=r}equals(r){return!!r&&r.termType==="BlankNode"&&r.value===this.value}};return af.BlankNode=e,af}var of={},sf={},KA;function uj(){if(KA)return sf;KA=1,Object.defineProperty(sf,"__esModule",{value:!0}),sf.DefaultGraph=void 0;let e=class{constructor(){this.termType="DefaultGraph",this.value=""}equals(r){return!!r&&r.termType==="DefaultGraph"}};return sf.DefaultGraph=e,e.INSTANCE=new e,sf}var uf={},lf={},ZA;function NE(){if(ZA)return lf;ZA=1,Object.defineProperty(lf,"__esModule",{value:!0}),lf.NamedNode=void 0;let e=class{constructor(r){this.termType="NamedNode",this.value=r}equals(r){return!!r&&r.termType==="NamedNode"&&r.value===this.value}};return lf.NamedNode=e,lf}var YA;function lj(){if(YA)return uf;YA=1,Object.defineProperty(uf,"__esModule",{value:!0}),uf.Literal=void 0;const e=NE();let t=class Zd{constructor(n,a){this.termType="Literal",this.value=n,typeof a=="string"?(this.language=a,this.datatype=Zd.RDF_LANGUAGE_STRING,this.direction=""):a?"termType"in a?(this.language="",this.datatype=a,this.direction=""):(this.language=a.language,this.datatype=a.direction?Zd.RDF_DIRECTIONAL_LANGUAGE_STRING:Zd.RDF_LANGUAGE_STRING,this.direction=a.direction||""):(this.language="",this.datatype=Zd.XSD_STRING,this.direction="")}equals(n){return!!n&&n.termType==="Literal"&&n.value===this.value&&n.language===this.language&&(n.direction===this.direction||!n.direction&&this.direction==="")&&this.datatype.equals(n.datatype)}};return uf.Literal=t,t.RDF_LANGUAGE_STRING=new e.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.RDF_DIRECTIONAL_LANGUAGE_STRING=new e.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#dirLangString"),t.XSD_STRING=new e.NamedNode("http://www.w3.org/2001/XMLSchema#string"),uf}var ff={},QA;function fj(){if(QA)return ff;QA=1,Object.defineProperty(ff,"__esModule",{value:!0}),ff.Quad=void 0;let e=class{constructor(r,n,a,i){this.termType="Quad",this.value="",this.subject=r,this.predicate=n,this.object=a,this.graph=i}equals(r){return!!r&&(r.termType==="Quad"||!r.termType)&&this.subject.equals(r.subject)&&this.predicate.equals(r.predicate)&&this.object.equals(r.object)&&this.graph.equals(r.graph)}};return ff.Quad=e,ff}var cf={},XA;function cj(){if(XA)return cf;XA=1,Object.defineProperty(cf,"__esModule",{value:!0}),cf.Variable=void 0;let e=class{constructor(r){this.termType="Variable",this.value=r}equals(r){return!!r&&r.termType==="Variable"&&r.value===this.value}};return cf.Variable=e,cf}var JA;function dW(){if(JA)return of;JA=1,Object.defineProperty(of,"__esModule",{value:!0}),of.DataFactory=void 0;const e=sj(),t=uj(),r=lj(),n=NE(),a=fj(),i=cj();let o=0,s=class{constructor(l){this.blankNodeCounter=0,l=l||{},this.blankNodePrefix=l.blankNodePrefix||`df_${o++}_`}namedNode(l){return new n.NamedNode(l)}blankNode(l){return new e.BlankNode(l||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(l,f){return new r.Literal(l,f)}variable(l){return new i.Variable(l)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(l,f,d,c){return new a.Quad(l,f,d,c||this.defaultGraph())}fromTerm(l){switch(l.termType){case"NamedNode":return this.namedNode(l.value);case"BlankNode":return this.blankNode(l.value);case"Literal":return l.language?this.literal(l.value,l.language):l.datatype.equals(r.Literal.XSD_STRING)?this.literal(l.value):this.literal(l.value,this.fromTerm(l.datatype));case"Variable":return this.variable(l.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(l.subject),this.fromTerm(l.predicate),this.fromTerm(l.object),this.fromTerm(l.graph))}}fromQuad(l){return this.fromTerm(l)}resetBlankNodeCounter(){this.blankNodeCounter=0}};return of.DataFactory=s,of}var e2;function hW(){return e2||(e2=1,function(e){var t=nf.__createBinding||(Object.create?function(n,a,i,o){o===void 0&&(o=i);var s=Object.getOwnPropertyDescriptor(a,i);(!s||("get"in s?!a.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,o,s)}:function(n,a,i,o){o===void 0&&(o=i),n[o]=a[i]}),r=nf.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(sj(),e),r(dW(),e),r(uj(),e),r(lj(),e),r(NE(),e),r(fj(),e),r(cj(),e)}(nf)),nf}var aS=hW();mt.createTermNamespace("http://www.w3.org/2000/01/rdf-schema#","subClassOf");const dh=mt.createTermNamespace("http://www.w3.org/ns/shacl#","Shape","NodeShape","PropertyShape","targetNode","targetClass","targetSubjectsOf","targetObjectsOf","property","path","class","name","description","defaultValue","alternativePath","zeroOrMorePath","oneOrMorePath","zeroOrOnePath","inversePath","minCount","maxCount","datatype"),df=mt.createUriAndTermNamespace("https://w3id.org/rdf-lens/ontology#","CBD","PathLens","Context","TypedExtract","EnvVariable","envKey","envDefault","datatype");var pW={};const{literal:mW,quad:gre}=new aS.DataFactory,yW=bi(mt.RDF.terms.first).expectOne().and(bi(mt.RDF.terms.rest).expectOne()),C0=new zr((e,t,r)=>{if(e.id.equals(mt.RDF.terms.nil))return[];const[n,a]=yW.execute(e,r),i=C0.execute(a,r);return i.unshift(n.id),i}),gW=new zr((e,t,r)=>{const n=C0.execute(e,r),a=n.map(o=>ME.execute({id:o,quads:e.quads}));if(a.length===0)return new Gn(o=>[o]);let i=a[0];for(let o=1;o<n.length;o++)i=i.thenFlat(a[o]);return i}),_W=new zr((e,t,r)=>{const a=bi(dh.alternativePath).one().then(C0).execute(e,r).map(i=>ME.execute({id:i,quads:e.quads},r));return a[0].orAll(...a.slice(1))}),bW=SW(mt.XSD.terms.custom("iri")).map(bi),vW=bi(dh.inversePath).one().then(new zr((e,t,r)=>{const n=C0.execute(e,r);if(n.length===0)return new Gn(i=>[i]);n.reverse();let a=Pg(n[0]);for(let i=1;i<n.length;i++)a=a.thenFlat(Pg(n[i]));return a}).or(new zr(e=>Pg(e.id))));function kg(e,t,r){return bi(e).one().then(new zr((n,a,i)=>ME.execute(n,i))).map(n=>new Gn((a,i,o)=>{const s=[];let u=[a],l=0;for(t==0&&s.push(a);u.length>0;){l+=1;const f=u.slice();u=[];for(const d of f)try{const c=n.execute(d,o);console.log("adding ",c.length,"news"),u.push(...c),l>=t&&(!r||l<=r)&&s.push(d)}catch(c){console.log(c),l>=t&&(!r||l<=r)&&s.push(d);break}}return s}))}const ME=gW.or(_W,vW,kg(dh.zeroOrMorePath,0),kg(dh.zeroOrMorePath,1),kg(dh.zeroOrOnePath,0,1),bW);function dj(e,t){return e.equals(mt.XSD.terms.integer)||e.equals(mt.XSD.terms.custom("float"))||e.equals(mt.XSD.terms.custom("double"))||e.equals(mt.XSD.terms.custom("decimal"))?+t.value:e.equals(mt.XSD.terms.string)?t.value:e.equals(mt.XSD.terms.dateTime)?new Date(t.value):e.equals(mt.XSD.terms.custom("boolean"))?t.value==="true":e.equals(mt.XSD.terms.custom("iri"))?new aS.NamedNode(t.value):e.equals(mt.XSD.terms.custom("anyURI"))?new aS.NamedNode(t.value):t}function wW(e){const t=bi(mt.RDF.terms.type).thenSome(new zr(({id:i})=>{if(!i.equals(df.terms.EnvVariable))throw"expected type "+df.EnvVariable;return{checked:!0}})).expectOne(),r=bi(df.terms.envKey).one().map(({id:i})=>({key:i.value})),n=bi(df.terms.envDefault).one(void 0).map(i=>({defaultValue:i==null?void 0:i.id.value})),a=bi(df.terms.datatype).one(void 0).map(i=>({dt:i==null?void 0:i.id}));return t.and(r,n,a).map(([i,{key:o},{defaultValue:s},{dt:u}])=>{const l=pW[o]||s,f=e||u||mt.XSD.terms.custom("literal");if(l)return dj(f,mW(l));throw"Nothing set for ENV "+o+". No default was set either!"})}function SW(e){return wW(e).or(JG().map(t=>dj(e,t.id)))}new Gn(({id:e,quads:t})=>{const r=new Set,n=[e],a=[];let i=n.pop();for(;i;){const o=t.filter(s=>s.subject.equals(i));a.push(...o);for(const s of o){const u=s.object;u.termType==="BlankNode"&&(r.has(u.value)||(r.add(u.value),n.push(u)))}i=n.pop()}return a});var hf={},pf={},mf={},Fg={},yf={},t2;function EW(){if(t2)return yf;t2=1,Object.defineProperty(yf,"__esModule",{value:!0}),yf.LinkedList=void 0;class e{constructor(){this._length=0,this._head=null,this._tail=null}get length(){return this._length}get first(){var r;return(r=this._head)===null||r===void 0?void 0:r.value}get last(){var r;return(r=this._tail)===null||r===void 0?void 0:r.value}get empty(){return this._head===null}push(r){const n={value:r,next:null};this._tail===null?this._head=this._tail=n:this._tail.next=this._tail=n,this._length++}shift(){if(this._head===null)return;const{value:r,next:n}=this._head;return this._head=n,n===null&&(this._tail=null),this._length--,r}clear(){this._length=0,this._head=this._tail=null}}return yf.LinkedList=e,yf}var gf={},r2;function xW(){if(r2)return gf;r2=1,Object.defineProperty(gf,"__esModule",{value:!0}),gf.createTaskScheduler=void 0;const e=Promise.resolve(void 0);function t(){const r=typeof queueMicrotask=="function"?queueMicrotask:o=>e.then(o),n=typeof setImmediate=="function"?setImmediate:o=>setTimeout(o,0);let a=0,i=null;return o=>{i!==null?i.push(o):++a<100?r(o):(i=[o],n(()=>{for(const s of i)r(s);i=null,a=0}))}}return gf.createTaskScheduler=t,gf}var n2;function hj(){return n2||(n2=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isIterator=e.isIterable=e.isSourceExpression=e.isPromise=e.isEventEmitter=e.isFunction=e.range=e.union=e.fromIterable=e.fromIterator=e.fromArray=e.single=e.empty=e.wrap=e.WrappingIterator=e.ClonedIterator=e.UnionIterator=e.MultiTransformIterator=e.SimpleTransformIterator=e.TransformIterator=e.BufferedIterator=e.MappingIterator=e.DESTINATION=e.identity=e.IntegerIterator=e.ArrayIterator=e.SingletonIterator=e.EmptyIterator=e.AsyncIterator=e.DESTROYED=e.ENDED=e.CLOSED=e.CLOSING=e.OPEN=e.INIT=e.setTaskScheduler=e.getTaskScheduler=e.scheduleTask=e.LinkedList=void 0;const t=Qn(),r=EW();Object.defineProperty(e,"LinkedList",{enumerable:!0,get:function(){return r.LinkedList}});let a=xW().createTaskScheduler();function i(w){a(w)}e.scheduleTask=i;function o(){return a}e.getTaskScheduler=o;function s(w){a=w}e.setTaskScheduler=s,e.INIT=1,e.OPEN=2,e.CLOSING=4,e.CLOSED=8,e.ENDED=16,e.DESTROYED=32;class u extends t.EventEmitter{constructor(x=e.OPEN){super(),this._readable=!1,this._state=x,this.on("newListener",l)}_changeState(x,k=!1){const U=x>this._state&&this._state<e.ENDED;return U&&(this._state=x,x===e.ENDED&&(k?a(()=>this.emit("end")):this.emit("end"))),U}read(){return null}forEach(x,k){this.on("data",ee(x,k))}close(){this._changeState(e.CLOSED)&&this._endAsync()}destroy(x){this.done||this._destroy(x,k=>{x=x||k,x&&this.emit("error",x),this._end(!0)})}_destroy(x,k){k()}_end(x=!1){this._changeState(x?e.DESTROYED:e.ENDED)&&(this._readable=!1,this.removeAllListeners("readable"),this.removeAllListeners("data"),this.removeAllListeners("end"))}_endAsync(){a(()=>this._end())}get readable(){return this._readable}set readable(x){x=!!x&&!this.done,this._readable!==x&&(this._readable=x,x&&a(()=>this.emit("readable")))}get closed(){return this._state>=e.CLOSING}get ended(){return this._state===e.ENDED}get destroyed(){return this._state===e.DESTROYED}get done(){return this._state>=e.ENDED}toString(){const x=this._toStringDetails();return`[${this.constructor.name}${x?` ${x}`:""}]`}_toStringDetails(){return""}toArray(x){const k=[],U=typeof(x==null?void 0:x.limit)=="number"?x.limit:1/0;return this.ended||U<=0?Promise.resolve(k):new Promise((re,fe)=>{const ve=()=>re(k),ce=Ie=>{k.push(Ie),k.length>=U&&(this.removeListener("error",fe),this.removeListener("data",ce),this.removeListener("end",ve),re(k))};this.on("error",fe),this.on("data",ce),this.on("end",ve)})}getProperty(x,k){const U=this._properties;if(!k)return U&&U[x];if(U&&x in U)a(()=>k(U[x]));else{let re;(re=this._propertyCallbacks)||(this._propertyCallbacks=re=Object.create(null)),x in re?re[x].push(k):re[x]=[k]}}setProperty(x,k){const U=this._properties||(this._properties=Object.create(null));U[x]=k;const re=this._propertyCallbacks||{},fe=re[x];if(fe){delete re[x],a(()=>{for(const ve of fe)ve(k)});for(x in re)return;delete this._propertyCallbacks}}getProperties(){const x=this._properties,k={};for(const U in x)k[U]=x[U];return k}setProperties(x){for(const k in x)this.setProperty(k,x[k])}copyProperties(x,k){for(const U of k)x.getProperty(U,re=>this.setProperty(U,re))}transform(x){return new M(this,x)}map(x,k){return new m(this,ee(x,k))}filter(x,k){return this.map(function(U){return x.call(k||this,U)?U:null})}uniq(x=b){const k=new Set;return this.filter(function(U){const re=x.call(this,U);return k.has(re)?!1:(k.add(re),!0)})}prepend(x){return this.transform({prepend:x})}append(x){return this.transform({append:x})}surround(x,k){return this.transform({prepend:x,append:k})}skip(x){return this.map(k=>x-- >0?null:k)}take(x){return this.transform({limit:x})}range(x,k){return this.transform({offset:x,limit:Math.max(k-x+1,0)})}clone(){return new Q(this)}[Symbol.asyncIterator](){const x=this;let k=null,U=null,re=null;x.addListener("readable",fe),x.addListener("end",fe),x.addListener("error",ve);function fe(){if(k!==null)if(re!==null)ve(re);else if(x.done)k({done:!0,value:void 0}),k=U=null,ce();else{const Ie=x.read();Ie!==null&&(k({done:!1,value:Ie}),k=U=null)}}function ve(Ie){U!==null?(U(Ie),k=U=re=null,ce()):re===null&&(re=Ie)}function ce(){x.removeListener("readable",fe),x.removeListener("end",fe),x.removeListener("error",ve)}return{next(){return new Promise((Ie,be)=>{k=Ie,U=be,fe()})}}}}e.AsyncIterator=u;function l(w){w==="data"&&(this.removeListener("newListener",l),d(this,"readable",f),this.readable&&a(()=>f.call(this)))}function f(){let w;for(;this.listenerCount("data")!==0&&(w=this.read())!==null;)this.emit("data",w);this.listenerCount("data")===0&&!this.done&&(this.removeListener("readable",f),d(this,"newListener",l))}function d(w,x,k){w.listeners(x).includes(k)||w.on(x,k)}class c extends u{constructor(){super(),this._changeState(e.ENDED,!0)}}e.EmptyIterator=c;class p extends u{constructor(x){super(),this._item=x,x===null?this.close():this.readable=!0}read(){const x=this._item;return this._item=null,this.close(),x}_toStringDetails(){return this._item===null?"":`(${this._item})`}}e.SingletonIterator=p;class _ extends u{constructor(x=[],{autoStart:k=!0,preserve:U=!0}={}){super();const re=U||!Array.isArray(x)?[...x]:x;this._index=0,this._sourceStarted=k!==!1,this._truncateThreshold=U?-1:64,this._sourceStarted&&re.length===0?this.close():this._buffer=re,this.readable=!0}read(){this._sourceStarted||(this._sourceStarted=!0);let x=null;return this._buffer&&(this._index<this._buffer.length&&(x=this._buffer[this._index++]),this._index===this._buffer.length?(delete this._buffer,this.close()):this._index===this._truncateThreshold&&(this._buffer.splice(0,this._truncateThreshold),this._index=0)),x}_toStringDetails(){return`(${this._buffer?this._buffer.length-this._index:0})`}_destroy(x,k){delete this._buffer,k()}toArray(x={}){if(!this._buffer)return Promise.resolve([]);const{length:k}=this._buffer,U=this._index,re=typeof x.limit!="number"?k:U+x.limit,fe=this._buffer.slice(U,re);return this._index=re,re>=k&&this.close(),Promise.resolve(fe)}}e.ArrayIterator=_;class v extends u{constructor({start:x=0,step:k=1,end:U}={}){super(),Number.isFinite(x)&&(x=Math.trunc(x)),this._next=x,Number.isFinite(k)&&(k=Math.trunc(k)),this._step=k;const re=k>=0,fe=re?1/0:-1/0;Number.isFinite(U)?U=Math.trunc(U):U!==-fe&&(U=fe),this._last=U,!Number.isFinite(x)||(re?x>U:x<U)?this.close():this.readable=!0}read(){if(this.closed)return null;const x=this._next,k=this._step,U=this._last,re=this._next+=k;return(k>=0?re>U:re<U)&&this.close(),x}_toStringDetails(){return`(${this._next}...${this._last})`}}e.IntegerIterator=v;function b(w){return w}e.identity=b,e.DESTINATION=Symbol("destination");class m extends u{constructor(x,k=b,U={}){super(),this._map=k,this._source=y(x),this._destroySource=U.destroySource!==!1,x.done?this.close():(this._source[e.DESTINATION]=this,this._source.on("end",C),this._source.on("error",I),this._source.on("readable",T),this.readable=this._source.readable)}read(){if(!this.done){if(this._source.readable){let x,k;for(;(x=this._source.read())!==null;)if((k=this._map(x))!==null)return k}this.readable=!1,this._source.done&&this.close()}return null}_end(x){this._source.removeListener("end",C),this._source.removeListener("error",I),this._source.removeListener("readable",T),delete this._source[e.DESTINATION],this._destroySource&&this._source.destroy(),super._end(x)}}e.MappingIterator=m;function y(w,x=!1){if(!w||!P(w.read)||!P(w.on))throw new TypeError(`Invalid source: ${w}`);if(!x&&w[e.DESTINATION])throw new Error("The source already has a destination");return w}class g extends u{constructor({maxBufferSize:x=4,autoStart:k=!0}={}){super(e.INIT),this._buffer=new r.LinkedList,this._maxBufferSize=4,this._reading=!0,this._pushedCount=0,this.maxBufferSize=x,a(()=>this._init(k)),this._sourceStarted=k!==!1}get maxBufferSize(){return this._maxBufferSize}set maxBufferSize(x){x!==1/0&&(x=Number.isFinite(x)?Math.max(Math.trunc(x),1):4),this._maxBufferSize!==x&&(this._maxBufferSize=x,this._state===e.OPEN&&this._fillBuffer())}_init(x){let k=!1;this._reading=!0,this._begin(()=>{if(k)throw new Error("done callback called multiple times");k=!0,this._reading=!1,this._changeState(e.OPEN),x?this._fillBufferAsync():this.readable=!0})}_begin(x){x()}read(){if(this.done)return null;this._sourceStarted||(this._sourceStarted=!0);const x=this._buffer;let k;return x.empty?(k=null,this.readable=!1):k=x.shift(),!this._reading&&x.length<this._maxBufferSize&&(this.closed?x.empty&&this._endAsync():this._fillBufferAsync()),k}_read(x,k){k()}_push(x){this.done||(this._pushedCount++,this._buffer.push(x),this.readable=!0)}_fillBuffer(){let x;this._reading||(this.closed?this._completeClose():(x=Math.min(this._maxBufferSize-this._buffer.length,128))>0&&(this._pushedCount=0,this._reading=!0,this._read(x,()=>{if(!x)throw new Error("done callback called multiple times");x=0,this._reading=!1,this.closed?this._completeClose():this._pushedCount&&(this.readable=!0,this._buffer.length<this._maxBufferSize/2&&this._fillBufferAsync())})))}_fillBufferAsync(){this._reading||(this._reading=!0,a(()=>{this._reading=!1,this._fillBuffer()}))}close(){this._reading?this._changeState(e.CLOSING):this._completeClose()}_completeClose(){this._changeState(e.CLOSED)&&(this._reading=!0,this._flush(()=>{if(!this._reading)throw new Error("done callback called multiple times");this._reading=!1,this._buffer.empty&&this._endAsync()}))}_destroy(x,k){this._buffer.clear(),k()}_flush(x){x()}_toStringDetails(){const x=this._buffer;return`{${x.empty?"":`next: ${x.first}, `}buffer: ${x.length}}`}}e.BufferedIterator=g;class S extends g{constructor(x,k=x||{}){super(k),this._boundPush=U=>this._push(U),te(x)||(x=k.source),A(x)?this.source=x:x&&(this._createSource=$(x)?()=>x:x,this._sourceStarted&&this._loadSourceAsync()),this._optional=!!k.optional,this._destroySource=k.destroySource!==!1}get source(){return P(this._createSource)&&this._loadSourceAsync(),this._source}set source(x){const k=this._source=this._validateSource(x);k[e.DESTINATION]=this,this.done?this._destroySource&&k.destroy():k.done?this.close():(k.on("end",B),k.on("readable",D),k.on("error",I))}_loadSourceAsync(){P(this._createSource)&&(Promise.resolve(this._createSource()).then(x=>{delete this._createSource,this.source=x,this._fillBuffer()},x=>this.emit("error",x)),this._createSource=null)}_validateSource(x,k=!1){if(this._source||typeof this._createSource<"u")throw new Error("The source cannot be changed after it has been set");return y(x,k)}_read(x,k){const U=()=>{this._pushedCount<x&&!this.closed?a(()=>this._readAndTransform(U,k)):k()};this._readAndTransform(U,k)}_readAndTransform(x,k){let U;const re=this.source;!re||re.done||(U=re.read())===null?k():this._optional?this._optionalTransform(U,x):this._transform(U,x,this._boundPush)}_optionalTransform(x,k){const U=this._pushedCount;this._transform(x,()=>{U===this._pushedCount&&this._push(x),k()},this._boundPush)}_transform(x,k,U){U(x),k()}_closeWhenDone(){this.close()}_end(x){const k=this._source;k&&(k.removeListener("end",B),k.removeListener("error",I),k.removeListener("readable",D),delete k[e.DESTINATION],this._destroySource&&k.destroy()),super._end(x)}}e.TransformIterator=S;function T(){this[e.DESTINATION].readable=!0}function I(w){this[e.DESTINATION].emit("error",w)}function C(){this[e.DESTINATION].close()}function B(){this[e.DESTINATION]._closeWhenDone()}function D(){this[e.DESTINATION]._sourceStarted!==!1&&this[e.DESTINATION]._fillBuffer()}class M extends S{constructor(x,k){if(super(x,k),this._offset=0,this._limit=1/0,this._filter=U=>!0,k=k||(te(x)?null:x),k){const U=P(k)?k:k.transform,{limit:re,offset:fe,filter:ve,map:ce,prepend:Ie,append:be}=k;fe===1/0||re===-1/0?this._limit=0:(Number.isFinite(fe)&&(this._offset=Math.max(Math.trunc(fe),0)),Number.isFinite(re)&&(this._limit=Math.max(Math.trunc(re),0)),P(ve)&&(this._filter=ve),P(ce)&&(this._map=ce),this._transform=P(U)?U:null),Ie&&(this._prepender=A(Ie)?Ie:V(Ie)),be&&(this._appender=A(be)?be:V(be))}}_read(x,k){const U=()=>this._readAndTransformSimple(x,re,k);this._readAndTransformSimple(x,re,k);function re(){a(U)}}_readAndTransformSimple(x,k,U){let re;const{source:fe}=this;if(!fe||fe.done){U();return}for(this._limit===0&&this.close();!this.closed&&this._pushedCount<x&&(re=fe.read())!==null;){if(!this._filter(re)||this._offset!==0&&this._offset--)continue;const ve=typeof this._map>"u"?re:this._map(re);if(ve===null)this._optional&&this._push(re);else if(!P(this._transform))this._push(ve);else{this._optional?this._optionalTransform(ve,k):this._transform(ve,k,this._boundPush);return}--this._limit===0&&this.close()}U()}_begin(x){this._insert(this._prepender,x),delete this._prepender}_flush(x){this._insert(this._appender,x),delete this._appender}_insert(x,k){const U=fe=>this._push(fe);!x||x.done?k():(x.on("data",U),x.on("end",re));function re(){x.removeListener("data",U),x.removeListener("end",re),k()}}}e.SimpleTransformIterator=M;class j extends S{constructor(x,k){if(super(x,k),this._transformerQueue=[],k){const U=P(k)?k:k.multiTransform;U&&(this._createTransformer=U)}}_read(x,k){const U=this._transformerQueue,re=this._optional;let fe,ve;for(;(fe=U[0])&&fe.transformer.done;){re&&fe.item!==null&&(x--,this._push(fe.item)),U.shift();const{transformer:Ie}=fe;Ie.removeListener("end",D),Ie.removeListener("readable",D),Ie.removeListener("error",I)}const{source:ce}=this;for(;ce&&!ce.done&&U.length<this.maxBufferSize&&(ve=ce.read(),ve!==null);){const Ie=this._createTransformer(ve)||new c;Ie[e.DESTINATION]=this,Ie.on("end",D),Ie.on("readable",D),Ie.on("error",I),U.push({transformer:Ie,item:ve})}if(fe=U[0],fe){const{transformer:Ie}=fe;for(;x-- >0&&(ve=Ie.read())!==null;)this._push(ve),re&&(fe.item=null)}else ce&&ce.done&&this.close();k()}_createTransformer(x){return new p(x)}_closeWhenDone(){this._transformerQueue.length||this.close()}_end(x){if(super._end(x),this._destroySource)for(const k of this._transformerQueue)k.transformer.destroy()}}e.MultiTransformIterator=j;class O extends g{constructor(x,k={}){super(k),this._sources=[],this._currentSource=-1;const U=k.autoStart!==!1;if(A(x))x.on("error",re=>this.emit("error",re)),this._pending={loading:!1,sources:x},U&&this._loadSources();else if(Array.isArray(x)&&x.length>0)for(const re of x)this._addSource(re);else U&&this.close();this._destroySources=k.destroySources!==!1}_loadSources(){const x=this._pending.sources;this._pending.loading=!0,x.done?(delete this._pending,this.close()):(x.on("data",k=>{this._addSource(k),this._fillBufferAsync()}),x.on("end",()=>{delete this._pending,this._fillBuffer()}))}_addSource(x){$(x)&&(x=le(x)),x.done||(this._sources.push(x),x[e.DESTINATION]=this,x.on("error",I),x.on("readable",D),x.on("end",q))}_removeEmptySources(){this._sources=this._sources.filter((x,k)=>(x.done&&k<=this._currentSource&&this._currentSource--,!x.done)),this._fillBuffer()}_read(x,k){var U;((U=this._pending)===null||U===void 0?void 0:U.loading)===!1&&this._loadSources();let re=0,fe;for(;re!==(re=x);)for(let ve=0;ve<this._sources.length&&x>0;ve++)this._currentSource=(this._currentSource+1)%this._sources.length,(fe=this._sources[this._currentSource].read())!==null&&(x--,this._push(fe));!this._pending&&this._sources.length===0&&this.close(),k()}_end(x=!1){if(super._end(x),this._destroySources){for(const k of this._sources)k.destroy();this._pending&&(this._pending.sources.destroy(),delete this._pending)}}}e.UnionIterator=O;function q(){this[e.DESTINATION]._removeEmptySources()}class Q extends S{constructor(x){super(x,{autoStart:!1}),this._readPosition=0,this._reading=!1,x&&(this.readable=!0)}_init(){}close(){u.prototype.close.call(this)}get source(){return super.source}set source(x){const k=this._source=this._validateSource(x),U=k&&k[e.DESTINATION]||(k[e.DESTINATION]=new ie(k));this.done?this._destroySource&&k.destroy():U.endsAt(0)?this.close():(U.register(this),(k._sourceStarted===!1||U.readAt(0)!==null)&&(this.readable=!0));const re=this._propertyCallbacks;for(const fe in re){const ve=re[fe];for(const ce of ve)this._getSourceProperty(fe,ce)}}_validateSource(x,k=!1){const U=x&&x[e.DESTINATION];return super._validateSource(x,!U||U instanceof ie)}getProperty(x,k){const{source:U}=this,re=this._properties,fe=re&&x in re;if(!k)return fe?re&&re[x]:U&&U.getProperty(x);super.getProperty(x,k),U&&!fe&&this._getSourceProperty(x,k)}_getSourceProperty(x,k){this.source.getProperty(x,U=>{(!this._properties||!(x in this._properties))&&k(U)})}getProperties(){const x=this.source?this.source.getProperties():{},k=this._properties;for(const U in k)x[U]=k[U];return x}_toStringDetails(){return`{source: ${this.source?this.source.toString():"none"}}`}read(){this._sourceStarted||(this._sourceStarted=!0);const x=this.source;let k=null;if(!this.done&&x){const U=x[e.DESTINATION];(k=U.readAt(this._readPosition))!==null?this._readPosition++:this.readable=!1,U.endsAt(this._readPosition)&&this.close()}return k}_end(x){const k=this.source,U=k==null?void 0:k[e.DESTINATION];U&&U.unregister(this),g.prototype._end.call(this,x)}}e.ClonedIterator=Q;class ie{constructor(x){if(this._history=[],this._trackers=new Set,this._source=x,!x.done){const k=()=>{for(const fe of this._trackers)fe.readable=!0},U=fe=>{for(const ve of this._trackers)ve.emit("error",fe)},re=()=>{for(const fe of this._trackers)fe._sourceStarted!==!1&&fe._readPosition===this._history.length&&fe.close();this._trackers.clear(),x.removeListener("end",re),x.removeListener("error",U),x.removeListener("readable",k)};x.on("end",re),x.on("error",U),x.on("readable",k)}}register(x){this._source.done||this._trackers.add(x)}unregister(x){this._trackers.delete(x)}readAt(x){let k=null;return x<this._history.length?k=this._history[x]:!this._source.done&&(k=this._source.read())!==null&&(this._history[x]=k),k}endsAt(x){return this._source.done&&this._history.length===x}}class X extends u{constructor(x,k){super(),this._source=null,this._destroySource=(k==null?void 0:k.destroySource)!==!1,$(x)?(this._source=new u,x.then(U=>{this._source=null,this.source=U}).catch(U=>this.emit("error",U))):x&&(this.source=x)}set source(x){let k=x;if(this._source!==null)throw new Error("The source cannot be changed after it has been set");if(pe(k)&&(k=k[Symbol.iterator]()),R(k)){let U=k;k=new t.EventEmitter,k.read=()=>{if(U!==null){let re;for(;!(re=U.next()).done;)if(re.value!==null)return re.value;U=null,this.close()}return null}}else k=y(k);if(this.done){this._destroySource&&P(k.destroy)&&k.destroy();return}k[e.DESTINATION]=this,k.on("end",C),k.on("error",I),k.on("readable",T),this._source=k,this.readable=k.readable!==!1}read(){if(this._source!==null&&this._source.readable!==!1){const x=this._source.read();if(x!==null)return x;this.readable=!1}return null}_end(x=!1){this._source!==null&&(this._source.removeListener("end",C),this._source.removeListener("error",I),this._source.removeListener("readable",T),delete this._source[e.DESTINATION],this._destroySource&&P(this._source.destroy)&&this._source.destroy(),this._source=null),super._end(x)}}e.WrappingIterator=X;function le(w,x){if(x&&("autoStart"in x||"optional"in x||"source"in x||"maxBufferSize"in x))return w&&!A(w)&&(w=new X(w)),new S(w,x);if(!w)return ae();if($(w))return new X(w,x);if(w instanceof u)return w;if(Array.isArray(w))return V(w);if(pe(w)||R(w)||A(w))return new X(w,x);throw new TypeError(`Invalid source: ${w}`)}e.wrap=le;function ae(){return new c}e.empty=ae;function ne(w){return new p(w)}e.single=ne;function V(w){return new _(w)}e.fromArray=V;function oe(w){return new X(w)}e.fromIterator=oe;function he(w){return new X(w)}e.fromIterable=he;function Y(w){return new O(w)}e.union=Y;function Z(w,x,k){return new v({start:w,end:x,step:k})}e.range=Z;function ee(w,x){return x?w.bind(x):w}function P(w){return typeof w=="function"}e.isFunction=P;function A(w){return P(w==null?void 0:w.on)}e.isEventEmitter=A;function $(w){return P(w==null?void 0:w.then)}e.isPromise=$;function te(w){return w&&(A(w)||$(w)||P(w))}e.isSourceExpression=te;function pe(w){return w&&Symbol.iterator in w}e.isIterable=pe;function R(w){return P(w==null?void 0:w.next)}e.isIterator=R}(Fg)),Fg}var _f={},St={},i2;function TW(){if(i2)return St;i2=1,Object.defineProperty(St,"__esModule",{value:!0}),St.matchPatternMappings=St.matchPatternComplete=St.matchPattern=St.matchTerm=St.getValueNestedPath=St.someTermsNested=St.someTerms=St.everyTermsNested=St.everyTerms=St.reduceTermsNested=St.reduceTerms=St.mapTermsNested=St.mapTerms=St.filterQuadTermNamesNested=St.filterQuadTermNames=St.filterTermsNested=St.filterTerms=St.forEachTermsNested=St.forEachTerms=St.collectNamedTerms=St.getNamedTerms=St.getTermsNested=St.getTerms=St.TRIPLE_TERM_NAMES=St.QUAD_TERM_NAMES=void 0;const e=en(),t=new e.DataFactory;St.QUAD_TERM_NAMES=["subject","predicate","object","graph"],St.TRIPLE_TERM_NAMES=["subject","predicate","object"];function r(D,M){return M&&D.graph.termType==="DefaultGraph"?[D.subject,D.predicate,D.object]:[D.subject,D.predicate,D.object,D.graph]}St.getTerms=r;function n(D,M){const j=[];for(const O of r(D,M))O.termType==="Quad"?n(O,M).forEach(q=>j.push(q)):j.push(O);return j}St.getTermsNested=n;function a(D){return[{key:"subject",value:D.subject},{key:"predicate",value:D.predicate},{key:"object",value:D.object},{key:"graph",value:D.graph}]}St.getNamedTerms=a;function i(D,M,j){const O={};return D.forEach(q=>O[q.key]=q.value),M&&(O.subject=O.subject||M("subject"),O.predicate=O.predicate||M("predicate"),O.object=O.object||M("object"),O.graph=O.graph||M("graph")),(j||t).quad(O.subject,O.predicate,O.object,O.graph)}St.collectNamedTerms=i;function o(D,M){M(D.subject,"subject"),M(D.predicate,"predicate"),M(D.object,"object"),M(D.graph,"graph")}St.forEachTerms=o;function s(D,M,j=[]){D.subject.termType==="Quad"?s(D.subject,M,[...j,"subject"]):M(D.subject,[...j,"subject"]),D.predicate.termType==="Quad"?s(D.predicate,M,[...j,"predicate"]):M(D.predicate,[...j,"predicate"]),D.object.termType==="Quad"?s(D.object,M,[...j,"object"]):M(D.object,[...j,"object"]),D.graph.termType==="Quad"?s(D.graph,M,[...j,"graph"]):M(D.graph,[...j,"graph"])}St.forEachTermsNested=s;function u(D,M){const j=[];return M(D.subject,"subject")&&j.push(D.subject),M(D.predicate,"predicate")&&j.push(D.predicate),M(D.object,"object")&&j.push(D.object),M(D.graph,"graph")&&j.push(D.graph),j}St.filterTerms=u;function l(D,M,j=[]){let O=[];return D.subject.termType==="Quad"?O=[...O,...l(D.subject,M,[...j,"subject"])]:M(D.subject,[...j,"subject"])&&O.push(D.subject),D.predicate.termType==="Quad"?O=[...O,...l(D.predicate,M,[...j,"predicate"])]:M(D.predicate,[...j,"predicate"])&&O.push(D.predicate),D.object.termType==="Quad"?O=[...O,...l(D.object,M,[...j,"object"])]:M(D.object,[...j,"object"])&&O.push(D.object),D.graph.termType==="Quad"?O=[...O,...l(D.graph,M,[...j,"graph"])]:M(D.graph,[...j,"graph"])&&O.push(D.graph),O}St.filterTermsNested=l;function f(D,M){const j=[];return M(D.subject,"subject")&&j.push("subject"),M(D.predicate,"predicate")&&j.push("predicate"),M(D.object,"object")&&j.push("object"),M(D.graph,"graph")&&j.push("graph"),j}St.filterQuadTermNames=f;function d(D,M,j=[]){let O=[];const q=[...j,"subject"];D.subject.termType==="Quad"?O=[...O,...d(D.subject,M,q)]:M(D.subject,q)&&O.push(q);const Q=[...j,"predicate"];D.predicate.termType==="Quad"?O=[...O,...d(D.predicate,M,Q)]:M(D.predicate,Q)&&O.push(Q);const ie=[...j,"object"];D.object.termType==="Quad"?O=[...O,...d(D.object,M,ie)]:M(D.object,ie)&&O.push(ie);const X=[...j,"graph"];return D.graph.termType==="Quad"?O=[...O,...d(D.graph,M,X)]:M(D.graph,X)&&O.push(X),O}St.filterQuadTermNamesNested=d;function c(D,M,j){return(j||t).quad(M(D.subject,"subject"),M(D.predicate,"predicate"),M(D.object,"object"),M(D.graph,"graph"))}St.mapTerms=c;function p(D,M,j,O=[]){return(j||t).quad(D.subject.termType==="Quad"?p(D.subject,M,j,[...O,"subject"]):M(D.subject,[...O,"subject"]),D.predicate.termType==="Quad"?p(D.predicate,M,j,[...O,"predicate"]):M(D.predicate,[...O,"predicate"]),D.object.termType==="Quad"?p(D.object,M,j,[...O,"object"]):M(D.object,[...O,"object"]),D.graph.termType==="Quad"?p(D.graph,M,j,[...O,"graph"]):M(D.graph,[...O,"graph"]))}St.mapTermsNested=p;function _(D,M,j){let O=j;return O=M(O,D.subject,"subject"),O=M(O,D.predicate,"predicate"),O=M(O,D.object,"object"),M(O,D.graph,"graph")}St.reduceTerms=_;function v(D,M,j,O=[]){let q=j;return D.subject.termType==="Quad"?q=v(D.subject,M,q,[...O,"subject"]):q=M(q,D.subject,[...O,"subject"]),D.predicate.termType==="Quad"?q=v(D.predicate,M,q,[...O,"predicate"]):q=M(q,D.predicate,[...O,"predicate"]),D.object.termType==="Quad"?q=v(D.object,M,q,[...O,"object"]):q=M(q,D.object,[...O,"object"]),D.graph.termType==="Quad"?q=v(D.graph,M,q,[...O,"graph"]):q=M(q,D.graph,[...O,"graph"]),q}St.reduceTermsNested=v;function b(D,M){return M(D.subject,"subject")&&M(D.predicate,"predicate")&&M(D.object,"object")&&M(D.graph,"graph")}St.everyTerms=b;function m(D,M,j=[]){return(D.subject.termType==="Quad"?m(D.subject,M,[...j,"subject"]):M(D.subject,[...j,"subject"]))&&(D.predicate.termType==="Quad"?m(D.predicate,M,[...j,"predicate"]):M(D.predicate,[...j,"predicate"]))&&(D.object.termType==="Quad"?m(D.object,M,[...j,"object"]):M(D.object,[...j,"object"]))&&(D.graph.termType==="Quad"?m(D.graph,M,[...j,"graph"]):M(D.graph,[...j,"graph"]))}St.everyTermsNested=m;function y(D,M){return M(D.subject,"subject")||M(D.predicate,"predicate")||M(D.object,"object")||M(D.graph,"graph")}St.someTerms=y;function g(D,M,j=[]){return(D.subject.termType==="Quad"?g(D.subject,M,[...j,"subject"]):M(D.subject,[...j,"subject"]))||(D.predicate.termType==="Quad"?g(D.predicate,M,[...j,"predicate"]):M(D.predicate,[...j,"predicate"]))||(D.object.termType==="Quad"?g(D.object,M,[...j,"object"]):M(D.object,[...j,"object"]))||(D.graph.termType==="Quad"?g(D.graph,M,[...j,"graph"]):M(D.graph,[...j,"graph"]))}St.someTermsNested=g;function S(D,M){if(M.length===0)return D;if(D.termType==="Quad")return S(D[M[0]],M.slice(1));throw new Error(`Tried to get ${M[0]} from term of type ${D.termType}`)}St.getValueNestedPath=S;function T(D,M){return!M||M.termType==="Variable"||M.termType==="Quad"&&D.termType==="Quad"&&C(D,M)||M.equals(D)}St.matchTerm=T;function I(D,M,j,O,q){return T(D.subject,M)&&T(D.predicate,j)&&T(D.object,O)&&T(D.graph,q)}St.matchPattern=I;function C(D,M){return I(D,M.subject,M.predicate,M.object,M.graph)}St.matchPatternComplete=C;function B(D,M,j={}){const O={};function q(Q,ie){return b(Q,(X,le)=>{var ae,ne;const V=ie[le];switch(X.termType){case"Variable":return j.skipVarMapping&&V.termType==="Variable"||((ne=(ae=O[X.value])===null||ae===void 0?void 0:ae.equals(V))!==null&&ne!==void 0?ne:(O[X.value]=V,!0));case"Quad":return V.termType==="Quad"&&q(X,V);default:return X.equals(V)}})}return q(M,D)&&(j.returnMappings?O:!0)}return St.matchPatternMappings=B,St}var Mr={},jg={},un={},a2;function RW(){if(a2)return un;a2=1,Object.defineProperty(un,"__esModule",{value:!0}),un.stringQuadToQuad=un.quadToStringQuad=un.stringToTerm=un.getLiteralLanguage=un.getLiteralType=un.getLiteralValue=un.termToString=void 0;const e=en(),t=new e.DataFactory;function r(l){if(l)switch(l.termType){case"NamedNode":return l.value;case"BlankNode":return"_:"+l.value;case"Literal":const f=l;return'"'+f.value+'"'+(f.datatype&&f.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&f.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+f.datatype.value:"")+(f.language?"@"+f.language:"");case"Quad":return`<<${r(l.subject)} ${r(l.predicate)} ${r(l.object)}${l.graph.termType==="DefaultGraph"?"":" "+r(l.graph)}>>`;case"Variable":return"?"+l.value;case"DefaultGraph":return l.value}}un.termToString=r;function n(l){const f=/^"([^]*)"/.exec(l);if(!f)throw new Error(l+" is not a literal");return f[1]}un.getLiteralValue=n;function a(l){const f=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(l);if(!f)throw new Error(l+" is not a literal");return f[1]||(f[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}un.getLiteralType=a;function i(l){const f=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(l);if(!f)throw new Error(l+" is not a literal");return f[1]?f[1].toLowerCase():""}un.getLiteralLanguage=i;function o(l,f){if(f=f||t,!l||!l.length)return f.defaultGraph();switch(l[0]){case"_":return f.blankNode(l.substr(2));case"?":if(!f.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return f.variable(l.substr(1));case'"':const d=i(l),c=f.namedNode(a(l));return f.literal(n(l),d||c);case"<":default:if(l[0]==="<"&&l.length>4&&l[1]==="<"&&l[l.length-1]===">"&&l[l.length-2]===">"){const p=l.slice(2,-2).trim();let _=[],v=0,b=0,m=!1;for(let y=0;y<p.length;y++){const g=p[y];if(g==="<"&&v++,g===">"){if(v===0)throw new Error("Found closing tag without opening tag in "+l);v--}if(g==='"'){let S=!1,T=y;for(;T-- >0&&p[T]==="\\";)S=!S;S||(m=!m)}if(g===" "&&!m&&v===0){for(_.push(p.slice(b,y));p[y+1]===" ";)y+=1;b=y+1}}if(v!==0)throw new Error("Found opening tag without closing tag in "+l);if(_.push(p.slice(b,p.length)),_.length!==3&&_.length!==4)throw new Error("Nested quad syntax error "+l);return _=_.map(y=>y.startsWith("<")&&!y.includes(" ")?y.slice(1,-1):y),f.quad(o(_[0]),o(_[1]),o(_[2]),_[3]?o(_[3]):void 0)}return f.namedNode(l)}}un.stringToTerm=o;function s(l){return{subject:r(l.subject),predicate:r(l.predicate),object:r(l.object),graph:r(l.graph)}}un.quadToStringQuad=s;function u(l,f){return f=f||t,f.quad(o(l.subject,f),o(l.predicate,f),o(l.object,f),o(l.graph,f))}return un.stringQuadToQuad=u,un}var o2;function Wh(){return o2||(o2=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.termToString=e.stringToTerm=e.stringQuadToQuad=e.quadToStringQuad=e.getLiteralValue=e.getLiteralType=e.getLiteralLanguage=void 0;const t=RW();Object.defineProperty(e,"getLiteralLanguage",{enumerable:!0,get:function(){return t.getLiteralLanguage}}),Object.defineProperty(e,"getLiteralType",{enumerable:!0,get:function(){return t.getLiteralType}}),Object.defineProperty(e,"getLiteralValue",{enumerable:!0,get:function(){return t.getLiteralValue}}),Object.defineProperty(e,"quadToStringQuad",{enumerable:!0,get:function(){return t.quadToStringQuad}}),Object.defineProperty(e,"stringQuadToQuad",{enumerable:!0,get:function(){return t.stringQuadToQuad}}),Object.defineProperty(e,"stringToTerm",{enumerable:!0,get:function(){return t.stringToTerm}}),Object.defineProperty(e,"termToString",{enumerable:!0,get:function(){return t.termToString}})}(jg)),jg}var s2;function AW(){if(s2)return Mr;s2=1,Object.defineProperty(Mr,"__esModule",{value:!0}),Mr.getQuads=Mr.getDefaultGraphs=Mr.getVariables=Mr.getLiterals=Mr.getBlankNodes=Mr.getNamedNodes=Mr.getTermsOfType=Mr.uniqTerms=Mr.TERM_TYPES=void 0;const e=Wh();Mr.TERM_TYPES=["NamedNode","BlankNode","Literal","Variable","DefaultGraph","Quad"];function t(l){const f={};return l.filter(d=>{const c=(0,e.termToString)(d);return!(c in f)&&(f[c]=!0)})}Mr.uniqTerms=t;function r(l,f){return l.filter(d=>d.termType===f)}Mr.getTermsOfType=r;function n(l){return r(l,"NamedNode")}Mr.getNamedNodes=n;function a(l){return r(l,"BlankNode")}Mr.getBlankNodes=a;function i(l){return r(l,"Literal")}Mr.getLiterals=i;function o(l){return r(l,"Variable")}Mr.getVariables=o;function s(l){return r(l,"DefaultGraph")}Mr.getDefaultGraphs=s;function u(l){return r(l,"Quad")}return Mr.getQuads=u,Mr}var u2;function L0(){return u2||(u2=1,function(e){var t=_f.__createBinding||(Object.create?function(n,a,i,o){o===void 0&&(o=i);var s=Object.getOwnPropertyDescriptor(a,i);(!s||("get"in s?!a.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,o,s)}:function(n,a,i,o){o===void 0&&(o=i),n[o]=a[i]}),r=_f.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(TW(),e),r(AW(),e)}(_f)),_f}var bf={},l2;function pj(){if(l2)return bf;l2=1,Object.defineProperty(bf,"__esModule",{value:!0}),bf.TermDictionaryNumberRecordFullTerms=void 0;const e=en(),t=Wh();let r=class{constructor(a=new e.DataFactory){this.lastId=0,this.dictionary={},this.reverseDictionary={},this.features={quotedTriples:!1},this.dataFactory=a}encode(a){const i=(0,t.termToString)(a);let o=this.dictionary[i];return o===void 0&&(o=this.lastId++,this.dictionary[i]=o,this.reverseDictionary[o]=a),o}encodeOptional(a){const i=(0,t.termToString)(a);return this.dictionary[i]}decode(a){const i=this.reverseDictionary[a];if(i===void 0)throw new Error(`The value ${a} is not present in this dictionary`);return i}*encodings(){for(const a of Object.keys(this.reverseDictionary))yield Number.parseInt(a,10)}findQuotedTriples(a){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(a){throw new Error("findQuotedTriplesEncoded is not supported")}};return bf.TermDictionaryNumberRecordFullTerms=r,bf}var vf={},wf={},Bg={},f2;function Sa(){return f2||(f2=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.arePatternsQuoted=e.quadHasVariables=e.quadToPattern=e.encodeOptionalTerms=e.orderQuadComponents=e.getComponentOrderScore=e.getBestIndex=e.QUAD_TERM_NAMES_INVERSE=void 0;const t=L0();e.QUAD_TERM_NAMES_INVERSE=Object.fromEntries(t.QUAD_TERM_NAMES.map((l,f)=>[l,f]));function r(l,f){if(l.length===1||f.every(p=>p!==void 0))return 0;const d=[];for(let p=0;p<t.QUAD_TERM_NAMES.length;p++)f[p]&&d.push(t.QUAD_TERM_NAMES[p]);return l.map((p,_)=>({score:n(p,d),index:_})).sort((p,_)=>_.score-p.score)[0].index}e.getBestIndex=r;function n(l,f){return l.map((d,c)=>f.includes(d)?l.length-c:0).reduce((d,c)=>d+c,0)}e.getComponentOrderScore=n;function a(l,f){return l.map(d=>{const c=e.QUAD_TERM_NAMES_INVERSE[d];return f[c]})}e.orderQuadComponents=a;function i(l,f){const d=l.map(c=>{if(c){if(c.termType==="Quad"&&s(c))return;const p=f.encodeOptional(c);return p===void 0?"none":p}return c});if(!d.includes("none"))return d}e.encodeOptionalTerms=i;function o(l,f,d,c,p){let _=!1;return[[l||void 0,f||void 0,d||void 0,c||void 0].map(b=>{if(b){if(b.termType==="Variable")return;if(b.termType==="Quad"){if(p)return b;_=!0;return}}return b}),_]}e.quadToPattern=o;function s(l){for(const f of t.QUAD_TERM_NAMES){const d=l[f];if(d.termType==="Variable"||d.termType==="Quad"&&s(d))return!0}return!1}e.quadHasVariables=s;function u(l){return l.map(f=>(f==null?void 0:f.termType)==="Quad"&&s(f))}e.arePatternsQuoted=u}(Bg)),Bg}var c2;function kE(){if(c2)return wf;c2=1,Object.defineProperty(wf,"__esModule",{value:!0}),wf.RdfStoreIndexNestedMap=void 0;const e=Sa();let t=class{constructor(n){this.features={quotedTripleFiltering:!1},this.dictionary=n.dictionary,this.nestedMap=new Map}set(n,a){const i=this.nestedMap;let o=i.get(n[0]);o||(o=new Map,i.set(n[0],o));let s=o.get(n[1]);s||(s=new Map,o.set(n[1],s));let u=s.get(n[2]);u||(u=new Map,s.set(n[2],u));const l=u.has(n[3]);return l||u.set(n[3],a),!l}remove(n){const a=this.nestedMap,i=a.get(n[0]);if(!i)return!1;const o=i.get(n[1]);if(!o)return!1;const s=o.get(n[2]);if(!s)return!1;const u=s.delete(n[3]);return u&&s.size===0&&(o.delete(n[2]),o.size===0&&(i.delete(n[1]),i.size===0&&a.delete(n[0]))),u}get(n){const a=(0,e.encodeOptionalTerms)(n,this.dictionary);if(!(!a||a.includes(void 0)))return this.getEncoded(a)}getEncoded(n){const a=this.nestedMap.get(n[0]);if(!a)return;const i=a.get(n[1]);if(!i)return;const o=i.get(n[2]);if(o)return o.get(n[3])}*find(n){const a=(0,e.encodeOptionalTerms)(n,this.dictionary);if(!a)return;const[i,o,s,u]=a,[l,f,d,c]=n;let p,_,v,b,m,y,g;const S=this.nestedMap,T=i!==void 0?S.has(i)?[i]:[]:S.keys();for(const I of T){m=S.get(I),p=l||this.dictionary.decode(I);const C=o!==void 0?m.has(o)?[o]:[]:m.keys();for(const B of C){y=m.get(B),_=f||this.dictionary.decode(B);const D=s!==void 0?y.has(s)?[s]:[]:y.keys();for(const M of D){g=y.get(M),v=d||this.dictionary.decode(M);const j=u!==void 0?g.has(u)?[u]:[]:g.keys();for(const O of j)b=c||this.dictionary.decode(O),yield[p,_,v,b]}}}}*findEncoded(n,a){const[i,o,s,u]=n;let l,f,d;const c=this.nestedMap,p=i!==void 0?c.has(i)?[i]:[]:c.keys();for(const _ of p){l=c.get(_);const v=o!==void 0?l.has(o)?[o]:[]:l.keys();for(const b of v){f=l.get(b);const m=s!==void 0?f.has(s)?[s]:[]:f.keys();for(const y of m){d=f.get(y);const g=u!==void 0?d.has(u)?[u]:[]:d.keys();for(const S of g)yield[_,b,y,S]}}}}count(n){let a=0;const i=(0,e.encodeOptionalTerms)(n,this.dictionary);if(!i)return 0;const o=i[0],s=i[1],u=i[2],l=i[3];let f,d,c;const p=this.nestedMap,_=o!==void 0?p.has(o)?[o]:[]:p.keys();for(const v of _){f=p.get(v);const b=s!==void 0?f.has(s)?[s]:[]:f.keys();for(const m of b){d=f.get(m);const y=u!==void 0?d.has(u)?[u]:[]:d.keys();for(const g of y)c=d.get(g),l!==void 0?c.has(l)&&a++:a+=c.size}}return a}};return wf.RdfStoreIndexNestedMap=t,wf}var d2;function mj(){if(d2)return vf;d2=1,Object.defineProperty(vf,"__esModule",{value:!0}),vf.TermDictionaryQuotedIndexed=void 0;const e=en(),t=kE(),r=Sa();let n=class ja{constructor(i,o=new e.DataFactory){this.quotedTriplesDictionary=[],this.features={quotedTriples:!0},this.plainTermDictionary=i;const s={indexCombinations:[],indexConstructor:void 0,dictionary:this,dataFactory:o};this.quotedTriplesReverseDictionaries=[new t.RdfStoreIndexNestedMap(s),new t.RdfStoreIndexNestedMap(s),new t.RdfStoreIndexNestedMap(s)],this.dataFactory=o}encode(i){return i.termType==="Quad"?this.encodeQuotedTriple(i,!1):this.plainTermDictionary.encode(i)}encodeQuotedTriple(i,o){if(i.graph.termType!=="DefaultGraph")throw new Error("Encoding of quoted quads outside of the default graph is not allowed");const s=(0,r.encodeOptionalTerms)([i.subject,i.predicate,i.object,i.graph],this),u=s&&s.every(c=>c!==void 0)?this.quotedTriplesReverseDictionaries[0].getEncoded(s):void 0;if(u!==void 0||o)return u===void 0?void 0:ja.BITMASK|u;const l=[this.encode(i.subject),this.encode(i.predicate),this.encode(i.object)],f=this.quotedTriplesDictionary.length+1;this.quotedTriplesDictionary.push(l);const d=this.encode(this.dataFactory.defaultGraph());return this.quotedTriplesReverseDictionaries[0].set([l[0],l[1],l[2],d],f),this.quotedTriplesReverseDictionaries[1].set([l[1],l[2],l[0],d],f),this.quotedTriplesReverseDictionaries[2].set([l[2],l[0],l[1],d],f),ja.BITMASK|f}encodeOptional(i){return i.termType==="Quad"?this.encodeQuotedTriple(i,!0):this.plainTermDictionary.encodeOptional(i)}decode(i){if(ja.BITMASK&i){const o=(~ja.BITMASK&i)-1;if(o>=this.quotedTriplesDictionary.length)throw new Error(`The value ${i} is not present in the quoted triples range of the dictionary`);const s=this.quotedTriplesDictionary[o];return this.dataFactory.quad(this.decode(s[0]),this.decode(s[1]),this.decode(s[2]))}return this.plainTermDictionary.decode(i)}*encodings(){for(const i of this.plainTermDictionary.encodings())yield i;for(const i of this.quotedTriplesDictionary.keys())yield ja.BITMASK|1+i}*findQuotedTriples(i){for(const o of this.findQuotedTriplesEncoded(i))yield this.decode(o)}*findQuotedTriplesEncoded(i){const[o,s]=(0,r.quadToPattern)(i.subject,i.predicate,i.object,i.graph,!0);for(const u of this.patternToIterable(o[0]))for(const l of this.patternToIterable(o[1]))for(const f of this.patternToIterable(o[2]))for(const d of this.patternToIterable(o[3]))if(u&&l||!l&&!f){const c=[u,l,f,d];for(const p of this.quotedTriplesReverseDictionaries[0].findEncoded(c,o))yield ja.BITMASK|this.quotedTriplesReverseDictionaries[0].getEncoded(p)}else if(!u&&l){const c=[l,f,u,d];for(const p of this.quotedTriplesReverseDictionaries[1].findEncoded(c,o))yield ja.BITMASK|this.quotedTriplesReverseDictionaries[1].getEncoded(p)}else{const c=[f,u,l,d];for(const p of this.quotedTriplesReverseDictionaries[2].findEncoded(c,o))yield ja.BITMASK|this.quotedTriplesReverseDictionaries[2].getEncoded(p)}}*patternToIterable(i){if((i==null?void 0:i.termType)==="Quad"){yield*this.findQuotedTriplesEncoded(i);return}if(i===void 0){yield void 0;return}const o=this.encodeOptional(i);o!==void 0&&(yield o)}};return n.BITMASK=1<<31,vf.TermDictionaryQuotedIndexed=n,vf}var Sf={},h2;function yj(){if(h2)return Sf;h2=1,Object.defineProperty(Sf,"__esModule",{value:!0}),Sf.RdfStoreIndexNestedMapQuoted=void 0;const e=Sa(),t=kE();let r=class extends t.RdfStoreIndexNestedMap{constructor(a){super(a),this.features={quotedTripleFiltering:!0}}*getQuotedPatternKeys(a,i){for(const o of this.dictionary.findQuotedTriplesEncoded(i))a.has(o)&&(yield o)}*find(a){const i=(0,e.encodeOptionalTerms)(a,this.dictionary);if(!i)return;const[o,s,u,l]=i,[f,d,c,p]=a,[_,v,b,m]=(0,e.arePatternsQuoted)(a);let y,g,S,T,I,C,B;const D=this.nestedMap,M=f!==void 0?_?this.getQuotedPatternKeys(D,f):D.has(o)?[o]:[]:D.keys();for(const j of M){I=D.get(j),y=!_&&f?f:this.dictionary.decode(j);const O=d!==void 0?v?this.getQuotedPatternKeys(I,d):I.has(s)?[s]:[]:I.keys();for(const q of O){C=I.get(q),g=!v&&d?d:this.dictionary.decode(q);const Q=c!==void 0?b?this.getQuotedPatternKeys(C,c):C.has(u)?[u]:[]:C.keys();for(const ie of Q){B=C.get(ie),S=!b&&c?c:this.dictionary.decode(ie);const X=p!==void 0?m?this.getQuotedPatternKeys(B,p):B.has(l)?[l]:[]:B.keys();for(const le of X)T=!m&&p?p:this.dictionary.decode(le),yield[y,g,S,T]}}}}*findEncoded(a,i){const[o,s,u,l]=a,[f,d,c,p]=i,[_,v,b,m]=(0,e.arePatternsQuoted)(i);let y,g,S;const T=this.nestedMap,I=f!==void 0?_?this.getQuotedPatternKeys(T,f):T.has(o)?[o]:[]:T.keys();for(const C of I){y=T.get(C);const B=d!==void 0?v?this.getQuotedPatternKeys(y,d):y.has(s)?[s]:[]:y.keys();for(const D of B){g=y.get(D);const M=c!==void 0?b?this.getQuotedPatternKeys(g,c):g.has(u)?[u]:[]:g.keys();for(const j of M){S=g.get(j);const O=p!==void 0?m?this.getQuotedPatternKeys(S,p):S.has(l)?[l]:[]:S.keys();for(const q of O)yield[Number.parseInt(C,10),Number.parseInt(D,10),Number.parseInt(j,10),Number.parseInt(q,10)]}}}}count(a){let i=0;const o=(0,e.encodeOptionalTerms)(a,this.dictionary);if(!o)return 0;const[s,u,l,f]=o,[d,c,p,_]=a,[v,b,m,y]=(0,e.arePatternsQuoted)(a);let g,S,T;const I=this.nestedMap,C=d!==void 0?v?this.getQuotedPatternKeys(I,d):I.has(s)?[s]:[]:I.keys();for(const B of C){g=I.get(B);const D=c!==void 0?b?this.getQuotedPatternKeys(g,c):g.has(u)?[u]:[]:g.keys();for(const M of D){S=g.get(M);const j=p!==void 0?m?this.getQuotedPatternKeys(S,p):S.has(l)?[l]:[]:S.keys();for(const O of j)T=S.get(O),_!==void 0?y?i+=[...this.getQuotedPatternKeys(T,_)].length:T.has(f)&&i++:i+=T.size}}return i}};return Sf.RdfStoreIndexNestedMapQuoted=r,Sf}var p2;function gj(){if(p2)return mf;p2=1,Object.defineProperty(mf,"__esModule",{value:!0}),mf.RdfStore=void 0;const e=hj(),t=en(),r=L0(),n=bj(),a=pj(),i=mj(),o=yj(),s=Sa();let u=class Yd{constructor(f){this.features={quotedTripleFiltering:!0},this._size=0,this.options=f,this.dataFactory=f.dataFactory,this.dictionary=f.dictionary,this.indexesWrapped=Yd.constructIndexesWrapped(f),this.indexesWrappedComponentOrders=this.indexesWrapped.map(d=>d.componentOrder)}static createDefault(){return new Yd({indexCombinations:Yd.DEFAULT_INDEX_COMBINATIONS,indexConstructor:f=>new o.RdfStoreIndexNestedMapQuoted(f),dictionary:new i.TermDictionaryQuotedIndexed(new a.TermDictionaryNumberRecordFullTerms),dataFactory:new t.DataFactory})}static constructIndexesWrapped(f){const d=[];if(f.indexCombinations.length===0)throw new Error("At least one index combination is required");for(const c of f.indexCombinations){if(!Yd.isCombinationValid(c))throw new Error(`Invalid index combination: ${c}`);d.push({index:f.indexConstructor(f),componentOrder:c,componentOrderInverse:Object.fromEntries(c.map((p,_)=>[p,_]))})}return d}static isCombinationValid(f){for(const d of r.QUAD_TERM_NAMES)if(!f.includes(d))return!1;return f.length===4}get size(){return this._size}addQuad(f){const d=[this.dictionary.encode(f.subject),this.dictionary.encode(f.predicate),this.dictionary.encode(f.object),this.dictionary.encode(f.graph)];let c=!1;for(const p of this.indexesWrapped)c=p.index.set((0,s.orderQuadComponents)(p.componentOrder,d),!0);return c?(this._size++,!0):!1}removeQuad(f){const d=[this.dictionary.encodeOptional(f.subject),this.dictionary.encodeOptional(f.predicate),this.dictionary.encodeOptional(f.object),this.dictionary.encodeOptional(f.graph)];if(d.includes(void 0))return!1;let c=!1;for(const p of this.indexesWrapped)if(c=p.index.remove((0,s.orderQuadComponents)(p.componentOrder,d)),!c)break;return c?(this._size--,!0):!1}remove(f){return f.on("data",d=>this.removeQuad(d)),f}removeMatches(f,d,c,p){return this.remove(this.match(f,d,c,p))}deleteGraph(f){return typeof f=="string"&&(f=this.dataFactory.namedNode(f)),this.removeMatches(void 0,void 0,void 0,f)}import(f){return f.on("data",d=>this.addQuad(d)),f}*readQuads(f,d,c,p){const _=!!this.dictionary.features.quotedTriples&&Object.values(this.indexesWrapped).every(g=>g.index.features.quotedTripleFiltering),[v,b]=(0,s.quadToPattern)(f,d,c,p,_),m=this.indexesWrapped[(0,s.getBestIndex)(this.indexesWrappedComponentOrders,v)],y=(0,s.orderQuadComponents)(m.componentOrder,v);for(const g of m.index.find(y)){const S=this.dataFactory.quad(g[m.componentOrderInverse.subject],g[m.componentOrderInverse.predicate],g[m.componentOrderInverse.object],g[m.componentOrderInverse.graph]);b?(0,r.matchPattern)(S,f,d,c,p)&&(yield S):yield S}}getQuads(f,d,c,p){return[...this.readQuads(f,d,c,p)]}match(f,d,c,p){return(0,e.wrap)(this.readQuads(f,d,c,p))}countQuads(f,d,c,p){const _=!!this.dictionary.features.quotedTriples&&Object.values(this.indexesWrapped).every(y=>y.index.features.quotedTripleFiltering),[v]=(0,s.quadToPattern)(f,d,c,p,_);if(v.every(y=>y===void 0))return this.size;const b=this.indexesWrapped[(0,s.getBestIndex)(this.indexesWrappedComponentOrders,v)],m=(0,s.orderQuadComponents)(b.componentOrder,v);return b.index.count(m)}asDataset(){return new n.DatasetCoreWrapper(this)}};return u.DEFAULT_INDEX_COMBINATIONS=[["graph","subject","predicate","object"],["graph","predicate","object","subject"],["graph","object","subject","predicate"]],mf.RdfStore=u,mf}var m2;function bj(){if(m2)return pf;m2=1,Object.defineProperty(pf,"__esModule",{value:!0}),pf.DatasetCoreWrapper=void 0;const e=gj();let t=class _j{constructor(n){this.store=n}get size(){return this.store.size}add(n){return this.store.addQuad(n),this}delete(n){return this.store.removeQuad(n),this}has(n){for(const a of this.store.readQuads(n.subject,n.predicate,n.object,n.graph))return!0;return!1}match(n,a,i,o){const s=new e.RdfStore(this.store.options);for(const u of this.store.readQuads(n,a,i,o))s.addQuad(u);return new _j(s)}[Symbol.iterator](){return this.store.readQuads()}};return pf.DatasetCoreWrapper=t,pf}var qg={},y2;function IW(){return y2||(y2=1,Object.defineProperty(qg,"__esModule",{value:!0})),qg}var Ef={},g2;function OW(){if(g2)return Ef;g2=1,Object.defineProperty(Ef,"__esModule",{value:!0}),Ef.TermDictionaryNumberMap=void 0;const e=en(),t=Wh();let r=class{constructor(a=new e.DataFactory){this.lastId=0,this.dictionary=new Map,this.reverseDictionary=new Map,this.features={quotedTriples:!1},this.dataFactory=a}encode(a){const i=(0,t.termToString)(a);let o=this.dictionary.get(i);return o===void 0&&(o=this.lastId++,this.dictionary.set(i,o),this.reverseDictionary.set(o,i)),o}encodeOptional(a){const i=(0,t.termToString)(a);return this.dictionary.get(i)}decode(a){const i=this.reverseDictionary.get(a);if(i===void 0)throw new Error(`The value ${a} is not present in this dictionary`);return(0,t.stringToTerm)(i,this.dataFactory)}encodings(){return this.reverseDictionary.keys()}findQuotedTriples(a){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(a){throw new Error("findQuotedTriplesEncoded is not supported")}};return Ef.TermDictionaryNumberMap=r,Ef}var xf={},_2;function PW(){if(_2)return xf;_2=1,Object.defineProperty(xf,"__esModule",{value:!0}),xf.TermDictionaryNumberRecord=void 0;const e=en(),t=Wh();let r=class{constructor(a=new e.DataFactory){this.lastId=0,this.dictionary={},this.reverseDictionary={},this.features={quotedTriples:!1},this.dataFactory=a}encode(a){const i=(0,t.termToString)(a);let o=this.dictionary[i];return o===void 0&&(o=this.lastId++,this.dictionary[i]=o,this.reverseDictionary[o]=i),o}encodeOptional(a){const i=(0,t.termToString)(a);return this.dictionary[i]}decode(a){const i=this.reverseDictionary[a];if(i===void 0)throw new Error(`The value ${a} is not present in this dictionary`);return(0,t.stringToTerm)(i,this.dataFactory)}*encodings(){for(const a of Object.keys(this.reverseDictionary))yield Number.parseInt(a,10)}findQuotedTriples(a){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(a){throw new Error("findQuotedTriplesEncoded is not supported")}};return xf.TermDictionaryNumberRecord=r,xf}var Tf={},b2;function CW(){if(b2)return Tf;b2=1,Object.defineProperty(Tf,"__esModule",{value:!0}),Tf.TermDictionaryQuoted=void 0;const e=en(),t=L0();let r=class Os{constructor(a,i,o=new e.DataFactory){this.features={quotedTriples:!0},this.plainTermDictionary=a,this.quotedTriplesDictionary=i,this.dataFactory=o}encode(a){return a.termType==="Quad"?Os.BITMASK|1+this.quotedTriplesDictionary.encode(a):this.plainTermDictionary.encode(a)}encodeOptional(a){if(a.termType==="Quad"){const i=this.quotedTriplesDictionary.encodeOptional(a);return i===void 0?i:Os.BITMASK|1+i}return this.plainTermDictionary.encodeOptional(a)}decode(a){if(Os.BITMASK&a){const i=(~Os.BITMASK&a)-1;return this.quotedTriplesDictionary.decode(i)}return this.plainTermDictionary.decode(a)}*encodings(){for(const a of this.plainTermDictionary.encodings())yield a;for(const a of this.quotedTriplesDictionary.encodings())yield Os.BITMASK|1+a}*findQuotedTriples(a){for(const i of this.findQuotedTriplesEncoded(a))yield this.decode(i)}*findQuotedTriplesEncoded(a){for(let i of this.quotedTriplesDictionary.encodings()){i=Os.BITMASK|1+i;const o=this.decode(i);(0,t.matchPattern)(o,a.subject,a.predicate,a.object,a.graph)&&(yield i)}}};return r.BITMASK=1<<31,Tf.TermDictionaryQuoted=r,Tf}var Rf={},v2;function LW(){if(v2)return Rf;v2=1,Object.defineProperty(Rf,"__esModule",{value:!0}),Rf.TermDictionaryQuotedReferential=void 0;const e=en(),t=L0(),r=Sa();let n=class Ba{constructor(i,o=new e.DataFactory){this.quotedTriplesDictionary=[],this.quotedTriplesReverseDictionary={},this.features={quotedTriples:!0},this.plainTermDictionary=i,this.dataFactory=o}encode(i){return i.termType==="Quad"?this.encodeQuotedTriple(i,!1):this.plainTermDictionary.encode(i)}encodeQuotedTriple(i,o){var s;if(i.graph.termType!=="DefaultGraph")throw new Error("Encoding of quoted quads outside of the default graph is not allowed");const u=(s=(0,r.encodeOptionalTerms)([i.subject,i.predicate,i.object,void 0],this))===null||s===void 0?void 0:s.slice(0,3),l=u&&u.every(c=>c!==void 0)?this.quotedTriplesReverseDictionary[u.join(Ba.SEPARATOR)]:void 0;if(l!==void 0||o)return l===void 0?void 0:Ba.BITMASK|l;const f=[this.encode(i.subject),this.encode(i.predicate),this.encode(i.object)],d=this.quotedTriplesDictionary.length+1;return this.quotedTriplesDictionary.push(f),this.quotedTriplesReverseDictionary[f.join(Ba.SEPARATOR)]=d,Ba.BITMASK|d}encodeOptional(i){return i.termType==="Quad"?this.encodeQuotedTriple(i,!0):this.plainTermDictionary.encodeOptional(i)}decode(i){if(Ba.BITMASK&i){const o=(~Ba.BITMASK&i)-1;if(o>=this.quotedTriplesDictionary.length)throw new Error(`The value ${i} is not present in the quoted triples range of the dictionary`);const s=this.quotedTriplesDictionary[o];return this.dataFactory.quad(this.decode(s[0]),this.decode(s[1]),this.decode(s[2]))}return this.plainTermDictionary.decode(i)}*encodings(){for(const i of this.plainTermDictionary.encodings())yield i;for(const i of this.quotedTriplesDictionary.keys())yield Ba.BITMASK|1+i}*findQuotedTriples(i){for(const o of this.findQuotedTriplesEncoded(i))yield this.decode(o)}*findQuotedTriplesEncoded(i){for(let o of this.quotedTriplesDictionary.keys()){o=Ba.BITMASK|1+o;const s=this.decode(o);(0,t.matchPattern)(s,i.subject,i.predicate,i.object,i.graph)&&(yield o)}}};return n.BITMASK=1<<31,n.SEPARATOR="_",Rf.TermDictionaryQuotedReferential=n,Rf}var Af={},w2;function DW(){if(w2)return Af;w2=1,Object.defineProperty(Af,"__esModule",{value:!0}),Af.TermDictionarySymbol=void 0;const e=en(),t=Wh();let r=class{constructor(a=new e.DataFactory){this.features={quotedTriples:!1},this.dataFactory=a}encode(a){return Symbol.for(`rdf::${(0,t.termToString)(a)}`)}encodeOptional(a){return this.encode(a)}decode(a){const i=Symbol.keyFor(a);if(i===void 0)throw new Error(`The value ${String(a)} is not present in this dictionary`);return(0,t.stringToTerm)(i.slice(5),this.dataFactory)}encodings(){throw new Error("encodings is not supported")}findQuotedTriples(a){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(a){throw new Error("findQuotedTriplesEncoded is not supported")}};return Af.TermDictionarySymbol=r,Af}var $g={},S2;function NW(){return S2||(S2=1,Object.defineProperty($g,"__esModule",{value:!0})),$g}var If={},E2;function vj(){if(E2)return If;E2=1,Object.defineProperty(If,"__esModule",{value:!0}),If.RdfStoreIndexNestedMapRecursive=void 0;const e=Sa();let t=class{constructor(n){this.features={quotedTripleFiltering:!1},this.dictionary=n.dictionary,this.nestedMap=new Map}set(n,a){let i=this.nestedMap,o=!1;for(const[s,u]of n.entries()){const l=i;let f=l.get(u);f?s===n.length-1&&(o=!0):(f=s===n.length-1?a:new Map,l.set(u,f)),i=f}return!o}remove(n){const a=this.nestedMap,i=a.get(n[0]);if(!i)return!1;const o=i.get(n[1]);if(!o)return!1;const s=o.get(n[2]);if(!s)return!1;const u=s.delete(n[3]);return u&&s.size===0&&(o.delete(n[2]),o.size===0&&(i.delete(n[1]),i.size===0&&a.delete(n[0]))),u}get(n){const a=(0,e.encodeOptionalTerms)(n,this.dictionary);if(!(!a||a.includes(void 0)))return this.getEncoded(a)}getEncoded(n){const a=this.nestedMap.get(n[0]);if(!a)return;const i=a.get(n[1]);if(!i)return;const o=i.get(n[2]);if(o)return o.get(n[3])}*find(n){const a=(0,e.encodeOptionalTerms)(n,this.dictionary);if(a)for(const i of this.findEncoded(a,n))yield[a[0]!==void 0?n[0]:this.dictionary.decode(i[0]),a[1]!==void 0?n[1]:this.dictionary.decode(i[1]),a[2]!==void 0?n[2]:this.dictionary.decode(i[2]),a[3]!==void 0?n[3]:this.dictionary.decode(i[3])]}*findEncoded(n,a){return yield*this.findEncodedInner(0,n,a,this.nestedMap,[])}*findEncodedInner(n,a,i,o,s){if(n===a.length)yield[...s];else{const u=a[n];if(i[n]){const f=u;if(f!==void 0){const d=o.get(f);d&&(s[n]=u,yield*this.findEncodedInner(n+1,a,i,d,s))}}else for(const[f,d]of o.entries())s[n]=f,yield*this.findEncodedInner(n+1,a,i,d,s)}}count(n){return this.countInner(0,n,this.nestedMap)}countInner(n,a,i){const o=a[n];let s=0;if(o){const u=this.dictionary.encodeOptional(o);if(u!==void 0){if(n===a.length-1)return i.has(u)?1:0;const l=i.get(u);l&&(s+=this.countInner(n+1,a,l))}}else{if(n===a.length-1)return i.size;for(const u of i.values())s+=this.countInner(n+1,a,u)}return s}};return If.RdfStoreIndexNestedMapRecursive=t,If}var Of={},x2;function MW(){if(x2)return Of;x2=1,Object.defineProperty(Of,"__esModule",{value:!0}),Of.RdfStoreIndexNestedMapRecursiveQuoted=void 0;const e=Sa(),t=vj();let r=class extends t.RdfStoreIndexNestedMapRecursive{constructor(a){super(a),this.features={quotedTripleFiltering:!0}}*findEncoded(a,i){return yield*this.findEncodedInnerQuoted(0,a,i,(0,e.arePatternsQuoted)(i),this.nestedMap,[])}*findEncodedInnerQuoted(a,i,o,s,u,l){if(a===i.length)yield[...l];else{const f=i[a],d=o[a];if(d)if(s[a]){const c=this.dictionary.findQuotedTriplesEncoded(d);for(const p of c){const _=u.get(p);_&&(l[a]=p,yield*this.findEncodedInnerQuoted(a+1,i,o,s,_,l))}}else{const c=f;if(c!==void 0){const p=u.get(c);p&&(l[a]=f,yield*this.findEncodedInnerQuoted(a+1,i,o,s,p,l))}}else for(const[c,p]of u.entries())l[a]=c,yield*this.findEncodedInnerQuoted(a+1,i,o,s,p,l)}}countInner(a,i,o){const s=i[a];let u=0;if(s)if(s.termType==="Quad"&&(0,e.quadHasVariables)(s)){const l=this.dictionary.findQuotedTriplesEncoded(s);for(const f of l)if(a===i.length-1)o.has(f)&&u++;else{const d=o.get(f);d&&(u+=this.countInner(a+1,i,d))}}else{const l=this.dictionary.encodeOptional(s);if(l!==void 0){if(a===i.length-1)return o.has(l)?1:0;const f=o.get(l);f&&(u+=this.countInner(a+1,i,f))}}else{if(a===i.length-1)return o.size;for(const l of o.values())u+=this.countInner(a+1,i,l)}return u}};return Of.RdfStoreIndexNestedMapRecursiveQuoted=r,Of}var Pf={},T2;function wj(){if(T2)return Pf;T2=1,Object.defineProperty(Pf,"__esModule",{value:!0}),Pf.RdfStoreIndexNestedRecord=void 0;const e=Sa();let t=class{constructor(n){this.features={quotedTripleFiltering:!1},this.dictionary=n.dictionary,this.nestedRecords={}}set(n,a){const i=this.nestedRecords,o=i[n[0]]||(i[n[0]]={}),s=o[n[1]]||(o[n[1]]={}),u=s[n[2]]||(s[n[2]]={});return u[n[3]]?!1:(u[n[3]]=a,!0)}remove(n){const a=this.nestedRecords,i=a[n[0]];if(!i)return!1;const o=i[n[1]];if(!o)return!1;const s=o[n[2]];return!s||!s[n[3]]?!1:(delete s[n[3]],Object.keys(s).length===0&&(delete o[n[2]],Object.keys(o).length===0&&(delete i[n[1]],Object.keys(i).length===0&&delete a[n[0]])),!0)}get(n){const a=(0,e.encodeOptionalTerms)(n,this.dictionary);if(!(!a||a.includes(void 0)))return this.getEncoded(a)}getEncoded(n){var a,i,o;return(o=(i=(a=this.nestedRecords[n[0]])===null||a===void 0?void 0:a[n[1]])===null||i===void 0?void 0:i[n[2]])===null||o===void 0?void 0:o[n[3]]}*find(n){const a=(0,e.encodeOptionalTerms)(n,this.dictionary);if(!a)return;const[i,o,s,u]=a,[l,f,d,c]=n;let p,_,v,b,m,y,g;const S=this.nestedRecords,T=i!==void 0?i in S?[i]:[]:Object.keys(S);for(const I of T){m=S[I],p=l||this.dictionary.decode(Number.parseInt(I,10));const C=o!==void 0?o in m?[o]:[]:Object.keys(m);for(const B of C){y=m[B],_=f||this.dictionary.decode(Number.parseInt(B,10));const D=s!==void 0?s in y?[s]:[]:Object.keys(y);for(const M of D){g=y[M],v=d||this.dictionary.decode(Number.parseInt(M,10));const j=u!==void 0?u in g?[u]:[]:Object.keys(g);for(const O of j)b=c||this.dictionary.decode(Number.parseInt(O,10)),yield[p,_,v,b]}}}}*findEncoded(n,a){const[i,o,s,u]=n;let l,f,d;const c=this.nestedRecords,p=i!==void 0?i in c?[i]:[]:Object.keys(c);for(const _ of p){l=c[_];const v=o!==void 0?o in l?[o]:[]:Object.keys(l);for(const b of v){f=l[b];const m=s!==void 0?s in f?[s]:[]:Object.keys(f);for(const y of m){d=f[y];const g=u!==void 0?u in d?[u]:[]:Object.keys(d);for(const S of g)yield[Number.parseInt(_,10),Number.parseInt(b,10),Number.parseInt(y,10),Number.parseInt(S,10)]}}}}count(n){let a=0;const i=(0,e.encodeOptionalTerms)(n,this.dictionary);if(!i)return 0;const o=i[0],s=i[1],u=i[2],l=i[3];let f,d,c;const p=this.nestedRecords,_=o!==void 0?o in p?[o]:[]:Object.keys(p);for(const v of _){f=p[v];const b=s!==void 0?s in f?[s]:[]:Object.keys(f);for(const m of b){d=f[m];const y=u!==void 0?u in d?[u]:[]:Object.keys(d);for(const g of y)c=d[g],l!==void 0?l in c&&a++:a+=Object.keys(c).length}}return a}};return Pf.RdfStoreIndexNestedRecord=t,Pf}var Cf={},R2;function kW(){if(R2)return Cf;R2=1,Object.defineProperty(Cf,"__esModule",{value:!0}),Cf.RdfStoreIndexNestedRecordQuoted=void 0;const e=Sa(),t=wj();let r=class extends t.RdfStoreIndexNestedRecord{constructor(a){super(a),this.features={quotedTripleFiltering:!0}}*getQuotedPatternKeys(a,i){for(const o of this.dictionary.findQuotedTriplesEncoded(i))o in a&&(yield o)}*find(a){const i=(0,e.encodeOptionalTerms)(a,this.dictionary);if(!i)return;const[o,s,u,l]=i,[f,d,c,p]=a,[_,v,b,m]=(0,e.arePatternsQuoted)(a);let y,g,S,T,I,C,B;const D=this.nestedRecords,M=f!==void 0?_?this.getQuotedPatternKeys(D,f):o in D?[o]:[]:Object.keys(D);for(const j of M){I=D[j],y=!_&&f?f:this.dictionary.decode(Number.parseInt(j,10));const O=d!==void 0?v?this.getQuotedPatternKeys(I,d):s in I?[s]:[]:Object.keys(I);for(const q of O){C=I[q],g=!v&&d?d:this.dictionary.decode(Number.parseInt(q,10));const Q=c!==void 0?b?this.getQuotedPatternKeys(C,c):u in C?[u]:[]:Object.keys(C);for(const ie of Q){B=C[ie],S=!b&&c?c:this.dictionary.decode(Number.parseInt(ie,10));const X=p!==void 0?m?this.getQuotedPatternKeys(B,p):l in B?[l]:[]:Object.keys(B);for(const le of X)T=!m&&p?p:this.dictionary.decode(Number.parseInt(le,10)),yield[y,g,S,T]}}}}*findEncoded(a,i){const[o,s,u,l]=a,[f,d,c,p]=i,[_,v,b,m]=(0,e.arePatternsQuoted)(i);let y,g,S;const T=this.nestedRecords,I=f!==void 0?_?this.getQuotedPatternKeys(T,f):o in T?[o]:[]:Object.keys(T);for(const C of I){y=T[C];const B=d!==void 0?v?this.getQuotedPatternKeys(y,d):s in y?[s]:[]:Object.keys(y);for(const D of B){g=y[D];const M=c!==void 0?b?this.getQuotedPatternKeys(g,c):u in g?[u]:[]:Object.keys(g);for(const j of M){S=g[j];const O=p!==void 0?m?this.getQuotedPatternKeys(S,p):l in S?[l]:[]:Object.keys(S);for(const q of O)yield[Number.parseInt(C,10),Number.parseInt(D,10),Number.parseInt(j,10),Number.parseInt(q,10)]}}}}count(a){let i=0;const o=(0,e.encodeOptionalTerms)(a,this.dictionary);if(!o)return 0;const[s,u,l,f]=o,[d,c,p,_]=a,[v,b,m,y]=(0,e.arePatternsQuoted)(a);let g,S,T;const I=this.nestedRecords,C=d!==void 0?v?this.getQuotedPatternKeys(I,d):s in I?[s]:[]:Object.keys(I);for(const B of C){g=I[B];const D=c!==void 0?b?this.getQuotedPatternKeys(g,c):u in g?[u]:[]:Object.keys(g);for(const M of D){S=g[M];const j=p!==void 0?m?this.getQuotedPatternKeys(S,p):l in S?[l]:[]:Object.keys(S);for(const O of j)T=S[O],_!==void 0?y?i+=[...this.getQuotedPatternKeys(T,_)].length:f in T&&i++:i+=Object.keys(T).length}}return i}};return Cf.RdfStoreIndexNestedRecordQuoted=r,Cf}var Ug={},A2;function FW(){return A2||(A2=1,Object.defineProperty(Ug,"__esModule",{value:!0})),Ug}var Hg={},I2;function jW(){return I2||(I2=1,Object.defineProperty(Hg,"__esModule",{value:!0})),Hg}var O2;function Sj(){return O2||(O2=1,function(e){var t=hf.__createBinding||(Object.create?function(n,a,i,o){o===void 0&&(o=i);var s=Object.getOwnPropertyDescriptor(a,i);(!s||("get"in s?!a.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,o,s)}:function(n,a,i,o){o===void 0&&(o=i),n[o]=a[i]}),r=hf.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(bj(),e),r(IW(),e),r(OW(),e),r(PW(),e),r(pj(),e),r(CW(),e),r(mj(),e),r(LW(),e),r(DW(),e),r(NW(),e),r(kE(),e),r(yj(),e),r(vj(),e),r(MW(),e),r(wj(),e),r(kW(),e),r(FW(),e),r(Sa(),e),r(jW(),e),r(gj(),e)}(hf)),hf}var Hu=Sj(),FE=en(),Vg={},Vp={},zg,P2;function oi(){if(P2)return zg;P2=1;function e(_){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},e(_)}function t(_,v,b){return Object.defineProperty(_,"prototype",{writable:!1}),_}function r(_,v){if(!(_ instanceof v))throw new TypeError("Cannot call a class as a function")}function n(_,v,b){return v=c(v),a(_,l()?Reflect.construct(v,b,c(_).constructor):v.apply(_,b))}function a(_,v){if(v&&(e(v)=="object"||typeof v=="function"))return v;if(v!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i(_)}function i(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}function o(_,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(v&&v.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),Object.defineProperty(_,"prototype",{writable:!1}),v&&d(_,v)}function s(_){var v=typeof Map=="function"?new Map:void 0;return s=function(m){if(m===null||!f(m))return m;if(typeof m!="function")throw new TypeError("Super expression must either be null or a function");if(v!==void 0){if(v.has(m))return v.get(m);v.set(m,y)}function y(){return u(m,arguments,c(this).constructor)}return y.prototype=Object.create(m.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),d(y,m)},s(_)}function u(_,v,b){if(l())return Reflect.construct.apply(null,arguments);var m=[null];m.push.apply(m,v);var y=new(_.bind.apply(_,m));return b&&d(y,b.prototype),y}function l(){try{var _=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l=function(){return!!_})()}function f(_){try{return Function.toString.call(_).indexOf("[native code]")!==-1}catch{return typeof _=="function"}}function d(_,v){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(b,m){return b.__proto__=m,b},d(_,v)}function c(_){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(v){return v.__proto__||Object.getPrototypeOf(v)},c(_)}var p=function(_){function v(b){var m;return r(this,v),m=n(this,v,[`Format functions must be synchronous taking a two arguments: (info, opts)
Found: `.concat(b.toString().split(`
`)[0],`
`)]),Error.captureStackTrace(m,v),m}return o(v,_),t(v)}(s(Error));return zg=function(_){if(_.length>2)throw new p(_);function v(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=m}v.prototype.transform=_;function b(m){return new v(m)}return b.Format=v,b},zg}var Lf={exports:{}},Gg={exports:{}},Wg={exports:{}},Kg={},Zg={},Yg,C2;function jE(){return C2||(C2=1,Yg=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var a=42;t[r]=a;for(var i in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var o=Object.getOwnPropertySymbols(t);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(t,r);if(s.value!==a||s.enumerable!==!0)return!1}return!0}),Yg}var Qg,L2;function D0(){if(L2)return Qg;L2=1;var e=jE();return Qg=function(){return e()&&!!Symbol.toStringTag},Qg}var Xg,D2;function BE(){return D2||(D2=1,Xg=Object),Xg}var Jg,N2;function BW(){return N2||(N2=1,Jg=Error),Jg}var e_,M2;function qW(){return M2||(M2=1,e_=EvalError),e_}var t_,k2;function $W(){return k2||(k2=1,t_=RangeError),t_}var r_,F2;function UW(){return F2||(F2=1,r_=ReferenceError),r_}var n_,j2;function Ej(){return j2||(j2=1,n_=SyntaxError),n_}var i_,B2;function io(){return B2||(B2=1,i_=TypeError),i_}var a_,q2;function HW(){return q2||(q2=1,a_=URIError),a_}var o_,$2;function VW(){return $2||($2=1,o_=Math.abs),o_}var s_,U2;function zW(){return U2||(U2=1,s_=Math.floor),s_}var u_,H2;function GW(){return H2||(H2=1,u_=Math.max),u_}var l_,V2;function WW(){return V2||(V2=1,l_=Math.min),l_}var f_,z2;function KW(){return z2||(z2=1,f_=Math.pow),f_}var c_,G2;function ZW(){return G2||(G2=1,c_=Math.round),c_}var d_,W2;function YW(){return W2||(W2=1,d_=Number.isNaN||function(t){return t!==t}),d_}var h_,K2;function QW(){if(K2)return h_;K2=1;var e=YW();return h_=function(r){return e(r)||r===0?r:r<0?-1:1},h_}var p_,Z2;function XW(){return Z2||(Z2=1,p_=Object.getOwnPropertyDescriptor),p_}var m_,Y2;function ll(){if(Y2)return m_;Y2=1;var e=XW();if(e)try{e([],"length")}catch{e=null}return m_=e,m_}var y_,Q2;function N0(){if(Q2)return y_;Q2=1;var e=Object.defineProperty||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return y_=e,y_}var g_,X2;function JW(){if(X2)return g_;X2=1;var e=typeof Symbol<"u"&&Symbol,t=jE();return g_=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},g_}var __,J2;function xj(){return J2||(J2=1,__=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),__}var b_,eI;function Tj(){if(eI)return b_;eI=1;var e=BE();return b_=e.getPrototypeOf||null,b_}var v_,tI;function eK(){if(tI)return v_;tI=1;var e="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,r=Math.max,n="[object Function]",a=function(u,l){for(var f=[],d=0;d<u.length;d+=1)f[d]=u[d];for(var c=0;c<l.length;c+=1)f[c+u.length]=l[c];return f},i=function(u,l){for(var f=[],d=l,c=0;d<u.length;d+=1,c+=1)f[c]=u[d];return f},o=function(s,u){for(var l="",f=0;f<s.length;f+=1)l+=s[f],f+1<s.length&&(l+=u);return l};return v_=function(u){var l=this;if(typeof l!="function"||t.apply(l)!==n)throw new TypeError(e+l);for(var f=i(arguments,1),d,c=function(){if(this instanceof d){var m=l.apply(this,a(f,arguments));return Object(m)===m?m:this}return l.apply(u,a(f,arguments))},p=r(0,l.length-f.length),_=[],v=0;v<p;v++)_[v]="$"+v;if(d=Function("binder","return function ("+o(_,",")+"){ return binder.apply(this,arguments); }")(c),l.prototype){var b=function(){};b.prototype=l.prototype,d.prototype=new b,b.prototype=null}return d},v_}var w_,rI;function Kh(){if(rI)return w_;rI=1;var e=eK();return w_=Function.prototype.bind||e,w_}var S_,nI;function qE(){return nI||(nI=1,S_=Function.prototype.call),S_}var E_,iI;function $E(){return iI||(iI=1,E_=Function.prototype.apply),E_}var x_,aI;function tK(){return aI||(aI=1,x_=typeof Reflect<"u"&&Reflect&&Reflect.apply),x_}var T_,oI;function Rj(){if(oI)return T_;oI=1;var e=Kh(),t=$E(),r=qE(),n=tK();return T_=n||e.call(r,t),T_}var R_,sI;function UE(){if(sI)return R_;sI=1;var e=Kh(),t=io(),r=qE(),n=Rj();return R_=function(i){if(i.length<1||typeof i[0]!="function")throw new t("a function is required");return n(e,r,i)},R_}var A_,uI;function rK(){if(uI)return A_;uI=1;var e=UE(),t=ll(),r;try{r=[].__proto__===Array.prototype}catch(o){if(!o||typeof o!="object"||!("code"in o)||o.code!=="ERR_PROTO_ACCESS")throw o}var n=!!r&&t&&t(Object.prototype,"__proto__"),a=Object,i=a.getPrototypeOf;return A_=n&&typeof n.get=="function"?e([n.get]):typeof i=="function"?function(s){return i(s==null?s:a(s))}:!1,A_}var I_,lI;function Aj(){if(lI)return I_;lI=1;var e=xj(),t=Tj(),r=rK();return I_=e?function(a){return e(a)}:t?function(a){if(!a||typeof a!="object"&&typeof a!="function")throw new TypeError("getProto: not an object");return t(a)}:r?function(a){return r(a)}:null,I_}var O_,fI;function Ij(){if(fI)return O_;fI=1;var e=Function.prototype.call,t=Object.prototype.hasOwnProperty,r=Kh();return O_=r.call(e,t),O_}var P_,cI;function Zh(){if(cI)return P_;cI=1;var e,t=BE(),r=BW(),n=qW(),a=$W(),i=UW(),o=Ej(),s=io(),u=HW(),l=VW(),f=zW(),d=GW(),c=WW(),p=KW(),_=ZW(),v=QW(),b=Function,m=function(te){try{return b('"use strict"; return ('+te+").constructor;")()}catch{}},y=ll(),g=N0(),S=function(){throw new s},T=y?function(){try{return arguments.callee,S}catch{try{return y(arguments,"callee").get}catch{return S}}}():S,I=JW()(),C=Aj(),B=Tj(),D=xj(),M=$E(),j=qE(),O={},q=typeof Uint8Array>"u"||!C?e:C(Uint8Array),Q={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?e:ArrayBuffer,"%ArrayIteratorPrototype%":I&&C?C([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":O,"%AsyncGenerator%":O,"%AsyncGeneratorFunction%":O,"%AsyncIteratorPrototype%":O,"%Atomics%":typeof Atomics>"u"?e:Atomics,"%BigInt%":typeof BigInt>"u"?e:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?e:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":r,"%eval%":eval,"%EvalError%":n,"%Float32Array%":typeof Float32Array>"u"?e:Float32Array,"%Float64Array%":typeof Float64Array>"u"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?e:FinalizationRegistry,"%Function%":b,"%GeneratorFunction%":O,"%Int8Array%":typeof Int8Array>"u"?e:Int8Array,"%Int16Array%":typeof Int16Array>"u"?e:Int16Array,"%Int32Array%":typeof Int32Array>"u"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":I&&C?C(C([][Symbol.iterator]())):e,"%JSON%":typeof JSON=="object"?JSON:e,"%Map%":typeof Map>"u"?e:Map,"%MapIteratorPrototype%":typeof Map>"u"||!I||!C?e:C(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":t,"%Object.getOwnPropertyDescriptor%":y,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?e:Promise,"%Proxy%":typeof Proxy>"u"?e:Proxy,"%RangeError%":a,"%ReferenceError%":i,"%Reflect%":typeof Reflect>"u"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?e:Set,"%SetIteratorPrototype%":typeof Set>"u"||!I||!C?e:C(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":I&&C?C(""[Symbol.iterator]()):e,"%Symbol%":I?Symbol:e,"%SyntaxError%":o,"%ThrowTypeError%":T,"%TypedArray%":q,"%TypeError%":s,"%Uint8Array%":typeof Uint8Array>"u"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?e:Uint32Array,"%URIError%":u,"%WeakMap%":typeof WeakMap>"u"?e:WeakMap,"%WeakRef%":typeof WeakRef>"u"?e:WeakRef,"%WeakSet%":typeof WeakSet>"u"?e:WeakSet,"%Function.prototype.call%":j,"%Function.prototype.apply%":M,"%Object.defineProperty%":g,"%Object.getPrototypeOf%":B,"%Math.abs%":l,"%Math.floor%":f,"%Math.max%":d,"%Math.min%":c,"%Math.pow%":p,"%Math.round%":_,"%Math.sign%":v,"%Reflect.getPrototypeOf%":D};if(C)try{null.error}catch(te){var ie=C(C(te));Q["%Error.prototype%"]=ie}var X=function te(pe){var R;if(pe==="%AsyncFunction%")R=m("async function () {}");else if(pe==="%GeneratorFunction%")R=m("function* () {}");else if(pe==="%AsyncGeneratorFunction%")R=m("async function* () {}");else if(pe==="%AsyncGenerator%"){var w=te("%AsyncGeneratorFunction%");w&&(R=w.prototype)}else if(pe==="%AsyncIteratorPrototype%"){var x=te("%AsyncGenerator%");x&&C&&(R=C(x.prototype))}return Q[pe]=R,R},le={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ae=Kh(),ne=Ij(),V=ae.call(j,Array.prototype.concat),oe=ae.call(M,Array.prototype.splice),he=ae.call(j,String.prototype.replace),Y=ae.call(j,String.prototype.slice),Z=ae.call(j,RegExp.prototype.exec),ee=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,P=/\\(\\)?/g,A=function(pe){var R=Y(pe,0,1),w=Y(pe,-1);if(R==="%"&&w!=="%")throw new o("invalid intrinsic syntax, expected closing `%`");if(w==="%"&&R!=="%")throw new o("invalid intrinsic syntax, expected opening `%`");var x=[];return he(pe,ee,function(k,U,re,fe){x[x.length]=re?he(fe,P,"$1"):U||k}),x},$=function(pe,R){var w=pe,x;if(ne(le,w)&&(x=le[w],w="%"+x[0]+"%"),ne(Q,w)){var k=Q[w];if(k===O&&(k=X(w)),typeof k>"u"&&!R)throw new s("intrinsic "+pe+" exists, but is not available. Please file an issue!");return{alias:x,name:w,value:k}}throw new o("intrinsic "+pe+" does not exist!")};return P_=function(pe,R){if(typeof pe!="string"||pe.length===0)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof R!="boolean")throw new s('"allowMissing" argument must be a boolean');if(Z(/^%?[^%]*%?$/,pe)===null)throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var w=A(pe),x=w.length>0?w[0]:"",k=$("%"+x+"%",R),U=k.name,re=k.value,fe=!1,ve=k.alias;ve&&(x=ve[0],oe(w,V([0,1],ve)));for(var ce=1,Ie=!0;ce<w.length;ce+=1){var be=w[ce],xe=Y(be,0,1),je=Y(be,-1);if((xe==='"'||xe==="'"||xe==="`"||je==='"'||je==="'"||je==="`")&&xe!==je)throw new o("property names with quotes must have matching quotes");if((be==="constructor"||!Ie)&&(fe=!0),x+="."+be,U="%"+x+"%",ne(Q,U))re=Q[U];else if(re!=null){if(!(be in re)){if(!R)throw new s("base intrinsic for "+pe+" exists, but the property is not available.");return}if(y&&ce+1>=w.length){var Ae=y(re,be);Ie=!!Ae,Ie&&"get"in Ae&&!("originalValue"in Ae.get)?re=Ae.get:re=re[be]}else Ie=ne(re,be),re=re[be];Ie&&!fe&&(Q[U]=re)}}return re},P_}var C_,dI;function Yo(){if(dI)return C_;dI=1;var e=Zh(),t=UE(),r=t([e("%String.prototype.indexOf%")]);return C_=function(a,i){var o=e(a,!!i);return typeof o=="function"&&r(a,".prototype.")>-1?t([o]):o},C_}var L_,hI;function nK(){if(hI)return L_;hI=1;var e=D0()(),t=Yo(),r=t("Object.prototype.toString"),n=function(s){return e&&s&&typeof s=="object"&&Symbol.toStringTag in s?!1:r(s)==="[object Arguments]"},a=function(s){return n(s)?!0:s!==null&&typeof s=="object"&&"length"in s&&typeof s.length=="number"&&s.length>=0&&r(s)!=="[object Array]"&&"callee"in s&&r(s.callee)==="[object Function]"},i=function(){return n(arguments)}();return n.isLegacyArguments=a,L_=i?n:a,L_}var D_,pI;function iK(){if(pI)return D_;pI=1;var e=Yo(),t=D0()(),r=Ij(),n=ll(),a;if(t){var i=e("RegExp.prototype.exec"),o={},s=function(){throw o},u={toString:s,valueOf:s};typeof Symbol.toPrimitive=="symbol"&&(u[Symbol.toPrimitive]=s),a=function(c){if(!c||typeof c!="object")return!1;var p=n(c,"lastIndex"),_=p&&r(p,"value");if(!_)return!1;try{i(c,u)}catch(v){return v===o}}}else{var l=e("Object.prototype.toString"),f="[object RegExp]";a=function(c){return!c||typeof c!="object"&&typeof c!="function"?!1:l(c)===f}}return D_=a,D_}var N_,mI;function aK(){if(mI)return N_;mI=1;var e=Yo(),t=iK(),r=e("RegExp.prototype.exec"),n=io();return N_=function(i){if(!t(i))throw new n("`regex` must be a RegExp");return function(s){return r(i,s)!==null}},N_}var M_,yI;function oK(){if(yI)return M_;yI=1;var e=Yo(),t=aK(),r=t(/^\s*(?:function)?\*/),n=D0()(),a=Aj(),i=e("Object.prototype.toString"),o=e("Function.prototype.toString"),s=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch{}},u;return M_=function(f){if(typeof f!="function")return!1;if(r(o(f)))return!0;if(!n){var d=i(f);return d==="[object GeneratorFunction]"}if(!a)return!1;if(typeof u>"u"){var c=s();u=c?a(c):!1}return a(f)===u},M_}var k_,gI;function sK(){if(gI)return k_;gI=1;var e=Function.prototype.toString,t=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,n;if(typeof t=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw n}}),n={},t(function(){throw 42},null,r)}catch(y){y!==n&&(t=null)}else t=null;var a=/^\s*class\b/,i=function(g){try{var S=e.call(g);return a.test(S)}catch{return!1}},o=function(g){try{return i(g)?!1:(e.call(g),!0)}catch{return!1}},s=Object.prototype.toString,u="[object Object]",l="[object Function]",f="[object GeneratorFunction]",d="[object HTMLAllCollection]",c="[object HTML document.all class]",p="[object HTMLCollection]",_=typeof Symbol=="function"&&!!Symbol.toStringTag,v=!(0 in[,]),b=function(){return!1};if(typeof document=="object"){var m=document.all;s.call(m)===s.call(document.all)&&(b=function(g){if((v||!g)&&(typeof g>"u"||typeof g=="object"))try{var S=s.call(g);return(S===d||S===c||S===p||S===u)&&g("")==null}catch{}return!1})}return k_=t?function(g){if(b(g))return!0;if(!g||typeof g!="function"&&typeof g!="object")return!1;try{t(g,null,r)}catch(S){if(S!==n)return!1}return!i(g)&&o(g)}:function(g){if(b(g))return!0;if(!g||typeof g!="function"&&typeof g!="object")return!1;if(_)return o(g);if(i(g))return!1;var S=s.call(g);return S!==l&&S!==f&&!/^\[object HTML/.test(S)?!1:o(g)},k_}var F_,_I;function uK(){if(_I)return F_;_I=1;var e=sK(),t=Object.prototype.toString,r=Object.prototype.hasOwnProperty,n=function(u,l,f){for(var d=0,c=u.length;d<c;d++)r.call(u,d)&&(f==null?l(u[d],d,u):l.call(f,u[d],d,u))},a=function(u,l,f){for(var d=0,c=u.length;d<c;d++)f==null?l(u.charAt(d),d,u):l.call(f,u.charAt(d),d,u)},i=function(u,l,f){for(var d in u)r.call(u,d)&&(f==null?l(u[d],d,u):l.call(f,u[d],d,u))},o=function(u,l,f){if(!e(l))throw new TypeError("iterator must be a function");var d;arguments.length>=3&&(d=f),t.call(u)==="[object Array]"?n(u,l,d):typeof u=="string"?a(u,l,d):i(u,l,d)};return F_=o,F_}var j_,bI;function lK(){return bI||(bI=1,j_=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),j_}var B_,vI;function fK(){if(vI)return B_;vI=1;var e=lK(),t=typeof globalThis>"u"?xt:globalThis;return B_=function(){for(var n=[],a=0;a<e.length;a++)typeof t[e[a]]=="function"&&(n[n.length]=e[a]);return n},B_}var q_={exports:{}},$_,wI;function Oj(){if(wI)return $_;wI=1;var e=N0(),t=Ej(),r=io(),n=ll();return $_=function(i,o,s){if(!i||typeof i!="object"&&typeof i!="function")throw new r("`obj` must be an object or a function`");if(typeof o!="string"&&typeof o!="symbol")throw new r("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new r("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new r("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new r("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new r("`loose`, if provided, must be a boolean");var u=arguments.length>3?arguments[3]:null,l=arguments.length>4?arguments[4]:null,f=arguments.length>5?arguments[5]:null,d=arguments.length>6?arguments[6]:!1,c=!!n&&n(i,o);if(e)e(i,o,{configurable:f===null&&c?c.configurable:!f,enumerable:u===null&&c?c.enumerable:!u,value:s,writable:l===null&&c?c.writable:!l});else if(d||!u&&!l&&!f)i[o]=s;else throw new t("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},$_}var U_,SI;function Pj(){if(SI)return U_;SI=1;var e=N0(),t=function(){return!!e};return t.hasArrayLengthDefineBug=function(){if(!e)return null;try{return e([],"length",{value:1}).length!==1}catch{return!0}},U_=t,U_}var H_,EI;function cK(){if(EI)return H_;EI=1;var e=Zh(),t=Oj(),r=Pj()(),n=ll(),a=io(),i=e("%Math.floor%");return H_=function(s,u){if(typeof s!="function")throw new a("`fn` is not a function");if(typeof u!="number"||u<0||u>4294967295||i(u)!==u)throw new a("`length` must be a positive 32-bit integer");var l=arguments.length>2&&!!arguments[2],f=!0,d=!0;if("length"in s&&n){var c=n(s,"length");c&&!c.configurable&&(f=!1),c&&!c.writable&&(d=!1)}return(f||d||!l)&&(r?t(s,"length",u,!0,!0):t(s,"length",u)),s},H_}var V_,xI;function dK(){if(xI)return V_;xI=1;var e=Kh(),t=$E(),r=Rj();return V_=function(){return r(e,t,arguments)},V_}var TI;function M0(){return TI||(TI=1,function(e){var t=cK(),r=N0(),n=UE(),a=dK();e.exports=function(o){var s=n(arguments),u=o.length-(arguments.length-1);return t(s,1+(u>0?u:0),!0)},r?r(e.exports,"apply",{value:a}):e.exports.apply=a}(q_)),q_.exports}var z_,RI;function Cj(){if(RI)return z_;RI=1;var e=uK(),t=fK(),r=M0(),n=Yo(),a=ll(),i=n("Object.prototype.toString"),o=D0()(),s=typeof globalThis>"u"?xt:globalThis,u=t(),l=n("String.prototype.slice"),f=Object.getPrototypeOf,d=n("Array.prototype.indexOf",!0)||function(b,m){for(var y=0;y<b.length;y+=1)if(b[y]===m)return y;return-1},c={__proto__:null};o&&a&&f?e(u,function(v){var b=new s[v];if(Symbol.toStringTag in b){var m=f(b),y=a(m,Symbol.toStringTag);if(!y){var g=f(m);y=a(g,Symbol.toStringTag)}c["$"+v]=r(y.get)}}):e(u,function(v){var b=new s[v],m=b.slice||b.set;m&&(c["$"+v]=r(m))});var p=function(b){var m=!1;return e(c,function(y,g){if(!m)try{"$"+y(b)===g&&(m=l(g,1))}catch{}}),m},_=function(b){var m=!1;return e(c,function(y,g){if(!m)try{y(b),m=l(g,1)}catch{}}),m};return z_=function(b){if(!b||typeof b!="object")return!1;if(!o){var m=l(i(b),8,-1);return d(u,m)>-1?m:m!=="Object"?!1:_(b)}return a?p(b):null},z_}var G_,AI;function hK(){if(AI)return G_;AI=1;var e=Cj();return G_=function(r){return!!e(r)},G_}var II;function pK(){return II||(II=1,function(e){var t=nK(),r=oK(),n=Cj(),a=hK();function i(ce){return ce.call.bind(ce)}var o=typeof BigInt<"u",s=typeof Symbol<"u",u=i(Object.prototype.toString),l=i(Number.prototype.valueOf),f=i(String.prototype.valueOf),d=i(Boolean.prototype.valueOf);if(o)var c=i(BigInt.prototype.valueOf);if(s)var p=i(Symbol.prototype.valueOf);function _(ce,Ie){if(typeof ce!="object")return!1;try{return Ie(ce),!0}catch{return!1}}e.isArgumentsObject=t,e.isGeneratorFunction=r,e.isTypedArray=a;function v(ce){return typeof Promise<"u"&&ce instanceof Promise||ce!==null&&typeof ce=="object"&&typeof ce.then=="function"&&typeof ce.catch=="function"}e.isPromise=v;function b(ce){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(ce):a(ce)||Y(ce)}e.isArrayBufferView=b;function m(ce){return n(ce)==="Uint8Array"}e.isUint8Array=m;function y(ce){return n(ce)==="Uint8ClampedArray"}e.isUint8ClampedArray=y;function g(ce){return n(ce)==="Uint16Array"}e.isUint16Array=g;function S(ce){return n(ce)==="Uint32Array"}e.isUint32Array=S;function T(ce){return n(ce)==="Int8Array"}e.isInt8Array=T;function I(ce){return n(ce)==="Int16Array"}e.isInt16Array=I;function C(ce){return n(ce)==="Int32Array"}e.isInt32Array=C;function B(ce){return n(ce)==="Float32Array"}e.isFloat32Array=B;function D(ce){return n(ce)==="Float64Array"}e.isFloat64Array=D;function M(ce){return n(ce)==="BigInt64Array"}e.isBigInt64Array=M;function j(ce){return n(ce)==="BigUint64Array"}e.isBigUint64Array=j;function O(ce){return u(ce)==="[object Map]"}O.working=typeof Map<"u"&&O(new Map);function q(ce){return typeof Map>"u"?!1:O.working?O(ce):ce instanceof Map}e.isMap=q;function Q(ce){return u(ce)==="[object Set]"}Q.working=typeof Set<"u"&&Q(new Set);function ie(ce){return typeof Set>"u"?!1:Q.working?Q(ce):ce instanceof Set}e.isSet=ie;function X(ce){return u(ce)==="[object WeakMap]"}X.working=typeof WeakMap<"u"&&X(new WeakMap);function le(ce){return typeof WeakMap>"u"?!1:X.working?X(ce):ce instanceof WeakMap}e.isWeakMap=le;function ae(ce){return u(ce)==="[object WeakSet]"}ae.working=typeof WeakSet<"u"&&ae(new WeakSet);function ne(ce){return ae(ce)}e.isWeakSet=ne;function V(ce){return u(ce)==="[object ArrayBuffer]"}V.working=typeof ArrayBuffer<"u"&&V(new ArrayBuffer);function oe(ce){return typeof ArrayBuffer>"u"?!1:V.working?V(ce):ce instanceof ArrayBuffer}e.isArrayBuffer=oe;function he(ce){return u(ce)==="[object DataView]"}he.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&he(new DataView(new ArrayBuffer(1),0,1));function Y(ce){return typeof DataView>"u"?!1:he.working?he(ce):ce instanceof DataView}e.isDataView=Y;var Z=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function ee(ce){return u(ce)==="[object SharedArrayBuffer]"}function P(ce){return typeof Z>"u"?!1:(typeof ee.working>"u"&&(ee.working=ee(new Z)),ee.working?ee(ce):ce instanceof Z)}e.isSharedArrayBuffer=P;function A(ce){return u(ce)==="[object AsyncFunction]"}e.isAsyncFunction=A;function $(ce){return u(ce)==="[object Map Iterator]"}e.isMapIterator=$;function te(ce){return u(ce)==="[object Set Iterator]"}e.isSetIterator=te;function pe(ce){return u(ce)==="[object Generator]"}e.isGeneratorObject=pe;function R(ce){return u(ce)==="[object WebAssembly.Module]"}e.isWebAssemblyCompiledModule=R;function w(ce){return _(ce,l)}e.isNumberObject=w;function x(ce){return _(ce,f)}e.isStringObject=x;function k(ce){return _(ce,d)}e.isBooleanObject=k;function U(ce){return o&&_(ce,c)}e.isBigIntObject=U;function re(ce){return s&&_(ce,p)}e.isSymbolObject=re;function fe(ce){return w(ce)||x(ce)||k(ce)||U(ce)||re(ce)}e.isBoxedPrimitive=fe;function ve(ce){return typeof Uint8Array<"u"&&(oe(ce)||P(ce))}e.isAnyArrayBuffer=ve,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(ce){Object.defineProperty(e,ce,{enumerable:!1,value:function(){throw new Error(ce+" is not supported in userland")}})})}(Zg)),Zg}var W_,OI;function mK(){return OI||(OI=1,W_=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"}),W_}var zp={exports:{}},PI;function Cr(){return PI||(PI=1,typeof Object.create=="function"?zp.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:zp.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}),zp.exports}var CI;function Pr(){return CI||(CI=1,function(e){var t={},r=Object.getOwnPropertyDescriptors||function(Z){for(var ee=Object.keys(Z),P={},A=0;A<ee.length;A++)P[ee[A]]=Object.getOwnPropertyDescriptor(Z,ee[A]);return P},n=/%[sdj%]/g;e.format=function(Y){if(!I(Y)){for(var Z=[],ee=0;ee<arguments.length;ee++)Z.push(s(arguments[ee]));return Z.join(" ")}for(var ee=1,P=arguments,A=P.length,$=String(Y).replace(n,function(pe){if(pe==="%%")return"%";if(ee>=A)return pe;switch(pe){case"%s":return String(P[ee++]);case"%d":return Number(P[ee++]);case"%j":try{return JSON.stringify(P[ee++])}catch{return"[Circular]"}default:return pe}}),te=P[ee];ee<A;te=P[++ee])g(te)||!M(te)?$+=" "+te:$+=" "+s(te);return $},e.deprecate=function(Y,Z){if(typeof ze<"u"&&ze.noDeprecation===!0)return Y;if(typeof ze>"u")return function(){return e.deprecate(Y,Z).apply(this,arguments)};var ee=!1;function P(){if(!ee){if(ze.throwDeprecation)throw new Error(Z);ze.traceDeprecation?console.trace(Z):console.error(Z),ee=!0}return Y.apply(this,arguments)}return P};var a={},i=/^$/;if(t.NODE_DEBUG){var o=t.NODE_DEBUG;o=o.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+o+"$","i")}e.debuglog=function(Y){if(Y=Y.toUpperCase(),!a[Y])if(i.test(Y)){var Z=ze.pid;a[Y]=function(){var ee=e.format.apply(e,arguments);console.error("%s %d: %s",Y,Z,ee)}}else a[Y]=function(){};return a[Y]};function s(Y,Z){var ee={seen:[],stylize:l};return arguments.length>=3&&(ee.depth=arguments[2]),arguments.length>=4&&(ee.colors=arguments[3]),y(Z)?ee.showHidden=Z:Z&&e._extend(ee,Z),B(ee.showHidden)&&(ee.showHidden=!1),B(ee.depth)&&(ee.depth=2),B(ee.colors)&&(ee.colors=!1),B(ee.customInspect)&&(ee.customInspect=!0),ee.colors&&(ee.stylize=u),d(ee,Y,ee.depth)}e.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function u(Y,Z){var ee=s.styles[Z];return ee?"\x1B["+s.colors[ee][0]+"m"+Y+"\x1B["+s.colors[ee][1]+"m":Y}function l(Y,Z){return Y}function f(Y){var Z={};return Y.forEach(function(ee,P){Z[ee]=!0}),Z}function d(Y,Z,ee){if(Y.customInspect&&Z&&q(Z.inspect)&&Z.inspect!==e.inspect&&!(Z.constructor&&Z.constructor.prototype===Z)){var P=Z.inspect(ee,Y);return I(P)||(P=d(Y,P,ee)),P}var A=c(Y,Z);if(A)return A;var $=Object.keys(Z),te=f($);if(Y.showHidden&&($=Object.getOwnPropertyNames(Z)),O(Z)&&($.indexOf("message")>=0||$.indexOf("description")>=0))return p(Z);if($.length===0){if(q(Z)){var pe=Z.name?": "+Z.name:"";return Y.stylize("[Function"+pe+"]","special")}if(D(Z))return Y.stylize(RegExp.prototype.toString.call(Z),"regexp");if(j(Z))return Y.stylize(Date.prototype.toString.call(Z),"date");if(O(Z))return p(Z)}var R="",w=!1,x=["{","}"];if(m(Z)&&(w=!0,x=["[","]"]),q(Z)){var k=Z.name?": "+Z.name:"";R=" [Function"+k+"]"}if(D(Z)&&(R=" "+RegExp.prototype.toString.call(Z)),j(Z)&&(R=" "+Date.prototype.toUTCString.call(Z)),O(Z)&&(R=" "+p(Z)),$.length===0&&(!w||Z.length==0))return x[0]+R+x[1];if(ee<0)return D(Z)?Y.stylize(RegExp.prototype.toString.call(Z),"regexp"):Y.stylize("[Object]","special");Y.seen.push(Z);var U;return w?U=_(Y,Z,ee,te,$):U=$.map(function(re){return v(Y,Z,ee,te,re,w)}),Y.seen.pop(),b(U,R,x)}function c(Y,Z){if(B(Z))return Y.stylize("undefined","undefined");if(I(Z)){var ee="'"+JSON.stringify(Z).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Y.stylize(ee,"string")}if(T(Z))return Y.stylize(""+Z,"number");if(y(Z))return Y.stylize(""+Z,"boolean");if(g(Z))return Y.stylize("null","null")}function p(Y){return"["+Error.prototype.toString.call(Y)+"]"}function _(Y,Z,ee,P,A){for(var $=[],te=0,pe=Z.length;te<pe;++te)ne(Z,String(te))?$.push(v(Y,Z,ee,P,String(te),!0)):$.push("");return A.forEach(function(R){R.match(/^\d+$/)||$.push(v(Y,Z,ee,P,R,!0))}),$}function v(Y,Z,ee,P,A,$){var te,pe,R;if(R=Object.getOwnPropertyDescriptor(Z,A)||{value:Z[A]},R.get?R.set?pe=Y.stylize("[Getter/Setter]","special"):pe=Y.stylize("[Getter]","special"):R.set&&(pe=Y.stylize("[Setter]","special")),ne(P,A)||(te="["+A+"]"),pe||(Y.seen.indexOf(R.value)<0?(g(ee)?pe=d(Y,R.value,null):pe=d(Y,R.value,ee-1),pe.indexOf(`
`)>-1&&($?pe=pe.split(`
`).map(function(w){return"  "+w}).join(`
`).slice(2):pe=`
`+pe.split(`
`).map(function(w){return"   "+w}).join(`
`))):pe=Y.stylize("[Circular]","special")),B(te)){if($&&A.match(/^\d+$/))return pe;te=JSON.stringify(""+A),te.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(te=te.slice(1,-1),te=Y.stylize(te,"name")):(te=te.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),te=Y.stylize(te,"string"))}return te+": "+pe}function b(Y,Z,ee){var P=Y.reduce(function(A,$){return $.indexOf(`
`)>=0,A+$.replace(/\u001b\[\d\d?m/g,"").length+1},0);return P>60?ee[0]+(Z===""?"":Z+`
 `)+" "+Y.join(`,
  `)+" "+ee[1]:ee[0]+Z+" "+Y.join(", ")+" "+ee[1]}e.types=pK();function m(Y){return Array.isArray(Y)}e.isArray=m;function y(Y){return typeof Y=="boolean"}e.isBoolean=y;function g(Y){return Y===null}e.isNull=g;function S(Y){return Y==null}e.isNullOrUndefined=S;function T(Y){return typeof Y=="number"}e.isNumber=T;function I(Y){return typeof Y=="string"}e.isString=I;function C(Y){return typeof Y=="symbol"}e.isSymbol=C;function B(Y){return Y===void 0}e.isUndefined=B;function D(Y){return M(Y)&&ie(Y)==="[object RegExp]"}e.isRegExp=D,e.types.isRegExp=D;function M(Y){return typeof Y=="object"&&Y!==null}e.isObject=M;function j(Y){return M(Y)&&ie(Y)==="[object Date]"}e.isDate=j,e.types.isDate=j;function O(Y){return M(Y)&&(ie(Y)==="[object Error]"||Y instanceof Error)}e.isError=O,e.types.isNativeError=O;function q(Y){return typeof Y=="function"}e.isFunction=q;function Q(Y){return Y===null||typeof Y=="boolean"||typeof Y=="number"||typeof Y=="string"||typeof Y=="symbol"||typeof Y>"u"}e.isPrimitive=Q,e.isBuffer=mK();function ie(Y){return Object.prototype.toString.call(Y)}function X(Y){return Y<10?"0"+Y.toString(10):Y.toString(10)}var le=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ae(){var Y=new Date,Z=[X(Y.getHours()),X(Y.getMinutes()),X(Y.getSeconds())].join(":");return[Y.getDate(),le[Y.getMonth()],Z].join(" ")}e.log=function(){console.log("%s - %s",ae(),e.format.apply(e,arguments))},e.inherits=Cr(),e._extend=function(Y,Z){if(!Z||!M(Z))return Y;for(var ee=Object.keys(Z),P=ee.length;P--;)Y[ee[P]]=Z[ee[P]];return Y};function ne(Y,Z){return Object.prototype.hasOwnProperty.call(Y,Z)}var V=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;e.promisify=function(Z){if(typeof Z!="function")throw new TypeError('The "original" argument must be of type Function');if(V&&Z[V]){var ee=Z[V];if(typeof ee!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(ee,V,{value:ee,enumerable:!1,writable:!1,configurable:!0}),ee}function ee(){for(var P,A,$=new Promise(function(R,w){P=R,A=w}),te=[],pe=0;pe<arguments.length;pe++)te.push(arguments[pe]);te.push(function(R,w){R?A(R):P(w)});try{Z.apply(this,te)}catch(R){A(R)}return $}return Object.setPrototypeOf(ee,Object.getPrototypeOf(Z)),V&&Object.defineProperty(ee,V,{value:ee,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(ee,r(Z))},e.promisify.custom=V;function oe(Y,Z){if(!Y){var ee=new Error("Promise was rejected with a falsy value");ee.reason=Y,Y=ee}return Z(Y)}function he(Y){if(typeof Y!="function")throw new TypeError('The "original" argument must be of type Function');function Z(){for(var ee=[],P=0;P<arguments.length;P++)ee.push(arguments[P]);var A=ee.pop();if(typeof A!="function")throw new TypeError("The last argument must be of type Function");var $=this,te=function(){return A.apply($,arguments)};Y.apply(this,ee).then(function(pe){ze.nextTick(te.bind(null,null,pe))},function(pe){ze.nextTick(oe.bind(null,pe,te))})}return Object.setPrototypeOf(Z,Object.getPrototypeOf(Y)),Object.defineProperties(Z,r(Y)),Z}e.callbackify=he}(Kg)),Kg}var K_={exports:{}},LI;function yK(){return LI||(LI=1,function(e){var t={};e.exports=t;var r={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],brightRed:[91,39],brightGreen:[92,39],brightYellow:[93,39],brightBlue:[94,39],brightMagenta:[95,39],brightCyan:[96,39],brightWhite:[97,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgGray:[100,49],bgGrey:[100,49],bgBrightRed:[101,49],bgBrightGreen:[102,49],bgBrightYellow:[103,49],bgBrightBlue:[104,49],bgBrightMagenta:[105,49],bgBrightCyan:[106,49],bgBrightWhite:[107,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(r).forEach(function(n){var a=r[n],i=t[n]=[];i.open="\x1B["+a[0]+"m",i.close="\x1B["+a[1]+"m"})}(K_)),K_.exports}var Zr={},DI;function fl(){return DI||(DI=1,Zr.endianness=function(){return"LE"},Zr.hostname=function(){return typeof location<"u"?location.hostname:""},Zr.loadavg=function(){return[]},Zr.uptime=function(){return 0},Zr.freemem=function(){return Number.MAX_VALUE},Zr.totalmem=function(){return Number.MAX_VALUE},Zr.cpus=function(){return[]},Zr.type=function(){return"Browser"},Zr.release=function(){return typeof navigator<"u"?navigator.appVersion:""},Zr.networkInterfaces=Zr.getNetworkInterfaces=function(){return{}},Zr.arch=function(){return"javascript"},Zr.platform=function(){return"browser"},Zr.tmpdir=Zr.tmpDir=function(){return"/tmp"},Zr.EOL=`
`,Zr.homedir=function(){return"/"}),Zr}var Z_,NI;function gK(){return NI||(NI=1,Z_=function(e,t){t=t||ze.argv||[];var r=t.indexOf("--"),n=/^-{1,2}/.test(e)?"":"--",a=t.indexOf(n+e);return a!==-1&&(r===-1?!0:a<r)}),Z_}var Y_,MI;function _K(){if(MI)return Y_;MI=1;var e={},t=fl(),r=gK(),n=e,a=void 0;r("no-color")||r("no-colors")||r("color=false")?a=!1:(r("color")||r("colors")||r("color=true")||r("color=always"))&&(a=!0),"FORCE_COLOR"in n&&(a=n.FORCE_COLOR.length===0||parseInt(n.FORCE_COLOR,10)!==0);function i(u){return u===0?!1:{level:u,hasBasic:!0,has256:u>=2,has16m:u>=3}}function o(u){if(a===!1)return 0;if(r("color=16m")||r("color=full")||r("color=truecolor"))return 3;if(r("color=256"))return 2;if(u&&!u.isTTY&&a!==!0)return 0;var l=a?1:0;if(ze.platform==="win32"){var f=t.release().split(".");return Number(ze.versions.node.split(".")[0])>=8&&Number(f[0])>=10&&Number(f[2])>=10586?Number(f[2])>=14931?3:2:1}if("CI"in n)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(function(c){return c in n})||n.CI_NAME==="codeship"?1:l;if("TEAMCITY_VERSION"in n)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(n.TEAMCITY_VERSION)?1:0;if("TERM_PROGRAM"in n){var d=parseInt((n.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(n.TERM_PROGRAM){case"iTerm.app":return d>=3?3:2;case"Hyper":return 3;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(n.TERM)?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test(n.TERM)||"COLORTERM"in n?1:(n.TERM==="dumb",l)}function s(u){var l=o(u);return i(l)}return Y_={supportsColor:s,stdout:s(ze.stdout),stderr:s(ze.stderr)},Y_}var Q_={exports:{}},kI;function bK(){return kI||(kI=1,function(e){e.exports=function(r,n){var a="";r=r||"Run the trap, drop the bass",r=r.split("");var i={a:["@","","","","","",""],b:["","","","","",""],c:["","",""],d:["","","","","",""],e:["","","","","","","",""],f:[""],g:[""],h:["","","","","",""],i:[""],j:[""],k:["","","",""],l:[""],m:["","","","","",""],n:["","","","","",""],o:["","","","","","","","",""],p:["",""],q:[""],r:["","","","","",""],s:["","","",""],t:["","",""],u:["",""],v:[""],w:["","","",""],x:["","","",""],y:["","",""],z:["",""]};return r.forEach(function(o){o=o.toLowerCase();var s=i[o]||[" "],u=Math.floor(Math.random()*s.length);typeof i[o]<"u"?a+=i[o][u]:a+=o}),a}}(Q_)),Q_.exports}var X_={exports:{}},FI;function vK(){return FI||(FI=1,function(e){e.exports=function(r,n){r=r||"   he is here   ";var a={up:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],down:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],mid:["","","","","","","","","","","","","","","","","","","","",""," "]},i=[].concat(a.up,a.down,a.mid);function o(l){var f=Math.floor(Math.random()*l);return f}function s(l){var f=!1;return i.filter(function(d){f=d===l}),f}function u(l,f){var d="",c,p;f=f||{},f.up=typeof f.up<"u"?f.up:!0,f.mid=typeof f.mid<"u"?f.mid:!0,f.down=typeof f.down<"u"?f.down:!0,f.size=typeof f.size<"u"?f.size:"maxi",l=l.split("");for(p in l)if(!s(p)){switch(d=d+l[p],c={up:0,down:0,mid:0},f.size){case"mini":c.up=o(8),c.mid=o(2),c.down=o(8);break;case"maxi":c.up=o(16)+3,c.mid=o(4)+1,c.down=o(64)+3;break;default:c.up=o(8)+1,c.mid=o(6)/2,c.down=o(8)+1;break}var _=["up","mid","down"];for(var v in _)for(var b=_[v],m=0;m<=c[b];m++)f[b]&&(d=d+a[b][o(a[b].length)])}return d}return u(r,n)}}(X_)),X_.exports}var J_={exports:{}},jI;function wK(){return jI||(jI=1,function(e){e.exports=function(t){return function(r,n,a){if(r===" ")return r;switch(n%3){case 0:return t.red(r);case 1:return t.white(r);case 2:return t.blue(r)}}}}(J_)),J_.exports}var eb={exports:{}},BI;function SK(){return BI||(BI=1,function(e){e.exports=function(t){return function(r,n,a){return n%2===0?r:t.inverse(r)}}}(eb)),eb.exports}var tb={exports:{}},qI;function EK(){return qI||(qI=1,function(e){e.exports=function(t){var r=["red","yellow","green","blue","magenta"];return function(n,a,i){return n===" "?n:t[r[a++%r.length]](n)}}}(tb)),tb.exports}var rb={exports:{}},$I;function xK(){return $I||($I=1,function(e){e.exports=function(t){var r=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta","brightYellow","brightRed","brightGreen","brightBlue","brightWhite","brightCyan","brightMagenta"];return function(n,a,i){return n===" "?n:t[r[Math.round(Math.random()*(r.length-2))]](n)}}}(rb)),rb.exports}var UI;function TK(){return UI||(UI=1,function(e){var t={};e.exports=t,t.themes={};var r=Pr(),n=t.styles=yK(),a=Object.defineProperties,i=new RegExp(/[\r\n]+/g);t.supportsColor=_K().supportsColor,typeof t.enabled>"u"&&(t.enabled=t.supportsColor()!==!1),t.enable=function(){t.enabled=!0},t.disable=function(){t.enabled=!1},t.stripColors=t.strip=function(v){return(""+v).replace(/\x1B\[\d+m/g,"")},t.stylize=function(b,m){if(!t.enabled)return b+"";var y=n[m];return!y&&m in t?t[m](b):y.open+b+y.close};var o=/[|\\{}()[\]^$+*?.]/g,s=function(v){if(typeof v!="string")throw new TypeError("Expected a string");return v.replace(o,"\\$&")};function u(v){var b=function m(){return d.apply(m,arguments)};return b._styles=v,b.__proto__=f,b}var l=function(){var v={};return n.grey=n.gray,Object.keys(n).forEach(function(b){n[b].closeRe=new RegExp(s(n[b].close),"g"),v[b]={get:function(){return u(this._styles.concat(b))}}}),v}(),f=a(function(){},l);function d(){var v=Array.prototype.slice.call(arguments),b=v.map(function(T){return T!=null&&T.constructor===String?T:r.inspect(T)}).join(" ");if(!t.enabled||!b)return b;for(var m=b.indexOf(`
`)!=-1,y=this._styles,g=y.length;g--;){var S=n[y[g]];b=S.open+b.replace(S.closeRe,S.open)+S.close,m&&(b=b.replace(i,function(T){return S.close+T+S.open}))}return b}t.setTheme=function(v){if(typeof v=="string"){console.log("colors.setTheme now only accepts an object, not a string.  If you are trying to set a theme from a file, it is now your (the caller's) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + '/../themes/generic-logging.js'); The new syntax looks like colors.setTheme(require(__dirname + '/../themes/generic-logging.js'));");return}for(var b in v)(function(m){t[m]=function(y){if(typeof v[m]=="object"){var g=y;for(var S in v[m])g=t[v[m][S]](g);return g}return t[v[m]](y)}})(b)};function c(){var v={};return Object.keys(l).forEach(function(b){v[b]={get:function(){return u([b])}}}),v}var p=function(b,m){var y=m.split("");return y=y.map(b),y.join("")};t.trap=bK(),t.zalgo=vK(),t.maps={},t.maps.america=wK()(t),t.maps.zebra=SK()(t),t.maps.rainbow=EK()(t),t.maps.random=xK()(t);for(var _ in t.maps)(function(v){t[v]=function(b){return p(t.maps[v],b)}})(_);a(t,c())}(Wg)),Wg.exports}var HI;function Lj(){return HI||(HI=1,function(e){var t=TK();e.exports=t}(Gg)),Gg.exports}var nb={},ib={},Gp={},VI;function RK(){return VI||(VI=1,Gp.levels={error:0,warn:1,help:2,data:3,info:4,debug:5,prompt:6,verbose:7,input:8,silly:9},Gp.colors={error:"red",warn:"yellow",help:"cyan",data:"grey",info:"green",debug:"blue",prompt:"grey",verbose:"cyan",input:"grey",silly:"magenta"}),Gp}var Wp={},zI;function AK(){return zI||(zI=1,Wp.levels={error:0,warn:1,info:2,http:3,verbose:4,debug:5,silly:6},Wp.colors={error:"red",warn:"yellow",info:"green",http:"green",verbose:"cyan",debug:"blue",silly:"magenta"}),Wp}var Kp={},GI;function IK(){return GI||(GI=1,Kp.levels={emerg:0,alert:1,crit:2,error:3,warning:4,notice:5,info:6,debug:7},Kp.colors={emerg:"red",alert:"yellow",crit:"red",error:"red",warning:"red",notice:"yellow",info:"green",debug:"blue"}),Kp}var WI;function OK(){return WI||(WI=1,function(e){Object.defineProperty(e,"cli",{value:RK()}),Object.defineProperty(e,"npm",{value:AK()}),Object.defineProperty(e,"syslog",{value:IK()})}(ib)),ib}var KI;function Lr(){return KI||(KI=1,function(e){Object.defineProperty(e,"LEVEL",{value:Symbol.for("level")}),Object.defineProperty(e,"MESSAGE",{value:Symbol.for("message")}),Object.defineProperty(e,"SPLAT",{value:Symbol.for("splat")}),Object.defineProperty(e,"configs",{value:OK()})}(nb)),nb}var ZI;function HE(){if(ZI)return Lf.exports;ZI=1;function e(c){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},e(c)}function t(c,p){if(!(c instanceof p))throw new TypeError("Cannot call a class as a function")}function r(c,p){for(var _=0;_<p.length;_++){var v=p[_];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(c,a(v.key),v)}}function n(c,p,_){return r(c.prototype,p),r(c,_),Object.defineProperty(c,"prototype",{writable:!1}),c}function a(c){var p=i(c,"string");return e(p)=="symbol"?p:p+""}function i(c,p){if(e(c)!="object"||!c)return c;var _=c[Symbol.toPrimitive];if(_!==void 0){var v=_.call(c,p);if(e(v)!="object")return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(c)}var o=Lj(),s=Lr(),u=s.LEVEL,l=s.MESSAGE;o.enabled=!0;var f=/\s+/,d=function(){function c(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t(this,c),p.colors&&this.addColors(p.colors),this.options=p}return n(c,[{key:"addColors",value:function(_){return c.addColors(_)}},{key:"colorize",value:function(_,v,b){if(typeof b>"u"&&(b=v),!Array.isArray(c.allColors[_]))return o[c.allColors[_]](b);for(var m=0,y=c.allColors[_].length;m<y;m++)b=o[c.allColors[_][m]](b);return b}},{key:"transform",value:function(_,v){return v.all&&typeof _[l]=="string"&&(_[l]=this.colorize(_[u],_.level,_[l])),(v.level||v.all||!v.message)&&(_.level=this.colorize(_[u],_.level)),(v.all||v.message)&&(_.message=this.colorize(_[u],_.level,_.message)),_}}],[{key:"addColors",value:function(_){var v=Object.keys(_).reduce(function(b,m){return b[m]=f.test(_[m])?_[m].split(f):_[m],b},{});return c.allColors=Object.assign({},c.allColors||{},v),c.allColors}}])}();return Lf.exports=function(c){return new d(c)},Lf.exports.Colorizer=Lf.exports.Format=d,Lf.exports}var ab,YI;function PK(){if(YI)return ab;YI=1;var e=HE(),t=e.Colorizer;return ab=function(r){return t.addColors(r.colors||r),r},ab}var ob,QI;function CK(){if(QI)return ob;QI=1;var e=oi();return ob=e(function(t){return t.message="	".concat(t.message),t}),ob}var Zp={exports:{}},Df={exports:{}},XI;function Dj(){if(XI)return Df.exports;XI=1;function e(m){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},e(m)}function t(m){return i(m)||a(m)||n(m)||r()}function r(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n(m,y){if(m){if(typeof m=="string")return o(m,y);var g={}.toString.call(m).slice(8,-1);return g==="Object"&&m.constructor&&(g=m.constructor.name),g==="Map"||g==="Set"?Array.from(m):g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g)?o(m,y):void 0}}function a(m){if(typeof Symbol<"u"&&m[Symbol.iterator]!=null||m["@@iterator"]!=null)return Array.from(m)}function i(m){if(Array.isArray(m))return o(m)}function o(m,y){(y==null||y>m.length)&&(y=m.length);for(var g=0,S=Array(y);g<y;g++)S[g]=m[g];return S}function s(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function u(m,y){for(var g=0;g<y.length;g++){var S=y[g];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(m,f(S.key),S)}}function l(m,y,g){return u(m.prototype,y),u(m,g),Object.defineProperty(m,"prototype",{writable:!1}),m}function f(m){var y=d(m,"string");return e(y)=="symbol"?y:y+""}function d(m,y){if(e(m)!="object"||!m)return m;var g=m[Symbol.toPrimitive];if(g!==void 0){var S=g.call(m,y);if(e(S)!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(m)}var c=Lr(),p=c.configs,_=c.LEVEL,v=c.MESSAGE,b=function(){function m(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{levels:p.npm.levels};s(this,m),this.paddings=m.paddingForLevels(y.levels,y.filler),this.options=y}return l(m,[{key:"transform",value:function(g,S){return g.message="".concat(this.paddings[g[_]]).concat(g.message),g[v]&&(g[v]="".concat(this.paddings[g[_]]).concat(g[v])),g}}],[{key:"getLongestLevel",value:function(g){var S=Object.keys(g).map(function(T){return T.length});return Math.max.apply(Math,t(S))}},{key:"paddingForLevel",value:function(g,S,T){var I=T+1-g.length,C=Math.floor(I/S.length),B="".concat(S).concat(S.repeat(C));return B.slice(0,I)}},{key:"paddingForLevels",value:function(g){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:" ",T=m.getLongestLevel(g);return Object.keys(g).reduce(function(I,C){return I[C]=m.paddingForLevel(C,S,T),I},{})}}])}();return Df.exports=function(m){return new b(m)},Df.exports.Padder=Df.exports.Format=b,Df.exports}var JI;function LK(){if(JI)return Zp.exports;JI=1;function e(_){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},e(_)}function t(_,v){if(!(_ instanceof v))throw new TypeError("Cannot call a class as a function")}function r(_,v){for(var b=0;b<v.length;b++){var m=v[b];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(_,a(m.key),m)}}function n(_,v,b){return r(_.prototype,v),Object.defineProperty(_,"prototype",{writable:!1}),_}function a(_){var v=i(_,"string");return e(v)=="symbol"?v:v+""}function i(_,v){if(e(_)!="object"||!_)return _;var b=_[Symbol.toPrimitive];if(b!==void 0){var m=b.call(_,v);if(e(m)!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(_)}var o=HE(),s=o.Colorizer,u=Dj(),l=u.Padder,f=Lr(),d=f.configs,c=f.MESSAGE,p=function(){function _(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t(this,_),v.levels||(v.levels=d.cli.levels),this.colorizer=new s(v),this.padder=new l(v),this.options=v}return n(_,[{key:"transform",value:function(b,m){return this.colorizer.transform(this.padder.transform(b,m),m),b[c]="".concat(b.level,":").concat(b.message),b}}])}();return Zp.exports=function(_){return new p(_)},Zp.exports.Format=p,Zp.exports}var Yp={exports:{}},eO;function DK(){if(eO)return Yp.exports;eO=1;var e=oi();function t(n){if(n.every(r))return function(a){for(var i=a,o=0;o<n.length;o++)if(i=n[o].transform(i,n[o].options),!i)return!1;return i}}function r(n){if(typeof n.transform!="function")throw new Error(["No transform function found on format. Did you create a format instance?","const myFormat = format(formatFn);","const instance = myFormat();"].join(`
`));return!0}return Yp.exports=function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=e(t(a)),s=o();return s.Format=o.Format,s},Yp.exports.cascade=t,Yp.exports}var sb,tO;function NK(){if(tO)return sb;tO=1;function e(u){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},e(u)}function t(u,l,f){return(l=r(l))in u?Object.defineProperty(u,l,{value:f,enumerable:!0,configurable:!0,writable:!0}):u[l]=f,u}function r(u){var l=n(u,"string");return e(l)=="symbol"?l:l+""}function n(u,l){if(e(u)!="object"||!u)return u;var f=u[Symbol.toPrimitive];if(f!==void 0){var d=f.call(u,l||"default");if(e(d)!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(u)}var a=oi(),i=Lr(),o=i.LEVEL,s=i.MESSAGE;return sb=a(function(u,l){var f=l.stack,d=l.cause;if(u instanceof Error){var c=Object.assign({},u,t(t(t({level:u.level},o,u[o]||u.level),"message",u.message),s,u[s]||u.message));return f&&(c.stack=u.stack),d&&(c.cause=u.cause),c}if(!(u.message instanceof Error))return u;var p=u.message;return Object.assign(u,p),u.message=p.message,u[s]=p.message,f&&(u.stack=p.stack),d&&(u.cause=p.cause),u}),sb}var Qp={exports:{}},rO;function Yh(){return rO||(rO=1,function(e,t){const{hasOwnProperty:r}=Object.prototype,n=m();n.configure=m,n.stringify=n,n.default=n,t.stringify=n,t.configure=m,e.exports=n;const a=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]/;function i(y){return y.length<5e3&&!a.test(y)?`"${y}"`:JSON.stringify(y)}function o(y,g){if(y.length>200||g)return y.sort(g);for(let S=1;S<y.length;S++){const T=y[S];let I=S;for(;I!==0&&y[I-1]>T;)y[I]=y[I-1],I--;y[I]=T}return y}const s=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Object.getPrototypeOf(new Int8Array)),Symbol.toStringTag).get;function u(y){return s.call(y)!==void 0&&y.length!==0}function l(y,g,S){y.length<S&&(S=y.length);const T=g===","?"":" ";let I=`"0":${T}${y[0]}`;for(let C=1;C<S;C++)I+=`${g}"${C}":${T}${y[C]}`;return I}function f(y){if(r.call(y,"circularValue")){const g=y.circularValue;if(typeof g=="string")return`"${g}"`;if(g==null)return g;if(g===Error||g===TypeError)return{toString(){throw new TypeError("Converting circular structure to JSON")}};throw new TypeError('The "circularValue" argument must be of type string or the value null or undefined')}return'"[Circular]"'}function d(y){let g;if(r.call(y,"deterministic")&&(g=y.deterministic,typeof g!="boolean"&&typeof g!="function"))throw new TypeError('The "deterministic" argument must be of type boolean or comparator function');return g===void 0?!0:g}function c(y,g){let S;if(r.call(y,g)&&(S=y[g],typeof S!="boolean"))throw new TypeError(`The "${g}" argument must be of type boolean`);return S===void 0?!0:S}function p(y,g){let S;if(r.call(y,g)){if(S=y[g],typeof S!="number")throw new TypeError(`The "${g}" argument must be of type number`);if(!Number.isInteger(S))throw new TypeError(`The "${g}" argument must be an integer`);if(S<1)throw new RangeError(`The "${g}" argument must be >= 1`)}return S===void 0?1/0:S}function _(y){return y===1?"1 item":`${y} items`}function v(y){const g=new Set;for(const S of y)(typeof S=="string"||typeof S=="number")&&g.add(String(S));return g}function b(y){if(r.call(y,"strict")){const g=y.strict;if(typeof g!="boolean")throw new TypeError('The "strict" argument must be of type boolean');if(g)return S=>{let T=`Object can not safely be stringified. Received type ${typeof S}`;throw typeof S!="function"&&(T+=` (${S.toString()})`),new Error(T)}}}function m(y){y={...y};const g=b(y);g&&(y.bigint===void 0&&(y.bigint=!1),"circularValue"in y||(y.circularValue=Error));const S=f(y),T=c(y,"bigint"),I=d(y),C=typeof I=="function"?I:void 0,B=p(y,"maximumDepth"),D=p(y,"maximumBreadth");function M(ie,X,le,ae,ne,V){let oe=X[ie];switch(typeof oe=="object"&&oe!==null&&typeof oe.toJSON=="function"&&(oe=oe.toJSON(ie)),oe=ae.call(X,ie,oe),typeof oe){case"string":return i(oe);case"object":{if(oe===null)return"null";if(le.indexOf(oe)!==-1)return S;let he="",Y=",";const Z=V;if(Array.isArray(oe)){if(oe.length===0)return"[]";if(B<le.length+1)return'"[Array]"';le.push(oe),ne!==""&&(V+=ne,he+=`
${V}`,Y=`,
${V}`);const pe=Math.min(oe.length,D);let R=0;for(;R<pe-1;R++){const x=M(String(R),oe,le,ae,ne,V);he+=x!==void 0?x:"null",he+=Y}const w=M(String(R),oe,le,ae,ne,V);if(he+=w!==void 0?w:"null",oe.length-1>D){const x=oe.length-D-1;he+=`${Y}"... ${_(x)} not stringified"`}return ne!==""&&(he+=`
${Z}`),le.pop(),`[${he}]`}let ee=Object.keys(oe);const P=ee.length;if(P===0)return"{}";if(B<le.length+1)return'"[Object]"';let A="",$="";ne!==""&&(V+=ne,Y=`,
${V}`,A=" ");const te=Math.min(P,D);I&&!u(oe)&&(ee=o(ee,C)),le.push(oe);for(let pe=0;pe<te;pe++){const R=ee[pe],w=M(R,oe,le,ae,ne,V);w!==void 0&&(he+=`${$}${i(R)}:${A}${w}`,$=Y)}if(P>D){const pe=P-D;he+=`${$}"...":${A}"${_(pe)} not stringified"`,$=Y}return ne!==""&&$.length>1&&(he=`
${V}${he}
${Z}`),le.pop(),`{${he}}`}case"number":return isFinite(oe)?String(oe):g?g(oe):"null";case"boolean":return oe===!0?"true":"false";case"undefined":return;case"bigint":if(T)return String(oe);default:return g?g(oe):void 0}}function j(ie,X,le,ae,ne,V){switch(typeof X=="object"&&X!==null&&typeof X.toJSON=="function"&&(X=X.toJSON(ie)),typeof X){case"string":return i(X);case"object":{if(X===null)return"null";if(le.indexOf(X)!==-1)return S;const oe=V;let he="",Y=",";if(Array.isArray(X)){if(X.length===0)return"[]";if(B<le.length+1)return'"[Array]"';le.push(X),ne!==""&&(V+=ne,he+=`
${V}`,Y=`,
${V}`);const P=Math.min(X.length,D);let A=0;for(;A<P-1;A++){const te=j(String(A),X[A],le,ae,ne,V);he+=te!==void 0?te:"null",he+=Y}const $=j(String(A),X[A],le,ae,ne,V);if(he+=$!==void 0?$:"null",X.length-1>D){const te=X.length-D-1;he+=`${Y}"... ${_(te)} not stringified"`}return ne!==""&&(he+=`
${oe}`),le.pop(),`[${he}]`}le.push(X);let Z="";ne!==""&&(V+=ne,Y=`,
${V}`,Z=" ");let ee="";for(const P of ae){const A=j(P,X[P],le,ae,ne,V);A!==void 0&&(he+=`${ee}${i(P)}:${Z}${A}`,ee=Y)}return ne!==""&&ee.length>1&&(he=`
${V}${he}
${oe}`),le.pop(),`{${he}}`}case"number":return isFinite(X)?String(X):g?g(X):"null";case"boolean":return X===!0?"true":"false";case"undefined":return;case"bigint":if(T)return String(X);default:return g?g(X):void 0}}function O(ie,X,le,ae,ne){switch(typeof X){case"string":return i(X);case"object":{if(X===null)return"null";if(typeof X.toJSON=="function"){if(X=X.toJSON(ie),typeof X!="object")return O(ie,X,le,ae,ne);if(X===null)return"null"}if(le.indexOf(X)!==-1)return S;const V=ne;if(Array.isArray(X)){if(X.length===0)return"[]";if(B<le.length+1)return'"[Array]"';le.push(X),ne+=ae;let A=`
${ne}`;const $=`,
${ne}`,te=Math.min(X.length,D);let pe=0;for(;pe<te-1;pe++){const w=O(String(pe),X[pe],le,ae,ne);A+=w!==void 0?w:"null",A+=$}const R=O(String(pe),X[pe],le,ae,ne);if(A+=R!==void 0?R:"null",X.length-1>D){const w=X.length-D-1;A+=`${$}"... ${_(w)} not stringified"`}return A+=`
${V}`,le.pop(),`[${A}]`}let oe=Object.keys(X);const he=oe.length;if(he===0)return"{}";if(B<le.length+1)return'"[Object]"';ne+=ae;const Y=`,
${ne}`;let Z="",ee="",P=Math.min(he,D);u(X)&&(Z+=l(X,Y,D),oe=oe.slice(X.length),P-=X.length,ee=Y),I&&(oe=o(oe,C)),le.push(X);for(let A=0;A<P;A++){const $=oe[A],te=O($,X[$],le,ae,ne);te!==void 0&&(Z+=`${ee}${i($)}: ${te}`,ee=Y)}if(he>D){const A=he-D;Z+=`${ee}"...": "${_(A)} not stringified"`,ee=Y}return ee!==""&&(Z=`
${ne}${Z}
${V}`),le.pop(),`{${Z}}`}case"number":return isFinite(X)?String(X):g?g(X):"null";case"boolean":return X===!0?"true":"false";case"undefined":return;case"bigint":if(T)return String(X);default:return g?g(X):void 0}}function q(ie,X,le){switch(typeof X){case"string":return i(X);case"object":{if(X===null)return"null";if(typeof X.toJSON=="function"){if(X=X.toJSON(ie),typeof X!="object")return q(ie,X,le);if(X===null)return"null"}if(le.indexOf(X)!==-1)return S;let ae="";const ne=X.length!==void 0;if(ne&&Array.isArray(X)){if(X.length===0)return"[]";if(B<le.length+1)return'"[Array]"';le.push(X);const Z=Math.min(X.length,D);let ee=0;for(;ee<Z-1;ee++){const A=q(String(ee),X[ee],le);ae+=A!==void 0?A:"null",ae+=","}const P=q(String(ee),X[ee],le);if(ae+=P!==void 0?P:"null",X.length-1>D){const A=X.length-D-1;ae+=`,"... ${_(A)} not stringified"`}return le.pop(),`[${ae}]`}let V=Object.keys(X);const oe=V.length;if(oe===0)return"{}";if(B<le.length+1)return'"[Object]"';let he="",Y=Math.min(oe,D);ne&&u(X)&&(ae+=l(X,",",D),V=V.slice(X.length),Y-=X.length,he=","),I&&(V=o(V,C)),le.push(X);for(let Z=0;Z<Y;Z++){const ee=V[Z],P=q(ee,X[ee],le);P!==void 0&&(ae+=`${he}${i(ee)}:${P}`,he=",")}if(oe>D){const Z=oe-D;ae+=`${he}"...":"${_(Z)} not stringified"`}return le.pop(),`{${ae}}`}case"number":return isFinite(X)?String(X):g?g(X):"null";case"boolean":return X===!0?"true":"false";case"undefined":return;case"bigint":if(T)return String(X);default:return g?g(X):void 0}}function Q(ie,X,le){if(arguments.length>1){let ae="";if(typeof le=="number"?ae=" ".repeat(Math.min(le,10)):typeof le=="string"&&(ae=le.slice(0,10)),X!=null){if(typeof X=="function")return M("",{"":ie},[],X,ae,"");if(Array.isArray(X))return j("",ie,[],v(X),ae,"")}if(ae.length!==0)return O("",ie,[],ae,"")}return q("",ie,[])}return Q}}(Qp,Qp.exports)),Qp.exports}var ub,nO;function MK(){if(nO)return ub;nO=1;var e=oi(),t=Lr(),r=t.MESSAGE,n=Yh();function a(i,o){return typeof o=="bigint"?o.toString():o}return ub=e(function(i,o){var s=n.configure(o);return i[r]=s(i,o.replacer||a,o.space),i}),ub}var lb,iO;function kK(){if(iO)return lb;iO=1;var e=oi();return lb=e(function(t,r){return r.message?(t.message="[".concat(r.label,"] ").concat(t.message),t):(t.label=r.label,t)}),lb}var fb,aO;function FK(){if(aO)return fb;aO=1;var e=oi(),t=Lr(),r=t.MESSAGE,n=Yh();return fb=e(function(a){var i={};return a.message&&(i["@message"]=a.message,delete a.message),a.timestamp&&(i["@timestamp"]=a.timestamp,delete a.timestamp),i["@fields"]=a,a[r]=n(i),a}),fb}var cb,oO;function jK(){if(oO)return cb;oO=1;function e(s){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},e(s)}function t(s,u,l){return(u=r(u))in s?Object.defineProperty(s,u,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[u]=l,s}function r(s){var u=n(s,"string");return e(u)=="symbol"?u:u+""}function n(s,u){if(e(s)!="object"||!s)return s;var l=s[Symbol.toPrimitive];if(l!==void 0){var f=l.call(s,u||"default");if(e(f)!="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return(u==="string"?String:Number)(s)}var a=oi();function i(s,u,l){var f=u.reduce(function(c,p){return c[p]=s[p],delete s[p],c},{}),d=Object.keys(s).reduce(function(c,p){return c[p]=s[p],delete s[p],c},{});return Object.assign(s,f,t({},l,d)),s}function o(s,u,l){return s[l]=u.reduce(function(f,d){return f[d]=s[d],delete s[d],f},{}),s}return cb=a(function(s){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l="metadata";u.key&&(l=u.key);var f=[];return!u.fillExcept&&!u.fillWith&&(f.push("level"),f.push("message")),u.fillExcept&&(f=u.fillExcept),f.length>0?i(s,f,l):u.fillWith?o(s,u.fillWith,l):s}),cb}var db,sO;function Nj(){if(sO)return db;sO=1;var e=1e3,t=e*60,r=t*60,n=r*24,a=n*7,i=n*365.25;db=function(f,d){d=d||{};var c=typeof f;if(c==="string"&&f.length>0)return o(f);if(c==="number"&&isFinite(f))return d.long?u(f):s(f);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(f))};function o(f){if(f=String(f),!(f.length>100)){var d=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(f);if(d){var c=parseFloat(d[1]),p=(d[2]||"ms").toLowerCase();switch(p){case"years":case"year":case"yrs":case"yr":case"y":return c*i;case"weeks":case"week":case"w":return c*a;case"days":case"day":case"d":return c*n;case"hours":case"hour":case"hrs":case"hr":case"h":return c*r;case"minutes":case"minute":case"mins":case"min":case"m":return c*t;case"seconds":case"second":case"secs":case"sec":case"s":return c*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}}}function s(f){var d=Math.abs(f);return d>=n?Math.round(f/n)+"d":d>=r?Math.round(f/r)+"h":d>=t?Math.round(f/t)+"m":d>=e?Math.round(f/e)+"s":f+"ms"}function u(f){var d=Math.abs(f);return d>=n?l(f,d,n,"day"):d>=r?l(f,d,r,"hour"):d>=t?l(f,d,t,"minute"):d>=e?l(f,d,e,"second"):f+" ms"}function l(f,d,c,p){var _=d>=c*1.5;return Math.round(f/c)+" "+p+(_?"s":"")}return db}var hb,uO;function BK(){if(uO)return hb;uO=1;var e=void 0,t=oi(),r=Nj();return hb=t(function(n){var a=+new Date;return e.diff=a-(e.prevTime||a),e.prevTime=a,n.ms="+".concat(r(e.diff)),n}),hb}var pb,lO;function qK(){if(lO)return pb;lO=1;var e=Pr().inspect,t=oi(),r=Lr(),n=r.LEVEL,a=r.MESSAGE,i=r.SPLAT;return pb=t(function(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=Object.assign({},o);return delete u[n],delete u[a],delete u[i],o[a]=e(u,!1,s.depth||null,s.colorize),o}),pb}var Nf={exports:{}},fO;function $K(){if(fO)return Nf.exports;fO=1;function e(l){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},e(l)}function t(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")}function r(l,f){for(var d=0;d<f.length;d++){var c=f[d];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(l,a(c.key),c)}}function n(l,f,d){return r(l.prototype,f),Object.defineProperty(l,"prototype",{writable:!1}),l}function a(l){var f=i(l,"string");return e(f)=="symbol"?f:f+""}function i(l,f){if(e(l)!="object"||!l)return l;var d=l[Symbol.toPrimitive];if(d!==void 0){var c=d.call(l,f);if(e(c)!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(l)}var o=Lr(),s=o.MESSAGE,u=function(){function l(f){t(this,l),this.template=f}return n(l,[{key:"transform",value:function(d){return d[s]=this.template(d),d}}])}();return Nf.exports=function(l){return new u(l)},Nf.exports.Printf=Nf.exports.Format=u,Nf.exports}var mb,cO;function UK(){if(cO)return mb;cO=1;var e=oi(),t=Lr(),r=t.MESSAGE,n=Yh();return mb=e(function(a){var i=n(Object.assign({},a,{level:void 0,message:void 0,splat:void 0})),o=a.padding&&a.padding[a.level]||"";return i!=="{}"?a[r]="".concat(a.level,":").concat(o," ").concat(a.message," ").concat(i):a[r]="".concat(a.level,":").concat(o," ").concat(a.message),a}),mb}var yb,dO;function HK(){if(dO)return yb;dO=1;function e(y){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},e(y)}function t(y){return i(y)||a(y)||n(y)||r()}function r(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n(y,g){{if(typeof y=="string")return o(y,g);var S={}.toString.call(y).slice(8,-1);return S==="Object"&&y.constructor&&(S=y.constructor.name),S==="Map"||S==="Set"?Array.from(y):S==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S)?o(y,g):void 0}}function a(y){if(typeof Symbol<"u"&&y[Symbol.iterator]!=null||y["@@iterator"]!=null)return Array.from(y)}function i(y){if(Array.isArray(y))return o(y)}function o(y,g){(g==null||g>y.length)&&(g=y.length);for(var S=0,T=Array(g);S<g;S++)T[S]=y[S];return T}function s(y,g){if(!(y instanceof g))throw new TypeError("Cannot call a class as a function")}function u(y,g){for(var S=0;S<g.length;S++){var T=g[S];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(y,f(T.key),T)}}function l(y,g,S){return u(y.prototype,g),Object.defineProperty(y,"prototype",{writable:!1}),y}function f(y){var g=d(y,"string");return e(g)=="symbol"?g:g+""}function d(y,g){if(e(y)!="object"||!y)return y;var S=y[Symbol.toPrimitive];if(S!==void 0){var T=S.call(y,g);if(e(T)!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(y)}var c=Pr(),p=Lr(),_=p.SPLAT,v=/%[scdjifoO%]/g,b=/%%/g,m=function(){function y(g){s(this,y),this.options=g}return l(y,[{key:"_splat",value:function(S,T){var I=S.message,C=S[_]||S.splat||[],B=I.match(b),D=B&&B.length||0,M=T.length-D,j=M-C.length,O=j<0?C.splice(j,-1*j):[],q=O.length;if(q)for(var Q=0;Q<q;Q++)Object.assign(S,O[Q]);return S.message=c.format.apply(c,[I].concat(t(C))),S}},{key:"transform",value:function(S){var T=S.message,I=S[_]||S.splat;if(!I||!I.length)return S;var C=T&&T.match&&T.match(v);if(!C&&(I||I.length)){var B=I.length>1?I.splice(0):I,D=B.length;if(D)for(var M=0;M<D;M++)Object.assign(S,B[M]);return S}return C?this._splat(S,C):S}}])}();return yb=function(y){return new m(y)},yb}var Mj=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,bo="\\d\\d?",co="\\d\\d",VK="\\d{3}",zK="\\d{4}",hh="[^\\s]+",kj=/\[([^]*?)\]/gm;function Fj(e,t){for(var r=[],n=0,a=e.length;n<a;n++)r.push(e[n].substr(0,t));return r}var hO=function(e){return function(t,r){var n=r[e].map(function(i){return i.toLowerCase()}),a=n.indexOf(t.toLowerCase());return a>-1?a:null}};function ko(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var n=0,a=t;n<a.length;n++){var i=a[n];for(var o in i)e[o]=i[o]}return e}var jj=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Bj=["January","February","March","April","May","June","July","August","September","October","November","December"],GK=Fj(Bj,3),WK=Fj(jj,3),VE={dayNamesShort:WK,dayNames:jj,monthNamesShort:GK,monthNames:Bj,amPm:["am","pm"],DoFn:function(e){return e+["th","st","nd","rd"][e%10>3?0:(e-e%10!==10?1:0)*e%10]}},Ym=ko({},VE),qj=function(e){return Ym=ko(Ym,e)},pO=function(e){return e.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},Hn=function(e,t){for(t===void 0&&(t=2),e=String(e);e.length<t;)e="0"+e;return e},KK={D:function(e){return String(e.getDate())},DD:function(e){return Hn(e.getDate())},Do:function(e,t){return t.DoFn(e.getDate())},d:function(e){return String(e.getDay())},dd:function(e){return Hn(e.getDay())},ddd:function(e,t){return t.dayNamesShort[e.getDay()]},dddd:function(e,t){return t.dayNames[e.getDay()]},M:function(e){return String(e.getMonth()+1)},MM:function(e){return Hn(e.getMonth()+1)},MMM:function(e,t){return t.monthNamesShort[e.getMonth()]},MMMM:function(e,t){return t.monthNames[e.getMonth()]},YY:function(e){return Hn(String(e.getFullYear()),4).substr(2)},YYYY:function(e){return Hn(e.getFullYear(),4)},h:function(e){return String(e.getHours()%12||12)},hh:function(e){return Hn(e.getHours()%12||12)},H:function(e){return String(e.getHours())},HH:function(e){return Hn(e.getHours())},m:function(e){return String(e.getMinutes())},mm:function(e){return Hn(e.getMinutes())},s:function(e){return String(e.getSeconds())},ss:function(e){return Hn(e.getSeconds())},S:function(e){return String(Math.round(e.getMilliseconds()/100))},SS:function(e){return Hn(Math.round(e.getMilliseconds()/10),2)},SSS:function(e){return Hn(e.getMilliseconds(),3)},a:function(e,t){return e.getHours()<12?t.amPm[0]:t.amPm[1]},A:function(e,t){return e.getHours()<12?t.amPm[0].toUpperCase():t.amPm[1].toUpperCase()},ZZ:function(e){var t=e.getTimezoneOffset();return(t>0?"-":"+")+Hn(Math.floor(Math.abs(t)/60)*100+Math.abs(t)%60,4)},Z:function(e){var t=e.getTimezoneOffset();return(t>0?"-":"+")+Hn(Math.floor(Math.abs(t)/60),2)+":"+Hn(Math.abs(t)%60,2)}},mO=function(e){return+e-1},yO=[null,bo],gO=[null,hh],_O=["isPm",hh,function(e,t){var r=e.toLowerCase();return r===t.amPm[0]?0:r===t.amPm[1]?1:null}],bO=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(e){var t=(e+"").match(/([+-]|\d\d)/gi);if(t){var r=+t[1]*60+parseInt(t[2],10);return t[0]==="+"?r:-r}return 0}],ZK={D:["day",bo],DD:["day",co],Do:["day",bo+hh,function(e){return parseInt(e,10)}],M:["month",bo,mO],MM:["month",co,mO],YY:["year",co,function(e){var t=new Date,r=+(""+t.getFullYear()).substr(0,2);return+(""+(+e>68?r-1:r)+e)}],h:["hour",bo,void 0,"isPm"],hh:["hour",co,void 0,"isPm"],H:["hour",bo],HH:["hour",co],m:["minute",bo],mm:["minute",co],s:["second",bo],ss:["second",co],YYYY:["year",zK],S:["millisecond","\\d",function(e){return+e*100}],SS:["millisecond",co,function(e){return+e*10}],SSS:["millisecond",VK],d:yO,dd:yO,ddd:gO,dddd:gO,MMM:["month",hh,hO("monthNamesShort")],MMMM:["month",hh,hO("monthNames")],a:_O,A:_O,ZZ:bO,Z:bO},Qm={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},$j=function(e){return ko(Qm,e)},Uj=function(e,t,r){if(t===void 0&&(t=Qm.default),r===void 0&&(r={}),typeof e=="number"&&(e=new Date(e)),Object.prototype.toString.call(e)!=="[object Date]"||isNaN(e.getTime()))throw new Error("Invalid Date pass to format");t=Qm[t]||t;var n=[];t=t.replace(kj,function(i,o){return n.push(o),"@@@"});var a=ko(ko({},Ym),r);return t=t.replace(Mj,function(i){return KK[i](e,a)}),t.replace(/@@@/g,function(){return n.shift()})};function Hj(e,t,r){if(r===void 0&&(r={}),typeof t!="string")throw new Error("Invalid format in fecha parse");if(t=Qm[t]||t,e.length>1e3)return null;var n=new Date,a={year:n.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},i=[],o=[],s=t.replace(kj,function(S,T){return o.push(pO(T)),"@@@"}),u={},l={};s=pO(s).replace(Mj,function(S){var T=ZK[S],I=T[0],C=T[1],B=T[3];if(u[I])throw new Error("Invalid format. "+I+" specified twice in format");return u[I]=!0,B&&(l[B]=!0),i.push(T),"("+C+")"}),Object.keys(l).forEach(function(S){if(!u[S])throw new Error("Invalid format. "+S+" is required in specified format")}),s=s.replace(/@@@/g,function(){return o.shift()});var f=e.match(new RegExp(s,"i"));if(!f)return null;for(var d=ko(ko({},Ym),r),c=1;c<f.length;c++){var p=i[c-1],_=p[0],v=p[2],b=v?v(f[c],d):+f[c];if(b==null)return null;a[_]=b}a.isPm===1&&a.hour!=null&&+a.hour!=12?a.hour=+a.hour+12:a.isPm===0&&+a.hour==12&&(a.hour=0);var m;if(a.timezoneOffset==null){m=new Date(a.year,a.month,a.day,a.hour,a.minute,a.second,a.millisecond);for(var y=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],c=0,g=y.length;c<g;c++)if(u[y[c][0]]&&a[y[c][0]]!==m[y[c][1]]())return null}else if(m=new Date(Date.UTC(a.year,a.month,a.day,a.hour,a.minute-a.timezoneOffset,a.second,a.millisecond)),a.month>11||a.month<0||a.day>31||a.day<1||a.hour>23||a.hour<0||a.minute>59||a.minute<0||a.second>59||a.second<0)return null;return m}var YK={format:Uj,parse:Hj,defaultI18n:VE,setGlobalDateI18n:qj,setGlobalDateMasks:$j};const QK=Object.freeze(Object.defineProperty({__proto__:null,assign:ko,default:YK,defaultI18n:VE,format:Uj,parse:Hj,setGlobalDateI18n:qj,setGlobalDateMasks:$j},Symbol.toStringTag,{value:"Module"})),XK=tl(QK);var gb,vO;function JK(){if(vO)return gb;vO=1;var e=XK,t=oi();return gb=t(function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return n.format&&(r.timestamp=typeof n.format=="function"?n.format():e.format(new Date,n.format)),r.timestamp||(r.timestamp=new Date().toISOString()),n.alias&&(r[n.alias]=r.timestamp),r}),gb}var _b,wO;function eZ(){if(wO)return _b;wO=1;var e=Lj(),t=oi(),r=Lr(),n=r.MESSAGE;return _b=t(function(a,i){return i.level!==!1&&(a.level=e.strip(a.level)),i.message!==!1&&(a.message=e.strip(String(a.message))),i.raw!==!1&&a[n]&&(a[n]=e.strip(String(a[n]))),a}),_b}var SO;function Vj(){if(SO)return Vp;SO=1;var e=Vp.format=oi();return Vp.levels=PK(),Object.defineProperty(e,"align",{value:CK()}),Object.defineProperty(e,"cli",{value:LK()}),Object.defineProperty(e,"colorize",{value:HE()}),Object.defineProperty(e,"combine",{value:DK()}),Object.defineProperty(e,"errors",{value:NK()}),Object.defineProperty(e,"json",{value:MK()}),Object.defineProperty(e,"label",{value:kK()}),Object.defineProperty(e,"logstash",{value:FK()}),Object.defineProperty(e,"metadata",{value:jK()}),Object.defineProperty(e,"ms",{value:BK()}),Object.defineProperty(e,"padLevels",{value:Dj()}),Object.defineProperty(e,"prettyPrint",{value:qK()}),Object.defineProperty(e,"printf",{value:$K()}),Object.defineProperty(e,"simple",{value:UK()}),Object.defineProperty(e,"splat",{value:HK()}),Object.defineProperty(e,"timestamp",{value:JK()}),Object.defineProperty(e,"uncolorize",{value:eZ()}),Vp}var bb={},EO;function zj(){return EO||(EO=1,function(e){var t=Pr(),r=t.format;e.warn={deprecated:function(a){return function(){throw new Error(r("{ %s } was removed in winston@3.0.0.",a))}},useFormat:function(a){return function(){throw new Error([r("{ %s } was removed in winston@3.0.0.",a),"Use a custom winston.format = winston.format(function) instead."].join(`
`))}},forFunctions:function(a,i,o){o.forEach(function(s){a[s]=e.warn[i](s)})},forProperties:function(a,i,o){o.forEach(function(s){var u=e.warn[i](s);Object.defineProperty(a,s,{get:u,set:u})})}}}(bb)),bb}const tZ="winston",rZ="A logger for just about everything.",nZ="3.17.0",iZ="Charlie Robbins <charlie.robbins@gmail.com>",aZ=["David Hyde <dabh@alumni.stanford.edu>"],oZ={type:"git",url:"https://github.com/winstonjs/winston.git"},sZ=["winston","logger","logging","logs","sysadmin","bunyan","pino","loglevel","tools","json","stream"],uZ={"@dabh/diagnostics":"^2.0.2","@colors/colors":"^1.6.0",async:"^3.2.3","is-stream":"^2.0.0",logform:"^2.7.0","one-time":"^1.0.0","readable-stream":"^3.4.0","safe-stable-stringify":"^2.3.1","stack-trace":"0.0.x","triple-beam":"^1.3.0","winston-transport":"^4.9.0"},lZ={"@babel/cli":"^7.23.9","@babel/core":"^7.24.0","@babel/preset-env":"^7.24.0","@dabh/eslint-config-populist":"^4.4.0","@types/node":"^20.11.24","abstract-winston-transport":"^0.5.1",assume:"^2.2.0","cross-spawn-async":"^2.2.5",eslint:"^8.57.0",hock:"^1.4.1",mocha:"^10.3.0",nyc:"^17.1.0",rimraf:"5.0.1",split2:"^4.1.0","std-mocks":"^2.0.0",through2:"^4.0.2","winston-compat":"^0.1.5"},fZ="./lib/winston.js",cZ="./dist/winston",dZ="./index.d.ts",hZ={lint:"eslint lib/*.js lib/winston/*.js lib/winston/**/*.js --resolve-plugins-relative-to ./node_modules/@dabh/eslint-config-populist",test:"rimraf test/fixtures/logs/* && mocha","test:coverage":"nyc npm run test:unit","test:unit":"mocha test/unit","test:integration":"mocha test/integration",build:"rimraf dist && babel lib -d dist",prepublishOnly:"npm run build"},pZ={node:">= 12.0.0"},mZ="MIT",yZ={name:tZ,description:rZ,version:nZ,author:iZ,maintainers:aZ,repository:oZ,keywords:sZ,dependencies:uZ,devDependencies:lZ,main:fZ,browser:cZ,types:dZ,scripts:hZ,engines:pZ,license:mZ};var vb={},Xp={exports:{}},wb={exports:{}},Sb,xO;function k0(){if(xO)return Sb;xO=1,Sb=e;function e(r,n){if(t("noDeprecation"))return r;var a=!1;function i(){if(!a){if(t("throwDeprecation"))throw new Error(n);t("traceDeprecation")?console.trace(n):console.warn(n),a=!0}return r.apply(this,arguments)}return i}function t(r){try{if(!xt.localStorage)return!1}catch{return!1}var n=xt.localStorage[r];return n==null?!1:String(n).toLowerCase()==="true"}return Sb}var Eb,TO;function Gj(){return TO||(TO=1,Eb=Qn().EventEmitter),Eb}var xb,RO;function Wj(){if(RO)return xb;RO=1;function e(o,s){var u=this,l=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return l||f?(s?s(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,ze.nextTick(a,this,o)):ze.nextTick(a,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(d){!s&&d?u._writableState?u._writableState.errorEmitted?ze.nextTick(r,u):(u._writableState.errorEmitted=!0,ze.nextTick(t,u,d)):ze.nextTick(t,u,d):s?(ze.nextTick(r,u),s(d)):ze.nextTick(r,u)}),this)}function t(o,s){a(o,s),r(o)}function r(o){o._writableState&&!o._writableState.emitClose||o._readableState&&!o._readableState.emitClose||o.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function a(o,s){o.emit("error",s)}function i(o,s){var u=o._readableState,l=o._writableState;u&&u.autoDestroy||l&&l.autoDestroy?o.destroy(s):o.emit("error",s)}return xb={destroy:e,undestroy:n,errorOrDestroy:i},xb}var Tb={},AO;function F0(){if(AO)return Tb;AO=1;function e(s,u){s.prototype=Object.create(u.prototype),s.prototype.constructor=s,s.__proto__=u}var t={};function r(s,u,l){l||(l=Error);function f(c,p,_){return typeof u=="string"?u:u(c,p,_)}var d=function(c){e(p,c);function p(_,v,b){return c.call(this,f(_,v,b))||this}return p}(l);d.prototype.name=l.name,d.prototype.code=s,t[s]=d}function n(s,u){if(Array.isArray(s)){var l=s.length;return s=s.map(function(f){return String(f)}),l>2?"one of ".concat(u," ").concat(s.slice(0,l-1).join(", "),", or ")+s[l-1]:l===2?"one of ".concat(u," ").concat(s[0]," or ").concat(s[1]):"of ".concat(u," ").concat(s[0])}else return"of ".concat(u," ").concat(String(s))}function a(s,u,l){return s.substr(0,u.length)===u}function i(s,u,l){return(l===void 0||l>s.length)&&(l=s.length),s.substring(l-u.length,l)===u}function o(s,u,l){return typeof l!="number"&&(l=0),l+u.length>s.length?!1:s.indexOf(u,l)!==-1}return r("ERR_INVALID_OPT_VALUE",function(s,u){return'The value "'+u+'" is invalid for option "'+s+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(s,u,l){var f;typeof u=="string"&&a(u,"not ")?(f="must not be",u=u.replace(/^not /,"")):f="must be";var d;if(i(s," argument"))d="The ".concat(s," ").concat(f," ").concat(n(u,"type"));else{var c=o(s,".")?"property":"argument";d='The "'.concat(s,'" ').concat(c," ").concat(f," ").concat(n(u,"type"))}return d+=". Received type ".concat(typeof l),d},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(s){return"The "+s+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(s){return"Cannot call "+s+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(s){return"Unknown encoding: "+s},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Tb.codes=t,Tb}var Rb,IO;function Kj(){if(IO)return Rb;IO=1;var e=F0().codes.ERR_INVALID_OPT_VALUE;function t(n,a,i){return n.highWaterMark!=null?n.highWaterMark:a?n[i]:null}function r(n,a,i,o){var s=t(a,o,i);if(s!=null){if(!(isFinite(s)&&Math.floor(s)===s)||s<0){var u=o?i:"highWaterMark";throw new e(u,s)}return Math.floor(s)}return n.objectMode?16:16*1024}return Rb={getHighWaterMark:r},Rb}var Ab,OO;function gZ(){if(OO)return Ab;OO=1;function e(_,v){var b=Object.keys(_);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(_);v&&(m=m.filter(function(y){return Object.getOwnPropertyDescriptor(_,y).enumerable})),b.push.apply(b,m)}return b}function t(_){for(var v=1;v<arguments.length;v++){var b=arguments[v]!=null?arguments[v]:{};v%2?e(Object(b),!0).forEach(function(m){r(_,m,b[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(b)):e(Object(b)).forEach(function(m){Object.defineProperty(_,m,Object.getOwnPropertyDescriptor(b,m))})}return _}function r(_,v,b){return v=o(v),v in _?Object.defineProperty(_,v,{value:b,enumerable:!0,configurable:!0,writable:!0}):_[v]=b,_}function n(_,v){if(!(_ instanceof v))throw new TypeError("Cannot call a class as a function")}function a(_,v){for(var b=0;b<v.length;b++){var m=v[b];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(_,o(m.key),m)}}function i(_,v,b){return a(_.prototype,v),Object.defineProperty(_,"prototype",{writable:!1}),_}function o(_){var v=s(_,"string");return typeof v=="symbol"?v:String(v)}function s(_,v){if(typeof _!="object"||_===null)return _;var b=_[Symbol.toPrimitive];if(b!==void 0){var m=b.call(_,v);if(typeof m!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(_)}var u=Tr(),l=u.Buffer,f=Pr(),d=f.inspect,c=d&&d.custom||"inspect";function p(_,v,b){l.prototype.copy.call(_,v,b)}return Ab=function(){function _(){n(this,_),this.head=null,this.tail=null,this.length=0}return i(_,[{key:"push",value:function(b){var m={data:b,next:null};this.length>0?this.tail.next=m:this.head=m,this.tail=m,++this.length}},{key:"unshift",value:function(b){var m={data:b,next:this.head};this.length===0&&(this.tail=m),this.head=m,++this.length}},{key:"shift",value:function(){if(this.length!==0){var b=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,b}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(b){if(this.length===0)return"";for(var m=this.head,y=""+m.data;m=m.next;)y+=b+m.data;return y}},{key:"concat",value:function(b){if(this.length===0)return l.alloc(0);for(var m=l.allocUnsafe(b>>>0),y=this.head,g=0;y;)p(y.data,m,g),g+=y.data.length,y=y.next;return m}},{key:"consume",value:function(b,m){var y;return b<this.head.data.length?(y=this.head.data.slice(0,b),this.head.data=this.head.data.slice(b)):b===this.head.data.length?y=this.shift():y=m?this._getString(b):this._getBuffer(b),y}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(b){var m=this.head,y=1,g=m.data;for(b-=g.length;m=m.next;){var S=m.data,T=b>S.length?S.length:b;if(T===S.length?g+=S:g+=S.slice(0,b),b-=T,b===0){T===S.length?(++y,m.next?this.head=m.next:this.head=this.tail=null):(this.head=m,m.data=S.slice(T));break}++y}return this.length-=y,g}},{key:"_getBuffer",value:function(b){var m=l.allocUnsafe(b),y=this.head,g=1;for(y.data.copy(m),b-=y.data.length;y=y.next;){var S=y.data,T=b>S.length?S.length:b;if(S.copy(m,m.length-b,0,T),b-=T,b===0){T===S.length?(++g,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=S.slice(T));break}++g}return this.length-=g,m}},{key:c,value:function(b,m){return d(this,t(t({},m),{},{depth:0,customInspect:!1}))}}]),_}(),Ab}var Ib,PO;function _Z(){if(PO)return Ib;PO=1;var e=F0().codes.ERR_STREAM_PREMATURE_CLOSE;function t(i){var o=!1;return function(){if(!o){o=!0;for(var s=arguments.length,u=new Array(s),l=0;l<s;l++)u[l]=arguments[l];i.apply(this,u)}}}function r(){}function n(i){return i.setHeader&&typeof i.abort=="function"}function a(i,o,s){if(typeof o=="function")return a(i,null,o);o||(o={}),s=t(s||r);var u=o.readable||o.readable!==!1&&i.readable,l=o.writable||o.writable!==!1&&i.writable,f=function(){i.writable||c()},d=i._writableState&&i._writableState.finished,c=function(){l=!1,d=!0,u||s.call(i)},p=i._readableState&&i._readableState.endEmitted,_=function(){u=!1,p=!0,l||s.call(i)},v=function(g){s.call(i,g)},b=function(){var g;if(u&&!p)return(!i._readableState||!i._readableState.ended)&&(g=new e),s.call(i,g);if(l&&!d)return(!i._writableState||!i._writableState.ended)&&(g=new e),s.call(i,g)},m=function(){i.req.on("finish",c)};return n(i)?(i.on("complete",c),i.on("abort",b),i.req?m():i.on("request",m)):l&&!i._writableState&&(i.on("end",f),i.on("close",f)),i.on("end",_),i.on("finish",c),o.error!==!1&&i.on("error",v),i.on("close",b),function(){i.removeListener("complete",c),i.removeListener("abort",b),i.removeListener("request",m),i.req&&i.req.removeListener("finish",c),i.removeListener("end",f),i.removeListener("close",f),i.removeListener("finish",c),i.removeListener("end",_),i.removeListener("error",v),i.removeListener("close",b)}}return Ib=a,Ib}var Ob,CO;function bZ(){if(CO)return Ob;CO=1;var e;function t(g,S,T){return S=r(S),S in g?Object.defineProperty(g,S,{value:T,enumerable:!0,configurable:!0,writable:!0}):g[S]=T,g}function r(g){var S=n(g,"string");return typeof S=="symbol"?S:String(S)}function n(g,S){if(typeof g!="object"||g===null)return g;var T=g[Symbol.toPrimitive];if(T!==void 0){var I=T.call(g,S||"default");if(typeof I!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(g)}var a=_Z(),i=Symbol("lastResolve"),o=Symbol("lastReject"),s=Symbol("error"),u=Symbol("ended"),l=Symbol("lastPromise"),f=Symbol("handlePromise"),d=Symbol("stream");function c(g,S){return{value:g,done:S}}function p(g){var S=g[i];if(S!==null){var T=g[d].read();T!==null&&(g[l]=null,g[i]=null,g[o]=null,S(c(T,!1)))}}function _(g){ze.nextTick(p,g)}function v(g,S){return function(T,I){g.then(function(){if(S[u]){T(c(void 0,!0));return}S[f](T,I)},I)}}var b=Object.getPrototypeOf(function(){}),m=Object.setPrototypeOf((e={get stream(){return this[d]},next:function(){var S=this,T=this[s];if(T!==null)return Promise.reject(T);if(this[u])return Promise.resolve(c(void 0,!0));if(this[d].destroyed)return new Promise(function(D,M){ze.nextTick(function(){S[s]?M(S[s]):D(c(void 0,!0))})});var I=this[l],C;if(I)C=new Promise(v(I,this));else{var B=this[d].read();if(B!==null)return Promise.resolve(c(B,!1));C=new Promise(this[f])}return this[l]=C,C}},t(e,Symbol.asyncIterator,function(){return this}),t(e,"return",function(){var S=this;return new Promise(function(T,I){S[d].destroy(null,function(C){if(C){I(C);return}T(c(void 0,!0))})})}),e),b),y=function(S){var T,I=Object.create(m,(T={},t(T,d,{value:S,writable:!0}),t(T,i,{value:null,writable:!0}),t(T,o,{value:null,writable:!0}),t(T,s,{value:null,writable:!0}),t(T,u,{value:S._readableState.endEmitted,writable:!0}),t(T,f,{value:function(B,D){var M=I[d].read();M?(I[l]=null,I[i]=null,I[o]=null,B(c(M,!1))):(I[i]=B,I[o]=D)},writable:!0}),T));return I[l]=null,a(S,function(C){if(C&&C.code!=="ERR_STREAM_PREMATURE_CLOSE"){var B=I[o];B!==null&&(I[l]=null,I[i]=null,I[o]=null,B(C)),I[s]=C;return}var D=I[i];D!==null&&(I[l]=null,I[i]=null,I[o]=null,D(c(void 0,!0))),I[u]=!0}),S.on("readable",_.bind(null,I)),I};return Ob=y,Ob}var Pb,LO;function vZ(){return LO||(LO=1,Pb=function(){throw new Error("Readable.from is not available in the browser")}),Pb}var Cb,DO;function wZ(){if(DO)return Cb;DO=1,Cb=D;var e;D.ReadableState=B,Qn().EventEmitter;var t=function(w,x){return w.listeners(x).length},r=Gj(),n=Tr().Buffer,a=(typeof xt<"u"?xt:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function i(R){return n.from(R)}function o(R){return n.isBuffer(R)||R instanceof a}var s=Pr(),u;s&&s.debuglog?u=s.debuglog("stream"):u=function(){};var l=gZ(),f=Wj(),d=Kj(),c=d.getHighWaterMark,p=F0().codes,_=p.ERR_INVALID_ARG_TYPE,v=p.ERR_STREAM_PUSH_AFTER_EOF,b=p.ERR_METHOD_NOT_IMPLEMENTED,m=p.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,y,g,S;Cr()(D,r);var T=f.errorOrDestroy,I=["error","close","destroy","pause","resume"];function C(R,w,x){if(typeof R.prependListener=="function")return R.prependListener(w,x);!R._events||!R._events[w]?R.on(w,x):Array.isArray(R._events[w])?R._events[w].unshift(x):R._events[w]=[x,R._events[w]]}function B(R,w,x){e=e||Xm(),R=R||{},typeof x!="boolean"&&(x=w instanceof e),this.objectMode=!!R.objectMode,x&&(this.objectMode=this.objectMode||!!R.readableObjectMode),this.highWaterMark=c(this,R,"readableHighWaterMark",x),this.buffer=new l,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=R.emitClose!==!1,this.autoDestroy=!!R.autoDestroy,this.destroyed=!1,this.defaultEncoding=R.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,R.encoding&&(y||(y=va().StringDecoder),this.decoder=new y(R.encoding),this.encoding=R.encoding)}function D(R){if(e=e||Xm(),!(this instanceof D))return new D(R);var w=this instanceof e;this._readableState=new B(R,this,w),this.readable=!0,R&&(typeof R.read=="function"&&(this._read=R.read),typeof R.destroy=="function"&&(this._destroy=R.destroy)),r.call(this)}Object.defineProperty(D.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(w){this._readableState&&(this._readableState.destroyed=w)}}),D.prototype.destroy=f.destroy,D.prototype._undestroy=f.undestroy,D.prototype._destroy=function(R,w){w(R)},D.prototype.push=function(R,w){var x=this._readableState,k;return x.objectMode?k=!0:typeof R=="string"&&(w=w||x.defaultEncoding,w!==x.encoding&&(R=n.from(R,w),w=""),k=!0),M(this,R,w,!1,k)},D.prototype.unshift=function(R){return M(this,R,null,!0,!1)};function M(R,w,x,k,U){u("readableAddChunk",w);var re=R._readableState;if(w===null)re.reading=!1,X(R,re);else{var fe;if(U||(fe=O(re,w)),fe)T(R,fe);else if(re.objectMode||w&&w.length>0)if(typeof w!="string"&&!re.objectMode&&Object.getPrototypeOf(w)!==n.prototype&&(w=i(w)),k)re.endEmitted?T(R,new m):j(R,re,w,!0);else if(re.ended)T(R,new v);else{if(re.destroyed)return!1;re.reading=!1,re.decoder&&!x?(w=re.decoder.write(w),re.objectMode||w.length!==0?j(R,re,w,!1):ne(R,re)):j(R,re,w,!1)}else k||(re.reading=!1,ne(R,re))}return!re.ended&&(re.length<re.highWaterMark||re.length===0)}function j(R,w,x,k){w.flowing&&w.length===0&&!w.sync?(w.awaitDrain=0,R.emit("data",x)):(w.length+=w.objectMode?1:x.length,k?w.buffer.unshift(x):w.buffer.push(x),w.needReadable&&le(R)),ne(R,w)}function O(R,w){var x;return!o(w)&&typeof w!="string"&&w!==void 0&&!R.objectMode&&(x=new _("chunk",["string","Buffer","Uint8Array"],w)),x}D.prototype.isPaused=function(){return this._readableState.flowing===!1},D.prototype.setEncoding=function(R){y||(y=va().StringDecoder);var w=new y(R);this._readableState.decoder=w,this._readableState.encoding=this._readableState.decoder.encoding;for(var x=this._readableState.buffer.head,k="";x!==null;)k+=w.write(x.data),x=x.next;return this._readableState.buffer.clear(),k!==""&&this._readableState.buffer.push(k),this._readableState.length=k.length,this};var q=1073741824;function Q(R){return R>=q?R=q:(R--,R|=R>>>1,R|=R>>>2,R|=R>>>4,R|=R>>>8,R|=R>>>16,R++),R}function ie(R,w){return R<=0||w.length===0&&w.ended?0:w.objectMode?1:R!==R?w.flowing&&w.length?w.buffer.head.data.length:w.length:(R>w.highWaterMark&&(w.highWaterMark=Q(R)),R<=w.length?R:w.ended?w.length:(w.needReadable=!0,0))}D.prototype.read=function(R){u("read",R),R=parseInt(R,10);var w=this._readableState,x=R;if(R!==0&&(w.emittedReadable=!1),R===0&&w.needReadable&&((w.highWaterMark!==0?w.length>=w.highWaterMark:w.length>0)||w.ended))return u("read: emitReadable",w.length,w.ended),w.length===0&&w.ended?$(this):le(this),null;if(R=ie(R,w),R===0&&w.ended)return w.length===0&&$(this),null;var k=w.needReadable;u("need readable",k),(w.length===0||w.length-R<w.highWaterMark)&&(k=!0,u("length less than watermark",k)),w.ended||w.reading?(k=!1,u("reading or ended",k)):k&&(u("do read"),w.reading=!0,w.sync=!0,w.length===0&&(w.needReadable=!0),this._read(w.highWaterMark),w.sync=!1,w.reading||(R=ie(x,w)));var U;return R>0?U=A(R,w):U=null,U===null?(w.needReadable=w.length<=w.highWaterMark,R=0):(w.length-=R,w.awaitDrain=0),w.length===0&&(w.ended||(w.needReadable=!0),x!==R&&w.ended&&$(this)),U!==null&&this.emit("data",U),U};function X(R,w){if(u("onEofChunk"),!w.ended){if(w.decoder){var x=w.decoder.end();x&&x.length&&(w.buffer.push(x),w.length+=w.objectMode?1:x.length)}w.ended=!0,w.sync?le(R):(w.needReadable=!1,w.emittedReadable||(w.emittedReadable=!0,ae(R)))}}function le(R){var w=R._readableState;u("emitReadable",w.needReadable,w.emittedReadable),w.needReadable=!1,w.emittedReadable||(u("emitReadable",w.flowing),w.emittedReadable=!0,ze.nextTick(ae,R))}function ae(R){var w=R._readableState;u("emitReadable_",w.destroyed,w.length,w.ended),!w.destroyed&&(w.length||w.ended)&&(R.emit("readable"),w.emittedReadable=!1),w.needReadable=!w.flowing&&!w.ended&&w.length<=w.highWaterMark,P(R)}function ne(R,w){w.readingMore||(w.readingMore=!0,ze.nextTick(V,R,w))}function V(R,w){for(;!w.reading&&!w.ended&&(w.length<w.highWaterMark||w.flowing&&w.length===0);){var x=w.length;if(u("maybeReadMore read 0"),R.read(0),x===w.length)break}w.readingMore=!1}D.prototype._read=function(R){T(this,new b("_read()"))},D.prototype.pipe=function(R,w){var x=this,k=this._readableState;switch(k.pipesCount){case 0:k.pipes=R;break;case 1:k.pipes=[k.pipes,R];break;default:k.pipes.push(R);break}k.pipesCount+=1,u("pipe count=%d opts=%j",k.pipesCount,w);var U=(!w||w.end!==!1)&&R!==ze.stdout&&R!==ze.stderr,re=U?ve:ke;k.endEmitted?ze.nextTick(re):x.once("end",re),R.on("unpipe",fe);function fe(Ze,Ue){u("onunpipe"),Ze===x&&Ue&&Ue.hasUnpiped===!1&&(Ue.hasUnpiped=!0,be())}function ve(){u("onend"),R.end()}var ce=oe(x);R.on("drain",ce);var Ie=!1;function be(){u("cleanup"),R.removeListener("close",Ae),R.removeListener("finish",Pe),R.removeListener("drain",ce),R.removeListener("error",je),R.removeListener("unpipe",fe),x.removeListener("end",ve),x.removeListener("end",ke),x.removeListener("data",xe),Ie=!0,k.awaitDrain&&(!R._writableState||R._writableState.needDrain)&&ce()}x.on("data",xe);function xe(Ze){u("ondata");var Ue=R.write(Ze);u("dest.write",Ue),Ue===!1&&((k.pipesCount===1&&k.pipes===R||k.pipesCount>1&&pe(k.pipes,R)!==-1)&&!Ie&&(u("false write response, pause",k.awaitDrain),k.awaitDrain++),x.pause())}function je(Ze){u("onerror",Ze),ke(),R.removeListener("error",je),t(R,"error")===0&&T(R,Ze)}C(R,"error",je);function Ae(){R.removeListener("finish",Pe),ke()}R.once("close",Ae);function Pe(){u("onfinish"),R.removeListener("close",Ae),ke()}R.once("finish",Pe);function ke(){u("unpipe"),x.unpipe(R)}return R.emit("pipe",x),k.flowing||(u("pipe resume"),x.resume()),R};function oe(R){return function(){var x=R._readableState;u("pipeOnDrain",x.awaitDrain),x.awaitDrain&&x.awaitDrain--,x.awaitDrain===0&&t(R,"data")&&(x.flowing=!0,P(R))}}D.prototype.unpipe=function(R){var w=this._readableState,x={hasUnpiped:!1};if(w.pipesCount===0)return this;if(w.pipesCount===1)return R&&R!==w.pipes?this:(R||(R=w.pipes),w.pipes=null,w.pipesCount=0,w.flowing=!1,R&&R.emit("unpipe",this,x),this);if(!R){var k=w.pipes,U=w.pipesCount;w.pipes=null,w.pipesCount=0,w.flowing=!1;for(var re=0;re<U;re++)k[re].emit("unpipe",this,{hasUnpiped:!1});return this}var fe=pe(w.pipes,R);return fe===-1?this:(w.pipes.splice(fe,1),w.pipesCount-=1,w.pipesCount===1&&(w.pipes=w.pipes[0]),R.emit("unpipe",this,x),this)},D.prototype.on=function(R,w){var x=r.prototype.on.call(this,R,w),k=this._readableState;return R==="data"?(k.readableListening=this.listenerCount("readable")>0,k.flowing!==!1&&this.resume()):R==="readable"&&!k.endEmitted&&!k.readableListening&&(k.readableListening=k.needReadable=!0,k.flowing=!1,k.emittedReadable=!1,u("on readable",k.length,k.reading),k.length?le(this):k.reading||ze.nextTick(Y,this)),x},D.prototype.addListener=D.prototype.on,D.prototype.removeListener=function(R,w){var x=r.prototype.removeListener.call(this,R,w);return R==="readable"&&ze.nextTick(he,this),x},D.prototype.removeAllListeners=function(R){var w=r.prototype.removeAllListeners.apply(this,arguments);return(R==="readable"||R===void 0)&&ze.nextTick(he,this),w};function he(R){var w=R._readableState;w.readableListening=R.listenerCount("readable")>0,w.resumeScheduled&&!w.paused?w.flowing=!0:R.listenerCount("data")>0&&R.resume()}function Y(R){u("readable nexttick read 0"),R.read(0)}D.prototype.resume=function(){var R=this._readableState;return R.flowing||(u("resume"),R.flowing=!R.readableListening,Z(this,R)),R.paused=!1,this};function Z(R,w){w.resumeScheduled||(w.resumeScheduled=!0,ze.nextTick(ee,R,w))}function ee(R,w){u("resume",w.reading),w.reading||R.read(0),w.resumeScheduled=!1,R.emit("resume"),P(R),w.flowing&&!w.reading&&R.read(0)}D.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function P(R){var w=R._readableState;for(u("flow",w.flowing);w.flowing&&R.read()!==null;);}D.prototype.wrap=function(R){var w=this,x=this._readableState,k=!1;R.on("end",function(){if(u("wrapped end"),x.decoder&&!x.ended){var fe=x.decoder.end();fe&&fe.length&&w.push(fe)}w.push(null)}),R.on("data",function(fe){if(u("wrapped data"),x.decoder&&(fe=x.decoder.write(fe)),!(x.objectMode&&fe==null)&&!(!x.objectMode&&(!fe||!fe.length))){var ve=w.push(fe);ve||(k=!0,R.pause())}});for(var U in R)this[U]===void 0&&typeof R[U]=="function"&&(this[U]=function(ve){return function(){return R[ve].apply(R,arguments)}}(U));for(var re=0;re<I.length;re++)R.on(I[re],this.emit.bind(this,I[re]));return this._read=function(fe){u("wrapped _read",fe),k&&(k=!1,R.resume())},this},typeof Symbol=="function"&&(D.prototype[Symbol.asyncIterator]=function(){return g===void 0&&(g=bZ()),g(this)}),Object.defineProperty(D.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(D.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(D.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(w){this._readableState&&(this._readableState.flowing=w)}}),D._fromList=A,Object.defineProperty(D.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function A(R,w){if(w.length===0)return null;var x;return w.objectMode?x=w.buffer.shift():!R||R>=w.length?(w.decoder?x=w.buffer.join(""):w.buffer.length===1?x=w.buffer.first():x=w.buffer.concat(w.length),w.buffer.clear()):x=w.buffer.consume(R,w.decoder),x}function $(R){var w=R._readableState;u("endReadable",w.endEmitted),w.endEmitted||(w.ended=!0,ze.nextTick(te,w,R))}function te(R,w){if(u("endReadableNT",R.endEmitted,R.length),!R.endEmitted&&R.length===0&&(R.endEmitted=!0,w.readable=!1,w.emit("end"),R.autoDestroy)){var x=w._writableState;(!x||x.autoDestroy&&x.finished)&&w.destroy()}}typeof Symbol=="function"&&(D.from=function(R,w){return S===void 0&&(S=vZ()),S(D,R,w)});function pe(R,w){for(var x=0,k=R.length;x<k;x++)if(R[x]===w)return x;return-1}return Cb}var Lb,NO;function Xm(){if(NO)return Lb;NO=1;var e=Object.keys||function(l){var f=[];for(var d in l)f.push(d);return f};Lb=o;var t=wZ(),r=zE();Cr()(o,t);for(var n=e(r.prototype),a=0;a<n.length;a++){var i=n[a];o.prototype[i]||(o.prototype[i]=r.prototype[i])}function o(l){if(!(this instanceof o))return new o(l);t.call(this,l),r.call(this,l),this.allowHalfOpen=!0,l&&(l.readable===!1&&(this.readable=!1),l.writable===!1&&(this.writable=!1),l.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",s)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function s(){this._writableState.ended||ze.nextTick(u,this)}function u(l){l.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(f){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=f,this._writableState.destroyed=f)}}),Lb}var Db,MO;function zE(){if(MO)return Db;MO=1,Db=B;function e(P){var A=this;this.next=null,this.entry=null,this.finish=function(){ee(A,P)}}var t;B.WritableState=I;var r={deprecate:k0()},n=Gj(),a=Tr().Buffer,i=(typeof xt<"u"?xt:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function o(P){return a.from(P)}function s(P){return a.isBuffer(P)||P instanceof i}var u=Wj(),l=Kj(),f=l.getHighWaterMark,d=F0().codes,c=d.ERR_INVALID_ARG_TYPE,p=d.ERR_METHOD_NOT_IMPLEMENTED,_=d.ERR_MULTIPLE_CALLBACK,v=d.ERR_STREAM_CANNOT_PIPE,b=d.ERR_STREAM_DESTROYED,m=d.ERR_STREAM_NULL_VALUES,y=d.ERR_STREAM_WRITE_AFTER_END,g=d.ERR_UNKNOWN_ENCODING,S=u.errorOrDestroy;Cr()(B,n);function T(){}function I(P,A,$){t=t||Xm(),P=P||{},typeof $!="boolean"&&($=A instanceof t),this.objectMode=!!P.objectMode,$&&(this.objectMode=this.objectMode||!!P.writableObjectMode),this.highWaterMark=f(this,P,"writableHighWaterMark",$),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var te=P.decodeStrings===!1;this.decodeStrings=!te,this.defaultEncoding=P.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(pe){X(A,pe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=P.emitClose!==!1,this.autoDestroy=!!P.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}I.prototype.getBuffer=function(){for(var A=this.bufferedRequest,$=[];A;)$.push(A),A=A.next;return $},function(){try{Object.defineProperty(I.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var C;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(C=Function.prototype[Symbol.hasInstance],Object.defineProperty(B,Symbol.hasInstance,{value:function(A){return C.call(this,A)?!0:this!==B?!1:A&&A._writableState instanceof I}})):C=function(A){return A instanceof this};function B(P){t=t||Xm();var A=this instanceof t;if(!A&&!C.call(B,this))return new B(P);this._writableState=new I(P,this,A),this.writable=!0,P&&(typeof P.write=="function"&&(this._write=P.write),typeof P.writev=="function"&&(this._writev=P.writev),typeof P.destroy=="function"&&(this._destroy=P.destroy),typeof P.final=="function"&&(this._final=P.final)),n.call(this)}B.prototype.pipe=function(){S(this,new v)};function D(P,A){var $=new y;S(P,$),ze.nextTick(A,$)}function M(P,A,$,te){var pe;return $===null?pe=new m:typeof $!="string"&&!A.objectMode&&(pe=new c("chunk",["string","Buffer"],$)),pe?(S(P,pe),ze.nextTick(te,pe),!1):!0}B.prototype.write=function(P,A,$){var te=this._writableState,pe=!1,R=!te.objectMode&&s(P);return R&&!a.isBuffer(P)&&(P=o(P)),typeof A=="function"&&($=A,A=null),R?A="buffer":A||(A=te.defaultEncoding),typeof $!="function"&&($=T),te.ending?D(this,$):(R||M(this,te,P,$))&&(te.pendingcb++,pe=O(this,te,R,P,A,$)),pe},B.prototype.cork=function(){this._writableState.corked++},B.prototype.uncork=function(){var P=this._writableState;P.corked&&(P.corked--,!P.writing&&!P.corked&&!P.bufferProcessing&&P.bufferedRequest&&ne(this,P))},B.prototype.setDefaultEncoding=function(A){if(typeof A=="string"&&(A=A.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((A+"").toLowerCase())>-1))throw new g(A);return this._writableState.defaultEncoding=A,this},Object.defineProperty(B.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function j(P,A,$){return!P.objectMode&&P.decodeStrings!==!1&&typeof A=="string"&&(A=a.from(A,$)),A}Object.defineProperty(B.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function O(P,A,$,te,pe,R){if(!$){var w=j(A,te,pe);te!==w&&($=!0,pe="buffer",te=w)}var x=A.objectMode?1:te.length;A.length+=x;var k=A.length<A.highWaterMark;if(k||(A.needDrain=!0),A.writing||A.corked){var U=A.lastBufferedRequest;A.lastBufferedRequest={chunk:te,encoding:pe,isBuf:$,callback:R,next:null},U?U.next=A.lastBufferedRequest:A.bufferedRequest=A.lastBufferedRequest,A.bufferedRequestCount+=1}else q(P,A,!1,x,te,pe,R);return k}function q(P,A,$,te,pe,R,w){A.writelen=te,A.writecb=w,A.writing=!0,A.sync=!0,A.destroyed?A.onwrite(new b("write")):$?P._writev(pe,A.onwrite):P._write(pe,R,A.onwrite),A.sync=!1}function Q(P,A,$,te,pe){--A.pendingcb,$?(ze.nextTick(pe,te),ze.nextTick(Y,P,A),P._writableState.errorEmitted=!0,S(P,te)):(pe(te),P._writableState.errorEmitted=!0,S(P,te),Y(P,A))}function ie(P){P.writing=!1,P.writecb=null,P.length-=P.writelen,P.writelen=0}function X(P,A){var $=P._writableState,te=$.sync,pe=$.writecb;if(typeof pe!="function")throw new _;if(ie($),A)Q(P,$,te,A,pe);else{var R=V($)||P.destroyed;!R&&!$.corked&&!$.bufferProcessing&&$.bufferedRequest&&ne(P,$),te?ze.nextTick(le,P,$,R,pe):le(P,$,R,pe)}}function le(P,A,$,te){$||ae(P,A),A.pendingcb--,te(),Y(P,A)}function ae(P,A){A.length===0&&A.needDrain&&(A.needDrain=!1,P.emit("drain"))}function ne(P,A){A.bufferProcessing=!0;var $=A.bufferedRequest;if(P._writev&&$&&$.next){var te=A.bufferedRequestCount,pe=new Array(te),R=A.corkedRequestsFree;R.entry=$;for(var w=0,x=!0;$;)pe[w]=$,$.isBuf||(x=!1),$=$.next,w+=1;pe.allBuffers=x,q(P,A,!0,A.length,pe,"",R.finish),A.pendingcb++,A.lastBufferedRequest=null,R.next?(A.corkedRequestsFree=R.next,R.next=null):A.corkedRequestsFree=new e(A),A.bufferedRequestCount=0}else{for(;$;){var k=$.chunk,U=$.encoding,re=$.callback,fe=A.objectMode?1:k.length;if(q(P,A,!1,fe,k,U,re),$=$.next,A.bufferedRequestCount--,A.writing)break}$===null&&(A.lastBufferedRequest=null)}A.bufferedRequest=$,A.bufferProcessing=!1}B.prototype._write=function(P,A,$){$(new p("_write()"))},B.prototype._writev=null,B.prototype.end=function(P,A,$){var te=this._writableState;return typeof P=="function"?($=P,P=null,A=null):typeof A=="function"&&($=A,A=null),P!=null&&this.write(P,A),te.corked&&(te.corked=1,this.uncork()),te.ending||Z(this,te,$),this},Object.defineProperty(B.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function V(P){return P.ending&&P.length===0&&P.bufferedRequest===null&&!P.finished&&!P.writing}function oe(P,A){P._final(function($){A.pendingcb--,$&&S(P,$),A.prefinished=!0,P.emit("prefinish"),Y(P,A)})}function he(P,A){!A.prefinished&&!A.finalCalled&&(typeof P._final=="function"&&!A.destroyed?(A.pendingcb++,A.finalCalled=!0,ze.nextTick(oe,P,A)):(A.prefinished=!0,P.emit("prefinish")))}function Y(P,A){var $=V(A);if($&&(he(P,A),A.pendingcb===0&&(A.finished=!0,P.emit("finish"),A.autoDestroy))){var te=P._readableState;(!te||te.autoDestroy&&te.endEmitted)&&P.destroy()}return $}function Z(P,A,$){A.ending=!0,Y(P,A),$&&(A.finished?ze.nextTick($):P.once("finish",$)),A.ended=!0,P.writable=!1}function ee(P,A,$){var te=P.entry;for(P.entry=null;te;){var pe=te.callback;A.pendingcb--,pe($),te=te.next}A.corkedRequestsFree.next=P}return Object.defineProperty(B.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(A){this._writableState&&(this._writableState.destroyed=A)}}),B.prototype.destroy=u.destroy,B.prototype._undestroy=u.undestroy,B.prototype._destroy=function(P,A){A(P)},Db}var kO;function Zj(){if(kO)return wb.exports;kO=1;var e=Pr(),t=zE(),r=Lr(),n=r.LEVEL,a=wb.exports=function(){var o=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.call(this,{objectMode:!0,highWaterMark:s.highWaterMark}),this.format=s.format,this.level=s.level,this.handleExceptions=s.handleExceptions,this.handleRejections=s.handleRejections,this.silent=s.silent,s.log&&(this.log=s.log),s.logv&&(this.logv=s.logv),s.close&&(this.close=s.close),this.once("pipe",function(u){o.levels=u.levels,o.parent=u}),this.once("unpipe",function(u){u===o.parent&&(o.parent=null,o.close&&o.close())})};return e.inherits(a,t),a.prototype._write=function(o,s,u){if(this.silent||o.exception===!0&&!this.handleExceptions)return u(null);var l=this.level||this.parent&&this.parent.level;if(!l||this.levels[l]>=this.levels[o[n]]){if(o&&!this.format)return this.log(o,u);var f=void 0,d=void 0;try{d=this.format.transform(Object.assign({},o),this.format.options)}catch(c){f=c}if(f||!d){if(u(),f)throw f;return}return this.log(d,u)}return this._writableState.sync=!1,u(null)},a.prototype._writev=function(o,s){if(this.logv){var u=o.filter(this._accept,this);return u.length?this.logv(u,s):s(null)}for(var l=0;l<o.length;l++)if(this._accept(o[l])){if(o[l].chunk&&!this.format){this.log(o[l].chunk,o[l].callback);continue}var f=void 0,d=void 0;try{d=this.format.transform(Object.assign({},o[l].chunk),this.format.options)}catch(c){f=c}if(f||!d){if(o[l].callback(),f)throw s(null),f}else this.log(d,o[l].callback)}return s(null)},a.prototype._accept=function(o){var s=o.chunk;if(this.silent)return!1;var u=this.level||this.parent&&this.parent.level;return!!((s.exception===!0||!u||this.levels[u]>=this.levels[s[n]])&&(this.handleExceptions||s.exception!==!0))},a.prototype._nop=function(){},wb.exports}var Nb={exports:{}},FO;function SZ(){if(FO)return Nb.exports;FO=1;var e=Pr(),t=Lr(),r=t.LEVEL,n=Zj(),a=Nb.exports=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(n.call(this,o),!o.transport||typeof o.transport.log!="function")throw new Error("Invalid transport, must be an object with a log method.");this.transport=o.transport,this.level=this.level||o.transport.level,this.handleExceptions=this.handleExceptions||o.transport.handleExceptions,this._deprecated();function s(u){this.emit("error",u,this.transport)}this.transport.__winstonError||(this.transport.__winstonError=s.bind(this),this.transport.on("error",this.transport.__winstonError))};return e.inherits(a,n),a.prototype._write=function(o,s,u){if(this.silent||o.exception===!0&&!this.handleExceptions)return u(null);(!this.level||this.levels[this.level]>=this.levels[o[r]])&&this.transport.log(o[r],o.message,o,this._nop),u(null)},a.prototype._writev=function(o,s){for(var u=0;u<o.length;u++)this._accept(o[u])&&(this.transport.log(o[u].chunk[r],o[u].chunk.message,o[u].chunk,this._nop),o[u].callback());return s(null)},a.prototype._deprecated=function(){console.error([this.transport.name+" is a legacy winston transport. Consider upgrading: ","- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md"].join(`
`))},a.prototype.close=function(){this.transport.close&&this.transport.close(),this.transport.__winstonError&&(this.transport.removeListener("error",this.transport.__winstonError),this.transport.__winstonError=null)},Nb.exports}var jO;function Qh(){return jO||(jO=1,Xp.exports=Zj(),Xp.exports.LegacyTransportStream=SZ()),Xp.exports}var Mb,BO;function EZ(){if(BO)return Mb;BO=1;function e(y){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},e(y)}function t(y,g){if(!(y instanceof g))throw new TypeError("Cannot call a class as a function")}function r(y,g){for(var S=0;S<g.length;S++){var T=g[S];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(y,a(T.key),T)}}function n(y,g,S){return r(y.prototype,g),Object.defineProperty(y,"prototype",{writable:!1}),y}function a(y){var g=i(y,"string");return e(g)=="symbol"?g:g+""}function i(y,g){if(e(y)!="object"||!y)return y;var S=y[Symbol.toPrimitive];if(S!==void 0){var T=S.call(y,g);if(e(T)!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(y)}function o(y,g,S){return g=f(g),s(y,l()?Reflect.construct(g,S,f(y).constructor):g.apply(y,S))}function s(y,g){if(g&&(e(g)=="object"||typeof g=="function"))return g;if(g!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u(y)}function u(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}function l(){try{var y=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l=function(){return!!y})()}function f(y){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)},f(y)}function d(y,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(g&&g.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),Object.defineProperty(y,"prototype",{writable:!1}),g&&c(y,g)}function c(y,g){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(S,T){return S.__proto__=T,S},c(y,g)}var p=fl(),_=Lr(),v=_.LEVEL,b=_.MESSAGE,m=Qh();return Mb=function(y){function g(){var S,T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return t(this,g),S=o(this,g,[T]),S.name=T.name||"console",S.stderrLevels=S._stringArrayToSet(T.stderrLevels),S.consoleWarnLevels=S._stringArrayToSet(T.consoleWarnLevels),S.eol=typeof T.eol=="string"?T.eol:p.EOL,S.forceConsole=T.forceConsole||!1,S._consoleLog=console.log.bind(console),S._consoleWarn=console.warn.bind(console),S._consoleError=console.error.bind(console),S.setMaxListeners(30),S}return d(g,y),n(g,[{key:"log",value:function(T,I){var C=this;if(setImmediate(function(){return C.emit("logged",T)}),this.stderrLevels[T[v]]){console._stderr&&!this.forceConsole?console._stderr.write("".concat(T[b]).concat(this.eol)):this._consoleError(T[b]),I&&I();return}else if(this.consoleWarnLevels[T[v]]){console._stderr&&!this.forceConsole?console._stderr.write("".concat(T[b]).concat(this.eol)):this._consoleWarn(T[b]),I&&I();return}console._stdout&&!this.forceConsole?console._stdout.write("".concat(T[b]).concat(this.eol)):this._consoleLog(T[b]),I&&I()}},{key:"_stringArrayToSet",value:function(T,I){if(!T)return{};if(I=I||"Cannot make set from type other than Array of string elements",!Array.isArray(T))throw new Error(I);return T.reduce(function(C,B){if(typeof B!="string")throw new Error(I);return C[B]=!0,C},{})}}])}(m),Mb}var xZ=null;const Yj=Object.freeze(Object.defineProperty({__proto__:null,default:xZ},Symbol.toStringTag,{value:"Module"})),Qj=tl(Yj);var kb,qO;function TZ(){if(qO)return kb;qO=1;function e(a){if(typeof a!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(a))}function t(a,i){for(var o="",s=0,u=-1,l=0,f,d=0;d<=a.length;++d){if(d<a.length)f=a.charCodeAt(d);else{if(f===47)break;f=47}if(f===47){if(!(u===d-1||l===1))if(u!==d-1&&l===2){if(o.length<2||s!==2||o.charCodeAt(o.length-1)!==46||o.charCodeAt(o.length-2)!==46){if(o.length>2){var c=o.lastIndexOf("/");if(c!==o.length-1){c===-1?(o="",s=0):(o=o.slice(0,c),s=o.length-1-o.lastIndexOf("/")),u=d,l=0;continue}}else if(o.length===2||o.length===1){o="",s=0,u=d,l=0;continue}}i&&(o.length>0?o+="/..":o="..",s=2)}else o.length>0?o+="/"+a.slice(u+1,d):o=a.slice(u+1,d),s=d-u-1;u=d,l=0}else f===46&&l!==-1?++l:l=-1}return o}function r(a,i){var o=i.dir||i.root,s=i.base||(i.name||"")+(i.ext||"");return o?o===i.root?o+s:o+a+s:s}var n={resolve:function(){for(var i="",o=!1,s,u=arguments.length-1;u>=-1&&!o;u--){var l;u>=0?l=arguments[u]:(s===void 0&&(s=ze.cwd()),l=s),e(l),l.length!==0&&(i=l+"/"+i,o=l.charCodeAt(0)===47)}return i=t(i,!o),o?i.length>0?"/"+i:"/":i.length>0?i:"."},normalize:function(i){if(e(i),i.length===0)return".";var o=i.charCodeAt(0)===47,s=i.charCodeAt(i.length-1)===47;return i=t(i,!o),i.length===0&&!o&&(i="."),i.length>0&&s&&(i+="/"),o?"/"+i:i},isAbsolute:function(i){return e(i),i.length>0&&i.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var i,o=0;o<arguments.length;++o){var s=arguments[o];e(s),s.length>0&&(i===void 0?i=s:i+="/"+s)}return i===void 0?".":n.normalize(i)},relative:function(i,o){if(e(i),e(o),i===o||(i=n.resolve(i),o=n.resolve(o),i===o))return"";for(var s=1;s<i.length&&i.charCodeAt(s)===47;++s);for(var u=i.length,l=u-s,f=1;f<o.length&&o.charCodeAt(f)===47;++f);for(var d=o.length,c=d-f,p=l<c?l:c,_=-1,v=0;v<=p;++v){if(v===p){if(c>p){if(o.charCodeAt(f+v)===47)return o.slice(f+v+1);if(v===0)return o.slice(f+v)}else l>p&&(i.charCodeAt(s+v)===47?_=v:v===0&&(_=0));break}var b=i.charCodeAt(s+v),m=o.charCodeAt(f+v);if(b!==m)break;b===47&&(_=v)}var y="";for(v=s+_+1;v<=u;++v)(v===u||i.charCodeAt(v)===47)&&(y.length===0?y+="..":y+="/..");return y.length>0?y+o.slice(f+_):(f+=_,o.charCodeAt(f)===47&&++f,o.slice(f))},_makeLong:function(i){return i},dirname:function(i){if(e(i),i.length===0)return".";for(var o=i.charCodeAt(0),s=o===47,u=-1,l=!0,f=i.length-1;f>=1;--f)if(o=i.charCodeAt(f),o===47){if(!l){u=f;break}}else l=!1;return u===-1?s?"/":".":s&&u===1?"//":i.slice(0,u)},basename:function(i,o){if(o!==void 0&&typeof o!="string")throw new TypeError('"ext" argument must be a string');e(i);var s=0,u=-1,l=!0,f;if(o!==void 0&&o.length>0&&o.length<=i.length){if(o.length===i.length&&o===i)return"";var d=o.length-1,c=-1;for(f=i.length-1;f>=0;--f){var p=i.charCodeAt(f);if(p===47){if(!l){s=f+1;break}}else c===-1&&(l=!1,c=f+1),d>=0&&(p===o.charCodeAt(d)?--d===-1&&(u=f):(d=-1,u=c))}return s===u?u=c:u===-1&&(u=i.length),i.slice(s,u)}else{for(f=i.length-1;f>=0;--f)if(i.charCodeAt(f)===47){if(!l){s=f+1;break}}else u===-1&&(l=!1,u=f+1);return u===-1?"":i.slice(s,u)}},extname:function(i){e(i);for(var o=-1,s=0,u=-1,l=!0,f=0,d=i.length-1;d>=0;--d){var c=i.charCodeAt(d);if(c===47){if(!l){s=d+1;break}continue}u===-1&&(l=!1,u=d+1),c===46?o===-1?o=d:f!==1&&(f=1):o!==-1&&(f=-1)}return o===-1||u===-1||f===0||f===1&&o===u-1&&o===s+1?"":i.slice(o,u)},format:function(i){if(i===null||typeof i!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof i);return r("/",i)},parse:function(i){e(i);var o={root:"",dir:"",base:"",ext:"",name:""};if(i.length===0)return o;var s=i.charCodeAt(0),u=s===47,l;u?(o.root="/",l=1):l=0;for(var f=-1,d=0,c=-1,p=!0,_=i.length-1,v=0;_>=l;--_){if(s=i.charCodeAt(_),s===47){if(!p){d=_+1;break}continue}c===-1&&(p=!1,c=_+1),s===46?f===-1?f=_:v!==1&&(v=1):f!==-1&&(v=-1)}return f===-1||c===-1||v===0||v===1&&f===c-1&&f===d+1?c!==-1&&(d===0&&u?o.base=o.name=i.slice(1,c):o.base=o.name=i.slice(d,c)):(d===0&&u?(o.name=i.slice(1,f),o.base=i.slice(1,c)):(o.name=i.slice(d,f),o.base=i.slice(d,c)),o.ext=i.slice(f,c)),d>0?o.dir=i.slice(0,d-1):u&&(o.dir="/"),o},sep:"/",delimiter:":",win32:null,posix:null};return n.posix=n,kb=n,kb}var Jp={exports:{}},em={exports:{}},tm={exports:{}},$O;function GE(){return $O||($O=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(n){return n&&typeof n.length=="number"&&n.length>=0&&n.length%1===0}e.exports=t.default}(tm,tm.exports)),tm.exports}var aa={},rm={exports:{}},nm={exports:{}},UO;function RZ(){return UO||(UO=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(r){return function(...n){var a=n.pop();return r.call(this,n,a)}},e.exports=t.default}(nm,nm.exports)),nm.exports}var Ca={},HO;function AZ(){if(HO)return Ca;HO=1,Object.defineProperty(Ca,"__esModule",{value:!0}),Ca.fallback=n,Ca.wrap=a;var e=Ca.hasQueueMicrotask=typeof queueMicrotask=="function"&&queueMicrotask,t=Ca.hasSetImmediate=typeof setImmediate=="function"&&setImmediate,r=Ca.hasNextTick=typeof ze=="object"&&typeof ze.nextTick=="function";function n(o){setTimeout(o,0)}function a(o){return(s,...u)=>o(()=>s(...u))}var i;return e?i=queueMicrotask:t?i=setImmediate:r?i=ze.nextTick:i=n,Ca.default=a(i),Ca}var VO;function IZ(){return VO||(VO=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var r=RZ(),n=s(r),a=AZ(),i=s(a),o=cl();function s(d){return d&&d.__esModule?d:{default:d}}function u(d){return(0,o.isAsync)(d)?function(...c){const p=c.pop(),_=d.apply(this,c);return l(_,p)}:(0,n.default)(function(c,p){var _;try{_=d.apply(this,c)}catch(v){return p(v)}if(_&&typeof _.then=="function")return l(_,p);p(null,_)})}function l(d,c){return d.then(p=>{f(c,null,p)},p=>{f(c,p&&(p instanceof Error||p.message)?p:new Error(p))})}function f(d,c,p){try{d(c,p)}catch(_){(0,i.default)(v=>{throw v},_)}}e.exports=t.default}(rm,rm.exports)),rm.exports}var zO;function cl(){if(zO)return aa;zO=1,Object.defineProperty(aa,"__esModule",{value:!0}),aa.isAsyncIterable=aa.isAsyncGenerator=aa.isAsync=void 0;var e=IZ(),t=r(e);function r(s){return s&&s.__esModule?s:{default:s}}function n(s){return s[Symbol.toStringTag]==="AsyncFunction"}function a(s){return s[Symbol.toStringTag]==="AsyncGenerator"}function i(s){return typeof s[Symbol.asyncIterator]=="function"}function o(s){if(typeof s!="function")throw new Error("expected a function");return n(s)?(0,t.default)(s):s}return aa.default=o,aa.isAsync=n,aa.isAsyncGenerator=a,aa.isAsyncIterable=i,aa}var im={exports:{}},GO;function Xh(){return GO||(GO=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(n,a){if(a||(a=n.length),!a)throw new Error("arity is undefined");function i(...o){return typeof o[a-1]=="function"?n.apply(this,o):new Promise((s,u)=>{o[a-1]=(l,...f)=>{if(l)return u(l);s(f.length>1?f:f[0])},n.apply(this,o)})}return i}e.exports=t.default}(im,im.exports)),im.exports}var WO;function OZ(){return WO||(WO=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=GE(),n=u(r),a=cl(),i=u(a),o=Xh(),s=u(o);function u(l){return l&&l.__esModule?l:{default:l}}t.default=(0,s.default)((l,f,d)=>{var c=(0,n.default)(f)?[]:{};l(f,(p,_,v)=>{(0,i.default)(p)((b,...m)=>{m.length<2&&([m]=m),c[_]=m,v(b)})},p=>d(p,c))},3),e.exports=t.default}(em,em.exports)),em.exports}var am={exports:{}},om={exports:{}},sm={exports:{}},um={exports:{}},KO;function Xj(){return KO||(KO=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(n){function a(...i){if(n!==null){var o=n;n=null,o.apply(this,i)}}return Object.assign(a,n),a}e.exports=t.default}(um,um.exports)),um.exports}var lm={exports:{}},fm={exports:{}},ZO;function PZ(){return ZO||(ZO=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(r){return r[Symbol.iterator]&&r[Symbol.iterator]()},e.exports=t.default}(fm,fm.exports)),fm.exports}var YO;function CZ(){return YO||(YO=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=f;var r=GE(),n=o(r),a=PZ(),i=o(a);function o(d){return d&&d.__esModule?d:{default:d}}function s(d){var c=-1,p=d.length;return function(){return++c<p?{value:d[c],key:c}:null}}function u(d){var c=-1;return function(){var _=d.next();return _.done?null:(c++,{value:_.value,key:c})}}function l(d){var c=d?Object.keys(d):[],p=-1,_=c.length;return function v(){var b=c[++p];return b==="__proto__"?v():p<_?{value:d[b],key:b}:null}}function f(d){if((0,n.default)(d))return s(d);var c=(0,i.default)(d);return c?u(c):l(d)}e.exports=t.default}(lm,lm.exports)),lm.exports}var cm={exports:{}},QO;function Jj(){return QO||(QO=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(n){return function(...a){if(n===null)throw new Error("Callback was already called.");var i=n;n=null,i.apply(this,a)}}e.exports=t.default}(cm,cm.exports)),cm.exports}var dm={exports:{}},hm={exports:{}},XO;function WE(){return XO||(XO=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r={};t.default=r,e.exports=t.default}(hm,hm.exports)),hm.exports}var JO;function LZ(){return JO||(JO=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=WE(),n=a(r);function a(o){return o&&o.__esModule?o:{default:o}}function i(o,s,u,l){let f=!1,d=!1,c=!1,p=0,_=0;function v(){p>=s||c||f||(c=!0,o.next().then(({value:y,done:g})=>{if(!(d||f)){if(c=!1,g){f=!0,p<=0&&l(null);return}p++,u(y,_,b),_++,v()}}).catch(m))}function b(y,g){if(p-=1,!d){if(y)return m(y);if(y===!1){f=!0,d=!0;return}if(g===n.default||f&&p<=0)return f=!0,l(null);v()}}function m(y){d||(c=!1,f=!0,l(y))}v()}e.exports=t.default}(dm,dm.exports)),dm.exports}var eP;function DZ(){return eP||(eP=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=Xj(),n=p(r),a=CZ(),i=p(a),o=Jj(),s=p(o),u=cl(),l=LZ(),f=p(l),d=WE(),c=p(d);function p(_){return _&&_.__esModule?_:{default:_}}t.default=_=>(v,b,m)=>{if(m=(0,n.default)(m),_<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!v)return m(null);if((0,u.isAsyncGenerator)(v))return(0,f.default)(v,_,b,m);if((0,u.isAsyncIterable)(v))return(0,f.default)(v[Symbol.asyncIterator](),_,b,m);var y=(0,i.default)(v),g=!1,S=!1,T=0,I=!1;function C(D,M){if(!S)if(T-=1,D)g=!0,m(D);else if(D===!1)g=!0,S=!0;else{if(M===c.default||g&&T<=0)return g=!0,m(null);I||B()}}function B(){for(I=!0;T<_&&!g;){var D=y();if(D===null){g=!0,T<=0&&m(null);return}T+=1,b(D.value,D.key,(0,s.default)(C))}I=!1}B()},e.exports=t.default}(sm,sm.exports)),sm.exports}var tP;function e4(){return tP||(tP=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=DZ(),n=u(r),a=cl(),i=u(a),o=Xh(),s=u(o);function u(f){return f&&f.__esModule?f:{default:f}}function l(f,d,c,p){return(0,n.default)(d)(f,(0,i.default)(c),p)}t.default=(0,s.default)(l,4),e.exports=t.default}(om,om.exports)),om.exports}var rP;function NZ(){return rP||(rP=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=e4(),n=o(r),a=Xh(),i=o(a);function o(u){return u&&u.__esModule?u:{default:u}}function s(u,l,f){return(0,n.default)(u,1,l,f)}t.default=(0,i.default)(s,3),e.exports=t.default}(am,am.exports)),am.exports}var nP;function MZ(){return nP||(nP=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var r=OZ(),n=o(r),a=NZ(),i=o(a);function o(u){return u&&u.__esModule?u:{default:u}}function s(u,l){return(0,n.default)(i.default,u,l)}e.exports=t.default}(Jp,Jp.exports)),Jp.exports}var Fb={},jb,iP;function t4(){return iP||(iP=1,jb=Qn().EventEmitter),jb}var Bb,aP;function kZ(){if(aP)return Bb;aP=1;function e(_,v){var b=Object.keys(_);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(_);v&&(m=m.filter(function(y){return Object.getOwnPropertyDescriptor(_,y).enumerable})),b.push.apply(b,m)}return b}function t(_){for(var v=1;v<arguments.length;v++){var b=arguments[v]!=null?arguments[v]:{};v%2?e(Object(b),!0).forEach(function(m){r(_,m,b[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(b)):e(Object(b)).forEach(function(m){Object.defineProperty(_,m,Object.getOwnPropertyDescriptor(b,m))})}return _}function r(_,v,b){return v=o(v),v in _?Object.defineProperty(_,v,{value:b,enumerable:!0,configurable:!0,writable:!0}):_[v]=b,_}function n(_,v){if(!(_ instanceof v))throw new TypeError("Cannot call a class as a function")}function a(_,v){for(var b=0;b<v.length;b++){var m=v[b];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(_,o(m.key),m)}}function i(_,v,b){return a(_.prototype,v),Object.defineProperty(_,"prototype",{writable:!1}),_}function o(_){var v=s(_,"string");return typeof v=="symbol"?v:String(v)}function s(_,v){if(typeof _!="object"||_===null)return _;var b=_[Symbol.toPrimitive];if(b!==void 0){var m=b.call(_,v);if(typeof m!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(_)}var u=Tr(),l=u.Buffer,f=Pr(),d=f.inspect,c=d&&d.custom||"inspect";function p(_,v,b){l.prototype.copy.call(_,v,b)}return Bb=function(){function _(){n(this,_),this.head=null,this.tail=null,this.length=0}return i(_,[{key:"push",value:function(b){var m={data:b,next:null};this.length>0?this.tail.next=m:this.head=m,this.tail=m,++this.length}},{key:"unshift",value:function(b){var m={data:b,next:this.head};this.length===0&&(this.tail=m),this.head=m,++this.length}},{key:"shift",value:function(){if(this.length!==0){var b=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,b}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(b){if(this.length===0)return"";for(var m=this.head,y=""+m.data;m=m.next;)y+=b+m.data;return y}},{key:"concat",value:function(b){if(this.length===0)return l.alloc(0);for(var m=l.allocUnsafe(b>>>0),y=this.head,g=0;y;)p(y.data,m,g),g+=y.data.length,y=y.next;return m}},{key:"consume",value:function(b,m){var y;return b<this.head.data.length?(y=this.head.data.slice(0,b),this.head.data=this.head.data.slice(b)):b===this.head.data.length?y=this.shift():y=m?this._getString(b):this._getBuffer(b),y}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(b){var m=this.head,y=1,g=m.data;for(b-=g.length;m=m.next;){var S=m.data,T=b>S.length?S.length:b;if(T===S.length?g+=S:g+=S.slice(0,b),b-=T,b===0){T===S.length?(++y,m.next?this.head=m.next:this.head=this.tail=null):(this.head=m,m.data=S.slice(T));break}++y}return this.length-=y,g}},{key:"_getBuffer",value:function(b){var m=l.allocUnsafe(b),y=this.head,g=1;for(y.data.copy(m),b-=y.data.length;y=y.next;){var S=y.data,T=b>S.length?S.length:b;if(S.copy(m,m.length-b,0,T),b-=T,b===0){T===S.length?(++g,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=S.slice(T));break}++g}return this.length-=g,m}},{key:c,value:function(b,m){return d(this,t(t({},m),{},{depth:0,customInspect:!1}))}}]),_}(),Bb}var qb,oP;function r4(){if(oP)return qb;oP=1;function e(o,s){var u=this,l=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return l||f?(s?s(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,ze.nextTick(a,this,o)):ze.nextTick(a,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(d){!s&&d?u._writableState?u._writableState.errorEmitted?ze.nextTick(r,u):(u._writableState.errorEmitted=!0,ze.nextTick(t,u,d)):ze.nextTick(t,u,d):s?(ze.nextTick(r,u),s(d)):ze.nextTick(r,u)}),this)}function t(o,s){a(o,s),r(o)}function r(o){o._writableState&&!o._writableState.emitClose||o._readableState&&!o._readableState.emitClose||o.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function a(o,s){o.emit("error",s)}function i(o,s){var u=o._readableState,l=o._writableState;u&&u.autoDestroy||l&&l.autoDestroy?o.destroy(s):o.emit("error",s)}return qb={destroy:e,undestroy:n,errorOrDestroy:i},qb}var $b={},sP;function dl(){if(sP)return $b;sP=1;function e(s,u){s.prototype=Object.create(u.prototype),s.prototype.constructor=s,s.__proto__=u}var t={};function r(s,u,l){l||(l=Error);function f(c,p,_){return typeof u=="string"?u:u(c,p,_)}var d=function(c){e(p,c);function p(_,v,b){return c.call(this,f(_,v,b))||this}return p}(l);d.prototype.name=l.name,d.prototype.code=s,t[s]=d}function n(s,u){if(Array.isArray(s)){var l=s.length;return s=s.map(function(f){return String(f)}),l>2?"one of ".concat(u," ").concat(s.slice(0,l-1).join(", "),", or ")+s[l-1]:l===2?"one of ".concat(u," ").concat(s[0]," or ").concat(s[1]):"of ".concat(u," ").concat(s[0])}else return"of ".concat(u," ").concat(String(s))}function a(s,u,l){return s.substr(0,u.length)===u}function i(s,u,l){return(l===void 0||l>s.length)&&(l=s.length),s.substring(l-u.length,l)===u}function o(s,u,l){return typeof l!="number"&&(l=0),l+u.length>s.length?!1:s.indexOf(u,l)!==-1}return r("ERR_INVALID_OPT_VALUE",function(s,u){return'The value "'+u+'" is invalid for option "'+s+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(s,u,l){var f;typeof u=="string"&&a(u,"not ")?(f="must not be",u=u.replace(/^not /,"")):f="must be";var d;if(i(s," argument"))d="The ".concat(s," ").concat(f," ").concat(n(u,"type"));else{var c=o(s,".")?"property":"argument";d='The "'.concat(s,'" ').concat(c," ").concat(f," ").concat(n(u,"type"))}return d+=". Received type ".concat(typeof l),d},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(s){return"The "+s+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(s){return"Cannot call "+s+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(s){return"Unknown encoding: "+s},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),$b.codes=t,$b}var Ub,uP;function n4(){if(uP)return Ub;uP=1;var e=dl().codes.ERR_INVALID_OPT_VALUE;function t(n,a,i){return n.highWaterMark!=null?n.highWaterMark:a?n[i]:null}function r(n,a,i,o){var s=t(a,o,i);if(s!=null){if(!(isFinite(s)&&Math.floor(s)===s)||s<0){var u=o?i:"highWaterMark";throw new e(u,s)}return Math.floor(s)}return n.objectMode?16:16*1024}return Ub={getHighWaterMark:r},Ub}var Hb,lP;function i4(){if(lP)return Hb;lP=1,Hb=B;function e(P){var A=this;this.next=null,this.entry=null,this.finish=function(){ee(A,P)}}var t;B.WritableState=I;var r={deprecate:k0()},n=t4(),a=Tr().Buffer,i=(typeof xt<"u"?xt:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function o(P){return a.from(P)}function s(P){return a.isBuffer(P)||P instanceof i}var u=r4(),l=n4(),f=l.getHighWaterMark,d=dl().codes,c=d.ERR_INVALID_ARG_TYPE,p=d.ERR_METHOD_NOT_IMPLEMENTED,_=d.ERR_MULTIPLE_CALLBACK,v=d.ERR_STREAM_CANNOT_PIPE,b=d.ERR_STREAM_DESTROYED,m=d.ERR_STREAM_NULL_VALUES,y=d.ERR_STREAM_WRITE_AFTER_END,g=d.ERR_UNKNOWN_ENCODING,S=u.errorOrDestroy;Cr()(B,n);function T(){}function I(P,A,$){t=t||Vu(),P=P||{},typeof $!="boolean"&&($=A instanceof t),this.objectMode=!!P.objectMode,$&&(this.objectMode=this.objectMode||!!P.writableObjectMode),this.highWaterMark=f(this,P,"writableHighWaterMark",$),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var te=P.decodeStrings===!1;this.decodeStrings=!te,this.defaultEncoding=P.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(pe){X(A,pe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=P.emitClose!==!1,this.autoDestroy=!!P.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}I.prototype.getBuffer=function(){for(var A=this.bufferedRequest,$=[];A;)$.push(A),A=A.next;return $},function(){try{Object.defineProperty(I.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var C;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(C=Function.prototype[Symbol.hasInstance],Object.defineProperty(B,Symbol.hasInstance,{value:function(A){return C.call(this,A)?!0:this!==B?!1:A&&A._writableState instanceof I}})):C=function(A){return A instanceof this};function B(P){t=t||Vu();var A=this instanceof t;if(!A&&!C.call(B,this))return new B(P);this._writableState=new I(P,this,A),this.writable=!0,P&&(typeof P.write=="function"&&(this._write=P.write),typeof P.writev=="function"&&(this._writev=P.writev),typeof P.destroy=="function"&&(this._destroy=P.destroy),typeof P.final=="function"&&(this._final=P.final)),n.call(this)}B.prototype.pipe=function(){S(this,new v)};function D(P,A){var $=new y;S(P,$),ze.nextTick(A,$)}function M(P,A,$,te){var pe;return $===null?pe=new m:typeof $!="string"&&!A.objectMode&&(pe=new c("chunk",["string","Buffer"],$)),pe?(S(P,pe),ze.nextTick(te,pe),!1):!0}B.prototype.write=function(P,A,$){var te=this._writableState,pe=!1,R=!te.objectMode&&s(P);return R&&!a.isBuffer(P)&&(P=o(P)),typeof A=="function"&&($=A,A=null),R?A="buffer":A||(A=te.defaultEncoding),typeof $!="function"&&($=T),te.ending?D(this,$):(R||M(this,te,P,$))&&(te.pendingcb++,pe=O(this,te,R,P,A,$)),pe},B.prototype.cork=function(){this._writableState.corked++},B.prototype.uncork=function(){var P=this._writableState;P.corked&&(P.corked--,!P.writing&&!P.corked&&!P.bufferProcessing&&P.bufferedRequest&&ne(this,P))},B.prototype.setDefaultEncoding=function(A){if(typeof A=="string"&&(A=A.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((A+"").toLowerCase())>-1))throw new g(A);return this._writableState.defaultEncoding=A,this},Object.defineProperty(B.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function j(P,A,$){return!P.objectMode&&P.decodeStrings!==!1&&typeof A=="string"&&(A=a.from(A,$)),A}Object.defineProperty(B.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function O(P,A,$,te,pe,R){if(!$){var w=j(A,te,pe);te!==w&&($=!0,pe="buffer",te=w)}var x=A.objectMode?1:te.length;A.length+=x;var k=A.length<A.highWaterMark;if(k||(A.needDrain=!0),A.writing||A.corked){var U=A.lastBufferedRequest;A.lastBufferedRequest={chunk:te,encoding:pe,isBuf:$,callback:R,next:null},U?U.next=A.lastBufferedRequest:A.bufferedRequest=A.lastBufferedRequest,A.bufferedRequestCount+=1}else q(P,A,!1,x,te,pe,R);return k}function q(P,A,$,te,pe,R,w){A.writelen=te,A.writecb=w,A.writing=!0,A.sync=!0,A.destroyed?A.onwrite(new b("write")):$?P._writev(pe,A.onwrite):P._write(pe,R,A.onwrite),A.sync=!1}function Q(P,A,$,te,pe){--A.pendingcb,$?(ze.nextTick(pe,te),ze.nextTick(Y,P,A),P._writableState.errorEmitted=!0,S(P,te)):(pe(te),P._writableState.errorEmitted=!0,S(P,te),Y(P,A))}function ie(P){P.writing=!1,P.writecb=null,P.length-=P.writelen,P.writelen=0}function X(P,A){var $=P._writableState,te=$.sync,pe=$.writecb;if(typeof pe!="function")throw new _;if(ie($),A)Q(P,$,te,A,pe);else{var R=V($)||P.destroyed;!R&&!$.corked&&!$.bufferProcessing&&$.bufferedRequest&&ne(P,$),te?ze.nextTick(le,P,$,R,pe):le(P,$,R,pe)}}function le(P,A,$,te){$||ae(P,A),A.pendingcb--,te(),Y(P,A)}function ae(P,A){A.length===0&&A.needDrain&&(A.needDrain=!1,P.emit("drain"))}function ne(P,A){A.bufferProcessing=!0;var $=A.bufferedRequest;if(P._writev&&$&&$.next){var te=A.bufferedRequestCount,pe=new Array(te),R=A.corkedRequestsFree;R.entry=$;for(var w=0,x=!0;$;)pe[w]=$,$.isBuf||(x=!1),$=$.next,w+=1;pe.allBuffers=x,q(P,A,!0,A.length,pe,"",R.finish),A.pendingcb++,A.lastBufferedRequest=null,R.next?(A.corkedRequestsFree=R.next,R.next=null):A.corkedRequestsFree=new e(A),A.bufferedRequestCount=0}else{for(;$;){var k=$.chunk,U=$.encoding,re=$.callback,fe=A.objectMode?1:k.length;if(q(P,A,!1,fe,k,U,re),$=$.next,A.bufferedRequestCount--,A.writing)break}$===null&&(A.lastBufferedRequest=null)}A.bufferedRequest=$,A.bufferProcessing=!1}B.prototype._write=function(P,A,$){$(new p("_write()"))},B.prototype._writev=null,B.prototype.end=function(P,A,$){var te=this._writableState;return typeof P=="function"?($=P,P=null,A=null):typeof A=="function"&&($=A,A=null),P!=null&&this.write(P,A),te.corked&&(te.corked=1,this.uncork()),te.ending||Z(this,te,$),this},Object.defineProperty(B.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function V(P){return P.ending&&P.length===0&&P.bufferedRequest===null&&!P.finished&&!P.writing}function oe(P,A){P._final(function($){A.pendingcb--,$&&S(P,$),A.prefinished=!0,P.emit("prefinish"),Y(P,A)})}function he(P,A){!A.prefinished&&!A.finalCalled&&(typeof P._final=="function"&&!A.destroyed?(A.pendingcb++,A.finalCalled=!0,ze.nextTick(oe,P,A)):(A.prefinished=!0,P.emit("prefinish")))}function Y(P,A){var $=V(A);if($&&(he(P,A),A.pendingcb===0&&(A.finished=!0,P.emit("finish"),A.autoDestroy))){var te=P._readableState;(!te||te.autoDestroy&&te.endEmitted)&&P.destroy()}return $}function Z(P,A,$){A.ending=!0,Y(P,A),$&&(A.finished?ze.nextTick($):P.once("finish",$)),A.ended=!0,P.writable=!1}function ee(P,A,$){var te=P.entry;for(P.entry=null;te;){var pe=te.callback;A.pendingcb--,pe($),te=te.next}A.corkedRequestsFree.next=P}return Object.defineProperty(B.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(A){this._writableState&&(this._writableState.destroyed=A)}}),B.prototype.destroy=u.destroy,B.prototype._undestroy=u.undestroy,B.prototype._destroy=function(P,A){A(P)},Hb}var Vb,fP;function Vu(){if(fP)return Vb;fP=1;var e=Object.keys||function(l){var f=[];for(var d in l)f.push(d);return f};Vb=o;var t=a4(),r=i4();Cr()(o,t);for(var n=e(r.prototype),a=0;a<n.length;a++){var i=n[a];o.prototype[i]||(o.prototype[i]=r.prototype[i])}function o(l){if(!(this instanceof o))return new o(l);t.call(this,l),r.call(this,l),this.allowHalfOpen=!0,l&&(l.readable===!1&&(this.readable=!1),l.writable===!1&&(this.writable=!1),l.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",s)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function s(){this._writableState.ended||ze.nextTick(u,this)}function u(l){l.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(f){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=f,this._writableState.destroyed=f)}}),Vb}var zb,cP;function KE(){if(cP)return zb;cP=1;var e=dl().codes.ERR_STREAM_PREMATURE_CLOSE;function t(i){var o=!1;return function(){if(!o){o=!0;for(var s=arguments.length,u=new Array(s),l=0;l<s;l++)u[l]=arguments[l];i.apply(this,u)}}}function r(){}function n(i){return i.setHeader&&typeof i.abort=="function"}function a(i,o,s){if(typeof o=="function")return a(i,null,o);o||(o={}),s=t(s||r);var u=o.readable||o.readable!==!1&&i.readable,l=o.writable||o.writable!==!1&&i.writable,f=function(){i.writable||c()},d=i._writableState&&i._writableState.finished,c=function(){l=!1,d=!0,u||s.call(i)},p=i._readableState&&i._readableState.endEmitted,_=function(){u=!1,p=!0,l||s.call(i)},v=function(g){s.call(i,g)},b=function(){var g;if(u&&!p)return(!i._readableState||!i._readableState.ended)&&(g=new e),s.call(i,g);if(l&&!d)return(!i._writableState||!i._writableState.ended)&&(g=new e),s.call(i,g)},m=function(){i.req.on("finish",c)};return n(i)?(i.on("complete",c),i.on("abort",b),i.req?m():i.on("request",m)):l&&!i._writableState&&(i.on("end",f),i.on("close",f)),i.on("end",_),i.on("finish",c),o.error!==!1&&i.on("error",v),i.on("close",b),function(){i.removeListener("complete",c),i.removeListener("abort",b),i.removeListener("request",m),i.req&&i.req.removeListener("finish",c),i.removeListener("end",f),i.removeListener("close",f),i.removeListener("finish",c),i.removeListener("end",_),i.removeListener("error",v),i.removeListener("close",b)}}return zb=a,zb}var Gb,dP;function FZ(){if(dP)return Gb;dP=1;var e;function t(g,S,T){return S=r(S),S in g?Object.defineProperty(g,S,{value:T,enumerable:!0,configurable:!0,writable:!0}):g[S]=T,g}function r(g){var S=n(g,"string");return typeof S=="symbol"?S:String(S)}function n(g,S){if(typeof g!="object"||g===null)return g;var T=g[Symbol.toPrimitive];if(T!==void 0){var I=T.call(g,S||"default");if(typeof I!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(g)}var a=KE(),i=Symbol("lastResolve"),o=Symbol("lastReject"),s=Symbol("error"),u=Symbol("ended"),l=Symbol("lastPromise"),f=Symbol("handlePromise"),d=Symbol("stream");function c(g,S){return{value:g,done:S}}function p(g){var S=g[i];if(S!==null){var T=g[d].read();T!==null&&(g[l]=null,g[i]=null,g[o]=null,S(c(T,!1)))}}function _(g){ze.nextTick(p,g)}function v(g,S){return function(T,I){g.then(function(){if(S[u]){T(c(void 0,!0));return}S[f](T,I)},I)}}var b=Object.getPrototypeOf(function(){}),m=Object.setPrototypeOf((e={get stream(){return this[d]},next:function(){var S=this,T=this[s];if(T!==null)return Promise.reject(T);if(this[u])return Promise.resolve(c(void 0,!0));if(this[d].destroyed)return new Promise(function(D,M){ze.nextTick(function(){S[s]?M(S[s]):D(c(void 0,!0))})});var I=this[l],C;if(I)C=new Promise(v(I,this));else{var B=this[d].read();if(B!==null)return Promise.resolve(c(B,!1));C=new Promise(this[f])}return this[l]=C,C}},t(e,Symbol.asyncIterator,function(){return this}),t(e,"return",function(){var S=this;return new Promise(function(T,I){S[d].destroy(null,function(C){if(C){I(C);return}T(c(void 0,!0))})})}),e),b),y=function(S){var T,I=Object.create(m,(T={},t(T,d,{value:S,writable:!0}),t(T,i,{value:null,writable:!0}),t(T,o,{value:null,writable:!0}),t(T,s,{value:null,writable:!0}),t(T,u,{value:S._readableState.endEmitted,writable:!0}),t(T,f,{value:function(B,D){var M=I[d].read();M?(I[l]=null,I[i]=null,I[o]=null,B(c(M,!1))):(I[i]=B,I[o]=D)},writable:!0}),T));return I[l]=null,a(S,function(C){if(C&&C.code!=="ERR_STREAM_PREMATURE_CLOSE"){var B=I[o];B!==null&&(I[l]=null,I[i]=null,I[o]=null,B(C)),I[s]=C;return}var D=I[i];D!==null&&(I[l]=null,I[i]=null,I[o]=null,D(c(void 0,!0))),I[u]=!0}),S.on("readable",_.bind(null,I)),I};return Gb=y,Gb}var Wb,hP;function jZ(){return hP||(hP=1,Wb=function(){throw new Error("Readable.from is not available in the browser")}),Wb}var Kb,pP;function a4(){if(pP)return Kb;pP=1,Kb=D;var e;D.ReadableState=B,Qn().EventEmitter;var t=function(w,x){return w.listeners(x).length},r=t4(),n=Tr().Buffer,a=(typeof xt<"u"?xt:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function i(R){return n.from(R)}function o(R){return n.isBuffer(R)||R instanceof a}var s=Pr(),u;s&&s.debuglog?u=s.debuglog("stream"):u=function(){};var l=kZ(),f=r4(),d=n4(),c=d.getHighWaterMark,p=dl().codes,_=p.ERR_INVALID_ARG_TYPE,v=p.ERR_STREAM_PUSH_AFTER_EOF,b=p.ERR_METHOD_NOT_IMPLEMENTED,m=p.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,y,g,S;Cr()(D,r);var T=f.errorOrDestroy,I=["error","close","destroy","pause","resume"];function C(R,w,x){if(typeof R.prependListener=="function")return R.prependListener(w,x);!R._events||!R._events[w]?R.on(w,x):Array.isArray(R._events[w])?R._events[w].unshift(x):R._events[w]=[x,R._events[w]]}function B(R,w,x){e=e||Vu(),R=R||{},typeof x!="boolean"&&(x=w instanceof e),this.objectMode=!!R.objectMode,x&&(this.objectMode=this.objectMode||!!R.readableObjectMode),this.highWaterMark=c(this,R,"readableHighWaterMark",x),this.buffer=new l,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=R.emitClose!==!1,this.autoDestroy=!!R.autoDestroy,this.destroyed=!1,this.defaultEncoding=R.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,R.encoding&&(y||(y=va().StringDecoder),this.decoder=new y(R.encoding),this.encoding=R.encoding)}function D(R){if(e=e||Vu(),!(this instanceof D))return new D(R);var w=this instanceof e;this._readableState=new B(R,this,w),this.readable=!0,R&&(typeof R.read=="function"&&(this._read=R.read),typeof R.destroy=="function"&&(this._destroy=R.destroy)),r.call(this)}Object.defineProperty(D.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(w){this._readableState&&(this._readableState.destroyed=w)}}),D.prototype.destroy=f.destroy,D.prototype._undestroy=f.undestroy,D.prototype._destroy=function(R,w){w(R)},D.prototype.push=function(R,w){var x=this._readableState,k;return x.objectMode?k=!0:typeof R=="string"&&(w=w||x.defaultEncoding,w!==x.encoding&&(R=n.from(R,w),w=""),k=!0),M(this,R,w,!1,k)},D.prototype.unshift=function(R){return M(this,R,null,!0,!1)};function M(R,w,x,k,U){u("readableAddChunk",w);var re=R._readableState;if(w===null)re.reading=!1,X(R,re);else{var fe;if(U||(fe=O(re,w)),fe)T(R,fe);else if(re.objectMode||w&&w.length>0)if(typeof w!="string"&&!re.objectMode&&Object.getPrototypeOf(w)!==n.prototype&&(w=i(w)),k)re.endEmitted?T(R,new m):j(R,re,w,!0);else if(re.ended)T(R,new v);else{if(re.destroyed)return!1;re.reading=!1,re.decoder&&!x?(w=re.decoder.write(w),re.objectMode||w.length!==0?j(R,re,w,!1):ne(R,re)):j(R,re,w,!1)}else k||(re.reading=!1,ne(R,re))}return!re.ended&&(re.length<re.highWaterMark||re.length===0)}function j(R,w,x,k){w.flowing&&w.length===0&&!w.sync?(w.awaitDrain=0,R.emit("data",x)):(w.length+=w.objectMode?1:x.length,k?w.buffer.unshift(x):w.buffer.push(x),w.needReadable&&le(R)),ne(R,w)}function O(R,w){var x;return!o(w)&&typeof w!="string"&&w!==void 0&&!R.objectMode&&(x=new _("chunk",["string","Buffer","Uint8Array"],w)),x}D.prototype.isPaused=function(){return this._readableState.flowing===!1},D.prototype.setEncoding=function(R){y||(y=va().StringDecoder);var w=new y(R);this._readableState.decoder=w,this._readableState.encoding=this._readableState.decoder.encoding;for(var x=this._readableState.buffer.head,k="";x!==null;)k+=w.write(x.data),x=x.next;return this._readableState.buffer.clear(),k!==""&&this._readableState.buffer.push(k),this._readableState.length=k.length,this};var q=1073741824;function Q(R){return R>=q?R=q:(R--,R|=R>>>1,R|=R>>>2,R|=R>>>4,R|=R>>>8,R|=R>>>16,R++),R}function ie(R,w){return R<=0||w.length===0&&w.ended?0:w.objectMode?1:R!==R?w.flowing&&w.length?w.buffer.head.data.length:w.length:(R>w.highWaterMark&&(w.highWaterMark=Q(R)),R<=w.length?R:w.ended?w.length:(w.needReadable=!0,0))}D.prototype.read=function(R){u("read",R),R=parseInt(R,10);var w=this._readableState,x=R;if(R!==0&&(w.emittedReadable=!1),R===0&&w.needReadable&&((w.highWaterMark!==0?w.length>=w.highWaterMark:w.length>0)||w.ended))return u("read: emitReadable",w.length,w.ended),w.length===0&&w.ended?$(this):le(this),null;if(R=ie(R,w),R===0&&w.ended)return w.length===0&&$(this),null;var k=w.needReadable;u("need readable",k),(w.length===0||w.length-R<w.highWaterMark)&&(k=!0,u("length less than watermark",k)),w.ended||w.reading?(k=!1,u("reading or ended",k)):k&&(u("do read"),w.reading=!0,w.sync=!0,w.length===0&&(w.needReadable=!0),this._read(w.highWaterMark),w.sync=!1,w.reading||(R=ie(x,w)));var U;return R>0?U=A(R,w):U=null,U===null?(w.needReadable=w.length<=w.highWaterMark,R=0):(w.length-=R,w.awaitDrain=0),w.length===0&&(w.ended||(w.needReadable=!0),x!==R&&w.ended&&$(this)),U!==null&&this.emit("data",U),U};function X(R,w){if(u("onEofChunk"),!w.ended){if(w.decoder){var x=w.decoder.end();x&&x.length&&(w.buffer.push(x),w.length+=w.objectMode?1:x.length)}w.ended=!0,w.sync?le(R):(w.needReadable=!1,w.emittedReadable||(w.emittedReadable=!0,ae(R)))}}function le(R){var w=R._readableState;u("emitReadable",w.needReadable,w.emittedReadable),w.needReadable=!1,w.emittedReadable||(u("emitReadable",w.flowing),w.emittedReadable=!0,ze.nextTick(ae,R))}function ae(R){var w=R._readableState;u("emitReadable_",w.destroyed,w.length,w.ended),!w.destroyed&&(w.length||w.ended)&&(R.emit("readable"),w.emittedReadable=!1),w.needReadable=!w.flowing&&!w.ended&&w.length<=w.highWaterMark,P(R)}function ne(R,w){w.readingMore||(w.readingMore=!0,ze.nextTick(V,R,w))}function V(R,w){for(;!w.reading&&!w.ended&&(w.length<w.highWaterMark||w.flowing&&w.length===0);){var x=w.length;if(u("maybeReadMore read 0"),R.read(0),x===w.length)break}w.readingMore=!1}D.prototype._read=function(R){T(this,new b("_read()"))},D.prototype.pipe=function(R,w){var x=this,k=this._readableState;switch(k.pipesCount){case 0:k.pipes=R;break;case 1:k.pipes=[k.pipes,R];break;default:k.pipes.push(R);break}k.pipesCount+=1,u("pipe count=%d opts=%j",k.pipesCount,w);var U=(!w||w.end!==!1)&&R!==ze.stdout&&R!==ze.stderr,re=U?ve:ke;k.endEmitted?ze.nextTick(re):x.once("end",re),R.on("unpipe",fe);function fe(Ze,Ue){u("onunpipe"),Ze===x&&Ue&&Ue.hasUnpiped===!1&&(Ue.hasUnpiped=!0,be())}function ve(){u("onend"),R.end()}var ce=oe(x);R.on("drain",ce);var Ie=!1;function be(){u("cleanup"),R.removeListener("close",Ae),R.removeListener("finish",Pe),R.removeListener("drain",ce),R.removeListener("error",je),R.removeListener("unpipe",fe),x.removeListener("end",ve),x.removeListener("end",ke),x.removeListener("data",xe),Ie=!0,k.awaitDrain&&(!R._writableState||R._writableState.needDrain)&&ce()}x.on("data",xe);function xe(Ze){u("ondata");var Ue=R.write(Ze);u("dest.write",Ue),Ue===!1&&((k.pipesCount===1&&k.pipes===R||k.pipesCount>1&&pe(k.pipes,R)!==-1)&&!Ie&&(u("false write response, pause",k.awaitDrain),k.awaitDrain++),x.pause())}function je(Ze){u("onerror",Ze),ke(),R.removeListener("error",je),t(R,"error")===0&&T(R,Ze)}C(R,"error",je);function Ae(){R.removeListener("finish",Pe),ke()}R.once("close",Ae);function Pe(){u("onfinish"),R.removeListener("close",Ae),ke()}R.once("finish",Pe);function ke(){u("unpipe"),x.unpipe(R)}return R.emit("pipe",x),k.flowing||(u("pipe resume"),x.resume()),R};function oe(R){return function(){var x=R._readableState;u("pipeOnDrain",x.awaitDrain),x.awaitDrain&&x.awaitDrain--,x.awaitDrain===0&&t(R,"data")&&(x.flowing=!0,P(R))}}D.prototype.unpipe=function(R){var w=this._readableState,x={hasUnpiped:!1};if(w.pipesCount===0)return this;if(w.pipesCount===1)return R&&R!==w.pipes?this:(R||(R=w.pipes),w.pipes=null,w.pipesCount=0,w.flowing=!1,R&&R.emit("unpipe",this,x),this);if(!R){var k=w.pipes,U=w.pipesCount;w.pipes=null,w.pipesCount=0,w.flowing=!1;for(var re=0;re<U;re++)k[re].emit("unpipe",this,{hasUnpiped:!1});return this}var fe=pe(w.pipes,R);return fe===-1?this:(w.pipes.splice(fe,1),w.pipesCount-=1,w.pipesCount===1&&(w.pipes=w.pipes[0]),R.emit("unpipe",this,x),this)},D.prototype.on=function(R,w){var x=r.prototype.on.call(this,R,w),k=this._readableState;return R==="data"?(k.readableListening=this.listenerCount("readable")>0,k.flowing!==!1&&this.resume()):R==="readable"&&!k.endEmitted&&!k.readableListening&&(k.readableListening=k.needReadable=!0,k.flowing=!1,k.emittedReadable=!1,u("on readable",k.length,k.reading),k.length?le(this):k.reading||ze.nextTick(Y,this)),x},D.prototype.addListener=D.prototype.on,D.prototype.removeListener=function(R,w){var x=r.prototype.removeListener.call(this,R,w);return R==="readable"&&ze.nextTick(he,this),x},D.prototype.removeAllListeners=function(R){var w=r.prototype.removeAllListeners.apply(this,arguments);return(R==="readable"||R===void 0)&&ze.nextTick(he,this),w};function he(R){var w=R._readableState;w.readableListening=R.listenerCount("readable")>0,w.resumeScheduled&&!w.paused?w.flowing=!0:R.listenerCount("data")>0&&R.resume()}function Y(R){u("readable nexttick read 0"),R.read(0)}D.prototype.resume=function(){var R=this._readableState;return R.flowing||(u("resume"),R.flowing=!R.readableListening,Z(this,R)),R.paused=!1,this};function Z(R,w){w.resumeScheduled||(w.resumeScheduled=!0,ze.nextTick(ee,R,w))}function ee(R,w){u("resume",w.reading),w.reading||R.read(0),w.resumeScheduled=!1,R.emit("resume"),P(R),w.flowing&&!w.reading&&R.read(0)}D.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function P(R){var w=R._readableState;for(u("flow",w.flowing);w.flowing&&R.read()!==null;);}D.prototype.wrap=function(R){var w=this,x=this._readableState,k=!1;R.on("end",function(){if(u("wrapped end"),x.decoder&&!x.ended){var fe=x.decoder.end();fe&&fe.length&&w.push(fe)}w.push(null)}),R.on("data",function(fe){if(u("wrapped data"),x.decoder&&(fe=x.decoder.write(fe)),!(x.objectMode&&fe==null)&&!(!x.objectMode&&(!fe||!fe.length))){var ve=w.push(fe);ve||(k=!0,R.pause())}});for(var U in R)this[U]===void 0&&typeof R[U]=="function"&&(this[U]=function(ve){return function(){return R[ve].apply(R,arguments)}}(U));for(var re=0;re<I.length;re++)R.on(I[re],this.emit.bind(this,I[re]));return this._read=function(fe){u("wrapped _read",fe),k&&(k=!1,R.resume())},this},typeof Symbol=="function"&&(D.prototype[Symbol.asyncIterator]=function(){return g===void 0&&(g=FZ()),g(this)}),Object.defineProperty(D.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(D.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(D.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(w){this._readableState&&(this._readableState.flowing=w)}}),D._fromList=A,Object.defineProperty(D.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function A(R,w){if(w.length===0)return null;var x;return w.objectMode?x=w.buffer.shift():!R||R>=w.length?(w.decoder?x=w.buffer.join(""):w.buffer.length===1?x=w.buffer.first():x=w.buffer.concat(w.length),w.buffer.clear()):x=w.buffer.consume(R,w.decoder),x}function $(R){var w=R._readableState;u("endReadable",w.endEmitted),w.endEmitted||(w.ended=!0,ze.nextTick(te,w,R))}function te(R,w){if(u("endReadableNT",R.endEmitted,R.length),!R.endEmitted&&R.length===0&&(R.endEmitted=!0,w.readable=!1,w.emit("end"),R.autoDestroy)){var x=w._writableState;(!x||x.autoDestroy&&x.finished)&&w.destroy()}}typeof Symbol=="function"&&(D.from=function(R,w){return S===void 0&&(S=jZ()),S(D,R,w)});function pe(R,w){for(var x=0,k=R.length;x<k;x++)if(R[x]===w)return x;return-1}return Kb}var Zb,mP;function o4(){if(mP)return Zb;mP=1,Zb=s;var e=dl().codes,t=e.ERR_METHOD_NOT_IMPLEMENTED,r=e.ERR_MULTIPLE_CALLBACK,n=e.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=e.ERR_TRANSFORM_WITH_LENGTH_0,i=Vu();Cr()(s,i);function o(f,d){var c=this._transformState;c.transforming=!1;var p=c.writecb;if(p===null)return this.emit("error",new r);c.writechunk=null,c.writecb=null,d!=null&&this.push(d),p(f);var _=this._readableState;_.reading=!1,(_.needReadable||_.length<_.highWaterMark)&&this._read(_.highWaterMark)}function s(f){if(!(this instanceof s))return new s(f);i.call(this,f),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",u)}function u(){var f=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(d,c){l(f,d,c)}):l(this,null,null)}s.prototype.push=function(f,d){return this._transformState.needTransform=!1,i.prototype.push.call(this,f,d)},s.prototype._transform=function(f,d,c){c(new t("_transform()"))},s.prototype._write=function(f,d,c){var p=this._transformState;if(p.writecb=c,p.writechunk=f,p.writeencoding=d,!p.transforming){var _=this._readableState;(p.needTransform||_.needReadable||_.length<_.highWaterMark)&&this._read(_.highWaterMark)}},s.prototype._read=function(f){var d=this._transformState;d.writechunk!==null&&!d.transforming?(d.transforming=!0,this._transform(d.writechunk,d.writeencoding,d.afterTransform)):d.needTransform=!0},s.prototype._destroy=function(f,d){i.prototype._destroy.call(this,f,function(c){d(c)})};function l(f,d,c){if(d)return f.emit("error",d);if(c!=null&&f.push(c),f._writableState.length)throw new a;if(f._transformState.transforming)throw new n;return f.push(null)}return Zb}var Yb,yP;function BZ(){if(yP)return Yb;yP=1,Yb=t;var e=o4();Cr()(t,e);function t(r){if(!(this instanceof t))return new t(r);e.call(this,r)}return t.prototype._transform=function(r,n,a){a(null,r)},Yb}var Qb,gP;function qZ(){if(gP)return Qb;gP=1;var e;function t(c){var p=!1;return function(){p||(p=!0,c.apply(void 0,arguments))}}var r=dl().codes,n=r.ERR_MISSING_ARGS,a=r.ERR_STREAM_DESTROYED;function i(c){if(c)throw c}function o(c){return c.setHeader&&typeof c.abort=="function"}function s(c,p,_,v){v=t(v);var b=!1;c.on("close",function(){b=!0}),e===void 0&&(e=KE()),e(c,{readable:p,writable:_},function(y){if(y)return v(y);b=!0,v()});var m=!1;return function(y){if(!b&&!m){if(m=!0,o(c))return c.abort();if(typeof c.destroy=="function")return c.destroy();v(y||new a("pipe"))}}}function u(c){c()}function l(c,p){return c.pipe(p)}function f(c){return!c.length||typeof c[c.length-1]!="function"?i:c.pop()}function d(){for(var c=arguments.length,p=new Array(c),_=0;_<c;_++)p[_]=arguments[_];var v=f(p);if(Array.isArray(p[0])&&(p=p[0]),p.length<2)throw new n("streams");var b,m=p.map(function(y,g){var S=g<p.length-1,T=g>0;return s(y,S,T,function(I){b||(b=I),I&&m.forEach(u),!S&&(m.forEach(u),v(b))})});return p.reduce(l)}return Qb=d,Qb}var Xb,_P;function $Z(){if(_P)return Xb;_P=1,Xb=r;var e=Qn().EventEmitter,t=Cr();t(r,e),r.Readable=a4(),r.Writable=i4(),r.Duplex=Vu(),r.Transform=o4(),r.PassThrough=BZ(),r.finished=KE(),r.pipeline=qZ(),r.Stream=r;function r(){e.call(this)}return r.prototype.pipe=function(n,a){var i=this;function o(p){n.writable&&n.write(p)===!1&&i.pause&&i.pause()}i.on("data",o);function s(){i.readable&&i.resume&&i.resume()}n.on("drain",s),!n._isStdio&&(!a||a.end!==!1)&&(i.on("end",l),i.on("close",f));var u=!1;function l(){u||(u=!0,n.end())}function f(){u||(u=!0,typeof n.destroy=="function"&&n.destroy())}function d(p){if(c(),e.listenerCount(this,"error")===0)throw p}i.on("error",d),n.on("error",d);function c(){i.removeListener("data",o),n.removeListener("drain",s),i.removeListener("end",l),i.removeListener("close",f),i.removeListener("error",d),n.removeListener("error",d),i.removeListener("end",c),i.removeListener("close",c),n.removeListener("close",c)}return i.on("end",c),i.on("close",c),n.on("close",c),n.emit("pipe",i),n},Xb}var Jb={},ev={exports:{}},tv={},bP;function s4(){if(bP)return tv;bP=1;function e(y){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},e(y)}function t(y,g,S){return Object.defineProperty(y,"prototype",{writable:!1}),y}function r(y,g){if(!(y instanceof g))throw new TypeError("Cannot call a class as a function")}function n(y,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(g&&g.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),Object.defineProperty(y,"prototype",{writable:!1}),g&&a(y,g)}function a(y,g){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,I){return T.__proto__=I,T},a(y,g)}function i(y){var g=u();return function(){var T=l(y),I;if(g){var C=l(this).constructor;I=Reflect.construct(T,arguments,C)}else I=T.apply(this,arguments);return o(this,I)}}function o(y,g){if(g&&(e(g)==="object"||typeof g=="function"))return g;if(g!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s(y)}function s(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}function u(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function l(y){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(S){return S.__proto__||Object.getPrototypeOf(S)},l(y)}var f={},d,c;function p(y,g,S){S||(S=Error);function T(C,B,D){return typeof g=="string"?g:g(C,B,D)}var I=function(C){n(D,C);var B=i(D);function D(M,j,O){var q;return r(this,D),q=B.call(this,T(M,j,O)),q.code=y,q}return t(D)}(S);f[y]=I}function _(y,g){if(Array.isArray(y)){var S=y.length;return y=y.map(function(T){return String(T)}),S>2?"one of ".concat(g," ").concat(y.slice(0,S-1).join(", "),", or ")+y[S-1]:S===2?"one of ".concat(g," ").concat(y[0]," or ").concat(y[1]):"of ".concat(g," ").concat(y[0])}else return"of ".concat(g," ").concat(String(y))}function v(y,g,S){return y.substr(0,g.length)===g}function b(y,g,S){return(S===void 0||S>y.length)&&(S=y.length),y.substring(S-g.length,S)===g}function m(y,g,S){return typeof S!="number"&&(S=0),S+g.length>y.length?!1:y.indexOf(g,S)!==-1}return p("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),p("ERR_INVALID_ARG_TYPE",function(y,g,S){d===void 0&&(d=Jm()),d(typeof y=="string","'name' must be a string");var T;typeof g=="string"&&v(g,"not ")?(T="must not be",g=g.replace(/^not /,"")):T="must be";var I;if(b(y," argument"))I="The ".concat(y," ").concat(T," ").concat(_(g,"type"));else{var C=m(y,".")?"property":"argument";I='The "'.concat(y,'" ').concat(C," ").concat(T," ").concat(_(g,"type"))}return I+=". Received type ".concat(e(S)),I},TypeError),p("ERR_INVALID_ARG_VALUE",function(y,g){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";c===void 0&&(c=Pr());var T=c.inspect(g);return T.length>128&&(T="".concat(T.slice(0,128),"...")),"The argument '".concat(y,"' ").concat(S,". Received ").concat(T)},TypeError),p("ERR_INVALID_RETURN_VALUE",function(y,g,S){var T;return S&&S.constructor&&S.constructor.name?T="instance of ".concat(S.constructor.name):T="type ".concat(e(S)),"Expected ".concat(y,' to be returned from the "').concat(g,'"')+" function but got ".concat(T,".")},TypeError),p("ERR_MISSING_ARGS",function(){for(var y=arguments.length,g=new Array(y),S=0;S<y;S++)g[S]=arguments[S];d===void 0&&(d=Jm()),d(g.length>0,"At least one arg needs to be specified");var T="The ",I=g.length;switch(g=g.map(function(C){return'"'.concat(C,'"')}),I){case 1:T+="".concat(g[0]," argument");break;case 2:T+="".concat(g[0]," and ").concat(g[1]," arguments");break;default:T+=g.slice(0,I-1).join(", "),T+=", and ".concat(g[I-1]," arguments");break}return"".concat(T," must be specified")},TypeError),tv.codes=f,tv}var rv,vP;function UZ(){if(vP)return rv;vP=1;function e(ne,V){var oe=Object.keys(ne);if(Object.getOwnPropertySymbols){var he=Object.getOwnPropertySymbols(ne);V&&(he=he.filter(function(Y){return Object.getOwnPropertyDescriptor(ne,Y).enumerable})),oe.push.apply(oe,he)}return oe}function t(ne){for(var V=1;V<arguments.length;V++){var oe=arguments[V]!=null?arguments[V]:{};V%2?e(Object(oe),!0).forEach(function(he){r(ne,he,oe[he])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ne,Object.getOwnPropertyDescriptors(oe)):e(Object(oe)).forEach(function(he){Object.defineProperty(ne,he,Object.getOwnPropertyDescriptor(oe,he))})}return ne}function r(ne,V,oe){return V=o(V),V in ne?Object.defineProperty(ne,V,{value:oe,enumerable:!0,configurable:!0,writable:!0}):ne[V]=oe,ne}function n(ne,V){if(!(ne instanceof V))throw new TypeError("Cannot call a class as a function")}function a(ne,V){for(var oe=0;oe<V.length;oe++){var he=V[oe];he.enumerable=he.enumerable||!1,he.configurable=!0,"value"in he&&(he.writable=!0),Object.defineProperty(ne,o(he.key),he)}}function i(ne,V,oe){return a(ne.prototype,V),Object.defineProperty(ne,"prototype",{writable:!1}),ne}function o(ne){var V=s(ne,"string");return y(V)==="symbol"?V:String(V)}function s(ne,V){if(y(ne)!=="object"||ne===null)return ne;var oe=ne[Symbol.toPrimitive];if(oe!==void 0){var he=oe.call(ne,V);if(y(he)!=="object")return he;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ne)}function u(ne,V){if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function");ne.prototype=Object.create(V&&V.prototype,{constructor:{value:ne,writable:!0,configurable:!0}}),Object.defineProperty(ne,"prototype",{writable:!1}),V&&b(ne,V)}function l(ne){var V=_();return function(){var he=m(ne),Y;if(V){var Z=m(this).constructor;Y=Reflect.construct(he,arguments,Z)}else Y=he.apply(this,arguments);return f(this,Y)}}function f(ne,V){if(V&&(y(V)==="object"||typeof V=="function"))return V;if(V!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d(ne)}function d(ne){if(ne===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ne}function c(ne){var V=typeof Map=="function"?new Map:void 0;return c=function(he){if(he===null||!v(he))return he;if(typeof he!="function")throw new TypeError("Super expression must either be null or a function");if(typeof V<"u"){if(V.has(he))return V.get(he);V.set(he,Y)}function Y(){return p(he,arguments,m(this).constructor)}return Y.prototype=Object.create(he.prototype,{constructor:{value:Y,enumerable:!1,writable:!0,configurable:!0}}),b(Y,he)},c(ne)}function p(ne,V,oe){return _()?p=Reflect.construct.bind():p=function(Y,Z,ee){var P=[null];P.push.apply(P,Z);var A=Function.bind.apply(Y,P),$=new A;return ee&&b($,ee.prototype),$},p.apply(null,arguments)}function _(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function v(ne){return Function.toString.call(ne).indexOf("[native code]")!==-1}function b(ne,V){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(he,Y){return he.__proto__=Y,he},b(ne,V)}function m(ne){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(oe){return oe.__proto__||Object.getPrototypeOf(oe)},m(ne)}function y(ne){"@babel/helpers - typeof";return y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},y(ne)}var g=Pr(),S=g.inspect,T=s4(),I=T.codes.ERR_INVALID_ARG_TYPE;function C(ne,V,oe){return(oe===void 0||oe>ne.length)&&(oe=ne.length),ne.substring(oe-V.length,oe)===V}function B(ne,V){if(V=Math.floor(V),ne.length==0||V==0)return"";var oe=ne.length*V;for(V=Math.floor(Math.log(V)/Math.log(2));V;)ne+=ne,V--;return ne+=ne.substring(0,oe-ne.length),ne}var D="",M="",j="",O="",q={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},Q=10;function ie(ne){var V=Object.keys(ne),oe=Object.create(Object.getPrototypeOf(ne));return V.forEach(function(he){oe[he]=ne[he]}),Object.defineProperty(oe,"message",{value:ne.message}),oe}function X(ne){return S(ne,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function le(ne,V,oe){var he="",Y="",Z=0,ee="",P=!1,A=X(ne),$=A.split(`
`),te=X(V).split(`
`),pe=0,R="";if(oe==="strictEqual"&&y(ne)==="object"&&y(V)==="object"&&ne!==null&&V!==null&&(oe="strictEqualObject"),$.length===1&&te.length===1&&$[0]!==te[0]){var w=$[0].length+te[0].length;if(w<=Q){if((y(ne)!=="object"||ne===null)&&(y(V)!=="object"||V===null)&&(ne!==0||V!==0))return"".concat(q[oe],`

`)+"".concat($[0]," !== ").concat(te[0],`
`)}else if(oe!=="strictEqualObject"){var x=ze.stderr&&ze.stderr.isTTY?ze.stderr.columns:80;if(w<x){for(;$[0][pe]===te[0][pe];)pe++;pe>2&&(R=`
  `.concat(B(" ",pe),"^"),pe=0)}}}for(var k=$[$.length-1],U=te[te.length-1];k===U&&(pe++<2?ee=`
  `.concat(k).concat(ee):he=k,$.pop(),te.pop(),!($.length===0||te.length===0));)k=$[$.length-1],U=te[te.length-1];var re=Math.max($.length,te.length);if(re===0){var fe=A.split(`
`);if(fe.length>30)for(fe[26]="".concat(D,"...").concat(O);fe.length>27;)fe.pop();return"".concat(q.notIdentical,`

`).concat(fe.join(`
`),`
`)}pe>3&&(ee=`
`.concat(D,"...").concat(O).concat(ee),P=!0),he!==""&&(ee=`
  `.concat(he).concat(ee),he="");var ve=0,ce=q[oe]+`
`.concat(M,"+ actual").concat(O," ").concat(j,"- expected").concat(O),Ie=" ".concat(D,"...").concat(O," Lines skipped");for(pe=0;pe<re;pe++){var be=pe-Z;if($.length<pe+1)be>1&&pe>2&&(be>4?(Y+=`
`.concat(D,"...").concat(O),P=!0):be>3&&(Y+=`
  `.concat(te[pe-2]),ve++),Y+=`
  `.concat(te[pe-1]),ve++),Z=pe,he+=`
`.concat(j,"-").concat(O," ").concat(te[pe]),ve++;else if(te.length<pe+1)be>1&&pe>2&&(be>4?(Y+=`
`.concat(D,"...").concat(O),P=!0):be>3&&(Y+=`
  `.concat($[pe-2]),ve++),Y+=`
  `.concat($[pe-1]),ve++),Z=pe,Y+=`
`.concat(M,"+").concat(O," ").concat($[pe]),ve++;else{var xe=te[pe],je=$[pe],Ae=je!==xe&&(!C(je,",")||je.slice(0,-1)!==xe);Ae&&C(xe,",")&&xe.slice(0,-1)===je&&(Ae=!1,je+=","),Ae?(be>1&&pe>2&&(be>4?(Y+=`
`.concat(D,"...").concat(O),P=!0):be>3&&(Y+=`
  `.concat($[pe-2]),ve++),Y+=`
  `.concat($[pe-1]),ve++),Z=pe,Y+=`
`.concat(M,"+").concat(O," ").concat(je),he+=`
`.concat(j,"-").concat(O," ").concat(xe),ve+=2):(Y+=he,he="",(be===1||pe===0)&&(Y+=`
  `.concat(je),ve++))}if(ve>20&&pe<re-2)return"".concat(ce).concat(Ie,`
`).concat(Y,`
`).concat(D,"...").concat(O).concat(he,`
`)+"".concat(D,"...").concat(O)}return"".concat(ce).concat(P?Ie:"",`
`).concat(Y).concat(he).concat(ee).concat(R)}var ae=function(ne,V){u(he,ne);var oe=l(he);function he(Y){var Z;if(n(this,he),y(Y)!=="object"||Y===null)throw new I("options","Object",Y);var ee=Y.message,P=Y.operator,A=Y.stackStartFn,$=Y.actual,te=Y.expected,pe=Error.stackTraceLimit;if(Error.stackTraceLimit=0,ee!=null)Z=oe.call(this,String(ee));else if(ze.stderr&&ze.stderr.isTTY&&(ze.stderr&&ze.stderr.getColorDepth&&ze.stderr.getColorDepth()!==1?(D="\x1B[34m",M="\x1B[32m",O="\x1B[39m",j="\x1B[31m"):(D="",M="",O="",j="")),y($)==="object"&&$!==null&&y(te)==="object"&&te!==null&&"stack"in $&&$ instanceof Error&&"stack"in te&&te instanceof Error&&($=ie($),te=ie(te)),P==="deepStrictEqual"||P==="strictEqual")Z=oe.call(this,le($,te,P));else if(P==="notDeepStrictEqual"||P==="notStrictEqual"){var R=q[P],w=X($).split(`
`);if(P==="notStrictEqual"&&y($)==="object"&&$!==null&&(R=q.notStrictEqualObject),w.length>30)for(w[26]="".concat(D,"...").concat(O);w.length>27;)w.pop();w.length===1?Z=oe.call(this,"".concat(R," ").concat(w[0])):Z=oe.call(this,"".concat(R,`

`).concat(w.join(`
`),`
`))}else{var x=X($),k="",U=q[P];P==="notDeepEqual"||P==="notEqual"?(x="".concat(q[P],`

`).concat(x),x.length>1024&&(x="".concat(x.slice(0,1021),"..."))):(k="".concat(X(te)),x.length>512&&(x="".concat(x.slice(0,509),"...")),k.length>512&&(k="".concat(k.slice(0,509),"...")),P==="deepEqual"||P==="equal"?x="".concat(U,`

`).concat(x,`

should equal

`):k=" ".concat(P," ").concat(k)),Z=oe.call(this,"".concat(x).concat(k))}return Error.stackTraceLimit=pe,Z.generatedMessage=!ee,Object.defineProperty(d(Z),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),Z.code="ERR_ASSERTION",Z.actual=$,Z.expected=te,Z.operator=P,Error.captureStackTrace&&Error.captureStackTrace(d(Z),A),Z.stack,Z.name="AssertionError",f(Z)}return i(he,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:V,value:function(Z,ee){return S(this,t(t({},ee),{},{customInspect:!1,depth:0}))}}]),he}(c(Error),S.custom);return rv=ae,rv}var nv,wP;function u4(){if(wP)return nv;wP=1;var e=Object.prototype.toString;return nv=function(r){var n=e.call(r),a=n==="[object Arguments]";return a||(a=n!=="[object Array]"&&r!==null&&typeof r=="object"&&typeof r.length=="number"&&r.length>=0&&e.call(r.callee)==="[object Function]"),a},nv}var iv,SP;function HZ(){if(SP)return iv;SP=1;var e;if(!Object.keys){var t=Object.prototype.hasOwnProperty,r=Object.prototype.toString,n=u4(),a=Object.prototype.propertyIsEnumerable,i=!a.call({toString:null},"toString"),o=a.call(function(){},"prototype"),s=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],u=function(c){var p=c.constructor;return p&&p.prototype===c},l={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},f=function(){if(typeof window>"u")return!1;for(var c in window)try{if(!l["$"+c]&&t.call(window,c)&&window[c]!==null&&typeof window[c]=="object")try{u(window[c])}catch{return!0}}catch{return!0}return!1}(),d=function(c){if(typeof window>"u"||!f)return u(c);try{return u(c)}catch{return!1}};e=function(p){var _=p!==null&&typeof p=="object",v=r.call(p)==="[object Function]",b=n(p),m=_&&r.call(p)==="[object String]",y=[];if(!_&&!v&&!b)throw new TypeError("Object.keys called on a non-object");var g=o&&v;if(m&&p.length>0&&!t.call(p,0))for(var S=0;S<p.length;++S)y.push(String(S));if(b&&p.length>0)for(var T=0;T<p.length;++T)y.push(String(T));else for(var I in p)!(g&&I==="prototype")&&t.call(p,I)&&y.push(String(I));if(i)for(var C=d(p),B=0;B<s.length;++B)!(C&&s[B]==="constructor")&&t.call(p,s[B])&&y.push(s[B]);return y}}return iv=e,iv}var av,EP;function l4(){if(EP)return av;EP=1;var e=Array.prototype.slice,t=u4(),r=Object.keys,n=r?function(o){return r(o)}:HZ(),a=Object.keys;return n.shim=function(){if(Object.keys){var o=function(){var s=Object.keys(arguments);return s&&s.length===arguments.length}(1,2);o||(Object.keys=function(u){return t(u)?a(e.call(u)):a(u)})}else Object.keys=n;return Object.keys||n},av=n,av}var ov,xP;function VZ(){if(xP)return ov;xP=1;var e=l4(),t=jE()(),r=Yo(),n=BE(),a=r("Array.prototype.push"),i=r("Object.prototype.propertyIsEnumerable"),o=t?n.getOwnPropertySymbols:null;return ov=function(u,l){if(u==null)throw new TypeError("target must be an object");var f=n(u);if(arguments.length===1)return f;for(var d=1;d<arguments.length;++d){var c=n(arguments[d]),p=e(c),_=t&&(n.getOwnPropertySymbols||o);if(_)for(var v=_(c),b=0;b<v.length;++b){var m=v[b];i(c,m)&&a(p,m)}for(var y=0;y<p.length;++y){var g=p[y];if(i(c,g)){var S=c[g];f[g]=S}}}return f},ov}var sv,TP;function zZ(){if(TP)return sv;TP=1;var e=VZ(),t=function(){if(!Object.assign)return!1;for(var n="abcdefghijklmnopqrst",a=n.split(""),i={},o=0;o<a.length;++o)i[a[o]]=a[o];var s=Object.assign({},i),u="";for(var l in s)u+=l;return n!==u},r=function(){if(!Object.assign||!Object.preventExtensions)return!1;var n=Object.preventExtensions({1:2});try{Object.assign(n,"xy")}catch{return n[1]==="y"}return!1};return sv=function(){return!Object.assign||t()||r()?e:Object.assign},sv}var uv,RP;function f4(){if(RP)return uv;RP=1;var e=function(t){return t!==t};return uv=function(r,n){return r===0&&n===0?1/r===1/n:!!(r===n||e(r)&&e(n))},uv}var lv,AP;function ZE(){if(AP)return lv;AP=1;var e=f4();return lv=function(){return typeof Object.is=="function"?Object.is:e},lv}var fv,IP;function GZ(){if(IP)return fv;IP=1;var e=Zh(),t=M0(),r=t(e("String.prototype.indexOf"));return fv=function(a,i){var o=e(a,!!i);return typeof o=="function"&&r(a,".prototype.")>-1?t(o):o},fv}var cv,OP;function j0(){if(OP)return cv;OP=1;var e=l4(),t=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",r=Object.prototype.toString,n=Array.prototype.concat,a=Oj(),i=function(l){return typeof l=="function"&&r.call(l)==="[object Function]"},o=Pj()(),s=function(l,f,d,c){if(f in l){if(c===!0){if(l[f]===d)return}else if(!i(c)||!c())return}o?a(l,f,d,!0):a(l,f,d)},u=function(l,f){var d=arguments.length>2?arguments[2]:{},c=e(f);t&&(c=n.call(c,Object.getOwnPropertySymbols(f)));for(var p=0;p<c.length;p+=1)s(l,c[p],f[c[p]],d[c[p]])};return u.supportsDescriptors=!!o,cv=u,cv}var dv,PP;function WZ(){if(PP)return dv;PP=1;var e=ZE(),t=j0();return dv=function(){var n=e();return t(Object,{is:n},{is:function(){return Object.is!==n}}),n},dv}var hv,CP;function KZ(){if(CP)return hv;CP=1;var e=j0(),t=M0(),r=f4(),n=ZE(),a=WZ(),i=t(n(),Object);return e(i,{getPolyfill:n,implementation:r,shim:a}),hv=i,hv}var pv,LP;function c4(){return LP||(LP=1,pv=function(t){return t!==t}),pv}var mv,DP;function d4(){if(DP)return mv;DP=1;var e=c4();return mv=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:e},mv}var yv,NP;function ZZ(){if(NP)return yv;NP=1;var e=j0(),t=d4();return yv=function(){var n=t();return e(Number,{isNaN:n},{isNaN:function(){return Number.isNaN!==n}}),n},yv}var gv,MP;function YZ(){if(MP)return gv;MP=1;var e=M0(),t=j0(),r=c4(),n=d4(),a=ZZ(),i=e(n(),Number);return t(i,{getPolyfill:n,implementation:r,shim:a}),gv=i,gv}var _v,kP;function QZ(){if(kP)return _v;kP=1;function e(Ae,Pe){return i(Ae)||a(Ae,Pe)||r(Ae,Pe)||t()}function t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r(Ae,Pe){if(Ae){if(typeof Ae=="string")return n(Ae,Pe);var ke=Object.prototype.toString.call(Ae).slice(8,-1);if(ke==="Object"&&Ae.constructor&&(ke=Ae.constructor.name),ke==="Map"||ke==="Set")return Array.from(Ae);if(ke==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ke))return n(Ae,Pe)}}function n(Ae,Pe){(Pe==null||Pe>Ae.length)&&(Pe=Ae.length);for(var ke=0,Ze=new Array(Pe);ke<Pe;ke++)Ze[ke]=Ae[ke];return Ze}function a(Ae,Pe){var ke=Ae==null?null:typeof Symbol<"u"&&Ae[Symbol.iterator]||Ae["@@iterator"];if(ke!=null){var Ze,Ue,it,ye,F=[],K=!0,_e=!1;try{if(it=(ke=ke.call(Ae)).next,Pe!==0)for(;!(K=(Ze=it.call(ke)).done)&&(F.push(Ze.value),F.length!==Pe);K=!0);}catch(Oe){_e=!0,Ue=Oe}finally{try{if(!K&&ke.return!=null&&(ye=ke.return(),Object(ye)!==ye))return}finally{if(_e)throw Ue}}return F}}function i(Ae){if(Array.isArray(Ae))return Ae}function o(Ae){"@babel/helpers - typeof";return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Pe){return typeof Pe}:function(Pe){return Pe&&typeof Symbol=="function"&&Pe.constructor===Symbol&&Pe!==Symbol.prototype?"symbol":typeof Pe},o(Ae)}var s=/a/g.flags!==void 0,u=function(Pe){var ke=[];return Pe.forEach(function(Ze){return ke.push(Ze)}),ke},l=function(Pe){var ke=[];return Pe.forEach(function(Ze,Ue){return ke.push([Ue,Ze])}),ke},f=Object.is?Object.is:KZ(),d=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},c=Number.isNaN?Number.isNaN:YZ();function p(Ae){return Ae.call.bind(Ae)}var _=p(Object.prototype.hasOwnProperty),v=p(Object.prototype.propertyIsEnumerable),b=p(Object.prototype.toString),m=Pr().types,y=m.isAnyArrayBuffer,g=m.isArrayBufferView,S=m.isDate,T=m.isMap,I=m.isRegExp,C=m.isSet,B=m.isNativeError,D=m.isBoxedPrimitive,M=m.isNumberObject,j=m.isStringObject,O=m.isBooleanObject,q=m.isBigIntObject,Q=m.isSymbolObject,ie=m.isFloat32Array,X=m.isFloat64Array;function le(Ae){if(Ae.length===0||Ae.length>10)return!0;for(var Pe=0;Pe<Ae.length;Pe++){var ke=Ae.charCodeAt(Pe);if(ke<48||ke>57)return!0}return Ae.length===10&&Ae>=Math.pow(2,32)}function ae(Ae){return Object.keys(Ae).filter(le).concat(d(Ae).filter(Object.prototype.propertyIsEnumerable.bind(Ae)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function ne(Ae,Pe){if(Ae===Pe)return 0;for(var ke=Ae.length,Ze=Pe.length,Ue=0,it=Math.min(ke,Ze);Ue<it;++Ue)if(Ae[Ue]!==Pe[Ue]){ke=Ae[Ue],Ze=Pe[Ue];break}return ke<Ze?-1:Ze<ke?1:0}var V=!0,oe=!1,he=0,Y=1,Z=2,ee=3;function P(Ae,Pe){return s?Ae.source===Pe.source&&Ae.flags===Pe.flags:RegExp.prototype.toString.call(Ae)===RegExp.prototype.toString.call(Pe)}function A(Ae,Pe){if(Ae.byteLength!==Pe.byteLength)return!1;for(var ke=0;ke<Ae.byteLength;ke++)if(Ae[ke]!==Pe[ke])return!1;return!0}function $(Ae,Pe){return Ae.byteLength!==Pe.byteLength?!1:ne(new Uint8Array(Ae.buffer,Ae.byteOffset,Ae.byteLength),new Uint8Array(Pe.buffer,Pe.byteOffset,Pe.byteLength))===0}function te(Ae,Pe){return Ae.byteLength===Pe.byteLength&&ne(new Uint8Array(Ae),new Uint8Array(Pe))===0}function pe(Ae,Pe){return M(Ae)?M(Pe)&&f(Number.prototype.valueOf.call(Ae),Number.prototype.valueOf.call(Pe)):j(Ae)?j(Pe)&&String.prototype.valueOf.call(Ae)===String.prototype.valueOf.call(Pe):O(Ae)?O(Pe)&&Boolean.prototype.valueOf.call(Ae)===Boolean.prototype.valueOf.call(Pe):q(Ae)?q(Pe)&&BigInt.prototype.valueOf.call(Ae)===BigInt.prototype.valueOf.call(Pe):Q(Pe)&&Symbol.prototype.valueOf.call(Ae)===Symbol.prototype.valueOf.call(Pe)}function R(Ae,Pe,ke,Ze){if(Ae===Pe)return Ae!==0?!0:ke?f(Ae,Pe):!0;if(ke){if(o(Ae)!=="object")return typeof Ae=="number"&&c(Ae)&&c(Pe);if(o(Pe)!=="object"||Ae===null||Pe===null||Object.getPrototypeOf(Ae)!==Object.getPrototypeOf(Pe))return!1}else{if(Ae===null||o(Ae)!=="object")return Pe===null||o(Pe)!=="object"?Ae==Pe:!1;if(Pe===null||o(Pe)!=="object")return!1}var Ue=b(Ae),it=b(Pe);if(Ue!==it)return!1;if(Array.isArray(Ae)){if(Ae.length!==Pe.length)return!1;var ye=ae(Ae),F=ae(Pe);return ye.length!==F.length?!1:x(Ae,Pe,ke,Ze,Y,ye)}if(Ue==="[object Object]"&&(!T(Ae)&&T(Pe)||!C(Ae)&&C(Pe)))return!1;if(S(Ae)){if(!S(Pe)||Date.prototype.getTime.call(Ae)!==Date.prototype.getTime.call(Pe))return!1}else if(I(Ae)){if(!I(Pe)||!P(Ae,Pe))return!1}else if(B(Ae)||Ae instanceof Error){if(Ae.message!==Pe.message||Ae.name!==Pe.name)return!1}else if(g(Ae)){if(!ke&&(ie(Ae)||X(Ae))){if(!A(Ae,Pe))return!1}else if(!$(Ae,Pe))return!1;var K=ae(Ae),_e=ae(Pe);return K.length!==_e.length?!1:x(Ae,Pe,ke,Ze,he,K)}else{if(C(Ae))return!C(Pe)||Ae.size!==Pe.size?!1:x(Ae,Pe,ke,Ze,Z);if(T(Ae))return!T(Pe)||Ae.size!==Pe.size?!1:x(Ae,Pe,ke,Ze,ee);if(y(Ae)){if(!te(Ae,Pe))return!1}else if(D(Ae)&&!pe(Ae,Pe))return!1}return x(Ae,Pe,ke,Ze,he)}function w(Ae,Pe){return Pe.filter(function(ke){return v(Ae,ke)})}function x(Ae,Pe,ke,Ze,Ue,it){if(arguments.length===5){it=Object.keys(Ae);var ye=Object.keys(Pe);if(it.length!==ye.length)return!1}for(var F=0;F<it.length;F++)if(!_(Pe,it[F]))return!1;if(ke&&arguments.length===5){var K=d(Ae);if(K.length!==0){var _e=0;for(F=0;F<K.length;F++){var Oe=K[F];if(v(Ae,Oe)){if(!v(Pe,Oe))return!1;it.push(Oe),_e++}else if(v(Pe,Oe))return!1}var se=d(Pe);if(K.length!==se.length&&w(Pe,se).length!==_e)return!1}else{var ge=d(Pe);if(ge.length!==0&&w(Pe,ge).length!==0)return!1}}if(it.length===0&&(Ue===he||Ue===Y&&Ae.length===0||Ae.size===0))return!0;if(Ze===void 0)Ze={val1:new Map,val2:new Map,position:0};else{var de=Ze.val1.get(Ae);if(de!==void 0){var Re=Ze.val2.get(Pe);if(Re!==void 0)return de===Re}Ze.position++}Ze.val1.set(Ae,Ze.position),Ze.val2.set(Pe,Ze.position);var qe=be(Ae,Pe,ke,it,Ze,Ue);return Ze.val1.delete(Ae),Ze.val2.delete(Pe),qe}function k(Ae,Pe,ke,Ze){for(var Ue=u(Ae),it=0;it<Ue.length;it++){var ye=Ue[it];if(R(Pe,ye,ke,Ze))return Ae.delete(ye),!0}return!1}function U(Ae){switch(o(Ae)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":Ae=+Ae;case"number":if(c(Ae))return!1}return!0}function re(Ae,Pe,ke){var Ze=U(ke);return Ze??(Pe.has(Ze)&&!Ae.has(Ze))}function fe(Ae,Pe,ke,Ze,Ue){var it=U(ke);if(it!=null)return it;var ye=Pe.get(it);return ye===void 0&&!Pe.has(it)||!R(Ze,ye,!1,Ue)?!1:!Ae.has(it)&&R(Ze,ye,!1,Ue)}function ve(Ae,Pe,ke,Ze){for(var Ue=null,it=u(Ae),ye=0;ye<it.length;ye++){var F=it[ye];if(o(F)==="object"&&F!==null)Ue===null&&(Ue=new Set),Ue.add(F);else if(!Pe.has(F)){if(ke||!re(Ae,Pe,F))return!1;Ue===null&&(Ue=new Set),Ue.add(F)}}if(Ue!==null){for(var K=u(Pe),_e=0;_e<K.length;_e++){var Oe=K[_e];if(o(Oe)==="object"&&Oe!==null){if(!k(Ue,Oe,ke,Ze))return!1}else if(!ke&&!Ae.has(Oe)&&!k(Ue,Oe,ke,Ze))return!1}return Ue.size===0}return!0}function ce(Ae,Pe,ke,Ze,Ue,it){for(var ye=u(Ae),F=0;F<ye.length;F++){var K=ye[F];if(R(ke,K,Ue,it)&&R(Ze,Pe.get(K),Ue,it))return Ae.delete(K),!0}return!1}function Ie(Ae,Pe,ke,Ze){for(var Ue=null,it=l(Ae),ye=0;ye<it.length;ye++){var F=e(it[ye],2),K=F[0],_e=F[1];if(o(K)==="object"&&K!==null)Ue===null&&(Ue=new Set),Ue.add(K);else{var Oe=Pe.get(K);if(Oe===void 0&&!Pe.has(K)||!R(_e,Oe,ke,Ze)){if(ke||!fe(Ae,Pe,K,_e,Ze))return!1;Ue===null&&(Ue=new Set),Ue.add(K)}}}if(Ue!==null){for(var se=l(Pe),ge=0;ge<se.length;ge++){var de=e(se[ge],2),Re=de[0],qe=de[1];if(o(Re)==="object"&&Re!==null){if(!ce(Ue,Ae,Re,qe,ke,Ze))return!1}else if(!ke&&(!Ae.has(Re)||!R(Ae.get(Re),qe,!1,Ze))&&!ce(Ue,Ae,Re,qe,!1,Ze))return!1}return Ue.size===0}return!0}function be(Ae,Pe,ke,Ze,Ue,it){var ye=0;if(it===Z){if(!ve(Ae,Pe,ke,Ue))return!1}else if(it===ee){if(!Ie(Ae,Pe,ke,Ue))return!1}else if(it===Y)for(;ye<Ae.length;ye++)if(_(Ae,ye)){if(!_(Pe,ye)||!R(Ae[ye],Pe[ye],ke,Ue))return!1}else{if(_(Pe,ye))return!1;for(var F=Object.keys(Ae);ye<F.length;ye++){var K=F[ye];if(!_(Pe,K)||!R(Ae[K],Pe[K],ke,Ue))return!1}return F.length===Object.keys(Pe).length}for(ye=0;ye<Ze.length;ye++){var _e=Ze[ye];if(!R(Ae[_e],Pe[_e],ke,Ue))return!1}return!0}function xe(Ae,Pe){return R(Ae,Pe,oe)}function je(Ae,Pe){return R(Ae,Pe,V)}return _v={isDeepEqual:xe,isDeepStrictEqual:je},_v}var FP;function Jm(){if(FP)return ev.exports;FP=1;function e(Z){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ee){return typeof ee}:function(ee){return ee&&typeof Symbol=="function"&&ee.constructor===Symbol&&ee!==Symbol.prototype?"symbol":typeof ee},e(Z)}function t(Z,ee,P){return Object.defineProperty(Z,"prototype",{writable:!1}),Z}function r(Z,ee){if(!(Z instanceof ee))throw new TypeError("Cannot call a class as a function")}var n=s4(),a=n.codes,i=a.ERR_AMBIGUOUS_ARGUMENT,o=a.ERR_INVALID_ARG_TYPE,s=a.ERR_INVALID_ARG_VALUE,u=a.ERR_INVALID_RETURN_VALUE,l=a.ERR_MISSING_ARGS,f=UZ(),d=Pr(),c=d.inspect,p=Pr().types,_=p.isPromise,v=p.isRegExp,b=zZ()(),m=ZE()(),y=GZ()("RegExp.prototype.test"),g,S;function T(){var Z=QZ();g=Z.isDeepEqual,S=Z.isDeepStrictEqual}var I=!1,C=ev.exports=O,B={};function D(Z){throw Z.message instanceof Error?Z.message:new f(Z)}function M(Z,ee,P,A,$){var te=arguments.length,pe;if(te===0)pe="Failed";else if(te===1)P=Z,Z=void 0;else{if(I===!1){I=!0;var R=ze.emitWarning?ze.emitWarning:console.warn.bind(console);R("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}te===2&&(A="!=")}if(P instanceof Error)throw P;var w={actual:Z,expected:ee,operator:A===void 0?"fail":A,stackStartFn:$||M};P!==void 0&&(w.message=P);var x=new f(w);throw pe&&(x.message=pe,x.generatedMessage=!0),x}C.fail=M,C.AssertionError=f;function j(Z,ee,P,A){if(!P){var $=!1;if(ee===0)$=!0,A="No value argument passed to `assert.ok()`";else if(A instanceof Error)throw A;var te=new f({actual:P,expected:!0,message:A,operator:"==",stackStartFn:Z});throw te.generatedMessage=$,te}}function O(){for(var Z=arguments.length,ee=new Array(Z),P=0;P<Z;P++)ee[P]=arguments[P];j.apply(void 0,[O,ee.length].concat(ee))}C.ok=O,C.equal=function Z(ee,P,A){if(arguments.length<2)throw new l("actual","expected");ee!=P&&D({actual:ee,expected:P,message:A,operator:"==",stackStartFn:Z})},C.notEqual=function Z(ee,P,A){if(arguments.length<2)throw new l("actual","expected");ee==P&&D({actual:ee,expected:P,message:A,operator:"!=",stackStartFn:Z})},C.deepEqual=function Z(ee,P,A){if(arguments.length<2)throw new l("actual","expected");g===void 0&&T(),g(ee,P)||D({actual:ee,expected:P,message:A,operator:"deepEqual",stackStartFn:Z})},C.notDeepEqual=function Z(ee,P,A){if(arguments.length<2)throw new l("actual","expected");g===void 0&&T(),g(ee,P)&&D({actual:ee,expected:P,message:A,operator:"notDeepEqual",stackStartFn:Z})},C.deepStrictEqual=function Z(ee,P,A){if(arguments.length<2)throw new l("actual","expected");g===void 0&&T(),S(ee,P)||D({actual:ee,expected:P,message:A,operator:"deepStrictEqual",stackStartFn:Z})},C.notDeepStrictEqual=q;function q(Z,ee,P){if(arguments.length<2)throw new l("actual","expected");g===void 0&&T(),S(Z,ee)&&D({actual:Z,expected:ee,message:P,operator:"notDeepStrictEqual",stackStartFn:q})}C.strictEqual=function Z(ee,P,A){if(arguments.length<2)throw new l("actual","expected");m(ee,P)||D({actual:ee,expected:P,message:A,operator:"strictEqual",stackStartFn:Z})},C.notStrictEqual=function Z(ee,P,A){if(arguments.length<2)throw new l("actual","expected");m(ee,P)&&D({actual:ee,expected:P,message:A,operator:"notStrictEqual",stackStartFn:Z})};var Q=t(function Z(ee,P,A){var $=this;r(this,Z),P.forEach(function(te){te in ee&&(A!==void 0&&typeof A[te]=="string"&&v(ee[te])&&y(ee[te],A[te])?$[te]=A[te]:$[te]=ee[te])})});function ie(Z,ee,P,A,$,te){if(!(P in Z)||!S(Z[P],ee[P])){if(!A){var pe=new Q(Z,$),R=new Q(ee,$,Z),w=new f({actual:pe,expected:R,operator:"deepStrictEqual",stackStartFn:te});throw w.actual=Z,w.expected=ee,w.operator=te.name,w}D({actual:Z,expected:ee,message:A,operator:te.name,stackStartFn:te})}}function X(Z,ee,P,A){if(typeof ee!="function"){if(v(ee))return y(ee,Z);if(arguments.length===2)throw new o("expected",["Function","RegExp"],ee);if(e(Z)!=="object"||Z===null){var $=new f({actual:Z,expected:ee,message:P,operator:"deepStrictEqual",stackStartFn:A});throw $.operator=A.name,$}var te=Object.keys(ee);if(ee instanceof Error)te.push("name","message");else if(te.length===0)throw new s("error",ee,"may not be an empty object");return g===void 0&&T(),te.forEach(function(pe){typeof Z[pe]=="string"&&v(ee[pe])&&y(ee[pe],Z[pe])||ie(Z,ee,pe,P,te,A)}),!0}return ee.prototype!==void 0&&Z instanceof ee?!0:Error.isPrototypeOf(ee)?!1:ee.call({},Z)===!0}function le(Z){if(typeof Z!="function")throw new o("fn","Function",Z);try{Z()}catch(ee){return ee}return B}function ae(Z){return _(Z)||Z!==null&&e(Z)==="object"&&typeof Z.then=="function"&&typeof Z.catch=="function"}function ne(Z){return Promise.resolve().then(function(){var ee;if(typeof Z=="function"){if(ee=Z(),!ae(ee))throw new u("instance of Promise","promiseFn",ee)}else if(ae(Z))ee=Z;else throw new o("promiseFn",["Function","Promise"],Z);return Promise.resolve().then(function(){return ee}).then(function(){return B}).catch(function(P){return P})})}function V(Z,ee,P,A){if(typeof P=="string"){if(arguments.length===4)throw new o("error",["Object","Error","Function","RegExp"],P);if(e(ee)==="object"&&ee!==null){if(ee.message===P)throw new i("error/message",'The error message "'.concat(ee.message,'" is identical to the message.'))}else if(ee===P)throw new i("error/message",'The error "'.concat(ee,'" is identical to the message.'));A=P,P=void 0}else if(P!=null&&e(P)!=="object"&&typeof P!="function")throw new o("error",["Object","Error","Function","RegExp"],P);if(ee===B){var $="";P&&P.name&&($+=" (".concat(P.name,")")),$+=A?": ".concat(A):".";var te=Z.name==="rejects"?"rejection":"exception";D({actual:void 0,expected:P,operator:Z.name,message:"Missing expected ".concat(te).concat($),stackStartFn:Z})}if(P&&!X(ee,P,A,Z))throw ee}function oe(Z,ee,P,A){if(ee!==B){if(typeof P=="string"&&(A=P,P=void 0),!P||X(ee,P)){var $=A?": ".concat(A):".",te=Z.name==="doesNotReject"?"rejection":"exception";D({actual:ee,expected:P,operator:Z.name,message:"Got unwanted ".concat(te).concat($,`
`)+'Actual message: "'.concat(ee&&ee.message,'"'),stackStartFn:Z})}throw ee}}C.throws=function Z(ee){for(var P=arguments.length,A=new Array(P>1?P-1:0),$=1;$<P;$++)A[$-1]=arguments[$];V.apply(void 0,[Z,le(ee)].concat(A))},C.rejects=function Z(ee){for(var P=arguments.length,A=new Array(P>1?P-1:0),$=1;$<P;$++)A[$-1]=arguments[$];return ne(ee).then(function(te){return V.apply(void 0,[Z,te].concat(A))})},C.doesNotThrow=function Z(ee){for(var P=arguments.length,A=new Array(P>1?P-1:0),$=1;$<P;$++)A[$-1]=arguments[$];oe.apply(void 0,[Z,le(ee)].concat(A))},C.doesNotReject=function Z(ee){for(var P=arguments.length,A=new Array(P>1?P-1:0),$=1;$<P;$++)A[$-1]=arguments[$];return ne(ee).then(function(te){return oe.apply(void 0,[Z,te].concat(A))})},C.ifError=function Z(ee){if(ee!=null){var P="ifError got unwanted exception: ";e(ee)==="object"&&typeof ee.message=="string"?ee.message.length===0&&ee.constructor?P+=ee.constructor.name:P+=ee.message:P+=c(ee);var A=new f({actual:ee,expected:null,operator:"ifError",message:P,stackStartFn:Z}),$=ee.stack;if(typeof $=="string"){var te=$.split(`
`);te.shift();for(var pe=A.stack.split(`
`),R=0;R<te.length;R++){var w=pe.indexOf(te[R]);if(w!==-1){pe=pe.slice(0,w);break}}A.stack="".concat(pe.join(`
`),`
`).concat(te.join(`
`))}throw A}};function he(Z,ee,P,A,$){if(!v(ee))throw new o("regexp","RegExp",ee);var te=$==="match";if(typeof Z!="string"||y(ee,Z)!==te){if(P instanceof Error)throw P;var pe=!P;P=P||(typeof Z!="string"?'The "string" argument must be of type string. Received type '+"".concat(e(Z)," (").concat(c(Z),")"):(te?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat(c(ee),`. Input:

`).concat(c(Z),`
`));var R=new f({actual:Z,expected:ee,message:P,operator:$,stackStartFn:A});throw R.generatedMessage=pe,R}}C.match=function Z(ee,P,A){he(ee,P,A,Z,"match")},C.doesNotMatch=function Z(ee,P,A){he(ee,P,A,Z,"doesNotMatch")};function Y(){for(var Z=arguments.length,ee=new Array(Z),P=0;P<Z;P++)ee[P]=arguments[P];j.apply(void 0,[Y,ee.length].concat(ee))}return C.strict=b(Y,C,{equal:C.strictEqual,deepEqual:C.deepStrictEqual,notEqual:C.notStrictEqual,notDeepEqual:C.notDeepStrictEqual}),C.strict.strict=C.strict,ev.exports}var bv,jP;function XZ(){if(jP)return bv;jP=1;function e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}return bv=e,bv}var Fi={},vv={},BP;function B0(){return BP||(BP=1,function(e){var t=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function r(i,o){return Object.prototype.hasOwnProperty.call(i,o)}e.assign=function(i){for(var o=Array.prototype.slice.call(arguments,1);o.length;){var s=o.shift();if(s){if(typeof s!="object")throw new TypeError(s+"must be non-object");for(var u in s)r(s,u)&&(i[u]=s[u])}}return i},e.shrinkBuf=function(i,o){return i.length===o?i:i.subarray?i.subarray(0,o):(i.length=o,i)};var n={arraySet:function(i,o,s,u,l){if(o.subarray&&i.subarray){i.set(o.subarray(s,s+u),l);return}for(var f=0;f<u;f++)i[l+f]=o[s+f]},flattenChunks:function(i){var o,s,u,l,f,d;for(u=0,o=0,s=i.length;o<s;o++)u+=i[o].length;for(d=new Uint8Array(u),l=0,o=0,s=i.length;o<s;o++)f=i[o],d.set(f,l),l+=f.length;return d}},a={arraySet:function(i,o,s,u,l){for(var f=0;f<u;f++)i[l+f]=o[s+f]},flattenChunks:function(i){return[].concat.apply([],i)}};e.setTyped=function(i){i?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,n)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,a))},e.setTyped(t)}(vv)),vv}var ps={},qP;function JZ(){if(qP)return ps;qP=1;var e=B0(),t=4,r=0,n=1,a=2;function i(F){for(var K=F.length;--K>=0;)F[K]=0}var o=0,s=1,u=2,l=3,f=258,d=29,c=256,p=c+1+d,_=30,v=19,b=2*p+1,m=15,y=16,g=7,S=256,T=16,I=17,C=18,B=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],D=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],M=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],O=512,q=new Array((p+2)*2);i(q);var Q=new Array(_*2);i(Q);var ie=new Array(O);i(ie);var X=new Array(f-l+1);i(X);var le=new Array(d);i(le);var ae=new Array(_);i(ae);function ne(F,K,_e,Oe,se){this.static_tree=F,this.extra_bits=K,this.extra_base=_e,this.elems=Oe,this.max_length=se,this.has_stree=F&&F.length}var V,oe,he;function Y(F,K){this.dyn_tree=F,this.max_code=0,this.stat_desc=K}function Z(F){return F<256?ie[F]:ie[256+(F>>>7)]}function ee(F,K){F.pending_buf[F.pending++]=K&255,F.pending_buf[F.pending++]=K>>>8&255}function P(F,K,_e){F.bi_valid>y-_e?(F.bi_buf|=K<<F.bi_valid&65535,ee(F,F.bi_buf),F.bi_buf=K>>y-F.bi_valid,F.bi_valid+=_e-y):(F.bi_buf|=K<<F.bi_valid&65535,F.bi_valid+=_e)}function A(F,K,_e){P(F,_e[K*2],_e[K*2+1])}function $(F,K){var _e=0;do _e|=F&1,F>>>=1,_e<<=1;while(--K>0);return _e>>>1}function te(F){F.bi_valid===16?(ee(F,F.bi_buf),F.bi_buf=0,F.bi_valid=0):F.bi_valid>=8&&(F.pending_buf[F.pending++]=F.bi_buf&255,F.bi_buf>>=8,F.bi_valid-=8)}function pe(F,K){var _e=K.dyn_tree,Oe=K.max_code,se=K.stat_desc.static_tree,ge=K.stat_desc.has_stree,de=K.stat_desc.extra_bits,Re=K.stat_desc.extra_base,qe=K.stat_desc.max_length,H,Te,De,me,Me,Ve,ft=0;for(me=0;me<=m;me++)F.bl_count[me]=0;for(_e[F.heap[F.heap_max]*2+1]=0,H=F.heap_max+1;H<b;H++)Te=F.heap[H],me=_e[_e[Te*2+1]*2+1]+1,me>qe&&(me=qe,ft++),_e[Te*2+1]=me,!(Te>Oe)&&(F.bl_count[me]++,Me=0,Te>=Re&&(Me=de[Te-Re]),Ve=_e[Te*2],F.opt_len+=Ve*(me+Me),ge&&(F.static_len+=Ve*(se[Te*2+1]+Me)));if(ft!==0){do{for(me=qe-1;F.bl_count[me]===0;)me--;F.bl_count[me]--,F.bl_count[me+1]+=2,F.bl_count[qe]--,ft-=2}while(ft>0);for(me=qe;me!==0;me--)for(Te=F.bl_count[me];Te!==0;)De=F.heap[--H],!(De>Oe)&&(_e[De*2+1]!==me&&(F.opt_len+=(me-_e[De*2+1])*_e[De*2],_e[De*2+1]=me),Te--)}}function R(F,K,_e){var Oe=new Array(m+1),se=0,ge,de;for(ge=1;ge<=m;ge++)Oe[ge]=se=se+_e[ge-1]<<1;for(de=0;de<=K;de++){var Re=F[de*2+1];Re!==0&&(F[de*2]=$(Oe[Re]++,Re))}}function w(){var F,K,_e,Oe,se,ge=new Array(m+1);for(_e=0,Oe=0;Oe<d-1;Oe++)for(le[Oe]=_e,F=0;F<1<<B[Oe];F++)X[_e++]=Oe;for(X[_e-1]=Oe,se=0,Oe=0;Oe<16;Oe++)for(ae[Oe]=se,F=0;F<1<<D[Oe];F++)ie[se++]=Oe;for(se>>=7;Oe<_;Oe++)for(ae[Oe]=se<<7,F=0;F<1<<D[Oe]-7;F++)ie[256+se++]=Oe;for(K=0;K<=m;K++)ge[K]=0;for(F=0;F<=143;)q[F*2+1]=8,F++,ge[8]++;for(;F<=255;)q[F*2+1]=9,F++,ge[9]++;for(;F<=279;)q[F*2+1]=7,F++,ge[7]++;for(;F<=287;)q[F*2+1]=8,F++,ge[8]++;for(R(q,p+1,ge),F=0;F<_;F++)Q[F*2+1]=5,Q[F*2]=$(F,5);V=new ne(q,B,c+1,p,m),oe=new ne(Q,D,0,_,m),he=new ne(new Array(0),M,0,v,g)}function x(F){var K;for(K=0;K<p;K++)F.dyn_ltree[K*2]=0;for(K=0;K<_;K++)F.dyn_dtree[K*2]=0;for(K=0;K<v;K++)F.bl_tree[K*2]=0;F.dyn_ltree[S*2]=1,F.opt_len=F.static_len=0,F.last_lit=F.matches=0}function k(F){F.bi_valid>8?ee(F,F.bi_buf):F.bi_valid>0&&(F.pending_buf[F.pending++]=F.bi_buf),F.bi_buf=0,F.bi_valid=0}function U(F,K,_e,Oe){k(F),ee(F,_e),ee(F,~_e),e.arraySet(F.pending_buf,F.window,K,_e,F.pending),F.pending+=_e}function re(F,K,_e,Oe){var se=K*2,ge=_e*2;return F[se]<F[ge]||F[se]===F[ge]&&Oe[K]<=Oe[_e]}function fe(F,K,_e){for(var Oe=F.heap[_e],se=_e<<1;se<=F.heap_len&&(se<F.heap_len&&re(K,F.heap[se+1],F.heap[se],F.depth)&&se++,!re(K,Oe,F.heap[se],F.depth));)F.heap[_e]=F.heap[se],_e=se,se<<=1;F.heap[_e]=Oe}function ve(F,K,_e){var Oe,se,ge=0,de,Re;if(F.last_lit!==0)do Oe=F.pending_buf[F.d_buf+ge*2]<<8|F.pending_buf[F.d_buf+ge*2+1],se=F.pending_buf[F.l_buf+ge],ge++,Oe===0?A(F,se,K):(de=X[se],A(F,de+c+1,K),Re=B[de],Re!==0&&(se-=le[de],P(F,se,Re)),Oe--,de=Z(Oe),A(F,de,_e),Re=D[de],Re!==0&&(Oe-=ae[de],P(F,Oe,Re)));while(ge<F.last_lit);A(F,S,K)}function ce(F,K){var _e=K.dyn_tree,Oe=K.stat_desc.static_tree,se=K.stat_desc.has_stree,ge=K.stat_desc.elems,de,Re,qe=-1,H;for(F.heap_len=0,F.heap_max=b,de=0;de<ge;de++)_e[de*2]!==0?(F.heap[++F.heap_len]=qe=de,F.depth[de]=0):_e[de*2+1]=0;for(;F.heap_len<2;)H=F.heap[++F.heap_len]=qe<2?++qe:0,_e[H*2]=1,F.depth[H]=0,F.opt_len--,se&&(F.static_len-=Oe[H*2+1]);for(K.max_code=qe,de=F.heap_len>>1;de>=1;de--)fe(F,_e,de);H=ge;do de=F.heap[1],F.heap[1]=F.heap[F.heap_len--],fe(F,_e,1),Re=F.heap[1],F.heap[--F.heap_max]=de,F.heap[--F.heap_max]=Re,_e[H*2]=_e[de*2]+_e[Re*2],F.depth[H]=(F.depth[de]>=F.depth[Re]?F.depth[de]:F.depth[Re])+1,_e[de*2+1]=_e[Re*2+1]=H,F.heap[1]=H++,fe(F,_e,1);while(F.heap_len>=2);F.heap[--F.heap_max]=F.heap[1],pe(F,K),R(_e,qe,F.bl_count)}function Ie(F,K,_e){var Oe,se=-1,ge,de=K[0*2+1],Re=0,qe=7,H=4;for(de===0&&(qe=138,H=3),K[(_e+1)*2+1]=65535,Oe=0;Oe<=_e;Oe++)ge=de,de=K[(Oe+1)*2+1],!(++Re<qe&&ge===de)&&(Re<H?F.bl_tree[ge*2]+=Re:ge!==0?(ge!==se&&F.bl_tree[ge*2]++,F.bl_tree[T*2]++):Re<=10?F.bl_tree[I*2]++:F.bl_tree[C*2]++,Re=0,se=ge,de===0?(qe=138,H=3):ge===de?(qe=6,H=3):(qe=7,H=4))}function be(F,K,_e){var Oe,se=-1,ge,de=K[0*2+1],Re=0,qe=7,H=4;for(de===0&&(qe=138,H=3),Oe=0;Oe<=_e;Oe++)if(ge=de,de=K[(Oe+1)*2+1],!(++Re<qe&&ge===de)){if(Re<H)do A(F,ge,F.bl_tree);while(--Re!==0);else ge!==0?(ge!==se&&(A(F,ge,F.bl_tree),Re--),A(F,T,F.bl_tree),P(F,Re-3,2)):Re<=10?(A(F,I,F.bl_tree),P(F,Re-3,3)):(A(F,C,F.bl_tree),P(F,Re-11,7));Re=0,se=ge,de===0?(qe=138,H=3):ge===de?(qe=6,H=3):(qe=7,H=4)}}function xe(F){var K;for(Ie(F,F.dyn_ltree,F.l_desc.max_code),Ie(F,F.dyn_dtree,F.d_desc.max_code),ce(F,F.bl_desc),K=v-1;K>=3&&F.bl_tree[j[K]*2+1]===0;K--);return F.opt_len+=3*(K+1)+5+5+4,K}function je(F,K,_e,Oe){var se;for(P(F,K-257,5),P(F,_e-1,5),P(F,Oe-4,4),se=0;se<Oe;se++)P(F,F.bl_tree[j[se]*2+1],3);be(F,F.dyn_ltree,K-1),be(F,F.dyn_dtree,_e-1)}function Ae(F){var K=4093624447,_e;for(_e=0;_e<=31;_e++,K>>>=1)if(K&1&&F.dyn_ltree[_e*2]!==0)return r;if(F.dyn_ltree[9*2]!==0||F.dyn_ltree[10*2]!==0||F.dyn_ltree[13*2]!==0)return n;for(_e=32;_e<c;_e++)if(F.dyn_ltree[_e*2]!==0)return n;return r}var Pe=!1;function ke(F){Pe||(w(),Pe=!0),F.l_desc=new Y(F.dyn_ltree,V),F.d_desc=new Y(F.dyn_dtree,oe),F.bl_desc=new Y(F.bl_tree,he),F.bi_buf=0,F.bi_valid=0,x(F)}function Ze(F,K,_e,Oe){P(F,(o<<1)+(Oe?1:0),3),U(F,K,_e)}function Ue(F){P(F,s<<1,3),A(F,S,q),te(F)}function it(F,K,_e,Oe){var se,ge,de=0;F.level>0?(F.strm.data_type===a&&(F.strm.data_type=Ae(F)),ce(F,F.l_desc),ce(F,F.d_desc),de=xe(F),se=F.opt_len+3+7>>>3,ge=F.static_len+3+7>>>3,ge<=se&&(se=ge)):se=ge=_e+5,_e+4<=se&&K!==-1?Ze(F,K,_e,Oe):F.strategy===t||ge===se?(P(F,(s<<1)+(Oe?1:0),3),ve(F,q,Q)):(P(F,(u<<1)+(Oe?1:0),3),je(F,F.l_desc.max_code+1,F.d_desc.max_code+1,de+1),ve(F,F.dyn_ltree,F.dyn_dtree)),x(F),Oe&&k(F)}function ye(F,K,_e){return F.pending_buf[F.d_buf+F.last_lit*2]=K>>>8&255,F.pending_buf[F.d_buf+F.last_lit*2+1]=K&255,F.pending_buf[F.l_buf+F.last_lit]=_e&255,F.last_lit++,K===0?F.dyn_ltree[_e*2]++:(F.matches++,K--,F.dyn_ltree[(X[_e]+c+1)*2]++,F.dyn_dtree[Z(K)*2]++),F.last_lit===F.lit_bufsize-1}return ps._tr_init=ke,ps._tr_stored_block=Ze,ps._tr_flush_block=it,ps._tr_tally=ye,ps._tr_align=Ue,ps}var wv,$P;function h4(){if($P)return wv;$P=1;function e(t,r,n,a){for(var i=t&65535|0,o=t>>>16&65535|0,s=0;n!==0;){s=n>2e3?2e3:n,n-=s;do i=i+r[a++]|0,o=o+i|0;while(--s);i%=65521,o%=65521}return i|o<<16|0}return wv=e,wv}var Sv,UP;function p4(){if(UP)return Sv;UP=1;function e(){for(var n,a=[],i=0;i<256;i++){n=i;for(var o=0;o<8;o++)n=n&1?3988292384^n>>>1:n>>>1;a[i]=n}return a}var t=e();function r(n,a,i,o){var s=t,u=o+i;n^=-1;for(var l=o;l<u;l++)n=n>>>8^s[(n^a[l])&255];return n^-1}return Sv=r,Sv}var Ev,HP;function eY(){return HP||(HP=1,Ev={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}),Ev}var VP;function tY(){if(VP)return Fi;VP=1;var e=B0(),t=JZ(),r=h4(),n=p4(),a=eY(),i=0,o=1,s=3,u=4,l=5,f=0,d=1,c=-2,p=-3,_=-5,v=-1,b=1,m=2,y=3,g=4,S=0,T=2,I=8,C=9,B=15,D=8,M=29,j=256,O=j+1+M,q=30,Q=19,ie=2*O+1,X=15,le=3,ae=258,ne=ae+le+1,V=32,oe=42,he=69,Y=73,Z=91,ee=103,P=113,A=666,$=1,te=2,pe=3,R=4,w=3;function x(H,Te){return H.msg=a[Te],Te}function k(H){return(H<<1)-(H>4?9:0)}function U(H){for(var Te=H.length;--Te>=0;)H[Te]=0}function re(H){var Te=H.state,De=Te.pending;De>H.avail_out&&(De=H.avail_out),De!==0&&(e.arraySet(H.output,Te.pending_buf,Te.pending_out,De,H.next_out),H.next_out+=De,Te.pending_out+=De,H.total_out+=De,H.avail_out-=De,Te.pending-=De,Te.pending===0&&(Te.pending_out=0))}function fe(H,Te){t._tr_flush_block(H,H.block_start>=0?H.block_start:-1,H.strstart-H.block_start,Te),H.block_start=H.strstart,re(H.strm)}function ve(H,Te){H.pending_buf[H.pending++]=Te}function ce(H,Te){H.pending_buf[H.pending++]=Te>>>8&255,H.pending_buf[H.pending++]=Te&255}function Ie(H,Te,De,me){var Me=H.avail_in;return Me>me&&(Me=me),Me===0?0:(H.avail_in-=Me,e.arraySet(Te,H.input,H.next_in,Me,De),H.state.wrap===1?H.adler=r(H.adler,Te,Me,De):H.state.wrap===2&&(H.adler=n(H.adler,Te,Me,De)),H.next_in+=Me,H.total_in+=Me,Me)}function be(H,Te){var De=H.max_chain_length,me=H.strstart,Me,Ve,ft=H.prev_length,we=H.nice_match,W=H.strstart>H.w_size-ne?H.strstart-(H.w_size-ne):0,G=H.window,J=H.w_mask,Se=H.prev,Ne=H.strstart+ae,Le=G[me+ft-1],He=G[me+ft];H.prev_length>=H.good_match&&(De>>=2),we>H.lookahead&&(we=H.lookahead);do if(Me=Te,!(G[Me+ft]!==He||G[Me+ft-1]!==Le||G[Me]!==G[me]||G[++Me]!==G[me+1])){me+=2,Me++;do;while(G[++me]===G[++Me]&&G[++me]===G[++Me]&&G[++me]===G[++Me]&&G[++me]===G[++Me]&&G[++me]===G[++Me]&&G[++me]===G[++Me]&&G[++me]===G[++Me]&&G[++me]===G[++Me]&&me<Ne);if(Ve=ae-(Ne-me),me=Ne-ae,Ve>ft){if(H.match_start=Te,ft=Ve,Ve>=we)break;Le=G[me+ft-1],He=G[me+ft]}}while((Te=Se[Te&J])>W&&--De!==0);return ft<=H.lookahead?ft:H.lookahead}function xe(H){var Te=H.w_size,De,me,Me,Ve,ft;do{if(Ve=H.window_size-H.lookahead-H.strstart,H.strstart>=Te+(Te-ne)){e.arraySet(H.window,H.window,Te,Te,0),H.match_start-=Te,H.strstart-=Te,H.block_start-=Te,me=H.hash_size,De=me;do Me=H.head[--De],H.head[De]=Me>=Te?Me-Te:0;while(--me);me=Te,De=me;do Me=H.prev[--De],H.prev[De]=Me>=Te?Me-Te:0;while(--me);Ve+=Te}if(H.strm.avail_in===0)break;if(me=Ie(H.strm,H.window,H.strstart+H.lookahead,Ve),H.lookahead+=me,H.lookahead+H.insert>=le)for(ft=H.strstart-H.insert,H.ins_h=H.window[ft],H.ins_h=(H.ins_h<<H.hash_shift^H.window[ft+1])&H.hash_mask;H.insert&&(H.ins_h=(H.ins_h<<H.hash_shift^H.window[ft+le-1])&H.hash_mask,H.prev[ft&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=ft,ft++,H.insert--,!(H.lookahead+H.insert<le)););}while(H.lookahead<ne&&H.strm.avail_in!==0)}function je(H,Te){var De=65535;for(De>H.pending_buf_size-5&&(De=H.pending_buf_size-5);;){if(H.lookahead<=1){if(xe(H),H.lookahead===0&&Te===i)return $;if(H.lookahead===0)break}H.strstart+=H.lookahead,H.lookahead=0;var me=H.block_start+De;if((H.strstart===0||H.strstart>=me)&&(H.lookahead=H.strstart-me,H.strstart=me,fe(H,!1),H.strm.avail_out===0)||H.strstart-H.block_start>=H.w_size-ne&&(fe(H,!1),H.strm.avail_out===0))return $}return H.insert=0,Te===u?(fe(H,!0),H.strm.avail_out===0?pe:R):(H.strstart>H.block_start&&(fe(H,!1),H.strm.avail_out===0),$)}function Ae(H,Te){for(var De,me;;){if(H.lookahead<ne){if(xe(H),H.lookahead<ne&&Te===i)return $;if(H.lookahead===0)break}if(De=0,H.lookahead>=le&&(H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+le-1])&H.hash_mask,De=H.prev[H.strstart&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=H.strstart),De!==0&&H.strstart-De<=H.w_size-ne&&(H.match_length=be(H,De)),H.match_length>=le)if(me=t._tr_tally(H,H.strstart-H.match_start,H.match_length-le),H.lookahead-=H.match_length,H.match_length<=H.max_lazy_match&&H.lookahead>=le){H.match_length--;do H.strstart++,H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+le-1])&H.hash_mask,De=H.prev[H.strstart&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=H.strstart;while(--H.match_length!==0);H.strstart++}else H.strstart+=H.match_length,H.match_length=0,H.ins_h=H.window[H.strstart],H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+1])&H.hash_mask;else me=t._tr_tally(H,0,H.window[H.strstart]),H.lookahead--,H.strstart++;if(me&&(fe(H,!1),H.strm.avail_out===0))return $}return H.insert=H.strstart<le-1?H.strstart:le-1,Te===u?(fe(H,!0),H.strm.avail_out===0?pe:R):H.last_lit&&(fe(H,!1),H.strm.avail_out===0)?$:te}function Pe(H,Te){for(var De,me,Me;;){if(H.lookahead<ne){if(xe(H),H.lookahead<ne&&Te===i)return $;if(H.lookahead===0)break}if(De=0,H.lookahead>=le&&(H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+le-1])&H.hash_mask,De=H.prev[H.strstart&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=H.strstart),H.prev_length=H.match_length,H.prev_match=H.match_start,H.match_length=le-1,De!==0&&H.prev_length<H.max_lazy_match&&H.strstart-De<=H.w_size-ne&&(H.match_length=be(H,De),H.match_length<=5&&(H.strategy===b||H.match_length===le&&H.strstart-H.match_start>4096)&&(H.match_length=le-1)),H.prev_length>=le&&H.match_length<=H.prev_length){Me=H.strstart+H.lookahead-le,me=t._tr_tally(H,H.strstart-1-H.prev_match,H.prev_length-le),H.lookahead-=H.prev_length-1,H.prev_length-=2;do++H.strstart<=Me&&(H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+le-1])&H.hash_mask,De=H.prev[H.strstart&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=H.strstart);while(--H.prev_length!==0);if(H.match_available=0,H.match_length=le-1,H.strstart++,me&&(fe(H,!1),H.strm.avail_out===0))return $}else if(H.match_available){if(me=t._tr_tally(H,0,H.window[H.strstart-1]),me&&fe(H,!1),H.strstart++,H.lookahead--,H.strm.avail_out===0)return $}else H.match_available=1,H.strstart++,H.lookahead--}return H.match_available&&(me=t._tr_tally(H,0,H.window[H.strstart-1]),H.match_available=0),H.insert=H.strstart<le-1?H.strstart:le-1,Te===u?(fe(H,!0),H.strm.avail_out===0?pe:R):H.last_lit&&(fe(H,!1),H.strm.avail_out===0)?$:te}function ke(H,Te){for(var De,me,Me,Ve,ft=H.window;;){if(H.lookahead<=ae){if(xe(H),H.lookahead<=ae&&Te===i)return $;if(H.lookahead===0)break}if(H.match_length=0,H.lookahead>=le&&H.strstart>0&&(Me=H.strstart-1,me=ft[Me],me===ft[++Me]&&me===ft[++Me]&&me===ft[++Me])){Ve=H.strstart+ae;do;while(me===ft[++Me]&&me===ft[++Me]&&me===ft[++Me]&&me===ft[++Me]&&me===ft[++Me]&&me===ft[++Me]&&me===ft[++Me]&&me===ft[++Me]&&Me<Ve);H.match_length=ae-(Ve-Me),H.match_length>H.lookahead&&(H.match_length=H.lookahead)}if(H.match_length>=le?(De=t._tr_tally(H,1,H.match_length-le),H.lookahead-=H.match_length,H.strstart+=H.match_length,H.match_length=0):(De=t._tr_tally(H,0,H.window[H.strstart]),H.lookahead--,H.strstart++),De&&(fe(H,!1),H.strm.avail_out===0))return $}return H.insert=0,Te===u?(fe(H,!0),H.strm.avail_out===0?pe:R):H.last_lit&&(fe(H,!1),H.strm.avail_out===0)?$:te}function Ze(H,Te){for(var De;;){if(H.lookahead===0&&(xe(H),H.lookahead===0)){if(Te===i)return $;break}if(H.match_length=0,De=t._tr_tally(H,0,H.window[H.strstart]),H.lookahead--,H.strstart++,De&&(fe(H,!1),H.strm.avail_out===0))return $}return H.insert=0,Te===u?(fe(H,!0),H.strm.avail_out===0?pe:R):H.last_lit&&(fe(H,!1),H.strm.avail_out===0)?$:te}function Ue(H,Te,De,me,Me){this.good_length=H,this.max_lazy=Te,this.nice_length=De,this.max_chain=me,this.func=Me}var it;it=[new Ue(0,0,0,0,je),new Ue(4,4,8,4,Ae),new Ue(4,5,16,8,Ae),new Ue(4,6,32,32,Ae),new Ue(4,4,16,16,Pe),new Ue(8,16,32,32,Pe),new Ue(8,16,128,128,Pe),new Ue(8,32,128,256,Pe),new Ue(32,128,258,1024,Pe),new Ue(32,258,258,4096,Pe)];function ye(H){H.window_size=2*H.w_size,U(H.head),H.max_lazy_match=it[H.level].max_lazy,H.good_match=it[H.level].good_length,H.nice_match=it[H.level].nice_length,H.max_chain_length=it[H.level].max_chain,H.strstart=0,H.block_start=0,H.lookahead=0,H.insert=0,H.match_length=H.prev_length=le-1,H.match_available=0,H.ins_h=0}function F(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=I,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new e.Buf16(ie*2),this.dyn_dtree=new e.Buf16((2*q+1)*2),this.bl_tree=new e.Buf16((2*Q+1)*2),U(this.dyn_ltree),U(this.dyn_dtree),U(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new e.Buf16(X+1),this.heap=new e.Buf16(2*O+1),U(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new e.Buf16(2*O+1),U(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function K(H){var Te;return!H||!H.state?x(H,c):(H.total_in=H.total_out=0,H.data_type=T,Te=H.state,Te.pending=0,Te.pending_out=0,Te.wrap<0&&(Te.wrap=-Te.wrap),Te.status=Te.wrap?oe:P,H.adler=Te.wrap===2?0:1,Te.last_flush=i,t._tr_init(Te),f)}function _e(H){var Te=K(H);return Te===f&&ye(H.state),Te}function Oe(H,Te){return!H||!H.state||H.state.wrap!==2?c:(H.state.gzhead=Te,f)}function se(H,Te,De,me,Me,Ve){if(!H)return c;var ft=1;if(Te===v&&(Te=6),me<0?(ft=0,me=-me):me>15&&(ft=2,me-=16),Me<1||Me>C||De!==I||me<8||me>15||Te<0||Te>9||Ve<0||Ve>g)return x(H,c);me===8&&(me=9);var we=new F;return H.state=we,we.strm=H,we.wrap=ft,we.gzhead=null,we.w_bits=me,we.w_size=1<<we.w_bits,we.w_mask=we.w_size-1,we.hash_bits=Me+7,we.hash_size=1<<we.hash_bits,we.hash_mask=we.hash_size-1,we.hash_shift=~~((we.hash_bits+le-1)/le),we.window=new e.Buf8(we.w_size*2),we.head=new e.Buf16(we.hash_size),we.prev=new e.Buf16(we.w_size),we.lit_bufsize=1<<Me+6,we.pending_buf_size=we.lit_bufsize*4,we.pending_buf=new e.Buf8(we.pending_buf_size),we.d_buf=1*we.lit_bufsize,we.l_buf=3*we.lit_bufsize,we.level=Te,we.strategy=Ve,we.method=De,_e(H)}function ge(H,Te){return se(H,Te,I,B,D,S)}function de(H,Te){var De,me,Me,Ve;if(!H||!H.state||Te>l||Te<0)return H?x(H,c):c;if(me=H.state,!H.output||!H.input&&H.avail_in!==0||me.status===A&&Te!==u)return x(H,H.avail_out===0?_:c);if(me.strm=H,De=me.last_flush,me.last_flush=Te,me.status===oe)if(me.wrap===2)H.adler=0,ve(me,31),ve(me,139),ve(me,8),me.gzhead?(ve(me,(me.gzhead.text?1:0)+(me.gzhead.hcrc?2:0)+(me.gzhead.extra?4:0)+(me.gzhead.name?8:0)+(me.gzhead.comment?16:0)),ve(me,me.gzhead.time&255),ve(me,me.gzhead.time>>8&255),ve(me,me.gzhead.time>>16&255),ve(me,me.gzhead.time>>24&255),ve(me,me.level===9?2:me.strategy>=m||me.level<2?4:0),ve(me,me.gzhead.os&255),me.gzhead.extra&&me.gzhead.extra.length&&(ve(me,me.gzhead.extra.length&255),ve(me,me.gzhead.extra.length>>8&255)),me.gzhead.hcrc&&(H.adler=n(H.adler,me.pending_buf,me.pending,0)),me.gzindex=0,me.status=he):(ve(me,0),ve(me,0),ve(me,0),ve(me,0),ve(me,0),ve(me,me.level===9?2:me.strategy>=m||me.level<2?4:0),ve(me,w),me.status=P);else{var ft=I+(me.w_bits-8<<4)<<8,we=-1;me.strategy>=m||me.level<2?we=0:me.level<6?we=1:me.level===6?we=2:we=3,ft|=we<<6,me.strstart!==0&&(ft|=V),ft+=31-ft%31,me.status=P,ce(me,ft),me.strstart!==0&&(ce(me,H.adler>>>16),ce(me,H.adler&65535)),H.adler=1}if(me.status===he)if(me.gzhead.extra){for(Me=me.pending;me.gzindex<(me.gzhead.extra.length&65535)&&!(me.pending===me.pending_buf_size&&(me.gzhead.hcrc&&me.pending>Me&&(H.adler=n(H.adler,me.pending_buf,me.pending-Me,Me)),re(H),Me=me.pending,me.pending===me.pending_buf_size));)ve(me,me.gzhead.extra[me.gzindex]&255),me.gzindex++;me.gzhead.hcrc&&me.pending>Me&&(H.adler=n(H.adler,me.pending_buf,me.pending-Me,Me)),me.gzindex===me.gzhead.extra.length&&(me.gzindex=0,me.status=Y)}else me.status=Y;if(me.status===Y)if(me.gzhead.name){Me=me.pending;do{if(me.pending===me.pending_buf_size&&(me.gzhead.hcrc&&me.pending>Me&&(H.adler=n(H.adler,me.pending_buf,me.pending-Me,Me)),re(H),Me=me.pending,me.pending===me.pending_buf_size)){Ve=1;break}me.gzindex<me.gzhead.name.length?Ve=me.gzhead.name.charCodeAt(me.gzindex++)&255:Ve=0,ve(me,Ve)}while(Ve!==0);me.gzhead.hcrc&&me.pending>Me&&(H.adler=n(H.adler,me.pending_buf,me.pending-Me,Me)),Ve===0&&(me.gzindex=0,me.status=Z)}else me.status=Z;if(me.status===Z)if(me.gzhead.comment){Me=me.pending;do{if(me.pending===me.pending_buf_size&&(me.gzhead.hcrc&&me.pending>Me&&(H.adler=n(H.adler,me.pending_buf,me.pending-Me,Me)),re(H),Me=me.pending,me.pending===me.pending_buf_size)){Ve=1;break}me.gzindex<me.gzhead.comment.length?Ve=me.gzhead.comment.charCodeAt(me.gzindex++)&255:Ve=0,ve(me,Ve)}while(Ve!==0);me.gzhead.hcrc&&me.pending>Me&&(H.adler=n(H.adler,me.pending_buf,me.pending-Me,Me)),Ve===0&&(me.status=ee)}else me.status=ee;if(me.status===ee&&(me.gzhead.hcrc?(me.pending+2>me.pending_buf_size&&re(H),me.pending+2<=me.pending_buf_size&&(ve(me,H.adler&255),ve(me,H.adler>>8&255),H.adler=0,me.status=P)):me.status=P),me.pending!==0){if(re(H),H.avail_out===0)return me.last_flush=-1,f}else if(H.avail_in===0&&k(Te)<=k(De)&&Te!==u)return x(H,_);if(me.status===A&&H.avail_in!==0)return x(H,_);if(H.avail_in!==0||me.lookahead!==0||Te!==i&&me.status!==A){var W=me.strategy===m?Ze(me,Te):me.strategy===y?ke(me,Te):it[me.level].func(me,Te);if((W===pe||W===R)&&(me.status=A),W===$||W===pe)return H.avail_out===0&&(me.last_flush=-1),f;if(W===te&&(Te===o?t._tr_align(me):Te!==l&&(t._tr_stored_block(me,0,0,!1),Te===s&&(U(me.head),me.lookahead===0&&(me.strstart=0,me.block_start=0,me.insert=0))),re(H),H.avail_out===0))return me.last_flush=-1,f}return Te!==u?f:me.wrap<=0?d:(me.wrap===2?(ve(me,H.adler&255),ve(me,H.adler>>8&255),ve(me,H.adler>>16&255),ve(me,H.adler>>24&255),ve(me,H.total_in&255),ve(me,H.total_in>>8&255),ve(me,H.total_in>>16&255),ve(me,H.total_in>>24&255)):(ce(me,H.adler>>>16),ce(me,H.adler&65535)),re(H),me.wrap>0&&(me.wrap=-me.wrap),me.pending!==0?f:d)}function Re(H){var Te;return!H||!H.state?c:(Te=H.state.status,Te!==oe&&Te!==he&&Te!==Y&&Te!==Z&&Te!==ee&&Te!==P&&Te!==A?x(H,c):(H.state=null,Te===P?x(H,p):f))}function qe(H,Te){var De=Te.length,me,Me,Ve,ft,we,W,G,J;if(!H||!H.state||(me=H.state,ft=me.wrap,ft===2||ft===1&&me.status!==oe||me.lookahead))return c;for(ft===1&&(H.adler=r(H.adler,Te,De,0)),me.wrap=0,De>=me.w_size&&(ft===0&&(U(me.head),me.strstart=0,me.block_start=0,me.insert=0),J=new e.Buf8(me.w_size),e.arraySet(J,Te,De-me.w_size,me.w_size,0),Te=J,De=me.w_size),we=H.avail_in,W=H.next_in,G=H.input,H.avail_in=De,H.next_in=0,H.input=Te,xe(me);me.lookahead>=le;){Me=me.strstart,Ve=me.lookahead-(le-1);do me.ins_h=(me.ins_h<<me.hash_shift^me.window[Me+le-1])&me.hash_mask,me.prev[Me&me.w_mask]=me.head[me.ins_h],me.head[me.ins_h]=Me,Me++;while(--Ve);me.strstart=Me,me.lookahead=le-1,xe(me)}return me.strstart+=me.lookahead,me.block_start=me.strstart,me.insert=me.lookahead,me.lookahead=0,me.match_length=me.prev_length=le-1,me.match_available=0,H.next_in=W,H.input=G,H.avail_in=we,me.wrap=ft,f}return Fi.deflateInit=ge,Fi.deflateInit2=se,Fi.deflateReset=_e,Fi.deflateResetKeep=K,Fi.deflateSetHeader=Oe,Fi.deflate=de,Fi.deflateEnd=Re,Fi.deflateSetDictionary=qe,Fi.deflateInfo="pako deflate (from Nodeca project)",Fi}var mi={},xv,zP;function rY(){if(zP)return xv;zP=1;var e=30,t=12;return xv=function(n,a){var i,o,s,u,l,f,d,c,p,_,v,b,m,y,g,S,T,I,C,B,D,M,j,O,q;i=n.state,o=n.next_in,O=n.input,s=o+(n.avail_in-5),u=n.next_out,q=n.output,l=u-(a-n.avail_out),f=u+(n.avail_out-257),d=i.dmax,c=i.wsize,p=i.whave,_=i.wnext,v=i.window,b=i.hold,m=i.bits,y=i.lencode,g=i.distcode,S=(1<<i.lenbits)-1,T=(1<<i.distbits)-1;e:do{m<15&&(b+=O[o++]<<m,m+=8,b+=O[o++]<<m,m+=8),I=y[b&S];t:for(;;){if(C=I>>>24,b>>>=C,m-=C,C=I>>>16&255,C===0)q[u++]=I&65535;else if(C&16){B=I&65535,C&=15,C&&(m<C&&(b+=O[o++]<<m,m+=8),B+=b&(1<<C)-1,b>>>=C,m-=C),m<15&&(b+=O[o++]<<m,m+=8,b+=O[o++]<<m,m+=8),I=g[b&T];r:for(;;){if(C=I>>>24,b>>>=C,m-=C,C=I>>>16&255,C&16){if(D=I&65535,C&=15,m<C&&(b+=O[o++]<<m,m+=8,m<C&&(b+=O[o++]<<m,m+=8)),D+=b&(1<<C)-1,D>d){n.msg="invalid distance too far back",i.mode=e;break e}if(b>>>=C,m-=C,C=u-l,D>C){if(C=D-C,C>p&&i.sane){n.msg="invalid distance too far back",i.mode=e;break e}if(M=0,j=v,_===0){if(M+=c-C,C<B){B-=C;do q[u++]=v[M++];while(--C);M=u-D,j=q}}else if(_<C){if(M+=c+_-C,C-=_,C<B){B-=C;do q[u++]=v[M++];while(--C);if(M=0,_<B){C=_,B-=C;do q[u++]=v[M++];while(--C);M=u-D,j=q}}}else if(M+=_-C,C<B){B-=C;do q[u++]=v[M++];while(--C);M=u-D,j=q}for(;B>2;)q[u++]=j[M++],q[u++]=j[M++],q[u++]=j[M++],B-=3;B&&(q[u++]=j[M++],B>1&&(q[u++]=j[M++]))}else{M=u-D;do q[u++]=q[M++],q[u++]=q[M++],q[u++]=q[M++],B-=3;while(B>2);B&&(q[u++]=q[M++],B>1&&(q[u++]=q[M++]))}}else if(C&64){n.msg="invalid distance code",i.mode=e;break e}else{I=g[(I&65535)+(b&(1<<C)-1)];continue r}break}}else if(C&64)if(C&32){i.mode=t;break e}else{n.msg="invalid literal/length code",i.mode=e;break e}else{I=y[(I&65535)+(b&(1<<C)-1)];continue t}break}}while(o<s&&u<f);B=m>>3,o-=B,m-=B<<3,b&=(1<<m)-1,n.next_in=o,n.next_out=u,n.avail_in=o<s?5+(s-o):5-(o-s),n.avail_out=u<f?257+(f-u):257-(u-f),i.hold=b,i.bits=m},xv}var Tv,GP;function nY(){if(GP)return Tv;GP=1;var e=B0(),t=15,r=852,n=592,a=0,i=1,o=2,s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],u=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];return Tv=function(c,p,_,v,b,m,y,g){var S=g.bits,T=0,I=0,C=0,B=0,D=0,M=0,j=0,O=0,q=0,Q=0,ie,X,le,ae,ne,V=null,oe=0,he,Y=new e.Buf16(t+1),Z=new e.Buf16(t+1),ee=null,P=0,A,$,te;for(T=0;T<=t;T++)Y[T]=0;for(I=0;I<v;I++)Y[p[_+I]]++;for(D=S,B=t;B>=1&&Y[B]===0;B--);if(D>B&&(D=B),B===0)return b[m++]=1<<24|64<<16|0,b[m++]=1<<24|64<<16|0,g.bits=1,0;for(C=1;C<B&&Y[C]===0;C++);for(D<C&&(D=C),O=1,T=1;T<=t;T++)if(O<<=1,O-=Y[T],O<0)return-1;if(O>0&&(c===a||B!==1))return-1;for(Z[1]=0,T=1;T<t;T++)Z[T+1]=Z[T]+Y[T];for(I=0;I<v;I++)p[_+I]!==0&&(y[Z[p[_+I]]++]=I);if(c===a?(V=ee=y,he=19):c===i?(V=s,oe-=257,ee=u,P-=257,he=256):(V=l,ee=f,he=-1),Q=0,I=0,T=C,ne=m,M=D,j=0,le=-1,q=1<<D,ae=q-1,c===i&&q>r||c===o&&q>n)return 1;for(;;){A=T-j,y[I]<he?($=0,te=y[I]):y[I]>he?($=ee[P+y[I]],te=V[oe+y[I]]):($=96,te=0),ie=1<<T-j,X=1<<M,C=X;do X-=ie,b[ne+(Q>>j)+X]=A<<24|$<<16|te|0;while(X!==0);for(ie=1<<T-1;Q&ie;)ie>>=1;if(ie!==0?(Q&=ie-1,Q+=ie):Q=0,I++,--Y[T]===0){if(T===B)break;T=p[_+y[I]]}if(T>D&&(Q&ae)!==le){for(j===0&&(j=D),ne+=C,M=T-j,O=1<<M;M+j<B&&(O-=Y[M+j],!(O<=0));)M++,O<<=1;if(q+=1<<M,c===i&&q>r||c===o&&q>n)return 1;le=Q&ae,b[le]=D<<24|M<<16|ne-m|0}}return Q!==0&&(b[ne+Q]=T-j<<24|64<<16|0),g.bits=D,0},Tv}var WP;function iY(){if(WP)return mi;WP=1;var e=B0(),t=h4(),r=p4(),n=rY(),a=nY(),i=0,o=1,s=2,u=4,l=5,f=6,d=0,c=1,p=2,_=-2,v=-3,b=-4,m=-5,y=8,g=1,S=2,T=3,I=4,C=5,B=6,D=7,M=8,j=9,O=10,q=11,Q=12,ie=13,X=14,le=15,ae=16,ne=17,V=18,oe=19,he=20,Y=21,Z=22,ee=23,P=24,A=25,$=26,te=27,pe=28,R=29,w=30,x=31,k=32,U=852,re=592,fe=15,ve=fe;function ce(se){return(se>>>24&255)+(se>>>8&65280)+((se&65280)<<8)+((se&255)<<24)}function Ie(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new e.Buf16(320),this.work=new e.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function be(se){var ge;return!se||!se.state?_:(ge=se.state,se.total_in=se.total_out=ge.total=0,se.msg="",ge.wrap&&(se.adler=ge.wrap&1),ge.mode=g,ge.last=0,ge.havedict=0,ge.dmax=32768,ge.head=null,ge.hold=0,ge.bits=0,ge.lencode=ge.lendyn=new e.Buf32(U),ge.distcode=ge.distdyn=new e.Buf32(re),ge.sane=1,ge.back=-1,d)}function xe(se){var ge;return!se||!se.state?_:(ge=se.state,ge.wsize=0,ge.whave=0,ge.wnext=0,be(se))}function je(se,ge){var de,Re;return!se||!se.state||(Re=se.state,ge<0?(de=0,ge=-ge):(de=(ge>>4)+1,ge<48&&(ge&=15)),ge&&(ge<8||ge>15))?_:(Re.window!==null&&Re.wbits!==ge&&(Re.window=null),Re.wrap=de,Re.wbits=ge,xe(se))}function Ae(se,ge){var de,Re;return se?(Re=new Ie,se.state=Re,Re.window=null,de=je(se,ge),de!==d&&(se.state=null),de):_}function Pe(se){return Ae(se,ve)}var ke=!0,Ze,Ue;function it(se){if(ke){var ge;for(Ze=new e.Buf32(512),Ue=new e.Buf32(32),ge=0;ge<144;)se.lens[ge++]=8;for(;ge<256;)se.lens[ge++]=9;for(;ge<280;)se.lens[ge++]=7;for(;ge<288;)se.lens[ge++]=8;for(a(o,se.lens,0,288,Ze,0,se.work,{bits:9}),ge=0;ge<32;)se.lens[ge++]=5;a(s,se.lens,0,32,Ue,0,se.work,{bits:5}),ke=!1}se.lencode=Ze,se.lenbits=9,se.distcode=Ue,se.distbits=5}function ye(se,ge,de,Re){var qe,H=se.state;return H.window===null&&(H.wsize=1<<H.wbits,H.wnext=0,H.whave=0,H.window=new e.Buf8(H.wsize)),Re>=H.wsize?(e.arraySet(H.window,ge,de-H.wsize,H.wsize,0),H.wnext=0,H.whave=H.wsize):(qe=H.wsize-H.wnext,qe>Re&&(qe=Re),e.arraySet(H.window,ge,de-Re,qe,H.wnext),Re-=qe,Re?(e.arraySet(H.window,ge,de-Re,Re,0),H.wnext=Re,H.whave=H.wsize):(H.wnext+=qe,H.wnext===H.wsize&&(H.wnext=0),H.whave<H.wsize&&(H.whave+=qe))),0}function F(se,ge){var de,Re,qe,H,Te,De,me,Me,Ve,ft,we,W,G,J,Se=0,Ne,Le,He,$e,ut,lt,dt,ct,nt=new e.Buf8(4),lr,at,Ce=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!se||!se.state||!se.output||!se.input&&se.avail_in!==0)return _;de=se.state,de.mode===Q&&(de.mode=ie),Te=se.next_out,qe=se.output,me=se.avail_out,H=se.next_in,Re=se.input,De=se.avail_in,Me=de.hold,Ve=de.bits,ft=De,we=me,ct=d;e:for(;;)switch(de.mode){case g:if(de.wrap===0){de.mode=ie;break}for(;Ve<16;){if(De===0)break e;De--,Me+=Re[H++]<<Ve,Ve+=8}if(de.wrap&2&&Me===35615){de.check=0,nt[0]=Me&255,nt[1]=Me>>>8&255,de.check=r(de.check,nt,2,0),Me=0,Ve=0,de.mode=S;break}if(de.flags=0,de.head&&(de.head.done=!1),!(de.wrap&1)||(((Me&255)<<8)+(Me>>8))%31){se.msg="incorrect header check",de.mode=w;break}if((Me&15)!==y){se.msg="unknown compression method",de.mode=w;break}if(Me>>>=4,Ve-=4,dt=(Me&15)+8,de.wbits===0)de.wbits=dt;else if(dt>de.wbits){se.msg="invalid window size",de.mode=w;break}de.dmax=1<<dt,se.adler=de.check=1,de.mode=Me&512?O:Q,Me=0,Ve=0;break;case S:for(;Ve<16;){if(De===0)break e;De--,Me+=Re[H++]<<Ve,Ve+=8}if(de.flags=Me,(de.flags&255)!==y){se.msg="unknown compression method",de.mode=w;break}if(de.flags&57344){se.msg="unknown header flags set",de.mode=w;break}de.head&&(de.head.text=Me>>8&1),de.flags&512&&(nt[0]=Me&255,nt[1]=Me>>>8&255,de.check=r(de.check,nt,2,0)),Me=0,Ve=0,de.mode=T;case T:for(;Ve<32;){if(De===0)break e;De--,Me+=Re[H++]<<Ve,Ve+=8}de.head&&(de.head.time=Me),de.flags&512&&(nt[0]=Me&255,nt[1]=Me>>>8&255,nt[2]=Me>>>16&255,nt[3]=Me>>>24&255,de.check=r(de.check,nt,4,0)),Me=0,Ve=0,de.mode=I;case I:for(;Ve<16;){if(De===0)break e;De--,Me+=Re[H++]<<Ve,Ve+=8}de.head&&(de.head.xflags=Me&255,de.head.os=Me>>8),de.flags&512&&(nt[0]=Me&255,nt[1]=Me>>>8&255,de.check=r(de.check,nt,2,0)),Me=0,Ve=0,de.mode=C;case C:if(de.flags&1024){for(;Ve<16;){if(De===0)break e;De--,Me+=Re[H++]<<Ve,Ve+=8}de.length=Me,de.head&&(de.head.extra_len=Me),de.flags&512&&(nt[0]=Me&255,nt[1]=Me>>>8&255,de.check=r(de.check,nt,2,0)),Me=0,Ve=0}else de.head&&(de.head.extra=null);de.mode=B;case B:if(de.flags&1024&&(W=de.length,W>De&&(W=De),W&&(de.head&&(dt=de.head.extra_len-de.length,de.head.extra||(de.head.extra=new Array(de.head.extra_len)),e.arraySet(de.head.extra,Re,H,W,dt)),de.flags&512&&(de.check=r(de.check,Re,W,H)),De-=W,H+=W,de.length-=W),de.length))break e;de.length=0,de.mode=D;case D:if(de.flags&2048){if(De===0)break e;W=0;do dt=Re[H+W++],de.head&&dt&&de.length<65536&&(de.head.name+=String.fromCharCode(dt));while(dt&&W<De);if(de.flags&512&&(de.check=r(de.check,Re,W,H)),De-=W,H+=W,dt)break e}else de.head&&(de.head.name=null);de.length=0,de.mode=M;case M:if(de.flags&4096){if(De===0)break e;W=0;do dt=Re[H+W++],de.head&&dt&&de.length<65536&&(de.head.comment+=String.fromCharCode(dt));while(dt&&W<De);if(de.flags&512&&(de.check=r(de.check,Re,W,H)),De-=W,H+=W,dt)break e}else de.head&&(de.head.comment=null);de.mode=j;case j:if(de.flags&512){for(;Ve<16;){if(De===0)break e;De--,Me+=Re[H++]<<Ve,Ve+=8}if(Me!==(de.check&65535)){se.msg="header crc mismatch",de.mode=w;break}Me=0,Ve=0}de.head&&(de.head.hcrc=de.flags>>9&1,de.head.done=!0),se.adler=de.check=0,de.mode=Q;break;case O:for(;Ve<32;){if(De===0)break e;De--,Me+=Re[H++]<<Ve,Ve+=8}se.adler=de.check=ce(Me),Me=0,Ve=0,de.mode=q;case q:if(de.havedict===0)return se.next_out=Te,se.avail_out=me,se.next_in=H,se.avail_in=De,de.hold=Me,de.bits=Ve,p;se.adler=de.check=1,de.mode=Q;case Q:if(ge===l||ge===f)break e;case ie:if(de.last){Me>>>=Ve&7,Ve-=Ve&7,de.mode=te;break}for(;Ve<3;){if(De===0)break e;De--,Me+=Re[H++]<<Ve,Ve+=8}switch(de.last=Me&1,Me>>>=1,Ve-=1,Me&3){case 0:de.mode=X;break;case 1:if(it(de),de.mode=he,ge===f){Me>>>=2,Ve-=2;break e}break;case 2:de.mode=ne;break;case 3:se.msg="invalid block type",de.mode=w}Me>>>=2,Ve-=2;break;case X:for(Me>>>=Ve&7,Ve-=Ve&7;Ve<32;){if(De===0)break e;De--,Me+=Re[H++]<<Ve,Ve+=8}if((Me&65535)!==(Me>>>16^65535)){se.msg="invalid stored block lengths",de.mode=w;break}if(de.length=Me&65535,Me=0,Ve=0,de.mode=le,ge===f)break e;case le:de.mode=ae;case ae:if(W=de.length,W){if(W>De&&(W=De),W>me&&(W=me),W===0)break e;e.arraySet(qe,Re,H,W,Te),De-=W,H+=W,me-=W,Te+=W,de.length-=W;break}de.mode=Q;break;case ne:for(;Ve<14;){if(De===0)break e;De--,Me+=Re[H++]<<Ve,Ve+=8}if(de.nlen=(Me&31)+257,Me>>>=5,Ve-=5,de.ndist=(Me&31)+1,Me>>>=5,Ve-=5,de.ncode=(Me&15)+4,Me>>>=4,Ve-=4,de.nlen>286||de.ndist>30){se.msg="too many length or distance symbols",de.mode=w;break}de.have=0,de.mode=V;case V:for(;de.have<de.ncode;){for(;Ve<3;){if(De===0)break e;De--,Me+=Re[H++]<<Ve,Ve+=8}de.lens[Ce[de.have++]]=Me&7,Me>>>=3,Ve-=3}for(;de.have<19;)de.lens[Ce[de.have++]]=0;if(de.lencode=de.lendyn,de.lenbits=7,lr={bits:de.lenbits},ct=a(i,de.lens,0,19,de.lencode,0,de.work,lr),de.lenbits=lr.bits,ct){se.msg="invalid code lengths set",de.mode=w;break}de.have=0,de.mode=oe;case oe:for(;de.have<de.nlen+de.ndist;){for(;Se=de.lencode[Me&(1<<de.lenbits)-1],Ne=Se>>>24,Le=Se>>>16&255,He=Se&65535,!(Ne<=Ve);){if(De===0)break e;De--,Me+=Re[H++]<<Ve,Ve+=8}if(He<16)Me>>>=Ne,Ve-=Ne,de.lens[de.have++]=He;else{if(He===16){for(at=Ne+2;Ve<at;){if(De===0)break e;De--,Me+=Re[H++]<<Ve,Ve+=8}if(Me>>>=Ne,Ve-=Ne,de.have===0){se.msg="invalid bit length repeat",de.mode=w;break}dt=de.lens[de.have-1],W=3+(Me&3),Me>>>=2,Ve-=2}else if(He===17){for(at=Ne+3;Ve<at;){if(De===0)break e;De--,Me+=Re[H++]<<Ve,Ve+=8}Me>>>=Ne,Ve-=Ne,dt=0,W=3+(Me&7),Me>>>=3,Ve-=3}else{for(at=Ne+7;Ve<at;){if(De===0)break e;De--,Me+=Re[H++]<<Ve,Ve+=8}Me>>>=Ne,Ve-=Ne,dt=0,W=11+(Me&127),Me>>>=7,Ve-=7}if(de.have+W>de.nlen+de.ndist){se.msg="invalid bit length repeat",de.mode=w;break}for(;W--;)de.lens[de.have++]=dt}}if(de.mode===w)break;if(de.lens[256]===0){se.msg="invalid code -- missing end-of-block",de.mode=w;break}if(de.lenbits=9,lr={bits:de.lenbits},ct=a(o,de.lens,0,de.nlen,de.lencode,0,de.work,lr),de.lenbits=lr.bits,ct){se.msg="invalid literal/lengths set",de.mode=w;break}if(de.distbits=6,de.distcode=de.distdyn,lr={bits:de.distbits},ct=a(s,de.lens,de.nlen,de.ndist,de.distcode,0,de.work,lr),de.distbits=lr.bits,ct){se.msg="invalid distances set",de.mode=w;break}if(de.mode=he,ge===f)break e;case he:de.mode=Y;case Y:if(De>=6&&me>=258){se.next_out=Te,se.avail_out=me,se.next_in=H,se.avail_in=De,de.hold=Me,de.bits=Ve,n(se,we),Te=se.next_out,qe=se.output,me=se.avail_out,H=se.next_in,Re=se.input,De=se.avail_in,Me=de.hold,Ve=de.bits,de.mode===Q&&(de.back=-1);break}for(de.back=0;Se=de.lencode[Me&(1<<de.lenbits)-1],Ne=Se>>>24,Le=Se>>>16&255,He=Se&65535,!(Ne<=Ve);){if(De===0)break e;De--,Me+=Re[H++]<<Ve,Ve+=8}if(Le&&!(Le&240)){for($e=Ne,ut=Le,lt=He;Se=de.lencode[lt+((Me&(1<<$e+ut)-1)>>$e)],Ne=Se>>>24,Le=Se>>>16&255,He=Se&65535,!($e+Ne<=Ve);){if(De===0)break e;De--,Me+=Re[H++]<<Ve,Ve+=8}Me>>>=$e,Ve-=$e,de.back+=$e}if(Me>>>=Ne,Ve-=Ne,de.back+=Ne,de.length=He,Le===0){de.mode=$;break}if(Le&32){de.back=-1,de.mode=Q;break}if(Le&64){se.msg="invalid literal/length code",de.mode=w;break}de.extra=Le&15,de.mode=Z;case Z:if(de.extra){for(at=de.extra;Ve<at;){if(De===0)break e;De--,Me+=Re[H++]<<Ve,Ve+=8}de.length+=Me&(1<<de.extra)-1,Me>>>=de.extra,Ve-=de.extra,de.back+=de.extra}de.was=de.length,de.mode=ee;case ee:for(;Se=de.distcode[Me&(1<<de.distbits)-1],Ne=Se>>>24,Le=Se>>>16&255,He=Se&65535,!(Ne<=Ve);){if(De===0)break e;De--,Me+=Re[H++]<<Ve,Ve+=8}if(!(Le&240)){for($e=Ne,ut=Le,lt=He;Se=de.distcode[lt+((Me&(1<<$e+ut)-1)>>$e)],Ne=Se>>>24,Le=Se>>>16&255,He=Se&65535,!($e+Ne<=Ve);){if(De===0)break e;De--,Me+=Re[H++]<<Ve,Ve+=8}Me>>>=$e,Ve-=$e,de.back+=$e}if(Me>>>=Ne,Ve-=Ne,de.back+=Ne,Le&64){se.msg="invalid distance code",de.mode=w;break}de.offset=He,de.extra=Le&15,de.mode=P;case P:if(de.extra){for(at=de.extra;Ve<at;){if(De===0)break e;De--,Me+=Re[H++]<<Ve,Ve+=8}de.offset+=Me&(1<<de.extra)-1,Me>>>=de.extra,Ve-=de.extra,de.back+=de.extra}if(de.offset>de.dmax){se.msg="invalid distance too far back",de.mode=w;break}de.mode=A;case A:if(me===0)break e;if(W=we-me,de.offset>W){if(W=de.offset-W,W>de.whave&&de.sane){se.msg="invalid distance too far back",de.mode=w;break}W>de.wnext?(W-=de.wnext,G=de.wsize-W):G=de.wnext-W,W>de.length&&(W=de.length),J=de.window}else J=qe,G=Te-de.offset,W=de.length;W>me&&(W=me),me-=W,de.length-=W;do qe[Te++]=J[G++];while(--W);de.length===0&&(de.mode=Y);break;case $:if(me===0)break e;qe[Te++]=de.length,me--,de.mode=Y;break;case te:if(de.wrap){for(;Ve<32;){if(De===0)break e;De--,Me|=Re[H++]<<Ve,Ve+=8}if(we-=me,se.total_out+=we,de.total+=we,we&&(se.adler=de.check=de.flags?r(de.check,qe,we,Te-we):t(de.check,qe,we,Te-we)),we=me,(de.flags?Me:ce(Me))!==de.check){se.msg="incorrect data check",de.mode=w;break}Me=0,Ve=0}de.mode=pe;case pe:if(de.wrap&&de.flags){for(;Ve<32;){if(De===0)break e;De--,Me+=Re[H++]<<Ve,Ve+=8}if(Me!==(de.total&4294967295)){se.msg="incorrect length check",de.mode=w;break}Me=0,Ve=0}de.mode=R;case R:ct=c;break e;case w:ct=v;break e;case x:return b;case k:default:return _}return se.next_out=Te,se.avail_out=me,se.next_in=H,se.avail_in=De,de.hold=Me,de.bits=Ve,(de.wsize||we!==se.avail_out&&de.mode<w&&(de.mode<te||ge!==u))&&ye(se,se.output,se.next_out,we-se.avail_out),ft-=se.avail_in,we-=se.avail_out,se.total_in+=ft,se.total_out+=we,de.total+=we,de.wrap&&we&&(se.adler=de.check=de.flags?r(de.check,qe,we,se.next_out-we):t(de.check,qe,we,se.next_out-we)),se.data_type=de.bits+(de.last?64:0)+(de.mode===Q?128:0)+(de.mode===he||de.mode===le?256:0),(ft===0&&we===0||ge===u)&&ct===d&&(ct=m),ct}function K(se){if(!se||!se.state)return _;var ge=se.state;return ge.window&&(ge.window=null),se.state=null,d}function _e(se,ge){var de;return!se||!se.state||(de=se.state,!(de.wrap&2))?_:(de.head=ge,ge.done=!1,d)}function Oe(se,ge){var de=ge.length,Re,qe,H;return!se||!se.state||(Re=se.state,Re.wrap!==0&&Re.mode!==q)?_:Re.mode===q&&(qe=1,qe=t(qe,ge,de,0),qe!==Re.check)?v:(H=ye(se,ge,de,de),H?(Re.mode=x,b):(Re.havedict=1,d))}return mi.inflateReset=xe,mi.inflateReset2=je,mi.inflateResetKeep=be,mi.inflateInit=Pe,mi.inflateInit2=Ae,mi.inflate=F,mi.inflateEnd=K,mi.inflateGetHeader=_e,mi.inflateSetDictionary=Oe,mi.inflateInfo="pako inflate (from Nodeca project)",mi}var Rv,KP;function aY(){return KP||(KP=1,Rv={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}),Rv}var ZP;function oY(){return ZP||(ZP=1,function(e){var t=Jm(),r=XZ(),n=tY(),a=iY(),i=aY();for(var o in i)e[o]=i[o];e.NONE=0,e.DEFLATE=1,e.INFLATE=2,e.GZIP=3,e.GUNZIP=4,e.DEFLATERAW=5,e.INFLATERAW=6,e.UNZIP=7;var s=31,u=139;function l(f){if(typeof f!="number"||f<e.DEFLATE||f>e.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=f,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}l.prototype.close=function(){if(this.write_in_progress){this.pending_close=!0;return}this.pending_close=!1,t(this.init_done,"close before init"),t(this.mode<=e.UNZIP),this.mode===e.DEFLATE||this.mode===e.GZIP||this.mode===e.DEFLATERAW?n.deflateEnd(this.strm):(this.mode===e.INFLATE||this.mode===e.GUNZIP||this.mode===e.INFLATERAW||this.mode===e.UNZIP)&&a.inflateEnd(this.strm),this.mode=e.NONE,this.dictionary=null},l.prototype.write=function(f,d,c,p,_,v,b){return this._write(!0,f,d,c,p,_,v,b)},l.prototype.writeSync=function(f,d,c,p,_,v,b){return this._write(!1,f,d,c,p,_,v,b)},l.prototype._write=function(f,d,c,p,_,v,b,m){if(t.equal(arguments.length,8),t(this.init_done,"write before init"),t(this.mode!==e.NONE,"already finalized"),t.equal(!1,this.write_in_progress,"write already in progress"),t.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,t.equal(!1,d===void 0,"must provide flush value"),this.write_in_progress=!0,d!==e.Z_NO_FLUSH&&d!==e.Z_PARTIAL_FLUSH&&d!==e.Z_SYNC_FLUSH&&d!==e.Z_FULL_FLUSH&&d!==e.Z_FINISH&&d!==e.Z_BLOCK)throw new Error("Invalid flush value");if(c==null&&(c=Jn.alloc(0),_=0,p=0),this.strm.avail_in=_,this.strm.input=c,this.strm.next_in=p,this.strm.avail_out=m,this.strm.output=v,this.strm.next_out=b,this.flush=d,!f)return this._process(),this._checkError()?this._afterSync():void 0;var y=this;return ze.nextTick(function(){y._process(),y._after()}),this},l.prototype._afterSync=function(){var f=this.strm.avail_out,d=this.strm.avail_in;return this.write_in_progress=!1,[d,f]},l.prototype._process=function(){var f=null;switch(this.mode){case e.DEFLATE:case e.GZIP:case e.DEFLATERAW:this.err=n.deflate(this.strm,this.flush);break;case e.UNZIP:switch(this.strm.avail_in>0&&(f=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(f===null)break;if(this.strm.input[f]===s){if(this.gzip_id_bytes_read=1,f++,this.strm.avail_in===1)break}else{this.mode=e.INFLATE;break}case 1:if(f===null)break;this.strm.input[f]===u?(this.gzip_id_bytes_read=2,this.mode=e.GUNZIP):this.mode=e.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case e.INFLATE:case e.GUNZIP:case e.INFLATERAW:for(this.err=a.inflate(this.strm,this.flush),this.err===e.Z_NEED_DICT&&this.dictionary&&(this.err=a.inflateSetDictionary(this.strm,this.dictionary),this.err===e.Z_OK?this.err=a.inflate(this.strm,this.flush):this.err===e.Z_DATA_ERROR&&(this.err=e.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===e.GUNZIP&&this.err===e.Z_STREAM_END&&this.strm.next_in[0]!==0;)this.reset(),this.err=a.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},l.prototype._checkError=function(){switch(this.err){case e.Z_OK:case e.Z_BUF_ERROR:if(this.strm.avail_out!==0&&this.flush===e.Z_FINISH)return this._error("unexpected end of file"),!1;break;case e.Z_STREAM_END:break;case e.Z_NEED_DICT:return this.dictionary==null?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},l.prototype._after=function(){if(this._checkError()){var f=this.strm.avail_out,d=this.strm.avail_in;this.write_in_progress=!1,this.callback(d,f),this.pending_close&&this.close()}},l.prototype._error=function(f){this.strm.msg&&(f=this.strm.msg),this.onerror(f,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},l.prototype.init=function(f,d,c,p,_){t(arguments.length===4||arguments.length===5,"init(windowBits, level, memLevel, strategy, [dictionary])"),t(f>=8&&f<=15,"invalid windowBits"),t(d>=-1&&d<=9,"invalid compression level"),t(c>=1&&c<=9,"invalid memlevel"),t(p===e.Z_FILTERED||p===e.Z_HUFFMAN_ONLY||p===e.Z_RLE||p===e.Z_FIXED||p===e.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(d,f,c,p,_),this._setDictionary()},l.prototype.params=function(){throw new Error("deflateParams Not supported")},l.prototype.reset=function(){this._reset(),this._setDictionary()},l.prototype._init=function(f,d,c,p,_){switch(this.level=f,this.windowBits=d,this.memLevel=c,this.strategy=p,this.flush=e.Z_NO_FLUSH,this.err=e.Z_OK,(this.mode===e.GZIP||this.mode===e.GUNZIP)&&(this.windowBits+=16),this.mode===e.UNZIP&&(this.windowBits+=32),(this.mode===e.DEFLATERAW||this.mode===e.INFLATERAW)&&(this.windowBits=-1*this.windowBits),this.strm=new r,this.mode){case e.DEFLATE:case e.GZIP:case e.DEFLATERAW:this.err=n.deflateInit2(this.strm,this.level,e.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case e.INFLATE:case e.GUNZIP:case e.INFLATERAW:case e.UNZIP:this.err=a.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==e.Z_OK&&this._error("Init error"),this.dictionary=_,this.write_in_progress=!1,this.init_done=!0},l.prototype._setDictionary=function(){if(this.dictionary!=null){switch(this.err=e.Z_OK,this.mode){case e.DEFLATE:case e.DEFLATERAW:this.err=n.deflateSetDictionary(this.strm,this.dictionary);break}this.err!==e.Z_OK&&this._error("Failed to set dictionary")}},l.prototype._reset=function(){switch(this.err=e.Z_OK,this.mode){case e.DEFLATE:case e.DEFLATERAW:case e.GZIP:this.err=n.deflateReset(this.strm);break;case e.INFLATE:case e.INFLATERAW:case e.GUNZIP:this.err=a.inflateReset(this.strm);break}this.err!==e.Z_OK&&this._error("Failed to reset stream")},e.Zlib=l}(Jb)),Jb}var YP;function sY(){return YP||(YP=1,function(e){var t=Tr().Buffer,r=$Z().Transform,n=oY(),a=Pr(),i=Jm().ok,o=Tr().kMaxLength,s="Cannot create final Buffer. It would be larger than 0x"+o.toString(16)+" bytes";n.Z_MIN_WINDOWBITS=8,n.Z_MAX_WINDOWBITS=15,n.Z_DEFAULT_WINDOWBITS=15,n.Z_MIN_CHUNK=64,n.Z_MAX_CHUNK=1/0,n.Z_DEFAULT_CHUNK=16*1024,n.Z_MIN_MEMLEVEL=1,n.Z_MAX_MEMLEVEL=9,n.Z_DEFAULT_MEMLEVEL=8,n.Z_MIN_LEVEL=-1,n.Z_MAX_LEVEL=9,n.Z_DEFAULT_LEVEL=n.Z_DEFAULT_COMPRESSION;for(var u=Object.keys(n),l=0;l<u.length;l++){var f=u[l];f.match(/^Z/)&&Object.defineProperty(e,f,{enumerable:!0,value:n[f],writable:!1})}for(var d={Z_OK:n.Z_OK,Z_STREAM_END:n.Z_STREAM_END,Z_NEED_DICT:n.Z_NEED_DICT,Z_ERRNO:n.Z_ERRNO,Z_STREAM_ERROR:n.Z_STREAM_ERROR,Z_DATA_ERROR:n.Z_DATA_ERROR,Z_MEM_ERROR:n.Z_MEM_ERROR,Z_BUF_ERROR:n.Z_BUF_ERROR,Z_VERSION_ERROR:n.Z_VERSION_ERROR},c=Object.keys(d),p=0;p<c.length;p++){var _=c[p];d[d[_]]=_}Object.defineProperty(e,"codes",{enumerable:!0,value:Object.freeze(d),writable:!1}),e.Deflate=m,e.Inflate=y,e.Gzip=g,e.Gunzip=S,e.DeflateRaw=T,e.InflateRaw=I,e.Unzip=C,e.createDeflate=function(O){return new m(O)},e.createInflate=function(O){return new y(O)},e.createDeflateRaw=function(O){return new T(O)},e.createInflateRaw=function(O){return new I(O)},e.createGzip=function(O){return new g(O)},e.createGunzip=function(O){return new S(O)},e.createUnzip=function(O){return new C(O)},e.deflate=function(O,q,Q){return typeof q=="function"&&(Q=q,q={}),v(new m(q),O,Q)},e.deflateSync=function(O,q){return b(new m(q),O)},e.gzip=function(O,q,Q){return typeof q=="function"&&(Q=q,q={}),v(new g(q),O,Q)},e.gzipSync=function(O,q){return b(new g(q),O)},e.deflateRaw=function(O,q,Q){return typeof q=="function"&&(Q=q,q={}),v(new T(q),O,Q)},e.deflateRawSync=function(O,q){return b(new T(q),O)},e.unzip=function(O,q,Q){return typeof q=="function"&&(Q=q,q={}),v(new C(q),O,Q)},e.unzipSync=function(O,q){return b(new C(q),O)},e.inflate=function(O,q,Q){return typeof q=="function"&&(Q=q,q={}),v(new y(q),O,Q)},e.inflateSync=function(O,q){return b(new y(q),O)},e.gunzip=function(O,q,Q){return typeof q=="function"&&(Q=q,q={}),v(new S(q),O,Q)},e.gunzipSync=function(O,q){return b(new S(q),O)},e.inflateRaw=function(O,q,Q){return typeof q=="function"&&(Q=q,q={}),v(new I(q),O,Q)},e.inflateRawSync=function(O,q){return b(new I(q),O)};function v(O,q,Q){var ie=[],X=0;O.on("error",ae),O.on("end",ne),O.end(q),le();function le(){for(var V;(V=O.read())!==null;)ie.push(V),X+=V.length;O.once("readable",le)}function ae(V){O.removeListener("end",ne),O.removeListener("readable",le),Q(V)}function ne(){var V,oe=null;X>=o?oe=new RangeError(s):V=t.concat(ie,X),ie=[],O.close(),Q(oe,V)}}function b(O,q){if(typeof q=="string"&&(q=t.from(q)),!t.isBuffer(q))throw new TypeError("Not a string or buffer");var Q=O._finishFlushFlag;return O._processChunk(q,Q)}function m(O){if(!(this instanceof m))return new m(O);D.call(this,O,n.DEFLATE)}function y(O){if(!(this instanceof y))return new y(O);D.call(this,O,n.INFLATE)}function g(O){if(!(this instanceof g))return new g(O);D.call(this,O,n.GZIP)}function S(O){if(!(this instanceof S))return new S(O);D.call(this,O,n.GUNZIP)}function T(O){if(!(this instanceof T))return new T(O);D.call(this,O,n.DEFLATERAW)}function I(O){if(!(this instanceof I))return new I(O);D.call(this,O,n.INFLATERAW)}function C(O){if(!(this instanceof C))return new C(O);D.call(this,O,n.UNZIP)}function B(O){return O===n.Z_NO_FLUSH||O===n.Z_PARTIAL_FLUSH||O===n.Z_SYNC_FLUSH||O===n.Z_FULL_FLUSH||O===n.Z_FINISH||O===n.Z_BLOCK}function D(O,q){var Q=this;if(this._opts=O=O||{},this._chunkSize=O.chunkSize||e.Z_DEFAULT_CHUNK,r.call(this,O),O.flush&&!B(O.flush))throw new Error("Invalid flush flag: "+O.flush);if(O.finishFlush&&!B(O.finishFlush))throw new Error("Invalid flush flag: "+O.finishFlush);if(this._flushFlag=O.flush||n.Z_NO_FLUSH,this._finishFlushFlag=typeof O.finishFlush<"u"?O.finishFlush:n.Z_FINISH,O.chunkSize&&(O.chunkSize<e.Z_MIN_CHUNK||O.chunkSize>e.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+O.chunkSize);if(O.windowBits&&(O.windowBits<e.Z_MIN_WINDOWBITS||O.windowBits>e.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+O.windowBits);if(O.level&&(O.level<e.Z_MIN_LEVEL||O.level>e.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+O.level);if(O.memLevel&&(O.memLevel<e.Z_MIN_MEMLEVEL||O.memLevel>e.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+O.memLevel);if(O.strategy&&O.strategy!=e.Z_FILTERED&&O.strategy!=e.Z_HUFFMAN_ONLY&&O.strategy!=e.Z_RLE&&O.strategy!=e.Z_FIXED&&O.strategy!=e.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+O.strategy);if(O.dictionary&&!t.isBuffer(O.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new n.Zlib(q);var ie=this;this._hadError=!1,this._handle.onerror=function(ae,ne){M(ie),ie._hadError=!0;var V=new Error(ae);V.errno=ne,V.code=e.codes[ne],ie.emit("error",V)};var X=e.Z_DEFAULT_COMPRESSION;typeof O.level=="number"&&(X=O.level);var le=e.Z_DEFAULT_STRATEGY;typeof O.strategy=="number"&&(le=O.strategy),this._handle.init(O.windowBits||e.Z_DEFAULT_WINDOWBITS,X,O.memLevel||e.Z_DEFAULT_MEMLEVEL,le,O.dictionary),this._buffer=t.allocUnsafe(this._chunkSize),this._offset=0,this._level=X,this._strategy=le,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!Q._handle},configurable:!0,enumerable:!0})}a.inherits(D,r),D.prototype.params=function(O,q,Q){if(O<e.Z_MIN_LEVEL||O>e.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+O);if(q!=e.Z_FILTERED&&q!=e.Z_HUFFMAN_ONLY&&q!=e.Z_RLE&&q!=e.Z_FIXED&&q!=e.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+q);if(this._level!==O||this._strategy!==q){var ie=this;this.flush(n.Z_SYNC_FLUSH,function(){i(ie._handle,"zlib binding closed"),ie._handle.params(O,q),ie._hadError||(ie._level=O,ie._strategy=q,Q&&Q())})}else ze.nextTick(Q)},D.prototype.reset=function(){return i(this._handle,"zlib binding closed"),this._handle.reset()},D.prototype._flush=function(O){this._transform(t.alloc(0),"",O)},D.prototype.flush=function(O,q){var Q=this,ie=this._writableState;(typeof O=="function"||O===void 0&&!q)&&(q=O,O=n.Z_FULL_FLUSH),ie.ended?q&&ze.nextTick(q):ie.ending?q&&this.once("end",q):ie.needDrain?q&&this.once("drain",function(){return Q.flush(O,q)}):(this._flushFlag=O,this.write(t.alloc(0),"",q))},D.prototype.close=function(O){M(this,O),ze.nextTick(j,this)};function M(O,q){q&&ze.nextTick(q),O._handle&&(O._handle.close(),O._handle=null)}function j(O){O.emit("close")}D.prototype._transform=function(O,q,Q){var ie,X=this._writableState,le=X.ending||X.ended,ae=le&&(!O||X.length===O.length);if(O!==null&&!t.isBuffer(O))return Q(new Error("invalid input"));if(!this._handle)return Q(new Error("zlib binding closed"));ae?ie=this._finishFlushFlag:(ie=this._flushFlag,O.length>=X.length&&(this._flushFlag=this._opts.flush||n.Z_NO_FLUSH)),this._processChunk(O,ie,Q)},D.prototype._processChunk=function(O,q,Q){var ie=O&&O.length,X=this._chunkSize-this._offset,le=0,ae=this,ne=typeof Q=="function";if(!ne){var V=[],oe=0,he;this.on("error",function(A){he=A}),i(this._handle,"zlib binding closed");do var Y=this._handle.writeSync(q,O,le,ie,this._buffer,this._offset,X);while(!this._hadError&&P(Y[0],Y[1]));if(this._hadError)throw he;if(oe>=o)throw M(this),new RangeError(s);var Z=t.concat(V,oe);return M(this),Z}i(this._handle,"zlib binding closed");var ee=this._handle.write(q,O,le,ie,this._buffer,this._offset,X);ee.buffer=O,ee.callback=P;function P(A,$){if(this&&(this.buffer=null,this.callback=null),!ae._hadError){var te=X-$;if(i(te>=0,"have should not go down"),te>0){var pe=ae._buffer.slice(ae._offset,ae._offset+te);ae._offset+=te,ne?ae.push(pe):(V.push(pe),oe+=pe.length)}if(($===0||ae._offset>=ae._chunkSize)&&(X=ae._chunkSize,ae._offset=0,ae._buffer=t.allocUnsafe(ae._chunkSize)),$===0){if(le+=ie-A,ie=A,!ne)return!0;var R=ae._handle.write(q,O,le,ie,ae._buffer,ae._offset,ae._chunkSize);R.callback=P,R.buffer=O;return}if(!ne)return!1;Q()}}},a.inherits(m,D),a.inherits(y,D),a.inherits(g,D),a.inherits(S,D),a.inherits(T,D),a.inherits(I,D),a.inherits(C,D)}(Fb)),Fb}var pm={exports:{}},Av,QP;function m4(){return QP||(QP=1,Av=Qn().EventEmitter),Av}var Iv,XP;function uY(){if(XP)return Iv;XP=1;function e(_,v){var b=Object.keys(_);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(_);v&&(m=m.filter(function(y){return Object.getOwnPropertyDescriptor(_,y).enumerable})),b.push.apply(b,m)}return b}function t(_){for(var v=1;v<arguments.length;v++){var b=arguments[v]!=null?arguments[v]:{};v%2?e(Object(b),!0).forEach(function(m){r(_,m,b[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(b)):e(Object(b)).forEach(function(m){Object.defineProperty(_,m,Object.getOwnPropertyDescriptor(b,m))})}return _}function r(_,v,b){return v=o(v),v in _?Object.defineProperty(_,v,{value:b,enumerable:!0,configurable:!0,writable:!0}):_[v]=b,_}function n(_,v){if(!(_ instanceof v))throw new TypeError("Cannot call a class as a function")}function a(_,v){for(var b=0;b<v.length;b++){var m=v[b];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(_,o(m.key),m)}}function i(_,v,b){return a(_.prototype,v),Object.defineProperty(_,"prototype",{writable:!1}),_}function o(_){var v=s(_,"string");return typeof v=="symbol"?v:String(v)}function s(_,v){if(typeof _!="object"||_===null)return _;var b=_[Symbol.toPrimitive];if(b!==void 0){var m=b.call(_,v);if(typeof m!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(_)}var u=Tr(),l=u.Buffer,f=Pr(),d=f.inspect,c=d&&d.custom||"inspect";function p(_,v,b){l.prototype.copy.call(_,v,b)}return Iv=function(){function _(){n(this,_),this.head=null,this.tail=null,this.length=0}return i(_,[{key:"push",value:function(b){var m={data:b,next:null};this.length>0?this.tail.next=m:this.head=m,this.tail=m,++this.length}},{key:"unshift",value:function(b){var m={data:b,next:this.head};this.length===0&&(this.tail=m),this.head=m,++this.length}},{key:"shift",value:function(){if(this.length!==0){var b=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,b}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(b){if(this.length===0)return"";for(var m=this.head,y=""+m.data;m=m.next;)y+=b+m.data;return y}},{key:"concat",value:function(b){if(this.length===0)return l.alloc(0);for(var m=l.allocUnsafe(b>>>0),y=this.head,g=0;y;)p(y.data,m,g),g+=y.data.length,y=y.next;return m}},{key:"consume",value:function(b,m){var y;return b<this.head.data.length?(y=this.head.data.slice(0,b),this.head.data=this.head.data.slice(b)):b===this.head.data.length?y=this.shift():y=m?this._getString(b):this._getBuffer(b),y}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(b){var m=this.head,y=1,g=m.data;for(b-=g.length;m=m.next;){var S=m.data,T=b>S.length?S.length:b;if(T===S.length?g+=S:g+=S.slice(0,b),b-=T,b===0){T===S.length?(++y,m.next?this.head=m.next:this.head=this.tail=null):(this.head=m,m.data=S.slice(T));break}++y}return this.length-=y,g}},{key:"_getBuffer",value:function(b){var m=l.allocUnsafe(b),y=this.head,g=1;for(y.data.copy(m),b-=y.data.length;y=y.next;){var S=y.data,T=b>S.length?S.length:b;if(S.copy(m,m.length-b,0,T),b-=T,b===0){T===S.length?(++g,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=S.slice(T));break}++g}return this.length-=g,m}},{key:c,value:function(b,m){return d(this,t(t({},m),{},{depth:0,customInspect:!1}))}}]),_}(),Iv}var Ov,JP;function y4(){if(JP)return Ov;JP=1;function e(o,s){var u=this,l=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return l||f?(s?s(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,ze.nextTick(a,this,o)):ze.nextTick(a,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(d){!s&&d?u._writableState?u._writableState.errorEmitted?ze.nextTick(r,u):(u._writableState.errorEmitted=!0,ze.nextTick(t,u,d)):ze.nextTick(t,u,d):s?(ze.nextTick(r,u),s(d)):ze.nextTick(r,u)}),this)}function t(o,s){a(o,s),r(o)}function r(o){o._writableState&&!o._writableState.emitClose||o._readableState&&!o._readableState.emitClose||o.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function a(o,s){o.emit("error",s)}function i(o,s){var u=o._readableState,l=o._writableState;u&&u.autoDestroy||l&&l.autoDestroy?o.destroy(s):o.emit("error",s)}return Ov={destroy:e,undestroy:n,errorOrDestroy:i},Ov}var Pv={},eC;function hl(){if(eC)return Pv;eC=1;function e(s,u){s.prototype=Object.create(u.prototype),s.prototype.constructor=s,s.__proto__=u}var t={};function r(s,u,l){l||(l=Error);function f(c,p,_){return typeof u=="string"?u:u(c,p,_)}var d=function(c){e(p,c);function p(_,v,b){return c.call(this,f(_,v,b))||this}return p}(l);d.prototype.name=l.name,d.prototype.code=s,t[s]=d}function n(s,u){if(Array.isArray(s)){var l=s.length;return s=s.map(function(f){return String(f)}),l>2?"one of ".concat(u," ").concat(s.slice(0,l-1).join(", "),", or ")+s[l-1]:l===2?"one of ".concat(u," ").concat(s[0]," or ").concat(s[1]):"of ".concat(u," ").concat(s[0])}else return"of ".concat(u," ").concat(String(s))}function a(s,u,l){return s.substr(0,u.length)===u}function i(s,u,l){return(l===void 0||l>s.length)&&(l=s.length),s.substring(l-u.length,l)===u}function o(s,u,l){return typeof l!="number"&&(l=0),l+u.length>s.length?!1:s.indexOf(u,l)!==-1}return r("ERR_INVALID_OPT_VALUE",function(s,u){return'The value "'+u+'" is invalid for option "'+s+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(s,u,l){var f;typeof u=="string"&&a(u,"not ")?(f="must not be",u=u.replace(/^not /,"")):f="must be";var d;if(i(s," argument"))d="The ".concat(s," ").concat(f," ").concat(n(u,"type"));else{var c=o(s,".")?"property":"argument";d='The "'.concat(s,'" ').concat(c," ").concat(f," ").concat(n(u,"type"))}return d+=". Received type ".concat(typeof l),d},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(s){return"The "+s+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(s){return"Cannot call "+s+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(s){return"Unknown encoding: "+s},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Pv.codes=t,Pv}var Cv,tC;function g4(){if(tC)return Cv;tC=1;var e=hl().codes.ERR_INVALID_OPT_VALUE;function t(n,a,i){return n.highWaterMark!=null?n.highWaterMark:a?n[i]:null}function r(n,a,i,o){var s=t(a,o,i);if(s!=null){if(!(isFinite(s)&&Math.floor(s)===s)||s<0){var u=o?i:"highWaterMark";throw new e(u,s)}return Math.floor(s)}return n.objectMode?16:16*1024}return Cv={getHighWaterMark:r},Cv}var Lv,rC;function _4(){if(rC)return Lv;rC=1,Lv=B;function e(P){var A=this;this.next=null,this.entry=null,this.finish=function(){ee(A,P)}}var t;B.WritableState=I;var r={deprecate:k0()},n=m4(),a=Tr().Buffer,i=(typeof xt<"u"?xt:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function o(P){return a.from(P)}function s(P){return a.isBuffer(P)||P instanceof i}var u=y4(),l=g4(),f=l.getHighWaterMark,d=hl().codes,c=d.ERR_INVALID_ARG_TYPE,p=d.ERR_METHOD_NOT_IMPLEMENTED,_=d.ERR_MULTIPLE_CALLBACK,v=d.ERR_STREAM_CANNOT_PIPE,b=d.ERR_STREAM_DESTROYED,m=d.ERR_STREAM_NULL_VALUES,y=d.ERR_STREAM_WRITE_AFTER_END,g=d.ERR_UNKNOWN_ENCODING,S=u.errorOrDestroy;Cr()(B,n);function T(){}function I(P,A,$){t=t||zu(),P=P||{},typeof $!="boolean"&&($=A instanceof t),this.objectMode=!!P.objectMode,$&&(this.objectMode=this.objectMode||!!P.writableObjectMode),this.highWaterMark=f(this,P,"writableHighWaterMark",$),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var te=P.decodeStrings===!1;this.decodeStrings=!te,this.defaultEncoding=P.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(pe){X(A,pe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=P.emitClose!==!1,this.autoDestroy=!!P.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}I.prototype.getBuffer=function(){for(var A=this.bufferedRequest,$=[];A;)$.push(A),A=A.next;return $},function(){try{Object.defineProperty(I.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var C;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(C=Function.prototype[Symbol.hasInstance],Object.defineProperty(B,Symbol.hasInstance,{value:function(A){return C.call(this,A)?!0:this!==B?!1:A&&A._writableState instanceof I}})):C=function(A){return A instanceof this};function B(P){t=t||zu();var A=this instanceof t;if(!A&&!C.call(B,this))return new B(P);this._writableState=new I(P,this,A),this.writable=!0,P&&(typeof P.write=="function"&&(this._write=P.write),typeof P.writev=="function"&&(this._writev=P.writev),typeof P.destroy=="function"&&(this._destroy=P.destroy),typeof P.final=="function"&&(this._final=P.final)),n.call(this)}B.prototype.pipe=function(){S(this,new v)};function D(P,A){var $=new y;S(P,$),ze.nextTick(A,$)}function M(P,A,$,te){var pe;return $===null?pe=new m:typeof $!="string"&&!A.objectMode&&(pe=new c("chunk",["string","Buffer"],$)),pe?(S(P,pe),ze.nextTick(te,pe),!1):!0}B.prototype.write=function(P,A,$){var te=this._writableState,pe=!1,R=!te.objectMode&&s(P);return R&&!a.isBuffer(P)&&(P=o(P)),typeof A=="function"&&($=A,A=null),R?A="buffer":A||(A=te.defaultEncoding),typeof $!="function"&&($=T),te.ending?D(this,$):(R||M(this,te,P,$))&&(te.pendingcb++,pe=O(this,te,R,P,A,$)),pe},B.prototype.cork=function(){this._writableState.corked++},B.prototype.uncork=function(){var P=this._writableState;P.corked&&(P.corked--,!P.writing&&!P.corked&&!P.bufferProcessing&&P.bufferedRequest&&ne(this,P))},B.prototype.setDefaultEncoding=function(A){if(typeof A=="string"&&(A=A.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((A+"").toLowerCase())>-1))throw new g(A);return this._writableState.defaultEncoding=A,this},Object.defineProperty(B.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function j(P,A,$){return!P.objectMode&&P.decodeStrings!==!1&&typeof A=="string"&&(A=a.from(A,$)),A}Object.defineProperty(B.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function O(P,A,$,te,pe,R){if(!$){var w=j(A,te,pe);te!==w&&($=!0,pe="buffer",te=w)}var x=A.objectMode?1:te.length;A.length+=x;var k=A.length<A.highWaterMark;if(k||(A.needDrain=!0),A.writing||A.corked){var U=A.lastBufferedRequest;A.lastBufferedRequest={chunk:te,encoding:pe,isBuf:$,callback:R,next:null},U?U.next=A.lastBufferedRequest:A.bufferedRequest=A.lastBufferedRequest,A.bufferedRequestCount+=1}else q(P,A,!1,x,te,pe,R);return k}function q(P,A,$,te,pe,R,w){A.writelen=te,A.writecb=w,A.writing=!0,A.sync=!0,A.destroyed?A.onwrite(new b("write")):$?P._writev(pe,A.onwrite):P._write(pe,R,A.onwrite),A.sync=!1}function Q(P,A,$,te,pe){--A.pendingcb,$?(ze.nextTick(pe,te),ze.nextTick(Y,P,A),P._writableState.errorEmitted=!0,S(P,te)):(pe(te),P._writableState.errorEmitted=!0,S(P,te),Y(P,A))}function ie(P){P.writing=!1,P.writecb=null,P.length-=P.writelen,P.writelen=0}function X(P,A){var $=P._writableState,te=$.sync,pe=$.writecb;if(typeof pe!="function")throw new _;if(ie($),A)Q(P,$,te,A,pe);else{var R=V($)||P.destroyed;!R&&!$.corked&&!$.bufferProcessing&&$.bufferedRequest&&ne(P,$),te?ze.nextTick(le,P,$,R,pe):le(P,$,R,pe)}}function le(P,A,$,te){$||ae(P,A),A.pendingcb--,te(),Y(P,A)}function ae(P,A){A.length===0&&A.needDrain&&(A.needDrain=!1,P.emit("drain"))}function ne(P,A){A.bufferProcessing=!0;var $=A.bufferedRequest;if(P._writev&&$&&$.next){var te=A.bufferedRequestCount,pe=new Array(te),R=A.corkedRequestsFree;R.entry=$;for(var w=0,x=!0;$;)pe[w]=$,$.isBuf||(x=!1),$=$.next,w+=1;pe.allBuffers=x,q(P,A,!0,A.length,pe,"",R.finish),A.pendingcb++,A.lastBufferedRequest=null,R.next?(A.corkedRequestsFree=R.next,R.next=null):A.corkedRequestsFree=new e(A),A.bufferedRequestCount=0}else{for(;$;){var k=$.chunk,U=$.encoding,re=$.callback,fe=A.objectMode?1:k.length;if(q(P,A,!1,fe,k,U,re),$=$.next,A.bufferedRequestCount--,A.writing)break}$===null&&(A.lastBufferedRequest=null)}A.bufferedRequest=$,A.bufferProcessing=!1}B.prototype._write=function(P,A,$){$(new p("_write()"))},B.prototype._writev=null,B.prototype.end=function(P,A,$){var te=this._writableState;return typeof P=="function"?($=P,P=null,A=null):typeof A=="function"&&($=A,A=null),P!=null&&this.write(P,A),te.corked&&(te.corked=1,this.uncork()),te.ending||Z(this,te,$),this},Object.defineProperty(B.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function V(P){return P.ending&&P.length===0&&P.bufferedRequest===null&&!P.finished&&!P.writing}function oe(P,A){P._final(function($){A.pendingcb--,$&&S(P,$),A.prefinished=!0,P.emit("prefinish"),Y(P,A)})}function he(P,A){!A.prefinished&&!A.finalCalled&&(typeof P._final=="function"&&!A.destroyed?(A.pendingcb++,A.finalCalled=!0,ze.nextTick(oe,P,A)):(A.prefinished=!0,P.emit("prefinish")))}function Y(P,A){var $=V(A);if($&&(he(P,A),A.pendingcb===0&&(A.finished=!0,P.emit("finish"),A.autoDestroy))){var te=P._readableState;(!te||te.autoDestroy&&te.endEmitted)&&P.destroy()}return $}function Z(P,A,$){A.ending=!0,Y(P,A),$&&(A.finished?ze.nextTick($):P.once("finish",$)),A.ended=!0,P.writable=!1}function ee(P,A,$){var te=P.entry;for(P.entry=null;te;){var pe=te.callback;A.pendingcb--,pe($),te=te.next}A.corkedRequestsFree.next=P}return Object.defineProperty(B.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(A){this._writableState&&(this._writableState.destroyed=A)}}),B.prototype.destroy=u.destroy,B.prototype._undestroy=u.undestroy,B.prototype._destroy=function(P,A){A(P)},Lv}var Dv,nC;function zu(){if(nC)return Dv;nC=1;var e=Object.keys||function(l){var f=[];for(var d in l)f.push(d);return f};Dv=o;var t=b4(),r=_4();Cr()(o,t);for(var n=e(r.prototype),a=0;a<n.length;a++){var i=n[a];o.prototype[i]||(o.prototype[i]=r.prototype[i])}function o(l){if(!(this instanceof o))return new o(l);t.call(this,l),r.call(this,l),this.allowHalfOpen=!0,l&&(l.readable===!1&&(this.readable=!1),l.writable===!1&&(this.writable=!1),l.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",s)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function s(){this._writableState.ended||ze.nextTick(u,this)}function u(l){l.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(f){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=f,this._writableState.destroyed=f)}}),Dv}var Nv,iC;function YE(){if(iC)return Nv;iC=1;var e=hl().codes.ERR_STREAM_PREMATURE_CLOSE;function t(i){var o=!1;return function(){if(!o){o=!0;for(var s=arguments.length,u=new Array(s),l=0;l<s;l++)u[l]=arguments[l];i.apply(this,u)}}}function r(){}function n(i){return i.setHeader&&typeof i.abort=="function"}function a(i,o,s){if(typeof o=="function")return a(i,null,o);o||(o={}),s=t(s||r);var u=o.readable||o.readable!==!1&&i.readable,l=o.writable||o.writable!==!1&&i.writable,f=function(){i.writable||c()},d=i._writableState&&i._writableState.finished,c=function(){l=!1,d=!0,u||s.call(i)},p=i._readableState&&i._readableState.endEmitted,_=function(){u=!1,p=!0,l||s.call(i)},v=function(g){s.call(i,g)},b=function(){var g;if(u&&!p)return(!i._readableState||!i._readableState.ended)&&(g=new e),s.call(i,g);if(l&&!d)return(!i._writableState||!i._writableState.ended)&&(g=new e),s.call(i,g)},m=function(){i.req.on("finish",c)};return n(i)?(i.on("complete",c),i.on("abort",b),i.req?m():i.on("request",m)):l&&!i._writableState&&(i.on("end",f),i.on("close",f)),i.on("end",_),i.on("finish",c),o.error!==!1&&i.on("error",v),i.on("close",b),function(){i.removeListener("complete",c),i.removeListener("abort",b),i.removeListener("request",m),i.req&&i.req.removeListener("finish",c),i.removeListener("end",f),i.removeListener("close",f),i.removeListener("finish",c),i.removeListener("end",_),i.removeListener("error",v),i.removeListener("close",b)}}return Nv=a,Nv}var Mv,aC;function lY(){if(aC)return Mv;aC=1;var e;function t(g,S,T){return S=r(S),S in g?Object.defineProperty(g,S,{value:T,enumerable:!0,configurable:!0,writable:!0}):g[S]=T,g}function r(g){var S=n(g,"string");return typeof S=="symbol"?S:String(S)}function n(g,S){if(typeof g!="object"||g===null)return g;var T=g[Symbol.toPrimitive];if(T!==void 0){var I=T.call(g,S||"default");if(typeof I!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(g)}var a=YE(),i=Symbol("lastResolve"),o=Symbol("lastReject"),s=Symbol("error"),u=Symbol("ended"),l=Symbol("lastPromise"),f=Symbol("handlePromise"),d=Symbol("stream");function c(g,S){return{value:g,done:S}}function p(g){var S=g[i];if(S!==null){var T=g[d].read();T!==null&&(g[l]=null,g[i]=null,g[o]=null,S(c(T,!1)))}}function _(g){ze.nextTick(p,g)}function v(g,S){return function(T,I){g.then(function(){if(S[u]){T(c(void 0,!0));return}S[f](T,I)},I)}}var b=Object.getPrototypeOf(function(){}),m=Object.setPrototypeOf((e={get stream(){return this[d]},next:function(){var S=this,T=this[s];if(T!==null)return Promise.reject(T);if(this[u])return Promise.resolve(c(void 0,!0));if(this[d].destroyed)return new Promise(function(D,M){ze.nextTick(function(){S[s]?M(S[s]):D(c(void 0,!0))})});var I=this[l],C;if(I)C=new Promise(v(I,this));else{var B=this[d].read();if(B!==null)return Promise.resolve(c(B,!1));C=new Promise(this[f])}return this[l]=C,C}},t(e,Symbol.asyncIterator,function(){return this}),t(e,"return",function(){var S=this;return new Promise(function(T,I){S[d].destroy(null,function(C){if(C){I(C);return}T(c(void 0,!0))})})}),e),b),y=function(S){var T,I=Object.create(m,(T={},t(T,d,{value:S,writable:!0}),t(T,i,{value:null,writable:!0}),t(T,o,{value:null,writable:!0}),t(T,s,{value:null,writable:!0}),t(T,u,{value:S._readableState.endEmitted,writable:!0}),t(T,f,{value:function(B,D){var M=I[d].read();M?(I[l]=null,I[i]=null,I[o]=null,B(c(M,!1))):(I[i]=B,I[o]=D)},writable:!0}),T));return I[l]=null,a(S,function(C){if(C&&C.code!=="ERR_STREAM_PREMATURE_CLOSE"){var B=I[o];B!==null&&(I[l]=null,I[i]=null,I[o]=null,B(C)),I[s]=C;return}var D=I[i];D!==null&&(I[l]=null,I[i]=null,I[o]=null,D(c(void 0,!0))),I[u]=!0}),S.on("readable",_.bind(null,I)),I};return Mv=y,Mv}var kv,oC;function fY(){return oC||(oC=1,kv=function(){throw new Error("Readable.from is not available in the browser")}),kv}var Fv,sC;function b4(){if(sC)return Fv;sC=1,Fv=D;var e;D.ReadableState=B,Qn().EventEmitter;var t=function(w,x){return w.listeners(x).length},r=m4(),n=Tr().Buffer,a=(typeof xt<"u"?xt:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function i(R){return n.from(R)}function o(R){return n.isBuffer(R)||R instanceof a}var s=Pr(),u;s&&s.debuglog?u=s.debuglog("stream"):u=function(){};var l=uY(),f=y4(),d=g4(),c=d.getHighWaterMark,p=hl().codes,_=p.ERR_INVALID_ARG_TYPE,v=p.ERR_STREAM_PUSH_AFTER_EOF,b=p.ERR_METHOD_NOT_IMPLEMENTED,m=p.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,y,g,S;Cr()(D,r);var T=f.errorOrDestroy,I=["error","close","destroy","pause","resume"];function C(R,w,x){if(typeof R.prependListener=="function")return R.prependListener(w,x);!R._events||!R._events[w]?R.on(w,x):Array.isArray(R._events[w])?R._events[w].unshift(x):R._events[w]=[x,R._events[w]]}function B(R,w,x){e=e||zu(),R=R||{},typeof x!="boolean"&&(x=w instanceof e),this.objectMode=!!R.objectMode,x&&(this.objectMode=this.objectMode||!!R.readableObjectMode),this.highWaterMark=c(this,R,"readableHighWaterMark",x),this.buffer=new l,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=R.emitClose!==!1,this.autoDestroy=!!R.autoDestroy,this.destroyed=!1,this.defaultEncoding=R.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,R.encoding&&(y||(y=va().StringDecoder),this.decoder=new y(R.encoding),this.encoding=R.encoding)}function D(R){if(e=e||zu(),!(this instanceof D))return new D(R);var w=this instanceof e;this._readableState=new B(R,this,w),this.readable=!0,R&&(typeof R.read=="function"&&(this._read=R.read),typeof R.destroy=="function"&&(this._destroy=R.destroy)),r.call(this)}Object.defineProperty(D.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(w){this._readableState&&(this._readableState.destroyed=w)}}),D.prototype.destroy=f.destroy,D.prototype._undestroy=f.undestroy,D.prototype._destroy=function(R,w){w(R)},D.prototype.push=function(R,w){var x=this._readableState,k;return x.objectMode?k=!0:typeof R=="string"&&(w=w||x.defaultEncoding,w!==x.encoding&&(R=n.from(R,w),w=""),k=!0),M(this,R,w,!1,k)},D.prototype.unshift=function(R){return M(this,R,null,!0,!1)};function M(R,w,x,k,U){u("readableAddChunk",w);var re=R._readableState;if(w===null)re.reading=!1,X(R,re);else{var fe;if(U||(fe=O(re,w)),fe)T(R,fe);else if(re.objectMode||w&&w.length>0)if(typeof w!="string"&&!re.objectMode&&Object.getPrototypeOf(w)!==n.prototype&&(w=i(w)),k)re.endEmitted?T(R,new m):j(R,re,w,!0);else if(re.ended)T(R,new v);else{if(re.destroyed)return!1;re.reading=!1,re.decoder&&!x?(w=re.decoder.write(w),re.objectMode||w.length!==0?j(R,re,w,!1):ne(R,re)):j(R,re,w,!1)}else k||(re.reading=!1,ne(R,re))}return!re.ended&&(re.length<re.highWaterMark||re.length===0)}function j(R,w,x,k){w.flowing&&w.length===0&&!w.sync?(w.awaitDrain=0,R.emit("data",x)):(w.length+=w.objectMode?1:x.length,k?w.buffer.unshift(x):w.buffer.push(x),w.needReadable&&le(R)),ne(R,w)}function O(R,w){var x;return!o(w)&&typeof w!="string"&&w!==void 0&&!R.objectMode&&(x=new _("chunk",["string","Buffer","Uint8Array"],w)),x}D.prototype.isPaused=function(){return this._readableState.flowing===!1},D.prototype.setEncoding=function(R){y||(y=va().StringDecoder);var w=new y(R);this._readableState.decoder=w,this._readableState.encoding=this._readableState.decoder.encoding;for(var x=this._readableState.buffer.head,k="";x!==null;)k+=w.write(x.data),x=x.next;return this._readableState.buffer.clear(),k!==""&&this._readableState.buffer.push(k),this._readableState.length=k.length,this};var q=1073741824;function Q(R){return R>=q?R=q:(R--,R|=R>>>1,R|=R>>>2,R|=R>>>4,R|=R>>>8,R|=R>>>16,R++),R}function ie(R,w){return R<=0||w.length===0&&w.ended?0:w.objectMode?1:R!==R?w.flowing&&w.length?w.buffer.head.data.length:w.length:(R>w.highWaterMark&&(w.highWaterMark=Q(R)),R<=w.length?R:w.ended?w.length:(w.needReadable=!0,0))}D.prototype.read=function(R){u("read",R),R=parseInt(R,10);var w=this._readableState,x=R;if(R!==0&&(w.emittedReadable=!1),R===0&&w.needReadable&&((w.highWaterMark!==0?w.length>=w.highWaterMark:w.length>0)||w.ended))return u("read: emitReadable",w.length,w.ended),w.length===0&&w.ended?$(this):le(this),null;if(R=ie(R,w),R===0&&w.ended)return w.length===0&&$(this),null;var k=w.needReadable;u("need readable",k),(w.length===0||w.length-R<w.highWaterMark)&&(k=!0,u("length less than watermark",k)),w.ended||w.reading?(k=!1,u("reading or ended",k)):k&&(u("do read"),w.reading=!0,w.sync=!0,w.length===0&&(w.needReadable=!0),this._read(w.highWaterMark),w.sync=!1,w.reading||(R=ie(x,w)));var U;return R>0?U=A(R,w):U=null,U===null?(w.needReadable=w.length<=w.highWaterMark,R=0):(w.length-=R,w.awaitDrain=0),w.length===0&&(w.ended||(w.needReadable=!0),x!==R&&w.ended&&$(this)),U!==null&&this.emit("data",U),U};function X(R,w){if(u("onEofChunk"),!w.ended){if(w.decoder){var x=w.decoder.end();x&&x.length&&(w.buffer.push(x),w.length+=w.objectMode?1:x.length)}w.ended=!0,w.sync?le(R):(w.needReadable=!1,w.emittedReadable||(w.emittedReadable=!0,ae(R)))}}function le(R){var w=R._readableState;u("emitReadable",w.needReadable,w.emittedReadable),w.needReadable=!1,w.emittedReadable||(u("emitReadable",w.flowing),w.emittedReadable=!0,ze.nextTick(ae,R))}function ae(R){var w=R._readableState;u("emitReadable_",w.destroyed,w.length,w.ended),!w.destroyed&&(w.length||w.ended)&&(R.emit("readable"),w.emittedReadable=!1),w.needReadable=!w.flowing&&!w.ended&&w.length<=w.highWaterMark,P(R)}function ne(R,w){w.readingMore||(w.readingMore=!0,ze.nextTick(V,R,w))}function V(R,w){for(;!w.reading&&!w.ended&&(w.length<w.highWaterMark||w.flowing&&w.length===0);){var x=w.length;if(u("maybeReadMore read 0"),R.read(0),x===w.length)break}w.readingMore=!1}D.prototype._read=function(R){T(this,new b("_read()"))},D.prototype.pipe=function(R,w){var x=this,k=this._readableState;switch(k.pipesCount){case 0:k.pipes=R;break;case 1:k.pipes=[k.pipes,R];break;default:k.pipes.push(R);break}k.pipesCount+=1,u("pipe count=%d opts=%j",k.pipesCount,w);var U=(!w||w.end!==!1)&&R!==ze.stdout&&R!==ze.stderr,re=U?ve:ke;k.endEmitted?ze.nextTick(re):x.once("end",re),R.on("unpipe",fe);function fe(Ze,Ue){u("onunpipe"),Ze===x&&Ue&&Ue.hasUnpiped===!1&&(Ue.hasUnpiped=!0,be())}function ve(){u("onend"),R.end()}var ce=oe(x);R.on("drain",ce);var Ie=!1;function be(){u("cleanup"),R.removeListener("close",Ae),R.removeListener("finish",Pe),R.removeListener("drain",ce),R.removeListener("error",je),R.removeListener("unpipe",fe),x.removeListener("end",ve),x.removeListener("end",ke),x.removeListener("data",xe),Ie=!0,k.awaitDrain&&(!R._writableState||R._writableState.needDrain)&&ce()}x.on("data",xe);function xe(Ze){u("ondata");var Ue=R.write(Ze);u("dest.write",Ue),Ue===!1&&((k.pipesCount===1&&k.pipes===R||k.pipesCount>1&&pe(k.pipes,R)!==-1)&&!Ie&&(u("false write response, pause",k.awaitDrain),k.awaitDrain++),x.pause())}function je(Ze){u("onerror",Ze),ke(),R.removeListener("error",je),t(R,"error")===0&&T(R,Ze)}C(R,"error",je);function Ae(){R.removeListener("finish",Pe),ke()}R.once("close",Ae);function Pe(){u("onfinish"),R.removeListener("close",Ae),ke()}R.once("finish",Pe);function ke(){u("unpipe"),x.unpipe(R)}return R.emit("pipe",x),k.flowing||(u("pipe resume"),x.resume()),R};function oe(R){return function(){var x=R._readableState;u("pipeOnDrain",x.awaitDrain),x.awaitDrain&&x.awaitDrain--,x.awaitDrain===0&&t(R,"data")&&(x.flowing=!0,P(R))}}D.prototype.unpipe=function(R){var w=this._readableState,x={hasUnpiped:!1};if(w.pipesCount===0)return this;if(w.pipesCount===1)return R&&R!==w.pipes?this:(R||(R=w.pipes),w.pipes=null,w.pipesCount=0,w.flowing=!1,R&&R.emit("unpipe",this,x),this);if(!R){var k=w.pipes,U=w.pipesCount;w.pipes=null,w.pipesCount=0,w.flowing=!1;for(var re=0;re<U;re++)k[re].emit("unpipe",this,{hasUnpiped:!1});return this}var fe=pe(w.pipes,R);return fe===-1?this:(w.pipes.splice(fe,1),w.pipesCount-=1,w.pipesCount===1&&(w.pipes=w.pipes[0]),R.emit("unpipe",this,x),this)},D.prototype.on=function(R,w){var x=r.prototype.on.call(this,R,w),k=this._readableState;return R==="data"?(k.readableListening=this.listenerCount("readable")>0,k.flowing!==!1&&this.resume()):R==="readable"&&!k.endEmitted&&!k.readableListening&&(k.readableListening=k.needReadable=!0,k.flowing=!1,k.emittedReadable=!1,u("on readable",k.length,k.reading),k.length?le(this):k.reading||ze.nextTick(Y,this)),x},D.prototype.addListener=D.prototype.on,D.prototype.removeListener=function(R,w){var x=r.prototype.removeListener.call(this,R,w);return R==="readable"&&ze.nextTick(he,this),x},D.prototype.removeAllListeners=function(R){var w=r.prototype.removeAllListeners.apply(this,arguments);return(R==="readable"||R===void 0)&&ze.nextTick(he,this),w};function he(R){var w=R._readableState;w.readableListening=R.listenerCount("readable")>0,w.resumeScheduled&&!w.paused?w.flowing=!0:R.listenerCount("data")>0&&R.resume()}function Y(R){u("readable nexttick read 0"),R.read(0)}D.prototype.resume=function(){var R=this._readableState;return R.flowing||(u("resume"),R.flowing=!R.readableListening,Z(this,R)),R.paused=!1,this};function Z(R,w){w.resumeScheduled||(w.resumeScheduled=!0,ze.nextTick(ee,R,w))}function ee(R,w){u("resume",w.reading),w.reading||R.read(0),w.resumeScheduled=!1,R.emit("resume"),P(R),w.flowing&&!w.reading&&R.read(0)}D.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function P(R){var w=R._readableState;for(u("flow",w.flowing);w.flowing&&R.read()!==null;);}D.prototype.wrap=function(R){var w=this,x=this._readableState,k=!1;R.on("end",function(){if(u("wrapped end"),x.decoder&&!x.ended){var fe=x.decoder.end();fe&&fe.length&&w.push(fe)}w.push(null)}),R.on("data",function(fe){if(u("wrapped data"),x.decoder&&(fe=x.decoder.write(fe)),!(x.objectMode&&fe==null)&&!(!x.objectMode&&(!fe||!fe.length))){var ve=w.push(fe);ve||(k=!0,R.pause())}});for(var U in R)this[U]===void 0&&typeof R[U]=="function"&&(this[U]=function(ve){return function(){return R[ve].apply(R,arguments)}}(U));for(var re=0;re<I.length;re++)R.on(I[re],this.emit.bind(this,I[re]));return this._read=function(fe){u("wrapped _read",fe),k&&(k=!1,R.resume())},this},typeof Symbol=="function"&&(D.prototype[Symbol.asyncIterator]=function(){return g===void 0&&(g=lY()),g(this)}),Object.defineProperty(D.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(D.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(D.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(w){this._readableState&&(this._readableState.flowing=w)}}),D._fromList=A,Object.defineProperty(D.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function A(R,w){if(w.length===0)return null;var x;return w.objectMode?x=w.buffer.shift():!R||R>=w.length?(w.decoder?x=w.buffer.join(""):w.buffer.length===1?x=w.buffer.first():x=w.buffer.concat(w.length),w.buffer.clear()):x=w.buffer.consume(R,w.decoder),x}function $(R){var w=R._readableState;u("endReadable",w.endEmitted),w.endEmitted||(w.ended=!0,ze.nextTick(te,w,R))}function te(R,w){if(u("endReadableNT",R.endEmitted,R.length),!R.endEmitted&&R.length===0&&(R.endEmitted=!0,w.readable=!1,w.emit("end"),R.autoDestroy)){var x=w._writableState;(!x||x.autoDestroy&&x.finished)&&w.destroy()}}typeof Symbol=="function"&&(D.from=function(R,w){return S===void 0&&(S=fY()),S(D,R,w)});function pe(R,w){for(var x=0,k=R.length;x<k;x++)if(R[x]===w)return x;return-1}return Fv}var jv,uC;function v4(){if(uC)return jv;uC=1,jv=s;var e=hl().codes,t=e.ERR_METHOD_NOT_IMPLEMENTED,r=e.ERR_MULTIPLE_CALLBACK,n=e.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=e.ERR_TRANSFORM_WITH_LENGTH_0,i=zu();Cr()(s,i);function o(f,d){var c=this._transformState;c.transforming=!1;var p=c.writecb;if(p===null)return this.emit("error",new r);c.writechunk=null,c.writecb=null,d!=null&&this.push(d),p(f);var _=this._readableState;_.reading=!1,(_.needReadable||_.length<_.highWaterMark)&&this._read(_.highWaterMark)}function s(f){if(!(this instanceof s))return new s(f);i.call(this,f),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",u)}function u(){var f=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(d,c){l(f,d,c)}):l(this,null,null)}s.prototype.push=function(f,d){return this._transformState.needTransform=!1,i.prototype.push.call(this,f,d)},s.prototype._transform=function(f,d,c){c(new t("_transform()"))},s.prototype._write=function(f,d,c){var p=this._transformState;if(p.writecb=c,p.writechunk=f,p.writeencoding=d,!p.transforming){var _=this._readableState;(p.needTransform||_.needReadable||_.length<_.highWaterMark)&&this._read(_.highWaterMark)}},s.prototype._read=function(f){var d=this._transformState;d.writechunk!==null&&!d.transforming?(d.transforming=!0,this._transform(d.writechunk,d.writeencoding,d.afterTransform)):d.needTransform=!0},s.prototype._destroy=function(f,d){i.prototype._destroy.call(this,f,function(c){d(c)})};function l(f,d,c){if(d)return f.emit("error",d);if(c!=null&&f.push(c),f._writableState.length)throw new a;if(f._transformState.transforming)throw new n;return f.push(null)}return jv}var Bv,lC;function cY(){if(lC)return Bv;lC=1,Bv=t;var e=v4();Cr()(t,e);function t(r){if(!(this instanceof t))return new t(r);e.call(this,r)}return t.prototype._transform=function(r,n,a){a(null,r)},Bv}var qv,fC;function dY(){if(fC)return qv;fC=1;var e;function t(c){var p=!1;return function(){p||(p=!0,c.apply(void 0,arguments))}}var r=hl().codes,n=r.ERR_MISSING_ARGS,a=r.ERR_STREAM_DESTROYED;function i(c){if(c)throw c}function o(c){return c.setHeader&&typeof c.abort=="function"}function s(c,p,_,v){v=t(v);var b=!1;c.on("close",function(){b=!0}),e===void 0&&(e=YE()),e(c,{readable:p,writable:_},function(y){if(y)return v(y);b=!0,v()});var m=!1;return function(y){if(!b&&!m){if(m=!0,o(c))return c.abort();if(typeof c.destroy=="function")return c.destroy();v(y||new a("pipe"))}}}function u(c){c()}function l(c,p){return c.pipe(p)}function f(c){return!c.length||typeof c[c.length-1]!="function"?i:c.pop()}function d(){for(var c=arguments.length,p=new Array(c),_=0;_<c;_++)p[_]=arguments[_];var v=f(p);if(Array.isArray(p[0])&&(p=p[0]),p.length<2)throw new n("streams");var b,m=p.map(function(y,g){var S=g<p.length-1,T=g>0;return s(y,S,T,function(I){b||(b=I),I&&m.forEach(u),!S&&(m.forEach(u),v(b))})});return p.reduce(l)}return qv=d,qv}var cC;function pl(){return cC||(cC=1,function(e,t){t=e.exports=b4(),t.Stream=t,t.Readable=t,t.Writable=_4(),t.Duplex=zu(),t.Transform=v4(),t.PassThrough=cY(),t.finished=YE(),t.pipeline=dY()}(pm,pm.exports)),pm.exports}var $v={exports:{}},Uv,dC;function hY(){if(dC)return Uv;dC=1;var e=[],t=[],r=function(){};function n(c){return~e.indexOf(c)?!1:(e.push(c),!0)}function a(c){r=c}function i(c){for(var p=[],_=0;_<e.length;_++){if(e[_].async){p.push(e[_]);continue}if(e[_](c))return!0}return p.length?new Promise(function(b){Promise.all(p.map(function(y){return y(c)})).then(function(y){b(y.some(Boolean))})}):!1}function o(c){return~t.indexOf(c)?!1:(t.push(c),!0)}function s(){r.apply(r,arguments)}function u(c){for(var p=0;p<t.length;p++)c=t[p].apply(t[p],arguments);return c}function l(c,p){var _=Object.prototype.hasOwnProperty;for(var v in p)_.call(p,v)&&(c[v]=p[v]);return c}function f(c){return c.enabled=!1,c.modify=o,c.set=a,c.use=n,l(function(){return!1},c)}function d(c){function p(){var _=Array.prototype.slice.call(arguments,0);return s.call(s,c,u(_,c)),!0}return c.enabled=!0,c.modify=o,c.set=a,c.use=n,l(p,c)}return Uv=function(p){return p.introduce=l,p.enabled=i,p.process=u,p.modify=o,p.write=s,p.nope=f,p.yep=d,p.set=a,p.use=n,p},Uv}var Hv,hC;function pY(){if(hC)return Hv;hC=1;var e=hY(),t=e(function r(n,a){return a=a||{},a.namespace=n,a.prod=!0,a.dev=!1,a.force||r.force?r.yep(a):r.nope(a)});return Hv=t,Hv}var pC;function q0(){return pC||(pC=1,$v.exports=pY()),$v.exports}var Vv,mC;function mY(){if(mC)return Vv;mC=1;var e=Qj,t=va(),r=t.StringDecoder,n=pl(),a=n.Stream;function i(){}return Vv=function(o,s){var u=Jn.alloc(65536),l=new r("utf8"),f=new a,d="",c=0,p=0;return o.start===-1&&delete o.start,f.readable=!0,f.destroy=function(){f.destroyed=!0,f.emit("end"),f.emit("close")},e.open(o.file,"a+","0644",function(_,v){if(_){s?s(_):f.emit("error",_),f.destroy();return}(function b(){if(f.destroyed){e.close(v,i);return}return e.read(v,u,0,u.length,c,function(m,y){if(m){s?s(m):f.emit("error",m),f.destroy();return}if(!y)return d&&((o.start==null||p>o.start)&&(s?s(null,d):f.emit("line",d)),p++,d=""),setTimeout(b,1e3);var g=l.write(u.slice(0,y));s||f.emit("data",g),g=(d+g).split(/\n+/);for(var S=g.length-1,T=0;T<S;T++)(o.start==null||p>o.start)&&(s?s(null,g[T]):f.emit("line",g[T])),p++;return d=g[S],c+=y,b()})})()}),s?f.destroy:f},Vv}var zv,yC;function yY(){if(yC)return zv;yC=1;function e(M){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},e(M)}function t(M,j){if(!(M instanceof j))throw new TypeError("Cannot call a class as a function")}function r(M,j){for(var O=0;O<j.length;O++){var q=j[O];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(M,a(q.key),q)}}function n(M,j,O){return r(M.prototype,j),Object.defineProperty(M,"prototype",{writable:!1}),M}function a(M){var j=i(M,"string");return e(j)=="symbol"?j:j+""}function i(M,j){if(e(M)!="object"||!M)return M;var O=M[Symbol.toPrimitive];if(O!==void 0){var q=O.call(M,j);if(e(q)!="object")return q;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(M)}function o(M,j,O){return j=f(j),s(M,l()?Reflect.construct(j,O,f(M).constructor):j.apply(M,O))}function s(M,j){if(j&&(e(j)=="object"||typeof j=="function"))return j;if(j!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u(M)}function u(M){if(M===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}function l(){try{var M=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l=function(){return!!M})()}function f(M){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(j){return j.__proto__||Object.getPrototypeOf(j)},f(M)}function d(M,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(j&&j.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),Object.defineProperty(M,"prototype",{writable:!1}),j&&c(M,j)}function c(M,j){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(O,q){return O.__proto__=q,O},c(M,j)}var p=Qj,_=TZ(),v=MZ(),b=sY(),m=Lr(),y=m.MESSAGE,g=pl(),S=g.Stream,T=g.PassThrough,I=Qh(),C=q0()("winston:file"),B=fl(),D=mY();return zv=function(M){function j(){var O,q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t(this,j),O=o(this,j,[q]),O.name=q.name||"file";function Q(ie){for(var X=arguments.length,le=new Array(X>1?X-1:0),ae=1;ae<X;ae++)le[ae-1]=arguments[ae];le.slice(1).forEach(function(ne){if(q[ne])throw new Error("Cannot set ".concat(ne," and ").concat(ie," together"))})}if(O._stream=new T,O._stream.setMaxListeners(30),O._onError=O._onError.bind(O),q.filename||q.dirname)Q("filename or dirname","stream"),O._basename=O.filename=q.filename?_.basename(q.filename):"winston.log",O.dirname=q.dirname||_.dirname(q.filename),O.options=q.options||{flags:"a"};else if(q.stream)console.warn("options.stream will be removed in winston@4. Use winston.transports.Stream"),Q("stream","filename","maxsize"),O._dest=O._stream.pipe(O._setupStream(q.stream)),O.dirname=_.dirname(O._dest.path);else throw new Error("Cannot log to file without filename or stream.");return O.maxsize=q.maxsize||null,O.rotationFormat=q.rotationFormat||!1,O.zippedArchive=q.zippedArchive||!1,O.maxFiles=q.maxFiles||null,O.eol=typeof q.eol=="string"?q.eol:B.EOL,O.tailable=q.tailable||!1,O.lazy=q.lazy||!1,O._size=0,O._pendingSize=0,O._created=0,O._drain=!1,O._opening=!1,O._ending=!1,O._fileExist=!1,O.dirname&&O._createLogDirIfNotExist(O.dirname),O.lazy||O.open(),O}return d(j,M),n(j,[{key:"finishIfEnding",value:function(){var q=this;this._ending&&(this._opening?this.once("open",function(){q._stream.once("finish",function(){return q.emit("finish")}),setImmediate(function(){return q._stream.end()})}):(this._stream.once("finish",function(){return q.emit("finish")}),setImmediate(function(){return q._stream.end()})))}},{key:"log",value:function(q){var Q=this,ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){};if(this.silent)return ie(),!0;if(this._drain){this._stream.once("drain",function(){Q._drain=!1,Q.log(q,ie)});return}if(this._rotate){this._stream.once("rotate",function(){Q._rotate=!1,Q.log(q,ie)});return}if(this.lazy){if(!this._fileExist){this._opening||this.open(),this.once("open",function(){Q._fileExist=!0,Q.log(q,ie)});return}if(this._needsNewFile(this._pendingSize)){this._dest.once("close",function(){Q._opening||Q.open(),Q.once("open",function(){Q.log(q,ie)})});return}}var X="".concat(q[y]).concat(this.eol),le=Jn.byteLength(X);function ae(){var V=this;if(this._size+=le,this._pendingSize-=le,C("logged %s %s",this._size,X),this.emit("logged",q),!this._rotate&&!this._opening&&this._needsNewFile()){if(this.lazy){this._endStream(function(){V.emit("fileclosed")});return}this._rotate=!0,this._endStream(function(){return V._rotateFile()})}}this._pendingSize+=le,this._opening&&!this.rotatedWhileOpening&&this._needsNewFile(this._size+this._pendingSize)&&(this.rotatedWhileOpening=!0);var ne=this._stream.write(X,ae.bind(this));return ne?ie():(this._drain=!0,this._stream.once("drain",function(){Q._drain=!1,ie()})),C("written",ne,this._drain),this.finishIfEnding(),ne}},{key:"query",value:function(q,Q){typeof q=="function"&&(Q=q,q={}),q=Y(q);var ie=_.join(this.dirname,this.filename),X="",le=[],ae=0,ne=p.createReadStream(ie,{encoding:"utf8"});ne.on("error",function(Z){if(ne.readable&&ne.destroy(),!!Q)return Z.code!=="ENOENT"?Q(Z):Q(null,le)}),ne.on("data",function(Z){Z=(X+Z).split(/\n+/);for(var ee=Z.length-1,P=0;P<ee;P++)(!q.start||ae>=q.start)&&V(Z[P]),ae++;X=Z[ee]}),ne.on("close",function(){X&&V(X,!0),q.order==="desc"&&(le=le.reverse()),Q&&Q(null,le)});function V(Z,ee){try{var P=JSON.parse(Z);he(P)&&oe(P)}catch(A){ee||ne.emit("error",A)}}function oe(Z){if(q.rows&&le.length>=q.rows&&q.order!=="desc"){ne.readable&&ne.destroy();return}q.fields&&(Z=q.fields.reduce(function(ee,P){return ee[P]=Z[P],ee},{})),q.order==="desc"&&le.length>=q.rows&&le.shift(),le.push(Z)}function he(Z){if(Z&&e(Z)==="object"){var ee=new Date(Z.timestamp);if(!(q.from&&ee<q.from||q.until&&ee>q.until||q.level&&q.level!==Z.level))return!0}}function Y(Z){return Z=Z||{},Z.rows=Z.rows||Z.limit||10,Z.start=Z.start||0,Z.until=Z.until||new Date,e(Z.until)!=="object"&&(Z.until=new Date(Z.until)),Z.from=Z.from||Z.until-24*60*60*1e3,e(Z.from)!=="object"&&(Z.from=new Date(Z.from)),Z.order=Z.order||"desc",Z}}},{key:"stream",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q=_.join(this.dirname,this.filename),ie=new S,X={file:Q,start:q.start};return ie.destroy=D(X,function(le,ae){if(le)return ie.emit("error",le);try{ie.emit("data",ae),ae=JSON.parse(ae),ie.emit("log",ae)}catch(ne){ie.emit("error",ne)}}),ie}},{key:"open",value:function(){var q=this;this.filename&&(this._opening||(this._opening=!0,this.stat(function(Q,ie){if(Q)return q.emit("error",Q);C("stat done: %s { size: %s }",q.filename,ie),q._size=ie,q._dest=q._createStream(q._stream),q._opening=!1,q.once("open",function(){q._stream.emit("rotate")||(q._rotate=!1)})})))}},{key:"stat",value:function(q){var Q=this,ie=this._getFile(),X=_.join(this.dirname,ie);p.stat(X,function(le,ae){if(le&&le.code==="ENOENT")return C("ENOENTok",X),Q.filename=ie,q(null,0);if(le)return C("err ".concat(le.code," ").concat(X)),q(le);if(!ae||Q._needsNewFile(ae.size))return Q._incFile(function(){return Q.stat(q)});Q.filename=ie,q(null,ae.size)})}},{key:"close",value:function(q){var Q=this;this._stream&&this._stream.end(function(){q&&q(),Q.emit("flush"),Q.emit("closed")})}},{key:"_needsNewFile",value:function(q){return q=q||this._size,this.maxsize&&q>=this.maxsize}},{key:"_onError",value:function(q){this.emit("error",q)}},{key:"_setupStream",value:function(q){return q.on("error",this._onError),q}},{key:"_cleanupStream",value:function(q){return q.removeListener("error",this._onError),q.destroy(),q}},{key:"_rotateFile",value:function(){var q=this;this._incFile(function(){return q.open()})}},{key:"_endStream",value:function(){var q=this,Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){};this._dest?(this._stream.unpipe(this._dest),this._dest.end(function(){q._cleanupStream(q._dest),Q()})):Q()}},{key:"_createStream",value:function(q){var Q=this,ie=_.join(this.dirname,this.filename);C("create stream start",ie,this.options);var X=p.createWriteStream(ie,this.options).on("error",function(le){return C(le)}).on("close",function(){return C("close",X.path,X.bytesWritten)}).on("open",function(){C("file open ok",ie),Q.emit("open",ie),q.pipe(X),Q.rotatedWhileOpening&&(Q._stream=new T,Q._stream.setMaxListeners(30),Q._rotateFile(),Q.rotatedWhileOpening=!1,Q._cleanupStream(X),q.end())});return C("create stream ok",ie),X}},{key:"_incFile",value:function(q){C("_incFile",this.filename);var Q=_.extname(this._basename),ie=_.basename(this._basename,Q),X=[];this.zippedArchive&&X.push((function(le){var ae=this._created>0&&!this.tailable?this._created:"";this._compressFile(_.join(this.dirname,"".concat(ie).concat(ae).concat(Q)),_.join(this.dirname,"".concat(ie).concat(ae).concat(Q,".gz")),le)}).bind(this)),X.push((function(le){this.tailable?this._checkMaxFilesTailable(Q,ie,le):(this._created+=1,this._checkMaxFilesIncrementing(Q,ie,le))}).bind(this)),v(X,q)}},{key:"_getFile",value:function(){var q=_.extname(this._basename),Q=_.basename(this._basename,q),ie=this.rotationFormat?this.rotationFormat():this._created;return!this.tailable&&this._created?"".concat(Q).concat(ie).concat(q):"".concat(Q).concat(q)}},{key:"_checkMaxFilesIncrementing",value:function(q,Q,ie){if(!this.maxFiles||this._created<this.maxFiles)return setImmediate(ie);var X=this._created-this.maxFiles,le=X!==0?X:"",ae=this.zippedArchive?".gz":"",ne="".concat(Q).concat(le).concat(q).concat(ae),V=_.join(this.dirname,ne);p.unlink(V,ie)}},{key:"_checkMaxFilesTailable",value:function(q,Q,ie){var X=this,le=[];if(this.maxFiles){for(var ae=this.zippedArchive?".gz":"",ne=this.maxFiles-1;ne>1;ne--)le.push((function(V,oe){var he=this,Y="".concat(Q).concat(V-1).concat(q).concat(ae),Z=_.join(this.dirname,Y);p.exists(Z,function(ee){if(!ee)return oe(null);Y="".concat(Q).concat(V).concat(q).concat(ae),p.rename(Z,_.join(he.dirname,Y),oe)})}).bind(this,ne));v(le,function(){p.rename(_.join(X.dirname,"".concat(Q).concat(q).concat(ae)),_.join(X.dirname,"".concat(Q,"1").concat(q).concat(ae)),ie)})}}},{key:"_compressFile",value:function(q,Q,ie){p.access(q,p.F_OK,function(X){if(X)return ie();var le=b.createGzip(),ae=p.createReadStream(q),ne=p.createWriteStream(Q);ne.on("finish",function(){p.unlink(q,ie)}),ae.pipe(le).pipe(ne)})}},{key:"_createLogDirIfNotExist",value:function(q){p.existsSync(q)||p.mkdirSync(q,{recursive:!0})}}])}(I),zv}var Gv={},Wv={exports:{}},Kv={},gC;function w4(){return gC||(gC=1,function(e){e.fetch=a(xt.fetch)&&a(xt.ReadableStream),e.writableStream=a(xt.WritableStream),e.abortController=a(xt.AbortController);var t;function r(){if(t!==void 0)return t;if(xt.XMLHttpRequest){t=new xt.XMLHttpRequest;try{t.open("GET",xt.XDomainRequest?"/":"https://example.com")}catch{t=null}}else t=null;return t}function n(i){var o=r();if(!o)return!1;try{return o.responseType=i,o.responseType===i}catch{}return!1}e.arraybuffer=e.fetch||n("arraybuffer"),e.msstream=!e.fetch&&n("ms-stream"),e.mozchunkedarraybuffer=!e.fetch&&n("moz-chunked-arraybuffer"),e.overrideMimeType=e.fetch||(r()?a(r().overrideMimeType):!1);function a(i){return typeof i=="function"}t=null}(Kv)),Kv}var mm={},ym={exports:{}},Zv,_C;function S4(){return _C||(_C=1,Zv=Qn().EventEmitter),Zv}var Yv,bC;function gY(){if(bC)return Yv;bC=1;function e(_,v){var b=Object.keys(_);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(_);v&&(m=m.filter(function(y){return Object.getOwnPropertyDescriptor(_,y).enumerable})),b.push.apply(b,m)}return b}function t(_){for(var v=1;v<arguments.length;v++){var b=arguments[v]!=null?arguments[v]:{};v%2?e(Object(b),!0).forEach(function(m){r(_,m,b[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(b)):e(Object(b)).forEach(function(m){Object.defineProperty(_,m,Object.getOwnPropertyDescriptor(b,m))})}return _}function r(_,v,b){return v=o(v),v in _?Object.defineProperty(_,v,{value:b,enumerable:!0,configurable:!0,writable:!0}):_[v]=b,_}function n(_,v){if(!(_ instanceof v))throw new TypeError("Cannot call a class as a function")}function a(_,v){for(var b=0;b<v.length;b++){var m=v[b];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(_,o(m.key),m)}}function i(_,v,b){return a(_.prototype,v),Object.defineProperty(_,"prototype",{writable:!1}),_}function o(_){var v=s(_,"string");return typeof v=="symbol"?v:String(v)}function s(_,v){if(typeof _!="object"||_===null)return _;var b=_[Symbol.toPrimitive];if(b!==void 0){var m=b.call(_,v);if(typeof m!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(_)}var u=Tr(),l=u.Buffer,f=Pr(),d=f.inspect,c=d&&d.custom||"inspect";function p(_,v,b){l.prototype.copy.call(_,v,b)}return Yv=function(){function _(){n(this,_),this.head=null,this.tail=null,this.length=0}return i(_,[{key:"push",value:function(b){var m={data:b,next:null};this.length>0?this.tail.next=m:this.head=m,this.tail=m,++this.length}},{key:"unshift",value:function(b){var m={data:b,next:this.head};this.length===0&&(this.tail=m),this.head=m,++this.length}},{key:"shift",value:function(){if(this.length!==0){var b=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,b}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(b){if(this.length===0)return"";for(var m=this.head,y=""+m.data;m=m.next;)y+=b+m.data;return y}},{key:"concat",value:function(b){if(this.length===0)return l.alloc(0);for(var m=l.allocUnsafe(b>>>0),y=this.head,g=0;y;)p(y.data,m,g),g+=y.data.length,y=y.next;return m}},{key:"consume",value:function(b,m){var y;return b<this.head.data.length?(y=this.head.data.slice(0,b),this.head.data=this.head.data.slice(b)):b===this.head.data.length?y=this.shift():y=m?this._getString(b):this._getBuffer(b),y}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(b){var m=this.head,y=1,g=m.data;for(b-=g.length;m=m.next;){var S=m.data,T=b>S.length?S.length:b;if(T===S.length?g+=S:g+=S.slice(0,b),b-=T,b===0){T===S.length?(++y,m.next?this.head=m.next:this.head=this.tail=null):(this.head=m,m.data=S.slice(T));break}++y}return this.length-=y,g}},{key:"_getBuffer",value:function(b){var m=l.allocUnsafe(b),y=this.head,g=1;for(y.data.copy(m),b-=y.data.length;y=y.next;){var S=y.data,T=b>S.length?S.length:b;if(S.copy(m,m.length-b,0,T),b-=T,b===0){T===S.length?(++g,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=S.slice(T));break}++g}return this.length-=g,m}},{key:c,value:function(b,m){return d(this,t(t({},m),{},{depth:0,customInspect:!1}))}}]),_}(),Yv}var Qv,vC;function E4(){if(vC)return Qv;vC=1;function e(o,s){var u=this,l=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return l||f?(s?s(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,ze.nextTick(a,this,o)):ze.nextTick(a,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(d){!s&&d?u._writableState?u._writableState.errorEmitted?ze.nextTick(r,u):(u._writableState.errorEmitted=!0,ze.nextTick(t,u,d)):ze.nextTick(t,u,d):s?(ze.nextTick(r,u),s(d)):ze.nextTick(r,u)}),this)}function t(o,s){a(o,s),r(o)}function r(o){o._writableState&&!o._writableState.emitClose||o._readableState&&!o._readableState.emitClose||o.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function a(o,s){o.emit("error",s)}function i(o,s){var u=o._readableState,l=o._writableState;u&&u.autoDestroy||l&&l.autoDestroy?o.destroy(s):o.emit("error",s)}return Qv={destroy:e,undestroy:n,errorOrDestroy:i},Qv}var Xv={},wC;function ml(){if(wC)return Xv;wC=1;function e(s,u){s.prototype=Object.create(u.prototype),s.prototype.constructor=s,s.__proto__=u}var t={};function r(s,u,l){l||(l=Error);function f(c,p,_){return typeof u=="string"?u:u(c,p,_)}var d=function(c){e(p,c);function p(_,v,b){return c.call(this,f(_,v,b))||this}return p}(l);d.prototype.name=l.name,d.prototype.code=s,t[s]=d}function n(s,u){if(Array.isArray(s)){var l=s.length;return s=s.map(function(f){return String(f)}),l>2?"one of ".concat(u," ").concat(s.slice(0,l-1).join(", "),", or ")+s[l-1]:l===2?"one of ".concat(u," ").concat(s[0]," or ").concat(s[1]):"of ".concat(u," ").concat(s[0])}else return"of ".concat(u," ").concat(String(s))}function a(s,u,l){return s.substr(0,u.length)===u}function i(s,u,l){return(l===void 0||l>s.length)&&(l=s.length),s.substring(l-u.length,l)===u}function o(s,u,l){return typeof l!="number"&&(l=0),l+u.length>s.length?!1:s.indexOf(u,l)!==-1}return r("ERR_INVALID_OPT_VALUE",function(s,u){return'The value "'+u+'" is invalid for option "'+s+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(s,u,l){var f;typeof u=="string"&&a(u,"not ")?(f="must not be",u=u.replace(/^not /,"")):f="must be";var d;if(i(s," argument"))d="The ".concat(s," ").concat(f," ").concat(n(u,"type"));else{var c=o(s,".")?"property":"argument";d='The "'.concat(s,'" ').concat(c," ").concat(f," ").concat(n(u,"type"))}return d+=". Received type ".concat(typeof l),d},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(s){return"The "+s+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(s){return"Cannot call "+s+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(s){return"Unknown encoding: "+s},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Xv.codes=t,Xv}var Jv,SC;function x4(){if(SC)return Jv;SC=1;var e=ml().codes.ERR_INVALID_OPT_VALUE;function t(n,a,i){return n.highWaterMark!=null?n.highWaterMark:a?n[i]:null}function r(n,a,i,o){var s=t(a,o,i);if(s!=null){if(!(isFinite(s)&&Math.floor(s)===s)||s<0){var u=o?i:"highWaterMark";throw new e(u,s)}return Math.floor(s)}return n.objectMode?16:16*1024}return Jv={getHighWaterMark:r},Jv}var e1,EC;function T4(){if(EC)return e1;EC=1,e1=B;function e(P){var A=this;this.next=null,this.entry=null,this.finish=function(){ee(A,P)}}var t;B.WritableState=I;var r={deprecate:k0()},n=S4(),a=Tr().Buffer,i=(typeof xt<"u"?xt:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function o(P){return a.from(P)}function s(P){return a.isBuffer(P)||P instanceof i}var u=E4(),l=x4(),f=l.getHighWaterMark,d=ml().codes,c=d.ERR_INVALID_ARG_TYPE,p=d.ERR_METHOD_NOT_IMPLEMENTED,_=d.ERR_MULTIPLE_CALLBACK,v=d.ERR_STREAM_CANNOT_PIPE,b=d.ERR_STREAM_DESTROYED,m=d.ERR_STREAM_NULL_VALUES,y=d.ERR_STREAM_WRITE_AFTER_END,g=d.ERR_UNKNOWN_ENCODING,S=u.errorOrDestroy;Cr()(B,n);function T(){}function I(P,A,$){t=t||Gu(),P=P||{},typeof $!="boolean"&&($=A instanceof t),this.objectMode=!!P.objectMode,$&&(this.objectMode=this.objectMode||!!P.writableObjectMode),this.highWaterMark=f(this,P,"writableHighWaterMark",$),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var te=P.decodeStrings===!1;this.decodeStrings=!te,this.defaultEncoding=P.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(pe){X(A,pe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=P.emitClose!==!1,this.autoDestroy=!!P.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}I.prototype.getBuffer=function(){for(var A=this.bufferedRequest,$=[];A;)$.push(A),A=A.next;return $},function(){try{Object.defineProperty(I.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var C;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(C=Function.prototype[Symbol.hasInstance],Object.defineProperty(B,Symbol.hasInstance,{value:function(A){return C.call(this,A)?!0:this!==B?!1:A&&A._writableState instanceof I}})):C=function(A){return A instanceof this};function B(P){t=t||Gu();var A=this instanceof t;if(!A&&!C.call(B,this))return new B(P);this._writableState=new I(P,this,A),this.writable=!0,P&&(typeof P.write=="function"&&(this._write=P.write),typeof P.writev=="function"&&(this._writev=P.writev),typeof P.destroy=="function"&&(this._destroy=P.destroy),typeof P.final=="function"&&(this._final=P.final)),n.call(this)}B.prototype.pipe=function(){S(this,new v)};function D(P,A){var $=new y;S(P,$),ze.nextTick(A,$)}function M(P,A,$,te){var pe;return $===null?pe=new m:typeof $!="string"&&!A.objectMode&&(pe=new c("chunk",["string","Buffer"],$)),pe?(S(P,pe),ze.nextTick(te,pe),!1):!0}B.prototype.write=function(P,A,$){var te=this._writableState,pe=!1,R=!te.objectMode&&s(P);return R&&!a.isBuffer(P)&&(P=o(P)),typeof A=="function"&&($=A,A=null),R?A="buffer":A||(A=te.defaultEncoding),typeof $!="function"&&($=T),te.ending?D(this,$):(R||M(this,te,P,$))&&(te.pendingcb++,pe=O(this,te,R,P,A,$)),pe},B.prototype.cork=function(){this._writableState.corked++},B.prototype.uncork=function(){var P=this._writableState;P.corked&&(P.corked--,!P.writing&&!P.corked&&!P.bufferProcessing&&P.bufferedRequest&&ne(this,P))},B.prototype.setDefaultEncoding=function(A){if(typeof A=="string"&&(A=A.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((A+"").toLowerCase())>-1))throw new g(A);return this._writableState.defaultEncoding=A,this},Object.defineProperty(B.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function j(P,A,$){return!P.objectMode&&P.decodeStrings!==!1&&typeof A=="string"&&(A=a.from(A,$)),A}Object.defineProperty(B.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function O(P,A,$,te,pe,R){if(!$){var w=j(A,te,pe);te!==w&&($=!0,pe="buffer",te=w)}var x=A.objectMode?1:te.length;A.length+=x;var k=A.length<A.highWaterMark;if(k||(A.needDrain=!0),A.writing||A.corked){var U=A.lastBufferedRequest;A.lastBufferedRequest={chunk:te,encoding:pe,isBuf:$,callback:R,next:null},U?U.next=A.lastBufferedRequest:A.bufferedRequest=A.lastBufferedRequest,A.bufferedRequestCount+=1}else q(P,A,!1,x,te,pe,R);return k}function q(P,A,$,te,pe,R,w){A.writelen=te,A.writecb=w,A.writing=!0,A.sync=!0,A.destroyed?A.onwrite(new b("write")):$?P._writev(pe,A.onwrite):P._write(pe,R,A.onwrite),A.sync=!1}function Q(P,A,$,te,pe){--A.pendingcb,$?(ze.nextTick(pe,te),ze.nextTick(Y,P,A),P._writableState.errorEmitted=!0,S(P,te)):(pe(te),P._writableState.errorEmitted=!0,S(P,te),Y(P,A))}function ie(P){P.writing=!1,P.writecb=null,P.length-=P.writelen,P.writelen=0}function X(P,A){var $=P._writableState,te=$.sync,pe=$.writecb;if(typeof pe!="function")throw new _;if(ie($),A)Q(P,$,te,A,pe);else{var R=V($)||P.destroyed;!R&&!$.corked&&!$.bufferProcessing&&$.bufferedRequest&&ne(P,$),te?ze.nextTick(le,P,$,R,pe):le(P,$,R,pe)}}function le(P,A,$,te){$||ae(P,A),A.pendingcb--,te(),Y(P,A)}function ae(P,A){A.length===0&&A.needDrain&&(A.needDrain=!1,P.emit("drain"))}function ne(P,A){A.bufferProcessing=!0;var $=A.bufferedRequest;if(P._writev&&$&&$.next){var te=A.bufferedRequestCount,pe=new Array(te),R=A.corkedRequestsFree;R.entry=$;for(var w=0,x=!0;$;)pe[w]=$,$.isBuf||(x=!1),$=$.next,w+=1;pe.allBuffers=x,q(P,A,!0,A.length,pe,"",R.finish),A.pendingcb++,A.lastBufferedRequest=null,R.next?(A.corkedRequestsFree=R.next,R.next=null):A.corkedRequestsFree=new e(A),A.bufferedRequestCount=0}else{for(;$;){var k=$.chunk,U=$.encoding,re=$.callback,fe=A.objectMode?1:k.length;if(q(P,A,!1,fe,k,U,re),$=$.next,A.bufferedRequestCount--,A.writing)break}$===null&&(A.lastBufferedRequest=null)}A.bufferedRequest=$,A.bufferProcessing=!1}B.prototype._write=function(P,A,$){$(new p("_write()"))},B.prototype._writev=null,B.prototype.end=function(P,A,$){var te=this._writableState;return typeof P=="function"?($=P,P=null,A=null):typeof A=="function"&&($=A,A=null),P!=null&&this.write(P,A),te.corked&&(te.corked=1,this.uncork()),te.ending||Z(this,te,$),this},Object.defineProperty(B.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function V(P){return P.ending&&P.length===0&&P.bufferedRequest===null&&!P.finished&&!P.writing}function oe(P,A){P._final(function($){A.pendingcb--,$&&S(P,$),A.prefinished=!0,P.emit("prefinish"),Y(P,A)})}function he(P,A){!A.prefinished&&!A.finalCalled&&(typeof P._final=="function"&&!A.destroyed?(A.pendingcb++,A.finalCalled=!0,ze.nextTick(oe,P,A)):(A.prefinished=!0,P.emit("prefinish")))}function Y(P,A){var $=V(A);if($&&(he(P,A),A.pendingcb===0&&(A.finished=!0,P.emit("finish"),A.autoDestroy))){var te=P._readableState;(!te||te.autoDestroy&&te.endEmitted)&&P.destroy()}return $}function Z(P,A,$){A.ending=!0,Y(P,A),$&&(A.finished?ze.nextTick($):P.once("finish",$)),A.ended=!0,P.writable=!1}function ee(P,A,$){var te=P.entry;for(P.entry=null;te;){var pe=te.callback;A.pendingcb--,pe($),te=te.next}A.corkedRequestsFree.next=P}return Object.defineProperty(B.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(A){this._writableState&&(this._writableState.destroyed=A)}}),B.prototype.destroy=u.destroy,B.prototype._undestroy=u.undestroy,B.prototype._destroy=function(P,A){A(P)},e1}var t1,xC;function Gu(){if(xC)return t1;xC=1;var e=Object.keys||function(l){var f=[];for(var d in l)f.push(d);return f};t1=o;var t=R4(),r=T4();Cr()(o,t);for(var n=e(r.prototype),a=0;a<n.length;a++){var i=n[a];o.prototype[i]||(o.prototype[i]=r.prototype[i])}function o(l){if(!(this instanceof o))return new o(l);t.call(this,l),r.call(this,l),this.allowHalfOpen=!0,l&&(l.readable===!1&&(this.readable=!1),l.writable===!1&&(this.writable=!1),l.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",s)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function s(){this._writableState.ended||ze.nextTick(u,this)}function u(l){l.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(f){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=f,this._writableState.destroyed=f)}}),t1}var r1,TC;function QE(){if(TC)return r1;TC=1;var e=ml().codes.ERR_STREAM_PREMATURE_CLOSE;function t(i){var o=!1;return function(){if(!o){o=!0;for(var s=arguments.length,u=new Array(s),l=0;l<s;l++)u[l]=arguments[l];i.apply(this,u)}}}function r(){}function n(i){return i.setHeader&&typeof i.abort=="function"}function a(i,o,s){if(typeof o=="function")return a(i,null,o);o||(o={}),s=t(s||r);var u=o.readable||o.readable!==!1&&i.readable,l=o.writable||o.writable!==!1&&i.writable,f=function(){i.writable||c()},d=i._writableState&&i._writableState.finished,c=function(){l=!1,d=!0,u||s.call(i)},p=i._readableState&&i._readableState.endEmitted,_=function(){u=!1,p=!0,l||s.call(i)},v=function(g){s.call(i,g)},b=function(){var g;if(u&&!p)return(!i._readableState||!i._readableState.ended)&&(g=new e),s.call(i,g);if(l&&!d)return(!i._writableState||!i._writableState.ended)&&(g=new e),s.call(i,g)},m=function(){i.req.on("finish",c)};return n(i)?(i.on("complete",c),i.on("abort",b),i.req?m():i.on("request",m)):l&&!i._writableState&&(i.on("end",f),i.on("close",f)),i.on("end",_),i.on("finish",c),o.error!==!1&&i.on("error",v),i.on("close",b),function(){i.removeListener("complete",c),i.removeListener("abort",b),i.removeListener("request",m),i.req&&i.req.removeListener("finish",c),i.removeListener("end",f),i.removeListener("close",f),i.removeListener("finish",c),i.removeListener("end",_),i.removeListener("error",v),i.removeListener("close",b)}}return r1=a,r1}var n1,RC;function _Y(){if(RC)return n1;RC=1;var e;function t(g,S,T){return S=r(S),S in g?Object.defineProperty(g,S,{value:T,enumerable:!0,configurable:!0,writable:!0}):g[S]=T,g}function r(g){var S=n(g,"string");return typeof S=="symbol"?S:String(S)}function n(g,S){if(typeof g!="object"||g===null)return g;var T=g[Symbol.toPrimitive];if(T!==void 0){var I=T.call(g,S||"default");if(typeof I!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(g)}var a=QE(),i=Symbol("lastResolve"),o=Symbol("lastReject"),s=Symbol("error"),u=Symbol("ended"),l=Symbol("lastPromise"),f=Symbol("handlePromise"),d=Symbol("stream");function c(g,S){return{value:g,done:S}}function p(g){var S=g[i];if(S!==null){var T=g[d].read();T!==null&&(g[l]=null,g[i]=null,g[o]=null,S(c(T,!1)))}}function _(g){ze.nextTick(p,g)}function v(g,S){return function(T,I){g.then(function(){if(S[u]){T(c(void 0,!0));return}S[f](T,I)},I)}}var b=Object.getPrototypeOf(function(){}),m=Object.setPrototypeOf((e={get stream(){return this[d]},next:function(){var S=this,T=this[s];if(T!==null)return Promise.reject(T);if(this[u])return Promise.resolve(c(void 0,!0));if(this[d].destroyed)return new Promise(function(D,M){ze.nextTick(function(){S[s]?M(S[s]):D(c(void 0,!0))})});var I=this[l],C;if(I)C=new Promise(v(I,this));else{var B=this[d].read();if(B!==null)return Promise.resolve(c(B,!1));C=new Promise(this[f])}return this[l]=C,C}},t(e,Symbol.asyncIterator,function(){return this}),t(e,"return",function(){var S=this;return new Promise(function(T,I){S[d].destroy(null,function(C){if(C){I(C);return}T(c(void 0,!0))})})}),e),b),y=function(S){var T,I=Object.create(m,(T={},t(T,d,{value:S,writable:!0}),t(T,i,{value:null,writable:!0}),t(T,o,{value:null,writable:!0}),t(T,s,{value:null,writable:!0}),t(T,u,{value:S._readableState.endEmitted,writable:!0}),t(T,f,{value:function(B,D){var M=I[d].read();M?(I[l]=null,I[i]=null,I[o]=null,B(c(M,!1))):(I[i]=B,I[o]=D)},writable:!0}),T));return I[l]=null,a(S,function(C){if(C&&C.code!=="ERR_STREAM_PREMATURE_CLOSE"){var B=I[o];B!==null&&(I[l]=null,I[i]=null,I[o]=null,B(C)),I[s]=C;return}var D=I[i];D!==null&&(I[l]=null,I[i]=null,I[o]=null,D(c(void 0,!0))),I[u]=!0}),S.on("readable",_.bind(null,I)),I};return n1=y,n1}var i1,AC;function bY(){return AC||(AC=1,i1=function(){throw new Error("Readable.from is not available in the browser")}),i1}var a1,IC;function R4(){if(IC)return a1;IC=1,a1=D;var e;D.ReadableState=B,Qn().EventEmitter;var t=function(w,x){return w.listeners(x).length},r=S4(),n=Tr().Buffer,a=(typeof xt<"u"?xt:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function i(R){return n.from(R)}function o(R){return n.isBuffer(R)||R instanceof a}var s=Pr(),u;s&&s.debuglog?u=s.debuglog("stream"):u=function(){};var l=gY(),f=E4(),d=x4(),c=d.getHighWaterMark,p=ml().codes,_=p.ERR_INVALID_ARG_TYPE,v=p.ERR_STREAM_PUSH_AFTER_EOF,b=p.ERR_METHOD_NOT_IMPLEMENTED,m=p.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,y,g,S;Cr()(D,r);var T=f.errorOrDestroy,I=["error","close","destroy","pause","resume"];function C(R,w,x){if(typeof R.prependListener=="function")return R.prependListener(w,x);!R._events||!R._events[w]?R.on(w,x):Array.isArray(R._events[w])?R._events[w].unshift(x):R._events[w]=[x,R._events[w]]}function B(R,w,x){e=e||Gu(),R=R||{},typeof x!="boolean"&&(x=w instanceof e),this.objectMode=!!R.objectMode,x&&(this.objectMode=this.objectMode||!!R.readableObjectMode),this.highWaterMark=c(this,R,"readableHighWaterMark",x),this.buffer=new l,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=R.emitClose!==!1,this.autoDestroy=!!R.autoDestroy,this.destroyed=!1,this.defaultEncoding=R.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,R.encoding&&(y||(y=va().StringDecoder),this.decoder=new y(R.encoding),this.encoding=R.encoding)}function D(R){if(e=e||Gu(),!(this instanceof D))return new D(R);var w=this instanceof e;this._readableState=new B(R,this,w),this.readable=!0,R&&(typeof R.read=="function"&&(this._read=R.read),typeof R.destroy=="function"&&(this._destroy=R.destroy)),r.call(this)}Object.defineProperty(D.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(w){this._readableState&&(this._readableState.destroyed=w)}}),D.prototype.destroy=f.destroy,D.prototype._undestroy=f.undestroy,D.prototype._destroy=function(R,w){w(R)},D.prototype.push=function(R,w){var x=this._readableState,k;return x.objectMode?k=!0:typeof R=="string"&&(w=w||x.defaultEncoding,w!==x.encoding&&(R=n.from(R,w),w=""),k=!0),M(this,R,w,!1,k)},D.prototype.unshift=function(R){return M(this,R,null,!0,!1)};function M(R,w,x,k,U){u("readableAddChunk",w);var re=R._readableState;if(w===null)re.reading=!1,X(R,re);else{var fe;if(U||(fe=O(re,w)),fe)T(R,fe);else if(re.objectMode||w&&w.length>0)if(typeof w!="string"&&!re.objectMode&&Object.getPrototypeOf(w)!==n.prototype&&(w=i(w)),k)re.endEmitted?T(R,new m):j(R,re,w,!0);else if(re.ended)T(R,new v);else{if(re.destroyed)return!1;re.reading=!1,re.decoder&&!x?(w=re.decoder.write(w),re.objectMode||w.length!==0?j(R,re,w,!1):ne(R,re)):j(R,re,w,!1)}else k||(re.reading=!1,ne(R,re))}return!re.ended&&(re.length<re.highWaterMark||re.length===0)}function j(R,w,x,k){w.flowing&&w.length===0&&!w.sync?(w.awaitDrain=0,R.emit("data",x)):(w.length+=w.objectMode?1:x.length,k?w.buffer.unshift(x):w.buffer.push(x),w.needReadable&&le(R)),ne(R,w)}function O(R,w){var x;return!o(w)&&typeof w!="string"&&w!==void 0&&!R.objectMode&&(x=new _("chunk",["string","Buffer","Uint8Array"],w)),x}D.prototype.isPaused=function(){return this._readableState.flowing===!1},D.prototype.setEncoding=function(R){y||(y=va().StringDecoder);var w=new y(R);this._readableState.decoder=w,this._readableState.encoding=this._readableState.decoder.encoding;for(var x=this._readableState.buffer.head,k="";x!==null;)k+=w.write(x.data),x=x.next;return this._readableState.buffer.clear(),k!==""&&this._readableState.buffer.push(k),this._readableState.length=k.length,this};var q=1073741824;function Q(R){return R>=q?R=q:(R--,R|=R>>>1,R|=R>>>2,R|=R>>>4,R|=R>>>8,R|=R>>>16,R++),R}function ie(R,w){return R<=0||w.length===0&&w.ended?0:w.objectMode?1:R!==R?w.flowing&&w.length?w.buffer.head.data.length:w.length:(R>w.highWaterMark&&(w.highWaterMark=Q(R)),R<=w.length?R:w.ended?w.length:(w.needReadable=!0,0))}D.prototype.read=function(R){u("read",R),R=parseInt(R,10);var w=this._readableState,x=R;if(R!==0&&(w.emittedReadable=!1),R===0&&w.needReadable&&((w.highWaterMark!==0?w.length>=w.highWaterMark:w.length>0)||w.ended))return u("read: emitReadable",w.length,w.ended),w.length===0&&w.ended?$(this):le(this),null;if(R=ie(R,w),R===0&&w.ended)return w.length===0&&$(this),null;var k=w.needReadable;u("need readable",k),(w.length===0||w.length-R<w.highWaterMark)&&(k=!0,u("length less than watermark",k)),w.ended||w.reading?(k=!1,u("reading or ended",k)):k&&(u("do read"),w.reading=!0,w.sync=!0,w.length===0&&(w.needReadable=!0),this._read(w.highWaterMark),w.sync=!1,w.reading||(R=ie(x,w)));var U;return R>0?U=A(R,w):U=null,U===null?(w.needReadable=w.length<=w.highWaterMark,R=0):(w.length-=R,w.awaitDrain=0),w.length===0&&(w.ended||(w.needReadable=!0),x!==R&&w.ended&&$(this)),U!==null&&this.emit("data",U),U};function X(R,w){if(u("onEofChunk"),!w.ended){if(w.decoder){var x=w.decoder.end();x&&x.length&&(w.buffer.push(x),w.length+=w.objectMode?1:x.length)}w.ended=!0,w.sync?le(R):(w.needReadable=!1,w.emittedReadable||(w.emittedReadable=!0,ae(R)))}}function le(R){var w=R._readableState;u("emitReadable",w.needReadable,w.emittedReadable),w.needReadable=!1,w.emittedReadable||(u("emitReadable",w.flowing),w.emittedReadable=!0,ze.nextTick(ae,R))}function ae(R){var w=R._readableState;u("emitReadable_",w.destroyed,w.length,w.ended),!w.destroyed&&(w.length||w.ended)&&(R.emit("readable"),w.emittedReadable=!1),w.needReadable=!w.flowing&&!w.ended&&w.length<=w.highWaterMark,P(R)}function ne(R,w){w.readingMore||(w.readingMore=!0,ze.nextTick(V,R,w))}function V(R,w){for(;!w.reading&&!w.ended&&(w.length<w.highWaterMark||w.flowing&&w.length===0);){var x=w.length;if(u("maybeReadMore read 0"),R.read(0),x===w.length)break}w.readingMore=!1}D.prototype._read=function(R){T(this,new b("_read()"))},D.prototype.pipe=function(R,w){var x=this,k=this._readableState;switch(k.pipesCount){case 0:k.pipes=R;break;case 1:k.pipes=[k.pipes,R];break;default:k.pipes.push(R);break}k.pipesCount+=1,u("pipe count=%d opts=%j",k.pipesCount,w);var U=(!w||w.end!==!1)&&R!==ze.stdout&&R!==ze.stderr,re=U?ve:ke;k.endEmitted?ze.nextTick(re):x.once("end",re),R.on("unpipe",fe);function fe(Ze,Ue){u("onunpipe"),Ze===x&&Ue&&Ue.hasUnpiped===!1&&(Ue.hasUnpiped=!0,be())}function ve(){u("onend"),R.end()}var ce=oe(x);R.on("drain",ce);var Ie=!1;function be(){u("cleanup"),R.removeListener("close",Ae),R.removeListener("finish",Pe),R.removeListener("drain",ce),R.removeListener("error",je),R.removeListener("unpipe",fe),x.removeListener("end",ve),x.removeListener("end",ke),x.removeListener("data",xe),Ie=!0,k.awaitDrain&&(!R._writableState||R._writableState.needDrain)&&ce()}x.on("data",xe);function xe(Ze){u("ondata");var Ue=R.write(Ze);u("dest.write",Ue),Ue===!1&&((k.pipesCount===1&&k.pipes===R||k.pipesCount>1&&pe(k.pipes,R)!==-1)&&!Ie&&(u("false write response, pause",k.awaitDrain),k.awaitDrain++),x.pause())}function je(Ze){u("onerror",Ze),ke(),R.removeListener("error",je),t(R,"error")===0&&T(R,Ze)}C(R,"error",je);function Ae(){R.removeListener("finish",Pe),ke()}R.once("close",Ae);function Pe(){u("onfinish"),R.removeListener("close",Ae),ke()}R.once("finish",Pe);function ke(){u("unpipe"),x.unpipe(R)}return R.emit("pipe",x),k.flowing||(u("pipe resume"),x.resume()),R};function oe(R){return function(){var x=R._readableState;u("pipeOnDrain",x.awaitDrain),x.awaitDrain&&x.awaitDrain--,x.awaitDrain===0&&t(R,"data")&&(x.flowing=!0,P(R))}}D.prototype.unpipe=function(R){var w=this._readableState,x={hasUnpiped:!1};if(w.pipesCount===0)return this;if(w.pipesCount===1)return R&&R!==w.pipes?this:(R||(R=w.pipes),w.pipes=null,w.pipesCount=0,w.flowing=!1,R&&R.emit("unpipe",this,x),this);if(!R){var k=w.pipes,U=w.pipesCount;w.pipes=null,w.pipesCount=0,w.flowing=!1;for(var re=0;re<U;re++)k[re].emit("unpipe",this,{hasUnpiped:!1});return this}var fe=pe(w.pipes,R);return fe===-1?this:(w.pipes.splice(fe,1),w.pipesCount-=1,w.pipesCount===1&&(w.pipes=w.pipes[0]),R.emit("unpipe",this,x),this)},D.prototype.on=function(R,w){var x=r.prototype.on.call(this,R,w),k=this._readableState;return R==="data"?(k.readableListening=this.listenerCount("readable")>0,k.flowing!==!1&&this.resume()):R==="readable"&&!k.endEmitted&&!k.readableListening&&(k.readableListening=k.needReadable=!0,k.flowing=!1,k.emittedReadable=!1,u("on readable",k.length,k.reading),k.length?le(this):k.reading||ze.nextTick(Y,this)),x},D.prototype.addListener=D.prototype.on,D.prototype.removeListener=function(R,w){var x=r.prototype.removeListener.call(this,R,w);return R==="readable"&&ze.nextTick(he,this),x},D.prototype.removeAllListeners=function(R){var w=r.prototype.removeAllListeners.apply(this,arguments);return(R==="readable"||R===void 0)&&ze.nextTick(he,this),w};function he(R){var w=R._readableState;w.readableListening=R.listenerCount("readable")>0,w.resumeScheduled&&!w.paused?w.flowing=!0:R.listenerCount("data")>0&&R.resume()}function Y(R){u("readable nexttick read 0"),R.read(0)}D.prototype.resume=function(){var R=this._readableState;return R.flowing||(u("resume"),R.flowing=!R.readableListening,Z(this,R)),R.paused=!1,this};function Z(R,w){w.resumeScheduled||(w.resumeScheduled=!0,ze.nextTick(ee,R,w))}function ee(R,w){u("resume",w.reading),w.reading||R.read(0),w.resumeScheduled=!1,R.emit("resume"),P(R),w.flowing&&!w.reading&&R.read(0)}D.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function P(R){var w=R._readableState;for(u("flow",w.flowing);w.flowing&&R.read()!==null;);}D.prototype.wrap=function(R){var w=this,x=this._readableState,k=!1;R.on("end",function(){if(u("wrapped end"),x.decoder&&!x.ended){var fe=x.decoder.end();fe&&fe.length&&w.push(fe)}w.push(null)}),R.on("data",function(fe){if(u("wrapped data"),x.decoder&&(fe=x.decoder.write(fe)),!(x.objectMode&&fe==null)&&!(!x.objectMode&&(!fe||!fe.length))){var ve=w.push(fe);ve||(k=!0,R.pause())}});for(var U in R)this[U]===void 0&&typeof R[U]=="function"&&(this[U]=function(ve){return function(){return R[ve].apply(R,arguments)}}(U));for(var re=0;re<I.length;re++)R.on(I[re],this.emit.bind(this,I[re]));return this._read=function(fe){u("wrapped _read",fe),k&&(k=!1,R.resume())},this},typeof Symbol=="function"&&(D.prototype[Symbol.asyncIterator]=function(){return g===void 0&&(g=_Y()),g(this)}),Object.defineProperty(D.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(D.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(D.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(w){this._readableState&&(this._readableState.flowing=w)}}),D._fromList=A,Object.defineProperty(D.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function A(R,w){if(w.length===0)return null;var x;return w.objectMode?x=w.buffer.shift():!R||R>=w.length?(w.decoder?x=w.buffer.join(""):w.buffer.length===1?x=w.buffer.first():x=w.buffer.concat(w.length),w.buffer.clear()):x=w.buffer.consume(R,w.decoder),x}function $(R){var w=R._readableState;u("endReadable",w.endEmitted),w.endEmitted||(w.ended=!0,ze.nextTick(te,w,R))}function te(R,w){if(u("endReadableNT",R.endEmitted,R.length),!R.endEmitted&&R.length===0&&(R.endEmitted=!0,w.readable=!1,w.emit("end"),R.autoDestroy)){var x=w._writableState;(!x||x.autoDestroy&&x.finished)&&w.destroy()}}typeof Symbol=="function"&&(D.from=function(R,w){return S===void 0&&(S=bY()),S(D,R,w)});function pe(R,w){for(var x=0,k=R.length;x<k;x++)if(R[x]===w)return x;return-1}return a1}var o1,OC;function A4(){if(OC)return o1;OC=1,o1=s;var e=ml().codes,t=e.ERR_METHOD_NOT_IMPLEMENTED,r=e.ERR_MULTIPLE_CALLBACK,n=e.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=e.ERR_TRANSFORM_WITH_LENGTH_0,i=Gu();Cr()(s,i);function o(f,d){var c=this._transformState;c.transforming=!1;var p=c.writecb;if(p===null)return this.emit("error",new r);c.writechunk=null,c.writecb=null,d!=null&&this.push(d),p(f);var _=this._readableState;_.reading=!1,(_.needReadable||_.length<_.highWaterMark)&&this._read(_.highWaterMark)}function s(f){if(!(this instanceof s))return new s(f);i.call(this,f),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",u)}function u(){var f=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(d,c){l(f,d,c)}):l(this,null,null)}s.prototype.push=function(f,d){return this._transformState.needTransform=!1,i.prototype.push.call(this,f,d)},s.prototype._transform=function(f,d,c){c(new t("_transform()"))},s.prototype._write=function(f,d,c){var p=this._transformState;if(p.writecb=c,p.writechunk=f,p.writeencoding=d,!p.transforming){var _=this._readableState;(p.needTransform||_.needReadable||_.length<_.highWaterMark)&&this._read(_.highWaterMark)}},s.prototype._read=function(f){var d=this._transformState;d.writechunk!==null&&!d.transforming?(d.transforming=!0,this._transform(d.writechunk,d.writeencoding,d.afterTransform)):d.needTransform=!0},s.prototype._destroy=function(f,d){i.prototype._destroy.call(this,f,function(c){d(c)})};function l(f,d,c){if(d)return f.emit("error",d);if(c!=null&&f.push(c),f._writableState.length)throw new a;if(f._transformState.transforming)throw new n;return f.push(null)}return o1}var s1,PC;function vY(){if(PC)return s1;PC=1,s1=t;var e=A4();Cr()(t,e);function t(r){if(!(this instanceof t))return new t(r);e.call(this,r)}return t.prototype._transform=function(r,n,a){a(null,r)},s1}var u1,CC;function wY(){if(CC)return u1;CC=1;var e;function t(c){var p=!1;return function(){p||(p=!0,c.apply(void 0,arguments))}}var r=ml().codes,n=r.ERR_MISSING_ARGS,a=r.ERR_STREAM_DESTROYED;function i(c){if(c)throw c}function o(c){return c.setHeader&&typeof c.abort=="function"}function s(c,p,_,v){v=t(v);var b=!1;c.on("close",function(){b=!0}),e===void 0&&(e=QE()),e(c,{readable:p,writable:_},function(y){if(y)return v(y);b=!0,v()});var m=!1;return function(y){if(!b&&!m){if(m=!0,o(c))return c.abort();if(typeof c.destroy=="function")return c.destroy();v(y||new a("pipe"))}}}function u(c){c()}function l(c,p){return c.pipe(p)}function f(c){return!c.length||typeof c[c.length-1]!="function"?i:c.pop()}function d(){for(var c=arguments.length,p=new Array(c),_=0;_<c;_++)p[_]=arguments[_];var v=f(p);if(Array.isArray(p[0])&&(p=p[0]),p.length<2)throw new n("streams");var b,m=p.map(function(y,g){var S=g<p.length-1,T=g>0;return s(y,S,T,function(I){b||(b=I),I&&m.forEach(u),!S&&(m.forEach(u),v(b))})});return p.reduce(l)}return u1=d,u1}var LC;function I4(){return LC||(LC=1,function(e,t){t=e.exports=R4(),t.Stream=t,t.Readable=t,t.Writable=T4(),t.Duplex=Gu(),t.Transform=A4(),t.PassThrough=vY(),t.finished=QE(),t.pipeline=wY()}(ym,ym.exports)),ym.exports}var DC;function O4(){if(DC)return mm;DC=1;var e=w4(),t=Cr(),r=I4(),n=mm.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},a=mm.IncomingMessage=function(i,o,s,u){var l=this;if(r.Readable.call(l),l._mode=s,l.headers={},l.rawHeaders=[],l.trailers={},l.rawTrailers=[],l.on("end",function(){ze.nextTick(function(){l.emit("close")})}),s==="fetch"){let v=function(){d.read().then(function(b){if(!l._destroyed){if(u(b.done),b.done){l.push(null);return}l.push(Jn.from(b.value)),v()}}).catch(function(b){u(!0),l._destroyed||l.emit("error",b)})};if(l._fetchResponse=o,l.url=o.url,l.statusCode=o.status,l.statusMessage=o.statusText,o.headers.forEach(function(b,m){l.headers[m.toLowerCase()]=b,l.rawHeaders.push(m,b)}),e.writableStream){var f=new WritableStream({write:function(b){return u(!1),new Promise(function(m,y){l._destroyed?y():l.push(Jn.from(b))?m():l._resumeFetch=m})},close:function(){u(!0),l._destroyed||l.push(null)},abort:function(b){u(!0),l._destroyed||l.emit("error",b)}});try{o.body.pipeTo(f).catch(function(b){u(!0),l._destroyed||l.emit("error",b)});return}catch{}}var d=o.body.getReader();v()}else{l._xhr=i,l._pos=0,l.url=i.responseURL,l.statusCode=i.status,l.statusMessage=i.statusText;var c=i.getAllResponseHeaders().split(/\r?\n/);if(c.forEach(function(v){var b=v.match(/^([^:]+):\s*(.*)/);if(b){var m=b[1].toLowerCase();m==="set-cookie"?(l.headers[m]===void 0&&(l.headers[m]=[]),l.headers[m].push(b[2])):l.headers[m]!==void 0?l.headers[m]+=", "+b[2]:l.headers[m]=b[2],l.rawHeaders.push(b[1],b[2])}}),l._charset="x-user-defined",!e.overrideMimeType){var p=l.rawHeaders["mime-type"];if(p){var _=p.match(/;\s*charset=([^;])(;|$)/);_&&(l._charset=_[1].toLowerCase())}l._charset||(l._charset="utf-8")}}};return t(a,r.Readable),a.prototype._read=function(){var i=this,o=i._resumeFetch;o&&(i._resumeFetch=null,o())},a.prototype._onXHRProgress=function(i){var o=this,s=o._xhr,u=null;switch(o._mode){case"text":if(u=s.responseText,u.length>o._pos){var l=u.substr(o._pos);if(o._charset==="x-user-defined"){for(var f=Jn.alloc(l.length),d=0;d<l.length;d++)f[d]=l.charCodeAt(d)&255;o.push(f)}else o.push(l,o._charset);o._pos=u.length}break;case"arraybuffer":if(s.readyState!==n.DONE||!s.response)break;u=s.response,o.push(Jn.from(new Uint8Array(u)));break;case"moz-chunked-arraybuffer":if(u=s.response,s.readyState!==n.LOADING||!u)break;o.push(Jn.from(new Uint8Array(u)));break;case"ms-stream":if(u=s.response,s.readyState!==n.LOADING)break;var c=new xt.MSStreamReader;c.onprogress=function(){c.result.byteLength>o._pos&&(o.push(Jn.from(new Uint8Array(c.result.slice(o._pos)))),o._pos=c.result.byteLength)},c.onload=function(){i(!0),o.push(null)},c.readAsArrayBuffer(u);break}o._xhr.readyState===n.DONE&&o._mode!=="ms-stream"&&(i(!0),o.push(null))},mm}var NC;function SY(){if(NC)return Wv.exports;NC=1;var e=w4(),t=Cr(),r=O4(),n=I4(),a=r.IncomingMessage,i=r.readyStates;function o(f,d){return e.fetch&&d?"fetch":e.mozchunkedarraybuffer?"moz-chunked-arraybuffer":e.msstream?"ms-stream":e.arraybuffer&&f?"arraybuffer":"text"}var s=Wv.exports=function(f){var d=this;n.Writable.call(d),d._opts=f,d._body=[],d._headers={},f.auth&&d.setHeader("Authorization","Basic "+Jn.from(f.auth).toString("base64")),Object.keys(f.headers).forEach(function(_){d.setHeader(_,f.headers[_])});var c,p=!0;if(f.mode==="disable-fetch"||"requestTimeout"in f&&!e.abortController)p=!1,c=!0;else if(f.mode==="prefer-streaming")c=!1;else if(f.mode==="allow-wrong-content-type")c=!e.overrideMimeType;else if(!f.mode||f.mode==="default"||f.mode==="prefer-fast")c=!0;else throw new Error("Invalid value for opts.mode");d._mode=o(c,p),d._fetchTimer=null,d._socketTimeout=null,d._socketTimer=null,d.on("finish",function(){d._onFinish()})};t(s,n.Writable),s.prototype.setHeader=function(f,d){var c=this,p=f.toLowerCase();l.indexOf(p)===-1&&(c._headers[p]={name:f,value:d})},s.prototype.getHeader=function(f){var d=this._headers[f.toLowerCase()];return d?d.value:null},s.prototype.removeHeader=function(f){var d=this;delete d._headers[f.toLowerCase()]},s.prototype._onFinish=function(){var f=this;if(!f._destroyed){var d=f._opts;"timeout"in d&&d.timeout!==0&&f.setTimeout(d.timeout);var c=f._headers,p=null;d.method!=="GET"&&d.method!=="HEAD"&&(p=new Blob(f._body,{type:(c["content-type"]||{}).value||""}));var _=[];if(Object.keys(c).forEach(function(y){var g=c[y].name,S=c[y].value;Array.isArray(S)?S.forEach(function(T){_.push([g,T])}):_.push([g,S])}),f._mode==="fetch"){var v=null;if(e.abortController){var b=new AbortController;v=b.signal,f._fetchAbortController=b,"requestTimeout"in d&&d.requestTimeout!==0&&(f._fetchTimer=xt.setTimeout(function(){f.emit("requestTimeout"),f._fetchAbortController&&f._fetchAbortController.abort()},d.requestTimeout))}xt.fetch(f._opts.url,{method:f._opts.method,headers:_,body:p||void 0,mode:"cors",credentials:d.withCredentials?"include":"same-origin",signal:v}).then(function(y){f._fetchResponse=y,f._resetTimers(!1),f._connect()},function(y){f._resetTimers(!0),f._destroyed||f.emit("error",y)})}else{var m=f._xhr=new xt.XMLHttpRequest;try{m.open(f._opts.method,f._opts.url,!0)}catch(y){ze.nextTick(function(){f.emit("error",y)});return}"responseType"in m&&(m.responseType=f._mode),"withCredentials"in m&&(m.withCredentials=!!d.withCredentials),f._mode==="text"&&"overrideMimeType"in m&&m.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in d&&(m.timeout=d.requestTimeout,m.ontimeout=function(){f.emit("requestTimeout")}),_.forEach(function(y){m.setRequestHeader(y[0],y[1])}),f._response=null,m.onreadystatechange=function(){switch(m.readyState){case i.LOADING:case i.DONE:f._onXHRProgress();break}},f._mode==="moz-chunked-arraybuffer"&&(m.onprogress=function(){f._onXHRProgress()}),m.onerror=function(){f._destroyed||(f._resetTimers(!0),f.emit("error",new Error("XHR error")))};try{m.send(p)}catch(y){ze.nextTick(function(){f.emit("error",y)});return}}}};function u(f){try{var d=f.status;return d!==null&&d!==0}catch{return!1}}s.prototype._onXHRProgress=function(){var f=this;f._resetTimers(!1),!(!u(f._xhr)||f._destroyed)&&(f._response||f._connect(),f._response._onXHRProgress(f._resetTimers.bind(f)))},s.prototype._connect=function(){var f=this;f._destroyed||(f._response=new a(f._xhr,f._fetchResponse,f._mode,f._resetTimers.bind(f)),f._response.on("error",function(d){f.emit("error",d)}),f.emit("response",f._response))},s.prototype._write=function(f,d,c){var p=this;p._body.push(f),c()},s.prototype._resetTimers=function(f){var d=this;xt.clearTimeout(d._socketTimer),d._socketTimer=null,f?(xt.clearTimeout(d._fetchTimer),d._fetchTimer=null):d._socketTimeout&&(d._socketTimer=xt.setTimeout(function(){d.emit("timeout")},d._socketTimeout))},s.prototype.abort=s.prototype.destroy=function(f){var d=this;d._destroyed=!0,d._resetTimers(!0),d._response&&(d._response._destroyed=!0),d._xhr?d._xhr.abort():d._fetchAbortController&&d._fetchAbortController.abort(),f&&d.emit("error",f)},s.prototype.end=function(f,d,c){var p=this;typeof f=="function"&&(c=f,f=void 0),n.Writable.prototype.end.call(p,f,d,c)},s.prototype.setTimeout=function(f,d){var c=this;d&&c.once("timeout",d),c._socketTimeout=f,c._resetTimers(!1)},s.prototype.flushHeaders=function(){},s.prototype.setNoDelay=function(){},s.prototype.setSocketKeepAlive=function(){};var l=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"];return Wv.exports}var l1,MC;function EY(){if(MC)return l1;MC=1,l1=t;var e=Object.prototype.hasOwnProperty;function t(){for(var r={},n=0;n<arguments.length;n++){var a=arguments[n];for(var i in a)e.call(a,i)&&(r[i]=a[i])}return r}return l1}var f1,kC;function xY(){return kC||(kC=1,f1={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}),f1}var Qd={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */var TY=Qd.exports,FC;function RY(){return FC||(FC=1,function(e,t){(function(r){var n=t&&!t.nodeType&&t,a=!e.nodeType&&e,i=typeof xt=="object"&&xt;(i.global===i||i.window===i||i.self===i)&&(r=i);var o,s=2147483647,u=36,l=1,f=26,d=38,c=700,p=72,_=128,v="-",b=/^xn--/,m=/[^\x20-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,g={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},S=u-l,T=Math.floor,I=String.fromCharCode,C;function B(V){throw new RangeError(g[V])}function D(V,oe){for(var he=V.length,Y=[];he--;)Y[he]=oe(V[he]);return Y}function M(V,oe){var he=V.split("@"),Y="";he.length>1&&(Y=he[0]+"@",V=he[1]),V=V.replace(y,".");var Z=V.split("."),ee=D(Z,oe).join(".");return Y+ee}function j(V){for(var oe=[],he=0,Y=V.length,Z,ee;he<Y;)Z=V.charCodeAt(he++),Z>=55296&&Z<=56319&&he<Y?(ee=V.charCodeAt(he++),(ee&64512)==56320?oe.push(((Z&1023)<<10)+(ee&1023)+65536):(oe.push(Z),he--)):oe.push(Z);return oe}function O(V){return D(V,function(oe){var he="";return oe>65535&&(oe-=65536,he+=I(oe>>>10&1023|55296),oe=56320|oe&1023),he+=I(oe),he}).join("")}function q(V){return V-48<10?V-22:V-65<26?V-65:V-97<26?V-97:u}function Q(V,oe){return V+22+75*(V<26)-((oe!=0)<<5)}function ie(V,oe,he){var Y=0;for(V=he?T(V/c):V>>1,V+=T(V/oe);V>S*f>>1;Y+=u)V=T(V/S);return T(Y+(S+1)*V/(V+d))}function X(V){var oe=[],he=V.length,Y,Z=0,ee=_,P=p,A,$,te,pe,R,w,x,k,U;for(A=V.lastIndexOf(v),A<0&&(A=0),$=0;$<A;++$)V.charCodeAt($)>=128&&B("not-basic"),oe.push(V.charCodeAt($));for(te=A>0?A+1:0;te<he;){for(pe=Z,R=1,w=u;te>=he&&B("invalid-input"),x=q(V.charCodeAt(te++)),(x>=u||x>T((s-Z)/R))&&B("overflow"),Z+=x*R,k=w<=P?l:w>=P+f?f:w-P,!(x<k);w+=u)U=u-k,R>T(s/U)&&B("overflow"),R*=U;Y=oe.length+1,P=ie(Z-pe,Y,pe==0),T(Z/Y)>s-ee&&B("overflow"),ee+=T(Z/Y),Z%=Y,oe.splice(Z++,0,ee)}return O(oe)}function le(V){var oe,he,Y,Z,ee,P,A,$,te,pe,R,w=[],x,k,U,re;for(V=j(V),x=V.length,oe=_,he=0,ee=p,P=0;P<x;++P)R=V[P],R<128&&w.push(I(R));for(Y=Z=w.length,Z&&w.push(v);Y<x;){for(A=s,P=0;P<x;++P)R=V[P],R>=oe&&R<A&&(A=R);for(k=Y+1,A-oe>T((s-he)/k)&&B("overflow"),he+=(A-oe)*k,oe=A,P=0;P<x;++P)if(R=V[P],R<oe&&++he>s&&B("overflow"),R==oe){for($=he,te=u;pe=te<=ee?l:te>=ee+f?f:te-ee,!($<pe);te+=u)re=$-pe,U=u-pe,w.push(I(Q(pe+re%U,0))),$=T(re/U);w.push(I(Q($,0))),ee=ie(he,k,Y==Z),he=0,++Y}++he,++oe}return w.join("")}function ae(V){return M(V,function(oe){return b.test(oe)?X(oe.slice(4).toLowerCase()):oe})}function ne(V){return M(V,function(oe){return m.test(oe)?"xn--"+le(oe):oe})}if(o={version:"1.4.1",ucs2:{decode:j,encode:O},decode:X,encode:le,toASCII:ne,toUnicode:ae},n&&a)if(e.exports==n)a.exports=o;else for(C in o)o.hasOwnProperty(C)&&(n[C]=o[C]);else r.punycode=o})(TY)}(Qd,Qd.exports)),Qd.exports}var AY=RY();const IY=Bh(AY),OY={},PY=Object.freeze(Object.defineProperty({__proto__:null,default:OY},Symbol.toStringTag,{value:"Module"})),CY=tl(PY);var c1,jC;function $0(){if(jC)return c1;jC=1;var e=typeof Map=="function"&&Map.prototype,t=Object.getOwnPropertyDescriptor&&e?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,r=e&&t&&typeof t.get=="function"?t.get:null,n=e&&Map.prototype.forEach,a=typeof Set=="function"&&Set.prototype,i=Object.getOwnPropertyDescriptor&&a?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,o=a&&i&&typeof i.get=="function"?i.get:null,s=a&&Set.prototype.forEach,u=typeof WeakMap=="function"&&WeakMap.prototype,l=u?WeakMap.prototype.has:null,f=typeof WeakSet=="function"&&WeakSet.prototype,d=f?WeakSet.prototype.has:null,c=typeof WeakRef=="function"&&WeakRef.prototype,p=c?WeakRef.prototype.deref:null,_=Boolean.prototype.valueOf,v=Object.prototype.toString,b=Function.prototype.toString,m=String.prototype.match,y=String.prototype.slice,g=String.prototype.replace,S=String.prototype.toUpperCase,T=String.prototype.toLowerCase,I=RegExp.prototype.test,C=Array.prototype.concat,B=Array.prototype.join,D=Array.prototype.slice,M=Math.floor,j=typeof BigInt=="function"?BigInt.prototype.valueOf:null,O=Object.getOwnPropertySymbols,q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Q=typeof Symbol=="function"&&typeof Symbol.iterator=="object",ie=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Q||!0)?Symbol.toStringTag:null,X=Object.prototype.propertyIsEnumerable,le=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(se){return se.__proto__}:null);function ae(se,ge){if(se===1/0||se===-1/0||se!==se||se&&se>-1e3&&se<1e3||I.call(/e/,ge))return ge;var de=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof se=="number"){var Re=se<0?-M(-se):M(se);if(Re!==se){var qe=String(Re),H=y.call(ge,qe.length+1);return g.call(qe,de,"$&_")+"."+g.call(g.call(H,/([0-9]{3})/g,"$&_"),/_$/,"")}}return g.call(ge,de,"$&_")}var ne=CY,V=ne.custom,oe=x(V)?V:null,he={__proto__:null,double:'"',single:"'"},Y={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};c1=function se(ge,de,Re,qe){var H=de||{};if(re(H,"quoteStyle")&&!re(he,H.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(re(H,"maxStringLength")&&(typeof H.maxStringLength=="number"?H.maxStringLength<0&&H.maxStringLength!==1/0:H.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Te=re(H,"customInspect")?H.customInspect:!0;if(typeof Te!="boolean"&&Te!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(re(H,"indent")&&H.indent!==null&&H.indent!=="	"&&!(parseInt(H.indent,10)===H.indent&&H.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(re(H,"numericSeparator")&&typeof H.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var De=H.numericSeparator;if(typeof ge>"u")return"undefined";if(ge===null)return"null";if(typeof ge=="boolean")return ge?"true":"false";if(typeof ge=="string")return ke(ge,H);if(typeof ge=="number"){if(ge===0)return 1/0/ge>0?"0":"-0";var me=String(ge);return De?ae(ge,me):me}if(typeof ge=="bigint"){var Me=String(ge)+"n";return De?ae(ge,Me):Me}var Ve=typeof H.depth>"u"?5:H.depth;if(typeof Re>"u"&&(Re=0),Re>=Ve&&Ve>0&&typeof ge=="object")return P(ge)?"[Array]":"[Object]";var ft=K(H,Re);if(typeof qe>"u")qe=[];else if(ce(qe,ge)>=0)return"[Circular]";function we(Ge,We,ht){if(We&&(qe=D.call(qe),qe.push(We)),ht){var gt={depth:H.depth};return re(H,"quoteStyle")&&(gt.quoteStyle=H.quoteStyle),se(Ge,gt,Re+1,qe)}return se(Ge,H,Re+1,qe)}if(typeof ge=="function"&&!$(ge)){var W=ve(ge),G=Oe(ge,we);return"[Function"+(W?": "+W:" (anonymous)")+"]"+(G.length>0?" { "+B.call(G,", ")+" }":"")}if(x(ge)){var J=Q?g.call(String(ge),/^(Symbol\(.*\))_[^)]*$/,"$1"):q.call(ge);return typeof ge=="object"&&!Q?Ue(J):J}if(Pe(ge)){for(var Se="<"+T.call(String(ge.nodeName)),Ne=ge.attributes||[],Le=0;Le<Ne.length;Le++)Se+=" "+Ne[Le].name+"="+Z(ee(Ne[Le].value),"double",H);return Se+=">",ge.childNodes&&ge.childNodes.length&&(Se+="..."),Se+="</"+T.call(String(ge.nodeName))+">",Se}if(P(ge)){if(ge.length===0)return"[]";var He=Oe(ge,we);return ft&&!F(He)?"["+_e(He,ft)+"]":"[ "+B.call(He,", ")+" ]"}if(te(ge)){var $e=Oe(ge,we);return!("cause"in Error.prototype)&&"cause"in ge&&!X.call(ge,"cause")?"{ ["+String(ge)+"] "+B.call(C.call("[cause]: "+we(ge.cause),$e),", ")+" }":$e.length===0?"["+String(ge)+"]":"{ ["+String(ge)+"] "+B.call($e,", ")+" }"}if(typeof ge=="object"&&Te){if(oe&&typeof ge[oe]=="function"&&ne)return ne(ge,{depth:Ve-Re});if(Te!=="symbol"&&typeof ge.inspect=="function")return ge.inspect()}if(Ie(ge)){var ut=[];return n&&n.call(ge,function(Ge,We){ut.push(we(We,ge,!0)+" => "+we(Ge,ge))}),ye("Map",r.call(ge),ut,ft)}if(je(ge)){var lt=[];return s&&s.call(ge,function(Ge){lt.push(we(Ge,ge))}),ye("Set",o.call(ge),lt,ft)}if(be(ge))return it("WeakMap");if(Ae(ge))return it("WeakSet");if(xe(ge))return it("WeakRef");if(R(ge))return Ue(we(Number(ge)));if(k(ge))return Ue(we(j.call(ge)));if(w(ge))return Ue(_.call(ge));if(pe(ge))return Ue(we(String(ge)));if(typeof window<"u"&&ge===window)return"{ [object Window] }";if(typeof globalThis<"u"&&ge===globalThis||typeof xt<"u"&&ge===xt)return"{ [object globalThis] }";if(!A(ge)&&!$(ge)){var dt=Oe(ge,we),ct=le?le(ge)===Object.prototype:ge instanceof Object||ge.constructor===Object,nt=ge instanceof Object?"":"null prototype",lr=!ct&&ie&&Object(ge)===ge&&ie in ge?y.call(fe(ge),8,-1):nt?"Object":"",at=ct||typeof ge.constructor!="function"?"":ge.constructor.name?ge.constructor.name+" ":"",Ce=at+(lr||nt?"["+B.call(C.call([],lr||[],nt||[]),": ")+"] ":"");return dt.length===0?Ce+"{}":ft?Ce+"{"+_e(dt,ft)+"}":Ce+"{ "+B.call(dt,", ")+" }"}return String(ge)};function Z(se,ge,de){var Re=de.quoteStyle||ge,qe=he[Re];return qe+se+qe}function ee(se){return g.call(String(se),/"/g,"&quot;")}function P(se){return fe(se)==="[object Array]"&&(!ie||!(typeof se=="object"&&ie in se))}function A(se){return fe(se)==="[object Date]"&&(!ie||!(typeof se=="object"&&ie in se))}function $(se){return fe(se)==="[object RegExp]"&&(!ie||!(typeof se=="object"&&ie in se))}function te(se){return fe(se)==="[object Error]"&&(!ie||!(typeof se=="object"&&ie in se))}function pe(se){return fe(se)==="[object String]"&&(!ie||!(typeof se=="object"&&ie in se))}function R(se){return fe(se)==="[object Number]"&&(!ie||!(typeof se=="object"&&ie in se))}function w(se){return fe(se)==="[object Boolean]"&&(!ie||!(typeof se=="object"&&ie in se))}function x(se){if(Q)return se&&typeof se=="object"&&se instanceof Symbol;if(typeof se=="symbol")return!0;if(!se||typeof se!="object"||!q)return!1;try{return q.call(se),!0}catch{}return!1}function k(se){if(!se||typeof se!="object"||!j)return!1;try{return j.call(se),!0}catch{}return!1}var U=Object.prototype.hasOwnProperty||function(se){return se in this};function re(se,ge){return U.call(se,ge)}function fe(se){return v.call(se)}function ve(se){if(se.name)return se.name;var ge=m.call(b.call(se),/^function\s*([\w$]+)/);return ge?ge[1]:null}function ce(se,ge){if(se.indexOf)return se.indexOf(ge);for(var de=0,Re=se.length;de<Re;de++)if(se[de]===ge)return de;return-1}function Ie(se){if(!r||!se||typeof se!="object")return!1;try{r.call(se);try{o.call(se)}catch{return!0}return se instanceof Map}catch{}return!1}function be(se){if(!l||!se||typeof se!="object")return!1;try{l.call(se,l);try{d.call(se,d)}catch{return!0}return se instanceof WeakMap}catch{}return!1}function xe(se){if(!p||!se||typeof se!="object")return!1;try{return p.call(se),!0}catch{}return!1}function je(se){if(!o||!se||typeof se!="object")return!1;try{o.call(se);try{r.call(se)}catch{return!0}return se instanceof Set}catch{}return!1}function Ae(se){if(!d||!se||typeof se!="object")return!1;try{d.call(se,d);try{l.call(se,l)}catch{return!0}return se instanceof WeakSet}catch{}return!1}function Pe(se){return!se||typeof se!="object"?!1:typeof HTMLElement<"u"&&se instanceof HTMLElement?!0:typeof se.nodeName=="string"&&typeof se.getAttribute=="function"}function ke(se,ge){if(se.length>ge.maxStringLength){var de=se.length-ge.maxStringLength,Re="... "+de+" more character"+(de>1?"s":"");return ke(y.call(se,0,ge.maxStringLength),ge)+Re}var qe=Y[ge.quoteStyle||"single"];qe.lastIndex=0;var H=g.call(g.call(se,qe,"\\$1"),/[\x00-\x1f]/g,Ze);return Z(H,"single",ge)}function Ze(se){var ge=se.charCodeAt(0),de={8:"b",9:"t",10:"n",12:"f",13:"r"}[ge];return de?"\\"+de:"\\x"+(ge<16?"0":"")+S.call(ge.toString(16))}function Ue(se){return"Object("+se+")"}function it(se){return se+" { ? }"}function ye(se,ge,de,Re){var qe=Re?_e(de,Re):B.call(de,", ");return se+" ("+ge+") {"+qe+"}"}function F(se){for(var ge=0;ge<se.length;ge++)if(ce(se[ge],`
`)>=0)return!1;return!0}function K(se,ge){var de;if(se.indent==="	")de="	";else if(typeof se.indent=="number"&&se.indent>0)de=B.call(Array(se.indent+1)," ");else return null;return{base:de,prev:B.call(Array(ge+1),de)}}function _e(se,ge){if(se.length===0)return"";var de=`
`+ge.prev+ge.base;return de+B.call(se,","+de)+`
`+ge.prev}function Oe(se,ge){var de=P(se),Re=[];if(de){Re.length=se.length;for(var qe=0;qe<se.length;qe++)Re[qe]=re(se,qe)?ge(se[qe],se):""}var H=typeof O=="function"?O(se):[],Te;if(Q){Te={};for(var De=0;De<H.length;De++)Te["$"+H[De]]=H[De]}for(var me in se)re(se,me)&&(de&&String(Number(me))===me&&me<se.length||Q&&Te["$"+me]instanceof Symbol||(I.call(/[^\w$]/,me)?Re.push(ge(me,se)+": "+ge(se[me],se)):Re.push(me+": "+ge(se[me],se))));if(typeof O=="function")for(var Me=0;Me<H.length;Me++)X.call(se,H[Me])&&Re.push("["+ge(H[Me])+"]: "+ge(se[H[Me]],se));return Re}return c1}var d1,BC;function LY(){if(BC)return d1;BC=1;var e=$0(),t=io(),r=function(s,u,l){for(var f=s,d;(d=f.next)!=null;f=d)if(d.key===u)return f.next=d.next,l||(d.next=s.next,s.next=d),d},n=function(s,u){if(s){var l=r(s,u);return l&&l.value}},a=function(s,u,l){var f=r(s,u);f?f.value=l:s.next={key:u,next:s.next,value:l}},i=function(s,u){return s?!!r(s,u):!1},o=function(s,u){if(s)return r(s,u,!0)};return d1=function(){var u,l={assert:function(f){if(!l.has(f))throw new t("Side channel does not contain "+e(f))},delete:function(f){var d=u&&u.next,c=o(u,f);return c&&d&&d===c&&(u=void 0),!!c},get:function(f){return n(u,f)},has:function(f){return i(u,f)},set:function(f,d){u||(u={next:void 0}),a(u,f,d)}};return l},d1}var h1,qC;function P4(){if(qC)return h1;qC=1;var e=Zh(),t=Yo(),r=$0(),n=io(),a=e("%Map%",!0),i=t("Map.prototype.get",!0),o=t("Map.prototype.set",!0),s=t("Map.prototype.has",!0),u=t("Map.prototype.delete",!0),l=t("Map.prototype.size",!0);return h1=!!a&&function(){var d,c={assert:function(p){if(!c.has(p))throw new n("Side channel does not contain "+r(p))},delete:function(p){if(d){var _=u(d,p);return l(d)===0&&(d=void 0),_}return!1},get:function(p){if(d)return i(d,p)},has:function(p){return d?s(d,p):!1},set:function(p,_){d||(d=new a),o(d,p,_)}};return c},h1}var p1,$C;function DY(){if($C)return p1;$C=1;var e=Zh(),t=Yo(),r=$0(),n=P4(),a=io(),i=e("%WeakMap%",!0),o=t("WeakMap.prototype.get",!0),s=t("WeakMap.prototype.set",!0),u=t("WeakMap.prototype.has",!0),l=t("WeakMap.prototype.delete",!0);return p1=i?function(){var d,c,p={assert:function(_){if(!p.has(_))throw new a("Side channel does not contain "+r(_))},delete:function(_){if(i&&_&&(typeof _=="object"||typeof _=="function")){if(d)return l(d,_)}else if(n&&c)return c.delete(_);return!1},get:function(_){return i&&_&&(typeof _=="object"||typeof _=="function")&&d?o(d,_):c&&c.get(_)},has:function(_){return i&&_&&(typeof _=="object"||typeof _=="function")&&d?u(d,_):!!c&&c.has(_)},set:function(_,v){i&&_&&(typeof _=="object"||typeof _=="function")?(d||(d=new i),s(d,_,v)):n&&(c||(c=n()),c.set(_,v))}};return p}:n,p1}var m1,UC;function NY(){if(UC)return m1;UC=1;var e=io(),t=$0(),r=LY(),n=P4(),a=DY(),i=a||n||r;return m1=function(){var s,u={assert:function(l){if(!u.has(l))throw new e("Side channel does not contain "+t(l))},delete:function(l){return!!s&&s.delete(l)},get:function(l){return s&&s.get(l)},has:function(l){return!!s&&s.has(l)},set:function(l,f){s||(s=i()),s.set(l,f)}};return u},m1}var y1,HC;function XE(){if(HC)return y1;HC=1;var e=String.prototype.replace,t=/%20/g,r={RFC1738:"RFC1738",RFC3986:"RFC3986"};return y1={default:r.RFC3986,formatters:{RFC1738:function(n){return e.call(n,t,"+")},RFC3986:function(n){return String(n)}},RFC1738:r.RFC1738,RFC3986:r.RFC3986},y1}var g1,VC;function C4(){if(VC)return g1;VC=1;var e=XE(),t=Object.prototype.hasOwnProperty,r=Array.isArray,n=function(){for(var b=[],m=0;m<256;++m)b.push("%"+((m<16?"0":"")+m.toString(16)).toUpperCase());return b}(),a=function(m){for(;m.length>1;){var y=m.pop(),g=y.obj[y.prop];if(r(g)){for(var S=[],T=0;T<g.length;++T)typeof g[T]<"u"&&S.push(g[T]);y.obj[y.prop]=S}}},i=function(m,y){for(var g=y&&y.plainObjects?{__proto__:null}:{},S=0;S<m.length;++S)typeof m[S]<"u"&&(g[S]=m[S]);return g},o=function b(m,y,g){if(!y)return m;if(typeof y!="object"&&typeof y!="function"){if(r(m))m.push(y);else if(m&&typeof m=="object")(g&&(g.plainObjects||g.allowPrototypes)||!t.call(Object.prototype,y))&&(m[y]=!0);else return[m,y];return m}if(!m||typeof m!="object")return[m].concat(y);var S=m;return r(m)&&!r(y)&&(S=i(m,g)),r(m)&&r(y)?(y.forEach(function(T,I){if(t.call(m,I)){var C=m[I];C&&typeof C=="object"&&T&&typeof T=="object"?m[I]=b(C,T,g):m.push(T)}else m[I]=T}),m):Object.keys(y).reduce(function(T,I){var C=y[I];return t.call(T,I)?T[I]=b(T[I],C,g):T[I]=C,T},S)},s=function(m,y){return Object.keys(y).reduce(function(g,S){return g[S]=y[S],g},m)},u=function(b,m,y){var g=b.replace(/\+/g," ");if(y==="iso-8859-1")return g.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(g)}catch{return g}},l=1024,f=function(m,y,g,S,T){if(m.length===0)return m;var I=m;if(typeof m=="symbol"?I=Symbol.prototype.toString.call(m):typeof m!="string"&&(I=String(m)),g==="iso-8859-1")return escape(I).replace(/%u[0-9a-f]{4}/gi,function(q){return"%26%23"+parseInt(q.slice(2),16)+"%3B"});for(var C="",B=0;B<I.length;B+=l){for(var D=I.length>=l?I.slice(B,B+l):I,M=[],j=0;j<D.length;++j){var O=D.charCodeAt(j);if(O===45||O===46||O===95||O===126||O>=48&&O<=57||O>=65&&O<=90||O>=97&&O<=122||T===e.RFC1738&&(O===40||O===41)){M[M.length]=D.charAt(j);continue}if(O<128){M[M.length]=n[O];continue}if(O<2048){M[M.length]=n[192|O>>6]+n[128|O&63];continue}if(O<55296||O>=57344){M[M.length]=n[224|O>>12]+n[128|O>>6&63]+n[128|O&63];continue}j+=1,O=65536+((O&1023)<<10|D.charCodeAt(j)&1023),M[M.length]=n[240|O>>18]+n[128|O>>12&63]+n[128|O>>6&63]+n[128|O&63]}C+=M.join("")}return C},d=function(m){for(var y=[{obj:{o:m},prop:"o"}],g=[],S=0;S<y.length;++S)for(var T=y[S],I=T.obj[T.prop],C=Object.keys(I),B=0;B<C.length;++B){var D=C[B],M=I[D];typeof M=="object"&&M!==null&&g.indexOf(M)===-1&&(y.push({obj:I,prop:D}),g.push(M))}return a(y),m},c=function(m){return Object.prototype.toString.call(m)==="[object RegExp]"},p=function(m){return!m||typeof m!="object"?!1:!!(m.constructor&&m.constructor.isBuffer&&m.constructor.isBuffer(m))},_=function(m,y){return[].concat(m,y)},v=function(m,y){if(r(m)){for(var g=[],S=0;S<m.length;S+=1)g.push(y(m[S]));return g}return y(m)};return g1={arrayToObject:i,assign:s,combine:_,compact:d,decode:u,encode:f,isBuffer:p,isRegExp:c,maybeMap:v,merge:o},g1}var _1,zC;function MY(){if(zC)return _1;zC=1;var e=NY(),t=C4(),r=XE(),n=Object.prototype.hasOwnProperty,a={brackets:function(b){return b+"[]"},comma:"comma",indices:function(b,m){return b+"["+m+"]"},repeat:function(b){return b}},i=Array.isArray,o=Array.prototype.push,s=function(v,b){o.apply(v,i(b)?b:[b])},u=Date.prototype.toISOString,l=r.default,f={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:t.encode,encodeValuesOnly:!1,filter:void 0,format:l,formatter:r.formatters[l],indices:!1,serializeDate:function(b){return u.call(b)},skipNulls:!1,strictNullHandling:!1},d=function(b){return typeof b=="string"||typeof b=="number"||typeof b=="boolean"||typeof b=="symbol"||typeof b=="bigint"},c={},p=function v(b,m,y,g,S,T,I,C,B,D,M,j,O,q,Q,ie,X,le){for(var ae=b,ne=le,V=0,oe=!1;(ne=ne.get(c))!==void 0&&!oe;){var he=ne.get(b);if(V+=1,typeof he<"u"){if(he===V)throw new RangeError("Cyclic object value");oe=!0}typeof ne.get(c)>"u"&&(V=0)}if(typeof D=="function"?ae=D(m,ae):ae instanceof Date?ae=O(ae):y==="comma"&&i(ae)&&(ae=t.maybeMap(ae,function(U){return U instanceof Date?O(U):U})),ae===null){if(T)return B&&!ie?B(m,f.encoder,X,"key",q):m;ae=""}if(d(ae)||t.isBuffer(ae)){if(B){var Y=ie?m:B(m,f.encoder,X,"key",q);return[Q(Y)+"="+Q(B(ae,f.encoder,X,"value",q))]}return[Q(m)+"="+Q(String(ae))]}var Z=[];if(typeof ae>"u")return Z;var ee;if(y==="comma"&&i(ae))ie&&B&&(ae=t.maybeMap(ae,B)),ee=[{value:ae.length>0?ae.join(",")||null:void 0}];else if(i(D))ee=D;else{var P=Object.keys(ae);ee=M?P.sort(M):P}var A=C?String(m).replace(/\./g,"%2E"):String(m),$=g&&i(ae)&&ae.length===1?A+"[]":A;if(S&&i(ae)&&ae.length===0)return $+"[]";for(var te=0;te<ee.length;++te){var pe=ee[te],R=typeof pe=="object"&&pe&&typeof pe.value<"u"?pe.value:ae[pe];if(!(I&&R===null)){var w=j&&C?String(pe).replace(/\./g,"%2E"):String(pe),x=i(ae)?typeof y=="function"?y($,w):$:$+(j?"."+w:"["+w+"]");le.set(b,V);var k=e();k.set(c,le),s(Z,v(R,x,y,g,S,T,I,C,y==="comma"&&ie&&i(ae)?null:B,D,M,j,O,q,Q,ie,X,k))}}return Z},_=function(b){if(!b)return f;if(typeof b.allowEmptyArrays<"u"&&typeof b.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof b.encodeDotInKeys<"u"&&typeof b.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(b.encoder!==null&&typeof b.encoder<"u"&&typeof b.encoder!="function")throw new TypeError("Encoder has to be a function.");var m=b.charset||f.charset;if(typeof b.charset<"u"&&b.charset!=="utf-8"&&b.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var y=r.default;if(typeof b.format<"u"){if(!n.call(r.formatters,b.format))throw new TypeError("Unknown format option provided.");y=b.format}var g=r.formatters[y],S=f.filter;(typeof b.filter=="function"||i(b.filter))&&(S=b.filter);var T;if(b.arrayFormat in a?T=b.arrayFormat:"indices"in b?T=b.indices?"indices":"repeat":T=f.arrayFormat,"commaRoundTrip"in b&&typeof b.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var I=typeof b.allowDots>"u"?b.encodeDotInKeys===!0?!0:f.allowDots:!!b.allowDots;return{addQueryPrefix:typeof b.addQueryPrefix=="boolean"?b.addQueryPrefix:f.addQueryPrefix,allowDots:I,allowEmptyArrays:typeof b.allowEmptyArrays=="boolean"?!!b.allowEmptyArrays:f.allowEmptyArrays,arrayFormat:T,charset:m,charsetSentinel:typeof b.charsetSentinel=="boolean"?b.charsetSentinel:f.charsetSentinel,commaRoundTrip:!!b.commaRoundTrip,delimiter:typeof b.delimiter>"u"?f.delimiter:b.delimiter,encode:typeof b.encode=="boolean"?b.encode:f.encode,encodeDotInKeys:typeof b.encodeDotInKeys=="boolean"?b.encodeDotInKeys:f.encodeDotInKeys,encoder:typeof b.encoder=="function"?b.encoder:f.encoder,encodeValuesOnly:typeof b.encodeValuesOnly=="boolean"?b.encodeValuesOnly:f.encodeValuesOnly,filter:S,format:y,formatter:g,serializeDate:typeof b.serializeDate=="function"?b.serializeDate:f.serializeDate,skipNulls:typeof b.skipNulls=="boolean"?b.skipNulls:f.skipNulls,sort:typeof b.sort=="function"?b.sort:null,strictNullHandling:typeof b.strictNullHandling=="boolean"?b.strictNullHandling:f.strictNullHandling}};return _1=function(v,b){var m=v,y=_(b),g,S;typeof y.filter=="function"?(S=y.filter,m=S("",m)):i(y.filter)&&(S=y.filter,g=S);var T=[];if(typeof m!="object"||m===null)return"";var I=a[y.arrayFormat],C=I==="comma"&&y.commaRoundTrip;g||(g=Object.keys(m)),y.sort&&g.sort(y.sort);for(var B=e(),D=0;D<g.length;++D){var M=g[D],j=m[M];y.skipNulls&&j===null||s(T,p(j,M,I,C,y.allowEmptyArrays,y.strictNullHandling,y.skipNulls,y.encodeDotInKeys,y.encode?y.encoder:null,y.filter,y.sort,y.allowDots,y.serializeDate,y.format,y.formatter,y.encodeValuesOnly,y.charset,B))}var O=T.join(y.delimiter),q=y.addQueryPrefix===!0?"?":"";return y.charsetSentinel&&(y.charset==="iso-8859-1"?q+="utf8=%26%2310003%3B&":q+="utf8=%E2%9C%93&"),O.length>0?q+O:""},_1}var b1,GC;function kY(){if(GC)return b1;GC=1;var e=C4(),t=Object.prototype.hasOwnProperty,r=Array.isArray,n={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:e.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},a=function(c){return c.replace(/&#(\d+);/g,function(p,_){return String.fromCharCode(parseInt(_,10))})},i=function(c,p,_){if(c&&typeof c=="string"&&p.comma&&c.indexOf(",")>-1)return c.split(",");if(p.throwOnLimitExceeded&&_>=p.arrayLimit)throw new RangeError("Array limit exceeded. Only "+p.arrayLimit+" element"+(p.arrayLimit===1?"":"s")+" allowed in an array.");return c},o="utf8=%26%2310003%3B",s="utf8=%E2%9C%93",u=function(p,_){var v={__proto__:null},b=_.ignoreQueryPrefix?p.replace(/^\?/,""):p;b=b.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var m=_.parameterLimit===1/0?void 0:_.parameterLimit,y=b.split(_.delimiter,_.throwOnLimitExceeded?m+1:m);if(_.throwOnLimitExceeded&&y.length>m)throw new RangeError("Parameter limit exceeded. Only "+m+" parameter"+(m===1?"":"s")+" allowed.");var g=-1,S,T=_.charset;if(_.charsetSentinel)for(S=0;S<y.length;++S)y[S].indexOf("utf8=")===0&&(y[S]===s?T="utf-8":y[S]===o&&(T="iso-8859-1"),g=S,S=y.length);for(S=0;S<y.length;++S)if(S!==g){var I=y[S],C=I.indexOf("]="),B=C===-1?I.indexOf("="):C+1,D,M;B===-1?(D=_.decoder(I,n.decoder,T,"key"),M=_.strictNullHandling?null:""):(D=_.decoder(I.slice(0,B),n.decoder,T,"key"),M=e.maybeMap(i(I.slice(B+1),_,r(v[D])?v[D].length:0),function(O){return _.decoder(O,n.decoder,T,"value")})),M&&_.interpretNumericEntities&&T==="iso-8859-1"&&(M=a(String(M))),I.indexOf("[]=")>-1&&(M=r(M)?[M]:M);var j=t.call(v,D);j&&_.duplicates==="combine"?v[D]=e.combine(v[D],M):(!j||_.duplicates==="last")&&(v[D]=M)}return v},l=function(c,p,_,v){var b=0;if(c.length>0&&c[c.length-1]==="[]"){var m=c.slice(0,-1).join("");b=Array.isArray(p)&&p[m]?p[m].length:0}for(var y=v?p:i(p,_,b),g=c.length-1;g>=0;--g){var S,T=c[g];if(T==="[]"&&_.parseArrays)S=_.allowEmptyArrays&&(y===""||_.strictNullHandling&&y===null)?[]:e.combine([],y);else{S=_.plainObjects?{__proto__:null}:{};var I=T.charAt(0)==="["&&T.charAt(T.length-1)==="]"?T.slice(1,-1):T,C=_.decodeDotInKeys?I.replace(/%2E/g,"."):I,B=parseInt(C,10);!_.parseArrays&&C===""?S={0:y}:!isNaN(B)&&T!==C&&String(B)===C&&B>=0&&_.parseArrays&&B<=_.arrayLimit?(S=[],S[B]=y):C!=="__proto__"&&(S[C]=y)}y=S}return y},f=function(p,_,v,b){if(p){var m=v.allowDots?p.replace(/\.([^.[]+)/g,"[$1]"):p,y=/(\[[^[\]]*])/,g=/(\[[^[\]]*])/g,S=v.depth>0&&y.exec(m),T=S?m.slice(0,S.index):m,I=[];if(T){if(!v.plainObjects&&t.call(Object.prototype,T)&&!v.allowPrototypes)return;I.push(T)}for(var C=0;v.depth>0&&(S=g.exec(m))!==null&&C<v.depth;){if(C+=1,!v.plainObjects&&t.call(Object.prototype,S[1].slice(1,-1))&&!v.allowPrototypes)return;I.push(S[1])}if(S){if(v.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+v.depth+" and strictDepth is true");I.push("["+m.slice(S.index)+"]")}return l(I,_,v,b)}},d=function(p){if(!p)return n;if(typeof p.allowEmptyArrays<"u"&&typeof p.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof p.decodeDotInKeys<"u"&&typeof p.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(p.decoder!==null&&typeof p.decoder<"u"&&typeof p.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof p.charset<"u"&&p.charset!=="utf-8"&&p.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof p.throwOnLimitExceeded<"u"&&typeof p.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var _=typeof p.charset>"u"?n.charset:p.charset,v=typeof p.duplicates>"u"?n.duplicates:p.duplicates;if(v!=="combine"&&v!=="first"&&v!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var b=typeof p.allowDots>"u"?p.decodeDotInKeys===!0?!0:n.allowDots:!!p.allowDots;return{allowDots:b,allowEmptyArrays:typeof p.allowEmptyArrays=="boolean"?!!p.allowEmptyArrays:n.allowEmptyArrays,allowPrototypes:typeof p.allowPrototypes=="boolean"?p.allowPrototypes:n.allowPrototypes,allowSparse:typeof p.allowSparse=="boolean"?p.allowSparse:n.allowSparse,arrayLimit:typeof p.arrayLimit=="number"?p.arrayLimit:n.arrayLimit,charset:_,charsetSentinel:typeof p.charsetSentinel=="boolean"?p.charsetSentinel:n.charsetSentinel,comma:typeof p.comma=="boolean"?p.comma:n.comma,decodeDotInKeys:typeof p.decodeDotInKeys=="boolean"?p.decodeDotInKeys:n.decodeDotInKeys,decoder:typeof p.decoder=="function"?p.decoder:n.decoder,delimiter:typeof p.delimiter=="string"||e.isRegExp(p.delimiter)?p.delimiter:n.delimiter,depth:typeof p.depth=="number"||p.depth===!1?+p.depth:n.depth,duplicates:v,ignoreQueryPrefix:p.ignoreQueryPrefix===!0,interpretNumericEntities:typeof p.interpretNumericEntities=="boolean"?p.interpretNumericEntities:n.interpretNumericEntities,parameterLimit:typeof p.parameterLimit=="number"?p.parameterLimit:n.parameterLimit,parseArrays:p.parseArrays!==!1,plainObjects:typeof p.plainObjects=="boolean"?p.plainObjects:n.plainObjects,strictDepth:typeof p.strictDepth=="boolean"?!!p.strictDepth:n.strictDepth,strictNullHandling:typeof p.strictNullHandling=="boolean"?p.strictNullHandling:n.strictNullHandling,throwOnLimitExceeded:typeof p.throwOnLimitExceeded=="boolean"?p.throwOnLimitExceeded:!1}};return b1=function(c,p){var _=d(p);if(c===""||c===null||typeof c>"u")return _.plainObjects?{__proto__:null}:{};for(var v=typeof c=="string"?u(c,_):c,b=_.plainObjects?{__proto__:null}:{},m=Object.keys(v),y=0;y<m.length;++y){var g=m[y],S=f(g,v[g],_,typeof c=="string");b=e.merge(b,S,_)}return _.allowSparse===!0?b:e.compact(b)},b1}var v1,WC;function FY(){if(WC)return v1;WC=1;var e=MY(),t=kY(),r=XE();return v1={formats:r,parse:t,stringify:e},v1}var jY=FY();const BY=Bh(jY);var qY=IY;function xi(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var $Y=/^([a-z0-9.+-]+:)/i,UY=/:[0-9]*$/,HY=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,VY=["<",">",'"',"`"," ","\r",`
`,"	"],zY=["{","}","|","\\","^","`"].concat(VY),oS=["'"].concat(zY),KC=["%","/","?",";","#"].concat(oS),ZC=["/","?","#"],GY=255,YC=/^[+a-z0-9A-Z_-]{0,63}$/,WY=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,KY={javascript:!0,"javascript:":!0},sS={javascript:!0,"javascript:":!0},Mu={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},uS=BY;function Jh(e,t,r){if(e&&typeof e=="object"&&e instanceof xi)return e;var n=new xi;return n.parse(e,t,r),n}xi.prototype.parse=function(e,t,r){if(typeof e!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e.indexOf("?"),a=n!==-1&&n<e.indexOf("#")?"?":"#",i=e.split(a),o=/\\/g;i[0]=i[0].replace(o,"/"),e=i.join(a);var s=e;if(s=s.trim(),!r&&e.split("#").length===1){var u=HY.exec(s);if(u)return this.path=s,this.href=s,this.pathname=u[1],u[2]?(this.search=u[2],t?this.query=uS.parse(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this}var l=$Y.exec(s);if(l){l=l[0];var f=l.toLowerCase();this.protocol=f,s=s.substr(l.length)}if(r||l||s.match(/^\/\/[^@/]+@[^@/]+/)){var d=s.substr(0,2)==="//";d&&!(l&&sS[l])&&(s=s.substr(2),this.slashes=!0)}if(!sS[l]&&(d||l&&!Mu[l])){for(var c=-1,p=0;p<ZC.length;p++){var _=s.indexOf(ZC[p]);_!==-1&&(c===-1||_<c)&&(c=_)}var v,b;c===-1?b=s.lastIndexOf("@"):b=s.lastIndexOf("@",c),b!==-1&&(v=s.slice(0,b),s=s.slice(b+1),this.auth=decodeURIComponent(v)),c=-1;for(var p=0;p<KC.length;p++){var _=s.indexOf(KC[p]);_!==-1&&(c===-1||_<c)&&(c=_)}c===-1&&(c=s.length),this.host=s.slice(0,c),s=s.slice(c),this.parseHost(),this.hostname=this.hostname||"";var m=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!m)for(var y=this.hostname.split(/\./),p=0,g=y.length;p<g;p++){var S=y[p];if(S&&!S.match(YC)){for(var T="",I=0,C=S.length;I<C;I++)S.charCodeAt(I)>127?T+="x":T+=S[I];if(!T.match(YC)){var B=y.slice(0,p),D=y.slice(p+1),M=S.match(WY);M&&(B.push(M[1]),D.unshift(M[2])),D.length&&(s="/"+D.join(".")+s),this.hostname=B.join(".");break}}}this.hostname.length>GY?this.hostname="":this.hostname=this.hostname.toLowerCase(),m||(this.hostname=qY.toASCII(this.hostname));var j=this.port?":"+this.port:"",O=this.hostname||"";this.host=O+j,this.href+=this.host,m&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),s[0]!=="/"&&(s="/"+s))}if(!KY[f])for(var p=0,g=oS.length;p<g;p++){var q=oS[p];if(s.indexOf(q)!==-1){var Q=encodeURIComponent(q);Q===q&&(Q=escape(q)),s=s.split(q).join(Q)}}var ie=s.indexOf("#");ie!==-1&&(this.hash=s.substr(ie),s=s.slice(0,ie));var X=s.indexOf("?");if(X!==-1?(this.search=s.substr(X),this.query=s.substr(X+1),t&&(this.query=uS.parse(this.query)),s=s.slice(0,X)):t&&(this.search="",this.query={}),s&&(this.pathname=s),Mu[f]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var j=this.pathname||"",le=this.search||"";this.path=j+le}return this.href=this.format(),this};function ZY(e){return typeof e=="string"&&(e=Jh(e)),e instanceof xi?e.format():xi.prototype.format.call(e)}xi.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",a=!1,i="";this.host?a=e+this.host:this.hostname&&(a=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(a+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(i=uS.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var o=this.search||i&&"?"+i||"";return t&&t.substr(-1)!==":"&&(t+=":"),this.slashes||(!t||Mu[t])&&a!==!1?(a="//"+(a||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):a||(a=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),r=r.replace(/[?#]/g,function(s){return encodeURIComponent(s)}),o=o.replace("#","%23"),t+a+r+o+n};function YY(e,t){return Jh(e,!1,!0).resolve(t)}xi.prototype.resolve=function(e){return this.resolveObject(Jh(e,!1,!0)).format()};function QY(e,t){return e?Jh(e,!1,!0).resolveObject(t):t}xi.prototype.resolveObject=function(e){if(typeof e=="string"){var t=new xi;t.parse(e,!1,!0),e=t}for(var r=new xi,n=Object.keys(this),a=0;a<n.length;a++){var i=n[a];r[i]=this[i]}if(r.hash=e.hash,e.href==="")return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var o=Object.keys(e),s=0;s<o.length;s++){var u=o[s];u!=="protocol"&&(r[u]=e[u])}return Mu[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!Mu[e.protocol]){for(var l=Object.keys(e),f=0;f<l.length;f++){var d=l[f];r[d]=e[d]}return r.href=r.format(),r}if(r.protocol=e.protocol,!e.host&&!sS[e.protocol]){for(var g=(e.pathname||"").split("/");g.length&&!(e.host=g.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),g[0]!==""&&g.unshift(""),g.length<2&&g.unshift(""),r.pathname=g.join("/")}else r.pathname=e.pathname;if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var c=r.pathname||"",p=r.search||"";r.path=c+p}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var _=r.pathname&&r.pathname.charAt(0)==="/",v=e.host||e.pathname&&e.pathname.charAt(0)==="/",b=v||_||r.host&&e.pathname,m=b,y=r.pathname&&r.pathname.split("/")||[],g=e.pathname&&e.pathname.split("/")||[],S=r.protocol&&!Mu[r.protocol];if(S&&(r.hostname="",r.port=null,r.host&&(y[0]===""?y[0]=r.host:y.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(g[0]===""?g[0]=e.host:g.unshift(e.host)),e.host=null),b=b&&(g[0]===""||y[0]==="")),v)r.host=e.host||e.host===""?e.host:r.host,r.hostname=e.hostname||e.hostname===""?e.hostname:r.hostname,r.search=e.search,r.query=e.query,y=g;else if(g.length)y||(y=[]),y.pop(),y=y.concat(g),r.search=e.search,r.query=e.query;else if(e.search!=null){if(S){r.host=y.shift(),r.hostname=r.host;var T=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;T&&(r.auth=T.shift(),r.hostname=T.shift(),r.host=r.hostname)}return r.search=e.search,r.query=e.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!y.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var I=y.slice(-1)[0],C=(r.host||e.host||y.length>1)&&(I==="."||I==="..")||I==="",B=0,D=y.length;D>=0;D--)I=y[D],I==="."?y.splice(D,1):I===".."?(y.splice(D,1),B++):B&&(y.splice(D,1),B--);if(!b&&!m)for(;B--;B)y.unshift("..");b&&y[0]!==""&&(!y[0]||y[0].charAt(0)!=="/")&&y.unshift(""),C&&y.join("/").substr(-1)!=="/"&&y.push("");var M=y[0]===""||y[0]&&y[0].charAt(0)==="/";if(S){r.hostname=M?"":y.length?y.shift():"",r.host=r.hostname;var T=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;T&&(r.auth=T.shift(),r.hostname=T.shift(),r.host=r.hostname)}return b=b||r.host&&y.length,b&&!M&&y.unshift(""),y.length>0?r.pathname=y.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r};xi.prototype.parseHost=function(){var e=this.host,t=UY.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};var XY=Jh,JY=YY,L4=QY,eQ=ZY,tQ=xi;function rQ(e,t){for(var r=0,n=e.length-1;n>=0;n--){var a=e[n];a==="."?e.splice(n,1):a===".."?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}function nQ(){for(var e="",t=!1,r=arguments.length-1;r>=-1&&!t;r--){var n=r>=0?arguments[r]:"/";if(typeof n!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!n)continue;e=n+"/"+e,t=n.charAt(0)==="/"}return e=rQ(iQ(e.split("/"),function(a){return!!a}),!t).join("/"),(t?"/":"")+e||"."}function iQ(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}var D4=function(e){function t(){var n=this||self;return delete e.prototype.__magic__,n}if(typeof globalThis=="object")return globalThis;if(this)return t();e.defineProperty(e.prototype,"__magic__",{configurable:!0,get:t});var r=__magic__;return r}(Object),aQ=eQ,N4=XY,M4=JY,k4=tQ,Fo=D4.URL,F4=D4.URLSearchParams,oQ=/%/g,sQ=/\\/g,uQ=/\n/g,lQ=/\r/g,fQ=/\t/g,cQ=47;function dQ(e){var t=e??null;return!!(t!==null&&(t!=null&&t.href)&&(t!=null&&t.origin))}function hQ(e){if(e.hostname!=="")throw new TypeError('File URL host must be "localhost" or empty on browser');for(var t=e.pathname,r=0;r<t.length;r++)if(t[r]==="%"){var n=t.codePointAt(r+2)|32;if(t[r+1]==="2"&&n===102)throw new TypeError("File URL path must not include encoded / characters")}return decodeURIComponent(t)}function pQ(e){return e.includes("%")&&(e=e.replace(oQ,"%25")),e.includes("\\")&&(e=e.replace(sQ,"%5C")),e.includes(`
`)&&(e=e.replace(uQ,"%0A")),e.includes("\r")&&(e=e.replace(lQ,"%0D")),e.includes("	")&&(e=e.replace(fQ,"%09")),e}var j4=function(t){if(typeof t>"u")throw new TypeError('The "domain" argument must be specified');return new Fo("http://"+t).hostname},B4=function(t){if(typeof t>"u")throw new TypeError('The "domain" argument must be specified');return new Fo("http://"+t).hostname},q4=function(t){var r=new Fo("file://"),n=nQ(t),a=t.charCodeAt(t.length-1);return a===cQ&&n[n.length-1]!=="/"&&(n+="/"),r.pathname=pQ(n),r},$4=function(t){if(!dQ(t)&&typeof t!="string")throw new TypeError('The "path" argument must be of type string or an instance of URL. Received type '+typeof t+" ("+t+")");var r=new Fo(t);if(r.protocol!=="file:")throw new TypeError("The URL must be of scheme file");return hQ(r)},U4=function(t,r){var n,a,i,o;if(r===void 0&&(r={}),!(t instanceof Fo))return aQ(t);if(typeof r!="object"||r===null)throw new TypeError('The "options" argument must be of type object.');var s=(n=r.auth)!=null?n:!0,u=(a=r.fragment)!=null?a:!0,l=(i=r.search)!=null?i:!0;(o=r.unicode)!=null;var f=new Fo(t.toString());return s||(f.username="",f.password=""),u||(f.hash=""),l||(f.search=""),f.toString()},mQ={format:U4,parse:N4,resolve:M4,resolveObject:L4,Url:k4,URL:Fo,URLSearchParams:F4,domainToASCII:j4,domainToUnicode:B4,pathToFileURL:q4,fileURLToPath:$4};const yQ=Object.freeze(Object.defineProperty({__proto__:null,URL:Fo,URLSearchParams:F4,Url:k4,default:mQ,domainToASCII:j4,domainToUnicode:B4,fileURLToPath:$4,format:U4,parse:N4,pathToFileURL:q4,resolve:M4,resolveObject:L4},Symbol.toStringTag,{value:"Module"})),H4=tl(yQ);var QC;function V4(){return QC||(QC=1,function(e){var t=SY(),r=O4(),n=EY(),a=xY(),i=H4,o=e;o.request=function(s,u){typeof s=="string"?s=i.parse(s):s=n(s);var l=xt.location.protocol.search(/^https?:$/)===-1?"http:":"",f=s.protocol||l,d=s.hostname||s.host,c=s.port,p=s.path||"/";d&&d.indexOf(":")!==-1&&(d="["+d+"]"),s.url=(d?f+"//"+d:"")+(c?":"+c:"")+p,s.method=(s.method||"GET").toUpperCase(),s.headers=s.headers||{};var _=new t(s);return u&&_.on("response",u),_},o.get=function(u,l){var f=o.request(u,l);return f.end(),f},o.ClientRequest=t,o.IncomingMessage=r.IncomingMessage,o.Agent=function(){},o.Agent.defaultMaxSockets=4,o.globalAgent=new o.Agent,o.STATUS_CODES=a,o.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}(Gv)),Gv}var w1={exports:{}},XC;function gQ(){return XC||(XC=1,function(e){var t=V4(),r=H4,n=e.exports;for(var a in t)t.hasOwnProperty(a)&&(n[a]=t[a]);n.request=function(o,s){return o=i(o),t.request.call(this,o,s)},n.get=function(o,s){return o=i(o),t.get.call(this,o,s)};function i(o){if(typeof o=="string"&&(o=r.parse(o)),o.protocol||(o.protocol="https:"),o.protocol!=="https:")throw new Error('Protocol "'+o.protocol+'" not supported. Expected "https:"');return o}}(w1)),w1.exports}var S1,JC;function _Q(){if(JC)return S1;JC=1;function e(C){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},e(C)}function t(C,B){var D=Object.keys(C);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(C);B&&(M=M.filter(function(j){return Object.getOwnPropertyDescriptor(C,j).enumerable})),D.push.apply(D,M)}return D}function r(C){for(var B=1;B<arguments.length;B++){var D=arguments[B]!=null?arguments[B]:{};B%2?t(Object(D),!0).forEach(function(M){n(C,M,D[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(D)):t(Object(D)).forEach(function(M){Object.defineProperty(C,M,Object.getOwnPropertyDescriptor(D,M))})}return C}function n(C,B,D){return(B=s(B))in C?Object.defineProperty(C,B,{value:D,enumerable:!0,configurable:!0,writable:!0}):C[B]=D,C}function a(C,B){if(!(C instanceof B))throw new TypeError("Cannot call a class as a function")}function i(C,B){for(var D=0;D<B.length;D++){var M=B[D];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(C,s(M.key),M)}}function o(C,B,D){return i(C.prototype,B),Object.defineProperty(C,"prototype",{writable:!1}),C}function s(C){var B=u(C,"string");return e(B)=="symbol"?B:B+""}function u(C,B){if(e(C)!="object"||!C)return C;var D=C[Symbol.toPrimitive];if(D!==void 0){var M=D.call(C,B);if(e(M)!="object")return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(C)}function l(C,B,D){return B=p(B),f(C,c()?Reflect.construct(B,D,p(C).constructor):B.apply(C,D))}function f(C,B){if(B&&(e(B)=="object"||typeof B=="function"))return B;if(B!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d(C)}function d(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}function c(){try{var C=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c=function(){return!!C})()}function p(C){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(B){return B.__proto__||Object.getPrototypeOf(B)},p(C)}function _(C,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(B&&B.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),Object.defineProperty(C,"prototype",{writable:!1}),B&&v(C,B)}function v(C,B){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(D,M){return D.__proto__=M,D},v(C,B)}var b=V4(),m=gQ(),y=pl(),g=y.Stream,S=Qh(),T=Yh(),I=T.configure;return S1=function(C){function B(){var D,M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return a(this,B),D=l(this,B,[M]),D.options=M,D.name=M.name||"http",D.ssl=!!M.ssl,D.host=M.host||"localhost",D.port=M.port,D.auth=M.auth,D.path=M.path||"",D.maximumDepth=M.maximumDepth,D.agent=M.agent,D.headers=M.headers||{},D.headers["content-type"]="application/json",D.batch=M.batch||!1,D.batchInterval=M.batchInterval||5e3,D.batchCount=M.batchCount||10,D.batchOptions=[],D.batchTimeoutID=-1,D.batchCallback={},D.port||(D.port=D.ssl?443:80),D}return _(B,C),o(B,[{key:"log",value:function(M,j){var O=this;this._request(M,null,null,function(q,Q){Q&&Q.statusCode!==200&&(q=new Error("Invalid HTTP Status Code: ".concat(Q.statusCode))),q?O.emit("warn",q):O.emit("logged",M)}),j&&setImmediate(j)}},{key:"query",value:function(M,j){typeof M=="function"&&(j=M,M={}),M={method:"query",params:this.normalizeQuery(M)};var O=M.params.auth||null;delete M.params.auth;var q=M.params.path||null;delete M.params.path,this._request(M,O,q,function(Q,ie,X){if(ie&&ie.statusCode!==200&&(Q=new Error("Invalid HTTP Status Code: ".concat(ie.statusCode))),Q)return j(Q);if(typeof X=="string")try{X=JSON.parse(X)}catch(le){return j(le)}j(null,X)})}},{key:"stream",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},j=new g;M={method:"stream",params:M};var O=M.params.path||null;delete M.params.path;var q=M.params.auth||null;delete M.params.auth;var Q="",ie=this._request(M,q,O);return j.destroy=function(){return ie.destroy()},ie.on("data",function(X){X=(Q+X).split(/\n+/);for(var le=X.length-1,ae=0;ae<le;ae++)try{j.emit("log",JSON.parse(X[ae]))}catch(ne){j.emit("error",ne)}Q=X[le]}),ie.on("error",function(X){return j.emit("error",X)}),j}},{key:"_request",value:function(M,j,O,q){M=M||{},j=j||this.auth,O=O||this.path||"",this.batch?this._doBatch(M,q,j,O):this._doRequest(M,q,j,O)}},{key:"_doBatch",value:function(M,j,O,q){if(this.batchOptions.push(M),this.batchOptions.length===1){var Q=this;this.batchCallback=j,this.batchTimeoutID=setTimeout(function(){Q.batchTimeoutID=-1,Q._doBatchRequest(Q.batchCallback,O,q)},this.batchInterval)}this.batchOptions.length===this.batchCount&&this._doBatchRequest(this.batchCallback,O,q)}},{key:"_doBatchRequest",value:function(M,j,O){this.batchTimeoutID>0&&(clearTimeout(this.batchTimeoutID),this.batchTimeoutID=-1);var q=this.batchOptions.slice();this.batchOptions=[],this._doRequest(q,M,j,O)}},{key:"_doRequest",value:function(M,j,O,q){var Q=Object.assign({},this.headers);O&&O.bearer&&(Q.Authorization="Bearer ".concat(O.bearer));var ie=(this.ssl?m:b).request(r(r({},this.options),{},{method:"POST",host:this.host,port:this.port,path:"/".concat(q.replace(/^\//,"")),headers:Q,auth:O&&O.username&&O.password?"".concat(O.username,":").concat(O.password):"",agent:this.agent}));ie.on("error",j),ie.on("response",function(le){return le.on("end",function(){return j(null,le)}).resume()});var X=I(r({},this.maximumDepth&&{maximumDepth:this.maximumDepth}));ie.end(Jn.from(X(M,this.options.replacer),"utf8"))}}])}(S),S1}var E1,e3;function JE(){if(e3)return E1;e3=1;const e=t=>t!==null&&typeof t=="object"&&typeof t.pipe=="function";return e.writable=t=>e(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object",e.readable=t=>e(t)&&t.readable!==!1&&typeof t._read=="function"&&typeof t._readableState=="object",e.duplex=t=>e.writable(t)&&e.readable(t),e.transform=t=>e.duplex(t)&&typeof t._transform=="function",E1=e,E1}var x1,t3;function bQ(){if(t3)return x1;t3=1;function e(y){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},e(y)}function t(y,g){if(!(y instanceof g))throw new TypeError("Cannot call a class as a function")}function r(y,g){for(var S=0;S<g.length;S++){var T=g[S];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(y,a(T.key),T)}}function n(y,g,S){return r(y.prototype,g),Object.defineProperty(y,"prototype",{writable:!1}),y}function a(y){var g=i(y,"string");return e(g)=="symbol"?g:g+""}function i(y,g){if(e(y)!="object"||!y)return y;var S=y[Symbol.toPrimitive];if(S!==void 0){var T=S.call(y,g);if(e(T)!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(y)}function o(y,g,S){return g=f(g),s(y,l()?Reflect.construct(g,S,f(y).constructor):g.apply(y,S))}function s(y,g){if(g&&(e(g)=="object"||typeof g=="function"))return g;if(g!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u(y)}function u(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}function l(){try{var y=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l=function(){return!!y})()}function f(y){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)},f(y)}function d(y,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(g&&g.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),Object.defineProperty(y,"prototype",{writable:!1}),g&&c(y,g)}function c(y,g){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(S,T){return S.__proto__=T,S},c(y,g)}var p=JE(),_=Lr(),v=_.MESSAGE,b=fl(),m=Qh();return x1=function(y){function g(){var S,T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(t(this,g),S=o(this,g,[T]),!T.stream||!p(T.stream))throw new Error("options.stream is required.");return S._stream=T.stream,S._stream.setMaxListeners(1/0),S.isObjectMode=T.stream._writableState.objectMode,S.eol=typeof T.eol=="string"?T.eol:b.EOL,S}return d(g,y),n(g,[{key:"log",value:function(T,I){var C=this;if(setImmediate(function(){return C.emit("logged",T)}),this.isObjectMode){this._stream.write(T),I&&I();return}this._stream.write("".concat(T[v]).concat(this.eol)),I&&I()}}])}(m),x1}var r3;function vQ(){return r3||(r3=1,function(e){Object.defineProperty(e,"Console",{configurable:!0,enumerable:!0,get:function(){return EZ()}}),Object.defineProperty(e,"File",{configurable:!0,enumerable:!0,get:function(){return yY()}}),Object.defineProperty(e,"Http",{configurable:!0,enumerable:!0,get:function(){return _Q()}}),Object.defineProperty(e,"Stream",{configurable:!0,enumerable:!0,get:function(){return bQ()}})}(vb)),vb}var _u={},n3;function ex(){if(n3)return _u;n3=1;var e=Vj(),t=Lr(),r=t.configs;return _u.cli=e.levels(r.cli),_u.npm=e.levels(r.npm),_u.syslog=e.levels(r.syslog),_u.addColors=e.levels,_u}var gm={exports:{}},_m={exports:{}},i3;function wQ(){return i3||(i3=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=GE(),n=b(r),a=WE(),i=b(a),o=e4(),s=b(o),u=Xj(),l=b(u),f=Jj(),d=b(f),c=cl(),p=b(c),_=Xh(),v=b(_);function b(S){return S&&S.__esModule?S:{default:S}}function m(S,T,I){I=(0,l.default)(I);var C=0,B=0,{length:D}=S,M=!1;D===0&&I(null);function j(O,q){O===!1&&(M=!0),M!==!0&&(O?I(O):(++B===D||q===i.default)&&I(null))}for(;C<D;C++)T(S[C],C,(0,d.default)(j))}function y(S,T,I){return(0,s.default)(S,1/0,T,I)}function g(S,T,I){var C=(0,n.default)(S)?m:y;return C(S,(0,p.default)(T),I)}t.default=(0,v.default)(g,3),e.exports=t.default}(_m,_m.exports)),_m.exports}var bm={exports:{}},a3;function SQ(){return a3||(a3=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(n){return(a,i,o)=>n(a,o)}e.exports=t.default}(bm,bm.exports)),bm.exports}var o3;function tx(){return o3||(o3=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=wQ(),n=f(r),a=SQ(),i=f(a),o=cl(),s=f(o),u=Xh(),l=f(u);function f(c){return c&&c.__esModule?c:{default:c}}function d(c,p,_){return(0,n.default)(c,(0,i.default)((0,s.default)(p)),_)}t.default=(0,l.default)(d,3),e.exports=t.default}(gm,gm.exports)),gm.exports}var T1,s3;function EQ(){if(s3)return T1;s3=1;var e=Object.prototype.toString;return T1=function(r){if(typeof r.displayName=="string"&&r.constructor.name)return r.displayName;if(typeof r.name=="string"&&r.name)return r.name;if(typeof r=="object"&&r.constructor&&typeof r.constructor.name=="string")return r.constructor.name;var n=r.toString(),a=e.call(r).slice(8,-1);return a==="Function"?n=n.substring(n.indexOf("(")+1,n.indexOf(")")):n=a,n||"anonymous"},T1}var R1,u3;function z4(){if(u3)return R1;u3=1;var e=EQ();return R1=function(r){var n=0,a;function i(){return n||(n=1,a=r.apply(this,arguments),r=null),a}return i.displayName=e(r),i},R1}var A1={},l3;function G4(){return l3||(l3=1,function(e){e.get=function(a){var i=Error.stackTraceLimit;Error.stackTraceLimit=1/0;var o={},s=Error.prepareStackTrace;Error.prepareStackTrace=function(l,f){return f},Error.captureStackTrace(o,a||e.get);var u=o.stack;return Error.prepareStackTrace=s,Error.stackTraceLimit=i,u},e.parse=function(a){if(!a.stack)return[];var i=this,o=a.stack.split(`
`).slice(1);return o.map(function(s){if(s.match(/^\s*[-]{4,}$/))return i._createParsedCallSite({fileName:s,lineNumber:null,functionName:null,typeName:null,methodName:null,columnNumber:null,native:null});var u=s.match(/at (?:(.+)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/);if(u){var l=null,f=null,d=null,c=null,p=null,_=u[5]==="native";if(u[1]){d=u[1];var v=d.lastIndexOf(".");if(d[v-1]=="."&&v--,v>0){l=d.substr(0,v),f=d.substr(v+1);var b=l.indexOf(".Module");b>0&&(d=d.substr(b+1),l=l.substr(0,b))}c=null}f&&(c=l,p=f),f==="<anonymous>"&&(p=null,d=null);var m={fileName:u[2]||null,lineNumber:parseInt(u[3],10)||null,functionName:d,typeName:c,methodName:p,columnNumber:parseInt(u[4],10)||null,native:_};return i._createParsedCallSite(m)}}).filter(function(s){return!!s})};function t(a){for(var i in a)this[i]=a[i]}var r=["this","typeName","functionName","methodName","fileName","lineNumber","columnNumber","function","evalOrigin"],n=["topLevel","eval","native","constructor"];r.forEach(function(a){t.prototype[a]=null,t.prototype["get"+a[0].toUpperCase()+a.substr(1)]=function(){return this[a]}}),n.forEach(function(a){t.prototype[a]=!1,t.prototype["is"+a[0].toUpperCase()+a.substr(1)]=function(){return this[a]}}),e._createParsedCallSite=function(a){return new t(a)}}(A1)),A1}var I1,f3;function xQ(){if(f3)return I1;f3=1;function e(v){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},e(v)}function t(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}function r(v,b){for(var m=0;m<b.length;m++){var y=b[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(v,a(y.key),y)}}function n(v,b,m){return r(v.prototype,b),Object.defineProperty(v,"prototype",{writable:!1}),v}function a(v){var b=i(v,"string");return e(b)=="symbol"?b:b+""}function i(v,b){if(e(v)!="object"||!v)return v;var m=v[Symbol.toPrimitive];if(m!==void 0){var y=m.call(v,b);if(e(y)!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(v)}function o(v,b,m){return b=f(b),s(v,l()?Reflect.construct(b,m,f(v).constructor):b.apply(v,m))}function s(v,b){if(b&&(e(b)=="object"||typeof b=="function"))return b;if(b!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u(v)}function u(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}function l(){try{var v=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l=function(){return!!v})()}function f(v){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(b){return b.__proto__||Object.getPrototypeOf(b)},f(v)}function d(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(b&&b.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),Object.defineProperty(v,"prototype",{writable:!1}),b&&c(v,b)}function c(v,b){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(m,y){return m.__proto__=y,m},c(v,b)}var p=pl(),_=p.Writable;return I1=function(v){function b(m){var y;if(t(this,b),y=o(this,b,[{objectMode:!0}]),!m)throw new Error("ExceptionStream requires a TransportStream instance.");return y.handleExceptions=!0,y.transport=m,y}return d(b,v),n(b,[{key:"_write",value:function(y,g,S){return y.exception?this.transport.log(y,S):(S(),!0)}}])}(_),I1}var O1,c3;function W4(){if(c3)return O1;c3=1;function e(c){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},e(c)}function t(c,p){if(!(c instanceof p))throw new TypeError("Cannot call a class as a function")}function r(c,p){for(var _=0;_<p.length;_++){var v=p[_];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(c,a(v.key),v)}}function n(c,p,_){return r(c.prototype,p),Object.defineProperty(c,"prototype",{writable:!1}),c}function a(c){var p=i(c,"string");return e(p)=="symbol"?p:p+""}function i(c,p){if(e(c)!="object"||!c)return c;var _=c[Symbol.toPrimitive];if(_!==void 0){var v=_.call(c,p);if(e(v)!="object")return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(c)}var o=fl(),s=tx(),u=q0()("winston:exception"),l=z4(),f=G4(),d=xQ();return O1=function(){function c(p){if(t(this,c),!p)throw new Error("Logger is required to handle exceptions");this.logger=p,this.handlers=new Map}return n(c,[{key:"handle",value:function(){for(var _=this,v=arguments.length,b=new Array(v),m=0;m<v;m++)b[m]=arguments[m];b.forEach(function(y){if(Array.isArray(y))return y.forEach(function(g){return _._addHandler(g)});_._addHandler(y)}),this.catcher||(this.catcher=this._uncaughtException.bind(this),ze.on("uncaughtException",this.catcher))}},{key:"unhandle",value:function(){var _=this;this.catcher&&(ze.removeListener("uncaughtException",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(function(v){return _.logger.unpipe(v)}))}},{key:"getAllInfo",value:function(_){var v=null;return _&&(v=typeof _=="string"?_:_.message),{error:_,level:"error",message:["uncaughtException: ".concat(v||"(no error message)"),_&&_.stack||"  No stack trace"].join(`
`),stack:_&&_.stack,exception:!0,date:new Date().toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(_)}}},{key:"getProcessInfo",value:function(){return{pid:ze.pid,uid:ze.getuid?ze.getuid():null,gid:ze.getgid?ze.getgid():null,cwd:ze.cwd(),execPath:ze.execPath,version:ze.version,argv:ze.argv,memoryUsage:ze.memoryUsage()}}},{key:"getOsInfo",value:function(){return{loadavg:o.loadavg(),uptime:o.uptime()}}},{key:"getTrace",value:function(_){var v=_?f.parse(_):f.get();return v.map(function(b){return{column:b.getColumnNumber(),file:b.getFileName(),function:b.getFunctionName(),line:b.getLineNumber(),method:b.getMethodName(),native:b.isNative()}})}},{key:"_addHandler",value:function(_){if(!this.handlers.has(_)){_.handleExceptions=!0;var v=new d(_);this.handlers.set(_,v),this.logger.pipe(v)}}},{key:"_uncaughtException",value:function(_){var v=this.getAllInfo(_),b=this._getExceptionHandlers(),m=typeof this.logger.exitOnError=="function"?this.logger.exitOnError(_):this.logger.exitOnError,y;!b.length&&m&&(console.warn("winston: exitOnError cannot be true with no exception handlers."),console.warn("winston: not exiting process."),m=!1);function g(){u("doExit",m),u("process._exiting",ze._exiting),m&&!ze._exiting&&(y&&clearTimeout(y),ze.exit(1))}if(!b||b.length===0)return ze.nextTick(g);s(b,function(S,T){var I=l(T),C=S.transport||S;function B(D){return function(){u(D),I()}}C._ending=!0,C.once("finish",B("finished")),C.once("error",B("error"))},function(){return m&&g()}),this.logger.log(v),m&&(y=setTimeout(g,3e3))}},{key:"_getExceptionHandlers",value:function(){return this.logger.transports.filter(function(_){var v=_.transport||_;return v.handleExceptions})}}])}(),O1}var P1,d3;function TQ(){if(d3)return P1;d3=1;function e(v){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},e(v)}function t(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}function r(v,b){for(var m=0;m<b.length;m++){var y=b[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(v,a(y.key),y)}}function n(v,b,m){return r(v.prototype,b),Object.defineProperty(v,"prototype",{writable:!1}),v}function a(v){var b=i(v,"string");return e(b)=="symbol"?b:b+""}function i(v,b){if(e(v)!="object"||!v)return v;var m=v[Symbol.toPrimitive];if(m!==void 0){var y=m.call(v,b);if(e(y)!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(v)}function o(v,b,m){return b=f(b),s(v,l()?Reflect.construct(b,m,f(v).constructor):b.apply(v,m))}function s(v,b){if(b&&(e(b)=="object"||typeof b=="function"))return b;if(b!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u(v)}function u(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}function l(){try{var v=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l=function(){return!!v})()}function f(v){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(b){return b.__proto__||Object.getPrototypeOf(b)},f(v)}function d(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(b&&b.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),Object.defineProperty(v,"prototype",{writable:!1}),b&&c(v,b)}function c(v,b){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(m,y){return m.__proto__=y,m},c(v,b)}var p=pl(),_=p.Writable;return P1=function(v){function b(m){var y;if(t(this,b),y=o(this,b,[{objectMode:!0}]),!m)throw new Error("RejectionStream requires a TransportStream instance.");return y.handleRejections=!0,y.transport=m,y}return d(b,v),n(b,[{key:"_write",value:function(y,g,S){return y.rejection?this.transport.log(y,S):(S(),!0)}}])}(_),P1}var C1,h3;function K4(){if(h3)return C1;h3=1;function e(c){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},e(c)}function t(c,p){if(!(c instanceof p))throw new TypeError("Cannot call a class as a function")}function r(c,p){for(var _=0;_<p.length;_++){var v=p[_];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(c,a(v.key),v)}}function n(c,p,_){return r(c.prototype,p),Object.defineProperty(c,"prototype",{writable:!1}),c}function a(c){var p=i(c,"string");return e(p)=="symbol"?p:p+""}function i(c,p){if(e(c)!="object"||!c)return c;var _=c[Symbol.toPrimitive];if(_!==void 0){var v=_.call(c,p);if(e(v)!="object")return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(c)}var o=fl(),s=tx(),u=q0()("winston:rejection"),l=z4(),f=G4(),d=TQ();return C1=function(){function c(p){if(t(this,c),!p)throw new Error("Logger is required to handle rejections");this.logger=p,this.handlers=new Map}return n(c,[{key:"handle",value:function(){for(var _=this,v=arguments.length,b=new Array(v),m=0;m<v;m++)b[m]=arguments[m];b.forEach(function(y){if(Array.isArray(y))return y.forEach(function(g){return _._addHandler(g)});_._addHandler(y)}),this.catcher||(this.catcher=this._unhandledRejection.bind(this),ze.on("unhandledRejection",this.catcher))}},{key:"unhandle",value:function(){var _=this;this.catcher&&(ze.removeListener("unhandledRejection",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(function(v){return _.logger.unpipe(v)}))}},{key:"getAllInfo",value:function(_){var v=null;return _&&(v=typeof _=="string"?_:_.message),{error:_,level:"error",message:["unhandledRejection: ".concat(v||"(no error message)"),_&&_.stack||"  No stack trace"].join(`
`),stack:_&&_.stack,rejection:!0,date:new Date().toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(_)}}},{key:"getProcessInfo",value:function(){return{pid:ze.pid,uid:ze.getuid?ze.getuid():null,gid:ze.getgid?ze.getgid():null,cwd:ze.cwd(),execPath:ze.execPath,version:ze.version,argv:ze.argv,memoryUsage:ze.memoryUsage()}}},{key:"getOsInfo",value:function(){return{loadavg:o.loadavg(),uptime:o.uptime()}}},{key:"getTrace",value:function(_){var v=_?f.parse(_):f.get();return v.map(function(b){return{column:b.getColumnNumber(),file:b.getFileName(),function:b.getFunctionName(),line:b.getLineNumber(),method:b.getMethodName(),native:b.isNative()}})}},{key:"_addHandler",value:function(_){if(!this.handlers.has(_)){_.handleRejections=!0;var v=new d(_);this.handlers.set(_,v),this.logger.pipe(v)}}},{key:"_unhandledRejection",value:function(_){var v=this.getAllInfo(_),b=this._getRejectionHandlers(),m=typeof this.logger.exitOnError=="function"?this.logger.exitOnError(_):this.logger.exitOnError,y;!b.length&&m&&(console.warn("winston: exitOnError cannot be true with no rejection handlers."),console.warn("winston: not exiting process."),m=!1);function g(){u("doExit",m),u("process._exiting",ze._exiting),m&&!ze._exiting&&(y&&clearTimeout(y),ze.exit(1))}if(!b||b.length===0)return ze.nextTick(g);s(b,function(S,T){var I=l(T),C=S.transport||S;function B(D){return function(){u(D),I()}}C._ending=!0,C.once("finish",B("finished")),C.once("error",B("error"))},function(){return m&&g()}),this.logger.log(v),m&&(y=setTimeout(g,3e3))}},{key:"_getRejectionHandlers",value:function(){return this.logger.transports.filter(function(_){var v=_.transport||_;return v.handleRejections})}}])}(),C1}var L1={exports:{}},D1={exports:{}},p3;function RQ(){if(p3)return D1.exports;p3=1;const e=Pr(),t=zE(),{LEVEL:r}=Lr(),n=D1.exports=function(i={}){t.call(this,{objectMode:!0,highWaterMark:i.highWaterMark}),this.format=i.format,this.level=i.level,this.handleExceptions=i.handleExceptions,this.handleRejections=i.handleRejections,this.silent=i.silent,i.log&&(this.log=i.log),i.logv&&(this.logv=i.logv),i.close&&(this.close=i.close),this.once("pipe",o=>{this.levels=o.levels,this.parent=o}),this.once("unpipe",o=>{o===this.parent&&(this.parent=null,this.close&&this.close())})};return e.inherits(n,t),n.prototype._write=function(i,o,s){if(this.silent||i.exception===!0&&!this.handleExceptions)return s(null);const u=this.level||this.parent&&this.parent.level;if(!u||this.levels[u]>=this.levels[i[r]]){if(i&&!this.format)return this.log(i,s);let l,f;try{f=this.format.transform(Object.assign({},i),this.format.options)}catch(d){l=d}if(l||!f){if(s(),l)throw l;return}return this.log(f,s)}return this._writableState.sync=!1,s(null)},n.prototype._writev=function(i,o){if(this.logv){const s=i.filter(this._accept,this);return s.length?this.logv(s,o):o(null)}for(let s=0;s<i.length;s++){if(!this._accept(i[s]))continue;if(i[s].chunk&&!this.format){this.log(i[s].chunk,i[s].callback);continue}let u,l;try{l=this.format.transform(Object.assign({},i[s].chunk),this.format.options)}catch(f){u=f}if(u||!l){if(i[s].callback(),u)throw o(null),u}else this.log(l,i[s].callback)}return o(null)},n.prototype._accept=function(i){const o=i.chunk;if(this.silent)return!1;const s=this.level||this.parent&&this.parent.level;return!!((o.exception===!0||!s||this.levels[s]>=this.levels[o[r]])&&(this.handleExceptions||o.exception!==!0))},n.prototype._nop=function(){},D1.exports}var m3;function AQ(){if(m3)return L1.exports;m3=1;const e=Pr(),{LEVEL:t}=Lr(),r=RQ(),n=L1.exports=function(i={}){if(r.call(this,i),!i.transport||typeof i.transport.log!="function")throw new Error("Invalid transport, must be an object with a log method.");this.transport=i.transport,this.level=this.level||i.transport.level,this.handleExceptions=this.handleExceptions||i.transport.handleExceptions,this._deprecated();function o(s){this.emit("error",s,this.transport)}this.transport.__winstonError||(this.transport.__winstonError=o.bind(this),this.transport.on("error",this.transport.__winstonError))};return e.inherits(n,r),n.prototype._write=function(i,o,s){if(this.silent||i.exception===!0&&!this.handleExceptions)return s(null);(!this.level||this.levels[this.level]>=this.levels[i[t]])&&this.transport.log(i[t],i.message,i,this._nop),s(null)},n.prototype._writev=function(i,o){for(let s=0;s<i.length;s++)this._accept(i[s])&&(this.transport.log(i[s].chunk[t],i[s].chunk.message,i[s].chunk,this._nop),i[s].callback());return o(null)},n.prototype._deprecated=function(){console.error([`${this.transport.name} is a legacy winston transport. Consider upgrading: `,"- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md"].join(`
`))},n.prototype.close=function(){this.transport.close&&this.transport.close(),this.transport.__winstonError&&(this.transport.removeListener("error",this.transport.__winstonError),this.transport.__winstonError=null)},L1.exports}var N1,y3;function IQ(){if(y3)return N1;y3=1;function e(s){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},e(s)}function t(s,u){if(!(s instanceof u))throw new TypeError("Cannot call a class as a function")}function r(s,u){for(var l=0;l<u.length;l++){var f=u[l];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(s,a(f.key),f)}}function n(s,u,l){return r(s.prototype,u),Object.defineProperty(s,"prototype",{writable:!1}),s}function a(s){var u=i(s,"string");return e(u)=="symbol"?u:u+""}function i(s,u){if(e(s)!="object"||!s)return s;var l=s[Symbol.toPrimitive];if(l!==void 0){var f=l.call(s,u);if(e(f)!="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}var o=function(){function s(u){t(this,s);var l=rx();if(e(u)!=="object"||Array.isArray(u)||!(u instanceof l))throw new Error("Logger is required for profiling");this.logger=u,this.start=Date.now()}return n(s,[{key:"done",value:function(){for(var l=arguments.length,f=new Array(l),d=0;d<l;d++)f[d]=arguments[d];typeof f[f.length-1]=="function"&&(console.warn("Callback function no longer supported as of winston@3.0.0"),f.pop());var c=e(f[f.length-1])==="object"?f.pop():{};return c.level=c.level||"info",c.durationMs=Date.now()-this.start,this.logger.write(c)}}])}();return N1=o,N1}var M1,g3;function OQ(){if(g3)return M1;g3=1;class e extends Error{constructor(r){super(`Format functions must be synchronous taking a two arguments: (info, opts)
Found: ${r.toString().split(`
`)[0]}
`),Error.captureStackTrace(this,e)}}return M1=t=>{if(t.length>2)throw new e(t);function r(a={}){this.options=a}r.prototype.transform=t;function n(a){return new r(a)}return n.Format=r,n},M1}var k1,_3;function PQ(){if(_3)return k1;_3=1;const e=OQ(),{MESSAGE:t}=Lr(),r=Yh();function n(a,i){return typeof i=="bigint"?i.toString():i}return k1=e((a,i)=>{const o=r.configure(i);return a[t]=o(a,i.replacer||n,i.space),a}),k1}var F1,b3;function rx(){if(b3)return F1;b3=1;function e(X,le,ae){return(le=i(le))in X?Object.defineProperty(X,le,{value:ae,enumerable:!0,configurable:!0,writable:!0}):X[le]=ae,X}function t(X){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(le){return typeof le}:function(le){return le&&typeof Symbol=="function"&&le.constructor===Symbol&&le!==Symbol.prototype?"symbol":typeof le},t(X)}function r(X,le){if(!(X instanceof le))throw new TypeError("Cannot call a class as a function")}function n(X,le){for(var ae=0;ae<le.length;ae++){var ne=le[ae];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(X,i(ne.key),ne)}}function a(X,le,ae){return n(X.prototype,le),Object.defineProperty(X,"prototype",{writable:!1}),X}function i(X){var le=o(X,"string");return t(le)=="symbol"?le:le+""}function o(X,le){if(t(X)!="object"||!X)return X;var ae=X[Symbol.toPrimitive];if(ae!==void 0){var ne=ae.call(X,le);if(t(ne)!="object")return ne;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(X)}function s(X,le,ae){return le=d(le),u(X,f()?Reflect.construct(le,ae,d(X).constructor):le.apply(X,ae))}function u(X,le){if(le&&(t(le)=="object"||typeof le=="function"))return le;if(le!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l(X)}function l(X){if(X===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return X}function f(){try{var X=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f=function(){return!!X})()}function d(X){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(le){return le.__proto__||Object.getPrototypeOf(le)},d(X)}function c(X,le){if(typeof le!="function"&&le!==null)throw new TypeError("Super expression must either be null or a function");X.prototype=Object.create(le&&le.prototype,{constructor:{value:X,writable:!0,configurable:!0}}),Object.defineProperty(X,"prototype",{writable:!1}),le&&p(X,le)}function p(X,le){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ae,ne){return ae.__proto__=ne,ae},p(X,le)}var _=pl(),v=_.Stream,b=_.Transform,m=tx(),y=Lr(),g=y.LEVEL,S=y.SPLAT,T=JE(),I=W4(),C=K4(),B=AQ(),D=IQ(),M=zj(),j=M.warn,O=ex(),q=/%[scdjifoO%]/g,Q=function(X){function le(ae){var ne;return r(this,le),ne=s(this,le,[{objectMode:!0}]),ne.configure(ae),ne}return c(le,X),a(le,[{key:"child",value:function(ne){var V=this;return Object.create(V,{write:{value:function(he){var Y=Object.assign({},ne,he);he instanceof Error&&(Y.stack=he.stack,Y.message=he.message),V.write(Y)}}})}},{key:"configure",value:function(){var ne=this,V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},oe=V.silent,he=V.format,Y=V.defaultMeta,Z=V.levels,ee=V.level,P=ee===void 0?"info":ee,A=V.exitOnError,$=A===void 0?!0:A,te=V.transports,pe=V.colors,R=V.emitErrs,w=V.formatters,x=V.padLevels,k=V.rewriters,U=V.stripColors,re=V.exceptionHandlers,fe=V.rejectionHandlers;if(this.transports.length&&this.clear(),this.silent=oe,this.format=he||this.format||PQ()(),this.defaultMeta=Y||null,this.levels=Z||this.levels||O.npm.levels,this.level=P,this.exceptions&&this.exceptions.unhandle(),this.rejections&&this.rejections.unhandle(),this.exceptions=new I(this),this.rejections=new C(this),this.profilers={},this.exitOnError=$,te&&(te=Array.isArray(te)?te:[te],te.forEach(function(ve){return ne.add(ve)})),pe||R||w||x||k||U)throw new Error(["{ colors, emitErrs, formatters, padLevels, rewriters, stripColors } were removed in winston@3.0.0.","Use a custom winston.format(function) instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join(`
`));re&&this.exceptions.handle(re),fe&&this.rejections.handle(fe)}},{key:"isLevelEnabled",value:function(ne){var V=this,oe=ie(this.levels,ne);if(oe===null)return!1;var he=ie(this.levels,this.level);if(he===null)return!1;if(!this.transports||this.transports.length===0)return he>=oe;var Y=this.transports.findIndex(function(Z){var ee=ie(V.levels,Z.level);return ee===null&&(ee=he),ee>=oe});return Y!==-1}},{key:"log",value:function(ne,V){for(var oe=arguments.length,he=new Array(oe>2?oe-2:0),Y=2;Y<oe;Y++)he[Y-2]=arguments[Y];if(arguments.length===1)return ne[g]=ne.level,this._addDefaultMeta(ne),this.write(ne),this;if(arguments.length===2)return V&&t(V)==="object"?(V[g]=V.level=ne,this._addDefaultMeta(V),this.write(V),this):(V=e(e(e({},g,ne),"level",ne),"message",V),this._addDefaultMeta(V),this.write(V),this);var Z=he[0];if(t(Z)==="object"&&Z!==null){var ee=V&&V.match&&V.match(q);if(!ee){var P=Object.assign({},this.defaultMeta,Z,e(e(e(e({},g,ne),S,he),"level",ne),"message",V));return Z.message&&(P.message="".concat(P.message," ").concat(Z.message)),Z.stack&&(P.stack=Z.stack),Z.cause&&(P.cause=Z.cause),this.write(P),this}}return this.write(Object.assign({},this.defaultMeta,e(e(e(e({},g,ne),S,he),"level",ne),"message",V))),this}},{key:"_transform",value:function(ne,V,oe){if(this.silent)return oe();ne[g]||(ne[g]=ne.level),!this.levels[ne[g]]&&this.levels[ne[g]]!==0&&console.error("[winston] Unknown logger level: %s",ne[g]),this._readableState.pipes||console.error("[winston] Attempt to write logs with no transports, which can increase memory usage: %j",ne);try{this.push(this.format.transform(ne,this.format.options))}finally{this._writableState.sync=!1,oe()}}},{key:"_final",value:function(ne){var V=this.transports.slice();m(V,function(oe,he){if(!oe||oe.finished)return setImmediate(he);oe.once("finish",he),oe.end()},ne)}},{key:"add",value:function(ne){var V=!T(ne)||ne.log.length>2?new B({transport:ne}):ne;if(!V._writableState||!V._writableState.objectMode)throw new Error("Transports must WritableStreams in objectMode. Set { objectMode: true }.");return this._onEvent("error",V),this._onEvent("warn",V),this.pipe(V),ne.handleExceptions&&this.exceptions.handle(),ne.handleRejections&&this.rejections.handle(),this}},{key:"remove",value:function(ne){if(!ne)return this;var V=ne;return(!T(ne)||ne.log.length>2)&&(V=this.transports.filter(function(oe){return oe.transport===ne})[0]),V&&this.unpipe(V),this}},{key:"clear",value:function(){return this.unpipe(),this}},{key:"close",value:function(){return this.exceptions.unhandle(),this.rejections.unhandle(),this.clear(),this.emit("close"),this}},{key:"setLevels",value:function(){j.deprecated("setLevels")}},{key:"query",value:function(ne,V){typeof ne=="function"&&(V=ne,ne={}),ne=ne||{};var oe={},he=Object.assign({},ne.query||{});function Y(ee,P){ne.query&&typeof ee.formatQuery=="function"&&(ne.query=ee.formatQuery(he)),ee.query(ne,function(A,$){if(A)return P(A);typeof ee.formatResults=="function"&&($=ee.formatResults($,ne.format)),P(null,$)})}function Z(ee,P){Y(ee,function(A,$){P&&($=A||$,$&&(oe[ee.name]=$),P()),P=null})}m(this.transports.filter(function(ee){return!!ee.query}),Z,function(){return V(null,oe)})}},{key:"stream",value:function(){var ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},V=new v,oe=[];return V._streams=oe,V.destroy=function(){for(var he=oe.length;he--;)oe[he].destroy()},this.transports.filter(function(he){return!!he.stream}).forEach(function(he){var Y=he.stream(ne);Y&&(oe.push(Y),Y.on("log",function(Z){Z.transport=Z.transport||[],Z.transport.push(he.name),V.emit("log",Z)}),Y.on("error",function(Z){Z.transport=Z.transport||[],Z.transport.push(he.name),V.emit("error",Z)}))}),V}},{key:"startTimer",value:function(){return new D(this)}},{key:"profile",value:function(ne){var V=Date.now();if(this.profilers[ne]){var oe=this.profilers[ne];delete this.profilers[ne];for(var he=arguments.length,Y=new Array(he>1?he-1:0),Z=1;Z<he;Z++)Y[Z-1]=arguments[Z];typeof Y[Y.length-2]=="function"&&(console.warn("Callback function no longer supported as of winston@3.0.0"),Y.pop());var ee=t(Y[Y.length-1])==="object"?Y.pop():{};return ee.level=ee.level||"info",ee.durationMs=V-oe,ee.message=ee.message||ne,this.write(ee)}return this.profilers[ne]=V,this}},{key:"handleExceptions",value:function(){var ne;console.warn("Deprecated: .handleExceptions() will be removed in winston@4. Use .exceptions.handle()"),(ne=this.exceptions).handle.apply(ne,arguments)}},{key:"unhandleExceptions",value:function(){var ne;console.warn("Deprecated: .unhandleExceptions() will be removed in winston@4. Use .exceptions.unhandle()"),(ne=this.exceptions).unhandle.apply(ne,arguments)}},{key:"cli",value:function(){throw new Error(["Logger.cli() was removed in winston@3.0.0","Use a custom winston.formats.cli() instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join(`
`))}},{key:"_onEvent",value:function(ne,V){function oe(he){ne==="error"&&!this.transports.includes(V)&&this.add(V),this.emit(ne,he,V)}V["__winston"+ne]||(V["__winston"+ne]=oe.bind(this),V.on(ne,V["__winston"+ne]))}},{key:"_addDefaultMeta",value:function(ne){this.defaultMeta&&Object.assign(ne,this.defaultMeta)}}])}(b);function ie(X,le){var ae=X[le];return!ae&&ae!==0?null:ae}return Object.defineProperty(Q.prototype,"transports",{configurable:!1,enumerable:!0,get:function(){var le=this._readableState.pipes;return Array.isArray(le)?le:[le].filter(Boolean)}}),F1=Q,F1}var j1,v3;function Z4(){if(v3)return j1;v3=1;function e(b){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},e(b)}function t(b,m,y){return Object.defineProperty(b,"prototype",{writable:!1}),b}function r(b,m){if(!(b instanceof m))throw new TypeError("Cannot call a class as a function")}function n(b,m,y){return m=s(m),a(b,o()?Reflect.construct(m,y,s(b).constructor):m.apply(b,y))}function a(b,m){if(m&&(e(m)=="object"||typeof m=="function"))return m;if(m!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i(b)}function i(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}function o(){try{var b=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o=function(){return!!b})()}function s(b){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},s(b)}function u(b,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(m&&m.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),Object.defineProperty(b,"prototype",{writable:!1}),m&&l(b,m)}function l(b,m){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,g){return y.__proto__=g,y},l(b,m)}var f=Lr(),d=f.LEVEL,c=ex(),p=rx(),_=q0()("winston:create-logger");function v(b){return"is"+b.charAt(0).toUpperCase()+b.slice(1)+"Enabled"}return j1=function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};b.levels=b.levels||c.npm.levels;var m=function(g){function S(T){return r(this,S),n(this,S,[T])}return u(S,g),t(S)}(p),y=new m(b);return Object.keys(b.levels).forEach(function(g){if(_('Define prototype method for "%s"',g),g==="log"){console.warn('Level "log" not defined: conflicts with the method "log". Use a different level name.');return}m.prototype[g]=function(){for(var S=this||y,T=arguments.length,I=new Array(T),C=0;C<T;C++)I[C]=arguments[C];if(I.length===1){var B=I[0],D=B&&B.message&&B||{message:B};return D.level=D[d]=g,S._addDefaultMeta(D),S.write(D),this||y}return I.length===0?(S.log(g,""),S):S.log.apply(S,[g].concat(I))},m.prototype[v(g)]=function(){return(this||y).isLevelEnabled(g)}}),y},j1}var B1,w3;function CQ(){if(w3)return B1;w3=1;function e(s){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},e(s)}function t(s,u){if(!(s instanceof u))throw new TypeError("Cannot call a class as a function")}function r(s,u){for(var l=0;l<u.length;l++){var f=u[l];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(s,a(f.key),f)}}function n(s,u,l){return r(s.prototype,u),Object.defineProperty(s,"prototype",{writable:!1}),s}function a(s){var u=i(s,"string");return e(u)=="symbol"?u:u+""}function i(s,u){if(e(s)!="object"||!s)return s;var l=s[Symbol.toPrimitive];if(l!==void 0){var f=l.call(s,u);if(e(f)!="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}var o=Z4();return B1=function(){function s(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t(this,s),this.loggers=new Map,this.options=u}return n(s,[{key:"add",value:function(l,f){var d=this;if(!this.loggers.has(l)){f=Object.assign({},f||this.options);var c=f.transports||this.options.transports;c?f.transports=Array.isArray(c)?c.slice():[c]:f.transports=[];var p=o(f);p.on("close",function(){return d._delete(l)}),this.loggers.set(l,p)}return this.loggers.get(l)}},{key:"get",value:function(l,f){return this.add(l,f)}},{key:"has",value:function(l){return!!this.loggers.has(l)}},{key:"close",value:function(l){var f=this;if(l)return this._removeLogger(l);this.loggers.forEach(function(d,c){return f._removeLogger(c)})}},{key:"_removeLogger",value:function(l){if(this.loggers.has(l)){var f=this.loggers.get(l);f.close(),this._delete(l)}}},{key:"_delete",value:function(l){this.loggers.delete(l)}}])}(),B1}var S3;function LQ(){return S3||(S3=1,function(e){var t=Vj(),r=zj(),n=r.warn;e.version=yZ.version,e.transports=vQ(),e.config=ex(),e.addColors=t.levels,e.format=t.format,e.createLogger=Z4(),e.Logger=rx(),e.ExceptionHandler=W4(),e.RejectionHandler=K4(),e.Container=CQ(),e.Transport=Qh(),e.loggers=new e.Container;var a=e.createLogger();Object.keys(e.config.npm.levels).concat(["log","query","stream","add","remove","clear","profile","startTimer","handleExceptions","unhandleExceptions","handleRejections","unhandleRejections","configure","child"]).forEach(function(i){return e[i]=function(){return a[i].apply(a,arguments)}}),Object.defineProperty(e,"level",{get:function(){return a.level},set:function(o){a.level=o}}),Object.defineProperty(e,"exceptions",{get:function(){return a.exceptions}}),Object.defineProperty(e,"rejections",{get:function(){return a.rejections}}),["exitOnError"].forEach(function(i){Object.defineProperty(e,i,{get:function(){return a[i]},set:function(s){a[i]=s}})}),Object.defineProperty(e,"default",{get:function(){return{exceptionHandlers:a.exceptionHandlers,rejectionHandlers:a.rejectionHandlers,transports:a.transports}}}),n.deprecated(e,"setLevels"),n.forFunctions(e,"useFormat",["cli"]),n.forProperties(e,"useFormat",["padLevels","stripColors"]),n.forFunctions(e,"deprecated",["addRewriter","addFilter","clone","extend"]),n.forProperties(e,"deprecated",["emitErrs","levelLength"])}(Vg)),Vg}var Ps=LQ();const Y4=Bh(Ps);var q1={};const Q4="ldes-client",X4=new Y4.transports.Console;var LM;typeof ze<"u"&&(X4.level=q1.LOG_LEVEL||((LM=q1.DEBUG)!=null&&LM.includes(Q4)||q1.DEBUG==="*"?"debug":"info"));const $1=new WeakMap,U1=new Map;function si(e){let t;if(typeof e=="string")U1.has(e)?t=U1.get(e):(t=E3(e),U1.set(e,t));else{const{constructor:r}=e;$1.has(r)?t=$1.get(r):(t=E3(r.name),$1.set(r,t))}return t}function E3(e){return Y4.createLogger({format:Ps.format.combine(Ps.format.label({label:e}),Ps.format.colorize(),Ps.format.timestamp(),Ps.format.metadata({fillExcept:["level","timestamp","label","message"]}),Ps.format.printf(({level:t,message:r,label:n,timestamp:a})=>`${a} {${Q4}} [${n}] ${t}: ${r}`)),transports:[X4]})}const DQ=si("Utils"),lS=new FE.DataFactory;function x3(e,t,r,n){return e.getQuads(null,t,r,n).map(a=>a.subject)}function Vr(e,t,r,n){return e.getQuads(t,r,null,n).map(a=>a.object)}function NQ(e){const t=[];return new Promise((r,n)=>{e.on("end",()=>r(t)),e.on("data",a=>{t.push(a)}),e.on("error",a=>{DQ.error("[streamToArray] Stream to Array failed"),n(a)})})}function MQ(e){const t=x3(e,mt.RDF.terms.type,mt.SHACL.terms.NodeShape,null);let r=null;if(t&&t.length>0){for(const n of t)if(x3(e,null,n,null).length===0)if(!r)r=n;else throw new Error("There are multiple main node shapes in a given shape graph. Unrelated shapes must be given as separate shape graphs");if(r)return r;throw new Error("No main SHACL Node Shapes found in given shape graph")}else throw new Error("No SHACL Node Shapes found in given shape graph")}class kQ{constructor(t,r){Ye(this,"concurrent",10);Ye(this,"paused",!1);Ye(this,"factory");Ye(this,"children",[]);this.factory=t,r&&(this.concurrent=r)}create(t,r,n,a){const i=this.factory.build(t,JSON.stringify,JSON.parse,()=>({todo:[],inflight:[]}));a&&(i.item.todo=i.item.todo.map(({item:s,index:u})=>({index:u,item:a(s)})),i.item.inflight=i.item.inflight.map(({item:s,index:u})=>({index:u,item:a(s)})));const o=new FQ(i,r,n,this);return this.children.push(o),o}pause(){this.paused=!0}unpause(){this.paused=!1,this.children.forEach(t=>t.checkReady())}}class FQ{constructor(t,r,n,a){Ye(this,"at",0);Ye(this,"index",0);Ye(this,"state");Ye(this,"ranker");Ye(this,"notifier");Ye(this,"factory");Ye(this,"logger",si(this));this.state=t;const i=[...this.state.item.todo,...this.state.item.inflight];for(this.state.item.todo.push(...this.state.item.inflight);this.state.item.inflight.pop(););for(;this.state.item.todo.pop(););this.ranker=r,this.notifier=n,this.factory=a;for(const o of i)this.push(o.item)}length(){return this.state.item.todo.length}push(t){const r={item:t,index:this.index};this.state.item.todo.push(r),this.index+=1,this.ranker.push(r),this.checkReady()}finished(t){const r=this.state.item.inflight.findIndex(n=>n.index==t);r>=0?this.state.item.inflight.splice(r,1):this.logger.error("[finished] Expected to be able to remove inflight item"),this.at-=1,this.checkReady()}checkReady(){if(!this.factory.paused)for(;this.at<this.factory.concurrent;){const t=this.ranker.pop();if(t){const r=this.state.item.todo.findIndex(n=>n.index==t.index);r>=0?this.state.item.todo.splice(r,1):this.logger.error("[checkReady] Expected to be able to remove inflight item"),this.state.item.inflight.push(t),this.at+=1,this.notifier.ready(t,{})}else break}}}function jQ(e,t,r,n,a){var u,l,f;let i;if(r){const d=(u=t.find(c=>c.subject.equals(e)&&c.predicate.equals(r)))==null?void 0:u.object.value;if(d)try{i=new Date(d)}catch{i=d}}let o;n&&(o=(l=t.find(d=>d.subject.equals(e)&&d.predicate.equals(n)))==null?void 0:l.object.value);const s=(f=t.find(d=>d.subject.equals(e)&&d.predicate.value===mt.RDF.type))==null?void 0:f.object;return{quads:t,id:e,isVersionOf:o,timestamp:i,type:s,created:a}}function BQ(e,t,r){if(t&&r.isVersionOfPath){const n=Hu.RdfStore.createDefault();e.quads.forEach(i=>n.addQuad(i));const a=Vr(n,e.id,r.isVersionOfPath)[0];if(a){n.removeQuad(lS.quad(e.id,r.isVersionOfPath,a));for(const i of n.getQuads(e.id)){const o=lS.quad(a,i.predicate,i.object,i.graph);n.removeQuad(i),n.addQuad(o)}e.id=a,e.quads=n.getQuads()}else console.error(`No version property found in Member (${e.id}) as specified by ldes:isVersionOfPath ${r.isVersionOfPath}`)}return e}function qQ(e,t,r,n,a){let i=J4();const o=s=>lS.literal(s.toISOString(),mt.XSD.terms.dateTime);if(r){if(!a)throw"Cannot apply 'before' or 'after' filters since the target LDES does not define a ldes:timestampPath predicate";const s=bi(a),u=new H1({relationType:mt.TREE.terms.LessThanRelation,value:o(r),compareType:"date",path:s,pathQuads:{entry:a,quads:[]},defaultTimezone:t});if(n){const l=new H1({relationType:mt.TREE.terms.GreaterThanRelation,value:o(n),compareType:"date",path:s,pathQuads:{entry:a,quads:[]},defaultTimezone:t});i=new T3({items:[u,l]})}else i=u}else if(n){if(!a)throw"Cannot apply 'before' or 'after' filters since the target LDES does not define a ldes:timestampPath predicate";const s=bi(a);i=new H1({relationType:mt.TREE.terms.GreaterThanRelation,value:o(n),compareType:"date",path:s,pathQuads:{entry:a,quads:[]},defaultTimezone:t})}return e instanceof rB?i:new T3({items:[e,i]})}function nx(e,t){const r=(i,o)=>{const s=i.predicate.value,u=o.predicate.value;return s==u?0:s<u?-1:1},n=e.store.getQuads(e.id,null,null,null).sort(r),a=t.store.getQuads(t.id,null,null,null).sort(r);if(n.length!=a.length)return!1;for(let i=0;i<n.length;i++){if(!n[i].predicate.equals(a[i].predicate))return!1;const o=n[i].object,s=a[i].object;if(o.termType!==s.termType)return!1;if(o.termType==="BlankNode"){if(!nx({id:o,store:e.store},{id:s,store:t.store}))return!1}else if(o.value!==s.value)return!1}return!0}class $Q{constructor(t,r){Ye(this,"store");Ye(this,"defaultTimezone");Ye(this,"ranges",[]);this.store=t,this.defaultTimezone=r}allowed(t){return this.ranges.every(r=>t.matchRelation(r.range,{id:r.cbdEntry,store:this.store}))}addRelation(t){var s;const r=Vr(this.store,t,mt.RDF.terms.type,null)[0]||mt.TREE.Relation,n=Vr(this.store,t,mt.TREE.terms.path,null)[0],a=Vr(this.store,t,mt.TREE.terms.value,null)[0];let i=this.ranges.find(u=>nx({id:n,store:this.store},{id:u.cbdEntry,store:this.store}));if(!i){const u={cbdEntry:n,range:eB.empty(this.defaultTimezone)};this.ranges.push(u),i=u}if(!a){i.range=void 0;return}let o;a.termType==="Literal"&&(o=a.datatype.value),(s=i.range)==null||s.add(a.value,r.value,o)}}const ix=si("InBetweenRelation");function fS(e,t,r){if(t===mt.XSD.custom("gYear")){const n=UQ(e,r);if(!n)return;const[a,i]=n;return{min:a,max:i}}else if(t===mt.XSD.custom("gYearMonth")){const n=HQ(e,r);if(!n)return;const[a,i]=n;return{min:a,max:i}}else if(t===mt.XSD.custom("date")){const n=VQ(e,r);if(!n)return;const[a,i]=n;return{min:a,max:i}}else{const n=zQ(e,r);if(!n)return;const[a,i]=n;return{min:a,max:i}}}function UQ(e,t){const r=/^(-?[1-9][0-9]{3,}|-?0[0-9]{3})(Z|(\+|-)((0[0-9]|1[0-3]):([0-5][0-9])|14:00))?$/,n=e.match(r);if(!n){ix.warn(`Invalid gYear format: ${e}`);return}const a=parseInt(n[1]);let i=0,o=0;const s=n[2]||t;if(s==="AoE")i=-12*60,o=12*60;else if(s!=="Z"){const u=n[3],l=parseInt(n[5]),f=parseInt(n[6]),d=(u==="+"?1:-1)*(l*60+f);i=d,o=d}return[new Date(Date.UTC(a,0,1)+i*60*1e3),new Date(Date.UTC(a+1,0,1)+o*60*1e3)]}function HQ(e,t){const r=/^(-?[1-9][0-9]{3,}|-?0[0-9]{3})-(0[1-9]|1[0-2])(Z|(\+|-)((0[0-9]|1[0-3]):([0-5][0-9])|14:00))?$/,n=e.match(r);if(!n){ix.warn(`Invalid gYearMonth format: ${e}`);return}const a=parseInt(n[1]),i=parseInt(n[2]);let o=0,s=0;const u=n[3]||t;if(u==="AoE")o=-12*60,s=12*60;else if(u!=="Z"){const l=n[4],f=parseInt(n[6]),d=parseInt(n[7]),c=(l==="+"?1:-1)*(f*60+d);o=c,s=c}return[new Date(Date.UTC(a,i-1,1)+o*60*1e3),new Date(Date.UTC(a,i,1)+s*60*1e3)]}function VQ(e,t){const r=/^(-?[1-9][0-9]{3,}|-?0[0-9]{3})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])(Z|(\+|-)((0[0-9]|1[0-3]):([0-5][0-9])|14:00))?$/,n=e.match(r);if(!n){ix.warn(`Invalid date format: ${e}`);return}const a=parseInt(n[1]),i=parseInt(n[2]),o=parseInt(n[3]);let s=0,u=0;const l=n[4]||t;if(l==="AoE")s=-12*60,u=12*60;else if(l!=="Z"){const f=n[5],d=parseInt(n[7]),c=parseInt(n[8]),p=(f==="+"?1:-1)*(d*60+c);s=p,u=p}return[new Date(Date.UTC(a,i-1,o)+s*60*1e3),new Date(Date.UTC(a,i-1,o+1)+u*60*1e3)]}function zQ(e,t){const r=/^(-?[1-9][0-9]{3,}|-?0[0-9]{3})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])T([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])(Z|(\+|-)((0[0-9]|1[0-3]):([0-5][0-9])|14:00))?$/,n=e.match(r);if(n){const u=parseInt(n[1]),l=parseInt(n[2]),f=parseInt(n[3]),d=parseInt(n[4]),c=parseInt(n[5]),p=parseInt(n[6]);let _=0,v=0;const b=n[7]||t;if(b==="AoE")_=-12*60,v=12*60;else if(b!=="Z"){const m=n[8],y=parseInt(n[10]),g=parseInt(n[11]),S=(m==="+"?1:-1)*(y*60+g);_=S,v=S}return[new Date(Date.UTC(u,l-1,f,d,c,p)+_*60*1e3),new Date(Date.UTC(u,l-1,f,d,c,p+1)+v*60*1e3)]}const a=/^(-?[1-9][0-9]{3,}|-?0[0-9]{3})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])T([01][0-9]|2[0-3]):([0-5][0-9])(Z|(\+|-)((0[0-9]|1[0-3]):([0-5][0-9])|14:00))?$/,i=e.match(a);if(i){const u=parseInt(i[1]),l=parseInt(i[2]),f=parseInt(i[3]),d=parseInt(i[4]),c=parseInt(i[5]);let p=0,_=0;const v=i[6]||t;if(v==="AoE")p=-12*60,_=12*60;else if(v!=="Z"){const b=i[7],m=parseInt(i[9]),y=parseInt(i[10]),g=(b==="+"?1:-1)*(m*60+y);p=g,_=g}return[new Date(Date.UTC(u,l-1,f,d,c)+p*60*1e3),new Date(Date.UTC(u,l-1,f,d,c+1)+_*60*1e3)]}const o=/^(-?[1-9][0-9]{3,}|-?0[0-9]{3})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])T([01][0-9]|2[0-3])(Z|(\+|-)((0[0-9]|1[0-3]):([0-5][0-9])|14:00))?$/,s=e.match(o);if(s){const u=parseInt(s[1]),l=parseInt(s[2]),f=parseInt(s[3]),d=parseInt(s[4]);let c=0,p=0;const _=s[5]||t;if(_==="AoE")c=-12*60,p=12*60;else if(_!=="Z"){const v=s[6],b=parseInt(s[8]),m=parseInt(s[9]),y=(v==="+"?1:-1)*(b*60+m);c=y,p=y}return[new Date(Date.UTC(u,l-1,f,d)+c*60*1e3),new Date(Date.UTC(u,l-1,f,d+1)+p*60*1e3)]}}function J4(){return new rB}let eB=class tB{constructor(t,r,n,a){Ye(this,"min");Ye(this,"eqMin",!0);Ye(this,"max");Ye(this,"eqMax",!0);Ye(this,"logger",si(this));Ye(this,"defaultTimezone");switch(t=this.parseValue(t,a),/^(AoE|Z|[+-]((0[0-9]|1[0-3]):([0-5][0-9])|14:00))$/.test(n)?this.defaultTimezone=n:(this.logger.warn(`Invalid timezone: '${n}'. Using default Anywhere on Earth (AoE) instead.`),this.defaultTimezone="AoE"),r){case mt.TREE.EqualToRelation:this.min=t,this.max=t;return;case mt.TREE.LessThanRelation:this.max=t,this.eqMax=!1;return;case mt.TREE.LessThanOrEqualToRelation:this.max=t;return;case mt.TREE.GreaterThanRelation:this.min=t,this.eqMin=!1;return;case mt.TREE.GreaterThanOrEqualToRelation:this.min=t;return;case mt.TREE.custom("InBetweenRelation"):{if(typeof t!="string")throw"InBetweenRelation can only handle string values, not"+typeof t;const o=fS(t,a,this.defaultTimezone);o&&(this.min=o.min,this.eqMin=!0,this.max=o.max,this.eqMax=!1);return}}}static empty(t){return new tB("",mt.TREE.Relation,t)}add(t,r,n){switch(t=this.parseValue(t,n),r){case mt.TREE.EqualToRelation:this.min=t,this.max=t;return;case mt.TREE.LessThanRelation:(!this.max||t<this.max)&&(this.max=t,this.eqMax=!1);return;case mt.TREE.LessThanOrEqualToRelation:(!this.max||t<this.max)&&(this.max=t);return;case mt.TREE.GreaterThanRelation:(!this.min||t>this.min)&&(this.min=t,this.eqMin=!1);return;case mt.TREE.GreaterThanOrEqualToRelation:(!this.min||t>this.min)&&(this.min=t);return;case mt.TREE.custom("InBetweenRelation"):{if(typeof t!="string")throw"InBetweenRelation can only handle string values, not"+typeof t;const a=fS(t,n,this.defaultTimezone);a&&((this.min===void 0||a.min<this.min)&&(this.min=a.min,this.eqMin=!0),(this.max===void 0||a.max<this.max)&&(this.max=a.max,this.eqMax=!1));return}}}contains(t){if(this.min){if(this.eqMin){if(this.min>t)return!1}else if(this.min>=t)return!1}if(this.max){if(this.eqMax){if(this.max<t)return!1}else if(this.max<=t)return!1}return!0}overlaps(t){if(this.min&&t.max){if(this.eqMin&&t.eqMax){if(this.min>t.max)return!1}else if(this.min>=t.max)return!1}if(this.max&&t.min){if(this.eqMax&&t.eqMin){if(t.min>this.max)return!1}else if(t.min>=this.max)return!1}return!0}toString(t){const r=t||(i=>i.toString()),n=this.min?(this.eqMin?"[":"]")+r(this.min):"]",a=this.max?r(this.max)+(this.eqMax?"]":"["):"[";return n+","+a}parseValue(t,r){return r===mt.XSD.dateTime?new Date(t):r===mt.XSD.integer?parseInt(t.toString()):r===mt.XSD.custom("float")||r===mt.XSD.custom("double")||r===mt.XSD.custom("decimal")?parseFloat(t.toString()):t}};class H1{constructor(t){Ye(this,"relationType");Ye(this,"value");Ye(this,"compareType");Ye(this,"path");Ye(this,"pathQuads");Ye(this,"range");Ye(this,"defaultTimezone");Ye(this,"logger",si(this));this.relationType=t.relationType,this.value=t.value,this.compareType=t.compareType||"string",this.path=t.path;const r=Hu.RdfStore.createDefault();t.pathQuads.quads.forEach(a=>r.addQuad(a)),this.pathQuads={id:t.pathQuads.entry,store:r},this.defaultTimezone=t.defaultTimezone;let n;t.value.termType==="Literal"&&(n=t.value.datatype.value),this.range=new eB(this.parseValue(t.value.value),t.relationType.value,this.defaultTimezone,n)}memberEmitted(){}toString(){const t=this.compareType==="date"?r=>r.toISOString():void 0;return`${this.pathQuads.id.value}  ${this.range.toString(t)}`}matchRelation(t,r){if(!nx(this.pathQuads,r))return!0;if(!t)return this.logger.debug("[matchRelation] Range is here also undefined, returning false"),!1;const n=this.compareType==="date"?a=>new Date(a).toISOString():void 0;return this.logger.verbose(`${this.range.toString(n)} contains ${t.toString(n)}. Overlaps: ${this.range.overlaps(t)}`),this.range.overlaps(t)}matchMember(t){const r=this.parseValue(this.path.execute(t)[0].id.value);return this.range.contains(r)}parseValue(t){switch(this.compareType){case"string":return t;case"date":return new Date(t);case"integer":return parseInt(t);case"float":return parseFloat(t);default:return t}}poll(){}}class GQ{constructor(t){Ye(this,"items");this.items=t.items}matchRelation(t,r){return this.items.map(n=>n.matchRelation(t,r)).reduce(this.combine.bind(this))}matchMember(t){return this.items.map(r=>r.matchMember(t)).reduce(this.combine.bind(this))}poll(){this.items.forEach(t=>t.poll())}}class T3 extends GQ{combine(t,r){return t&&r}memberEmitted(t){this.items.forEach(r=>r.memberEmitted(t))}toString(){return`(${this.items.map(r=>r.toString()).join(" ^ ")})`}}class rB{constructor(){Ye(this,"logger",si(this))}matchRelation(t,r){return this.logger.verbose("[matchRelation] Returning true"),!0}matchMember(t){return!0}memberEmitted(){}toString(){return"all"}poll(){}}const WQ={urlIsView:!1,noShape:!1,condition:J4(),loose:!1,polling:!1,url:"",pollInterval:200,defaultTimezone:"AoE",materialize:!1,lastVersionOnly:!1,includeMetadata:!1},KQ={target:{}};function ZQ(e){return Object.assign({},WQ,KQ,e)}var Mf={},kf={},Ff={},jf={},ms={},ep="delete",dr=5,vi=1<<dr,Fn=vi-1,$t={};function cS(){return{value:!1}}function wi(e){e&&(e.value=!0)}function ax(){}function Wu(e){return e.size===void 0&&(e.size=e.__iterate(nB)),e.size}function jo(e,t){if(typeof t!="number"){var r=t>>>0;if(""+r!==t||r===4294967295)return NaN;t=r}return t<0?Wu(e)+t:t}function nB(){return!0}function tp(e,t,r){return(e===0&&!aB(e)||r!==void 0&&e<=-r)&&(t===void 0||r!==void 0&&t>=r)}function yl(e,t){return iB(e,t,0)}function rp(e,t){return iB(e,t,t)}function iB(e,t,r){return e===void 0?r:aB(e)?t===1/0?t:Math.max(0,t+e)|0:t===void 0||t===e?e:Math.min(t,e)|0}function aB(e){return e<0||e===0&&1/e===-1/0}var oB="@@__IMMUTABLE_ITERABLE__@@";function Sn(e){return!!(e&&e[oB])}var sB="@@__IMMUTABLE_KEYED__@@";function nr(e){return!!(e&&e[sB])}var uB="@@__IMMUTABLE_INDEXED__@@";function dn(e){return!!(e&&e[uB])}function gl(e){return nr(e)||dn(e)}var mr=function(t){return Sn(t)?t:En(t)},Pi=function(e){function t(r){return nr(r)?r:Xo(r)}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t}(mr),eu=function(e){function t(r){return dn(r)?r:Ci(r)}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t}(mr),_l=function(e){function t(r){return Sn(r)&&!gl(r)?r:wl(r)}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t}(mr);mr.Keyed=Pi;mr.Indexed=eu;mr.Set=_l;var lB="@@__IMMUTABLE_SEQ__@@";function np(e){return!!(e&&e[lB])}var fB="@@__IMMUTABLE_RECORD__@@";function Qo(e){return!!(e&&e[fB])}function ui(e){return Sn(e)||Qo(e)}var bl="@@__IMMUTABLE_ORDERED__@@";function ii(e){return!!(e&&e[bl])}var ip=0,Ki=1,Ii=2,dS=typeof Symbol=="function"&&Symbol.iterator,cB="@@iterator",U0=dS||cB,zt=function(t){this.next=t};zt.prototype.toString=function(){return"[Iterator]"};zt.KEYS=ip;zt.VALUES=Ki;zt.ENTRIES=Ii;zt.prototype.inspect=zt.prototype.toSource=function(){return this.toString()};zt.prototype[U0]=function(){return this};function yr(e,t,r,n){var a=e===0?t:e===1?r:[t,r];return n?n.value=a:n={value:a,done:!1},n}function jn(){return{value:void 0,done:!0}}function ox(e){return Array.isArray(e)?!0:!!H0(e)}function R3(e){return e&&typeof e.next=="function"}function hS(e){var t=H0(e);return t&&t.call(e)}function H0(e){var t=e&&(dS&&e[dS]||e[cB]);if(typeof t=="function")return t}function YQ(e){var t=H0(e);return t&&t===e.entries}function QQ(e){var t=H0(e);return t&&t===e.keys}var vl=Object.prototype.hasOwnProperty;function sx(e){return Array.isArray(e)||typeof e=="string"?!0:e&&typeof e=="object"&&Number.isInteger(e.length)&&e.length>=0&&(e.length===0?Object.keys(e).length===1:e.hasOwnProperty(e.length-1))}var En=function(e){function t(r){return r==null?lx():ui(r)?r.toSeq():JQ(r)}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.toSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq {","}")},t.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},t.prototype.__iterate=function(n,a){var i=this._cache;if(i){for(var o=i.length,s=0;s!==o;){var u=i[a?o-++s:s++];if(n(u[1],u[0],this)===!1)break}return s}return this.__iterateUncached(n,a)},t.prototype.__iterator=function(n,a){var i=this._cache;if(i){var o=i.length,s=0;return new zt(function(){if(s===o)return jn();var u=i[a?o-++s:s++];return yr(n,u[0],u[1])})}return this.__iteratorUncached(n,a)},t}(mr),Xo=function(e){function t(r){return r==null?lx().toKeyedSeq():Sn(r)?nr(r)?r.toSeq():r.fromEntrySeq():Qo(r)?r.toSeq():fx(r)}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.toKeyedSeq=function(){return this},t}(En),Ci=function(e){function t(r){return r==null?lx():Sn(r)?nr(r)?r.entrySeq():r.toIndexedSeq():Qo(r)?r.toSeq().entrySeq():dB(r)}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toIndexedSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq [","]")},t}(En),wl=function(e){function t(r){return(Sn(r)&&!gl(r)?r:Ci(r)).toSetSeq()}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toSetSeq=function(){return this},t}(En);En.isSeq=np;En.Keyed=Xo;En.Set=wl;En.Indexed=Ci;En.prototype[lB]=!0;var Vs=function(e){function t(r){this._array=r,this.size=r.length}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.get=function(n,a){return this.has(n)?this._array[jo(this,n)]:a},t.prototype.__iterate=function(n,a){for(var i=this._array,o=i.length,s=0;s!==o;){var u=a?o-++s:s++;if(n(i[u],u,this)===!1)break}return s},t.prototype.__iterator=function(n,a){var i=this._array,o=i.length,s=0;return new zt(function(){if(s===o)return jn();var u=a?o-++s:s++;return yr(n,u,i[u])})},t}(Ci),ux=function(e){function t(r){var n=Object.keys(r).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(r):[]);this._object=r,this._keys=n,this.size=n.length}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.get=function(n,a){return a!==void 0&&!this.has(n)?a:this._object[n]},t.prototype.has=function(n){return vl.call(this._object,n)},t.prototype.__iterate=function(n,a){for(var i=this._object,o=this._keys,s=o.length,u=0;u!==s;){var l=o[a?s-++u:u++];if(n(i[l],l,this)===!1)break}return u},t.prototype.__iterator=function(n,a){var i=this._object,o=this._keys,s=o.length,u=0;return new zt(function(){if(u===s)return jn();var l=o[a?s-++u:u++];return yr(n,l,i[l])})},t}(Xo);ux.prototype[bl]=!0;var XQ=function(e){function t(r){this._collection=r,this.size=r.length||r.size}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.__iterateUncached=function(n,a){if(a)return this.cacheResult().__iterate(n,a);var i=this._collection,o=hS(i),s=0;if(R3(o))for(var u;!(u=o.next()).done&&n(u.value,s++,this)!==!1;);return s},t.prototype.__iteratorUncached=function(n,a){if(a)return this.cacheResult().__iterator(n,a);var i=this._collection,o=hS(i);if(!R3(o))return new zt(jn);var s=0;return new zt(function(){var u=o.next();return u.done?u:yr(n,s++,u.value)})},t}(Ci),A3;function lx(){return A3||(A3=new Vs([]))}function fx(e){var t=cx(e);if(t)return t.fromEntrySeq();if(typeof e=="object")return new ux(e);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+e)}function dB(e){var t=cx(e);if(t)return t;throw new TypeError("Expected Array or collection object of values: "+e)}function JQ(e){var t=cx(e);if(t)return YQ(e)?t.fromEntrySeq():QQ(e)?t.toSetSeq():t;if(typeof e=="object")return new ux(e);throw new TypeError("Expected Array or collection object of values, or keyed object: "+e)}function cx(e){return sx(e)?new Vs(e):ox(e)?new XQ(e):void 0}var hB="@@__IMMUTABLE_MAP__@@";function ap(e){return!!(e&&e[hB])}function V0(e){return ap(e)&&ii(e)}function e0(e){return!!(e&&typeof e.equals=="function"&&typeof e.hashCode=="function")}function Xr(e,t){if(e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1;if(typeof e.valueOf=="function"&&typeof t.valueOf=="function"){if(e=e.valueOf(),t=t.valueOf(),e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1}return!!(e0(e)&&e0(t)&&e.equals(t))}var Bf=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(t,r){t|=0,r|=0;var n=t&65535,a=r&65535;return n*a+((t>>>16)*a+n*(r>>>16)<<16>>>0)|0};function z0(e){return e>>>1&1073741824|e&3221225471}var eX=Object.prototype.valueOf;function Dn(e){if(e==null)return I3(e);if(typeof e.hashCode=="function")return z0(e.hashCode(e));var t=oX(e);if(t==null)return I3(t);switch(typeof t){case"boolean":return t?1108378657:1108378656;case"number":return tX(t);case"string":return t.length>sX?rX(t):pS(t);case"object":case"function":return iX(t);case"symbol":return nX(t);default:if(typeof t.toString=="function")return pS(t.toString());throw new Error("Value type "+typeof t+" cannot be hashed.")}}function I3(e){return e===null?1108378658:1108378659}function tX(e){if(e!==e||e===1/0)return 0;var t=e|0;for(t!==e&&(t^=e*4294967295);e>4294967295;)e/=4294967295,t^=e;return z0(t)}function rX(e){var t=G1[e];return t===void 0&&(t=pS(e),z1===uX&&(z1=0,G1={}),z1++,G1[e]=t),t}function pS(e){for(var t=0,r=0;r<e.length;r++)t=31*t+e.charCodeAt(r)|0;return z0(t)}function nX(e){var t=C3[e];return t!==void 0||(t=pB(),C3[e]=t),t}function iX(e){var t;if(mS&&(t=yS.get(e),t!==void 0)||(t=e[Ms],t!==void 0)||!P3&&(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Ms],t!==void 0||(t=aX(e),t!==void 0)))return t;if(t=pB(),mS)yS.set(e,t);else{if(O3!==void 0&&O3(e)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(P3)Object.defineProperty(e,Ms,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(e.propertyIsEnumerable!==void 0&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Ms]=t;else if(e.nodeType!==void 0)e[Ms]=t;else throw new Error("Unable to set a non-enumerable property on object.")}return t}var O3=Object.isExtensible,P3=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}();function aX(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}function oX(e){return e.valueOf!==eX&&typeof e.valueOf=="function"?e.valueOf(e):e}function pB(){var e=++V1;return V1&1073741824&&(V1=0),e}var mS=typeof WeakMap=="function",yS;mS&&(yS=new WeakMap);var C3=Object.create(null),V1=0,Ms="__immutablehash__";typeof Symbol=="function"&&(Ms=Symbol(Ms));var sX=16,uX=255,z1=0,G1={},G0=function(e){function t(r,n){this._iter=r,this._useKeys=n,this.size=r.size}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.get=function(n,a){return this._iter.get(n,a)},t.prototype.has=function(n){return this._iter.has(n)},t.prototype.valueSeq=function(){return this._iter.valueSeq()},t.prototype.reverse=function(){var n=this,a=dx(this,!0);return this._useKeys||(a.valueSeq=function(){return n._iter.toSeq().reverse()}),a},t.prototype.map=function(n,a){var i=this,o=bB(this,n,a);return this._useKeys||(o.valueSeq=function(){return i._iter.toSeq().map(n,a)}),o},t.prototype.__iterate=function(n,a){var i=this;return this._iter.__iterate(function(o,s){return n(o,s,i)},a)},t.prototype.__iterator=function(n,a){return this._iter.__iterator(n,a)},t}(Xo);G0.prototype[bl]=!0;var mB=function(e){function t(r){this._iter=r,this.size=r.size}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.includes=function(n){return this._iter.includes(n)},t.prototype.__iterate=function(n,a){var i=this,o=0;return a&&Wu(this),this._iter.__iterate(function(s){return n(s,a?i.size-++o:o++,i)},a)},t.prototype.__iterator=function(n,a){var i=this,o=this._iter.__iterator(Ki,a),s=0;return a&&Wu(this),new zt(function(){var u=o.next();return u.done?u:yr(n,a?i.size-++s:s++,u.value,u)})},t}(Ci),yB=function(e){function t(r){this._iter=r,this.size=r.size}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.has=function(n){return this._iter.includes(n)},t.prototype.__iterate=function(n,a){var i=this;return this._iter.__iterate(function(o){return n(o,o,i)},a)},t.prototype.__iterator=function(n,a){var i=this._iter.__iterator(Ki,a);return new zt(function(){var o=i.next();return o.done?o:yr(n,o.value,o.value,o)})},t}(wl),gB=function(e){function t(r){this._iter=r,this.size=r.size}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.entrySeq=function(){return this._iter.toSeq()},t.prototype.__iterate=function(n,a){var i=this;return this._iter.__iterate(function(o){if(o){D3(o);var s=Sn(o);return n(s?o.get(1):o[1],s?o.get(0):o[0],i)}},a)},t.prototype.__iterator=function(n,a){var i=this._iter.__iterator(Ki,a);return new zt(function(){for(;;){var o=i.next();if(o.done)return o;var s=o.value;if(s){D3(s);var u=Sn(s);return yr(n,u?s.get(0):s[0],u?s.get(1):s[1],o)}}})},t}(Xo);mB.prototype.cacheResult=G0.prototype.cacheResult=yB.prototype.cacheResult=gB.prototype.cacheResult=mx;function _B(e){var t=Ea(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var r=e.reverse.apply(this);return r.flip=function(){return e.reverse()},r},t.has=function(r){return e.includes(r)},t.includes=function(r){return e.has(r)},t.cacheResult=mx,t.__iterateUncached=function(r,n){var a=this;return e.__iterate(function(i,o){return r(o,i,a)!==!1},n)},t.__iteratorUncached=function(r,n){if(r===Ii){var a=e.__iterator(r,n);return new zt(function(){var i=a.next();if(!i.done){var o=i.value[0];i.value[0]=i.value[1],i.value[1]=o}return i})}return e.__iterator(r===Ki?ip:Ki,n)},t}function bB(e,t,r){var n=Ea(e);return n.size=e.size,n.has=function(a){return e.has(a)},n.get=function(a,i){var o=e.get(a,$t);return o===$t?i:t.call(r,o,a,e)},n.__iterateUncached=function(a,i){var o=this;return e.__iterate(function(s,u,l){return a(t.call(r,s,u,l),u,o)!==!1},i)},n.__iteratorUncached=function(a,i){var o=e.__iterator(Ii,i);return new zt(function(){var s=o.next();if(s.done)return s;var u=s.value,l=u[0];return yr(a,l,t.call(r,u[1],l,e),s)})},n}function dx(e,t){var r=this,n=Ea(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var a=_B(e);return a.reverse=function(){return e.flip()},a}),n.get=function(a,i){return e.get(t?a:-1-a,i)},n.has=function(a){return e.has(t?a:-1-a)},n.includes=function(a){return e.includes(a)},n.cacheResult=mx,n.__iterate=function(a,i){var o=this,s=0;return i&&Wu(e),e.__iterate(function(u,l){return a(u,t?l:i?o.size-++s:s++,o)},!i)},n.__iterator=function(a,i){var o=0;i&&Wu(e);var s=e.__iterator(Ii,!i);return new zt(function(){var u=s.next();if(u.done)return u;var l=u.value;return yr(a,t?l[0]:i?r.size-++o:o++,l[1],u)})},n}function vB(e,t,r,n){var a=Ea(e);return n&&(a.has=function(i){var o=e.get(i,$t);return o!==$t&&!!t.call(r,o,i,e)},a.get=function(i,o){var s=e.get(i,$t);return s!==$t&&t.call(r,s,i,e)?s:o}),a.__iterateUncached=function(i,o){var s=this,u=0;return e.__iterate(function(l,f,d){if(t.call(r,l,f,d))return u++,i(l,n?f:u-1,s)},o),u},a.__iteratorUncached=function(i,o){var s=e.__iterator(Ii,o),u=0;return new zt(function(){for(;;){var l=s.next();if(l.done)return l;var f=l.value,d=f[0],c=f[1];if(t.call(r,c,d,e))return yr(i,n?d:u++,c,l)}})},a}function lX(e,t,r){var n=es().asMutable();return e.__iterate(function(a,i){n.update(t.call(r,a,i,e),0,function(o){return o+1})}),n.asImmutable()}function fX(e,t,r){var n=nr(e),a=(ii(e)?Zi():es()).asMutable();e.__iterate(function(o,s){a.update(t.call(r,o,s,e),function(u){return u=u||[],u.push(n?[s,o]:o),u})});var i=px(e);return a.map(function(o){return tr(e,i(o))}).asImmutable()}function cX(e,t,r){var n=nr(e),a=[[],[]];e.__iterate(function(o,s){a[t.call(r,o,s,e)?1:0].push(n?[s,o]:o)});var i=px(e);return a.map(function(o){return tr(e,i(o))})}function hx(e,t,r,n){var a=e.size;if(tp(t,r,a))return e;if(typeof a>"u"&&(t<0||r<0))return hx(e.toSeq().cacheResult(),t,r,n);var i=yl(t,a),o=rp(r,a),s=o-i,u;s===s&&(u=s<0?0:s);var l=Ea(e);return l.size=u===0?u:e.size&&u||void 0,!n&&np(e)&&u>=0&&(l.get=function(f,d){return f=jo(this,f),f>=0&&f<u?e.get(f+i,d):d}),l.__iterateUncached=function(f,d){var c=this;if(u===0)return 0;if(d)return this.cacheResult().__iterate(f,d);var p=0,_=!0,v=0;return e.__iterate(function(b,m){if(!(_&&(_=p++<i)))return v++,f(b,n?m:v-1,c)!==!1&&v!==u}),v},l.__iteratorUncached=function(f,d){if(u!==0&&d)return this.cacheResult().__iterator(f,d);if(u===0)return new zt(jn);var c=e.__iterator(f,d),p=0,_=0;return new zt(function(){for(;p++<i;)c.next();if(++_>u)return jn();var v=c.next();return n||f===Ki||v.done?v:f===ip?yr(f,_-1,void 0,v):yr(f,_-1,v.value[1],v)})},l}function dX(e,t,r){var n=Ea(e);return n.__iterateUncached=function(a,i){var o=this;if(i)return this.cacheResult().__iterate(a,i);var s=0;return e.__iterate(function(u,l,f){return t.call(r,u,l,f)&&++s&&a(u,l,o)}),s},n.__iteratorUncached=function(a,i){var o=this;if(i)return this.cacheResult().__iterator(a,i);var s=e.__iterator(Ii,i),u=!0;return new zt(function(){if(!u)return jn();var l=s.next();if(l.done)return l;var f=l.value,d=f[0],c=f[1];return t.call(r,c,d,o)?a===Ii?l:yr(a,d,c,l):(u=!1,jn())})},n}function wB(e,t,r,n){var a=Ea(e);return a.__iterateUncached=function(i,o){var s=this;if(o)return this.cacheResult().__iterate(i,o);var u=!0,l=0;return e.__iterate(function(f,d,c){if(!(u&&(u=t.call(r,f,d,c))))return l++,i(f,n?d:l-1,s)}),l},a.__iteratorUncached=function(i,o){var s=this;if(o)return this.cacheResult().__iterator(i,o);var u=e.__iterator(Ii,o),l=!0,f=0;return new zt(function(){var d,c,p;do{if(d=u.next(),d.done)return n||i===Ki?d:i===ip?yr(i,f++,void 0,d):yr(i,f++,d.value[1],d);var _=d.value;c=_[0],p=_[1],l&&(l=t.call(r,p,c,s))}while(l);return i===Ii?d:yr(i,c,p,d)})},a}function hX(e,t){var r=nr(e),n=[e].concat(t).map(function(o){return Sn(o)?r&&(o=Pi(o)):o=r?fx(o):dB(Array.isArray(o)?o:[o]),o}).filter(function(o){return o.size!==0});if(n.length===0)return e;if(n.length===1){var a=n[0];if(a===e||r&&nr(a)||dn(e)&&dn(a))return a}var i=new Vs(n);return r?i=i.toKeyedSeq():dn(e)||(i=i.toSetSeq()),i=i.flatten(!0),i.size=n.reduce(function(o,s){if(o!==void 0){var u=s.size;if(u!==void 0)return o+u}},0),i}function SB(e,t,r){var n=Ea(e);return n.__iterateUncached=function(a,i){if(i)return this.cacheResult().__iterate(a,i);var o=0,s=!1;function u(l,f){l.__iterate(function(d,c){return(!t||f<t)&&Sn(d)?u(d,f+1):(o++,a(d,r?c:o-1,n)===!1&&(s=!0)),!s},i)}return u(e,0),o},n.__iteratorUncached=function(a,i){if(i)return this.cacheResult().__iterator(a,i);var o=e.__iterator(a,i),s=[],u=0;return new zt(function(){for(;o;){var l=o.next();if(l.done!==!1){o=s.pop();continue}var f=l.value;if(a===Ii&&(f=f[1]),(!t||s.length<t)&&Sn(f))s.push(o),o=f.__iterator(a,i);else return r?l:yr(a,u++,f,l)}return jn()})},n}function pX(e,t,r){var n=px(e);return e.toSeq().map(function(a,i){return n(t.call(r,a,i,e))}).flatten(!0)}function mX(e,t){var r=Ea(e);return r.size=e.size&&e.size*2-1,r.__iterateUncached=function(n,a){var i=this,o=0;return e.__iterate(function(s){return(!o||n(t,o++,i)!==!1)&&n(s,o++,i)!==!1},a),o},r.__iteratorUncached=function(n,a){var i=e.__iterator(Ki,a),o=0,s;return new zt(function(){return(!s||o%2)&&(s=i.next(),s.done)?s:o%2?yr(n,o++,t):yr(n,o++,s.value,s)})},r}function Ku(e,t,r){t||(t=EB);var n=nr(e),a=0,i=e.toSeq().map(function(o,s){return[s,o,a++,r?r(o,s,e):o]}).valueSeq().toArray();return i.sort(function(o,s){return t(o[3],s[3])||o[2]-s[2]}).forEach(n?function(o,s){i[s].length=2}:function(o,s){i[s]=o[1]}),n?Xo(i):dn(e)?Ci(i):wl(i)}function vm(e,t,r){if(t||(t=EB),r){var n=e.toSeq().map(function(a,i){return[a,r(a,i,e)]}).reduce(function(a,i){return L3(t,a[1],i[1])?i:a});return n&&n[0]}return e.reduce(function(a,i){return L3(t,a,i)?i:a})}function L3(e,t,r){var n=e(r,t);return n===0&&r!==t&&(r==null||r!==r)||n>0}function wm(e,t,r,n){var a=Ea(e),i=new Vs(r).map(function(o){return o.size});return a.size=n?i.max():i.min(),a.__iterate=function(o,s){for(var u=this.__iterator(Ki,s),l,f=0;!(l=u.next()).done&&o(l.value,f++,this)!==!1;);return f},a.__iteratorUncached=function(o,s){var u=r.map(function(d){return d=mr(d),hS(s?d.reverse():d)}),l=0,f=!1;return new zt(function(){var d;return f||(d=u.map(function(c){return c.next()}),f=n?d.every(function(c){return c.done}):d.some(function(c){return c.done})),f?jn():yr(o,l++,t.apply(null,d.map(function(c){return c.value})))})},a}function tr(e,t){return e===t?e:np(e)?t:e.constructor(t)}function D3(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function px(e){return nr(e)?Pi:dn(e)?eu:_l}function Ea(e){return Object.create((nr(e)?Xo:dn(e)?Ci:wl).prototype)}function mx(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):En.prototype.cacheResult.call(this)}function EB(e,t){return e===void 0&&t===void 0?0:e===void 0?1:t===void 0?-1:e>t?1:e<t?-1:0}function ma(e,t){t=t||0;for(var r=Math.max(0,e.length-t),n=new Array(r),a=0;a<r;a++)n[a]=e[a+t];return n}function yx(e,t){if(!e)throw new Error(t)}function ei(e){yx(e!==1/0,"Cannot perform this action with an infinite size.")}function xB(e){if(sx(e)&&typeof e!="string")return e;if(ii(e))return e.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+e)}var yX=Object.prototype.toString;function W0(e){if(!e||typeof e!="object"||yX.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var r=t,n=Object.getPrototypeOf(t);n!==null;)r=n,n=Object.getPrototypeOf(r);return r===t}function Bo(e){return typeof e=="object"&&(ui(e)||Array.isArray(e)||W0(e))}function Ch(e){try{return typeof e=="string"?JSON.stringify(e):String(e)}catch{return JSON.stringify(e)}}function gx(e,t){return ui(e)?e.has(t):Bo(e)&&vl.call(e,t)}function K0(e,t,r){return ui(e)?e.get(t,r):gx(e,t)?typeof e.get=="function"?e.get(t):e[t]:r}function t0(e){if(Array.isArray(e))return ma(e);var t={};for(var r in e)vl.call(e,r)&&(t[r]=e[r]);return t}function _x(e,t){if(!Bo(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(ui(e)){if(!e.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+e);return e.remove(t)}if(!vl.call(e,t))return e;var r=t0(e);return Array.isArray(r)?r.splice(t,1):delete r[t],r}function bx(e,t,r){if(!Bo(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(ui(e)){if(!e.set)throw new TypeError("Cannot update immutable value without .set() method: "+e);return e.set(t,r)}if(vl.call(e,t)&&r===e[t])return e;var n=t0(e);return n[t]=r,n}function Jo(e,t,r,n){n||(n=r,r=void 0);var a=TB(ui(e),e,xB(t),0,r,n);return a===$t?r:a}function TB(e,t,r,n,a,i){var o=t===$t;if(n===r.length){var s=o?a:t,u=i(s);return u===s?t:u}if(!o&&!Bo(t))throw new TypeError("Cannot update within non-data-structure value in path ["+r.slice(0,n).map(Ch)+"]: "+t);var l=r[n],f=o?$t:K0(t,l,$t),d=TB(f===$t?e:ui(f),f,r,n+1,a,i);return d===f?t:d===$t?_x(t,l):bx(o?e?Hi():{}:t,l,d)}function vx(e,t,r){return Jo(e,t,$t,function(){return r})}function wx(e,t){return vx(this,e,t)}function Sx(e,t){return Jo(e,t,function(){return $t})}function Ex(e){return Sx(this,e)}function Z0(e,t,r,n){return Jo(e,[t],r,n)}function xx(e,t,r){return arguments.length===1?e(this):Z0(this,e,t,r)}function Tx(e,t,r){return Jo(this,e,t,r)}function RB(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return IB(this,e)}function AB(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];if(typeof e!="function")throw new TypeError("Invalid merger function: "+e);return IB(this,t,e)}function IB(e,t,r){for(var n=[],a=0;a<t.length;a++){var i=Pi(t[a]);i.size!==0&&n.push(i)}return n.length===0?e:e.toSeq().size===0&&!e.__ownerID&&n.length===1?e.constructor(n[0]):e.withMutations(function(o){for(var s=r?function(l,f){Z0(o,f,$t,function(d){return d===$t?l:r(d,l,f)})}:function(l,f){o.set(f,l)},u=0;u<n.length;u++)n[u].forEach(s)})}function OB(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return sp(e,t)}function PB(e,t){for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];return sp(t,r,e)}function CB(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return op(e,t)}function LB(e,t){for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];return op(t,r,e)}function op(e,t,r){return sp(e,t,gX(r))}function sp(e,t,r){if(!Bo(e))throw new TypeError("Cannot merge into non-data-structure value: "+e);if(ui(e))return typeof r=="function"&&e.mergeWith?e.mergeWith.apply(e,[r].concat(t)):e.merge?e.merge.apply(e,t):e.concat.apply(e,t);for(var n=Array.isArray(e),a=e,i=n?eu:Pi,o=n?function(u){a===e&&(a=t0(a)),a.push(u)}:function(u,l){var f=vl.call(a,l),d=f&&r?r(a[l],u,l):u;(!f||d!==a[l])&&(a===e&&(a=t0(a)),a[l]=d)},s=0;s<t.length;s++)i(t[s]).forEach(o);return a}function gX(e){function t(r,n,a){return Bo(r)&&Bo(n)&&_X(r,n)?sp(r,[n],t):e?e(r,n,a):n}return t}function _X(e,t){var r=En(e),n=En(t);return dn(r)===dn(n)&&nr(r)===nr(n)}function DB(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return op(this,e)}function NB(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return op(this,t,e)}function Rx(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return Jo(this,e,Hi(),function(n){return sp(n,t)})}function Ax(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return Jo(this,e,Hi(),function(n){return op(n,t)})}function up(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this}function lp(){return this.__ownerID?this:this.__ensureOwner(new ax)}function fp(){return this.__ensureOwner()}function Ix(){return this.__altered}var es=function(e){function t(r){return r==null?Hi():ap(r)&&!ii(r)?r:Hi().withMutations(function(n){var a=e(r);ei(a.size),a.forEach(function(i,o){return n.set(o,i)})})}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.of=function(){for(var n=[],a=arguments.length;a--;)n[a]=arguments[a];return Hi().withMutations(function(i){for(var o=0;o<n.length;o+=2){if(o+1>=n.length)throw new Error("Missing value for key: "+n[o]);i.set(n[o],n[o+1])}})},t.prototype.toString=function(){return this.__toString("Map {","}")},t.prototype.get=function(n,a){return this._root?this._root.get(0,void 0,n,a):a},t.prototype.set=function(n,a){return k3(this,n,a)},t.prototype.remove=function(n){return k3(this,n,$t)},t.prototype.deleteAll=function(n){var a=mr(n);return a.size===0?this:this.withMutations(function(i){a.forEach(function(o){return i.remove(o)})})},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Hi()},t.prototype.sort=function(n){return Zi(Ku(this,n))},t.prototype.sortBy=function(n,a){return Zi(Ku(this,a,n))},t.prototype.map=function(n,a){var i=this;return this.withMutations(function(o){o.forEach(function(s,u){o.set(u,n.call(a,s,u,i))})})},t.prototype.__iterator=function(n,a){return new bX(this,n,a)},t.prototype.__iterate=function(n,a){var i=this,o=0;return this._root&&this._root.iterate(function(s){return o++,n(s[1],s[0],i)},a),o},t.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?Ox(this.size,this._root,n,this.__hash):this.size===0?Hi():(this.__ownerID=n,this.__altered=!1,this)},t}(Pi);es.isMap=ap;var gr=es.prototype;gr[hB]=!0;gr[ep]=gr.remove;gr.removeAll=gr.deleteAll;gr.setIn=wx;gr.removeIn=gr.deleteIn=Ex;gr.update=xx;gr.updateIn=Tx;gr.merge=gr.concat=RB;gr.mergeWith=AB;gr.mergeDeep=DB;gr.mergeDeepWith=NB;gr.mergeIn=Rx;gr.mergeDeepIn=Ax;gr.withMutations=up;gr.wasAltered=Ix;gr.asImmutable=fp;gr["@@transducer/init"]=gr.asMutable=lp;gr["@@transducer/step"]=function(e,t){return e.set(t[0],t[1])};gr["@@transducer/result"]=function(e){return e.asImmutable()};var Lh=function(t,r){this.ownerID=t,this.entries=r};Lh.prototype.get=function(t,r,n,a){for(var i=this.entries,o=0,s=i.length;o<s;o++)if(Xr(n,i[o][0]))return i[o][1];return a};Lh.prototype.update=function(t,r,n,a,i,o,s){for(var u=i===$t,l=this.entries,f=0,d=l.length;f<d&&!Xr(a,l[f][0]);f++);var c=f<d;if(c?l[f][1]===i:u)return this;if(wi(s),(u||!c)&&wi(o),!(u&&l.length===1)){if(!c&&!u&&l.length>=TX)return vX(t,l,a,i);var p=t&&t===this.ownerID,_=p?l:ma(l);return c?u?f===d-1?_.pop():_[f]=_.pop():_[f]=[a,i]:_.push([a,i]),p?(this.entries=_,this):new Lh(t,_)}};var Zu=function(t,r,n){this.ownerID=t,this.bitmap=r,this.nodes=n};Zu.prototype.get=function(t,r,n,a){r===void 0&&(r=Dn(n));var i=1<<((t===0?r:r>>>t)&Fn),o=this.bitmap;return o&i?this.nodes[MB(o&i-1)].get(t+dr,r,n,a):a};Zu.prototype.update=function(t,r,n,a,i,o,s){n===void 0&&(n=Dn(a));var u=(r===0?n:n>>>r)&Fn,l=1<<u,f=this.bitmap,d=(f&l)!==0;if(!d&&i===$t)return this;var c=MB(f&l-1),p=this.nodes,_=d?p[c]:void 0,v=Px(_,t,r+dr,n,a,i,o,s);if(v===_)return this;if(!d&&v&&p.length>=RX)return SX(t,p,f,u,v);if(d&&!v&&p.length===2&&F3(p[c^1]))return p[c^1];if(d&&v&&p.length===1&&F3(v))return v;var b=t&&t===this.ownerID,m=d?v?f:f^l:f|l,y=d?v?kB(p,c,v,b):xX(p,c,b):EX(p,c,v,b);return b?(this.bitmap=m,this.nodes=y,this):new Zu(t,m,y)};var Dh=function(t,r,n){this.ownerID=t,this.count=r,this.nodes=n};Dh.prototype.get=function(t,r,n,a){r===void 0&&(r=Dn(n));var i=(t===0?r:r>>>t)&Fn,o=this.nodes[i];return o?o.get(t+dr,r,n,a):a};Dh.prototype.update=function(t,r,n,a,i,o,s){n===void 0&&(n=Dn(a));var u=(r===0?n:n>>>r)&Fn,l=i===$t,f=this.nodes,d=f[u];if(l&&!d)return this;var c=Px(d,t,r+dr,n,a,i,o,s);if(c===d)return this;var p=this.count;if(!d)p++;else if(!c&&(p--,p<AX))return wX(t,f,p,u);var _=t&&t===this.ownerID,v=kB(f,u,c,_);return _?(this.count=p,this.nodes=v,this):new Dh(t,p,v)};var Yu=function(t,r,n){this.ownerID=t,this.keyHash=r,this.entries=n};Yu.prototype.get=function(t,r,n,a){for(var i=this.entries,o=0,s=i.length;o<s;o++)if(Xr(n,i[o][0]))return i[o][1];return a};Yu.prototype.update=function(t,r,n,a,i,o,s){n===void 0&&(n=Dn(a));var u=i===$t;if(n!==this.keyHash)return u?this:(wi(s),wi(o),Cx(this,t,r,n,[a,i]));for(var l=this.entries,f=0,d=l.length;f<d&&!Xr(a,l[f][0]);f++);var c=f<d;if(c?l[f][1]===i:u)return this;if(wi(s),(u||!c)&&wi(o),u&&d===2)return new Qa(t,this.keyHash,l[f^1]);var p=t&&t===this.ownerID,_=p?l:ma(l);return c?u?f===d-1?_.pop():_[f]=_.pop():_[f]=[a,i]:_.push([a,i]),p?(this.entries=_,this):new Yu(t,this.keyHash,_)};var Qa=function(t,r,n){this.ownerID=t,this.keyHash=r,this.entry=n};Qa.prototype.get=function(t,r,n,a){return Xr(n,this.entry[0])?this.entry[1]:a};Qa.prototype.update=function(t,r,n,a,i,o,s){var u=i===$t,l=Xr(a,this.entry[0]);if(l?i===this.entry[1]:u)return this;if(wi(s),u){wi(o);return}return l?t&&t===this.ownerID?(this.entry[1]=i,this):new Qa(t,this.keyHash,[a,i]):(wi(o),Cx(this,t,r,Dn(a),[a,i]))};Lh.prototype.iterate=Yu.prototype.iterate=function(e,t){for(var r=this.entries,n=0,a=r.length-1;n<=a;n++)if(e(r[t?a-n:n])===!1)return!1};Zu.prototype.iterate=Dh.prototype.iterate=function(e,t){for(var r=this.nodes,n=0,a=r.length-1;n<=a;n++){var i=r[t?a-n:n];if(i&&i.iterate(e,t)===!1)return!1}};Qa.prototype.iterate=function(e,t){return e(this.entry)};var bX=function(e){function t(r,n,a){this._type=n,this._reverse=a,this._stack=r._root&&N3(r._root)}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.next=function(){for(var n=this._type,a=this._stack;a;){var i=a.node,o=a.index++,s=void 0;if(i.entry){if(o===0)return W1(n,i.entry)}else if(i.entries){if(s=i.entries.length-1,o<=s)return W1(n,i.entries[this._reverse?s-o:o])}else if(s=i.nodes.length-1,o<=s){var u=i.nodes[this._reverse?s-o:o];if(u){if(u.entry)return W1(n,u.entry);a=this._stack=N3(u,a)}continue}a=this._stack=this._stack.__prev}return jn()},t}(zt);function W1(e,t){return yr(e,t[0],t[1])}function N3(e,t){return{node:e,index:0,__prev:t}}function Ox(e,t,r,n){var a=Object.create(gr);return a.size=e,a._root=t,a.__ownerID=r,a.__hash=n,a.__altered=!1,a}var M3;function Hi(){return M3||(M3=Ox(0))}function k3(e,t,r){var n,a;if(e._root){var i=cS(),o=cS();if(n=Px(e._root,e.__ownerID,0,void 0,t,r,i,o),!o.value)return e;a=e.size+(i.value?r===$t?-1:1:0)}else{if(r===$t)return e;a=1,n=new Lh(e.__ownerID,[[t,r]])}return e.__ownerID?(e.size=a,e._root=n,e.__hash=void 0,e.__altered=!0,e):n?Ox(a,n):Hi()}function Px(e,t,r,n,a,i,o,s){return e?e.update(t,r,n,a,i,o,s):i===$t?e:(wi(s),wi(o),new Qa(t,n,[a,i]))}function F3(e){return e.constructor===Qa||e.constructor===Yu}function Cx(e,t,r,n,a){if(e.keyHash===n)return new Yu(t,n,[e.entry,a]);var i=(r===0?e.keyHash:e.keyHash>>>r)&Fn,o=(r===0?n:n>>>r)&Fn,s,u=i===o?[Cx(e,t,r+dr,n,a)]:(s=new Qa(t,n,a),i<o?[e,s]:[s,e]);return new Zu(t,1<<i|1<<o,u)}function vX(e,t,r,n){e||(e=new ax);for(var a=new Qa(e,Dn(r),[r,n]),i=0;i<t.length;i++){var o=t[i];a=a.update(e,0,void 0,o[0],o[1])}return a}function wX(e,t,r,n){for(var a=0,i=0,o=new Array(r),s=0,u=1,l=t.length;s<l;s++,u<<=1){var f=t[s];f!==void 0&&s!==n&&(a|=u,o[i++]=f)}return new Zu(e,a,o)}function SX(e,t,r,n,a){for(var i=0,o=new Array(vi),s=0;r!==0;s++,r>>>=1)o[s]=r&1?t[i++]:void 0;return o[n]=a,new Dh(e,i+1,o)}function MB(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,e&127}function kB(e,t,r,n){var a=n?e:ma(e);return a[t]=r,a}function EX(e,t,r,n){var a=e.length+1;if(n&&t+1===a)return e[t]=r,e;for(var i=new Array(a),o=0,s=0;s<a;s++)s===t?(i[s]=r,o=-1):i[s]=e[s+o];return i}function xX(e,t,r){var n=e.length-1;if(r&&t===n)return e.pop(),e;for(var a=new Array(n),i=0,o=0;o<n;o++)o===t&&(i=1),a[o]=e[o+i];return a}var TX=vi/4,RX=vi/2,AX=vi/4,FB="@@__IMMUTABLE_LIST__@@";function Y0(e){return!!(e&&e[FB])}var Sl=function(e){function t(r){var n=Fm();if(r==null)return n;if(Y0(r))return r;var a=e(r),i=a.size;return i===0?n:(ei(i),i>0&&i<vi?Nh(0,i,dr,null,new Do(a.toArray())):n.withMutations(function(o){o.setSize(i),a.forEach(function(s,u){return o.set(u,s)})}))}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("List [","]")},t.prototype.get=function(n,a){if(n=jo(this,n),n>=0&&n<this.size){n+=this._origin;var i=jB(this,n);return i&&i.array[n&Fn]}return a},t.prototype.set=function(n,a){return IX(this,n,a)},t.prototype.remove=function(n){return this.has(n)?n===0?this.shift():n===this.size-1?this.pop():this.splice(n,1):this},t.prototype.insert=function(n,a){return this.splice(n,0,a)},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=dr,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):Fm()},t.prototype.push=function(){var n=arguments,a=this.size;return this.withMutations(function(i){To(i,0,a+n.length);for(var o=0;o<n.length;o++)i.set(a+o,n[o])})},t.prototype.pop=function(){return To(this,0,-1)},t.prototype.unshift=function(){var n=arguments;return this.withMutations(function(a){To(a,-n.length);for(var i=0;i<n.length;i++)a.set(i,n[i])})},t.prototype.shift=function(){return To(this,1)},t.prototype.concat=function(){for(var n=arguments,a=[],i=0;i<arguments.length;i++){var o=n[i],s=e(typeof o!="string"&&ox(o)?o:[o]);s.size!==0&&a.push(s)}return a.length===0?this:this.size===0&&!this.__ownerID&&a.length===1?this.constructor(a[0]):this.withMutations(function(u){a.forEach(function(l){return l.forEach(function(f){return u.push(f)})})})},t.prototype.setSize=function(n){return To(this,0,n)},t.prototype.map=function(n,a){var i=this;return this.withMutations(function(o){for(var s=0;s<i.size;s++)o.set(s,n.call(a,o.get(s),s,i))})},t.prototype.slice=function(n,a){var i=this.size;return tp(n,a,i)?this:To(this,yl(n,i),rp(a,i))},t.prototype.__iterator=function(n,a){var i=a?this.size:0,o=j3(this,a);return new zt(function(){var s=o();return s===ph?jn():yr(n,a?--i:i++,s)})},t.prototype.__iterate=function(n,a){for(var i=a?this.size:0,o=j3(this,a),s;(s=o())!==ph&&n(s,a?--i:i++,this)!==!1;);return i},t.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?Nh(this._origin,this._capacity,this._level,this._root,this._tail,n,this.__hash):this.size===0?Fm():(this.__ownerID=n,this.__altered=!1,this)},t}(eu);Sl.isList=Y0;var Wr=Sl.prototype;Wr[FB]=!0;Wr[ep]=Wr.remove;Wr.merge=Wr.concat;Wr.setIn=wx;Wr.deleteIn=Wr.removeIn=Ex;Wr.update=xx;Wr.updateIn=Tx;Wr.mergeIn=Rx;Wr.mergeDeepIn=Ax;Wr.withMutations=up;Wr.wasAltered=Ix;Wr.asImmutable=fp;Wr["@@transducer/init"]=Wr.asMutable=lp;Wr["@@transducer/step"]=function(e,t){return e.push(t)};Wr["@@transducer/result"]=function(e){return e.asImmutable()};var Do=function(t,r){this.array=t,this.ownerID=r};Do.prototype.removeBefore=function(t,r,n){if(n===r?1<<r:this.array.length===0)return this;var a=n>>>r&Fn;if(a>=this.array.length)return new Do([],t);var i=a===0,o;if(r>0){var s=this.array[a];if(o=s&&s.removeBefore(t,r-dr,n),o===s&&i)return this}if(i&&!o)return this;var u=Qu(this,t);if(!i)for(var l=0;l<a;l++)u.array[l]=void 0;return o&&(u.array[a]=o),u};Do.prototype.removeAfter=function(t,r,n){if(n===(r?1<<r:0)||this.array.length===0)return this;var a=n-1>>>r&Fn;if(a>=this.array.length)return this;var i;if(r>0){var o=this.array[a];if(i=o&&o.removeAfter(t,r-dr,n),i===o&&a===this.array.length-1)return this}var s=Qu(this,t);return s.array.splice(a+1),i&&(s.array[a]=i),s};var ph={};function j3(e,t){var r=e._origin,n=e._capacity,a=Mh(n),i=e._tail;return o(e._root,e._level,0);function o(l,f,d){return f===0?s(l,d):u(l,f,d)}function s(l,f){var d=f===a?i&&i.array:l&&l.array,c=f>r?0:r-f,p=n-f;return p>vi&&(p=vi),function(){if(c===p)return ph;var _=t?--p:c++;return d&&d[_]}}function u(l,f,d){var c,p=l&&l.array,_=d>r?0:r-d>>f,v=(n-d>>f)+1;return v>vi&&(v=vi),function(){for(;;){if(c){var b=c();if(b!==ph)return b;c=null}if(_===v)return ph;var m=t?--v:_++;c=o(p&&p[m],f-dr,d+(m<<f))}}}}function Nh(e,t,r,n,a,i,o){var s=Object.create(Wr);return s.size=t-e,s._origin=e,s._capacity=t,s._level=r,s._root=n,s._tail=a,s.__ownerID=i,s.__hash=o,s.__altered=!1,s}var B3;function Fm(){return B3||(B3=Nh(0,0,dr))}function IX(e,t,r){if(t=jo(e,t),t!==t)return e;if(t>=e.size||t<0)return e.withMutations(function(o){t<0?To(o,t).set(0,r):To(o,0,t+1).set(t,r)});t+=e._origin;var n=e._tail,a=e._root,i=cS();return t>=Mh(e._capacity)?n=gS(n,e.__ownerID,0,t,r,i):a=gS(a,e.__ownerID,e._level,t,r,i),i.value?e.__ownerID?(e._root=a,e._tail=n,e.__hash=void 0,e.__altered=!0,e):Nh(e._origin,e._capacity,e._level,a,n):e}function gS(e,t,r,n,a,i){var o=n>>>r&Fn,s=e&&o<e.array.length;if(!s&&a===void 0)return e;var u;if(r>0){var l=e&&e.array[o],f=gS(l,t,r-dr,n,a,i);return f===l?e:(u=Qu(e,t),u.array[o]=f,u)}return s&&e.array[o]===a?e:(i&&wi(i),u=Qu(e,t),a===void 0&&o===u.array.length-1?u.array.pop():u.array[o]=a,u)}function Qu(e,t){return t&&e&&t===e.ownerID?e:new Do(e?e.array.slice():[],t)}function jB(e,t){if(t>=Mh(e._capacity))return e._tail;if(t<1<<e._level+dr){for(var r=e._root,n=e._level;r&&n>0;)r=r.array[t>>>n&Fn],n-=dr;return r}}function To(e,t,r){t!==void 0&&(t|=0),r!==void 0&&(r|=0);var n=e.__ownerID||new ax,a=e._origin,i=e._capacity,o=a+t,s=r===void 0?i:r<0?i+r:a+r;if(o===a&&s===i)return e;if(o>=s)return e.clear();for(var u=e._level,l=e._root,f=0;o+f<0;)l=new Do(l&&l.array.length?[void 0,l]:[],n),u+=dr,f+=1<<u;f&&(o+=f,a+=f,s+=f,i+=f);for(var d=Mh(i),c=Mh(s);c>=1<<u+dr;)l=new Do(l&&l.array.length?[l]:[],n),u+=dr;var p=e._tail,_=c<d?jB(e,s-1):c>d?new Do([],n):p;if(p&&c>d&&o<i&&p.array.length){l=Qu(l,n);for(var v=l,b=u;b>dr;b-=dr){var m=d>>>b&Fn;v=v.array[m]=Qu(v.array[m],n)}v.array[d>>>dr&Fn]=p}if(s<i&&(_=_&&_.removeAfter(n,0,s)),o>=c)o-=c,s-=c,u=dr,l=null,_=_&&_.removeBefore(n,0,o);else if(o>a||c<d){for(f=0;l;){var y=o>>>u&Fn;if(y!==c>>>u&Fn)break;y&&(f+=(1<<u)*y),u-=dr,l=l.array[y]}l&&o>a&&(l=l.removeBefore(n,u,o-f)),l&&c<d&&(l=l.removeAfter(n,u,c-f)),f&&(o-=f,s-=f)}return e.__ownerID?(e.size=s-o,e._origin=o,e._capacity=s,e._level=u,e._root=l,e._tail=_,e.__hash=void 0,e.__altered=!0,e):Nh(o,s,u,l,_)}function Mh(e){return e<vi?0:e-1>>>dr<<dr}var Zi=function(e){function t(r){return r==null?Xd():V0(r)?r:Xd().withMutations(function(n){var a=Pi(r);ei(a.size),a.forEach(function(i,o){return n.set(o,i)})})}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("OrderedMap {","}")},t.prototype.get=function(n,a){var i=this._map.get(n);return i!==void 0?this._list.get(i)[1]:a},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):Xd()},t.prototype.set=function(n,a){return $3(this,n,a)},t.prototype.remove=function(n){return $3(this,n,$t)},t.prototype.__iterate=function(n,a){var i=this;return this._list.__iterate(function(o){return o&&n(o[1],o[0],i)},a)},t.prototype.__iterator=function(n,a){return this._list.fromEntrySeq().__iterator(n,a)},t.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var a=this._map.__ensureOwner(n),i=this._list.__ensureOwner(n);return n?Lx(a,i,n,this.__hash):this.size===0?Xd():(this.__ownerID=n,this.__altered=!1,this._map=a,this._list=i,this)},t}(es);Zi.isOrderedMap=V0;Zi.prototype[bl]=!0;Zi.prototype[ep]=Zi.prototype.remove;function Lx(e,t,r,n){var a=Object.create(Zi.prototype);return a.size=e?e.size:0,a._map=e,a._list=t,a.__ownerID=r,a.__hash=n,a.__altered=!1,a}var q3;function Xd(){return q3||(q3=Lx(Hi(),Fm()))}function $3(e,t,r){var n=e._map,a=e._list,i=n.get(t),o=i!==void 0,s,u;if(r===$t){if(!o)return e;a.size>=vi&&a.size>=n.size*2?(u=a.filter(function(l,f){return l!==void 0&&i!==f}),s=u.toKeyedSeq().map(function(l){return l[0]}).flip().toMap(),e.__ownerID&&(s.__ownerID=u.__ownerID=e.__ownerID)):(s=n.remove(t),u=i===a.size-1?a.pop():a.set(i,void 0))}else if(o){if(r===a.get(i)[1])return e;s=n,u=a.set(i,[t,r])}else s=n.set(t,a.size),u=a.set(a.size,[t,r]);return e.__ownerID?(e.size=s.size,e._map=s,e._list=u,e.__hash=void 0,e.__altered=!0,e):Lx(s,u)}var BB="@@__IMMUTABLE_STACK__@@";function kh(e){return!!(e&&e[BB])}var cp=function(e){function t(r){return r==null?Sm():kh(r)?r:Sm().pushAll(r)}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("Stack [","]")},t.prototype.get=function(n,a){var i=this._head;for(n=jo(this,n);i&&n--;)i=i.next;return i?i.value:a},t.prototype.peek=function(){return this._head&&this._head.value},t.prototype.push=function(){var n=arguments;if(arguments.length===0)return this;for(var a=this.size+arguments.length,i=this._head,o=arguments.length-1;o>=0;o--)i={value:n[o],next:i};return this.__ownerID?(this.size=a,this._head=i,this.__hash=void 0,this.__altered=!0,this):Jd(a,i)},t.prototype.pushAll=function(n){if(n=e(n),n.size===0)return this;if(this.size===0&&kh(n))return n;ei(n.size);var a=this.size,i=this._head;return n.__iterate(function(o){a++,i={value:o,next:i}},!0),this.__ownerID?(this.size=a,this._head=i,this.__hash=void 0,this.__altered=!0,this):Jd(a,i)},t.prototype.pop=function(){return this.slice(1)},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Sm()},t.prototype.slice=function(n,a){if(tp(n,a,this.size))return this;var i=yl(n,this.size),o=rp(a,this.size);if(o!==this.size)return e.prototype.slice.call(this,n,a);for(var s=this.size-i,u=this._head;i--;)u=u.next;return this.__ownerID?(this.size=s,this._head=u,this.__hash=void 0,this.__altered=!0,this):Jd(s,u)},t.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?Jd(this.size,this._head,n,this.__hash):this.size===0?Sm():(this.__ownerID=n,this.__altered=!1,this)},t.prototype.__iterate=function(n,a){var i=this;if(a)return new Vs(this.toArray()).__iterate(function(u,l){return n(u,l,i)},a);for(var o=0,s=this._head;s&&n(s.value,o++,this)!==!1;)s=s.next;return o},t.prototype.__iterator=function(n,a){if(a)return new Vs(this.toArray()).__iterator(n,a);var i=0,o=this._head;return new zt(function(){if(o){var s=o.value;return o=o.next,yr(n,i++,s)}return jn()})},t}(eu);cp.isStack=kh;var Bn=cp.prototype;Bn[BB]=!0;Bn.shift=Bn.pop;Bn.unshift=Bn.push;Bn.unshiftAll=Bn.pushAll;Bn.withMutations=up;Bn.wasAltered=Ix;Bn.asImmutable=fp;Bn["@@transducer/init"]=Bn.asMutable=lp;Bn["@@transducer/step"]=function(e,t){return e.unshift(t)};Bn["@@transducer/result"]=function(e){return e.asImmutable()};function Jd(e,t,r,n){var a=Object.create(Bn);return a.size=e,a._head=t,a.__ownerID=r,a.__hash=n,a.__altered=!1,a}var U3;function Sm(){return U3||(U3=Jd(0))}var qB="@@__IMMUTABLE_SET__@@";function dp(e){return!!(e&&e[qB])}function Q0(e){return dp(e)&&ii(e)}function Dx(e,t){if(e===t)return!0;if(!Sn(t)||e.size!==void 0&&t.size!==void 0&&e.size!==t.size||e.__hash!==void 0&&t.__hash!==void 0&&e.__hash!==t.__hash||nr(e)!==nr(t)||dn(e)!==dn(t)||ii(e)!==ii(t))return!1;if(e.size===0&&t.size===0)return!0;var r=!gl(e);if(ii(e)){var n=e.entries();return t.every(function(u,l){var f=n.next().value;return f&&Xr(f[1],u)&&(r||Xr(f[0],l))})&&n.next().done}var a=!1;if(e.size===void 0)if(t.size===void 0)typeof e.cacheResult=="function"&&e.cacheResult();else{a=!0;var i=e;e=t,t=i}var o=!0,s=t.__iterate(function(u,l){if(r?!e.has(u):a?!Xr(u,e.get(l,$t)):!Xr(e.get(l,$t),u))return o=!1,!1});return o&&e.size===s}function tu(e,t){var r=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(r),e}function r0(e){if(!e||typeof e!="object")return e;if(!Sn(e)){if(!Bo(e))return e;e=En(e)}if(nr(e)){var t={};return e.__iterate(function(n,a){t[a]=r0(n)}),t}var r=[];return e.__iterate(function(n){r.push(r0(n))}),r}var El=function(e){function t(r){return r==null?eh():dp(r)&&!ii(r)?r:eh().withMutations(function(n){var a=e(r);ei(a.size),a.forEach(function(i){return n.add(i)})})}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(n){return this(Pi(n).keySeq())},t.intersect=function(n){return n=mr(n).toArray(),n.length?hn.intersect.apply(t(n.pop()),n):eh()},t.union=function(n){return n=mr(n).toArray(),n.length?hn.union.apply(t(n.pop()),n):eh()},t.prototype.toString=function(){return this.__toString("Set {","}")},t.prototype.has=function(n){return this._map.has(n)},t.prototype.add=function(n){return Em(this,this._map.set(n,n))},t.prototype.remove=function(n){return Em(this,this._map.remove(n))},t.prototype.clear=function(){return Em(this,this._map.clear())},t.prototype.map=function(n,a){var i=this,o=!1,s=Em(this,this._map.mapEntries(function(u){var l=u[1],f=n.call(a,l,l,i);return f!==l&&(o=!0),[f,f]},a));return o?s:this},t.prototype.union=function(){for(var n=[],a=arguments.length;a--;)n[a]=arguments[a];return n=n.filter(function(i){return i.size!==0}),n.length===0?this:this.size===0&&!this.__ownerID&&n.length===1?this.constructor(n[0]):this.withMutations(function(i){for(var o=0;o<n.length;o++)typeof n[o]=="string"?i.add(n[o]):e(n[o]).forEach(function(s){return i.add(s)})})},t.prototype.intersect=function(){for(var n=[],a=arguments.length;a--;)n[a]=arguments[a];if(n.length===0)return this;n=n.map(function(o){return e(o)});var i=[];return this.forEach(function(o){n.every(function(s){return s.includes(o)})||i.push(o)}),this.withMutations(function(o){i.forEach(function(s){o.remove(s)})})},t.prototype.subtract=function(){for(var n=[],a=arguments.length;a--;)n[a]=arguments[a];if(n.length===0)return this;n=n.map(function(o){return e(o)});var i=[];return this.forEach(function(o){n.some(function(s){return s.includes(o)})&&i.push(o)}),this.withMutations(function(o){i.forEach(function(s){o.remove(s)})})},t.prototype.sort=function(n){return zs(Ku(this,n))},t.prototype.sortBy=function(n,a){return zs(Ku(this,a,n))},t.prototype.wasAltered=function(){return this._map.wasAltered()},t.prototype.__iterate=function(n,a){var i=this;return this._map.__iterate(function(o){return n(o,o,i)},a)},t.prototype.__iterator=function(n,a){return this._map.__iterator(n,a)},t.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var a=this._map.__ensureOwner(n);return n?this.__make(a,n):this.size===0?this.__empty():(this.__ownerID=n,this._map=a,this)},t}(_l);El.isSet=dp;var hn=El.prototype;hn[qB]=!0;hn[ep]=hn.remove;hn.merge=hn.concat=hn.union;hn.withMutations=up;hn.asImmutable=fp;hn["@@transducer/init"]=hn.asMutable=lp;hn["@@transducer/step"]=function(e,t){return e.add(t)};hn["@@transducer/result"]=function(e){return e.asImmutable()};hn.__empty=eh;hn.__make=$B;function Em(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:t.size===0?e.__empty():e.__make(t)}function $B(e,t){var r=Object.create(hn);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}var H3;function eh(){return H3||(H3=$B(Hi()))}var Nx=function(e){function t(r,n,a){if(!(this instanceof t))return new t(r,n,a);if(yx(a!==0,"Cannot step a Range by 0"),r=r||0,n===void 0&&(n=1/0),a=a===void 0?1:Math.abs(a),n<r&&(a=-a),this._start=r,this._end=n,this._step=a,this.size=Math.max(0,Math.ceil((n-r)/a-1)+1),this.size===0){if(K1)return K1;K1=this}}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},t.prototype.get=function(n,a){return this.has(n)?this._start+jo(this,n)*this._step:a},t.prototype.includes=function(n){var a=(n-this._start)/this._step;return a>=0&&a<this.size&&a===Math.floor(a)},t.prototype.slice=function(n,a){return tp(n,a,this.size)?this:(n=yl(n,this.size),a=rp(a,this.size),a<=n?new t(0,0):new t(this.get(n,this._end),this.get(a,this._end),this._step))},t.prototype.indexOf=function(n){var a=n-this._start;if(a%this._step===0){var i=a/this._step;if(i>=0&&i<this.size)return i}return-1},t.prototype.lastIndexOf=function(n){return this.indexOf(n)},t.prototype.__iterate=function(n,a){for(var i=this.size,o=this._step,s=a?this._start+(i-1)*o:this._start,u=0;u!==i&&n(s,a?i-++u:u++,this)!==!1;)s+=a?-o:o;return u},t.prototype.__iterator=function(n,a){var i=this.size,o=this._step,s=a?this._start+(i-1)*o:this._start,u=0;return new zt(function(){if(u===i)return jn();var l=s;return s+=a?-o:o,yr(n,a?i-++u:u++,l)})},t.prototype.equals=function(n){return n instanceof t?this._start===n._start&&this._end===n._end&&this._step===n._step:Dx(this,n)},t}(Ci),K1;function X0(e,t,r){for(var n=xB(t),a=0;a!==n.length;)if(e=K0(e,n[a++],$t),e===$t)return r;return e}function UB(e,t){return X0(this,e,t)}function Mx(e,t){return X0(e,t,$t)!==$t}function OX(e){return Mx(this,e)}function HB(){ei(this.size);var e={};return this.__iterate(function(t,r){e[r]=t}),e}mr.isIterable=Sn;mr.isKeyed=nr;mr.isIndexed=dn;mr.isAssociative=gl;mr.isOrdered=ii;mr.Iterator=zt;tu(mr,{toArray:function(){ei(this.size);var t=new Array(this.size||0),r=nr(this),n=0;return this.__iterate(function(a,i){t[n++]=r?[i,a]:a}),t},toIndexedSeq:function(){return new mB(this)},toJS:function(){return r0(this)},toKeyedSeq:function(){return new G0(this,!0)},toMap:function(){return es(this.toKeyedSeq())},toObject:HB,toOrderedMap:function(){return Zi(this.toKeyedSeq())},toOrderedSet:function(){return zs(nr(this)?this.valueSeq():this)},toSet:function(){return El(nr(this)?this.valueSeq():this)},toSetSeq:function(){return new yB(this)},toSeq:function(){return dn(this)?this.toIndexedSeq():nr(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return cp(nr(this)?this.valueSeq():this)},toList:function(){return Sl(nr(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(t,r){return this.size===0?t+r:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+r},concat:function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return tr(this,hX(this,t))},includes:function(t){return this.some(function(r){return Xr(r,t)})},entries:function(){return this.__iterator(Ii)},every:function(t,r){ei(this.size);var n=!0;return this.__iterate(function(a,i,o){if(!t.call(r,a,i,o))return n=!1,!1}),n},filter:function(t,r){return tr(this,vB(this,t,r,!0))},partition:function(t,r){return cX(this,t,r)},find:function(t,r,n){var a=this.findEntry(t,r);return a?a[1]:n},forEach:function(t,r){return ei(this.size),this.__iterate(r?t.bind(r):t)},join:function(t){ei(this.size),t=t!==void 0?""+t:",";var r="",n=!0;return this.__iterate(function(a){n?n=!1:r+=t,r+=a!=null?a.toString():""}),r},keys:function(){return this.__iterator(ip)},map:function(t,r){return tr(this,bB(this,t,r))},reduce:function(t,r,n){return V3(this,t,r,n,arguments.length<2,!1)},reduceRight:function(t,r,n){return V3(this,t,r,n,arguments.length<2,!0)},reverse:function(){return tr(this,dx(this,!0))},slice:function(t,r){return tr(this,hx(this,t,r,!0))},some:function(t,r){ei(this.size);var n=!1;return this.__iterate(function(a,i,o){if(t.call(r,a,i,o))return n=!0,!1}),n},sort:function(t){return tr(this,Ku(this,t))},values:function(){return this.__iterator(Ki)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(t,r){return Wu(t?this.toSeq().filter(t,r):this)},countBy:function(t,r){return lX(this,t,r)},equals:function(t){return Dx(this,t)},entrySeq:function(){var t=this;if(t._cache)return new Vs(t._cache);var r=t.toSeq().map(CX).toIndexedSeq();return r.fromEntrySeq=function(){return t.toSeq()},r},filterNot:function(t,r){return this.filter(Z1(t),r)},findEntry:function(t,r,n){var a=n;return this.__iterate(function(i,o,s){if(t.call(r,i,o,s))return a=[o,i],!1}),a},findKey:function(t,r){var n=this.findEntry(t,r);return n&&n[0]},findLast:function(t,r,n){return this.toKeyedSeq().reverse().find(t,r,n)},findLastEntry:function(t,r,n){return this.toKeyedSeq().reverse().findEntry(t,r,n)},findLastKey:function(t,r){return this.toKeyedSeq().reverse().findKey(t,r)},first:function(t){return this.find(nB,null,t)},flatMap:function(t,r){return tr(this,pX(this,t,r))},flatten:function(t){return tr(this,SB(this,t,!0))},fromEntrySeq:function(){return new gB(this)},get:function(t,r){return this.find(function(n,a){return Xr(a,t)},void 0,r)},getIn:UB,groupBy:function(t,r){return fX(this,t,r)},has:function(t){return this.get(t,$t)!==$t},hasIn:OX,isSubset:function(t){return t=typeof t.includes=="function"?t:mr(t),this.every(function(r){return t.includes(r)})},isSuperset:function(t){return t=typeof t.isSubset=="function"?t:mr(t),t.isSubset(this)},keyOf:function(t){return this.findKey(function(r){return Xr(r,t)})},keySeq:function(){return this.toSeq().map(PX).toIndexedSeq()},last:function(t){return this.toSeq().reverse().first(t)},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return vm(this,t)},maxBy:function(t,r){return vm(this,r,t)},min:function(t){return vm(this,t?z3(t):W3)},minBy:function(t,r){return vm(this,r?z3(r):W3,t)},rest:function(){return this.slice(1)},skip:function(t){return t===0?this:this.slice(Math.max(0,t))},skipLast:function(t){return t===0?this:this.slice(0,-Math.max(0,t))},skipWhile:function(t,r){return tr(this,wB(this,t,r,!0))},skipUntil:function(t,r){return this.skipWhile(Z1(t),r)},sortBy:function(t,r){return tr(this,Ku(this,r,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return this.slice(-Math.max(0,t))},takeWhile:function(t,r){return tr(this,dX(this,t,r))},takeUntil:function(t,r){return this.takeWhile(Z1(t),r)},update:function(t){return t(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=LX(this))}});var xn=mr.prototype;xn[oB]=!0;xn[U0]=xn.values;xn.toJSON=xn.toArray;xn.__toStringMapper=Ch;xn.inspect=xn.toSource=function(){return this.toString()};xn.chain=xn.flatMap;xn.contains=xn.includes;tu(Pi,{flip:function(){return tr(this,_B(this))},mapEntries:function(t,r){var n=this,a=0;return tr(this,this.toSeq().map(function(i,o){return t.call(r,[o,i],a++,n)}).fromEntrySeq())},mapKeys:function(t,r){var n=this;return tr(this,this.toSeq().flip().map(function(a,i){return t.call(r,a,i,n)}).flip())}});var hp=Pi.prototype;hp[sB]=!0;hp[U0]=xn.entries;hp.toJSON=HB;hp.__toStringMapper=function(e,t){return Ch(t)+": "+Ch(e)};tu(eu,{toKeyedSeq:function(){return new G0(this,!1)},filter:function(t,r){return tr(this,vB(this,t,r,!1))},findIndex:function(t,r){var n=this.findEntry(t,r);return n?n[0]:-1},indexOf:function(t){var r=this.keyOf(t);return r===void 0?-1:r},lastIndexOf:function(t){var r=this.lastKeyOf(t);return r===void 0?-1:r},reverse:function(){return tr(this,dx(this,!1))},slice:function(t,r){return tr(this,hx(this,t,r,!1))},splice:function(t,r){var n=arguments.length;if(r=Math.max(r||0,0),n===0||n===2&&!r)return this;t=yl(t,t<0?this.count():this.size);var a=this.slice(0,t);return tr(this,n===1?a:a.concat(ma(arguments,2),this.slice(t+r)))},findLastIndex:function(t,r){var n=this.findLastEntry(t,r);return n?n[0]:-1},first:function(t){return this.get(0,t)},flatten:function(t){return tr(this,SB(this,t,!1))},get:function(t,r){return t=jo(this,t),t<0||this.size===1/0||this.size!==void 0&&t>this.size?r:this.find(function(n,a){return a===t},void 0,r)},has:function(t){return t=jo(this,t),t>=0&&(this.size!==void 0?this.size===1/0||t<this.size:this.indexOf(t)!==-1)},interpose:function(t){return tr(this,mX(this,t))},interleave:function(){var t=[this].concat(ma(arguments)),r=wm(this.toSeq(),Ci.of,t),n=r.flatten(!0);return r.size&&(n.size=r.size*t.length),tr(this,n)},keySeq:function(){return Nx(0,this.size)},last:function(t){return this.get(-1,t)},skipWhile:function(t,r){return tr(this,wB(this,t,r,!1))},zip:function(){var t=[this].concat(ma(arguments));return tr(this,wm(this,G3,t))},zipAll:function(){var t=[this].concat(ma(arguments));return tr(this,wm(this,G3,t,!0))},zipWith:function(t){var r=ma(arguments);return r[0]=this,tr(this,wm(this,t,r))}});var xl=eu.prototype;xl[uB]=!0;xl[bl]=!0;tu(_l,{get:function(t,r){return this.has(t)?t:r},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}});var Xu=_l.prototype;Xu.has=xn.includes;Xu.contains=Xu.includes;Xu.keys=Xu.values;tu(Xo,hp);tu(Ci,xl);tu(wl,Xu);function V3(e,t,r,n,a,i){return ei(e.size),e.__iterate(function(o,s,u){a?(a=!1,r=o):r=t.call(n,r,o,s,u)},i),r}function PX(e,t){return t}function CX(e,t){return[t,e]}function Z1(e){return function(){return!e.apply(this,arguments)}}function z3(e){return function(){return-e.apply(this,arguments)}}function G3(){return ma(arguments)}function W3(e,t){return e<t?1:e>t?-1:0}function LX(e){if(e.size===1/0)return 0;var t=ii(e),r=nr(e),n=t?1:0,a=e.__iterate(r?t?function(i,o){n=31*n+K3(Dn(i),Dn(o))|0}:function(i,o){n=n+K3(Dn(i),Dn(o))|0}:t?function(i){n=31*n+Dn(i)|0}:function(i){n=n+Dn(i)|0});return DX(a,n)}function DX(e,t){return t=Bf(t,3432918353),t=Bf(t<<15|t>>>-15,461845907),t=Bf(t<<13|t>>>-13,5),t=(t+3864292196|0)^e,t=Bf(t^t>>>16,2246822507),t=Bf(t^t>>>13,3266489909),t=z0(t^t>>>16),t}function K3(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}var zs=function(e){function t(r){return r==null?_S():Q0(r)?r:_S().withMutations(function(n){var a=_l(r);ei(a.size),a.forEach(function(i){return n.add(i)})})}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(n){return this(Pi(n).keySeq())},t.prototype.toString=function(){return this.__toString("OrderedSet {","}")},t}(El);zs.isOrderedSet=Q0;var ru=zs.prototype;ru[bl]=!0;ru.zip=xl.zip;ru.zipWith=xl.zipWith;ru.zipAll=xl.zipAll;ru.__empty=_S;ru.__make=VB;function VB(e,t){var r=Object.create(ru);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}var Z3;function _S(){return Z3||(Z3=VB(Xd()))}var zB={LeftThenRight:-1,RightThenLeft:1};function NX(e){if(Qo(e))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(ui(e))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(e===null||typeof e!="object")throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}var Kr=function(t,r){var n;NX(t);var a=function(s){var u=this;if(s instanceof a)return s;if(!(this instanceof a))return new a(s);if(!n){n=!0;var l=Object.keys(t),f=i._indices={};i._name=r,i._keys=l,i._defaultValues=t;for(var d=0;d<l.length;d++){var c=l[d];f[c]=d,i[c]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+Fx(this)+' with property "'+c+'" since that property name is part of the Record API.'):MX(i,c)}}return this.__ownerID=void 0,this._values=Sl().withMutations(function(p){p.setSize(u._keys.length),Pi(s).forEach(function(_,v){p.set(u._indices[v],_===u._defaultValues[v]?void 0:_)})}),this},i=a.prototype=Object.create(ur);return i.constructor=a,r&&(a.displayName=r),a};Kr.prototype.toString=function(){for(var t=Fx(this)+" { ",r=this._keys,n,a=0,i=r.length;a!==i;a++)n=r[a],t+=(a?", ":"")+n+": "+Ch(this.get(n));return t+" }"};Kr.prototype.equals=function(t){return this===t||Qo(t)&&Ju(this).equals(Ju(t))};Kr.prototype.hashCode=function(){return Ju(this).hashCode()};Kr.prototype.has=function(t){return this._indices.hasOwnProperty(t)};Kr.prototype.get=function(t,r){if(!this.has(t))return r;var n=this._indices[t],a=this._values.get(n);return a===void 0?this._defaultValues[t]:a};Kr.prototype.set=function(t,r){if(this.has(t)){var n=this._values.set(this._indices[t],r===this._defaultValues[t]?void 0:r);if(n!==this._values&&!this.__ownerID)return kx(this,n)}return this};Kr.prototype.remove=function(t){return this.set(t)};Kr.prototype.clear=function(){var t=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:kx(this,t)};Kr.prototype.wasAltered=function(){return this._values.wasAltered()};Kr.prototype.toSeq=function(){return Ju(this)};Kr.prototype.toJS=function(){return r0(this)};Kr.prototype.entries=function(){return this.__iterator(Ii)};Kr.prototype.__iterator=function(t,r){return Ju(this).__iterator(t,r)};Kr.prototype.__iterate=function(t,r){return Ju(this).__iterate(t,r)};Kr.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var r=this._values.__ensureOwner(t);return t?kx(this,r,t):(this.__ownerID=t,this._values=r,this)};Kr.isRecord=Qo;Kr.getDescriptiveName=Fx;var ur=Kr.prototype;ur[fB]=!0;ur[ep]=ur.remove;ur.deleteIn=ur.removeIn=Ex;ur.getIn=UB;ur.hasIn=xn.hasIn;ur.merge=RB;ur.mergeWith=AB;ur.mergeIn=Rx;ur.mergeDeep=DB;ur.mergeDeepWith=NB;ur.mergeDeepIn=Ax;ur.setIn=wx;ur.update=xx;ur.updateIn=Tx;ur.withMutations=up;ur.asMutable=lp;ur.asImmutable=fp;ur[U0]=ur.entries;ur.toJSON=ur.toObject=xn.toObject;ur.inspect=ur.toSource=function(){return this.toString()};function kx(e,t,r){var n=Object.create(Object.getPrototypeOf(e));return n._values=t,n.__ownerID=r,n}function Fx(e){return e.constructor.displayName||e.constructor.name||"Record"}function Ju(e){return fx(e._keys.map(function(t){return[t,e.get(t)]}))}function MX(e,t){try{Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(r){yx(this.__ownerID,"Cannot set on an immutable record."),this.set(t,r)}})}catch{}}var GB=function(e){function t(r,n){if(!(this instanceof t))return new t(r,n);if(this._value=r,this.size=n===void 0?1/0:Math.max(0,n),this.size===0){if(Y1)return Y1;Y1=this}}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},t.prototype.get=function(n,a){return this.has(n)?this._value:a},t.prototype.includes=function(n){return Xr(this._value,n)},t.prototype.slice=function(n,a){var i=this.size;return tp(n,a,i)?this:new t(this._value,rp(a,i)-yl(n,i))},t.prototype.reverse=function(){return this},t.prototype.indexOf=function(n){return Xr(this._value,n)?0:-1},t.prototype.lastIndexOf=function(n){return Xr(this._value,n)?this.size:-1},t.prototype.__iterate=function(n,a){for(var i=this.size,o=0;o!==i&&n(this._value,a?i-++o:o++,this)!==!1;);return o},t.prototype.__iterator=function(n,a){var i=this,o=this.size,s=0;return new zt(function(){return s===o?jn():yr(n,a?o-++s:s++,i._value)})},t.prototype.equals=function(n){return n instanceof t?Xr(this._value,n._value):Dx(this,n)},t}(Ci),Y1;function WB(e,t){return KB([],t||kX,e,"",t&&t.length>2?[]:void 0,{"":e})}function KB(e,t,r,n,a,i){if(typeof r!="string"&&!ui(r)&&(sx(r)||ox(r)||W0(r))){if(~e.indexOf(r))throw new TypeError("Cannot convert circular structure to Immutable");e.push(r),a&&n!==""&&a.push(n);var o=t.call(i,n,En(r).map(function(s,u){return KB(e,t,s,u,a,r)}),a&&a.slice());return e.pop(),a&&a.pop(),o}return r}function kX(e,t){return dn(t)?t.toList():nr(t)?t.toMap():t.toSet()}var ZB="4.3.7",FX={version:ZB,Collection:mr,Iterable:mr,Seq:En,Map:es,OrderedMap:Zi,List:Sl,Stack:cp,Set:El,OrderedSet:zs,PairSorting:zB,Record:Kr,Range:Nx,Repeat:GB,is:Xr,fromJS:WB,hash:Dn,isImmutable:ui,isCollection:Sn,isKeyed:nr,isIndexed:dn,isAssociative:gl,isOrdered:ii,isValueObject:e0,isPlainObject:W0,isSeq:np,isList:Y0,isMap:ap,isOrderedMap:V0,isStack:kh,isSet:dp,isOrderedSet:Q0,isRecord:Qo,get:K0,getIn:X0,has:gx,hasIn:Mx,merge:OB,mergeDeep:CB,mergeWith:PB,mergeDeepWith:LB,remove:_x,removeIn:Sx,set:bx,setIn:vx,update:Z0,updateIn:Jo},jX=mr;const BX=Object.freeze(Object.defineProperty({__proto__:null,Collection:mr,Iterable:jX,List:Sl,Map:es,OrderedMap:Zi,OrderedSet:zs,PairSorting:zB,Range:Nx,Record:Kr,Repeat:GB,Seq:En,Set:El,Stack:cp,default:FX,fromJS:WB,get:K0,getIn:X0,has:gx,hasIn:Mx,hash:Dn,is:Xr,isAssociative:gl,isCollection:Sn,isImmutable:ui,isIndexed:dn,isKeyed:nr,isList:Y0,isMap:ap,isOrdered:ii,isOrderedMap:V0,isOrderedSet:Q0,isPlainObject:W0,isRecord:Qo,isSeq:np,isSet:dp,isStack:kh,isValueObject:e0,merge:OB,mergeDeep:CB,mergeDeepWith:LB,mergeWith:PB,remove:_x,removeIn:Sx,set:bx,setIn:vx,update:Z0,updateIn:Jo,version:ZB},Symbol.toStringTag,{value:"Module"})),qX=tl(BX);var Y3;function YB(){if(Y3)return ms;Y3=1,Object.defineProperty(ms,"__esModule",{value:!0}),ms.ActionContextKey=ms.ActionContext=void 0;const e=qX;let t=class th{constructor(a={}){this.map=(0,e.Map)(a)}setDefault(a,i){return this.has(a)?this:this.set(a,i)}set(a,i){return this.setRaw(a.name,i)}setRaw(a,i){return new th(this.map.set(a,i))}delete(a){return new th(this.map.delete(a.name))}get(a){return this.getRaw(a.name)}getRaw(a){return this.map.get(a)}getSafe(a){if(!this.has(a))throw new Error(`Context entry ${a.name} is required but not available`);return this.get(a)}has(a){return this.hasRaw(a.name)}hasRaw(a){return this.map.has(a)}merge(...a){let i=this;for(const o of a)for(const s of o.keys())i=i.set(s,o.get(s));return i}keys(){return[...this.map.keys()].map(a=>new r(a))}toJS(){return this.map.toJS()}toString(){return`ActionContext(${JSON.stringify(this.map.toJS())})`}[Symbol.for("nodejs.util.inspect.custom")](){return`ActionContext(${JSON.stringify(this.map.toJS(),null,"  ")})`}static ensureActionContext(a){return a instanceof th?a:new th((0,e.Map)(a??{}))}};ms.ActionContext=t;class r{constructor(a){this.name=a}}return ms.ActionContextKey=r,ms}var qf={},Q3;function QB(){if(Q3)return qf;Q3=1,Object.defineProperty(qf,"__esModule",{value:!0}),qf.Bus=void 0;let e=class{constructor(r){this.actors=[],this.observers=[],this.dependencyLinks=new Map,Object.assign(this,r),this.failMessage=`All actors over bus ${this.name} failed to handle an action`}subscribe(r){this.actors.push(r),this.reorderForDependencies()}subscribeObserver(r){this.observers.push(r)}unsubscribe(r){const n=this.actors.indexOf(r);return n>=0?(this.actors.splice(n,1),!0):!1}unsubscribeObserver(r){const n=this.observers.indexOf(r);return n>=0?(this.observers.splice(n,1),!0):!1}publish(r){return this.actors.map(n=>({actor:n,reply:n.test(r)}))}onRun(r,n,a){for(const i of this.observers)i.onRun(r,n,a)}addDependencies(r,n){for(const a of n){let i=this.dependencyLinks.get(a);i||(i=[],this.dependencyLinks.set(a,i)),i.push(r)}this.reorderForDependencies()}reorderForDependencies(){if(this.dependencyLinks.size>0){const r=[];for(const n of this.dependencyLinks.keys()){const a=this.actors.indexOf(n);a>=0&&(this.actors.splice(a,1),r.push(n))}for(;r.length>0;){let n=-1;for(let i=0;i<r.length;i++){let o=!0;for(const s of this.dependencyLinks.get(r[i]))if(!this.actors.includes(s)&&r.includes(s)){o=!1;break}if(o){n=i;break}}if(n<0)throw new Error(`Cyclic dependency links detected in bus ${this.name}`);const a=r.splice(n,1)[0];this.actors.push(a)}}}};return qf.Bus=e,qf}var $f={},X3;function $X(){if(X3)return $f;X3=1,Object.defineProperty($f,"__esModule",{value:!0}),$f.BusIndexed=void 0;const e=QB();let t=class extends e.Bus{constructor(n){super(n),this.actorsIndex={}}subscribe(n){const a=this.getActorIdentifiers(n)??["_undefined_"];for(const i of a){let o=this.actorsIndex[i];o||(o=this.actorsIndex[i]=[]),o.push(n),super.subscribe(n)}}unsubscribe(n){const a=this.getActorIdentifiers(n)??["_undefined_"];let i=!1;for(const o of a){const s=this.actorsIndex[o];if(s){const u=s.indexOf(n);u>=0&&s.splice(u,1),s.length===0&&delete this.actorsIndex[o]}i=i||super.unsubscribe(n)}return i}publish(n){const a=this.getActionIdentifier(n);return a?[...this.actorsIndex[a]||[],...this.actorsIndex._undefined_||[]].map(o=>({actor:o,reply:o.test(n)})):super.publish(n)}getActorIdentifiers(n){const a=this.actorIdentifierFields.reduce((i,o)=>i[o],n);if(a)return Array.isArray(a)?a:[a]}getActionIdentifier(n){return this.actionIdentifierFields.reduce((a,i)=>a[i],n)}};return $f.BusIndexed=t,$f}var Uf={},J3;function XB(){if(J3)return Uf;J3=1,Object.defineProperty(Uf,"__esModule",{value:!0}),Uf.CONTEXT_KEY_LOGGER=void 0;const e=YB();return Uf.CONTEXT_KEY_LOGGER=new e.ActionContextKey("@comunica/core:log"),Uf}var Hf={},eL;function UX(){if(eL)return Hf;eL=1,Object.defineProperty(Hf,"__esModule",{value:!0}),Hf.ActionObserver=void 0;let e=class{constructor(r){Object.assign(this,r)}};return Hf.ActionObserver=e,Hf}var Vf={},tL;function HX(){if(tL)return Vf;tL=1,Object.defineProperty(Vf,"__esModule",{value:!0}),Vf.Actor=void 0;const e=XB();let t=class Cs{constructor(n){this.beforeActors=[],Object.assign(this,n),this.bus.subscribe(this),this.beforeActors.length>0&&this.bus.addDependencies(this,this.beforeActors),n.busFailMessage&&(this.bus.failMessage=n.busFailMessage)}static getContextLogger(n){return n.get(e.CONTEXT_KEY_LOGGER)}runObservable(n,a){const i=this.run(n,a);return this.bus.onRun(this,n,i),i}getDefaultLogData(n,a){const i=a?a():{};return i.actor=this.name,i}logTrace(n,a,i){const o=Cs.getContextLogger(n);o&&o.trace(a,this.getDefaultLogData(n,i))}logDebug(n,a,i){const o=Cs.getContextLogger(n);o&&o.debug(a,this.getDefaultLogData(n,i))}logInfo(n,a,i){const o=Cs.getContextLogger(n);o&&o.info(a,this.getDefaultLogData(n,i))}logWarn(n,a,i){const o=Cs.getContextLogger(n);o&&o.warn(a,this.getDefaultLogData(n,i))}logError(n,a,i){const o=Cs.getContextLogger(n);o&&o.error(a,this.getDefaultLogData(n,i))}logFatal(n,a,i){const o=Cs.getContextLogger(n);o&&o.fatal(a,this.getDefaultLogData(n,i))}};return Vf.Actor=t,Vf}var zf={},rL;function VX(){if(rL)return zf;rL=1,Object.defineProperty(zf,"__esModule",{value:!0}),zf.Mediator=void 0;let e=class bS{constructor(r){Object.assign(this,r)}publish(r){const n=this.bus.publish(r);if(n.length===0)throw new Error(`No actors are able to reply to a message in the bus ${this.bus.name}`);return n}async mediateActor(r){return await this.mediateWith(r,this.publish(r))}async mediateTestable(r){return(await this.mediateActor(r)).mapAsync((a,i)=>a.runObservable(r,i))}async mediate(r){return(await this.mediateTestable(r)).getOrThrow()}constructFailureMessage(r,n){const a=`
        `;return`${this.bus.failMessage.replaceAll(/\$\{(.*?)\}/gu,(o,s)=>bS.getObjectValue({action:r},s.split("."))||o)}
    Error messages of failing actors:${a}${n.join(a)}`}static getObjectValue(r,n){if(n.length===0)return r;if(r)return bS.getObjectValue(r[n[0]],n.slice(1))}};return zf.Mediator=e,zf}var ln={},nL;function zX(){if(nL)return ln;nL=1,Object.defineProperty(ln,"__esModule",{value:!0}),ln.TestResultFailed=ln.TestResultPassed=ln.failTest=ln.passTestVoidWithSideData=ln.passTestWithSideData=ln.passTestVoid=ln.passTest=void 0;function e(s){return new i(s,void 0)}ln.passTest=e;function t(){return new i(!0,void 0)}ln.passTestVoid=t;function r(s,u){return new i(s,u)}ln.passTestWithSideData=r;function n(s){return new i(!0,s)}ln.passTestVoidWithSideData=n;function a(s){return new o(s)}ln.failTest=a;class i{constructor(u,l){this.value=u,this.sideData=l}isPassed(){return!0}isFailed(){return!1}get(){return this.value}getOrThrow(){return this.value}getSideData(){return this.sideData}getFailMessage(){}map(u){return new i(u(this.value,this.sideData),this.sideData)}async mapAsync(u){return new i(await u(this.value,this.sideData),this.sideData)}}ln.TestResultPassed=i;class o{constructor(u){this.failMessage=u}isPassed(){return!1}isFailed(){return!0}get(){}getOrThrow(){throw new Error(this.getFailMessage())}getSideData(){throw new Error(this.getFailMessage())}getFailMessage(){return this.failMessage}map(){return this}async mapAsync(){return this}}return ln.TestResultFailed=o,ln}var iL;function hr(){return iL||(iL=1,function(e){var t=jf.__createBinding||(Object.create?function(n,a,i,o){o===void 0&&(o=i);var s=Object.getOwnPropertyDescriptor(a,i);(!s||("get"in s?!a.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,o,s)}:function(n,a,i,o){o===void 0&&(o=i),n[o]=a[i]}),r=jf.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(YB(),e),r(QB(),e),r($X(),e),r(XB(),e),r(UX(),e),r(HX(),e),r(VX(),e),r(zX(),e)}(jf)),jf}var Gf={},Ht={},aL;function GX(){if(aL)return Ht;aL=1,Object.defineProperty(Ht,"__esModule",{value:!0}),Ht.KeysStatistics=Ht.KeysRdfJoin=Ht.KeysMergeBindingsContext=Ht.KeysRdfUpdateQuads=Ht.KeysQuerySourceIdentify=Ht.KeysRdfParseHtmlScript=Ht.KeysRdfParseJsonLd=Ht.KeysQueryOperation=Ht.KeysExpressionEvaluator=Ht.KeysInitQuery=Ht.KeysHttpProxy=Ht.KeysHttpMemento=Ht.KeysHttpWayback=Ht.KeysHttp=Ht.KeysCore=void 0;const e=hr();return Ht.KeysCore={log:e.CONTEXT_KEY_LOGGER},Ht.KeysHttp={includeCredentials:new e.ActionContextKey("@comunica/bus-http:include-credentials"),auth:new e.ActionContextKey("@comunica/bus-http:auth"),fetch:new e.ActionContextKey("@comunica/bus-http:fetch"),httpTimeout:new e.ActionContextKey("@comunica/bus-http:http-timeout"),httpBodyTimeout:new e.ActionContextKey("@comunica/bus-http:http-body-timeout"),httpRetryCount:new e.ActionContextKey("@comunica/bus-http:http-retry-count"),httpRetryDelayFallback:new e.ActionContextKey("@comunica/bus-http:http-retry-delay-fallback"),httpRetryDelayLimit:new e.ActionContextKey("@comunica/bus-http:http-retry-delay-limit"),httpRetryStatusCodes:new e.ActionContextKey("@comunica/bus-http:http-retry-status-codes")},Ht.KeysHttpWayback={recoverBrokenLinks:new e.ActionContextKey("@comunica/bus-http:recover-broken-links")},Ht.KeysHttpMemento={datetime:new e.ActionContextKey("@comunica/actor-http-memento:datetime")},Ht.KeysHttpProxy={httpProxyHandler:new e.ActionContextKey("@comunica/actor-http-proxy:httpProxyHandler")},Ht.KeysInitQuery={querySourcesUnidentified:new e.ActionContextKey("@comunica/actor-init-query:querySourcesUnidentified"),initialBindings:new e.ActionContextKey("@comunica/actor-init-query:initialBindings"),queryFormat:new e.ActionContextKey("@comunica/actor-init-query:queryFormat"),graphqlSingularizeVariables:new e.ActionContextKey("@comunica/actor-init-query:singularizeVariables"),lenient:new e.ActionContextKey("@comunica/actor-init-query:lenient"),queryString:new e.ActionContextKey("@comunica/actor-init-query:queryString"),query:new e.ActionContextKey("@comunica/actor-init-query:query"),baseIRI:new e.ActionContextKey("@comunica/actor-init-query:baseIRI"),functionArgumentsCache:new e.ActionContextKey("@comunica/actor-init-query:functionArgumentsCache"),queryTimestamp:new e.ActionContextKey("@comunica/actor-init-query:queryTimestamp"),queryTimestampHighResolution:new e.ActionContextKey("@comunica/actor-init-query:queryTimestampHighResolution"),extensionFunctionCreator:new e.ActionContextKey("@comunica/actor-init-query:extensionFunctionCreator"),extensionFunctions:new e.ActionContextKey("@comunica/actor-init-query:extensionFunctions"),cliArgsHandlers:new e.ActionContextKey("@comunica/actor-init-query:cliArgsHandlers"),explain:new e.ActionContextKey("@comunica/actor-init-query:explain"),physicalQueryPlanLogger:new e.ActionContextKey("@comunica/actor-init-query:physicalQueryPlanLogger"),physicalQueryPlanNode:new e.ActionContextKey("@comunica/actor-init-query:physicalQueryPlanNode"),jsonLdContext:new e.ActionContextKey("@context"),invalidateCache:new e.ActionContextKey("@comunica/actor-init-query:invalidateCache"),dataFactory:new e.ActionContextKey("@comunica/actor-init-query:dataFactory"),distinctConstruct:new e.ActionContextKey("@comunica/actor-init-query:distinctConstruct")},Ht.KeysExpressionEvaluator={extensionFunctionCreator:new e.ActionContextKey("@comunica/utils-expression-evaluator:extensionFunctionCreator"),superTypeProvider:new e.ActionContextKey("@comunica/utils-expression-evaluator:superTypeProvider"),defaultTimeZone:new e.ActionContextKey("@comunica/utils-expression-evaluator:defaultTimeZone"),actionContext:new e.ActionContextKey("@comunica/utils-expression-evaluator:actionContext")},Ht.KeysQueryOperation={operation:new e.ActionContextKey("@comunica/bus-query-operation:operation"),joinLeftMetadata:new e.ActionContextKey("@comunica/bus-query-operation:joinLeftMetadata"),joinRightMetadatas:new e.ActionContextKey("@comunica/bus-query-operation:joinRightMetadatas"),joinBindings:new e.ActionContextKey("@comunica/bus-query-operation:joinBindings"),readOnly:new e.ActionContextKey("@comunica/bus-query-operation:readOnly"),isPathArbitraryLengthDistinctKey:new e.ActionContextKey("@comunica/bus-query-operation:isPathArbitraryLengthDistinct"),limitIndicator:new e.ActionContextKey("@comunica/bus-query-operation:limitIndicator"),unionDefaultGraph:new e.ActionContextKey("@comunica/bus-query-operation:unionDefaultGraph"),querySources:new e.ActionContextKey("@comunica/bus-query-operation:querySources")},Ht.KeysRdfParseJsonLd={documentLoader:new e.ActionContextKey("@comunica/actor-rdf-parse-jsonld:documentLoader"),strictValues:new e.ActionContextKey("@comunica/actor-rdf-parse-jsonld:strictValues"),parserOptions:new e.ActionContextKey("@comunica/actor-rdf-parse-jsonld:parserOptions")},Ht.KeysRdfParseHtmlScript={processingHtmlScript:new e.ActionContextKey("@comunica/actor-rdf-parse-html-script:processingHtmlScript"),extractAllScripts:new e.ActionContextKey("extractAllScripts")},Ht.KeysQuerySourceIdentify={sourceIds:new e.ActionContextKey("@comunica/bus-query-source-identify:sourceIds"),hypermediaSourcesAggregatedStores:new e.ActionContextKey("@comunica/bus-query-source-identify:hypermediaSourcesAggregatedStores"),traverse:new e.ActionContextKey("@comunica/bus-query-source-identify:traverse")},Ht.KeysRdfUpdateQuads={destination:new e.ActionContextKey("@comunica/bus-rdf-update-quads:destination")},Ht.KeysMergeBindingsContext={sourcesBinding:new e.ActionContextKey("@comunica/bus-merge-bindings-context:sourcesBinding")},Ht.KeysRdfJoin={lastPhysicalJoin:new e.ActionContextKey("@comunica/bus-rdf-join:lastPhysicalJoin")},Ht.KeysStatistics={discoveredLinks:new e.ActionContextKey("@comunica/bus-context-preprocess:discoveredLinks"),dereferencedLinks:new e.ActionContextKey("@comunica/bus-context-preprocess:dereferencedLinks")},Ht}var oL;function Ji(){return oL||(oL=1,function(e){var t=Gf.__createBinding||(Object.create?function(n,a,i,o){o===void 0&&(o=i);var s=Object.getOwnPropertyDescriptor(a,i);(!s||("get"in s?!a.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,o,s)}:function(n,a,i,o){o===void 0&&(o=i),n[o]=a[i]}),r=Gf.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(GX(),e)}(Gf)),Gf}var sL;function JB(){if(sL)return Ff;sL=1,Object.defineProperty(Ff,"__esModule",{value:!0}),Ff.RdfDereferencerBase=void 0;const e=hr(),t=Ji(),r=en();let n=class{constructor(i){this.mediatorDereferenceRdf=i.mediatorDereferenceRdf}dereference(i,o={}){const s=new e.ActionContext(o).setDefault(t.KeysInitQuery.dataFactory,new r.DataFactory);return this.mediatorDereferenceRdf.mediate({context:typeof o.fetch=="function"?s.setDefault(t.KeysHttp.fetch,o.fetch):s,headers:new Headers(o.headers),method:o.method,url:i})}};return Ff.RdfDereferencerBase=n,Ff}var uL;function WX(){if(uL)return kf;uL=1,Object.defineProperty(kf,"__esModule",{value:!0}),kf.RdfDereferencer=void 0;const e=JB();class t extends e.RdfDereferencerBase{}return kf.RdfDereferencer=t,kf}var Wf={},Kf={},lL;function KX(){if(lL)return Kf;lL=1,Object.defineProperty(Kf,"__esModule",{value:!0}),Kf.MediatorRace=void 0;const e=hr();let t=class extends e.Mediator{constructor(n){super(n)}mediateWith(n,a){return new Promise((i,o)=>{const s=[];for(const u of a)u.reply.then(l=>{l.isPassed()?i((0,e.passTestWithSideData)(u.actor,l.getSideData())):(s.push(l.getFailMessage()),s.length===a.length&&i((0,e.failTest)(this.constructFailureMessage(n,s))))}).catch(l=>{o(l)})})}};return Kf.MediatorRace=t,Kf}var fL;function Q1(){return fL||(fL=1,function(e){var t=Wf.__createBinding||(Object.create?function(n,a,i,o){o===void 0&&(o=i);var s=Object.getOwnPropertyDescriptor(a,i);(!s||("get"in s?!a.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,o,s)}:function(n,a,i,o){o===void 0&&(o=i),n[o]=a[i]}),r=Wf.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(KX(),e)}(Wf)),Wf}var Zf={},Yf={},Qf={},Xf={},La={},cL;function jx(){if(cL)return La;cL=1,Object.defineProperty(La,"__esModule",{value:!0}),La.ActorDereferenceBase=La.isHardError=La.emptyReadable=void 0;const e=Ji(),t=hr(),r=Xi();function n(){const o=new r.Readable;return o.push(null),o}La.emptyReadable=n;function a(o){return!o.get(e.KeysInitQuery.lenient)}La.isHardError=a;let i=class extends t.Actor{constructor(s){super(s)}async dereferenceErrorHandler(s,u,l){if(a(s.context))throw u;return this.logWarn(s.context,u.message),{...l,data:n()}}};return La.ActorDereferenceBase=i,La}var dL;function ZX(){if(dL)return Xf;dL=1,Object.defineProperty(Xf,"__esModule",{value:!0}),Xf.ActorDereference=void 0;const e=jx();let t=class extends e.ActorDereferenceBase{constructor(n){super(n)}async handleDereferenceErrors(n,a,i,o=0){return this.dereferenceErrorHandler(n,a,{url:n.url,exists:!1,headers:i,requestTime:o})}};return Xf.ActorDereference=t,Xf}var ys={},hL;function YX(){if(hL)return ys;hL=1,Object.defineProperty(ys,"__esModule",{value:!0}),ys.ActorDereferenceParse=ys.getMediaTypeFromExtension=void 0;const e=hr(),t=Xi(),r=jx();function n(i,o){const s=i.lastIndexOf(".");return s>=0&&(o==null?void 0:o[i.slice(s+1)])||""}ys.getMediaTypeFromExtension=n;let a=class extends r.ActorDereferenceBase{constructor(o){super(o)}async test(o){return(0,e.passTestVoid)()}handleDereferenceStreamErrors(o,s){return(0,r.isHardError)(o.context)||(s.on("error",u=>{this.logWarn(o.context,u.message,()=>({url:o.url})),s.push(null)}),s=s.pipe(new t.PassThrough({objectMode:!0}))),s}async run(o){var f,d;const{context:s}=o,u=await this.mediatorDereference.mediate({...o,mediaTypes:async()=>{var c,p;return(p=await((c=this.mediatorParseMediatypes)==null?void 0:c.mediate({context:s,mediaTypes:!0})))==null?void 0:p.mediaTypes}});let l;try{l=(await this.mediatorParse.mediate({context:s,handle:{context:s,...u,metadata:await this.getMetadata(u)},handleMediaType:u.mediaType||n(u.url,this.mediaMappings)||o.mediaType})).handle,l.data=this.handleDereferenceStreamErrors(o,l.data)}catch(c){await((d=(f=u.data).close)==null?void 0:d.call(f)),l=await this.dereferenceErrorHandler(o,c,{})}return{...u,...l}}};return ys.ActorDereferenceParse=a,ys}var pL;function Bx(){return pL||(pL=1,function(e){var t=Qf.__createBinding||(Object.create?function(n,a,i,o){o===void 0&&(o=i);var s=Object.getOwnPropertyDescriptor(a,i);(!s||("get"in s?!a.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,o,s)}:function(n,a,i,o){o===void 0&&(o=i),n[o]=a[i]}),r=Qf.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(ZX(),e),r(YX(),e),r(jx(),e)}(Qf)),Qf}var mL;function QX(){if(mL)return Yf;mL=1,Object.defineProperty(Yf,"__esModule",{value:!0}),Yf.ActorDereferenceFallback=void 0;const e=Bx(),t=hr();let r=class extends e.ActorDereference{constructor(a){super(a)}async test(a){return(0,t.passTestVoid)()}async run(a){return this.handleDereferenceErrors(a,new Error(`Could not dereference '${a.url}'`))}};return Yf.ActorDereferenceFallback=r,Yf}var yL;function XX(){return yL||(yL=1,function(e){var t=Zf.__createBinding||(Object.create?function(n,a,i,o){o===void 0&&(o=i);var s=Object.getOwnPropertyDescriptor(a,i);(!s||("get"in s?!a.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,o,s)}:function(n,a,i,o){o===void 0&&(o=i),n[o]=a[i]}),r=Zf.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(QX(),e)}(Zf)),Zf}var Jf={},ec={},tc={},rc={},X1={},gs={},gL;function JX(){if(gL)return gs;gL=1,Object.defineProperty(gs,"__esModule",{value:!0}),gs.readableFromWeb=gs.ReadableFromWeb=void 0;const e=Xi();let t=class extends e.Readable{constructor(a,i){super(i),this.reader=a.getReader(),this.readerClosed=!1,this.reader.closed.then(()=>{this.readerClosed=!0}).catch(o=>{this.readerClosed=!0,this.destroy(o)})}_read(){this.reader.read().then(a=>this.push(a.done?null:a.value)).catch(a=>this.destroy(a))}destroy(a){return this.readerClosed||this.reader.cancel(a).then().catch(()=>{}),super.destroy(a)}};gs.ReadableFromWeb=t;function r(n,a){return new t(n,a)}return gs.readableFromWeb=r,gs}var _L;function eJ(){return _L||(_L=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.readableFromWeb=void 0;var t=JX();Object.defineProperty(e,"readableFromWeb",{enumerable:!0,get:function(){return t.readableFromWeb}})}(X1)),X1}var J1={exports:{}},bL;function tJ(){return bL||(bL=1,function(e){e.exports=t,e.exports.WEBSTREAM_SUPPORT=typeof ReadableStream<"u";function t(r){if(!e.exports.WEBSTREAM_SUPPORT)throw new Error("No web ReadableStream support");var n=!1,a={};function i(u){a.data=f,a.end=f,a.end=d,a.close=d,a.error=d;for(var l in a)r.on(l,a[l]);r.pause();function f(c){n||(u.enqueue(c),r.pause())}function d(c){if(!n){n=!0;for(var p in a)r.removeListener(p,a[p]);c?u.error(c):u.close()}}}function o(){n||r.resume()}function s(){n=!0;for(var u in a)r.removeListener(u,a[u]);r.push(null),r.pause(),r.destroy?r.destroy():r.close&&r.close()}return new ReadableStream({start:i,pull:o,cancel:s})}}(J1)),J1.exports}var vL;function t8(){if(vL)return rc;vL=1,Object.defineProperty(rc,"__esModule",{value:!0}),rc.ActorHttp=void 0;const e=hr(),t=eJ(),r=JE(),n=tJ();let a=class e8 extends e.Actor{constructor(o){super(o)}static toNodeReadable(o){return r(o)||o===null?o:(0,t.readableFromWeb)(o)}static toWebReadableStream(o){return n(o)}static headersToHash(o){const s={};return o.forEach((u,l)=>{s[l]=u}),s}static getInputUrl(o){return new URL(o instanceof Request?o.url:o)}static createUserAgent(o,s){if(!e8.isBrowser()){const u=[`Comunica/${s.split(".")[0]}.0`,`${o}/${s}`];return typeof globalThis.navigator=="object"&&typeof globalThis.navigator.userAgent=="string"?u.push(globalThis.navigator.userAgent):typeof globalThis.process=="object"&&typeof globalThis.process.versions=="object"&&typeof globalThis.process.versions.node=="string"&&u.push(`Node.js/${globalThis.process.versions.node.split(".")[0]}`),typeof globalThis.process=="object"&&typeof globalThis.process.platform=="string"&&typeof globalThis.process.arch=="string"&&u.splice(1,0,`(${globalThis.process.platform}; ${globalThis.process.arch})`),u.join(" ")}}static isBrowser(){return typeof globalThis.window=="object"&&typeof globalThis.window.document=="object"||typeof globalThis.importScripts=="function"}};return rc.ActorHttp=a,rc}var nc={},ic={},ac={},wL;function rJ(){if(wL)return ac;wL=1,Object.defineProperty(ac,"__esModule",{value:!0}),ac.promisifyEventEmitter=void 0;function e(t,r){return new Promise((n,a)=>{t.on("end",()=>n(r)),t.on("error",a)})}return ac.promisifyEventEmitter=e,ac}var SL;function J0(){if(SL)return ic;SL=1;var e=ic.__awaiter||function(n,a,i,o){function s(u){return u instanceof i?u:new i(function(l){l(u)})}return new(i||(i=Promise))(function(u,l){function f(p){try{c(o.next(p))}catch(_){l(_)}}function d(p){try{c(o.throw(p))}catch(_){l(_)}}function c(p){p.done?u(p.value):s(p.value).then(f,d)}c((o=o.apply(n,a||[])).next())})};Object.defineProperty(ic,"__esModule",{value:!0}),ic.stringify=r;const t=rJ();function r(n){return e(this,void 0,void 0,function*(){let a="";return n.on("data",i=>{a+=i}),yield(0,t.promisifyEventEmitter)(n),a})}return ic}var EL;function nJ(){if(EL)return nc;EL=1,Object.defineProperty(nc,"__esModule",{value:!0}),nc.validateAndCloseHttpResponse=void 0;const e=J0(),t=t8();async function r(n,a){var i;if(a.status>=400){let o="empty response";if(a.body){const s=t.ActorHttp.toNodeReadable(a.body);o=await(0,e.stringify)(s)}throw new Error(`Could not update ${n} (HTTP status ${a.status}):
${o}`)}await((i=a.body)==null?void 0:i.cancel())}return nc.validateAndCloseHttpResponse=r,nc}var xL;function ey(){return xL||(xL=1,function(e){var t=tc.__createBinding||(Object.create?function(n,a,i,o){o===void 0&&(o=i);var s=Object.getOwnPropertyDescriptor(a,i);(!s||("get"in s?!a.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,o,s)}:function(n,a,i,o){o===void 0&&(o=i),n[o]=a[i]}),r=tc.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(t8(),e),r(nJ(),e)}(tc)),tc}const iJ="@comunica/actor-http-fetch",aJ="4.0.2",oJ="A fetch http actor",sJ="MIT",uJ={type:"opencollective",url:"https://opencollective.com/comunica-association"},lJ="https://comunica.dev/",fJ={type:"git",url:"https://github.com/comunica/comunica.git",directory:"packages/actor-http-fetch"},cJ={url:"https://github.com/comunica/comunica/issues"},dJ=["comunica","runner"],hJ=!1,pJ="lib/index.js",mJ="lib/index",yJ={access:"public"},gJ=["components","lib/**/*.d.ts","lib/**/*.js","lib/**/*.js.map"],_J={build:"yarn run build:ts && yarn run build:components","build:ts":'node "../../node_modules/typescript/bin/tsc"',"build:components":"componentsjs-generator"},bJ={"@comunica/bus-http":"^4.0.2","@comunica/context-entries":"^4.0.2","@comunica/core":"^4.0.2","@comunica/mediatortype-time":"^4.0.2"},vJ={"./lib/FetchInitPreprocessor.js":"./lib/FetchInitPreprocessor-browser.js"},wJ="b60deab76821557f8d027208ab743d3c66fc60ea",SJ={name:iJ,version:aJ,description:oJ,"lsd:module":!0,license:sJ,funding:uJ,homepage:lJ,repository:fJ,bugs:cJ,keywords:dJ,sideEffects:hJ,main:pJ,typings:mJ,publishConfig:yJ,files:gJ,scripts:_J,dependencies:bJ,browser:vJ,gitHead:wJ};var oc={},TL;function EJ(){if(TL)return oc;TL=1,Object.defineProperty(oc,"__esModule",{value:!0}),oc.FetchInitPreprocessor=void 0;class e{async handle(r){if(r.body&&typeof r.body!="string"&&"getReader"in r.body){const n=r.body.getReader(),a=[];for(;;){const{done:i,value:o}=await n.read();if(i)break;a.push(o)}r.body=a.join("")}return{...r,keepalive:!r.body}}}return oc.FetchInitPreprocessor=e,oc}var RL;function xJ(){if(RL)return ec;RL=1,Object.defineProperty(ec,"__esModule",{value:!0}),ec.ActorHttpFetch=void 0;const e=ey(),t=Ji(),r=hr(),n=SJ,a=EJ();let i=class vS extends e.ActorHttp{constructor(s){super(s),this.fetchInitPreprocessor=new a.FetchInitPreprocessor(s.agentOptions)}async test(s){return(0,r.passTest)({time:Number.POSITIVE_INFINITY})}async run(s){const u=this.prepareRequestHeaders(s),l={method:"GET",...s.init,headers:u};this.logInfo(s.context,`Requesting ${e.ActorHttp.getInputUrl(s.input).href}`,()=>({headers:e.ActorHttp.headersToHash(u),method:l.method})),s.context.has(t.KeysHttp.fetch)&&(l.headers=e.ActorHttp.headersToHash(u)),s.context.get(t.KeysHttp.includeCredentials)&&(l.credentials="include");const f=s.context.get(t.KeysHttp.httpTimeout),d=s.context.get(t.KeysHttp.httpBodyTimeout),c=s.context.get(t.KeysHttp.fetch)??fetch,p=await this.fetchInitPreprocessor.handle(l);let _,v;if(f){const m=new AbortController;p.signal=m.signal,_=()=>m.abort(new Error(`Fetch timed out for ${e.ActorHttp.getInputUrl(s.input).href} after ${f} ms`)),v=setTimeout(()=>_(),f)}const b=await c(s.input,p);return f&&(!d||!b.body)&&clearTimeout(v),b}prepareRequestHeaders(s){var f;const u=new Headers((f=s.init)==null?void 0:f.headers);e.ActorHttp.isBrowser()?u.delete("user-agent"):u.has("user-agent")||u.set("user-agent",vS.userAgent);const l=s.context.get(t.KeysHttp.auth);return l&&u.set("Authorization",`Basic ${vS.stringToBase64(l)}`),u}static stringToBase64(s){const u=new TextEncoder().encode(s),l=Array.from(u,f=>String.fromCodePoint(f)).join("");return btoa(l)}};return ec.ActorHttpFetch=i,i.userAgent=e.ActorHttp.createUserAgent("ActorHttpFetch",n.version),ec}var AL;function TJ(){return AL||(AL=1,function(e){var t=Jf.__createBinding||(Object.create?function(n,a,i,o){o===void 0&&(o=i);var s=Object.getOwnPropertyDescriptor(a,i);(!s||("get"in s?!a.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,o,s)}:function(n,a,i,o){o===void 0&&(o=i),n[o]=a[i]}),r=Jf.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(xJ(),e)}(Jf)),Jf}var sc={},uc={},IL;function RJ(){if(IL)return uc;IL=1,Object.defineProperty(uc,"__esModule",{value:!0}),uc.MediatorNumber=void 0;const e=hr();let t=class extends e.Mediator{constructor(n){super(n),this.indexPicker=this.createIndexPicker()}createIndexPicker(){switch(this.type){case"min":return n=>n.reduce((a,i,o)=>{const s=this.getOrDefault(i[this.field],Number.POSITIVE_INFINITY);return s!==null&&(Number.isNaN(a[0])||a[0]>s)?[s,o]:a},[Number.NaN,-1])[1];case"max":return n=>n.reduce((a,i,o)=>{const s=this.getOrDefault(i[this.field],Number.NEGATIVE_INFINITY);return s!==null&&(Number.isNaN(a[0])||a[0]<s)?[s,o]:a},[Number.NaN,-1])[1];default:throw new Error(`No valid "type" value was given, must be either 'min' or 'max', but got: ${this.type}`)}}getOrDefault(n,a){return n===void 0?a:n}async mediateWith(n,a){let i=await Promise.all(a.map(({reply:f})=>f));const o=[];if(this.ignoreFailures){const f={};f[this.field]=null,i=i.map(d=>d.isFailed()?(o.push(d.getFailMessage()),(0,e.passTestWithSideData)(f,void 0)):d)}const s=[],u=i.map((f,d)=>{const c=f.getOrThrow();return s[d]=f.getSideData(),c}),l=this.indexPicker(u);return l<0?(0,e.failTest)(this.constructFailureMessage(n,o)):(0,e.passTestWithSideData)(a[l].actor,s[l])}};return uc.MediatorNumber=t,uc}var OL;function AJ(){return OL||(OL=1,function(e){var t=sc.__createBinding||(Object.create?function(n,a,i,o){o===void 0&&(o=i);var s=Object.getOwnPropertyDescriptor(a,i);(!s||("get"in s?!a.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,o,s)}:function(n,a,i,o){o===void 0&&(o=i),n[o]=a[i]}),r=sc.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(RJ(),e)}(sc)),sc}var lc={},fc={},cc={},dc={},hc={},pc={},PL;function r8(){if(PL)return pc;PL=1,Object.defineProperty(pc,"__esModule",{value:!0}),pc.ActorAbstractMediaTyped=void 0;const e=hr();let t=class extends e.Actor{constructor(n){super(n)}async run(n){if("handle"in n){const a=n;return{handle:await this.runHandle(a.handle,a.handleMediaType,n.context)}}if("mediaTypes"in n)return{mediaTypes:await this.getMediaTypes(n.context)};if("mediaTypeFormats"in n)return{mediaTypeFormats:await this.getMediaTypeFormats(n.context)};throw new Error("Either a handle, mediaTypes or mediaTypeFormats action needs to be provided")}async test(n){if("handle"in n){const a=n;return(await this.testHandle(a.handle,a.handleMediaType,n.context)).map(i=>({handle:i}))}return"mediaTypes"in n?(await this.testMediaType(n.context)).map(a=>({mediaTypes:a})):"mediaTypeFormats"in n?(await this.testMediaTypeFormats(n.context)).map(a=>({mediaTypeFormats:a})):(0,e.failTest)("Either a handle, mediaTypes or mediaTypeFormats action needs to be provided")}};return pc.ActorAbstractMediaTyped=t,pc}var mc={},CL;function IJ(){if(CL)return mc;CL=1,Object.defineProperty(mc,"__esModule",{value:!0}),mc.ActorAbstractMediaTypedFixed=void 0;const e=hr(),t=r8();let r=class extends t.ActorAbstractMediaTyped{constructor(a){super(a);const i=this.priorityScale||this.priorityScale===0?this.priorityScale:1;if(this.mediaTypePriorities)for(const[o,[s,u]]of Object.entries(this.mediaTypePriorities).entries())this.mediaTypePriorities[s]=i*u;this.mediaTypePriorities=Object.freeze(this.mediaTypePriorities),this.mediaTypeFormats=Object.freeze(this.mediaTypeFormats)}async testHandle(a,i,o){return!i||!(i in this.mediaTypePriorities)?(0,e.failTest)(`Unrecognized media type: ${i}`):await this.testHandleChecked(a,o)}async testMediaType(a){return(0,e.passTestVoid)()}async getMediaTypes(a){return this.mediaTypePriorities}async testMediaTypeFormats(a){return(0,e.passTestVoid)()}async getMediaTypeFormats(a){return this.mediaTypeFormats}};return mc.ActorAbstractMediaTypedFixed=r,mc}var LL;function n8(){return LL||(LL=1,function(e){var t=hc.__createBinding||(Object.create?function(n,a,i,o){o===void 0&&(o=i);var s=Object.getOwnPropertyDescriptor(a,i);(!s||("get"in s?!a.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,o,s)}:function(n,a,i,o){o===void 0&&(o=i),n[o]=a[i]}),r=hc.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(r8(),e),r(IJ(),e)}(hc)),hc}var DL;function OJ(){if(DL)return dc;DL=1,Object.defineProperty(dc,"__esModule",{value:!0}),dc.ActorRdfParse=void 0;const e=n8();let t=class extends e.ActorAbstractMediaTyped{constructor(n){super(n)}};return dc.ActorRdfParse=t,dc}var yc={},NL;function PJ(){if(NL)return yc;NL=1,Object.defineProperty(yc,"__esModule",{value:!0}),yc.ActorRdfParseFixedMediaTypes=void 0;const e=n8(),t=hr();let r=class extends e.ActorAbstractMediaTypedFixed{constructor(a){super(a)}async testHandleChecked(a){return(0,t.passTestVoid)()}};return yc.ActorRdfParseFixedMediaTypes=r,yc}var ML;function Tl(){return ML||(ML=1,function(e){var t=cc.__createBinding||(Object.create?function(n,a,i,o){o===void 0&&(o=i);var s=Object.getOwnPropertyDescriptor(a,i);(!s||("get"in s?!a.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,o,s)}:function(n,a,i,o){o===void 0&&(o=i),n[o]=a[i]}),r=cc.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(OJ(),e),r(PJ(),e)}(cc)),cc}const i8=tl(XG);var kL;function CJ(){if(kL)return fc;kL=1,Object.defineProperty(fc,"__esModule",{value:!0}),fc.ActorRdfParseN3=void 0;const e=Tl(),t=Ji(),r=i8;let n=class extends e.ActorRdfParseFixedMediaTypes{constructor(i){super(i)}async runHandle(i,o,s){var f;const u=i.context.getSafe(t.KeysInitQuery.dataFactory);i.data.on("error",d=>l.emit("error",d));const l=i.data.pipe(new r.StreamParser({factory:u,baseIRI:(f=i.metadata)==null?void 0:f.baseIRI,format:o.endsWith("n3")?o:`${o}*`}));return{data:l,metadata:{triples:o==="text/turtle"||o==="application/n-triples"||o==="text/n3"}}}};return fc.ActorRdfParseN3=n,fc}var FL;function LJ(){return FL||(FL=1,function(e){var t=lc.__createBinding||(Object.create?function(n,a,i,o){o===void 0&&(o=i);var s=Object.getOwnPropertyDescriptor(a,i);(!s||("get"in s?!a.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,o,s)}:function(n,a,i,o){o===void 0&&(o=i),n[o]=a[i]}),r=lc.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(CJ(),e)}(lc)),lc}var gc={},_c={},bc={},_s={},vc={},Da={},jL;function DJ(){if(jL)return Da;jL=1,Object.defineProperty(Da,"__esModule",{value:!0}),Da.removeDotSegmentsOfPath=Da.removeDotSegments=Da.resolve=void 0;function e(a,i){i=i||"";const o=i.indexOf("#");if(o>0&&(i=i.substr(0,o)),!a.length){if(i.indexOf(":")<0)throw new Error(`Found invalid baseIRI '${i}' for value '${a}'`);return i}if(a.startsWith("?")){const p=i.indexOf("?");return p>0&&(i=i.substr(0,p)),i+a}if(a.startsWith("#"))return i+a;if(!i.length){const p=a.indexOf(":");if(p<0)throw new Error(`Found invalid relative IRI '${a}' for a missing baseIRI`);return r(a,p)}const s=a.indexOf(":");if(s>=0)return r(a,s);const u=i.indexOf(":");if(u<0)throw new Error(`Found invalid baseIRI '${i}' for value '${a}'`);const l=i.substr(0,u+1);if(a.indexOf("//")===0)return l+r(a,s);let f;if(i.indexOf("//",u)===u+1){if(f=i.indexOf("/",u+3),f<0)return i.length>u+3?i+"/"+r(a,s):l+r(a,s)}else if(f=i.indexOf("/",u+1),f<0)return l+r(a,s);if(a.indexOf("/")===0)return i.substr(0,f)+t(a);let d=i.substr(f);const c=d.lastIndexOf("/");return c>=0&&c<d.length-1&&(d=d.substr(0,c+1),a[0]==="."&&a[1]!=="."&&a[1]!=="/"&&a[2]&&(a=a.substr(1))),a=d+a,a=t(a),i.substr(0,f)+a}Da.resolve=e;function t(a){const i=[];let o=0;for(;o<a.length;)switch(a[o]){case"/":if(a[o+1]===".")if(a[o+2]==="."){if(!n(a[o+3])){i.push([]),o++;break}i.pop(),a[o+3]||i.push([]),o+=3}else{if(!n(a[o+2])){i.push([]),o++;break}a[o+2]||i.push([]),o+=2}else i.push([]),o++;break;case"#":case"?":i.length||i.push([]),i[i.length-1].push(a.substr(o)),o=a.length;break;default:i.length||i.push([]),i[i.length-1].push(a[o]),o++;break}return"/"+i.map(s=>s.join("")).join("/")}Da.removeDotSegments=t;function r(a,i){let o=i+1;i>=0?a[i+1]==="/"&&a[i+2]==="/"&&(o=i+3):a[0]==="/"&&a[1]==="/"&&(o=2);const s=a.indexOf("/",o);if(s<0)return a;const u=a.substr(0,s),l=a.substr(s);return u+t(l)}Da.removeDotSegmentsOfPath=r;function n(a){return!a||a==="#"||a==="?"||a==="/"}return Da}var BL;function Li(){return BL||(BL=1,function(e){var t=vc.__createBinding||(Object.create?function(n,a,i,o){o===void 0&&(o=i),Object.defineProperty(n,o,{enumerable:!0,get:function(){return a[i]}})}:function(n,a,i,o){o===void 0&&(o=i),n[o]=a[i]}),r=vc.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(DJ(),e)}(vc)),vc}var bs={},ew={},qL;function NJ(){return qL||(qL=1,function(e){/**
 * Character classes and associated utilities for the 5th edition of XML 1.0.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */Object.defineProperty(e,"__esModule",{value:!0}),e.CHAR=`	
\r ---`,e.S=` 	\r
`,e.NAME_START_CHAR=":A-Z_a-z-----------",e.NAME_CHAR="-"+e.NAME_START_CHAR+".0-9--",e.CHAR_RE=new RegExp("^["+e.CHAR+"]$","u"),e.S_RE=new RegExp("^["+e.S+"]+$","u"),e.NAME_START_CHAR_RE=new RegExp("^["+e.NAME_START_CHAR+"]$","u"),e.NAME_CHAR_RE=new RegExp("^["+e.NAME_CHAR+"]$","u"),e.NAME_RE=new RegExp("^["+e.NAME_START_CHAR+"]["+e.NAME_CHAR+"]*$","u"),e.NMTOKEN_RE=new RegExp("^["+e.NAME_CHAR+"]+$","u");var t=9,r=10,n=13,a=32;e.S_LIST=[a,r,n,t];function i(l){return l>=a&&l<=55295||l===r||l===n||l===t||l>=57344&&l<=65533||l>=65536&&l<=1114111}e.isChar=i;function o(l){return l===a||l===r||l===n||l===t}e.isS=o;function s(l){return l>=65&&l<=90||l>=97&&l<=122||l===58||l===95||l===8204||l===8205||l>=192&&l<=214||l>=216&&l<=246||l>=248&&l<=767||l>=880&&l<=893||l>=895&&l<=8191||l>=8304&&l<=8591||l>=11264&&l<=12271||l>=12289&&l<=55295||l>=63744&&l<=64975||l>=65008&&l<=65533||l>=65536&&l<=983039}e.isNameStartChar=s;function u(l){return s(l)||l>=48&&l<=57||l===45||l===46||l===183||l>=768&&l<=879||l>=8255&&l<=8256}e.isNameChar=u}(ew)),ew}var tw={},$L;function MJ(){return $L||($L=1,function(e){/**
 * Character classes and associated utilities for the 2nd edition of XML 1.1.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */Object.defineProperty(e,"__esModule",{value:!0}),e.CHAR="---",e.RESTRICTED_CHAR="-\b\v\f---",e.S=` 	\r
`,e.NAME_START_CHAR=":A-Z_a-z-----------",e.NAME_CHAR="-"+e.NAME_START_CHAR+".0-9--",e.CHAR_RE=new RegExp("^["+e.CHAR+"]$","u"),e.RESTRICTED_CHAR_RE=new RegExp("^["+e.RESTRICTED_CHAR+"]$","u"),e.S_RE=new RegExp("^["+e.S+"]+$","u"),e.NAME_START_CHAR_RE=new RegExp("^["+e.NAME_START_CHAR+"]$","u"),e.NAME_CHAR_RE=new RegExp("^["+e.NAME_CHAR+"]$","u"),e.NAME_RE=new RegExp("^["+e.NAME_START_CHAR+"]["+e.NAME_CHAR+"]*$","u"),e.NMTOKEN_RE=new RegExp("^["+e.NAME_CHAR+"]+$","u");var t=9,r=10,n=13,a=32;e.S_LIST=[a,r,n,t];function i(d){return d>=1&&d<=55295||d>=57344&&d<=65533||d>=65536&&d<=1114111}e.isChar=i;function o(d){return d>=1&&d<=8||d===11||d===12||d>=14&&d<=31||d>=127&&d<=132||d>=134&&d<=159}e.isRestrictedChar=o;function s(d){return d===9||d===10||d===13||d>31&&d<127||d===133||d>159&&d<=55295||d>=57344&&d<=65533||d>=65536&&d<=1114111}e.isCharAndNotRestricted=s;function u(d){return d===a||d===r||d===n||d===t}e.isS=u;function l(d){return d>=65&&d<=90||d>=97&&d<=122||d===58||d===95||d===8204||d===8205||d>=192&&d<=214||d>=216&&d<=246||d>=248&&d<=767||d>=880&&d<=893||d>=895&&d<=8191||d>=8304&&d<=8591||d>=11264&&d<=12271||d>=12289&&d<=55295||d>=63744&&d<=64975||d>=65008&&d<=65533||d>=65536&&d<=983039}e.isNameStartChar=l;function f(d){return l(d)||d>=48&&d<=57||d===45||d===46||d===183||d>=768&&d<=879||d>=8255&&d<=8256}e.isNameChar=f}(tw)),tw}var rw={},UL;function kJ(){return UL||(UL=1,function(e){/**
 * Character class utilities for XML NS 1.0 edition 3.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */Object.defineProperty(e,"__esModule",{value:!0}),e.NC_NAME_START_CHAR="A-Z_a-z------------",e.NC_NAME_CHAR="-"+e.NC_NAME_START_CHAR+".0-9--",e.NC_NAME_START_CHAR_RE=new RegExp("^["+e.NC_NAME_START_CHAR+"]$","u"),e.NC_NAME_CHAR_RE=new RegExp("^["+e.NC_NAME_CHAR+"]$","u"),e.NC_NAME_RE=new RegExp("^["+e.NC_NAME_START_CHAR+"]["+e.NC_NAME_CHAR+"]*$","u");function t(n){return n>=65&&n<=90||n===95||n>=97&&n<=122||n>=192&&n<=214||n>=216&&n<=246||n>=248&&n<=767||n>=880&&n<=893||n>=895&&n<=8191||n>=8204&&n<=8205||n>=8304&&n<=8591||n>=11264&&n<=12271||n>=12289&&n<=55295||n>=63744&&n<=64975||n>=65008&&n<=65533||n>=65536&&n<=983039}e.isNCNameStartChar=t;function r(n){return t(n)||n===45||n===46||n>=48&&n<=57||n===183||n>=768&&n<=879||n>=8255&&n<=8256}e.isNCNameChar=r}(rw)),rw}var HL;function FJ(){if(HL)return bs;HL=1,Object.defineProperty(bs,"__esModule",{value:!0}),bs.SaxesParser=bs.EVENTS=void 0;const e=NJ(),t=MJ(),r=kJ();var n=e.isS,a=e.isChar,i=e.isNameStartChar,o=e.isNameChar,s=e.S_LIST,u=e.NAME_RE,l=t.isChar,f=r.isNCNameStartChar,d=r.isNCNameChar,c=r.NC_NAME_RE;const p="http://www.w3.org/XML/1998/namespace",_="http://www.w3.org/2000/xmlns/",v={__proto__:null,xml:p,xmlns:_},b={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},m=-1,y=-2,g=0,S=1,T=2,I=3,C=4,B=5,D=6,M=7,j=8,O=9,q=10,Q=11,ie=12,X=13,le=14,ae=15,ne=16,V=17,oe=18,he=19,Y=20,Z=21,ee=22,P=23,A=24,$=25,te=26,pe=27,R=28,w=29,x=30,k=31,U=32,re=33,fe=34,ve=35,ce=36,Ie=37,be=38,xe=39,je=40,Ae=41,Pe=42,ke=43,Ze=44,Ue=9,it=10,ye=13,F=32,K=33,_e=34,Oe=38,se=39,ge=45,de=47,Re=59,qe=60,H=61,Te=62,De=63,me=91,Me=93,Ve=133,ft=8232,we=at=>at===_e||at===se,W=[_e,se],G=[...W,me,Te],J=[...W,qe,Me],Se=[H,De,...s],Ne=[...s,Te,Oe,qe];function Le(at,Ce,Ge){switch(Ce){case"xml":Ge!==p&&at.fail(`xml prefix must be bound to ${p}.`);break;case"xmlns":Ge!==_&&at.fail(`xmlns prefix must be bound to ${_}.`);break}switch(Ge){case _:at.fail(Ce===""?`the default namespace may not be set to ${Ge}.`:`may not assign a prefix (even "xmlns") to the URI ${_}.`);break;case p:switch(Ce){case"xml":break;case"":at.fail(`the default namespace may not be set to ${Ge}.`);break;default:at.fail("may not assign the xml namespace to another prefix.")}break}}function He(at,Ce){for(const Ge of Object.keys(Ce))Le(at,Ge,Ce[Ge])}const $e=at=>c.test(at),ut=at=>u.test(at),lt=0,dt=1,ct=2;bs.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const nt={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};class lr{get closed(){return this._closed}constructor(Ce){this.opt=Ce??{},this.fragmentOpt=!!this.opt.fragment;const Ge=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,Ge){this.nameStartCheck=f,this.nameCheck=d,this.isName=$e,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},v);const We=this.opt.additionalNamespaces;We!=null&&(He(this,We),Object.assign(this.ns,We))}else this.nameStartCheck=i,this.nameCheck=o,this.isName=ut,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}_init(){var Ce;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=lt,this.attribList=[];const{fragmentOpt:Ge}=this;this.state=Ge?X:g,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=Ge,this.xmlDeclPossible=!Ge,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:We}=this.opt;if(We===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");We="1.0"}this.setXMLVersion(We),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(b),(Ce=this.readyHandler)===null||Ce===void 0||Ce.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(Ce,Ge){this[nt[Ce]]=Ge}off(Ce){this[nt[Ce]]=void 0}makeError(Ce){var Ge;let We=(Ge=this.fileName)!==null&&Ge!==void 0?Ge:"";return this.trackPosition&&(We.length>0&&(We+=":"),We+=`${this.line}:${this.column}`),We.length>0&&(We+=": "),new Error(We+Ce)}fail(Ce){const Ge=this.makeError(Ce),We=this.errorHandler;if(We===void 0)throw Ge;return We(Ge),this}write(Ce){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let Ge=!1;Ce===null?(Ge=!0,Ce=""):typeof Ce=="object"&&(Ce=Ce.toString()),this.carriedFromPrevious!==void 0&&(Ce=`${this.carriedFromPrevious}${Ce}`,this.carriedFromPrevious=void 0);let We=Ce.length;const ht=Ce.charCodeAt(We-1);!Ge&&(ht===ye||ht>=55296&&ht<=56319)&&(this.carriedFromPrevious=Ce[We-1],We--,Ce=Ce.slice(0,We));const{stateTable:gt}=this;for(this.chunk=Ce,this.i=0;this.i<We;)gt[this.state].call(this);return this.chunkPosition+=We,Ge?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:Ce,i:Ge}=this;if(this.prevI=Ge,this.i=Ge+1,Ge>=Ce.length)return m;const We=Ce.charCodeAt(Ge);if(this.column++,We<55296){if(We>=F||We===Ue)return We;switch(We){case it:return this.line++,this.column=0,this.positionAtNewLine=this.position,it;case ye:return Ce.charCodeAt(Ge+1)===it&&(this.i=Ge+2),this.line++,this.column=0,this.positionAtNewLine=this.position,y;default:return this.fail("disallowed character."),We}}if(We>56319)return We>=57344&&We<=65533||this.fail("disallowed character."),We;const ht=65536+(We-55296)*1024+(Ce.charCodeAt(Ge+1)-56320);return this.i=Ge+2,ht>1114111&&this.fail("disallowed character."),ht}getCode11(){const{chunk:Ce,i:Ge}=this;if(this.prevI=Ge,this.i=Ge+1,Ge>=Ce.length)return m;const We=Ce.charCodeAt(Ge);if(this.column++,We<55296){if(We>31&&We<127||We>159&&We!==ft||We===Ue)return We;switch(We){case it:return this.line++,this.column=0,this.positionAtNewLine=this.position,it;case ye:{const gt=Ce.charCodeAt(Ge+1);(gt===it||gt===Ve)&&(this.i=Ge+2)}case Ve:case ft:return this.line++,this.column=0,this.positionAtNewLine=this.position,y;default:return this.fail("disallowed character."),We}}if(We>56319)return We>=57344&&We<=65533||this.fail("disallowed character."),We;const ht=65536+(We-55296)*1024+(Ce.charCodeAt(Ge+1)-56320);return this.i=Ge+2,ht>1114111&&this.fail("disallowed character."),ht}getCodeNorm(){const Ce=this.getCode();return Ce===y?it:Ce}unget(){this.i=this.prevI,this.column--}captureTo(Ce){let{i:Ge}=this;const{chunk:We}=this;for(;;){const ht=this.getCode(),gt=ht===y,Ct=gt?it:ht;if(Ct===m||Ce.includes(Ct))return this.text+=We.slice(Ge,this.prevI),Ct;gt&&(this.text+=`${We.slice(Ge,this.prevI)}
`,Ge=this.i)}}captureToChar(Ce){let{i:Ge}=this;const{chunk:We}=this;for(;;){let ht=this.getCode();switch(ht){case y:this.text+=`${We.slice(Ge,this.prevI)}
`,Ge=this.i,ht=it;break;case m:return this.text+=We.slice(Ge),!1}if(ht===Ce)return this.text+=We.slice(Ge,this.prevI),!0}}captureNameChars(){const{chunk:Ce,i:Ge}=this;for(;;){const We=this.getCode();if(We===m)return this.name+=Ce.slice(Ge),m;if(!o(We))return this.name+=Ce.slice(Ge,this.prevI),We===y?it:We}}skipSpaces(){for(;;){const Ce=this.getCodeNorm();if(Ce===m||!n(Ce))return Ce}}setXMLVersion(Ce){this.currentXMLVersion=Ce,Ce==="1.0"?(this.isChar=a,this.getCode=this.getCode10):(this.isChar=l,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=S}sBeginWhitespace(){const Ce=this.i,Ge=this.skipSpaces();switch(this.prevI!==Ce&&(this.xmlDeclPossible=!1),Ge){case qe:if(this.state=ae,this.text.length!==0)throw new Error("no-empty text at start");break;case m:break;default:this.unget(),this.state=X,this.xmlDeclPossible=!1}}sDoctype(){var Ce;const Ge=this.captureTo(G);switch(Ge){case Te:{(Ce=this.doctypeHandler)===null||Ce===void 0||Ce.call(this,this.text),this.text="",this.state=X,this.doctype=!0;break}case m:break;default:this.text+=String.fromCodePoint(Ge),Ge===me?this.state=C:we(Ge)&&(this.state=I,this.q=Ge)}}sDoctypeQuote(){const Ce=this.q;this.captureToChar(Ce)&&(this.text+=String.fromCodePoint(Ce),this.q=null,this.state=T)}sDTD(){const Ce=this.captureTo(J);Ce!==m&&(this.text+=String.fromCodePoint(Ce),Ce===Me?this.state=T:Ce===qe?this.state=D:we(Ce)&&(this.state=B,this.q=Ce))}sDTDQuoted(){const Ce=this.q;this.captureToChar(Ce)&&(this.text+=String.fromCodePoint(Ce),this.state=C,this.q=null)}sDTDOpenWaka(){const Ce=this.getCodeNorm();switch(this.text+=String.fromCodePoint(Ce),Ce){case K:this.state=M,this.openWakaBang="";break;case De:this.state=Q;break;default:this.state=C}}sDTDOpenWakaBang(){const Ce=String.fromCodePoint(this.getCodeNorm()),Ge=this.openWakaBang+=Ce;this.text+=Ce,Ge!=="-"&&(this.state=Ge==="--"?j:C,this.openWakaBang="")}sDTDComment(){this.captureToChar(ge)&&(this.text+="-",this.state=O)}sDTDCommentEnding(){const Ce=this.getCodeNorm();this.text+=String.fromCodePoint(Ce),this.state=Ce===ge?q:j}sDTDCommentEnded(){const Ce=this.getCodeNorm();this.text+=String.fromCodePoint(Ce),Ce===Te?this.state=C:(this.fail("malformed comment."),this.state=j)}sDTDPI(){this.captureToChar(De)&&(this.text+="?",this.state=ie)}sDTDPIEnding(){const Ce=this.getCodeNorm();this.text+=String.fromCodePoint(Ce),Ce===Te&&(this.state=C)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:Ce}=this;const{chunk:Ge}=this;e:for(;;)switch(this.getCode()){case y:this.entity+=`${Ge.slice(Ce,this.prevI)}
`,Ce=this.i;break;case Re:{const{entityReturnState:We}=this,ht=this.entity+Ge.slice(Ce,this.prevI);this.state=We;let gt;ht===""?(this.fail("empty entity name."),gt="&;"):(gt=this.parseEntity(ht),this.entity=""),(We!==X||this.textHandler!==void 0)&&(this.text+=gt);break e}case m:this.entity+=Ge.slice(Ce);break e}}sOpenWaka(){const Ce=this.getCode();if(i(Ce))this.state=fe,this.unget(),this.xmlDeclPossible=!1;else switch(Ce){case de:this.state=ke,this.xmlDeclPossible=!1;break;case K:this.state=ne,this.openWakaBang="",this.xmlDeclPossible=!1;break;case De:this.state=P;break;default:this.fail("disallowed character in tag name"),this.state=X,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":!this.sawRoot&&!this.reportedTextBeforeRoot&&(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=Y,this.openWakaBang="";break;case"--":this.state=V,this.openWakaBang="";break;case"DOCTYPE":this.state=T,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(ge)&&(this.state=oe)}sCommentEnding(){var Ce;const Ge=this.getCodeNorm();Ge===ge?(this.state=he,(Ce=this.commentHandler)===null||Ce===void 0||Ce.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(Ge)}`,this.state=V)}sCommentEnded(){const Ce=this.getCodeNorm();Ce!==Te?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(Ce)}`,this.state=V):this.state=X}sCData(){this.captureToChar(Me)&&(this.state=Z)}sCDataEnding(){const Ce=this.getCodeNorm();Ce===Me?this.state=ee:(this.text+=`]${String.fromCodePoint(Ce)}`,this.state=Y)}sCDataEnding2(){var Ce;const Ge=this.getCodeNorm();switch(Ge){case Te:{(Ce=this.cdataHandler)===null||Ce===void 0||Ce.call(this,this.text),this.text="",this.state=X;break}case Me:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(Ge)}`,this.state=Y}}sPIFirstChar(){const Ce=this.getCodeNorm();this.nameStartCheck(Ce)?(this.piTarget+=String.fromCodePoint(Ce),this.state=A):Ce===De||n(Ce)?(this.fail("processing instruction without a target."),this.state=Ce===De?te:$):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(Ce),this.state=A)}sPIRest(){const{chunk:Ce,i:Ge}=this;for(;;){const We=this.getCodeNorm();if(We===m){this.piTarget+=Ce.slice(Ge);return}if(!this.nameCheck(We)){this.piTarget+=Ce.slice(Ge,this.prevI);const ht=We===De;ht||n(We)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=ht?re:pe):this.state=ht?te:$:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(We));break}}}sPIBody(){if(this.text.length===0){const Ce=this.getCodeNorm();Ce===De?this.state=te:n(Ce)||(this.text=String.fromCodePoint(Ce))}else this.captureToChar(De)&&(this.state=te)}sPIEnding(){var Ce;const Ge=this.getCodeNorm();if(Ge===Te){const{piTarget:We}=this;We.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(Ce=this.piHandler)===null||Ce===void 0||Ce.call(this,{target:We,body:this.text}),this.piTarget=this.text="",this.state=X}else Ge===De?this.text+="?":(this.text+=`?${String.fromCodePoint(Ge)}`,this.state=$);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const Ce=this.skipSpaces();if(Ce===De){this.state=re;return}Ce!==m&&(this.state=R,this.name=String.fromCodePoint(Ce))}sXMLDeclName(){const Ce=this.captureTo(Se);if(Ce===De){this.state=re,this.name+=this.text,this.text="",this.fail("XML declaration is incomplete.");return}if(n(Ce)||Ce===H){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=Ce===H?x:w}}sXMLDeclEq(){const Ce=this.getCodeNorm();if(Ce===De){this.state=re,this.fail("XML declaration is incomplete.");return}n(Ce)||(Ce!==H&&this.fail("value required."),this.state=x)}sXMLDeclValueStart(){const Ce=this.getCodeNorm();if(Ce===De){this.state=re,this.fail("XML declaration is incomplete.");return}n(Ce)||(we(Ce)?this.q=Ce:(this.fail("value must be quoted."),this.q=F),this.state=k)}sXMLDeclValue(){const Ce=this.captureTo([this.q,De]);if(Ce===De){this.state=re,this.text="",this.fail("XML declaration is incomplete.");return}if(Ce===m)return;const Ge=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const We=Ge;this.xmlDecl.version=We,/^1\.[0-9]+$/.test(We)?this.opt.forceXMLVersion||this.setXMLVersion(We):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(Ge)||this.fail("encoding value must match 	/^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=Ge;break;case"standalone":Ge!=="yes"&&Ge!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=Ge;break}this.name="",this.state=U}sXMLDeclSeparator(){const Ce=this.getCodeNorm();if(Ce===De){this.state=re;return}n(Ce)||(this.fail("whitespace required."),this.unget()),this.state=pe}sXMLDeclEnding(){var Ce;this.getCodeNorm()===Te?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(Ce=this.xmldeclHandler)===null||Ce===void 0||Ce.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=X):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var Ce;const Ge=this.captureNameChars();if(Ge===m)return;const We=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=We.ns=Object.create(null)),(Ce=this.openTagStartHandler)===null||Ce===void 0||Ce.call(this,We),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),Ge){case Te:this.openTag();break;case de:this.state=ve;break;default:n(Ge)||this.fail("disallowed character in tag name."),this.state=ce}}sOpenTagSlash(){this.getCode()===Te?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=ce)}sAttrib(){const Ce=this.skipSpaces();Ce!==m&&(i(Ce)?(this.unget(),this.state=Ie):Ce===Te?this.openTag():Ce===de?this.state=ve:this.fail("disallowed character in attribute name."))}sAttribName(){const Ce=this.captureNameChars();Ce===H?this.state=xe:n(Ce)?this.state=be:Ce===Te?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):Ce!==m&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const Ce=this.skipSpaces();switch(Ce){case m:return;case H:this.state=xe;break;default:this.fail("attribute without value."),this.text="",this.name="",Ce===Te?this.openTag():i(Ce)?(this.unget(),this.state=Ie):(this.fail("disallowed character in attribute name."),this.state=ce)}}sAttribValue(){const Ce=this.getCodeNorm();we(Ce)?(this.q=Ce,this.state=je):n(Ce)||(this.fail("unquoted attribute value."),this.state=Pe,this.unget())}sAttribValueQuoted(){const{q:Ce,chunk:Ge}=this;let{i:We}=this;for(;;)switch(this.getCode()){case Ce:this.pushAttrib(this.name,this.text+Ge.slice(We,this.prevI)),this.name=this.text="",this.q=null,this.state=Ae;return;case Oe:this.text+=Ge.slice(We,this.prevI),this.state=le,this.entityReturnState=je;return;case it:case y:case Ue:this.text+=`${Ge.slice(We,this.prevI)} `,We=this.i;break;case qe:this.text+=Ge.slice(We,this.prevI),this.fail("disallowed character.");return;case m:this.text+=Ge.slice(We);return}}sAttribValueClosed(){const Ce=this.getCodeNorm();n(Ce)?this.state=ce:Ce===Te?this.openTag():Ce===de?this.state=ve:i(Ce)?(this.fail("no whitespace between attributes."),this.unget(),this.state=Ie):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const Ce=this.captureTo(Ne);switch(Ce){case Oe:this.state=le,this.entityReturnState=Pe;break;case qe:this.fail("disallowed character.");break;case m:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",Ce===Te?this.openTag():this.state=ce}}sCloseTag(){const Ce=this.captureNameChars();Ce===Te?this.closeTag():n(Ce)?this.state=Ze:Ce!==m&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case Te:this.closeTag();break;case m:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:Ce,forbiddenState:Ge}=this;const{chunk:We,textHandler:ht}=this;e:for(;;)switch(this.getCode()){case qe:{if(this.state=ae,ht!==void 0){const{text:gt}=this,Ct=We.slice(Ce,this.prevI);gt.length!==0?(ht(gt+Ct),this.text=""):Ct.length!==0&&ht(Ct)}Ge=lt;break e}case Oe:this.state=le,this.entityReturnState=X,ht!==void 0&&(this.text+=We.slice(Ce,this.prevI)),Ge=lt;break e;case Me:switch(Ge){case lt:Ge=dt;break;case dt:Ge=ct;break;case ct:break;default:throw new Error("impossible state")}break;case Te:Ge===ct&&this.fail('the string "]]>" is disallowed in char data.'),Ge=lt;break;case y:ht!==void 0&&(this.text+=`${We.slice(Ce,this.prevI)}
`),Ce=this.i,Ge=lt;break;case m:ht!==void 0&&(this.text+=We.slice(Ce));break e;default:Ge=lt}this.forbiddenState=Ge}handleTextOutsideRoot(){let{i:Ce}=this;const{chunk:Ge,textHandler:We}=this;let ht=!1;e:for(;;){const gt=this.getCode();switch(gt){case qe:{if(this.state=ae,We!==void 0){const{text:Ct}=this,Rr=Ge.slice(Ce,this.prevI);Ct.length!==0?(We(Ct+Rr),this.text=""):Rr.length!==0&&We(Rr)}break e}case Oe:this.state=le,this.entityReturnState=X,We!==void 0&&(this.text+=Ge.slice(Ce,this.prevI)),ht=!0;break e;case y:We!==void 0&&(this.text+=`${Ge.slice(Ce,this.prevI)}
`),Ce=this.i;break;case m:We!==void 0&&(this.text+=Ge.slice(Ce));break e;default:n(gt)||(ht=!0)}}ht&&(!this.sawRoot&&!this.reportedTextBeforeRoot&&(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(Ce,Ge){var We;const{prefix:ht,local:gt}=this.qname(Ce),Ct={name:Ce,prefix:ht,local:gt,value:Ge};if(this.attribList.push(Ct),(We=this.attributeHandler)===null||We===void 0||We.call(this,Ct),ht==="xmlns"){const Rr=Ge.trim();this.currentXMLVersion==="1.0"&&Rr===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[gt]=Rr,Le(this,gt,Rr)}else if(Ce==="xmlns"){const Rr=Ge.trim();this.topNS[""]=Rr,Le(this,"",Rr)}}pushAttribPlain(Ce,Ge){var We;const ht={name:Ce,value:Ge};this.attribList.push(ht),(We=this.attributeHandler)===null||We===void 0||We.call(this,ht)}end(){var Ce,Ge;this.sawRoot||this.fail("document must contain a root element.");const{tags:We}=this;for(;We.length>0;){const gt=We.pop();this.fail(`unclosed tag: ${gt.name}`)}this.state!==g&&this.state!==X&&this.fail("unexpected end.");const{text:ht}=this;return ht.length!==0&&((Ce=this.textHandler)===null||Ce===void 0||Ce.call(this,ht),this.text=""),this._closed=!0,(Ge=this.endHandler)===null||Ge===void 0||Ge.call(this),this._init(),this}resolve(Ce){var Ge,We;let ht=this.topNS[Ce];if(ht!==void 0)return ht;const{tags:gt}=this;for(let Ct=gt.length-1;Ct>=0;Ct--)if(ht=gt[Ct].ns[Ce],ht!==void 0)return ht;return ht=this.ns[Ce],ht!==void 0?ht:(We=(Ge=this.opt).resolvePrefix)===null||We===void 0?void 0:We.call(Ge,Ce)}qname(Ce){const Ge=Ce.indexOf(":");if(Ge===-1)return{prefix:"",local:Ce};const We=Ce.slice(Ge+1),ht=Ce.slice(0,Ge);return(ht===""||We===""||We.includes(":"))&&this.fail(`malformed name: ${Ce}.`),{prefix:ht,local:We}}processAttribsNS(){var Ce;const{attribList:Ge}=this,We=this.tag;{const{prefix:Ct,local:Rr}=this.qname(We.name);We.prefix=Ct,We.local=Rr;const Tn=We.uri=(Ce=this.resolve(Ct))!==null&&Ce!==void 0?Ce:"";Ct!==""&&(Ct==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),Tn===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(Ct)}.`),We.uri=Ct))}if(Ge.length===0)return;const{attributes:ht}=We,gt=new Set;for(const Ct of Ge){const{name:Rr,prefix:Tn,local:Rl}=Ct;let ea,Ar;Tn===""?(ea=Rr==="xmlns"?_:"",Ar=Rr):(ea=this.resolve(Tn),ea===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(Tn)}.`),ea=Tn),Ar=`{${ea}}${Rl}`),gt.has(Ar)&&this.fail(`duplicate attribute: ${Ar}.`),gt.add(Ar),Ct.uri=ea,ht[Rr]=Ct}this.attribList=[]}processAttribsPlain(){const{attribList:Ce}=this,Ge=this.tag.attributes;for(const{name:We,value:ht}of Ce)Ge[We]!==void 0&&this.fail(`duplicate attribute: ${We}.`),Ge[We]=ht;this.attribList=[]}openTag(){var Ce;this.processAttribs();const{tags:Ge}=this,We=this.tag;We.isSelfClosing=!1,(Ce=this.openTagHandler)===null||Ce===void 0||Ce.call(this,We),Ge.push(We),this.state=X,this.name=""}openSelfClosingTag(){var Ce,Ge,We;this.processAttribs();const{tags:ht}=this,gt=this.tag;gt.isSelfClosing=!0,(Ce=this.openTagHandler)===null||Ce===void 0||Ce.call(this,gt),(Ge=this.closeTagHandler)===null||Ge===void 0||Ge.call(this,gt),(this.tag=(We=ht[ht.length-1])!==null&&We!==void 0?We:null)===null&&(this.closedRoot=!0),this.state=X,this.name=""}closeTag(){const{tags:Ce,name:Ge}=this;if(this.state=X,this.name="",Ge===""){this.fail("weird empty close tag."),this.text+="</>";return}const We=this.closeTagHandler;let ht=Ce.length;for(;ht-- >0;){const gt=this.tag=Ce.pop();if(this.topNS=gt.ns,We==null||We(gt),gt.name===Ge)break;this.fail("unexpected close tag.")}ht===0?this.closedRoot=!0:ht<0&&(this.fail(`unmatched closing tag: ${Ge}.`),this.text+=`</${Ge}>`)}parseEntity(Ce){if(Ce[0]!=="#"){const We=this.ENTITIES[Ce];return We!==void 0?We:(this.fail(this.isName(Ce)?"undefined entity.":"disallowed character in entity name."),`&${Ce};`)}let Ge=NaN;return Ce[1]==="x"&&/^#x[0-9a-f]+$/i.test(Ce)?Ge=parseInt(Ce.slice(2),16):/^#[0-9]+$/.test(Ce)&&(Ge=parseInt(Ce.slice(1),10)),this.isChar(Ge)?String.fromCodePoint(Ge):(this.fail("malformed character entity."),`&${Ce};`)}}return bs.SaxesParser=lr,bs}var wc={},VL;function jJ(){if(VL)return wc;VL=1,Object.defineProperty(wc,"__esModule",{value:!0}),wc.ParseError=void 0;let e=class extends Error{constructor(r,n){const a=r.saxParser;super(r.trackPosition?`Line ${a.line} column ${a.column+1}: ${n}`:n)}};return wc.ParseError=e,wc}var Sc={},nw={},zL;function BJ(){return zL||(zL=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateIri=e.IriValidationStrategy=void 0;function t(){const s="[!$&'()*+,;=]",u="%[a-fA-F0-9]{2}",l="([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",f=`${l}\\.${l}\\.${l}\\.${l}`,d="[a-fA-F0-9]{1,4}",c=`(${d}:${d}|${f})`,p=`((${d}:){6}${c}|::(${d}:){5}${c}|(${d})?::(${d}:){4}${c}|((${d}:){0,1}${d})?::(${d}:){3}${c}|((${d}:){0,2}${d})?::(${d}:){2}${c}|((${d}:){0,3}${d})?::${d}:${c}|((${d}:){0,4}${d})?::${c}|((${d}:){0,5}${d})?::${d}|((${d}:){0,6}${d})?::)`,_=`v[a-fA-F0-9]+\\.(${s}|${s}|":)+`,v=`\\[(${p}|${_})\\]`,b="[0-9]*",m="[a-zA-Z][a-zA-Z0-9+\\-.]*",g="[---]",I="[a-zA-Z0-9\\-._~-----------------]",C=`(${I}|${u}|${s}|[:@])*`,B=`(${C}|[\\/?])*`,D=`(${C}|${g}|[\\/?])*`,M=`(${C})+`,j=`(${C})*`,O="",q=`${M}(\\/${j})*`,Q=`\\/(${M}(\\/${j})*)?`,ie=`(\\/${j})*`,X=`(${I}|${u}|${s})*`,le=`(${v}|${f}|${X})`,V=`(\\/\\/${`(${`(${I}|${u}|${s}|:)*`}@)?${le}(:${b})?`}${ie}|${Q}|${q}|${O})`,oe=`^${m}:${V}(\\?${D})?(#${B})?$`;return new RegExp(oe,"u")}const r=t(),n=/^[A-Za-z][\d+-.A-Za-z]*:[^\u0000-\u0020"<>\\^`{|}]*$/u;var a;(function(o){o.Strict="strict",o.Pragmatic="pragmatic",o.None="none"})(a=e.IriValidationStrategy||(e.IriValidationStrategy={}));function i(o,s=a.Strict){switch(s){case a.Strict:return r.test(o)?void 0:new Error(`Invalid IRI according to RFC 3987: '${o}'`);case a.Pragmatic:return n.test(o)?void 0:new Error(`Invalid IRI according to RDF Turtle: '${o}'`);case a.None:return;default:return new Error(`Not supported validation strategy "${s}"`)}}e.validateIri=i}(nw)),nw}var GL;function qJ(){return GL||(GL=1,function(e){var t=Sc.__createBinding||(Object.create?function(n,a,i,o){o===void 0&&(o=i);var s=Object.getOwnPropertyDescriptor(a,i);(!s||("get"in s?!a.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,o,s)}:function(n,a,i,o){o===void 0&&(o=i),n[o]=a[i]}),r=Sc.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(BJ(),e)}(Sc)),Sc}var WL;function $J(){if(WL)return _s;WL=1,Object.defineProperty(_s,"__esModule",{value:!0}),_s.ParseType=_s.RdfXmlParser=void 0;const e=Li(),t=FJ(),r=Xi(),n=jJ(),a=en(),i=qJ();let o=class wr extends r.Transform{constructor(l){super({readableObjectMode:!0}),this.activeTagStack=[],this.nodeIds={},l&&(Object.assign(this,l),this.options=l),this.dataFactory||(this.dataFactory=new a.DataFactory),this.baseIRI||(this.baseIRI=""),this.defaultGraph||(this.defaultGraph=this.dataFactory.defaultGraph()),this.validateUri!==!1&&(this.validateUri=!0),this.iriValidationStrategy||(this.iriValidationStrategy=this.validateUri?i.IriValidationStrategy.Pragmatic:i.IriValidationStrategy.None),this.saxParser=new t.SaxesParser({xmlns:!0,position:this.trackPosition}),this.attachSaxListeners()}import(l){const f=new r.PassThrough({readableObjectMode:!0});l.on("error",c=>d.emit("error",c)),l.on("data",c=>f.push(c)),l.on("end",()=>f.push(null));const d=f.pipe(new wr(this.options));return d}_transform(l,f,d){try{this.saxParser.write(l)}catch(c){return d(c)}d()}newParseError(l){return new n.ParseError(this,l)}valueToUri(l,f){return this.uriToNamedNode((0,e.resolve)(l,f.baseIRI))}uriToNamedNode(l){const f=(0,i.validateIri)(l,this.iriValidationStrategy);if(f instanceof Error)throw this.newParseError(f.message);return this.dataFactory.namedNode(l)}validateNcname(l){if(!wr.NCNAME_MATCHER.test(l))throw this.newParseError(`Not a valid NCName: ${l}`)}attachSaxListeners(){this.saxParser.on("error",l=>this.emit("error",l)),this.saxParser.on("opentag",this.onTag.bind(this)),this.saxParser.on("text",this.onText.bind(this)),this.saxParser.on("cdata",this.onText.bind(this)),this.saxParser.on("closetag",this.onCloseTag.bind(this)),this.saxParser.on("doctype",this.onDoctype.bind(this))}onTag(l){const f=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;let d=s.RESOURCE;if(f&&(f.hadChildren=!0,d=f.childrenParseType),f&&f.childrenStringTags){const p=l.name;let _="";for(const y in l.attributes)_+=` ${y}="${l.attributes[y].value}"`;const b=`<${`${p}${_}`}>`;f.childrenStringTags.push(b);const m={childrenStringTags:f.childrenStringTags};m.childrenStringEmitClosingTag=`</${p}>`,this.activeTagStack.push(m);return}const c={};f?(c.language=f.language,c.baseIRI=f.baseIRI):c.baseIRI=this.baseIRI,this.activeTagStack.push(c),d===s.RESOURCE?this.onTagResource(l,c,f,!f):this.onTagProperty(l,c,f)}onTagResource(l,f,d,c){f.childrenParseType=s.PROPERTY;let p=!0;if(l.uri===wr.RDF){if(!c&&wr.FORBIDDEN_NODE_ELEMENTS.indexOf(l.local)>=0)throw this.newParseError(`Illegal node element name: ${l.local}`);switch(l.local){case"RDF":f.childrenParseType=s.RESOURCE;case"Description":p=!1}}const _=[],v=[];let b=null,m=!1,y=!1,g=null;for(const S in l.attributes){const T=l.attributes[S];if(d&&T.uri===wr.RDF)switch(T.local){case"about":if(b)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${T.value} and ${b} where found.`);b=T.value;continue;case"ID":if(b)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${T.value} and ${b} where found.`);this.validateNcname(T.value),b="#"+T.value,m=!0;continue;case"nodeID":if(b)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${T.value} and ${b} where found.`);this.validateNcname(T.value),b=T.value,y=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"type":g=T.value;continue;case"aboutEach":throw this.newParseError("rdf:aboutEach is not supported.");case"aboutEachPrefix":throw this.newParseError("rdf:aboutEachPrefix is not supported.");case"li":throw this.newParseError("rdf:li on node elements are not supported.")}else if(T.uri===wr.XML){if(T.local==="lang"){f.language=T.value===""?null:T.value.toLowerCase();continue}else if(T.local==="base"){f.baseIRI=(0,e.resolve)(T.value,f.baseIRI);continue}}T.prefix!=="xml"&&T.prefix!=="xmlns"&&(T.prefix!==""||T.local!=="xmlns")&&T.uri&&(_.push(this.uriToNamedNode(T.uri+T.local)),v.push(T.value))}if(b!==null&&(f.subject=y?this.dataFactory.blankNode(b):this.valueToUri(b,f),m&&this.claimNodeId(f.subject)),f.subject||(f.subject=this.dataFactory.blankNode()),p){const S=this.uriToNamedNode(l.uri+l.local);this.emitTriple(f.subject,this.dataFactory.namedNode(wr.RDF+"type"),S,d?d.reifiedStatementId:null)}if(d){if(d.predicate)if(d.childrenCollectionSubject){const S=this.dataFactory.blankNode();this.emitTriple(d.childrenCollectionSubject,d.childrenCollectionPredicate,S,d.reifiedStatementId),this.emitTriple(S,this.dataFactory.namedNode(wr.RDF+"first"),f.subject,f.reifiedStatementId),d.childrenCollectionSubject=S,d.childrenCollectionPredicate=this.dataFactory.namedNode(wr.RDF+"rest")}else{this.emitTriple(d.subject,d.predicate,f.subject,d.reifiedStatementId);for(let S=0;S<d.predicateSubPredicates.length;S++)this.emitTriple(f.subject,d.predicateSubPredicates[S],d.predicateSubObjects[S],null);d.predicateSubPredicates=[],d.predicateSubObjects=[],d.predicateEmitted=!0}for(let S=0;S<_.length;S++){const T=this.dataFactory.literal(v[S],f.datatype||f.language);this.emitTriple(f.subject,_[S],T,d.reifiedStatementId)}g&&this.emitTriple(f.subject,this.dataFactory.namedNode(wr.RDF+"type"),this.uriToNamedNode(g),null)}}onTagProperty(l,f,d){if(f.childrenParseType=s.RESOURCE,f.subject=d.subject,l.uri===wr.RDF&&l.local==="li"?(d.listItemCounter||(d.listItemCounter=1),f.predicate=this.uriToNamedNode(l.uri+"_"+d.listItemCounter++)):f.predicate=this.uriToNamedNode(l.uri+l.local),l.uri===wr.RDF&&wr.FORBIDDEN_PROPERTY_ELEMENTS.indexOf(l.local)>=0)throw this.newParseError(`Illegal property element name: ${l.local}`);f.predicateSubPredicates=[],f.predicateSubObjects=[];let c=!1,p=!1,_=null,v=!0;const b=[],m=[];for(const y in l.attributes){const g=l.attributes[y];if(g.uri===wr.RDF)switch(g.local){case"resource":if(_)throw this.newParseError(`Found both rdf:resource (${g.value}) and rdf:nodeID (${_}).`);if(c)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:resource (${g.value})`);f.hadChildren=!0,_=g.value,v=!1;continue;case"datatype":if(p)throw this.newParseError(`Found both non-rdf:* property attributes and rdf:datatype (${g.value}).`);if(c)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${g.value})`);f.datatype=this.valueToUri(g.value,f);continue;case"nodeID":if(p)throw this.newParseError(`Found both non-rdf:* property attributes and rdf:nodeID (${g.value}).`);if(f.hadChildren)throw this.newParseError(`Found both rdf:resource and rdf:nodeID (${g.value}).`);if(c)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID (${g.value})`);this.validateNcname(g.value),f.hadChildren=!0,_=g.value,v=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"parseType":if(p)throw this.newParseError("rdf:parseType is not allowed when non-rdf:* property attributes are present");if(f.datatype)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${f.datatype.value})`);if(_)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID or rdf:resource (${_})`);if(g.value==="Resource"){c=!0,f.childrenParseType=s.PROPERTY;const S=this.dataFactory.blankNode();this.emitTriple(f.subject,f.predicate,S,f.reifiedStatementId),f.subject=S,f.predicate=null}else g.value==="Collection"?(c=!0,f.hadChildren=!0,f.childrenCollectionSubject=f.subject,f.childrenCollectionPredicate=f.predicate,v=!1):g.value==="Literal"&&(c=!0,f.childrenTagsToString=!0,f.childrenStringTags=[]);continue;case"ID":this.validateNcname(g.value),f.reifiedStatementId=this.valueToUri("#"+g.value,f),this.claimNodeId(f.reifiedStatementId);continue}else if(g.uri===wr.XML&&g.local==="lang"){f.language=g.value===""?null:g.value.toLowerCase();continue}if(g.prefix!=="xml"&&g.prefix!=="xmlns"&&(g.prefix!==""||g.local!=="xmlns")&&g.uri){if(c||f.datatype)throw this.newParseError(`Found illegal rdf:* properties on property element with attribute: ${g.value}`);f.hadChildren=!0,p=!0,b.push(this.uriToNamedNode(g.uri+g.local)),m.push(this.dataFactory.literal(g.value,f.datatype||f.language))}}if(_!==null){const y=f.subject;f.subject=v?this.dataFactory.blankNode(_):this.valueToUri(_,f),this.emitTriple(y,f.predicate,f.subject,f.reifiedStatementId);for(let g=0;g<b.length;g++)this.emitTriple(f.subject,b[g],m[g],null);f.predicateEmitted=!0}else v&&(f.predicateSubPredicates=b,f.predicateSubObjects=m,f.predicateEmitted=!1)}emitTriple(l,f,d,c){this.push(this.dataFactory.quad(l,f,d,this.defaultGraph)),c&&(this.push(this.dataFactory.quad(c,this.dataFactory.namedNode(wr.RDF+"type"),this.dataFactory.namedNode(wr.RDF+"Statement"),this.defaultGraph)),this.push(this.dataFactory.quad(c,this.dataFactory.namedNode(wr.RDF+"subject"),l,this.defaultGraph)),this.push(this.dataFactory.quad(c,this.dataFactory.namedNode(wr.RDF+"predicate"),f,this.defaultGraph)),this.push(this.dataFactory.quad(c,this.dataFactory.namedNode(wr.RDF+"object"),d,this.defaultGraph)))}claimNodeId(l){if(!this.allowDuplicateRdfIds){if(this.nodeIds[l.value])throw this.newParseError(`Found multiple occurrences of rdf:ID='${l.value}'.`);this.nodeIds[l.value]=!0}}onText(l){const f=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;f&&(f.childrenStringTags?f.childrenStringTags.push(l):f.predicate&&(f.text=l))}onCloseTag(){const l=this.activeTagStack.pop();if(l.childrenStringEmitClosingTag&&l.childrenStringTags.push(l.childrenStringEmitClosingTag),l.childrenTagsToString&&(l.datatype=this.dataFactory.namedNode(wr.RDF+"XMLLiteral"),l.text=l.childrenStringTags.join(""),l.hadChildren=!1),l.childrenCollectionSubject)this.emitTriple(l.childrenCollectionSubject,l.childrenCollectionPredicate,this.dataFactory.namedNode(wr.RDF+"nil"),l.reifiedStatementId);else if(l.predicate){if(!l.hadChildren&&l.childrenParseType!==s.PROPERTY)this.emitTriple(l.subject,l.predicate,this.dataFactory.literal(l.text||"",l.datatype||l.language),l.reifiedStatementId);else if(!l.predicateEmitted){const f=this.dataFactory.blankNode();this.emitTriple(l.subject,l.predicate,f,l.reifiedStatementId);for(let d=0;d<l.predicateSubPredicates.length;d++)this.emitTriple(f,l.predicateSubPredicates[d],l.predicateSubObjects[d],null)}}}onDoctype(l){l.replace(/<!ENTITY\s+([^\s]+)\s+["']([^"']+)["']\s*>/g,(f,d,c)=>(this.saxParser.ENTITIES[d]=c,""))}};_s.RdfXmlParser=o,o.MIME_TYPE="application/rdf+xml",o.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",o.XML="http://www.w3.org/XML/1998/namespace",o.FORBIDDEN_NODE_ELEMENTS=["RDF","ID","about","bagID","parseType","resource","nodeID","li","aboutEach","aboutEachPrefix"],o.FORBIDDEN_PROPERTY_ELEMENTS=["Description","RDF","ID","about","bagID","parseType","resource","nodeID","aboutEach","aboutEachPrefix"],o.NCNAME_MATCHER=/^([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_])([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_\-.0-9#xB7\u{0300}-\u{036F}\u{203F}-\u{2040}])*$/u;var s;return function(u){u[u.RESOURCE=0]="RESOURCE",u[u.PROPERTY=1]="PROPERTY"}(s||(_s.ParseType=s={})),_s}var KL;function UJ(){return KL||(KL=1,function(e){var t=bc.__createBinding||(Object.create?function(n,a,i,o){o===void 0&&(o=i);var s=Object.getOwnPropertyDescriptor(a,i);(!s||("get"in s?!a.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,o,s)}:function(n,a,i,o){o===void 0&&(o=i),n[o]=a[i]}),r=bc.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r($J(),e)}(bc)),bc}var ZL;function HJ(){if(ZL)return _c;ZL=1,Object.defineProperty(_c,"__esModule",{value:!0}),_c.ActorRdfParseRdfXml=void 0;const e=Tl(),t=Ji(),r=UJ();let n=class extends e.ActorRdfParseFixedMediaTypes{constructor(i){super(i)}async runHandle(i){var u;const o=i.context.getSafe(t.KeysInitQuery.dataFactory);i.data.on("error",l=>s.emit("error",l));const s=i.data.pipe(new r.RdfXmlParser({dataFactory:o,baseIRI:(u=i.metadata)==null?void 0:u.baseIRI}));return{data:s,metadata:{triples:!0}}}};return _c.ActorRdfParseRdfXml=n,_c}var YL;function VJ(){return YL||(YL=1,function(e){var t=gc.__createBinding||(Object.create?function(n,a,i,o){o===void 0&&(o=i);var s=Object.getOwnPropertyDescriptor(a,i);(!s||("get"in s?!a.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,o,s)}:function(n,a,i,o){o===void 0&&(o=i),n[o]=a[i]}),r=gc.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(HJ(),e)}(gc)),gc}var Ec={},xc={},Tc={},iw={},QL;function zJ(){return QL||(QL=1,Object.defineProperty(iw,"__esModule",{value:!0})),iw}var aw={},XL;function GJ(){return XL||(XL=1,Object.defineProperty(aw,"__esModule",{value:!0})),aw}var ow={},JL;function WJ(){return JL||(JL=1,Object.defineProperty(ow,"__esModule",{value:!0})),ow}var Rc={},vs={},ho={},sw={},ws={},xm={},eD;function KJ(){return eD||(eD=1,Object.defineProperty(xm,"__esModule",{value:!0}),xm.default=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(function(e){return e.charCodeAt(0)}))),xm}var Tm={},tD;function ZJ(){return tD||(tD=1,Object.defineProperty(Tm,"__esModule",{value:!0}),Tm.default=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(function(e){return e.charCodeAt(0)}))),Tm}var uw={},rD;function nD(){return rD||(rD=1,function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.replaceCodePoint=e.fromCodePoint=void 0;var r=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);e.fromCodePoint=(t=String.fromCodePoint)!==null&&t!==void 0?t:function(i){var o="";return i>65535&&(i-=65536,o+=String.fromCharCode(i>>>10&1023|55296),i=56320|i&1023),o+=String.fromCharCode(i),o};function n(i){var o;return i>=55296&&i<=57343||i>1114111?65533:(o=r.get(i))!==null&&o!==void 0?o:i}e.replaceCodePoint=n;function a(i){return(0,e.fromCodePoint)(n(i))}e.default=a}(uw)),uw}var iD;function qo(){return iD||(iD=1,function(e){var t=ws.__createBinding||(Object.create?function(j,O,q,Q){Q===void 0&&(Q=q);var ie=Object.getOwnPropertyDescriptor(O,q);(!ie||("get"in ie?!O.__esModule:ie.writable||ie.configurable))&&(ie={enumerable:!0,get:function(){return O[q]}}),Object.defineProperty(j,Q,ie)}:function(j,O,q,Q){Q===void 0&&(Q=q),j[Q]=O[q]}),r=ws.__setModuleDefault||(Object.create?function(j,O){Object.defineProperty(j,"default",{enumerable:!0,value:O})}:function(j,O){j.default=O}),n=ws.__importStar||function(j){if(j&&j.__esModule)return j;var O={};if(j!=null)for(var q in j)q!=="default"&&Object.prototype.hasOwnProperty.call(j,q)&&t(O,j,q);return r(O,j),O},a=ws.__importDefault||function(j){return j&&j.__esModule?j:{default:j}};Object.defineProperty(e,"__esModule",{value:!0}),e.decodeXML=e.decodeHTMLStrict=e.decodeHTMLAttribute=e.decodeHTML=e.determineBranch=e.EntityDecoder=e.DecodingMode=e.BinTrieFlags=e.fromCodePoint=e.replaceCodePoint=e.decodeCodePoint=e.xmlDecodeTree=e.htmlDecodeTree=void 0;var i=a(KJ());e.htmlDecodeTree=i.default;var o=a(ZJ());e.xmlDecodeTree=o.default;var s=n(nD());e.decodeCodePoint=s.default;var u=nD();Object.defineProperty(e,"replaceCodePoint",{enumerable:!0,get:function(){return u.replaceCodePoint}}),Object.defineProperty(e,"fromCodePoint",{enumerable:!0,get:function(){return u.fromCodePoint}});var l;(function(j){j[j.NUM=35]="NUM",j[j.SEMI=59]="SEMI",j[j.EQUALS=61]="EQUALS",j[j.ZERO=48]="ZERO",j[j.NINE=57]="NINE",j[j.LOWER_A=97]="LOWER_A",j[j.LOWER_F=102]="LOWER_F",j[j.LOWER_X=120]="LOWER_X",j[j.LOWER_Z=122]="LOWER_Z",j[j.UPPER_A=65]="UPPER_A",j[j.UPPER_F=70]="UPPER_F",j[j.UPPER_Z=90]="UPPER_Z"})(l||(l={}));var f=32,d;(function(j){j[j.VALUE_LENGTH=49152]="VALUE_LENGTH",j[j.BRANCH_LENGTH=16256]="BRANCH_LENGTH",j[j.JUMP_TABLE=127]="JUMP_TABLE"})(d=e.BinTrieFlags||(e.BinTrieFlags={}));function c(j){return j>=l.ZERO&&j<=l.NINE}function p(j){return j>=l.UPPER_A&&j<=l.UPPER_F||j>=l.LOWER_A&&j<=l.LOWER_F}function _(j){return j>=l.UPPER_A&&j<=l.UPPER_Z||j>=l.LOWER_A&&j<=l.LOWER_Z||c(j)}function v(j){return j===l.EQUALS||_(j)}var b;(function(j){j[j.EntityStart=0]="EntityStart",j[j.NumericStart=1]="NumericStart",j[j.NumericDecimal=2]="NumericDecimal",j[j.NumericHex=3]="NumericHex",j[j.NamedEntity=4]="NamedEntity"})(b||(b={}));var m;(function(j){j[j.Legacy=0]="Legacy",j[j.Strict=1]="Strict",j[j.Attribute=2]="Attribute"})(m=e.DecodingMode||(e.DecodingMode={}));var y=function(){function j(O,q,Q){this.decodeTree=O,this.emitCodePoint=q,this.errors=Q,this.state=b.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=m.Strict}return j.prototype.startEntity=function(O){this.decodeMode=O,this.state=b.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1},j.prototype.write=function(O,q){switch(this.state){case b.EntityStart:return O.charCodeAt(q)===l.NUM?(this.state=b.NumericStart,this.consumed+=1,this.stateNumericStart(O,q+1)):(this.state=b.NamedEntity,this.stateNamedEntity(O,q));case b.NumericStart:return this.stateNumericStart(O,q);case b.NumericDecimal:return this.stateNumericDecimal(O,q);case b.NumericHex:return this.stateNumericHex(O,q);case b.NamedEntity:return this.stateNamedEntity(O,q)}},j.prototype.stateNumericStart=function(O,q){return q>=O.length?-1:(O.charCodeAt(q)|f)===l.LOWER_X?(this.state=b.NumericHex,this.consumed+=1,this.stateNumericHex(O,q+1)):(this.state=b.NumericDecimal,this.stateNumericDecimal(O,q))},j.prototype.addToNumericResult=function(O,q,Q,ie){if(q!==Q){var X=Q-q;this.result=this.result*Math.pow(ie,X)+parseInt(O.substr(q,X),ie),this.consumed+=X}},j.prototype.stateNumericHex=function(O,q){for(var Q=q;q<O.length;){var ie=O.charCodeAt(q);if(c(ie)||p(ie))q+=1;else return this.addToNumericResult(O,Q,q,16),this.emitNumericEntity(ie,3)}return this.addToNumericResult(O,Q,q,16),-1},j.prototype.stateNumericDecimal=function(O,q){for(var Q=q;q<O.length;){var ie=O.charCodeAt(q);if(c(ie))q+=1;else return this.addToNumericResult(O,Q,q,10),this.emitNumericEntity(ie,2)}return this.addToNumericResult(O,Q,q,10),-1},j.prototype.emitNumericEntity=function(O,q){var Q;if(this.consumed<=q)return(Q=this.errors)===null||Q===void 0||Q.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(O===l.SEMI)this.consumed+=1;else if(this.decodeMode===m.Strict)return 0;return this.emitCodePoint((0,s.replaceCodePoint)(this.result),this.consumed),this.errors&&(O!==l.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed},j.prototype.stateNamedEntity=function(O,q){for(var Q=this.decodeTree,ie=Q[this.treeIndex],X=(ie&d.VALUE_LENGTH)>>14;q<O.length;q++,this.excess++){var le=O.charCodeAt(q);if(this.treeIndex=S(Q,ie,this.treeIndex+Math.max(1,X),le),this.treeIndex<0)return this.result===0||this.decodeMode===m.Attribute&&(X===0||v(le))?0:this.emitNotTerminatedNamedEntity();if(ie=Q[this.treeIndex],X=(ie&d.VALUE_LENGTH)>>14,X!==0){if(le===l.SEMI)return this.emitNamedEntityData(this.treeIndex,X,this.consumed+this.excess);this.decodeMode!==m.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1},j.prototype.emitNotTerminatedNamedEntity=function(){var O,q=this,Q=q.result,ie=q.decodeTree,X=(ie[Q]&d.VALUE_LENGTH)>>14;return this.emitNamedEntityData(Q,X,this.consumed),(O=this.errors)===null||O===void 0||O.missingSemicolonAfterCharacterReference(),this.consumed},j.prototype.emitNamedEntityData=function(O,q,Q){var ie=this.decodeTree;return this.emitCodePoint(q===1?ie[O]&~d.VALUE_LENGTH:ie[O+1],Q),q===3&&this.emitCodePoint(ie[O+2],Q),Q},j.prototype.end=function(){var O;switch(this.state){case b.NamedEntity:return this.result!==0&&(this.decodeMode!==m.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case b.NumericDecimal:return this.emitNumericEntity(0,2);case b.NumericHex:return this.emitNumericEntity(0,3);case b.NumericStart:return(O=this.errors)===null||O===void 0||O.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case b.EntityStart:return 0}},j}();e.EntityDecoder=y;function g(j){var O="",q=new y(j,function(Q){return O+=(0,s.fromCodePoint)(Q)});return function(ie,X){for(var le=0,ae=0;(ae=ie.indexOf("&",ae))>=0;){O+=ie.slice(le,ae),q.startEntity(X);var ne=q.write(ie,ae+1);if(ne<0){le=ae+q.end();break}le=ae+ne,ae=ne===0?le+1:le}var V=O+ie.slice(le);return O="",V}}function S(j,O,q,Q){var ie=(O&d.BRANCH_LENGTH)>>7,X=O&d.JUMP_TABLE;if(ie===0)return X!==0&&Q===X?q:-1;if(X){var le=Q-X;return le<0||le>=ie?-1:j[q+le]-1}for(var ae=q,ne=ae+ie-1;ae<=ne;){var V=ae+ne>>>1,oe=j[V];if(oe<Q)ae=V+1;else if(oe>Q)ne=V-1;else return j[V+ie]}return-1}e.determineBranch=S;var T=g(i.default),I=g(o.default);function C(j,O){return O===void 0&&(O=m.Legacy),T(j,O)}e.decodeHTML=C;function B(j){return T(j,m.Attribute)}e.decodeHTMLAttribute=B;function D(j){return T(j,m.Strict)}e.decodeHTMLStrict=D;function M(j){return I(j,m.Strict)}e.decodeXML=M}(ws)),ws}var aD;function a8(){return aD||(aD=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.QuoteType=void 0;var t=qo(),r;(function(c){c[c.Tab=9]="Tab",c[c.NewLine=10]="NewLine",c[c.FormFeed=12]="FormFeed",c[c.CarriageReturn=13]="CarriageReturn",c[c.Space=32]="Space",c[c.ExclamationMark=33]="ExclamationMark",c[c.Number=35]="Number",c[c.Amp=38]="Amp",c[c.SingleQuote=39]="SingleQuote",c[c.DoubleQuote=34]="DoubleQuote",c[c.Dash=45]="Dash",c[c.Slash=47]="Slash",c[c.Zero=48]="Zero",c[c.Nine=57]="Nine",c[c.Semi=59]="Semi",c[c.Lt=60]="Lt",c[c.Eq=61]="Eq",c[c.Gt=62]="Gt",c[c.Questionmark=63]="Questionmark",c[c.UpperA=65]="UpperA",c[c.LowerA=97]="LowerA",c[c.UpperF=70]="UpperF",c[c.LowerF=102]="LowerF",c[c.UpperZ=90]="UpperZ",c[c.LowerZ=122]="LowerZ",c[c.LowerX=120]="LowerX",c[c.OpeningSquareBracket=91]="OpeningSquareBracket"})(r||(r={}));var n;(function(c){c[c.Text=1]="Text",c[c.BeforeTagName=2]="BeforeTagName",c[c.InTagName=3]="InTagName",c[c.InSelfClosingTag=4]="InSelfClosingTag",c[c.BeforeClosingTagName=5]="BeforeClosingTagName",c[c.InClosingTagName=6]="InClosingTagName",c[c.AfterClosingTagName=7]="AfterClosingTagName",c[c.BeforeAttributeName=8]="BeforeAttributeName",c[c.InAttributeName=9]="InAttributeName",c[c.AfterAttributeName=10]="AfterAttributeName",c[c.BeforeAttributeValue=11]="BeforeAttributeValue",c[c.InAttributeValueDq=12]="InAttributeValueDq",c[c.InAttributeValueSq=13]="InAttributeValueSq",c[c.InAttributeValueNq=14]="InAttributeValueNq",c[c.BeforeDeclaration=15]="BeforeDeclaration",c[c.InDeclaration=16]="InDeclaration",c[c.InProcessingInstruction=17]="InProcessingInstruction",c[c.BeforeComment=18]="BeforeComment",c[c.CDATASequence=19]="CDATASequence",c[c.InSpecialComment=20]="InSpecialComment",c[c.InCommentLike=21]="InCommentLike",c[c.BeforeSpecialS=22]="BeforeSpecialS",c[c.SpecialStartSequence=23]="SpecialStartSequence",c[c.InSpecialTag=24]="InSpecialTag",c[c.BeforeEntity=25]="BeforeEntity",c[c.BeforeNumericEntity=26]="BeforeNumericEntity",c[c.InNamedEntity=27]="InNamedEntity",c[c.InNumericEntity=28]="InNumericEntity",c[c.InHexEntity=29]="InHexEntity"})(n||(n={}));function a(c){return c===r.Space||c===r.NewLine||c===r.Tab||c===r.FormFeed||c===r.CarriageReturn}function i(c){return c===r.Slash||c===r.Gt||a(c)}function o(c){return c>=r.Zero&&c<=r.Nine}function s(c){return c>=r.LowerA&&c<=r.LowerZ||c>=r.UpperA&&c<=r.UpperZ}function u(c){return c>=r.UpperA&&c<=r.UpperF||c>=r.LowerA&&c<=r.LowerF}var l;(function(c){c[c.NoValue=0]="NoValue",c[c.Unquoted=1]="Unquoted",c[c.Single=2]="Single",c[c.Double=3]="Double"})(l=e.QuoteType||(e.QuoteType={}));var f={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101])},d=function(){function c(p,_){var v=p.xmlMode,b=v===void 0?!1:v,m=p.decodeEntities,y=m===void 0?!0:m;this.cbs=_,this.state=n.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=n.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.trieIndex=0,this.trieCurrent=0,this.entityResult=0,this.entityExcess=0,this.xmlMode=b,this.decodeEntities=y,this.entityTrie=b?t.xmlDecodeTree:t.htmlDecodeTree}return c.prototype.reset=function(){this.state=n.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=n.Text,this.currentSequence=void 0,this.running=!0,this.offset=0},c.prototype.write=function(p){this.offset+=this.buffer.length,this.buffer=p,this.parse()},c.prototype.end=function(){this.running&&this.finish()},c.prototype.pause=function(){this.running=!1},c.prototype.resume=function(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()},c.prototype.getIndex=function(){return this.index},c.prototype.getSectionStart=function(){return this.sectionStart},c.prototype.stateText=function(p){p===r.Lt||!this.decodeEntities&&this.fastForwardTo(r.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=n.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&p===r.Amp&&(this.state=n.BeforeEntity)},c.prototype.stateSpecialStartSequence=function(p){var _=this.sequenceIndex===this.currentSequence.length,v=_?i(p):(p|32)===this.currentSequence[this.sequenceIndex];if(!v)this.isSpecial=!1;else if(!_){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=n.InTagName,this.stateInTagName(p)},c.prototype.stateInSpecialTag=function(p){if(this.sequenceIndex===this.currentSequence.length){if(p===r.Gt||a(p)){var _=this.index-this.currentSequence.length;if(this.sectionStart<_){var v=this.index;this.index=_,this.cbs.ontext(this.sectionStart,_),this.index=v}this.isSpecial=!1,this.sectionStart=_+2,this.stateInClosingTagName(p);return}this.sequenceIndex=0}(p|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===f.TitleEnd?this.decodeEntities&&p===r.Amp&&(this.state=n.BeforeEntity):this.fastForwardTo(r.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(p===r.Lt)},c.prototype.stateCDATASequence=function(p){p===f.Cdata[this.sequenceIndex]?++this.sequenceIndex===f.Cdata.length&&(this.state=n.InCommentLike,this.currentSequence=f.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=n.InDeclaration,this.stateInDeclaration(p))},c.prototype.fastForwardTo=function(p){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===p)return!0;return this.index=this.buffer.length+this.offset-1,!1},c.prototype.stateInCommentLike=function(p){p===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===f.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=n.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):p!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)},c.prototype.isTagStartChar=function(p){return this.xmlMode?!i(p):s(p)},c.prototype.startSpecial=function(p,_){this.isSpecial=!0,this.currentSequence=p,this.sequenceIndex=_,this.state=n.SpecialStartSequence},c.prototype.stateBeforeTagName=function(p){if(p===r.ExclamationMark)this.state=n.BeforeDeclaration,this.sectionStart=this.index+1;else if(p===r.Questionmark)this.state=n.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(p)){var _=p|32;this.sectionStart=this.index,!this.xmlMode&&_===f.TitleEnd[2]?this.startSpecial(f.TitleEnd,3):this.state=!this.xmlMode&&_===f.ScriptEnd[2]?n.BeforeSpecialS:n.InTagName}else p===r.Slash?this.state=n.BeforeClosingTagName:(this.state=n.Text,this.stateText(p))},c.prototype.stateInTagName=function(p){i(p)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(p))},c.prototype.stateBeforeClosingTagName=function(p){a(p)||(p===r.Gt?this.state=n.Text:(this.state=this.isTagStartChar(p)?n.InClosingTagName:n.InSpecialComment,this.sectionStart=this.index))},c.prototype.stateInClosingTagName=function(p){(p===r.Gt||a(p))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.AfterClosingTagName,this.stateAfterClosingTagName(p))},c.prototype.stateAfterClosingTagName=function(p){(p===r.Gt||this.fastForwardTo(r.Gt))&&(this.state=n.Text,this.baseState=n.Text,this.sectionStart=this.index+1)},c.prototype.stateBeforeAttributeName=function(p){p===r.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=n.InSpecialTag,this.sequenceIndex=0):this.state=n.Text,this.baseState=this.state,this.sectionStart=this.index+1):p===r.Slash?this.state=n.InSelfClosingTag:a(p)||(this.state=n.InAttributeName,this.sectionStart=this.index)},c.prototype.stateInSelfClosingTag=function(p){p===r.Gt?(this.cbs.onselfclosingtag(this.index),this.state=n.Text,this.baseState=n.Text,this.sectionStart=this.index+1,this.isSpecial=!1):a(p)||(this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(p))},c.prototype.stateInAttributeName=function(p){(p===r.Eq||i(p))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.AfterAttributeName,this.stateAfterAttributeName(p))},c.prototype.stateAfterAttributeName=function(p){p===r.Eq?this.state=n.BeforeAttributeValue:p===r.Slash||p===r.Gt?(this.cbs.onattribend(l.NoValue,this.index),this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(p)):a(p)||(this.cbs.onattribend(l.NoValue,this.index),this.state=n.InAttributeName,this.sectionStart=this.index)},c.prototype.stateBeforeAttributeValue=function(p){p===r.DoubleQuote?(this.state=n.InAttributeValueDq,this.sectionStart=this.index+1):p===r.SingleQuote?(this.state=n.InAttributeValueSq,this.sectionStart=this.index+1):a(p)||(this.sectionStart=this.index,this.state=n.InAttributeValueNq,this.stateInAttributeValueNoQuotes(p))},c.prototype.handleInAttributeValue=function(p,_){p===_||!this.decodeEntities&&this.fastForwardTo(_)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(_===r.DoubleQuote?l.Double:l.Single,this.index),this.state=n.BeforeAttributeName):this.decodeEntities&&p===r.Amp&&(this.baseState=this.state,this.state=n.BeforeEntity)},c.prototype.stateInAttributeValueDoubleQuotes=function(p){this.handleInAttributeValue(p,r.DoubleQuote)},c.prototype.stateInAttributeValueSingleQuotes=function(p){this.handleInAttributeValue(p,r.SingleQuote)},c.prototype.stateInAttributeValueNoQuotes=function(p){a(p)||p===r.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(l.Unquoted,this.index),this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(p)):this.decodeEntities&&p===r.Amp&&(this.baseState=this.state,this.state=n.BeforeEntity)},c.prototype.stateBeforeDeclaration=function(p){p===r.OpeningSquareBracket?(this.state=n.CDATASequence,this.sequenceIndex=0):this.state=p===r.Dash?n.BeforeComment:n.InDeclaration},c.prototype.stateInDeclaration=function(p){(p===r.Gt||this.fastForwardTo(r.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=n.Text,this.sectionStart=this.index+1)},c.prototype.stateInProcessingInstruction=function(p){(p===r.Gt||this.fastForwardTo(r.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=n.Text,this.sectionStart=this.index+1)},c.prototype.stateBeforeComment=function(p){p===r.Dash?(this.state=n.InCommentLike,this.currentSequence=f.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=n.InDeclaration},c.prototype.stateInSpecialComment=function(p){(p===r.Gt||this.fastForwardTo(r.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=n.Text,this.sectionStart=this.index+1)},c.prototype.stateBeforeSpecialS=function(p){var _=p|32;_===f.ScriptEnd[3]?this.startSpecial(f.ScriptEnd,4):_===f.StyleEnd[3]?this.startSpecial(f.StyleEnd,4):(this.state=n.InTagName,this.stateInTagName(p))},c.prototype.stateBeforeEntity=function(p){this.entityExcess=1,this.entityResult=0,p===r.Number?this.state=n.BeforeNumericEntity:p===r.Amp||(this.trieIndex=0,this.trieCurrent=this.entityTrie[0],this.state=n.InNamedEntity,this.stateInNamedEntity(p))},c.prototype.stateInNamedEntity=function(p){if(this.entityExcess+=1,this.trieIndex=(0,t.determineBranch)(this.entityTrie,this.trieCurrent,this.trieIndex+1,p),this.trieIndex<0){this.emitNamedEntity(),this.index--;return}this.trieCurrent=this.entityTrie[this.trieIndex];var _=this.trieCurrent&t.BinTrieFlags.VALUE_LENGTH;if(_){var v=(_>>14)-1;if(!this.allowLegacyEntity()&&p!==r.Semi)this.trieIndex+=v;else{var b=this.index-this.entityExcess+1;b>this.sectionStart&&this.emitPartial(this.sectionStart,b),this.entityResult=this.trieIndex,this.trieIndex+=v,this.entityExcess=0,this.sectionStart=this.index+1,v===0&&this.emitNamedEntity()}}},c.prototype.emitNamedEntity=function(){if(this.state=this.baseState,this.entityResult!==0){var p=(this.entityTrie[this.entityResult]&t.BinTrieFlags.VALUE_LENGTH)>>14;switch(p){case 1:{this.emitCodePoint(this.entityTrie[this.entityResult]&~t.BinTrieFlags.VALUE_LENGTH);break}case 2:{this.emitCodePoint(this.entityTrie[this.entityResult+1]);break}case 3:this.emitCodePoint(this.entityTrie[this.entityResult+1]),this.emitCodePoint(this.entityTrie[this.entityResult+2])}}},c.prototype.stateBeforeNumericEntity=function(p){(p|32)===r.LowerX?(this.entityExcess++,this.state=n.InHexEntity):(this.state=n.InNumericEntity,this.stateInNumericEntity(p))},c.prototype.emitNumericEntity=function(p){var _=this.index-this.entityExcess-1,v=_+2+ +(this.state===n.InHexEntity);v!==this.index&&(_>this.sectionStart&&this.emitPartial(this.sectionStart,_),this.sectionStart=this.index+Number(p),this.emitCodePoint((0,t.replaceCodePoint)(this.entityResult))),this.state=this.baseState},c.prototype.stateInNumericEntity=function(p){p===r.Semi?this.emitNumericEntity(!0):o(p)?(this.entityResult=this.entityResult*10+(p-r.Zero),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},c.prototype.stateInHexEntity=function(p){p===r.Semi?this.emitNumericEntity(!0):o(p)?(this.entityResult=this.entityResult*16+(p-r.Zero),this.entityExcess++):u(p)?(this.entityResult=this.entityResult*16+((p|32)-r.LowerA+10),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},c.prototype.allowLegacyEntity=function(){return!this.xmlMode&&(this.baseState===n.Text||this.baseState===n.InSpecialTag)},c.prototype.cleanup=function(){this.running&&this.sectionStart!==this.index&&(this.state===n.Text||this.state===n.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===n.InAttributeValueDq||this.state===n.InAttributeValueSq||this.state===n.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))},c.prototype.shouldContinue=function(){return this.index<this.buffer.length+this.offset&&this.running},c.prototype.parse=function(){for(;this.shouldContinue();){var p=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case n.Text:{this.stateText(p);break}case n.SpecialStartSequence:{this.stateSpecialStartSequence(p);break}case n.InSpecialTag:{this.stateInSpecialTag(p);break}case n.CDATASequence:{this.stateCDATASequence(p);break}case n.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(p);break}case n.InAttributeName:{this.stateInAttributeName(p);break}case n.InCommentLike:{this.stateInCommentLike(p);break}case n.InSpecialComment:{this.stateInSpecialComment(p);break}case n.BeforeAttributeName:{this.stateBeforeAttributeName(p);break}case n.InTagName:{this.stateInTagName(p);break}case n.InClosingTagName:{this.stateInClosingTagName(p);break}case n.BeforeTagName:{this.stateBeforeTagName(p);break}case n.AfterAttributeName:{this.stateAfterAttributeName(p);break}case n.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(p);break}case n.BeforeAttributeValue:{this.stateBeforeAttributeValue(p);break}case n.BeforeClosingTagName:{this.stateBeforeClosingTagName(p);break}case n.AfterClosingTagName:{this.stateAfterClosingTagName(p);break}case n.BeforeSpecialS:{this.stateBeforeSpecialS(p);break}case n.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(p);break}case n.InSelfClosingTag:{this.stateInSelfClosingTag(p);break}case n.InDeclaration:{this.stateInDeclaration(p);break}case n.BeforeDeclaration:{this.stateBeforeDeclaration(p);break}case n.BeforeComment:{this.stateBeforeComment(p);break}case n.InProcessingInstruction:{this.stateInProcessingInstruction(p);break}case n.InNamedEntity:{this.stateInNamedEntity(p);break}case n.BeforeEntity:{this.stateBeforeEntity(p);break}case n.InHexEntity:{this.stateInHexEntity(p);break}case n.InNumericEntity:{this.stateInNumericEntity(p);break}default:this.stateBeforeNumericEntity(p)}this.index++}this.cleanup()},c.prototype.finish=function(){this.state===n.InNamedEntity&&this.emitNamedEntity(),this.sectionStart<this.index&&this.handleTrailingData(),this.cbs.onend()},c.prototype.handleTrailingData=function(){var p=this.buffer.length+this.offset;this.state===n.InCommentLike?this.currentSequence===f.CdataEnd?this.cbs.oncdata(this.sectionStart,p,0):this.cbs.oncomment(this.sectionStart,p,0):this.state===n.InNumericEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===n.InHexEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===n.InTagName||this.state===n.BeforeAttributeName||this.state===n.BeforeAttributeValue||this.state===n.AfterAttributeName||this.state===n.InAttributeName||this.state===n.InAttributeValueSq||this.state===n.InAttributeValueDq||this.state===n.InAttributeValueNq||this.state===n.InClosingTagName||this.cbs.ontext(this.sectionStart,p)},c.prototype.emitPartial=function(p,_){this.baseState!==n.Text&&this.baseState!==n.InSpecialTag?this.cbs.onattribdata(p,_):this.cbs.ontext(p,_)},c.prototype.emitCodePoint=function(p){this.baseState!==n.Text&&this.baseState!==n.InSpecialTag?this.cbs.onattribentity(p):this.cbs.ontextentity(p)},c}();e.default=d}(sw)),sw}var oD;function sD(){if(oD)return ho;oD=1;var e=ho.__createBinding||(Object.create?function(b,m,y,g){g===void 0&&(g=y);var S=Object.getOwnPropertyDescriptor(m,y);(!S||("get"in S?!m.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return m[y]}}),Object.defineProperty(b,g,S)}:function(b,m,y,g){g===void 0&&(g=y),b[g]=m[y]}),t=ho.__setModuleDefault||(Object.create?function(b,m){Object.defineProperty(b,"default",{enumerable:!0,value:m})}:function(b,m){b.default=m}),r=ho.__importStar||function(b){if(b&&b.__esModule)return b;var m={};if(b!=null)for(var y in b)y!=="default"&&Object.prototype.hasOwnProperty.call(b,y)&&e(m,b,y);return t(m,b),m};Object.defineProperty(ho,"__esModule",{value:!0}),ho.Parser=void 0;var n=r(a8()),a=qo(),i=new Set(["input","option","optgroup","select","button","datalist","textarea"]),o=new Set(["p"]),s=new Set(["thead","tbody"]),u=new Set(["dd","dt"]),l=new Set(["rt","rp"]),f=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",o],["h1",o],["h2",o],["h3",o],["h4",o],["h5",o],["h6",o],["select",i],["input",i],["output",i],["button",i],["datalist",i],["textarea",i],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",u],["dt",u],["address",o],["article",o],["aside",o],["blockquote",o],["details",o],["div",o],["dl",o],["fieldset",o],["figcaption",o],["figure",o],["footer",o],["form",o],["header",o],["hr",o],["main",o],["nav",o],["ol",o],["pre",o],["section",o],["table",o],["ul",o],["rt",l],["rp",l],["tbody",s],["tfoot",s]]),d=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),c=new Set(["math","svg"]),p=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),_=/\s|\//,v=function(){function b(m,y){y===void 0&&(y={});var g,S,T,I,C;this.options=y,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=m??{},this.lowerCaseTagNames=(g=y.lowerCaseTags)!==null&&g!==void 0?g:!y.xmlMode,this.lowerCaseAttributeNames=(S=y.lowerCaseAttributeNames)!==null&&S!==void 0?S:!y.xmlMode,this.tokenizer=new((T=y.Tokenizer)!==null&&T!==void 0?T:n.default)(this.options,this),(C=(I=this.cbs).onparserinit)===null||C===void 0||C.call(I,this)}return b.prototype.ontext=function(m,y){var g,S,T=this.getSlice(m,y);this.endIndex=y-1,(S=(g=this.cbs).ontext)===null||S===void 0||S.call(g,T),this.startIndex=y},b.prototype.ontextentity=function(m){var y,g,S=this.tokenizer.getSectionStart();this.endIndex=S-1,(g=(y=this.cbs).ontext)===null||g===void 0||g.call(y,(0,a.fromCodePoint)(m)),this.startIndex=S},b.prototype.isVoidElement=function(m){return!this.options.xmlMode&&d.has(m)},b.prototype.onopentagname=function(m,y){this.endIndex=y;var g=this.getSlice(m,y);this.lowerCaseTagNames&&(g=g.toLowerCase()),this.emitOpenTag(g)},b.prototype.emitOpenTag=function(m){var y,g,S,T;this.openTagStart=this.startIndex,this.tagname=m;var I=!this.options.xmlMode&&f.get(m);if(I)for(;this.stack.length>0&&I.has(this.stack[this.stack.length-1]);){var C=this.stack.pop();(g=(y=this.cbs).onclosetag)===null||g===void 0||g.call(y,C,!0)}this.isVoidElement(m)||(this.stack.push(m),c.has(m)?this.foreignContext.push(!0):p.has(m)&&this.foreignContext.push(!1)),(T=(S=this.cbs).onopentagname)===null||T===void 0||T.call(S,m),this.cbs.onopentag&&(this.attribs={})},b.prototype.endOpenTag=function(m){var y,g;this.startIndex=this.openTagStart,this.attribs&&((g=(y=this.cbs).onopentag)===null||g===void 0||g.call(y,this.tagname,this.attribs,m),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""},b.prototype.onopentagend=function(m){this.endIndex=m,this.endOpenTag(!1),this.startIndex=m+1},b.prototype.onclosetag=function(m,y){var g,S,T,I,C,B;this.endIndex=y;var D=this.getSlice(m,y);if(this.lowerCaseTagNames&&(D=D.toLowerCase()),(c.has(D)||p.has(D))&&this.foreignContext.pop(),this.isVoidElement(D))!this.options.xmlMode&&D==="br"&&((S=(g=this.cbs).onopentagname)===null||S===void 0||S.call(g,"br"),(I=(T=this.cbs).onopentag)===null||I===void 0||I.call(T,"br",{},!0),(B=(C=this.cbs).onclosetag)===null||B===void 0||B.call(C,"br",!1));else{var M=this.stack.lastIndexOf(D);if(M!==-1)if(this.cbs.onclosetag)for(var j=this.stack.length-M;j--;)this.cbs.onclosetag(this.stack.pop(),j!==0);else this.stack.length=M;else!this.options.xmlMode&&D==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=y+1},b.prototype.onselfclosingtag=function(m){this.endIndex=m,this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?(this.closeCurrentTag(!1),this.startIndex=m+1):this.onopentagend(m)},b.prototype.closeCurrentTag=function(m){var y,g,S=this.tagname;this.endOpenTag(m),this.stack[this.stack.length-1]===S&&((g=(y=this.cbs).onclosetag)===null||g===void 0||g.call(y,S,!m),this.stack.pop())},b.prototype.onattribname=function(m,y){this.startIndex=m;var g=this.getSlice(m,y);this.attribname=this.lowerCaseAttributeNames?g.toLowerCase():g},b.prototype.onattribdata=function(m,y){this.attribvalue+=this.getSlice(m,y)},b.prototype.onattribentity=function(m){this.attribvalue+=(0,a.fromCodePoint)(m)},b.prototype.onattribend=function(m,y){var g,S;this.endIndex=y,(S=(g=this.cbs).onattribute)===null||S===void 0||S.call(g,this.attribname,this.attribvalue,m===n.QuoteType.Double?'"':m===n.QuoteType.Single?"'":m===n.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""},b.prototype.getInstructionName=function(m){var y=m.search(_),g=y<0?m:m.substr(0,y);return this.lowerCaseTagNames&&(g=g.toLowerCase()),g},b.prototype.ondeclaration=function(m,y){this.endIndex=y;var g=this.getSlice(m,y);if(this.cbs.onprocessinginstruction){var S=this.getInstructionName(g);this.cbs.onprocessinginstruction("!".concat(S),"!".concat(g))}this.startIndex=y+1},b.prototype.onprocessinginstruction=function(m,y){this.endIndex=y;var g=this.getSlice(m,y);if(this.cbs.onprocessinginstruction){var S=this.getInstructionName(g);this.cbs.onprocessinginstruction("?".concat(S),"?".concat(g))}this.startIndex=y+1},b.prototype.oncomment=function(m,y,g){var S,T,I,C;this.endIndex=y,(T=(S=this.cbs).oncomment)===null||T===void 0||T.call(S,this.getSlice(m,y-g)),(C=(I=this.cbs).oncommentend)===null||C===void 0||C.call(I),this.startIndex=y+1},b.prototype.oncdata=function(m,y,g){var S,T,I,C,B,D,M,j,O,q;this.endIndex=y;var Q=this.getSlice(m,y-g);this.options.xmlMode||this.options.recognizeCDATA?((T=(S=this.cbs).oncdatastart)===null||T===void 0||T.call(S),(C=(I=this.cbs).ontext)===null||C===void 0||C.call(I,Q),(D=(B=this.cbs).oncdataend)===null||D===void 0||D.call(B)):((j=(M=this.cbs).oncomment)===null||j===void 0||j.call(M,"[CDATA[".concat(Q,"]]")),(q=(O=this.cbs).oncommentend)===null||q===void 0||q.call(O)),this.startIndex=y+1},b.prototype.onend=function(){var m,y;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(var g=this.stack.length;g>0;this.cbs.onclosetag(this.stack[--g],!0));}(y=(m=this.cbs).onend)===null||y===void 0||y.call(m)},b.prototype.reset=function(){var m,y,g,S;(y=(m=this.cbs).onreset)===null||y===void 0||y.call(m),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(S=(g=this.cbs).onparserinit)===null||S===void 0||S.call(g,this),this.buffers.length=0,this.bufferOffset=0,this.writeIndex=0,this.ended=!1},b.prototype.parseComplete=function(m){this.reset(),this.end(m)},b.prototype.getSlice=function(m,y){for(;m-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();for(var g=this.buffers[0].slice(m-this.bufferOffset,y-this.bufferOffset);y-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),g+=this.buffers[0].slice(0,y-this.bufferOffset);return g},b.prototype.shiftBuffer=function(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()},b.prototype.write=function(m){var y,g;if(this.ended){(g=(y=this.cbs).onerror)===null||g===void 0||g.call(y,new Error(".write() after done!"));return}this.buffers.push(m),this.tokenizer.running&&(this.tokenizer.write(m),this.writeIndex++)},b.prototype.end=function(m){var y,g;if(this.ended){(g=(y=this.cbs).onerror)===null||g===void 0||g.call(y,new Error(".end() after done!"));return}m&&this.write(m),this.ended=!0,this.tokenizer.end()},b.prototype.pause=function(){this.tokenizer.pause()},b.prototype.resume=function(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()},b.prototype.parseChunk=function(m){this.write(m)},b.prototype.done=function(m){this.end(m)},b}();return ho.Parser=v,ho}var Ac={},lw={},uD;function nu(){return uD||(uD=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Doctype=e.CDATA=e.Tag=e.Style=e.Script=e.Comment=e.Directive=e.Text=e.Root=e.isTag=e.ElementType=void 0;var t;(function(n){n.Root="root",n.Text="text",n.Directive="directive",n.Comment="comment",n.Script="script",n.Style="style",n.Tag="tag",n.CDATA="cdata",n.Doctype="doctype"})(t=e.ElementType||(e.ElementType={}));function r(n){return n.type===t.Tag||n.type===t.Script||n.type===t.Style}e.isTag=r,e.Root=t.Root,e.Text=t.Text,e.Directive=t.Directive,e.Comment=t.Comment,e.Script=t.Script,e.Style=t.Style,e.Tag=t.Tag,e.CDATA=t.CDATA,e.Doctype=t.Doctype}(lw)),lw}var Dt={},lD;function fD(){if(lD)return Dt;lD=1;var e=Dt.__extends||function(){var T=function(I,C){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,D){B.__proto__=D}||function(B,D){for(var M in D)Object.prototype.hasOwnProperty.call(D,M)&&(B[M]=D[M])},T(I,C)};return function(I,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");T(I,C);function B(){this.constructor=I}I.prototype=C===null?Object.create(C):(B.prototype=C.prototype,new B)}}(),t=Dt.__assign||function(){return t=Object.assign||function(T){for(var I,C=1,B=arguments.length;C<B;C++){I=arguments[C];for(var D in I)Object.prototype.hasOwnProperty.call(I,D)&&(T[D]=I[D])}return T},t.apply(this,arguments)};Object.defineProperty(Dt,"__esModule",{value:!0}),Dt.cloneNode=Dt.hasChildren=Dt.isDocument=Dt.isDirective=Dt.isComment=Dt.isText=Dt.isCDATA=Dt.isTag=Dt.Element=Dt.Document=Dt.CDATA=Dt.NodeWithChildren=Dt.ProcessingInstruction=Dt.Comment=Dt.Text=Dt.DataNode=Dt.Node=void 0;var r=nu(),n=function(){function T(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(T.prototype,"parentNode",{get:function(){return this.parent},set:function(I){this.parent=I},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"previousSibling",{get:function(){return this.prev},set:function(I){this.prev=I},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"nextSibling",{get:function(){return this.next},set:function(I){this.next=I},enumerable:!1,configurable:!0}),T.prototype.cloneNode=function(I){return I===void 0&&(I=!1),g(this,I)},T}();Dt.Node=n;var a=function(T){e(I,T);function I(C){var B=T.call(this)||this;return B.data=C,B}return Object.defineProperty(I.prototype,"nodeValue",{get:function(){return this.data},set:function(C){this.data=C},enumerable:!1,configurable:!0}),I}(n);Dt.DataNode=a;var i=function(T){e(I,T);function I(){var C=T!==null&&T.apply(this,arguments)||this;return C.type=r.ElementType.Text,C}return Object.defineProperty(I.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),I}(a);Dt.Text=i;var o=function(T){e(I,T);function I(){var C=T!==null&&T.apply(this,arguments)||this;return C.type=r.ElementType.Comment,C}return Object.defineProperty(I.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),I}(a);Dt.Comment=o;var s=function(T){e(I,T);function I(C,B){var D=T.call(this,B)||this;return D.name=C,D.type=r.ElementType.Directive,D}return Object.defineProperty(I.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),I}(a);Dt.ProcessingInstruction=s;var u=function(T){e(I,T);function I(C){var B=T.call(this)||this;return B.children=C,B}return Object.defineProperty(I.prototype,"firstChild",{get:function(){var C;return(C=this.children[0])!==null&&C!==void 0?C:null},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"childNodes",{get:function(){return this.children},set:function(C){this.children=C},enumerable:!1,configurable:!0}),I}(n);Dt.NodeWithChildren=u;var l=function(T){e(I,T);function I(){var C=T!==null&&T.apply(this,arguments)||this;return C.type=r.ElementType.CDATA,C}return Object.defineProperty(I.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),I}(u);Dt.CDATA=l;var f=function(T){e(I,T);function I(){var C=T!==null&&T.apply(this,arguments)||this;return C.type=r.ElementType.Root,C}return Object.defineProperty(I.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),I}(u);Dt.Document=f;var d=function(T){e(I,T);function I(C,B,D,M){D===void 0&&(D=[]),M===void 0&&(M=C==="script"?r.ElementType.Script:C==="style"?r.ElementType.Style:r.ElementType.Tag);var j=T.call(this,D)||this;return j.name=C,j.attribs=B,j.type=M,j}return Object.defineProperty(I.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"tagName",{get:function(){return this.name},set:function(C){this.name=C},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"attributes",{get:function(){var C=this;return Object.keys(this.attribs).map(function(B){var D,M;return{name:B,value:C.attribs[B],namespace:(D=C["x-attribsNamespace"])===null||D===void 0?void 0:D[B],prefix:(M=C["x-attribsPrefix"])===null||M===void 0?void 0:M[B]}})},enumerable:!1,configurable:!0}),I}(u);Dt.Element=d;function c(T){return(0,r.isTag)(T)}Dt.isTag=c;function p(T){return T.type===r.ElementType.CDATA}Dt.isCDATA=p;function _(T){return T.type===r.ElementType.Text}Dt.isText=_;function v(T){return T.type===r.ElementType.Comment}Dt.isComment=v;function b(T){return T.type===r.ElementType.Directive}Dt.isDirective=b;function m(T){return T.type===r.ElementType.Root}Dt.isDocument=m;function y(T){return Object.prototype.hasOwnProperty.call(T,"children")}Dt.hasChildren=y;function g(T,I){I===void 0&&(I=!1);var C;if(_(T))C=new i(T.data);else if(v(T))C=new o(T.data);else if(c(T)){var B=I?S(T.children):[],D=new d(T.name,t({},T.attribs),B);B.forEach(function(q){return q.parent=D}),T.namespace!=null&&(D.namespace=T.namespace),T["x-attribsNamespace"]&&(D["x-attribsNamespace"]=t({},T["x-attribsNamespace"])),T["x-attribsPrefix"]&&(D["x-attribsPrefix"]=t({},T["x-attribsPrefix"])),C=D}else if(p(T)){var B=I?S(T.children):[],M=new l(B);B.forEach(function(Q){return Q.parent=M}),C=M}else if(m(T)){var B=I?S(T.children):[],j=new f(B);B.forEach(function(Q){return Q.parent=j}),T["x-mode"]&&(j["x-mode"]=T["x-mode"]),C=j}else if(b(T)){var O=new s(T.name,T.data);T["x-name"]!=null&&(O["x-name"]=T["x-name"],O["x-publicId"]=T["x-publicId"],O["x-systemId"]=T["x-systemId"]),C=O}else throw new Error("Not implemented yet: ".concat(T.type));return C.startIndex=T.startIndex,C.endIndex=T.endIndex,T.sourceCodeLocation!=null&&(C.sourceCodeLocation=T.sourceCodeLocation),C}Dt.cloneNode=g;function S(T){for(var I=T.map(function(B){return g(B,!0)}),C=1;C<I.length;C++)I[C].prev=I[C-1],I[C-1].next=I[C];return I}return Dt}var cD;function Oi(){return cD||(cD=1,function(e){var t=Ac.__createBinding||(Object.create?function(s,u,l,f){f===void 0&&(f=l);var d=Object.getOwnPropertyDescriptor(u,l);(!d||("get"in d?!u.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return u[l]}}),Object.defineProperty(s,f,d)}:function(s,u,l,f){f===void 0&&(f=l),s[f]=u[l]}),r=Ac.__exportStar||function(s,u){for(var l in s)l!=="default"&&!Object.prototype.hasOwnProperty.call(u,l)&&t(u,s,l)};Object.defineProperty(e,"__esModule",{value:!0}),e.DomHandler=void 0;var n=nu(),a=fD();r(fD(),e);var i={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},o=function(){function s(u,l,f){this.dom=[],this.root=new a.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof l=="function"&&(f=l,l=i),typeof u=="object"&&(l=u,u=void 0),this.callback=u??null,this.options=l??i,this.elementCB=f??null}return s.prototype.onparserinit=function(u){this.parser=u},s.prototype.onreset=function(){this.dom=[],this.root=new a.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},s.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},s.prototype.onerror=function(u){this.handleCallback(u)},s.prototype.onclosetag=function(){this.lastNode=null;var u=this.tagStack.pop();this.options.withEndIndices&&(u.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(u)},s.prototype.onopentag=function(u,l){var f=this.options.xmlMode?n.ElementType.Tag:void 0,d=new a.Element(u,l,void 0,f);this.addNode(d),this.tagStack.push(d)},s.prototype.ontext=function(u){var l=this.lastNode;if(l&&l.type===n.ElementType.Text)l.data+=u,this.options.withEndIndices&&(l.endIndex=this.parser.endIndex);else{var f=new a.Text(u);this.addNode(f),this.lastNode=f}},s.prototype.oncomment=function(u){if(this.lastNode&&this.lastNode.type===n.ElementType.Comment){this.lastNode.data+=u;return}var l=new a.Comment(u);this.addNode(l),this.lastNode=l},s.prototype.oncommentend=function(){this.lastNode=null},s.prototype.oncdatastart=function(){var u=new a.Text(""),l=new a.CDATA([u]);this.addNode(l),u.parent=l,this.lastNode=u},s.prototype.oncdataend=function(){this.lastNode=null},s.prototype.onprocessinginstruction=function(u,l){var f=new a.ProcessingInstruction(u,l);this.addNode(f)},s.prototype.handleCallback=function(u){if(typeof this.callback=="function")this.callback(u,this.dom);else if(u)throw u},s.prototype.addNode=function(u){var l=this.tagStack[this.tagStack.length-1],f=l.children[l.children.length-1];this.options.withStartIndices&&(u.startIndex=this.parser.startIndex),this.options.withEndIndices&&(u.endIndex=this.parser.endIndex),l.children.push(u),f&&(u.prev=f,f.next=u),u.parent=l,this.lastNode=null},s}();e.DomHandler=o,e.default=o}(Ac)),Ac}var Ic={},Na={},oa={},fw={},po={},Rm={},dD;function YJ(){if(dD)return Rm;dD=1,Object.defineProperty(Rm,"__esModule",{value:!0});function e(t){for(var r=1;r<t.length;r++)t[r][0]+=t[r-1][0]+1;return t}return Rm.default=new Map(e([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(e([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(e([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(e([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]])),Rm}var cw={},hD;function wS(){return hD||(hD=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.escapeText=e.escapeAttribute=e.escapeUTF8=e.escape=e.encodeXML=e.getCodePoint=e.xmlReplacer=void 0,e.xmlReplacer=/["&'<>$\x80-\uFFFF]/g;var t=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);e.getCodePoint=String.prototype.codePointAt!=null?function(a,i){return a.codePointAt(i)}:function(a,i){return(a.charCodeAt(i)&64512)===55296?(a.charCodeAt(i)-55296)*1024+a.charCodeAt(i+1)-56320+65536:a.charCodeAt(i)};function r(a){for(var i="",o=0,s;(s=e.xmlReplacer.exec(a))!==null;){var u=s.index,l=a.charCodeAt(u),f=t.get(l);f!==void 0?(i+=a.substring(o,u)+f,o=u+1):(i+="".concat(a.substring(o,u),"&#x").concat((0,e.getCodePoint)(a,u).toString(16),";"),o=e.xmlReplacer.lastIndex+=+((l&64512)===55296))}return i+a.substr(o)}e.encodeXML=r,e.escape=r;function n(a,i){return function(s){for(var u,l=0,f="";u=a.exec(s);)l!==u.index&&(f+=s.substring(l,u.index)),f+=i.get(u[0].charCodeAt(0)),l=u.index+1;return f+s.substring(l)}}e.escapeUTF8=n(/[&<>'"]/g,t),e.escapeAttribute=n(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),e.escapeText=n(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]))}(cw)),cw}var pD;function mD(){if(pD)return po;pD=1;var e=po.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(po,"__esModule",{value:!0}),po.encodeNonAsciiHTML=po.encodeHTML=void 0;var t=e(YJ()),r=wS(),n=/[\t\n!-,./:-@[-`\f{-}$\x80-\uFFFF]/g;function a(s){return o(n,s)}po.encodeHTML=a;function i(s){return o(r.xmlReplacer,s)}po.encodeNonAsciiHTML=i;function o(s,u){for(var l="",f=0,d;(d=s.exec(u))!==null;){var c=d.index;l+=u.substring(f,c);var p=u.charCodeAt(c),_=t.default.get(p);if(typeof _=="object"){if(c+1<u.length){var v=u.charCodeAt(c+1),b=typeof _.n=="number"?_.n===v?_.o:void 0:_.n.get(v);if(b!==void 0){l+=b,f=s.lastIndex+=1;continue}}_=_.v}if(_!==void 0)l+=_,f=c+1;else{var m=(0,r.getCodePoint)(u,c);l+="&#x".concat(m.toString(16),";"),f=s.lastIndex+=+(m!==p)}}return l+u.substr(f)}return po}var yD;function QJ(){return yD||(yD=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeXMLStrict=e.decodeHTML5Strict=e.decodeHTML4Strict=e.decodeHTML5=e.decodeHTML4=e.decodeHTMLAttribute=e.decodeHTMLStrict=e.decodeHTML=e.decodeXML=e.DecodingMode=e.EntityDecoder=e.encodeHTML5=e.encodeHTML4=e.encodeNonAsciiHTML=e.encodeHTML=e.escapeText=e.escapeAttribute=e.escapeUTF8=e.escape=e.encodeXML=e.encode=e.decodeStrict=e.decode=e.EncodingMode=e.EntityLevel=void 0;var t=qo(),r=mD(),n=wS(),a;(function(c){c[c.XML=0]="XML",c[c.HTML=1]="HTML"})(a=e.EntityLevel||(e.EntityLevel={}));var i;(function(c){c[c.UTF8=0]="UTF8",c[c.ASCII=1]="ASCII",c[c.Extensive=2]="Extensive",c[c.Attribute=3]="Attribute",c[c.Text=4]="Text"})(i=e.EncodingMode||(e.EncodingMode={}));function o(c,p){p===void 0&&(p=a.XML);var _=typeof p=="number"?p:p.level;if(_===a.HTML){var v=typeof p=="object"?p.mode:void 0;return(0,t.decodeHTML)(c,v)}return(0,t.decodeXML)(c)}e.decode=o;function s(c,p){var _;p===void 0&&(p=a.XML);var v=typeof p=="number"?{level:p}:p;return(_=v.mode)!==null&&_!==void 0||(v.mode=t.DecodingMode.Strict),o(c,v)}e.decodeStrict=s;function u(c,p){p===void 0&&(p=a.XML);var _=typeof p=="number"?{level:p}:p;return _.mode===i.UTF8?(0,n.escapeUTF8)(c):_.mode===i.Attribute?(0,n.escapeAttribute)(c):_.mode===i.Text?(0,n.escapeText)(c):_.level===a.HTML?_.mode===i.ASCII?(0,r.encodeNonAsciiHTML)(c):(0,r.encodeHTML)(c):(0,n.encodeXML)(c)}e.encode=u;var l=wS();Object.defineProperty(e,"encodeXML",{enumerable:!0,get:function(){return l.encodeXML}}),Object.defineProperty(e,"escape",{enumerable:!0,get:function(){return l.escape}}),Object.defineProperty(e,"escapeUTF8",{enumerable:!0,get:function(){return l.escapeUTF8}}),Object.defineProperty(e,"escapeAttribute",{enumerable:!0,get:function(){return l.escapeAttribute}}),Object.defineProperty(e,"escapeText",{enumerable:!0,get:function(){return l.escapeText}});var f=mD();Object.defineProperty(e,"encodeHTML",{enumerable:!0,get:function(){return f.encodeHTML}}),Object.defineProperty(e,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return f.encodeNonAsciiHTML}}),Object.defineProperty(e,"encodeHTML4",{enumerable:!0,get:function(){return f.encodeHTML}}),Object.defineProperty(e,"encodeHTML5",{enumerable:!0,get:function(){return f.encodeHTML}});var d=qo();Object.defineProperty(e,"EntityDecoder",{enumerable:!0,get:function(){return d.EntityDecoder}}),Object.defineProperty(e,"DecodingMode",{enumerable:!0,get:function(){return d.DecodingMode}}),Object.defineProperty(e,"decodeXML",{enumerable:!0,get:function(){return d.decodeXML}}),Object.defineProperty(e,"decodeHTML",{enumerable:!0,get:function(){return d.decodeHTML}}),Object.defineProperty(e,"decodeHTMLStrict",{enumerable:!0,get:function(){return d.decodeHTMLStrict}}),Object.defineProperty(e,"decodeHTMLAttribute",{enumerable:!0,get:function(){return d.decodeHTMLAttribute}}),Object.defineProperty(e,"decodeHTML4",{enumerable:!0,get:function(){return d.decodeHTML}}),Object.defineProperty(e,"decodeHTML5",{enumerable:!0,get:function(){return d.decodeHTML}}),Object.defineProperty(e,"decodeHTML4Strict",{enumerable:!0,get:function(){return d.decodeHTMLStrict}}),Object.defineProperty(e,"decodeHTML5Strict",{enumerable:!0,get:function(){return d.decodeHTMLStrict}}),Object.defineProperty(e,"decodeXMLStrict",{enumerable:!0,get:function(){return d.decodeXML}})}(fw)),fw}var Ss={},gD;function XJ(){return gD||(gD=1,Object.defineProperty(Ss,"__esModule",{value:!0}),Ss.attributeNames=Ss.elementNames=void 0,Ss.elementNames=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(function(e){return[e.toLowerCase(),e]})),Ss.attributeNames=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(function(e){return[e.toLowerCase(),e]}))),Ss}var _D;function JJ(){if(_D)return oa;_D=1;var e=oa.__assign||function(){return e=Object.assign||function(S){for(var T,I=1,C=arguments.length;I<C;I++){T=arguments[I];for(var B in T)Object.prototype.hasOwnProperty.call(T,B)&&(S[B]=T[B])}return S},e.apply(this,arguments)},t=oa.__createBinding||(Object.create?function(S,T,I,C){C===void 0&&(C=I);var B=Object.getOwnPropertyDescriptor(T,I);(!B||("get"in B?!T.__esModule:B.writable||B.configurable))&&(B={enumerable:!0,get:function(){return T[I]}}),Object.defineProperty(S,C,B)}:function(S,T,I,C){C===void 0&&(C=I),S[C]=T[I]}),r=oa.__setModuleDefault||(Object.create?function(S,T){Object.defineProperty(S,"default",{enumerable:!0,value:T})}:function(S,T){S.default=T}),n=oa.__importStar||function(S){if(S&&S.__esModule)return S;var T={};if(S!=null)for(var I in S)I!=="default"&&Object.prototype.hasOwnProperty.call(S,I)&&t(T,S,I);return r(T,S),T};Object.defineProperty(oa,"__esModule",{value:!0}),oa.render=void 0;var a=n(nu()),i=QJ(),o=XJ(),s=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function u(S){return S.replace(/"/g,"&quot;")}function l(S,T){var I;if(S){var C=((I=T.encodeEntities)!==null&&I!==void 0?I:T.decodeEntities)===!1?u:T.xmlMode||T.encodeEntities!=="utf8"?i.encodeXML:i.escapeAttribute;return Object.keys(S).map(function(B){var D,M,j=(D=S[B])!==null&&D!==void 0?D:"";return T.xmlMode==="foreign"&&(B=(M=o.attributeNames.get(B))!==null&&M!==void 0?M:B),!T.emptyAttrs&&!T.xmlMode&&j===""?B:"".concat(B,'="').concat(C(j),'"')}).join(" ")}}var f=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function d(S,T){T===void 0&&(T={});for(var I=("length"in S)?S:[S],C="",B=0;B<I.length;B++)C+=c(I[B],T);return C}oa.render=d,oa.default=d;function c(S,T){switch(S.type){case a.Root:return d(S.children,T);case a.Doctype:case a.Directive:return b(S);case a.Comment:return g(S);case a.CDATA:return y(S);case a.Script:case a.Style:case a.Tag:return v(S,T);case a.Text:return m(S,T)}}var p=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),_=new Set(["svg","math"]);function v(S,T){var I;T.xmlMode==="foreign"&&(S.name=(I=o.elementNames.get(S.name))!==null&&I!==void 0?I:S.name,S.parent&&p.has(S.parent.name)&&(T=e(e({},T),{xmlMode:!1}))),!T.xmlMode&&_.has(S.name)&&(T=e(e({},T),{xmlMode:"foreign"}));var C="<".concat(S.name),B=l(S.attribs,T);return B&&(C+=" ".concat(B)),S.children.length===0&&(T.xmlMode?T.selfClosingTags!==!1:T.selfClosingTags&&f.has(S.name))?(T.xmlMode||(C+=" "),C+="/>"):(C+=">",S.children.length>0&&(C+=d(S.children,T)),(T.xmlMode||!f.has(S.name))&&(C+="</".concat(S.name,">"))),C}function b(S){return"<".concat(S.data,">")}function m(S,T){var I,C=S.data||"";return((I=T.encodeEntities)!==null&&I!==void 0?I:T.decodeEntities)!==!1&&!(!T.xmlMode&&S.parent&&s.has(S.parent.name))&&(C=T.xmlMode||T.encodeEntities!=="utf8"?(0,i.encodeXML)(C):(0,i.escapeText)(C)),C}function y(S){return"<![CDATA[".concat(S.children[0].data,"]]>")}function g(S){return"<!--".concat(S.data,"-->")}return oa}var bD;function o8(){if(bD)return Na;bD=1;var e=Na.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Na,"__esModule",{value:!0}),Na.getOuterHTML=a,Na.getInnerHTML=i,Na.getText=o,Na.textContent=s,Na.innerText=u;var t=Oi(),r=e(JJ()),n=nu();function a(l,f){return(0,r.default)(l,f)}function i(l,f){return(0,t.hasChildren)(l)?l.children.map(function(d){return a(d,f)}).join(""):""}function o(l){return Array.isArray(l)?l.map(o).join(""):(0,t.isTag)(l)?l.name==="br"?`
`:o(l.children):(0,t.isCDATA)(l)?o(l.children):(0,t.isText)(l)?l.data:""}function s(l){return Array.isArray(l)?l.map(s).join(""):(0,t.hasChildren)(l)&&!(0,t.isComment)(l)?s(l.children):(0,t.isText)(l)?l.data:""}function u(l){return Array.isArray(l)?l.map(u).join(""):(0,t.hasChildren)(l)&&(l.type===n.ElementType.Tag||(0,t.isCDATA)(l))?u(l.children):(0,t.isText)(l)?l.data:""}return Na}var ji={},vD;function eee(){if(vD)return ji;vD=1,Object.defineProperty(ji,"__esModule",{value:!0}),ji.getChildren=t,ji.getParent=r,ji.getSiblings=n,ji.getAttributeValue=a,ji.hasAttrib=i,ji.getName=o,ji.nextElementSibling=s,ji.prevElementSibling=u;var e=Oi();function t(l){return(0,e.hasChildren)(l)?l.children:[]}function r(l){return l.parent||null}function n(l){var f,d,c=r(l);if(c!=null)return t(c);for(var p=[l],_=l.prev,v=l.next;_!=null;)p.unshift(_),f=_,_=f.prev;for(;v!=null;)p.push(v),d=v,v=d.next;return p}function a(l,f){var d;return(d=l.attribs)===null||d===void 0?void 0:d[f]}function i(l,f){return l.attribs!=null&&Object.prototype.hasOwnProperty.call(l.attribs,f)&&l.attribs[f]!=null}function o(l){return l.name}function s(l){for(var f,d=l.next;d!==null&&!(0,e.isTag)(d);)f=d,d=f.next;return d}function u(l){for(var f,d=l.prev;d!==null&&!(0,e.isTag)(d);)f=d,d=f.prev;return d}return ji}var Ma={},wD;function tee(){if(wD)return Ma;wD=1,Object.defineProperty(Ma,"__esModule",{value:!0}),Ma.removeElement=e,Ma.replaceElement=t,Ma.appendChild=r,Ma.append=n,Ma.prependChild=a,Ma.prepend=i;function e(o){if(o.prev&&(o.prev.next=o.next),o.next&&(o.next.prev=o.prev),o.parent){var s=o.parent.children,u=s.lastIndexOf(o);u>=0&&s.splice(u,1)}o.next=null,o.prev=null,o.parent=null}function t(o,s){var u=s.prev=o.prev;u&&(u.next=s);var l=s.next=o.next;l&&(l.prev=s);var f=s.parent=o.parent;if(f){var d=f.children;d[d.lastIndexOf(o)]=s,o.parent=null}}function r(o,s){if(e(s),s.next=null,s.parent=o,o.children.push(s)>1){var u=o.children[o.children.length-2];u.next=s,s.prev=u}else s.prev=null}function n(o,s){e(s);var u=o.parent,l=o.next;if(s.next=l,s.prev=o,o.next=s,s.parent=u,l){if(l.prev=s,u){var f=u.children;f.splice(f.lastIndexOf(l),0,s)}}else u&&u.children.push(s)}function a(o,s){if(e(s),s.parent=o,s.prev=null,o.children.unshift(s)!==1){var u=o.children[1];u.prev=s,s.next=u}else s.next=null}function i(o,s){e(s);var u=o.parent;if(u){var l=u.children;l.splice(l.indexOf(o),0,s)}o.prev&&(o.prev.next=s),s.parent=u,s.prev=o.prev,s.next=o,o.prev=s}return Ma}var ka={},SD;function s8(){if(SD)return ka;SD=1,Object.defineProperty(ka,"__esModule",{value:!0}),ka.filter=t,ka.find=r,ka.findOneChild=n,ka.findOne=a,ka.existsOne=i,ka.findAll=o;var e=Oi();function t(s,u,l,f){return l===void 0&&(l=!0),f===void 0&&(f=1/0),r(s,Array.isArray(u)?u:[u],l,f)}function r(s,u,l,f){for(var d=[],c=[Array.isArray(u)?u:[u]],p=[0];;){if(p[0]>=c[0].length){if(p.length===1)return d;c.shift(),p.shift();continue}var _=c[0][p[0]++];if(s(_)&&(d.push(_),--f<=0))return d;l&&(0,e.hasChildren)(_)&&_.children.length>0&&(p.unshift(0),c.unshift(_.children))}}function n(s,u){return u.find(s)}function a(s,u,l){l===void 0&&(l=!0);for(var f=Array.isArray(u)?u:[u],d=0;d<f.length;d++){var c=f[d];if((0,e.isTag)(c)&&s(c))return c;if(l&&(0,e.hasChildren)(c)&&c.children.length>0){var p=a(s,c.children,!0);if(p)return p}}return null}function i(s,u){return(Array.isArray(u)?u:[u]).some(function(l){return(0,e.isTag)(l)&&s(l)||(0,e.hasChildren)(l)&&i(s,l.children)})}function o(s,u){for(var l=[],f=[Array.isArray(u)?u:[u]],d=[0];;){if(d[0]>=f[0].length){if(f.length===1)return l;f.shift(),d.shift();continue}var c=f[0][d[0]++];(0,e.isTag)(c)&&s(c)&&l.push(c),(0,e.hasChildren)(c)&&c.children.length>0&&(d.unshift(0),f.unshift(c.children))}}return ka}var Fa={},ED;function u8(){if(ED)return Fa;ED=1,Object.defineProperty(Fa,"__esModule",{value:!0}),Fa.testElement=o,Fa.getElements=s,Fa.getElementById=u,Fa.getElementsByTagName=l,Fa.getElementsByClassName=f,Fa.getElementsByTagType=d;var e=Oi(),t=s8(),r={tag_name:function(c){return typeof c=="function"?function(p){return(0,e.isTag)(p)&&c(p.name)}:c==="*"?e.isTag:function(p){return(0,e.isTag)(p)&&p.name===c}},tag_type:function(c){return typeof c=="function"?function(p){return c(p.type)}:function(p){return p.type===c}},tag_contains:function(c){return typeof c=="function"?function(p){return(0,e.isText)(p)&&c(p.data)}:function(p){return(0,e.isText)(p)&&p.data===c}}};function n(c,p){return typeof p=="function"?function(_){return(0,e.isTag)(_)&&p(_.attribs[c])}:function(_){return(0,e.isTag)(_)&&_.attribs[c]===p}}function a(c,p){return function(_){return c(_)||p(_)}}function i(c){var p=Object.keys(c).map(function(_){var v=c[_];return Object.prototype.hasOwnProperty.call(r,_)?r[_](v):n(_,v)});return p.length===0?null:p.reduce(a)}function o(c,p){var _=i(c);return _?_(p):!0}function s(c,p,_,v){v===void 0&&(v=1/0);var b=i(c);return b?(0,t.filter)(b,p,_,v):[]}function u(c,p,_){return _===void 0&&(_=!0),Array.isArray(p)||(p=[p]),(0,t.findOne)(n("id",c),p,_)}function l(c,p,_,v){return _===void 0&&(_=!0),v===void 0&&(v=1/0),(0,t.filter)(r.tag_name(c),p,_,v)}function f(c,p,_,v){return _===void 0&&(_=!0),v===void 0&&(v=1/0),(0,t.filter)(n("class",c),p,_,v)}function d(c,p,_,v){return _===void 0&&(_=!0),v===void 0&&(v=1/0),(0,t.filter)(r.tag_type(c),p,_,v)}return Fa}var mo={},xD;function ree(){if(xD)return mo;xD=1,Object.defineProperty(mo,"__esModule",{value:!0}),mo.DocumentPosition=void 0,mo.removeSubsets=t,mo.compareDocumentPosition=n,mo.uniqueSort=a;var e=Oi();function t(i){for(var o=i.length;--o>=0;){var s=i[o];if(o>0&&i.lastIndexOf(s,o-1)>=0){i.splice(o,1);continue}for(var u=s.parent;u;u=u.parent)if(i.includes(u)){i.splice(o,1);break}}return i}var r;(function(i){i[i.DISCONNECTED=1]="DISCONNECTED",i[i.PRECEDING=2]="PRECEDING",i[i.FOLLOWING=4]="FOLLOWING",i[i.CONTAINS=8]="CONTAINS",i[i.CONTAINED_BY=16]="CONTAINED_BY"})(r||(mo.DocumentPosition=r={}));function n(i,o){var s=[],u=[];if(i===o)return 0;for(var l=(0,e.hasChildren)(i)?i:i.parent;l;)s.unshift(l),l=l.parent;for(l=(0,e.hasChildren)(o)?o:o.parent;l;)u.unshift(l),l=l.parent;for(var f=Math.min(s.length,u.length),d=0;d<f&&s[d]===u[d];)d++;if(d===0)return r.DISCONNECTED;var c=s[d-1],p=c.children,_=s[d],v=u[d];return p.indexOf(_)>p.indexOf(v)?c===o?r.FOLLOWING|r.CONTAINED_BY:r.FOLLOWING:c===i?r.PRECEDING|r.CONTAINS:r.PRECEDING}function a(i){return i=i.filter(function(o,s,u){return!u.includes(o,s+1)}),i.sort(function(o,s){var u=n(o,s);return u&r.PRECEDING?-1:u&r.FOLLOWING?1:0}),i}return mo}var Am={},TD;function nee(){if(TD)return Am;TD=1,Object.defineProperty(Am,"__esModule",{value:!0}),Am.getFeed=r;var e=o8(),t=u8();function r(c){var p=u(d,c);return p?p.name==="feed"?n(p):a(p):null}function n(c){var p,_=c.children,v={type:"atom",items:(0,t.getElementsByTagName)("entry",_).map(function(y){var g,S=y.children,T={media:s(S)};f(T,"id","id",S),f(T,"title","title",S);var I=(g=u("link",S))===null||g===void 0?void 0:g.attribs.href;I&&(T.link=I);var C=l("summary",S)||l("content",S);C&&(T.description=C);var B=l("updated",S);return B&&(T.pubDate=new Date(B)),T})};f(v,"id","id",_),f(v,"title","title",_);var b=(p=u("link",_))===null||p===void 0?void 0:p.attribs.href;b&&(v.link=b),f(v,"description","subtitle",_);var m=l("updated",_);return m&&(v.updated=new Date(m)),f(v,"author","email",_,!0),v}function a(c){var p,_,v=(_=(p=u("channel",c.children))===null||p===void 0?void 0:p.children)!==null&&_!==void 0?_:[],b={type:c.name.substr(0,3),id:"",items:(0,t.getElementsByTagName)("item",c.children).map(function(y){var g=y.children,S={media:s(g)};f(S,"id","guid",g),f(S,"title","title",g),f(S,"link","link",g),f(S,"description","description",g);var T=l("pubDate",g)||l("dc:date",g);return T&&(S.pubDate=new Date(T)),S})};f(b,"title","title",v),f(b,"link","link",v),f(b,"description","description",v);var m=l("lastBuildDate",v);return m&&(b.updated=new Date(m)),f(b,"author","managingEditor",v,!0),b}var i=["url","type","lang"],o=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function s(c){return(0,t.getElementsByTagName)("media:content",c).map(function(p){for(var _=p.attribs,v={medium:_.medium,isDefault:!!_.isDefault},b=0,m=i;b<m.length;b++){var y=m[b];_[y]&&(v[y]=_[y])}for(var g=0,S=o;g<S.length;g++){var y=S[g];_[y]&&(v[y]=parseInt(_[y],10))}return _.expression&&(v.expression=_.expression),v})}function u(c,p){return(0,t.getElementsByTagName)(c,p,!0,1)[0]}function l(c,p,_){return _===void 0&&(_=!1),(0,e.textContent)((0,t.getElementsByTagName)(c,p,_,1)).trim()}function f(c,p,_,v,b){b===void 0&&(b=!1);var m=l(_,v,b);m&&(c[p]=m)}function d(c){return c==="rss"||c==="feed"||c==="rdf:RDF"}return Am}var RD;function Ka(){return RD||(RD=1,function(e){var t=Ic.__createBinding||(Object.create?function(a,i,o,s){s===void 0&&(s=o);var u=Object.getOwnPropertyDescriptor(i,o);(!u||("get"in u?!i.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(a,s,u)}:function(a,i,o,s){s===void 0&&(s=o),a[s]=i[o]}),r=Ic.__exportStar||function(a,i){for(var o in a)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,a,o)};Object.defineProperty(e,"__esModule",{value:!0}),e.hasChildren=e.isDocument=e.isComment=e.isText=e.isCDATA=e.isTag=void 0,r(o8(),e),r(eee(),e),r(tee(),e),r(s8(),e),r(u8(),e),r(ree(),e),r(nee(),e);var n=Oi();Object.defineProperty(e,"isTag",{enumerable:!0,get:function(){return n.isTag}}),Object.defineProperty(e,"isCDATA",{enumerable:!0,get:function(){return n.isCDATA}}),Object.defineProperty(e,"isText",{enumerable:!0,get:function(){return n.isText}}),Object.defineProperty(e,"isComment",{enumerable:!0,get:function(){return n.isComment}}),Object.defineProperty(e,"isDocument",{enumerable:!0,get:function(){return n.isDocument}}),Object.defineProperty(e,"hasChildren",{enumerable:!0,get:function(){return n.hasChildren}})}(Ic)),Ic}var AD;function iee(){return AD||(AD=1,function(e){var t=vs.__createBinding||(Object.create?function(m,y,g,S){S===void 0&&(S=g);var T=Object.getOwnPropertyDescriptor(y,g);(!T||("get"in T?!y.__esModule:T.writable||T.configurable))&&(T={enumerable:!0,get:function(){return y[g]}}),Object.defineProperty(m,S,T)}:function(m,y,g,S){S===void 0&&(S=g),m[S]=y[g]}),r=vs.__setModuleDefault||(Object.create?function(m,y){Object.defineProperty(m,"default",{enumerable:!0,value:y})}:function(m,y){m.default=y}),n=vs.__importStar||function(m){if(m&&m.__esModule)return m;var y={};if(m!=null)for(var g in m)g!=="default"&&Object.prototype.hasOwnProperty.call(m,g)&&t(y,m,g);return r(y,m),y},a=vs.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(e,"__esModule",{value:!0}),e.DomUtils=e.parseFeed=e.getFeed=e.ElementType=e.Tokenizer=e.createDomStream=e.parseDOM=e.parseDocument=e.DefaultHandler=e.DomHandler=e.Parser=void 0;var i=sD(),o=sD();Object.defineProperty(e,"Parser",{enumerable:!0,get:function(){return o.Parser}});var s=Oi(),u=Oi();Object.defineProperty(e,"DomHandler",{enumerable:!0,get:function(){return u.DomHandler}}),Object.defineProperty(e,"DefaultHandler",{enumerable:!0,get:function(){return u.DomHandler}});function l(m,y){var g=new s.DomHandler(void 0,y);return new i.Parser(g,y).end(m),g.root}e.parseDocument=l;function f(m,y){return l(m,y).children}e.parseDOM=f;function d(m,y,g){var S=new s.DomHandler(m,y,g);return new i.Parser(S,y)}e.createDomStream=d;var c=a8();Object.defineProperty(e,"Tokenizer",{enumerable:!0,get:function(){return a(c).default}}),e.ElementType=n(nu());var p=Ka(),_=Ka();Object.defineProperty(e,"getFeed",{enumerable:!0,get:function(){return _.getFeed}});var v={xmlMode:!0};function b(m,y){return y===void 0&&(y=v),(0,p.getFeed)(f(m,y))}e.parseFeed=b,e.DomUtils=n(Ka())}(vs)),vs}const aee={"@context":{alternate:"http://www.w3.org/1999/xhtml/vocab#alternate",appendix:"http://www.w3.org/1999/xhtml/vocab#appendix",cite:"http://www.w3.org/1999/xhtml/vocab#cite",bookmark:"http://www.w3.org/1999/xhtml/vocab#bookmark",contents:"http://www.w3.org/1999/xhtml/vocab#contents",chapter:"http://www.w3.org/1999/xhtml/vocab#chapter",copyright:"http://www.w3.org/1999/xhtml/vocab#copyright",first:"http://www.w3.org/1999/xhtml/vocab#first",glossary:"http://www.w3.org/1999/xhtml/vocab#glossary",help:"http://www.w3.org/1999/xhtml/vocab#help",icon:"http://www.w3.org/1999/xhtml/vocab#icon",index:"http://www.w3.org/1999/xhtml/vocab#index",last:"http://www.w3.org/1999/xhtml/vocab#last",license:"http://www.w3.org/1999/xhtml/vocab#license",meta:"http://www.w3.org/1999/xhtml/vocab#meta",next:"http://www.w3.org/1999/xhtml/vocab#next",prev:"http://www.w3.org/1999/xhtml/vocab#prev",previous:"http://www.w3.org/1999/xhtml/vocab#previous",section:"http://www.w3.org/1999/xhtml/vocab#section",start:"http://www.w3.org/1999/xhtml/vocab#start",stylesheet:"http://www.w3.org/1999/xhtml/vocab#stylesheet",subsection:"http://www.w3.org/1999/xhtml/vocab#subsection",top:"http://www.w3.org/1999/xhtml/vocab#top",up:"http://www.w3.org/1999/xhtml/vocab#up",p3pv1:"http://www.w3.org/1999/xhtml/vocab#p3pv1"}},oee={"@context":{as:"https://www.w3.org/ns/activitystreams#",cat:"http://www.w3.org/ns/dcat#",cc:"http://creativecommons.org/ns#",cnt:"http://www.w3.org/2008/content#",csvw:"http://www.w3.org/ns/csvw#",ctag:"http://commontag.org/ns#",dc:"http://purl.org/dc/terms/",dc11:"http://purl.org/dc/elements/1.1/",dcat:"http://www.w3.org/ns/dcat#",dcterms:"http://purl.org/dc/terms/",dqv:"http://www.w3.org/ns/dqv#",duv:"https://www.w3.org/TR/vocab-duv#",earl:"http://www.w3.org/ns/earl#",foaf:"http://xmlns.com/foaf/0.1/",gldp:"http://www.w3.org/ns/people#",gr:"http://purl.org/goodrelations/v1#",grddl:"http://www.w3.org/2003/g/data-view#",ht:"http://www.w3.org/2006/http#",ical:"http://www.w3.org/2002/12/cal/icaltzd#",ldp:"http://www.w3.org/ns/ldp#",ma:"http://www.w3.org/ns/ma-ont#",oa:"http://www.w3.org/ns/oa#",odrl:"http://www.w3.org/ns/odrl/2/",og:"http://ogp.me/ns#",org:"http://www.w3.org/ns/org#",owl:"http://www.w3.org/2002/07/owl#",prov:"http://www.w3.org/ns/prov#",ptr:"http://www.w3.org/2009/pointers#",qb:"http://purl.org/linked-data/cube#",rev:"http://purl.org/stuff/rev#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfa:"http://www.w3.org/ns/rdfa#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",rif:"http://www.w3.org/2007/rif#",rr:"http://www.w3.org/ns/r2rml#",schema:"http://schema.org/",sd:"http://www.w3.org/ns/sparql-service-description#",sioc:"http://rdfs.org/sioc/ns#",skos:"http://www.w3.org/2004/02/skos/core#",skosxl:"http://www.w3.org/2008/05/skos-xl#",ssn:"http://www.w3.org/ns/ssn/",sosa:"http://www.w3.org/ns/sosa/",time:"http://www.w3.org/2006/time#",v:"http://rdf.data-vocabulary.org/#",vcard:"http://www.w3.org/2006/vcard/ns#",void:"http://rdfs.org/ns/void#",wdr:"http://www.w3.org/2007/05/powder#",wdrs:"http://www.w3.org/2007/05/powder-s#",xhv:"http://www.w3.org/1999/xhtml/vocab#",xml:"http://www.w3.org/XML/1998/namespace",xsd:"http://www.w3.org/2001/XMLSchema#",describedby:"http://www.w3.org/2007/05/powder-s#describedby",license:"http://www.w3.org/1999/xhtml/vocab#license",role:"http://www.w3.org/1999/xhtml/vocab#role"}};var Es={},ID;function qx(){return ID||(ID=1,Object.defineProperty(Es,"__esModule",{value:!0}),Es.RDFA_CONTENTTYPES=Es.RDFA_FEATURES=void 0,Es.RDFA_FEATURES={"":{baseTag:!0,xmlBase:!0,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!0,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!0,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!0,roleAttribute:!0},core:{baseTag:!1,xmlBase:!1,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!1,datetimeAttribute:!1,timeTag:!1,htmlDatatype:!1,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!1,roleAttribute:!1},html:{baseTag:!0,xmlBase:!1,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!0,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!0,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!1,roleAttribute:!0},xhtml:{baseTag:!0,xmlBase:!1,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!0,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!0,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!0,roleAttribute:!0},xml:{baseTag:!1,xmlBase:!0,langAttribute:!0,onlyAllowUriRelRevIfProperty:!1,inheritSubjectInHeadBody:!1,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!1,copyRdfaPatterns:!1,xmlnsPrefixMappings:!0,xhtmlInitialContext:!1,roleAttribute:!0}},Es.RDFA_CONTENTTYPES={"text/html":"html","application/xhtml+xml":"xhtml","application/xml":"xml","text/xml":"xml","image/svg+xml":"xml"}),Es}var Oc={},OD;function l8(){if(OD)return Oc;OD=1,Object.defineProperty(Oc,"__esModule",{value:!0}),Oc.Util=void 0;const e=Li(),t=qx(),r=en();class n{constructor(i,o){this.dataFactory=i||new r.DataFactory,this.baseIRI=this.dataFactory.namedNode(o||""),this.baseIRIDocument=this.baseIRI}static parsePrefixes(i,o,s){const u={};if(s)for(const l in i)l.startsWith("xmlns")&&(u[l.substr(6)]=i[l]);if(i.prefix||Object.keys(u).length>0){const l=Object.assign(Object.assign({},o),u);if(i.prefix){let f;for(;f=n.PREFIX_REGEX.exec(i.prefix);)l[f[1]]=f[2]}return l}else return o}static expandPrefixedTerm(i,o){const s=i.indexOf(":");let u,l;if(s>=0&&(u=i.substr(0,s),l=i.substr(s+1)),u==="")return"http://www.w3.org/1999/xhtml/vocab#"+l;if(u){const f=o.prefixesAll[u];if(f)return f+l}if(i){const f=o.prefixesAll[i.toLocaleLowerCase()];if(f)return f}return i}static isValidIri(i){return n.IRI_REGEX.test(i)}static contentTypeToProfile(i){return t.RDFA_CONTENTTYPES[i]||""}getBaseIRI(i){let o=i;const s=o.indexOf("#");return s>=0&&(o=o.substr(0,s)),this.dataFactory.namedNode((0,e.resolve)(o,this.baseIRI.value))}getResourceOrBaseIri(i,o){return i===!0?this.getBaseIriTerm(o):i}getBaseIriTerm(i){return i.localBaseIRI||this.baseIRI}createVocabIris(i,o,s,u){return i.split(/\s+/).filter(l=>l&&(s||l.indexOf(":")>=0)).map(l=>this.createIri(l,o,!0,!0,u)).filter(l=>l!=null)}createLiteral(i,o){if(o.interpretObjectAsTime&&!o.datatype){for(const s of n.TIME_REGEXES)if(i.match(s.regex)){o.datatype=this.dataFactory.namedNode(n.XSD+s.type);break}}return this.dataFactory.literal(i,o.datatype||o.language)}createBlankNode(){return this.blankNodeFactory?this.blankNodeFactory():this.dataFactory.blankNode()}createIri(i,o,s,u,l){if(i=i||"",!u)return s||(i=(0,e.resolve)(i,this.getBaseIriTerm(o).value)),n.isValidIri(i)?this.dataFactory.namedNode(i):null;if(i.length>0&&i[0]==="["&&i[i.length-1]==="]"&&(i=i.substr(1,i.length-2),i.indexOf(":")<0))return null;if(i.startsWith("_:"))return l?this.dataFactory.blankNode(i.substr(2)||"b_identity"):null;if(s&&o.vocab&&i.indexOf(":")<0)return this.dataFactory.namedNode(o.vocab+i);let f=n.expandPrefixedTerm(i,o);return s?i!==f&&(f=(0,e.resolve)(f,this.baseIRIDocument.value)):f=(0,e.resolve)(f,this.getBaseIriTerm(o).value),n.isValidIri(f)?this.dataFactory.namedNode(f):null}}return Oc.Util=n,n.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",n.XSD="http://www.w3.org/2001/XMLSchema#",n.RDFA="http://www.w3.org/ns/rdfa#",n.PREFIX_REGEX=/\s*([^:\s]*)*:\s*([^\s]*)*\s*/g,n.TIME_REGEXES=[{regex:/^-?P([0-9]+Y)?([0-9]+M)?([0-9]+D)?(T([0-9]+H)?([0-9]+M)?([0-9]+(\.[0-9])?S)?)?$/,type:"duration"},{regex:/^[0-9]+-[0-9][0-9]-[0-9][0-9]T[0-9][0-9]:[0-9][0-9]:[0-9][0-9]((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,type:"dateTime"},{regex:/^[0-9]+-[0-9][0-9]-[0-9][0-9]Z?$/,type:"date"},{regex:/^[0-9][0-9]:[0-9][0-9]:[0-9][0-9]((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,type:"time"},{regex:/^[0-9]+-[0-9][0-9]$/,type:"gYearMonth"},{regex:/^[0-9]+$/,type:"gYear"}],n.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`]*$/,Oc}var PD;function see(){if(PD)return Rc;PD=1,Object.defineProperty(Rc,"__esModule",{value:!0}),Rc.RdfaParser=void 0;const e=iee(),t=Xi(),r=aee,n=oee,a=qx(),i=l8();let o=class f8 extends t.Transform{constructor(u){super({readableObjectMode:!0}),this.activeTagStack=[],u=u||{},this.options=u,this.util=new i.Util(u.dataFactory,u.baseIRI),this.defaultGraph=u.defaultGraph||this.util.dataFactory.defaultGraph();const l=u.contentType?i.Util.contentTypeToProfile(u.contentType):u.profile||"";this.features=u.features||a.RDFA_FEATURES[l],this.htmlParseListener=u.htmlParseListener,this.rdfaPatterns=this.features.copyRdfaPatterns?{}:null,this.pendingRdfaPatternCopies=this.features.copyRdfaPatterns?{}:null,this.parser=this.initializeParser(l==="xml"),this.activeTagStack.push({incompleteTriples:[],inlist:!1,language:u.language,listMapping:{},listMappingLocal:{},name:"",prefixesAll:Object.assign(Object.assign({},n["@context"]),this.features.xhtmlInitialContext?r["@context"]:{}),prefixesCustom:{},skipElement:!1,vocab:u.vocab})}import(u){const l=new t.PassThrough({readableObjectMode:!0});u.on("error",d=>f.emit("error",d)),u.on("data",d=>l.push(d)),u.on("end",()=>l.push(null));const f=l.pipe(new f8(this.options));return f}_transform(u,l,f){this.parser.write(u.toString()),f()}_flush(u){this.parser.end(),u()}onTagOpen(u,l){let f=this.activeTagStack.length-1;for(;f>0&&this.activeTagStack[f].skipElement;)f--;let d=this.activeTagStack[f];f!==this.activeTagStack.length-1&&(d=Object.assign(Object.assign({},d),{language:this.activeTagStack[this.activeTagStack.length-1].language,prefixesAll:this.activeTagStack[this.activeTagStack.length-1].prefixesAll,prefixesCustom:this.activeTagStack[this.activeTagStack.length-1].prefixesCustom,vocab:this.activeTagStack[this.activeTagStack.length-1].vocab}));const c={collectChildTags:d.collectChildTags,incompleteTriples:[],inlist:"inlist"in l,listMapping:[],listMappingLocal:d.listMapping,localBaseIRI:d.localBaseIRI,name:u,prefixesAll:null,prefixesCustom:null,skipElement:!1};if(this.activeTagStack.push(c),c.collectChildTags){for(const T of Object.keys(d.prefixesCustom).sort()){const I=d.prefixesCustom[T],C=T===""?"xmlns":"xmlns:"+T;C in l||(l[C]=I)}const S=Object.keys(l).map(T=>`${T}="${l[T]}"`).join(" ");if(c.text=[`<${u}${S?" "+S:""}>`],this.features.skipHandlingXmlLiteralChildren)return}let p=!0,_=!0;if(this.features.onlyAllowUriRelRevIfProperty&&("property"in l&&"rel"in l&&(p=!1,l.rel.indexOf(":")<0&&delete l.rel),"property"in l&&"rev"in l&&(_=!1,l.rev.indexOf(":")<0&&delete l.rev)),this.features.copyRdfaPatterns){if(d.collectedPatternTag){const S={attributes:l,children:[],name:u,referenced:!1,rootPattern:!1,text:[]};d.collectedPatternTag.children.push(S),c.collectedPatternTag=S;return}if(l.typeof==="rdfa:Pattern"){c.collectedPatternTag={attributes:l,children:[],name:u,parentTag:d,referenced:!1,rootPattern:!0,text:[]};return}if(l.property==="rdfa:copy"){const S=l.resource||l.href||l.src;this.rdfaPatterns[S]?this.emitPatternCopy(d,this.rdfaPatterns[S],S):(this.pendingRdfaPatternCopies[S]||(this.pendingRdfaPatternCopies[S]=[]),this.pendingRdfaPatternCopies[S].push(d));return}}this.features.baseTag&&u==="base"&&l.href&&(this.util.baseIRI=this.util.getBaseIRI(l.href)),this.features.xmlBase&&l["xml:base"]&&(c.localBaseIRI=this.util.getBaseIRI(l["xml:base"])),this.features.timeTag&&u==="time"&&!l.datatype&&(c.interpretObjectAsTime=!0);let v,b,m;if("vocab"in l?l.vocab?(c.vocab=l.vocab,this.emitTriple(this.util.getBaseIriTerm(c),this.util.dataFactory.namedNode(i.Util.RDFA+"usesVocabulary"),this.util.dataFactory.namedNode(c.vocab))):c.vocab=this.activeTagStack[0].vocab:c.vocab=d.vocab,c.prefixesCustom=i.Util.parsePrefixes(l,d.prefixesCustom,this.features.xmlnsPrefixMappings),c.prefixesAll=Object.keys(c.prefixesCustom).length>0?Object.assign(Object.assign({},d.prefixesAll),c.prefixesCustom):d.prefixesAll,this.features.roleAttribute&&l.role){const S=l.id?this.util.createIri("#"+l.id,c,!1,!1,!1):this.util.createBlankNode(),T=c.vocab;c.vocab="http://www.w3.org/1999/xhtml/vocab#";for(const I of this.util.createVocabIris(l.role,c,!0,!1))this.emitTriple(S,this.util.dataFactory.namedNode("http://www.w3.org/1999/xhtml/vocab#role"),I);c.vocab=T}"xml:lang"in l||this.features.langAttribute&&"lang"in l?c.language=l["xml:lang"]||l.lang:c.language=d.language;const y=this.activeTagStack.length===2;if(!("rel"in l)&&!("rev"in l)?"property"in l&&!("content"in l)&&!("datatype"in l)?("about"in l?(v=this.util.createIri(l.about,c,!1,!0,!0),c.explicitNewSubject=!!v):y?v=!0:d.object&&(v=d.object),"typeof"in l&&("about"in l&&(m=this.util.createIri(l.about,c,!1,!0,!0)),!m&&y&&(m=!0),!m&&"resource"in l&&(m=this.util.createIri(l.resource,c,!1,!0,!0)),!m&&("href"in l||"src"in l)&&(m=this.util.createIri(l.href||l.src,c,!1,!1,!0)),!m&&this.isInheritSubjectInHeadBody(u)&&(m=v),m||(m=this.util.createBlankNode()),b=m)):(("about"in l||"resource"in l)&&(v=this.util.createIri(l.about||l.resource,c,!1,!0,!0),c.explicitNewSubject=!!v),!v&&("href"in l||"src"in l)&&(v=this.util.createIri(l.href||l.src,c,!1,!1,!0),c.explicitNewSubject=!!v),v||(y?v=!0:this.isInheritSubjectInHeadBody(u)?v=d.object:"typeof"in l?(v=this.util.createBlankNode(),c.explicitNewSubject=!0):d.object&&(v=d.object,"property"in l||(c.skipElement=!0))),"typeof"in l&&(m=v)):("about"in l?(v=this.util.createIri(l.about,c,!1,!0,!0),c.explicitNewSubject=!!v,"typeof"in l&&(m=v)):y?v=!0:d.object&&(v=d.object),"resource"in l&&(b=this.util.createIri(l.resource,c,!1,!0,!0)),b||("href"in l||"src"in l?b=this.util.createIri(l.href||l.src,c,!1,!1,!0):"typeof"in l&&!("about"in l)&&!this.isInheritSubjectInHeadBody(u)&&(b=this.util.createBlankNode())),"typeof"in l&&!("about"in l)&&(this.isInheritSubjectInHeadBody(u)?m=v:m=b)),m)for(const S of this.util.createVocabIris(l.typeof,c,!0,!0))this.emitTriple(this.util.getResourceOrBaseIri(m,c),this.util.dataFactory.namedNode(i.Util.RDF+"type"),S);if(v&&(c.listMapping={}),b){if("rel"in l&&"inlist"in l)for(const S of this.util.createVocabIris(l.rel,c,p,!1))this.addListMapping(c,v,S,b);if(!("rel"in l&&"inlist"in l)){if("rel"in l)for(const S of this.util.createVocabIris(l.rel,c,p,!1))this.emitTriple(this.util.getResourceOrBaseIri(v,c),S,this.util.getResourceOrBaseIri(b,c));if("rev"in l)for(const S of this.util.createVocabIris(l.rev,c,_,!1))this.emitTriple(this.util.getResourceOrBaseIri(b,c),S,this.util.getResourceOrBaseIri(v,c))}}if(!b){if("rel"in l)if("inlist"in l)for(const S of this.util.createVocabIris(l.rel,c,p,!1))this.addListMapping(c,v,S,null),c.incompleteTriples.push({predicate:S,reverse:!1,list:!0});else for(const S of this.util.createVocabIris(l.rel,c,p,!1))c.incompleteTriples.push({predicate:S,reverse:!1});if("rev"in l)for(const S of this.util.createVocabIris(l.rev,c,_,!1))c.incompleteTriples.push({predicate:S,reverse:!0});c.incompleteTriples.length>0&&(b=this.util.createBlankNode())}if("property"in l){c.predicates=this.util.createVocabIris(l.property,c,!0,!1);let S;if("datatype"in l?(c.datatype=this.util.createIri(l.datatype,c,!0,!0,!1),c.datatype&&(c.datatype.value===i.Util.RDF+"XMLLiteral"||this.features.htmlDatatype&&c.datatype.value===i.Util.RDF+"HTML")&&(c.collectChildTags=!0)):(!("rev"in l)&&!("rel"in l)&&!("content"in l)&&("resource"in l&&(S=this.util.createIri(l.resource,c,!1,!0,!0)),!S&&"href"in l&&(S=this.util.createIri(l.href,c,!1,!1,!0)),!S&&"src"in l&&(S=this.util.createIri(l.src,c,!1,!1,!0))),"typeof"in l&&!("about"in l)&&(S=m)),"content"in l){const T=this.util.createLiteral(l.content,c);if("inlist"in l)for(const I of c.predicates)this.addListMapping(c,v,I,T);else{const I=this.util.getResourceOrBaseIri(v,c);for(const C of c.predicates)this.emitTriple(I,C,T)}c.predicates=null}else if(this.features.datetimeAttribute&&"datetime"in l){c.interpretObjectAsTime=!0;const T=this.util.createLiteral(l.datetime,c);if("inlist"in l)for(const I of c.predicates)this.addListMapping(c,v,I,T);else{const I=this.util.getResourceOrBaseIri(v,c);for(const C of c.predicates)this.emitTriple(I,C,T)}c.predicates=null}else if(S){const T=this.util.getResourceOrBaseIri(S,c);if("inlist"in l)for(const I of c.predicates)this.addListMapping(c,v,I,T);else{const I=this.util.getResourceOrBaseIri(v,c);for(const C of c.predicates)this.emitTriple(I,C,T)}c.predicates=null}}let g=!1;if(!c.skipElement&&v&&d.incompleteTriples.length>0){g=!0;const S=this.util.getResourceOrBaseIri(d.subject,c),T=this.util.getResourceOrBaseIri(v,c);for(const I of d.incompleteTriples)if(I.reverse)this.emitTriple(T,I.predicate,S);else if(I.list){let C=null;for(let B=this.activeTagStack.length-1;B>=0;B--)if(this.activeTagStack[B].inlist){C=this.activeTagStack[B];break}this.addListMapping(C,v,I.predicate,T)}else this.emitTriple(S,I.predicate,T)}!g&&d.incompleteTriples.length>0&&(c.incompleteTriples=c.incompleteTriples.concat(d.incompleteTriples)),c.subject=v||d.subject,c.object=b||v}onText(u){const l=this.activeTagStack[this.activeTagStack.length-1];if(this.features.copyRdfaPatterns&&l.collectedPatternTag){l.collectedPatternTag.text.push(u);return}l.text||(l.text=[]),l.text.push(u)}onTagClose(){const u=this.activeTagStack[this.activeTagStack.length-1],l=this.activeTagStack[this.activeTagStack.length-2];if(!(u.collectChildTags&&l.collectChildTags&&this.features.skipHandlingXmlLiteralChildren)){if(this.features.copyRdfaPatterns&&u.collectedPatternTag&&u.collectedPatternTag.rootPattern){const f=u.collectedPatternTag.attributes.resource;if(delete u.collectedPatternTag.attributes.resource,delete u.collectedPatternTag.attributes.typeof,this.rdfaPatterns[f]=u.collectedPatternTag,this.pendingRdfaPatternCopies[f]){for(const d of this.pendingRdfaPatternCopies[f])this.emitPatternCopy(d,u.collectedPatternTag,f);delete this.pendingRdfaPatternCopies[f]}this.activeTagStack.pop();return}if(u.predicates){const f=this.util.getResourceOrBaseIri(u.subject,u);let d=u.text||[];u.collectChildTags&&l.collectChildTags&&(d=d.slice(1));const c=this.util.createLiteral(d.join(""),u);if(u.inlist)for(const p of u.predicates)this.addListMapping(u,f,p,c);else for(const p of u.predicates)this.emitTriple(f,p,c);l.predicates||(u.text=null)}if(u.object&&Object.keys(u.listMapping).length>0){const f=this.util.getResourceOrBaseIri(u.object,u);for(const d in u.listMapping){const c=this.util.dataFactory.namedNode(d),p=u.listMapping[d];if(p.length>0){const _=p.map(()=>this.util.createBlankNode());for(let v=0;v<p.length;v++){const b=this.util.getResourceOrBaseIri(p[v],u);this.emitTriple(_[v],this.util.dataFactory.namedNode(i.Util.RDF+"first"),b),this.emitTriple(_[v],this.util.dataFactory.namedNode(i.Util.RDF+"rest"),v<p.length-1?_[v+1]:this.util.dataFactory.namedNode(i.Util.RDF+"nil"))}this.emitTriple(f,c,_[0])}else this.emitTriple(f,c,this.util.dataFactory.namedNode(i.Util.RDF+"nil"))}}}this.activeTagStack.pop(),u.collectChildTags&&u.text&&u.text.push(`</${u.name}>`),u.text&&l&&(l.text?l.text=l.text.concat(u.text):l.text=u.text)}onEnd(){if(this.features.copyRdfaPatterns){this.features.copyRdfaPatterns=!1;for(const u in this.rdfaPatterns){const l=this.rdfaPatterns[u];l.referenced||(l.attributes.typeof="rdfa:Pattern",l.attributes.resource=u,this.emitPatternCopy(l.parentTag,l,u),l.referenced=!1,delete l.attributes.typeof,delete l.attributes.resource)}for(const u in this.pendingRdfaPatternCopies)for(const l of this.pendingRdfaPatternCopies[u])this.activeTagStack.push(l),this.onTagOpen("link",{property:"rdfa:copy",href:u}),this.onTagClose(),this.activeTagStack.pop();this.features.copyRdfaPatterns=!0}}isInheritSubjectInHeadBody(u){return this.features.inheritSubjectInHeadBody&&(u==="head"||u==="body")}addListMapping(u,l,f,d){if(u.explicitNewSubject){const c=this.util.createBlankNode();this.emitTriple(this.util.getResourceOrBaseIri(l,u),f,c),this.emitTriple(c,this.util.dataFactory.namedNode(i.Util.RDF+"first"),this.util.getResourceOrBaseIri(d,u)),this.emitTriple(c,this.util.dataFactory.namedNode(i.Util.RDF+"rest"),this.util.dataFactory.namedNode(i.Util.RDF+"nil"))}else{let c=u.listMappingLocal[f.value];c||(u.listMappingLocal[f.value]=c=[]),d&&c.push(d)}}emitTriple(u,l,f){u.termType==="NamedNode"&&u.value.indexOf(":")<0||l.termType==="NamedNode"&&l.value.indexOf(":")<0||f.termType==="NamedNode"&&f.value.indexOf(":")<0||this.push(this.util.dataFactory.quad(u,l,f,this.defaultGraph))}emitPatternCopy(u,l,f){if(this.activeTagStack.push(u),l.referenced=!0,!l.constructedBlankNodes)l.constructedBlankNodes=[],this.util.blankNodeFactory=()=>{const d=this.util.dataFactory.blankNode();return l.constructedBlankNodes.push(d),d};else{let d=0;this.util.blankNodeFactory=()=>l.constructedBlankNodes[d++]}this.emitPatternCopyAbsolute(l,!0,f),this.util.blankNodeFactory=null,this.activeTagStack.pop()}emitPatternCopyAbsolute(u,l,f){if(!(!l&&u.attributes.property==="rdfa:copy"&&u.attributes.href===f)){this.onTagOpen(u.name,u.attributes);for(const d of u.text)this.onText(d);for(const d of u.children)this.emitPatternCopyAbsolute(d,!1,f);this.onTagClose()}}initializeParser(u){return new e.Parser({onclosetag:()=>{try{this.onTagClose(),this.htmlParseListener&&this.htmlParseListener.onTagClose()}catch(l){this.emit("error",l)}},onend:()=>{try{this.onEnd(),this.htmlParseListener&&this.htmlParseListener.onEnd()}catch(l){this.emit("error",l)}},onopentag:(l,f)=>{try{this.onTagOpen(l,f),this.htmlParseListener&&this.htmlParseListener.onTagOpen(l,f)}catch(d){this.emit("error",d)}},ontext:l=>{try{this.onText(l),this.htmlParseListener&&this.htmlParseListener.onText(l)}catch(f){this.emit("error",f)}}},{decodeEntities:!0,recognizeSelfClosing:!0,xmlMode:u})}};return Rc.RdfaParser=o,Rc}var CD;function c8(){return CD||(CD=1,function(e){var t=Tc.__createBinding||(Object.create?function(n,a,i,o){o===void 0&&(o=i);var s=Object.getOwnPropertyDescriptor(a,i);(!s||("get"in s?!a.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,o,s)}:function(n,a,i,o){o===void 0&&(o=i),n[o]=a[i]}),r=Tc.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(zJ(),e),r(GJ(),e),r(WJ(),e),r(see(),e),r(qx(),e),r(l8(),e)}(Tc)),Tc}var LD;function uee(){if(LD)return xc;LD=1,Object.defineProperty(xc,"__esModule",{value:!0}),xc.ActorRdfParseXmlRdfa=void 0;const e=Tl(),t=Ji(),r=c8();let n=class extends e.ActorRdfParseFixedMediaTypes{constructor(i){super(i)}async runHandle(i,o,s){var d;const u=i.context.getSafe(t.KeysInitQuery.dataFactory),l=(i.headers&&i.headers.get("content-language"))??void 0;i.data.on("error",c=>f.emit("error",c));const f=i.data.pipe(new r.RdfaParser({dataFactory:u,baseIRI:(d=i.metadata)==null?void 0:d.baseIRI,profile:"xml",language:l}));return{data:f,metadata:{triples:!0}}}};return xc.ActorRdfParseXmlRdfa=n,xc}var DD;function lee(){return DD||(DD=1,function(e){var t=Ec.__createBinding||(Object.create?function(n,a,i,o){o===void 0&&(o=i);var s=Object.getOwnPropertyDescriptor(a,i);(!s||("get"in s?!a.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,o,s)}:function(n,a,i,o){o===void 0&&(o=i),n[o]=a[i]}),r=Ec.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(uee(),e)}(Ec)),Ec}var Pc={},Cc={},Im={},dw,ND;function fee(){if(ND)return dw;ND=1;var e=function(){var t=function(He,$e,ut,lt){for(ut=ut||{},lt=He.length;lt--;ut[He[lt]]=$e);return ut},r=[7,12,13,14,15,16,20,25,115,130],n=[7,13,16,20,25,115,130],a=[7,13,16,115,130],i=[1,25],o=[1,29],s=[1,27],u=[1,28],l=[13,16,115,130],f=[13,16,28,38,40,42,44,46,48,53,56,61,67,85,87,92,93,95,96,102,110,111,115,119,120,126,128,129,130,131,132,133,134,135,136],d=[28,56],c=[1,42],p=[46,48,53,56],_=[1,54],v=[1,60],b=[1,56],m=[1,57],y=[1,58],g=[1,63],S=[1,64],T=[1,65],I=[1,66],C=[1,67],B=[1,68],D=[1,75],M=[28,46,48,53,56],j=[28,42,46,48,53,56],O=[13,16,28,38,40,42,44,46,48,53,56,92,115,119,120,130,131,132,133,134,135,136],q=[13,16,28,38,40,42,44,46,48,53,56,67,85,87,92,95,96,115,119,120,126,128,129,130,131,132,133,134,135,136],Q=[13,16,38,40,44,92,115,119,120,130,131,132,133,134,135,136],ie=[13,16,28,38,40,42,44,46,48,53,56,67,85,87,92,95,96,115,117,118,119,120,126,128,129,130,131,132,133,134,135,136],X=[13,16,28,56,115,130],le=[13,16,38,58,87,96,109,115,126,130],ae=[1,116],ne=[1,112],V=[1,108],oe=[1,114],he=[1,111],Y=[7,13,16,20,25,44,48,53,56,67,85,87,95,96,115,128,129,130],Z=[48,53],ee=[48,53,87,96,126],P=[13,16,44,48,53,56,85,87,95,96,115,128,129,130],A=[1,126],$=[13,16,40,44,48,53,56,85,87,95,96,115,128,129,130],te=[1,129],pe=[48,53,67,87,96,126],R=[13,16,40,44,48,53,56,67,85,87,95,96,115,128,129,130],w=[1,133],x=[13,16,40,44,48,53,56,67,85,87,95,96,102,115,128,129,130],k=[13,16,40,44,48,53,56,67,85,87,93,95,96,102,110,111,115,128,129,130],U=[1,151],re=[1,153],fe=[1,156],ve=[1,157],ce=[1,158],Ie=[1,167],be=[1,175],xe=[13,16,44,48,53,56,67,85,87,95,96,115,128,129,130],je=[13,16,44,48,53,56,67,85,87,95,96,115,126,128,129,130],Ae=[13,16,46,92,115,119,120,130,131,132,133,134,135,136],Pe={trace:function(){},yy:{},symbols_:{error:2,shaclDoc:3,shaclDoc_repetition0:4,shaclDoc_repetition1:5,ttlSection:6,EOF:7,directive:8,baseDecl:9,importsDecl:10,prefixDecl:11,KW_BASE:12,IRIREF:13,KW_IMPORTS:14,KW_PREFIX:15,PNAME_NS:16,nodeShapeIri:17,iri:18,nodeShape:19,KW_SHAPE:20,nodeShape_option0:21,nodeShape_option1:22,nodeShapeBody:23,shapeClass:24,KW_SHAPE_CLASS:25,shapeClass_option0:26,turtleAnnotation:27,";":28,turtleAnnotation2:29,predicate:30,turtleAnnotation2_option0:31,objectList:32,object:33,objectList_repetition0:34,iriOrLiteral:35,blankNodeSection:36,list:37,"(":38,list_repetition0:39,")":40,objectTail:41,",":42,LB:43,"[":44,RB:45,"]":46,LP:47,"%":48,RP:49,pcSection:50,iriHead:51,ttlStatement:52,".":53,ttlSection_repetition0:54,startNodeShape:55,"{":56,endNodeShape:57,"}":58,nodeShapeBody_repetition0:59,targetClass:60,"->":61,targetClass_repetition_plus0:62,constraint:63,constraint_group0:64,constraint_option0:65,orNotComponent:66,"|":67,nodeNot:68,nodeOrEmit:69,nodeOr:70,nodeOr_repetition_plus0:71,nodeValue:72,negation:73,nodeValue_group0:74,"=":75,iriOrLiteralOrArray:76,propertyShape:77,path:78,propertyShape_repetition0:79,propertyOrComponent:80,propertyNot:81,propertyOr:82,propertyOr_repetition_plus0:83,propertyAtom:84,NODEKIND:85,shapeRef:86,PARAM:87,propertyCount:88,propertyMinCount:89,"..":90,propertyMaxCount:91,INTEGER:92,"*":93,shapeRef_group0:94,"@":95,"!":96,pathAlternative:97,additionalAlternative:98,pathSequence:99,pathAlternative_repetition_plus0:100,additionalSequence:101,"/":102,pathEltOrInverse:103,pathSequence_repetition_plus0:104,pathElt:105,pathPrimary:106,pathMod:107,pathInverse:108,"^":109,"?":110,"+":111,iriOrLiteralOrArray_repetition0:112,literal:113,iri_group0:114,a:115,string:116,LANGTAG:117,"^^":118,DECIMAL:119,DOUBLE:120,literal_group0:121,string_group0:122,string_group1:123,shaclDoc_repetition1_group0:124,constraint_group0_repetition_plus0:125,TARGET:126,propertyShape_repetition0_group0:127,ATPNAME_LN:128,ATPNAME_NS:129,PNAME_LN:130,KW_TRUE:131,KW_FALSE:132,STRING_LITERAL1:133,STRING_LITERAL2:134,STRING_LITERAL_LONG1:135,STRING_LITERAL_LONG2:136,$accept:0,$end:1},terminals_:{2:"error",7:"EOF",12:"KW_BASE",13:"IRIREF",14:"KW_IMPORTS",15:"KW_PREFIX",16:"PNAME_NS",20:"KW_SHAPE",25:"KW_SHAPE_CLASS",28:";",38:"(",40:")",42:",",44:"[",46:"]",48:"%",53:".",56:"{",58:"}",61:"->",67:"|",75:"=",85:"NODEKIND",87:"PARAM",90:"..",92:"INTEGER",93:"*",95:"@",96:"!",102:"/",109:"^",110:"?",111:"+",115:"a",117:"LANGTAG",118:"^^",119:"DECIMAL",120:"DOUBLE",126:"TARGET",128:"ATPNAME_LN",129:"ATPNAME_NS",130:"PNAME_LN",131:"KW_TRUE",132:"KW_FALSE",133:"STRING_LITERAL1",134:"STRING_LITERAL2",135:"STRING_LITERAL_LONG1",136:"STRING_LITERAL_LONG2"},productions_:[0,[3,4],[8,1],[8,1],[8,1],[9,2],[10,2],[11,3],[17,1],[19,5],[24,4],[27,2],[29,2],[30,2],[32,2],[33,1],[33,1],[33,1],[37,3],[41,2],[43,1],[45,1],[36,3],[47,1],[49,1],[50,3],[51,1],[52,3],[6,1],[55,1],[57,1],[23,3],[60,2],[63,3],[66,2],[69,1],[70,1],[70,2],[68,1],[68,2],[72,3],[77,2],[80,2],[82,1],[82,2],[81,1],[81,2],[84,1],[84,1],[84,1],[84,3],[84,1],[88,5],[89,1],[91,1],[91,1],[86,1],[86,2],[73,1],[78,1],[98,2],[97,1],[97,2],[101,2],[99,1],[99,2],[105,1],[105,2],[103,1],[103,2],[108,1],[107,1],[107,1],[107,1],[106,1],[106,3],[76,1],[76,3],[35,1],[35,1],[18,1],[18,1],[18,1],[113,1],[113,2],[113,3],[113,1],[113,1],[113,1],[113,1],[116,1],[116,1],[4,0],[4,2],[124,1],[124,1],[5,0],[5,2],[21,0],[21,1],[22,0],[22,1],[26,0],[26,1],[31,0],[31,1],[34,0],[34,2],[39,0],[39,2],[54,0],[54,2],[59,0],[59,2],[62,1],[62,2],[125,1],[125,2],[64,1],[64,1],[65,0],[65,1],[71,1],[71,2],[74,1],[74,1],[127,1],[127,1],[79,0],[79,2],[83,1],[83,2],[94,1],[94,1],[100,1],[100,2],[104,1],[104,2],[112,0],[112,2],[114,1],[114,1],[121,1],[121,1],[122,1],[122,1],[123,1],[123,1]],performAction:function($e,ut,lt,dt,ct,nt,lr){var at=nt.length-1;switch(ct){case 1:this.$=W(Le.factory.namedNode(Te("")),Le.factory.namedNode(Ze),Le.factory.namedNode(de+"Ontology"));break;case 5:Le.base=Le.factory.namedNode(nt[at].slice(1,-1)),Le.n3Parser._setBase(Le.base.value);break;case 6:this.$=W(Le.base,Le.factory.namedNode(de+"imports"),Le.factory.namedNode(nt[at].slice(1,-1)));break;case 7:this.$=Le.prefixes[nt[at-1].substr(0,nt[at-1].length-1)]=Te(nt[at]);break;case 8:Le.nodeShapeStack=!1,W(Le.currentNodeShape=nt[at],Le.factory.namedNode(Ze),Le.factory.namedNode(ge+"NodeShape"));break;case 10:this.$=W(Le.currentNodeShape,Le.factory.namedNode(Ze),Le.factory.namedNode(Re+"Class"));break;case 11:this.$=Se();break;case 13:this.$=nt[at].forEach(We=>W(Le.currentNodeShape,nt[at-1],We));break;case 14:this.$=[nt[at-1],...nt[at]];break;case 18:this.$=H(nt[at-1],!0);break;case 19:case 34:case 42:case 60:case 63:this.$=nt[at];break;case 20:Le.tempCurrentNodeShape=Le.currentNodeShape,this.$=Le.currentNodeShape=Ve();break;case 21:Le.currentNodeShape=Le.tempCurrentNodeShape;break;case 22:case 31:this.$=nt[at-2];break;case 23:Le.tempCurrentNodeShape=Le.currentNodeShape,Le.currentNodeShape=Le.currentPropertyNode;break;case 24:Le.currentNodeShape=Le.tempCurrentNodeShape;break;case 26:Le.currentNodeShape=nt[at];break;case 29:Le.nodeShapeStack?(Le.nodeShapeStack.push(Le.currentNodeShape),W(Le.currentPropertyNode,Le.factory.namedNode(ge+"node"),Le.currentNodeShape=Ve())):Le.nodeShapeStack=[],this.$=Le.currentNodeShape;break;case 30:Le.nodeShapeStack.length>0&&(Le.currentNodeShape=Le.nodeShapeStack.pop());break;case 32:this.$=nt[at].forEach(We=>{W(Le.currentNodeShape,Le.factory.namedNode(ge+"targetClass"),We)});break;case 35:this.$=W(Le.currentNodeShape,Le.factory.namedNode(ge+nt[at][0]),nt[at][1]);break;case 36:break;case 37:const Ce=H([nt[at-1],...nt[at]].map(We=>{const ht=Ve();return W(ht,Le.factory.namedNode(ge+We[0]),We[1]),ht}));this.$=["or",Ce];break;case 39:case 46:this.$=J("not",...nt[at]);break;case 40:case 50:this.$=[nt[at-2],nt[at]];break;case 43:this.$=nt[at]&&G(...nt[at]);break;case 44:this.$=G("or",H([nt[at-1],...nt[at]].map(We=>{const ht=Ve();return W(ht,Le.factory.namedNode(ge+We[0]),We[1]),ht})));break;case 47:this.$=[qe[nt[at].value]?"datatype":"class",nt[at]];break;case 48:this.$=["nodeKind",Le.factory.namedNode(ge+nt[at])];break;case 49:this.$=["node",Le.factory.namedNode(nt[at])];break;case 51:this.$=void 0;break;case 53:this.$=nt[at]>0&&G("minCount",me(nt[at],K));break;case 54:this.$=G("maxCount",me(nt[at],K));break;case 56:this.$=De(nt[at].slice(1));break;case 57:this.$=Te(nt[at]);break;case 59:W(Le.currentNodeShape,Le.factory.namedNode(ge+"property"),Le.currentPropertyNode=Ve()),G("path",nt[at]);break;case 62:const Ge=Ve();W(Ge,Le.factory.namedNode(ge+"alternativePath"),H([nt[at-1],...nt[at]])),this.$=Ge;break;case 65:this.$=H([nt[at-1],...nt[at]]);break;case 67:W(this.$=Ve(),Le.factory.namedNode(ge+nt[at]),nt[at-1]);break;case 69:W(this.$=Ve(),Le.factory.namedNode(ge+"inversePath"),nt[at]);break;case 71:this.$="zeroOrOnePath";break;case 72:this.$="zeroOrMorePath";break;case 73:this.$="oneOrMorePath";break;case 75:this.$=nt[at-1];break;case 77:this.$=H(nt[at-1]);break;case 80:this.$=Le.factory.namedNode(Te(nt[at]));break;case 81:this.$=Le.factory.namedNode(De(nt[at]));break;case 82:this.$=Se(Le.factory.namedNode(Ze));break;case 83:this.$=me(nt[at]);break;case 84:this.$=Me(nt[at-1],lowercase(nt[at].substr(1)));break;case 85:this.$=me(nt[at-2],nt[at]);break;case 86:this.$=me(nt[at],K);break;case 87:this.$=me(nt[at],_e);break;case 88:this.$=me(nt[at].toLowerCase(),Oe);break;case 89:this.$=me(nt[at].toLowerCase(),se);break;case 90:this.$=we(nt[at],1);break;case 91:this.$=we(nt[at],3);break;case 92:case 96:case 106:case 108:case 110:case 112:case 128:case 138:this.$=[];break;case 93:case 97:case 107:case 109:case 111:case 113:case 115:case 117:case 123:case 129:case 131:case 135:case 137:case 139:nt[at-1].push(nt[at]);break;case 114:case 116:case 122:case 130:case 134:case 136:this.$=[nt[at]];break}},table:[t(r,[2,92],{3:1,4:2}),{1:[3]},t(n,[2,96],{5:3,8:4,9:5,10:6,11:7,12:[1,8],14:[1,9],15:[1,10]}),t(a,[2,110],{6:11,124:12,54:13,19:14,24:15,20:[1,16],25:[1,17]}),t(r,[2,93]),t(r,[2,2]),t(r,[2,3]),t(r,[2,4]),{13:[1,18]},{13:[1,19]},{16:[1,20]},{7:[1,21]},t(n,[2,97]),{7:[2,28],13:i,16:o,18:24,51:23,52:22,114:26,115:s,130:u},t(n,[2,94]),t(n,[2,95]),{13:i,16:o,17:30,18:31,114:26,115:s,130:u},{13:i,16:o,17:32,18:31,114:26,115:s,130:u},t(r,[2,5]),t(r,[2,6]),{13:[1,33]},{1:[2,1]},t(a,[2,111]),{13:i,16:o,18:36,29:34,30:35,114:26,115:s,130:u},t(l,[2,26]),t(f,[2,80]),t(f,[2,81]),t(f,[2,82]),t(f,[2,140]),t(f,[2,141]),t(d,[2,98],{21:37,60:38,61:[1,39]}),t([28,56,61],[2,8]),{26:40,27:41,28:c,56:[2,102]},t(r,[2,7]),{53:[1,43]},t(p,[2,104],{31:44,27:45,28:c}),{13:i,16:o,18:51,32:46,33:47,35:48,36:49,37:50,38:_,43:53,44:v,92:b,113:52,114:26,115:s,116:55,119:m,120:y,121:59,122:61,123:62,130:u,131:g,132:S,133:T,134:I,135:C,136:B},{22:69,27:70,28:c,56:[2,100]},t(d,[2,99]),{13:i,16:o,18:72,62:71,114:26,115:s,130:u},{23:73,55:74,56:D},{56:[2,103]},{13:i,16:o,18:36,29:76,30:35,114:26,115:s,130:u},t(a,[2,27]),t(p,[2,12]),t(p,[2,105]),t(M,[2,13]),t(j,[2,106],{34:77}),t(O,[2,15]),t(O,[2,16]),t(O,[2,17]),t(q,[2,78]),t(q,[2,79]),{13:i,16:o,18:36,29:78,30:35,114:26,115:s,130:u},t(Q,[2,108],{39:79}),t(q,[2,83],{117:[1,80],118:[1,81]}),t(q,[2,86]),t(q,[2,87]),t(q,[2,88]),t(q,[2,89]),t(l,[2,20]),t(ie,[2,90]),t(ie,[2,91]),t(q,[2,142]),t(q,[2,143]),t(ie,[2,144]),t(ie,[2,145]),t(ie,[2,146]),t(ie,[2,147]),{23:82,55:74,56:D},{56:[2,101]},t(d,[2,32],{114:26,18:83,13:i,16:o,115:s,130:u}),t(X,[2,114]),t(n,[2,10]),t(le,[2,112],{59:84}),t(le,[2,29]),t(p,[2,11]),t(M,[2,14],{41:85,42:[1,86]}),{45:87,46:[1,88]},{13:i,16:o,18:51,33:90,35:48,36:49,37:50,38:_,40:[1,89],43:53,44:v,92:b,113:52,114:26,115:s,116:55,119:m,120:y,121:59,122:61,123:62,130:u,131:g,132:S,133:T,134:I,135:C,136:B},t(q,[2,84]),{13:i,16:o,18:91,114:26,115:s,130:u},t(n,[2,9]),t(X,[2,115]),{13:i,16:o,18:115,38:ae,57:92,58:[1,94],63:93,64:95,68:102,69:98,70:100,72:104,73:105,74:107,77:97,78:99,87:ne,96:V,97:101,99:103,103:106,105:109,106:113,108:110,109:oe,114:26,115:s,125:96,126:he,130:u},t(j,[2,107]),{13:i,16:o,18:51,33:117,35:48,36:49,37:50,38:_,43:53,44:v,92:b,113:52,114:26,115:s,116:55,119:m,120:y,121:59,122:61,123:62,130:u,131:g,132:S,133:T,134:I,135:C,136:B},t(O,[2,22]),t(O,[2,21]),t(O,[2,18]),t(Q,[2,109]),t(q,[2,85]),t(Y,[2,31]),t(le,[2,113]),t(Y,[2,30]),{47:120,48:[1,121],50:119,53:[2,120],65:118},t(Z,[2,118],{70:100,68:102,72:104,73:105,74:107,69:122,87:ne,96:V,126:he}),t(Z,[2,119]),t(ee,[2,116]),t(P,[2,128],{79:123}),t(ee,[2,35]),t(P,[2,59]),t(ee,[2,36],{71:124,66:125,67:A}),t($,[2,61],{100:127,98:128,67:te}),t(pe,[2,38]),{72:130,74:107,87:ne,126:he},t(R,[2,64],{104:131,101:132,102:w}),{75:[1,134]},t([13,16,56,85,87,95,115,126,128,129,130],[2,58]),t(x,[2,68]),{13:i,16:o,18:115,38:ae,105:135,106:113,114:26,115:s,130:u},{75:[2,124]},{75:[2,125]},t(x,[2,66],{107:136,93:[1,138],110:[1,137],111:[1,139]}),t([13,16,38,115,130],[2,70]),t(k,[2,74]),{13:i,16:o,18:115,38:ae,97:140,99:103,103:106,105:109,106:113,108:110,109:oe,114:26,115:s,130:u},t(j,[2,19]),{53:[1,141]},{53:[2,121]},{13:i,16:o,18:36,29:142,30:35,114:26,115:s,130:u},t(l,[2,23]),t(ee,[2,117]),t(Z,[2,41],{114:26,55:74,127:143,88:144,82:145,81:147,84:148,73:149,18:150,86:152,23:154,94:155,13:i,16:o,44:[1,146],56:D,85:U,87:re,95:fe,96:V,115:s,128:ve,129:ce,130:u}),t(ee,[2,37],{66:159,67:A}),t(pe,[2,122]),{68:160,72:104,73:105,74:107,87:ne,96:V,126:he},t($,[2,62],{98:161,67:te}),t(R,[2,134]),{13:i,16:o,18:115,38:ae,99:162,103:106,105:109,106:113,108:110,109:oe,114:26,115:s,130:u},t(pe,[2,39]),t(R,[2,65],{101:163,102:w}),t(x,[2,136]),{13:i,16:o,18:115,38:ae,103:164,105:109,106:113,108:110,109:oe,114:26,115:s,130:u},{13:i,16:o,18:51,35:166,44:Ie,76:165,92:b,113:52,114:26,115:s,116:55,119:m,120:y,121:59,122:61,123:62,130:u,131:g,132:S,133:T,134:I,135:C,136:B},t(x,[2,69]),t(x,[2,67]),t(x,[2,71]),t(x,[2,72]),t(x,[2,73]),{40:[1,168]},t(le,[2,33]),{48:[1,170],49:169},t(P,[2,129]),t(P,[2,126]),t(P,[2,127]),{89:171,92:[1,172]},t(P,[2,43],{83:173,80:174,67:be}),t(xe,[2,45]),{13:i,16:o,18:150,23:154,55:74,56:D,84:176,85:U,86:152,87:re,94:155,95:fe,114:26,115:s,128:ve,129:ce,130:u},t(xe,[2,47]),t(xe,[2,48]),t(xe,[2,49]),{75:[1,177]},t(xe,[2,51]),t(xe,[2,56]),{13:[1,178]},t(xe,[2,132]),t(xe,[2,133]),t(pe,[2,123]),t(pe,[2,34]),t(R,[2,135]),t(R,[2,60]),t(x,[2,137]),t(x,[2,63]),t(pe,[2,40]),t(je,[2,76]),t(Ae,[2,138],{112:179}),t(k,[2,75]),{53:[2,25]},{53:[2,24]},{90:[1,180]},{90:[2,53]},t(P,[2,44],{80:181,67:be}),t(xe,[2,130]),{13:i,16:o,18:150,23:154,55:74,56:D,73:149,81:182,84:148,85:U,86:152,87:re,94:155,95:fe,96:V,114:26,115:s,128:ve,129:ce,130:u},t(xe,[2,46]),{13:i,16:o,18:51,35:166,44:Ie,76:183,92:b,113:52,114:26,115:s,116:55,119:m,120:y,121:59,122:61,123:62,130:u,131:g,132:S,133:T,134:I,135:C,136:B},t(xe,[2,57]),{13:i,16:o,18:51,35:185,46:[1,184],92:b,113:52,114:26,115:s,116:55,119:m,120:y,121:59,122:61,123:62,130:u,131:g,132:S,133:T,134:I,135:C,136:B},{91:186,92:[1,187],93:[1,188]},t(xe,[2,131]),t(xe,[2,42]),t(xe,[2,50]),t(je,[2,77]),t(Ae,[2,139]),{46:[1,189]},{46:[2,54]},{46:[2,55]},t(P,[2,52])],defaultActions:{21:[2,1],41:[2,103],70:[2,101],111:[2,124],112:[2,125],119:[2,121],169:[2,25],170:[2,24],172:[2,53],187:[2,54],188:[2,55]},parseError:function($e,ut){if(ut.recoverable)this.trace($e);else{var lt=new Error($e);throw lt.hash=ut,lt}},parse:function($e){var ut=this,lt=[0],dt=[null],ct=[],nt=this.table,lr="",at=0,Ce=0,Ge=2,We=1,ht=ct.slice.call(arguments,1),gt=Object.create(this.lexer),Ct={yy:{}};for(var Rr in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Rr)&&(Ct.yy[Rr]=this.yy[Rr]);gt.setInput($e,Ct.yy),Ct.yy.lexer=gt,Ct.yy.parser=this,typeof gt.yylloc>"u"&&(gt.yylloc={});var Tn=gt.yylloc;ct.push(Tn);var Rl=gt.options&&gt.options.ranges;typeof Ct.yy.parseError=="function"?this.parseError=Ct.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var ea=function(){var Di;return Di=gt.lex()||We,typeof Di!="number"&&(Di=ut.symbols_[Di]||Di),Di},Ar,xa,$n,rs,li={},ns,fi,ao,Ft;;){if(xa=lt[lt.length-1],this.defaultActions[xa]?$n=this.defaultActions[xa]:((Ar===null||typeof Ar>"u")&&(Ar=ea()),$n=nt[xa]&&nt[xa][Ar]),typeof $n>"u"||!$n.length||!$n[0]){var er="";Ft=[];for(ns in nt[xa])this.terminals_[ns]&&ns>Ge&&Ft.push("'"+this.terminals_[ns]+"'");gt.showPosition?er="Parse error on line "+(at+1)+`:
`+gt.showPosition()+`
Expecting `+Ft.join(", ")+", got '"+(this.terminals_[Ar]||Ar)+"'":er="Parse error on line "+(at+1)+": Unexpected "+(Ar==We?"end of input":"'"+(this.terminals_[Ar]||Ar)+"'"),this.parseError(er,{text:gt.match,token:this.terminals_[Ar]||Ar,line:gt.yylineno,loc:Tn,expected:Ft})}if($n[0]instanceof Array&&$n.length>1)throw new Error("Parse Error: multiple actions possible at state: "+xa+", token: "+Ar);switch($n[0]){case 1:lt.push(Ar),dt.push(gt.yytext),ct.push(gt.yylloc),lt.push($n[1]),Ar=null,Ce=gt.yyleng,lr=gt.yytext,at=gt.yylineno,Tn=gt.yylloc;break;case 2:if(fi=this.productions_[$n[1]][1],li.$=dt[dt.length-fi],li._$={first_line:ct[ct.length-(fi||1)].first_line,last_line:ct[ct.length-1].last_line,first_column:ct[ct.length-(fi||1)].first_column,last_column:ct[ct.length-1].last_column},Rl&&(li._$.range=[ct[ct.length-(fi||1)].range[0],ct[ct.length-1].range[1]]),rs=this.performAction.apply(li,[lr,Ce,at,Ct.yy,$n[1],dt,ct].concat(ht)),typeof rs<"u")return rs;fi&&(lt=lt.slice(0,-1*fi*2),dt=dt.slice(0,-1*fi),ct=ct.slice(0,-1*fi)),lt.push(this.productions_[$n[1]][0]),dt.push(li.$),ct.push(li._$),ao=nt[lt[lt.length-2]][lt[lt.length-1]],lt.push(ao);break;case 3:return!0}}return!0}};const ke="http://www.w3.org/1999/02/22-rdf-syntax-ns#",Ze=ke+"type",Ue=ke+"first",it=ke+"rest",ye=ke+"nil",F="http://www.w3.org/2001/XMLSchema#",K=F+"integer",_e=F+"decimal",Oe=F+"double",se=F+"boolean",ge="http://www.w3.org/ns/shacl#",de="http://www.w3.org/2002/07/owl#",Re="http://www.w3.org/2000/01/rdf-schema#",qe={[K]:!0,[_e]:!0,[F+"float"]:!0,[Oe]:!0,[F+"string"]:!0,[se]:!0,[F+"dateTime"]:!0,[F+"nonPositiveInteger"]:!0,[F+"negativeInteger"]:!0,[F+"long"]:!0,[F+"int"]:!0,[F+"short"]:!0,[F+"byte"]:!0,[F+"nonNegativeInteger"]:!0,[F+"unsignedLong"]:!0,[F+"unsignedShort"]:!0,[F+"unsignedByte"]:!0,[F+"positiveInteger"]:!0,[ke+"langString"]:!0};function H(He,$e=!1){let ut=0,lt=He.length;if($e&&lt===0)return Le.factory.namedNode(ye);const dt=head=Ve();return lt===0&&W(head,Le.factory.namedNode(it),Le.factory.namedNode(ye)),He.forEach(ct=>{if(ct===void 0)throw new Error("b");W(head,Le.factory.namedNode(Ue),ct),W(head,Le.factory.namedNode(it),head=++ut<lt?Ve():Le.factory.namedNode(ye))}),dt}function Te(He){return Le.n3Parser._resolveIRI(He[0]==="<"?He.substring(1,He.length-1):He)}function De(He){const $e=He.indexOf(":"),ut=He.substr(0,$e),lt=Le.prefixes[ut];if(!lt)throw new Error("Unknown prefix: "+ut);return Te(lt+He.substr($e+1))}function me(He,$e){return $e&&$e.termType!=="NamedNode"&&($e=Le.factory.namedNode($e)),Le.factory.literal(He,$e)}function Me(He,$e){return Le.factory.literal(He,$e)}function Ve(He){return Le.factory.blankNode("g_"+ft++)}var ft=0;Le._resetBlanks=function(){ft=0};function we(He,$e){return Le.n3Parser._lexer._unescape(He.substring($e,He.length-$e))}function W(He,$e,ut){if(!He.termType||!$e.termType||$e.value.includes(",")||!ut.termType)throw new Error(`boo ${He.value} ${$e.value} ${ut.value}`);Le.onQuad(Le.factory.quad(He,$e,ut))}function G(He,$e){W(Le.currentPropertyNode,Le.factory.namedNode(ge+He),$e)}function J(He,$e,ut){const lt=Ve();return W(lt,Le.factory.namedNode(ge+$e),ut),[He,lt]}function Se(He){if(!Le.extended)throw new Error("Encountered extended SHACLC syntax; but extended parsing is disabled");return He}var Ne=function(){var He={EOF:1,parseError:function(ut,lt){if(this.yy.parser)this.yy.parser.parseError(ut,lt);else throw new Error(ut)},setInput:function($e,ut){return this.yy=ut||this.yy||{},this._input=$e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var $e=this._input[0];this.yytext+=$e,this.yyleng++,this.offset++,this.match+=$e,this.matched+=$e;var ut=$e.match(/(?:\r\n?|\n).*/g);return ut?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),$e},unput:function($e){var ut=$e.length,lt=$e.split(/(?:\r\n?|\n)/g);this._input=$e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-ut),this.offset-=ut;var dt=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),lt.length-1&&(this.yylineno-=lt.length-1);var ct=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:lt?(lt.length===dt.length?this.yylloc.first_column:0)+dt[dt.length-lt.length].length-lt[0].length:this.yylloc.first_column-ut},this.options.ranges&&(this.yylloc.range=[ct[0],ct[0]+this.yyleng-ut]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function($e){this.unput(this.match.slice($e))},pastInput:function(){var $e=this.matched.substr(0,this.matched.length-this.match.length);return($e.length>20?"...":"")+$e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var $e=this.match;return $e.length<20&&($e+=this._input.substr(0,20-$e.length)),($e.substr(0,20)+($e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var $e=this.pastInput(),ut=new Array($e.length+1).join("-");return $e+this.upcomingInput()+`
`+ut+"^"},test_match:function($e,ut){var lt,dt,ct;if(this.options.backtrack_lexer&&(ct={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(ct.yylloc.range=this.yylloc.range.slice(0))),dt=$e[0].match(/(?:\r\n?|\n).*/g),dt&&(this.yylineno+=dt.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:dt?dt[dt.length-1].length-dt[dt.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+$e[0].length},this.yytext+=$e[0],this.match+=$e[0],this.matches=$e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice($e[0].length),this.matched+=$e[0],lt=this.performAction.call(this,this.yy,this,ut,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),lt)return lt;if(this._backtrack){for(var nt in ct)this[nt]=ct[nt];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var $e,ut,lt,dt;this._more||(this.yytext="",this.match="");for(var ct=this._currentRules(),nt=0;nt<ct.length;nt++)if(lt=this._input.match(this.rules[ct[nt]]),lt&&(!ut||lt[0].length>ut[0].length)){if(ut=lt,dt=nt,this.options.backtrack_lexer){if($e=this.test_match(lt,ct[nt]),$e!==!1)return $e;if(this._backtrack){ut=!1;continue}else return!1}else if(!this.options.flex)break}return ut?($e=this.test_match(ut,ct[dt]),$e!==!1?$e:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var ut=this.next();return ut||this.lex()},begin:function(ut){this.conditionStack.push(ut)},popState:function(){var ut=this.conditionStack.length-1;return ut>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(ut){return ut=this.conditionStack.length-1-Math.abs(ut||0),ut>=0?this.conditionStack[ut]:"INITIAL"},pushState:function(ut){this.begin(ut)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0,"case-insensitive":!0},performAction:function(ut,lt,dt,ct){switch(dt){case 0:break;case 1:return 12;case 2:return 14;case 3:return 15;case 4:return 25;case 5:return 20;case 6:return 131;case 7:return 132;case 8:return 85;case 9:return 126;case 10:return 87;case 11:return"PASS";case 12:return"COMMENT";case 13:return 13;case 14:return 16;case 15:return 130;case 16:return 129;case 17:return 128;case 18:return 117;case 19:return 92;case 20:return 119;case 21:return 120;case 22:return"EXPONENT";case 23:return 133;case 24:return 134;case 25:return 135;case 26:return 136;case 27:return 61;case 28:return 90;case 29:return 58;case 30:return 56;case 31:return 38;case 32:return 40;case 33:return 44;case 34:return 46;case 35:return 110;case 36:return 93;case 37:return 111;case 38:return 67;case 39:return 118;case 40:return 53;case 41:return 96;case 42:return 102;case 43:return 75;case 44:return 95;case 45:return 109;case 46:return 28;case 47:return 42;case 48:return 48;case 49:return 115;case 50:return 7;case 51:console.log(lt.yytext);break}},rules:[/^(?:\s+|#[^\n\r]*)/i,/^(?:BASE)/i,/^(?:IMPORTS)/i,/^(?:PREFIX)/i,/^(?:shapeClass)/i,/^(?:shape)/i,/^(?:true)/i,/^(?:false)/i,/^(?:(BlankNode|IRI|Literal|BlankNodeOrIRI|BlankNodeOrLiteral|IRIOrLiteral\b))/i,/^(?:(targetNode|targetObjectsOf|targetSubjectsOf\b))/i,/^(?:(deactivated|severity|message|class|datatype|nodeKind|minExclusive|minInclusive|maxExclusive|maxInclusive|minLength|maxLength|pattern|flags|languageIn|uniqueLang|equals|disjoint|lessThan|lessThanOrEquals|qualifiedValueShape|qualifiedMinCount|qualifiedMaxCount|qualifiedValueShapesDisjoint|closed|ignoredProperties|hasValue|in))/i,/^(?:([ \t\r\n]+))/i,/^(?:(#[\r\n]*))/i,/^(?:(<([^=<>\"\{\}\|\^`\\\u0000-\u0020]|(\\u([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])|\\U([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])))*>))/i,/^(?:((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:))/i,/^(?:(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:)(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|:|[0-9]|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))*(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%)))))?)))/i,/^(?:(@(([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:))/i,/^(?:(@((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:)(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|:|[0-9]|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))*(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%)))))?)))/i,/^(?:(@[a-zA-Z]+(-[a-zA-Z0-9]+)*))/i,/^(?:([+-]?[0-9]+))/i,/^(?:([+-]?[0-9]*\.[0-9]+))/i,/^(?:([+-]?([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.?[0-9]+([eE][+-]?[0-9]+))))/i,/^(?:([eE][+-]?[0-9]+))/i,/^(?:('(?:(?:[^\u0027\u005C\u000A\u000D])|(\\[tbnrf\\\"\']))*'))/i,/^(?:("(?:(?:[^\u0022\u005C\u000A\u000D])|(\\[tbnrf\\\"\']))*"))/i,/^(?:('''(?:(?:'|'')?(?:[^'\\]|(\\[tbnrf\\\"\'])))*'''))/i,/^(?:("""(?:(?:"|"")?(?:[^\"\\]|(\\[tbnrf\\\"\'])))*"""))/i,/^(?:->)/i,/^(?:\.\.)/i,/^(?:\})/i,/^(?:\{)/i,/^(?:\()/i,/^(?:\))/i,/^(?:\[)/i,/^(?:\])/i,/^(?:\?)/i,/^(?:\*)/i,/^(?:\+)/i,/^(?:\|)/i,/^(?:\^\^)/i,/^(?:\.)/i,/^(?:!)/i,/^(?:\/)/i,/^(?:=)/i,/^(?:@)/i,/^(?:\^)/i,/^(?:;)/i,/^(?:,)/i,/^(?:%)/i,/^(?:a)/i,/^(?:$)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],inclusive:!0}}};return He}();Pe.lexer=Ne;function Le(){this.yy={}}return Le.prototype=Pe,Pe.Parser=Le,new Le}();return dw=e,dw}var MD;function cee(){if(MD)return Im;MD=1;const e=fee().Parser,t=i8;class r{constructor(){}parse(a,{extendedSyntax:i,baseIRI:o}={}){this._parser=new e,this._parser.Parser.factory=t.DataFactory,this._parser.Parser.base=t.DataFactory.namedNode(o||"urn:x-base:default"),this._parser.Parser.extended=i===!0,this._parser.Parser.prefixes={rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",sh:"http://www.w3.org/ns/shacl#",xsd:"http://www.w3.org/2001/XMLSchema#"},this._parser.Parser.currentNodeShape=void 0,this._parser.Parser.currentPropertyNode=void 0,this._parser.Parser.nodeShapeStack=[],this._parser.Parser.tempCurrentNodeShape=void 0,this._parser.Parser.n3Parser=new t.Parser({baseIRI:o||"urn:x-base:default"});const s=[];return this._parser.Parser.onQuad=u=>{s.push(u)},this._parser.parse(a),s.prefixes=this._parser.Parser.prefixes,s}}return Im.Parser=r,Im.parse=function(a,i){return new r().parse(a,i)},Im}var Lc={},kD;function dee(){if(kD)return Lc;kD=1,Object.defineProperty(Lc,"__esModule",{value:!0}),Lc.PrefixWrappingIterator=void 0;const e=hj();let t=class extends e.WrappingIterator{constructor(n){super(n==null?void 0:n.then(a=>(this.prefixes=a.prefixes,a)))}read(){if(this.prefixes){for(const n of Object.entries(this.prefixes))this.emit("prefix",...n);delete this.prefixes}return super.read()}};return Lc.PrefixWrappingIterator=t,Lc}var FD;function hee(){if(FD)return Cc;FD=1,Object.defineProperty(Cc,"__esModule",{value:!0}),Cc.ActorRdfParseShaclc=void 0;const e=Tl(),t=J0(),r=Xi(),n=cee(),a=dee();let i=class extends e.ActorRdfParseFixedMediaTypes{constructor(s){super(s)}async runHandle(s,u,l){const f=new a.PrefixWrappingIterator((0,t.stringify)(s.data).then(c=>{var p;return(0,n.parse)(c,{extendedSyntax:u==="text/shaclc-ext",baseIRI:(p=s.metadata)==null?void 0:p.baseIRI})})),d=new r.Readable({objectMode:!0});return f.on("prefix",(...c)=>d.emit("prefix",...c)),{data:d.wrap(f),metadata:{triples:!0}}}};return Cc.ActorRdfParseShaclc=i,Cc}var jD;function pee(){return jD||(jD=1,function(e){var t=Pc.__createBinding||(Object.create?function(n,a,i,o){o===void 0&&(o=i);var s=Object.getOwnPropertyDescriptor(a,i);(!s||("get"in s?!a.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,o,s)}:function(n,a,i,o){o===void 0&&(o=i),n[o]=a[i]}),r=Pc.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(hee(),e)}(Pc)),Pc}var Dc={},Nc={},BD;function mee(){if(BD)return Nc;BD=1,Object.defineProperty(Nc,"__esModule",{value:!0}),Nc.MediatorCombineUnion=void 0;const e=hr();let t=class extends e.Mediator{constructor(n){super(n),this.combiner=this.createCombiner()}async mediate(n){let a;try{a=this.publish(n)}catch{a=[]}if(this.filterFailures){const s=[];for(const u of a)(await u.reply).isPassed()&&s.push(u);a=s}const i=[];await Promise.all(a.map(async({reply:s},u)=>{const l=await s,f=l.getOrThrow();return i[u]=l.getSideData(),f}));const o=await Promise.all(a.map((s,u)=>s.actor.runObservable(n,i[u])));return this.combiner(o)}mediateWith(){throw new Error("Method not supported.")}createCombiner(){return n=>{const a={};return a[this.field]={},[{}].concat(n.map(i=>i[this.field])).forEach(i=>{a[this.field]={...i,...a[this.field]}}),a}}};return Nc.MediatorCombineUnion=t,Nc}var qD;function yee(){return qD||(qD=1,function(e){var t=Dc.__createBinding||(Object.create?function(n,a,i,o){o===void 0&&(o=i);var s=Object.getOwnPropertyDescriptor(a,i);(!s||("get"in s?!a.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,o,s)}:function(n,a,i,o){o===void 0&&(o=i),n[o]=a[i]}),r=Dc.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(mee(),e)}(Dc)),Dc}var Mc={},kc={},xs={},yo={},bu={},$D;function d8(){if($D)return bu;$D=1,Object.defineProperty(bu,"__esModule",{value:!0}),bu.QuoteType=void 0;var e=qo(),t;(function(l){l[l.Tab=9]="Tab",l[l.NewLine=10]="NewLine",l[l.FormFeed=12]="FormFeed",l[l.CarriageReturn=13]="CarriageReturn",l[l.Space=32]="Space",l[l.ExclamationMark=33]="ExclamationMark",l[l.Number=35]="Number",l[l.Amp=38]="Amp",l[l.SingleQuote=39]="SingleQuote",l[l.DoubleQuote=34]="DoubleQuote",l[l.Dash=45]="Dash",l[l.Slash=47]="Slash",l[l.Zero=48]="Zero",l[l.Nine=57]="Nine",l[l.Semi=59]="Semi",l[l.Lt=60]="Lt",l[l.Eq=61]="Eq",l[l.Gt=62]="Gt",l[l.Questionmark=63]="Questionmark",l[l.UpperA=65]="UpperA",l[l.LowerA=97]="LowerA",l[l.UpperF=70]="UpperF",l[l.LowerF=102]="LowerF",l[l.UpperZ=90]="UpperZ",l[l.LowerZ=122]="LowerZ",l[l.LowerX=120]="LowerX",l[l.OpeningSquareBracket=91]="OpeningSquareBracket"})(t||(t={}));var r;(function(l){l[l.Text=1]="Text",l[l.BeforeTagName=2]="BeforeTagName",l[l.InTagName=3]="InTagName",l[l.InSelfClosingTag=4]="InSelfClosingTag",l[l.BeforeClosingTagName=5]="BeforeClosingTagName",l[l.InClosingTagName=6]="InClosingTagName",l[l.AfterClosingTagName=7]="AfterClosingTagName",l[l.BeforeAttributeName=8]="BeforeAttributeName",l[l.InAttributeName=9]="InAttributeName",l[l.AfterAttributeName=10]="AfterAttributeName",l[l.BeforeAttributeValue=11]="BeforeAttributeValue",l[l.InAttributeValueDq=12]="InAttributeValueDq",l[l.InAttributeValueSq=13]="InAttributeValueSq",l[l.InAttributeValueNq=14]="InAttributeValueNq",l[l.BeforeDeclaration=15]="BeforeDeclaration",l[l.InDeclaration=16]="InDeclaration",l[l.InProcessingInstruction=17]="InProcessingInstruction",l[l.BeforeComment=18]="BeforeComment",l[l.CDATASequence=19]="CDATASequence",l[l.InSpecialComment=20]="InSpecialComment",l[l.InCommentLike=21]="InCommentLike",l[l.BeforeSpecialS=22]="BeforeSpecialS",l[l.BeforeSpecialT=23]="BeforeSpecialT",l[l.SpecialStartSequence=24]="SpecialStartSequence",l[l.InSpecialTag=25]="InSpecialTag",l[l.InEntity=26]="InEntity"})(r||(r={}));function n(l){return l===t.Space||l===t.NewLine||l===t.Tab||l===t.FormFeed||l===t.CarriageReturn}function a(l){return l===t.Slash||l===t.Gt||n(l)}function i(l){return l>=t.LowerA&&l<=t.LowerZ||l>=t.UpperA&&l<=t.UpperZ}var o;(function(l){l[l.NoValue=0]="NoValue",l[l.Unquoted=1]="Unquoted",l[l.Single=2]="Single",l[l.Double=3]="Double"})(o||(bu.QuoteType=o={}));var s={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])},u=function(){function l(f,d){var c=f.xmlMode,p=c===void 0?!1:c,_=f.decodeEntities,v=_===void 0?!0:_,b=this;this.cbs=d,this.state=r.Text,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=r.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.xmlMode=p,this.decodeEntities=v,this.entityDecoder=new e.EntityDecoder(p?e.xmlDecodeTree:e.htmlDecodeTree,function(m,y){return b.emitCodePoint(m,y)})}return l.prototype.reset=function(){this.state=r.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=r.Text,this.currentSequence=void 0,this.running=!0,this.offset=0},l.prototype.write=function(f){this.offset+=this.buffer.length,this.buffer=f,this.parse()},l.prototype.end=function(){this.running&&this.finish()},l.prototype.pause=function(){this.running=!1},l.prototype.resume=function(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()},l.prototype.stateText=function(f){f===t.Lt||!this.decodeEntities&&this.fastForwardTo(t.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=r.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&f===t.Amp&&this.startEntity()},l.prototype.stateSpecialStartSequence=function(f){var d=this.sequenceIndex===this.currentSequence.length,c=d?a(f):(f|32)===this.currentSequence[this.sequenceIndex];if(!c)this.isSpecial=!1;else if(!d){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=r.InTagName,this.stateInTagName(f)},l.prototype.stateInSpecialTag=function(f){if(this.sequenceIndex===this.currentSequence.length){if(f===t.Gt||n(f)){var d=this.index-this.currentSequence.length;if(this.sectionStart<d){var c=this.index;this.index=d,this.cbs.ontext(this.sectionStart,d),this.index=c}this.isSpecial=!1,this.sectionStart=d+2,this.stateInClosingTagName(f);return}this.sequenceIndex=0}(f|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===s.TitleEnd?this.decodeEntities&&f===t.Amp&&this.startEntity():this.fastForwardTo(t.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(f===t.Lt)},l.prototype.stateCDATASequence=function(f){f===s.Cdata[this.sequenceIndex]?++this.sequenceIndex===s.Cdata.length&&(this.state=r.InCommentLike,this.currentSequence=s.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=r.InDeclaration,this.stateInDeclaration(f))},l.prototype.fastForwardTo=function(f){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===f)return!0;return this.index=this.buffer.length+this.offset-1,!1},l.prototype.stateInCommentLike=function(f){f===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===s.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=r.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):f!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)},l.prototype.isTagStartChar=function(f){return this.xmlMode?!a(f):i(f)},l.prototype.startSpecial=function(f,d){this.isSpecial=!0,this.currentSequence=f,this.sequenceIndex=d,this.state=r.SpecialStartSequence},l.prototype.stateBeforeTagName=function(f){if(f===t.ExclamationMark)this.state=r.BeforeDeclaration,this.sectionStart=this.index+1;else if(f===t.Questionmark)this.state=r.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(f)){var d=f|32;this.sectionStart=this.index,this.xmlMode?this.state=r.InTagName:d===s.ScriptEnd[2]?this.state=r.BeforeSpecialS:d===s.TitleEnd[2]?this.state=r.BeforeSpecialT:this.state=r.InTagName}else f===t.Slash?this.state=r.BeforeClosingTagName:(this.state=r.Text,this.stateText(f))},l.prototype.stateInTagName=function(f){a(f)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(f))},l.prototype.stateBeforeClosingTagName=function(f){n(f)||(f===t.Gt?this.state=r.Text:(this.state=this.isTagStartChar(f)?r.InClosingTagName:r.InSpecialComment,this.sectionStart=this.index))},l.prototype.stateInClosingTagName=function(f){(f===t.Gt||n(f))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=r.AfterClosingTagName,this.stateAfterClosingTagName(f))},l.prototype.stateAfterClosingTagName=function(f){(f===t.Gt||this.fastForwardTo(t.Gt))&&(this.state=r.Text,this.sectionStart=this.index+1)},l.prototype.stateBeforeAttributeName=function(f){f===t.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=r.InSpecialTag,this.sequenceIndex=0):this.state=r.Text,this.sectionStart=this.index+1):f===t.Slash?this.state=r.InSelfClosingTag:n(f)||(this.state=r.InAttributeName,this.sectionStart=this.index)},l.prototype.stateInSelfClosingTag=function(f){f===t.Gt?(this.cbs.onselfclosingtag(this.index),this.state=r.Text,this.sectionStart=this.index+1,this.isSpecial=!1):n(f)||(this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(f))},l.prototype.stateInAttributeName=function(f){(f===t.Eq||a(f))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=this.index,this.state=r.AfterAttributeName,this.stateAfterAttributeName(f))},l.prototype.stateAfterAttributeName=function(f){f===t.Eq?this.state=r.BeforeAttributeValue:f===t.Slash||f===t.Gt?(this.cbs.onattribend(o.NoValue,this.sectionStart),this.sectionStart=-1,this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(f)):n(f)||(this.cbs.onattribend(o.NoValue,this.sectionStart),this.state=r.InAttributeName,this.sectionStart=this.index)},l.prototype.stateBeforeAttributeValue=function(f){f===t.DoubleQuote?(this.state=r.InAttributeValueDq,this.sectionStart=this.index+1):f===t.SingleQuote?(this.state=r.InAttributeValueSq,this.sectionStart=this.index+1):n(f)||(this.sectionStart=this.index,this.state=r.InAttributeValueNq,this.stateInAttributeValueNoQuotes(f))},l.prototype.handleInAttributeValue=function(f,d){f===d||!this.decodeEntities&&this.fastForwardTo(d)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(d===t.DoubleQuote?o.Double:o.Single,this.index+1),this.state=r.BeforeAttributeName):this.decodeEntities&&f===t.Amp&&this.startEntity()},l.prototype.stateInAttributeValueDoubleQuotes=function(f){this.handleInAttributeValue(f,t.DoubleQuote)},l.prototype.stateInAttributeValueSingleQuotes=function(f){this.handleInAttributeValue(f,t.SingleQuote)},l.prototype.stateInAttributeValueNoQuotes=function(f){n(f)||f===t.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(o.Unquoted,this.index),this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(f)):this.decodeEntities&&f===t.Amp&&this.startEntity()},l.prototype.stateBeforeDeclaration=function(f){f===t.OpeningSquareBracket?(this.state=r.CDATASequence,this.sequenceIndex=0):this.state=f===t.Dash?r.BeforeComment:r.InDeclaration},l.prototype.stateInDeclaration=function(f){(f===t.Gt||this.fastForwardTo(t.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=r.Text,this.sectionStart=this.index+1)},l.prototype.stateInProcessingInstruction=function(f){(f===t.Gt||this.fastForwardTo(t.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=r.Text,this.sectionStart=this.index+1)},l.prototype.stateBeforeComment=function(f){f===t.Dash?(this.state=r.InCommentLike,this.currentSequence=s.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=r.InDeclaration},l.prototype.stateInSpecialComment=function(f){(f===t.Gt||this.fastForwardTo(t.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=r.Text,this.sectionStart=this.index+1)},l.prototype.stateBeforeSpecialS=function(f){var d=f|32;d===s.ScriptEnd[3]?this.startSpecial(s.ScriptEnd,4):d===s.StyleEnd[3]?this.startSpecial(s.StyleEnd,4):(this.state=r.InTagName,this.stateInTagName(f))},l.prototype.stateBeforeSpecialT=function(f){var d=f|32;d===s.TitleEnd[3]?this.startSpecial(s.TitleEnd,4):d===s.TextareaEnd[3]?this.startSpecial(s.TextareaEnd,4):(this.state=r.InTagName,this.stateInTagName(f))},l.prototype.startEntity=function(){this.baseState=this.state,this.state=r.InEntity,this.entityStart=this.index,this.entityDecoder.startEntity(this.xmlMode?e.DecodingMode.Strict:this.baseState===r.Text||this.baseState===r.InSpecialTag?e.DecodingMode.Legacy:e.DecodingMode.Attribute)},l.prototype.stateInEntity=function(){var f=this.entityDecoder.write(this.buffer,this.index-this.offset);f>=0?(this.state=this.baseState,f===0&&(this.index=this.entityStart)):this.index=this.offset+this.buffer.length-1},l.prototype.cleanup=function(){this.running&&this.sectionStart!==this.index&&(this.state===r.Text||this.state===r.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===r.InAttributeValueDq||this.state===r.InAttributeValueSq||this.state===r.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))},l.prototype.shouldContinue=function(){return this.index<this.buffer.length+this.offset&&this.running},l.prototype.parse=function(){for(;this.shouldContinue();){var f=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case r.Text:{this.stateText(f);break}case r.SpecialStartSequence:{this.stateSpecialStartSequence(f);break}case r.InSpecialTag:{this.stateInSpecialTag(f);break}case r.CDATASequence:{this.stateCDATASequence(f);break}case r.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(f);break}case r.InAttributeName:{this.stateInAttributeName(f);break}case r.InCommentLike:{this.stateInCommentLike(f);break}case r.InSpecialComment:{this.stateInSpecialComment(f);break}case r.BeforeAttributeName:{this.stateBeforeAttributeName(f);break}case r.InTagName:{this.stateInTagName(f);break}case r.InClosingTagName:{this.stateInClosingTagName(f);break}case r.BeforeTagName:{this.stateBeforeTagName(f);break}case r.AfterAttributeName:{this.stateAfterAttributeName(f);break}case r.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(f);break}case r.BeforeAttributeValue:{this.stateBeforeAttributeValue(f);break}case r.BeforeClosingTagName:{this.stateBeforeClosingTagName(f);break}case r.AfterClosingTagName:{this.stateAfterClosingTagName(f);break}case r.BeforeSpecialS:{this.stateBeforeSpecialS(f);break}case r.BeforeSpecialT:{this.stateBeforeSpecialT(f);break}case r.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(f);break}case r.InSelfClosingTag:{this.stateInSelfClosingTag(f);break}case r.InDeclaration:{this.stateInDeclaration(f);break}case r.BeforeDeclaration:{this.stateBeforeDeclaration(f);break}case r.BeforeComment:{this.stateBeforeComment(f);break}case r.InProcessingInstruction:{this.stateInProcessingInstruction(f);break}case r.InEntity:{this.stateInEntity();break}}this.index++}this.cleanup()},l.prototype.finish=function(){this.state===r.InEntity&&(this.entityDecoder.end(),this.state=this.baseState),this.handleTrailingData(),this.cbs.onend()},l.prototype.handleTrailingData=function(){var f=this.buffer.length+this.offset;this.sectionStart>=f||(this.state===r.InCommentLike?this.currentSequence===s.CdataEnd?this.cbs.oncdata(this.sectionStart,f,0):this.cbs.oncomment(this.sectionStart,f,0):this.state===r.InTagName||this.state===r.BeforeAttributeName||this.state===r.BeforeAttributeValue||this.state===r.AfterAttributeName||this.state===r.InAttributeName||this.state===r.InAttributeValueSq||this.state===r.InAttributeValueDq||this.state===r.InAttributeValueNq||this.state===r.InClosingTagName||this.cbs.ontext(this.sectionStart,f))},l.prototype.emitCodePoint=function(f,d){this.baseState!==r.Text&&this.baseState!==r.InSpecialTag?(this.sectionStart<this.entityStart&&this.cbs.onattribdata(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+d,this.index=this.sectionStart-1,this.cbs.onattribentity(f)):(this.sectionStart<this.entityStart&&this.cbs.ontext(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+d,this.index=this.sectionStart-1,this.cbs.ontextentity(f,this.sectionStart))},l}();return bu.default=u,bu}var UD;function HD(){if(UD)return yo;UD=1;var e=yo.__createBinding||(Object.create?function(b,m,y,g){g===void 0&&(g=y);var S=Object.getOwnPropertyDescriptor(m,y);(!S||("get"in S?!m.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return m[y]}}),Object.defineProperty(b,g,S)}:function(b,m,y,g){g===void 0&&(g=y),b[g]=m[y]}),t=yo.__setModuleDefault||(Object.create?function(b,m){Object.defineProperty(b,"default",{enumerable:!0,value:m})}:function(b,m){b.default=m}),r=yo.__importStar||function(b){if(b&&b.__esModule)return b;var m={};if(b!=null)for(var y in b)y!=="default"&&Object.prototype.hasOwnProperty.call(b,y)&&e(m,b,y);return t(m,b),m};Object.defineProperty(yo,"__esModule",{value:!0}),yo.Parser=void 0;var n=r(d8()),a=qo(),i=new Set(["input","option","optgroup","select","button","datalist","textarea"]),o=new Set(["p"]),s=new Set(["thead","tbody"]),u=new Set(["dd","dt"]),l=new Set(["rt","rp"]),f=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",o],["h1",o],["h2",o],["h3",o],["h4",o],["h5",o],["h6",o],["select",i],["input",i],["output",i],["button",i],["datalist",i],["textarea",i],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",u],["dt",u],["address",o],["article",o],["aside",o],["blockquote",o],["details",o],["div",o],["dl",o],["fieldset",o],["figcaption",o],["figure",o],["footer",o],["form",o],["header",o],["hr",o],["main",o],["nav",o],["ol",o],["pre",o],["section",o],["table",o],["ul",o],["rt",l],["rp",l],["tbody",s],["tfoot",s]]),d=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),c=new Set(["math","svg"]),p=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),_=/\s|\//,v=function(){function b(m,y){y===void 0&&(y={});var g,S,T,I,C,B;this.options=y,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=m??{},this.htmlMode=!this.options.xmlMode,this.lowerCaseTagNames=(g=y.lowerCaseTags)!==null&&g!==void 0?g:this.htmlMode,this.lowerCaseAttributeNames=(S=y.lowerCaseAttributeNames)!==null&&S!==void 0?S:this.htmlMode,this.recognizeSelfClosing=(T=y.recognizeSelfClosing)!==null&&T!==void 0?T:!this.htmlMode,this.tokenizer=new((I=y.Tokenizer)!==null&&I!==void 0?I:n.default)(this.options,this),this.foreignContext=[!this.htmlMode],(B=(C=this.cbs).onparserinit)===null||B===void 0||B.call(C,this)}return b.prototype.ontext=function(m,y){var g,S,T=this.getSlice(m,y);this.endIndex=y-1,(S=(g=this.cbs).ontext)===null||S===void 0||S.call(g,T),this.startIndex=y},b.prototype.ontextentity=function(m,y){var g,S;this.endIndex=y-1,(S=(g=this.cbs).ontext)===null||S===void 0||S.call(g,(0,a.fromCodePoint)(m)),this.startIndex=y},b.prototype.isVoidElement=function(m){return this.htmlMode&&d.has(m)},b.prototype.onopentagname=function(m,y){this.endIndex=y;var g=this.getSlice(m,y);this.lowerCaseTagNames&&(g=g.toLowerCase()),this.emitOpenTag(g)},b.prototype.emitOpenTag=function(m){var y,g,S,T;this.openTagStart=this.startIndex,this.tagname=m;var I=this.htmlMode&&f.get(m);if(I)for(;this.stack.length>0&&I.has(this.stack[0]);){var C=this.stack.shift();(g=(y=this.cbs).onclosetag)===null||g===void 0||g.call(y,C,!0)}this.isVoidElement(m)||(this.stack.unshift(m),this.htmlMode&&(c.has(m)?this.foreignContext.unshift(!0):p.has(m)&&this.foreignContext.unshift(!1))),(T=(S=this.cbs).onopentagname)===null||T===void 0||T.call(S,m),this.cbs.onopentag&&(this.attribs={})},b.prototype.endOpenTag=function(m){var y,g;this.startIndex=this.openTagStart,this.attribs&&((g=(y=this.cbs).onopentag)===null||g===void 0||g.call(y,this.tagname,this.attribs,m),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""},b.prototype.onopentagend=function(m){this.endIndex=m,this.endOpenTag(!1),this.startIndex=m+1},b.prototype.onclosetag=function(m,y){var g,S,T,I,C,B,D,M;this.endIndex=y;var j=this.getSlice(m,y);if(this.lowerCaseTagNames&&(j=j.toLowerCase()),this.htmlMode&&(c.has(j)||p.has(j))&&this.foreignContext.shift(),this.isVoidElement(j))this.htmlMode&&j==="br"&&((I=(T=this.cbs).onopentagname)===null||I===void 0||I.call(T,"br"),(B=(C=this.cbs).onopentag)===null||B===void 0||B.call(C,"br",{},!0),(M=(D=this.cbs).onclosetag)===null||M===void 0||M.call(D,"br",!1));else{var O=this.stack.indexOf(j);if(O!==-1)for(var q=0;q<=O;q++){var Q=this.stack.shift();(S=(g=this.cbs).onclosetag)===null||S===void 0||S.call(g,Q,q!==O)}else this.htmlMode&&j==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=y+1},b.prototype.onselfclosingtag=function(m){this.endIndex=m,this.recognizeSelfClosing||this.foreignContext[0]?(this.closeCurrentTag(!1),this.startIndex=m+1):this.onopentagend(m)},b.prototype.closeCurrentTag=function(m){var y,g,S=this.tagname;this.endOpenTag(m),this.stack[0]===S&&((g=(y=this.cbs).onclosetag)===null||g===void 0||g.call(y,S,!m),this.stack.shift())},b.prototype.onattribname=function(m,y){this.startIndex=m;var g=this.getSlice(m,y);this.attribname=this.lowerCaseAttributeNames?g.toLowerCase():g},b.prototype.onattribdata=function(m,y){this.attribvalue+=this.getSlice(m,y)},b.prototype.onattribentity=function(m){this.attribvalue+=(0,a.fromCodePoint)(m)},b.prototype.onattribend=function(m,y){var g,S;this.endIndex=y,(S=(g=this.cbs).onattribute)===null||S===void 0||S.call(g,this.attribname,this.attribvalue,m===n.QuoteType.Double?'"':m===n.QuoteType.Single?"'":m===n.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""},b.prototype.getInstructionName=function(m){var y=m.search(_),g=y<0?m:m.substr(0,y);return this.lowerCaseTagNames&&(g=g.toLowerCase()),g},b.prototype.ondeclaration=function(m,y){this.endIndex=y;var g=this.getSlice(m,y);if(this.cbs.onprocessinginstruction){var S=this.getInstructionName(g);this.cbs.onprocessinginstruction("!".concat(S),"!".concat(g))}this.startIndex=y+1},b.prototype.onprocessinginstruction=function(m,y){this.endIndex=y;var g=this.getSlice(m,y);if(this.cbs.onprocessinginstruction){var S=this.getInstructionName(g);this.cbs.onprocessinginstruction("?".concat(S),"?".concat(g))}this.startIndex=y+1},b.prototype.oncomment=function(m,y,g){var S,T,I,C;this.endIndex=y,(T=(S=this.cbs).oncomment)===null||T===void 0||T.call(S,this.getSlice(m,y-g)),(C=(I=this.cbs).oncommentend)===null||C===void 0||C.call(I),this.startIndex=y+1},b.prototype.oncdata=function(m,y,g){var S,T,I,C,B,D,M,j,O,q;this.endIndex=y;var Q=this.getSlice(m,y-g);!this.htmlMode||this.options.recognizeCDATA?((T=(S=this.cbs).oncdatastart)===null||T===void 0||T.call(S),(C=(I=this.cbs).ontext)===null||C===void 0||C.call(I,Q),(D=(B=this.cbs).oncdataend)===null||D===void 0||D.call(B)):((j=(M=this.cbs).oncomment)===null||j===void 0||j.call(M,"[CDATA[".concat(Q,"]]")),(q=(O=this.cbs).oncommentend)===null||q===void 0||q.call(O)),this.startIndex=y+1},b.prototype.onend=function(){var m,y;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(var g=0;g<this.stack.length;g++)this.cbs.onclosetag(this.stack[g],!0)}(y=(m=this.cbs).onend)===null||y===void 0||y.call(m)},b.prototype.reset=function(){var m,y,g,S;(y=(m=this.cbs).onreset)===null||y===void 0||y.call(m),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(S=(g=this.cbs).onparserinit)===null||S===void 0||S.call(g,this),this.buffers.length=0,this.foreignContext.length=0,this.foreignContext.unshift(!this.htmlMode),this.bufferOffset=0,this.writeIndex=0,this.ended=!1},b.prototype.parseComplete=function(m){this.reset(),this.end(m)},b.prototype.getSlice=function(m,y){for(;m-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();for(var g=this.buffers[0].slice(m-this.bufferOffset,y-this.bufferOffset);y-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),g+=this.buffers[0].slice(0,y-this.bufferOffset);return g},b.prototype.shiftBuffer=function(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()},b.prototype.write=function(m){var y,g;if(this.ended){(g=(y=this.cbs).onerror)===null||g===void 0||g.call(y,new Error(".write() after done!"));return}this.buffers.push(m),this.tokenizer.running&&(this.tokenizer.write(m),this.writeIndex++)},b.prototype.end=function(m){var y,g;if(this.ended){(g=(y=this.cbs).onerror)===null||g===void 0||g.call(y,new Error(".end() after done!"));return}m&&this.write(m),this.ended=!0,this.tokenizer.end()},b.prototype.pause=function(){this.tokenizer.pause()},b.prototype.resume=function(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()},b.prototype.parseChunk=function(m){this.write(m)},b.prototype.done=function(m){this.end(m)},b}();return yo.Parser=v,yo}var VD;function gee(){return VD||(VD=1,function(e){var t=xs.__createBinding||(Object.create?function(y,g,S,T){T===void 0&&(T=S);var I=Object.getOwnPropertyDescriptor(g,S);(!I||("get"in I?!g.__esModule:I.writable||I.configurable))&&(I={enumerable:!0,get:function(){return g[S]}}),Object.defineProperty(y,T,I)}:function(y,g,S,T){T===void 0&&(T=S),y[T]=g[S]}),r=xs.__setModuleDefault||(Object.create?function(y,g){Object.defineProperty(y,"default",{enumerable:!0,value:g})}:function(y,g){y.default=g}),n=xs.__importStar||function(y){if(y&&y.__esModule)return y;var g={};if(y!=null)for(var S in y)S!=="default"&&Object.prototype.hasOwnProperty.call(y,S)&&t(g,y,S);return r(g,y),g},a=xs.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(e,"__esModule",{value:!0}),e.DomUtils=e.parseFeed=e.getFeed=e.ElementType=e.QuoteType=e.Tokenizer=e.createDomStream=e.createDocumentStream=e.parseDOM=e.parseDocument=e.DefaultHandler=e.DomHandler=e.Parser=void 0;var i=HD(),o=HD();Object.defineProperty(e,"Parser",{enumerable:!0,get:function(){return o.Parser}});var s=Oi(),u=Oi();Object.defineProperty(e,"DomHandler",{enumerable:!0,get:function(){return u.DomHandler}}),Object.defineProperty(e,"DefaultHandler",{enumerable:!0,get:function(){return u.DomHandler}});function l(y,g){var S=new s.DomHandler(void 0,g);return new i.Parser(S,g).end(y),S.root}e.parseDocument=l;function f(y,g){return l(y,g).children}e.parseDOM=f;function d(y,g,S){var T=new s.DomHandler(function(I){return y(I,T.root)},g,S);return new i.Parser(T,g)}e.createDocumentStream=d;function c(y,g,S){var T=new s.DomHandler(y,g,S);return new i.Parser(T,g)}e.createDomStream=c;var p=d8();Object.defineProperty(e,"Tokenizer",{enumerable:!0,get:function(){return a(p).default}}),Object.defineProperty(e,"QuoteType",{enumerable:!0,get:function(){return p.QuoteType}}),e.ElementType=n(nu());var _=Ka(),v=Ka();Object.defineProperty(e,"getFeed",{enumerable:!0,get:function(){return v.getFeed}});var b={xmlMode:!0};function m(y,g){return g===void 0&&(g=b),(0,_.getFeed)(f(y,g))}e.parseFeed=m,e.DomUtils=n(Ka())}(xs)),xs}var zD;function _ee(){if(zD)return kc;zD=1,Object.defineProperty(kc,"__esModule",{value:!0}),kc.ActorRdfParseHtml=void 0;const e=Tl(),t=gee(),r=Xi();class n extends e.ActorRdfParseFixedMediaTypes{constructor(i){super(i)}async runHandle(i,o,s){var _;const u=new r.Readable({objectMode:!0});u._read=()=>{};let l=0,f=1;function d(v){u.emit("error",v)}function c(){--f===0&&u.push(null)}const p={baseIRI:((_=i.metadata)==null?void 0:_.baseIRI)??"",context:s,emit:v=>{l--,u.push(v)},end:c,error:d,headers:i.headers};try{const v=await Promise.all(this.busRdfParseHtml.publish(p));f+=v.length;const b=[];for(const g of v){const{htmlParseListener:S}=await g.actor.run(p,void 0);b.push(S)}const m=new t.Parser({onclosetag(){try{for(const g of b)g.onTagClose()}catch(g){d(g)}},onend(){try{for(const g of b)g.onEnd()}catch(g){d(g)}c()},onopentag(g,S){try{for(const T of b)T.onTagOpen(g,S)}catch(T){d(T)}},ontext(g){try{for(const S of b)S.onText(g)}catch(S){d(S)}}},{decodeEntities:!0,recognizeSelfClosing:!0,xmlMode:!1}),y=u._read=g=>{for(l=Math.max(g,l);l>0;){const S=i.data.read();if(S===null){i.data.once("readable",()=>y(0));return}m.write(S.toString())}};i.data.on("error",d).on("end",()=>m.end())}catch(v){setTimeout(()=>{u.emit("error",v)})}return{data:u}}}return kc.ActorRdfParseHtml=n,kc}var GD;function bee(){return GD||(GD=1,function(e){var t=Mc.__createBinding||(Object.create?function(n,a,i,o){o===void 0&&(o=i);var s=Object.getOwnPropertyDescriptor(a,i);(!s||("get"in s?!a.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,o,s)}:function(n,a,i,o){o===void 0&&(o=i),n[o]=a[i]}),r=Mc.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(_ee(),e)}(Mc)),Mc}var Fc={},jc={},Bc={},qc={},WD;function vee(){if(WD)return qc;WD=1,Object.defineProperty(qc,"__esModule",{value:!0}),qc.ActorRdfParseHtml=void 0;const e=hr();let t=class extends e.Actor{constructor(n){super(n)}};return qc.ActorRdfParseHtml=t,qc}var KD;function $x(){return KD||(KD=1,function(e){var t=Bc.__createBinding||(Object.create?function(n,a,i,o){o===void 0&&(o=i);var s=Object.getOwnPropertyDescriptor(a,i);(!s||("get"in s?!a.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,o,s)}:function(n,a,i,o){o===void 0&&(o=i),n[o]=a[i]}),r=Bc.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(vee(),e)}(Bc)),Bc}var $c={},hw={},ZD;function wee(){return ZD||(ZD=1,Object.defineProperty(hw,"__esModule",{value:!0})),hw}var Uc={},YD;function h8(){if(YD)return Uc;YD=1,Object.defineProperty(Uc,"__esModule",{value:!0}),Uc.ItemPropertyHandlerContent=void 0;let e=class{canHandle(r,n){return"content"in n}getObject(r,n,a){return n.createLiteral(r.content,a)}};return Uc.ItemPropertyHandlerContent=e,Uc}var Hc={},Vc={},QD;function ty(){if(QD)return Vc;QD=1,Object.defineProperty(Vc,"__esModule",{value:!0}),Vc.Util=void 0;const e=en(),t=Li();class r{constructor(a,i){this.dataFactory=a||new e.DataFactory,this.baseIRI=i||""}static isValidIri(a){return r.IRI_REGEX.test(a)}createVocabIris(a,i,o){return a.split(/\s+/u).filter(s=>!!s).map(s=>{if(!r.isValidIri(s)){if(!o)return;s=`${i.vocab||`${this.baseIRI}#`}${s}`}return this.dataFactory.namedNode(s)}).filter(s=>!!s)}getVocabularyExpansionType(a,i,o){const s=a.split(/\s+/u);if(s.includes("subPropertyOf")||s.includes("equivalentProperty"))return[this.dataFactory.namedNode(`${r.RDF}type`)];if(i.vocab&&i.vocab in o&&o[i.vocab].properties){let u=[];for(const[l,f]of Object.entries(o[i.vocab].properties))s.includes(l)&&(u=[...Object.values(f).map(d=>this.dataFactory.namedNode(d))]);return u}return[]}createSubject(a){if(!r.isValidIri(a))try{a=(0,t.resolve)(a,this.baseIRI)}catch{return}return this.dataFactory.namedNode(a)}createLiteral(a,i){return this.dataFactory.literal(a,i.language)}deriveVocab(a,i){let o;for(const s in i)if(a.startsWith(s)){o=s,o.endsWith("/")||(o+="#");break}if(!o){const s=a.indexOf("#");s>0?o=a.slice(0,s+1):o=(0,t.resolve)(".",a)}return o}}return Vc.Util=r,r.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",r.XSD="http://www.w3.org/2001/XMLSchema#",r.RDFA="http://www.w3.org/ns/rdfa#",r.IRI_REGEX=/^([A-Za-z][\d+-.A-Za-z]*|_):[^ "<>[\\\]`{|}]*$/u,Vc}var XD;function p8(){if(XD)return Hc;XD=1,Object.defineProperty(Hc,"__esModule",{value:!0}),Hc.ItemPropertyHandlerNumber=void 0;const e=ty();let t=class{constructor(n,a){this.tagName=n,this.attributeName=a}canHandle(n,a){return this.tagName===n&&this.attributeName in a}getObject(n,a,i){const o=n[this.attributeName];let s;return!Number.isNaN(Number.parseInt(o,10))&&!o.includes(".")?s=`${e.Util.XSD}integer`:Number.isNaN(Number.parseFloat(o))||(s=`${e.Util.XSD}double`),a.dataFactory.literal(o,s&&a.dataFactory.namedNode(s))}};return Hc.ItemPropertyHandlerNumber=t,Hc}var zc={},JD;function y8(){if(JD)return zc;JD=1,Object.defineProperty(zc,"__esModule",{value:!0}),zc.ItemPropertyHandlerTime=void 0;const e=ty();let t=class m8{canHandle(n,a){return n==="time"&&"datetime"in a}getObject(n,a,i){const o=n.datetime;let s;for(const u of m8.TIME_REGEXES)if(u.regex.test(o)){s=a.dataFactory.namedNode(e.Util.XSD+u.type);break}return a.dataFactory.literal(o,s)}};return zc.ItemPropertyHandlerTime=t,t.TIME_REGEXES=[{regex:/^-?P(\d+Y)?(\d+M)?(\d+D)?(T(\d+H)?(\d+M)?(\d+(\.\d)?S)?)?$/u,type:"duration"},{regex:/^\d+-\d\d-\d\dT\d\d:\d\d:\d\d((Z?)|([+-]\d\d:\d\d))$/u,type:"dateTime"},{regex:/^\d+-\d\d-\d\dZ?$/u,type:"date"},{regex:/^\d\d:\d\d:\d\d((Z?)|([+-]\d\d:\d\d))$/u,type:"time"},{regex:/^\d+-\d\d$/u,type:"gYearMonth"},{regex:/^\d+$/u,type:"gYear"}],zc}var Gc={},eN;function g8(){if(eN)return Gc;eN=1,Object.defineProperty(Gc,"__esModule",{value:!0}),Gc.ItemPropertyHandlerUrl=void 0;const e=Li();let t=class{constructor(n,a){this.tagName=n,this.attributeName=a}canHandle(n,a){return this.tagName===n&&this.attributeName in a}getObject(n,a,i){return a.dataFactory.namedNode((0,e.resolve)(n[this.attributeName],a.baseIRI))}};return Gc.ItemPropertyHandlerUrl=t,Gc}var pw={},tN;function See(){return tN||(tN=1,Object.defineProperty(pw,"__esModule",{value:!0})),pw}var mw={},rN;function Eee(){return rN||(rN=1,Object.defineProperty(mw,"__esModule",{value:!0})),mw}var yw={},nN;function xee(){return nN||(nN=1,Object.defineProperty(yw,"__esModule",{value:!0})),yw}var Wc={},Ts={},go={},gw={},iN;function _8(){return iN||(iN=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.QuoteType=void 0;var t=qo(),r;(function(c){c[c.Tab=9]="Tab",c[c.NewLine=10]="NewLine",c[c.FormFeed=12]="FormFeed",c[c.CarriageReturn=13]="CarriageReturn",c[c.Space=32]="Space",c[c.ExclamationMark=33]="ExclamationMark",c[c.Number=35]="Number",c[c.Amp=38]="Amp",c[c.SingleQuote=39]="SingleQuote",c[c.DoubleQuote=34]="DoubleQuote",c[c.Dash=45]="Dash",c[c.Slash=47]="Slash",c[c.Zero=48]="Zero",c[c.Nine=57]="Nine",c[c.Semi=59]="Semi",c[c.Lt=60]="Lt",c[c.Eq=61]="Eq",c[c.Gt=62]="Gt",c[c.Questionmark=63]="Questionmark",c[c.UpperA=65]="UpperA",c[c.LowerA=97]="LowerA",c[c.UpperF=70]="UpperF",c[c.LowerF=102]="LowerF",c[c.UpperZ=90]="UpperZ",c[c.LowerZ=122]="LowerZ",c[c.LowerX=120]="LowerX",c[c.OpeningSquareBracket=91]="OpeningSquareBracket"})(r||(r={}));var n;(function(c){c[c.Text=1]="Text",c[c.BeforeTagName=2]="BeforeTagName",c[c.InTagName=3]="InTagName",c[c.InSelfClosingTag=4]="InSelfClosingTag",c[c.BeforeClosingTagName=5]="BeforeClosingTagName",c[c.InClosingTagName=6]="InClosingTagName",c[c.AfterClosingTagName=7]="AfterClosingTagName",c[c.BeforeAttributeName=8]="BeforeAttributeName",c[c.InAttributeName=9]="InAttributeName",c[c.AfterAttributeName=10]="AfterAttributeName",c[c.BeforeAttributeValue=11]="BeforeAttributeValue",c[c.InAttributeValueDq=12]="InAttributeValueDq",c[c.InAttributeValueSq=13]="InAttributeValueSq",c[c.InAttributeValueNq=14]="InAttributeValueNq",c[c.BeforeDeclaration=15]="BeforeDeclaration",c[c.InDeclaration=16]="InDeclaration",c[c.InProcessingInstruction=17]="InProcessingInstruction",c[c.BeforeComment=18]="BeforeComment",c[c.CDATASequence=19]="CDATASequence",c[c.InSpecialComment=20]="InSpecialComment",c[c.InCommentLike=21]="InCommentLike",c[c.BeforeSpecialS=22]="BeforeSpecialS",c[c.SpecialStartSequence=23]="SpecialStartSequence",c[c.InSpecialTag=24]="InSpecialTag",c[c.BeforeEntity=25]="BeforeEntity",c[c.BeforeNumericEntity=26]="BeforeNumericEntity",c[c.InNamedEntity=27]="InNamedEntity",c[c.InNumericEntity=28]="InNumericEntity",c[c.InHexEntity=29]="InHexEntity"})(n||(n={}));function a(c){return c===r.Space||c===r.NewLine||c===r.Tab||c===r.FormFeed||c===r.CarriageReturn}function i(c){return c===r.Slash||c===r.Gt||a(c)}function o(c){return c>=r.Zero&&c<=r.Nine}function s(c){return c>=r.LowerA&&c<=r.LowerZ||c>=r.UpperA&&c<=r.UpperZ}function u(c){return c>=r.UpperA&&c<=r.UpperF||c>=r.LowerA&&c<=r.LowerF}var l;(function(c){c[c.NoValue=0]="NoValue",c[c.Unquoted=1]="Unquoted",c[c.Single=2]="Single",c[c.Double=3]="Double"})(l=e.QuoteType||(e.QuoteType={}));var f={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101])},d=function(){function c(p,_){var v=p.xmlMode,b=v===void 0?!1:v,m=p.decodeEntities,y=m===void 0?!0:m;this.cbs=_,this.state=n.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=n.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.trieIndex=0,this.trieCurrent=0,this.entityResult=0,this.entityExcess=0,this.xmlMode=b,this.decodeEntities=y,this.entityTrie=b?t.xmlDecodeTree:t.htmlDecodeTree}return c.prototype.reset=function(){this.state=n.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=n.Text,this.currentSequence=void 0,this.running=!0,this.offset=0},c.prototype.write=function(p){this.offset+=this.buffer.length,this.buffer=p,this.parse()},c.prototype.end=function(){this.running&&this.finish()},c.prototype.pause=function(){this.running=!1},c.prototype.resume=function(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()},c.prototype.getIndex=function(){return this.index},c.prototype.getSectionStart=function(){return this.sectionStart},c.prototype.stateText=function(p){p===r.Lt||!this.decodeEntities&&this.fastForwardTo(r.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=n.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&p===r.Amp&&(this.state=n.BeforeEntity)},c.prototype.stateSpecialStartSequence=function(p){var _=this.sequenceIndex===this.currentSequence.length,v=_?i(p):(p|32)===this.currentSequence[this.sequenceIndex];if(!v)this.isSpecial=!1;else if(!_){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=n.InTagName,this.stateInTagName(p)},c.prototype.stateInSpecialTag=function(p){if(this.sequenceIndex===this.currentSequence.length){if(p===r.Gt||a(p)){var _=this.index-this.currentSequence.length;if(this.sectionStart<_){var v=this.index;this.index=_,this.cbs.ontext(this.sectionStart,_),this.index=v}this.isSpecial=!1,this.sectionStart=_+2,this.stateInClosingTagName(p);return}this.sequenceIndex=0}(p|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===f.TitleEnd?this.decodeEntities&&p===r.Amp&&(this.state=n.BeforeEntity):this.fastForwardTo(r.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(p===r.Lt)},c.prototype.stateCDATASequence=function(p){p===f.Cdata[this.sequenceIndex]?++this.sequenceIndex===f.Cdata.length&&(this.state=n.InCommentLike,this.currentSequence=f.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=n.InDeclaration,this.stateInDeclaration(p))},c.prototype.fastForwardTo=function(p){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===p)return!0;return this.index=this.buffer.length+this.offset-1,!1},c.prototype.stateInCommentLike=function(p){p===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===f.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=n.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):p!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)},c.prototype.isTagStartChar=function(p){return this.xmlMode?!i(p):s(p)},c.prototype.startSpecial=function(p,_){this.isSpecial=!0,this.currentSequence=p,this.sequenceIndex=_,this.state=n.SpecialStartSequence},c.prototype.stateBeforeTagName=function(p){if(p===r.ExclamationMark)this.state=n.BeforeDeclaration,this.sectionStart=this.index+1;else if(p===r.Questionmark)this.state=n.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(p)){var _=p|32;this.sectionStart=this.index,!this.xmlMode&&_===f.TitleEnd[2]?this.startSpecial(f.TitleEnd,3):this.state=!this.xmlMode&&_===f.ScriptEnd[2]?n.BeforeSpecialS:n.InTagName}else p===r.Slash?this.state=n.BeforeClosingTagName:(this.state=n.Text,this.stateText(p))},c.prototype.stateInTagName=function(p){i(p)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(p))},c.prototype.stateBeforeClosingTagName=function(p){a(p)||(p===r.Gt?this.state=n.Text:(this.state=this.isTagStartChar(p)?n.InClosingTagName:n.InSpecialComment,this.sectionStart=this.index))},c.prototype.stateInClosingTagName=function(p){(p===r.Gt||a(p))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.AfterClosingTagName,this.stateAfterClosingTagName(p))},c.prototype.stateAfterClosingTagName=function(p){(p===r.Gt||this.fastForwardTo(r.Gt))&&(this.state=n.Text,this.baseState=n.Text,this.sectionStart=this.index+1)},c.prototype.stateBeforeAttributeName=function(p){p===r.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=n.InSpecialTag,this.sequenceIndex=0):this.state=n.Text,this.baseState=this.state,this.sectionStart=this.index+1):p===r.Slash?this.state=n.InSelfClosingTag:a(p)||(this.state=n.InAttributeName,this.sectionStart=this.index)},c.prototype.stateInSelfClosingTag=function(p){p===r.Gt?(this.cbs.onselfclosingtag(this.index),this.state=n.Text,this.baseState=n.Text,this.sectionStart=this.index+1,this.isSpecial=!1):a(p)||(this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(p))},c.prototype.stateInAttributeName=function(p){(p===r.Eq||i(p))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.AfterAttributeName,this.stateAfterAttributeName(p))},c.prototype.stateAfterAttributeName=function(p){p===r.Eq?this.state=n.BeforeAttributeValue:p===r.Slash||p===r.Gt?(this.cbs.onattribend(l.NoValue,this.index),this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(p)):a(p)||(this.cbs.onattribend(l.NoValue,this.index),this.state=n.InAttributeName,this.sectionStart=this.index)},c.prototype.stateBeforeAttributeValue=function(p){p===r.DoubleQuote?(this.state=n.InAttributeValueDq,this.sectionStart=this.index+1):p===r.SingleQuote?(this.state=n.InAttributeValueSq,this.sectionStart=this.index+1):a(p)||(this.sectionStart=this.index,this.state=n.InAttributeValueNq,this.stateInAttributeValueNoQuotes(p))},c.prototype.handleInAttributeValue=function(p,_){p===_||!this.decodeEntities&&this.fastForwardTo(_)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(_===r.DoubleQuote?l.Double:l.Single,this.index),this.state=n.BeforeAttributeName):this.decodeEntities&&p===r.Amp&&(this.baseState=this.state,this.state=n.BeforeEntity)},c.prototype.stateInAttributeValueDoubleQuotes=function(p){this.handleInAttributeValue(p,r.DoubleQuote)},c.prototype.stateInAttributeValueSingleQuotes=function(p){this.handleInAttributeValue(p,r.SingleQuote)},c.prototype.stateInAttributeValueNoQuotes=function(p){a(p)||p===r.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(l.Unquoted,this.index),this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(p)):this.decodeEntities&&p===r.Amp&&(this.baseState=this.state,this.state=n.BeforeEntity)},c.prototype.stateBeforeDeclaration=function(p){p===r.OpeningSquareBracket?(this.state=n.CDATASequence,this.sequenceIndex=0):this.state=p===r.Dash?n.BeforeComment:n.InDeclaration},c.prototype.stateInDeclaration=function(p){(p===r.Gt||this.fastForwardTo(r.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=n.Text,this.sectionStart=this.index+1)},c.prototype.stateInProcessingInstruction=function(p){(p===r.Gt||this.fastForwardTo(r.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=n.Text,this.sectionStart=this.index+1)},c.prototype.stateBeforeComment=function(p){p===r.Dash?(this.state=n.InCommentLike,this.currentSequence=f.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=n.InDeclaration},c.prototype.stateInSpecialComment=function(p){(p===r.Gt||this.fastForwardTo(r.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=n.Text,this.sectionStart=this.index+1)},c.prototype.stateBeforeSpecialS=function(p){var _=p|32;_===f.ScriptEnd[3]?this.startSpecial(f.ScriptEnd,4):_===f.StyleEnd[3]?this.startSpecial(f.StyleEnd,4):(this.state=n.InTagName,this.stateInTagName(p))},c.prototype.stateBeforeEntity=function(p){this.entityExcess=1,this.entityResult=0,p===r.Number?this.state=n.BeforeNumericEntity:p===r.Amp||(this.trieIndex=0,this.trieCurrent=this.entityTrie[0],this.state=n.InNamedEntity,this.stateInNamedEntity(p))},c.prototype.stateInNamedEntity=function(p){if(this.entityExcess+=1,this.trieIndex=(0,t.determineBranch)(this.entityTrie,this.trieCurrent,this.trieIndex+1,p),this.trieIndex<0){this.emitNamedEntity(),this.index--;return}this.trieCurrent=this.entityTrie[this.trieIndex];var _=this.trieCurrent&t.BinTrieFlags.VALUE_LENGTH;if(_){var v=(_>>14)-1;if(!this.allowLegacyEntity()&&p!==r.Semi)this.trieIndex+=v;else{var b=this.index-this.entityExcess+1;b>this.sectionStart&&this.emitPartial(this.sectionStart,b),this.entityResult=this.trieIndex,this.trieIndex+=v,this.entityExcess=0,this.sectionStart=this.index+1,v===0&&this.emitNamedEntity()}}},c.prototype.emitNamedEntity=function(){if(this.state=this.baseState,this.entityResult!==0){var p=(this.entityTrie[this.entityResult]&t.BinTrieFlags.VALUE_LENGTH)>>14;switch(p){case 1:{this.emitCodePoint(this.entityTrie[this.entityResult]&~t.BinTrieFlags.VALUE_LENGTH);break}case 2:{this.emitCodePoint(this.entityTrie[this.entityResult+1]);break}case 3:this.emitCodePoint(this.entityTrie[this.entityResult+1]),this.emitCodePoint(this.entityTrie[this.entityResult+2])}}},c.prototype.stateBeforeNumericEntity=function(p){(p|32)===r.LowerX?(this.entityExcess++,this.state=n.InHexEntity):(this.state=n.InNumericEntity,this.stateInNumericEntity(p))},c.prototype.emitNumericEntity=function(p){var _=this.index-this.entityExcess-1,v=_+2+ +(this.state===n.InHexEntity);v!==this.index&&(_>this.sectionStart&&this.emitPartial(this.sectionStart,_),this.sectionStart=this.index+Number(p),this.emitCodePoint((0,t.replaceCodePoint)(this.entityResult))),this.state=this.baseState},c.prototype.stateInNumericEntity=function(p){p===r.Semi?this.emitNumericEntity(!0):o(p)?(this.entityResult=this.entityResult*10+(p-r.Zero),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},c.prototype.stateInHexEntity=function(p){p===r.Semi?this.emitNumericEntity(!0):o(p)?(this.entityResult=this.entityResult*16+(p-r.Zero),this.entityExcess++):u(p)?(this.entityResult=this.entityResult*16+((p|32)-r.LowerA+10),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},c.prototype.allowLegacyEntity=function(){return!this.xmlMode&&(this.baseState===n.Text||this.baseState===n.InSpecialTag)},c.prototype.cleanup=function(){this.running&&this.sectionStart!==this.index&&(this.state===n.Text||this.state===n.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===n.InAttributeValueDq||this.state===n.InAttributeValueSq||this.state===n.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))},c.prototype.shouldContinue=function(){return this.index<this.buffer.length+this.offset&&this.running},c.prototype.parse=function(){for(;this.shouldContinue();){var p=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case n.Text:{this.stateText(p);break}case n.SpecialStartSequence:{this.stateSpecialStartSequence(p);break}case n.InSpecialTag:{this.stateInSpecialTag(p);break}case n.CDATASequence:{this.stateCDATASequence(p);break}case n.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(p);break}case n.InAttributeName:{this.stateInAttributeName(p);break}case n.InCommentLike:{this.stateInCommentLike(p);break}case n.InSpecialComment:{this.stateInSpecialComment(p);break}case n.BeforeAttributeName:{this.stateBeforeAttributeName(p);break}case n.InTagName:{this.stateInTagName(p);break}case n.InClosingTagName:{this.stateInClosingTagName(p);break}case n.BeforeTagName:{this.stateBeforeTagName(p);break}case n.AfterAttributeName:{this.stateAfterAttributeName(p);break}case n.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(p);break}case n.BeforeAttributeValue:{this.stateBeforeAttributeValue(p);break}case n.BeforeClosingTagName:{this.stateBeforeClosingTagName(p);break}case n.AfterClosingTagName:{this.stateAfterClosingTagName(p);break}case n.BeforeSpecialS:{this.stateBeforeSpecialS(p);break}case n.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(p);break}case n.InSelfClosingTag:{this.stateInSelfClosingTag(p);break}case n.InDeclaration:{this.stateInDeclaration(p);break}case n.BeforeDeclaration:{this.stateBeforeDeclaration(p);break}case n.BeforeComment:{this.stateBeforeComment(p);break}case n.InProcessingInstruction:{this.stateInProcessingInstruction(p);break}case n.InNamedEntity:{this.stateInNamedEntity(p);break}case n.BeforeEntity:{this.stateBeforeEntity(p);break}case n.InHexEntity:{this.stateInHexEntity(p);break}case n.InNumericEntity:{this.stateInNumericEntity(p);break}default:this.stateBeforeNumericEntity(p)}this.index++}this.cleanup()},c.prototype.finish=function(){this.state===n.InNamedEntity&&this.emitNamedEntity(),this.sectionStart<this.index&&this.handleTrailingData(),this.cbs.onend()},c.prototype.handleTrailingData=function(){var p=this.buffer.length+this.offset;this.state===n.InCommentLike?this.currentSequence===f.CdataEnd?this.cbs.oncdata(this.sectionStart,p,0):this.cbs.oncomment(this.sectionStart,p,0):this.state===n.InNumericEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===n.InHexEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===n.InTagName||this.state===n.BeforeAttributeName||this.state===n.BeforeAttributeValue||this.state===n.AfterAttributeName||this.state===n.InAttributeName||this.state===n.InAttributeValueSq||this.state===n.InAttributeValueDq||this.state===n.InAttributeValueNq||this.state===n.InClosingTagName||this.cbs.ontext(this.sectionStart,p)},c.prototype.emitPartial=function(p,_){this.baseState!==n.Text&&this.baseState!==n.InSpecialTag?this.cbs.onattribdata(p,_):this.cbs.ontext(p,_)},c.prototype.emitCodePoint=function(p){this.baseState!==n.Text&&this.baseState!==n.InSpecialTag?this.cbs.onattribentity(p):this.cbs.ontextentity(p)},c}();e.default=d}(gw)),gw}var aN;function oN(){if(aN)return go;aN=1;var e=go.__createBinding||(Object.create?function(b,m,y,g){g===void 0&&(g=y);var S=Object.getOwnPropertyDescriptor(m,y);(!S||("get"in S?!m.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return m[y]}}),Object.defineProperty(b,g,S)}:function(b,m,y,g){g===void 0&&(g=y),b[g]=m[y]}),t=go.__setModuleDefault||(Object.create?function(b,m){Object.defineProperty(b,"default",{enumerable:!0,value:m})}:function(b,m){b.default=m}),r=go.__importStar||function(b){if(b&&b.__esModule)return b;var m={};if(b!=null)for(var y in b)y!=="default"&&Object.prototype.hasOwnProperty.call(b,y)&&e(m,b,y);return t(m,b),m};Object.defineProperty(go,"__esModule",{value:!0}),go.Parser=void 0;var n=r(_8()),a=qo(),i=new Set(["input","option","optgroup","select","button","datalist","textarea"]),o=new Set(["p"]),s=new Set(["thead","tbody"]),u=new Set(["dd","dt"]),l=new Set(["rt","rp"]),f=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",o],["h1",o],["h2",o],["h3",o],["h4",o],["h5",o],["h6",o],["select",i],["input",i],["output",i],["button",i],["datalist",i],["textarea",i],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",u],["dt",u],["address",o],["article",o],["aside",o],["blockquote",o],["details",o],["div",o],["dl",o],["fieldset",o],["figcaption",o],["figure",o],["footer",o],["form",o],["header",o],["hr",o],["main",o],["nav",o],["ol",o],["pre",o],["section",o],["table",o],["ul",o],["rt",l],["rp",l],["tbody",s],["tfoot",s]]),d=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),c=new Set(["math","svg"]),p=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),_=/\s|\//,v=function(){function b(m,y){y===void 0&&(y={});var g,S,T,I,C;this.options=y,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=m??{},this.lowerCaseTagNames=(g=y.lowerCaseTags)!==null&&g!==void 0?g:!y.xmlMode,this.lowerCaseAttributeNames=(S=y.lowerCaseAttributeNames)!==null&&S!==void 0?S:!y.xmlMode,this.tokenizer=new((T=y.Tokenizer)!==null&&T!==void 0?T:n.default)(this.options,this),(C=(I=this.cbs).onparserinit)===null||C===void 0||C.call(I,this)}return b.prototype.ontext=function(m,y){var g,S,T=this.getSlice(m,y);this.endIndex=y-1,(S=(g=this.cbs).ontext)===null||S===void 0||S.call(g,T),this.startIndex=y},b.prototype.ontextentity=function(m){var y,g,S=this.tokenizer.getSectionStart();this.endIndex=S-1,(g=(y=this.cbs).ontext)===null||g===void 0||g.call(y,(0,a.fromCodePoint)(m)),this.startIndex=S},b.prototype.isVoidElement=function(m){return!this.options.xmlMode&&d.has(m)},b.prototype.onopentagname=function(m,y){this.endIndex=y;var g=this.getSlice(m,y);this.lowerCaseTagNames&&(g=g.toLowerCase()),this.emitOpenTag(g)},b.prototype.emitOpenTag=function(m){var y,g,S,T;this.openTagStart=this.startIndex,this.tagname=m;var I=!this.options.xmlMode&&f.get(m);if(I)for(;this.stack.length>0&&I.has(this.stack[this.stack.length-1]);){var C=this.stack.pop();(g=(y=this.cbs).onclosetag)===null||g===void 0||g.call(y,C,!0)}this.isVoidElement(m)||(this.stack.push(m),c.has(m)?this.foreignContext.push(!0):p.has(m)&&this.foreignContext.push(!1)),(T=(S=this.cbs).onopentagname)===null||T===void 0||T.call(S,m),this.cbs.onopentag&&(this.attribs={})},b.prototype.endOpenTag=function(m){var y,g;this.startIndex=this.openTagStart,this.attribs&&((g=(y=this.cbs).onopentag)===null||g===void 0||g.call(y,this.tagname,this.attribs,m),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""},b.prototype.onopentagend=function(m){this.endIndex=m,this.endOpenTag(!1),this.startIndex=m+1},b.prototype.onclosetag=function(m,y){var g,S,T,I,C,B;this.endIndex=y;var D=this.getSlice(m,y);if(this.lowerCaseTagNames&&(D=D.toLowerCase()),(c.has(D)||p.has(D))&&this.foreignContext.pop(),this.isVoidElement(D))!this.options.xmlMode&&D==="br"&&((S=(g=this.cbs).onopentagname)===null||S===void 0||S.call(g,"br"),(I=(T=this.cbs).onopentag)===null||I===void 0||I.call(T,"br",{},!0),(B=(C=this.cbs).onclosetag)===null||B===void 0||B.call(C,"br",!1));else{var M=this.stack.lastIndexOf(D);if(M!==-1)if(this.cbs.onclosetag)for(var j=this.stack.length-M;j--;)this.cbs.onclosetag(this.stack.pop(),j!==0);else this.stack.length=M;else!this.options.xmlMode&&D==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=y+1},b.prototype.onselfclosingtag=function(m){this.endIndex=m,this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?(this.closeCurrentTag(!1),this.startIndex=m+1):this.onopentagend(m)},b.prototype.closeCurrentTag=function(m){var y,g,S=this.tagname;this.endOpenTag(m),this.stack[this.stack.length-1]===S&&((g=(y=this.cbs).onclosetag)===null||g===void 0||g.call(y,S,!m),this.stack.pop())},b.prototype.onattribname=function(m,y){this.startIndex=m;var g=this.getSlice(m,y);this.attribname=this.lowerCaseAttributeNames?g.toLowerCase():g},b.prototype.onattribdata=function(m,y){this.attribvalue+=this.getSlice(m,y)},b.prototype.onattribentity=function(m){this.attribvalue+=(0,a.fromCodePoint)(m)},b.prototype.onattribend=function(m,y){var g,S;this.endIndex=y,(S=(g=this.cbs).onattribute)===null||S===void 0||S.call(g,this.attribname,this.attribvalue,m===n.QuoteType.Double?'"':m===n.QuoteType.Single?"'":m===n.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""},b.prototype.getInstructionName=function(m){var y=m.search(_),g=y<0?m:m.substr(0,y);return this.lowerCaseTagNames&&(g=g.toLowerCase()),g},b.prototype.ondeclaration=function(m,y){this.endIndex=y;var g=this.getSlice(m,y);if(this.cbs.onprocessinginstruction){var S=this.getInstructionName(g);this.cbs.onprocessinginstruction("!".concat(S),"!".concat(g))}this.startIndex=y+1},b.prototype.onprocessinginstruction=function(m,y){this.endIndex=y;var g=this.getSlice(m,y);if(this.cbs.onprocessinginstruction){var S=this.getInstructionName(g);this.cbs.onprocessinginstruction("?".concat(S),"?".concat(g))}this.startIndex=y+1},b.prototype.oncomment=function(m,y,g){var S,T,I,C;this.endIndex=y,(T=(S=this.cbs).oncomment)===null||T===void 0||T.call(S,this.getSlice(m,y-g)),(C=(I=this.cbs).oncommentend)===null||C===void 0||C.call(I),this.startIndex=y+1},b.prototype.oncdata=function(m,y,g){var S,T,I,C,B,D,M,j,O,q;this.endIndex=y;var Q=this.getSlice(m,y-g);this.options.xmlMode||this.options.recognizeCDATA?((T=(S=this.cbs).oncdatastart)===null||T===void 0||T.call(S),(C=(I=this.cbs).ontext)===null||C===void 0||C.call(I,Q),(D=(B=this.cbs).oncdataend)===null||D===void 0||D.call(B)):((j=(M=this.cbs).oncomment)===null||j===void 0||j.call(M,"[CDATA[".concat(Q,"]]")),(q=(O=this.cbs).oncommentend)===null||q===void 0||q.call(O)),this.startIndex=y+1},b.prototype.onend=function(){var m,y;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(var g=this.stack.length;g>0;this.cbs.onclosetag(this.stack[--g],!0));}(y=(m=this.cbs).onend)===null||y===void 0||y.call(m)},b.prototype.reset=function(){var m,y,g,S;(y=(m=this.cbs).onreset)===null||y===void 0||y.call(m),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(S=(g=this.cbs).onparserinit)===null||S===void 0||S.call(g,this),this.buffers.length=0,this.bufferOffset=0,this.writeIndex=0,this.ended=!1},b.prototype.parseComplete=function(m){this.reset(),this.end(m)},b.prototype.getSlice=function(m,y){for(;m-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();for(var g=this.buffers[0].slice(m-this.bufferOffset,y-this.bufferOffset);y-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),g+=this.buffers[0].slice(0,y-this.bufferOffset);return g},b.prototype.shiftBuffer=function(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()},b.prototype.write=function(m){var y,g;if(this.ended){(g=(y=this.cbs).onerror)===null||g===void 0||g.call(y,new Error(".write() after done!"));return}this.buffers.push(m),this.tokenizer.running&&(this.tokenizer.write(m),this.writeIndex++)},b.prototype.end=function(m){var y,g;if(this.ended){(g=(y=this.cbs).onerror)===null||g===void 0||g.call(y,new Error(".end() after done!"));return}m&&this.write(m),this.ended=!0,this.tokenizer.end()},b.prototype.pause=function(){this.tokenizer.pause()},b.prototype.resume=function(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()},b.prototype.parseChunk=function(m){this.write(m)},b.prototype.done=function(m){this.end(m)},b}();return go.Parser=v,go}var sN;function Tee(){return sN||(sN=1,function(e){var t=Ts.__createBinding||(Object.create?function(m,y,g,S){S===void 0&&(S=g);var T=Object.getOwnPropertyDescriptor(y,g);(!T||("get"in T?!y.__esModule:T.writable||T.configurable))&&(T={enumerable:!0,get:function(){return y[g]}}),Object.defineProperty(m,S,T)}:function(m,y,g,S){S===void 0&&(S=g),m[S]=y[g]}),r=Ts.__setModuleDefault||(Object.create?function(m,y){Object.defineProperty(m,"default",{enumerable:!0,value:y})}:function(m,y){m.default=y}),n=Ts.__importStar||function(m){if(m&&m.__esModule)return m;var y={};if(m!=null)for(var g in m)g!=="default"&&Object.prototype.hasOwnProperty.call(m,g)&&t(y,m,g);return r(y,m),y},a=Ts.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(e,"__esModule",{value:!0}),e.DomUtils=e.parseFeed=e.getFeed=e.ElementType=e.Tokenizer=e.createDomStream=e.parseDOM=e.parseDocument=e.DefaultHandler=e.DomHandler=e.Parser=void 0;var i=oN(),o=oN();Object.defineProperty(e,"Parser",{enumerable:!0,get:function(){return o.Parser}});var s=Oi(),u=Oi();Object.defineProperty(e,"DomHandler",{enumerable:!0,get:function(){return u.DomHandler}}),Object.defineProperty(e,"DefaultHandler",{enumerable:!0,get:function(){return u.DomHandler}});function l(m,y){var g=new s.DomHandler(void 0,y);return new i.Parser(g,y).end(m),g.root}e.parseDocument=l;function f(m,y){return l(m,y).children}e.parseDOM=f;function d(m,y,g){var S=new s.DomHandler(m,y,g);return new i.Parser(S,y)}e.createDomStream=d;var c=_8();Object.defineProperty(e,"Tokenizer",{enumerable:!0,get:function(){return a(c).default}}),e.ElementType=n(nu());var p=Ka(),_=Ka();Object.defineProperty(e,"getFeed",{enumerable:!0,get:function(){return _.getFeed}});var v={xmlMode:!0};function b(m,y){return y===void 0&&(y=v),(0,p.getFeed)(f(m,y))}e.parseFeed=b,e.DomUtils=n(Ka())}(Ts)),Ts}const Ree={"http://schema.org/":{properties:{additionalType:{subPropertyOf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"}}},"http://microformats.org/profile/hcard":{}};var uN;function Aee(){if(uN)return Wc;uN=1,Object.defineProperty(Wc,"__esModule",{value:!0}),Wc.MicrodataRdfParser=void 0;const e=Tee(),t=Xi(),r=h8(),n=p8(),a=y8(),i=g8(),o=ty(),s=Ree;let u=class SS extends t.Transform{constructor(f){super({readableObjectMode:!0}),this.itemScopeStack=[],this.textBufferStack=[],this.isEmittingReferences=!1,this.pendingItemRefsDomain={},this.pendingItemRefsRangeFinalized={},this.pendingItemRefsRangeCollecting={},f=f||{},this.options=f,this.util=new o.Util(f.dataFactory,f.baseIRI),this.defaultGraph=f.defaultGraph||this.util.dataFactory.defaultGraph(),this.htmlParseListener=f.htmlParseListener,this.vocabRegistry=f.vocabRegistry||s,this.parser=this.initializeParser(!!f.xmlMode)}import(f){const d=new t.PassThrough({readableObjectMode:!0});f.on("error",p=>c.emit("error",p)),f.on("data",p=>d.push(p)),f.on("end",()=>d.push(null));const c=d.pipe(new SS(this.options));return c}_transform(f,d,c){this.parser.write(f.toString()),c()}_flush(f){this.parser.end(),f()}getItemScope(f){let d=this.itemScopeStack.length-(f?2:1);for(;d>0&&!this.itemScopeStack[d];)d--;return this.itemScopeStack[d]}getDepth(){return this.itemScopeStack.length}onTagOpen(f,d){if(!this.isEmittingReferences){if("id"in d){const p=d.id;this.pendingItemRefsRangeCollecting[p]={events:[],counter:0,ids:[]}}for(const p of Object.values(this.pendingItemRefsRangeCollecting))p.counter++,p.events.push({type:"open",name:f,attributes:d})}this.textBufferStack.push(void 0);let c;if("itemscope"in d){let p;if(this.emittingReferencesItemScopeIdGenerator)p=this.emittingReferencesItemScopeIdGenerator();else{p="itemid"in d&&this.util.createSubject(d.itemid)||this.util.dataFactory.blankNode();for(const v of Object.values(this.pendingItemRefsRangeCollecting))v.ids.push(p)}c={subject:p},this.isEmittingReferences&&(c.blockEmission=!0);const _=this.getItemScope();_&&_.vocab&&(c.vocab=_.vocab),this.itemScopeStack.push(c)}else c=this.getItemScope(),this.itemScopeStack.push(void 0);if(c){if("itemtype"in d)for(const p of this.util.createVocabIris(d.itemtype,c,!1))c.vocab||(c.vocab=this.util.deriveVocab(p.value,this.vocabRegistry)),c.blockEmission||this.emitTriple(c.subject,this.util.dataFactory.namedNode(`${o.Util.RDF}type`),p);if("lang"in d&&(c.language=d.lang),"xml:lang"in d&&(c.language=d["xml:lang"]),"itemscope"in d&&!this.isEmittingReferences&&"itemref"in d)for(const p of d.itemref.split(/\s+/u))p in this.pendingItemRefsDomain||(this.pendingItemRefsDomain[p]=[]),this.pendingItemRefsDomain[p].push(c),this.tryToEmitReferences(p,c)}"itemprop"in d&&this.handleItemProperties(d.itemprop,!1,c,f,d),"itemprop-reverse"in d&&this.handleItemProperties(d["itemprop-reverse"],!0,c,f,d)}onText(f){if(!this.isEmittingReferences)for(const d of Object.values(this.pendingItemRefsRangeCollecting))d.events.push({type:"text",data:f});for(const d of this.textBufferStack)d&&d.push(f)}onTagClose(){if(!this.isEmittingReferences)for(const[d,c]of Object.entries(this.pendingItemRefsRangeCollecting))c.counter--,c.events.push({type:"close"}),c.counter===0&&(this.pendingItemRefsRangeFinalized[d]=c,delete this.pendingItemRefsRangeCollecting[d],this.tryToEmitReferences(d));const f=this.getItemScope(!0);if(f){const d=this.getDepth();if(f.predicates&&d in f.predicates)for(const[c,p]of Object.entries(f.predicates[d])){const _=this.util.createLiteral(this.textBufferStack[d].join(""),f);this.emitPredicateTriples(f,p,_,c==="reverse"),delete f.predicates[d][c]}}this.itemScopeStack.pop(),this.textBufferStack.pop()}onEnd(){}initializeParser(f){return new e.Parser({onclosetag:()=>{try{this.onTagClose(),this.htmlParseListener&&this.htmlParseListener.onTagClose()}catch(d){this.emit("error",d)}},onend:()=>{try{this.onEnd(),this.htmlParseListener&&this.htmlParseListener.onEnd()}catch(d){this.emit("error",d)}},onopentag:(d,c)=>{try{this.onTagOpen(d,c),this.htmlParseListener&&this.htmlParseListener.onTagOpen(d,c)}catch(p){this.emit("error",p)}},ontext:d=>{try{this.onText(d),this.htmlParseListener&&this.htmlParseListener.onText(d)}catch(c){this.emit("error",c)}}},{decodeEntities:!0,recognizeSelfClosing:!0,xmlMode:f})}handleItemProperties(f,d,c,p,_){const v=this.getItemScope(!0);if(v){const b=this.getDepth(),m=this.util.createVocabIris(f,v,!0);v.predicates||(v.predicates={}),v.predicates[b]||(v.predicates[b]={});const y=d?"reverse":"forward";v.predicates[b][y]=m;for(const g of this.util.getVocabularyExpansionType(f,v,this.vocabRegistry))m.push(g);if(c&&"itemscope"in _)this.emitPredicateTriples(v,m,c.subject,d),delete v.predicates[b][y];else for(const g of SS.ITEM_PROPERTY_HANDLERS)if(g.canHandle(p,_)){const S=g.getObject(_,this.util,v);this.emitPredicateTriples(v,m,S,d),delete v.predicates[b][y]}v.predicates[b][y]&&(this.textBufferStack[b]=[])}}emitPredicateTriples(f,d,c,p){if(!f.blockEmission)for(const _ of d)p?c.termType!=="Literal"&&this.emitTriple(c,_,f.subject):this.emitTriple(f.subject,_,c)}emitTriple(f,d,c){this.push(this.util.dataFactory.quad(f,d,c,this.defaultGraph))}tryToEmitReferences(f,d){const c=this.pendingItemRefsRangeFinalized[f];if(c){let p;if(d){p=[d];const _=this.pendingItemRefsDomain[f].indexOf(d);this.pendingItemRefsDomain[f].splice(_,1)}else p=this.pendingItemRefsDomain[f],delete this.pendingItemRefsDomain[f];if(p){const _=this.itemScopeStack,v=this.textBufferStack;this.isEmittingReferences=!0;for(const b of p){this.itemScopeStack=[b],this.textBufferStack=[void 0];const m=[...c.ids];this.emittingReferencesItemScopeIdGenerator=()=>m.shift();for(const y of c.events)switch(y.type){case"open":this.onTagOpen(y.name,y.attributes);break;case"text":this.onText(y.data);break;case"close":this.onTagClose();break}}this.emittingReferencesItemScopeIdGenerator=void 0,this.itemScopeStack=_,this.textBufferStack=v,this.isEmittingReferences=!1}}}};return Wc.MicrodataRdfParser=u,u.ITEM_PROPERTY_HANDLERS=[new r.ItemPropertyHandlerContent,new i.ItemPropertyHandlerUrl("a","href"),new i.ItemPropertyHandlerUrl("area","href"),new i.ItemPropertyHandlerUrl("audio","src"),new i.ItemPropertyHandlerUrl("embed","src"),new i.ItemPropertyHandlerUrl("iframe","src"),new i.ItemPropertyHandlerUrl("img","src"),new i.ItemPropertyHandlerUrl("link","href"),new i.ItemPropertyHandlerUrl("object","data"),new i.ItemPropertyHandlerUrl("source","src"),new i.ItemPropertyHandlerUrl("track","src"),new i.ItemPropertyHandlerUrl("video","src"),new n.ItemPropertyHandlerNumber("data","value"),new n.ItemPropertyHandlerNumber("meter","value"),new a.ItemPropertyHandlerTime],Wc}var lN;function Iee(){return lN||(lN=1,function(e){var t=$c.__createBinding||(Object.create?function(n,a,i,o){o===void 0&&(o=i);var s=Object.getOwnPropertyDescriptor(a,i);(!s||("get"in s?!a.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,o,s)}:function(n,a,i,o){o===void 0&&(o=i),n[o]=a[i]}),r=$c.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(wee(),e),r(h8(),e),r(p8(),e),r(y8(),e),r(g8(),e),r(See(),e),r(Eee(),e),r(xee(),e),r(Aee(),e),r(ty(),e)}($c)),$c}var fN;function Oee(){if(fN)return jc;fN=1,Object.defineProperty(jc,"__esModule",{value:!0}),jc.ActorRdfParseHtmlMicrodata=void 0;const e=$x(),t=Ji(),r=hr(),n=Iee();let a=class extends e.ActorRdfParseHtml{constructor(o){super(o)}async test(o){return(0,r.passTestVoid)()}async run(o){const s=o.context.getSafe(t.KeysInitQuery.dataFactory),u=o.headers?o.headers.get("content-type"):null,l=u==null?void 0:u.includes("xml"),f=new n.MicrodataRdfParser({dataFactory:s,baseIRI:o.baseIRI,xmlMode:l});f.on("error",o.error),f.on("data",o.emit);const d=f.onEnd;return f.onEnd=()=>{d.call(f),o.end()},{htmlParseListener:f}}};return jc.ActorRdfParseHtmlMicrodata=a,jc}var cN;function Pee(){return cN||(cN=1,function(e){var t=Fc.__createBinding||(Object.create?function(n,a,i,o){o===void 0&&(o=i);var s=Object.getOwnPropertyDescriptor(a,i);(!s||("get"in s?!a.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,o,s)}:function(n,a,i,o){o===void 0&&(o=i),n[o]=a[i]}),r=Fc.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(Oee(),e)}(Fc)),Fc}var Kc={},Zc={},dN;function Cee(){if(dN)return Zc;dN=1,Object.defineProperty(Zc,"__esModule",{value:!0}),Zc.ActorRdfParseHtmlRdfa=void 0;const e=$x(),t=Ji(),r=hr(),n=c8();let a=class extends e.ActorRdfParseHtml{constructor(o){super(o)}async test(o){return(0,r.passTestVoid)()}async run(o){const s=o.context.getSafe(t.KeysInitQuery.dataFactory),u=o.headers?o.headers.get("content-type"):null,l=(o.headers&&o.headers.get("content-language"))??void 0,f=u&&u.includes("xml")?"xhtml":"html",d=new n.RdfaParser({dataFactory:s,baseIRI:o.baseIRI,profile:f,language:l});d.on("error",o.error),d.on("data",o.emit);const c=d.onEnd;return d.onEnd=()=>{c.call(d),o.end()},{htmlParseListener:d}}};return Zc.ActorRdfParseHtmlRdfa=a,Zc}var hN;function Lee(){return hN||(hN=1,function(e){var t=Kc.__createBinding||(Object.create?function(n,a,i,o){o===void 0&&(o=i);var s=Object.getOwnPropertyDescriptor(a,i);(!s||("get"in s?!a.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,o,s)}:function(n,a,i,o){o===void 0&&(o=i),n[o]=a[i]}),r=Kc.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(Cee(),e)}(Kc)),Kc}var Yc={},Qc={},Xc={},Jc={},_w,pN;function Dee(){if(pN)return _w;pN=1;var{Buffer:e}=Tr(),t={},r=t.LEFT_BRACE=1,n=t.RIGHT_BRACE=2,a=t.LEFT_BRACKET=3,i=t.RIGHT_BRACKET=4,o=t.COLON=5,s=t.COMMA=6,u=t.TRUE=7,l=t.FALSE=8,f=t.NULL=9,d=t.STRING=10,c=t.NUMBER=11,p=t.START=17,_=t.STOP=18,v=t.TRUE1=33,b=t.TRUE2=34,m=t.TRUE3=35,y=t.FALSE1=49,g=t.FALSE2=50,S=t.FALSE3=51,T=t.FALSE4=52,I=t.NULL1=65,C=t.NULL2=66,B=t.NULL3=67,D=t.NUMBER1=81,M=t.NUMBER3=83,j=t.STRING1=97,O=t.STRING2=98,q=t.STRING3=99,Q=t.STRING4=100,ie=t.STRING5=101,X=t.STRING6=102,le=t.VALUE=113,ae=t.KEY=114,ne=t.OBJECT=129,V=t.ARRAY=130,oe=92,he=47,Y=8,Z=12,ee=10,P=13,A=9,$=64*1024;function te(w){return e.alloc?e.alloc(w):new e(w)}function pe(){this.tState=p,this.value=void 0,this.string=void 0,this.stringBuffer=te($),this.stringBufferOffset=0,this.unicode=void 0,this.highSurrogate=void 0,this.key=void 0,this.mode=void 0,this.stack=[],this.state=le,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:te(2),3:te(3),4:te(4)},this.offset=-1}pe.toknam=function(w){for(var x=Object.keys(t),k=0,U=x.length;k<U;k++){var re=x[k];if(t[re]===w)return re}return w&&"0x"+w.toString(16)};var R=pe.prototype;return R.onError=function(w){throw w},R.charError=function(w,x){this.tState=_,this.onError(new Error("Unexpected "+JSON.stringify(String.fromCharCode(w[x]))+" at position "+x+" in state "+pe.toknam(this.tState)))},R.appendStringChar=function(w){this.stringBufferOffset>=$&&(this.string+=this.stringBuffer.toString("utf8"),this.stringBufferOffset=0),this.stringBuffer[this.stringBufferOffset++]=w},R.appendStringBuf=function(w,x,k){var U=w.length;typeof x=="number"&&(typeof k=="number"?k<0?U=w.length-x+k:U=k-x:U=w.length-x),U<0&&(U=0),this.stringBufferOffset+U>$&&(this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0),w.copy(this.stringBuffer,this.stringBufferOffset,x,k),this.stringBufferOffset+=U},R.write=function(w){typeof w=="string"&&(w=new e(w));for(var x,k=0,U=w.length;k<U;k++)if(this.tState===p){if(x=w[k],this.offset++,x===123)this.onToken(r,"{");else if(x===125)this.onToken(n,"}");else if(x===91)this.onToken(a,"[");else if(x===93)this.onToken(i,"]");else if(x===58)this.onToken(o,":");else if(x===44)this.onToken(s,",");else if(x===116)this.tState=v;else if(x===102)this.tState=y;else if(x===110)this.tState=I;else if(x===34)this.string="",this.stringBufferOffset=0,this.tState=j;else if(x===45)this.string="-",this.tState=D;else if(x>=48&&x<64)this.string=String.fromCharCode(x),this.tState=M;else if(!(x===32||x===9||x===10||x===13))return this.charError(w,k)}else if(this.tState===j)if(x=w[k],this.bytes_remaining>0){for(var re=0;re<this.bytes_remaining;re++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+re]=w[re];this.appendStringBuf(this.temp_buffs[this.bytes_in_sequence]),this.bytes_in_sequence=this.bytes_remaining=0,k=k+re-1}else if(this.bytes_remaining===0&&x>=128){if(x<=193||x>244)return this.onError(new Error("Invalid UTF-8 character at position "+k+" in state "+pe.toknam(this.tState)));if(x>=194&&x<=223&&(this.bytes_in_sequence=2),x>=224&&x<=239&&(this.bytes_in_sequence=3),x>=240&&x<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+k>w.length){for(var fe=0;fe<=w.length-1-k;fe++)this.temp_buffs[this.bytes_in_sequence][fe]=w[k+fe];this.bytes_remaining=k+this.bytes_in_sequence-w.length,k=w.length-1}else this.appendStringBuf(w,k,k+this.bytes_in_sequence),k=k+this.bytes_in_sequence-1}else if(x===34)this.tState=p,this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0,this.onToken(d,this.string),this.offset+=e.byteLength(this.string,"utf8")+1,this.string=void 0;else if(x===92)this.tState=O;else if(x>=32)this.appendStringChar(x);else return this.charError(w,k);else if(this.tState===O)if(x=w[k],x===34)this.appendStringChar(x),this.tState=j;else if(x===92)this.appendStringChar(oe),this.tState=j;else if(x===47)this.appendStringChar(he),this.tState=j;else if(x===98)this.appendStringChar(Y),this.tState=j;else if(x===102)this.appendStringChar(Z),this.tState=j;else if(x===110)this.appendStringChar(ee),this.tState=j;else if(x===114)this.appendStringChar(P),this.tState=j;else if(x===116)this.appendStringChar(A),this.tState=j;else if(x===117)this.unicode="",this.tState=q;else return this.charError(w,k);else if(this.tState===q||this.tState===Q||this.tState===ie||this.tState===X)if(x=w[k],x>=48&&x<64||x>64&&x<=70||x>96&&x<=102){if(this.unicode+=String.fromCharCode(x),this.tState++===X){var ve=parseInt(this.unicode,16);this.unicode=void 0,this.highSurrogate!==void 0&&ve>=56320&&ve<57344?(this.appendStringBuf(new e(String.fromCharCode(this.highSurrogate,ve))),this.highSurrogate=void 0):this.highSurrogate===void 0&&ve>=55296&&ve<56320?this.highSurrogate=ve:(this.highSurrogate!==void 0&&(this.appendStringBuf(new e(String.fromCharCode(this.highSurrogate))),this.highSurrogate=void 0),this.appendStringBuf(new e(String.fromCharCode(ve)))),this.tState=j}}else return this.charError(w,k);else if(this.tState===D||this.tState===M)switch(x=w[k],x){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 46:case 101:case 69:case 43:case 45:this.string+=String.fromCharCode(x),this.tState=M;break;default:this.tState=p;var ce=this.numberReviver(this.string,w,k);if(ce)return ce;this.offset+=this.string.length-1,this.string=void 0,k--;break}else if(this.tState===v)if(w[k]===114)this.tState=b;else return this.charError(w,k);else if(this.tState===b)if(w[k]===117)this.tState=m;else return this.charError(w,k);else if(this.tState===m)if(w[k]===101)this.tState=p,this.onToken(u,!0),this.offset+=3;else return this.charError(w,k);else if(this.tState===y)if(w[k]===97)this.tState=g;else return this.charError(w,k);else if(this.tState===g)if(w[k]===108)this.tState=S;else return this.charError(w,k);else if(this.tState===S)if(w[k]===115)this.tState=T;else return this.charError(w,k);else if(this.tState===T)if(w[k]===101)this.tState=p,this.onToken(l,!1),this.offset+=4;else return this.charError(w,k);else if(this.tState===I)if(w[k]===117)this.tState=C;else return this.charError(w,k);else if(this.tState===C)if(w[k]===108)this.tState=B;else return this.charError(w,k);else if(this.tState===B)if(w[k]===108)this.tState=p,this.onToken(f,null),this.offset+=3;else return this.charError(w,k)},R.onToken=function(w,x){},R.parseError=function(w,x){this.tState=_,this.onError(new Error("Unexpected "+pe.toknam(w)+(x?"("+JSON.stringify(x)+")":"")+" in state "+pe.toknam(this.state)))},R.push=function(){this.stack.push({value:this.value,key:this.key,mode:this.mode})},R.pop=function(){var w=this.value,x=this.stack.pop();this.value=x.value,this.key=x.key,this.mode=x.mode,this.emit(w),this.mode||(this.state=le)},R.emit=function(w){this.mode&&(this.state=s),this.onValue(w)},R.onValue=function(w){},R.onToken=function(w,x){if(this.state===le)if(w===d||w===c||w===u||w===l||w===f)this.value&&(this.value[this.key]=x),this.emit(x);else if(w===r)this.push(),this.value?this.value=this.value[this.key]={}:this.value={},this.key=void 0,this.state=ae,this.mode=ne;else if(w===a)this.push(),this.value?this.value=this.value[this.key]=[]:this.value=[],this.key=0,this.mode=V,this.state=le;else if(w===n)if(this.mode===ne)this.pop();else return this.parseError(w,x);else if(w===i)if(this.mode===V)this.pop();else return this.parseError(w,x);else return this.parseError(w,x);else if(this.state===ae)if(w===d)this.key=x,this.state=o;else if(w===n)this.pop();else return this.parseError(w,x);else if(this.state===o)if(w===o)this.state=le;else return this.parseError(w,x);else if(this.state===s)if(w===s)this.mode===V?(this.key++,this.state=le):this.mode===ne&&(this.state=ae);else if(w===i&&this.mode===V||w===n&&this.mode===ne)this.pop();else return this.parseError(w,x);else return this.parseError(w,x)},R.numberReviver=function(w,x,k){var U=Number(w);if(isNaN(U))return this.charError(x,k);w.match(/[0-9]+/)==w&&U.toString()!=w?this.onToken(d,w):this.onToken(c,U)},pe.C=t,_w=pe,_w}var ed={},td={},bw={},mN;function pp(){return mN||(mN=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ERROR_CODES=e.ErrorCoded=void 0;class t extends Error{constructor(n,a){super(n),this.code=a}}e.ErrorCoded=t,function(r){r.COLLIDING_KEYWORDS="colliding keywords",r.CONFLICTING_INDEXES="conflicting indexes",r.CYCLIC_IRI_MAPPING="cyclic IRI mapping",r.INVALID_ID_VALUE="invalid @id value",r.INVALID_INDEX_VALUE="invalid @index value",r.INVALID_NEST_VALUE="invalid @nest value",r.INVALID_PREFIX_VALUE="invalid @prefix value",r.INVALID_PROPAGATE_VALUE="invalid @propagate value",r.INVALID_REVERSE_VALUE="invalid @reverse value",r.INVALID_IMPORT_VALUE="invalid @import value",r.INVALID_VERSION_VALUE="invalid @version value",r.INVALID_BASE_IRI="invalid base IRI",r.INVALID_CONTAINER_MAPPING="invalid container mapping",r.INVALID_CONTEXT_ENTRY="invalid context entry",r.INVALID_CONTEXT_NULLIFICATION="invalid context nullification",r.INVALID_DEFAULT_LANGUAGE="invalid default language",r.INVALID_INCLUDED_VALUE="invalid @included value",r.INVALID_IRI_MAPPING="invalid IRI mapping",r.INVALID_JSON_LITERAL="invalid JSON literal",r.INVALID_KEYWORD_ALIAS="invalid keyword alias",r.INVALID_LANGUAGE_MAP_VALUE="invalid language map value",r.INVALID_LANGUAGE_MAPPING="invalid language mapping",r.INVALID_LANGUAGE_TAGGED_STRING="invalid language-tagged string",r.INVALID_LANGUAGE_TAGGED_VALUE="invalid language-tagged value",r.INVALID_LOCAL_CONTEXT="invalid local context",r.INVALID_REMOTE_CONTEXT="invalid remote context",r.INVALID_REVERSE_PROPERTY="invalid reverse property",r.INVALID_REVERSE_PROPERTY_MAP="invalid reverse property map",r.INVALID_REVERSE_PROPERTY_VALUE="invalid reverse property value",r.INVALID_SCOPED_CONTEXT="invalid scoped context",r.INVALID_SCRIPT_ELEMENT="invalid script element",r.INVALID_SET_OR_LIST_OBJECT="invalid set or list object",r.INVALID_TERM_DEFINITION="invalid term definition",r.INVALID_TYPE_MAPPING="invalid type mapping",r.INVALID_TYPE_VALUE="invalid type value",r.INVALID_TYPED_VALUE="invalid typed value",r.INVALID_VALUE_OBJECT="invalid value object",r.INVALID_VALUE_OBJECT_VALUE="invalid value object value",r.INVALID_VOCAB_MAPPING="invalid vocab mapping",r.IRI_CONFUSED_WITH_PREFIX="IRI confused with prefix",r.KEYWORD_REDEFINITION="keyword redefinition",r.LOADING_DOCUMENT_FAILED="loading document failed",r.LOADING_REMOTE_CONTEXT_FAILED="loading remote context failed",r.MULTIPLE_CONTEXT_LINK_HEADERS="multiple context link headers",r.PROCESSING_MODE_CONFLICT="processing mode conflict",r.PROTECTED_TERM_REDEFINITION="protected term redefinition",r.CONTEXT_OVERFLOW="context overflow",r.INVALID_BASE_DIRECTION="invalid base direction",r.RECURSIVE_CONTEXT_INCLUSION="recursive context inclusion",r.INVALID_STREAMING_KEY_ORDER="invalid streaming key order",r.INVALID_EMBEDDED_NODE="invalid embedded node",r.INVALID_ANNOTATION="invalid annotation"}(e.ERROR_CODES||(e.ERROR_CODES={}))}(bw)),bw}var rd={},vw,yN;function Ux(){if(yN)return vw;yN=1;var e=/^utf-?8|ascii|utf-?16-?le|ucs-?2|base-?64|latin-?1$/i,t=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,r=/\s|\uFEFF|\xA0/,n=/\r?\n[\x20\x09]+/g,a=/[;,"]/,i=/[;,"]|\s/,o=/^[!#$%&'*+\-\.^_`|~\da-zA-Z]+$/,s={IDLE:1,URI:2,ATTR:4};function u(_){return _.replace(t,"")}function l(_){return r.test(_)}function f(_,v){for(;l(_[v]);)v++;return v}function d(_){return i.test(_)||!o.test(_)}function c(_,v){return Object.keys(_).length===Object.keys(v).length&&Object.keys(_).every(b=>b in v&&_[b]===v[b])}class p{constructor(v){this.refs=[],v&&this.parse(v)}rel(v){for(var b=[],m=v.toLowerCase(),y=0;y<this.refs.length;y++)typeof this.refs[y].rel=="string"&&this.refs[y].rel.toLowerCase()===m&&b.push(this.refs[y]);return b}get(v,b){v=v.toLowerCase(),b=b.toLowerCase();for(var m=[],y=0;y<this.refs.length;y++)typeof this.refs[y][v]=="string"&&this.refs[y][v].toLowerCase()===b&&m.push(this.refs[y]);return m}set(v){return this.refs.push(v),this}setUnique(v){return this.refs.some(b=>c(b,v))||this.refs.push(v),this}has(v,b){v=v.toLowerCase(),b=b.toLowerCase();for(var m=0;m<this.refs.length;m++)if(typeof this.refs[m][v]=="string"&&this.refs[m][v].toLowerCase()===b)return!0;return!1}parse(v,g){g=g||0,v=g?v.slice(g):v,v=u(v).replace(n,"");for(var m=s.IDLE,y=v.length,g=0,S=null;g<y;)if(m===s.IDLE){if(l(v[g])){g++;continue}else if(v[g]==="<"){S!=null&&(S.rel!=null?this.refs.push(...p.expandRelations(S)):this.refs.push(S));var T=v.indexOf(">",g);if(T===-1)throw new Error("Expected end of URI delimiter at offset "+g);S={uri:v.slice(g+1,T)},g=T,m=s.URI}else throw new Error('Unexpected character "'+v[g]+'" at offset '+g);g++}else if(m===s.URI)if(l(v[g])){g++;continue}else if(v[g]===";")m=s.ATTR,g++;else if(v[g]===",")m=s.IDLE,g++;else throw new Error('Unexpected character "'+v[g]+'" at offset '+g);else if(m===s.ATTR){if(v[g]===";"||l(v[g])){g++;continue}var T=v.indexOf("=",g);T===-1&&(T=v.indexOf(";",g)),T===-1&&(T=v.length);var I=u(v.slice(g,T)).toLowerCase(),C="";if(g=T+1,g=f(v,g),v[g]==='"')for(g++;g<y;){if(v[g]==='"'){g++;break}v[g]==="\\"&&g++,C+=v[g],g++}else{for(var T=g+1;!a.test(v[T])&&T<y;)T++;C=v.slice(g,T),g=T}switch(S[I]&&p.isSingleOccurenceAttr(I)||(I[I.length-1]==="*"?S[I]=p.parseExtendedValue(C):(C=I==="type"?C.toLowerCase():C,S[I]!=null?Array.isArray(S[I])?S[I].push(C):S[I]=[S[I],C]:S[I]=C)),v[g]){case",":m=s.IDLE;break;case";":m=s.ATTR;break}g++}else throw new Error('Unknown parser state "'+m+'"');return S!=null&&(S.rel!=null?this.refs.push(...p.expandRelations(S)):this.refs.push(S)),S=null,this}toString(){for(var v=[],b="",m=null,y=0;y<this.refs.length;y++)m=this.refs[y],b=Object.keys(this.refs[y]).reduce(function(g,S){return S==="uri"?g:g+"; "+p.formatAttribute(S,m[S])},"<"+m.uri+">"),v.push(b);return v.join(", ")}}return p.isCompatibleEncoding=function(_){return e.test(_)},p.parse=function(_,v){return new p().parse(_,v)},p.isSingleOccurenceAttr=function(_){return _==="rel"||_==="type"||_==="media"||_==="title"||_==="title*"},p.isTokenAttr=function(_){return _==="rel"||_==="type"||_==="anchor"},p.escapeQuotes=function(_){return _.replace(/"/g,'\\"')},p.expandRelations=function(_){var v=_.rel.split(" ");return v.map(function(b){var m=Object.assign({},_);return m.rel=b,m})},p.parseExtendedValue=function(_){var v=/([^']+)?(?:'([^']*)')?(.+)/.exec(_);return{language:v[2].toLowerCase(),encoding:p.isCompatibleEncoding(v[1])?null:v[1].toLowerCase(),value:p.isCompatibleEncoding(v[1])?decodeURIComponent(v[3]):v[3]}},p.formatExtendedAttribute=function(_,v){var b=(v.encoding||"utf-8").toUpperCase(),m=v.language||"en",y="";return Jn.isBuffer(v.value)&&p.isCompatibleEncoding(b)?y=v.value.toString(b):Jn.isBuffer(v.value)?y=v.value.toString("hex").replace(/[0-9a-f]{2}/gi,"%$1"):y=encodeURIComponent(v.value),_+"="+b+"'"+m+"'"+y},p.formatAttribute=function(_,v){return Array.isArray(v)?v.map(b=>p.formatAttribute(_,b)).join("; "):_[_.length-1]==="*"||typeof v!="string"?p.formatExtendedAttribute(_,v):(p.isTokenAttr(_)?v=d(v)?'"'+p.escapeQuotes(v)+'"':p.escapeQuotes(v):d(v)&&(v=encodeURIComponent(v),v=v.replace(/%20/g," ").replace(/%2C/g,",").replace(/%3B/g,";"),v='"'+v+'"'),_+"="+v)},vw=p,vw}var gN;function b8(){if(gN)return rd;gN=1,Object.defineProperty(rd,"__esModule",{value:!0}),rd.FetchDocumentLoader=void 0;const e=pp(),t=Ux(),r=Li();class n{constructor(i){this.fetcher=i}async load(i){const o=await(this.fetcher||fetch)(i,{headers:new Headers({accept:"application/ld+json"})});if(o.ok&&o.headers){let s=o.headers.get("Content-Type");if(s){const u=s.indexOf(";");u>0&&(s=s.substr(0,u))}if(s==="application/ld+json")return await o.json();if(o.headers.has("Link")){let u;if(o.headers.forEach((l,f)=>{if(f==="link"){const d=(0,t.parse)(l);for(const c of d.get("type","application/ld+json"))if(c.rel==="alternate"){if(u)throw new Error("Multiple JSON-LD alternate links were found on "+i);u=(0,r.resolve)(c.uri,i)}}}),u)return this.load(u)}throw new e.ErrorCoded(`Unsupported JSON-LD media type ${s}`,e.ERROR_CODES.LOADING_DOCUMENT_FAILED)}else throw new Error(o.statusText||`Status code: ${o.status}`)}}return rd.FetchDocumentLoader=n,rd}var ww={},nd={},_N;function Hx(){if(_N)return nd;_N=1,Object.defineProperty(nd,"__esModule",{value:!0}),nd.Util=void 0;class e{static isCompactIri(r){return r.indexOf(":")>0&&!(r&&r[0]==="#")}static getPrefix(r,n){if(r&&r[0]==="#")return null;const a=r.indexOf(":");if(a>=0){if(r.length>a+1&&r.charAt(a+1)==="/"&&r.charAt(a+2)==="/")return null;const i=r.substr(0,a);if(i==="_")return null;if(n[i])return i}return null}static getContextValueId(r){if(r===null||typeof r=="string")return r;const n=r["@id"];return n||null}static isSimpleTermDefinitionPrefix(r,n){return!e.isPotentialKeyword(r)&&(n.allowPrefixNonGenDelims||typeof r=="string"&&(r[0]==="_"||e.isPrefixIriEndingWithGenDelim(r)))}static isPotentialKeyword(r){return typeof r=="string"&&e.KEYWORD_REGEX.test(r)}static isPrefixIriEndingWithGenDelim(r){return e.ENDS_WITH_GEN_DELIM.test(r)}static isPrefixValue(r){return r&&(typeof r=="string"||r&&typeof r=="object")}static isValidIri(r){return!!(r&&e.IRI_REGEX.test(r))}static isValidIriWeak(r){return!!r&&r[0]!==":"&&e.IRI_REGEX_WEAK.test(r)}static isValidKeyword(r){return e.VALID_KEYWORDS[r]}static isTermProtected(r,n){const a=r[n];return typeof a!="string"&&a&&a["@protected"]}static hasProtectedTerms(r){for(const n of Object.keys(r))if(e.isTermProtected(r,n))return!0;return!1}static isReservedInternalKeyword(r){return r.startsWith("@__")}static deepEqual(r,n){const a=Object.keys(r),i=Object.keys(n);return a.length!==i.length?!1:a.every(o=>{const s=r[o],u=n[o];return s===u||s!==null&&u!==null&&typeof s=="object"&&typeof u=="object"&&this.deepEqual(s,u)})}}return e.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`#]*(#[^#]*)?$/,e.IRI_REGEX_WEAK=/(?::[^:])|\//,e.KEYWORD_REGEX=/^@[a-z]+$/i,e.ENDS_WITH_GEN_DELIM=/[:/?#\[\]@]$/,e.REGEX_LANGUAGE_TAG=/^[a-zA-Z]+(-[a-zA-Z0-9]+)*$/,e.REGEX_DIRECTION_TAG=/^(ltr)|(rtl)$/,e.VALID_KEYWORDS={"@annotation":!0,"@base":!0,"@container":!0,"@context":!0,"@direction":!0,"@graph":!0,"@id":!0,"@import":!0,"@included":!0,"@index":!0,"@json":!0,"@language":!0,"@list":!0,"@nest":!0,"@none":!0,"@prefix":!0,"@propagate":!0,"@protected":!0,"@reverse":!0,"@set":!0,"@type":!0,"@value":!0,"@version":!0,"@vocab":!0},e.EXPAND_KEYS_BLACKLIST=["@base","@vocab","@language","@version","@direction"],e.ALIAS_DOMAIN_BLACKLIST=["@container","@graph","@id","@index","@list","@nest","@none","@prefix","@reverse","@set","@type","@value","@version"],e.ALIAS_RANGE_BLACKLIST=["@context","@preserve"],e.CONTAINERS=["@list","@set","@index","@language","@graph","@id","@type"],e.CONTAINERS_1_0=["@list","@set","@index"],nd.Util=e,nd}var bN;function v8(){return bN||(bN=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.defaultExpandOptions=e.JsonLdContextNormalized=void 0;const t=Li(),r=pp(),n=Hx();class a{constructor(o){this.contextRaw=o}getContextRaw(){return this.contextRaw}expandTerm(o,s,u=e.defaultExpandOptions){const l=this.contextRaw[o];if(l===null||l&&l["@id"]===null)return null;let f=!0;if(l&&s){const b=n.Util.getContextValueId(l);if(b&&b!==o)if(typeof b!="string"||!n.Util.isValidIri(b)&&!n.Util.isValidKeyword(b))n.Util.isPotentialKeyword(b)||(f=!1);else return b}const d=n.Util.getPrefix(o,this.contextRaw),c=this.contextRaw["@vocab"],p=(!!c||c==="")&&c.indexOf(":")<0,_=this.contextRaw["@base"],v=n.Util.isPotentialKeyword(o);if(d){const b=this.contextRaw[d],m=n.Util.getContextValueId(b);if(m){if(typeof b=="string"||!u.allowPrefixForcing){if(!n.Util.isSimpleTermDefinitionPrefix(m,u))return o}else if(m[0]!=="_"&&!v&&!b["@prefix"]&&!(o in this.contextRaw))return o;return m+o.substr(d.length+1)}}else if(s&&(c||c===""||u.allowVocabRelativeToBase&&_&&p)&&!v&&!n.Util.isCompactIri(o))if(p){if(u.allowVocabRelativeToBase)return(c||_?(0,t.resolve)(c,_):"")+o;throw new r.ErrorCoded(`Relative vocab expansion for term '${o}' with vocab '${c}' is not allowed.`,r.ERROR_CODES.INVALID_VOCAB_MAPPING)}else return c+o;else if(!s&&_&&!v&&!n.Util.isCompactIri(o))return(0,t.resolve)(o,_);if(f)return o;throw new r.ErrorCoded(`Invalid IRI mapping found for context entry '${o}': '${JSON.stringify(l)}'`,r.ERROR_CODES.INVALID_IRI_MAPPING)}compactIri(o,s){if(s&&this.contextRaw["@vocab"]&&o.startsWith(this.contextRaw["@vocab"]))return o.substr(this.contextRaw["@vocab"].length);if(!s&&this.contextRaw["@base"]&&o.startsWith(this.contextRaw["@base"]))return o.substr(this.contextRaw["@base"].length);const u={prefix:"",suffix:o};for(const l in this.contextRaw){const f=this.contextRaw[l];if(f&&!n.Util.isPotentialKeyword(l)){const d=n.Util.getContextValueId(f);if(o.startsWith(d)){const c=o.substr(d.length);if(c)c.length<u.suffix.length&&(u.prefix=l,u.suffix=c);else if(s)return l}}}return u.prefix?u.prefix+":"+u.suffix:o}}e.JsonLdContextNormalized=a,e.defaultExpandOptions={allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}}(ww)),ww}var vN;function Nee(){if(vN)return td;vN=1,Object.defineProperty(td,"__esModule",{value:!0}),td.ContextParser=void 0;const e=Li(),t=pp(),r=b8(),n=v8(),a=Hx();class i{constructor(s){s=s||{},this.documentLoader=s.documentLoader||new r.FetchDocumentLoader,this.documentCache={},this.validateContext=!s.skipValidation,this.expandContentTypeToBase=!!s.expandContentTypeToBase,this.remoteContextsDepthLimit=s.remoteContextsDepthLimit||32,this.redirectSchemaOrgHttps="redirectSchemaOrgHttps"in s?!!s.redirectSchemaOrgHttps:!0}static validateLanguage(s,u,l){if(typeof s!="string")throw new t.ErrorCoded(`The value of an '@language' must be a string, got '${JSON.stringify(s)}'`,l);if(!a.Util.REGEX_LANGUAGE_TAG.test(s)){if(u)throw new t.ErrorCoded(`The value of an '@language' must be a valid language tag, got '${JSON.stringify(s)}'`,l);return!1}return!0}static validateDirection(s,u){if(typeof s!="string")throw new t.ErrorCoded(`The value of an '@direction' must be a string, got '${JSON.stringify(s)}'`,t.ERROR_CODES.INVALID_BASE_DIRECTION);if(!a.Util.REGEX_DIRECTION_TAG.test(s)){if(u)throw new t.ErrorCoded(`The value of an '@direction' must be 'ltr' or 'rtl', got '${JSON.stringify(s)}'`,t.ERROR_CODES.INVALID_BASE_DIRECTION);return!1}return!0}idifyReverseTerms(s){for(const u of Object.keys(s)){let l=s[u];if(l&&typeof l=="object"&&l["@reverse"]&&!l["@id"]){if(typeof l["@reverse"]!="string"||a.Util.isValidKeyword(l["@reverse"]))throw new t.ErrorCoded(`Invalid @reverse value, must be absolute IRI or blank node: '${l["@reverse"]}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);l=s[u]=Object.assign(Object.assign({},l),{"@id":l["@reverse"]}),l["@id"]=l["@reverse"],a.Util.isPotentialKeyword(l["@reverse"])?delete l["@reverse"]:l["@reverse"]=!0}}return s}expandPrefixedTerms(s,u,l){const f=s.getContextRaw();for(const d of l||Object.keys(f))if(a.Util.EXPAND_KEYS_BLACKLIST.indexOf(d)<0&&!a.Util.isReservedInternalKeyword(d)){const c=f[d];if(a.Util.isPotentialKeyword(d)&&a.Util.ALIAS_DOMAIN_BLACKLIST.indexOf(d)>=0&&(d!=="@type"||typeof f[d]=="object"&&!(f[d]["@protected"]||f[d]["@container"]==="@set")))throw new t.ErrorCoded(`Keywords can not be aliased to something else.
Tried mapping ${d} to ${JSON.stringify(c)}`,t.ERROR_CODES.KEYWORD_REDEFINITION);if(a.Util.ALIAS_RANGE_BLACKLIST.indexOf(a.Util.getContextValueId(c))>=0)throw new t.ErrorCoded(`Aliasing to certain keywords is not allowed.
Tried mapping ${d} to ${JSON.stringify(c)}`,t.ERROR_CODES.INVALID_KEYWORD_ALIAS);if(c&&a.Util.isPotentialKeyword(a.Util.getContextValueId(c))&&c["@prefix"]===!0)throw new t.ErrorCoded(`Tried to use keyword aliases as prefix: '${d}': '${JSON.stringify(c)}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);for(;a.Util.isPrefixValue(f[d]);){const p=f[d];let _=!1;if(typeof p=="string")f[d]=s.expandTerm(p,!0),_=_||p!==f[d];else{const v=p["@id"],b=p["@type"],m=!("@prefix"in p)||a.Util.isValidIri(d);if("@id"in p)v!=null&&typeof v=="string"&&(f[d]=Object.assign(Object.assign({},f[d]),{"@id":s.expandTerm(v,!0)}),_=_||v!==f[d]["@id"]);else if(!a.Util.isPotentialKeyword(d)&&m){const y=s.expandTerm(d,!0);y!==d&&(f[d]=Object.assign(Object.assign({},f[d]),{"@id":y}),_=!0)}if(b&&typeof b=="string"&&b!=="@vocab"&&(!p["@container"]||!p["@container"]["@type"])&&m){let y=s.expandTerm(b,!0);u&&b===y&&(y=s.expandTerm(b,!1)),y!==b&&(_=!0,f[d]=Object.assign(Object.assign({},f[d]),{"@type":y}))}}if(!_)break}}}normalize(s,{processingMode:u,normalizeLanguageTags:l}){if(l||u===1)for(const f of Object.keys(s))if(f==="@language"&&typeof s[f]=="string")s[f]=s[f].toLowerCase();else{const d=s[f];if(d&&typeof d=="object"&&typeof d["@language"]=="string"){const c=d["@language"].toLowerCase();c!==d["@language"]&&(s[f]=Object.assign(Object.assign({},d),{"@language":c}))}}}containersToHash(s){for(const u of Object.keys(s)){const l=s[u];if(l&&typeof l=="object"){if(typeof l["@container"]=="string")s[u]=Object.assign(Object.assign({},l),{"@container":{[l["@container"]]:!0}});else if(Array.isArray(l["@container"])){const f={};for(const d of l["@container"])f[d]=!0;s[u]=Object.assign(Object.assign({},l),{"@container":f})}}}}applyScopedProtected(s,{processingMode:u},l){if(u&&u>=1.1&&s["@protected"]){for(const f of Object.keys(s))if(!a.Util.isReservedInternalKeyword(f)&&!a.Util.isPotentialKeyword(f)&&!a.Util.isTermProtected(s,f)){const d=s[f];d&&typeof d=="object"?"@protected"in s[f]||(s[f]=Object.assign(Object.assign({},s[f]),{"@protected":!0})):(s[f]={"@id":d,"@protected":!0},a.Util.isSimpleTermDefinitionPrefix(d,l)&&(s[f]=Object.assign(Object.assign({},s[f]),{"@prefix":!0})))}delete s["@protected"]}}validateKeywordRedefinitions(s,u,l,f){for(const d of f??Object.keys(u))if(a.Util.isTermProtected(s,d)&&(typeof u[d]=="string"?u[d]={"@id":u[d],"@protected":!0}:u[d]=Object.assign(Object.assign({},u[d]),{"@protected":!0}),!a.Util.deepEqual(s[d],u[d])))throw new t.ErrorCoded(`Attempted to override the protected keyword ${d} from ${JSON.stringify(a.Util.getContextValueId(s[d]))} to ${JSON.stringify(a.Util.getContextValueId(u[d]))}`,t.ERROR_CODES.PROTECTED_TERM_REDEFINITION)}validate(s,{processingMode:u}){for(const l of Object.keys(s)){if(a.Util.isReservedInternalKeyword(l))continue;if(l==="")throw new t.ErrorCoded(`The empty term is not allowed, got: '${l}': '${JSON.stringify(s[l])}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);const f=s[l],d=typeof f;if(a.Util.isPotentialKeyword(l)){switch(l.substr(1)){case"vocab":if(f!==null&&d!=="string")throw new t.ErrorCoded(`Found an invalid @vocab IRI: ${f}`,t.ERROR_CODES.INVALID_VOCAB_MAPPING);break;case"base":if(f!==null&&d!=="string")throw new t.ErrorCoded(`Found an invalid @base IRI: ${s[l]}`,t.ERROR_CODES.INVALID_BASE_IRI);break;case"language":f!==null&&i.validateLanguage(f,!0,t.ERROR_CODES.INVALID_DEFAULT_LANGUAGE);break;case"version":if(f!==null&&d!=="number")throw new t.ErrorCoded(`Found an invalid @version number: ${f}`,t.ERROR_CODES.INVALID_VERSION_VALUE);break;case"direction":f!==null&&i.validateDirection(f,!0);break;case"propagate":if(u===1)throw new t.ErrorCoded(`Found an illegal @propagate keyword: ${f}`,t.ERROR_CODES.INVALID_CONTEXT_ENTRY);if(f!==null&&d!=="boolean")throw new t.ErrorCoded(`Found an invalid @propagate value: ${f}`,t.ERROR_CODES.INVALID_PROPAGATE_VALUE);break}if(a.Util.isValidKeyword(l)&&a.Util.isValidKeyword(a.Util.getContextValueId(f)))throw new t.ErrorCoded(`Illegal keyword alias in term value, found: '${l}': '${a.Util.getContextValueId(f)}'`,t.ERROR_CODES.KEYWORD_REDEFINITION);continue}if(f!==null)switch(d){case"string":if(a.Util.getPrefix(f,s)===l)throw new t.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${l}': '${JSON.stringify(f)}'`,t.ERROR_CODES.CYCLIC_IRI_MAPPING);if(a.Util.isValidIriWeak(l)){if(f==="@type")throw new t.ErrorCoded(`IRIs can not be mapped to @type, found: '${l}': '${f}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(a.Util.isValidIri(f)&&f!==new n.JsonLdContextNormalized(s).expandTerm(l))throw new t.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${l}': '${f}'`,t.ERROR_CODES.INVALID_IRI_MAPPING)}break;case"object":if(!a.Util.isCompactIri(l)&&!("@id"in f)&&(f["@type"]==="@id"?!s["@base"]:!s["@vocab"]))throw new t.ErrorCoded(`Missing @id in context entry: '${l}': '${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);for(const c of Object.keys(f)){const p=f[c];if(p)switch(c){case"@id":if(a.Util.isValidKeyword(p)&&p!=="@type"&&p!=="@id"&&p!=="@graph"&&p!=="@nest")throw new t.ErrorCoded(`Illegal keyword alias in term value, found: '${l}': '${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(a.Util.isValidIriWeak(l)){if(p==="@type")throw new t.ErrorCoded(`IRIs can not be mapped to @type, found: '${l}': '${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(a.Util.isValidIri(p)&&p!==new n.JsonLdContextNormalized(s).expandTerm(l))throw new t.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${l}': '${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING)}if(typeof p!="string")throw new t.ErrorCoded(`Detected non-string @id in context entry: '${l}': '${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(a.Util.getPrefix(p,s)===l)throw new t.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${l}': '${JSON.stringify(f)}'`,t.ERROR_CODES.CYCLIC_IRI_MAPPING);break;case"@type":if(f["@container"]==="@type"&&p!=="@id"&&p!=="@vocab")throw new t.ErrorCoded(`@container: @type only allows @type: @id or @vocab, but got: '${l}': '${p}'`,t.ERROR_CODES.INVALID_TYPE_MAPPING);if(typeof p!="string")throw new t.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(d)}'`,t.ERROR_CODES.INVALID_TYPE_MAPPING);if(p!=="@id"&&p!=="@vocab"&&(u===1||p!=="@json")&&(u===1||p!=="@none")&&(p[0]==="_"||!a.Util.isValidIri(p)))throw new t.ErrorCoded(`A context @type must be an absolute IRI, found: '${l}': '${p}'`,t.ERROR_CODES.INVALID_TYPE_MAPPING);break;case"@reverse":if(typeof p=="string"&&f["@id"]&&f["@id"]!==p)throw new t.ErrorCoded(`Found non-matching @id and @reverse term values in '${l}':'${p}' and '${f["@id"]}'`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY);if("@nest"in f)throw new t.ErrorCoded(`@nest is not allowed in the reverse property '${l}'`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY);break;case"@container":if(u===1&&(Object.keys(p).length>1||a.Util.CONTAINERS_1_0.indexOf(Object.keys(p)[0])<0))throw new t.ErrorCoded(`Invalid term @container for '${l}' ('${Object.keys(p)}') in 1.0, must be only one of ${a.Util.CONTAINERS_1_0.join(", ")}`,t.ERROR_CODES.INVALID_CONTAINER_MAPPING);for(const _ of Object.keys(p)){if(_==="@list"&&f["@reverse"])throw new t.ErrorCoded(`Term value can not be @container: @list and @reverse at the same time on '${l}'`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY);if(a.Util.CONTAINERS.indexOf(_)<0)throw new t.ErrorCoded(`Invalid term @container for '${l}' ('${_}'), must be one of ${a.Util.CONTAINERS.join(", ")}`,t.ERROR_CODES.INVALID_CONTAINER_MAPPING)}break;case"@language":i.validateLanguage(p,!0,t.ERROR_CODES.INVALID_LANGUAGE_MAPPING);break;case"@direction":i.validateDirection(p,!0);break;case"@prefix":if(p!==null&&typeof p!="boolean")throw new t.ErrorCoded(`Found an invalid term @prefix boolean in: '${l}': '${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_PREFIX_VALUE);if(!("@id"in f)&&!a.Util.isValidIri(l))throw new t.ErrorCoded(`Invalid @prefix definition for '${l}' ('${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@index":if(u===1||!f["@container"]||!f["@container"]["@index"])throw new t.ErrorCoded(`Attempt to add illegal key to value object: '${l}': '${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@nest":if(a.Util.isPotentialKeyword(p)&&p!=="@nest")throw new t.ErrorCoded(`Found an invalid term @nest value in: '${l}': '${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_NEST_VALUE)}}break;default:throw new t.ErrorCoded(`Found an invalid term value: '${l}': '${f}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION)}}}applyBaseEntry(s,u,l){return typeof s=="string"||(l&&!("@base"in s)&&u.parentContext&&typeof u.parentContext=="object"&&"@base"in u.parentContext&&(s["@base"]=u.parentContext["@base"],u.parentContext["@__baseDocument"]&&(s["@__baseDocument"]=!0)),u.baseIRI&&!u.external&&("@base"in s?s["@base"]!==null&&typeof s["@base"]=="string"&&!a.Util.isValidIri(s["@base"])&&(s["@base"]=(0,e.resolve)(s["@base"],u.parentContext&&u.parentContext["@base"]||u.baseIRI)):(s["@base"]=u.baseIRI,s["@__baseDocument"]=!0))),s}normalizeContextIri(s,u){if(!a.Util.isValidIri(s))try{s=(0,e.resolve)(s,u)}catch{throw new Error(`Invalid context IRI: ${s}`)}return this.redirectSchemaOrgHttps&&s.startsWith("http://schema.org")&&(s="https://schema.org/"),s}async parseInnerContexts(s,u,l){for(const f of l??Object.keys(s)){const d=s[f];if(d&&typeof d=="object"&&"@context"in d&&d["@context"]!==null&&!u.ignoreScopedContexts){if(this.validateContext)try{const c=Object.assign(Object.assign({},s),{[f]:Object.assign({},s[f])});delete c[f]["@context"],await this.parse(d["@context"],Object.assign(Object.assign({},u),{external:!1,parentContext:c,ignoreProtection:!0,ignoreRemoteScopedContexts:!0,ignoreScopedContexts:!0}))}catch(c){throw new t.ErrorCoded(c.message,t.ERROR_CODES.INVALID_SCOPED_CONTEXT)}s[f]=Object.assign(Object.assign({},d),{"@context":(await this.parse(d["@context"],Object.assign(Object.assign({},u),{external:!1,minimalProcessing:!0,ignoreRemoteScopedContexts:!0,parentContext:s}))).getContextRaw()})}}return s}async parse(s,u={},l={}){const{baseIRI:f,parentContext:d,external:c,processingMode:p=i.DEFAULT_PROCESSING_MODE,normalizeLanguageTags:_,ignoreProtection:v,minimalProcessing:b}=u,m=u.remoteContexts||{};if(Object.keys(m).length>=this.remoteContextsDepthLimit)throw new t.ErrorCoded("Detected an overflow in remote context inclusions: "+Object.keys(m),t.ERROR_CODES.CONTEXT_OVERFLOW);if(s==null){if(!v&&d&&a.Util.hasProtectedTerms(d))throw new t.ErrorCoded("Illegal context nullification when terms are protected",t.ERROR_CODES.INVALID_CONTEXT_NULLIFICATION);return new n.JsonLdContextNormalized(this.applyBaseEntry({},u,!1))}else if(typeof s=="string"){const y=this.normalizeContextIri(s,f),g=this.getOverriddenLoad(y,u);if(g)return new n.JsonLdContextNormalized(g);const S=await this.parse(await this.load(y),Object.assign(Object.assign({},u),{baseIRI:y,external:!0,remoteContexts:Object.assign(Object.assign({},m),{[y]:!0})}));return this.applyBaseEntry(S.getContextRaw(),u,!0),S}else if(Array.isArray(s)){const y=[],g=await Promise.all(s.map((T,I)=>{if(typeof T=="string"){const C=this.normalizeContextIri(T,f);y[I]=C;const B=this.getOverriddenLoad(C,u);return B||this.load(C)}else return T}));if(b)return new n.JsonLdContextNormalized(g);const S=await g.reduce((T,I,C)=>T.then(B=>this.parse(I,Object.assign(Object.assign({},u),{baseIRI:y[C]||u.baseIRI,external:!!y[C]||u.external,parentContext:B.getContextRaw(),remoteContexts:y[C]?Object.assign(Object.assign({},m),{[y[C]]:!0}):m}),{skipValidation:C<g.length-1})),Promise.resolve(new n.JsonLdContextNormalized(d||{})));return this.applyBaseEntry(S.getContextRaw(),u,!0),S}else if(typeof s=="object"){if("@context"in s)return await this.parse(s["@context"],u);if(s=Object.assign({},s),c&&delete s["@base"],this.applyBaseEntry(s,u,!0),this.containersToHash(s),b)return new n.JsonLdContextNormalized(s);let y={};if("@import"in s)if(p>=1.1){if(typeof s["@import"]!="string")throw new t.ErrorCoded("An @import value must be a string, but got "+typeof s["@import"],t.ERROR_CODES.INVALID_IMPORT_VALUE);y=await this.loadImportContext(this.normalizeContextIri(s["@import"],f)),delete s["@import"]}else throw new t.ErrorCoded("Context importing is not supported in JSON-LD 1.0",t.ERROR_CODES.INVALID_CONTEXT_ENTRY);this.applyScopedProtected(y,{processingMode:p},n.defaultExpandOptions);const g=Object.assign(y,s);this.idifyReverseTerms(g),this.normalize(g,{processingMode:p,normalizeLanguageTags:_}),this.applyScopedProtected(g,{processingMode:p},n.defaultExpandOptions);const S=Object.keys(g),T=[];if(typeof d=="object")for(const C in d)C in g?T.push(C):g[C]=d[C];await this.parseInnerContexts(g,u,S);const I=new n.JsonLdContextNormalized(g);return(g&&g["@version"]||i.DEFAULT_PROCESSING_MODE)>=1.1&&(s["@vocab"]&&typeof s["@vocab"]=="string"||s["@vocab"]==="")&&(d&&"@vocab"in d&&s["@vocab"].indexOf(":")<0?g["@vocab"]=d["@vocab"]+s["@vocab"]:(a.Util.isCompactIri(s["@vocab"])||s["@vocab"]in g)&&(g["@vocab"]=I.expandTerm(s["@vocab"],!0))),this.expandPrefixedTerms(I,this.expandContentTypeToBase,S),!v&&d&&p>=1.1&&this.validateKeywordRedefinitions(d,g,n.defaultExpandOptions,T),this.validateContext&&!l.skipValidation&&this.validate(g,{processingMode:p}),I}else throw new t.ErrorCoded(`Tried parsing a context that is not a string, array or object, but got ${s}`,t.ERROR_CODES.INVALID_LOCAL_CONTEXT)}async load(s){const u=this.documentCache[s];if(u)return u;let l;try{l=await this.documentLoader.load(s)}catch(f){throw new t.ErrorCoded(`Failed to load remote context ${s}: ${f.message}`,t.ERROR_CODES.LOADING_REMOTE_CONTEXT_FAILED)}if(!("@context"in l))throw new t.ErrorCoded(`Missing @context in remote context at ${s}`,t.ERROR_CODES.INVALID_REMOTE_CONTEXT);return this.documentCache[s]=l["@context"]}getOverriddenLoad(s,u){if(s in(u.remoteContexts||{})){if(u.ignoreRemoteScopedContexts)return s;throw new t.ErrorCoded("Detected a cyclic context inclusion of "+s,t.ERROR_CODES.RECURSIVE_CONTEXT_INCLUSION)}return null}async loadImportContext(s){let u=await this.load(s);if(typeof u!="object"||Array.isArray(u))throw new t.ErrorCoded("An imported context must be a single object: "+s,t.ERROR_CODES.INVALID_REMOTE_CONTEXT);if("@import"in u)throw new t.ErrorCoded("An imported context can not import another context: "+s,t.ERROR_CODES.INVALID_CONTEXT_ENTRY);return u=Object.assign({},u),this.containersToHash(u),u}}return i.DEFAULT_PROCESSING_MODE=1.1,td.ContextParser=i,td}var Sw={},wN;function Mee(){return wN||(wN=1,Object.defineProperty(Sw,"__esModule",{value:!0})),Sw}var Ew={},SN;function kee(){return SN||(SN=1,Object.defineProperty(Ew,"__esModule",{value:!0})),Ew}var EN;function Xn(){return EN||(EN=1,function(e){var t=ed.__createBinding||(Object.create?function(n,a,i,o){o===void 0&&(o=i);var s=Object.getOwnPropertyDescriptor(a,i);(!s||("get"in s?!a.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,o,s)}:function(n,a,i,o){o===void 0&&(o=i),n[o]=a[i]}),r=ed.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(Nee(),e),r(pp(),e),r(b8(),e),r(Mee(),e),r(kee(),e),r(v8(),e),r(Hx(),e)}(ed)),ed}var id={},ad={},od={},sd={},xN;function Fee(){if(xN)return sd;xN=1,Object.defineProperty(sd,"__esModule",{value:!0}),sd.ContainerHandlerIdentifier=void 0;let e=class{canCombineWithGraph(){return!0}async handle(r,n,a,i,o,s){let u;if(n.emittedStack[s+1]&&n.idStack[s+1])u=n.idStack[s+1][0];else{const d=await a.getContainerKey(i[s],i,s)!==null?await a.resourceToTerm(await n.getContext(i),i[s]):a.dataFactory.blankNode();if(!d){n.emittedStack[s]=!1;return}u=d,n.idStack[s+1]=[u]}let l=n.idStack[s];l||(l=n.idStack[s]=[]),l.some(f=>f.equals(u))||l.push(u),await n.handlePendingContainerFlushBuffers()||(n.emittedStack[s]=!1)}};return sd.ContainerHandlerIdentifier=e,sd}var ud={},ld={},TN;function ry(){if(TN)return ld;TN=1,Object.defineProperty(ld,"__esModule",{value:!0}),ld.EntryHandlerPredicate=void 0;const e=Xn(),t=iu();let r=class w8{static async handlePredicateObject(a,i,o,s,u,l,f,d,c){const p=await i.getPropertiesDepth(o,s),_=await i.getDepthOffsetGraph(s,o),v=s-_,b=a.idStack[p];if(b&&!c)for(const m of b)if(_>=0){const g=a.idStack[v-1];if(g)for(const S of g)i.emitQuadChecked(s,m,u,l,S,f,d);else f?(i.validateReverseSubject(l),a.getUnidentifiedGraphBufferSafe(v-1).push({subject:l,predicate:u,object:m,isEmbedded:d})):a.getUnidentifiedGraphBufferSafe(v-1).push({subject:m,predicate:u,object:l,isEmbedded:d})}else{const g=await i.getGraphContainerValue(o,p);i.emitQuadChecked(s,m,u,l,g,f,d)}else if(f&&i.validateReverseSubject(l),c){if(a.rdfstar){a.idStack[s]&&a.emitError(new e.ErrorCoded(`Found an illegal @id inside an annotation: ${a.idStack[s][0].value}`,e.ERROR_CODES.INVALID_ANNOTATION));for(let g=0;g<s;g++)await i.unaliasKeyword(o[g],o,g)==="@id"&&a.emitError(new e.ErrorCoded("Found an illegal annotation inside an embedded node",e.ERROR_CODES.INVALID_ANNOTATION));const m=a.getAnnotationsBufferSafe(p),y={predicate:u,object:l,reverse:f,nestedAnnotations:[],depth:p};m.push(y);for(let g=m.length-2;g>=0;g--){const S=m[g];S.depth>p&&(y.nestedAnnotations.push(S),m.splice(g,1))}}}else a.getUnidentifiedValueBufferSafe(p).push({predicate:u,object:l,reverse:f,isEmbedded:d})}isPropertyHandler(){return!0}isStackProcessor(){return!0}async validate(a,i,o,s,u){const l=o[s];if(l){const f=await a.getContext(o);if(!a.jsonLiteralStack[s]&&await i.predicateToTerm(f,o[s]))return t.Util.getContextValueType(f,l)==="@json"&&(a.jsonLiteralStack[s+1]=!0),!0}return!1}async test(a,i,o,s,u){return s[u]}async handle(a,i,o,s,u,l,f){const d=s[l],c=await a.getContext(s),p=await i.predicateToTerm(c,o);if(p){const _=await i.valueToTerm(c,o,u,l,s);if(_.length)for(let v of _){let b=await i.unaliasKeywordParent(s,l);const m=t.Util.isPropertyReverse(c,d,b);let y=0;for(;b==="@reverse"||typeof b=="number";)typeof b=="number"?y++:l--,b=await i.unaliasKeywordParent(s,l-y);const g=t.Util.isPropertyInEmbeddedNode(b);i.validateReverseInEmbeddedNode(o,m,g);const S=t.Util.isPropertyInAnnotationObject(b);if(u){const T="@list"in t.Util.getContextValueContainer(c,o);if(T||u["@list"]){if((T&&!Array.isArray(u)&&!u["@list"]||u["@list"]&&!Array.isArray(u["@list"]))&&v!==i.rdfNil){const I=i.dataFactory.blankNode();a.emitQuad(l,i.dataFactory.quad(I,i.rdfRest,i.rdfNil,i.getDefaultGraph())),a.emitQuad(l,i.dataFactory.quad(I,i.rdfFirst,v,i.getDefaultGraph())),v=I}if(m&&!a.allowSubjectList)throw new e.ErrorCoded(`Found illegal list value in subject position at ${o}`,e.ERROR_CODES.INVALID_REVERSE_PROPERTY_VALUE)}}await w8.handlePredicateObject(a,i,s,l,p,v,m,g,S)}}}};return ld.EntryHandlerPredicate=r,ld}var RN;function jee(){if(RN)return ud;RN=1,Object.defineProperty(ud,"__esModule",{value:!0}),ud.ContainerHandlerIndex=void 0;const e=Xn(),t=ry(),r=iu();let n=class{canCombineWithGraph(){return!0}async handle(i,o,s,u,l,f){if(!Array.isArray(l)){const d="@graph"in i,c=await o.getContext(u),p=u[f-1],_=r.Util.getContextValueIndex(c,p);if(_){if(e.Util.isPotentialKeyword(_))throw new e.ErrorCoded(`Keywords can not be used as @index value, got: ${_}`,e.ERROR_CODES.INVALID_TERM_DEFINITION);if(typeof _!="string")throw new e.ErrorCoded(`@index values must be strings, got: ${_}`,e.ERROR_CODES.INVALID_TERM_DEFINITION);if(typeof l!="object"){if(r.Util.getContextValueType(c,p)!=="@id")throw new e.ErrorCoded(`Property-based index containers require nodes as values or strings with @type: @id, but got: ${l}`,e.ERROR_CODES.INVALID_VALUE_OBJECT);const m=s.resourceToTerm(c,l);m&&(o.idStack[f+1]=[m])}const b=s.createVocabOrBaseTerm(c,_);if(b){const m=await s.valueToTerm(c,_,await s.getContainerKey(u[f],u,f),f,u);if(d){const y=await s.getGraphContainerValue(u,f+1);for(const g of m)o.emitQuad(f,s.dataFactory.quad(y,b,g,s.getDefaultGraph()))}else for(const y of m)await t.EntryHandlerPredicate.handlePredicateObject(o,s,u,f+1,b,y,!1,!1,!1)}}const v=d?2:1;await o.newOnValueJob(u.slice(0,u.length-v),l,f-v,!0),await o.handlePendingContainerFlushBuffers()}o.emittedStack[f]=!1}};return ud.ContainerHandlerIndex=n,ud}var fd={},AN;function Bee(){if(AN)return fd;AN=1,Object.defineProperty(fd,"__esModule",{value:!0}),fd.ContainerHandlerLanguage=void 0;const e=Xn();let t=class{canCombineWithGraph(){return!1}async handle(n,a,i,o,s,u){const l=await i.getContainerKey(o[u],o,u);if(Array.isArray(s))s=s.map(f=>({"@value":f,"@language":l}));else{if(typeof s!="string")throw new e.ErrorCoded(`Got invalid language map value, got '${JSON.stringify(s)}', but expected string`,e.ERROR_CODES.INVALID_LANGUAGE_MAP_VALUE);s={"@value":s,"@language":l}}await a.newOnValueJob(o.slice(0,o.length-1),s,u-1,!0),a.emittedStack[u]=!1}};return fd.ContainerHandlerLanguage=t,fd}var cd={},IN;function qee(){if(IN)return cd;IN=1,Object.defineProperty(cd,"__esModule",{value:!0}),cd.ContainerHandlerType=void 0;const e=ry(),t=iu();let r=class{canCombineWithGraph(){return!1}async handle(a,i,o,s,u,l){if(!Array.isArray(u)){if(typeof u=="string"){const c=await i.getContext(s),_=t.Util.getContextValueType(c,s[l-1])==="@vocab"?await o.createVocabOrBaseTerm(c,u):await o.resourceToTerm(c,u);if(_){const v={"@id":_.termType==="NamedNode"?_.value:u};await i.newOnValueJob(s.slice(0,s.length-1),v,l-1,!0),i.idStack[l+1]=[_]}}else{const c=!!i.idStack[l+1];c||delete i.idStack[l],await i.newOnValueJob(s.slice(0,s.length-1),u,l-1,!0),c||(i.idStack[l+1]=i.idStack[l])}const f=await o.getContainerKey(s[l],s,l),d=f!==null?o.createVocabOrBaseTerm(await i.getContext(s),f):null;d&&await e.EntryHandlerPredicate.handlePredicateObject(i,o,s,l+1,o.rdfType,d,!1,!1,!1),await i.handlePendingContainerFlushBuffers()}i.emittedStack[l]=!1}};return cd.ContainerHandlerType=r,cd}var ON;function S8(){if(ON)return od;ON=1,Object.defineProperty(od,"__esModule",{value:!0}),od.EntryHandlerContainer=void 0;const e=Fee(),t=jee(),r=Bee(),n=qee(),a=iu();let i=class vo{static isSimpleGraphContainer(s){return"@graph"in s&&("@set"in s&&Object.keys(s).length===2||Object.keys(s).length===1)}static isComplexGraphContainer(s){return"@graph"in s&&("@set"in s&&Object.keys(s).length>2||!("@set"in s)&&Object.keys(s).length>1)}static getContainerGraphIndex(s,u,l){let f=vo.isSimpleGraphContainer(s),d="";for(let c=u;c<l.length;c++)(!f||typeof l[c]=="number")&&(d+=":"+l[c]),!f&&typeof l[c]!="number"&&(f=!0);return d}static async getContainerHandler(s,u,l){const f={containers:{"@set":!0},depth:l,fallback:!0};let d=!1;const c=await s.getContext(u,2);for(let p=l-1;p>=0;p--)if(typeof u[p]!="number"){const _=a.Util.getContextValue(c,"@container",u[p],!1);if(_&&vo.isSimpleGraphContainer(_))return{containers:_,depth:p+1,fallback:!1};const v=a.Util.getContextValue(c,"@container",u[p-1],!1);if(v){const b="@graph"in v;for(const m in vo.CONTAINER_HANDLERS)if(v[m])return b?vo.CONTAINER_HANDLERS[m].canCombineWithGraph()?{containers:v,depth:p,fallback:!1}:f:d?f:{containers:v,depth:p,fallback:!1};return f}else{if(d)return f;d=!0}}return f}static async isBufferableContainerHandler(s,u,l){const f=await vo.getContainerHandler(s,u,l);return!f.fallback&&!("@graph"in f.containers)}isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(s,u,l,f,d){return!!await this.test(s,u,null,l,f)}async test(s,u,l,f,d){const c=a.Util.getContextValueContainer(await s.getContext(f,2),f[d-1]);for(const p in vo.CONTAINER_HANDLERS)if(c[p])return{containers:c,handler:vo.CONTAINER_HANDLERS[p]};return null}async handle(s,u,l,f,d,c,p){return p.handler.handle(p.containers,s,u,f,d,c)}};return i.CONTAINER_HANDLERS={"@id":new e.ContainerHandlerIdentifier,"@index":new t.ContainerHandlerIndex,"@language":new r.ContainerHandlerLanguage,"@type":new n.ContainerHandlerType},od.EntryHandlerContainer=i,od}var xw,PN;function $ee(){return PN||(PN=1,xw=function e(t){return t===null||typeof t!="object"||t.toJSON!=null?JSON.stringify(t):Array.isArray(t)?"["+t.reduce((r,n,a)=>{const i=a===0?"":",",o=n===void 0||typeof n=="symbol"?null:n;return r+i+e(o)},"")+"]":"{"+Object.keys(t).sort().reduce((r,n,a)=>{if(t[n]===void 0||typeof t[n]=="symbol")return r;const i=r.length===0?"":",";return r+i+e(n)+":"+e(t[n])},"")+"}"}),xw}var CN;function iu(){if(CN)return ad;CN=1,Object.defineProperty(ad,"__esModule",{value:!0}),ad.Util=void 0;const e=Xn(),t=en(),r=S8(),n=$ee();class a{constructor(o){this.parsingContext=o.parsingContext,this.dataFactory=o.dataFactory||new t.DataFactory,this.rdfFirst=this.dataFactory.namedNode(a.RDF+"first"),this.rdfRest=this.dataFactory.namedNode(a.RDF+"rest"),this.rdfNil=this.dataFactory.namedNode(a.RDF+"nil"),this.rdfType=this.dataFactory.namedNode(a.RDF+"type"),this.rdfJson=this.dataFactory.namedNode(a.RDF+"JSON")}static getContextValue(o,s,u,l){const f=o.getContextRaw()[u];if(!f)return l;const d=f[s];return d===void 0?l:d}static getContextValueContainer(o,s){return a.getContextValue(o,"@container",s,{"@set":!0})}static getContextValueType(o,s){const u=a.getContextValue(o,"@type",s,null);return u==="@none"?null:u}static getContextValueLanguage(o,s){return a.getContextValue(o,"@language",s,o.getContextRaw()["@language"]||null)}static getContextValueDirection(o,s){return a.getContextValue(o,"@direction",s,o.getContextRaw()["@direction"]||null)}static isContextValueReverse(o,s){return!!a.getContextValue(o,"@reverse",s,null)}static getContextValueIndex(o,s){return a.getContextValue(o,"@index",s,o.getContextRaw()["@index"]||null)}static isPropertyReverse(o,s,u){return u==="@reverse"!==a.isContextValueReverse(o,s)}static isPropertyInEmbeddedNode(o){return o==="@id"}static isPropertyInAnnotationObject(o){return o==="@annotation"}static isValidIri(o){return o!==null&&e.Util.isValidIri(o)}static isPrefixArray(o,s){if(o.length>s.length)return!1;for(let u=0;u<o.length;u++)if(o[u]!==s[u])return!1;return!0}async validateValueIndexes(o){if(this.parsingContext.validateValueIndexes){const s={};for(const u of o)if(u&&typeof u=="object"){const l=u["@id"],f=u["@index"];if(l&&f){const d=s[l];if(d&&d!==f)throw new e.ErrorCoded(`Conflicting @index value for ${l}`,e.ERROR_CODES.CONFLICTING_INDEXES);s[l]=f}}}}async valueToTerm(o,s,u,l,f){if(a.getContextValueType(o,s)==="@json")return[this.dataFactory.literal(this.valueToJsonString(u),this.rdfJson)];const d=typeof u;switch(d){case"object":if(u==null)return[];if(Array.isArray(u))return"@list"in a.getContextValueContainer(o,s)?u.length===0?[this.rdfNil]:this.parsingContext.idStack[l+1]||[]:(await this.validateValueIndexes(u),[]);if(o=await this.getContextSelfOrPropertyScoped(o,s),"@context"in u&&(o=await this.parsingContext.parseContext(u["@context"],(await this.parsingContext.getContext(f,0)).getContextRaw())),u=await this.unaliasKeywords(u,f,l,o),"@value"in u){let c,p,_,v,b;for(s in u){const m=u[s];switch(s){case"@value":c=m;break;case"@language":p=m;break;case"@direction":_=m;break;case"@type":v=m;break;case"@index":b=m;break;case"@annotation":break;default:throw new e.ErrorCoded(`Unknown value entry '${s}' in @value: ${JSON.stringify(u)}`,e.ERROR_CODES.INVALID_VALUE_OBJECT)}}if(await this.unaliasKeyword(v,f,l,!0,o)==="@json")return[this.dataFactory.literal(this.valueToJsonString(c),this.rdfJson)];if(c===null)return[];if(typeof c=="object")throw new e.ErrorCoded(`The value of an '@value' can not be an object, got '${JSON.stringify(c)}'`,e.ERROR_CODES.INVALID_VALUE_OBJECT_VALUE);if(this.parsingContext.validateValueIndexes&&b&&typeof b!="string")throw new e.ErrorCoded(`The value of an '@index' must be a string, got '${JSON.stringify(b)}'`,e.ERROR_CODES.INVALID_INDEX_VALUE);if(p){if(typeof c!="string")throw new e.ErrorCoded(`When an '@language' is set, the value of '@value' must be a string, got '${JSON.stringify(c)}'`,e.ERROR_CODES.INVALID_LANGUAGE_TAGGED_VALUE);if(!e.ContextParser.validateLanguage(p,this.parsingContext.strictValues,e.ERROR_CODES.INVALID_LANGUAGE_TAGGED_STRING))return[];(this.parsingContext.normalizeLanguageTags||this.parsingContext.activeProcessingMode===1)&&(p=p.toLowerCase())}if(_){if(typeof c!="string")throw new Error(`When an '@direction' is set, the value of '@value' must be a string, got '${JSON.stringify(c)}'`);if(!e.ContextParser.validateDirection(_,this.parsingContext.strictValues))return[]}if(p&&_&&this.parsingContext.rdfDirection){if(v)throw new e.ErrorCoded(`Can not have '@language', '@direction' and '@type' in a value: '${JSON.stringify(u)}'`,e.ERROR_CODES.INVALID_VALUE_OBJECT);return this.nullableTermToArray(this.createLanguageDirectionLiteral(l,c,p,_))}else if(p){if(v)throw new e.ErrorCoded(`Can not have both '@language' and '@type' in a value: '${JSON.stringify(u)}'`,e.ERROR_CODES.INVALID_VALUE_OBJECT);return[this.dataFactory.literal(c,p)]}else if(_&&this.parsingContext.rdfDirection){if(v)throw new e.ErrorCoded(`Can not have both '@direction' and '@type' in a value: '${JSON.stringify(u)}'`,e.ERROR_CODES.INVALID_VALUE_OBJECT);return this.nullableTermToArray(this.createLanguageDirectionLiteral(l,c,p,_))}else if(v){if(typeof v!="string")throw new e.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(v)}'`,e.ERROR_CODES.INVALID_TYPED_VALUE);const m=this.createVocabOrBaseTerm(o,v);if(!m)throw new e.ErrorCoded(`Invalid '@type' value, got '${JSON.stringify(v)}'`,e.ERROR_CODES.INVALID_TYPED_VALUE);if(m.termType!=="NamedNode")throw new e.ErrorCoded(`Illegal value type (${m.termType}): ${v}`,e.ERROR_CODES.INVALID_TYPED_VALUE);return[this.dataFactory.literal(c,m)]}return await this.valueToTerm(new e.JsonLdContextNormalized({}),s,c,l,f)}else if("@set"in u){if(Object.keys(u).length>1)throw new e.ErrorCoded(`Found illegal neighbouring entries next to @set for key: '${s}'`,e.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT);return[]}else if("@list"in u){if(Object.keys(u).length>1)throw new e.ErrorCoded(`Found illegal neighbouring entries next to @list for key: '${s}'`,e.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT);const c=u["@list"];return Array.isArray(c)?c.length===0?[this.rdfNil]:this.parsingContext.idStack[l+1]||[]:await this.valueToTerm(await this.parsingContext.getContext(f),s,c,l-1,f.slice(0,-1))}else{if("@reverse"in u&&typeof u["@reverse"]=="boolean")return[];if("@graph"in a.getContextValueContainer(await this.parsingContext.getContext(f),s)){const c=this.parsingContext.graphContainerTermStack[l+1];return c?Object.values(c):[this.dataFactory.blankNode()]}else if("@id"in u){if(Object.keys(u).length>1&&(o=await this.parsingContext.getContext(f,0)),"@context"in u&&(o=await this.parsingContext.parseContext(u["@context"],o.getContextRaw())),u["@type"]==="@vocab")return this.nullableTermToArray(this.createVocabOrBaseTerm(o,u["@id"]));{const c=u["@id"];let p;if(typeof c=="object")if(this.parsingContext.rdfstar)p=this.parsingContext.idStack[l+1][0];else throw new e.ErrorCoded(`Found illegal @id '${u}'`,e.ERROR_CODES.INVALID_ID_VALUE);else p=this.resourceToTerm(o,c);return this.nullableTermToArray(p)}}else return this.parsingContext.emittedStack[l+1]||u&&typeof u=="object"&&Object.keys(u).length===0?this.parsingContext.idStack[l+1]||(this.parsingContext.idStack[l+1]=[this.dataFactory.blankNode()]):[]}case"string":return this.nullableTermToArray(this.stringValueToTerm(l,await this.getContextSelfOrPropertyScoped(o,s),s,u,null));case"boolean":return this.nullableTermToArray(this.stringValueToTerm(l,await this.getContextSelfOrPropertyScoped(o,s),s,(!!u).toString(),this.dataFactory.namedNode(a.XSD_BOOLEAN)));case"number":return this.nullableTermToArray(this.stringValueToTerm(l,await this.getContextSelfOrPropertyScoped(o,s),s,u,this.dataFactory.namedNode(u%1===0&&u<1e21?a.XSD_INTEGER:a.XSD_DOUBLE)));default:return this.parsingContext.emitError(new Error(`Could not determine the RDF type of a ${d}`)),[]}}async getContextSelfOrPropertyScoped(o,s){const u=o.getContextRaw()[s];return u&&typeof u=="object"&&"@context"in u&&(o=await this.parsingContext.parseContext(u,o.getContextRaw(),!0)),o}nullableTermToArray(o){return o?[o]:[]}predicateToTerm(o,s){const u=o.expandTerm(s,!0,this.parsingContext.getExpandOptions());if(!u)return null;if(u[0]==="_"&&u[1]===":")return this.parsingContext.produceGeneralizedRdf?this.dataFactory.blankNode(u.substr(2)):null;if(a.isValidIri(u))return this.dataFactory.namedNode(u);if(u&&this.parsingContext.strictValues)this.parsingContext.emitError(new e.ErrorCoded(`Invalid predicate IRI: ${u}`,e.ERROR_CODES.INVALID_IRI_MAPPING));else return null;return null}resourceToTerm(o,s){if(s.startsWith("_:"))return this.dataFactory.blankNode(s.substr(2));const u=o.expandTerm(s,!1,this.parsingContext.getExpandOptions());if(!a.isValidIri(u))if(u&&this.parsingContext.strictValues)this.parsingContext.emitError(new Error(`Invalid resource IRI: ${u}`));else return null;return this.dataFactory.namedNode(u)}createVocabOrBaseTerm(o,s){if(s.startsWith("_:"))return this.dataFactory.blankNode(s.substr(2));const u=this.parsingContext.getExpandOptions();let l=o.expandTerm(s,!0,u);if(l===s&&(l=o.expandTerm(s,!1,u)),!a.isValidIri(l))if(l&&this.parsingContext.strictValues&&!l.startsWith("@"))this.parsingContext.emitError(new Error(`Invalid term IRI: ${l}`));else return null;return this.dataFactory.namedNode(l)}intToString(o,s){return typeof o=="number"?Number.isFinite(o)?o%1===0&&(!s||s.value!==a.XSD_DOUBLE)?Number(o).toString():o.toExponential(15).replace(/(\d)0*e\+?/,"$1E"):o>0?"INF":"-INF":o}stringValueToTerm(o,s,u,l,f){const d=a.getContextValueType(s,u);if(d)if(d==="@id"){if(!f)return this.resourceToTerm(s,this.intToString(l,f))}else if(d==="@vocab"){if(!f)return this.createVocabOrBaseTerm(s,this.intToString(l,f))}else f=this.dataFactory.namedNode(d);if(!f){const c=a.getContextValueLanguage(s,u),p=a.getContextValueDirection(s,u);return p&&this.parsingContext.rdfDirection?this.createLanguageDirectionLiteral(o,this.intToString(l,f),c,p):this.dataFactory.literal(this.intToString(l,f),c)}return this.dataFactory.literal(this.intToString(l,f),f)}createLanguageDirectionLiteral(o,s,u,l){if(this.parsingContext.rdfDirection==="i18n-datatype")return u||(u=""),this.dataFactory.literal(s,this.dataFactory.namedNode(`https://www.w3.org/ns/i18n#${u}_${l}`));{const f=this.dataFactory.blankNode(),d=this.getDefaultGraph();return this.parsingContext.emitQuad(o,this.dataFactory.quad(f,this.dataFactory.namedNode(a.RDF+"value"),this.dataFactory.literal(s),d)),u&&this.parsingContext.emitQuad(o,this.dataFactory.quad(f,this.dataFactory.namedNode(a.RDF+"language"),this.dataFactory.literal(u),d)),this.parsingContext.emitQuad(o,this.dataFactory.quad(f,this.dataFactory.namedNode(a.RDF+"direction"),this.dataFactory.literal(l),d)),f}}valueToJsonString(o){return n(o)}async unaliasKeyword(o,s,u,l,f){if(Number.isInteger(o))return o;if(!l){const d=this.parsingContext.unaliasedKeywordCacheStack[u];if(d)return d}if(!e.Util.isPotentialKeyword(o)){f=f||await this.parsingContext.getContext(s);let d=f.getContextRaw()[o];d&&typeof d=="object"&&(d=d["@id"]),e.Util.isValidKeyword(d)&&(o=d)}return l?o:this.parsingContext.unaliasedKeywordCacheStack[u]=o}async unaliasKeywordParent(o,s){return await this.unaliasKeyword(s>0&&o[s-1],o,s-1)}async unaliasKeywords(o,s,u,l){const f={};for(const d in o)f[await this.unaliasKeyword(d,s,u+1,!0,l)]=o[d];return f}async isLiteral(o,s){for(let u=s;u>=0;u--){if(await this.unaliasKeyword(o[u],o,u)==="@annotation")return!1;if(this.parsingContext.literalStack[u]||this.parsingContext.jsonLiteralStack[u])return!0}return!1}async getDepthOffsetGraph(o,s){for(let u=o-1;u>0;u--)if(await this.unaliasKeyword(s[u],s,u)==="@graph"){const l=(await r.EntryHandlerContainer.getContainerHandler(this.parsingContext,s,u)).containers;return r.EntryHandlerContainer.isComplexGraphContainer(l)?-1:o-u-1}return-1}validateReverseSubject(o){if(o.termType==="Literal")throw new e.ErrorCoded(`Found illegal literal in subject position: ${o.value}`,e.ERROR_CODES.INVALID_REVERSE_PROPERTY_VALUE)}getDefaultGraph(){return this.parsingContext.defaultGraph||this.dataFactory.defaultGraph()}async getGraphContainerValue(o,s){let u=this.getDefaultGraph();const{containers:l,depth:f}=await r.EntryHandlerContainer.getContainerHandler(this.parsingContext,o,s);if("@graph"in l){const d=r.EntryHandlerContainer.getContainerGraphIndex(l,f,o),c=this.parsingContext.graphContainerTermStack[f];if(u=c?c[d]:null,!u){let p=null;if("@id"in l){const _=await this.getContainerKey(o[f],o,f);_!==null&&(p=await this.resourceToTerm(await this.parsingContext.getContext(o),_))}p||(p=this.dataFactory.blankNode()),this.parsingContext.graphContainerTermStack[f]||(this.parsingContext.graphContainerTermStack[f]={}),u=this.parsingContext.graphContainerTermStack[f][d]=p}}return u}async getPropertiesDepth(o,s){let u=s;for(let l=s-1;l>0;l--)if(typeof o[l]!="number"){const f=await this.unaliasKeyword(o[l],o,l);if(f==="@reverse")return l;if(f==="@nest")u=l;else return u}return u}async getContainerKey(o,s,u){const l=await this.unaliasKeyword(o,s,u);return l==="@none"?null:l}validateReverseInEmbeddedNode(o,s,u){if(u&&s&&!this.parsingContext.rdfstarReverseInEmbedded)throw new e.ErrorCoded(`Illegal reverse property in embedded node in ${o}`,e.ERROR_CODES.INVALID_EMBEDDED_NODE)}emitQuadChecked(o,s,u,l,f,d,c){let p;if(d?(this.validateReverseSubject(l),p=this.dataFactory.quad(l,u,s,f)):p=this.dataFactory.quad(s,u,l,f),c){if(p.graph.termType!=="DefaultGraph"&&(p=this.dataFactory.quad(p.subject,p.predicate,p.object)),this.parsingContext.idStack[o-1])throw new e.ErrorCoded("Illegal multiple properties in an embedded node",e.ERROR_CODES.INVALID_EMBEDDED_NODE);this.parsingContext.idStack[o-1]=[p]}else this.parsingContext.emitQuad(o,p);const _=this.parsingContext.annotationsBuffer[o];if(_){for(const v of _)this.emitAnnotation(o,p,v);delete this.parsingContext.annotationsBuffer[o]}}emitAnnotation(o,s,u){let l;u.reverse?(this.validateReverseSubject(u.object),l=this.dataFactory.quad(u.object,u.predicate,s)):l=this.dataFactory.quad(s,u.predicate,u.object),this.parsingContext.emitQuad(o,l);for(const f of u.nestedAnnotations)this.emitAnnotation(o,l,f)}}return a.XSD="http://www.w3.org/2001/XMLSchema#",a.XSD_BOOLEAN=a.XSD+"boolean",a.XSD_INTEGER=a.XSD+"integer",a.XSD_DOUBLE=a.XSD+"double",a.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",ad.Util=a,ad}var LN;function Uee(){if(LN)return id;LN=1,Object.defineProperty(id,"__esModule",{value:!0}),id.EntryHandlerArrayValue=void 0;const e=iu(),t=Xn();let r=class{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(a,i,o,s,u){return this.test(a,i,null,o,s)}async test(a,i,o,s,u){return typeof s[u]=="number"}async handle(a,i,o,s,u,l){let f=await i.unaliasKeywordParent(s,l);if(f==="@list"){let d=null,c=0;for(let p=l-2;p>0;p--){const _=s[p];if(typeof _=="string"||typeof _=="number"){c=p,d=_;break}}if(d!==null){const p=await i.valueToTerm(await a.getContext(s),d,u,l,s);for(const _ of p)await this.handleListElement(a,i,_,u,l,s.slice(0,c),c);p.length===0&&await this.handleListElement(a,i,null,u,l,s.slice(0,c),c)}}else if(f==="@set")await a.newOnValueJob(s.slice(0,-2),u,l-2,!1);else if(f!==void 0&&f!=="@type"){for(let c=l-1;c>0;c--)if(typeof s[c]!="number"){f=await i.unaliasKeyword(s[c],s,c);break}const d=await a.getContext(s.slice(0,-1));if("@list"in e.Util.getContextValueContainer(d,f)){a.emittedStack[l+1]=!0;const c=await i.valueToTerm(await a.getContext(s),f,u,l,s);for(const p of c)await this.handleListElement(a,i,p,u,l,s.slice(0,-1),l-1);c.length===0&&await this.handleListElement(a,i,null,u,l,s.slice(0,-1),l-1)}else a.shiftStack(l,1),await a.newOnValueJob(s.slice(0,-1),u,l-1,!1),a.contextTree.removeContext(s.slice(0,-1))}}async handleListElement(a,i,o,s,u,l,f){let d=a.listPointerStack[u];if(s!==null&&(await i.unaliasKeywords(s,l,u))["@value"]!==null){if(!d||!d.value){const c=i.dataFactory.blankNode();d={value:c,listRootDepth:f,listId:c}}else{const c=i.dataFactory.blankNode();a.emitQuad(u,i.dataFactory.quad(d.value,i.rdfRest,c,i.getDefaultGraph())),d.value=c}o&&a.emitQuad(u,i.dataFactory.quad(d.value,i.rdfFirst,o,i.getDefaultGraph()))}else d||(d={listRootDepth:f,listId:i.rdfNil});a.listPointerStack[u]=d,a.rdfstar&&a.annotationsBuffer[u]&&a.emitError(new t.ErrorCoded("Found an illegal annotation inside a list",t.ERROR_CODES.INVALID_ANNOTATION))}};return id.EntryHandlerArrayValue=r,id}var dd={},DN;function Hee(){if(DN)return dd;DN=1,Object.defineProperty(dd,"__esModule",{value:!0}),dd.EntryHandlerInvalidFallback=void 0;let e=class{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(r,n,a,i,o){return!1}async test(r,n,a,i,o){return!0}async handle(r,n,a,i,o,s){r.emittedStack[s]=!1}};return dd.EntryHandlerInvalidFallback=e,dd}var hd={},pd={},NN;function ts(){if(NN)return pd;NN=1,Object.defineProperty(pd,"__esModule",{value:!0}),pd.EntryHandlerKeyword=void 0;let e=class{constructor(r){this.keyword=r}isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(r,n,a,i,o){return!1}async test(r,n,a,i,o){return a===this.keyword}};return pd.EntryHandlerKeyword=e,pd}var MN;function Vee(){if(MN)return hd;MN=1,Object.defineProperty(hd,"__esModule",{value:!0}),hd.EntryHandlerKeywordContext=void 0;const e=Xn(),t=ts();let r=class extends t.EntryHandlerKeyword{constructor(){super("@context")}isStackProcessor(){return!1}async handle(a,i,o,s,u,l){a.streamingProfile&&(a.processingStack[l]||a.processingType[l]||a.idStack[l]!==void 0)&&a.emitError(new e.ErrorCoded("Found an out-of-order context, while streaming is enabled.(disable `streamingProfile`)",e.ERROR_CODES.INVALID_STREAMING_KEY_ORDER));const f=a.getContext(s),d=a.parseContext(u,(await f).getContextRaw());a.contextTree.setContext(s.slice(0,-1),d),a.emitContext(u),await a.validateContext(await d)}};return hd.EntryHandlerKeywordContext=r,hd}var md={},kN;function zee(){if(kN)return md;kN=1,Object.defineProperty(md,"__esModule",{value:!0}),md.EntryHandlerKeywordGraph=void 0;const e=ts();let t=class extends e.EntryHandlerKeyword{constructor(){super("@graph")}async handle(n,a,i,o,s,u){n.graphStack[u+1]=!0}};return md.EntryHandlerKeywordGraph=t,md}var yd={},FN;function Gee(){if(FN)return yd;FN=1,Object.defineProperty(yd,"__esModule",{value:!0}),yd.EntryHandlerKeywordId=void 0;const e=Xn(),t=ts();let r=class extends t.EntryHandlerKeyword{constructor(){super("@id")}isStackProcessor(){return!1}async handle(a,i,o,s,u,l){if(typeof u!="string"){if(a.rdfstar&&typeof u=="object"){const d=Object.keys(u);d.length===1&&d[0]==="@id"&&a.emitError(new e.ErrorCoded(`Invalid embedded node without property with @id ${u["@id"]}`,e.ERROR_CODES.INVALID_EMBEDDED_NODE))}else a.emitError(new e.ErrorCoded(`Found illegal @id '${u}'`,e.ERROR_CODES.INVALID_ID_VALUE));return}const f=await i.getPropertiesDepth(s,l);if(a.idStack[f]!==void 0&&(a.idStack[f][0].listHead?a.emitError(new e.ErrorCoded(`Found illegal neighbouring entries next to @list for key: '${s[l-1]}'`,e.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT)):a.emitError(new e.ErrorCoded(`Found duplicate @ids '${a.idStack[f][0].value}' and '${u}'`,e.ERROR_CODES.COLLIDING_KEYWORDS))),a.rdfstar&&a.annotationsBuffer[l])for(const d of a.annotationsBuffer[l])d.depth===l&&a.emitError(new e.ErrorCoded(`Found an illegal @id inside an annotation: ${u}`,e.ERROR_CODES.INVALID_ANNOTATION));a.idStack[f]=i.nullableTermToArray(await i.resourceToTerm(await a.getContext(s),u))}};return yd.EntryHandlerKeywordId=r,yd}var gd={},jN;function Wee(){if(jN)return gd;jN=1,Object.defineProperty(gd,"__esModule",{value:!0}),gd.EntryHandlerKeywordIncluded=void 0;const e=Xn(),t=ts();let r=class extends t.EntryHandlerKeyword{constructor(){super("@included")}async handle(a,i,o,s,u,l){typeof u!="object"&&a.emitError(new e.ErrorCoded(`Found illegal @included '${u}'`,e.ERROR_CODES.INVALID_INCLUDED_VALUE));const f=await i.unaliasKeywords(u,s,l,await a.getContext(s));"@value"in f&&a.emitError(new e.ErrorCoded(`Found an illegal @included @value node '${JSON.stringify(u)}'`,e.ERROR_CODES.INVALID_INCLUDED_VALUE)),"@list"in f&&a.emitError(new e.ErrorCoded(`Found an illegal @included @list node '${JSON.stringify(u)}'`,e.ERROR_CODES.INVALID_INCLUDED_VALUE)),a.emittedStack[l]=!1}};return gd.EntryHandlerKeywordIncluded=r,gd}var _d={},BN;function Kee(){if(BN)return _d;BN=1,Object.defineProperty(_d,"__esModule",{value:!0}),_d.EntryHandlerKeywordNest=void 0;const e=Xn(),t=ts();let r=class extends t.EntryHandlerKeyword{constructor(){super("@nest")}async handle(a,i,o,s,u,l){typeof u!="object"&&a.emitError(new e.ErrorCoded(`Found invalid @nest entry for '${o}': '${u}'`,e.ERROR_CODES.INVALID_NEST_VALUE)),"@value"in await i.unaliasKeywords(u,s,l,await a.getContext(s))&&a.emitError(new e.ErrorCoded(`Found an invalid @value node for '${o}'`,e.ERROR_CODES.INVALID_NEST_VALUE)),a.emittedStack[l]=!1}};return _d.EntryHandlerKeywordNest=r,_d}var bd={},qN;function Zee(){if(qN)return bd;qN=1,Object.defineProperty(bd,"__esModule",{value:!0}),bd.EntryHandlerKeywordType=void 0;const e=Xn(),t=iu(),r=ry(),n=ts();let a=class extends n.EntryHandlerKeyword{constructor(){super("@type")}isStackProcessor(){return!1}async handle(o,s,u,l,f,d){const c=l[d],p=await o.getContext(l),_=s.rdfType,v=await s.unaliasKeywordParent(l,d),b=t.Util.isPropertyReverse(p,c,v),m=t.Util.isPropertyInEmbeddedNode(v);s.validateReverseInEmbeddedNode(u,b,m);const y=t.Util.isPropertyInAnnotationObject(v),g=Array.isArray(f)?f:[f];for(const I of g){typeof I!="string"&&o.emitError(new e.ErrorCoded(`Found illegal @type '${I}'`,e.ERROR_CODES.INVALID_TYPE_VALUE));const C=s.createVocabOrBaseTerm(p,I);C&&await r.EntryHandlerPredicate.handlePredicateObject(o,s,l,d,_,C,b,m,y)}let S=Promise.resolve(p),T=!1;for(const I of g.sort()){const C=t.Util.getContextValue(p,"@context",I,null);C&&(T=!0,S=S.then(B=>o.parseContext(C,B.getContextRaw())))}o.streamingProfile&&(T||!o.streamingProfileAllowOutOfOrderPlainType)&&(o.processingStack[d]||o.idStack[d])&&o.emitError(new e.ErrorCoded("Found an out-of-order type-scoped context, while streaming is enabled.(disable `streamingProfile`)",e.ERROR_CODES.INVALID_STREAMING_KEY_ORDER)),T&&(S=S.then(I=>I.getContextRaw()["@propagate"]!==!0?new e.JsonLdContextNormalized(Object.assign(Object.assign({},I.getContextRaw()),{"@propagate":!1,"@__propagateFallback":p.getContextRaw()})):I),o.contextTree.setContext(l.slice(0,l.length-1),S)),o.processingType[d]=!0}};return bd.EntryHandlerKeywordType=a,bd}var vd={},$N;function Yee(){if($N)return vd;$N=1,Object.defineProperty(vd,"__esModule",{value:!0}),vd.EntryHandlerKeywordUnknownFallback=void 0;const e=Xn();let t=class E8{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(n,a,i,o,s){const u=await a.unaliasKeyword(i[o],i,o);return e.Util.isPotentialKeyword(u)?!(!s&&u==="@list"):!1}async test(n,a,i,o,s){return e.Util.isPotentialKeyword(i)}async handle(n,a,i,o,s,u){const l=E8.VALID_KEYWORDS_TYPES[i];l!==void 0?l&&typeof s!==l.type&&n.emitError(new e.ErrorCoded(`Invalid value type for '${i}' with value '${s}'`,l.errorCode)):n.strictValues&&n.emitError(new Error(`Unknown keyword '${i}' with value '${s}'`)),n.emittedStack[u]=!1}};return t.VALID_KEYWORDS_TYPES={"@index":{type:"string",errorCode:e.ERROR_CODES.INVALID_INDEX_VALUE},"@list":null,"@reverse":{type:"object",errorCode:e.ERROR_CODES.INVALID_REVERSE_VALUE},"@set":null,"@value":null},vd.EntryHandlerKeywordUnknownFallback=t,vd}var wd={},UN;function Qee(){if(UN)return wd;UN=1,Object.defineProperty(wd,"__esModule",{value:!0}),wd.EntryHandlerKeywordValue=void 0;const e=ts();let t=class extends e.EntryHandlerKeyword{constructor(){super("@value")}async validate(n,a,i,o,s){const u=i[o];return u&&!n.literalStack[o]&&await this.test(n,a,u,i,o)&&(n.literalStack[o]=!0),super.validate(n,a,i,o,s)}async test(n,a,i,o,s){return await a.unaliasKeyword(o[s],o.slice(0,o.length-1),s-1,!0)==="@value"}async handle(n,a,i,o,s,u){n.literalStack[u]=!0,delete n.unidentifiedValuesBuffer[u],delete n.unidentifiedGraphsBuffer[u],n.emittedStack[u]=!1}};return wd.EntryHandlerKeywordValue=t,wd}var Sd={},Ed={},HN;function Xee(){if(HN)return Ed;HN=1,Object.defineProperty(Ed,"__esModule",{value:!0}),Ed.ContextTree=void 0;let e=class x8{constructor(){this.subTrees={}}getContext(r){if(r.length>0){const[n,...a]=r,i=this.subTrees[n];if(i){const o=i.getContext(a);if(o)return o.then(({context:s,depth:u})=>({context:s,depth:u+1}))}}return this.context?this.context.then(n=>({context:n,depth:0})):null}setContext(r,n){if(r.length===0)this.context=n;else{const[a,...i]=r;let o=this.subTrees[a];o||(o=this.subTrees[a]=new x8),o.setContext(i,n)}}removeContext(r){this.setContext(r,null)}};return Ed.ContextTree=e,Ed}var VN;function Jee(){if(VN)return Sd;VN=1,Object.defineProperty(Sd,"__esModule",{value:!0}),Sd.ParsingContext=void 0;const e=Xn(),t=pp(),r=Xee(),n=R8();let a=class T8{constructor(o){this.contextParser=new e.ContextParser({documentLoader:o.documentLoader,skipValidation:o.skipContextValidation}),this.streamingProfile=!!o.streamingProfile,this.baseIRI=o.baseIRI,this.produceGeneralizedRdf=!!o.produceGeneralizedRdf,this.allowSubjectList=!!o.allowSubjectList,this.processingMode=o.processingMode||n.JsonLdParser.DEFAULT_PROCESSING_MODE,this.strictValues=!!o.strictValues,this.validateValueIndexes=!!o.validateValueIndexes,this.defaultGraph=o.defaultGraph,this.rdfDirection=o.rdfDirection,this.normalizeLanguageTags=o.normalizeLanguageTags,this.streamingProfileAllowOutOfOrderPlainType=o.streamingProfileAllowOutOfOrderPlainType,this.rdfstar=o.rdfstar!==!1,this.rdfstarReverseInEmbedded=o.rdfstarReverseInEmbedded,this.topLevelProperties=!1,this.activeProcessingMode=parseFloat(this.processingMode),this.processingStack=[],this.processingType=[],this.emittedStack=[],this.idStack=[],this.graphStack=[],this.graphContainerTermStack=[],this.listPointerStack=[],this.contextTree=new r.ContextTree,this.literalStack=[],this.validationStack=[],this.unaliasedKeywordCacheStack=[],this.jsonLiteralStack=[],this.unidentifiedValuesBuffer=[],this.unidentifiedGraphsBuffer=[],this.annotationsBuffer=[],this.pendingContainerFlushBuffers=[],this.parser=o.parser,o.context?(this.rootContext=this.parseContext(o.context),this.rootContext.then(s=>this.validateContext(s))):this.rootContext=Promise.resolve(new e.JsonLdContextNormalized(this.baseIRI?{"@base":this.baseIRI,"@__baseDocument":!0}:{}))}async parseContext(o,s,u){return this.contextParser.parse(o,{baseIRI:this.baseIRI,ignoreProtection:u,normalizeLanguageTags:this.normalizeLanguageTags,parentContext:s,processingMode:this.activeProcessingMode})}validateContext(o){const s=o.getContextRaw()["@version"];if(s){if(this.activeProcessingMode&&s>this.activeProcessingMode)throw new t.ErrorCoded(`Unsupported JSON-LD version '${s}' under active processing mode ${this.activeProcessingMode}.`,t.ERROR_CODES.PROCESSING_MODE_CONFLICT);if(this.activeProcessingMode&&s<this.activeProcessingMode)throw new t.ErrorCoded(`Invalid JSON-LD version ${s} under active processing mode ${this.activeProcessingMode}.`,t.ERROR_CODES.INVALID_VERSION_VALUE);this.activeProcessingMode=s}}async getContext(o,s=1){const u=o;for(;typeof o[o.length-1]=="number";)o=o.slice(0,o.length-1);s&&(o=o.slice(0,-s));const l=await this.getContextPropagationAware(o);let d=l.context.getContextRaw();for(let c=l.depth;c<u.length-s;c++){const p=u[c],_=d[p];if(_&&typeof _=="object"&&"@context"in _){const v=(await this.parseContext(_,d,!0)).getContextRaw(),b=!(p in v)||v[p]["@context"]["@propagate"];(b!==!1||c===u.length-1-s)&&(d=Object.assign({},v),delete d["@propagate"],d[p]=Object.assign({},d[p]),"@id"in _&&(d[p]["@id"]=_["@id"]),delete d[p]["@context"],b!==!1&&this.contextTree.setContext(u.slice(0,c+s),Promise.resolve(new e.JsonLdContextNormalized(d))))}}return new e.JsonLdContextNormalized(d)}async getContextPropagationAware(o){const s=o.length;let u=null,l;do{l=!1,u&&"@__propagateFallback"in u.context.getContextRaw()?u.context=new e.JsonLdContextNormalized(u.context.getContextRaw()["@__propagateFallback"]):(u&&(o=o.slice(0,u.depth-1)),u=await this.contextTree.getContext(o)||{context:await this.rootContext,depth:0});const f=o[o.length-1];if(f in u.context.getContextRaw()){const d=u.context.getContextRaw()[f];d&&typeof d=="object"&&"@context"in d&&(l=!0)}}while(u.depth>0&&u.context.getContextRaw()["@propagate"]===!1&&u.depth!==s&&!l);return u.depth===0&&u.context.getContextRaw()["@propagate"]===!1&&u.depth!==s&&(u.context=new e.JsonLdContextNormalized({})),u}async newOnValueJob(o,s,u,l){await this.parser.newOnValueJob(o,s,u,l)}async handlePendingContainerFlushBuffers(){if(this.pendingContainerFlushBuffers.length>0){for(const o of this.pendingContainerFlushBuffers)await this.parser.flushBuffer(o.depth,o.keys),this.parser.flushStacks(o.depth);return this.pendingContainerFlushBuffers.splice(0,this.pendingContainerFlushBuffers.length),!0}else return!1}emitQuad(o,s){o===1&&(this.topLevelProperties=!0),this.parser.push(s)}emitError(o){this.parser.emit("error",o)}emitContext(o){this.parser.emit("context",o)}getUnidentifiedValueBufferSafe(o){let s=this.unidentifiedValuesBuffer[o];return s||(s=[],this.unidentifiedValuesBuffer[o]=s),s}getUnidentifiedGraphBufferSafe(o){let s=this.unidentifiedGraphsBuffer[o];return s||(s=[],this.unidentifiedGraphsBuffer[o]=s),s}getAnnotationsBufferSafe(o){let s=this.annotationsBuffer[o];return s||(s=[],this.annotationsBuffer[o]=s),s}getExpandOptions(){return T8.EXPAND_OPTIONS[this.activeProcessingMode]}shiftStack(o,s){const u=this.idStack[o+s];if(u&&(this.idStack[o]=u,this.emittedStack[o]=!0,delete this.idStack[o+s]),this.pendingContainerFlushBuffers.length)for(const l of this.pendingContainerFlushBuffers)l.depth>=o+s&&(l.depth-=s,l.keys.splice(o,s));this.unidentifiedValuesBuffer[o+s]&&(this.unidentifiedValuesBuffer[o]=this.unidentifiedValuesBuffer[o+s],delete this.unidentifiedValuesBuffer[o+s]),this.annotationsBuffer[o+s-1]&&(this.annotationsBuffer[o-1]||(this.annotationsBuffer[o-1]=[]),this.annotationsBuffer[o-1]=[...this.annotationsBuffer[o-1],...this.annotationsBuffer[o+s-1]],delete this.annotationsBuffer[o+s-1])}};return a.EXPAND_OPTIONS={1:{allowPrefixForcing:!1,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!1},1.1:{allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}},Sd.ParsingContext=a,Sd}var xd={},zN;function ete(){if(zN)return xd;zN=1,Object.defineProperty(xd,"__esModule",{value:!0}),xd.EntryHandlerKeywordAnnotation=void 0;const e=ts(),t=Xn();let r=class extends e.EntryHandlerKeyword{constructor(){super("@annotation")}async handle(a,i,o,s,u,l){(typeof u=="string"||typeof u=="object"&&u["@value"])&&a.emitError(new t.ErrorCoded(`Found illegal annotation value: ${JSON.stringify(u)}`,t.ERROR_CODES.INVALID_ANNOTATION))}};return xd.EntryHandlerKeywordAnnotation=r,xd}var GN;function R8(){if(GN)return Jc;GN=1,Object.defineProperty(Jc,"__esModule",{value:!0}),Jc.JsonLdParser=void 0;const e=Dee(),t=Xn(),r=Xi(),n=Uee(),a=S8(),i=Hee(),o=ry(),s=Vee(),u=zee(),l=Gee(),f=Wee(),d=Kee(),c=Zee(),p=Yee(),_=Qee(),v=Jee(),b=iu(),m=Ux(),y=ete();let g=class xu extends r.Transform{constructor(T){super({readableObjectMode:!0}),T=T||{},this.options=T,this.parsingContext=new v.ParsingContext(Object.assign({parser:this},T)),this.util=new b.Util({dataFactory:T.dataFactory,parsingContext:this.parsingContext}),this.jsonParser=new e,this.contextJobs=[],this.typeJobs=[],this.contextAwaitingJobs=[],this.lastDepth=0,this.lastKeys=[],this.lastOnValueJob=Promise.resolve(),this.attachJsonParserListeners(),this.on("end",()=>{typeof this.jsonParser.mode<"u"&&this.emit("error",new Error("Unclosed document"))})}static fromHttpResponse(T,I,C,B){let D,M=["application/activity+json"];if(B&&B.wellKnownMediaTypes&&(M=B.wellKnownMediaTypes),I!=="application/ld+json"&&!M.includes(I)){if(I!=="application/json"&&!I.endsWith("+json"))throw new t.ErrorCoded(`Unsupported JSON-LD media type ${I}`,t.ERROR_CODES.LOADING_DOCUMENT_FAILED);if(C&&C.has("Link")&&C.forEach((O,q)=>{if(q==="link"){const Q=(0,m.parse)(O);for(const ie of Q.get("rel","http://www.w3.org/ns/json-ld#context")){if(D)throw new t.ErrorCoded("Multiple JSON-LD context link headers were found on "+T,t.ERROR_CODES.MULTIPLE_CONTEXT_LINK_HEADERS);D=ie.uri}}}),!D&&!(B!=null&&B.ignoreMissingContextLinkHeader))throw new t.ErrorCoded(`Missing context link header for media type ${I} on ${T}`,t.ERROR_CODES.LOADING_DOCUMENT_FAILED)}let j;if(C&&C.has("Content-Type")){const O=C.get("Content-Type"),q=/; *profile=([^"]*)/.exec(O);q&&q[1]==="http://www.w3.org/ns/json-ld#streaming"&&(j=!0)}return new xu(Object.assign({baseIRI:T,context:D,streamingProfile:j},B||{}))}import(T){if("pipe"in T){T.on("error",C=>I.emit("error",C));const I=T.pipe(new xu(this.options));return I}else{const I=new r.PassThrough({readableObjectMode:!0});T.on("error",B=>C.emit("error",B)),T.on("data",B=>I.push(B)),T.on("end",()=>I.push(null));const C=I.pipe(new xu(this.options));return C}}_transform(T,I,C){this.jsonParser.write(T),this.lastOnValueJob.then(()=>C(),B=>C(B))}async newOnValueJob(T,I,C,B){let D=!0;if(B&&C<this.lastDepth){const Q=this.parsingContext.listPointerStack[this.lastDepth];Q&&(Q.value&&this.push(this.util.dataFactory.quad(Q.value,this.util.rdfRest,this.util.rdfNil,this.util.getDefaultGraph())),Q.listId.listHead=!0,this.parsingContext.idStack[Q.listRootDepth+1]=[Q.listId],this.parsingContext.listPointerStack.splice(this.lastDepth,1)),await a.EntryHandlerContainer.isBufferableContainerHandler(this.parsingContext,this.lastKeys,this.lastDepth)?(this.parsingContext.pendingContainerFlushBuffers.push({depth:this.lastDepth,keys:this.lastKeys.slice(0,this.lastKeys.length)}),D=!1):await this.flushBuffer(this.lastDepth,this.lastKeys)}const M=await this.util.unaliasKeyword(T[C],T,C),j=await this.util.unaliasKeywordParent(T,C);this.parsingContext.emittedStack[C]=!0;let O=!0;t.Util.isValidKeyword(M)&&j==="@reverse"&&M!=="@context"&&this.emit("error",new t.ErrorCoded(`Found the @id '${I}' inside an @reverse property`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY_MAP));let q=!1;this.parsingContext.validationStack.length>1&&(q=this.parsingContext.validationStack[this.parsingContext.validationStack.length-1].property);for(let Q=Math.max(1,this.parsingContext.validationStack.length-1);Q<T.length-1;Q++){const ie=this.parsingContext.validationStack[Q]||(this.parsingContext.validationStack[Q]=await this.validateKey(T.slice(0,Q+1),Q,q));if(ie.valid)!q&&ie.property&&(q=!0);else{this.parsingContext.emittedStack[C]=!1,O=!1;break}}if(await this.util.isLiteral(T,C)&&(O=!1),O)for(const Q of xu.ENTRY_HANDLERS){const ie=await Q.test(this.parsingContext,this.util,M,T,C);if(ie){await Q.handle(this.parsingContext,this.util,M,T,I,C,ie),Q.isStackProcessor()&&(this.parsingContext.processingStack[C]=!0);break}}C===0&&Array.isArray(I)&&await this.util.validateValueIndexes(I),D&&C<this.lastDepth&&this.flushStacks(this.lastDepth),this.lastDepth=C,this.lastKeys=T,this.parsingContext.unaliasedKeywordCacheStack.splice(C-1)}flushStacks(T){this.parsingContext.processingStack.splice(T,1),this.parsingContext.processingType.splice(T,1),this.parsingContext.emittedStack.splice(T,1),this.parsingContext.idStack.splice(T,1),this.parsingContext.graphStack.splice(T+1,1),this.parsingContext.graphContainerTermStack.splice(T,1),this.parsingContext.jsonLiteralStack.splice(T,1),this.parsingContext.validationStack.splice(T-1,2),this.parsingContext.literalStack.splice(T,this.parsingContext.literalStack.length-T),this.parsingContext.annotationsBuffer.splice(T,1)}async flushBuffer(T,I){let C=this.parsingContext.idStack[T];!!C||(C=this.parsingContext.idStack[T]=[this.util.dataFactory.blankNode()]);const D=this.parsingContext.unidentifiedValuesBuffer[T];if(D){for(const O of C){const q=await this.util.getDepthOffsetGraph(T,I),Q=this.parsingContext.graphStack[T]||q>=0?this.parsingContext.idStack[T-q-1]:[await this.util.getGraphContainerValue(I,T)];if(Q)for(const ie of Q){this.parsingContext.emittedStack[T]=!0;for(const X of D)this.util.emitQuadChecked(T,O,X.predicate,X.object,ie,X.reverse,X.isEmbedded)}else{const ie=this.parsingContext.getUnidentifiedGraphBufferSafe(T-await this.util.getDepthOffsetGraph(T,I)-1);for(const X of D)X.reverse?ie.push({object:O,predicate:X.predicate,subject:X.object,isEmbedded:X.isEmbedded}):ie.push({object:X.object,predicate:X.predicate,subject:O,isEmbedded:X.isEmbedded})}}this.parsingContext.unidentifiedValuesBuffer.splice(T,1),this.parsingContext.literalStack.splice(T,1),this.parsingContext.jsonLiteralStack.splice(T,1)}const M=this.parsingContext.unidentifiedGraphsBuffer[T];if(M){for(const O of C){const q=T===1&&O.termType==="BlankNode"&&!this.parsingContext.topLevelProperties?this.util.getDefaultGraph():O;this.parsingContext.emittedStack[T]=!0;for(const Q of M)this.parsingContext.emitQuad(T,this.util.dataFactory.quad(Q.subject,Q.predicate,Q.object,q))}this.parsingContext.unidentifiedGraphsBuffer.splice(T,1)}const j=this.parsingContext.annotationsBuffer[T];if(j){j.length>0&&T===1&&this.parsingContext.emitError(new t.ErrorCoded("Annotations can not be made on top-level nodes",t.ERROR_CODES.INVALID_ANNOTATION));const O=this.parsingContext.getAnnotationsBufferSafe(T-1);for(const q of j)O.push(q);delete this.parsingContext.annotationsBuffer[T]}}async validateKey(T,I,C){for(const B of xu.ENTRY_HANDLERS)if(await B.validate(this.parsingContext,this.util,T,I,C))return{valid:!0,property:C||B.isPropertyHandler()};return{valid:!1,property:!1}}attachJsonParserListeners(){this.jsonParser.onValue=T=>{const I=this.jsonParser.stack.length,C=new Array(I+1).fill(0).map((B,D)=>D===I?this.jsonParser.key:this.jsonParser.stack[D].key);if(!this.isParsingContextInner(I)){const B=()=>this.newOnValueJob(C,T,I,!0);if(!this.parsingContext.streamingProfile&&!this.parsingContext.contextTree.getContext(C.slice(0,-1)))if(C[I]==="@context"){let D=this.contextJobs[I];D||(D=this.contextJobs[I]=[]),D.push(B)}else this.contextAwaitingJobs.push({job:B,keys:C,depth:I});else this.lastOnValueJob=this.lastOnValueJob.then(B);!this.parsingContext.streamingProfile&&I===0&&(this.lastOnValueJob=this.lastOnValueJob.then(()=>this.executeBufferedJobs()))}},this.jsonParser.onError=T=>{this.emit("error",T)}}isParsingContextInner(T){for(let I=T;I>0;I--)if(this.jsonParser.stack[I-1].key==="@context")return!0;return!1}async executeBufferedJobs(){for(const I of this.contextJobs)if(I)for(const C of I)await C();this.parsingContext.unaliasedKeywordCacheStack.splice(0);const T=[];for(const I of this.contextAwaitingJobs)await this.util.unaliasKeyword(I.keys[I.depth],I.keys,I.depth,!0)==="@type"||typeof I.keys[I.depth]=="number"&&await this.util.unaliasKeyword(I.keys[I.depth-1],I.keys,I.depth-1,!0)==="@type"?this.typeJobs.push({job:I.job,keys:I.keys.slice(0,I.keys.length-1)}):T.push(I);for(const I of T){if(this.typeJobs.length>0){const C=[],B=[];for(let j=0;j<this.typeJobs.length;j++){const O=this.typeJobs[j];b.Util.isPrefixArray(O.keys,I.keys)&&(C.push(O),B.push(j))}const D=C.sort((j,O)=>j.keys.length-O.keys.length);for(const j of D)await j.job();const M=B.sort().reverse();for(const j of M)this.typeJobs.splice(j,1)}await I.job()}}};return g.DEFAULT_PROCESSING_MODE="1.1",g.ENTRY_HANDLERS=[new n.EntryHandlerArrayValue,new s.EntryHandlerKeywordContext,new l.EntryHandlerKeywordId,new f.EntryHandlerKeywordIncluded,new u.EntryHandlerKeywordGraph,new d.EntryHandlerKeywordNest,new c.EntryHandlerKeywordType,new _.EntryHandlerKeywordValue,new y.EntryHandlerKeywordAnnotation,new a.EntryHandlerContainer,new p.EntryHandlerKeywordUnknownFallback,new o.EntryHandlerPredicate,new i.EntryHandlerInvalidFallback],Jc.JsonLdParser=g,Jc}var WN;function tte(){return WN||(WN=1,function(e){var t=Xc.__createBinding||(Object.create?function(n,a,i,o){o===void 0&&(o=i);var s=Object.getOwnPropertyDescriptor(a,i);(!s||("get"in s?!a.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,o,s)}:function(n,a,i,o){o===void 0&&(o=i),n[o]=a[i]}),r=Xc.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(R8(),e)}(Xc)),Xc}var Td={},Rd={},Ad={},Tw={},KN;function A8(){return KN||(KN=1,function(){(function(e){(function(t){var r=typeof globalThis<"u"&&globalThis||typeof e<"u"&&e||typeof xt<"u"&&xt||{},n={searchParams:"URLSearchParams"in r,iterable:"Symbol"in r&&"iterator"in Symbol,blob:"FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in r,arrayBuffer:"ArrayBuffer"in r};function a(M){return M&&DataView.prototype.isPrototypeOf(M)}if(n.arrayBuffer)var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(M){return M&&i.indexOf(Object.prototype.toString.call(M))>-1};function s(M){if(typeof M!="string"&&(M=String(M)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(M)||M==="")throw new TypeError('Invalid character in header field name: "'+M+'"');return M.toLowerCase()}function u(M){return typeof M!="string"&&(M=String(M)),M}function l(M){var j={next:function(){var O=M.shift();return{done:O===void 0,value:O}}};return n.iterable&&(j[Symbol.iterator]=function(){return j}),j}function f(M){this.map={},M instanceof f?M.forEach(function(j,O){this.append(O,j)},this):Array.isArray(M)?M.forEach(function(j){if(j.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+j.length);this.append(j[0],j[1])},this):M&&Object.getOwnPropertyNames(M).forEach(function(j){this.append(j,M[j])},this)}f.prototype.append=function(M,j){M=s(M),j=u(j);var O=this.map[M];this.map[M]=O?O+", "+j:j},f.prototype.delete=function(M){delete this.map[s(M)]},f.prototype.get=function(M){return M=s(M),this.has(M)?this.map[M]:null},f.prototype.has=function(M){return this.map.hasOwnProperty(s(M))},f.prototype.set=function(M,j){this.map[s(M)]=u(j)},f.prototype.forEach=function(M,j){for(var O in this.map)this.map.hasOwnProperty(O)&&M.call(j,this.map[O],O,this)},f.prototype.keys=function(){var M=[];return this.forEach(function(j,O){M.push(O)}),l(M)},f.prototype.values=function(){var M=[];return this.forEach(function(j){M.push(j)}),l(M)},f.prototype.entries=function(){var M=[];return this.forEach(function(j,O){M.push([O,j])}),l(M)},n.iterable&&(f.prototype[Symbol.iterator]=f.prototype.entries);function d(M){if(!M._noBody){if(M.bodyUsed)return Promise.reject(new TypeError("Already read"));M.bodyUsed=!0}}function c(M){return new Promise(function(j,O){M.onload=function(){j(M.result)},M.onerror=function(){O(M.error)}})}function p(M){var j=new FileReader,O=c(j);return j.readAsArrayBuffer(M),O}function _(M){var j=new FileReader,O=c(j),q=/charset=([A-Za-z0-9_-]+)/.exec(M.type),Q=q?q[1]:"utf-8";return j.readAsText(M,Q),O}function v(M){for(var j=new Uint8Array(M),O=new Array(j.length),q=0;q<j.length;q++)O[q]=String.fromCharCode(j[q]);return O.join("")}function b(M){if(M.slice)return M.slice(0);var j=new Uint8Array(M.byteLength);return j.set(new Uint8Array(M)),j.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(M){this.bodyUsed=this.bodyUsed,this._bodyInit=M,M?typeof M=="string"?this._bodyText=M:n.blob&&Blob.prototype.isPrototypeOf(M)?this._bodyBlob=M:n.formData&&FormData.prototype.isPrototypeOf(M)?this._bodyFormData=M:n.searchParams&&URLSearchParams.prototype.isPrototypeOf(M)?this._bodyText=M.toString():n.arrayBuffer&&n.blob&&a(M)?(this._bodyArrayBuffer=b(M.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):n.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(M)||o(M))?this._bodyArrayBuffer=b(M):this._bodyText=M=Object.prototype.toString.call(M):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof M=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n.searchParams&&URLSearchParams.prototype.isPrototypeOf(M)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n.blob&&(this.blob=function(){var M=d(this);if(M)return M;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var M=d(this);return M||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(n.blob)return this.blob().then(p);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var M=d(this);if(M)return M;if(this._bodyBlob)return _(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(v(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},n.formData&&(this.formData=function(){return this.text().then(T)}),this.json=function(){return this.text().then(JSON.parse)},this}var y=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function g(M){var j=M.toUpperCase();return y.indexOf(j)>-1?j:M}function S(M,j){if(!(this instanceof S))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');j=j||{};var O=j.body;if(M instanceof S){if(M.bodyUsed)throw new TypeError("Already read");this.url=M.url,this.credentials=M.credentials,j.headers||(this.headers=new f(M.headers)),this.method=M.method,this.mode=M.mode,this.signal=M.signal,!O&&M._bodyInit!=null&&(O=M._bodyInit,M.bodyUsed=!0)}else this.url=String(M);if(this.credentials=j.credentials||this.credentials||"same-origin",(j.headers||!this.headers)&&(this.headers=new f(j.headers)),this.method=g(j.method||this.method||"GET"),this.mode=j.mode||this.mode||null,this.signal=j.signal||this.signal||function(){if("AbortController"in r){var ie=new AbortController;return ie.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&O)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(O),(this.method==="GET"||this.method==="HEAD")&&(j.cache==="no-store"||j.cache==="no-cache")){var q=/([?&])_=[^&]*/;if(q.test(this.url))this.url=this.url.replace(q,"$1_="+new Date().getTime());else{var Q=/\?/;this.url+=(Q.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}S.prototype.clone=function(){return new S(this,{body:this._bodyInit})};function T(M){var j=new FormData;return M.trim().split("&").forEach(function(O){if(O){var q=O.split("="),Q=q.shift().replace(/\+/g," "),ie=q.join("=").replace(/\+/g," ");j.append(decodeURIComponent(Q),decodeURIComponent(ie))}}),j}function I(M){var j=new f,O=M.replace(/\r?\n[\t ]+/g," ");return O.split("\r").map(function(q){return q.indexOf(`
`)===0?q.substr(1,q.length):q}).forEach(function(q){var Q=q.split(":"),ie=Q.shift().trim();if(ie){var X=Q.join(":").trim();try{j.append(ie,X)}catch(le){console.warn("Response "+le.message)}}}),j}m.call(S.prototype);function C(M,j){if(!(this instanceof C))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(j||(j={}),this.type="default",this.status=j.status===void 0?200:j.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=j.statusText===void 0?"":""+j.statusText,this.headers=new f(j.headers),this.url=j.url||"",this._initBody(M)}m.call(C.prototype),C.prototype.clone=function(){return new C(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},C.error=function(){var M=new C(null,{status:200,statusText:""});return M.ok=!1,M.status=0,M.type="error",M};var B=[301,302,303,307,308];C.redirect=function(M,j){if(B.indexOf(j)===-1)throw new RangeError("Invalid status code");return new C(null,{status:j,headers:{location:M}})},t.DOMException=r.DOMException;try{new t.DOMException}catch{t.DOMException=function(j,O){this.message=j,this.name=O;var q=Error(j);this.stack=q.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function D(M,j){return new Promise(function(O,q){var Q=new S(M,j);if(Q.signal&&Q.signal.aborted)return q(new t.DOMException("Aborted","AbortError"));var ie=new XMLHttpRequest;function X(){ie.abort()}ie.onload=function(){var ne={statusText:ie.statusText,headers:I(ie.getAllResponseHeaders()||"")};Q.url.indexOf("file://")===0&&(ie.status<200||ie.status>599)?ne.status=200:ne.status=ie.status,ne.url="responseURL"in ie?ie.responseURL:ne.headers.get("X-Request-URL");var V="response"in ie?ie.response:ie.responseText;setTimeout(function(){O(new C(V,ne))},0)},ie.onerror=function(){setTimeout(function(){q(new TypeError("Network request failed"))},0)},ie.ontimeout=function(){setTimeout(function(){q(new TypeError("Network request timed out"))},0)},ie.onabort=function(){setTimeout(function(){q(new t.DOMException("Aborted","AbortError"))},0)};function le(ne){try{return ne===""&&r.location.href?r.location.href:ne}catch{return ne}}if(ie.open(Q.method,le(Q.url),!0),Q.credentials==="include"?ie.withCredentials=!0:Q.credentials==="omit"&&(ie.withCredentials=!1),"responseType"in ie&&(n.blob?ie.responseType="blob":n.arrayBuffer&&(ie.responseType="arraybuffer")),j&&typeof j.headers=="object"&&!(j.headers instanceof f||r.Headers&&j.headers instanceof r.Headers)){var ae=[];Object.getOwnPropertyNames(j.headers).forEach(function(ne){ae.push(s(ne)),ie.setRequestHeader(ne,u(j.headers[ne]))}),Q.headers.forEach(function(ne,V){ae.indexOf(V)===-1&&ie.setRequestHeader(V,ne)})}else Q.headers.forEach(function(ne,V){ie.setRequestHeader(V,ne)});Q.signal&&(Q.signal.addEventListener("abort",X),ie.onreadystatechange=function(){ie.readyState===4&&Q.signal.removeEventListener("abort",X)}),ie.send(typeof Q._bodyInit>"u"?null:Q._bodyInit)})}return D.polyfill=!0,r.fetch||(r.fetch=D,r.Headers=f,r.Request=S,r.Response=C),t.Headers=f,t.Request=S,t.Response=C,t.fetch=D,Object.defineProperty(t,"__esModule",{value:!0}),t})({})})(typeof self<"u"?self:Tw)}()),Tw}var Rw={},ZN;function ny(){return ZN||(ZN=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ERROR_CODES=e.ErrorCoded=void 0;class t extends Error{constructor(n,a){super(n),this.code=a}}e.ErrorCoded=t,function(r){r.COLLIDING_KEYWORDS="colliding keywords",r.CONFLICTING_INDEXES="conflicting indexes",r.CYCLIC_IRI_MAPPING="cyclic IRI mapping",r.INVALID_ID_VALUE="invalid @id value",r.INVALID_INDEX_VALUE="invalid @index value",r.INVALID_NEST_VALUE="invalid @nest value",r.INVALID_PREFIX_VALUE="invalid @prefix value",r.INVALID_PROPAGATE_VALUE="invalid @propagate value",r.INVALID_REVERSE_VALUE="invalid @reverse value",r.INVALID_IMPORT_VALUE="invalid @import value",r.INVALID_VERSION_VALUE="invalid @version value",r.INVALID_BASE_IRI="invalid base IRI",r.INVALID_CONTAINER_MAPPING="invalid container mapping",r.INVALID_CONTEXT_ENTRY="invalid context entry",r.INVALID_CONTEXT_NULLIFICATION="invalid context nullification",r.INVALID_DEFAULT_LANGUAGE="invalid default language",r.INVALID_INCLUDED_VALUE="invalid @included value",r.INVALID_IRI_MAPPING="invalid IRI mapping",r.INVALID_JSON_LITERAL="invalid JSON literal",r.INVALID_KEYWORD_ALIAS="invalid keyword alias",r.INVALID_LANGUAGE_MAP_VALUE="invalid language map value",r.INVALID_LANGUAGE_MAPPING="invalid language mapping",r.INVALID_LANGUAGE_TAGGED_STRING="invalid language-tagged string",r.INVALID_LANGUAGE_TAGGED_VALUE="invalid language-tagged value",r.INVALID_LOCAL_CONTEXT="invalid local context",r.INVALID_REMOTE_CONTEXT="invalid remote context",r.INVALID_REVERSE_PROPERTY="invalid reverse property",r.INVALID_REVERSE_PROPERTY_MAP="invalid reverse property map",r.INVALID_REVERSE_PROPERTY_VALUE="invalid reverse property value",r.INVALID_SCOPED_CONTEXT="invalid scoped context",r.INVALID_SCRIPT_ELEMENT="invalid script element",r.INVALID_SET_OR_LIST_OBJECT="invalid set or list object",r.INVALID_TERM_DEFINITION="invalid term definition",r.INVALID_TYPE_MAPPING="invalid type mapping",r.INVALID_TYPE_VALUE="invalid type value",r.INVALID_TYPED_VALUE="invalid typed value",r.INVALID_VALUE_OBJECT="invalid value object",r.INVALID_VALUE_OBJECT_VALUE="invalid value object value",r.INVALID_VOCAB_MAPPING="invalid vocab mapping",r.IRI_CONFUSED_WITH_PREFIX="IRI confused with prefix",r.KEYWORD_REDEFINITION="keyword redefinition",r.LOADING_DOCUMENT_FAILED="loading document failed",r.LOADING_REMOTE_CONTEXT_FAILED="loading remote context failed",r.MULTIPLE_CONTEXT_LINK_HEADERS="multiple context link headers",r.PROCESSING_MODE_CONFLICT="processing mode conflict",r.PROTECTED_TERM_REDEFINITION="protected term redefinition",r.CONTEXT_OVERFLOW="context overflow",r.INVALID_BASE_DIRECTION="invalid base direction",r.RECURSIVE_CONTEXT_INCLUSION="recursive context inclusion",r.INVALID_STREAMING_KEY_ORDER="invalid streaming key order",r.INVALID_EMBEDDED_NODE="invalid embedded node",r.INVALID_ANNOTATION="invalid annotation"}(e.ERROR_CODES||(e.ERROR_CODES={}))}(Rw)),Rw}var Id={},YN;function I8(){if(YN)return Id;YN=1,Object.defineProperty(Id,"__esModule",{value:!0}),Id.FetchDocumentLoader=void 0,A8();const e=ny(),t=Ux(),r=Li();let n=class{constructor(i){this.fetcher=i}async load(i){const o=await(this.fetcher||fetch)(i,{headers:new Headers({accept:"application/ld+json"})});if(o.ok&&o.headers){let s=o.headers.get("Content-Type");if(s){const u=s.indexOf(";");u>0&&(s=s.substr(0,u))}if(s==="application/ld+json")return await o.json();if(o.headers.has("Link")){let u;if(o.headers.forEach((l,f)=>{if(f==="link"){const d=(0,t.parse)(l);for(const c of d.get("type","application/ld+json"))if(c.rel==="alternate"){if(u)throw new Error("Multiple JSON-LD alternate links were found on "+i);u=(0,r.resolve)(c.uri,i)}}}),u)return this.load(u)}throw new e.ErrorCoded(`Unsupported JSON-LD media type ${s}`,e.ERROR_CODES.LOADING_DOCUMENT_FAILED)}else throw new Error(o.statusText||`Status code: ${o.status}`)}};return Id.FetchDocumentLoader=n,Id}var Aw={},Od={},QN;function Vx(){if(QN)return Od;QN=1,Object.defineProperty(Od,"__esModule",{value:!0}),Od.Util=void 0;let e=class qa{static isCompactIri(r){return r.indexOf(":")>0&&!(r&&r[0]==="#")}static getPrefix(r,n){if(r&&r[0]==="#")return null;const a=r.indexOf(":");if(a>=0){if(r.length>a+1&&r.charAt(a+1)==="/"&&r.charAt(a+2)==="/")return null;const i=r.substr(0,a);if(i==="_")return null;if(n[i])return i}return null}static getContextValueId(r){if(r===null||typeof r=="string")return r;const n=r["@id"];return n||null}static isSimpleTermDefinitionPrefix(r,n){return!qa.isPotentialKeyword(r)&&(n.allowPrefixNonGenDelims||typeof r=="string"&&(r[0]==="_"||qa.isPrefixIriEndingWithGenDelim(r)))}static isPotentialKeyword(r){return typeof r=="string"&&qa.KEYWORD_REGEX.test(r)}static isPrefixIriEndingWithGenDelim(r){return qa.ENDS_WITH_GEN_DELIM.test(r)}static isPrefixValue(r){return r&&(typeof r=="string"||r&&typeof r=="object")}static isValidIri(r){return!!(r&&qa.IRI_REGEX.test(r))}static isValidIriWeak(r){return!!r&&r[0]!==":"&&qa.IRI_REGEX_WEAK.test(r)}static isValidKeyword(r){return qa.VALID_KEYWORDS[r]}static isTermProtected(r,n){const a=r[n];return typeof a!="string"&&a&&a["@protected"]}static hasProtectedTerms(r){for(const n of Object.keys(r))if(qa.isTermProtected(r,n))return!0;return!1}static isReservedInternalKeyword(r){return r.startsWith("@__")}static deepEqual(r,n){const a=Object.keys(r),i=Object.keys(n);return a.length!==i.length?!1:a.every(o=>{const s=r[o],u=n[o];return s===u||s!==null&&u!==null&&typeof s=="object"&&typeof u=="object"&&this.deepEqual(s,u)})}};return e.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`#]*(#[^#]*)?$/,e.IRI_REGEX_WEAK=/(?::[^:])|\//,e.KEYWORD_REGEX=/^@[a-z]+$/i,e.ENDS_WITH_GEN_DELIM=/[:/?#\[\]@]$/,e.REGEX_LANGUAGE_TAG=/^[a-zA-Z]+(-[a-zA-Z0-9]+)*$/,e.REGEX_DIRECTION_TAG=/^(ltr)|(rtl)$/,e.VALID_KEYWORDS={"@annotation":!0,"@base":!0,"@container":!0,"@context":!0,"@direction":!0,"@graph":!0,"@id":!0,"@import":!0,"@included":!0,"@index":!0,"@json":!0,"@language":!0,"@list":!0,"@nest":!0,"@none":!0,"@prefix":!0,"@propagate":!0,"@protected":!0,"@reverse":!0,"@set":!0,"@type":!0,"@value":!0,"@version":!0,"@vocab":!0},e.EXPAND_KEYS_BLACKLIST=["@base","@vocab","@language","@version","@direction"],e.ALIAS_DOMAIN_BLACKLIST=["@container","@graph","@id","@index","@list","@nest","@none","@prefix","@reverse","@set","@type","@value","@version"],e.ALIAS_RANGE_BLACKLIST=["@context","@preserve"],e.CONTAINERS=["@list","@set","@index","@language","@graph","@id","@type"],e.CONTAINERS_1_0=["@list","@set","@index"],Od.Util=e,Od}var XN;function O8(){return XN||(XN=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.defaultExpandOptions=e.JsonLdContextNormalized=void 0;const t=Li(),r=ny(),n=Vx();class a{constructor(o){this.contextRaw=o}getContextRaw(){return this.contextRaw}expandTerm(o,s,u=e.defaultExpandOptions){const l=this.contextRaw[o];if(l===null||l&&l["@id"]===null)return null;let f=!0;if(l&&s){const b=n.Util.getContextValueId(l);if(b&&b!==o)if(typeof b!="string"||!n.Util.isValidIri(b)&&!n.Util.isValidKeyword(b))n.Util.isPotentialKeyword(b)||(f=!1);else return b}const d=n.Util.getPrefix(o,this.contextRaw),c=this.contextRaw["@vocab"],p=(!!c||c==="")&&c.indexOf(":")<0,_=this.contextRaw["@base"],v=n.Util.isPotentialKeyword(o);if(d){const b=this.contextRaw[d],m=n.Util.getContextValueId(b);if(m){if(typeof b=="string"||!u.allowPrefixForcing){if(!n.Util.isSimpleTermDefinitionPrefix(m,u))return o}else if(m[0]!=="_"&&!v&&!b["@prefix"]&&!(o in this.contextRaw))return o;return m+o.substr(d.length+1)}}else if(s&&(c||c===""||u.allowVocabRelativeToBase&&_&&p)&&!v&&!n.Util.isCompactIri(o))if(p){if(u.allowVocabRelativeToBase)return(c||_?(0,t.resolve)(c,_):"")+o;throw new r.ErrorCoded(`Relative vocab expansion for term '${o}' with vocab '${c}' is not allowed.`,r.ERROR_CODES.INVALID_VOCAB_MAPPING)}else return c+o;else if(!s&&_&&!v&&!n.Util.isCompactIri(o))return(0,t.resolve)(o,_);if(f)return o;throw new r.ErrorCoded(`Invalid IRI mapping found for context entry '${o}': '${JSON.stringify(l)}'`,r.ERROR_CODES.INVALID_IRI_MAPPING)}compactIri(o,s){if(s&&this.contextRaw["@vocab"]&&o.startsWith(this.contextRaw["@vocab"]))return o.substr(this.contextRaw["@vocab"].length);if(!s&&this.contextRaw["@base"]&&o.startsWith(this.contextRaw["@base"]))return o.substr(this.contextRaw["@base"].length);const u={prefix:"",suffix:o};for(const l in this.contextRaw){const f=this.contextRaw[l];if(f&&!n.Util.isPotentialKeyword(l)){const d=n.Util.getContextValueId(f);if(o.startsWith(d)){const c=o.substr(d.length);if(c)c.length<u.suffix.length&&(u.prefix=l,u.suffix=c);else if(s)return l}}}return u.prefix?u.prefix+":"+u.suffix:o}}e.JsonLdContextNormalized=a,e.defaultExpandOptions={allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}}(Aw)),Aw}var JN;function rte(){if(JN)return Ad;JN=1,Object.defineProperty(Ad,"__esModule",{value:!0}),Ad.ContextParser=void 0,A8();const e=Li(),t=ny(),r=I8(),n=O8(),a=Vx();let i=class Ls{constructor(s){s=s||{},this.documentLoader=s.documentLoader||new r.FetchDocumentLoader,this.documentCache={},this.validateContext=!s.skipValidation,this.expandContentTypeToBase=!!s.expandContentTypeToBase,this.remoteContextsDepthLimit=s.remoteContextsDepthLimit||32,this.redirectSchemaOrgHttps="redirectSchemaOrgHttps"in s?!!s.redirectSchemaOrgHttps:!0}static validateLanguage(s,u,l){if(typeof s!="string")throw new t.ErrorCoded(`The value of an '@language' must be a string, got '${JSON.stringify(s)}'`,l);if(!a.Util.REGEX_LANGUAGE_TAG.test(s)){if(u)throw new t.ErrorCoded(`The value of an '@language' must be a valid language tag, got '${JSON.stringify(s)}'`,l);return!1}return!0}static validateDirection(s,u){if(typeof s!="string")throw new t.ErrorCoded(`The value of an '@direction' must be a string, got '${JSON.stringify(s)}'`,t.ERROR_CODES.INVALID_BASE_DIRECTION);if(!a.Util.REGEX_DIRECTION_TAG.test(s)){if(u)throw new t.ErrorCoded(`The value of an '@direction' must be 'ltr' or 'rtl', got '${JSON.stringify(s)}'`,t.ERROR_CODES.INVALID_BASE_DIRECTION);return!1}return!0}idifyReverseTerms(s){for(const u of Object.keys(s)){let l=s[u];if(l&&typeof l=="object"&&l["@reverse"]&&!l["@id"]){if(typeof l["@reverse"]!="string"||a.Util.isValidKeyword(l["@reverse"]))throw new t.ErrorCoded(`Invalid @reverse value, must be absolute IRI or blank node: '${l["@reverse"]}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);l=s[u]=Object.assign(Object.assign({},l),{"@id":l["@reverse"]}),l["@id"]=l["@reverse"],a.Util.isPotentialKeyword(l["@reverse"])?delete l["@reverse"]:l["@reverse"]=!0}}return s}expandPrefixedTerms(s,u,l){const f=s.getContextRaw();for(const d of l||Object.keys(f))if(a.Util.EXPAND_KEYS_BLACKLIST.indexOf(d)<0&&!a.Util.isReservedInternalKeyword(d)){const c=f[d];if(a.Util.isPotentialKeyword(d)&&a.Util.ALIAS_DOMAIN_BLACKLIST.indexOf(d)>=0&&(d!=="@type"||typeof f[d]=="object"&&!(f[d]["@protected"]||f[d]["@container"]==="@set")))throw new t.ErrorCoded(`Keywords can not be aliased to something else.
Tried mapping ${d} to ${JSON.stringify(c)}`,t.ERROR_CODES.KEYWORD_REDEFINITION);if(a.Util.ALIAS_RANGE_BLACKLIST.indexOf(a.Util.getContextValueId(c))>=0)throw new t.ErrorCoded(`Aliasing to certain keywords is not allowed.
Tried mapping ${d} to ${JSON.stringify(c)}`,t.ERROR_CODES.INVALID_KEYWORD_ALIAS);if(c&&a.Util.isPotentialKeyword(a.Util.getContextValueId(c))&&c["@prefix"]===!0)throw new t.ErrorCoded(`Tried to use keyword aliases as prefix: '${d}': '${JSON.stringify(c)}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);for(;a.Util.isPrefixValue(f[d]);){const p=f[d];let _=!1;if(typeof p=="string")f[d]=s.expandTerm(p,!0),_=_||p!==f[d];else{const v=p["@id"],b=p["@type"],m=!("@prefix"in p)||a.Util.isValidIri(d);if("@id"in p)v!=null&&typeof v=="string"&&(f[d]=Object.assign(Object.assign({},f[d]),{"@id":s.expandTerm(v,!0)}),_=_||v!==f[d]["@id"]);else if(!a.Util.isPotentialKeyword(d)&&m){const y=s.expandTerm(d,!0);y!==d&&(f[d]=Object.assign(Object.assign({},f[d]),{"@id":y}),_=!0)}if(b&&typeof b=="string"&&b!=="@vocab"&&(!p["@container"]||!p["@container"]["@type"])&&m){let y=s.expandTerm(b,!0);u&&b===y&&(y=s.expandTerm(b,!1)),y!==b&&(_=!0,f[d]=Object.assign(Object.assign({},f[d]),{"@type":y}))}}if(!_)break}}}normalize(s,{processingMode:u,normalizeLanguageTags:l}){if(l||u===1)for(const f of Object.keys(s))if(f==="@language"&&typeof s[f]=="string")s[f]=s[f].toLowerCase();else{const d=s[f];if(d&&typeof d=="object"&&typeof d["@language"]=="string"){const c=d["@language"].toLowerCase();c!==d["@language"]&&(s[f]=Object.assign(Object.assign({},d),{"@language":c}))}}}containersToHash(s){for(const u of Object.keys(s)){const l=s[u];if(l&&typeof l=="object"){if(typeof l["@container"]=="string")s[u]=Object.assign(Object.assign({},l),{"@container":{[l["@container"]]:!0}});else if(Array.isArray(l["@container"])){const f={};for(const d of l["@container"])f[d]=!0;s[u]=Object.assign(Object.assign({},l),{"@container":f})}}}}applyScopedProtected(s,{processingMode:u},l){if(u&&u>=1.1&&s["@protected"]){for(const f of Object.keys(s))if(!a.Util.isReservedInternalKeyword(f)&&!a.Util.isPotentialKeyword(f)&&!a.Util.isTermProtected(s,f)){const d=s[f];d&&typeof d=="object"?"@protected"in s[f]||(s[f]=Object.assign(Object.assign({},s[f]),{"@protected":!0})):(s[f]={"@id":d,"@protected":!0},a.Util.isSimpleTermDefinitionPrefix(d,l)&&(s[f]=Object.assign(Object.assign({},s[f]),{"@prefix":!0})))}delete s["@protected"]}}validateKeywordRedefinitions(s,u,l,f){for(const d of f??Object.keys(u))if(a.Util.isTermProtected(s,d)&&(typeof u[d]=="string"?u[d]={"@id":u[d],"@protected":!0}:u[d]=Object.assign(Object.assign({},u[d]),{"@protected":!0}),!a.Util.deepEqual(s[d],u[d])))throw new t.ErrorCoded(`Attempted to override the protected keyword ${d} from ${JSON.stringify(a.Util.getContextValueId(s[d]))} to ${JSON.stringify(a.Util.getContextValueId(u[d]))}`,t.ERROR_CODES.PROTECTED_TERM_REDEFINITION)}validate(s,{processingMode:u}){for(const l of Object.keys(s)){if(a.Util.isReservedInternalKeyword(l))continue;if(l==="")throw new t.ErrorCoded(`The empty term is not allowed, got: '${l}': '${JSON.stringify(s[l])}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);const f=s[l],d=typeof f;if(a.Util.isPotentialKeyword(l)){switch(l.substr(1)){case"vocab":if(f!==null&&d!=="string")throw new t.ErrorCoded(`Found an invalid @vocab IRI: ${f}`,t.ERROR_CODES.INVALID_VOCAB_MAPPING);break;case"base":if(f!==null&&d!=="string")throw new t.ErrorCoded(`Found an invalid @base IRI: ${s[l]}`,t.ERROR_CODES.INVALID_BASE_IRI);break;case"language":f!==null&&Ls.validateLanguage(f,!0,t.ERROR_CODES.INVALID_DEFAULT_LANGUAGE);break;case"version":if(f!==null&&d!=="number")throw new t.ErrorCoded(`Found an invalid @version number: ${f}`,t.ERROR_CODES.INVALID_VERSION_VALUE);break;case"direction":f!==null&&Ls.validateDirection(f,!0);break;case"propagate":if(u===1)throw new t.ErrorCoded(`Found an illegal @propagate keyword: ${f}`,t.ERROR_CODES.INVALID_CONTEXT_ENTRY);if(f!==null&&d!=="boolean")throw new t.ErrorCoded(`Found an invalid @propagate value: ${f}`,t.ERROR_CODES.INVALID_PROPAGATE_VALUE);break}if(a.Util.isValidKeyword(l)&&a.Util.isValidKeyword(a.Util.getContextValueId(f)))throw new t.ErrorCoded(`Illegal keyword alias in term value, found: '${l}': '${a.Util.getContextValueId(f)}'`,t.ERROR_CODES.KEYWORD_REDEFINITION);continue}if(f!==null)switch(d){case"string":if(a.Util.getPrefix(f,s)===l)throw new t.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${l}': '${JSON.stringify(f)}'`,t.ERROR_CODES.CYCLIC_IRI_MAPPING);if(a.Util.isValidIriWeak(l)){if(f==="@type")throw new t.ErrorCoded(`IRIs can not be mapped to @type, found: '${l}': '${f}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(a.Util.isValidIri(f)&&f!==new n.JsonLdContextNormalized(s).expandTerm(l))throw new t.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${l}': '${f}'`,t.ERROR_CODES.INVALID_IRI_MAPPING)}break;case"object":if(!a.Util.isCompactIri(l)&&!("@id"in f)&&(f["@type"]==="@id"?!s["@base"]:!s["@vocab"]))throw new t.ErrorCoded(`Missing @id in context entry: '${l}': '${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);for(const c of Object.keys(f)){const p=f[c];if(p)switch(c){case"@id":if(a.Util.isValidKeyword(p)&&p!=="@type"&&p!=="@id"&&p!=="@graph"&&p!=="@nest")throw new t.ErrorCoded(`Illegal keyword alias in term value, found: '${l}': '${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(a.Util.isValidIriWeak(l)){if(p==="@type")throw new t.ErrorCoded(`IRIs can not be mapped to @type, found: '${l}': '${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(a.Util.isValidIri(p)&&p!==new n.JsonLdContextNormalized(s).expandTerm(l))throw new t.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${l}': '${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING)}if(typeof p!="string")throw new t.ErrorCoded(`Detected non-string @id in context entry: '${l}': '${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(a.Util.getPrefix(p,s)===l)throw new t.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${l}': '${JSON.stringify(f)}'`,t.ERROR_CODES.CYCLIC_IRI_MAPPING);break;case"@type":if(f["@container"]==="@type"&&p!=="@id"&&p!=="@vocab")throw new t.ErrorCoded(`@container: @type only allows @type: @id or @vocab, but got: '${l}': '${p}'`,t.ERROR_CODES.INVALID_TYPE_MAPPING);if(typeof p!="string")throw new t.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(d)}'`,t.ERROR_CODES.INVALID_TYPE_MAPPING);if(p!=="@id"&&p!=="@vocab"&&(u===1||p!=="@json")&&(u===1||p!=="@none")&&(p[0]==="_"||!a.Util.isValidIri(p)))throw new t.ErrorCoded(`A context @type must be an absolute IRI, found: '${l}': '${p}'`,t.ERROR_CODES.INVALID_TYPE_MAPPING);break;case"@reverse":if(typeof p=="string"&&f["@id"]&&f["@id"]!==p)throw new t.ErrorCoded(`Found non-matching @id and @reverse term values in '${l}':'${p}' and '${f["@id"]}'`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY);if("@nest"in f)throw new t.ErrorCoded(`@nest is not allowed in the reverse property '${l}'`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY);break;case"@container":if(u===1&&(Object.keys(p).length>1||a.Util.CONTAINERS_1_0.indexOf(Object.keys(p)[0])<0))throw new t.ErrorCoded(`Invalid term @container for '${l}' ('${Object.keys(p)}') in 1.0, must be only one of ${a.Util.CONTAINERS_1_0.join(", ")}`,t.ERROR_CODES.INVALID_CONTAINER_MAPPING);for(const _ of Object.keys(p)){if(_==="@list"&&f["@reverse"])throw new t.ErrorCoded(`Term value can not be @container: @list and @reverse at the same time on '${l}'`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY);if(a.Util.CONTAINERS.indexOf(_)<0)throw new t.ErrorCoded(`Invalid term @container for '${l}' ('${_}'), must be one of ${a.Util.CONTAINERS.join(", ")}`,t.ERROR_CODES.INVALID_CONTAINER_MAPPING)}break;case"@language":Ls.validateLanguage(p,!0,t.ERROR_CODES.INVALID_LANGUAGE_MAPPING);break;case"@direction":Ls.validateDirection(p,!0);break;case"@prefix":if(p!==null&&typeof p!="boolean")throw new t.ErrorCoded(`Found an invalid term @prefix boolean in: '${l}': '${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_PREFIX_VALUE);if(!("@id"in f)&&!a.Util.isValidIri(l))throw new t.ErrorCoded(`Invalid @prefix definition for '${l}' ('${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@index":if(u===1||!f["@container"]||!f["@container"]["@index"])throw new t.ErrorCoded(`Attempt to add illegal key to value object: '${l}': '${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@nest":if(a.Util.isPotentialKeyword(p)&&p!=="@nest")throw new t.ErrorCoded(`Found an invalid term @nest value in: '${l}': '${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_NEST_VALUE)}}break;default:throw new t.ErrorCoded(`Found an invalid term value: '${l}': '${f}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION)}}}applyBaseEntry(s,u,l){return typeof s=="string"||(l&&!("@base"in s)&&u.parentContext&&typeof u.parentContext=="object"&&"@base"in u.parentContext&&(s["@base"]=u.parentContext["@base"],u.parentContext["@__baseDocument"]&&(s["@__baseDocument"]=!0)),u.baseIRI&&!u.external&&("@base"in s?s["@base"]!==null&&typeof s["@base"]=="string"&&!a.Util.isValidIri(s["@base"])&&(s["@base"]=(0,e.resolve)(s["@base"],u.parentContext&&u.parentContext["@base"]||u.baseIRI)):(s["@base"]=u.baseIRI,s["@__baseDocument"]=!0))),s}normalizeContextIri(s,u){if(!a.Util.isValidIri(s))try{s=(0,e.resolve)(s,u)}catch{throw new Error(`Invalid context IRI: ${s}`)}return this.redirectSchemaOrgHttps&&s.startsWith("http://schema.org")&&(s="https://schema.org/"),s}async parseInnerContexts(s,u,l){for(const f of l??Object.keys(s)){const d=s[f];if(d&&typeof d=="object"&&"@context"in d&&d["@context"]!==null&&!u.ignoreScopedContexts){if(this.validateContext)try{const c=Object.assign(Object.assign({},s),{[f]:Object.assign({},s[f])});delete c[f]["@context"],await this.parse(d["@context"],Object.assign(Object.assign({},u),{external:!1,parentContext:c,ignoreProtection:!0,ignoreRemoteScopedContexts:!0,ignoreScopedContexts:!0}))}catch(c){throw new t.ErrorCoded(c.message,t.ERROR_CODES.INVALID_SCOPED_CONTEXT)}s[f]=Object.assign(Object.assign({},d),{"@context":(await this.parse(d["@context"],Object.assign(Object.assign({},u),{external:!1,minimalProcessing:!0,ignoreRemoteScopedContexts:!0,parentContext:s}))).getContextRaw()})}}return s}async parse(s,u={},l={}){const{baseIRI:f,parentContext:d,external:c,processingMode:p=Ls.DEFAULT_PROCESSING_MODE,normalizeLanguageTags:_,ignoreProtection:v,minimalProcessing:b}=u,m=u.remoteContexts||{};if(Object.keys(m).length>=this.remoteContextsDepthLimit)throw new t.ErrorCoded("Detected an overflow in remote context inclusions: "+Object.keys(m),t.ERROR_CODES.CONTEXT_OVERFLOW);if(s==null){if(!v&&d&&a.Util.hasProtectedTerms(d))throw new t.ErrorCoded("Illegal context nullification when terms are protected",t.ERROR_CODES.INVALID_CONTEXT_NULLIFICATION);return new n.JsonLdContextNormalized(this.applyBaseEntry({},u,!1))}else if(typeof s=="string"){const y=this.normalizeContextIri(s,f),g=this.getOverriddenLoad(y,u);if(g)return new n.JsonLdContextNormalized(g);const S=await this.parse(await this.load(y),Object.assign(Object.assign({},u),{baseIRI:y,external:!0,remoteContexts:Object.assign(Object.assign({},m),{[y]:!0})}));return this.applyBaseEntry(S.getContextRaw(),u,!0),S}else if(Array.isArray(s)){const y=[],g=await Promise.all(s.map((T,I)=>{if(typeof T=="string"){const C=this.normalizeContextIri(T,f);y[I]=C;const B=this.getOverriddenLoad(C,u);return B||this.load(C)}else return T}));if(b)return new n.JsonLdContextNormalized(g);const S=await g.reduce((T,I,C)=>T.then(B=>this.parse(I,Object.assign(Object.assign({},u),{baseIRI:y[C]||u.baseIRI,external:!!y[C]||u.external,parentContext:B.getContextRaw(),remoteContexts:y[C]?Object.assign(Object.assign({},m),{[y[C]]:!0}):m}),{skipValidation:C<g.length-1})),Promise.resolve(new n.JsonLdContextNormalized(d||{})));return this.applyBaseEntry(S.getContextRaw(),u,!0),S}else if(typeof s=="object"){if("@context"in s)return await this.parse(s["@context"],u);if(s=Object.assign({},s),c&&delete s["@base"],this.applyBaseEntry(s,u,!0),this.containersToHash(s),b)return new n.JsonLdContextNormalized(s);let y={};if("@import"in s)if(p>=1.1){if(typeof s["@import"]!="string")throw new t.ErrorCoded("An @import value must be a string, but got "+typeof s["@import"],t.ERROR_CODES.INVALID_IMPORT_VALUE);y=await this.loadImportContext(this.normalizeContextIri(s["@import"],f)),delete s["@import"]}else throw new t.ErrorCoded("Context importing is not supported in JSON-LD 1.0",t.ERROR_CODES.INVALID_CONTEXT_ENTRY);this.applyScopedProtected(y,{processingMode:p},n.defaultExpandOptions);const g=Object.assign(y,s);this.idifyReverseTerms(g),this.normalize(g,{processingMode:p,normalizeLanguageTags:_}),this.applyScopedProtected(g,{processingMode:p},n.defaultExpandOptions);const S=Object.keys(g),T=[];if(typeof d=="object")for(const C in d)C in g?T.push(C):g[C]=d[C];await this.parseInnerContexts(g,u,S);const I=new n.JsonLdContextNormalized(g);return(g&&g["@version"]||Ls.DEFAULT_PROCESSING_MODE)>=1.1&&(s["@vocab"]&&typeof s["@vocab"]=="string"||s["@vocab"]==="")&&(d&&"@vocab"in d&&s["@vocab"].indexOf(":")<0?g["@vocab"]=d["@vocab"]+s["@vocab"]:(a.Util.isCompactIri(s["@vocab"])||s["@vocab"]in g)&&(g["@vocab"]=I.expandTerm(s["@vocab"],!0))),this.expandPrefixedTerms(I,this.expandContentTypeToBase,S),!v&&d&&p>=1.1&&this.validateKeywordRedefinitions(d,g,n.defaultExpandOptions,T),this.validateContext&&!l.skipValidation&&this.validate(g,{processingMode:p}),I}else throw new t.ErrorCoded(`Tried parsing a context that is not a string, array or object, but got ${s}`,t.ERROR_CODES.INVALID_LOCAL_CONTEXT)}async load(s){const u=this.documentCache[s];if(u)return u;let l;try{l=await this.documentLoader.load(s)}catch(f){throw new t.ErrorCoded(`Failed to load remote context ${s}: ${f.message}`,t.ERROR_CODES.LOADING_REMOTE_CONTEXT_FAILED)}if(!("@context"in l))throw new t.ErrorCoded(`Missing @context in remote context at ${s}`,t.ERROR_CODES.INVALID_REMOTE_CONTEXT);return this.documentCache[s]=l["@context"]}getOverriddenLoad(s,u){if(s in(u.remoteContexts||{})){if(u.ignoreRemoteScopedContexts)return s;throw new t.ErrorCoded("Detected a cyclic context inclusion of "+s,t.ERROR_CODES.RECURSIVE_CONTEXT_INCLUSION)}return null}async loadImportContext(s){let u=await this.load(s);if(typeof u!="object"||Array.isArray(u))throw new t.ErrorCoded("An imported context must be a single object: "+s,t.ERROR_CODES.INVALID_REMOTE_CONTEXT);if("@import"in u)throw new t.ErrorCoded("An imported context can not import another context: "+s,t.ERROR_CODES.INVALID_CONTEXT_ENTRY);return u=Object.assign({},u),this.containersToHash(u),u}};return i.DEFAULT_PROCESSING_MODE=1.1,Ad.ContextParser=i,Ad}var Iw={},eM;function nte(){return eM||(eM=1,Object.defineProperty(Iw,"__esModule",{value:!0})),Iw}var Ow={},tM;function ite(){return tM||(tM=1,Object.defineProperty(Ow,"__esModule",{value:!0})),Ow}var rM;function ate(){return rM||(rM=1,function(e){var t=Rd.__createBinding||(Object.create?function(n,a,i,o){o===void 0&&(o=i);var s=Object.getOwnPropertyDescriptor(a,i);(!s||("get"in s?!a.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,o,s)}:function(n,a,i,o){o===void 0&&(o=i),n[o]=a[i]}),r=Rd.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(rte(),e),r(ny(),e),r(I8(),e),r(nte(),e),r(ite(),e),r(O8(),e),r(Vx(),e)}(Rd)),Rd}var nM;function C8(){if(nM)return Td;nM=1,Object.defineProperty(Td,"__esModule",{value:!0}),Td.DocumentLoaderMediated=void 0;const e=ey(),t=J0(),r=ate();let n=class P8 extends r.FetchDocumentLoader{constructor(i,o){super(P8.createFetcher(i,o)),this.mediatorHttp=i,this.context=o}static createFetcher(i,o){return async(s,u)=>{const l=await i.mediate({input:s,init:u,context:o});return l.json=async()=>JSON.parse(await(0,t.stringify)(e.ActorHttp.toNodeReadable(l.body))),l}}};return Td.DocumentLoaderMediated=n,Td}var iM;function ote(){if(iM)return Qc;iM=1,Object.defineProperty(Qc,"__esModule",{value:!0}),Qc.ActorRdfParseJsonLd=void 0;const e=Tl(),t=Ji(),r=hr(),n=tte(),a=C8();let i=class extends e.ActorRdfParseFixedMediaTypes{constructor(s){super(s)}async testHandle(s,u,l){return l.has(t.KeysRdfParseHtmlScript.processingHtmlScript)&&u!=="application/ld+json"?(0,r.failTest)("JSON-LD in script tags can only have media type 'application/ld+json'"):!u||!(u in this.mediaTypePriorities||u.endsWith("+json"))?(0,r.failTest)(`Unrecognized media type: ${u}`):await this.testHandleChecked(s)}async runHandle(s,u,l){var p;const f=s.context.getSafe(t.KeysInitQuery.dataFactory);return{data:n.JsonLdParser.fromHttpResponse(((p=s.metadata)==null?void 0:p.baseIRI)??"",u,s.headers,{dataFactory:f,documentLoader:l.get(t.KeysRdfParseJsonLd.documentLoader)??new a.DocumentLoaderMediated(this.mediatorHttp,l),strictValues:l.get(t.KeysRdfParseJsonLd.strictValues),...l.get(t.KeysRdfParseJsonLd.parserOptions)}).import(s.data)}}};return Qc.ActorRdfParseJsonLd=i,Qc}var aM;function ste(){return aM||(aM=1,function(e){var t=Yc.__createBinding||(Object.create?function(n,a,i,o){o===void 0&&(o=i);var s=Object.getOwnPropertyDescriptor(a,i);(!s||("get"in s?!a.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,o,s)}:function(n,a,i,o){o===void 0&&(o=i),n[o]=a[i]}),r=Yc.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(ote(),e),r(C8(),e)}(Yc)),Yc}var Pd={},Cd={},Ld={},Dd={},oM;function ute(){if(oM)return Dd;oM=1,Object.defineProperty(Dd,"__esModule",{value:!0}),Dd.ActorDereferenceRdf=void 0;const e=Bx();let t=class extends e.ActorDereferenceParse{constructor(n){super(n)}};return Dd.ActorDereferenceRdf=t,Dd}var sM;function lte(){return sM||(sM=1,function(e){var t=Ld.__createBinding||(Object.create?function(n,a,i,o){o===void 0&&(o=i);var s=Object.getOwnPropertyDescriptor(a,i);(!s||("get"in s?!a.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,o,s)}:function(n,a,i,o){o===void 0&&(o=i),n[o]=a[i]}),r=Ld.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(ute(),e)}(Ld)),Ld}var uM;function fte(){if(uM)return Cd;uM=1,Object.defineProperty(Cd,"__esModule",{value:!0}),Cd.ActorDereferenceRdfParse=void 0;const e=lte();let t=class extends e.ActorDereferenceRdf{constructor(n){super(n)}async getMetadata(n){return{baseIRI:n.url}}};return Cd.ActorDereferenceRdfParse=t,Cd}var lM;function cte(){return lM||(lM=1,function(e){var t=Pd.__createBinding||(Object.create?function(n,a,i,o){o===void 0&&(o=i);var s=Object.getOwnPropertyDescriptor(a,i);(!s||("get"in s?!a.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,o,s)}:function(n,a,i,o){o===void 0&&(o=i),n[o]=a[i]}),r=Pd.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(fte(),e)}(Pd)),Pd}var Nd={},Md={},kd={},fM;function dte(){if(fM)return kd;fM=1,Object.defineProperty(kd,"__esModule",{value:!0}),kd.HtmlScriptListener=void 0;const e=Ji(),t=Xi(),r=Li();let n=class rh{constructor(i,o,s,u,l,f,d,c){this.textChunksJsonLd=[],this.endBarrier=1,this.passedScripts=0,this.isFinalJsonLdProcessing=!1,this.mediatorRdfParseHandle=i,this.cbQuad=o,this.cbError=s,this.cbEnd=u,this.supportedTypes=l,this.context=f.set(e.KeysRdfParseHtmlScript.processingHtmlScript,!0),this.baseIRI=d,this.headers=c,this.onlyFirstScript=f.get(e.KeysRdfParseHtmlScript.extractAllScripts)===!1;const p=this.baseIRI.indexOf("#");this.targetScriptId=p>0?this.baseIRI.slice(p+1,this.baseIRI.length):null}static newErrorCoded(i,o){const s=new Error(i);return s.code=o,s}onEnd(){--this.endBarrier===0&&(this.textChunksJsonLd.length>0?(this.handleMediaType="application/ld+json",this.textChunks=this.textChunksJsonLd,this.textChunks.push("]"),this.textChunksJsonLd=[],this.isFinalJsonLdProcessing=!0,this.endBarrier++,this.onTagClose()):(this.passedScripts===0&&this.targetScriptId&&this.cbError(rh.newErrorCoded(`Failed to find targeted script id "${this.targetScriptId}"`,"loading document failed")),this.cbEnd()),this.isFinalJsonLdProcessing=!1)}onTagClose(){if(this.handleMediaType)if(this.requiresCustomJsonLdHandling(this.handleMediaType)&&!this.isFinalJsonLdProcessing)this.handleMediaType=void 0,this.textChunks=void 0,this.onEnd();else{const i=new t.Readable({objectMode:!0});i._read=()=>{};const o=this.textChunks,s={context:this.context,handle:{metadata:{baseIRI:this.baseIRI},data:i,headers:this.headers,context:this.context},handleMediaType:this.handleMediaType};this.mediatorRdfParseHandle.mediate(s).then(({handle:u})=>{u.data.on("error",l=>this.cbError(rh.newErrorCoded(l.message,"invalid script element"))).on("data",this.cbQuad).on("end",()=>this.onEnd());for(const l of o)i.push(l);i.push(null)}).catch(u=>{this.targetScriptId?this.cbError(rh.newErrorCoded(u.message,"loading document failed")):this.onEnd()}),this.handleMediaType=void 0,this.textChunks=void 0}}onTagOpen(i,o){i==="base"&&o.href&&(this.baseIRI=(0,r.resolve)(o.href,this.baseIRI)),i==="script"&&(!this.targetScriptId||o.id===this.targetScriptId)?this.supportedTypes[o.type]?this.onlyFirstScript&&this.passedScripts>0?this.handleMediaType=void 0:(this.passedScripts++,this.handleMediaType=o.type,this.endBarrier++,this.requiresCustomJsonLdHandling(this.handleMediaType)?(this.textChunks=this.textChunksJsonLd,this.textChunks.push(this.textChunks.length===0?"[":",")):this.textChunks=[]):this.targetScriptId&&this.cbError(rh.newErrorCoded(`Targeted script "${this.targetScriptId}" does not have a supported type`,"loading document failed")):this.handleMediaType=void 0}onText(i){this.handleMediaType&&this.textChunks.push(i)}requiresCustomJsonLdHandling(i){return!this.onlyFirstScript&&!this.targetScriptId&&i==="application/ld+json"}};return kd.HtmlScriptListener=n,kd}var cM;function hte(){if(cM)return Md;cM=1,Object.defineProperty(Md,"__esModule",{value:!0}),Md.ActorRdfParseHtmlScript=void 0;const e=$x(),t=hr(),r=dte();let n=class extends e.ActorRdfParseHtml{constructor(i){super(i)}async test(i){return(0,t.passTestVoid)()}async run(i){const o=(await this.mediatorRdfParseMediatypes.mediate({context:i.context,mediaTypes:!0})).mediaTypes;return{htmlParseListener:new r.HtmlScriptListener(this.mediatorRdfParseHandle,i.emit,i.error,i.end,o,i.context,i.baseIRI,i.headers)}}};return Md.ActorRdfParseHtmlScript=n,Md}var dM;function pte(){return dM||(dM=1,function(e){var t=Nd.__createBinding||(Object.create?function(n,a,i,o){o===void 0&&(o=i);var s=Object.getOwnPropertyDescriptor(a,i);(!s||("get"in s?!a.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,o,s)}:function(n,a,i,o){o===void 0&&(o=i),n[o]=a[i]}),r=Nd.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(hte(),e)}(Nd)),Nd}var Fd={},jd={},Rs={},hM;function L8(){if(hM)return Rs;hM=1,Object.defineProperty(Rs,"__esModule",{value:!0}),Rs.ActorDereferenceHttpBase=Rs.mediaTypesToAcceptString=void 0;const e=Bx(),t=ey(),r=hr(),n=J0(),a=Li(),i=/^[^ ;]*/u;function o(u,l){const f="*/*;q=0.1",d=[],c=Object.entries(u).map(([_,v])=>({mediaType:_,priority:v})).sort((_,v)=>v.priority===_.priority?_.mediaType.localeCompare(v.mediaType):v.priority-_.priority);let p=c.length-1;for(const{mediaType:_,priority:v}of c){const b=_+(v===1?"":`;q=${v.toFixed(3).replace(/0*$/u,"")}`);if(p+b.length>l){for(;p+f.length>l;){const m=d.pop()??"";p-=m.length+1}d.push(f);break}d.push(b),p+=b.length}return d.length===0?"*/*":d.join(",")}Rs.mediaTypesToAcceptString=o;let s=class extends e.ActorDereference{constructor(l){super(l)}async test({url:l}){return/^https?:/u.test(l)?(0,r.passTestVoid)():(0,r.failTest)(`Cannot retrieve ${l} because it is not an HTTP(S) URL.`)}async run(l){var m,y;let f=!0;const d=new Headers(l.headers);d.append("Accept",o(await((m=l.mediaTypes)==null?void 0:m.call(l))??{},this.getMaxAcceptHeaderLength()));let c;const p=Date.now();try{c=await this.mediatorHttp.mediate({context:l.context,init:{headers:d,method:l.method},input:l.url})}catch(g){return this.handleDereferenceErrors(l,g)}const _=(0,a.resolve)(c.url,l.url),v=Date.now()-p;if(c.status!==200){f=!1;const g=c.body?await(0,n.stringify)(t.ActorHttp.toNodeReadable(c.body)):"empty response";if(!l.acceptErrors){const S=new Error(`Could not retrieve ${l.url} (HTTP status ${c.status}):
${g}`);return this.handleDereferenceErrors(l,S,c.headers,v)}}const b=(y=i.exec(c.headers.get("content-type")??""))==null?void 0:y[0];return{url:_,data:f?t.ActorHttp.toNodeReadable(c.body):(0,e.emptyReadable)(),exists:f,requestTime:v,headers:c.headers,mediaType:b==="text/plain"?void 0:b}}};return Rs.ActorDereferenceHttpBase=s,Rs}var pM;function mte(){if(pM)return jd;pM=1,Object.defineProperty(jd,"__esModule",{value:!0}),jd.ActorDereferenceHttp=void 0;const e=L8();class t extends e.ActorDereferenceHttpBase{getMaxAcceptHeaderLength(){return this.maxAcceptHeaderLengthBrowser}}return jd.ActorDereferenceHttp=t,jd}var mM;function yte(){return mM||(mM=1,function(e){var t=Fd.__createBinding||(Object.create?function(n,a,i,o){o===void 0&&(o=i);var s=Object.getOwnPropertyDescriptor(a,i);(!s||("get"in s?!a.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,o,s)}:function(n,a,i,o){o===void 0&&(o=i),n[o]=a[i]}),r=Fd.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(mte(),e),r(L8(),e)}(Fd)),Fd}var Bd={},qd={},yM;function gte(){if(yM)return qd;yM=1,Object.defineProperty(qd,"__esModule",{value:!0}),qd.ActorHttpProxy=void 0;const e=ey(),t=Ji(),r=hr();let n=class extends e.ActorHttp{constructor(i){super(i)}async test(i){const o=i.context.get(t.KeysHttpProxy.httpProxyHandler);return o?await o.getProxy(i)?(0,r.passTest)({time:Number.POSITIVE_INFINITY}):(0,r.failTest)(`Actor ${this.name} could not determine a proxy for the given request.`):(0,r.failTest)(`Actor ${this.name} could not find a proxy handler in the context.`)}async run(i){const o=typeof i.input=="string"?i.input:i.input.url,s=i.context.get(t.KeysHttpProxy.httpProxyHandler),u=await this.mediatorHttp.mediate({...await s.getProxy(i),context:i.context.delete(t.KeysHttpProxy.httpProxyHandler)});return Object.defineProperty(u,"url",{configurable:!0,enumerable:!0,get:()=>u.headers.get("x-final-url")??o}),u}};return qd.ActorHttpProxy=n,qd}var $d={},gM;function _te(){if(gM)return $d;gM=1,Object.defineProperty($d,"__esModule",{value:!0}),$d.ProxyHandlerStatic=void 0;let e=class{constructor(r){this.prefixUrl=r}async getProxy(r){return{init:r.init,input:this.modifyInput(r.input)}}modifyInput(r){return typeof r=="string"?this.prefixUrl+r:new Request(this.prefixUrl+r.url,r)}};return $d.ProxyHandlerStatic=e,$d}var _M;function bte(){return _M||(_M=1,function(e){var t=Bd.__createBinding||(Object.create?function(n,a,i,o){o===void 0&&(o=i);var s=Object.getOwnPropertyDescriptor(a,i);(!s||("get"in s?!a.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,o,s)}:function(n,a,i,o){o===void 0&&(o=i),n[o]=a[i]}),r=Bd.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(gte(),e),r(_te(),e)}(Bd)),Bd}var Pw,bM;function vte(){return bM||(bM=1,Pw=function(e){const t=new(hr()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-dereference-rdf/^4.0.0/components/ActorDereferenceRdf.jsonld#ActorDereferenceRdf_default_bus"}),r=new(hr()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-dereference/^4.0.0/components/ActorDereference.jsonld#ActorDereference_default_bus"}),n=new(hr()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http/^4.0.0/components/ActorHttp.jsonld#ActorHttp_default_bus"}),a=new(hr()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-parse/^4.0.0/components/ActorRdfParse.jsonld#ActorRdfParse_default_bus"}),i=new(hr()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-parse-html/^4.0.0/components/ActorRdfParseHtml.jsonld#ActorRdfParseHtml_default_bus"}),o=new(Q1()).MediatorRace({name:"urn:comunica:default:dereference-rdf/mediators#main",bus:t}),s=new(XX()).ActorDereferenceFallback({name:"urn:comunica:default:dereference/actors#fallback",bus:r,busFailMessage:"Dereferencing failed: none of the configured actors were able to handle ${action.url}"}),u=new(Q1()).MediatorRace({name:"urn:comunica:default:dereference/mediators#main",bus:r}),l=new(TJ()).ActorHttpFetch({agentOptions:{keepAlive:!0,maxSockets:5},name:"urn:comunica:default:http/actors#fetch",bus:n,busFailMessage:"HTTP request failed: none of the configured actors were able to handle ${action.input}"}),f=new(AJ()).MediatorNumber({field:"time",type:"min",ignoreFailures:!0,name:"urn:comunica:default:http/mediators#main",bus:n}),d=new(LJ()).ActorRdfParseN3({mediaTypePriorities:{"application/n-quads":1,"application/n-triples":.8,"application/trig":.95,"text/n3":.35,"text/turtle":.6},mediaTypeFormats:{"application/n-quads":"http://www.w3.org/ns/formats/N-Quads","application/n-triples":"http://www.w3.org/ns/formats/N-Triples","application/trig":"http://www.w3.org/ns/formats/TriG","text/n3":"http://www.w3.org/ns/formats/N3","text/turtle":"http://www.w3.org/ns/formats/Turtle"},priorityScale:1,name:"urn:comunica:default:rdf-parse/actors#n3",bus:a,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),c=new(VJ()).ActorRdfParseRdfXml({mediaTypePriorities:{"application/rdf+xml":1},mediaTypeFormats:{"application/rdf+xml":"http://www.w3.org/ns/formats/RDF_XML"},priorityScale:.5,name:"urn:comunica:default:rdf-parse/actors#rdfxml",bus:a,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),p=new(lee()).ActorRdfParseXmlRdfa({mediaTypePriorities:{"application/xml":1,"image/svg+xml":1,"text/xml":1},mediaTypeFormats:{"application/xml":"http://www.w3.org/ns/formats/RDFa","image/svg+xml":"http://www.w3.org/ns/formats/RDFa","text/xml":"http://www.w3.org/ns/formats/RDFa"},priorityScale:.3,name:"urn:comunica:default:rdf-parse/actors#xmlrdfa",bus:a,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),_=new(pee()).ActorRdfParseShaclc({mediaTypePriorities:{"text/shaclc":1,"text/shaclc-ext":.5},mediaTypeFormats:{"text/shaclc":"http://www.w3.org/ns/formats/Shaclc","text/shaclc-ext":"http://www.w3.org/ns/formats/ShaclcExtended"},priorityScale:.1,name:"urn:comunica:default:rdf-parse/actors#shaclc",bus:a,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),v=new(Q1()).MediatorRace({name:"urn:comunica:default:rdf-parse/mediators#parse",bus:a}),b=new(yee()).MediatorCombineUnion({field:"mediaTypes",name:"urn:comunica:default:rdf-parse/mediators#mediaType",bus:a}),m=new(bee()).ActorRdfParseHtml({busRdfParseHtml:i,mediaTypePriorities:{"application/xhtml+xml":.9,"text/html":1},mediaTypeFormats:{"application/xhtml+xml":"http://www.w3.org/ns/formats/HTML","text/html":"http://www.w3.org/ns/formats/HTML"},priorityScale:.2,name:"urn:comunica:default:rdf-parse/actors#html",bus:a,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),y=new(Pee()).ActorRdfParseHtmlMicrodata({name:"urn:comunica:default:rdf-parse-html/actors#microdata",bus:i,busFailMessage:"RDF HTML parsing failed: none of the configured parsers were able to parse RDF in HTML"}),g=new(Lee()).ActorRdfParseHtmlRdfa({name:"urn:comunica:default:rdf-parse-html/actors#rdfa",bus:i,busFailMessage:"RDF HTML parsing failed: none of the configured parsers were able to parse RDF in HTML"}),S=new(ste()).ActorRdfParseJsonLd({mediatorHttp:f,mediaTypePriorities:{"application/json":.15,"application/ld+json":1},mediaTypeFormats:{"application/json":"http://www.w3.org/ns/formats/JSON-LD","application/ld+json":"http://www.w3.org/ns/formats/JSON-LD"},priorityScale:.9,name:"urn:comunica:default:rdf-parse/actors#jsonld",bus:a,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),T=new(cte()).ActorDereferenceRdfParse({mediatorDereference:u,mediatorParse:v,mediatorParseMediatypes:b,mediaMappings:{htm:"text/html",html:"text/html",json:"application/json",jsonld:"application/ld+json",n3:"text/n3",nq:"application/n-quads",nquads:"application/n-quads",nt:"application/n-triples",ntriples:"application/n-triples",owl:"application/rdf+xml",rdf:"application/rdf+xml",rdfxml:"application/rdf+xml",shaclc:"text/shaclc",shaclce:"text/shaclc-ext",shc:"text/shaclc",shce:"text/shaclc-ext",svg:"image/svg+xml",svgz:"image/svg+xml",trig:"application/trig",ttl:"text/turtle",turtle:"text/turtle",xht:"application/xhtml+xml",xhtml:"application/xhtml+xml",xml:"application/xml"},name:"urn:comunica:default:dereference-rdf/actors#parse",bus:t,busFailMessage:"RDF dereferencing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),I=new(pte()).ActorRdfParseHtmlScript({mediatorRdfParseMediatypes:b,mediatorRdfParseHandle:v,name:"urn:comunica:default:rdf-parse-html/actors#script",bus:i,busFailMessage:"RDF HTML parsing failed: none of the configured parsers were able to parse RDF in HTML"}),C=new(yte()).ActorDereferenceHttp({mediatorHttp:f,maxAcceptHeaderLength:1024,maxAcceptHeaderLengthBrowser:128,name:"urn:comunica:default:dereference/actors#http",bus:r,busFailMessage:"Dereferencing failed: none of the configured actors were able to handle ${action.url}",beforeActors:[s]}),B=new(bte()).ActorHttpProxy({mediatorHttp:f,name:"urn:comunica:default:http/actors#proxy",bus:n,busFailMessage:"HTTP request failed: none of the configured actors were able to handle ${action.input}",beforeActors:[l]});return new(zx()).RdfDereferencer({mediatorDereferenceRdf:o,actors:[C,s,T,B,l,d,S,c,p,m,_,y,g,I]})}),Pw}var vM;function zx(){return vM||(vM=1,function(e){var t=Mf.__createBinding||(Object.create?function(i,o,s,u){u===void 0&&(u=s);var l=Object.getOwnPropertyDescriptor(o,s);(!l||("get"in l?!o.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(i,u,l)}:function(i,o,s,u){u===void 0&&(u=s),i[u]=o[s]}),r=Mf.__exportStar||function(i,o){for(var s in i)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&t(o,i,s)};Object.defineProperty(e,"__esModule",{value:!0}),e.rdfDereferencer=void 0,r(WX(),e),r(JB(),e);const n=vte(),a=typeof n=="function"?n():void 0;e.rdfDereferencer=a}(Mf)),Mf}var ES=zx();let n0;if(typeof window>"u"){let e;typeof require>"u"?Ei(()=>Promise.resolve().then(()=>Yj),void 0,import.meta.url).then(t=>e=t):e=require("fs"),n0={getItem:t=>e.readFileSync(t,"utf8"),setItem:(t,r)=>{e.writeFileSync(t,r,"utf8")},removeItem:t=>{try{e.unlinkSync(t)}catch{}}}}else n0={getItem:e=>{const t=localStorage.getItem(e);if(t)return t;throw"Key not found in local storage"},setItem:(e,t)=>{localStorage.setItem(e,t)},removeItem:e=>{localStorage.removeItem(e)}};class wte{build(t,r,n,a){return new D8(n,a)}write(){}}class Ste{constructor(t){Ye(this,"location");Ye(this,"elements");Ye(this,"found");this.location=t,this.elements=[],this.found={};try{const r=n0.getItem(t);this.found=JSON.parse(r)}catch{}}write(){const t={};for(const r of this.elements)t[r.name]=r.serialize(r.state.item);n0.setItem(this.location,JSON.stringify(t))}build(t,r,n,a){const i=this.elements.find(u=>u.name==t);if(i)return i.state;const o=this.found[t],s=new D8(n,a,o);return this.elements.push({name:t,serialize:r,state:s}),s}}class D8{constructor(t,r,n){Ye(this,"item");const a=n?t(n):r();a?this.item=a:this.item=r()}}var vu={},_o={},Bi={},wM;function Gx(){if(wM)return Bi;wM=1,Object.defineProperty(Bi,"__esModule",{value:!0}),Bi.RDFMap=Bi.ShapeTemplate=Bi.ShapeError=Bi.NodeLink=void 0;class e{constructor(i,o){this.pathPattern=i,this.link=o}}Bi.NodeLink=e;class t{constructor(i,o=[]){this.errors=[],this.type=i,this.errors=o}toString(){if(this.errors.length===1)return this.errors[0].toString();{const i=this.type=="and"?" && ":" || ";return"("+this.errors.map(o=>o.toString()).join(i)+")"}}}Bi.ShapeError=t;class r{constructor(){this.requiredPaths=[],this.nodeLinks=[],this.atLeastOneLists=[],this.optionalPaths=[],this.closed=!1}fillPathsAndLinks(i,o){for(let s of this.atLeastOneLists)for(let u of s)i.push(...u.requiredPaths),i.push(...u.optionalPaths),o.push(...u.nodeLinks),u.fillPathsAndLinks(i,o)}invalidAtLeastOneLists(i){const o=new t("and");for(let s of this.atLeastOneLists){const u=new t("or");let l=!1;for(let f of s){const d=f.requiredAreNotPresent(i);if(d)u.errors.push(d);else{l=!0;break}}l||o.errors.push(u)}if(o.errors.length>0)return o}requiredPathsAreNotPresent(i){const o=this.requiredPaths.filter(s=>!s.found(i));if(o.length>0)return new t("and",o)}requiredAreNotPresent(i){const o=this.requiredPathsAreNotPresent(i),s=this.invalidAtLeastOneLists(i);if(o&&s)return new t("and",[...o.errors,...s.errors]);if(o)return o;if(s)return s}}Bi.ShapeTemplate=r;class n{constructor(){this.namedNodes=new Map,this.blankNodes=new Map}set(i,o){i.termType==="NamedNode"&&this.namedNodes.set(i.value,o),i.termType==="BlankNode"&&this.blankNodes.set(i.value,o)}get(i){if(i.termType==="NamedNode")return this.namedNodes.get(i.value);if(i.termType==="BlankNode")return this.blankNodes.get(i.value)}}return Bi.RDFMap=n,Bi}var Om={exports:{}},Cw,SM;function Ete(){if(SM)return Cw;SM=1;function e(t){n.debug=n,n.default=n,n.coerce=l,n.disable=s,n.enable=i,n.enabled=u,n.humanize=Nj(),n.destroy=f,Object.keys(t).forEach(d=>{n[d]=t[d]}),n.names=[],n.skips=[],n.formatters={};function r(d){let c=0;for(let p=0;p<d.length;p++)c=(c<<5)-c+d.charCodeAt(p),c|=0;return n.colors[Math.abs(c)%n.colors.length]}n.selectColor=r;function n(d){let c,p=null,_,v;function b(...m){if(!b.enabled)return;const y=b,g=Number(new Date),S=g-(c||g);y.diff=S,y.prev=c,y.curr=g,c=g,m[0]=n.coerce(m[0]),typeof m[0]!="string"&&m.unshift("%O");let T=0;m[0]=m[0].replace(/%([a-zA-Z%])/g,(C,B)=>{if(C==="%%")return"%";T++;const D=n.formatters[B];if(typeof D=="function"){const M=m[T];C=D.call(y,M),m.splice(T,1),T--}return C}),n.formatArgs.call(y,m),(y.log||n.log).apply(y,m)}return b.namespace=d,b.useColors=n.useColors(),b.color=n.selectColor(d),b.extend=a,b.destroy=n.destroy,Object.defineProperty(b,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(_!==n.namespaces&&(_=n.namespaces,v=n.enabled(d)),v),set:m=>{p=m}}),typeof n.init=="function"&&n.init(b),b}function a(d,c){const p=n(this.namespace+(typeof c>"u"?":":c)+d);return p.log=this.log,p}function i(d){n.save(d),n.namespaces=d,n.names=[],n.skips=[];const c=(typeof d=="string"?d:"").trim().replace(" ",",").split(",").filter(Boolean);for(const p of c)p[0]==="-"?n.skips.push(p.slice(1)):n.names.push(p)}function o(d,c){let p=0,_=0,v=-1,b=0;for(;p<d.length;)if(_<c.length&&(c[_]===d[p]||c[_]==="*"))c[_]==="*"?(v=_,b=p,_++):(p++,_++);else if(v!==-1)_=v+1,b++,p=b;else return!1;for(;_<c.length&&c[_]==="*";)_++;return _===c.length}function s(){const d=[...n.names,...n.skips.map(c=>"-"+c)].join(",");return n.enable(""),d}function u(d){for(const c of n.skips)if(o(d,c))return!1;for(const c of n.names)if(o(d,c))return!0;return!1}function l(d){return d instanceof Error?d.stack||d.message:d}function f(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}return Cw=e,Cw}var EM;function xte(){return EM||(EM=1,function(e,t){var r={};t.formatArgs=a,t.save=i,t.load=o,t.useColors=n,t.storage=s(),t.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let l;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(l=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(l[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function a(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const f="color: "+this.color;l.splice(1,0,f,"color: inherit");let d=0,c=0;l[0].replace(/%[a-zA-Z%]/g,p=>{p!=="%%"&&(d++,p==="%c"&&(c=d))}),l.splice(c,0,f)}t.log=console.debug||console.log||(()=>{});function i(l){try{l?t.storage.setItem("debug",l):t.storage.removeItem("debug")}catch{}}function o(){let l;try{l=t.storage.getItem("debug")}catch{}return!l&&typeof ze<"u"&&"env"in ze&&(l=r.DEBUG),l}function s(){try{return localStorage}catch{}}e.exports=Ete()(t);const{formatters:u}=e.exports;u.j=function(l){try{return JSON.stringify(l)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}}}(Om,Om.exports)),Om.exports}var Ud={},Yr={},xM;function N8(){if(xM)return Yr;xM=1,Object.defineProperty(Yr,"__esModule",{value:!0}),Yr.ZeroOrOnePath=Yr.ZeroOrMorePath=Yr.OneOrMorePath=Yr.MultiPath=Yr.InversePath=Yr.AlternativePath=Yr.SequencePath=Yr.PredicatePath=void 0;class e{constructor(l){this.predicate=l}toString(){return`<${this.predicate.value}>`}found(l,f=!1){return l.enter(this.predicate,f)}match(l,f,d,c,p=!1){let _=(p?l.getQuads(null,this.predicate,d,null):l.getQuads(d,this.predicate,null,null)).filter(v=>!c.includes(v.graph.value));if(_.length>0){let v=f.push(this.predicate,p);return _.map(b=>{const m=p?b.subject:b.object;return{path:[b],target:m,cbdExtracted:v}})}else return[]}}Yr.PredicatePath=e;class t{constructor(l){this.sequence=l}found(l,f){let d=l;for(const c of this.sequence)d&&(d=c.found(d,f));return d}toString(){return this.sequence.map(l=>l.toString()).join("/")}match(l,f,d,c,p=!1){let _=[{path:[],target:d,cbdExtracted:f}];for(const v of this.sequence)_=_.flatMap(b=>v.match(l,b.cbdExtracted,b.target,c,p).map(y=>({path:[...b.path,...y.path],cbdExtracted:y.cbdExtracted,target:y.target})));return _}}Yr.SequencePath=t;class r{constructor(l){this.alternatives=l}found(l,f){for(const d of this.alternatives){const c=d.found(l,f);if(c)return c}}toString(){return this.alternatives.map(l=>l.toString()).join("|")}match(l,f,d,c,p=!1){return this.alternatives.flatMap(_=>_.match(l,f,d,c,p))}}Yr.AlternativePath=r;class n{constructor(l){this.path=l}found(l,f){return this.path.found(l,!f)}toString(){return"^"+this.path.toString()}match(l,f,d,c,p=!1){return this.path.match(l,f,d,c,!p)}}Yr.InversePath=n;class a{constructor(l,f){this.path=l,this.maxCount=f}match(l,f,d,c,p=!1){const _=[];let v=[{path:[],target:d,cbdExtracted:f}];for(let b=0;!(this.maxCount&&b>this.maxCount||v.length===0);b++){const m=[];for(const y of v){this.filter(b,y)&&_.push(y);for(const g of this.path.match(l,y.cbdExtracted,y.target,c,p))m.push({path:[...y.path,...g.path],cbdExtracted:y.cbdExtracted,target:g.target})}v=m}return _}}Yr.MultiPath=a;class i extends a{constructor(l){super(l)}filter(l,f){return l>=1}toString(){return this.path.toString()+"+"}found(l,f){let d=this.path.found(l,f);if(!d)return;let c=this.path.found(d,f);for(;c;)d=c,c=this.path.found(d,f);return d}}Yr.OneOrMorePath=i;class o extends a{constructor(l){super(l)}filter(l,f){return!0}toString(){return this.path.toString()+"*"}found(l,f){let d=this.path.found(l,f);for(;d;)l=d,d=this.path.found(l,f);return l}}Yr.ZeroOrMorePath=o;class s extends a{constructor(l){super(l,1)}filter(l,f){return l<2}toString(){return this.path.toString()+"?"}found(l,f){return this.path.found(l,f)||l}}return Yr.ZeroOrOnePath=s,Yr}var TM;function Tte(){if(TM)return Ud;TM=1,Object.defineProperty(Ud,"__esModule",{value:!0}),Ud.ShapesGraph=void 0;const e=N8(),t=oj(),r=Gx(),n=en(),a=new n.DataFactory,i=(0,t.createTermNamespace)("http://www.w3.org/ns/shacl#","zeroOrMorePath","zeroOrOnePath","oneOrMorePath","inversePath","alternativePath","deactivated","minCount","path","node","closed","property","and","xone","or","NodeShape");let o=class{constructor(f){this.shapes=this.initializeFromStore(f),this.counter=0}toMermaid(f){const d=this.shapes.get(f);if(this.counter=0,!d)throw new Error(`No shape found for term "${f.value}"`);let c=`flowchart LR
`;return c+=this.toMermaidSingleShape(d,"1",d.label||"Shape"),c}toMermaidSingleShape(f,d,c){let p=`  S${d}((${c}))
`,_=[];return f.nodeLinks.forEach(v=>{let b=v.pathPattern.toString();const m=this.isPathRequired(b,f.requiredPaths);_.push(b),b=this.cleanPath(b);const y=this.shapes.get(v.link);if(!y)throw new Error(`The linked shape "${v.link}" is not found`);const g=`${d}_${this.counter}`;let S="-->";m||(S="-.->"),b.startsWith("^")?(b=b.substring(1),p+=`  S${g}[ ]${S}|"${b}"|S${d}
`):p+=`  S${d}${S}|"${b}"|S${g}[ ]
`,this.counter++;const T=this.toMermaidSingleShape(y,g,y.label||"Shape");p+=T}),f.atLeastOneLists.forEach(v=>{if(v.length>0){const b=`${d}_${this.counter}`;p+=`  S${d}---X${b}{OR}
`,v.forEach(m=>{const y=`${d}_${this.counter}`;this.counter++,p+=`  X${b}---S${y}
`;const g=this.toMermaidSingleShape(m,y,m.label||"Shape");p+=g})}}),p+=this.simplePathToMermaid(f.requiredPaths,_,d,"-->"),p+=this.simplePathToMermaid(f.optionalPaths,_,d,"-.->"),p}cleanPath(f){return f=f.replace(/</g,""),f.replace(/>/g,"")}isPathRequired(f,d){for(const c of d)if(f===c.toString())return!0;return!1}simplePathToMermaid(f,d,c,p){let _="";return f.forEach(v=>{let b=v.toString();d.includes(b)||(d.push(b),b=this.cleanPath(b),this.isRealInversePath(b)?(b=this.getRealPath(b),_+=`  S${c}_${this.counter}[ ]${p}|"${b}"|S${c}
`):(b=this.getRealPath(b),_+=`  S${c}${p}|"${b}"|S${c}_${this.counter}[ ]
`),this.counter++)}),_}isRealInversePath(f){const d=f.match(/^(\^+)[^\^]+/);return d?d[1].length%2!==0:!1}getRealPath(f){const d=f.match(/^\^*([^\^]+)/);if(!d)throw new Error(`No real path found in "${f}"`);return d[1]}constructPathPattern(f,d){if(d.termType==="BlankNode"){let c=u(f,d,i.zeroOrMorePath,null),p=u(f,d,i.oneOrMorePath,null),_=u(f,d,i.zeroOrOnePath,null),v=u(f,d,i.inversePath,null),b=u(f,d,i.alternativePath,null);if(c[0])return new e.ZeroOrMorePath(this.constructPathPattern(f,c[0]));if(p[0])return new e.OneOrMorePath(this.constructPathPattern(f,p[0]));if(_[0])return new e.ZeroOrOnePath(this.constructPathPattern(f,_[0]));if(v[0])return new e.InversePath(this.constructPathPattern(f,v[0]));if(b[0]){let m=this.rdfListToArray(f,b[0]).map(y=>this.constructPathPattern(f,y));return new e.AlternativePath(m)}else{const m=this.rdfListToArray(f,d);return new e.SequencePath(m.map(y=>this.constructPathPattern(f,y)))}}return new e.PredicatePath(d)}preprocessPropertyShape(f,d,c,p){let _=u(f,d,i.deactivated,null);if(_.length>0&&_[0].value==="true")return!0;let v=u(f,d,i.path,null)[0];if(!v)return!1;let b=this.constructPathPattern(f,v),m=u(f,d,i.minCount,null);m[0]&&m[0].value!=="0"||p?c.requiredPaths.push(b):c.optionalPaths.push(b);let y=u(f,d,i.node,null);return y[0]&&c.nodeLinks.push(new r.NodeLink(b,y[0])),!0}preprocessShape(f,d,c){return this.preprocessPropertyShape(f,d,c)?!0:this.preprocessNodeShape(f,d,c)}preprocessNodeShape(f,d,c){const p=u(f,d,t.RDFS.terms.label)[0];p?c.label=p.value:c.label=d.termType==="BlankNode"?d.value:d.value.split("/")[d.value.split("/").length-1];let _=u(f,d,i.closed,null)[0];_&&_.value==="true"&&(c.closed=!0);let v=u(f,d,i.property,null);for(let b of v)this.preprocessPropertyShape(f,b,c);for(let b of u(f,d,i.and,null))for(let m of this.rdfListToArray(f,b))this.preprocessShape(f,m,c);for(let b of u(f,d,i.xone,null).concat(u(f,d,i.or,null))){let m=this.rdfListToArray(f,b).map(y=>{let g=new r.ShapeTemplate;return this.preprocessShape(f,y,g),g});c.atLeastOneLists.push(m)}}initializeFromStore(f){const d=[].concat(s(f,i.property,null,null)).concat(s(f,t.RDF.terms.type,i.NodeShape,null)).concat(u(f,null,i.node,null)).filter((p,_,v)=>v.findIndex(b=>b.equals(p))===_);let c=new r.RDFMap;for(let p of d){let _=new r.ShapeTemplate,v=u(f,p,i.deactivated,null);v.length>0&&v[0].value==="true"||(this.preprocessNodeShape(f,p,_),c.set(p,_))}return c}*rdfListToGenerator(f,d){if(u(f,d,a.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"),null)[0]){yield u(f,d,a.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"),null)[0];let c=u(f,d,a.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"),null)[0];for(;c&&c.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#nil";)yield u(f,c,a.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"),null)[0],c=u(f,c,a.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"),null)[0]}else yield d}rdfListToArray(f,d){return Array.from(this.rdfListToGenerator(f,d))}};Ud.ShapesGraph=o;const s=function(l,f,d,c){return l.getQuads(null,f,d,c).map(p=>p.subject)},u=function(l,f,d,c){return l.getQuads(f,d,null,c).map(p=>p.object)};return Ud}var RM;function Rte(){if(RM)return _o;RM=1;var e=_o.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(_o,"__esModule",{value:!0}),_o.CbdExtracted=_o.CBDShapeExtractor=void 0;const t=zx(),r=Gx(),n=en(),a=Sj(),i=e(xte()),o=Tte(),s=(0,i.default)("extract-cbd-shape"),u=new n.DataFactory;let l=class{constructor(p,_,v={}){this.options=Object.assign({cbdDefaultGraph:!1},v),_?this.dereferencer=_:this.dereferencer=t.rdfDereferencer,p&&(this.shapesGraph=new o.ShapesGraph(p))}async bulkExtract(p,_,v,b,m){const y=[],g=new Set(_.map(C=>C.value)),S={};for(let C of _)S[C.value]=[];const T=a.RdfStore.createDefault();for(let C of p.readQuads(null,null,null,null))C.graph.termType=="NamedNode"&&g.has(C.graph.value)?S[C.graph.value].push(C):T.addQuad(C);const I=[];for(let C of _){const B=this.extract(T,C,v,(b||[]).slice()).then(D=>{D.push(...S[C.value]),m&&m({subject:C,quads:D}),y.push({subject:C,quads:D})});I.push(B)}return await Promise.all(I),y}async extract(p,_,v,b){let m=(b||[]).map(g=>g.value);return await new d(p,this.dereferencer,m,this.options,this.shapesGraph).extract(_,!1,v)}};_o.CBDShapeExtractor=l;class f{constructor(p,_=new r.RDFMap){p?this.topology=p:this.topology={forwards:{},backwards:{}},this.cbdExtractedMap=_}addCBDTerm(p){const _=this.cbdExtractedMap.get(p);_?_.cbd=!0:this.cbdExtractedMap.set(p,{cbd:!0,shape:!1})}addShapeTerm(p){const _=this.cbdExtractedMap.get(p);_?_.shape=!0:this.cbdExtractedMap.set(p,{cbd:!0,shape:!1})}cbdExtracted(p){var _;return!!((_=this.cbdExtractedMap.get(p))!=null&&_.shape)}push(p,_){if(_){if(!this.topology.backwards[p.value]){const v={forwards:{},backwards:{}};v.forwards[p.value]=this.topology,this.topology.backwards[p.value]=v}return new f(this.topology.backwards[p.value],this.cbdExtractedMap)}else{if(!this.topology.forwards[p.value]){const v={forwards:{},backwards:{}};v.backwards[p.value]=this.topology,this.topology.forwards[p.value]=v}return new f(this.topology.forwards[p.value],this.cbdExtractedMap)}}enter(p,_){const v=_?this.topology.backwards[p.value]:this.topology.forwards[p.value];if(v)return new f(v,this.cbdExtractedMap)}}_o.CbdExtracted=f;class d{constructor(p,_,v,b,m){this.dereferenced=new Set,this.store=p,this.dereferencer=_,this.shapesGraph=m,this.graphsToIgnore=v,this.options=b}async extract(p,_,v){const b=await this.maybeExtractRecursively(p,new f,_,v);return b.push(...this.store.getQuads(null,null,null,p)),b.length===0&&await this.dereference(p.value)?(await this.maybeExtractRecursively(p,new f,_,v)).filter((y,g,S)=>g===S.findIndex(T=>T.equals(y))):b.filter((m,y,g)=>y===g.findIndex(S=>S.equals(m)))}async dereference(p){return this.dereferenced.has(p)?(s("Will not dereference "+p+" again"),!1):(this.dereferenced.add(p),await this.loadQuadStreamInStore((await this.dereferencer.dereference(p,{fetch:this.options.fetch})).data),!0)}async maybeExtractRecursively(p,_,v,b){return _.cbdExtracted(p)?[]:(_.addShapeTerm(p),this.extractRecursively(p,_,v,b))}async extractRecursively(p,_,v,b){const m=[];let y;if(b instanceof r.ShapeTemplate?y=b:b&&this.shapesGraph&&(y=this.shapesGraph.shapes.get(b)),y!=null&&y.closed||this.CBD(p,m,_,this.graphsToIgnore),y){let g=[],S=[];y.fillPathsAndLinks(g,S);for(let T of y.requiredPaths.concat(y.optionalPaths,g))if(!T.found(_)||y.closed){let I=T.match(this.store,_,p,this.graphsToIgnore).flatMap(C=>C.path);m.push(...I)}for(let T of y.nodeLinks.concat(S)){let I=T.pathPattern.match(this.store,_,p,this.graphsToIgnore);for(let C of I)m.push(...await this.maybeExtractRecursively(C.target,C.cbdExtracted,v,T.link))}}if(!v&&p.termType==="NamedNode"&&y){const g=y.requiredAreNotPresent(_);if(g){if(await this.dereference(p.value))return this.extractRecursively(p,_,v,b);s(`${p.value} does not adhere to the shape (${g.toString()})`)}}return m}async CBD(p,_,v,b){v.addCBDTerm(p);const m=this.options.cbdDefaultGraph?u.defaultGraph():null,y=this.store.getQuads(p,null,null,m);for(const g of y){if(b!=null&&b.includes(g.graph.value))continue;_.push(g);const S=v.push(g.predicate,!1);g.object.termType==="BlankNode"&&!v.cbdExtracted(g.object)&&await this.CBD(g.object,_,S,b)}}loadQuadStreamInStore(p){return new Promise((_,v)=>{this.store.import(p).on("end",_).on("error",v)})}}return _o}var AM;function Ate(){return AM||(AM=1,function(e){var t=vu.__createBinding||(Object.create?function(s,u,l,f){f===void 0&&(f=l);var d=Object.getOwnPropertyDescriptor(u,l);(!d||("get"in d?!u.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return u[l]}}),Object.defineProperty(s,f,d)}:function(s,u,l,f){f===void 0&&(f=l),s[f]=u[l]}),r=vu.__setModuleDefault||(Object.create?function(s,u){Object.defineProperty(s,"default",{enumerable:!0,value:u})}:function(s,u){s.default=u}),n=vu.__importStar||function(s){if(s&&s.__esModule)return s;var u={};if(s!=null)for(var l in s)l!=="default"&&Object.prototype.hasOwnProperty.call(s,l)&&t(u,s,l);return r(u,s),u};Object.defineProperty(e,"__esModule",{value:!0}),e.shape=e.path=e.CBDShapeExtractor=void 0;const a=Rte();Object.defineProperty(e,"CBDShapeExtractor",{enumerable:!0,get:function(){return a.CBDShapeExtractor}});const i=n(Gx());e.shape=i;const o=n(N8());e.path=o}(vu)),vu}var Ite=Ate();function Ote(e,t,r,n,a){const i=si("extractRelations"),o=r?Vr(e,null,mt.TREE.terms.relation,null):Vr(e,t,mt.TREE.terms.relation,null),s=t.value,u=new Map;for(const f of o){const d=Vr(e,f,mt.TREE.terms.node,null)[0],c=Vr(e,f,mt.RDF.terms.type,null)[0]||mt.TREE.Relation,p=Vr(e,f,mt.TREE.terms.path,null)[0],_=Vr(e,f,mt.TREE.terms.value,null),v={type:c,path:p,value:_,id:f},b=u.get(d.value);if(b)b.relation.relations.push(v),b.cond.addRelation(f);else{const m=new $Q(e,a);m.addRelation(f),u.set(d.value,{cond:m,relation:{node:d.value,source:s,relations:[v]}})}}const l=[];for(const f of u.values())f.cond.allowed(n)&&l.push(f.relation);return i.debug(`allowed ${JSON.stringify(l.map(f=>f.node))}`),l}const{namedNode:Pte}=new FE.DataFactory;function Cte(){const e={};return e.waiting=new Promise(t=>e.callback=t),e}function IM(e){const t=e.callback;e.waiting=new Promise(r=>e.callback=r),t()}class Lte{constructor(t,r,n,a,i,o){Ye(this,"dereferencer");Ye(this,"loose");Ye(this,"fetch_f");Ye(this,"condition");Ye(this,"defaultTimezone");Ye(this,"includeMetadata");Ye(this,"closed",!1);Ye(this,"logger",si(this));this.dereferencer=t,this.loose=r,this.fetch_f=o,this.condition=n,this.defaultTimezone=a,this.includeMetadata=i}close(){this.closed=!0}async fetch(t,r,n){try{const a={localFiles:!0,fetch:this.fetch_f};this.includeMetadata&&(a.headers={Accept:"application/metadata+trig"});const i=await this.dereferencer.dereference(t.target,a);t.target=i.url;const o={};if(i.headers){const l=i.headers.get("cache-control");if(l){const f=l.split(",").map(d=>d.split("=",2).map(c=>c.trim()));for(const d of f)d[0]=="max-age"&&(o.maxAge=parseInt(d[1])),d[0]=="immutable"&&(o.immutable=!0)}}o.immutable||this.closed||n.scheduleFetch(t,r),this.logger.debug(`[fetch] Cache for ${t.target} ${JSON.stringify(o)}`);const s=Hu.RdfStore.createDefault();let u=0;await new Promise((l,f)=>{i.data.on("data",d=>{s.addQuad(d),u++}).on("end",l).on("error",f)}),this.logger.debug(`[fetch] Got data ${t.target} (${u} quads)`);for(const l of Ote(s,Pte(i.url),this.loose,this.condition,this.defaultTimezone))t.expected.some(f=>f==l.node)||this.closed||n.relationFound({from:t,target:l},r);this.closed||n.pageFetched({data:s,url:i.url},r)}catch(a){this.logger.error(`[fetch] Fetch failed ${JSON.stringify(a)}`),n.error(a,r)}}}const{namedNode:Hd}=Ai;class Dte{constructor(t,r,n){Ye(this,"queued",0);Ye(this,"closed",!1);Ye(this,"resolve");Ye(this,"ldesId");Ye(this,"state");Ye(this,"extractor");Ye(this,"shapeId");Ye(this,"timestampPath");Ye(this,"isVersionOfPath");Ye(this,"logger",si(this));this.ldesId=t,this.state=r,this.extractor=n.extractor,this.timestampPath=n.timestampPath,this.isVersionOfPath=n.isVersionOfPath,this.shapeId=n.shape,this.logger.debug(`new ${t.value} ${JSON.stringify({extractor:n.extractor.constructor.name,shape:n.shape,timestampPath:n.timestampPath,isVersionOfPath:n.isVersionOfPath})}`)}extractMembers(t,r,n){var f;const a=Vr(t.data,this.ldesId,mt.TREE.terms.member,null),i=(f=Vr(t.data,Hd(t.url),mt.DC.terms.custom("created"),null)[0])==null?void 0:f.value,o=i?new Date(i):void 0,s=Vr(t.data,Hd(t.url),mt.DC.terms.modified,null)[0],u=s?new Date(s.value):void 0;this.logger.debug(`Extracting ${a.length} members`);const l=[];for(const d of a)if(!this.state.has(d.value)){const c=this.extractMember(d,t.data).then(p=>(p&&(this.closed||n.extracted(p,r)),p)).catch(p=>{this.logger.error(p),n.error({error:p,type:"extract",memberId:d},r)});l.push(c)}Promise.all(l).then(d=>{this.logger.debug("All members extracted"),this.closed||n.done({id:Hd(t.url),created:o,updated:u},r)})}close(){this.logger.debug("Closing stream"),this.resolve&&(this.resolve(),this.resolve=void 0),this.closed=!0,this.logger.debug("this.resolve()")}length(){return this.state.size}reset(){return this.logger.debug(`Resetting with ${this.queued} members in queue`),this.queued=0,new Promise(t=>this.resolve=t)}async extractMemberQuads(t,r){return await this.extractor.extract(r,t,this.shapeId,[Hd(mt.LDES.custom("IngestionMetadata"))])}async extractMember(t,r){var n;if(!this.state.has(t.value))try{const a=await this.extractMemberQuads(t,r),i=(n=Vr(r,t,mt.DC.terms.custom("created"),Hd(mt.LDES.custom("IngestionMetadata")))[0])==null?void 0:n.value;if(a.length>0)return this.state.add(t.value),jQ(t,a,this.timestampPath,this.isVersionOfPath,i?new Date(i):void 0)}catch(a){this.logger.error(a);return}}}class Nte{constructor(t,r,n,a,i,o){Ye(this,"manager");Ye(this,"fetcher");Ye(this,"notifier");Ye(this,"inFlight",0);Ye(this,"fetchNotifier");Ye(this,"memberNotifier");Ye(this,"modulator");Ye(this,"cacheList",[]);Ye(this,"polling");Ye(this,"pollInterval");Ye(this,"canceled",!1);Ye(this,"logger",si(this));this.pollInterval=o,this.notifier=n,this.manager=t,this.fetcher=r,this.polling=i,this.fetchNotifier={error:s=>{this.logger.error(`[fetch] Error: ${JSON.stringify(s)}`),this.notifier.error(s,{})},scheduleFetch:s=>{this.cacheList.push(s),this.notifier.mutable({},{})},pageFetched:(s,{index:u})=>{this.logger.debug(`Paged fetched ${s.url}`),this.handleFetched(s,u)},relationFound:({from:s,target:u})=>{s.expected.push(u.node),this.inFlight+=1,this.modulator.push({target:u.node,expected:[s.target]})}},this.memberNotifier={error:s=>{this.notifier.error(s,{})},done:s=>{this.logger.debug("[member] Members on page done"),this.inFlight-=1,this.checkEnd(),this.notifier.fragment(s,{})},extracted:s=>this.notifier.member(s,{})},this.modulator=a.create("fetcher",[],{ready:({item:s,index:u})=>this.fetcher.fetch(s,{index:u},this.fetchNotifier)})}start(t){this.inFlight=this.modulator.length(),this.inFlight<1?(this.inFlight=1,this.modulator.push({target:t,expected:[]}),this.logger.debug("[start] Nothing in flight, adding start url")):this.logger.debug("[start] Things are already inflight, not adding start url")}cancel(){this.canceled=!0}handleFetched(t,r){this.modulator.finished(r),this.manager.extractMembers(t,{},this.memberNotifier)}checkEnd(){this.canceled||this.inFlight==0&&(this.polling?setTimeout(()=>{if(this.canceled)return;this.notifier.pollCycle({},{});const t=this.cacheList.slice();this.cacheList=[];for(const r of t)this.inFlight+=1,this.modulator.push(r)},this.pollInterval||1e3):(this.logger.debug("Closing the notifier, polling is not set"),this.canceled=!0,this.notifier.close({},{})))}}var Yt=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function s(f){try{l(n.next(f))}catch(d){o(d)}}function u(f){try{l(n.throw(f))}catch(d){o(d)}}function l(f){f.done?i(f.value):a(f.value).then(s,u)}l((n=n.apply(e,t||[])).next())})},Kt=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(f){return u([l,f])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(n=1,a&&(i=l[0]&2?a.return:l[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,l[1])).done)return i;switch(a=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,a=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){r.label=l[1];break}if(l[0]===6&&r.label<i[1]){r.label=i[1],i=l;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(l);break}i[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(f){l=[6,f],a=0}finally{n=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},Vn=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i},yi=function(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))},OM=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function e(t){t===void 0&&(t=e.minComparator);var r=this;this.compare=t,this.heapArray=[],this._limit=0,this.offer=this.add,this.element=this.peek,this.poll=this.pop,this._invertedCompare=function(n,a){return r.compare(n,a).then(function(i){return-1*i})}}return e.getChildrenIndexOf=function(t){return[t*2+1,t*2+2]},e.getParentIndexOf=function(t){if(t<=0)return-1;var r=t%2?1:2;return Math.floor((t-r)/2)},e.getSiblingIndexOf=function(t){if(t<=0)return-1;var r=t%2?1:-1;return t+r},e.minComparator=function(t,r){return Yt(this,void 0,void 0,function(){return Kt(this,function(n){return t>r?[2,1]:t<r?[2,-1]:[2,0]})})},e.maxComparator=function(t,r){return Yt(this,void 0,void 0,function(){return Kt(this,function(n){return r>t?[2,1]:r<t?[2,-1]:[2,0]})})},e.minComparatorNumber=function(t,r){return Yt(this,void 0,void 0,function(){return Kt(this,function(n){return[2,t-r]})})},e.maxComparatorNumber=function(t,r){return Yt(this,void 0,void 0,function(){return Kt(this,function(n){return[2,r-t]})})},e.defaultIsEqual=function(t,r){return Yt(this,void 0,void 0,function(){return Kt(this,function(n){return[2,t===r]})})},e.print=function(t){function r(f){var d=e.getParentIndexOf(f);return Math.floor(Math.log2(d+1))}function n(f,d){for(var c="";d>0;--d)c+=f;return c}for(var a=0,i=[],o=r(t.length-1)+2,s=0;a<t.length;){var u=r(a)+1;a===0&&(u=0);var l=String(t.get(a));l.length>s&&(s=l.length),i[u]=i[u]||[],i[u].push(l),a+=1}return i.map(function(f,d){var c=Math.pow(2,o-d)-1;return n(" ",Math.floor(c/2)*s)+f.map(function(p){var _=(s-p.length)/2;return n(" ",Math.ceil(_))+p+n(" ",Math.floor(_))}).join(n(" ",c*s))}).join(`
`)},e.heapify=function(t,r){return Yt(this,void 0,void 0,function(){var n;return Kt(this,function(a){switch(a.label){case 0:return n=new e(r),n.heapArray=t,[4,n.init()];case 1:return a.sent(),[2,n]}})})},e.heappop=function(t,r){var n=new e(r);return n.heapArray=t,n.pop()},e.heappush=function(t,r,n){return Yt(this,void 0,void 0,function(){var a;return Kt(this,function(i){switch(i.label){case 0:return a=new e(n),a.heapArray=t,[4,a.push(r)];case 1:return i.sent(),[2]}})})},e.heappushpop=function(t,r,n){var a=new e(n);return a.heapArray=t,a.pushpop(r)},e.heapreplace=function(t,r,n){var a=new e(n);return a.heapArray=t,a.replace(r)},e.heaptop=function(t,r,n){r===void 0&&(r=1);var a=new e(n);return a.heapArray=t,a.top(r)},e.heapbottom=function(t,r,n){r===void 0&&(r=1);var a=new e(n);return a.heapArray=t,a.bottom(r)},e.nlargest=function(t,r,n){return Yt(this,void 0,void 0,function(){var a;return Kt(this,function(i){switch(i.label){case 0:return a=new e(n),a.heapArray=yi([],Vn(r),!1),[4,a.init()];case 1:return i.sent(),[2,a.top(t)]}})})},e.nsmallest=function(t,r,n){return Yt(this,void 0,void 0,function(){var a;return Kt(this,function(i){switch(i.label){case 0:return a=new e(n),a.heapArray=yi([],Vn(r),!1),[4,a.init()];case 1:return i.sent(),[2,a.bottom(t)]}})})},e.prototype.add=function(t){return Yt(this,void 0,void 0,function(){return Kt(this,function(r){switch(r.label){case 0:return[4,this._sortNodeUp(this.heapArray.push(t)-1)];case 1:return r.sent(),this._applyLimit(),[2,!0]}})})},e.prototype.addAll=function(t){return Yt(this,void 0,void 0,function(){var r,n,a;return Kt(this,function(i){switch(i.label){case 0:r=this.length,(a=this.heapArray).push.apply(a,yi([],Vn(t),!1)),n=this.length,i.label=1;case 1:return r<n?[4,this._sortNodeUp(r)]:[3,4];case 2:i.sent(),i.label=3;case 3:return++r,[3,1];case 4:return this._applyLimit(),[2,!0]}})})},e.prototype.bottom=function(){return Yt(this,arguments,void 0,function(t){return t===void 0&&(t=1),Kt(this,function(r){return this.heapArray.length===0||t<=0?[2,[]]:this.heapArray.length===1?[2,[this.heapArray[0]]]:t>=this.heapArray.length?[2,yi([],Vn(this.heapArray),!1)]:[2,this._bottomN_push(~~t)]})})},e.prototype.check=function(){return Yt(this,void 0,void 0,function(){var t,r,n,a,i,o,s,u,l;return Kt(this,function(f){switch(f.label){case 0:t=0,f.label=1;case 1:if(!(t<this.heapArray.length))return[3,10];r=this.heapArray[t],n=this.getChildrenOf(t),f.label=2;case 2:f.trys.push([2,7,8,9]),a=(u=void 0,OM(n)),i=a.next(),f.label=3;case 3:return i.done?[3,6]:(o=i.value,[4,this.compare(r,o)]);case 4:if(f.sent()>0)return[2,r];f.label=5;case 5:return i=a.next(),[3,3];case 6:return[3,9];case 7:return s=f.sent(),u={error:s},[3,9];case 8:try{i&&!i.done&&(l=a.return)&&l.call(a)}finally{if(u)throw u.error}return[7];case 9:return++t,[3,1];case 10:return[2]}})})},e.prototype.clear=function(){this.heapArray=[]},e.prototype.clone=function(){var t=new e(this.comparator());return t.heapArray=this.toArray(),t._limit=this._limit,t},e.prototype.comparator=function(){return this.compare},e.prototype.contains=function(t){return Yt(this,arguments,void 0,function(r,n){var a,i,o,s,u,l;return n===void 0&&(n=e.defaultIsEqual),Kt(this,function(f){switch(f.label){case 0:f.trys.push([0,5,6,7]),a=OM(this.heapArray),i=a.next(),f.label=1;case 1:return i.done?[3,4]:(o=i.value,[4,n(o,r)]);case 2:if(f.sent())return[2,!0];f.label=3;case 3:return i=a.next(),[3,1];case 4:return[3,7];case 5:return s=f.sent(),u={error:s},[3,7];case 6:try{i&&!i.done&&(l=a.return)&&l.call(a)}finally{if(u)throw u.error}return[7];case 7:return[2,!1]}})})},e.prototype.init=function(t){return Yt(this,void 0,void 0,function(){var r;return Kt(this,function(n){switch(n.label){case 0:t&&(this.heapArray=yi([],Vn(t),!1)),r=Math.floor(this.heapArray.length),n.label=1;case 1:return r>=0?[4,this._sortNodeDown(r)]:[3,4];case 2:n.sent(),n.label=3;case 3:return--r,[3,1];case 4:return this._applyLimit(),[2]}})})},e.prototype.isEmpty=function(){return this.length===0},e.prototype.leafs=function(){if(this.heapArray.length===0)return[];var t=e.getParentIndexOf(this.heapArray.length-1);return this.heapArray.slice(t+1)},Object.defineProperty(e.prototype,"length",{get:function(){return this.heapArray.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"limit",{get:function(){return this._limit},set:function(t){this._limit=~~t,this._applyLimit()},enumerable:!1,configurable:!0}),e.prototype.peek=function(){return this.heapArray[0]},e.prototype.pop=function(){return Yt(this,void 0,void 0,function(){var t;return Kt(this,function(r){return t=this.heapArray.pop(),this.length>0&&t!==void 0?[2,this.replace(t)]:[2,t]})})},e.prototype.push=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Yt(this,void 0,void 0,function(){return Kt(this,function(n){return t.length<1?[2,!1]:t.length===1?[2,this.add(t[0])]:[2,this.addAll(t)]})})},e.prototype.pushpop=function(t){return Yt(this,void 0,void 0,function(){var r;return Kt(this,function(n){switch(n.label){case 0:return[4,this.compare(this.heapArray[0],t)];case 1:return n.sent()<0?(r=Vn([this.heapArray[0],t],2),t=r[0],this.heapArray[0]=r[1],[4,this._sortNodeDown(0)]):[3,3];case 2:n.sent(),n.label=3;case 3:return[2,t]}})})},e.prototype.remove=function(t){return Yt(this,arguments,void 0,function(r,n){var a,i,o,s=this;return n===void 0&&(n=e.defaultIsEqual),Kt(this,function(u){switch(u.label){case 0:return this.heapArray.length?r!==void 0?[3,2]:[4,this.pop()]:[2,!1];case 1:return u.sent(),[2,!0];case 2:a=[0],u.label=3;case 3:return a.length?(i=a.shift(),[4,n(this.heapArray[i],r)]):[3,13];case 4:return u.sent()?i!==0?[3,6]:[4,this.pop()]:[3,11];case 5:return u.sent(),[3,10];case 6:return i!==this.heapArray.length-1?[3,7]:(this.heapArray.pop(),[3,10]);case 7:return this.heapArray.splice(i,1,this.heapArray.pop()),[4,this._sortNodeUp(i)];case 8:return u.sent(),[4,this._sortNodeDown(i)];case 9:u.sent(),u.label=10;case 10:return[2,!0];case 11:o=e.getChildrenIndexOf(i).filter(function(l){return l<s.heapArray.length}),a.push.apply(a,yi([],Vn(o),!1)),u.label=12;case 12:return[3,3];case 13:return[2,!1]}})})},e.prototype.replace=function(t){return Yt(this,void 0,void 0,function(){var r;return Kt(this,function(n){switch(n.label){case 0:return r=this.heapArray[0],this.heapArray[0]=t,[4,this._sortNodeDown(0)];case 1:return n.sent(),[2,r]}})})},e.prototype.size=function(){return this.length},e.prototype.top=function(){return Yt(this,arguments,void 0,function(t){return t===void 0&&(t=1),Kt(this,function(r){return this.heapArray.length===0||t<=0?[2,[]]:this.heapArray.length===1||t===1?[2,[this.heapArray[0]]]:t>=this.heapArray.length?[2,yi([],Vn(this.heapArray),!1)]:[2,this._topN_push(~~t)]})})},e.prototype.toArray=function(){return yi([],Vn(this.heapArray),!1)},e.prototype.toString=function(){return this.heapArray.toString()},e.prototype.get=function(t){return this.heapArray[t]},e.prototype.getChildrenOf=function(t){var r=this;return e.getChildrenIndexOf(t).map(function(n){return r.heapArray[n]}).filter(function(n){return n!==void 0})},e.prototype.getParentOf=function(t){var r=e.getParentIndexOf(t);return this.heapArray[r]},e.prototype[Symbol.iterator]=function(){return Kt(this,function(t){switch(t.label){case 0:return this.length?[4,this.pop()]:[3,2];case 1:return t.sent(),[3,0];case 2:return[2]}})},e.prototype.iterator=function(){return this},e.prototype._applyLimit=function(){if(this._limit&&this._limit<this.heapArray.length)for(var t=this.heapArray.length-this._limit;t;)this.heapArray.pop(),--t},e.prototype._bottomN_push=function(t){return Yt(this,void 0,void 0,function(){var r,n,a,i,s,o,s;return Kt(this,function(u){switch(u.label){case 0:return r=new e(this.compare),r.limit=t,r.heapArray=this.heapArray.slice(-t),[4,r.init()];case 1:for(u.sent(),n=this.heapArray.length-1-t,a=e.getParentIndexOf(n),i=[],s=n;s>a;--s)i.push(s);o=this.heapArray,u.label=2;case 2:return i.length?(s=i.shift(),[4,this.compare(o[s],r.peek())]):[3,6];case 3:return u.sent()>0?[4,r.replace(o[s])]:[3,5];case 4:u.sent(),s%2&&i.push(e.getParentIndexOf(s)),u.label=5;case 5:return[3,2];case 6:return[2,r.toArray()]}})})},e.prototype._moveNode=function(t,r){var n;n=Vn([this.heapArray[r],this.heapArray[t]],2),this.heapArray[t]=n[0],this.heapArray[r]=n[1]},e.prototype._sortNodeDown=function(t){return Yt(this,void 0,void 0,function(){var r,n,a,i,o,s;return Kt(this,function(u){switch(u.label){case 0:r=this.heapArray.length,u.label=1;case 1:return n=2*t+1,a=n+1,i=t,o=n<r,o?[4,this.compare(this.heapArray[n],this.heapArray[i])]:[3,3];case 2:o=u.sent()<0,u.label=3;case 3:return o&&(i=n),s=a<r,s?[4,this.compare(this.heapArray[a],this.heapArray[i])]:[3,5];case 4:s=u.sent()<0,u.label=5;case 5:if(s&&(i=a),i===t)return[3,7];this._moveNode(t,i),t=i,u.label=6;case 6:return[3,1];case 7:return[2]}})})},e.prototype._sortNodeUp=function(t){return Yt(this,void 0,void 0,function(){var r;return Kt(this,function(n){switch(n.label){case 0:return t>0?(r=e.getParentIndexOf(t),[4,this.compare(this.heapArray[t],this.heapArray[r])]):[3,2];case 1:if(n.sent()<0)this._moveNode(t,r),t=r;else return[3,2];return[3,0];case 2:return[2]}})})},e.prototype._topN_push=function(t){return Yt(this,void 0,void 0,function(){var r,n,a,i;return Kt(this,function(o){switch(o.label){case 0:r=new e(this._invertedCompare),r.limit=t,n=[0],a=this.heapArray,o.label=1;case 1:return n.length?(i=n.shift(),i<a.length?r.length<t?[4,r.push(a[i])]:[3,3]:[3,6]):[3,7];case 2:return o.sent(),n.push.apply(n,yi([],Vn(e.getChildrenIndexOf(i)),!1)),[3,6];case 3:return[4,this.compare(a[i],r.peek())];case 4:return o.sent()<0?[4,r.replace(a[i])]:[3,6];case 5:o.sent(),n.push.apply(n,yi([],Vn(e.getChildrenIndexOf(i)),!1)),o.label=6;case 6:return[3,1];case 7:return[2,r.toArray()]}})})},e.prototype._topN_fill=function(t){return Yt(this,void 0,void 0,function(){var r,n,a,i,o,o;return Kt(this,function(s){switch(s.label){case 0:return r=this.heapArray,n=new e(this._invertedCompare),n.limit=t,n.heapArray=r.slice(0,t),[4,n.init()];case 1:for(s.sent(),a=e.getParentIndexOf(t-1)+1,i=[],o=a;o<t;++o)i.push.apply(i,yi([],Vn(e.getChildrenIndexOf(o).filter(function(u){return u<r.length})),!1));(t-1)%2&&i.push(t),s.label=2;case 2:return i.length?(o=i.shift(),o<r.length?[4,this.compare(r[o],n.peek())]:[3,5]):[3,6];case 3:return s.sent()<0?[4,n.replace(r[o])]:[3,5];case 4:s.sent(),i.push.apply(i,yi([],Vn(e.getChildrenIndexOf(o)),!1)),s.label=5;case 5:return[3,2];case 6:return[2,n.toArray()]}})})},e.prototype._topN_heap=function(t){return Yt(this,void 0,void 0,function(){var r,n,a,i,o;return Kt(this,function(s){switch(s.label){case 0:r=this.clone(),n=[],a=0,s.label=1;case 1:return a<t?(o=(i=n).push,[4,r.pop()]):[3,4];case 2:o.apply(i,[s.sent()]),s.label=3;case 3:return++a,[3,1];case 4:return[2,n]}})})},e.prototype._topIdxOf=function(t){return Yt(this,void 0,void 0,function(){var r,n,a,i;return Kt(this,function(o){switch(o.label){case 0:if(!t.length)return[2,-1];r=0,n=t[r],a=1,o.label=1;case 1:return a<t.length?[4,this.compare(t[a],n)]:[3,4];case 2:i=o.sent(),i<0&&(r=a,n=t[a]),o.label=3;case 3:return++a,[3,1];case 4:return[2,r]}})})},e.prototype._topOf=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Yt(this,void 0,void 0,function(){var n;return Kt(this,function(a){switch(a.label){case 0:return n=new e(this.compare),[4,n.init(t)];case 1:return a.sent(),[2,n.peek()]}})})},e})();var Mte=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(f){return u([l,f])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(n=1,a&&(i=l[0]&2?a.return:l[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,l[1])).done)return i;switch(a=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,a=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){r.label=l[1];break}if(l[0]===6&&r.label<i[1]){r.label=i[1],i=l;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(l);break}i[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(f){l=[6,f],a=0}finally{n=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},fn=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i},An=function(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))},wu=function(){function e(t){t===void 0&&(t=e.minComparator);var r=this;this.compare=t,this.heapArray=[],this._limit=0,this.offer=this.add,this.element=this.peek,this.poll=this.pop,this.removeAll=this.clear,this._invertedCompare=function(n,a){return-1*r.compare(n,a)}}return e.getChildrenIndexOf=function(t){return[t*2+1,t*2+2]},e.getParentIndexOf=function(t){if(t<=0)return-1;var r=t%2?1:2;return Math.floor((t-r)/2)},e.getSiblingIndexOf=function(t){if(t<=0)return-1;var r=t%2?1:-1;return t+r},e.minComparator=function(t,r){return t>r?1:t<r?-1:0},e.maxComparator=function(t,r){return r>t?1:r<t?-1:0},e.minComparatorNumber=function(t,r){return t-r},e.maxComparatorNumber=function(t,r){return r-t},e.defaultIsEqual=function(t,r){return t===r},e.print=function(t){function r(f){var d=e.getParentIndexOf(f);return Math.floor(Math.log2(d+1))}function n(f,d){for(var c="";d>0;--d)c+=f;return c}for(var a=0,i=[],o=r(t.length-1)+2,s=0;a<t.length;){var u=r(a)+1;a===0&&(u=0);var l=String(t.get(a));l.length>s&&(s=l.length),i[u]=i[u]||[],i[u].push(l),a+=1}return i.map(function(f,d){var c=Math.pow(2,o-d)-1;return n(" ",Math.floor(c/2)*s)+f.map(function(p){var _=(s-p.length)/2;return n(" ",Math.ceil(_))+p+n(" ",Math.floor(_))}).join(n(" ",c*s))}).join(`
`)},e.heapify=function(t,r){var n=new e(r);return n.heapArray=t,n.init(),n},e.heappop=function(t,r){var n=new e(r);return n.heapArray=t,n.pop()},e.heappush=function(t,r,n){var a=new e(n);a.heapArray=t,a.push(r)},e.heappushpop=function(t,r,n){var a=new e(n);return a.heapArray=t,a.pushpop(r)},e.heapreplace=function(t,r,n){var a=new e(n);return a.heapArray=t,a.replace(r)},e.heaptop=function(t,r,n){r===void 0&&(r=1);var a=new e(n);return a.heapArray=t,a.top(r)},e.heapbottom=function(t,r,n){r===void 0&&(r=1);var a=new e(n);return a.heapArray=t,a.bottom(r)},e.nlargest=function(t,r,n){var a=new e(n);return a.heapArray=An([],fn(r),!1),a.init(),a.top(t)},e.nsmallest=function(t,r,n){var a=new e(n);return a.heapArray=An([],fn(r),!1),a.init(),a.bottom(t)},e.prototype.add=function(t){return this._sortNodeUp(this.heapArray.push(t)-1),this._applyLimit(),!0},e.prototype.addAll=function(t){var r,n=this.length;(r=this.heapArray).push.apply(r,An([],fn(t),!1));for(var a=this.length;n<a;++n)this._sortNodeUp(n);return this._applyLimit(),!0},e.prototype.bottom=function(t){return t===void 0&&(t=1),this.heapArray.length===0||t<=0?[]:this.heapArray.length===1?[this.heapArray[0]]:t>=this.heapArray.length?An([],fn(this.heapArray),!1):this._bottomN_push(~~t)},e.prototype.check=function(){var t=this;return this.heapArray.find(function(r,n){return!!t.getChildrenOf(n).find(function(a){return t.compare(r,a)>0})})},e.prototype.clear=function(){this.heapArray=[]},e.prototype.clone=function(){var t=new e(this.comparator());return t.heapArray=this.toArray(),t._limit=this._limit,t},e.prototype.comparator=function(){return this.compare},e.prototype.contains=function(t,r){return r===void 0&&(r=e.defaultIsEqual),this.indexOf(t,r)!==-1},e.prototype.init=function(t){t&&(this.heapArray=An([],fn(t),!1));for(var r=Math.floor(this.heapArray.length);r>=0;--r)this._sortNodeDown(r);this._applyLimit()},e.prototype.isEmpty=function(){return this.length===0},e.prototype.indexOf=function(t,r){if(r===void 0&&(r=e.defaultIsEqual),this.heapArray.length===0)return-1;for(var n=[],a=0;a<this.heapArray.length;){var i=this.heapArray[a];if(r(i,t))return a;this.compare(i,t)<=0&&n.push.apply(n,An([],fn(e.getChildrenIndexOf(a)),!1)),a=n.shift()||this.heapArray.length}return-1},e.prototype.indexOfEvery=function(t,r){if(r===void 0&&(r=e.defaultIsEqual),this.heapArray.length===0)return[];for(var n=[],a=[],i=0;i<this.heapArray.length;){var o=this.heapArray[i];r(o,t)?(a.push(i),n.push.apply(n,An([],fn(e.getChildrenIndexOf(i)),!1))):this.compare(o,t)<=0&&n.push.apply(n,An([],fn(e.getChildrenIndexOf(i)),!1)),i=n.shift()||this.heapArray.length}return a},e.prototype.leafs=function(){if(this.heapArray.length===0)return[];var t=e.getParentIndexOf(this.heapArray.length-1);return this.heapArray.slice(t+1)},Object.defineProperty(e.prototype,"length",{get:function(){return this.heapArray.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"limit",{get:function(){return this._limit},set:function(t){t<0||isNaN(t)?this._limit=0:this._limit=~~t,this._applyLimit()},enumerable:!1,configurable:!0}),e.prototype.setLimit=function(t){return this.limit=t,t<0||isNaN(t)?NaN:this._limit},e.prototype.peek=function(){return this.heapArray[0]},e.prototype.pop=function(){var t=this.heapArray.pop();return this.length>0&&t!==void 0?this.replace(t):t},e.prototype.push=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t.length<1?!1:t.length===1?this.add(t[0]):this.addAll(t)},e.prototype.pushpop=function(t){var r;return this.compare(this.heapArray[0],t)<0&&(r=fn([this.heapArray[0],t],2),t=r[0],this.heapArray[0]=r[1],this._sortNodeDown(0)),t},e.prototype.remove=function(t,r){var n=this;if(r===void 0&&(r=e.defaultIsEqual),!this.heapArray.length)return!1;if(t===void 0)return this.pop(),!0;for(var a=[0];a.length;){var i=a.shift();if(r(this.heapArray[i],t))return i===0?this.pop():i===this.heapArray.length-1?this.heapArray.pop():(this.heapArray.splice(i,1,this.heapArray.pop()),this._sortNodeUp(i),this._sortNodeDown(i)),!0;if(this.compare(this.heapArray[i],t)<=0){var o=e.getChildrenIndexOf(i).filter(function(s){return s<n.heapArray.length});a.push.apply(a,An([],fn(o),!1))}}return!1},e.prototype.replace=function(t){var r=this.heapArray[0];return this.heapArray[0]=t,this._sortNodeDown(0),r},e.prototype.size=function(){return this.length},e.prototype.top=function(t){return t===void 0&&(t=1),this.heapArray.length===0||t<=0?[]:this.heapArray.length===1||t===1?[this.heapArray[0]]:t>=this.heapArray.length?An([],fn(this.heapArray),!1):this._topN_push(~~t)},e.prototype.toArray=function(){return An([],fn(this.heapArray),!1)},e.prototype.toString=function(){return this.heapArray.toString()},e.prototype.get=function(t){return this.heapArray[t]},e.prototype.getChildrenOf=function(t){var r=this;return e.getChildrenIndexOf(t).map(function(n){return r.heapArray[n]}).filter(function(n){return n!==void 0})},e.prototype.getParentOf=function(t){var r=e.getParentIndexOf(t);return this.heapArray[r]},e.prototype[Symbol.iterator]=function(){return Mte(this,function(t){switch(t.label){case 0:return this.length?[4,this.pop()]:[3,2];case 1:return t.sent(),[3,0];case 2:return[2]}})},e.prototype.iterator=function(){return this.toArray()},e.prototype._applyLimit=function(){if(this._limit>0&&this._limit<this.heapArray.length)for(var t=this.heapArray.length-this._limit;t;)this.heapArray.pop(),--t},e.prototype._bottomN_push=function(t){var r=new e(this.compare);r.limit=t,r.heapArray=this.heapArray.slice(-t),r.init();for(var n=this.heapArray.length-1-t,a=e.getParentIndexOf(n),i=[],o=n;o>a;--o)i.push(o);for(var s=this.heapArray;i.length;){var o=i.shift();this.compare(s[o],r.peek())>0&&(r.replace(s[o]),o%2&&i.push(e.getParentIndexOf(o)))}return r.toArray()},e.prototype._moveNode=function(t,r){var n;n=fn([this.heapArray[r],this.heapArray[t]],2),this.heapArray[t]=n[0],this.heapArray[r]=n[1]},e.prototype._sortNodeDown=function(t){for(var r=this.heapArray.length;;){var n=2*t+1,a=n+1,i=t;if(n<r&&this.compare(this.heapArray[n],this.heapArray[i])<0&&(i=n),a<r&&this.compare(this.heapArray[a],this.heapArray[i])<0&&(i=a),i===t)break;this._moveNode(t,i),t=i}},e.prototype._sortNodeUp=function(t){for(;t>0;){var r=e.getParentIndexOf(t);if(this.compare(this.heapArray[t],this.heapArray[r])<0)this._moveNode(t,r),t=r;else break}},e.prototype._topN_push=function(t){var r=new e(this._invertedCompare);r.limit=t;for(var n=[0],a=this.heapArray;n.length;){var i=n.shift();i<a.length&&(r.length<t?(r.push(a[i]),n.push.apply(n,An([],fn(e.getChildrenIndexOf(i)),!1))):this.compare(a[i],r.peek())<0&&(r.replace(a[i]),n.push.apply(n,An([],fn(e.getChildrenIndexOf(i)),!1))))}return r.toArray()},e.prototype._topN_fill=function(t){var r=this.heapArray,n=new e(this._invertedCompare);n.limit=t,n.heapArray=r.slice(0,t),n.init();for(var a=e.getParentIndexOf(t-1)+1,i=[],o=a;o<t;++o)i.push.apply(i,An([],fn(e.getChildrenIndexOf(o).filter(function(s){return s<r.length})),!1));for((t-1)%2&&i.push(t);i.length;){var o=i.shift();o<r.length&&this.compare(r[o],n.peek())<0&&(n.replace(r[o]),i.push.apply(i,An([],fn(e.getChildrenIndexOf(o)),!1)))}return n.toArray()},e.prototype._topN_heap=function(t){for(var r=this.clone(),n=[],a=0;a<t;++a)n.push(r.pop());return n},e.prototype._topIdxOf=function(t){if(!t.length)return-1;for(var r=0,n=t[r],a=1;a<t.length;++a){var i=this.compare(t[a],n);i<0&&(r=a,n=t[a])}return r},e.prototype._topOf=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=new e(this.compare);return n.init(t),n.peek()},e}();class mh{constructor(t,r,n=[],a,i){Ye(this,"source");Ye(this,"relations");Ye(this,"target");Ye(this,"cmp");if(this.source=t,this.target=r,this.cmp=i,this.relations=n.map(({value:o,important:s})=>({value:o,important:s})),a)for(this.relations.push(a);this.relations.length>=2;){const o=this.relations[this.relations.length-2],s=this.relations[this.relations.length-1];if(o.important&&!s.important)break;if(o.important){const u=o.value,l=s.value;this.cmp?this.cmp(u,l)<0&&(o.value=s.value):o.value=u<l?u:l}else o.important=s.important,o.value=s.value;this.relations.pop()}}push(t,r){return new mh(this.target,t,this.relations,r,this.cmp)}important(){return this.relations.length>0?this.relations[0].important:!1}ordering(t){if(this.important()&&!t.important())return 1;if(!this.important()&&t.important())return-1;const r=this.relations.length,n=t.relations.length;for(let a=0;a<Math.min(r,n);a++){if(!this.relations[a].important&&!t.relations[a].important)return 0;if(!this.relations[a].important)return-1;if(!t.relations[a].important)return 1;if(this.cmp){const i=this.cmp(this.relations[a].value,t.relations[a].value);if(i!==0)return i}else{if(this.relations[a].value<t.relations[a].value)return-1;if(this.relations[a].value>t.relations[a].value)return 1}}return 0}}class kte{constructor(t,r,n,a,i,o,s){Ye(this,"members");Ye(this,"manager");Ye(this,"fetcher");Ye(this,"notifier");Ye(this,"launchedRelations");Ye(this,"modulator");Ye(this,"fetchNotifier");Ye(this,"memberNotifer");Ye(this,"fetchedPages");Ye(this,"state");Ye(this,"ordered");Ye(this,"polling");Ye(this,"toPoll");Ye(this,"pollInterval");Ye(this,"cancled",!1);Ye(this,"logger",si(this));this.ordered=i,this.manager=t,this.fetcher=r,this.notifier=n,this.polling=o,this.pollInterval=s,this.toPoll=new wu((u,l)=>u.chain.ordering(l.chain)),this.launchedRelations=new wu((u,l)=>u.ordering(l)),this.fetchedPages=new wu((u,l)=>u.relation.ordering(l.relation)),this.state=[],this.fetchNotifier={error:u=>{this.notifier.error(u,{})},scheduleFetch:({target:u,expected:l},{chain:f})=>{f.target=u,this.toPoll.push({chain:f,expected:l}),this.notifier.mutable({},{})},pageFetched:(u,{chain:l,index:f})=>{this.logger.debug(`Page fetched ${u.url}`),this.modulator.finished(f),this.handleFetched(u,l)},relationFound:({from:u,target:l},{chain:f})=>{u.expected.push(l.node),this.logger.debug(`Relation found ${l.node}`);const d=f.push(l.node,this.extractRelation(l));d.ordering(f)>=0?this.fetch(d,[u.target]):this.logger.error("Found relation backwards in time, this indicates wrong tree structure. Ignoring")}},this.memberNotifer={error:u=>{this.notifier.error(u,{})},done:(u,l)=>{this.logger.debug(`Member done ${l.target}`);const f=this.findOrDefault(l);f.extracting-=1,this.notifier.fragment(u,{}),this.checkEmit()},extracted:u=>{this.members.push(u)}},this.modulator=a.create("fetcher",new wu((u,l)=>u.item.chain.ordering(l.item.chain)),{ready:({item:{chain:u,expected:l},index:f})=>{this.fetcher.fetch({target:u.target,expected:l},{chain:u,index:f},this.fetchNotifier)}},u=>{const{chain:l,expected:f}=u,d=this.ordered==="ascending"?(c,p)=>c>p?1:c<p?-1:0:(c,p)=>c>p?-1:c<p?1:0;return{chain:new mh(l.source,l.target,l.relations,void 0,d),expected:f}}),i=="ascending"?this.members=new wu((u,l)=>u.id.equals(l.id)||u.timestamp==l.timestamp?0:!u&&l?1:u&&!l||u.timestamp<l.timestamp?-1:1):this.members=new wu((u,l)=>u.id.equals(l.id)||u.timestamp==l.timestamp?0:!u&&l?-1:u&&!l||u.timestamp<l.timestamp?1:-1)}start(t){this.logger.debug(`Starting at ${t}`);const r=(n,a)=>n>a?1:n<a?-1:0;this.ordered==="ascending"?this.fetch(new mh("",t,[],void 0,(n,a)=>1*r(n,a)).push(t,{important:!1,value:0}),[]):this.fetch(new mh("",t,[],void 0,(n,a)=>-1*r(n,a)).push(t,{important:!1,value:0}),[])}cancel(){this.cancled=!0}checkEnd(){if(!this.cancled&&this.launchedRelations.isEmpty()){this.logger.debug("No more launched relations");let t=this.members.pop();for(;t;)this.notifier.member(t,{}),t=this.members.pop();this.polling?(this.logger.debug("Polling is enabled, settings timeout"),setTimeout(()=>{if(this.cancled)return;this.notifier.pollCycle({},{});const r=this.toPoll.toArray();this.logger.debug(`Let's repoll (${JSON.stringify(r.map(n=>n.chain.target))})`),this.toPoll.clear();for(const n of r)this.launchedRelations.push(n.chain),this.findOrDefault(n.chain).inFlight+=1,this.findOrDefault(n.chain).closed=!1,this.modulator.push(n)},this.pollInterval||1e3)):(this.logger.debug("Closing the notifier, polling is not set"),this.cancled=!0,this.notifier.close({},{}))}}findOrDefault(t){const r=this.state.find(a=>a.rel.ordering(t)==0);if(r)return r;const n={rel:t,inFlight:0,extracting:0,closed:!1};return this.state.push(n),n}extractRelation(t){const r=i=>{try{return new Date(i)}catch{return i}};let n;const a=t.relations.filter(i=>i.type.value===mt.TREE.custom("InBetweenRelation")).flatMap(i=>i.value||[]).flatMap(i=>{let o;i.termType==="Literal"&&(o=i.datatype.value);const s=fS(i.value,o,"Z");return s?[s]:[]});return this.ordered==="ascending"&&(n=a.map(i=>i.min).reduce((i,o)=>i?o&&i>o?o:i:o,n)),this.ordered==="descending"&&(n=a.map(i=>i.max).reduce((i,o)=>i&&(!o||i>o)?i:o,n)),this.ordered==="ascending"?n=t.relations.filter(i=>Fte.some(o=>i.type.value===o.value)).filter(i=>i.value).map(i=>r(i.value[0].value)).reduce((i,o)=>i?o&&i>o?o:i:o,n):this.ordered==="descending"&&(n=t.relations.filter(i=>jte.some(o=>i.type.value===o.value)).filter(i=>i.value).map(i=>r(i.value[0].value)).reduce((i,o)=>i&&(!o||i>o)?i:o,n)),n!==void 0?{important:!0,value:n}:{important:!1,value:0}}fetch(t,r){this.launchedRelations.push(t),this.findOrDefault(t).inFlight+=1,this.modulator.push({chain:t,expected:r})}handleFetched(t,r){this.fetchedPages.push({page:t,relation:r});const n=this.findOrDefault(r);n.extracting+=1,n.inFlight-=1,this.manager.extractMembers(t,r,this.memberNotifer)}checkEmit(){var r;let t=this.launchedRelations.pop();for(;t;){const n=((r=this.launchedRelations.peek())==null?void 0:r.relations[0])||{value:0,important:!1},a=this.findOrDefault(t);if(a.inFlight!=0||a.extracting!=0)break;if(n.important){a.closed=!0;let i=this.members.pop();for(;i;){if(!i.timestamp)this.notifier.member(i,{});else if(this.ordered=="ascending"?i.timestamp<n.value:i.timestamp>n.value)this.notifier.member(i,{});else break;i=this.members.pop()}i&&this.members.push(i)}t=this.launchedRelations.pop()}t&&this.launchedRelations.push(t),this.checkEnd()}}const Fte=[mt.TREE.terms.GreaterThanRelation,mt.TREE.terms.GreaterThanOrEqualToRelation],jte=[mt.TREE.terms.LessThanRelation,mt.TREE.terms.LessThanOrEqualToRelation],M8=new FE.DataFactory;function Bte(e,t="none",r,n){return new $te(ZQ(e),t,r,n)}async function qte(e,t,r,n,a){const i=si("getShape");if(a.shapeFile){const f=a.shapeFile.startsWith("http")?a.shapeFile:"file://"+a.shapeFile,d=await ES.rdfDereferencer.dereference(a.shapeFile,{localFiles:!0,fetch:a.fetch}),c=await NQ(d.data);a.shape={quads:c,shapeId:M8.namedNode(f)}}let o=a.noShape?[]:Vr(r,e,mt.TREE.terms.shape),s=Vr(r,e,mt.LDES.terms.timestampPath),u=Vr(r,e,mt.LDES.terms.versionOfPath);if(i.debug(`Found ${o.length} shapes, ${s.length} timestampPaths, ${u.length} isVersionOfPaths`),o.length===0||s.length===0||u.length===0)try{i.debug(`Maybe find more info at ${t.value}`);const f=await n.dereference(t.value,{localFiles:!0,fetch:a.fetch});r=Hu.RdfStore.createDefault(),await new Promise((c,p)=>{r.import(f.data).on("end",c).on("error",p)});const d=Vr(r,null,mt.TREE.terms.shape);d&&(o=a.noShape?[]:d),s.length||(s=Vr(r,null,mt.LDES.terms.timestampPath)),u.length||(u=Vr(r,null,mt.LDES.terms.versionOfPath)),i.debug(`Found ${o.length} shapes, ${s.length} timestampPaths, ${u.length} isVersionOfPaths`)}catch(f){i.error(`Failed to fetch ${e.value}`),i.error(f)}o.length>1&&i.error(`Expected at most one shape id, found ${o.length}`),s.length>1&&i.error(`Expected at most one timestamp path, found ${s.length}`),u.length>1&&i.error(`Expected at most one versionOf path, found ${u.length}`);const l=Hu.RdfStore.createDefault();if(a.shape){for(const f of a.shape.quads)l.addQuad(f);a.shape.shapeId=MQ(l)}else{const f=o[0];if(f&&f.termType==="NamedNode"&&r.getQuads(f,null,null).length===0){const d=await ES.rdfDereferencer.dereference(f.value);await new Promise((c,p)=>{r.import(d.data).on("end",c).on("error",p)})}}return{extractor:new Ite.CBDShapeExtractor(a.shape?l:r,n,{cbdDefaultGraph:a.onlyDefaultGraph,fetch:a.fetch}),shape:a.shape?a.shape.shapeId:o[0],timestampPath:s[0],isVersionOfPath:u[0]}}class $te{constructor(t,r="none",n,a){Ye(this,"streamId");Ye(this,"config");Ye(this,"dereferencer");Ye(this,"fetcher");Ye(this,"memberManager");Ye(this,"strategy");Ye(this,"ordered");Ye(this,"modulatorFactory");Ye(this,"stateFactory");Ye(this,"listeners",{});Ye(this,"logger",si(this));this.config=t,this.dereferencer=n??ES.rdfDereferencer,this.streamId=a,this.ordered=r,this.stateFactory=t.stateFile?new Ste(t.stateFile):new wte,this.modulatorFactory=new kQ(this.stateFactory),typeof ze<"u"&&ze.on("SIGINT",()=>{this.logger.info("Caught interrupt signal, saving"),this.stateFactory.write(),ze.exit()})}on(t,r){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(r)}async init(t,r,n){const a=await Ute(this.config.url,this.dereferencer,this.config.fetch),i=M8.namedNode(this.config.url),o=a.data.getQuads(null,mt.TREE.terms.view,null,null);let s=i;this.config.urlIsView||(o.length===0?this.logger.error("Did not find tree:view predicate, this is required to interpret the LDES"):s=o[0].object);const u=await qte(i,s,a.data,this.dereferencer,this.config),l=this.stateFactory.build("members",c=>{const p=[...c.values()];return JSON.stringify(p)},c=>new Set(JSON.parse(c)),()=>new Set),f=this.config.lastVersionOnly?this.stateFactory.build("versions",c=>{const p=[...c.entries()];return JSON.stringify(p)},c=>new Map(JSON.parse(c)),()=>new Map):void 0;if(this.streamId=this.streamId||o[0].subject,this.memberManager=new Dte(this.streamId||o[0].subject,l.item,u),this.logger.debug(`timestampPath ${!!u.timestampPath}`),this.ordered!=="none"&&!u.timestampPath)throw"Can only emit members in order, if LDES is configured with timestampPath";this.config.condition=qQ(this.config.condition,this.config.defaultTimezone,this.config.before,this.config.after,u.timestampPath),this.fetcher=new Lte(this.dereferencer,this.config.loose,this.config.condition,this.config.defaultTimezone,this.config.includeMetadata||!1,this.config.fetch);const d={error:c=>this.emit("error",c),fragment:c=>this.emit("fragment",c),member:c=>{if(this.config.condition.matchMember(c)){if(this.config.condition.memberEmitted(c),c.isVersionOf&&c.timestamp&&f){const p=f.item;if(p.has(c.isVersionOf)){const _=p.get(c.isVersionOf);if(c.timestamp>_)p.set(c.isVersionOf,c.timestamp);else return}else p.set(c.isVersionOf,c.timestamp)}t(BQ(c,this.config.materialize===!0,u))}},pollCycle:()=>{this.config.condition.poll(),this.emit("poll",void 0)},mutable:()=>{this.emit("mutable",void 0)},close:()=>{this.stateFactory.write(),r()}};this.config.lastVersionOnly&&(this.ordered="descending"),this.strategy=this.ordered!=="none"?new kte(this.memberManager,this.fetcher,d,n,this.ordered,this.config.polling,this.config.pollInterval):new Nte(this.memberManager,this.fetcher,d,n,this.config.polling,this.config.pollInterval),this.logger.debug(`Found ${o.length} views, choosing ${s.value}`),this.strategy.start(s.value)}stream(t){const r=Cte(),n={start:async a=>{this.on("error",i=>{this.stateFactory.write(),this.memberManager.close(),this.fetcher.close(),a.error(i)}),this.modulatorFactory.pause(),await this.init(i=>{a.enqueue(i),IM(r)},()=>a.close(),this.modulatorFactory)},pull:async()=>{IM(r),this.modulatorFactory.unpause(),await r.waiting,this.modulatorFactory.pause()},cancel:async()=>{this.logger.info("Stream canceled"),this.stateFactory.write(),this.strategy.cancel(),this.memberManager.close(),this.fetcher.close()}};return new ReadableStream(n,t)}emit(t,r){(this.listeners[t]||[]).forEach(function(n){n(r)})}}async function Ute(e,t,r){const n=await t.dereference(e,{localFiles:!0,fetch:r}),a=n.url,i=Hu.RdfStore.createDefault();return await new Promise((o,s)=>{i.import(n.data).on("end",o).on("error",s)}),{url:a,data:i}}globalThis.L=rF;const Hte=Gt({name:"MapVisualizer",components:{LMap:k9,LTileLayer:Y9,LMarker:$9,LPopup:G9,LMarkerClusterGroup:m7,MDBContainer:U7,MDBRow:q7,MDBCol:j7,MDBInput:nU,VueDatePicker:SE,MDBBtn:MF},data(){return{zoom:2,form:{ldes:"",range:null},members:[],loading:{start:void 0,end:void 0,now:Date.now()}}},methods:{async fetchData(){var n;if(((n=this.form.ldes)==null?void 0:n.trim())==="")return;this.members=[],this.loading.start=void 0,this.loading.end=void 0,console.log(`fetching data from ${this.form.ldes}`);const e={url:this.form.ldes,polling:!1};this.form.range&&(e.after=new Date(this.form.range[0]),e.before=new Date(this.form.range[1])),this.loading.start=Date.now(),this.loading.now=Date.now();const t=setInterval(()=>{this.loading.end?clearInterval(t):this.loading.now=Date.now()},100),r=Bte(e);for await(const a of this.makeAsyncIterable(r.stream()))if(a){const i=a.quads.find(s=>s.predicate.value==="http://www.w3.org/2004/02/skos/core#prefLabel")||a.quads.find(s=>s.predicate.value===mt.DC.title),o=a.quads.find(s=>s.predicate.value==="http://www.w3.org/ns/dcat#centroid")||a.quads.find(s=>s.predicate.value==="http://www.opengis.net/ont/geosparql#asWKT");if(o&&o.object.datatype.value==="http://www.opengis.net/ont/geosparql#wktLiteral"){const u=o.object.value.match(/POINT\s*\(([^)]+)\)/)[1].split(" ");this.members.push({id:a.id,label:i==null?void 0:i.object.value,modified:a.timestamp,coords:[parseFloat(u[1]),parseFloat(u[0])]})}}this.loading.end=Date.now()},makeAsyncIterable(e){const t=e.getReader();return{[Symbol.asyncIterator](){return{async next(){const{done:r,value:n}=await t.read();return r?(t.releaseLock(),{done:!0}):{done:!1,value:n}}}}}}}}),k8=(e,t)=>{const r=e.__vccOpts||e;for(const[n,a]of t)r[n]=a;return r},Vte={class:"mt-3"},zte={key:0},Gte={key:1},Wte={style:{height:"75vh",width:"100%"},class:"mt-1"};function Kte(e,t,r,n,a,i){const o=ki("MDBInput"),s=ki("MDBCol"),u=ki("VueDatePicker"),l=ki("MDBBtn"),f=ki("MDBRow"),d=ki("l-tile-layer"),c=ki("l-popup"),p=ki("l-marker"),_=ki("l-marker-cluster-group"),v=ki("l-map"),b=ki("MDBContainer");return Ke(),Ot(b,{class:"mt-5"},{default:bt(()=>[t[3]||(t[3]=_t("h1",{class:"mb-3"},"LDES Visualizer",-1)),Nt(f,null,{default:bt(()=>[Nt(s,null,{default:bt(()=>[Nt(o,{label:"LDES ID",modelValue:e.form.ldes,"onUpdate:modelValue":t[0]||(t[0]=m=>e.form.ldes=m)},null,8,["modelValue"])]),_:1}),Nt(s,null,{default:bt(()=>[Nt(u,{modelValue:e.form.range,"onUpdate:modelValue":t[1]||(t[1]=m=>e.form.range=m),label:"Date range",range:""},null,8,["modelValue"])]),_:1}),Nt(s,null,{default:bt(()=>[Nt(l,{onClick:e.fetchData,color:"primary"},{default:bt(()=>t[2]||(t[2]=[Ri("Visualize")])),_:1},8,["onClick"])]),_:1})]),_:1}),_t("div",Vte,[e.loading.start&&e.loading.end?(Ke(),et("small",zte,"Loaded "+qt(e.members.length)+" members in "+qt(e.loading.end-e.loading.start)+"ms.",1)):e.loading.start?(Ke(),et("small",Gte,"Loading "+qt(e.members.length)+" members in "+qt(e.loading.now-e.loading.start)+"ms...",1)):rt("",!0)]),_t("div",Wte,[Nt(v,{ref:"map",zoom:e.zoom,center:[47.41322,-1.219482]},{default:bt(()=>[Nt(d,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png","layer-type":"base",name:"OpenStreetMap"}),Nt(_,null,{default:bt(()=>[(Ke(!0),et(wt,null,pr(e.members,m=>(Ke(),Ot(p,{"lat-lng":m.coords,key:m.id.value},{default:bt(()=>[Nt(c,null,{default:bt(()=>[Ri(qt(m.label),1)]),_:2},1024)]),_:2},1032,["lat-lng"]))),128))]),_:1})]),_:1},8,["zoom"])])]),_:1})}const Zte=k8(Hte,[["render",Kte],["__scopeId","data-v-e318655f"]]),Yte=Gt({__name:"App",setup(e){return(t,r)=>(Ke(),et("main",null,[Nt(Zte)]))}}),Qte=k8(Yte,[["__scopeId","data-v-4443d580"]]);var zn={},Lw={},PM;function Xte(){return PM||(PM=1,function(e,t){if(e.setImmediate)return;var r=1,n={},a=!1,i=e.document,o;function s(y){typeof y!="function"&&(y=new Function(""+y));for(var g=new Array(arguments.length-1),S=0;S<g.length;S++)g[S]=arguments[S+1];var T={callback:y,args:g};return n[r]=T,o(r),r++}function u(y){delete n[y]}function l(y){var g=y.callback,S=y.args;switch(S.length){case 0:g();break;case 1:g(S[0]);break;case 2:g(S[0],S[1]);break;case 3:g(S[0],S[1],S[2]);break;default:g.apply(t,S);break}}function f(y){if(a)setTimeout(f,0,y);else{var g=n[y];if(g){a=!0;try{l(g)}finally{u(y),a=!1}}}}function d(){o=function(y){ze.nextTick(function(){f(y)})}}function c(){if(e.postMessage&&!e.importScripts){var y=!0,g=e.onmessage;return e.onmessage=function(){y=!1},e.postMessage("","*"),e.onmessage=g,y}}function p(){var y="setImmediate$"+Math.random()+"$",g=function(S){S.source===e&&typeof S.data=="string"&&S.data.indexOf(y)===0&&f(+S.data.slice(y.length))};e.addEventListener?e.addEventListener("message",g,!1):e.attachEvent("onmessage",g),o=function(S){e.postMessage(y+S,"*")}}function _(){var y=new MessageChannel;y.port1.onmessage=function(g){var S=g.data;f(S)},o=function(g){y.port2.postMessage(g)}}function v(){var y=i.documentElement;o=function(g){var S=i.createElement("script");S.onreadystatechange=function(){f(g),S.onreadystatechange=null,y.removeChild(S),S=null},y.appendChild(S)}}function b(){o=function(y){setTimeout(f,0,y)}}var m=Object.getPrototypeOf&&Object.getPrototypeOf(e);m=m&&m.setTimeout?m:e,{}.toString.call(e.process)==="[object process]"?d():c()?p():e.MessageChannel?_():i&&"onreadystatechange"in i.createElement("script")?v():b(),m.setImmediate=s,m.clearImmediate=u}(typeof self>"u"?typeof xt>"u"?Lw:xt:self)),Lw}var CM;function Jte(){if(CM)return zn;CM=1;var e=typeof xt<"u"&&xt||typeof self<"u"&&self||window,t=Function.prototype.apply;zn.setTimeout=function(){return new r(t.call(setTimeout,e,arguments),clearTimeout)},zn.setInterval=function(){return new r(t.call(setInterval,e,arguments),clearInterval)},zn.clearTimeout=zn.clearInterval=function(n){n&&n.close()};function r(n,a){this._id=n,this._clearFn=a}return r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(e,this._id)},zn.enroll=function(n,a){clearTimeout(n._idleTimeoutId),n._idleTimeout=a},zn.unenroll=function(n){clearTimeout(n._idleTimeoutId),n._idleTimeout=-1},zn._unrefActive=zn.active=function(n){clearTimeout(n._idleTimeoutId);var a=n._idleTimeout;a>=0&&(n._idleTimeoutId=setTimeout(function(){n._onTimeout&&n._onTimeout()},a))},Xte(),zn.setImmediate=typeof self<"u"&&self.setImmediate||typeof xt<"u"&&xt.setImmediate||zn.setImmediate,zn.clearImmediate=typeof self<"u"&&self.clearImmediate||typeof xt<"u"&&xt.clearImmediate||zn.clearImmediate,zn}var ere=Jte();typeof globalThis<"u"&&!globalThis.process&&(globalThis.process=ze,globalThis.setImmediate=ere.setImmediate);n9(Qte).mount("#app");
