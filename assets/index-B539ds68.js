var HB=Object.defineProperty;var VB=(e,t,r)=>t in e?HB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Ye=(e,t,r)=>VB(e,typeof t!="symbol"?t+"":t,r);function zB(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();const bu=globalThis||void 0||self;/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function pE(e){const t=Object.create(null);for(const r of e.split(","))t[r]=1;return r=>r in t}const tr={},wu=[],ya=()=>{},WB=()=>!1,em=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),mE=e=>e.startsWith("onUpdate:"),an=Object.assign,yE=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},GB=Object.prototype.hasOwnProperty,Zt=(e,t)=>GB.call(e,t),Rt=Array.isArray,Eu=e=>tm(e)==="[object Map]",sM=e=>tm(e)==="[object Set]",It=e=>typeof e=="function",_r=e=>typeof e=="string",Ya=e=>typeof e=="symbol",sr=e=>e!==null&&typeof e=="object",uM=e=>(sr(e)||It(e))&&It(e.then)&&It(e.catch),lM=Object.prototype.toString,tm=e=>lM.call(e),KB=e=>tm(e).slice(8,-1),fM=e=>tm(e)==="[object Object]",gE=e=>_r(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Zd=pE(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),rm=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},ZB=/-(\w)/g,Ei=rm(e=>e.replace(ZB,(t,r)=>r?r.toUpperCase():"")),YB=/\B([A-Z])/g,Bo=rm(e=>e.replace(YB,"-$1").toLowerCase()),nm=rm(e=>e.charAt(0).toUpperCase()+e.slice(1)),vy=rm(e=>e?`on${nm(e)}`:""),Ao=(e,t)=>!Object.is(e,t),wy=(e,...t)=>{for(let r=0;r<e.length;r++)e[r](...t)},cM=(e,t,r,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:r})},QB=e=>{const t=parseFloat(e);return isNaN(t)?e:t},XB=e=>{const t=_r(e)?Number(e):NaN;return isNaN(t)?e:t};let sT;const im=()=>sT||(sT=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof bu<"u"?bu:{});function kr(e){if(Rt(e)){const t={};for(let r=0;r<e.length;r++){const n=e[r],i=_r(n)?rq(n):kr(n);if(i)for(const a in i)t[a]=i[a]}return t}else if(_r(e)||sr(e))return e}const JB=/;(?![^(]*\))/g,eq=/:([^]+)/,tq=/\/\*[^]*?\*\//g;function rq(e){const t={};return e.replace(tq,"").split(JB).forEach(r=>{if(r){const n=r.split(eq);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function vt(e){let t="";if(_r(e))t=e;else if(Rt(e))for(let r=0;r<e.length;r++){const n=vt(e[r]);n&&(t+=n+" ")}else if(sr(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}function rn(e){if(!e)return null;let{class:t,style:r}=e;return t&&!_r(t)&&(e.class=vt(t)),r&&(e.style=kr(r)),e}const nq="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",iq=pE(nq);function dM(e){return!!e||e===""}const hM=e=>!!(e&&e.__v_isRef===!0),qt=e=>_r(e)?e:e==null?"":Rt(e)||sr(e)&&(e.toString===lM||!It(e.toString))?hM(e)?qt(e.value):JSON.stringify(e,pM,2):String(e),pM=(e,t)=>hM(t)?pM(e,t.value):Eu(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[n,i],a)=>(r[Ey(n,a)+" =>"]=i,r),{})}:sM(t)?{[`Set(${t.size})`]:[...t.values()].map(r=>Ey(r))}:Ya(t)?Ey(t):sr(t)&&!Rt(t)&&!fM(t)?String(t):t,Ey=(e,t="")=>{var r;return Ya(e)?`Symbol(${(r=e.description)!=null?r:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Pn;class aq{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Pn,!t&&Pn&&(this.index=(Pn.scopes||(Pn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].pause();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].resume();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].resume()}}run(t){if(this._active){const r=Pn;try{return Pn=this,t()}finally{Pn=r}}}on(){Pn=this}off(){Pn=this.parent}stop(t){if(this._active){this._active=!1;let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(this.effects.length=0,r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function mM(){return Pn}function oq(e,t=!1){Pn&&Pn.cleanups.push(e)}let or;const Sy=new WeakSet;class yM{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Pn&&Pn.active&&Pn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Sy.has(this)&&(Sy.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||_M(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,uT(this),bM(this);const t=or,r=qi;or=this,qi=!0;try{return this.fn()}finally{vM(this),or=t,qi=r,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)vE(t);this.deps=this.depsTail=void 0,uT(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Sy.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Tw(this)&&this.run()}get dirty(){return Tw(this)}}let gM=0,Yd,Qd;function _M(e,t=!1){if(e.flags|=8,t){e.next=Qd,Qd=e;return}e.next=Yd,Yd=e}function _E(){gM++}function bE(){if(--gM>0)return;if(Qd){let t=Qd;for(Qd=void 0;t;){const r=t.next;t.next=void 0,t.flags&=-9,t=r}}let e;for(;Yd;){let t=Yd;for(Yd=void 0;t;){const r=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=r}}if(e)throw e}function bM(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function vM(e){let t,r=e.depsTail,n=r;for(;n;){const i=n.prevDep;n.version===-1?(n===r&&(r=i),vE(n),sq(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=i}e.deps=t,e.depsTail=r}function Tw(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(wM(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function wM(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===uh))return;e.globalVersion=uh;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!Tw(e)){e.flags&=-3;return}const r=or,n=qi;or=e,qi=!0;try{bM(e);const i=e.fn(e._value);(t.version===0||Ao(i,e._value))&&(e._value=i,t.version++)}catch(i){throw t.version++,i}finally{or=r,qi=n,vM(e),e.flags&=-3}}function vE(e,t=!1){const{dep:r,prevSub:n,nextSub:i}=e;if(n&&(n.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=n,e.nextSub=void 0),r.subs===e&&(r.subs=n,!n&&r.computed)){r.computed.flags&=-5;for(let a=r.computed.deps;a;a=a.nextDep)vE(a,!0)}!t&&!--r.sc&&r.map&&r.map.delete(r.key)}function sq(e){const{prevDep:t,nextDep:r}=e;t&&(t.nextDep=r,e.prevDep=void 0),r&&(r.prevDep=t,e.nextDep=void 0)}let qi=!0;const EM=[];function qo(){EM.push(qi),qi=!1}function $o(){const e=EM.pop();qi=e===void 0?!0:e}function uT(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const r=or;or=void 0;try{t()}finally{or=r}}}let uh=0;class uq{constructor(t,r){this.sub=t,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class wE{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!or||!qi||or===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==or)r=this.activeLink=new uq(or,this),or.deps?(r.prevDep=or.depsTail,or.depsTail.nextDep=r,or.depsTail=r):or.deps=or.depsTail=r,SM(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const n=r.nextDep;n.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=n),r.prevDep=or.depsTail,r.nextDep=void 0,or.depsTail.nextDep=r,or.depsTail=r,or.deps===r&&(or.deps=n)}return r}trigger(t){this.version++,uh++,this.notify(t)}notify(t){_E();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{bE()}}}function SM(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)SM(n)}const r=e.dep.subs;r!==e&&(e.prevSub=r,r&&(r.nextSub=e)),e.dep.subs=e}}const M0=new WeakMap,Ls=Symbol(""),Rw=Symbol(""),lh=Symbol("");function _n(e,t,r){if(qi&&or){let n=M0.get(e);n||M0.set(e,n=new Map);let i=n.get(r);i||(n.set(r,i=new wE),i.map=n,i.key=r),i.track()}}function $a(e,t,r,n,i,a){const o=M0.get(e);if(!o){uh++;return}const s=l=>{l&&l.trigger()};if(_E(),t==="clear")o.forEach(s);else{const l=Rt(e),u=l&&gE(r);if(l&&r==="length"){const f=Number(n);o.forEach((d,c)=>{(c==="length"||c===lh||!Ya(c)&&c>=f)&&s(d)})}else switch((r!==void 0||o.has(void 0))&&s(o.get(r)),u&&s(o.get(lh)),t){case"add":l?u&&s(o.get("length")):(s(o.get(Ls)),Eu(e)&&s(o.get(Rw)));break;case"delete":l||(s(o.get(Ls)),Eu(e)&&s(o.get(Rw)));break;case"set":Eu(e)&&s(o.get(Ls));break}}bE()}function lq(e,t){const r=M0.get(e);return r&&r.get(t)}function su(e){const t=Vt(e);return t===e?t:(_n(t,"iterate",lh),bi(e)?t:t.map(bn))}function am(e){return _n(e=Vt(e),"iterate",lh),e}const fq={__proto__:null,[Symbol.iterator](){return xy(this,Symbol.iterator,bn)},concat(...e){return su(this).concat(...e.map(t=>Rt(t)?su(t):t))},entries(){return xy(this,"entries",e=>(e[1]=bn(e[1]),e))},every(e,t){return Aa(this,"every",e,t,void 0,arguments)},filter(e,t){return Aa(this,"filter",e,t,r=>r.map(bn),arguments)},find(e,t){return Aa(this,"find",e,t,bn,arguments)},findIndex(e,t){return Aa(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Aa(this,"findLast",e,t,bn,arguments)},findLastIndex(e,t){return Aa(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Aa(this,"forEach",e,t,void 0,arguments)},includes(...e){return Ty(this,"includes",e)},indexOf(...e){return Ty(this,"indexOf",e)},join(e){return su(this).join(e)},lastIndexOf(...e){return Ty(this,"lastIndexOf",e)},map(e,t){return Aa(this,"map",e,t,void 0,arguments)},pop(){return Dl(this,"pop")},push(...e){return Dl(this,"push",e)},reduce(e,...t){return lT(this,"reduce",e,t)},reduceRight(e,...t){return lT(this,"reduceRight",e,t)},shift(){return Dl(this,"shift")},some(e,t){return Aa(this,"some",e,t,void 0,arguments)},splice(...e){return Dl(this,"splice",e)},toReversed(){return su(this).toReversed()},toSorted(e){return su(this).toSorted(e)},toSpliced(...e){return su(this).toSpliced(...e)},unshift(...e){return Dl(this,"unshift",e)},values(){return xy(this,"values",bn)}};function xy(e,t,r){const n=am(e),i=n[t]();return n!==e&&!bi(e)&&(i._next=i.next,i.next=()=>{const a=i._next();return a.value&&(a.value=r(a.value)),a}),i}const cq=Array.prototype;function Aa(e,t,r,n,i,a){const o=am(e),s=o!==e&&!bi(e),l=o[t];if(l!==cq[t]){const d=l.apply(e,a);return s?bn(d):d}let u=r;o!==e&&(s?u=function(d,c){return r.call(this,bn(d),c,e)}:r.length>2&&(u=function(d,c){return r.call(this,d,c,e)}));const f=l.call(o,u,n);return s&&i?i(f):f}function lT(e,t,r,n){const i=am(e);let a=r;return i!==e&&(bi(e)?r.length>3&&(a=function(o,s,l){return r.call(this,o,s,l,e)}):a=function(o,s,l){return r.call(this,o,bn(s),l,e)}),i[t](a,...n)}function Ty(e,t,r){const n=Vt(e);_n(n,"iterate",lh);const i=n[t](...r);return(i===-1||i===!1)&&xE(r[0])?(r[0]=Vt(r[0]),n[t](...r)):i}function Dl(e,t,r=[]){qo(),_E();const n=Vt(e)[t].apply(e,r);return bE(),$o(),n}const dq=pE("__proto__,__v_isRef,__isVue"),xM=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ya));function hq(e){Ya(e)||(e=String(e));const t=Vt(this);return _n(t,"has",e),t.hasOwnProperty(e)}class TM{constructor(t=!1,r=!1){this._isReadonly=t,this._isShallow=r}get(t,r,n){if(r==="__v_skip")return t.__v_skip;const i=this._isReadonly,a=this._isShallow;if(r==="__v_isReactive")return!i;if(r==="__v_isReadonly")return i;if(r==="__v_isShallow")return a;if(r==="__v_raw")return n===(i?a?Sq:OM:a?IM:AM).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const o=Rt(t);if(!i){let l;if(o&&(l=fq[r]))return l;if(r==="hasOwnProperty")return hq}const s=Reflect.get(t,r,zr(t)?t:n);return(Ya(r)?xM.has(r):dq(r))||(i||_n(t,"get",r),a)?s:zr(s)?o&&gE(r)?s:s.value:sr(s)?i?PM(s):Qa(s):s}}class RM extends TM{constructor(t=!1){super(!1,t)}set(t,r,n,i){let a=t[r];if(!this._isShallow){const l=Fs(a);if(!bi(n)&&!Fs(n)&&(a=Vt(a),n=Vt(n)),!Rt(t)&&zr(a)&&!zr(n))return l?!1:(a.value=n,!0)}const o=Rt(t)&&gE(r)?Number(r)<t.length:Zt(t,r),s=Reflect.set(t,r,n,zr(t)?t:i);return t===Vt(i)&&(o?Ao(n,a)&&$a(t,"set",r,n):$a(t,"add",r,n)),s}deleteProperty(t,r){const n=Zt(t,r);t[r];const i=Reflect.deleteProperty(t,r);return i&&n&&$a(t,"delete",r,void 0),i}has(t,r){const n=Reflect.has(t,r);return(!Ya(r)||!xM.has(r))&&_n(t,"has",r),n}ownKeys(t){return _n(t,"iterate",Rt(t)?"length":Ls),Reflect.ownKeys(t)}}class pq extends TM{constructor(t=!1){super(!0,t)}set(t,r){return!0}deleteProperty(t,r){return!0}}const mq=new RM,yq=new pq,gq=new RM(!0);const Aw=e=>e,Rp=e=>Reflect.getPrototypeOf(e);function _q(e,t,r){return function(...n){const i=this.__v_raw,a=Vt(i),o=Eu(a),s=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,u=i[e](...n),f=r?Aw:t?Iw:bn;return!t&&_n(a,"iterate",l?Rw:Ls),{next(){const{value:d,done:c}=u.next();return c?{value:d,done:c}:{value:s?[f(d[0]),f(d[1])]:f(d),done:c}},[Symbol.iterator](){return this}}}}function Ap(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function bq(e,t){const r={get(i){const a=this.__v_raw,o=Vt(a),s=Vt(i);e||(Ao(i,s)&&_n(o,"get",i),_n(o,"get",s));const{has:l}=Rp(o),u=t?Aw:e?Iw:bn;if(l.call(o,i))return u(a.get(i));if(l.call(o,s))return u(a.get(s));a!==o&&a.get(i)},get size(){const i=this.__v_raw;return!e&&_n(Vt(i),"iterate",Ls),Reflect.get(i,"size",i)},has(i){const a=this.__v_raw,o=Vt(a),s=Vt(i);return e||(Ao(i,s)&&_n(o,"has",i),_n(o,"has",s)),i===s?a.has(i):a.has(i)||a.has(s)},forEach(i,a){const o=this,s=o.__v_raw,l=Vt(s),u=t?Aw:e?Iw:bn;return!e&&_n(l,"iterate",Ls),s.forEach((f,d)=>i.call(a,u(f),u(d),o))}};return an(r,e?{add:Ap("add"),set:Ap("set"),delete:Ap("delete"),clear:Ap("clear")}:{add(i){!t&&!bi(i)&&!Fs(i)&&(i=Vt(i));const a=Vt(this);return Rp(a).has.call(a,i)||(a.add(i),$a(a,"add",i,i)),this},set(i,a){!t&&!bi(a)&&!Fs(a)&&(a=Vt(a));const o=Vt(this),{has:s,get:l}=Rp(o);let u=s.call(o,i);u||(i=Vt(i),u=s.call(o,i));const f=l.call(o,i);return o.set(i,a),u?Ao(a,f)&&$a(o,"set",i,a):$a(o,"add",i,a),this},delete(i){const a=Vt(this),{has:o,get:s}=Rp(a);let l=o.call(a,i);l||(i=Vt(i),l=o.call(a,i)),s&&s.call(a,i);const u=a.delete(i);return l&&$a(a,"delete",i,void 0),u},clear(){const i=Vt(this),a=i.size!==0,o=i.clear();return a&&$a(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{r[i]=_q(i,e,t)}),r}function EE(e,t){const r=bq(e,t);return(n,i,a)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?n:Reflect.get(Zt(r,i)&&i in n?r:n,i,a)}const vq={get:EE(!1,!1)},wq={get:EE(!1,!0)},Eq={get:EE(!0,!1)};const AM=new WeakMap,IM=new WeakMap,OM=new WeakMap,Sq=new WeakMap;function xq(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Tq(e){return e.__v_skip||!Object.isExtensible(e)?0:xq(KB(e))}function Qa(e){return Fs(e)?e:SE(e,!1,mq,vq,AM)}function Rq(e){return SE(e,!1,gq,wq,IM)}function PM(e){return SE(e,!0,yq,Eq,OM)}function SE(e,t,r,n,i){if(!sr(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=i.get(e);if(a)return a;const o=Tq(e);if(o===0)return e;const s=new Proxy(e,o===2?n:r);return i.set(e,s),s}function Su(e){return Fs(e)?Su(e.__v_raw):!!(e&&e.__v_isReactive)}function Fs(e){return!!(e&&e.__v_isReadonly)}function bi(e){return!!(e&&e.__v_isShallow)}function xE(e){return e?!!e.__v_raw:!1}function Vt(e){const t=e&&e.__v_raw;return t?Vt(t):e}function $s(e){return!Zt(e,"__v_skip")&&Object.isExtensible(e)&&cM(e,"__v_skip",!0),e}const bn=e=>sr(e)?Qa(e):e,Iw=e=>sr(e)?PM(e):e;function zr(e){return e?e.__v_isRef===!0:!1}function et(e){return Aq(e,!1)}function Aq(e,t){return zr(e)?e:new Iq(e,t)}class Iq{constructor(t,r){this.dep=new wE,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?t:Vt(t),this._value=r?t:bn(t),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(t){const r=this._rawValue,n=this.__v_isShallow||bi(t)||Fs(t);t=n?t:Vt(t),Ao(t,r)&&(this._rawValue=t,this._value=n?t:bn(t),this.dep.trigger())}}function Fe(e){return zr(e)?e.value:e}function Oq(e){return It(e)?e():Fe(e)}const Pq={get:(e,t,r)=>t==="__v_raw"?e:Fe(Reflect.get(e,t,r)),set:(e,t,r,n)=>{const i=e[t];return zr(i)&&!zr(r)?(i.value=r,!0):Reflect.set(e,t,r,n)}};function DM(e){return Su(e)?e:new Proxy(e,Pq)}class Dq{constructor(t,r,n){this._object=t,this._key=r,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return lq(Vt(this._object),this._key)}}class Nq{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function fh(e,t,r){return zr(e)?e:It(e)?new Nq(e):sr(e)&&arguments.length>1?Cq(e,t,r):et(e)}function Cq(e,t,r){const n=e[t];return zr(n)?n:new Dq(e,t,r)}class Lq{constructor(t,r,n){this.fn=t,this.setter=r,this._value=void 0,this.dep=new wE(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=uh-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&or!==this)return _M(this,!0),!0}get value(){const t=this.dep.track();return wM(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Mq(e,t,r=!1){let n,i;return It(e)?n=e:(n=e.get,i=e.set),new Lq(n,i,r)}const Ip={},k0=new WeakMap;let Es;function kq(e,t=!1,r=Es){if(r){let n=k0.get(r);n||k0.set(r,n=[]),n.push(e)}}function Fq(e,t,r=tr){const{immediate:n,deep:i,once:a,scheduler:o,augmentJob:s,call:l}=r,u=E=>i?E:bi(E)||i===!1||i===0?Ua(E,1):Ua(E);let f,d,c,p,b=!1,v=!1;if(zr(e)?(d=()=>e.value,b=bi(e)):Su(e)?(d=()=>u(e),b=!0):Rt(e)?(v=!0,b=e.some(E=>Su(E)||bi(E)),d=()=>e.map(E=>{if(zr(E))return E.value;if(Su(E))return u(E);if(It(E))return l?l(E,2):E()})):It(e)?t?d=l?()=>l(e,2):e:d=()=>{if(c){qo();try{c()}finally{$o()}}const E=Es;Es=f;try{return l?l(e,3,[p]):e(p)}finally{Es=E}}:d=ya,t&&i){const E=d,T=i===!0?1/0:i;d=()=>Ua(E(),T)}const _=mM(),y=()=>{f.stop(),_&&_.active&&yE(_.effects,f)};if(a&&t){const E=t;t=(...T)=>{E(...T),y()}}let m=v?new Array(e.length).fill(Ip):Ip;const g=E=>{if(!(!(f.flags&1)||!f.dirty&&!E))if(t){const T=f.run();if(i||b||(v?T.some((I,D)=>Ao(I,m[D])):Ao(T,m))){c&&c();const I=Es;Es=f;try{const D=[T,m===Ip?void 0:v&&m[0]===Ip?[]:m,p];l?l(t,3,D):t(...D),m=T}finally{Es=I}}}else f.run()};return s&&s(g),f=new yM(d),f.scheduler=o?()=>o(g,!1):g,p=E=>kq(E,!1,f),c=f.onStop=()=>{const E=k0.get(f);if(E){if(l)l(E,4);else for(const T of E)T();k0.delete(f)}},t?n?g(!0):m=f.run():o?o(g.bind(null,!0),!0):f.run(),y.pause=f.pause.bind(f),y.resume=f.resume.bind(f),y.stop=y,y}function Ua(e,t=1/0,r){if(t<=0||!sr(e)||e.__v_skip||(r=r||new Set,r.has(e)))return e;if(r.add(e),t--,zr(e))Ua(e.value,t,r);else if(Rt(e))for(let n=0;n<e.length;n++)Ua(e[n],t,r);else if(sM(e)||Eu(e))e.forEach(n=>{Ua(n,t,r)});else if(fM(e)){for(const n in e)Ua(e[n],t,r);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&Ua(e[n],t,r)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Oh(e,t,r,n){try{return n?e(...n):e()}catch(i){om(i,t,r)}}function Hi(e,t,r,n){if(It(e)){const i=Oh(e,t,r,n);return i&&uM(i)&&i.catch(a=>{om(a,t,r)}),i}if(Rt(e)){const i=[];for(let a=0;a<e.length;a++)i.push(Hi(e[a],t,r,n));return i}}function om(e,t,r,n=!0){const i=t?t.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||tr;if(t){let s=t.parent;const l=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${r}`;for(;s;){const f=s.ec;if(f){for(let d=0;d<f.length;d++)if(f[d](e,l,u)===!1)return}s=s.parent}if(a){qo(),Oh(a,null,10,[e,l,u]),$o();return}}jq(e,r,i,n,o)}function jq(e,t,r,n=!0,i=!1){if(i)throw e;console.error(e)}const Dn=[];let oa=-1;const xu=[];let bo=null,yu=0;const NM=Promise.resolve();let F0=null;function Ar(e){const t=F0||NM;return e?t.then(this?e.bind(this):e):t}function Bq(e){let t=oa+1,r=Dn.length;for(;t<r;){const n=t+r>>>1,i=Dn[n],a=ch(i);a<e||a===e&&i.flags&2?t=n+1:r=n}return t}function TE(e){if(!(e.flags&1)){const t=ch(e),r=Dn[Dn.length-1];!r||!(e.flags&2)&&t>=ch(r)?Dn.push(e):Dn.splice(Bq(t),0,e),e.flags|=1,CM()}}function CM(){F0||(F0=NM.then(MM))}function qq(e){Rt(e)?xu.push(...e):bo&&e.id===-1?bo.splice(yu+1,0,e):e.flags&1||(xu.push(e),e.flags|=1),CM()}function fT(e,t,r=oa+1){for(;r<Dn.length;r++){const n=Dn[r];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;Dn.splice(r,1),r--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function LM(e){if(xu.length){const t=[...new Set(xu)].sort((r,n)=>ch(r)-ch(n));if(xu.length=0,bo){bo.push(...t);return}for(bo=t,yu=0;yu<bo.length;yu++){const r=bo[yu];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}bo=null,yu=0}}const ch=e=>e.id==null?e.flags&2?-1:1/0:e.id;function MM(e){try{for(oa=0;oa<Dn.length;oa++){const t=Dn[oa];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Oh(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;oa<Dn.length;oa++){const t=Dn[oa];t&&(t.flags&=-2)}oa=-1,Dn.length=0,LM(),F0=null,(Dn.length||xu.length)&&MM()}}let nn=null,kM=null;function j0(e){const t=nn;return nn=e,kM=e&&e.type.__scopeId||null,t}function bt(e,t=nn,r){if(!t||e._n)return e;const n=(...i)=>{n._d&&xT(-1);const a=j0(t);let o;try{o=e(...i)}finally{j0(a),n._d&&xT(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function Io(e,t){if(nn===null)return e;const r=cm(nn),n=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[a,o,s,l=tr]=t[i];a&&(It(a)&&(a={mounted:a,updated:a}),a.deep&&Ua(o),n.push({dir:a,instance:r,value:o,oldValue:void 0,arg:s,modifiers:l}))}return e}function is(e,t,r,n){const i=e.dirs,a=t&&t.dirs;for(let o=0;o<i.length;o++){const s=i[o];a&&(s.oldValue=a[o].value);let l=s.dir[n];l&&(qo(),Hi(l,r,8,[e.el,s,e,t]),$o())}}const FM=Symbol("_vte"),jM=e=>e.__isTeleport,Xd=e=>e&&(e.disabled||e.disabled===""),cT=e=>e&&(e.defer||e.defer===""),dT=e=>typeof SVGElement<"u"&&e instanceof SVGElement,hT=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,Ow=(e,t)=>{const r=e&&e.to;return _r(r)?t?t(r):null:r},BM={name:"Teleport",__isTeleport:!0,process(e,t,r,n,i,a,o,s,l,u){const{mc:f,pc:d,pbc:c,o:{insert:p,querySelector:b,createText:v,createComment:_}}=u,y=Xd(t.props);let{shapeFlag:m,children:g,dynamicChildren:E}=t;if(e==null){const T=t.el=v(""),I=t.anchor=v("");p(T,r,n),p(I,r,n);const D=(N,M)=>{m&16&&(i&&i.isCE&&(i.ce._teleportTarget=N),f(g,N,M,i,a,o,s,l))},B=()=>{const N=t.target=Ow(t.props,b),M=qM(N,t,v,p);N&&(o!=="svg"&&dT(N)?o="svg":o!=="mathml"&&hT(N)&&(o="mathml"),y||(D(N,M),A0(t,!1)))};y&&(D(r,I),A0(t,!0)),cT(t.props)?On(()=>{B(),t.el.__isMounted=!0},a):B()}else{if(cT(t.props)&&!e.el.__isMounted){On(()=>{BM.process(e,t,r,n,i,a,o,s,l,u),delete e.el.__isMounted},a);return}t.el=e.el,t.targetStart=e.targetStart;const T=t.anchor=e.anchor,I=t.target=e.target,D=t.targetAnchor=e.targetAnchor,B=Xd(e.props),N=B?r:I,M=B?T:D;if(o==="svg"||dT(I)?o="svg":(o==="mathml"||hT(I))&&(o="mathml"),E?(c(e.dynamicChildren,E,N,i,a,o,s),AE(e,t,!0)):l||d(e,t,N,M,i,a,o,s,!1),y)B?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):Op(t,r,T,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const j=t.target=Ow(t.props,b);j&&Op(t,j,null,u,0)}else B&&Op(t,I,D,u,1);A0(t,y)}},remove(e,t,r,{um:n,o:{remove:i}},a){const{shapeFlag:o,children:s,anchor:l,targetStart:u,targetAnchor:f,target:d,props:c}=e;if(d&&(i(u),i(f)),a&&i(l),o&16){const p=a||!Xd(c);for(let b=0;b<s.length;b++){const v=s[b];n(v,t,r,p,!!v.dynamicChildren)}}},move:Op,hydrate:$q};function Op(e,t,r,{o:{insert:n},m:i},a=2){a===0&&n(e.targetAnchor,t,r);const{el:o,anchor:s,shapeFlag:l,children:u,props:f}=e,d=a===2;if(d&&n(o,t,r),(!d||Xd(f))&&l&16)for(let c=0;c<u.length;c++)i(u[c],t,r,2);d&&n(s,t,r)}function $q(e,t,r,n,i,a,{o:{nextSibling:o,parentNode:s,querySelector:l,insert:u,createText:f}},d){const c=t.target=Ow(t.props,l);if(c){const p=Xd(t.props),b=c._lpa||c.firstChild;if(t.shapeFlag&16)if(p)t.anchor=d(o(e),t,s(e),r,n,i,a),t.targetStart=b,t.targetAnchor=b&&o(b);else{t.anchor=o(e);let v=b;for(;v;){if(v&&v.nodeType===8){if(v.data==="teleport start anchor")t.targetStart=v;else if(v.data==="teleport anchor"){t.targetAnchor=v,c._lpa=t.targetAnchor&&o(t.targetAnchor);break}}v=o(v)}t.targetAnchor||qM(c,t,f,u),d(b&&o(b),t,c,r,n,i,a)}A0(t,p)}return t.anchor&&o(t.anchor)}const Uq=BM;function A0(e,t){const r=e.ctx;if(r&&r.ut){let n,i;for(t?(n=e.el,i=e.anchor):(n=e.targetStart,i=e.targetAnchor);n&&n!==i;)n.nodeType===1&&n.setAttribute("data-v-owner",r.uid),n=n.nextSibling;r.ut()}}function qM(e,t,r,n){const i=t.targetStart=r(""),a=t.targetAnchor=r("");return i[FM]=a,e&&(n(i,e),n(a,e)),a}const vo=Symbol("_leaveCb"),Pp=Symbol("_enterCb");function Hq(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ir(()=>{e.isMounted=!0}),Ph(()=>{e.isUnmounting=!0}),e}const ci=[Function,Array],$M={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ci,onEnter:ci,onAfterEnter:ci,onEnterCancelled:ci,onBeforeLeave:ci,onLeave:ci,onAfterLeave:ci,onLeaveCancelled:ci,onBeforeAppear:ci,onAppear:ci,onAfterAppear:ci,onAppearCancelled:ci},UM=e=>{const t=e.subTree;return t.component?UM(t.component):t},Vq={name:"BaseTransition",props:$M,setup(e,{slots:t}){const r=wk(),n=Hq();return()=>{const i=t.default&&zM(t.default(),!0);if(!i||!i.length)return;const a=HM(i),o=Vt(e),{mode:s}=o;if(n.isLeaving)return Ry(a);const l=pT(a);if(!l)return Ry(a);let u=Pw(l,o,n,r,d=>u=d);l.type!==Cn&&dh(l,u);let f=r.subTree&&pT(r.subTree);if(f&&f.type!==Cn&&!Is(l,f)&&UM(r).type!==Cn){let d=Pw(f,o,n,r);if(dh(f,d),s==="out-in"&&l.type!==Cn)return n.isLeaving=!0,d.afterLeave=()=>{n.isLeaving=!1,r.job.flags&8||r.update(),delete d.afterLeave,f=void 0},Ry(a);s==="in-out"&&l.type!==Cn?d.delayLeave=(c,p,b)=>{const v=VM(n,f);v[String(f.key)]=f,c[vo]=()=>{p(),c[vo]=void 0,delete u.delayedLeave,f=void 0},u.delayedLeave=()=>{b(),delete u.delayedLeave,f=void 0}}:f=void 0}else f&&(f=void 0);return a}}};function HM(e){let t=e[0];if(e.length>1){for(const r of e)if(r.type!==Cn){t=r;break}}return t}const zq=Vq;function VM(e,t){const{leavingVNodes:r}=e;let n=r.get(t.type);return n||(n=Object.create(null),r.set(t.type,n)),n}function Pw(e,t,r,n,i){const{appear:a,mode:o,persisted:s=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:f,onEnterCancelled:d,onBeforeLeave:c,onLeave:p,onAfterLeave:b,onLeaveCancelled:v,onBeforeAppear:_,onAppear:y,onAfterAppear:m,onAppearCancelled:g}=t,E=String(e.key),T=VM(r,e),I=(N,M)=>{N&&Hi(N,n,9,M)},D=(N,M)=>{const j=M[1];I(N,M),Rt(N)?N.every(O=>O.length<=1)&&j():N.length<=1&&j()},B={mode:o,persisted:s,beforeEnter(N){let M=l;if(!r.isMounted)if(a)M=_||l;else return;N[vo]&&N[vo](!0);const j=T[E];j&&Is(e,j)&&j.el[vo]&&j.el[vo](),I(M,[N])},enter(N){let M=u,j=f,O=d;if(!r.isMounted)if(a)M=y||u,j=m||f,O=g||d;else return;let q=!1;const Q=N[Pp]=ie=>{q||(q=!0,ie?I(O,[N]):I(j,[N]),B.delayedLeave&&B.delayedLeave(),N[Pp]=void 0)};M?D(M,[N,Q]):Q()},leave(N,M){const j=String(e.key);if(N[Pp]&&N[Pp](!0),r.isUnmounting)return M();I(c,[N]);let O=!1;const q=N[vo]=Q=>{O||(O=!0,M(),Q?I(v,[N]):I(b,[N]),N[vo]=void 0,T[j]===e&&delete T[j])};T[j]=e,p?D(p,[N,q]):q()},clone(N){const M=Pw(N,t,r,n,i);return i&&i(M),M}};return B}function Ry(e){if(sm(e))return e=No(e),e.children=null,e}function pT(e){if(!sm(e))return jM(e.type)&&e.children?HM(e.children):e;const{shapeFlag:t,children:r}=e;if(r){if(t&16)return r[0];if(t&32&&It(r.default))return r.default()}}function dh(e,t){e.shapeFlag&6&&e.component?(e.transition=t,dh(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function zM(e,t=!1,r){let n=[],i=0;for(let a=0;a<e.length;a++){let o=e[a];const s=r==null?o.key:String(r)+String(o.key!=null?o.key:a);o.type===wt?(o.patchFlag&128&&i++,n=n.concat(zM(o.children,t,s))):(t||o.type!==Cn)&&n.push(s!=null?No(o,{key:s}):o)}if(i>1)for(let a=0;a<n.length;a++)n[a].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function Wt(e,t){return It(e)?an({name:e.name},t,{setup:e}):e}function WM(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function B0(e,t,r,n,i=!1){if(Rt(e)){e.forEach((b,v)=>B0(b,t&&(Rt(t)?t[v]:t),r,n,i));return}if(Tu(n)&&!i){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&B0(e,t,r,n.component.subTree);return}const a=n.shapeFlag&4?cm(n.component):n.el,o=i?null:a,{i:s,r:l}=e,u=t&&t.r,f=s.refs===tr?s.refs={}:s.refs,d=s.setupState,c=Vt(d),p=d===tr?()=>!1:b=>Zt(c,b);if(u!=null&&u!==l&&(_r(u)?(f[u]=null,p(u)&&(d[u]=null)):zr(u)&&(u.value=null)),It(l))Oh(l,s,12,[o,f]);else{const b=_r(l),v=zr(l);if(b||v){const _=()=>{if(e.f){const y=b?p(l)?d[l]:f[l]:l.value;i?Rt(y)&&yE(y,a):Rt(y)?y.includes(a)||y.push(a):b?(f[l]=[a],p(l)&&(d[l]=f[l])):(l.value=[a],e.k&&(f[e.k]=l.value))}else b?(f[l]=o,p(l)&&(d[l]=o)):v&&(l.value=o,e.k&&(f[e.k]=o))};o?(_.id=-1,On(_,r)):_()}}}im().requestIdleCallback;im().cancelIdleCallback;const Tu=e=>!!e.type.__asyncLoader,sm=e=>e.type.__isKeepAlive;function Wq(e,t){GM(e,"a",t)}function Gq(e,t){GM(e,"da",t)}function GM(e,t,r=fn){const n=e.__wdc||(e.__wdc=()=>{let i=r;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(um(t,n,r),r){let i=r.parent;for(;i&&i.parent;)sm(i.parent.vnode)&&Kq(n,t,r,i),i=i.parent}}function Kq(e,t,r,n){const i=um(t,e,n,!0);Gi(()=>{yE(n[t],i)},r)}function um(e,t,r=fn,n=!1){if(r){const i=r[e]||(r[e]=[]),a=t.__weh||(t.__weh=(...o)=>{qo();const s=Dh(r),l=Hi(t,r,e,o);return s(),$o(),l});return n?i.unshift(a):i.push(a),a}}const Xa=e=>(t,r=fn)=>{(!mh||e==="sp")&&um(e,(...n)=>t(...n),r)},Zq=Xa("bm"),ir=Xa("m"),KM=Xa("bu"),ZM=Xa("u"),Ph=Xa("bum"),Gi=Xa("um"),Yq=Xa("sp"),Qq=Xa("rtg"),Xq=Xa("rtc");function Jq(e,t=fn){um("ec",e,t)}const YM="components";function ta(e,t){return XM(YM,e,!0,t)||e}const QM=Symbol.for("v-ndc");function ba(e){return _r(e)?XM(YM,e,!1)||e:e||QM}function XM(e,t,r=!0,n=!1){const i=nn||fn;if(i){const a=i.type;{const s=k$(a,!1);if(s&&(s===t||s===Ei(t)||s===nm(Ei(t))))return a}const o=mT(i[e]||a[e],t)||mT(i.appContext[e],t);return!o&&n?a:o}}function mT(e,t){return e&&(e[t]||e[Ei(t)]||e[nm(Ei(t))])}function pr(e,t,r,n){let i;const a=r,o=Rt(e);if(o||_r(e)){const s=o&&Su(e);let l=!1;s&&(l=!bi(e),e=am(e)),i=new Array(e.length);for(let u=0,f=e.length;u<f;u++)i[u]=t(l?bn(e[u]):e[u],u,void 0,a)}else if(typeof e=="number"){i=new Array(e);for(let s=0;s<e;s++)i[s]=t(s+1,s,void 0,a)}else if(sr(e))if(e[Symbol.iterator])i=Array.from(e,(s,l)=>t(s,l,void 0,a));else{const s=Object.keys(e);i=new Array(s.length);for(let l=0,u=s.length;l<u;l++){const f=s[l];i[l]=t(e[f],f,l,a)}}else i=[];return i}function vn(e,t){for(let r=0;r<t.length;r++){const n=t[r];if(Rt(n))for(let i=0;i<n.length;i++)e[n[i].name]=n[i].fn;else n&&(e[n.name]=n.key?(...i)=>{const a=n.fn(...i);return a&&(a.key=n.key),a}:n.fn)}return e}function pt(e,t,r={},n,i){if(nn.ce||nn.parent&&Tu(nn.parent)&&nn.parent.ce)return t!=="default"&&(r.name=t),Ke(),Ot(wt,null,[kt("slot",r,n)],64);let a=e[t];a&&a._c&&(a._d=!1),Ke();const o=a&&JM(a(r)),s=r.key||o&&o.key,l=Ot(wt,{key:(s&&!Ya(s)?s:`_${t}`)+""},o||[],o&&e._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),a&&a._c&&(a._d=!0),l}function JM(e){return e.some(t=>ph(t)?!(t.type===Cn||t.type===wt&&!JM(t.children)):!0)?e:null}const Dw=e=>e?Ek(e)?cm(e):Dw(e.parent):null,Jd=an(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Dw(e.parent),$root:e=>Dw(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>nk(e),$forceUpdate:e=>e.f||(e.f=()=>{TE(e.update)}),$nextTick:e=>e.n||(e.n=Ar.bind(e.proxy)),$watch:e=>v$.bind(e)}),Ay=(e,t)=>e!==tr&&!e.__isScriptSetup&&Zt(e,t),e$={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:r,setupState:n,data:i,props:a,accessCache:o,type:s,appContext:l}=e;let u;if(t[0]!=="$"){const p=o[t];if(p!==void 0)switch(p){case 1:return n[t];case 2:return i[t];case 4:return r[t];case 3:return a[t]}else{if(Ay(n,t))return o[t]=1,n[t];if(i!==tr&&Zt(i,t))return o[t]=2,i[t];if((u=e.propsOptions[0])&&Zt(u,t))return o[t]=3,a[t];if(r!==tr&&Zt(r,t))return o[t]=4,r[t];Nw&&(o[t]=0)}}const f=Jd[t];let d,c;if(f)return t==="$attrs"&&_n(e.attrs,"get",""),f(e);if((d=s.__cssModules)&&(d=d[t]))return d;if(r!==tr&&Zt(r,t))return o[t]=4,r[t];if(c=l.config.globalProperties,Zt(c,t))return c[t]},set({_:e},t,r){const{data:n,setupState:i,ctx:a}=e;return Ay(i,t)?(i[t]=r,!0):n!==tr&&Zt(n,t)?(n[t]=r,!0):Zt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:n,appContext:i,propsOptions:a}},o){let s;return!!r[o]||e!==tr&&Zt(e,o)||Ay(t,o)||(s=a[0])&&Zt(s,o)||Zt(n,o)||Zt(Jd,o)||Zt(i.config.globalProperties,o)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:Zt(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};function Us(){return tk().slots}function ek(){return tk().attrs}function tk(){const e=wk();return e.setupContext||(e.setupContext=xk(e))}function yT(e){return Rt(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}let Nw=!0;function t$(e){const t=nk(e),r=e.proxy,n=e.ctx;Nw=!1,t.beforeCreate&&gT(t.beforeCreate,e,"bc");const{data:i,computed:a,methods:o,watch:s,provide:l,inject:u,created:f,beforeMount:d,mounted:c,beforeUpdate:p,updated:b,activated:v,deactivated:_,beforeDestroy:y,beforeUnmount:m,destroyed:g,unmounted:E,render:T,renderTracked:I,renderTriggered:D,errorCaptured:B,serverPrefetch:N,expose:M,inheritAttrs:j,components:O,directives:q,filters:Q}=t;if(u&&r$(u,n,null),o)for(const le in o){const ae=o[le];It(ae)&&(n[le]=ae.bind(r))}if(i){const le=i.call(r,r);sr(le)&&(e.data=Qa(le))}if(Nw=!0,a)for(const le in a){const ae=a[le],ne=It(ae)?ae.bind(r,r):It(ae.get)?ae.get.bind(r,r):ya,V=!It(ae)&&It(ae.set)?ae.set.bind(r):ya,oe=tt({get:ne,set:V});Object.defineProperty(n,le,{enumerable:!0,configurable:!0,get:()=>oe.value,set:he=>oe.value=he})}if(s)for(const le in s)rk(s[le],n,r,le);if(l){const le=It(l)?l.call(r):l;Reflect.ownKeys(le).forEach(ae=>{pa(ae,le[ae])})}f&&gT(f,e,"c");function X(le,ae){Rt(ae)?ae.forEach(ne=>le(ne.bind(r))):ae&&le(ae.bind(r))}if(X(Zq,d),X(ir,c),X(KM,p),X(ZM,b),X(Wq,v),X(Gq,_),X(Jq,B),X(Xq,I),X(Qq,D),X(Ph,m),X(Gi,E),X(Yq,N),Rt(M))if(M.length){const le=e.exposed||(e.exposed={});M.forEach(ae=>{Object.defineProperty(le,ae,{get:()=>r[ae],set:ne=>r[ae]=ne})})}else e.exposed||(e.exposed={});T&&e.render===ya&&(e.render=T),j!=null&&(e.inheritAttrs=j),O&&(e.components=O),q&&(e.directives=q),N&&WM(e)}function r$(e,t,r=ya){Rt(e)&&(e=Cw(e));for(const n in e){const i=e[n];let a;sr(i)?"default"in i?a=ei(i.from||n,i.default,!0):a=ei(i.from||n):a=ei(i),zr(a)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>a.value,set:o=>a.value=o}):t[n]=a}}function gT(e,t,r){Hi(Rt(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,r)}function rk(e,t,r,n){let i=n.includes(".")?yk(r,n):()=>r[n];if(_r(e)){const a=t[e];It(a)&&Xr(i,a)}else if(It(e))Xr(i,e.bind(r));else if(sr(e))if(Rt(e))e.forEach(a=>rk(a,t,r,n));else{const a=It(e.handler)?e.handler.bind(r):t[e.handler];It(a)&&Xr(i,a,e)}}function nk(e){const t=e.type,{mixins:r,extends:n}=t,{mixins:i,optionsCache:a,config:{optionMergeStrategies:o}}=e.appContext,s=a.get(t);let l;return s?l=s:!i.length&&!r&&!n?l=t:(l={},i.length&&i.forEach(u=>q0(l,u,o,!0)),q0(l,t,o)),sr(t)&&a.set(t,l),l}function q0(e,t,r,n=!1){const{mixins:i,extends:a}=t;a&&q0(e,a,r,!0),i&&i.forEach(o=>q0(e,o,r,!0));for(const o in t)if(!(n&&o==="expose")){const s=n$[o]||r&&r[o];e[o]=s?s(e[o],t[o]):t[o]}return e}const n$={data:_T,props:bT,emits:bT,methods:jd,computed:jd,beforeCreate:An,created:An,beforeMount:An,mounted:An,beforeUpdate:An,updated:An,beforeDestroy:An,beforeUnmount:An,destroyed:An,unmounted:An,activated:An,deactivated:An,errorCaptured:An,serverPrefetch:An,components:jd,directives:jd,watch:a$,provide:_T,inject:i$};function _T(e,t){return t?e?function(){return an(It(e)?e.call(this,this):e,It(t)?t.call(this,this):t)}:t:e}function i$(e,t){return jd(Cw(e),Cw(t))}function Cw(e){if(Rt(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function An(e,t){return e?[...new Set([].concat(e,t))]:t}function jd(e,t){return e?an(Object.create(null),e,t):t}function bT(e,t){return e?Rt(e)&&Rt(t)?[...new Set([...e,...t])]:an(Object.create(null),yT(e),yT(t??{})):t}function a$(e,t){if(!e)return t;if(!t)return e;const r=an(Object.create(null),e);for(const n in t)r[n]=An(e[n],t[n]);return r}function ik(){return{app:null,config:{isNativeTag:WB,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let o$=0;function s$(e,t){return function(n,i=null){It(n)||(n=an({},n)),i!=null&&!sr(i)&&(i=null);const a=ik(),o=new WeakSet,s=[];let l=!1;const u=a.app={_uid:o$++,_component:n,_props:i,_container:null,_context:a,_instance:null,version:j$,get config(){return a.config},set config(f){},use(f,...d){return o.has(f)||(f&&It(f.install)?(o.add(f),f.install(u,...d)):It(f)&&(o.add(f),f(u,...d))),u},mixin(f){return a.mixins.includes(f)||a.mixins.push(f),u},component(f,d){return d?(a.components[f]=d,u):a.components[f]},directive(f,d){return d?(a.directives[f]=d,u):a.directives[f]},mount(f,d,c){if(!l){const p=u._ceVNode||kt(n,i);return p.appContext=a,c===!0?c="svg":c===!1&&(c=void 0),e(p,f,c),l=!0,u._container=f,f.__vue_app__=u,cm(p.component)}},onUnmount(f){s.push(f)},unmount(){l&&(Hi(s,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(f,d){return a.provides[f]=d,u},runWithContext(f){const d=Ru;Ru=u;try{return f()}finally{Ru=d}}};return u}}let Ru=null;function pa(e,t){if(fn){let r=fn.provides;const n=fn.parent&&fn.parent.provides;n===r&&(r=fn.provides=Object.create(n)),r[e]=t}}function ei(e,t,r=!1){const n=fn||nn;if(n||Ru){const i=Ru?Ru._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return r&&It(t)?t.call(n&&n.proxy):t}}const ak={},ok=()=>Object.create(ak),sk=e=>Object.getPrototypeOf(e)===ak;function u$(e,t,r,n=!1){const i={},a=ok();e.propsDefaults=Object.create(null),uk(e,t,i,a);for(const o in e.propsOptions[0])o in i||(i[o]=void 0);r?e.props=n?i:Rq(i):e.type.props?e.props=i:e.props=a,e.attrs=a}function l$(e,t,r,n){const{props:i,attrs:a,vnode:{patchFlag:o}}=e,s=Vt(i),[l]=e.propsOptions;let u=!1;if((n||o>0)&&!(o&16)){if(o&8){const f=e.vnode.dynamicProps;for(let d=0;d<f.length;d++){let c=f[d];if(lm(e.emitsOptions,c))continue;const p=t[c];if(l)if(Zt(a,c))p!==a[c]&&(a[c]=p,u=!0);else{const b=Ei(c);i[b]=Lw(l,s,b,p,e,!1)}else p!==a[c]&&(a[c]=p,u=!0)}}}else{uk(e,t,i,a)&&(u=!0);let f;for(const d in s)(!t||!Zt(t,d)&&((f=Bo(d))===d||!Zt(t,f)))&&(l?r&&(r[d]!==void 0||r[f]!==void 0)&&(i[d]=Lw(l,s,d,void 0,e,!0)):delete i[d]);if(a!==s)for(const d in a)(!t||!Zt(t,d))&&(delete a[d],u=!0)}u&&$a(e.attrs,"set","")}function uk(e,t,r,n){const[i,a]=e.propsOptions;let o=!1,s;if(t)for(let l in t){if(Zd(l))continue;const u=t[l];let f;i&&Zt(i,f=Ei(l))?!a||!a.includes(f)?r[f]=u:(s||(s={}))[f]=u:lm(e.emitsOptions,l)||(!(l in n)||u!==n[l])&&(n[l]=u,o=!0)}if(a){const l=Vt(r),u=s||tr;for(let f=0;f<a.length;f++){const d=a[f];r[d]=Lw(i,l,d,u[d],e,!Zt(u,d))}}return o}function Lw(e,t,r,n,i,a){const o=e[r];if(o!=null){const s=Zt(o,"default");if(s&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&It(l)){const{propsDefaults:u}=i;if(r in u)n=u[r];else{const f=Dh(i);n=u[r]=l.call(null,t),f()}}else n=l;i.ce&&i.ce._setProp(r,n)}o[0]&&(a&&!s?n=!1:o[1]&&(n===""||n===Bo(r))&&(n=!0))}return n}const f$=new WeakMap;function lk(e,t,r=!1){const n=r?f$:t.propsCache,i=n.get(e);if(i)return i;const a=e.props,o={},s=[];let l=!1;if(!It(e)){const f=d=>{l=!0;const[c,p]=lk(d,t,!0);an(o,c),p&&s.push(...p)};!r&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!a&&!l)return sr(e)&&n.set(e,wu),wu;if(Rt(a))for(let f=0;f<a.length;f++){const d=Ei(a[f]);vT(d)&&(o[d]=tr)}else if(a)for(const f in a){const d=Ei(f);if(vT(d)){const c=a[f],p=o[d]=Rt(c)||It(c)?{type:c}:an({},c),b=p.type;let v=!1,_=!0;if(Rt(b))for(let y=0;y<b.length;++y){const m=b[y],g=It(m)&&m.name;if(g==="Boolean"){v=!0;break}else g==="String"&&(_=!1)}else v=It(b)&&b.name==="Boolean";p[0]=v,p[1]=_,(v||Zt(p,"default"))&&s.push(d)}}const u=[o,s];return sr(e)&&n.set(e,u),u}function vT(e){return e[0]!=="$"&&!Zd(e)}const fk=e=>e[0]==="_"||e==="$stable",RE=e=>Rt(e)?e.map(la):[la(e)],c$=(e,t,r)=>{if(t._n)return t;const n=bt((...i)=>RE(t(...i)),r);return n._c=!1,n},ck=(e,t,r)=>{const n=e._ctx;for(const i in e){if(fk(i))continue;const a=e[i];if(It(a))t[i]=c$(i,a,n);else if(a!=null){const o=RE(a);t[i]=()=>o}}},dk=(e,t)=>{const r=RE(t);e.slots.default=()=>r},hk=(e,t,r)=>{for(const n in t)(r||n!=="_")&&(e[n]=t[n])},d$=(e,t,r)=>{const n=e.slots=ok();if(e.vnode.shapeFlag&32){const i=t._;i?(hk(n,t,r),r&&cM(n,"_",i,!0)):ck(t,n)}else t&&dk(e,t)},h$=(e,t,r)=>{const{vnode:n,slots:i}=e;let a=!0,o=tr;if(n.shapeFlag&32){const s=t._;s?r&&s===1?a=!1:hk(i,t,r):(a=!t.$stable,ck(t,i)),o=t}else t&&(dk(e,t),o={default:1});if(a)for(const s in i)!fk(s)&&o[s]==null&&delete i[s]},On=A$;function p$(e){return m$(e)}function m$(e,t){const r=im();r.__VUE__=!0;const{insert:n,remove:i,patchProp:a,createElement:o,createText:s,createComment:l,setText:u,setElementText:f,parentNode:d,nextSibling:c,setScopeId:p=ya,insertStaticContent:b}=e,v=(w,x,k,U=null,re=null,fe=null,ve=void 0,ce=null,Ie=!!x.dynamicChildren)=>{if(w===x)return;w&&!Is(w,x)&&(U=A(w),he(w,re,fe,!0),w=null),x.patchFlag===-2&&(Ie=!1,x.dynamicChildren=null);const{type:be,ref:xe,shapeFlag:je}=x;switch(be){case fm:_(w,x,k,U);break;case Cn:y(w,x,k,U);break;case Oy:w==null&&m(x,k,U,ve);break;case wt:O(w,x,k,U,re,fe,ve,ce,Ie);break;default:je&1?T(w,x,k,U,re,fe,ve,ce,Ie):je&6?q(w,x,k,U,re,fe,ve,ce,Ie):(je&64||je&128)&&be.process(w,x,k,U,re,fe,ve,ce,Ie,pe)}xe!=null&&re&&B0(xe,w&&w.ref,fe,x||w,!x)},_=(w,x,k,U)=>{if(w==null)n(x.el=s(x.children),k,U);else{const re=x.el=w.el;x.children!==w.children&&u(re,x.children)}},y=(w,x,k,U)=>{w==null?n(x.el=l(x.children||""),k,U):x.el=w.el},m=(w,x,k,U)=>{[w.el,w.anchor]=b(w.children,x,k,U,w.el,w.anchor)},g=({el:w,anchor:x},k,U)=>{let re;for(;w&&w!==x;)re=c(w),n(w,k,U),w=re;n(x,k,U)},E=({el:w,anchor:x})=>{let k;for(;w&&w!==x;)k=c(w),i(w),w=k;i(x)},T=(w,x,k,U,re,fe,ve,ce,Ie)=>{x.type==="svg"?ve="svg":x.type==="math"&&(ve="mathml"),w==null?I(x,k,U,re,fe,ve,ce,Ie):N(w,x,re,fe,ve,ce,Ie)},I=(w,x,k,U,re,fe,ve,ce)=>{let Ie,be;const{props:xe,shapeFlag:je,transition:Ae,dirs:Pe}=w;if(Ie=w.el=o(w.type,fe,xe&&xe.is,xe),je&8?f(Ie,w.children):je&16&&B(w.children,Ie,null,U,re,Iy(w,fe),ve,ce),Pe&&is(w,null,U,"created"),D(Ie,w,w.scopeId,ve,U),xe){for(const Ze in xe)Ze!=="value"&&!Zd(Ze)&&a(Ie,Ze,null,xe[Ze],fe,U);"value"in xe&&a(Ie,"value",null,xe.value,fe),(be=xe.onVnodeBeforeMount)&&ra(be,U,w)}Pe&&is(w,null,U,"beforeMount");const ke=y$(re,Ae);ke&&Ae.beforeEnter(Ie),n(Ie,x,k),((be=xe&&xe.onVnodeMounted)||ke||Pe)&&On(()=>{be&&ra(be,U,w),ke&&Ae.enter(Ie),Pe&&is(w,null,U,"mounted")},re)},D=(w,x,k,U,re)=>{if(k&&p(w,k),U)for(let fe=0;fe<U.length;fe++)p(w,U[fe]);if(re){let fe=re.subTree;if(x===fe||_k(fe.type)&&(fe.ssContent===x||fe.ssFallback===x)){const ve=re.vnode;D(w,ve,ve.scopeId,ve.slotScopeIds,re.parent)}}},B=(w,x,k,U,re,fe,ve,ce,Ie=0)=>{for(let be=Ie;be<w.length;be++){const xe=w[be]=ce?wo(w[be]):la(w[be]);v(null,xe,x,k,U,re,fe,ve,ce)}},N=(w,x,k,U,re,fe,ve)=>{const ce=x.el=w.el;let{patchFlag:Ie,dynamicChildren:be,dirs:xe}=x;Ie|=w.patchFlag&16;const je=w.props||tr,Ae=x.props||tr;let Pe;if(k&&as(k,!1),(Pe=Ae.onVnodeBeforeUpdate)&&ra(Pe,k,x,w),xe&&is(x,w,k,"beforeUpdate"),k&&as(k,!0),(je.innerHTML&&Ae.innerHTML==null||je.textContent&&Ae.textContent==null)&&f(ce,""),be?M(w.dynamicChildren,be,ce,k,U,Iy(x,re),fe):ve||ae(w,x,ce,null,k,U,Iy(x,re),fe,!1),Ie>0){if(Ie&16)j(ce,je,Ae,k,re);else if(Ie&2&&je.class!==Ae.class&&a(ce,"class",null,Ae.class,re),Ie&4&&a(ce,"style",je.style,Ae.style,re),Ie&8){const ke=x.dynamicProps;for(let Ze=0;Ze<ke.length;Ze++){const Ue=ke[Ze],it=je[Ue],ye=Ae[Ue];(ye!==it||Ue==="value")&&a(ce,Ue,it,ye,re,k)}}Ie&1&&w.children!==x.children&&f(ce,x.children)}else!ve&&be==null&&j(ce,je,Ae,k,re);((Pe=Ae.onVnodeUpdated)||xe)&&On(()=>{Pe&&ra(Pe,k,x,w),xe&&is(x,w,k,"updated")},U)},M=(w,x,k,U,re,fe,ve)=>{for(let ce=0;ce<x.length;ce++){const Ie=w[ce],be=x[ce],xe=Ie.el&&(Ie.type===wt||!Is(Ie,be)||Ie.shapeFlag&70)?d(Ie.el):k;v(Ie,be,xe,null,U,re,fe,ve,!0)}},j=(w,x,k,U,re)=>{if(x!==k){if(x!==tr)for(const fe in x)!Zd(fe)&&!(fe in k)&&a(w,fe,x[fe],null,re,U);for(const fe in k){if(Zd(fe))continue;const ve=k[fe],ce=x[fe];ve!==ce&&fe!=="value"&&a(w,fe,ce,ve,re,U)}"value"in k&&a(w,"value",x.value,k.value,re)}},O=(w,x,k,U,re,fe,ve,ce,Ie)=>{const be=x.el=w?w.el:s(""),xe=x.anchor=w?w.anchor:s("");let{patchFlag:je,dynamicChildren:Ae,slotScopeIds:Pe}=x;Pe&&(ce=ce?ce.concat(Pe):Pe),w==null?(n(be,k,U),n(xe,k,U),B(x.children||[],k,xe,re,fe,ve,ce,Ie)):je>0&&je&64&&Ae&&w.dynamicChildren?(M(w.dynamicChildren,Ae,k,re,fe,ve,ce),(x.key!=null||re&&x===re.subTree)&&AE(w,x,!0)):ae(w,x,k,xe,re,fe,ve,ce,Ie)},q=(w,x,k,U,re,fe,ve,ce,Ie)=>{x.slotScopeIds=ce,w==null?x.shapeFlag&512?re.ctx.activate(x,k,U,ve,Ie):Q(x,k,U,re,fe,ve,Ie):ie(w,x,Ie)},Q=(w,x,k,U,re,fe,ve)=>{const ce=w.component=N$(w,U,re);if(sm(w)&&(ce.ctx.renderer=pe),C$(ce,!1,ve),ce.asyncDep){if(re&&re.registerDep(ce,X,ve),!w.el){const Ie=ce.subTree=kt(Cn);y(null,Ie,x,k)}}else X(ce,w,x,k,re,fe,ve)},ie=(w,x,k)=>{const U=x.component=w.component;if(T$(w,x,k))if(U.asyncDep&&!U.asyncResolved){le(U,x,k);return}else U.next=x,U.update();else x.el=w.el,U.vnode=x},X=(w,x,k,U,re,fe,ve)=>{const ce=()=>{if(w.isMounted){let{next:je,bu:Ae,u:Pe,parent:ke,vnode:Ze}=w;{const K=pk(w);if(K){je&&(je.el=Ze.el,le(w,je,ve)),K.asyncDep.then(()=>{w.isUnmounted||ce()});return}}let Ue=je,it;as(w,!1),je?(je.el=Ze.el,le(w,je,ve)):je=Ze,Ae&&wy(Ae),(it=je.props&&je.props.onVnodeBeforeUpdate)&&ra(it,ke,je,Ze),as(w,!0);const ye=ET(w),F=w.subTree;w.subTree=ye,v(F,ye,d(F.el),A(F),w,re,fe),je.el=ye.el,Ue===null&&R$(w,ye.el),Pe&&On(Pe,re),(it=je.props&&je.props.onVnodeUpdated)&&On(()=>ra(it,ke,je,Ze),re)}else{let je;const{el:Ae,props:Pe}=x,{bm:ke,m:Ze,parent:Ue,root:it,type:ye}=w,F=Tu(x);as(w,!1),ke&&wy(ke),!F&&(je=Pe&&Pe.onVnodeBeforeMount)&&ra(je,Ue,x),as(w,!0);{it.ce&&it.ce._injectChildStyle(ye);const K=w.subTree=ET(w);v(null,K,k,U,w,re,fe),x.el=K.el}if(Ze&&On(Ze,re),!F&&(je=Pe&&Pe.onVnodeMounted)){const K=x;On(()=>ra(je,Ue,K),re)}(x.shapeFlag&256||Ue&&Tu(Ue.vnode)&&Ue.vnode.shapeFlag&256)&&w.a&&On(w.a,re),w.isMounted=!0,x=k=U=null}};w.scope.on();const Ie=w.effect=new yM(ce);w.scope.off();const be=w.update=Ie.run.bind(Ie),xe=w.job=Ie.runIfDirty.bind(Ie);xe.i=w,xe.id=w.uid,Ie.scheduler=()=>TE(xe),as(w,!0),be()},le=(w,x,k)=>{x.component=w;const U=w.vnode.props;w.vnode=x,w.next=null,l$(w,x.props,U,k),h$(w,x.children,k),qo(),fT(w),$o()},ae=(w,x,k,U,re,fe,ve,ce,Ie=!1)=>{const be=w&&w.children,xe=w?w.shapeFlag:0,je=x.children,{patchFlag:Ae,shapeFlag:Pe}=x;if(Ae>0){if(Ae&128){V(be,je,k,U,re,fe,ve,ce,Ie);return}else if(Ae&256){ne(be,je,k,U,re,fe,ve,ce,Ie);return}}Pe&8?(xe&16&&P(be,re,fe),je!==be&&f(k,je)):xe&16?Pe&16?V(be,je,k,U,re,fe,ve,ce,Ie):P(be,re,fe,!0):(xe&8&&f(k,""),Pe&16&&B(je,k,U,re,fe,ve,ce,Ie))},ne=(w,x,k,U,re,fe,ve,ce,Ie)=>{w=w||wu,x=x||wu;const be=w.length,xe=x.length,je=Math.min(be,xe);let Ae;for(Ae=0;Ae<je;Ae++){const Pe=x[Ae]=Ie?wo(x[Ae]):la(x[Ae]);v(w[Ae],Pe,k,null,re,fe,ve,ce,Ie)}be>xe?P(w,re,fe,!0,!1,je):B(x,k,U,re,fe,ve,ce,Ie,je)},V=(w,x,k,U,re,fe,ve,ce,Ie)=>{let be=0;const xe=x.length;let je=w.length-1,Ae=xe-1;for(;be<=je&&be<=Ae;){const Pe=w[be],ke=x[be]=Ie?wo(x[be]):la(x[be]);if(Is(Pe,ke))v(Pe,ke,k,null,re,fe,ve,ce,Ie);else break;be++}for(;be<=je&&be<=Ae;){const Pe=w[je],ke=x[Ae]=Ie?wo(x[Ae]):la(x[Ae]);if(Is(Pe,ke))v(Pe,ke,k,null,re,fe,ve,ce,Ie);else break;je--,Ae--}if(be>je){if(be<=Ae){const Pe=Ae+1,ke=Pe<xe?x[Pe].el:U;for(;be<=Ae;)v(null,x[be]=Ie?wo(x[be]):la(x[be]),k,ke,re,fe,ve,ce,Ie),be++}}else if(be>Ae)for(;be<=je;)he(w[be],re,fe,!0),be++;else{const Pe=be,ke=be,Ze=new Map;for(be=ke;be<=Ae;be++){const se=x[be]=Ie?wo(x[be]):la(x[be]);se.key!=null&&Ze.set(se.key,be)}let Ue,it=0;const ye=Ae-ke+1;let F=!1,K=0;const _e=new Array(ye);for(be=0;be<ye;be++)_e[be]=0;for(be=Pe;be<=je;be++){const se=w[be];if(it>=ye){he(se,re,fe,!0);continue}let ge;if(se.key!=null)ge=Ze.get(se.key);else for(Ue=ke;Ue<=Ae;Ue++)if(_e[Ue-ke]===0&&Is(se,x[Ue])){ge=Ue;break}ge===void 0?he(se,re,fe,!0):(_e[ge-ke]=be+1,ge>=K?K=ge:F=!0,v(se,x[ge],k,null,re,fe,ve,ce,Ie),it++)}const Oe=F?g$(_e):wu;for(Ue=Oe.length-1,be=ye-1;be>=0;be--){const se=ke+be,ge=x[se],de=se+1<xe?x[se+1].el:U;_e[be]===0?v(null,ge,k,de,re,fe,ve,ce,Ie):F&&(Ue<0||be!==Oe[Ue]?oe(ge,k,de,2):Ue--)}}},oe=(w,x,k,U,re=null)=>{const{el:fe,type:ve,transition:ce,children:Ie,shapeFlag:be}=w;if(be&6){oe(w.component.subTree,x,k,U);return}if(be&128){w.suspense.move(x,k,U);return}if(be&64){ve.move(w,x,k,pe);return}if(ve===wt){n(fe,x,k);for(let je=0;je<Ie.length;je++)oe(Ie[je],x,k,U);n(w.anchor,x,k);return}if(ve===Oy){g(w,x,k);return}if(U!==2&&be&1&&ce)if(U===0)ce.beforeEnter(fe),n(fe,x,k),On(()=>ce.enter(fe),re);else{const{leave:je,delayLeave:Ae,afterLeave:Pe}=ce,ke=()=>n(fe,x,k),Ze=()=>{je(fe,()=>{ke(),Pe&&Pe()})};Ae?Ae(fe,ke,Ze):Ze()}else n(fe,x,k)},he=(w,x,k,U=!1,re=!1)=>{const{type:fe,props:ve,ref:ce,children:Ie,dynamicChildren:be,shapeFlag:xe,patchFlag:je,dirs:Ae,cacheIndex:Pe}=w;if(je===-2&&(re=!1),ce!=null&&B0(ce,null,k,w,!0),Pe!=null&&(x.renderCache[Pe]=void 0),xe&256){x.ctx.deactivate(w);return}const ke=xe&1&&Ae,Ze=!Tu(w);let Ue;if(Ze&&(Ue=ve&&ve.onVnodeBeforeUnmount)&&ra(Ue,x,w),xe&6)ee(w.component,k,U);else{if(xe&128){w.suspense.unmount(k,U);return}ke&&is(w,null,x,"beforeUnmount"),xe&64?w.type.remove(w,x,k,pe,U):be&&!be.hasOnce&&(fe!==wt||je>0&&je&64)?P(be,x,k,!1,!0):(fe===wt&&je&384||!re&&xe&16)&&P(Ie,x,k),U&&Y(w)}(Ze&&(Ue=ve&&ve.onVnodeUnmounted)||ke)&&On(()=>{Ue&&ra(Ue,x,w),ke&&is(w,null,x,"unmounted")},k)},Y=w=>{const{type:x,el:k,anchor:U,transition:re}=w;if(x===wt){Z(k,U);return}if(x===Oy){E(w);return}const fe=()=>{i(k),re&&!re.persisted&&re.afterLeave&&re.afterLeave()};if(w.shapeFlag&1&&re&&!re.persisted){const{leave:ve,delayLeave:ce}=re,Ie=()=>ve(k,fe);ce?ce(w.el,fe,Ie):Ie()}else fe()},Z=(w,x)=>{let k;for(;w!==x;)k=c(w),i(w),w=k;i(x)},ee=(w,x,k)=>{const{bum:U,scope:re,job:fe,subTree:ve,um:ce,m:Ie,a:be}=w;wT(Ie),wT(be),U&&wy(U),re.stop(),fe&&(fe.flags|=8,he(ve,w,x,k)),ce&&On(ce,x),On(()=>{w.isUnmounted=!0},x),x&&x.pendingBranch&&!x.isUnmounted&&w.asyncDep&&!w.asyncResolved&&w.suspenseId===x.pendingId&&(x.deps--,x.deps===0&&x.resolve())},P=(w,x,k,U=!1,re=!1,fe=0)=>{for(let ve=fe;ve<w.length;ve++)he(w[ve],x,k,U,re)},A=w=>{if(w.shapeFlag&6)return A(w.component.subTree);if(w.shapeFlag&128)return w.suspense.next();const x=c(w.anchor||w.el),k=x&&x[FM];return k?c(k):x};let $=!1;const te=(w,x,k)=>{w==null?x._vnode&&he(x._vnode,null,null,!0):v(x._vnode||null,w,x,null,null,null,k),x._vnode=w,$||($=!0,fT(),LM(),$=!1)},pe={p:v,um:he,m:oe,r:Y,mt:Q,mc:B,pc:ae,pbc:M,n:A,o:e};return{render:te,hydrate:void 0,createApp:s$(te)}}function Iy({type:e,props:t},r){return r==="svg"&&e==="foreignObject"||r==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:r}function as({effect:e,job:t},r){r?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function y$(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function AE(e,t,r=!1){const n=e.children,i=t.children;if(Rt(n)&&Rt(i))for(let a=0;a<n.length;a++){const o=n[a];let s=i[a];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=i[a]=wo(i[a]),s.el=o.el),!r&&s.patchFlag!==-2&&AE(o,s)),s.type===fm&&(s.el=o.el)}}function g$(e){const t=e.slice(),r=[0];let n,i,a,o,s;const l=e.length;for(n=0;n<l;n++){const u=e[n];if(u!==0){if(i=r[r.length-1],e[i]<u){t[n]=i,r.push(n);continue}for(a=0,o=r.length-1;a<o;)s=a+o>>1,e[r[s]]<u?a=s+1:o=s;u<e[r[a]]&&(a>0&&(t[n]=r[a-1]),r[a]=n)}}for(a=r.length,o=r[a-1];a-- >0;)r[a]=o,o=t[o];return r}function pk(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:pk(t)}function wT(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const _$=Symbol.for("v-scx"),b$=()=>ei(_$);function mk(e,t){return IE(e,null,t)}function Xr(e,t,r){return IE(e,t,r)}function IE(e,t,r=tr){const{immediate:n,deep:i,flush:a,once:o}=r,s=an({},r),l=t&&n||!t&&a!=="post";let u;if(mh){if(a==="sync"){const p=b$();u=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=ya,p.resume=ya,p.pause=ya,p}}const f=fn;s.call=(p,b,v)=>Hi(p,f,b,v);let d=!1;a==="post"?s.scheduler=p=>{On(p,f&&f.suspense)}:a!=="sync"&&(d=!0,s.scheduler=(p,b)=>{b?p():TE(p)}),s.augmentJob=p=>{t&&(p.flags|=4),d&&(p.flags|=2,f&&(p.id=f.uid,p.i=f))};const c=Fq(e,t,s);return mh&&(u?u.push(c):l&&c()),c}function v$(e,t,r){const n=this.proxy,i=_r(e)?e.includes(".")?yk(n,e):()=>n[e]:e.bind(n,n);let a;It(t)?a=t:(a=t.handler,r=t);const o=Dh(this),s=IE(i,a.bind(n),r);return o(),s}function yk(e,t){const r=t.split(".");return()=>{let n=e;for(let i=0;i<r.length&&n;i++)n=n[r[i]];return n}}const w$=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Ei(t)}Modifiers`]||e[`${Bo(t)}Modifiers`];function E$(e,t,...r){if(e.isUnmounted)return;const n=e.vnode.props||tr;let i=r;const a=t.startsWith("update:"),o=a&&w$(n,t.slice(7));o&&(o.trim&&(i=r.map(f=>_r(f)?f.trim():f)),o.number&&(i=r.map(QB)));let s,l=n[s=vy(t)]||n[s=vy(Ei(t))];!l&&a&&(l=n[s=vy(Bo(t))]),l&&Hi(l,e,6,i);const u=n[s+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[s])return;e.emitted[s]=!0,Hi(u,e,6,i)}}function gk(e,t,r=!1){const n=t.emitsCache,i=n.get(e);if(i!==void 0)return i;const a=e.emits;let o={},s=!1;if(!It(e)){const l=u=>{const f=gk(u,t,!0);f&&(s=!0,an(o,f))};!r&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!a&&!s?(sr(e)&&n.set(e,null),null):(Rt(a)?a.forEach(l=>o[l]=null):an(o,a),sr(e)&&n.set(e,o),o)}function lm(e,t){return!e||!em(t)?!1:(t=t.slice(2).replace(/Once$/,""),Zt(e,t[0].toLowerCase()+t.slice(1))||Zt(e,Bo(t))||Zt(e,t))}function ET(e){const{type:t,vnode:r,proxy:n,withProxy:i,propsOptions:[a],slots:o,attrs:s,emit:l,render:u,renderCache:f,props:d,data:c,setupState:p,ctx:b,inheritAttrs:v}=e,_=j0(e);let y,m;try{if(r.shapeFlag&4){const E=i||n,T=E;y=la(u.call(T,E,f,d,p,c,b)),m=s}else{const E=t;y=la(E.length>1?E(d,{attrs:s,slots:o,emit:l}):E(d,null)),m=t.props?s:S$(s)}}catch(E){eh.length=0,om(E,e,1),y=kt(Cn)}let g=y;if(m&&v!==!1){const E=Object.keys(m),{shapeFlag:T}=g;E.length&&T&7&&(a&&E.some(mE)&&(m=x$(m,a)),g=No(g,m,!1,!0))}return r.dirs&&(g=No(g,null,!1,!0),g.dirs=g.dirs?g.dirs.concat(r.dirs):r.dirs),r.transition&&dh(g,r.transition),y=g,j0(_),y}const S$=e=>{let t;for(const r in e)(r==="class"||r==="style"||em(r))&&((t||(t={}))[r]=e[r]);return t},x$=(e,t)=>{const r={};for(const n in e)(!mE(n)||!(n.slice(9)in t))&&(r[n]=e[n]);return r};function T$(e,t,r){const{props:n,children:i,component:a}=e,{props:o,children:s,patchFlag:l}=t,u=a.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return n?ST(n,o,u):!!o;if(l&8){const f=t.dynamicProps;for(let d=0;d<f.length;d++){const c=f[d];if(o[c]!==n[c]&&!lm(u,c))return!0}}}else return(i||s)&&(!s||!s.$stable)?!0:n===o?!1:n?o?ST(n,o,u):!0:!!o;return!1}function ST(e,t,r){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let i=0;i<n.length;i++){const a=n[i];if(t[a]!==e[a]&&!lm(r,a))return!0}return!1}function R$({vnode:e,parent:t},r){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=r,t=t.parent;else break}}const _k=e=>e.__isSuspense;function A$(e,t){t&&t.pendingBranch?Rt(e)?t.effects.push(...e):t.effects.push(e):qq(e)}const wt=Symbol.for("v-fgt"),fm=Symbol.for("v-txt"),Cn=Symbol.for("v-cmt"),Oy=Symbol.for("v-stc"),eh=[];let Xn=null;function Ke(e=!1){eh.push(Xn=e?null:[])}function I$(){eh.pop(),Xn=eh[eh.length-1]||null}let hh=1;function xT(e,t=!1){hh+=e,e<0&&Xn&&t&&(Xn.hasOnce=!0)}function bk(e){return e.dynamicChildren=hh>0?Xn||wu:null,I$(),hh>0&&Xn&&Xn.push(e),e}function Je(e,t,r,n,i,a){return bk(_t(e,t,r,n,i,a,!0))}function Ot(e,t,r,n,i){return bk(kt(e,t,r,n,i,!0))}function ph(e){return e?e.__v_isVNode===!0:!1}function Is(e,t){return e.type===t.type&&e.key===t.key}const vk=({key:e})=>e??null,I0=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?_r(e)||zr(e)||It(e)?{i:nn,r:e,k:t,f:!!r}:e:null);function _t(e,t=null,r=null,n=0,i=null,a=e===wt?0:1,o=!1,s=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&vk(t),ref:t&&I0(t),scopeId:kM,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:nn};return s?(OE(l,r),a&128&&e.normalize(l)):r&&(l.shapeFlag|=_r(r)?8:16),hh>0&&!o&&Xn&&(l.patchFlag>0||a&6)&&l.patchFlag!==32&&Xn.push(l),l}const kt=O$;function O$(e,t=null,r=null,n=0,i=null,a=!1){if((!e||e===QM)&&(e=Cn),ph(e)){const s=No(e,t,!0);return r&&OE(s,r),hh>0&&!a&&Xn&&(s.shapeFlag&6?Xn[Xn.indexOf(e)]=s:Xn.push(s)),s.patchFlag=-2,s}if(F$(e)&&(e=e.__vccOpts),t){t=Ln(t);let{class:s,style:l}=t;s&&!_r(s)&&(t.class=vt(s)),sr(l)&&(xE(l)&&!Rt(l)&&(l=an({},l)),t.style=kr(l))}const o=_r(e)?1:_k(e)?128:jM(e)?64:sr(e)?4:It(e)?2:0;return _t(e,t,r,n,i,o,a,!0)}function Ln(e){return e?xE(e)||sk(e)?an({},e):e:null}function No(e,t,r=!1,n=!1){const{props:i,ref:a,patchFlag:o,children:s,transition:l}=e,u=t?Fr(i||{},t):i,f={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&vk(u),ref:t&&t.ref?r&&a?Rt(a)?a.concat(I0(t)):[a,I0(t)]:I0(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==wt?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&No(e.ssContent),ssFallback:e.ssFallback&&No(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&n&&dh(f,l.clone(f)),f}function Si(e=" ",t=0){return kt(fm,null,e,t)}function rt(e="",t=!1){return t?(Ke(),Ot(Cn,null,e)):kt(Cn,null,e)}function la(e){return e==null||typeof e=="boolean"?kt(Cn):Rt(e)?kt(wt,null,e.slice()):ph(e)?wo(e):kt(fm,null,String(e))}function wo(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:No(e)}function OE(e,t){let r=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(Rt(t))r=16;else if(typeof t=="object")if(n&65){const i=t.default;i&&(i._c&&(i._d=!1),OE(e,i()),i._c&&(i._d=!0));return}else{r=32;const i=t._;!i&&!sk(t)?t._ctx=nn:i===3&&nn&&(nn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else It(t)?(t={default:t,_ctx:nn},r=32):(t=String(t),n&64?(r=16,t=[Si(t)]):r=8);e.children=t,e.shapeFlag|=r}function Fr(...e){const t={};for(let r=0;r<e.length;r++){const n=e[r];for(const i in n)if(i==="class")t.class!==n.class&&(t.class=vt([t.class,n.class]));else if(i==="style")t.style=kr([t.style,n.style]);else if(em(i)){const a=t[i],o=n[i];o&&a!==o&&!(Rt(a)&&a.includes(o))&&(t[i]=a?[].concat(a,o):o)}else i!==""&&(t[i]=n[i])}return t}function ra(e,t,r,n=null){Hi(e,t,7,[r,n])}const P$=ik();let D$=0;function N$(e,t,r){const n=e.type,i=(t?t.appContext:e.appContext)||P$,a={uid:D$++,vnode:e,type:n,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new aq(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:lk(n,i),emitsOptions:gk(n,i),emit:null,emitted:null,propsDefaults:tr,inheritAttrs:n.inheritAttrs,ctx:tr,data:tr,props:tr,attrs:tr,slots:tr,refs:tr,setupState:tr,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=E$.bind(null,a),e.ce&&e.ce(a),a}let fn=null;const wk=()=>fn||nn;let $0,Mw;{const e=im(),t=(r,n)=>{let i;return(i=e[r])||(i=e[r]=[]),i.push(n),a=>{i.length>1?i.forEach(o=>o(a)):i[0](a)}};$0=t("__VUE_INSTANCE_SETTERS__",r=>fn=r),Mw=t("__VUE_SSR_SETTERS__",r=>mh=r)}const Dh=e=>{const t=fn;return $0(e),e.scope.on(),()=>{e.scope.off(),$0(t)}},TT=()=>{fn&&fn.scope.off(),$0(null)};function Ek(e){return e.vnode.shapeFlag&4}let mh=!1;function C$(e,t=!1,r=!1){t&&Mw(t);const{props:n,children:i}=e.vnode,a=Ek(e);u$(e,n,a,t),d$(e,i,r);const o=a?L$(e,t):void 0;return t&&Mw(!1),o}function L$(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,e$);const{setup:n}=r;if(n){qo();const i=e.setupContext=n.length>1?xk(e):null,a=Dh(e),o=Oh(n,e,0,[e.props,i]),s=uM(o);if($o(),a(),(s||e.sp)&&!Tu(e)&&WM(e),s){if(o.then(TT,TT),t)return o.then(l=>{RT(e,l)}).catch(l=>{om(l,e,0)});e.asyncDep=o}else RT(e,o)}else Sk(e)}function RT(e,t,r){It(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:sr(t)&&(e.setupState=DM(t)),Sk(e)}function Sk(e,t,r){const n=e.type;e.render||(e.render=n.render||ya);{const i=Dh(e);qo();try{t$(e)}finally{$o(),i()}}}const M$={get(e,t){return _n(e,"get",""),e[t]}};function xk(e){const t=r=>{e.exposed=r||{}};return{attrs:new Proxy(e.attrs,M$),slots:e.slots,emit:e.emit,expose:t}}function cm(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(DM($s(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in Jd)return Jd[r](e)},has(t,r){return r in t||r in Jd}})):e.proxy}function k$(e,t=!0){return It(e)?e.displayName||e.name:e.name||t&&e.__name}function F$(e){return It(e)&&"__vccOpts"in e}const tt=(e,t)=>Mq(e,t,mh);function Ja(e,t,r){const n=arguments.length;return n===2?sr(t)&&!Rt(t)?ph(t)?kt(e,null,[t]):kt(e,t):kt(e,null,t):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&ph(r)&&(r=[r]),kt(e,t,r))}const j$="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let kw;const AT=typeof window<"u"&&window.trustedTypes;if(AT)try{kw=AT.createPolicy("vue",{createHTML:e=>e})}catch{}const Tk=kw?e=>kw.createHTML(e):e=>e,B$="http://www.w3.org/2000/svg",q$="http://www.w3.org/1998/Math/MathML",Ba=typeof document<"u"?document:null,IT=Ba&&Ba.createElement("template"),$$={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,n)=>{const i=t==="svg"?Ba.createElementNS(B$,e):t==="mathml"?Ba.createElementNS(q$,e):r?Ba.createElement(e,{is:r}):Ba.createElement(e);return e==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:e=>Ba.createTextNode(e),createComment:e=>Ba.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ba.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,n,i,a){const o=r?r.previousSibling:t.lastChild;if(i&&(i===a||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),r),!(i===a||!(i=i.nextSibling)););else{IT.innerHTML=Tk(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const s=IT.content;if(n==="svg"||n==="mathml"){const l=s.firstChild;for(;l.firstChild;)s.appendChild(l.firstChild);s.removeChild(l)}t.insertBefore(s,r)}return[o?o.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}},oo="transition",Nl="animation",yh=Symbol("_vtc"),Rk={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},U$=an({},$M,Rk),H$=e=>(e.displayName="Transition",e.props=U$,e),Zu=H$((e,{slots:t})=>Ja(zq,V$(e),t)),os=(e,t=[])=>{Rt(e)?e.forEach(r=>r(...t)):e&&e(...t)},OT=e=>e?Rt(e)?e.some(t=>t.length>1):e.length>1:!1;function V$(e){const t={};for(const O in e)O in Rk||(t[O]=e[O]);if(e.css===!1)return t;const{name:r="v",type:n,duration:i,enterFromClass:a=`${r}-enter-from`,enterActiveClass:o=`${r}-enter-active`,enterToClass:s=`${r}-enter-to`,appearFromClass:l=a,appearActiveClass:u=o,appearToClass:f=s,leaveFromClass:d=`${r}-leave-from`,leaveActiveClass:c=`${r}-leave-active`,leaveToClass:p=`${r}-leave-to`}=e,b=z$(i),v=b&&b[0],_=b&&b[1],{onBeforeEnter:y,onEnter:m,onEnterCancelled:g,onLeave:E,onLeaveCancelled:T,onBeforeAppear:I=y,onAppear:D=m,onAppearCancelled:B=g}=t,N=(O,q,Q,ie)=>{O._enterCancelled=ie,ss(O,q?f:s),ss(O,q?u:o),Q&&Q()},M=(O,q)=>{O._isLeaving=!1,ss(O,d),ss(O,p),ss(O,c),q&&q()},j=O=>(q,Q)=>{const ie=O?D:m,X=()=>N(q,O,Q);os(ie,[q,X]),PT(()=>{ss(q,O?l:a),Ia(q,O?f:s),OT(ie)||DT(q,n,v,X)})};return an(t,{onBeforeEnter(O){os(y,[O]),Ia(O,a),Ia(O,o)},onBeforeAppear(O){os(I,[O]),Ia(O,l),Ia(O,u)},onEnter:j(!1),onAppear:j(!0),onLeave(O,q){O._isLeaving=!0;const Q=()=>M(O,q);Ia(O,d),O._enterCancelled?(Ia(O,c),LT()):(LT(),Ia(O,c)),PT(()=>{O._isLeaving&&(ss(O,d),Ia(O,p),OT(E)||DT(O,n,_,Q))}),os(E,[O,Q])},onEnterCancelled(O){N(O,!1,void 0,!0),os(g,[O])},onAppearCancelled(O){N(O,!0,void 0,!0),os(B,[O])},onLeaveCancelled(O){M(O),os(T,[O])}})}function z$(e){if(e==null)return null;if(sr(e))return[Py(e.enter),Py(e.leave)];{const t=Py(e);return[t,t]}}function Py(e){return XB(e)}function Ia(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.add(r)),(e[yh]||(e[yh]=new Set)).add(t)}function ss(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.remove(n));const r=e[yh];r&&(r.delete(t),r.size||(e[yh]=void 0))}function PT(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let W$=0;function DT(e,t,r,n){const i=e._endId=++W$,a=()=>{i===e._endId&&n()};if(r!=null)return setTimeout(a,r);const{type:o,timeout:s,propCount:l}=G$(e,t);if(!o)return n();const u=o+"end";let f=0;const d=()=>{e.removeEventListener(u,c),a()},c=p=>{p.target===e&&++f>=l&&d()};setTimeout(()=>{f<l&&d()},s+1),e.addEventListener(u,c)}function G$(e,t){const r=window.getComputedStyle(e),n=b=>(r[b]||"").split(", "),i=n(`${oo}Delay`),a=n(`${oo}Duration`),o=NT(i,a),s=n(`${Nl}Delay`),l=n(`${Nl}Duration`),u=NT(s,l);let f=null,d=0,c=0;t===oo?o>0&&(f=oo,d=o,c=a.length):t===Nl?u>0&&(f=Nl,d=u,c=l.length):(d=Math.max(o,u),f=d>0?o>u?oo:Nl:null,c=f?f===oo?a.length:l.length:0);const p=f===oo&&/\b(transform|all)(,|$)/.test(n(`${oo}Property`).toString());return{type:f,timeout:d,propCount:c,hasTransform:p}}function NT(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((r,n)=>CT(r)+CT(e[n])))}function CT(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function LT(){return document.body.offsetHeight}function K$(e,t,r){const n=e[yh];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}const U0=Symbol("_vod"),Ak=Symbol("_vsh"),O0={beforeMount(e,{value:t},{transition:r}){e[U0]=e.style.display==="none"?"":e.style.display,r&&t?r.beforeEnter(e):Cl(e,t)},mounted(e,{value:t},{transition:r}){r&&t&&r.enter(e)},updated(e,{value:t,oldValue:r},{transition:n}){!t!=!r&&(n?t?(n.beforeEnter(e),Cl(e,!0),n.enter(e)):n.leave(e,()=>{Cl(e,!1)}):Cl(e,t))},beforeUnmount(e,{value:t}){Cl(e,t)}};function Cl(e,t){e.style.display=t?e[U0]:"none",e[Ak]=!t}const Z$=Symbol(""),Y$=/(^|;)\s*display\s*:/;function Q$(e,t,r){const n=e.style,i=_r(r);let a=!1;if(r&&!i){if(t)if(_r(t))for(const o of t.split(";")){const s=o.slice(0,o.indexOf(":")).trim();r[s]==null&&P0(n,s,"")}else for(const o in t)r[o]==null&&P0(n,o,"");for(const o in r)o==="display"&&(a=!0),P0(n,o,r[o])}else if(i){if(t!==r){const o=n[Z$];o&&(r+=";"+o),n.cssText=r,a=Y$.test(r)}}else t&&e.removeAttribute("style");U0 in e&&(e[U0]=a?n.display:"",e[Ak]&&(n.display="none"))}const MT=/\s*!important$/;function P0(e,t,r){if(Rt(r))r.forEach(n=>P0(e,t,n));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const n=X$(e,t);MT.test(r)?e.setProperty(Bo(n),r.replace(MT,""),"important"):e[n]=r}}const kT=["Webkit","Moz","ms"],Dy={};function X$(e,t){const r=Dy[t];if(r)return r;let n=Ei(t);if(n!=="filter"&&n in e)return Dy[t]=n;n=nm(n);for(let i=0;i<kT.length;i++){const a=kT[i]+n;if(a in e)return Dy[t]=a}return t}const FT="http://www.w3.org/1999/xlink";function jT(e,t,r,n,i,a=iq(t)){n&&t.startsWith("xlink:")?r==null?e.removeAttributeNS(FT,t.slice(6,t.length)):e.setAttributeNS(FT,t,r):r==null||a&&!dM(r)?e.removeAttribute(t):e.setAttribute(t,a?"":Ya(r)?String(r):r)}function BT(e,t,r,n,i){if(t==="innerHTML"||t==="textContent"){r!=null&&(e[t]=t==="innerHTML"?Tk(r):r);return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const s=a==="OPTION"?e.getAttribute("value")||"":e.value,l=r==null?e.type==="checkbox"?"on":"":String(r);(s!==l||!("_value"in e))&&(e.value=l),r==null&&e.removeAttribute(t),e._value=r;return}let o=!1;if(r===""||r==null){const s=typeof e[t];s==="boolean"?r=dM(r):r==null&&s==="string"?(r="",o=!0):s==="number"&&(r=0,o=!0)}try{e[t]=r}catch{}o&&e.removeAttribute(i||t)}function J$(e,t,r,n){e.addEventListener(t,r,n)}function e5(e,t,r,n){e.removeEventListener(t,r,n)}const qT=Symbol("_vei");function t5(e,t,r,n,i=null){const a=e[qT]||(e[qT]={}),o=a[t];if(n&&o)o.value=n;else{const[s,l]=r5(t);if(n){const u=a[t]=a5(n,i);J$(e,s,u,l)}else o&&(e5(e,s,o,l),a[t]=void 0)}}const $T=/(?:Once|Passive|Capture)$/;function r5(e){let t;if($T.test(e)){t={};let n;for(;n=e.match($T);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Bo(e.slice(2)),t]}let Ny=0;const n5=Promise.resolve(),i5=()=>Ny||(n5.then(()=>Ny=0),Ny=Date.now());function a5(e,t){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;Hi(o5(n,r.value),t,5,[n])};return r.value=e,r.attached=i5(),r}function o5(e,t){if(Rt(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(n=>i=>!i._stopped&&n&&n(i))}else return t}const UT=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,s5=(e,t,r,n,i,a)=>{const o=i==="svg";t==="class"?K$(e,n,o):t==="style"?Q$(e,r,n):em(t)?mE(t)||t5(e,t,r,n,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):u5(e,t,n,o))?(BT(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&jT(e,t,n,o,a,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!_r(n))?BT(e,Ei(t),n,a,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),jT(e,t,n,o))};function u5(e,t,r,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&UT(t)&&It(r));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return UT(t)&&_r(r)?!1:t in e}const l5=["ctrl","shift","alt","meta"],f5={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>l5.some(r=>e[`${r}Key`]&&!t.includes(r))},gh=(e,t)=>{const r=e._withMods||(e._withMods={}),n=t.join(".");return r[n]||(r[n]=(i,...a)=>{for(let o=0;o<t.length;o++){const s=f5[t[o]];if(s&&s(i,t))return}return e(i,...a)})},c5={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},d5=(e,t)=>{const r=e._withKeys||(e._withKeys={}),n=t.join(".");return r[n]||(r[n]=i=>{if(!("key"in i))return;const a=Bo(i.key);if(t.some(o=>o===a||c5[o]===a))return e(i)})},h5=an({patchProp:s5},$$);let HT;function Ik(){return HT||(HT=p$(h5))}const Fw=(...e)=>{Ik().render(...e)},p5=(...e)=>{const t=Ik().createApp(...e),{mount:r}=t;return t.mount=n=>{const i=y5(n);if(!i)return;const a=t._component;!It(a)&&!a.render&&!a.template&&(a.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=r(i,!1,m5(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},t};function m5(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function y5(e){return _r(e)?document.querySelector(e):e}const g5="modulepreload",_5=function(e,t){return new URL(e,t).href},VT={},vi=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){const o=document.getElementsByTagName("link"),s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(r.map(u=>{if(u=_5(u,n),u in VT)return;VT[u]=!0;const f=u.endsWith(".css"),d=f?'[rel="stylesheet"]':"";if(!!n)for(let b=o.length-1;b>=0;b--){const v=o[b];if(v.href===u&&(!f||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${d}`))return;const p=document.createElement("link");if(p.rel=f?"stylesheet":g5,f||(p.as="script"),p.crossOrigin="",p.href=u,l&&p.setAttribute("nonce",l),document.head.appendChild(p),f)return new Promise((b,v)=>{p.addEventListener("load",b),p.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return t().catch(a)})},zT=(e,t)=>{for(const r of Object.keys(t))e.on(r,t[r])},Ok=e=>{for(const t of Object.keys(e)){const r=e[t];r&&Eo(r.cancel)&&r.cancel()}},b5=e=>!e||typeof e.charAt!="function"?e:e.charAt(0).toUpperCase()+e.slice(1),Eo=e=>typeof e=="function",Hs=(e,t,r)=>{for(const n in r){const i="set"+b5(n);e[i]?Xr(()=>r[n],(a,o)=>{e[i](a,o)}):t[i]&&Xr(()=>r[n],a=>{t[i](a)})}},Vs=(e,t,r={})=>{const n={...r};for(const i in e){const a=t[i],o=e[i];a&&(a&&a.custom===!0||o!==void 0&&(n[i]=o))}return n},Yu=e=>{const t={},r={};for(const n in e)if(n.startsWith("on")&&!n.startsWith("onUpdate")&&n!=="onReady"){const i=n.slice(2).toLocaleLowerCase();t[i]=e[n]}else r[n]=e[n];return{listeners:t,attrs:r}},v5=async e=>{const t=await Promise.all([vi(()=>import("./marker-icon-2x-D4k_ikNW.js"),[],import.meta.url),vi(()=>import("./marker-icon-C2eJqgqv.js"),[],import.meta.url),vi(()=>import("./marker-shadow-DU6CIJ0p.js"),[],import.meta.url)]);delete e.Default.prototype._getIconUrl,e.Default.mergeOptions({iconRetinaUrl:t[0].default,iconUrl:t[1].default,shadowUrl:t[2].default})},Dp=e=>{const t=et((...n)=>console.warn(`Method ${e} has been invoked without being replaced`)),r=(...n)=>t.value(...n);return r.wrapped=t,pa(e,r),r},Np=(e,t)=>e.wrapped.value=t,za=typeof self=="object"&&self.self===self&&self||typeof bu=="object"&&bu.global===bu&&bu||globalThis,$i=e=>{const t=ei(e);if(t===void 0)throw new Error(`Attempt to inject ${e.description} before it was provided.`);return t},zs=Symbol("useGlobalLeaflet"),Nh=Symbol("addLayer"),Pk=Symbol("removeLayer"),Dk=Symbol("registerControl"),w5=Symbol("registerLayerControl"),Nk=Symbol("canSetParentHtml"),Ck=Symbol("setParentHtml"),Lk=Symbol("setIcon"),Mk=Symbol("bindPopup"),E5=Symbol("bindTooltip"),kk=Symbol("unbindPopup"),S5=Symbol("unbindTooltip"),Ch={options:{type:Object,default:()=>({}),custom:!0}},Lh=e=>({options:e.options,methods:{}}),Qu={...Ch,pane:{type:String},attribution:{type:String},name:{type:String,custom:!0},layerType:{type:String,custom:!0},visible:{type:Boolean,custom:!0,default:!0}},Fk=(e,t,r)=>{const n=$i(Nh),i=$i(Pk),{options:a,methods:o}=Lh(e),s=Vs(e,Qu,a),l=()=>n({leafletObject:t.value}),u=()=>i({leafletObject:t.value}),f={...o,setAttribution(d){u(),t.value.options.attribution=d,e.visible&&l()},setName(){u(),e.visible&&l()},setLayerType(){u(),e.visible&&l()},setVisible(d){t.value&&(d?l():u())},bindPopup(d){if(!t.value||!Eo(t.value.bindPopup)){console.warn("Attempt to bind popup before bindPopup method available on layer.");return}t.value.bindPopup(d)},bindTooltip(d){if(!t.value||!Eo(t.value.bindTooltip)){console.warn("Attempt to bind tooltip before bindTooltip method available on layer.");return}t.value.bindTooltip(d)},unbindTooltip(){t.value&&(Eo(t.value.closeTooltip)&&t.value.closeTooltip(),Eo(t.value.unbindTooltip)&&t.value.unbindTooltip())},unbindPopup(){t.value&&(Eo(t.value.closePopup)&&t.value.closePopup(),Eo(t.value.unbindPopup)&&t.value.unbindPopup())},updateVisibleProp(d){r.emit("update:visible",d)}};return pa(Mk,f.bindPopup),pa(E5,f.bindTooltip),pa(kk,f.unbindPopup),pa(S5,f.unbindTooltip),Gi(()=>{f.unbindPopup(),f.unbindTooltip(),u()}),{options:s,methods:f}},x5=(e,t)=>{if(e&&t.default)return Ja("div",{style:{display:"none"}},t.default())},T5={...Qu,interactive:{type:Boolean,default:void 0},bubblingMouseEvents:{type:Boolean,default:void 0}},jk={...T5,stroke:{type:Boolean,default:void 0},color:{type:String},weight:{type:Number},opacity:{type:Number},lineCap:{type:String},lineJoin:{type:String},dashArray:{type:String},dashOffset:{type:String},fill:{type:Boolean,default:void 0},fillColor:{type:String},fillOpacity:{type:Number},fillRule:{type:String},className:{type:String}},R5={...jk,radius:{type:Number},latLng:{type:[Object,Array],required:!0,custom:!0}};({...R5});const Xu={...Ch,position:{type:String}},A5=(e,t)=>{const{options:r,methods:n}=Lh(e),i=Vs(e,Xu,r),a={...n,setPosition(o){t.value&&t.value.setPosition(o)}};return Gi(()=>{t.value&&t.value.remove()}),{options:i,methods:a}},I5=e=>e.default?Ja("div",{ref:"root"},e.default()):null;({...Xu});({...Xu});({...Xu});({...Xu});({...Xu});const Bk={...Qu};({...Bk});({...Bk});const PE={...Qu,opacity:{type:Number},zIndex:{type:Number},tileSize:{type:[Number,Array,Object]},noWrap:{type:Boolean,default:void 0},minZoom:{type:Number},maxZoom:{type:Number},className:{type:String}},qk=(e,t,r)=>{const{options:n,methods:i}=Fk(e,t,r),a=Vs(e,PE,n),o={...i,setTileComponent(){var s;(s=t.value)==null||s.redraw()}};return Gi(()=>{t.value.off()}),{options:a,methods:o}},O5=(e,t,r,n)=>e.extend({initialize(i){this.tileComponents={},this.on("tileunload",this._unloadTile),r.setOptions(this,i)},createTile(i){const a=this._tileCoordsToKey(i);this.tileComponents[a]=t.create("div");const o=Ja({setup:n,props:["coords"]},{coords:i});return Fw(o,this.tileComponents[a]),this.tileComponents[a]},_unloadTile(i){const a=this._tileCoordsToKey(i.coords);this.tileComponents[a]&&(this.tileComponents[a].innerHTML="",this.tileComponents[a]=void 0)}});({...PE});const WT={iconUrl:{type:String},iconRetinaUrl:{type:String},iconSize:{type:[Object,Array]},iconAnchor:{type:[Object,Array]},popupAnchor:{type:[Object,Array]},tooltipAnchor:{type:[Object,Array]},shadowUrl:{type:String},shadowRetinaUrl:{type:String},shadowSize:{type:[Object,Array]},shadowAnchor:{type:[Object,Array]},bgPos:{type:[Object,Array]},className:{type:String}};({...WT,...Ch});({...Qu});function $k(e,t,r){var n,i,a;t===void 0&&(t=50),r===void 0&&(r={});var o=(n=r.isImmediate)!=null&&n,s=(i=r.callback)!=null&&i,l=r.maxWait,u=Date.now(),f=[];function d(){if(l!==void 0){var p=Date.now()-u;if(p+t>=l)return l-p}return t}var c=function(){var p=[].slice.call(arguments),b=this;return new Promise(function(v,_){var y=o&&a===void 0;if(a!==void 0&&clearTimeout(a),a=setTimeout(function(){if(a=void 0,u=Date.now(),!o){var g=e.apply(b,p);s&&s(g),f.forEach(function(E){return(0,E.resolve)(g)}),f=[]}},d()),y){var m=e.apply(b,p);return s&&s(m),v(m)}f.push({resolve:v,reject:_})})};return c.cancel=function(p){a!==void 0&&clearTimeout(a),f.forEach(function(b){return(0,b.reject)(p)}),f=[]},c}const GT={...Ch,center:{type:[Object,Array]},bounds:{type:[Array,Object]},maxBounds:{type:[Array,Object]},zoom:{type:Number},minZoom:{type:Number},maxZoom:{type:Number},paddingBottomRight:{type:[Object,Array]},paddingTopLeft:{type:Object},padding:{type:Object},worldCopyJump:{type:Boolean,default:void 0},crs:{type:[String,Object]},maxBoundsViscosity:{type:Number},inertia:{type:Boolean,default:void 0},inertiaDeceleration:{type:Number},inertiaMaxSpeed:{type:Number},easeLinearity:{type:Number},zoomAnimation:{type:Boolean,default:void 0},zoomAnimationThreshold:{type:Number},fadeAnimation:{type:Boolean,default:void 0},markerZoomAnimation:{type:Boolean,default:void 0},noBlockingAnimations:{type:Boolean,default:void 0},useGlobalLeaflet:{type:Boolean,default:!0,custom:!0}},P5=Wt({inheritAttrs:!1,emits:["ready","update:zoom","update:center","update:bounds"],props:GT,setup(e,t){const r=et(),n=Qa({ready:!1,layersToAdd:[],layersInControl:[]}),{options:i}=Lh(e),a=Vs(e,GT,i),{listeners:o,attrs:s}=Yu(t.attrs),l=Dp(Nh),u=Dp(Pk),f=Dp(Dk),d=Dp(w5);pa(zs,e.useGlobalLeaflet);const c=tt(()=>{const y={};return e.noBlockingAnimations&&(y.animate=!1),y}),p=tt(()=>{const y=c.value;return e.padding&&(y.padding=e.padding),e.paddingTopLeft&&(y.paddingTopLeft=e.paddingTopLeft),e.paddingBottomRight&&(y.paddingBottomRight=e.paddingBottomRight),y}),b={moveend:$k(y=>{n.leafletRef&&(t.emit("update:zoom",n.leafletRef.getZoom()),t.emit("update:center",n.leafletRef.getCenter()),t.emit("update:bounds",n.leafletRef.getBounds()))}),overlayadd(y){const m=n.layersInControl.find(g=>g.name===y.name);m&&m.updateVisibleProp(!0)},overlayremove(y){const m=n.layersInControl.find(g=>g.name===y.name);m&&m.updateVisibleProp(!1)}};ir(async()=>{e.useGlobalLeaflet&&(za.L=za.L||await vi(()=>Promise.resolve().then(()=>Pee),void 0,import.meta.url));const{map:y,CRS:m,Icon:g,latLngBounds:E,latLng:T,stamp:I}=e.useGlobalLeaflet?za.L:await vi(()=>import("./leaflet-src.esm-HdBnhJze.js"),[],import.meta.url);try{a.beforeMapMount&&await a.beforeMapMount()}catch(N){console.error(`The following error occurred running the provided beforeMapMount hook ${N.message}`)}await v5(g);const D=typeof a.crs=="string"?m[a.crs]:a.crs;a.crs=D||m.EPSG3857;const B={addLayer(N){N.layerType!==void 0&&(n.layerControl===void 0?n.layersToAdd.push(N):n.layersInControl.find(M=>I(M.leafletObject)===I(N.leafletObject))||(n.layerControl.addLayer(N),n.layersInControl.push(N))),N.visible!==!1&&n.leafletRef.addLayer(N.leafletObject)},removeLayer(N){N.layerType!==void 0&&(n.layerControl===void 0?n.layersToAdd=n.layersToAdd.filter(M=>M.name!==N.name):(n.layerControl.removeLayer(N.leafletObject),n.layersInControl=n.layersInControl.filter(M=>I(M.leafletObject)!==I(N.leafletObject)))),n.leafletRef.removeLayer(N.leafletObject)},registerLayerControl(N){n.layerControl=N,n.layersToAdd.forEach(M=>{n.layerControl.addLayer(M)}),n.layersToAdd=[],f(N)},registerControl(N){n.leafletRef.addControl(N.leafletObject)},setZoom(N){const M=n.leafletRef.getZoom();N!==M&&n.leafletRef.setZoom(N,c.value)},setCrs(N){const M=n.leafletRef.getBounds();n.leafletRef.options.crs=N,n.leafletRef.fitBounds(M,{animate:!1,padding:[0,0]})},fitBounds(N){n.leafletRef.fitBounds(N,p.value)},setBounds(N){if(!N)return;const M=E(N);M.isValid()&&!(n.lastSetBounds||n.leafletRef.getBounds()).equals(M,0)&&(n.lastSetBounds=M,n.leafletRef.fitBounds(M))},setCenter(N){if(N==null)return;const M=T(N),j=n.lastSetCenter||n.leafletRef.getCenter();(j.lat!==M.lat||j.lng!==M.lng)&&(n.lastSetCenter=M,n.leafletRef.panTo(M,c.value))}};Np(l,B.addLayer),Np(u,B.removeLayer),Np(f,B.registerControl),Np(d,B.registerLayerControl),n.leafletRef=$s(y(r.value,a)),Hs(B,n.leafletRef,e),zT(n.leafletRef,b),zT(n.leafletRef,o),n.ready=!0,Ar(()=>t.emit("ready",n.leafletRef))}),Ph(()=>{Ok(b),n.leafletRef&&(n.leafletRef.off(),n.leafletRef.remove())});const v=tt(()=>n.leafletRef),_=tt(()=>n.ready);return{root:r,ready:_,leafletObject:v,attrs:s}},render({attrs:e}){return e.style||(e.style={}),e.style.width||(e.style.width="100%"),e.style.height||(e.style.height="100%"),Ja("div",{...e,ref:"root"},this.ready&&this.$slots.default?this.$slots.default():{})}}),D5=["Symbol(Comment)","Symbol(Text)"],N5=["LTooltip","LPopup"],Uk={...Qu,draggable:{type:Boolean,default:void 0},icon:{type:[Object]},zIndexOffset:{type:Number},latLng:{type:[Object,Array],custom:!0,required:!0}},C5=(e,t,r)=>{const{options:n,methods:i}=Fk(e,t,r),a=Vs(e,Uk,n),o={...i,setDraggable(s){t.value.dragging&&(s?t.value.dragging.enable():t.value.dragging.disable())},latLngSync(s){r.emit("update:latLng",s.latlng),r.emit("update:lat-lng",s.latlng)},setLatLng(s){if(s!=null&&t.value){const l=t.value.getLatLng();(!l||!l.equals(s))&&t.value.setLatLng(s)}}};return{options:a,methods:o}},L5=(e,t)=>{const r=t.slots.default&&t.slots.default();return r&&r.length&&r.some(M5)};function M5(e){return!(D5.includes(e.type.toString())||N5.includes(e.type.name))}const k5=Wt({name:"LMarker",props:Uk,setup(e,t){const r=et(),n=et(!1),i=ei(zs),a=$i(Nh);pa(Nk,()=>{var u;return!!((u=r.value)!=null&&u.getElement())}),pa(Ck,u=>{var f,d;const c=Eo((f=r.value)==null?void 0:f.getElement)&&((d=r.value)==null?void 0:d.getElement());c&&(c.innerHTML=u)}),pa(Lk,u=>{var f;return((f=r.value)==null?void 0:f.setIcon)&&r.value.setIcon(u)});const{options:o,methods:s}=C5(e,r,t),l={moveHandler:$k(s.latLngSync)};return ir(async()=>{const{marker:u,divIcon:f}=i?za.L:await vi(()=>import("./leaflet-src.esm-HdBnhJze.js"),[],import.meta.url);L5(o,t)&&(o.icon=f({className:""})),r.value=$s(u(e.latLng,o));const{listeners:d}=Yu(t.attrs);r.value.on(d),r.value.on("move",l.moveHandler),Hs(s,r.value,e),a({...e,...s,leafletObject:r.value}),n.value=!0,Ar(()=>t.emit("ready",r.value))}),Ph(()=>Ok(l)),{ready:n,leafletObject:r}},render(){return x5(this.ready,this.$slots)}}),F5={...jk,smoothFactor:{type:Number},noClip:{type:Boolean,default:void 0},latLngs:{type:Array,required:!0,custom:!0}},KT={...F5},Hk={...Ch,content:{type:String,default:null}},j5=(e,t)=>{const{options:r,methods:n}=Lh(e),i={...n,setContent(a){t.value&&a!==null&&a!==void 0&&t.value.setContent(a)}};return{options:r,methods:i}},B5=e=>e.default?Ja("div",{ref:"root"},e.default()):null,q5={...Hk,latLng:{type:[Object,Array],default:()=>[]}},$5=(e,t)=>{const{options:r,methods:n}=j5(e,t);return{options:r,methods:n}},U5=Wt({name:"LPopup",props:q5,setup(e,t){const r=et(),n=et(null),i=ei(zs),a=$i(Mk),o=$i(kk),{options:s,methods:l}=$5(e,r);return ir(async()=>{const{popup:u}=i?za.L:await vi(()=>import("./leaflet-src.esm-HdBnhJze.js"),[],import.meta.url);r.value=$s(u(s)),e.latLng!==void 0&&r.value.setLatLng(e.latLng),Hs(l,r.value,e);const{listeners:f}=Yu(t.attrs);r.value.on(f),r.value.setContent(e.content||n.value||""),a(r.value),Ar(()=>t.emit("ready",r.value))}),Ph(()=>{o()}),{root:n,leafletObject:r}},render(){return B5(this.$slots)}});({...KT,latLngs:{...KT.latLngs}});const DE={...PE,tms:{type:Boolean,default:void 0},subdomains:{type:[String,Array],validator:e=>typeof e=="string"?!0:Array.isArray(e)?e.every(t=>typeof t=="string"):!1},detectRetina:{type:Boolean,default:void 0},url:{type:String,required:!0,custom:!0}},H5=(e,t,r)=>{const{options:n,methods:i}=qk(e,t,r),a=Vs(e,DE,n),o={...i};return{options:a,methods:o}},V5=Wt({props:DE,setup(e,t){const r=et(),n=ei(zs),i=$i(Nh),{options:a,methods:o}=H5(e,r,t);return ir(async()=>{const{tileLayer:s}=n?za.L:await vi(()=>import("./leaflet-src.esm-HdBnhJze.js"),[],import.meta.url);r.value=$s(s(e.url,a));const{listeners:l}=Yu(t.attrs);r.value.on(l),Hs(o,r.value,e),i({...e,...o,leafletObject:r.value}),Ar(()=>t.emit("ready",r.value))}),{leafletObject:r}},render(){return null}});({...Hk});({...DE});const z5=["primary","secondary","success","danger","warning","info","light","dark"],W5="rgba({{color}}, 0.2) 0, rgba({{color}}, 0.3) 40%, rgba({{color}}, 0.4) 50%, rgba({{color}}, 0.5) 60%, rgba({{color}}, 0) 70%",G5=[0,0,0],ZT=.5,K5=e=>e&&z5.includes(e.toLowerCase()),Z5=(e,t)=>{const r=a=>(a.length<7&&(a=`#${a[1]}${a[1]}${a[2]}${a[2]}${a[3]}${a[3]}`),[parseInt(a.substr(1,2),16),parseInt(a.substr(3,2),16),parseInt(a.substr(5,2),16)]),n=a=>{const o=document.body.appendChild(document.createElement("fictum")),s="rgb(1, 2, 3)";return o.style.color=s,o.style.color!==s||(o.style.color=a,o.style.color===s||o.style.color==="")?(document.body.removeChild(o),t):(a=getComputedStyle(o).color,document.body.removeChild(o),a)},i=a=>{const o=a.match(/[.\d]+/g);if(o===null)return;const s=o.map(l=>+Number(l));return s.length=3,s};return typeof e=="string"&&e.toLowerCase()==="transparent"?t:typeof e=="string"&&e[0]==="#"?r(e):(typeof e=="string"&&e.indexOf("rgb")===-1&&(e=n(e)),typeof e=="string"&&e.indexOf("rgb")===0?i(e):t)},Y5=({offsetX:e,offsetY:t,height:r,width:n})=>{const i=t<=r/2,a=e<=n/2,o=(d,c)=>Math.sqrt(d**2+c**2),s=t===r/2&&e===n/2,l={first:i===!0&&a===!1,second:i===!0&&a===!0,third:i===!1&&a===!0,fourth:i===!1&&a===!1},u={topLeft:o(e,t),topRight:o(n-e,t),bottomLeft:o(e,r-t),bottomRight:o(n-e,r-t)};let f=0;return s||l.fourth?f=u.topLeft:l.third?f=u.topRight:l.second?f=u.bottomRight:l.first&&(f=u.bottomLeft),f*2},Q5=(e,t)=>{for(const r in t)e.style[r]=t[r]},X5=e=>{const t=Z5(e,G5);if(e!==""&&t){const r=t.join(",");return`radial-gradient(circle, ${W5.split("{{color}}").join(`${r}`)})`}},J5=(e,t,r)=>{const n=document.createElement("div");n.classList.add("ripple-wave");const i={offsetX:r.centered?t.height/2:t.left,offsetY:r.centered?t.width/2:t.top,height:t.height,width:t.width},a=Y5(i),o=r.radius||a/2,s={delay:r.duration&&r.duration*ZT,duration:r.duration&&r.duration-r.duration*ZT},l={left:r.centered?`${Math.round(t.width/2-o)}px`:`${Math.round(t.left-o)}px`,top:r.centered?`${Math.round(t.height/2-o)}px`:`${Math.round(t.top-o)}px`,height:`${Math.round(r.radius&&r.radius*2||a)}px`,width:`${Math.round(r.radius&&r.radius*2||a)}px`,transitionDelay:`0s, ${s.delay}ms`,transitionDuration:`${r.duration}ms, ${s.duration}ms`};r.unbound&&e.classList.add("ripple-surface-unbound"),K5(r.color)?e.classList.add(`ripple-surface-${r.color}`):l.backgroundImage=X5(r.color),Q5(n,l),e.appendChild(n),setTimeout(()=>{n.classList.add("active")},50),setTimeout(()=>{e.removeChild(n)},r.duration?r.duration+1e3:1e3)},Vk={mounted(e,t){if(t.value===!1)return;const r={centered:t.value&&t.value.centered||!1,color:t.value&&t.value.color||"",duration:t.value&&t.value.duration||500,radius:t.value&&t.value.radius||0,unbound:t.value&&t.value.unbound||!1};e.classList.add("ripple-surface"),e.waves=n=>{const i={top:n.offsetY,left:n.offsetX,height:e.offsetHeight,width:e.offsetWidth};J5(e,i,r)},e.addEventListener("click",n=>e.waves(n))},updated(e,t){t.value!==!1&&(e.classList.contains("ripple-surface")||e.classList.add("ripple-surface"))},unmounted(e){e.removeEventListener("click",t=>e.waves(t))}},e9={name:"MDBBtn"},zk=Wt({...e9,props:{color:String,size:String,outline:String,rounded:Boolean,floating:Boolean,toggler:Boolean,toggle:Boolean,role:{type:String,default:"button"},type:{type:String,default:"button"},tag:{type:String,default:"button"},block:{type:Boolean,default:!1},ripple:{type:[Object,Boolean],default:e=>e.outline||e.color==="light"||e.color==="link"?{color:"dark"}:!0},picker:Boolean},emits:["update:toggle"],setup(e,{emit:t}){const r=e,n=et(r.toggle),i=tt(()=>[!r.picker&&"btn",r.color&&`btn-${r.color}`,r.size&&`btn-${r.size}`,r.outline&&`btn-outline-${r.outline}`,r.rounded&&"btn-rounded",r.floating&&"btn-floating",r.block&&"btn-block",n.value&&"active"]),a=()=>{r.toggler&&(n.value=!n.value,t("update:toggle",n.value))};return(o,s)=>Io((Ke(),Ot(ba(e.tag),{type:e.type,role:e.role,class:vt(i.value),onClick:a},{default:bt(()=>[pt(o.$slots,"default")]),_:3},8,["type","role","class"])),[[Fe(Vk),e.ripple]])}}),t9=1e6,r9=e=>{do e+=Math.floor(Math.random()*t9);while(document.getElementById(e));return e},n9=/\..*/,i9={mouseenter:"mouseover",mouseleave:"mouseout"},a9=["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"];function Wk(e,t,r){const n=typeof t=="string",i=n?r:t;let a=e.replace(n9,"");const o=i9[a];return o&&(a=o),a9.indexOf(a)>-1||(a=e),[n,i,a]}function o9(e,t,r,n){if(typeof t!="string"||!e)return;const[i,a,o]=Wk(t,r,n);e.addEventListener(o,a,i)}function s9(e,t,r,n){e.removeEventListener(t,r,!!n)}const u9=function(e,t,r,n=void 0){o9(e,t,r,n)},l9=function(e,t,r,n=void 0){if(typeof t!="string"||!e)return;const[i,a,o]=Wk(t,r,n);s9(e,o,a,i?r:void 0)},jw={stopProp(e){e.stopPropagation()},mounted(e,t){const r=i=>{const a=i.target;!e.contains(a)&&e!==a&&t.value(i)};e.clickOutside=r;const n=t.modifiers.mousedown?"mousedown":"click";document.addEventListener(n,i=>{var a;return(a=e.clickOutside)==null?void 0:a.call(e,i)}),document.addEventListener("touchstart",i=>{var a;return(a=e.clickOutside)==null?void 0:a.call(e,i)})},unmounted(e,t){if(!e.clickOutside)return;const r=t.modifiers.mousedown?"mousedown":"click";document.removeEventListener(r,n=>{var i;return(i=e.clickOutside)==null?void 0:i.call(e,n)}),document.removeEventListener("touchstart",n=>{var i;return(i=e.clickOutside)==null?void 0:i.call(e,n)}),delete e.clickOutside}},f9={key:1,class:"visually-hidden"},c9={name:"MDBDropdownToggle"};({...c9,props:{...zk.props}});const d9={name:"MDBCol"},h9=Wt({...d9,props:{tag:{type:String,default:"div"},col:String,sm:String,md:String,lg:String,xl:String,offset:String,offsetSm:String,offsetMd:String,offsetLg:String,offsetXl:String,auto:{type:Boolean,default:!1}},setup(e){const t=e,r=tt(()=>[t.col?"col-"+t.col:"",t.sm?"col-sm-"+t.sm:"",t.md?"col-md-"+t.md:"",t.lg?"col-lg-"+t.lg:"",t.xl?"col-xl-"+t.xl:"",!t.col&&!t.sm&&!t.md&&!t.lg&&!t.xl?"col":"",t.offset?"offset-"+t.offset:"",t.offsetSm?"offset-sm-"+t.offsetSm:"",t.offsetMd?"offset-md-"+t.offsetMd:"",t.offsetLg?"offset-lg-"+t.offsetLg:"",t.offsetXl?"offset-xl-"+t.offsetXl:"",t.auto?"col-auto":""]);return(n,i)=>(Ke(),Ot(ba(e.tag),{class:vt(r.value)},{default:bt(()=>[pt(n.$slots,"default")]),_:3},8,["class"]))}}),p9={name:"MDBRow"},m9=Wt({...p9,props:{tag:{type:String,default:"div"},start:{type:Boolean,default:!1},end:{type:Boolean,default:!1},center:{type:Boolean,default:!1},between:{type:Boolean,default:!1},around:{type:Boolean,default:!1},cols:[String,Array]},setup(e){const t=e,r=tt(()=>{const i=t.cols;return["row",t.cols&&i?`${n(i)}`:"",t.start&&"justify-content-start",t.end&&"justify-content-end",t.center&&"justify-content-center",t.between&&"justify-content-between",t.around&&"justify-content-around"]}),n=i=>typeof i=="string"?`row-cols-${i}`:i.map(a=>`row-cols-${a}`.trim()).join(" ");return(i,a)=>(Ke(),Ot(ba(e.tag),{class:vt(r.value)},{default:bt(()=>[pt(i.$slots,"default")]),_:3},8,["class"]))}}),y9={name:"MDBContainer"},g9=Wt({...y9,props:{tag:{type:String,default:"div"},sm:{type:Boolean,default:!1},md:{type:Boolean,default:!1},lg:{type:Boolean,default:!1},xl:{type:Boolean,default:!1},xxl:{type:Boolean,default:!1},fluid:{type:Boolean,default:!1}},setup(e){const t=e,r=tt(()=>[t.fluid?"container-fluid":"",t.sm?"container-sm":"",t.md?"container-md":"",t.lg?"container-lg":"",t.xl?"container-xl":"",t.xxl?"container-xxl":"",!t.fluid&&!t.sm&&!t.md&&!t.lg&&!t.xl&&!t.xxl?"container":""]);return(n,i)=>(Ke(),Ot(ba(e.tag),{class:vt(r.value)},{default:bt(()=>[pt(n.$slots,"default")]),_:3},8,["class"]))}}),_9=["id","value"],b9=["for"],v9={key:2,class:"form-helper"},w9={key:3,class:"form-helper"},E9={class:"form-counter"},S9=_t("div",{class:"form-notch-trailing"},null,-1),x9=["id","value"],T9=["for"],R9={key:1,class:"form-helper"},A9={key:2,class:"form-helper"},I9={class:"form-counter"},O9=_t("div",{class:"form-notch-trailing"},null,-1),P9={key:9,class:"form-text"},D9={name:"MDBInput",inheritAttrs:!1},N9=Wt({...D9,props:{id:String,label:String,labelClass:String,modelValue:[String,Number,Date],size:String,formOutline:{type:Boolean,default:!0},wrapperClass:String,inputGroup:{type:[Boolean,String],default:!1},wrap:{type:Boolean,default:!0},formText:String,white:Boolean,validationEvent:String,isValidated:Boolean,isValid:Boolean,validFeedback:String,invalidFeedback:String,tooltipFeedback:{type:Boolean,default:!1},tag:{type:String,default:"div"},helper:String,counter:Boolean,maxlength:{type:Number,default:0}},emits:["update:modelValue","click-outside","on-validate"],setup(e,{expose:t,emit:r}){const n=e,i=ek(),a=et(null),o=et(n.modelValue),s=et(null),l=et(!1),u=et(9),f=et(0),d=n.id||r9("MDBInput-"),c=et(!1),p=tt(()=>[n.formOutline&&"form-outline",y.value,n.white&&"form-white",n.wrapperClass]),b=tt(()=>["form-control",n.size?`form-control-${n.size}`:n.inputGroup&&n.inputGroup!==!0&&`form-control-${n.inputGroup}`,(o.value||o.value===0)&&"active",l.value&&"placeholder-active",T.value&&I.value&&"is-valid",T.value&&!I.value&&"is-invalid",q.value&&v()]),v=()=>q.value?o.value||o.value===0||c.value?"opacity-1":"opacity-0":"",_=tt(()=>["form-label",n.labelClass]),y=tt(()=>{if(n.inputGroup)return n.inputGroup!==!0?`input-group input-group-${n.inputGroup}`:"input-group"}),m=tt(()=>n.inputGroup&&T.value?{marginBottom:"1rem"}:""),g=tt(()=>n.tooltipFeedback?"valid-tooltip":"valid-feedback"),E=tt(()=>n.tooltipFeedback?"invalid-tooltip":"invalid-feedback"),T=et(n.isValidated),I=et(n.isValid),D=et(""),B=tt(()=>T.value&&!I.value&&n.validationEvent?D.value:n.invalidFeedback),N=P=>{const A=P.target;I.value=A.checkValidity(),I.value||(D.value=A.validationMessage),T.value=!0,r("on-validate",I.value)},M=()=>{n.validationEvent!=="submit"&&a.value&&n.validationEvent&&u9(a.value,n.validationEvent,N)};function j(){s.value&&(f.value=s.value.clientWidth*.8+8)}const O=tt(()=>n.label&&s.value&&f.value===8&&s.value.textContent!==""),q=tt(()=>["date","time","datetime-local","month","week"].includes(i.type));function Q(){i.placeholder&&!s.value?l.value=!0:l.value=!1}const ie=et(null);ie.value=typeof o.value=="string"&&o.value?o.value.length:0;function X(P){const A=P.target;if(n.maxlength&&A.value.length>n.maxlength&&typeof o.value=="string"){A.value=o.value;return}ie.value=A.value.length,o.value=A.value,r("update:modelValue",o.value)}function le(){Z(!0),c.value=!0,n.label&&O.value&&j()}function ae(){Z(),c.value=!1}function ne(){r("click-outside")}const V=et(null),oe=et(null),he=P=>{oe.value&&oe.value.forEach(A=>A.style.opacity=P?"0":"1"),P&&V.value&&(V.value.style.opacity="1")},Y=i.type&&i.type==="date",Z=(P=!1)=>{var A;n.label&&n.formOutline&&oe.value&&((A=oe.value)==null?void 0:A.length)>1&&he(P),Y&&a.value&&(a.value.type=P?"date":"text")},ee=P=>![...P.parentNode.children].findIndex(A=>A===P);return ir(()=>{var P;if(j(),Q(),Z(),n.label&&n.formOutline&&a.value&&(oe.value=((P=a.value.parentNode)==null?void 0:P.querySelectorAll(".form-notch"))||null),n.label&&n.formOutline&&s.value&&a.value&&!ee(a.value)){const A=parseFloat(getComputedStyle(s.value).left);s.value.style.left=`${A+a.value.offsetLeft}px`,u.value+=a.value.offsetLeft}n.validationEvent&&M()}),ZM(()=>{j(),Q()}),Gi(()=>{a.value&&n.validationEvent&&l9(a.value,n.validationEvent,N)}),mk(()=>{var P,A;if(typeof n.modelValue=="string"){if(n.maxlength&&((P=n.modelValue)==null?void 0:P.length)>n.maxlength){o.value=n.modelValue.slice(0,n.maxlength),ie.value=n.maxlength;return}ie.value=((A=n.modelValue)==null?void 0:A.length)||0}o.value=n.modelValue}),Xr(()=>n.isValidated,P=>T.value=P),Xr(()=>n.isValid,P=>I.value=P),t({inputRef:a}),(P,A)=>(Ke(),Je(wt,null,[e.wrap?rt("",!0):Io((Ke(),Je("input",Fr({key:0,class:b.value,id:Fe(d),value:o.value},P.$attrs,{onInput:X,ref_key:"inputRef",ref:a,onFocus:le,onBlur:ae}),null,16,_9)),[[Fe(jw),ne]]),e.label&&!e.wrap?(Ke(),Je("label",{key:1,ref_key:"labelRef",ref:s,class:vt(_.value),for:Fe(d)},qt(e.label),11,b9)):rt("",!0),!e.wrap&&e.helper?(Ke(),Je("div",v9,qt(e.helper),1)):rt("",!0),!e.wrap&&e.counter?(Ke(),Je("div",w9,[_t("div",E9,qt(ie.value)+" / "+qt(e.maxlength),1)])):rt("",!0),e.wrap?rt("",!0):pt(P.$slots,"default",{key:4}),!e.wrap&&e.validFeedback?(Ke(),Je("div",{key:5,class:vt(g.value)},qt(e.validFeedback),3)):rt("",!0),!e.wrap&&B.value?(Ke(),Je("div",{key:6,class:vt(E.value)},qt(B.value),3)):rt("",!0),!e.wrap&&e.formOutline?(Ke(),Je("div",{key:7,class:"form-notch",ref_key:"notchRef",ref:V},[_t("div",{class:"form-notch-leading",style:kr({width:`${u.value}px`})},null,4),_t("div",{class:"form-notch-middle",style:kr({width:`${f.value}px`})},null,4),S9],512)):rt("",!0),e.wrap?Io((Ke(),Ot(ba(e.tag),{key:8,class:vt(p.value),style:kr(m.value)},{default:bt(()=>[pt(P.$slots,"prepend"),_t("input",Fr({class:b.value},P.$attrs,{id:Fe(d),value:o.value,onInput:X,ref_key:"inputRef",ref:a,onFocus:le,onBlur:ae}),null,16,x9),e.label?(Ke(),Je("label",{key:0,ref_key:"labelRef",ref:s,class:vt(_.value),for:Fe(d)},qt(e.label),11,T9)):rt("",!0),e.helper?(Ke(),Je("div",R9,qt(e.helper),1)):rt("",!0),e.counter?(Ke(),Je("div",A9,[_t("div",I9,qt(ie.value)+" / "+qt(e.maxlength),1)])):rt("",!0),pt(P.$slots,"default"),e.validFeedback?(Ke(),Je("div",{key:3,class:vt(g.value)},qt(e.validFeedback),3)):rt("",!0),B.value?(Ke(),Je("div",{key:4,class:vt(E.value)},qt(B.value),3)):rt("",!0),e.formOutline?(Ke(),Je("div",{key:5,class:"form-notch",ref_key:"notchRef",ref:V},[_t("div",{class:"form-notch-leading",style:kr({width:`${u.value}px`})},null,4),_t("div",{class:"form-notch-middle",style:kr({width:`${f.value}px`})},null,4),O9],512)):rt("",!0)]),_:3},8,["class","style"])),[[Fe(jw),ne]]):rt("",!0),e.formText?(Ke(),Je("div",P9,qt(e.formText),1)):rt("",!0)],64))}}),Gk=6048e5,C9=864e5,L9=6e4,Kk=36e5,M9=1e3,YT=Symbol.for("constructDateFrom");function Xt(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&YT in e?e[YT](t):e instanceof Date?new e.constructor(t):new Date(t)}function St(e,t){return Xt(t||e,e)}function mi(e,t,r){const n=St(e,r==null?void 0:r.in);return isNaN(t)?Xt((r==null?void 0:r.in)||e,NaN):(t&&n.setDate(n.getDate()+t),n)}function Ui(e,t,r){const n=St(e,r==null?void 0:r.in);if(isNaN(t))return Xt(e,NaN);if(!t)return n;const i=n.getDate(),a=Xt(e,n.getTime());a.setMonth(n.getMonth()+t+1,0);const o=a.getDate();return i>=o?a:(n.setFullYear(a.getFullYear(),a.getMonth(),i),n)}function Zk(e,t,r){const{years:n=0,months:i=0,weeks:a=0,days:o=0,hours:s=0,minutes:l=0,seconds:u=0}=t,f=St(e,r==null?void 0:r.in),d=i||n?Ui(f,i+n*12):f,c=o||a?mi(d,o+a*7):d,p=l+s*60,v=(u+p*60)*1e3;return Xt(e,+c+v)}function k9(e,t,r){return Xt(e,+St(e)+t)}function F9(e,t,r){return k9(e,t*Kk)}let j9={};function Ws(){return j9}function Vi(e,t){var s,l,u,f;const r=Ws(),n=(t==null?void 0:t.weekStartsOn)??((l=(s=t==null?void 0:t.locale)==null?void 0:s.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??0,i=St(e,t==null?void 0:t.in),a=i.getDay(),o=(a<n?7:0)+a-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Du(e,t){return Vi(e,{...t,weekStartsOn:1})}function Yk(e,t){const r=St(e,t==null?void 0:t.in),n=r.getFullYear(),i=Xt(r,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const a=Du(i),o=Xt(r,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const s=Du(o);return r.getTime()>=a.getTime()?n+1:r.getTime()>=s.getTime()?n:n-1}function H0(e){const t=St(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Mh(e,...t){const r=Xt.bind(null,t.find(n=>typeof n=="object"));return t.map(r)}function QT(e,t){const r=St(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function Qk(e,t,r){const[n,i]=Mh(r==null?void 0:r.in,e,t),a=QT(n),o=QT(i),s=+a-H0(a),l=+o-H0(o);return Math.round((s-l)/C9)}function B9(e,t){const r=Yk(e,t),n=Xt(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Du(n)}function q9(e,t,r){return Ui(e,t*3,r)}function NE(e,t,r){return Ui(e,t*12,r)}function XT(e,t){const r=+St(e)-+St(t);return r<0?-1:r>0?1:r}function Xk(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function th(e){return!(!Xk(e)&&typeof e!="number"||isNaN(+St(e)))}function JT(e,t){const r=St(e,t==null?void 0:t.in);return Math.trunc(r.getMonth()/3)+1}function $9(e,t,r){const[n,i]=Mh(r==null?void 0:r.in,e,t);return n.getFullYear()-i.getFullYear()}function U9(e,t,r){const[n,i]=Mh(r==null?void 0:r.in,e,t),a=XT(n,i),o=Math.abs($9(n,i));n.setFullYear(1584),i.setFullYear(1584);const s=XT(n,i)===-a,l=a*(o-+s);return l===0?0:l}function Jk(e,t){const[r,n]=Mh(e,t.start,t.end);return{start:r,end:n}}function eF(e,t){const{start:r,end:n}=Jk(t==null?void 0:t.in,e);let i=+r>+n;const a=i?+r:+n,o=i?n:r;o.setHours(0,0,0,0);let s=1;const l=[];for(;+o<=a;)l.push(Xt(r,o)),o.setDate(o.getDate()+s),o.setHours(0,0,0,0);return i?l.reverse():l}function Ds(e,t){const r=St(e,t==null?void 0:t.in),n=r.getMonth(),i=n-n%3;return r.setMonth(i,1),r.setHours(0,0,0,0),r}function H9(e,t){const{start:r,end:n}=Jk(t==null?void 0:t.in,e);let i=+r>+n;const a=i?+Ds(r):+Ds(n);let o=Ds(i?n:r),s=1;const l=[];for(;+o<=a;)l.push(Xt(r,o)),o=q9(o,s);return i?l.reverse():l}function V9(e,t){const r=St(e,t==null?void 0:t.in);return r.setDate(1),r.setHours(0,0,0,0),r}function tF(e,t){const r=St(e,t==null?void 0:t.in),n=r.getFullYear();return r.setFullYear(n+1,0,0),r.setHours(23,59,59,999),r}function _h(e,t){const r=St(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function rF(e,t){var s,l,u,f;const r=Ws(),n=(t==null?void 0:t.weekStartsOn)??((l=(s=t==null?void 0:t.locale)==null?void 0:s.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??0,i=St(e,t==null?void 0:t.in),a=i.getDay(),o=(a<n?-7:0)+6-(a-n);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}function eR(e,t){const r=St(e,t==null?void 0:t.in),n=r.getMonth(),i=n-n%3+3;return r.setMonth(i,0),r.setHours(23,59,59,999),r}const z9={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},W9=(e,t,r)=>{let n;const i=z9[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Cy(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const G9={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},K9={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Z9={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Y9={date:Cy({formats:G9,defaultWidth:"full"}),time:Cy({formats:K9,defaultWidth:"full"}),dateTime:Cy({formats:Z9,defaultWidth:"full"})},Q9={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},X9=(e,t,r,n)=>Q9[e];function Ll(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,s=r!=null&&r.width?String(r.width):o;i=e.formattingValues[s]||e.formattingValues[o]}else{const o=e.defaultWidth,s=r!=null&&r.width?String(r.width):e.defaultWidth;i=e.values[s]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const J9={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},e7={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},t7={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},r7={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},n7={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},i7={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},a7=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},o7={ordinalNumber:a7,era:Ll({values:J9,defaultWidth:"wide"}),quarter:Ll({values:e7,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ll({values:t7,defaultWidth:"wide"}),day:Ll({values:r7,defaultWidth:"wide"}),dayPeriod:Ll({values:n7,defaultWidth:"wide",formattingValues:i7,defaultFormattingWidth:"wide"})};function Ml(e){return(t,r={})=>{const n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const o=a[0],s=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(s)?u7(s,d=>d.test(o)):s7(s,d=>d.test(o));let u;u=e.valueCallback?e.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;const f=t.slice(o.length);return{value:u,rest:f}}}function s7(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function u7(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function l7(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const s=t.slice(i.length);return{value:o,rest:s}}}const f7=/^(\d+)(th|st|nd|rd)?/i,c7=/\d+/i,d7={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},h7={any:[/^b/i,/^(a|c)/i]},p7={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},m7={any:[/1/i,/2/i,/3/i,/4/i]},y7={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},g7={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},_7={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},b7={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},v7={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},w7={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},E7={ordinalNumber:l7({matchPattern:f7,parsePattern:c7,valueCallback:e=>parseInt(e,10)}),era:Ml({matchPatterns:d7,defaultMatchWidth:"wide",parsePatterns:h7,defaultParseWidth:"any"}),quarter:Ml({matchPatterns:p7,defaultMatchWidth:"wide",parsePatterns:m7,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ml({matchPatterns:y7,defaultMatchWidth:"wide",parsePatterns:g7,defaultParseWidth:"any"}),day:Ml({matchPatterns:_7,defaultMatchWidth:"wide",parsePatterns:b7,defaultParseWidth:"any"}),dayPeriod:Ml({matchPatterns:v7,defaultMatchWidth:"any",parsePatterns:w7,defaultParseWidth:"any"})},nF={code:"en-US",formatDistance:W9,formatLong:Y9,formatRelative:X9,localize:o7,match:E7,options:{weekStartsOn:0,firstWeekContainsDate:1}};function S7(e,t){const r=St(e,t==null?void 0:t.in);return Qk(r,_h(r))+1}function CE(e,t){const r=St(e,t==null?void 0:t.in),n=+Du(r)-+B9(r);return Math.round(n/Gk)+1}function LE(e,t){var f,d,c,p;const r=St(e,t==null?void 0:t.in),n=r.getFullYear(),i=Ws(),a=(t==null?void 0:t.firstWeekContainsDate)??((d=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(c=i.locale)==null?void 0:c.options)==null?void 0:p.firstWeekContainsDate)??1,o=Xt((t==null?void 0:t.in)||e,0);o.setFullYear(n+1,0,a),o.setHours(0,0,0,0);const s=Vi(o,t),l=Xt((t==null?void 0:t.in)||e,0);l.setFullYear(n,0,a),l.setHours(0,0,0,0);const u=Vi(l,t);return+r>=+s?n+1:+r>=+u?n:n-1}function x7(e,t){var s,l,u,f;const r=Ws(),n=(t==null?void 0:t.firstWeekContainsDate)??((l=(s=t==null?void 0:t.locale)==null?void 0:s.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,i=LE(e,t),a=Xt((t==null?void 0:t.in)||e,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),Vi(a,t)}function ME(e,t){const r=St(e,t==null?void 0:t.in),n=+Vi(r,t)-+x7(r,t);return Math.round(n/Gk)+1}function Qt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const so={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Qt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Qt(r+1,2)},d(e,t){return Qt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Qt(e.getHours()%12||12,t.length)},H(e,t){return Qt(e.getHours(),t.length)},m(e,t){return Qt(e.getMinutes(),t.length)},s(e,t){return Qt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return Qt(i,t.length)}},uu={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},tR={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return so.y(e,t)},Y:function(e,t,r,n){const i=LE(e,n),a=i>0?i:1-i;if(t==="YY"){const o=a%100;return Qt(o,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):Qt(a,t.length)},R:function(e,t){const r=Yk(e);return Qt(r,t.length)},u:function(e,t){const r=e.getFullYear();return Qt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Qt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Qt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return so.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Qt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const i=ME(e,n);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):Qt(i,t.length)},I:function(e,t,r){const n=CE(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Qt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):so.d(e,t)},D:function(e,t,r){const n=S7(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Qt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Qt(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Qt(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return Qt(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let i;switch(n===12?i=uu.noon:n===0?i=uu.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let i;switch(n>=17?i=uu.evening:n>=12?i=uu.afternoon:n>=4?i=uu.morning:i=uu.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return so.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):so.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Qt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Qt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):so.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):so.s(e,t)},S:function(e,t){return so.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return nR(n);case"XXXX":case"XX":return Ss(n);case"XXXXX":case"XXX":default:return Ss(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return nR(n);case"xxxx":case"xx":return Ss(n);case"xxxxx":case"xxx":default:return Ss(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+rR(n,":");case"OOOO":default:return"GMT"+Ss(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+rR(n,":");case"zzzz":default:return"GMT"+Ss(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return Qt(n,t.length)},T:function(e,t,r){return Qt(+e,t.length)}};function rR(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),a=n%60;return a===0?r+String(i):r+String(i)+t+Qt(a,2)}function nR(e,t){return e%60===0?(e>0?"-":"+")+Qt(Math.abs(e)/60,2):Ss(e,t)}function Ss(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Qt(Math.trunc(n/60),2),a=Qt(n%60,2);return r+i+t+a}const iR=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},iF=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},T7=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return iR(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",iR(n,t)).replace("{{time}}",iF(i,t))},Bw={p:iF,P:T7},R7=/^D+$/,A7=/^Y+$/,I7=["D","DD","YY","YYYY"];function aF(e){return R7.test(e)}function oF(e){return A7.test(e)}function qw(e,t,r){const n=O7(e,t,r);if(console.warn(n),I7.includes(e))throw new RangeError(n)}function O7(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const P7=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,D7=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,N7=/^'([^]*?)'?$/,C7=/''/g,L7=/[a-zA-Z]/;function ga(e,t,r){var f,d,c,p,b,v,_,y;const n=Ws(),i=(r==null?void 0:r.locale)??n.locale??nF,a=(r==null?void 0:r.firstWeekContainsDate)??((d=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:d.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(c=n.locale)==null?void 0:c.options)==null?void 0:p.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((v=(b=r==null?void 0:r.locale)==null?void 0:b.options)==null?void 0:v.weekStartsOn)??n.weekStartsOn??((y=(_=n.locale)==null?void 0:_.options)==null?void 0:y.weekStartsOn)??0,s=St(e,r==null?void 0:r.in);if(!th(s))throw new RangeError("Invalid time value");let l=t.match(D7).map(m=>{const g=m[0];if(g==="p"||g==="P"){const E=Bw[g];return E(m,i.formatLong)}return m}).join("").match(P7).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const g=m[0];if(g==="'")return{isToken:!1,value:M7(m)};if(tR[g])return{isToken:!0,value:m};if(g.match(L7))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:m}});i.localize.preprocessor&&(l=i.localize.preprocessor(s,l));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return l.map(m=>{if(!m.isToken)return m.value;const g=m.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&oF(g)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&aF(g))&&qw(g,t,String(e));const E=tR[g[0]];return E(s,g,i.localize,u)}).join("")}function M7(e){const t=e.match(N7);return t?t[1].replace(C7,"'"):e}function k7(e,t){return St(e,t==null?void 0:t.in).getDay()}function F7(e,t){const r=St(e,t==null?void 0:t.in),n=r.getFullYear(),i=r.getMonth(),a=Xt(r,0);return a.setFullYear(n,i+1,0),a.setHours(0,0,0,0),a.getDate()}function j7(){return Object.assign({},Ws())}function Ga(e,t){return St(e,t==null?void 0:t.in).getHours()}function B7(e,t){const r=St(e,t==null?void 0:t.in).getDay();return r===0?7:r}function Co(e,t){return St(e,t==null?void 0:t.in).getMinutes()}function jt(e,t){return St(e,t==null?void 0:t.in).getMonth()}function Nu(e){return St(e).getSeconds()}function At(e,t){return St(e,t==null?void 0:t.in).getFullYear()}function js(e,t){return+St(e)>+St(t)}function Cu(e,t){return+St(e)<+St(t)}function vu(e,t){return+St(e)==+St(t)}function q7(e,t){const r=$7(t)?new t(0):Xt(t,0);return r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r}function $7(e){var t;return typeof e=="function"&&((t=e.prototype)==null?void 0:t.constructor)===e}const U7=10;class sF{constructor(){Ye(this,"subPriority",0)}validate(t,r){return!0}}class H7 extends sF{constructor(t,r,n,i,a){super(),this.value=t,this.validateValue=r,this.setValue=n,this.priority=i,a&&(this.subPriority=a)}validate(t,r){return this.validateValue(t,this.value,r)}set(t,r,n){return this.setValue(t,r,this.value,n)}}class V7 extends sF{constructor(r,n){super();Ye(this,"priority",U7);Ye(this,"subPriority",-1);this.context=r||(i=>Xt(n,i))}set(r,n){return n.timestampIsSet?r:Xt(r,q7(r,this.context))}}let Gt=class{run(t,r,n,i){const a=this.parse(t,r,n,i);return a?{setter:new H7(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(t,r,n){return!0}};class z7 extends Gt{constructor(){super(...arguments);Ye(this,"priority",140);Ye(this,"incompatibleTokens",["R","u","t","T"])}parse(r,n,i){switch(n){case"G":case"GG":case"GGG":return i.era(r,{width:"abbreviated"})||i.era(r,{width:"narrow"});case"GGGGG":return i.era(r,{width:"narrow"});case"GGGG":default:return i.era(r,{width:"wide"})||i.era(r,{width:"abbreviated"})||i.era(r,{width:"narrow"})}}set(r,n,i){return n.era=i,r.setFullYear(i,0,1),r.setHours(0,0,0,0),r}}const jr={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},fa={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Br(e,t){return e&&{value:t(e.value),rest:e.rest}}function wr(e,t){const r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function ca(e,t){const r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};const n=r[1]==="+"?1:-1,i=r[2]?parseInt(r[2],10):0,a=r[3]?parseInt(r[3],10):0,o=r[5]?parseInt(r[5],10):0;return{value:n*(i*Kk+a*L9+o*M9),rest:t.slice(r[0].length)}}function uF(e){return wr(jr.anyDigitsSigned,e)}function Ir(e,t){switch(e){case 1:return wr(jr.singleDigit,t);case 2:return wr(jr.twoDigits,t);case 3:return wr(jr.threeDigits,t);case 4:return wr(jr.fourDigits,t);default:return wr(new RegExp("^\\d{1,"+e+"}"),t)}}function V0(e,t){switch(e){case 1:return wr(jr.singleDigitSigned,t);case 2:return wr(jr.twoDigitsSigned,t);case 3:return wr(jr.threeDigitsSigned,t);case 4:return wr(jr.fourDigitsSigned,t);default:return wr(new RegExp("^-?\\d{1,"+e+"}"),t)}}function kE(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function lF(e,t){const r=t>0,n=r?t:1-t;let i;if(n<=50)i=e||100;else{const a=n+50,o=Math.trunc(a/100)*100,s=e>=a%100;i=e+o-(s?100:0)}return r?i:1-i}function fF(e){return e%400===0||e%4===0&&e%100!==0}class W7 extends Gt{constructor(){super(...arguments);Ye(this,"priority",130);Ye(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,n,i){const a=o=>({year:o,isTwoDigitYear:n==="yy"});switch(n){case"y":return Br(Ir(4,r),a);case"yo":return Br(i.ordinalNumber(r,{unit:"year"}),a);default:return Br(Ir(n.length,r),a)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,i){const a=r.getFullYear();if(i.isTwoDigitYear){const s=lF(i.year,a);return r.setFullYear(s,0,1),r.setHours(0,0,0,0),r}const o=!("era"in n)||n.era===1?i.year:1-i.year;return r.setFullYear(o,0,1),r.setHours(0,0,0,0),r}}class G7 extends Gt{constructor(){super(...arguments);Ye(this,"priority",130);Ye(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,n,i){const a=o=>({year:o,isTwoDigitYear:n==="YY"});switch(n){case"Y":return Br(Ir(4,r),a);case"Yo":return Br(i.ordinalNumber(r,{unit:"year"}),a);default:return Br(Ir(n.length,r),a)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,i,a){const o=LE(r,a);if(i.isTwoDigitYear){const l=lF(i.year,o);return r.setFullYear(l,0,a.firstWeekContainsDate),r.setHours(0,0,0,0),Vi(r,a)}const s=!("era"in n)||n.era===1?i.year:1-i.year;return r.setFullYear(s,0,a.firstWeekContainsDate),r.setHours(0,0,0,0),Vi(r,a)}}class K7 extends Gt{constructor(){super(...arguments);Ye(this,"priority",130);Ye(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,n){return V0(n==="R"?4:n.length,r)}set(r,n,i){const a=Xt(r,0);return a.setFullYear(i,0,4),a.setHours(0,0,0,0),Du(a)}}class Z7 extends Gt{constructor(){super(...arguments);Ye(this,"priority",130);Ye(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,n){return V0(n==="u"?4:n.length,r)}set(r,n,i){return r.setFullYear(i,0,1),r.setHours(0,0,0,0),r}}class Y7 extends Gt{constructor(){super(...arguments);Ye(this,"priority",120);Ye(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,i){switch(n){case"Q":case"QQ":return Ir(n.length,r);case"Qo":return i.ordinalNumber(r,{unit:"quarter"});case"QQQ":return i.quarter(r,{width:"abbreviated",context:"formatting"})||i.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(r,{width:"wide",context:"formatting"})||i.quarter(r,{width:"abbreviated",context:"formatting"})||i.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=1&&n<=4}set(r,n,i){return r.setMonth((i-1)*3,1),r.setHours(0,0,0,0),r}}class Q7 extends Gt{constructor(){super(...arguments);Ye(this,"priority",120);Ye(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,i){switch(n){case"q":case"qq":return Ir(n.length,r);case"qo":return i.ordinalNumber(r,{unit:"quarter"});case"qqq":return i.quarter(r,{width:"abbreviated",context:"standalone"})||i.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(r,{width:"wide",context:"standalone"})||i.quarter(r,{width:"abbreviated",context:"standalone"})||i.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=1&&n<=4}set(r,n,i){return r.setMonth((i-1)*3,1),r.setHours(0,0,0,0),r}}class X7 extends Gt{constructor(){super(...arguments);Ye(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Ye(this,"priority",110)}parse(r,n,i){const a=o=>o-1;switch(n){case"M":return Br(wr(jr.month,r),a);case"MM":return Br(Ir(2,r),a);case"Mo":return Br(i.ordinalNumber(r,{unit:"month"}),a);case"MMM":return i.month(r,{width:"abbreviated",context:"formatting"})||i.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(r,{width:"wide",context:"formatting"})||i.month(r,{width:"abbreviated",context:"formatting"})||i.month(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=11}set(r,n,i){return r.setMonth(i,1),r.setHours(0,0,0,0),r}}class J7 extends Gt{constructor(){super(...arguments);Ye(this,"priority",110);Ye(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,n,i){const a=o=>o-1;switch(n){case"L":return Br(wr(jr.month,r),a);case"LL":return Br(Ir(2,r),a);case"Lo":return Br(i.ordinalNumber(r,{unit:"month"}),a);case"LLL":return i.month(r,{width:"abbreviated",context:"standalone"})||i.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(r,{width:"wide",context:"standalone"})||i.month(r,{width:"abbreviated",context:"standalone"})||i.month(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=11}set(r,n,i){return r.setMonth(i,1),r.setHours(0,0,0,0),r}}function eU(e,t,r){const n=St(e,r==null?void 0:r.in),i=ME(n,r)-t;return n.setDate(n.getDate()-i*7),St(n,r==null?void 0:r.in)}class tU extends Gt{constructor(){super(...arguments);Ye(this,"priority",100);Ye(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,n,i){switch(n){case"w":return wr(jr.week,r);case"wo":return i.ordinalNumber(r,{unit:"week"});default:return Ir(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,i,a){return Vi(eU(r,i,a),a)}}function rU(e,t,r){const n=St(e,r==null?void 0:r.in),i=CE(n,r)-t;return n.setDate(n.getDate()-i*7),n}class nU extends Gt{constructor(){super(...arguments);Ye(this,"priority",100);Ye(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,n,i){switch(n){case"I":return wr(jr.week,r);case"Io":return i.ordinalNumber(r,{unit:"week"});default:return Ir(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,i){return Du(rU(r,i))}}const iU=[31,28,31,30,31,30,31,31,30,31,30,31],aU=[31,29,31,30,31,30,31,31,30,31,30,31];class oU extends Gt{constructor(){super(...arguments);Ye(this,"priority",90);Ye(this,"subPriority",1);Ye(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,n,i){switch(n){case"d":return wr(jr.date,r);case"do":return i.ordinalNumber(r,{unit:"date"});default:return Ir(n.length,r)}}validate(r,n){const i=r.getFullYear(),a=fF(i),o=r.getMonth();return a?n>=1&&n<=aU[o]:n>=1&&n<=iU[o]}set(r,n,i){return r.setDate(i),r.setHours(0,0,0,0),r}}class sU extends Gt{constructor(){super(...arguments);Ye(this,"priority",90);Ye(this,"subpriority",1);Ye(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,n,i){switch(n){case"D":case"DD":return wr(jr.dayOfYear,r);case"Do":return i.ordinalNumber(r,{unit:"date"});default:return Ir(n.length,r)}}validate(r,n){const i=r.getFullYear();return fF(i)?n>=1&&n<=366:n>=1&&n<=365}set(r,n,i){return r.setMonth(0,i),r.setHours(0,0,0,0),r}}function FE(e,t,r){var d,c,p,b;const n=Ws(),i=(r==null?void 0:r.weekStartsOn)??((c=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((b=(p=n.locale)==null?void 0:p.options)==null?void 0:b.weekStartsOn)??0,a=St(e,r==null?void 0:r.in),o=a.getDay(),l=(t%7+7)%7,u=7-i,f=t<0||t>6?t-(o+u)%7:(l+u)%7-(o+u)%7;return mi(a,f,r)}class uU extends Gt{constructor(){super(...arguments);Ye(this,"priority",90);Ye(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,n,i){switch(n){case"E":case"EE":case"EEE":return i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(r,{width:"wide",context:"formatting"})||i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,i,a){return r=FE(r,i,a),r.setHours(0,0,0,0),r}}class lU extends Gt{constructor(){super(...arguments);Ye(this,"priority",90);Ye(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,n,i,a){const o=s=>{const l=Math.floor((s-1)/7)*7;return(s+a.weekStartsOn+6)%7+l};switch(n){case"e":case"ee":return Br(Ir(n.length,r),o);case"eo":return Br(i.ordinalNumber(r,{unit:"day"}),o);case"eee":return i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"});case"eeeee":return i.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(r,{width:"wide",context:"formatting"})||i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,i,a){return r=FE(r,i,a),r.setHours(0,0,0,0),r}}class fU extends Gt{constructor(){super(...arguments);Ye(this,"priority",90);Ye(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,n,i,a){const o=s=>{const l=Math.floor((s-1)/7)*7;return(s+a.weekStartsOn+6)%7+l};switch(n){case"c":case"cc":return Br(Ir(n.length,r),o);case"co":return Br(i.ordinalNumber(r,{unit:"day"}),o);case"ccc":return i.day(r,{width:"abbreviated",context:"standalone"})||i.day(r,{width:"short",context:"standalone"})||i.day(r,{width:"narrow",context:"standalone"});case"ccccc":return i.day(r,{width:"narrow",context:"standalone"});case"cccccc":return i.day(r,{width:"short",context:"standalone"})||i.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(r,{width:"wide",context:"standalone"})||i.day(r,{width:"abbreviated",context:"standalone"})||i.day(r,{width:"short",context:"standalone"})||i.day(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=6}set(r,n,i,a){return r=FE(r,i,a),r.setHours(0,0,0,0),r}}function cU(e,t,r){const n=St(e,r==null?void 0:r.in),i=B7(n,r),a=t-i;return mi(n,a,r)}class dU extends Gt{constructor(){super(...arguments);Ye(this,"priority",90);Ye(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,n,i){const a=o=>o===0?7:o;switch(n){case"i":case"ii":return Ir(n.length,r);case"io":return i.ordinalNumber(r,{unit:"day"});case"iii":return Br(i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"}),a);case"iiiii":return Br(i.day(r,{width:"narrow",context:"formatting"}),a);case"iiiiii":return Br(i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"}),a);case"iiii":default:return Br(i.day(r,{width:"wide",context:"formatting"})||i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"}),a)}}validate(r,n){return n>=1&&n<=7}set(r,n,i){return r=cU(r,i),r.setHours(0,0,0,0),r}}class hU extends Gt{constructor(){super(...arguments);Ye(this,"priority",80);Ye(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,n,i){switch(n){case"a":case"aa":case"aaa":return i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(r,{width:"wide",context:"formatting"})||i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,i){return r.setHours(kE(i),0,0,0),r}}class pU extends Gt{constructor(){super(...arguments);Ye(this,"priority",80);Ye(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,n,i){switch(n){case"b":case"bb":case"bbb":return i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(r,{width:"wide",context:"formatting"})||i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,i){return r.setHours(kE(i),0,0,0),r}}class mU extends Gt{constructor(){super(...arguments);Ye(this,"priority",80);Ye(this,"incompatibleTokens",["a","b","t","T"])}parse(r,n,i){switch(n){case"B":case"BB":case"BBB":return i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(r,{width:"wide",context:"formatting"})||i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,i){return r.setHours(kE(i),0,0,0),r}}class yU extends Gt{constructor(){super(...arguments);Ye(this,"priority",70);Ye(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,n,i){switch(n){case"h":return wr(jr.hour12h,r);case"ho":return i.ordinalNumber(r,{unit:"hour"});default:return Ir(n.length,r)}}validate(r,n){return n>=1&&n<=12}set(r,n,i){const a=r.getHours()>=12;return a&&i<12?r.setHours(i+12,0,0,0):!a&&i===12?r.setHours(0,0,0,0):r.setHours(i,0,0,0),r}}class gU extends Gt{constructor(){super(...arguments);Ye(this,"priority",70);Ye(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,n,i){switch(n){case"H":return wr(jr.hour23h,r);case"Ho":return i.ordinalNumber(r,{unit:"hour"});default:return Ir(n.length,r)}}validate(r,n){return n>=0&&n<=23}set(r,n,i){return r.setHours(i,0,0,0),r}}class _U extends Gt{constructor(){super(...arguments);Ye(this,"priority",70);Ye(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,n,i){switch(n){case"K":return wr(jr.hour11h,r);case"Ko":return i.ordinalNumber(r,{unit:"hour"});default:return Ir(n.length,r)}}validate(r,n){return n>=0&&n<=11}set(r,n,i){return r.getHours()>=12&&i<12?r.setHours(i+12,0,0,0):r.setHours(i,0,0,0),r}}class bU extends Gt{constructor(){super(...arguments);Ye(this,"priority",70);Ye(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,n,i){switch(n){case"k":return wr(jr.hour24h,r);case"ko":return i.ordinalNumber(r,{unit:"hour"});default:return Ir(n.length,r)}}validate(r,n){return n>=1&&n<=24}set(r,n,i){const a=i<=24?i%24:i;return r.setHours(a,0,0,0),r}}class vU extends Gt{constructor(){super(...arguments);Ye(this,"priority",60);Ye(this,"incompatibleTokens",["t","T"])}parse(r,n,i){switch(n){case"m":return wr(jr.minute,r);case"mo":return i.ordinalNumber(r,{unit:"minute"});default:return Ir(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,i){return r.setMinutes(i,0,0),r}}class wU extends Gt{constructor(){super(...arguments);Ye(this,"priority",50);Ye(this,"incompatibleTokens",["t","T"])}parse(r,n,i){switch(n){case"s":return wr(jr.second,r);case"so":return i.ordinalNumber(r,{unit:"second"});default:return Ir(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,i){return r.setSeconds(i,0),r}}class EU extends Gt{constructor(){super(...arguments);Ye(this,"priority",30);Ye(this,"incompatibleTokens",["t","T"])}parse(r,n){const i=a=>Math.trunc(a*Math.pow(10,-n.length+3));return Br(Ir(n.length,r),i)}set(r,n,i){return r.setMilliseconds(i),r}}class SU extends Gt{constructor(){super(...arguments);Ye(this,"priority",10);Ye(this,"incompatibleTokens",["t","T","x"])}parse(r,n){switch(n){case"X":return ca(fa.basicOptionalMinutes,r);case"XX":return ca(fa.basic,r);case"XXXX":return ca(fa.basicOptionalSeconds,r);case"XXXXX":return ca(fa.extendedOptionalSeconds,r);case"XXX":default:return ca(fa.extended,r)}}set(r,n,i){return n.timestampIsSet?r:Xt(r,r.getTime()-H0(r)-i)}}class xU extends Gt{constructor(){super(...arguments);Ye(this,"priority",10);Ye(this,"incompatibleTokens",["t","T","X"])}parse(r,n){switch(n){case"x":return ca(fa.basicOptionalMinutes,r);case"xx":return ca(fa.basic,r);case"xxxx":return ca(fa.basicOptionalSeconds,r);case"xxxxx":return ca(fa.extendedOptionalSeconds,r);case"xxx":default:return ca(fa.extended,r)}}set(r,n,i){return n.timestampIsSet?r:Xt(r,r.getTime()-H0(r)-i)}}class TU extends Gt{constructor(){super(...arguments);Ye(this,"priority",40);Ye(this,"incompatibleTokens","*")}parse(r){return uF(r)}set(r,n,i){return[Xt(r,i*1e3),{timestampIsSet:!0}]}}class RU extends Gt{constructor(){super(...arguments);Ye(this,"priority",20);Ye(this,"incompatibleTokens","*")}parse(r){return uF(r)}set(r,n,i){return[Xt(r,i),{timestampIsSet:!0}]}}const AU={G:new z7,y:new W7,Y:new G7,R:new K7,u:new Z7,Q:new Y7,q:new Q7,M:new X7,L:new J7,w:new tU,I:new nU,d:new oU,D:new sU,E:new uU,e:new lU,c:new fU,i:new dU,a:new hU,b:new pU,B:new mU,h:new yU,H:new gU,K:new _U,k:new bU,m:new vU,s:new wU,S:new EU,X:new SU,x:new xU,t:new TU,T:new RU},IU=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,OU=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,PU=/^'([^]*?)'?$/,DU=/''/g,NU=/\S/,CU=/[a-zA-Z]/;function $w(e,t,r,n){var _,y,m,g,E,T,I,D;const i=()=>Xt((n==null?void 0:n.in)||r,NaN),a=j7(),o=(n==null?void 0:n.locale)??a.locale??nF,s=(n==null?void 0:n.firstWeekContainsDate)??((y=(_=n==null?void 0:n.locale)==null?void 0:_.options)==null?void 0:y.firstWeekContainsDate)??a.firstWeekContainsDate??((g=(m=a.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??1,l=(n==null?void 0:n.weekStartsOn)??((T=(E=n==null?void 0:n.locale)==null?void 0:E.options)==null?void 0:T.weekStartsOn)??a.weekStartsOn??((D=(I=a.locale)==null?void 0:I.options)==null?void 0:D.weekStartsOn)??0;if(!t)return e?i():St(r,n==null?void 0:n.in);const u={firstWeekContainsDate:s,weekStartsOn:l,locale:o},f=[new V7(n==null?void 0:n.in,r)],d=t.match(OU).map(B=>{const N=B[0];if(N in Bw){const M=Bw[N];return M(B,o.formatLong)}return B}).join("").match(IU),c=[];for(let B of d){!(n!=null&&n.useAdditionalWeekYearTokens)&&oF(B)&&qw(B,t,e),!(n!=null&&n.useAdditionalDayOfYearTokens)&&aF(B)&&qw(B,t,e);const N=B[0],M=AU[N];if(M){const{incompatibleTokens:j}=M;if(Array.isArray(j)){const q=c.find(Q=>j.includes(Q.token)||Q.token===N);if(q)throw new RangeError(`The format string mustn't contain \`${q.fullToken}\` and \`${B}\` at the same time`)}else if(M.incompatibleTokens==="*"&&c.length>0)throw new RangeError(`The format string mustn't contain \`${B}\` and any other token at the same time`);c.push({token:N,fullToken:B});const O=M.run(e,B,o.match,u);if(!O)return i();f.push(O.setter),e=O.rest}else{if(N.match(CU))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");if(B==="''"?B="'":N==="'"&&(B=LU(B)),e.indexOf(B)===0)e=e.slice(B.length);else return i()}}if(e.length>0&&NU.test(e))return i();const p=f.map(B=>B.priority).sort((B,N)=>N-B).filter((B,N,M)=>M.indexOf(B)===N).map(B=>f.filter(N=>N.priority===B).sort((N,M)=>M.subPriority-N.subPriority)).map(B=>B[0]);let b=St(r,n==null?void 0:n.in);if(isNaN(+b))return i();const v={};for(const B of p){if(!B.validate(b,u))return i();const N=B.set(b,v,u);Array.isArray(N)?(b=N[0],Object.assign(v,N[1])):b=N}return b}function LU(e){return e.match(PU)[1].replace(DU,"'")}function aR(e,t,r){const[n,i]=Mh(r==null?void 0:r.in,e,t);return+Ds(n)==+Ds(i)}function cF(e,t,r){return mi(e,-t,r)}function dF(e,t,r){const n=St(e,r==null?void 0:r.in),i=n.getFullYear(),a=n.getDate(),o=Xt(e,0);o.setFullYear(i,t,15),o.setHours(0,0,0,0);const s=F7(o);return n.setMonth(t,Math.min(a,s)),n}function nr(e,t,r){let n=St(e,r==null?void 0:r.in);return isNaN(+n)?Xt(e,NaN):(t.year!=null&&n.setFullYear(t.year),t.month!=null&&(n=dF(n,t.month)),t.date!=null&&n.setDate(t.date),t.hours!=null&&n.setHours(t.hours),t.minutes!=null&&n.setMinutes(t.minutes),t.seconds!=null&&n.setSeconds(t.seconds),t.milliseconds!=null&&n.setMilliseconds(t.milliseconds),n)}function MU(e,t,r){const n=St(e,r==null?void 0:r.in);return n.setHours(t),n}function hF(e,t,r){const n=St(e,r==null?void 0:r.in);return n.setMilliseconds(t),n}function kU(e,t,r){const n=St(e,r==null?void 0:r.in);return n.setMinutes(t),n}function pF(e,t,r){const n=St(e,r==null?void 0:r.in);return n.setSeconds(t),n}function ma(e,t,r){const n=St(e,r==null?void 0:r.in);return isNaN(+n)?Xt(e,NaN):(n.setFullYear(t),n)}function Lu(e,t,r){return Ui(e,-t,r)}function FU(e,t,r){const{years:n=0,months:i=0,weeks:a=0,days:o=0,hours:s=0,minutes:l=0,seconds:u=0}=t,f=Lu(e,i+n*12,r),d=cF(f,o+a*7,r),c=l+s*60,b=(u+c*60)*1e3;return Xt(e,+d-b)}function mF(e,t,r){return NE(e,-t,r)}function Ju(){const e=ek();return Ke(),Je("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img",...e},[_t("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),_t("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),_t("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),_t("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}Ju.compatConfig={MODE:3};function yF(){return Ke(),Je("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[_t("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),_t("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}yF.compatConfig={MODE:3};function jE(){return Ke(),Je("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[_t("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}jE.compatConfig={MODE:3};function BE(){return Ke(),Je("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[_t("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}BE.compatConfig={MODE:3};function qE(){return Ke(),Je("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[_t("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),_t("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}qE.compatConfig={MODE:3};function $E(){return Ke(),Je("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[_t("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}$E.compatConfig={MODE:3};function UE(){return Ke(),Je("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[_t("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}UE.compatConfig={MODE:3};const Wn=(e,t)=>t?new Date(e.toLocaleString("en-US",{timeZone:t})):new Date(e),HE=(e,t,r)=>Uw(e,t,r)||st(),jU=(e,t,r)=>{const n=t.dateInTz?Wn(new Date(e),t.dateInTz):st(e);return r?hn(n,!0):n},Uw=(e,t,r)=>{if(!e)return null;const n=r?hn(st(e),!0):st(e);return t?t.exactMatch?jU(e,t,r):Wn(n,t.timezone):n},BU=e=>{const t=new Date(e.getFullYear(),0,1).getTimezoneOffset();return e.getTimezoneOffset()<t},qU=(e,t)=>{if(!e)return 0;const r=new Date,n=new Date(r.toLocaleString("en-US",{timeZone:"UTC"})),i=new Date(r.toLocaleString("en-US",{timeZone:e})),a=(BU(t??i)?i:t??i).getTimezoneOffset()/60;return(+n-+i)/(1e3*60*60)-a};var ki=(e=>(e.month="month",e.year="year",e))(ki||{}),Fi=(e=>(e.top="top",e.bottom="bottom",e))(Fi||{}),Ms=(e=>(e.header="header",e.calendar="calendar",e.timePicker="timePicker",e))(Ms||{}),gn=(e=>(e.month="month",e.year="year",e.calendar="calendar",e.time="time",e.minutes="minutes",e.hours="hours",e.seconds="seconds",e))(gn||{});const $U=["timestamp","date","iso"];var In=(e=>(e.up="up",e.down="down",e.left="left",e.right="right",e))(In||{}),cr=(e=>(e.arrowUp="ArrowUp",e.arrowDown="ArrowDown",e.arrowLeft="ArrowLeft",e.arrowRight="ArrowRight",e.enter="Enter",e.space=" ",e.esc="Escape",e.tab="Tab",e.home="Home",e.end="End",e.pageUp="PageUp",e.pageDown="PageDown",e))(cr||{}),Au=(e=>(e.MONTH_AND_YEAR="MM-yyyy",e.YEAR="yyyy",e.DATE="dd-MM-yyyy",e))(Au||{});function oR(e){return t=>new Intl.DateTimeFormat(e,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${t}T00:00:00+00:00`)).slice(0,2)}function UU(e){return t=>ga(Wn(new Date(`2017-01-0${t}T00:00:00+00:00`),"UTC"),"EEEEEE",{locale:e})}const HU=(e,t,r)=>{const n=[1,2,3,4,5,6,7];let i;if(e!==null)try{i=n.map(UU(e))}catch{i=n.map(oR(t))}else i=n.map(oR(t));const a=i.slice(0,r),o=i.slice(r+1,i.length);return[i[r]].concat(...o).concat(...a)},VE=(e,t,r)=>{const n=[];for(let i=+e[0];i<=+e[1];i++)n.push({value:+i,text:vF(i,t)});return r?n.reverse():n},gF=(e,t,r)=>{const n=[1,2,3,4,5,6,7,8,9,10,11,12].map(a=>{const o=a<10?`0${a}`:a;return new Date(`2017-${o}-01T00:00:00+00:00`)});if(e!==null)try{const a=r==="long"?"LLLL":"LLL";return n.map((o,s)=>{const l=ga(Wn(o,"UTC"),a,{locale:e});return{text:l.charAt(0).toUpperCase()+l.substring(1),value:s}})}catch{}const i=new Intl.DateTimeFormat(t,{month:r,timeZone:"UTC"});return n.map((a,o)=>{const s=i.format(a);return{text:s.charAt(0).toUpperCase()+s.substring(1),value:o}})},VU=e=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][e],Yr=e=>{const t=Fe(e);return t!=null&&t.$el?t==null?void 0:t.$el:t},zU=e=>({type:"dot",...e??{}}),_F=e=>Array.isArray(e)?!!e[0]&&!!e[1]:!1,zE={prop:e=>`"${e}" prop must be enabled!`,dateArr:e=>`You need to use array as "model-value" binding in order to support "${e}"`},tn=e=>e,sR=e=>e===0?e:!e||isNaN(+e)?null:+e,uR=e=>e===null,bF=e=>{if(e)return[...e.querySelectorAll("input, button, select, textarea, a[href]")][0]},WU=e=>{const t=[],r=n=>n.filter(i=>i);for(let n=0;n<e.length;n+=3){const i=[e[n],e[n+1],e[n+2]];t.push(r(i))}return t},bh=(e,t,r)=>{const n=r!=null,i=t!=null;if(!n&&!i)return!1;const a=+r,o=+t;return n&&i?+e>a||+e<o:n?+e>a:i?+e<o:!1},Mu=(e,t)=>WU(e).map(r=>r.map(n=>{const{active:i,disabled:a,isBetween:o,highlighted:s}=t(n);return{...n,active:i,disabled:a,className:{dp__overlay_cell_active:i,dp__overlay_cell:!i,dp__overlay_cell_disabled:a,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:a&&i,dp__cell_in_between:o,"dp--highlighted":s}}})),Oo=(e,t,r=!1)=>{e&&t.allowStopPropagation&&(r&&e.stopImmediatePropagation(),e.stopPropagation())},GU=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function KU(e,t){let r=[...document.querySelectorAll(GU())];r=r.filter(i=>!e.contains(i)||i.hasAttribute("data-datepicker-instance"));const n=r.indexOf(e);if(n>=0&&(t?n-1>=0:n+1<=r.length))return r[n+(t?-1:1)]}const Hw=(e,t)=>e==null?void 0:e.querySelector(`[data-dp-element="${t}"]`),vF=(e,t)=>new Intl.NumberFormat(t,{useGrouping:!1,style:"decimal"}).format(e),WE=(e,t)=>ga(e,t??Au.DATE),Ly=e=>Array.isArray(e),z0=(e,t,r)=>t.get(WE(e,r)),ZU=(e,t)=>e?t?t instanceof Map?!!z0(e,t):t(st(e)):!1:!0,Mn=(e,t,r=!1,n)=>{if(e.key===cr.enter||e.key===cr.space)return r&&e.preventDefault(),t();if(n)return n(e)},YU=()=>"ontouchstart"in window||navigator.maxTouchPoints>0,QU=(e,t)=>e?Au.MONTH_AND_YEAR:t?Au.YEAR:Au.DATE,wF=e=>e<10?`0${e}`:e,lR=(e,t,r,n,i,a)=>{const o=$w(e,t.slice(0,e.length),new Date,{locale:a});return th(o)&&Xk(o)?n||i?o:nr(o,{hours:+r.hours,minutes:+(r==null?void 0:r.minutes),seconds:+(r==null?void 0:r.seconds),milliseconds:0}):null},XU=(e,t,r,n,i,a)=>{const o=Array.isArray(r)?r[0]:r;if(typeof t=="string")return lR(e,t,o,n,i,a);if(Array.isArray(t)){let s=null;for(const l of t)if(s=lR(e,l,o,n,i,a),s)break;return s}return typeof t=="function"?t(e):null},st=e=>e?new Date(e):new Date,JU=(e,t,r)=>{if(t){const i=(e.getMonth()+1).toString().padStart(2,"0"),a=e.getDate().toString().padStart(2,"0"),o=e.getHours().toString().padStart(2,"0"),s=e.getMinutes().toString().padStart(2,"0"),l=r?e.getSeconds().toString().padStart(2,"0"):"00";return`${e.getFullYear()}-${i}-${a}T${o}:${s}:${l}.000Z`}const n=Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds());return new Date(n).toISOString()},hn=(e,t)=>{const r=st(JSON.parse(JSON.stringify(e))),n=nr(r,{hours:0,minutes:0,seconds:0,milliseconds:0});return t?V9(n):n},Po=(e,t,r,n)=>{let i=e?st(e):st();return(t||t===0)&&(i=MU(i,+t)),(r||r===0)&&(i=kU(i,+r)),(n||n===0)&&(i=pF(i,+n)),hF(i,0)},Rr=(e,t)=>!e||!t?!1:Cu(hn(e),hn(t)),Bt=(e,t)=>!e||!t?!1:vu(hn(e),hn(t)),Mr=(e,t)=>!e||!t?!1:js(hn(e),hn(t)),vh=(e,t,r)=>e!=null&&e[0]&&e!=null&&e[1]?Mr(r,e[0])&&Rr(r,e[1]):e!=null&&e[0]&&t?Mr(r,e[0])&&Rr(r,t)||Rr(r,e[0])&&Mr(r,t):!1,ji=e=>{const t=nr(new Date(e),{date:1});return hn(t)},My=(e,t,r)=>t&&(r||r===0)?Object.fromEntries(["hours","minutes","seconds"].map(n=>n===t?[n,r]:[n,isNaN(+e[n])?void 0:+e[n]])):{hours:isNaN(+e.hours)?void 0:+e.hours,minutes:isNaN(+e.minutes)?void 0:+e.minutes,seconds:isNaN(+e.seconds)?void 0:+e.seconds},ks=e=>({hours:Ga(e),minutes:Co(e),seconds:Nu(e)}),EF=(e,t)=>{if(t){const r=At(st(t));if(r>e)return 12;if(r===e)return jt(st(t))}},SF=(e,t)=>{if(t){const r=At(st(t));return r<e?-1:r===e?jt(st(t)):void 0}},ku=e=>{if(e)return At(st(e))},xF=(e,t)=>{const r=Mr(e,t)?t:e,n=Mr(t,e)?t:e;return eF({start:r,end:n})},eH=e=>{const t=Ui(e,1);return{month:jt(t),year:At(t)}},qa=(e,t)=>{const r=Vi(e,{weekStartsOn:+t}),n=rF(e,{weekStartsOn:+t});return[r,n]},TF=(e,t)=>{const r={hours:Ga(st()),minutes:Co(st()),seconds:t?Nu(st()):0};return Object.assign(r,e)},To=(e,t,r)=>[nr(st(e),{date:1}),nr(st(),{month:t,year:r,date:1})],Ha=(e,t,r)=>{let n=e?st(e):st();return(t||t===0)&&(n=dF(n,t)),r&&(n=ma(n,r)),n},RF=(e,t,r,n,i)=>{if(!n||i&&!t||!i&&!r)return!1;const a=i?Ui(e,1):Lu(e,1),o=[jt(a),At(a)];return i?!rH(...o,t):!tH(...o,r)},tH=(e,t,r)=>Rr(...To(r,e,t))||Bt(...To(r,e,t)),rH=(e,t,r)=>Mr(...To(r,e,t))||Bt(...To(r,e,t)),AF=(e,t,r,n,i,a,o)=>{if(typeof t=="function"&&!o)return t(e);const s=r?{locale:r}:void 0;return Array.isArray(e)?`${ga(e[0],a,s)}${i&&!e[1]?"":n}${e[1]?ga(e[1],a,s):""}`:ga(e,a,s)},lu=e=>{if(e)return null;throw new Error(zE.prop("partial-range"))},Cp=(e,t)=>{if(t)return e();throw new Error(zE.prop("range"))},Vw=e=>Array.isArray(e)?th(e[0])&&(e[1]?th(e[1]):!0):e?th(e):!1,nH=(e,t)=>nr(t??st(),{hours:+e.hours||0,minutes:+e.minutes||0,seconds:+e.seconds||0}),ky=(e,t,r,n)=>{if(!e)return!0;if(n){const i=r==="max"?Cu(e,t):js(e,t),a={seconds:0,milliseconds:0};return i||vu(nr(e,a),nr(t,a))}return r==="max"?e.getTime()<=t.getTime():e.getTime()>=t.getTime()},Fy=(e,t,r)=>e?nH(e,t):st(r??t),fR=(e,t,r,n,i)=>{if(Array.isArray(n)){const o=Fy(e,n[0],t),s=Fy(e,n[1],t);return ky(n[0],o,r,!!t)&&ky(n[1],s,r,!!t)&&i}const a=Fy(e,n,t);return ky(n,a,r,!!t)&&i},jy=e=>nr(st(),ks(e)),iH=(e,t,r)=>{if(e instanceof Map){const n=`${wF(r+1)}-${t}`;return e.size?e.has(n):!1}return!1},aH=(e,t,r)=>{if(e instanceof Map){const n=`${wF(r+1)}-${t}`;return e.size?e.has(n):!0}return!0},IF=(e,t,r)=>typeof e=="function"?e({month:t,year:r}):!!e.months.find(n=>n.month===t&&n.year===r),GE=(e,t)=>typeof e=="function"?e(t):e.years.includes(t),zw=e=>`dp-${ga(e,"yyyy-MM-dd")}`,cR=(e,t)=>{const r=cF(hn(t),e),n=mi(hn(t),e);return{before:r,after:n}},kl=Qa({menuFocused:!1,shiftKeyInMenu:!1}),OF=()=>{const e=r=>{kl.menuFocused=r},t=r=>{kl.shiftKeyInMenu!==r&&(kl.shiftKeyInMenu=r)};return{control:tt(()=>({shiftKeyInMenu:kl.shiftKeyInMenu,menuFocused:kl.menuFocused})),setMenuFocused:e,setShiftKey:t}},fr=Qa({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),By=et(null),Lp=et(!1),qy=et(!1),$y=et(!1),Uy=et(!1),pn=et(0),Cr=et(0),Uo=()=>{const e=tt(()=>Lp.value?[...fr.selectionGrid,fr.actionRow].filter(d=>d.length):qy.value?[...fr.timePicker[0],...fr.timePicker[1],Uy.value?[]:[By.value],fr.actionRow].filter(d=>d.length):$y.value?[...fr.monthPicker,fr.actionRow]:[fr.monthYear,...fr.calendar,fr.time,fr.actionRow].filter(d=>d.length)),t=d=>{pn.value=d?pn.value+1:pn.value-1;let c=null;e.value[Cr.value]&&(c=e.value[Cr.value][pn.value]),!c&&e.value[Cr.value+(d?1:-1)]?(Cr.value=Cr.value+(d?1:-1),pn.value=d?0:e.value[Cr.value].length-1):c||(pn.value=d?pn.value-1:pn.value+1)},r=d=>{Cr.value===0&&!d||Cr.value===e.value.length&&d||(Cr.value=d?Cr.value+1:Cr.value-1,e.value[Cr.value]?e.value[Cr.value]&&!e.value[Cr.value][pn.value]&&pn.value!==0&&(pn.value=e.value[Cr.value].length-1):Cr.value=d?Cr.value-1:Cr.value+1)},n=d=>{let c=null;e.value[Cr.value]&&(c=e.value[Cr.value][pn.value]),c?c.focus({preventScroll:!Lp.value}):pn.value=d?pn.value-1:pn.value+1},i=()=>{t(!0),n(!0)},a=()=>{t(!1),n(!1)},o=()=>{r(!1),n(!0)},s=()=>{r(!0),n(!0)},l=(d,c)=>{fr[c]=d},u=(d,c)=>{fr[c]=d},f=()=>{pn.value=0,Cr.value=0};return{buildMatrix:l,buildMultiLevelMatrix:u,setTimePickerBackRef:d=>{By.value=d},setSelectionGrid:d=>{Lp.value=d,f(),d||(fr.selectionGrid=[])},setTimePicker:(d,c=!1)=>{qy.value=d,Uy.value=c,f(),d||(fr.timePicker[0]=[],fr.timePicker[1]=[])},setTimePickerElements:(d,c=0)=>{fr.timePicker[c]=d},arrowRight:i,arrowLeft:a,arrowUp:o,arrowDown:s,clearArrowNav:()=>{fr.monthYear=[],fr.calendar=[],fr.time=[],fr.actionRow=[],fr.selectionGrid=[],fr.timePicker[0]=[],fr.timePicker[1]=[],Lp.value=!1,qy.value=!1,Uy.value=!1,$y.value=!1,f(),By.value=null},setMonthPicker:d=>{$y.value=d,f()},refSets:fr}},dR=e=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...e??{}}),oH=e=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:t=>`Increment ${t}`,decrementValue:t=>`Decrement ${t}`,openTpOverlay:t=>`Open ${t} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:void 0,weekDay:void 0,clearInput:"Clear value",calendarIcon:"Calendar icon",timePicker:"Time picker",monthPicker:t=>`Month picker${t?" overlay":""}`,yearPicker:t=>`Year picker${t?" overlay":""}`,timeOverlay:t=>`${t} overlay`,...e??{}}),hR=e=>e?typeof e=="boolean"?e?2:0:+e>=2?+e:2:0,sH=e=>{const t=typeof e=="object"&&e,r={static:!0,solo:!1};if(!e)return{...r,count:hR(!1)};const n=t?e:{},i=t?n.count??!0:e,a=hR(i);return Object.assign(r,n,{count:a})},uH=(e,t,r)=>e||(typeof r=="string"?r:t),lH=e=>typeof e=="boolean"?e?dR({}):!1:dR(e),fH=e=>{const t={enterSubmit:!0,tabSubmit:!0,openMenu:"open",selectOnFocus:!1,rangeSeparator:" - ",escClose:!0};return typeof e=="object"?{...t,...e??{},enabled:!0}:{...t,enabled:e}},cH=e=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...e??{}}),dH=e=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...e??{}}),hH=e=>{const t={input:!1};return typeof e=="object"?{...t,...e??{},enabled:!0}:{enabled:e,...t}},pH=e=>({allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,arrowLeft:void 0,keepViewOnOffsetClick:!1,timeArrowHoldThreshold:0,shadowDom:!1,mobileBreakpoint:600,setDateOnMenuClose:!1,...e??{}}),mH=e=>{const t={dates:Array.isArray(e)?e.map(r=>st(r)):[],years:[],months:[],quarters:[],weeks:[],weekdays:[],options:{highlightDisabled:!1}};return typeof e=="function"?e:{...t,...e??{}}},yH=e=>typeof e=="object"?{type:(e==null?void 0:e.type)??"local",hideOnOffsetDates:(e==null?void 0:e.hideOnOffsetDates)??!1}:{type:e,hideOnOffsetDates:!1},gH=e=>{const t={noDisabledRange:!1,showLastInRange:!0,minMaxRawRange:!1,partialRange:!0,disableTimeRangeValidation:!1,maxRange:void 0,minRange:void 0,autoRange:void 0,fixedStart:!1,fixedEnd:!1};return typeof e=="object"?{enabled:!0,...t,...e}:{enabled:e,...t}},_H=e=>e?typeof e=="string"?{timezone:e,exactMatch:!1,dateInTz:void 0,emitTimezone:void 0,convertModel:!0}:{timezone:e.timezone,exactMatch:e.exactMatch??!1,dateInTz:e.dateInTz??void 0,emitTimezone:e.emitTimezone??void 0,convertModel:e.convertModel??!0}:{timezone:void 0,exactMatch:!1,emitTimezone:void 0},Hy=(e,t,r,n)=>new Map(e.map(i=>{const a=HE(i,t,n);return[WE(a,r),a]})),bH=(e,t)=>e.length?new Map(e.map(r=>{const n=HE(r.date,t);return[WE(n,Au.DATE),r]})):null,vH=e=>{var t;const r=QU(e.isMonthPicker,e.isYearPicker);return{minDate:Uw(e.minDate,e.timezone,e.isSpecific),maxDate:Uw(e.maxDate,e.timezone,e.isSpecific),disabledDates:Ly(e.disabledDates)?Hy(e.disabledDates,e.timezone,r,e.isSpecific):e.disabledDates,allowedDates:Ly(e.allowedDates)?Hy(e.allowedDates,e.timezone,r,e.isSpecific):null,highlight:typeof e.highlight=="object"&&Ly((t=e.highlight)==null?void 0:t.dates)?Hy(e.highlight.dates,e.timezone,r):e.highlight,markers:bH(e.markers,e.timezone)}},wH=e=>typeof e=="boolean"?{enabled:e,dragSelect:!0,limit:null}:{enabled:!!e,limit:e.limit?+e.limit:null,dragSelect:e.dragSelect??!0},EH=e=>({...Object.fromEntries(Object.keys(e).map(t=>{const r=t,n=e[r],i=typeof e[r]=="string"?{[n]:!0}:Object.fromEntries(n.map(a=>[a,!0]));return[t,i]}))}),br=e=>{const t=()=>{const I=e.enableSeconds?":ss":"",D=e.enableMinutes?":mm":"";return e.is24?`HH${D}${I}`:`hh${D}${I} aa`},r=()=>{var I;return e.format?e.format:e.monthPicker?"MM/yyyy":e.timePicker?t():e.weekPicker?`${((I=_.value)==null?void 0:I.type)==="iso"?"II":"ww"}-RR`:e.yearPicker?"yyyy":e.quarterPicker?"QQQ/yyyy":e.enableTimePicker?`MM/dd/yyyy, ${t()}`:"MM/dd/yyyy"},n=I=>TF(I,e.enableSeconds),i=()=>E.value.enabled?e.startTime&&Array.isArray(e.startTime)?[n(e.startTime[0]),n(e.startTime[1])]:null:e.startTime&&!Array.isArray(e.startTime)?n(e.startTime):null,a=tt(()=>sH(e.multiCalendars)),o=tt(()=>i()),s=tt(()=>oH(e.ariaLabels)),l=tt(()=>cH(e.filters)),u=tt(()=>lH(e.transitions)),f=tt(()=>dH(e.actionRow)),d=tt(()=>uH(e.previewFormat,e.format,r())),c=tt(()=>fH(e.textInput)),p=tt(()=>hH(e.inline)),b=tt(()=>pH(e.config)),v=tt(()=>mH(e.highlight)),_=tt(()=>yH(e.weekNumbers)),y=tt(()=>_H(e.timezone)),m=tt(()=>wH(e.multiDates)),g=tt(()=>vH({minDate:e.minDate,maxDate:e.maxDate,disabledDates:e.disabledDates,allowedDates:e.allowedDates,highlight:v.value,markers:e.markers,timezone:y.value,isSpecific:e.monthPicker||e.yearPicker||e.quarterPicker,isMonthPicker:e.monthPicker,isYearPicker:e.yearPicker})),E=tt(()=>gH(e.range)),T=tt(()=>EH(e.ui));return{defaultedTransitions:u,defaultedMultiCalendars:a,defaultedStartTime:o,defaultedAriaLabels:s,defaultedFilters:l,defaultedActionRow:f,defaultedPreviewFormat:d,defaultedTextInput:c,defaultedInline:p,defaultedConfig:b,defaultedHighlight:v,defaultedWeekNumbers:_,defaultedRange:E,propDates:g,defaultedTz:y,defaultedMultiDates:m,defaultedUI:T,getDefaultPattern:r,getDefaultStartTime:i}},SH=(e,t,r)=>{const n=et(),{defaultedTextInput:i,defaultedRange:a,defaultedTz:o,defaultedMultiDates:s,getDefaultPattern:l}=br(t),u=et(""),f=fh(t,"format"),d=fh(t,"formatLocale");Xr(n,()=>{typeof t.onInternalModelChange=="function"&&e("internal-model-change",n.value,P(!0))},{deep:!0}),Xr(a,(A,$)=>{A.enabled!==$.enabled&&(n.value=null)}),Xr(f,()=>{ae()});const c=A=>o.value.timezone&&o.value.convertModel?Wn(A,o.value.timezone):A,p=A=>{if(o.value.timezone&&o.value.convertModel){const $=qU(o.value.timezone,A);return F9(A,$)}return A},b=(A,$,te=!1)=>AF(A,t.format,t.formatLocale,i.value.rangeSeparator,t.modelAuto,$??l(),te),v=A=>A?t.modelType?V(A):{hours:Ga(A),minutes:Co(A),seconds:t.enableSeconds?Nu(A):0}:null,_=A=>t.modelType?V(A):{month:jt(A),year:At(A)},y=A=>Array.isArray(A)?s.value.enabled?A.map($=>m($,ma(st(),$))):Cp(()=>[ma(st(),A[0]),A[1]?ma(st(),A[1]):lu(a.value.partialRange)],a.value.enabled):ma(st(),+A),m=(A,$)=>(typeof A=="string"||typeof A=="number")&&t.modelType?ne(A):$,g=A=>Array.isArray(A)?[m(A[0],Po(null,+A[0].hours,+A[0].minutes,A[0].seconds)),m(A[1],Po(null,+A[1].hours,+A[1].minutes,A[1].seconds))]:m(A,Po(null,A.hours,A.minutes,A.seconds)),E=A=>{const $=nr(st(),{date:1});return Array.isArray(A)?s.value.enabled?A.map(te=>m(te,Ha($,+te.month,+te.year))):Cp(()=>[m(A[0],Ha($,+A[0].month,+A[0].year)),m(A[1],A[1]?Ha($,+A[1].month,+A[1].year):lu(a.value.partialRange))],a.value.enabled):m(A,Ha($,+A.month,+A.year))},T=A=>{if(Array.isArray(A))return A.map($=>ne($));throw new Error(zE.dateArr("multi-dates"))},I=A=>{if(Array.isArray(A)&&a.value.enabled){const $=A[0],te=A[1];return[st(Array.isArray($)?$[0]:null),Array.isArray(te)&&te.length?st(te[0]):null]}return st(A[0])},D=A=>t.modelAuto?Array.isArray(A)?[ne(A[0]),ne(A[1])]:t.autoApply?[ne(A)]:[ne(A),null]:Array.isArray(A)?Cp(()=>A[1]?[ne(A[0]),A[1]?ne(A[1]):lu(a.value.partialRange)]:[ne(A[0])],a.value.enabled):ne(A),B=()=>{Array.isArray(n.value)&&a.value.enabled&&n.value.length===1&&n.value.push(lu(a.value.partialRange))},N=()=>{const A=n.value;return[V(A[0]),A[1]?V(A[1]):lu(a.value.partialRange)]},M=()=>n.value[1]?N():V(tn(n.value[0])),j=()=>(n.value||[]).map(A=>V(A)),O=(A=!1)=>(A||B(),t.modelAuto?M():s.value.enabled?j():Array.isArray(n.value)?Cp(()=>N(),a.value.enabled):V(tn(n.value))),q=A=>!A||Array.isArray(A)&&!A.length?null:t.timePicker?g(tn(A)):t.monthPicker?E(tn(A)):t.yearPicker?y(tn(A)):s.value.enabled?T(tn(A)):t.weekPicker?I(tn(A)):D(tn(A)),Q=A=>{const $=q(A);Vw(tn($))?(n.value=tn($),ae()):(n.value=null,u.value="")},ie=()=>{const A=$=>ga($,i.value.format);return`${A(n.value[0])} ${i.value.rangeSeparator} ${n.value[1]?A(n.value[1]):""}`},X=()=>r.value&&n.value?Array.isArray(n.value)?ie():ga(n.value,i.value.format):b(n.value),le=()=>n.value?s.value.enabled?n.value.map(A=>b(A)).join("; "):i.value.enabled&&typeof i.value.format=="string"?X():b(n.value):"",ae=()=>{!t.format||typeof t.format=="string"||i.value.enabled&&typeof i.value.format=="string"?u.value=le():u.value=t.format(n.value)},ne=A=>{if(t.utc){const $=new Date(A);return t.utc==="preserve"?new Date($.getTime()+$.getTimezoneOffset()*6e4):$}return t.modelType?$U.includes(t.modelType)?c(new Date(A)):t.modelType==="format"&&(typeof t.format=="string"||!t.format)?c($w(A,l(),new Date,{locale:d.value})):c($w(A,t.modelType,new Date,{locale:d.value})):c(new Date(A))},V=A=>A?t.utc?JU(A,t.utc==="preserve",t.enableSeconds):t.modelType?t.modelType==="timestamp"?+p(A):t.modelType==="iso"?p(A).toISOString():t.modelType==="format"&&(typeof t.format=="string"||!t.format)?b(p(A)):b(p(A),t.modelType,!0):p(A):"",oe=(A,$=!1,te=!1)=>{if(te)return A;if(e("update:model-value",A),o.value.emitTimezone&&$){const pe=Array.isArray(A)?A.map(R=>Wn(tn(R),o.value.emitTimezone)):Wn(tn(A),o.value.emitTimezone);e("update:model-timezone-value",pe)}},he=A=>Array.isArray(n.value)?s.value.enabled?n.value.map($=>A($)):[A(n.value[0]),n.value[1]?A(n.value[1]):lu(a.value.partialRange)]:A(tn(n.value)),Y=()=>{if(Array.isArray(n.value)){const A=qa(n.value[0],t.weekStart),$=n.value[1]?qa(n.value[1],t.weekStart):[];return[A.map(te=>st(te)),$.map(te=>st(te))]}return qa(n.value,t.weekStart).map(A=>st(A))},Z=(A,$)=>oe(tn(he(A)),!1,$),ee=A=>{const $=Y();return A?$:e("update:model-value",Y())},P=(A=!1)=>(A||ae(),t.monthPicker?Z(_,A):t.timePicker?Z(v,A):t.yearPicker?Z(At,A):t.weekPicker?ee(A):oe(O(A),!0,A));return{inputValue:u,internalModelValue:n,checkBeforeEmit:()=>n.value?a.value.enabled?a.value.partialRange?n.value.length>=1:n.value.length===2:!!n.value:!1,parseExternalModelValue:Q,formatInputValue:ae,emitModelValue:P}},xH=(e,t)=>{const{defaultedFilters:r,propDates:n}=br(e),{validateMonthYearInRange:i}=Ho(e),a=(f,d)=>{let c=f;return r.value.months.includes(jt(c))?(c=d?Ui(f,1):Lu(f,1),a(c,d)):c},o=(f,d)=>{let c=f;return r.value.years.includes(At(c))?(c=d?NE(f,1):mF(f,1),o(c,d)):c},s=(f,d=!1)=>{const c=nr(st(),{month:e.month,year:e.year});let p=f?Ui(c,1):Lu(c,1);e.disableYearSelect&&(p=ma(p,e.year));let b=jt(p),v=At(p);r.value.months.includes(b)&&(p=a(p,f),b=jt(p),v=At(p)),r.value.years.includes(v)&&(p=o(p,f),v=At(p)),i(b,v,f,e.preventMinMaxNavigation)&&l(b,v,d)},l=(f,d,c)=>{t("update-month-year",{month:f,year:d,fromNav:c})},u=tt(()=>f=>RF(nr(st(),{month:e.month,year:e.year}),n.value.maxDate,n.value.minDate,e.preventMinMaxNavigation,f));return{handleMonthYearChange:s,isDisabled:u,updateMonthYear:l}},dm={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:[Boolean,String],default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:[String,Object],default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},highlight:{type:[Function,Object],default:null},teleport:{type:[Boolean,String,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:[Object,Boolean],default:!1},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},alwaysClearable:{type:Boolean,default:!1},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:[Boolean,Object],default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},onInternalModelChange:{type:[Function,Object],default:null},enableMinutes:{type:Boolean,default:!0},ui:{type:Object,default:()=>({})}},Ki={...dm,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},menuWrapRef:{type:Object,default:null},getInputRect:{type:Function,default:()=>({})},isTextInputDate:{type:Boolean,default:!1},isMobile:{type:Boolean,default:void 0}},TH=["title"],RH=["disabled"],AH=Wt({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...Ki},emits:["close-picker","select-date","select-now","invalid-select"],setup(e,{emit:t}){const r=t,n=e,{defaultedActionRow:i,defaultedPreviewFormat:a,defaultedMultiCalendars:o,defaultedTextInput:s,defaultedInline:l,defaultedRange:u,defaultedMultiDates:f}=br(n),{isTimeValid:d,isMonthValid:c}=Ho(n),{buildMatrix:p}=Uo(),b=et(null),v=et(null),_=et(!1),y=et({}),m=et(null),g=et(null);ir(()=>{n.arrowNavigation&&p([Yr(b),Yr(v)],"actionRow"),E(),window.addEventListener("resize",E)}),Gi(()=>{window.removeEventListener("resize",E)});const E=()=>{_.value=!1,setTimeout(()=>{var Q,ie;const X=(Q=m.value)==null?void 0:Q.getBoundingClientRect(),le=(ie=g.value)==null?void 0:ie.getBoundingClientRect();X&&le&&(y.value.maxWidth=`${le.width-X.width-20}px`),_.value=!0},0)},T=tt(()=>u.value.enabled&&!u.value.partialRange&&n.internalModelValue?n.internalModelValue.length===2:!0),I=tt(()=>!d.value(n.internalModelValue)||!c.value(n.internalModelValue)||!T.value),D=()=>{const Q=a.value;return n.timePicker||n.monthPicker,Q(tn(n.internalModelValue))},B=()=>{const Q=n.internalModelValue;return o.value.count>0?`${N(Q[0])} - ${N(Q[1])}`:[N(Q[0]),N(Q[1])]},N=Q=>AF(Q,a.value,n.formatLocale,s.value.rangeSeparator,n.modelAuto,a.value),M=tt(()=>!n.internalModelValue||!n.menuMount?"":typeof a.value=="string"?Array.isArray(n.internalModelValue)?n.internalModelValue.length===2&&n.internalModelValue[1]?B():f.value.enabled?n.internalModelValue.map(Q=>`${N(Q)}`):n.modelAuto?`${N(n.internalModelValue[0])}`:`${N(n.internalModelValue[0])} -`:N(n.internalModelValue):D()),j=()=>f.value.enabled?"; ":" - ",O=tt(()=>Array.isArray(M.value)?M.value.join(j()):M.value),q=()=>{d.value(n.internalModelValue)&&c.value(n.internalModelValue)&&T.value?r("select-date"):r("invalid-select")};return(Q,ie)=>(Ke(),Je("div",{ref_key:"actionRowRef",ref:g,class:"dp__action_row"},[Q.$slots["action-row"]?pt(Q.$slots,"action-row",rn(Fr({key:0},{internalModelValue:Q.internalModelValue,disabled:I.value,selectDate:()=>Q.$emit("select-date"),closePicker:()=>Q.$emit("close-picker")}))):(Ke(),Je(wt,{key:1},[Fe(i).showPreview?(Ke(),Je("div",{key:0,class:"dp__selection_preview",title:O.value,style:kr(y.value)},[Q.$slots["action-preview"]&&_.value?pt(Q.$slots,"action-preview",{key:0,value:Q.internalModelValue}):rt("",!0),!Q.$slots["action-preview"]&&_.value?(Ke(),Je(wt,{key:1},[Si(qt(O.value),1)],64)):rt("",!0)],12,TH)):rt("",!0),_t("div",{ref_key:"actionBtnContainer",ref:m,class:"dp__action_buttons","data-dp-element":"action-row"},[Q.$slots["action-buttons"]?pt(Q.$slots,"action-buttons",{key:0,value:Q.internalModelValue}):rt("",!0),Q.$slots["action-buttons"]?rt("",!0):(Ke(),Je(wt,{key:1},[!Fe(l).enabled&&Fe(i).showCancel?(Ke(),Je("button",{key:0,ref_key:"cancelButtonRef",ref:b,type:"button",class:"dp__action_button dp__action_cancel",onClick:ie[0]||(ie[0]=X=>Q.$emit("close-picker")),onKeydown:ie[1]||(ie[1]=X=>Fe(Mn)(X,()=>Q.$emit("close-picker")))},qt(Q.cancelText),545)):rt("",!0),Fe(i).showNow?(Ke(),Je("button",{key:1,type:"button",class:"dp__action_button dp__action_cancel",onClick:ie[2]||(ie[2]=X=>Q.$emit("select-now")),onKeydown:ie[3]||(ie[3]=X=>Fe(Mn)(X,()=>Q.$emit("select-now")))},qt(Q.nowButtonLabel),33)):rt("",!0),Fe(i).showSelect?(Ke(),Je("button",{key:2,ref_key:"selectButtonRef",ref:v,type:"button",class:"dp__action_button dp__action_select",disabled:I.value,"data-test-id":"select-button",onKeydown:ie[4]||(ie[4]=X=>Fe(Mn)(X,()=>q())),onClick:q},qt(Q.selectText),41,RH)):rt("",!0)],64))],512)],64))],512))}}),IH=["role","aria-label","tabindex"],OH={class:"dp__selection_grid_header"},PH=["aria-selected","aria-disabled","data-test-id","onClick","onKeydown","onMouseover"],DH=["aria-label"],kh=Wt({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{},menuWrapRef:{},ariaLabels:{},overlayLabel:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(e,{expose:t,emit:r}){const{setSelectionGrid:n,buildMultiLevelMatrix:i,setMonthPicker:a}=Uo(),o=r,s=e,{defaultedAriaLabels:l,defaultedTextInput:u,defaultedConfig:f}=br(s),{hideNavigationButtons:d}=mm(),c=et(!1),p=et(null),b=et(null),v=et([]),_=et(),y=et(null),m=et(0),g=et(null);KM(()=>{p.value=null}),ir(()=>{Ar().then(()=>j()),s.noOverlayFocus||T(),E(!0)}),Gi(()=>E(!1));const E=he=>{var Y;s.arrowNavigation&&((Y=s.headerRefs)!=null&&Y.length?a(he):n(he))},T=()=>{var he;const Y=Yr(b);Y&&(u.value.enabled||(p.value?(he=p.value)==null||he.focus({preventScroll:!0}):Y.focus({preventScroll:!0})),c.value=Y.clientHeight<Y.scrollHeight)},I=tt(()=>({dp__overlay:!0,"dp--overlay-absolute":!s.useRelative,"dp--overlay-relative":s.useRelative})),D=tt(()=>s.useRelative?{height:`${s.height}px`,width:"var(--dp-menu-min-width)"}:void 0),B=tt(()=>({dp__overlay_col:!0})),N=tt(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:c.value,dp__button_bottom:s.isLast})),M=tt(()=>{var he,Y;return{dp__overlay_container:!0,dp__container_flex:((he=s.items)==null?void 0:he.length)<=6,dp__container_block:((Y=s.items)==null?void 0:Y.length)>6}});Xr(()=>s.items,()=>j(!1),{deep:!0});const j=(he=!0)=>{Ar().then(()=>{const Y=Yr(p),Z=Yr(b),ee=Yr(y),P=Yr(g),A=ee?ee.getBoundingClientRect().height:0;Z&&(Z.getBoundingClientRect().height?m.value=Z.getBoundingClientRect().height-A:m.value=f.value.modeHeight-A),Y&&P&&he&&(P.scrollTop=Y.offsetTop-P.offsetTop-(m.value/2-Y.getBoundingClientRect().height)-A)})},O=he=>{he.disabled||o("selected",he.value)},q=()=>{o("toggle"),o("reset-flow")},Q=()=>{s.escClose&&q()},ie=(he,Y,Z,ee)=>{he&&((Y.active||Y.value===s.focusValue)&&(p.value=he),s.arrowNavigation&&(Array.isArray(v.value[Z])?v.value[Z][ee]=he:v.value[Z]=[he],X()))},X=()=>{var he,Y;const Z=(he=s.headerRefs)!=null&&he.length?[s.headerRefs].concat(v.value):v.value.concat([s.skipButtonRef?[]:[y.value]]);i(tn(Z),(Y=s.headerRefs)!=null&&Y.length?"monthPicker":"selectionGrid")},le=he=>{s.arrowNavigation||Oo(he,f.value,!0)},ae=he=>{_.value=he,o("hover-value",he)},ne=()=>{if(q(),!s.isLast){const he=Hw(s.menuWrapRef??null,"action-row");if(he){const Y=bF(he);Y==null||Y.focus()}}},V=he=>{switch(he.key){case cr.esc:return Q();case cr.arrowLeft:return le(he);case cr.arrowRight:return le(he);case cr.arrowUp:return le(he);case cr.arrowDown:return le(he);default:return}},oe=he=>{if(he.key===cr.enter)return q();if(he.key===cr.tab)return ne()};return t({focusGrid:T}),(he,Y)=>{var Z;return Ke(),Je("div",{ref_key:"gridWrapRef",ref:b,class:vt(I.value),style:kr(D.value),role:he.useRelative?void 0:"dialog","aria-label":he.overlayLabel,tabindex:he.useRelative?void 0:"0",onKeydown:V,onClick:Y[0]||(Y[0]=gh(()=>{},["prevent"]))},[_t("div",{ref_key:"containerRef",ref:g,class:vt(M.value),style:kr({"--dp-overlay-height":`${m.value}px`}),role:"grid"},[_t("div",OH,[pt(he.$slots,"header")]),he.$slots.overlay?pt(he.$slots,"overlay",{key:0}):(Ke(!0),Je(wt,{key:1},pr(he.items,(ee,P)=>(Ke(),Je("div",{key:P,class:vt(["dp__overlay_row",{dp__flex_row:he.items.length>=3}]),role:"row"},[(Ke(!0),Je(wt,null,pr(ee,(A,$)=>(Ke(),Je("div",{key:A.value,ref_for:!0,ref:te=>ie(te,A,P,$),role:"gridcell",class:vt(B.value),"aria-selected":A.active||void 0,"aria-disabled":A.disabled||void 0,tabindex:"0","data-test-id":A.text,onClick:gh(te=>O(A),["prevent"]),onKeydown:te=>Fe(Mn)(te,()=>O(A),!0),onMouseover:te=>ae(A.value)},[_t("div",{class:vt(A.className)},[he.$slots.item?pt(he.$slots,"item",{key:0,item:A}):rt("",!0),he.$slots.item?rt("",!0):(Ke(),Je(wt,{key:1},[Si(qt(A.text),1)],64))],2)],42,PH))),128))],2))),128))],6),he.$slots["button-icon"]?Io((Ke(),Je("button",{key:0,ref_key:"toggleButton",ref:y,type:"button","aria-label":(Z=Fe(l))==null?void 0:Z.toggleOverlay,class:vt(N.value),tabindex:"0",onClick:q,onKeydown:oe},[pt(he.$slots,"button-icon")],42,DH)),[[O0,!Fe(d)(he.hideNavigation,he.type)]]):rt("",!0)],46,IH)}}}),NH=["data-dp-mobile"],hm=Wt({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean},collapse:{type:Boolean},isMobile:{type:Boolean}},setup(e){const t=e,r=tt(()=>t.multiCalendars>0?[...Array(t.multiCalendars).keys()]:[0]),n=tt(()=>({dp__instance_calendar:t.multiCalendars>0}));return(i,a)=>(Ke(),Je("div",{class:vt({dp__menu_inner:!i.stretch,"dp--menu--inner-stretched":i.stretch,dp__flex_display:i.multiCalendars>0,"dp--flex-display-collapsed":i.collapse}),"data-dp-mobile":i.isMobile},[(Ke(!0),Je(wt,null,pr(r.value,(o,s)=>(Ke(),Je("div",{key:o,class:vt(n.value)},[pt(i.$slots,"default",{instance:o,index:s})],2))),128))],10,NH))}}),CH=["data-dp-element","aria-label","aria-disabled"],rh=Wt({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},elName:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(e,{emit:t}){const r=t,n=et(null);return ir(()=>r("set-ref",n)),(i,a)=>(Ke(),Je("button",{ref_key:"elRef",ref:n,type:"button","data-dp-element":i.elName,class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":i.ariaLabel,"aria-disabled":i.disabled||void 0,onClick:a[0]||(a[0]=o=>i.$emit("activate")),onKeydown:a[1]||(a[1]=o=>Fe(Mn)(o,()=>i.$emit("activate"),!0))},[_t("span",{class:vt(["dp__inner_nav",{dp__inner_nav_disabled:i.disabled}])},[pt(i.$slots,"default")],2)],40,CH))}}),LH=["aria-label","data-test-id"],PF=Wt({__name:"YearModePicker",props:{...Ki,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(e,{emit:t}){const r=t,n=e,{showRightIcon:i,showLeftIcon:a}=mm(),{defaultedConfig:o,defaultedMultiCalendars:s,defaultedAriaLabels:l,defaultedTransitions:u,defaultedUI:f}=br(n),{showTransition:d,transitionName:c}=Fh(u),p=et(!1),b=(y=!1,m)=>{p.value=!p.value,r("toggle-year-picker",{flow:y,show:m})},v=y=>{p.value=!1,r("year-select",y)},_=(y=!1)=>{r("handle-year",y)};return(y,m)=>{var g,E,T,I,D;return Ke(),Je(wt,null,[_t("div",{class:vt(["dp--year-mode-picker",{"dp--hidden-el":p.value}])},[Fe(a)(Fe(s),e.instance)?(Ke(),Ot(rh,{key:0,ref:"mpPrevIconRef","aria-label":(g=Fe(l))==null?void 0:g.prevYear,disabled:e.isDisabled(!1),class:vt((E=Fe(f))==null?void 0:E.navBtnPrev),onActivate:m[0]||(m[0]=B=>_(!1))},{default:bt(()=>[y.$slots["arrow-left"]?pt(y.$slots,"arrow-left",{key:0}):rt("",!0),y.$slots["arrow-left"]?rt("",!0):(Ke(),Ot(Fe(jE),{key:1}))]),_:3},8,["aria-label","disabled","class"])):rt("",!0),_t("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":`${e.year}-${(T=Fe(l))==null?void 0:T.openYearsOverlay}`,"data-test-id":`year-mode-btn-${e.instance}`,onClick:m[1]||(m[1]=()=>b(!1)),onKeydown:m[2]||(m[2]=d5(()=>b(!1),["enter"]))},[y.$slots.year?pt(y.$slots,"year",{key:0,year:e.year}):rt("",!0),y.$slots.year?rt("",!0):(Ke(),Je(wt,{key:1},[Si(qt(e.year),1)],64))],40,LH),Fe(i)(Fe(s),e.instance)?(Ke(),Ot(rh,{key:1,ref:"mpNextIconRef","aria-label":(I=Fe(l))==null?void 0:I.nextYear,disabled:e.isDisabled(!0),class:vt((D=Fe(f))==null?void 0:D.navBtnNext),onActivate:m[3]||(m[3]=B=>_(!0))},{default:bt(()=>[y.$slots["arrow-right"]?pt(y.$slots,"arrow-right",{key:0}):rt("",!0),y.$slots["arrow-right"]?rt("",!0):(Ke(),Ot(Fe(BE),{key:1}))]),_:3},8,["aria-label","disabled","class"])):rt("",!0)],2),kt(Zu,{name:Fe(c)(e.showYearPicker),css:Fe(d)},{default:bt(()=>{var B,N;return[e.showYearPicker?(Ke(),Ot(kh,{key:0,items:e.items,"text-input":y.textInput,"esc-close":y.escClose,config:y.config,"is-last":y.autoApply&&!Fe(o).keepActionRow,"hide-navigation":y.hideNavigation,"aria-labels":y.ariaLabels,"overlay-label":(N=(B=Fe(l))==null?void 0:B.yearPicker)==null?void 0:N.call(B,!0),type:"year",onToggle:b,onSelected:m[4]||(m[4]=M=>v(M))},vn({"button-icon":bt(()=>[y.$slots["calendar-icon"]?pt(y.$slots,"calendar-icon",{key:0}):rt("",!0),y.$slots["calendar-icon"]?rt("",!0):(Ke(),Ot(Fe(Ju),{key:1}))]),_:2},[y.$slots["year-overlay-value"]?{name:"item",fn:bt(({item:M})=>[pt(y.$slots,"year-overlay-value",{text:M.text,value:M.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation","aria-labels","overlay-label"])):rt("",!0)]}),_:3},8,["name","css"])],64)}}}),KE=(e,t,r)=>{if(t.value&&Array.isArray(t.value))if(t.value.some(n=>Bt(e,n))){const n=t.value.filter(i=>!Bt(i,e));t.value=n.length?n:null}else(r&&+r>t.value.length||!r)&&t.value.push(e);else t.value=[e]},ZE=(e,t,r)=>{let n=e.value?e.value.slice():[];return n.length===2&&n[1]!==null&&(n=[]),n.length?(Rr(t,n[0])?n.unshift(t):n[1]=t,r("range-end",t)):(n=[t],r("range-start",t)),n},pm=(e,t,r,n)=>{e&&(e[0]&&e[1]&&r&&t("auto-apply"),e[0]&&!e[1]&&n&&r&&t("auto-apply"))},DF=e=>{Array.isArray(e.value)&&e.value.length<=2&&e.range?e.modelValue.value=e.value.map(t=>Wn(st(t),e.timezone)):Array.isArray(e.value)||(e.modelValue.value=Wn(st(e.value),e.timezone))},NF=(e,t,r,n)=>Array.isArray(t.value)&&(t.value.length===2||t.value.length===1&&n.value.partialRange)?n.value.fixedStart&&(Mr(e,t.value[0])||Bt(e,t.value[0]))?[t.value[0],e]:n.value.fixedEnd&&(Rr(e,t.value[1])||Bt(e,t.value[1]))?[e,t.value[1]]:(r("invalid-fixed-range",e),t.value):[],CF=({multiCalendars:e,range:t,highlight:r,propDates:n,calendars:i,modelValue:a,props:o,filters:s,year:l,month:u,emit:f})=>{const d=tt(()=>VE(o.yearRange,o.locale,o.reverseYears)),c=et([!1]),p=tt(()=>(M,j)=>{const O=nr(ji(new Date),{month:u.value(M),year:l.value(M)}),q=j?tF(O):_h(O);return RF(q,n.value.maxDate,n.value.minDate,o.preventMinMaxNavigation,j)}),b=()=>Array.isArray(a.value)&&e.value.solo&&a.value[1],v=()=>{for(let M=0;M<e.value.count;M++)if(M===0)i.value[M]=i.value[0];else if(M===e.value.count-1&&b())i.value[M]={month:jt(a.value[1]),year:At(a.value[1])};else{const j=nr(st(),i.value[M-1]);i.value[M]={month:jt(j),year:At(NE(j,1))}}},_=M=>{if(!M)return v();const j=nr(st(),i.value[M]);return i.value[0].year=At(mF(j,e.value.count-1)),v()},y=(M,j)=>{const O=U9(j,M);return t.value.showLastInRange&&O>1?j:M},m=M=>o.focusStartDate||e.value.solo?M[0]:M[1]?y(M[0],M[1]):M[0],g=()=>{if(a.value){const M=Array.isArray(a.value)?m(a.value):a.value;i.value[0]={month:jt(M),year:At(M)}}},E=()=>{g(),e.value.count&&v()};Xr(a,(M,j)=>{o.isTextInputDate&&JSON.stringify(M??{})!==JSON.stringify(j??{})&&E()}),ir(()=>{E()});const T=(M,j)=>{i.value[j].year=M,f("update-month-year",{instance:j,year:M,month:i.value[j].month}),e.value.count&&!e.value.solo&&_(j)},I=tt(()=>M=>Mu(d.value,j=>{var O;const q=l.value(M)===j.value,Q=bh(j.value,ku(n.value.minDate),ku(n.value.maxDate))||((O=s.value.years)==null?void 0:O.includes(l.value(M))),ie=GE(r.value,j.value);return{active:q,disabled:Q,highlighted:ie}})),D=(M,j)=>{T(M,j),N(j)},B=(M,j=!1)=>{if(!p.value(M,j)){const O=j?l.value(M)+1:l.value(M)-1;T(O,M)}},N=(M,j=!1,O)=>{j||f("reset-flow"),O!==void 0?c.value[M]=O:c.value[M]=!c.value[M],c.value[M]?f("overlay-toggle",{open:!0,overlay:gn.year}):(f("overlay-closed"),f("overlay-toggle",{open:!1,overlay:gn.year}))};return{isDisabled:p,groupedYears:I,showYearPicker:c,selectYear:T,toggleYearPicker:N,handleYearSelect:D,handleYear:B}},MH=(e,t)=>{const{defaultedMultiCalendars:r,defaultedAriaLabels:n,defaultedTransitions:i,defaultedConfig:a,defaultedRange:o,defaultedHighlight:s,propDates:l,defaultedTz:u,defaultedFilters:f,defaultedMultiDates:d}=br(e),c=()=>{e.isTextInputDate&&E(At(st(e.startDate)),0)},{modelValue:p,year:b,month:v,calendars:_}=jh(e,t,c),y=tt(()=>gF(e.formatLocale,e.locale,e.monthNameFormat)),m=et(null),{checkMinMaxRange:g}=Ho(e),{selectYear:E,groupedYears:T,showYearPicker:I,toggleYearPicker:D,handleYearSelect:B,handleYear:N,isDisabled:M}=CF({modelValue:p,multiCalendars:r,range:o,highlight:s,calendars:_,year:b,propDates:l,month:v,filters:f,props:e,emit:t});ir(()=>{e.startDate&&(p.value&&e.focusStartDate||!p.value)&&E(At(st(e.startDate)),0)});const j=Z=>Z?{month:jt(Z),year:At(Z)}:{month:null,year:null},O=()=>p.value?Array.isArray(p.value)?p.value.map(Z=>j(Z)):j(p.value):j(),q=(Z,ee)=>{const P=_.value[Z],A=O();return Array.isArray(A)?A.some($=>$.year===(P==null?void 0:P.year)&&$.month===ee):(P==null?void 0:P.year)===A.year&&ee===A.month},Q=(Z,ee,P)=>{var A,$;const te=O();return Array.isArray(te)?b.value(ee)===((A=te[P])==null?void 0:A.year)&&Z===(($=te[P])==null?void 0:$.month):!1},ie=(Z,ee)=>{if(o.value.enabled){const P=O();if(Array.isArray(p.value)&&Array.isArray(P)){const A=Q(Z,ee,0)||Q(Z,ee,1),$=Ha(ji(st()),Z,b.value(ee));return vh(p.value,m.value,$)&&!A}return!1}return!1},X=tt(()=>Z=>Mu(y.value,ee=>{var P;const A=q(Z,ee.value),$=bh(ee.value,EF(b.value(Z),l.value.minDate),SF(b.value(Z),l.value.maxDate))||iH(l.value.disabledDates,b.value(Z),ee.value)||((P=f.value.months)==null?void 0:P.includes(ee.value))||!aH(l.value.allowedDates,b.value(Z),ee.value),te=ie(ee.value,Z),pe=IF(s.value,ee.value,b.value(Z));return{active:A,disabled:$,isBetween:te,highlighted:pe}})),le=(Z,ee)=>Ha(ji(st()),Z,b.value(ee)),ae=(Z,ee)=>{const P=p.value?p.value:ji(new Date);p.value=Ha(P,Z,b.value(ee)),t("auto-apply"),t("update-flow-step")},ne=(Z,ee)=>{const P=le(Z,ee);o.value.fixedEnd||o.value.fixedStart?p.value=NF(P,p,t,o):p.value?g(P,p.value)&&(p.value=ZE(p,le(Z,ee),t)):p.value=[le(Z,ee)],Ar().then(()=>{pm(p.value,t,e.autoApply,e.modelAuto)})},V=(Z,ee)=>{KE(le(Z,ee),p,d.value.limit),t("auto-apply",!0)},oe=(Z,ee)=>(_.value[ee].month=Z,Y(ee,_.value[ee].year,Z),d.value.enabled?V(Z,ee):o.value.enabled?ne(Z,ee):ae(Z,ee)),he=(Z,ee)=>{E(Z,ee),Y(ee,Z,null)},Y=(Z,ee,P)=>{let A=P;if(!A&&A!==0){const $=O();A=Array.isArray($)?$[Z].month:$.month}t("update-month-year",{instance:Z,year:ee,month:A})};return{groupedMonths:X,groupedYears:T,year:b,isDisabled:M,defaultedMultiCalendars:r,defaultedAriaLabels:n,defaultedTransitions:i,defaultedConfig:a,showYearPicker:I,modelValue:p,presetDate:(Z,ee)=>{DF({value:Z,modelValue:p,range:o.value.enabled,timezone:ee?void 0:u.value.timezone}),t("auto-apply")},setHoverDate:(Z,ee)=>{m.value=le(Z,ee)},selectMonth:oe,selectYear:he,toggleYearPicker:D,handleYearSelect:B,handleYear:N,getModelMonthYear:O}},kH=Wt({compatConfig:{MODE:3},__name:"MonthPicker",props:{...Ki},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","update-flow-step","mount","invalid-fixed-range","overlay-toggle"],setup(e,{expose:t,emit:r}){const n=r,i=Us(),a=Jn(i,"yearMode"),o=e;ir(()=>{o.shadow||n("mount",null)});const{groupedMonths:s,groupedYears:l,year:u,isDisabled:f,defaultedMultiCalendars:d,defaultedConfig:c,showYearPicker:p,modelValue:b,presetDate:v,setHoverDate:_,selectMonth:y,selectYear:m,toggleYearPicker:g,handleYearSelect:E,handleYear:T,getModelMonthYear:I}=MH(o,n);return t({getSidebarProps:()=>({modelValue:b,year:u,getModelMonthYear:I,selectMonth:y,selectYear:m,handleYear:T}),presetDate:v,toggleYearPicker:D=>g(0,D)}),(D,B)=>(Ke(),Ot(hm,{"multi-calendars":Fe(d).count,collapse:D.collapse,stretch:"","is-mobile":D.isMobile},{default:bt(({instance:N})=>[D.$slots["top-extra"]?pt(D.$slots,"top-extra",{key:0,value:D.internalModelValue}):rt("",!0),D.$slots["month-year"]?pt(D.$slots,"month-year",rn(Fr({key:1},{year:Fe(u),months:Fe(s)(N),years:Fe(l)(N),selectMonth:Fe(y),selectYear:Fe(m),instance:N}))):(Ke(),Ot(kh,{key:2,items:Fe(s)(N),"arrow-navigation":D.arrowNavigation,"is-last":D.autoApply&&!Fe(c).keepActionRow,"esc-close":D.escClose,height:Fe(c).modeHeight,config:D.config,"no-overlay-focus":!!(D.noOverlayFocus||D.textInput),"use-relative":"",type:"month",onSelected:M=>Fe(y)(M,N),onHoverValue:M=>Fe(_)(M,N)},vn({header:bt(()=>[kt(PF,Fr(D.$props,{items:Fe(l)(N),instance:N,"show-year-picker":Fe(p)[N],year:Fe(u)(N),"is-disabled":M=>Fe(f)(N,M),onHandleYear:M=>Fe(T)(N,M),onYearSelect:M=>Fe(E)(M,N),onToggleYearPicker:M=>Fe(g)(N,M==null?void 0:M.flow,M==null?void 0:M.show)}),vn({_:2},[pr(Fe(a),(M,j)=>({name:M,fn:bt(O=>[pt(D.$slots,M,rn(Ln(O)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},[D.$slots["month-overlay-value"]?{name:"item",fn:bt(({item:M})=>[pt(D.$slots,"month-overlay-value",{text:M.text,value:M.value})]),key:"0"}:void 0]),1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars","collapse","is-mobile"]))}}),FH=(e,t)=>{const r=()=>{e.isTextInputDate&&(f.value=At(st(e.startDate)))},{modelValue:n}=jh(e,t,r),i=et(null),{defaultedHighlight:a,defaultedMultiDates:o,defaultedFilters:s,defaultedRange:l,propDates:u}=br(e),f=et();ir(()=>{e.startDate&&(n.value&&e.focusStartDate||!n.value)&&(f.value=At(st(e.startDate)))});const d=y=>Array.isArray(n.value)?n.value.some(m=>At(m)===y):n.value?At(n.value)===y:!1,c=y=>l.value.enabled&&Array.isArray(n.value)?vh(n.value,i.value,_(y)):!1,p=y=>u.value.allowedDates instanceof Map?u.value.allowedDates.size?u.value.allowedDates.has(`${y}`):!1:!0,b=y=>u.value.disabledDates instanceof Map?u.value.disabledDates.size?u.value.disabledDates.has(`${y}`):!1:!0,v=tt(()=>Mu(VE(e.yearRange,e.locale,e.reverseYears),y=>{const m=d(y.value),g=bh(y.value,ku(u.value.minDate),ku(u.value.maxDate))||s.value.years.includes(y.value)||!p(y.value)||b(y.value),E=c(y.value)&&!m,T=GE(a.value,y.value);return{active:m,disabled:g,isBetween:E,highlighted:T}})),_=y=>ma(ji(_h(new Date)),y);return{groupedYears:v,modelValue:n,focusYear:f,setHoverValue:y=>{i.value=ma(ji(new Date),y)},selectYear:y=>{var m;if(t("update-month-year",{instance:0,year:y}),o.value.enabled)return n.value?Array.isArray(n.value)&&(((m=n.value)==null?void 0:m.map(g=>At(g))).includes(y)?n.value=n.value.filter(g=>At(g)!==y):n.value.push(ma(hn(st()),y))):n.value=[ma(hn(_h(st())),y)],t("auto-apply",!0);l.value.enabled?(n.value=ZE(n,_(y),t),Ar().then(()=>{pm(n.value,t,e.autoApply,e.modelAuto)})):(n.value=_(y),t("auto-apply"))}}},jH=Wt({compatConfig:{MODE:3},__name:"YearPicker",props:{...Ki},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply","update-month-year"],setup(e,{expose:t,emit:r}){const n=r,i=e,{groupedYears:a,modelValue:o,focusYear:s,selectYear:l,setHoverValue:u}=FH(i,n),{defaultedConfig:f}=br(i);return t({getSidebarProps:()=>({modelValue:o,selectYear:l})}),(d,c)=>(Ke(),Je("div",null,[d.$slots["top-extra"]?pt(d.$slots,"top-extra",{key:0,value:d.internalModelValue}):rt("",!0),d.$slots["month-year"]?pt(d.$slots,"month-year",rn(Fr({key:1},{years:Fe(a),selectYear:Fe(l)}))):(Ke(),Ot(kh,{key:2,items:Fe(a),"is-last":d.autoApply&&!Fe(f).keepActionRow,height:Fe(f).modeHeight,config:d.config,"no-overlay-focus":!!(d.noOverlayFocus||d.textInput),"focus-value":Fe(s),type:"year","use-relative":"",onSelected:Fe(l),onHoverValue:Fe(u)},vn({_:2},[d.$slots["year-overlay-value"]?{name:"item",fn:bt(({item:p})=>[pt(d.$slots,"year-overlay-value",{text:p.text,value:p.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),BH={key:0,class:"dp__time_input"},qH=["data-compact","data-collapsed"],$H=["data-test-id","aria-label","onKeydown","onClick","onMousedown"],UH=["aria-label","disabled","data-test-id","onKeydown","onClick"],HH=["data-test-id","aria-label","onKeydown","onClick","onMousedown"],VH={key:0},zH=["aria-label","data-compact"],WH=Wt({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Ki},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","overlay-opened","am-pm-change"],setup(e,{expose:t,emit:r}){const n=r,i=e,{setTimePickerElements:a,setTimePickerBackRef:o}=Uo(),{defaultedAriaLabels:s,defaultedTransitions:l,defaultedFilters:u,defaultedConfig:f,defaultedRange:d,defaultedMultiCalendars:c}=br(i),{transitionName:p,showTransition:b}=Fh(l),v=Qa({hours:!1,minutes:!1,seconds:!1}),_=et("AM"),y=et(null),m=et([]),g=et(),E=et(!1);ir(()=>{n("mounted")});const T=U=>nr(new Date,{hours:U.hours,minutes:U.minutes,seconds:i.enableSeconds?U.seconds:0,milliseconds:0}),I=tt(()=>U=>ne(U,i[U])||B(U,i[U])),D=tt(()=>({hours:i.hours,minutes:i.minutes,seconds:i.seconds})),B=(U,re)=>d.value.enabled&&!d.value.disableTimeRangeValidation?!i.validateTime(U,re):!1,N=(U,re)=>{if(d.value.enabled&&!d.value.disableTimeRangeValidation){const fe=re?+i[`${U}Increment`]:-+i[`${U}Increment`],ve=i[U]+fe;return!i.validateTime(U,ve)}return!1},M=tt(()=>U=>!Z(+i[U]+ +i[`${U}Increment`],U)||N(U,!0)),j=tt(()=>U=>!Z(+i[U]-+i[`${U}Increment`],U)||N(U,!1)),O=(U,re)=>Zk(nr(st(),U),re),q=(U,re)=>FU(nr(st(),U),re),Q=tt(()=>({dp__time_col:!0,dp__time_col_block:!i.timePickerInline,dp__time_col_reg_block:!i.enableSeconds&&i.is24&&!i.timePickerInline,dp__time_col_reg_inline:!i.enableSeconds&&i.is24&&i.timePickerInline,dp__time_col_reg_with_button:!i.enableSeconds&&!i.is24,dp__time_col_sec:i.enableSeconds&&i.is24,dp__time_col_sec_with_button:i.enableSeconds&&!i.is24})),ie=tt(()=>i.timePickerInline&&d.value.enabled&&!c.value.count),X=tt(()=>{const U=[{type:"hours"}];return i.enableMinutes&&U.push({type:"",separator:!0},{type:"minutes"}),i.enableSeconds&&U.push({type:"",separator:!0},{type:"seconds"}),U}),le=tt(()=>X.value.filter(U=>!U.separator)),ae=tt(()=>U=>{if(U==="hours"){const re=pe(+i.hours);return{text:re<10?`0${re}`:`${re}`,value:re}}return{text:i[U]<10?`0${i[U]}`:`${i[U]}`,value:i[U]}}),ne=(U,re)=>{var fe;if(!i.disabledTimesConfig)return!1;const ve=i.disabledTimesConfig(i.order,U==="hours"?re:void 0);return ve[U]?!!((fe=ve[U])!=null&&fe.includes(re)):!0},V=(U,re)=>re!=="hours"||_.value==="AM"?U:U+12,oe=U=>{const re=i.is24?24:12,fe=U==="hours"?re:60,ve=+i[`${U}GridIncrement`],ce=U==="hours"&&!i.is24?ve:0,Ie=[];for(let be=ce;be<fe;be+=ve)Ie.push({value:i.is24?be:V(be,U),text:be<10?`0${be}`:`${be}`});return U==="hours"&&!i.is24&&Ie.unshift({value:_.value==="PM"?12:0,text:"12"}),Mu(Ie,be=>({active:!1,disabled:u.value.times[U].includes(be.value)||!Z(be.value,U)||ne(U,be.value)||B(U,be.value)}))},he=U=>U>=0?U:59,Y=U=>U>=0?U:23,Z=(U,re)=>{const fe=i.minTime?T(My(i.minTime)):null,ve=i.maxTime?T(My(i.maxTime)):null,ce=T(My(D.value,re,re==="minutes"||re==="seconds"?he(U):Y(U)));return fe&&ve?(Cu(ce,ve)||vu(ce,ve))&&(js(ce,fe)||vu(ce,fe)):fe?js(ce,fe)||vu(ce,fe):ve?Cu(ce,ve)||vu(ce,ve):!0},ee=U=>i[`no${U[0].toUpperCase()+U.slice(1)}Overlay`],P=U=>{ee(U)||(v[U]=!v[U],v[U]?(E.value=!0,n("overlay-opened",U)):(E.value=!1,n("overlay-closed",U)))},A=U=>U==="hours"?Ga:U==="minutes"?Co:Nu,$=()=>{g.value&&clearTimeout(g.value)},te=(U,re=!0,fe)=>{const ve=re?O:q,ce=re?+i[`${U}Increment`]:-+i[`${U}Increment`];Z(+i[U]+ce,U)&&n(`update:${U}`,A(U)(ve({[U]:+i[U]},{[U]:+i[`${U}Increment`]}))),!(fe!=null&&fe.keyboard)&&f.value.timeArrowHoldThreshold&&(g.value=setTimeout(()=>{te(U,re)},f.value.timeArrowHoldThreshold))},pe=U=>i.is24?U:(U>=12?_.value="PM":_.value="AM",VU(U)),R=()=>{_.value==="PM"?(_.value="AM",n("update:hours",i.hours-12)):(_.value="PM",n("update:hours",i.hours+12)),n("am-pm-change",_.value)},w=U=>{v[U]=!0},x=(U,re,fe)=>{if(U&&i.arrowNavigation){Array.isArray(m.value[re])?m.value[re][fe]=U:m.value[re]=[U];const ve=m.value.reduce((ce,Ie)=>Ie.map((be,xe)=>[...ce[xe]||[],Ie[xe]]),[]);o(i.closeTimePickerBtn),y.value&&(ve[1]=ve[1].concat(y.value)),a(ve,i.order)}},k=(U,re)=>(P(U),n(`update:${U}`,re));return t({openChildCmp:w}),(U,re)=>{var fe;return U.disabled?rt("",!0):(Ke(),Je("div",BH,[(Ke(!0),Je(wt,null,pr(X.value,(ve,ce)=>{var Ie,be,xe;return Ke(),Je("div",{key:ce,class:vt(Q.value),"data-compact":ie.value&&!U.enableSeconds,"data-collapsed":ie.value&&U.enableSeconds},[ve.separator?(Ke(),Je(wt,{key:0},[E.value?rt("",!0):(Ke(),Je(wt,{key:0},[Si(":")],64))],64)):(Ke(),Je(wt,{key:1},[_t("button",{ref_for:!0,ref:je=>x(je,ce,0),type:"button",class:vt({dp__btn:!0,dp__inc_dec_button:!U.timePickerInline,dp__inc_dec_button_inline:U.timePickerInline,dp__tp_inline_btn_top:U.timePickerInline,dp__inc_dec_button_disabled:M.value(ve.type),"dp--hidden-el":E.value}),"data-test-id":`${ve.type}-time-inc-btn-${i.order}`,"aria-label":(Ie=Fe(s))==null?void 0:Ie.incrementValue(ve.type),tabindex:"0",onKeydown:je=>Fe(Mn)(je,()=>te(ve.type,!0,{keyboard:!0}),!0),onClick:je=>Fe(f).timeArrowHoldThreshold?void 0:te(ve.type,!0),onMousedown:je=>Fe(f).timeArrowHoldThreshold?te(ve.type,!0):void 0,onMouseup:$},[i.timePickerInline?(Ke(),Je(wt,{key:1},[U.$slots["tp-inline-arrow-up"]?pt(U.$slots,"tp-inline-arrow-up",{key:0}):(Ke(),Je(wt,{key:1},[re[2]||(re[2]=_t("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1)),re[3]||(re[3]=_t("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1))],64))],64)):(Ke(),Je(wt,{key:0},[U.$slots["arrow-up"]?pt(U.$slots,"arrow-up",{key:0}):rt("",!0),U.$slots["arrow-up"]?rt("",!0):(Ke(),Ot(Fe($E),{key:1}))],64))],42,$H),_t("button",{ref_for:!0,ref:je=>x(je,ce,1),type:"button","aria-label":`${ae.value(ve.type).text}-${(be=Fe(s))==null?void 0:be.openTpOverlay(ve.type)}`,class:vt({dp__time_display:!0,dp__time_display_block:!U.timePickerInline,dp__time_display_inline:U.timePickerInline,"dp--time-invalid":I.value(ve.type),"dp--time-overlay-btn":!I.value(ve.type),"dp--hidden-el":E.value}),disabled:ee(ve.type),tabindex:"0","data-test-id":`${ve.type}-toggle-overlay-btn-${i.order}`,onKeydown:je=>Fe(Mn)(je,()=>P(ve.type),!0),onClick:je=>P(ve.type)},[U.$slots[ve.type]?pt(U.$slots,ve.type,{key:0,text:ae.value(ve.type).text,value:ae.value(ve.type).value}):rt("",!0),U.$slots[ve.type]?rt("",!0):(Ke(),Je(wt,{key:1},[Si(qt(ae.value(ve.type).text),1)],64))],42,UH),_t("button",{ref_for:!0,ref:je=>x(je,ce,2),type:"button",class:vt({dp__btn:!0,dp__inc_dec_button:!U.timePickerInline,dp__inc_dec_button_inline:U.timePickerInline,dp__tp_inline_btn_bottom:U.timePickerInline,dp__inc_dec_button_disabled:j.value(ve.type),"dp--hidden-el":E.value}),"data-test-id":`${ve.type}-time-dec-btn-${i.order}`,"aria-label":(xe=Fe(s))==null?void 0:xe.decrementValue(ve.type),tabindex:"0",onKeydown:je=>Fe(Mn)(je,()=>te(ve.type,!1,{keyboard:!0}),!0),onClick:je=>Fe(f).timeArrowHoldThreshold?void 0:te(ve.type,!1),onMousedown:je=>Fe(f).timeArrowHoldThreshold?te(ve.type,!1):void 0,onMouseup:$},[i.timePickerInline?(Ke(),Je(wt,{key:1},[U.$slots["tp-inline-arrow-down"]?pt(U.$slots,"tp-inline-arrow-down",{key:0}):(Ke(),Je(wt,{key:1},[re[4]||(re[4]=_t("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1)),re[5]||(re[5]=_t("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1))],64))],64)):(Ke(),Je(wt,{key:0},[U.$slots["arrow-down"]?pt(U.$slots,"arrow-down",{key:0}):rt("",!0),U.$slots["arrow-down"]?rt("",!0):(Ke(),Ot(Fe(UE),{key:1}))],64))],42,HH)],64))],10,qH)}),128)),U.is24?rt("",!0):(Ke(),Je("div",VH,[U.$slots["am-pm-button"]?pt(U.$slots,"am-pm-button",{key:0,toggle:R,value:_.value}):rt("",!0),U.$slots["am-pm-button"]?rt("",!0):(Ke(),Je("button",{key:1,ref_key:"amPmButton",ref:y,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(fe=Fe(s))==null?void 0:fe.amPmButton,tabindex:"0","data-compact":ie.value,onClick:R,onKeydown:re[0]||(re[0]=ve=>Fe(Mn)(ve,()=>R(),!0))},qt(_.value),41,zH))])),(Ke(!0),Je(wt,null,pr(le.value,(ve,ce)=>(Ke(),Ot(Zu,{key:ce,name:Fe(p)(v[ve.type]),css:Fe(b)},{default:bt(()=>{var Ie,be;return[v[ve.type]?(Ke(),Ot(kh,{key:0,items:oe(ve.type),"is-last":U.autoApply&&!Fe(f).keepActionRow,"esc-close":U.escClose,type:ve.type,"text-input":U.textInput,config:U.config,"arrow-navigation":U.arrowNavigation,"aria-labels":U.ariaLabels,"overlay-label":(be=(Ie=Fe(s)).timeOverlay)==null?void 0:be.call(Ie,ve.type),onSelected:xe=>k(ve.type,xe),onToggle:xe=>P(ve.type),onResetFlow:re[1]||(re[1]=xe=>U.$emit("reset-flow"))},vn({"button-icon":bt(()=>[U.$slots["clock-icon"]?pt(U.$slots,"clock-icon",{key:0}):rt("",!0),U.$slots["clock-icon"]?rt("",!0):(Ke(),Ot(ba(U.timePickerInline?Fe(Ju):Fe(qE)),{key:1}))]),_:2},[U.$slots[`${ve.type}-overlay-value`]?{name:"item",fn:bt(({item:xe})=>[pt(U.$slots,`${ve.type}-overlay-value`,{text:xe.text,value:xe.value})]),key:"0"}:void 0,U.$slots[`${ve.type}-overlay-header`]?{name:"header",fn:bt(()=>[pt(U.$slots,`${ve.type}-overlay-header`,{toggle:()=>P(ve.type)})]),key:"1"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","aria-labels","overlay-label","onSelected","onToggle"])):rt("",!0)]}),_:2},1032,["name","css"]))),128))]))}}}),GH=["data-dp-mobile"],KH=["aria-label","tabindex"],ZH=["role","aria-label","tabindex"],YH=["aria-label"],LF=Wt({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Ki},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(e,{expose:t,emit:r}){const n=r,i=e,{buildMatrix:a,setTimePicker:o}=Uo(),s=Us(),{defaultedTransitions:l,defaultedAriaLabels:u,defaultedTextInput:f,defaultedConfig:d,defaultedRange:c}=br(i),{transitionName:p,showTransition:b}=Fh(l),{hideNavigationButtons:v}=mm(),_=et(null),y=et(null),m=et([]),g=et(null),E=et(!1);ir(()=>{n("mount"),!i.timePicker&&i.arrowNavigation?a([Yr(_.value)],"time"):o(!0,i.timePicker)});const T=tt(()=>c.value.enabled&&i.modelAuto?_F(i.internalModelValue):!0),I=et(!1),D=ne=>({hours:Array.isArray(i.hours)?i.hours[ne]:i.hours,minutes:Array.isArray(i.minutes)?i.minutes[ne]:i.minutes,seconds:Array.isArray(i.seconds)?i.seconds[ne]:i.seconds}),B=tt(()=>{const ne=[];if(c.value.enabled)for(let V=0;V<2;V++)ne.push(D(V));else ne.push(D(0));return ne}),N=(ne,V=!1,oe="")=>{V||n("reset-flow"),I.value=ne,n(ne?"overlay-opened":"overlay-closed",gn.time),i.arrowNavigation&&o(ne),Ar(()=>{oe!==""&&m.value[0]&&m.value[0].openChildCmp(oe)})},M=tt(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:i.autoApply&&!d.value.keepActionRow})),j=Jn(s,"timePicker"),O=(ne,V,oe)=>c.value.enabled?V===0?[ne,B.value[1][oe]]:[B.value[0][oe],ne]:ne,q=ne=>{n("update:hours",ne)},Q=ne=>{n("update:minutes",ne)},ie=ne=>{n("update:seconds",ne)},X=()=>{if(g.value&&!f.value.enabled&&!i.noOverlayFocus){const ne=bF(g.value);ne&&ne.focus({preventScroll:!0})}},le=ne=>{E.value=!1,n("overlay-closed",ne)},ae=ne=>{E.value=!0,n("overlay-opened",ne)};return t({toggleTimePicker:N}),(ne,V)=>{var oe;return Ke(),Je("div",{class:"dp--tp-wrap","data-dp-mobile":ne.isMobile},[!ne.timePicker&&!ne.timePickerInline?Io((Ke(),Je("button",{key:0,ref_key:"openTimePickerBtn",ref:_,type:"button",class:vt({...M.value,"dp--hidden-el":I.value}),"aria-label":(oe=Fe(u))==null?void 0:oe.openTimePicker,tabindex:ne.noOverlayFocus?void 0:0,"data-test-id":"open-time-picker-btn",onKeydown:V[0]||(V[0]=he=>Fe(Mn)(he,()=>N(!0))),onClick:V[1]||(V[1]=he=>N(!0))},[ne.$slots["clock-icon"]?pt(ne.$slots,"clock-icon",{key:0}):rt("",!0),ne.$slots["clock-icon"]?rt("",!0):(Ke(),Ot(Fe(qE),{key:1}))],42,KH)),[[O0,!Fe(v)(ne.hideNavigation,"time")]]):rt("",!0),kt(Zu,{name:Fe(p)(I.value),css:Fe(b)&&!ne.timePickerInline},{default:bt(()=>{var he,Y;return[I.value||ne.timePicker||ne.timePickerInline?(Ke(),Je("div",{key:0,ref_key:"overlayRef",ref:g,role:ne.timePickerInline?void 0:"dialog",class:vt({dp__overlay:!ne.timePickerInline,"dp--overlay-absolute":!i.timePicker&&!ne.timePickerInline,"dp--overlay-relative":i.timePicker}),style:kr(ne.timePicker?{height:`${Fe(d).modeHeight}px`}:void 0),"aria-label":(he=Fe(u))==null?void 0:he.timePicker,tabindex:ne.timePickerInline?void 0:0},[_t("div",{class:vt(ne.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[ne.$slots["time-picker-overlay"]?pt(ne.$slots,"time-picker-overlay",{key:0,hours:e.hours,minutes:e.minutes,seconds:e.seconds,setHours:q,setMinutes:Q,setSeconds:ie}):rt("",!0),ne.$slots["time-picker-overlay"]?rt("",!0):(Ke(),Je("div",{key:1,class:vt(ne.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(Ke(!0),Je(wt,null,pr(B.value,(Z,ee)=>Io((Ke(),Ot(WH,Fr({key:ee,ref_for:!0},{...ne.$props,order:ee,hours:Z.hours,minutes:Z.minutes,seconds:Z.seconds,closeTimePickerBtn:y.value,disabledTimesConfig:e.disabledTimesConfig,disabled:ee===0?Fe(c).fixedStart:Fe(c).fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:m,"validate-time":(P,A)=>e.validateTime(P,O(A,ee,P)),"onUpdate:hours":P=>q(O(P,ee,"hours")),"onUpdate:minutes":P=>Q(O(P,ee,"minutes")),"onUpdate:seconds":P=>ie(O(P,ee,"seconds")),onMounted:X,onOverlayClosed:le,onOverlayOpened:ae,onAmPmChange:V[2]||(V[2]=P=>ne.$emit("am-pm-change",P))}),vn({_:2},[pr(Fe(j),(P,A)=>({name:P,fn:bt($=>[pt(ne.$slots,P,Fr({ref_for:!0},$))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[O0,ee===0?!0:T.value]])),128))],2)),!ne.timePicker&&!ne.timePickerInline?Io((Ke(),Je("button",{key:2,ref_key:"closeTimePickerBtn",ref:y,type:"button",class:vt({...M.value,"dp--hidden-el":E.value}),"aria-label":(Y=Fe(u))==null?void 0:Y.closeTimePicker,tabindex:"0",onKeydown:V[3]||(V[3]=Z=>Fe(Mn)(Z,()=>N(!1))),onClick:V[4]||(V[4]=Z=>N(!1))},[ne.$slots["calendar-icon"]?pt(ne.$slots,"calendar-icon",{key:0}):rt("",!0),ne.$slots["calendar-icon"]?rt("",!0):(Ke(),Ot(Fe(Ju),{key:1}))],42,YH)),[[O0,!Fe(v)(ne.hideNavigation,"time")]]):rt("",!0)],2)],14,ZH)):rt("",!0)]}),_:3},8,["name","css"])],8,GH)}}}),MF=(e,t,r,n)=>{const{defaultedRange:i}=br(e),a=(g,E)=>Array.isArray(t[g])?t[g][E]:t[g],o=g=>e.enableSeconds?Array.isArray(t.seconds)?t.seconds[g]:t.seconds:0,s=(g,E)=>g?E!==void 0?Po(g,a("hours",E),a("minutes",E),o(E)):Po(g,t.hours,t.minutes,o()):pF(st(),o(E)),l=(g,E)=>{t[g]=E},u=tt(()=>e.modelAuto&&i.value.enabled?Array.isArray(r.value)?r.value.length>1:!1:i.value.enabled),f=(g,E)=>{const T=Object.fromEntries(Object.keys(t).map(I=>I===g?[I,E]:[I,t[I]].slice()));if(u.value&&!i.value.disableTimeRangeValidation){const I=B=>r.value?Po(r.value[B],T.hours[B],T.minutes[B],T.seconds[B]):null,D=B=>hF(r.value[B],0);return!(Bt(I(0),I(1))&&(js(I(0),D(1))||Cu(I(1),D(0))))}return!0},d=(g,E)=>{f(g,E)&&(l(g,E),n&&n())},c=g=>{d("hours",g)},p=g=>{d("minutes",g)},b=g=>{d("seconds",g)},v=(g,E,T,I)=>{E&&c(g),!E&&!T&&p(g),T&&b(g),r.value&&I(r.value)},_=g=>{if(g){const E=Array.isArray(g),T=E?[+g[0].hours,+g[1].hours]:+g.hours,I=E?[+g[0].minutes,+g[1].minutes]:+g.minutes,D=E?[+g[0].seconds,+g[1].seconds]:+g.seconds;l("hours",T),l("minutes",I),e.enableSeconds&&l("seconds",D)}},y=(g,E)=>{const T={hours:Array.isArray(t.hours)?t.hours[g]:t.hours,disabledArr:[]};return(E||E===0)&&(T.hours=E),Array.isArray(e.disabledTimes)&&(T.disabledArr=i.value.enabled&&Array.isArray(e.disabledTimes[g])?e.disabledTimes[g]:e.disabledTimes),T},m=tt(()=>(g,E)=>{var T;if(Array.isArray(e.disabledTimes)){const{disabledArr:I,hours:D}=y(g,E),B=I.filter(N=>+N.hours===D);return((T=B[0])==null?void 0:T.minutes)==="*"?{hours:[D],minutes:void 0,seconds:void 0}:{hours:[],minutes:(B==null?void 0:B.map(N=>+N.minutes))??[],seconds:(B==null?void 0:B.map(N=>N.seconds?+N.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:l,updateHours:c,updateMinutes:p,updateSeconds:b,getSetDateTime:s,updateTimeValues:v,getSecondsValue:o,assignStartTime:_,validateTime:f,disabledTimesConfig:m}},QH=(e,t)=>{const r=()=>{e.isTextInputDate&&E()},{modelValue:n,time:i}=jh(e,t,r),{defaultedStartTime:a,defaultedRange:o,defaultedTz:s}=br(e),{updateTimeValues:l,getSetDateTime:u,setTime:f,assignStartTime:d,disabledTimesConfig:c,validateTime:p}=MF(e,i,n,b);function b(){t("update-flow-step")}const v=I=>{const{hours:D,minutes:B,seconds:N}=I;return{hours:+D,minutes:+B,seconds:N?+N:0}},_=()=>{if(e.startTime){if(Array.isArray(e.startTime)){const D=v(e.startTime[0]),B=v(e.startTime[1]);return[nr(st(),D),nr(st(),B)]}const I=v(e.startTime);return nr(st(),I)}return o.value.enabled?[null,null]:null},y=()=>{if(o.value.enabled){const[I,D]=_();n.value=[Wn(u(I,0),s.value.timezone),Wn(u(D,1),s.value.timezone)]}else n.value=Wn(u(_()),s.value.timezone)},m=I=>Array.isArray(I)?[ks(st(I[0])),ks(st(I[1]))]:[ks(I??st())],g=(I,D,B)=>{f("hours",I),f("minutes",D),f("seconds",e.enableSeconds?B:0)},E=()=>{const[I,D]=m(n.value);return o.value.enabled?g([I.hours,D.hours],[I.minutes,D.minutes],[I.seconds,D.seconds]):g(I.hours,I.minutes,I.seconds)};ir(()=>{if(!e.shadow)return d(a.value),n.value?E():y()});const T=()=>{Array.isArray(n.value)?n.value=n.value.map((I,D)=>I&&u(I,D)):n.value=u(n.value),t("time-update")};return{modelValue:n,time:i,disabledTimesConfig:c,updateTime:(I,D=!0,B=!1)=>{l(I,D,B,T)},validateTime:p}},XH=Wt({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...Ki},emits:["update:internal-model-value","time-update","am-pm-change","mount","reset-flow","update-flow-step","overlay-toggle"],setup(e,{expose:t,emit:r}){const n=r,i=e,a=Us(),o=Jn(a,"timePicker"),s=et(null),{time:l,modelValue:u,disabledTimesConfig:f,updateTime:d,validateTime:c}=QH(i,n);return ir(()=>{i.shadow||n("mount",null)}),t({getSidebarProps:()=>({modelValue:u,time:l,updateTime:d}),toggleTimePicker:(p,b=!1,v="")=>{var _;(_=s.value)==null||_.toggleTimePicker(p,b,v)}}),(p,b)=>(Ke(),Ot(hm,{"multi-calendars":0,stretch:"","is-mobile":p.isMobile},{default:bt(()=>[kt(LF,Fr({ref_key:"tpRef",ref:s},p.$props,{hours:Fe(l).hours,minutes:Fe(l).minutes,seconds:Fe(l).seconds,"internal-model-value":p.internalModelValue,"disabled-times-config":Fe(f),"validate-time":Fe(c),"onUpdate:hours":b[0]||(b[0]=v=>Fe(d)(v)),"onUpdate:minutes":b[1]||(b[1]=v=>Fe(d)(v,!1)),"onUpdate:seconds":b[2]||(b[2]=v=>Fe(d)(v,!1,!0)),onAmPmChange:b[3]||(b[3]=v=>p.$emit("am-pm-change",v)),onResetFlow:b[4]||(b[4]=v=>p.$emit("reset-flow")),onOverlayClosed:b[5]||(b[5]=v=>p.$emit("overlay-toggle",{open:!1,overlay:v})),onOverlayOpened:b[6]||(b[6]=v=>p.$emit("overlay-toggle",{open:!0,overlay:v}))}),vn({_:2},[pr(Fe(o),(v,_)=>({name:v,fn:bt(y=>[pt(p.$slots,v,rn(Ln(y)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3},8,["is-mobile"]))}}),JH={class:"dp--header-wrap"},eV={key:0,class:"dp__month_year_wrap"},tV={key:0},rV={class:"dp__month_year_wrap"},nV=["data-dp-element","aria-label","data-test-id","onClick","onKeydown"],iV=Wt({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...Ki},emits:["update-month-year","mount","reset-flow","overlay-closed","overlay-opened"],setup(e,{expose:t,emit:r}){const n=r,i=e,{defaultedTransitions:a,defaultedAriaLabels:o,defaultedMultiCalendars:s,defaultedFilters:l,defaultedConfig:u,defaultedHighlight:f,propDates:d,defaultedUI:c}=br(i),{transitionName:p,showTransition:b}=Fh(a),{buildMatrix:v}=Uo(),{handleMonthYearChange:_,isDisabled:y,updateMonthYear:m}=xH(i,n),{showLeftIcon:g,showRightIcon:E}=mm(),T=et(!1),I=et(!1),D=et(!1),B=et([null,null,null,null]);ir(()=>{n("mount")});const N=Y=>({get:()=>i[Y],set:Z=>{const ee=Y===ki.month?ki.year:ki.month;n("update-month-year",{[Y]:Z,[ee]:i[ee]}),Y===ki.month?le(!0):ae(!0)}}),M=tt(N(ki.month)),j=tt(N(ki.year)),O=tt(()=>Y=>({month:i.month,year:i.year,items:Y===ki.month?i.months:i.years,instance:i.instance,updateMonthYear:m,toggle:Y===ki.month?le:ae})),q=tt(()=>i.months.find(Z=>Z.value===i.month)||{text:"",value:0}),Q=tt(()=>Mu(i.months,Y=>{const Z=i.month===Y.value,ee=bh(Y.value,EF(i.year,d.value.minDate),SF(i.year,d.value.maxDate))||l.value.months.includes(Y.value),P=IF(f.value,Y.value,i.year);return{active:Z,disabled:ee,highlighted:P}})),ie=tt(()=>Mu(i.years,Y=>{const Z=i.year===Y.value,ee=bh(Y.value,ku(d.value.minDate),ku(d.value.maxDate))||l.value.years.includes(Y.value),P=GE(f.value,Y.value);return{active:Z,disabled:ee,highlighted:P}})),X=(Y,Z,ee)=>{ee!==void 0?Y.value=ee:Y.value=!Y.value,Y.value?(D.value=!0,n("overlay-opened",Z)):(D.value=!1,n("overlay-closed",Z))},le=(Y=!1,Z)=>{ne(Y),X(T,gn.month,Z)},ae=(Y=!1,Z)=>{ne(Y),X(I,gn.year,Z)},ne=Y=>{Y||n("reset-flow")},V=(Y,Z)=>{i.arrowNavigation&&(B.value[Z]=Yr(Y),v(B.value,"monthYear"))},oe=tt(()=>{var Y,Z,ee,P,A,$;return[{type:ki.month,index:1,toggle:le,modelValue:M.value,updateModelValue:te=>M.value=te,text:q.value.text,showSelectionGrid:T.value,items:Q.value,ariaLabel:(Y=o.value)==null?void 0:Y.openMonthsOverlay,overlayLabel:((ee=(Z=o.value).monthPicker)==null?void 0:ee.call(Z,!0))??void 0},{type:ki.year,index:2,toggle:ae,modelValue:j.value,updateModelValue:te=>j.value=te,text:vF(i.year,i.locale),showSelectionGrid:I.value,items:ie.value,ariaLabel:(P=o.value)==null?void 0:P.openYearsOverlay,overlayLabel:(($=(A=o.value).yearPicker)==null?void 0:$.call(A,!0))??void 0}]}),he=tt(()=>i.disableYearSelect?[oe.value[0]]:i.yearFirst?[...oe.value].reverse():oe.value);return t({toggleMonthPicker:le,toggleYearPicker:ae,handleMonthYearChange:_}),(Y,Z)=>{var ee,P,A,$,te,pe;return Ke(),Je("div",JH,[Y.$slots["month-year"]?(Ke(),Je("div",eV,[pt(Y.$slots,"month-year",rn(Ln({month:e.month,year:e.year,months:e.months,years:e.years,updateMonthYear:Fe(m),handleMonthYearChange:Fe(_),instance:e.instance,isDisabled:Fe(y)})))])):(Ke(),Je(wt,{key:1},[Y.$slots["top-extra"]?(Ke(),Je("div",tV,[pt(Y.$slots,"top-extra",{value:Y.internalModelValue})])):rt("",!0),_t("div",rV,[Fe(g)(Fe(s),e.instance)&&!Y.vertical?(Ke(),Ot(rh,{key:0,"aria-label":(ee=Fe(o))==null?void 0:ee.prevMonth,disabled:Fe(y)(!1),class:vt((P=Fe(c))==null?void 0:P.navBtnPrev),"el-name":"action-prev",onActivate:Z[0]||(Z[0]=R=>Fe(_)(!1,!0)),onSetRef:Z[1]||(Z[1]=R=>V(R,0))},{default:bt(()=>[Y.$slots["arrow-left"]?pt(Y.$slots,"arrow-left",{key:0}):rt("",!0),Y.$slots["arrow-left"]?rt("",!0):(Ke(),Ot(Fe(jE),{key:1}))]),_:3},8,["aria-label","disabled","class"])):rt("",!0),_t("div",{class:vt(["dp__month_year_wrap",{dp__year_disable_select:Y.disableYearSelect}])},[(Ke(!0),Je(wt,null,pr(he.value,(R,w)=>(Ke(),Je(wt,{key:R.type},[_t("button",{ref_for:!0,ref:x=>V(x,w+1),type:"button","data-dp-element":`overlay-${R.type}`,class:vt(["dp__btn dp__month_year_select",{"dp--hidden-el":D.value}]),"aria-label":`${R.text}-${R.ariaLabel}`,"data-test-id":`${R.type}-toggle-overlay-${e.instance}`,onClick:R.toggle,onKeydown:x=>Fe(Mn)(x,()=>R.toggle(),!0)},[Y.$slots[R.type]?pt(Y.$slots,R.type,{key:0,text:R.text,value:i[R.type]}):rt("",!0),Y.$slots[R.type]?rt("",!0):(Ke(),Je(wt,{key:1},[Si(qt(R.text),1)],64))],42,nV),kt(Zu,{name:Fe(p)(R.showSelectionGrid),css:Fe(b)},{default:bt(()=>[R.showSelectionGrid?(Ke(),Ot(kh,{key:0,items:R.items,"arrow-navigation":Y.arrowNavigation,"hide-navigation":Y.hideNavigation,"is-last":Y.autoApply&&!Fe(u).keepActionRow,"skip-button-ref":!1,config:Y.config,type:R.type,"header-refs":[],"esc-close":Y.escClose,"menu-wrap-ref":Y.menuWrapRef,"text-input":Y.textInput,"aria-labels":Y.ariaLabels,"overlay-label":R.overlayLabel,onSelected:R.updateModelValue,onToggle:R.toggle},vn({"button-icon":bt(()=>[Y.$slots["calendar-icon"]?pt(Y.$slots,"calendar-icon",{key:0}):rt("",!0),Y.$slots["calendar-icon"]?rt("",!0):(Ke(),Ot(Fe(Ju),{key:1}))]),_:2},[Y.$slots[`${R.type}-overlay-value`]?{name:"item",fn:bt(({item:x})=>[pt(Y.$slots,`${R.type}-overlay-value`,{text:x.text,value:x.value})]),key:"0"}:void 0,Y.$slots[`${R.type}-overlay`]?{name:"overlay",fn:bt(()=>[pt(Y.$slots,`${R.type}-overlay`,Fr({ref_for:!0},O.value(R.type)))]),key:"1"}:void 0,Y.$slots[`${R.type}-overlay-header`]?{name:"header",fn:bt(()=>[pt(Y.$slots,`${R.type}-overlay-header`,{toggle:R.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","menu-wrap-ref","text-input","aria-labels","overlay-label","onSelected","onToggle"])):rt("",!0)]),_:2},1032,["name","css"])],64))),128))],2),Fe(g)(Fe(s),e.instance)&&Y.vertical?(Ke(),Ot(rh,{key:1,"aria-label":(A=Fe(o))==null?void 0:A.prevMonth,"el-name":"action-prev",disabled:Fe(y)(!1),class:vt(($=Fe(c))==null?void 0:$.navBtnPrev),onActivate:Z[2]||(Z[2]=R=>Fe(_)(!1,!0))},{default:bt(()=>[Y.$slots["arrow-up"]?pt(Y.$slots,"arrow-up",{key:0}):rt("",!0),Y.$slots["arrow-up"]?rt("",!0):(Ke(),Ot(Fe($E),{key:1}))]),_:3},8,["aria-label","disabled","class"])):rt("",!0),Fe(E)(Fe(s),e.instance)?(Ke(),Ot(rh,{key:2,ref:"rightIcon","el-name":"action-next",disabled:Fe(y)(!0),"aria-label":(te=Fe(o))==null?void 0:te.nextMonth,class:vt((pe=Fe(c))==null?void 0:pe.navBtnNext),onActivate:Z[3]||(Z[3]=R=>Fe(_)(!0,!0)),onSetRef:Z[4]||(Z[4]=R=>V(R,Y.disableYearSelect?2:3))},{default:bt(()=>[Y.$slots[Y.vertical?"arrow-down":"arrow-right"]?pt(Y.$slots,Y.vertical?"arrow-down":"arrow-right",{key:0}):rt("",!0),Y.$slots[Y.vertical?"arrow-down":"arrow-right"]?rt("",!0):(Ke(),Ot(ba(Y.vertical?Fe(UE):Fe(BE)),{key:1}))]),_:3},8,["disabled","aria-label","class"])):rt("",!0)])],64))])}}}),aV={class:"dp__calendar_header",role:"row"},oV={key:0,class:"dp__calendar_header_item",role:"gridcell"},sV=["aria-label"],uV={key:0,class:"dp__calendar_item dp__week_num",role:"gridcell"},lV={class:"dp__cell_inner"},fV=["id","aria-pressed","aria-disabled","aria-label","tabindex","data-test-id","onClick","onTouchend","onKeydown","onMouseenter","onMouseleave","onMousedown"],cV=Wt({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Ki},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(e,{expose:t,emit:r}){const n=r,i=e,{buildMultiLevelMatrix:a}=Uo(),{defaultedTransitions:o,defaultedConfig:s,defaultedAriaLabels:l,defaultedMultiCalendars:u,defaultedWeekNumbers:f,defaultedMultiDates:d,defaultedUI:c}=br(i),p=et(null),b=et({bottom:"",left:"",transform:""}),v=et([]),_=et(null),y=et(!0),m=et(""),g=et({startX:0,endX:0,startY:0,endY:0}),E=et([]),T=et({left:"50%"}),I=et(!1),D=tt(()=>i.calendar?i.calendar(i.mappedDates):i.mappedDates),B=tt(()=>i.dayNames?Array.isArray(i.dayNames)?i.dayNames:i.dayNames(i.locale,+i.weekStart):HU(i.formatLocale,i.locale,+i.weekStart));ir(()=>{n("mount",{cmp:"calendar",refs:v}),s.value.noSwipe||_.value&&(_.value.addEventListener("touchstart",V,{passive:!1}),_.value.addEventListener("touchend",oe,{passive:!1}),_.value.addEventListener("touchmove",he,{passive:!1})),i.monthChangeOnScroll&&_.value&&_.value.addEventListener("wheel",ee,{passive:!1})});const N=R=>R?i.vertical?"vNext":"next":i.vertical?"vPrevious":"previous",M=(R,w)=>{if(i.transitions){const x=hn(Ha(st(),i.month,i.year));m.value=Mr(hn(Ha(st(),R,w)),x)?o.value[N(!0)]:o.value[N(!1)],y.value=!1,Ar(()=>{y.value=!0})}},j=tt(()=>({...c.value.calendar??{}})),O=tt(()=>R=>{const w=zU(R);return{dp__marker_dot:w.type==="dot",dp__marker_line:w.type==="line"}}),q=tt(()=>R=>Bt(R,p.value)),Q=tt(()=>({dp__calendar:!0,dp__calendar_next:u.value.count>0&&i.instance!==0})),ie=tt(()=>R=>i.hideOffsetDates?R.current:!0),X=async(R,w)=>{const{width:x,height:k}=R.getBoundingClientRect();p.value=w.value;let U={left:`${x/2}px`},re=-50;if(await Ar(),E.value[0]){const{left:fe,width:ve}=E.value[0].getBoundingClientRect();fe<0&&(U={left:"0"},re=0,T.value.left=`${x/2}px`),window.innerWidth<fe+ve&&(U={right:"0"},re=0,T.value.left=`${ve-x/2}px`)}b.value={bottom:`${k}px`,...U,transform:`translateX(${re}%)`}},le=async(R,w,x)=>{var k,U,re;const fe=Yr(v.value[w][x]);fe&&((k=R.marker)!=null&&k.customPosition&&(re=(U=R.marker)==null?void 0:U.tooltip)!=null&&re.length?b.value=R.marker.customPosition(fe):await X(fe,R),n("tooltip-open",R.marker))},ae=async(R,w,x)=>{var k,U;if(I.value&&d.value.enabled&&d.value.dragSelect)return n("select-date",R);if(n("set-hover-date",R),(U=(k=R.marker)==null?void 0:k.tooltip)!=null&&U.length){if(i.hideOffsetDates&&!R.current)return;await le(R,w,x)}},ne=R=>{p.value&&(p.value=null,b.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),n("tooltip-close",R.marker))},V=R=>{g.value.startX=R.changedTouches[0].screenX,g.value.startY=R.changedTouches[0].screenY},oe=R=>{g.value.endX=R.changedTouches[0].screenX,g.value.endY=R.changedTouches[0].screenY,Y()},he=R=>{i.vertical&&!i.inline&&R.preventDefault()},Y=()=>{const R=i.vertical?"Y":"X";Math.abs(g.value[`start${R}`]-g.value[`end${R}`])>10&&n("handle-swipe",g.value[`start${R}`]>g.value[`end${R}`]?"right":"left")},Z=(R,w,x)=>{R&&(Array.isArray(v.value[w])?v.value[w][x]=R:v.value[w]=[R]),i.arrowNavigation&&a(v.value,"calendar")},ee=R=>{i.monthChangeOnScroll&&(R.preventDefault(),n("handle-scroll",R))},P=R=>f.value.type==="local"?ME(R.value,{weekStartsOn:+i.weekStart}):f.value.type==="iso"?CE(R.value):typeof f.value.type=="function"?f.value.type(R.value):"",A=R=>{const w=R[0];return f.value.hideOnOffsetDates?R.some(x=>x.current)?P(w):"":P(w)},$=(R,w,x=!0)=>{!x&&YU()||(!d.value.enabled||s.value.allowPreventDefault)&&(Oo(R,s.value),n("select-date",w))},te=R=>{Oo(R,s.value)},pe=R=>{d.value.enabled&&d.value.dragSelect?(I.value=!0,n("select-date",R)):d.value.enabled&&n("select-date",R)};return t({triggerTransition:M}),(R,w)=>(Ke(),Je("div",{class:vt(Q.value)},[_t("div",{ref_key:"calendarWrapRef",ref:_,class:vt(j.value),role:"grid"},[_t("div",aV,[R.weekNumbers?(Ke(),Je("div",oV,qt(R.weekNumName),1)):rt("",!0),(Ke(!0),Je(wt,null,pr(B.value,(x,k)=>{var U,re;return Ke(),Je("div",{key:k,class:"dp__calendar_header_item",role:"gridcell","data-test-id":"calendar-header","aria-label":(re=(U=Fe(l))==null?void 0:U.weekDay)==null?void 0:re.call(U,k)},[R.$slots["calendar-header"]?pt(R.$slots,"calendar-header",{key:0,day:x,index:k}):rt("",!0),R.$slots["calendar-header"]?rt("",!0):(Ke(),Je(wt,{key:1},[Si(qt(x),1)],64))],8,sV)}),128))]),w[2]||(w[2]=_t("div",{class:"dp__calendar_header_separator"},null,-1)),kt(Zu,{name:m.value,css:!!R.transitions},{default:bt(()=>[y.value?(Ke(),Je("div",{key:0,class:"dp__calendar",role:"rowgroup",onMouseleave:w[1]||(w[1]=x=>I.value=!1)},[(Ke(!0),Je(wt,null,pr(D.value,(x,k)=>(Ke(),Je("div",{key:k,class:"dp__calendar_row",role:"row"},[R.weekNumbers?(Ke(),Je("div",uV,[_t("div",lV,qt(A(x.days)),1)])):rt("",!0),(Ke(!0),Je(wt,null,pr(x.days,(U,re)=>{var fe,ve,ce;return Ke(),Je("div",{id:Fe(zw)(U.value),ref_for:!0,ref:Ie=>Z(Ie,k,re),key:re+k,role:"gridcell",class:"dp__calendar_item","aria-pressed":(U.classData.dp__active_date||U.classData.dp__range_start||U.classData.dp__range_start)??void 0,"aria-disabled":U.classData.dp__cell_disabled||void 0,"aria-label":(ve=(fe=Fe(l))==null?void 0:fe.day)==null?void 0:ve.call(fe,U),tabindex:!U.current&&R.hideOffsetDates?void 0:0,"data-test-id":Fe(zw)(U.value),onClick:gh(Ie=>$(Ie,U),["prevent"]),onTouchend:Ie=>$(Ie,U,!1),onKeydown:Ie=>Fe(Mn)(Ie,()=>R.$emit("select-date",U)),onMouseenter:Ie=>ae(U,k,re),onMouseleave:Ie=>ne(U),onMousedown:Ie=>pe(U),onMouseup:w[0]||(w[0]=Ie=>I.value=!1)},[_t("div",{class:vt(["dp__cell_inner",U.classData])},[R.$slots.day&&ie.value(U)?pt(R.$slots,"day",{key:0,day:+U.text,date:U.value}):rt("",!0),R.$slots.day?rt("",!0):(Ke(),Je(wt,{key:1},[Si(qt(U.text),1)],64)),U.marker&&ie.value(U)?(Ke(),Je(wt,{key:2},[R.$slots.marker?pt(R.$slots,"marker",{key:0,marker:U.marker,day:+U.text,date:U.value}):(Ke(),Je("div",{key:1,class:vt(O.value(U.marker)),style:kr(U.marker.color?{backgroundColor:U.marker.color}:{})},null,6))],64)):rt("",!0),q.value(U.value)?(Ke(),Je("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:E,class:"dp__marker_tooltip",style:kr(b.value)},[(ce=U.marker)!=null&&ce.tooltip?(Ke(),Je("div",{key:0,class:"dp__tooltip_content",onClick:te},[(Ke(!0),Je(wt,null,pr(U.marker.tooltip,(Ie,be)=>(Ke(),Je("div",{key:be,class:"dp__tooltip_text"},[R.$slots["marker-tooltip"]?pt(R.$slots,"marker-tooltip",{key:0,tooltip:Ie,day:U.value}):rt("",!0),R.$slots["marker-tooltip"]?rt("",!0):(Ke(),Je(wt,{key:1},[_t("div",{class:"dp__tooltip_mark",style:kr(Ie.color?{backgroundColor:Ie.color}:{})},null,4),_t("div",null,qt(Ie.text),1)],64))]))),128)),_t("div",{class:"dp__arrow_bottom_tp",style:kr(T.value)},null,4)])):rt("",!0)],4)):rt("",!0)],2)],40,fV)}),128))]))),128))],32)):rt("",!0)]),_:3},8,["name","css"])],2)],2))}}),pR=e=>Array.isArray(e),dV=(e,t,r,n)=>{const i=et([]),a=et(new Date),o=et(),s=()=>oe(e.isTextInputDate),{modelValue:l,calendars:u,time:f,today:d}=jh(e,t,s),{defaultedMultiCalendars:c,defaultedStartTime:p,defaultedRange:b,defaultedConfig:v,defaultedTz:_,propDates:y,defaultedMultiDates:m}=br(e),{validateMonthYearInRange:g,isDisabled:E,isDateRangeAllowed:T,checkMinMaxRange:I}=Ho(e),{updateTimeValues:D,getSetDateTime:B,setTime:N,assignStartTime:M,validateTime:j,disabledTimesConfig:O}=MF(e,f,l,n),q=tt(()=>Re=>u.value[Re]?u.value[Re].month:0),Q=tt(()=>Re=>u.value[Re]?u.value[Re].year:0),ie=Re=>!v.value.keepViewOnOffsetClick||Re?!0:!o.value,X=(Re,qe,H,Te=!1)=>{var Ce,me;ie(Te)&&(u.value[Re]||(u.value[Re]={month:0,year:0}),u.value[Re].month=uR(qe)?(Ce=u.value[Re])==null?void 0:Ce.month:qe,u.value[Re].year=uR(H)?(me=u.value[Re])==null?void 0:me.year:H)},le=()=>{e.autoApply&&t("select-date")},ae=()=>{p.value&&M(p.value)};ir(()=>{e.shadow||(l.value||(w(),ae()),oe(!0),e.focusStartDate&&e.startDate&&w())});const ne=tt(()=>{var Re;return(Re=e.flow)!=null&&Re.length&&!e.partialFlow?e.flowStep===e.flow.length:!0}),V=()=>{e.autoApply&&ne.value&&t("auto-apply",e.partialFlow?e.flowStep!==e.flow.length:!1)},oe=(Re=!1)=>{if(l.value)return Array.isArray(l.value)?(i.value=l.value,$(Re)):Z(l.value,Re);if(c.value.count&&Re&&!e.startDate)return Y(st(),Re)},he=()=>Array.isArray(l.value)&&b.value.enabled?jt(l.value[0])===jt(l.value[1]??l.value[0]):!1,Y=(Re=new Date,qe=!1)=>{if((!c.value.count||!c.value.static||qe)&&X(0,jt(Re),At(Re)),c.value.count&&(!l.value||he()||!c.value.solo)&&(!c.value.solo||qe))for(let H=1;H<c.value.count;H++){const Te=nr(st(),{month:q.value(H-1),year:Q.value(H-1)}),Ce=Zk(Te,{months:1});u.value[H]={month:jt(Ce),year:At(Ce)}}},Z=(Re,qe)=>{Y(Re),N("hours",Ga(Re)),N("minutes",Co(Re)),N("seconds",Nu(Re)),c.value.count&&qe&&R()},ee=Re=>{if(c.value.count){if(c.value.solo)return 0;const qe=jt(Re[0]),H=jt(Re[1]);return Math.abs(H-qe)<c.value.count?0:1}return 1},P=(Re,qe)=>{Re[1]&&b.value.showLastInRange?Y(Re[ee(Re)],qe):Y(Re[0],qe);const H=(Te,Ce)=>[Te(Re[0]),Re[1]?Te(Re[1]):f[Ce][1]];N("hours",H(Ga,"hours")),N("minutes",H(Co,"minutes")),N("seconds",H(Nu,"seconds"))},A=(Re,qe)=>{if((b.value.enabled||e.weekPicker)&&!m.value.enabled)return P(Re,qe);if(m.value.enabled&&qe){const H=Re[Re.length-1];return Z(H,qe)}},$=Re=>{const qe=l.value;A(qe,Re),c.value.count&&c.value.solo&&R()},te=(Re,qe)=>{const H=nr(st(),{month:q.value(qe),year:Q.value(qe)}),Te=Re<0?Ui(H,1):Lu(H,1);g(jt(Te),At(Te),Re<0,e.preventMinMaxNavigation)&&(X(qe,jt(Te),At(Te)),t("update-month-year",{instance:qe,month:jt(Te),year:At(Te)}),c.value.count&&!c.value.solo&&pe(qe),r())},pe=Re=>{for(let qe=Re-1;qe>=0;qe--){const H=Lu(nr(st(),{month:q.value(qe+1),year:Q.value(qe+1)}),1);X(qe,jt(H),At(H))}for(let qe=Re+1;qe<=c.value.count-1;qe++){const H=Ui(nr(st(),{month:q.value(qe-1),year:Q.value(qe-1)}),1);X(qe,jt(H),At(H))}},R=()=>{if(Array.isArray(l.value)&&l.value.length===2){const Re=st(st(l.value[1]?l.value[1]:Ui(l.value[0],1))),[qe,H]=[jt(l.value[0]),At(l.value[0])],[Te,Ce]=[jt(l.value[1]),At(l.value[1])];(qe!==Te||qe===Te&&H!==Ce)&&c.value.solo&&X(1,jt(Re),At(Re))}else l.value&&!Array.isArray(l.value)&&(X(0,jt(l.value),At(l.value)),Y(st()))},w=()=>{e.startDate&&(X(0,jt(st(e.startDate)),At(st(e.startDate))),c.value.count&&pe(0))},x=(Re,qe)=>{if(e.monthChangeOnScroll){const H=new Date().getTime()-a.value.getTime(),Te=Math.abs(Re.deltaY);let Ce=500;Te>1&&(Ce=100),Te>100&&(Ce=0),H>Ce&&(a.value=new Date,te(e.monthChangeOnScroll!=="inverse"?-Re.deltaY:Re.deltaY,qe))}},k=(Re,qe,H=!1)=>{e.monthChangeOnArrows&&e.vertical===H&&U(Re,qe)},U=(Re,qe)=>{te(Re==="right"?-1:1,qe)},re=Re=>{if(y.value.markers)return z0(Re.value,y.value.markers)},fe=(Re,qe)=>{switch(e.sixWeeks===!0?"append":e.sixWeeks){case"prepend":return[!0,!1];case"center":return[Re==0,!0];case"fair":return[Re==0||qe>Re,!0];case"append":return[!1,!1];default:return[!1,!1]}},ve=(Re,qe,H,Te)=>{if(e.sixWeeks&&Re.length<6){const Ce=6-Re.length,me=(qe.getDay()+7-Te)%7,Me=6-(H.getDay()+7-Te)%7,[Ve,ft]=fe(me,Me);for(let we=1;we<=Ce;we++)if(ft?!!(we%2)==Ve:Ve){const G=Re[0].days[0],W=ce(mi(G.value,-7),jt(qe));Re.unshift({days:W})}else{const G=Re[Re.length-1],W=G.days[G.days.length-1],J=ce(mi(W.value,1),jt(qe));Re.push({days:J})}}return Re},ce=(Re,qe)=>{const H=st(Re),Te=[];for(let Ce=0;Ce<7;Ce++){const me=mi(H,Ce),Me=jt(me)!==qe;Te.push({text:e.hideOffsetDates&&Me?"":me.getDate(),value:me,current:!Me,classData:{}})}return Te},Ie=(Re,qe)=>{const H=[],Te=new Date(qe,Re),Ce=new Date(qe,Re+1,0),me=e.weekStart,Me=Vi(Te,{weekStartsOn:me}),Ve=ft=>{const we=ce(ft,Re);if(H.push({days:we}),!H[H.length-1].days.some(G=>Bt(hn(G.value),hn(Ce)))){const G=mi(ft,7);Ve(G)}};return Ve(Me),ve(H,Te,Ce,me)},be=Re=>{const qe=Po(st(Re.value),f.hours,f.minutes,Ue());t("date-update",qe),m.value.enabled?KE(qe,l,m.value.limit):l.value=qe,n(),Ar().then(()=>{V()})},xe=Re=>b.value.noDisabledRange?xF(i.value[0],Re).some(qe=>E(qe)):!1,je=()=>{i.value=l.value?l.value.slice():[],i.value.length===2&&!(b.value.fixedStart||b.value.fixedEnd)&&(i.value=[])},Ae=(Re,qe)=>{const H=[st(Re.value),mi(st(Re.value),+b.value.autoRange)];T(H)?(qe&&Pe(Re.value),i.value=H):t("invalid-date",Re.value)},Pe=Re=>{const qe=jt(st(Re)),H=At(st(Re));if(X(0,qe,H),c.value.count>0)for(let Te=1;Te<c.value.count;Te++){const Ce=eH(nr(st(Re),{year:Q.value(Te-1),month:q.value(Te-1)}));X(Te,Ce.month,Ce.year)}},ke=Re=>{if(xe(Re.value)||!I(Re.value,l.value,b.value.fixedStart?0:1))return t("invalid-date",Re.value);i.value=NF(st(Re.value),l,t,b)},Ze=(Re,qe)=>{if(je(),b.value.autoRange)return Ae(Re,qe);if(b.value.fixedStart||b.value.fixedEnd)return ke(Re);i.value[0]?I(st(Re.value),l.value)&&!xe(Re.value)?Rr(st(Re.value),st(i.value[0]))?(i.value.unshift(st(Re.value)),t("range-end",i.value[0])):(i.value[1]=st(Re.value),t("range-end",i.value[1])):(e.autoApply&&t("auto-apply-invalid",Re.value),t("invalid-date",Re.value)):(i.value[0]=st(Re.value),t("range-start",i.value[0]))},Ue=(Re=!0)=>e.enableSeconds?Array.isArray(f.seconds)?Re?f.seconds[0]:f.seconds[1]:f.seconds:0,it=Re=>{i.value[Re]=Po(i.value[Re],f.hours[Re],f.minutes[Re],Ue(Re!==1))},ye=()=>{var Re,qe;i.value[0]&&i.value[1]&&+((Re=i.value)==null?void 0:Re[0])>+((qe=i.value)==null?void 0:qe[1])&&(i.value.reverse(),t("range-start",i.value[0]),t("range-end",i.value[1]))},F=()=>{i.value.length&&(i.value[0]&&!i.value[1]?it(0):(it(0),it(1),n()),ye(),l.value=i.value.slice(),pm(i.value,t,e.autoApply,e.modelAuto))},K=(Re,qe=!1)=>{if(E(Re.value)||!Re.current&&e.hideOffsetDates)return t("invalid-date",Re.value);if(o.value=JSON.parse(JSON.stringify(Re)),!b.value.enabled)return be(Re);pR(f.hours)&&pR(f.minutes)&&!m.value.enabled&&(Ze(Re,qe),F())},_e=(Re,qe)=>{var H;X(Re,qe.month,qe.year,!0),c.value.count&&!c.value.solo&&pe(Re),t("update-month-year",{instance:Re,month:qe.month,year:qe.year}),r(c.value.solo?Re:void 0);const Te=(H=e.flow)!=null&&H.length?e.flow[e.flowStep]:void 0;!qe.fromNav&&(Te===gn.month||Te===gn.year)&&n()},Oe=(Re,qe)=>{DF({value:Re,modelValue:l,range:b.value.enabled,timezone:qe?void 0:_.value.timezone}),le(),e.multiCalendars&&Ar().then(()=>oe(!0))},se=()=>{const Re=HE(st(),_.value);!b.value.enabled&&!m.value.enabled?l.value=Re:l.value&&Array.isArray(l.value)&&l.value[0]?m.value.enabled?l.value=[...l.value,Re]:l.value=Rr(Re,l.value[0])?[Re,l.value[0]]:[l.value[0],Re]:l.value=[Re],le()},ge=()=>{if(Array.isArray(l.value))if(m.value.enabled){const Re=de();l.value[l.value.length-1]=B(Re)}else l.value=l.value.map((Re,qe)=>Re&&B(Re,qe));else l.value=B(l.value);t("time-update")},de=()=>Array.isArray(l.value)&&l.value.length?l.value[l.value.length-1]:null;return{calendars:u,modelValue:l,month:q,year:Q,time:f,disabledTimesConfig:O,today:d,validateTime:j,getCalendarDays:Ie,getMarker:re,handleScroll:x,handleSwipe:U,handleArrow:k,selectDate:K,updateMonthYear:_e,presetDate:Oe,selectCurrentDate:se,updateTime:(Re,qe=!0,H=!1)=>{D(Re,qe,H,ge)},assignMonthAndYear:Y,setStartTime:ae}},hV={key:0},pV=Wt({__name:"DatePicker",props:{...Ki},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(e,{expose:t,emit:r}){const n=r,i=e,{calendars:a,month:o,year:s,modelValue:l,time:u,disabledTimesConfig:f,today:d,validateTime:c,getCalendarDays:p,getMarker:b,handleArrow:v,handleScroll:_,handleSwipe:y,selectDate:m,updateMonthYear:g,presetDate:E,selectCurrentDate:T,updateTime:I,assignMonthAndYear:D,setStartTime:B}=dV(i,n,he,Y),N=Us(),{setHoverDate:M,getDayClassData:j,clearHoverDate:O}=DV(l,i),{defaultedMultiCalendars:q}=br(i),Q=et([]),ie=et([]),X=et(null),le=Jn(N,"calendar"),ae=Jn(N,"monthYear"),ne=Jn(N,"timePicker"),V=x=>{i.shadow||n("mount",x)};Xr(a,()=>{i.shadow||setTimeout(()=>{n("recalculate-position")},0)},{deep:!0}),Xr(q,(x,k)=>{x.count-k.count>0&&D()},{deep:!0});const oe=tt(()=>x=>p(o.value(x),s.value(x)).map(k=>({...k,days:k.days.map(U=>(U.marker=b(U),U.classData=j(U),U))})));function he(x){var k;x||x===0?(k=ie.value[x])==null||k.triggerTransition(o.value(x),s.value(x)):ie.value.forEach((U,re)=>U.triggerTransition(o.value(re),s.value(re)))}function Y(){n("update-flow-step")}const Z=(x,k=!1)=>{m(x,k),i.spaceConfirm&&n("select-date")},ee=(x,k,U=0)=>{var re;(re=Q.value[U])==null||re.toggleMonthPicker(x,k)},P=(x,k,U=0)=>{var re;(re=Q.value[U])==null||re.toggleYearPicker(x,k)},A=(x,k,U)=>{var re;(re=X.value)==null||re.toggleTimePicker(x,k,U)},$=(x,k)=>{var U;if(!i.range){const re=l.value?l.value:d,fe=k?new Date(k):re,ve=x?Vi(fe,{weekStartsOn:1}):rF(fe,{weekStartsOn:1});m({value:ve,current:jt(fe)===o.value(0),text:"",classData:{}}),(U=document.getElementById(zw(ve)))==null||U.focus()}},te=x=>{var k;(k=Q.value[0])==null||k.handleMonthYearChange(x,!0)},pe=x=>{g(0,{month:o.value(0),year:s.value(0)+(x?1:-1),fromNav:!0})},R=(x,k)=>{x===gn.time&&n(`time-picker-${k?"open":"close"}`),n("overlay-toggle",{open:k,overlay:x})},w=x=>{n("overlay-toggle",{open:!1,overlay:x}),n("focus-menu")};return t({clearHoverDate:O,presetDate:E,selectCurrentDate:T,toggleMonthPicker:ee,toggleYearPicker:P,toggleTimePicker:A,handleArrow:v,updateMonthYear:g,getSidebarProps:()=>({modelValue:l,month:o,year:s,time:u,updateTime:I,updateMonthYear:g,selectDate:m,presetDate:E}),changeMonth:te,changeYear:pe,selectWeekDate:$,setStartTime:B}),(x,k)=>(Ke(),Je(wt,null,[kt(hm,{"multi-calendars":Fe(q).count,collapse:x.collapse,"is-mobile":x.isMobile},{default:bt(({instance:U,index:re})=>[x.disableMonthYearSelect?rt("",!0):(Ke(),Ot(iV,Fr({key:0,ref:fe=>{fe&&(Q.value[re]=fe)},months:Fe(gF)(x.formatLocale,x.locale,x.monthNameFormat),years:Fe(VE)(x.yearRange,x.locale,x.reverseYears),month:Fe(o)(U),year:Fe(s)(U),instance:U},x.$props,{onMount:k[0]||(k[0]=fe=>V(Fe(Ms).header)),onResetFlow:k[1]||(k[1]=fe=>x.$emit("reset-flow")),onUpdateMonthYear:fe=>Fe(g)(U,fe),onOverlayClosed:w,onOverlayOpened:k[2]||(k[2]=fe=>x.$emit("overlay-toggle",{open:!0,overlay:fe}))}),vn({_:2},[pr(Fe(ae),(fe,ve)=>({name:fe,fn:bt(ce=>[pt(x.$slots,fe,rn(Ln(ce)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),kt(cV,Fr({ref:fe=>{fe&&(ie.value[re]=fe)},"mapped-dates":oe.value(U),month:Fe(o)(U),year:Fe(s)(U),instance:U},x.$props,{onSelectDate:fe=>Fe(m)(fe,U!==1),onHandleSpace:fe=>Z(fe,U!==1),onSetHoverDate:k[3]||(k[3]=fe=>Fe(M)(fe)),onHandleScroll:fe=>Fe(_)(fe,U),onHandleSwipe:fe=>Fe(y)(fe,U),onMount:k[4]||(k[4]=fe=>V(Fe(Ms).calendar)),onResetFlow:k[5]||(k[5]=fe=>x.$emit("reset-flow")),onTooltipOpen:k[6]||(k[6]=fe=>x.$emit("tooltip-open",fe)),onTooltipClose:k[7]||(k[7]=fe=>x.$emit("tooltip-close",fe))}),vn({_:2},[pr(Fe(le),(fe,ve)=>({name:fe,fn:bt(ce=>[pt(x.$slots,fe,rn(Ln({...ce})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars","collapse","is-mobile"]),x.enableTimePicker?(Ke(),Je("div",hV,[x.$slots["time-picker"]?pt(x.$slots,"time-picker",rn(Fr({key:0},{time:Fe(u),updateTime:Fe(I)}))):(Ke(),Ot(LF,Fr({key:1,ref_key:"timePickerRef",ref:X},x.$props,{hours:Fe(u).hours,minutes:Fe(u).minutes,seconds:Fe(u).seconds,"internal-model-value":x.internalModelValue,"disabled-times-config":Fe(f),"validate-time":Fe(c),onMount:k[8]||(k[8]=U=>V(Fe(Ms).timePicker)),"onUpdate:hours":k[9]||(k[9]=U=>Fe(I)(U)),"onUpdate:minutes":k[10]||(k[10]=U=>Fe(I)(U,!1)),"onUpdate:seconds":k[11]||(k[11]=U=>Fe(I)(U,!1,!0)),onResetFlow:k[12]||(k[12]=U=>x.$emit("reset-flow")),onOverlayClosed:k[13]||(k[13]=U=>R(U,!1)),onOverlayOpened:k[14]||(k[14]=U=>R(U,!0)),onAmPmChange:k[15]||(k[15]=U=>x.$emit("am-pm-change",U))}),vn({_:2},[pr(Fe(ne),(U,re)=>({name:U,fn:bt(fe=>[pt(x.$slots,U,rn(Ln(fe)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):rt("",!0)],64))}}),mV=(e,t)=>{const r=et(),{defaultedMultiCalendars:n,defaultedConfig:i,defaultedHighlight:a,defaultedRange:o,propDates:s,defaultedFilters:l,defaultedMultiDates:u}=br(e),{modelValue:f,year:d,month:c,calendars:p}=jh(e,t),{isDisabled:b}=Ho(e),{selectYear:v,groupedYears:_,showYearPicker:y,isDisabled:m,toggleYearPicker:g,handleYearSelect:E,handleYear:T}=CF({modelValue:f,multiCalendars:n,range:o,highlight:a,calendars:p,propDates:s,month:c,year:d,filters:l,props:e,emit:t}),I=(ie,X)=>[ie,X].map(le=>ga(le,"MMMM",{locale:e.formatLocale})).join("-"),D=tt(()=>ie=>f.value?Array.isArray(f.value)?f.value.some(X=>aR(ie,X)):aR(f.value,ie):!1),B=ie=>{if(o.value.enabled){if(Array.isArray(f.value)){const X=Bt(ie,f.value[0])||Bt(ie,f.value[1]);return vh(f.value,r.value,ie)&&!X}return!1}return!1},N=(ie,X)=>ie.quarter===JT(X)&&ie.year===At(X),M=ie=>typeof a.value=="function"?a.value({quarter:JT(ie),year:At(ie)}):!!a.value.quarters.find(X=>N(X,ie)),j=tt(()=>ie=>{const X=nr(new Date,{year:d.value(ie)});return H9({start:_h(X),end:tF(X)}).map(le=>{const ae=Ds(le),ne=eR(le),V=b(le),oe=B(ae),he=M(ae);return{text:I(ae,ne),value:ae,active:D.value(ae),highlighted:he,disabled:V,isBetween:oe}})}),O=ie=>{KE(ie,f,u.value.limit),t("auto-apply",!0)},q=ie=>{f.value=ZE(f,ie,t),pm(f.value,t,e.autoApply,e.modelAuto)},Q=ie=>{f.value=ie,t("auto-apply")};return{defaultedConfig:i,defaultedMultiCalendars:n,groupedYears:_,year:d,isDisabled:m,quarters:j,showYearPicker:y,modelValue:f,setHoverDate:ie=>{r.value=ie},selectYear:v,selectQuarter:(ie,X,le)=>{if(!le)return p.value[X].month=jt(eR(ie)),u.value.enabled?O(ie):o.value.enabled?q(ie):Q(ie)},toggleYearPicker:g,handleYearSelect:E,handleYear:T}},yV={class:"dp--quarter-items"},gV=["data-test-id","disabled","onClick","onMouseover"],_V=Wt({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...Ki},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end","overlay-toggle","update-month-year"],setup(e,{expose:t,emit:r}){const n=r,i=e,a=Us(),o=Jn(a,"yearMode"),{defaultedMultiCalendars:s,defaultedConfig:l,groupedYears:u,year:f,isDisabled:d,quarters:c,modelValue:p,showYearPicker:b,setHoverDate:v,selectQuarter:_,toggleYearPicker:y,handleYearSelect:m,handleYear:g}=mV(i,n);return t({getSidebarProps:()=>({modelValue:p,year:f,selectQuarter:_,handleYearSelect:m,handleYear:g})}),(E,T)=>(Ke(),Ot(hm,{"multi-calendars":Fe(s).count,collapse:E.collapse,stretch:"","is-mobile":E.isMobile},{default:bt(({instance:I})=>[_t("div",{class:"dp-quarter-picker-wrap",style:kr({minHeight:`${Fe(l).modeHeight}px`})},[E.$slots["top-extra"]?pt(E.$slots,"top-extra",{key:0,value:E.internalModelValue}):rt("",!0),_t("div",null,[kt(PF,Fr(E.$props,{items:Fe(u)(I),instance:I,"show-year-picker":Fe(b)[I],year:Fe(f)(I),"is-disabled":D=>Fe(d)(I,D),onHandleYear:D=>Fe(g)(I,D),onYearSelect:D=>Fe(m)(D,I),onToggleYearPicker:D=>Fe(y)(I,D==null?void 0:D.flow,D==null?void 0:D.show)}),vn({_:2},[pr(Fe(o),(D,B)=>({name:D,fn:bt(N=>[pt(E.$slots,D,rn(Ln(N)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_t("div",yV,[(Ke(!0),Je(wt,null,pr(Fe(c)(I),(D,B)=>(Ke(),Je("div",{key:B},[_t("button",{type:"button",class:vt(["dp--qr-btn",{"dp--qr-btn-active":D.active,"dp--qr-btn-between":D.isBetween,"dp--qr-btn-disabled":D.disabled,"dp--highlighted":D.highlighted}]),"data-test-id":D.value,disabled:D.disabled,onClick:N=>Fe(_)(D.value,I,D.disabled),onMouseover:N=>Fe(v)(D.value)},[E.$slots.quarter?pt(E.$slots,"quarter",{key:0,value:D.value,text:D.text}):(Ke(),Je(wt,{key:1},[Si(qt(D.text),1)],64))],42,gV)]))),128))])],4)]),_:3},8,["multi-calendars","collapse","is-mobile"]))}}),kF=(e,t)=>{const r=et(0);ir(()=>{n(),window.addEventListener("resize",n,{passive:!0})}),Gi(()=>{window.removeEventListener("resize",n)});const n=()=>{r.value=window.document.documentElement.clientWidth};return{isMobile:tt(()=>r.value<=e.value.mobileBreakpoint&&!t?!0:void 0)}},bV=["id","tabindex","role","aria-label"],vV={key:0,class:"dp--menu-load-container"},wV={key:1,class:"dp--menu-header"},EV=["data-dp-mobile"],SV={key:0,class:"dp__sidebar_left"},xV=["data-dp-mobile"],TV=["data-test-id","data-dp-mobile","onClick","onKeydown"],RV={key:2,class:"dp__sidebar_right"},AV={key:3,class:"dp__action_extra"},mR=Wt({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...dm,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},getInputRect:{type:Function,default:()=>({})},isTextInputDate:{type:Boolean,default:!1}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date","overlay-toggle","menu-blur"],setup(e,{expose:t,emit:r}){const n=r,i=e,a=et(null),o=tt(()=>{const{openOnTop:be,...xe}=i;return{...xe,isMobile:v.value,flowStep:j.value,menuWrapRef:a.value}}),{setMenuFocused:s,setShiftKey:l,control:u}=OF(),f=Us(),{defaultedTextInput:d,defaultedInline:c,defaultedConfig:p,defaultedUI:b}=br(i),{isMobile:v}=kF(p,i.shadow),_=et(null),y=et(0),m=et(null),g=et(!1),E=et(null),T=et(!1);ir(()=>{if(!i.shadow){g.value=!0,I(),window.addEventListener("resize",I);const be=Yr(a);if(be&&!d.value.enabled&&!c.value.enabled&&(s(!0),ae()),be){const xe=je=>{T.value=!0,p.value.allowPreventDefault&&je.preventDefault(),Oo(je,p.value,!0)};be.addEventListener("pointerdown",xe),be.addEventListener("mousedown",xe)}}document.addEventListener("mousedown",Ie)}),Gi(()=>{window.removeEventListener("resize",I),document.addEventListener("mousedown",Ie)});const I=()=>{const be=Yr(m);be&&(y.value=be.getBoundingClientRect().width)},{arrowRight:D,arrowLeft:B,arrowDown:N,arrowUp:M}=Uo(),{flowStep:j,updateFlowStep:O,childMount:q,resetFlow:Q,handleFlow:ie}=NV(i,n,E),X=tt(()=>i.monthPicker?kH:i.yearPicker?jH:i.timePicker?XH:i.quarterPicker?_V:pV),le=tt(()=>{var be;if(p.value.arrowLeft)return p.value.arrowLeft;const xe=(be=a.value)==null?void 0:be.getBoundingClientRect(),je=i.getInputRect();return(je==null?void 0:je.width)<(y==null?void 0:y.value)&&(je==null?void 0:je.left)<=((xe==null?void 0:xe.left)??0)?`${(je==null?void 0:je.width)/2}px`:(je==null?void 0:je.right)>=((xe==null?void 0:xe.right)??0)&&(je==null?void 0:je.width)<(y==null?void 0:y.value)?`${(y==null?void 0:y.value)-(je==null?void 0:je.width)/2}px`:"50%"}),ae=()=>{const be=Yr(a);be&&be.focus({preventScroll:!0})},ne=tt(()=>{var be;return((be=E.value)==null?void 0:be.getSidebarProps())||{}}),V=()=>{i.openOnTop&&n("recalculate-position")},oe=Jn(f,"action"),he=tt(()=>i.monthPicker||i.yearPicker?Jn(f,"monthYear"):i.timePicker?Jn(f,"timePicker"):Jn(f,"shared")),Y=tt(()=>i.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),Z=tt(()=>({dp__menu_disabled:i.disabled,dp__menu_readonly:i.readonly,"dp-menu-loading":i.loading})),ee=tt(()=>({dp__menu:!0,dp__menu_index:!c.value.enabled,dp__relative:c.value.enabled,...b.value.menu??{}})),P=be=>{Oo(be,p.value,!0)},A=()=>{i.escClose&&n("close-picker")},$=be=>{if(i.arrowNavigation){if(be===In.up)return M();if(be===In.down)return N();if(be===In.left)return B();if(be===In.right)return D()}else be===In.left||be===In.up?x("handleArrow",In.left,0,be===In.up):x("handleArrow",In.right,0,be===In.down)},te=be=>{l(be.shiftKey),!i.disableMonthYearSelect&&be.code===cr.tab&&be.target.classList.contains("dp__menu")&&u.value.shiftKeyInMenu&&(be.preventDefault(),Oo(be,p.value,!0),n("close-picker"))},pe=()=>{ae(),n("time-picker-close")},R=be=>{var xe,je,Ae;(xe=E.value)==null||xe.toggleTimePicker(!1,!1),(je=E.value)==null||je.toggleMonthPicker(!1,!1,be),(Ae=E.value)==null||Ae.toggleYearPicker(!1,!1,be)},w=(be,xe=0)=>{var je,Ae,Pe;return be==="month"?(je=E.value)==null?void 0:je.toggleMonthPicker(!1,!0,xe):be==="year"?(Ae=E.value)==null?void 0:Ae.toggleYearPicker(!1,!0,xe):be==="time"?(Pe=E.value)==null?void 0:Pe.toggleTimePicker(!0,!1):R(xe)},x=(be,...xe)=>{var je,Ae;(je=E.value)!=null&&je[be]&&((Ae=E.value)==null||Ae[be](...xe))},k=()=>{x("selectCurrentDate")},U=(be,xe)=>{x("presetDate",Oq(be),xe)},re=()=>{x("clearHoverDate")},fe=(be,xe)=>{x("updateMonthYear",be,xe)},ve=(be,xe)=>{be.preventDefault(),$(xe)},ce=be=>{var xe,je,Ae;if(te(be),be.key===cr.home||be.key===cr.end)return x("selectWeekDate",be.key===cr.home,be.target.getAttribute("id"));switch((be.key===cr.pageUp||be.key===cr.pageDown)&&(be.shiftKey?(x("changeYear",be.key===cr.pageUp),(xe=Hw(a.value,"overlay-year"))==null||xe.focus()):(x("changeMonth",be.key===cr.pageUp),(je=Hw(a.value,be.key===cr.pageUp?"action-prev":"action-next"))==null||je.focus()),be.target.getAttribute("id")&&((Ae=a.value)==null||Ae.focus({preventScroll:!0}))),be.key){case cr.esc:return A();case cr.arrowLeft:return ve(be,In.left);case cr.arrowRight:return ve(be,In.right);case cr.arrowUp:return ve(be,In.up);case cr.arrowDown:return ve(be,In.down);default:return}},Ie=be=>{var xe;c.value.enabled&&!c.value.input&&!((xe=a.value)!=null&&xe.contains(be.target))&&T.value&&(T.value=!1,n("menu-blur"))};return t({updateMonthYear:fe,switchView:w,handleFlow:ie,onValueCleared:()=>{var be,xe;(xe=(be=E.value)==null?void 0:be.setStartTime)==null||xe.call(be)}}),(be,xe)=>{var je,Ae,Pe;return Ke(),Je("div",{id:be.uid?`dp-menu-${be.uid}`:void 0,ref_key:"dpMenuRef",ref:a,tabindex:Fe(c).enabled?void 0:"0",role:Fe(c).enabled?void 0:"dialog","aria-label":(je=be.ariaLabels)==null?void 0:je.menu,class:vt(ee.value),style:kr({"--dp-arrow-left":le.value}),onMouseleave:re,onClick:P,onKeydown:ce},[(be.disabled||be.readonly)&&Fe(c).enabled||be.loading?(Ke(),Je("div",{key:0,class:vt(Z.value)},[be.loading?(Ke(),Je("div",vV,xe[19]||(xe[19]=[_t("span",{class:"dp--menu-loader"},null,-1)]))):rt("",!0)],2)):rt("",!0),be.$slots["menu-header"]?(Ke(),Je("div",wV,[pt(be.$slots,"menu-header")])):rt("",!0),!Fe(c).enabled&&!be.teleportCenter?(Ke(),Je("div",{key:2,class:vt(Y.value)},null,2)):rt("",!0),_t("div",{ref_key:"innerMenuRef",ref:m,class:vt({dp__menu_content_wrapper:((Ae=be.presetDates)==null?void 0:Ae.length)||!!be.$slots["left-sidebar"]||!!be.$slots["right-sidebar"],"dp--menu-content-wrapper-collapsed":e.collapse&&(((Pe=be.presetDates)==null?void 0:Pe.length)||!!be.$slots["left-sidebar"]||!!be.$slots["right-sidebar"])}),"data-dp-mobile":Fe(v),style:kr({"--dp-menu-width":`${y.value}px`})},[be.$slots["left-sidebar"]?(Ke(),Je("div",SV,[pt(be.$slots,"left-sidebar",rn(Ln(ne.value)))])):rt("",!0),be.presetDates.length?(Ke(),Je("div",{key:1,class:vt({"dp--preset-dates-collapsed":e.collapse,"dp--preset-dates":!0}),"data-dp-mobile":Fe(v)},[(Ke(!0),Je(wt,null,pr(be.presetDates,(ke,Ze)=>(Ke(),Je(wt,{key:Ze},[ke.slot?pt(be.$slots,ke.slot,{key:0,presetDate:U,label:ke.label,value:ke.value}):(Ke(),Je("button",{key:1,type:"button",style:kr(ke.style||{}),class:vt(["dp__btn dp--preset-range",{"dp--preset-range-collapsed":e.collapse}]),"data-test-id":ke.testId??void 0,"data-dp-mobile":Fe(v),onClick:gh(Ue=>U(ke.value,ke.noTz),["prevent"]),onKeydown:Ue=>Fe(Mn)(Ue,()=>U(ke.value,ke.noTz),!0)},qt(ke.label),47,TV))],64))),128))],10,xV)):rt("",!0),_t("div",{ref_key:"calendarWrapperRef",ref:_,class:"dp__instance_calendar",role:"document"},[(Ke(),Ot(ba(X.value),Fr({ref_key:"dynCmpRef",ref:E},o.value,{"flow-step":Fe(j),onMount:Fe(q),onUpdateFlowStep:Fe(O),onResetFlow:Fe(Q),onFocusMenu:ae,onSelectDate:xe[0]||(xe[0]=ke=>be.$emit("select-date")),onDateUpdate:xe[1]||(xe[1]=ke=>be.$emit("date-update",ke)),onTooltipOpen:xe[2]||(xe[2]=ke=>be.$emit("tooltip-open",ke)),onTooltipClose:xe[3]||(xe[3]=ke=>be.$emit("tooltip-close",ke)),onAutoApply:xe[4]||(xe[4]=ke=>be.$emit("auto-apply",ke)),onRangeStart:xe[5]||(xe[5]=ke=>be.$emit("range-start",ke)),onRangeEnd:xe[6]||(xe[6]=ke=>be.$emit("range-end",ke)),onInvalidFixedRange:xe[7]||(xe[7]=ke=>be.$emit("invalid-fixed-range",ke)),onTimeUpdate:xe[8]||(xe[8]=ke=>be.$emit("time-update")),onAmPmChange:xe[9]||(xe[9]=ke=>be.$emit("am-pm-change",ke)),onTimePickerOpen:xe[10]||(xe[10]=ke=>be.$emit("time-picker-open",ke)),onTimePickerClose:pe,onRecalculatePosition:V,onUpdateMonthYear:xe[11]||(xe[11]=ke=>be.$emit("update-month-year",ke)),onAutoApplyInvalid:xe[12]||(xe[12]=ke=>be.$emit("auto-apply-invalid",ke)),onInvalidDate:xe[13]||(xe[13]=ke=>be.$emit("invalid-date",ke)),onOverlayToggle:xe[14]||(xe[14]=ke=>be.$emit("overlay-toggle",ke)),"onUpdate:internalModelValue":xe[15]||(xe[15]=ke=>be.$emit("update:internal-model-value",ke))}),vn({_:2},[pr(he.value,(ke,Ze)=>({name:ke,fn:bt(Ue=>[pt(be.$slots,ke,rn(Ln({...Ue})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),be.$slots["right-sidebar"]?(Ke(),Je("div",RV,[pt(be.$slots,"right-sidebar",rn(Ln(ne.value)))])):rt("",!0),be.$slots["action-extra"]?(Ke(),Je("div",AV,[be.$slots["action-extra"]?pt(be.$slots,"action-extra",{key:0,selectCurrentDate:k}):rt("",!0)])):rt("",!0)],14,EV),!be.autoApply||Fe(p).keepActionRow?(Ke(),Ot(AH,Fr({key:3,"menu-mount":g.value},o.value,{"calendar-width":y.value,onClosePicker:xe[16]||(xe[16]=ke=>be.$emit("close-picker")),onSelectDate:xe[17]||(xe[17]=ke=>be.$emit("select-date")),onInvalidSelect:xe[18]||(xe[18]=ke=>be.$emit("invalid-select")),onSelectNow:k}),vn({_:2},[pr(Fe(oe),(ke,Ze)=>({name:ke,fn:bt(Ue=>[pt(be.$slots,ke,rn(Ln({...Ue})))])}))]),1040,["menu-mount","calendar-width"])):rt("",!0)],46,bV)}}});var gu=(e=>(e.center="center",e.left="left",e.right="right",e))(gu||{});const IV=({menuRef:e,menuRefInner:t,inputRef:r,pickerWrapperRef:n,inline:i,emit:a,props:o,slots:s})=>{const{defaultedConfig:l}=br(o),u=et({}),f=et(!1),d=et({top:"0",left:"0"}),c=et(!1),p=fh(o,"teleportCenter");Xr(p,()=>{d.value=JSON.parse(JSON.stringify({})),T()});const b=X=>{if(o.teleport){const le=X.getBoundingClientRect();return{left:le.left+window.scrollX,top:le.top+window.scrollY}}return{top:0,left:0}},v=(X,le)=>{d.value.left=`${X+le-u.value.width}px`},_=X=>{d.value.left=`${X}px`},y=(X,le)=>{o.position===gu.left&&_(X),o.position===gu.right&&v(X,le),o.position===gu.center&&(d.value.left=`${X+le/2-u.value.width/2}px`)},m=X=>{const{width:le,height:ae}=X.getBoundingClientRect(),{top:ne,left:V}=b(X);return{top:+ne,left:+V,width:le,height:ae}},g=()=>{d.value.left="50%",d.value.top="50%",d.value.transform="translate(-50%, -50%)",d.value.position="fixed",delete d.value.opacity},E=()=>{const X=Yr(r);d.value=o.altPosition(X)},T=(X=!0)=>{var le;if(!i.value.enabled){if(p.value)return g();if(o.altPosition!==null)return E();if(X){const ae=o.teleport?(le=t.value)==null?void 0:le.$el:e.value;ae&&(u.value=ae.getBoundingClientRect()),a("recalculate-position")}return O()}},I=({inputEl:X,left:le,width:ae})=>{window.screen.width>768&&!f.value&&y(le,ae),N(X)},D=X=>{const{top:le,left:ae,height:ne,width:V}=m(X);d.value.top=`${ne+le+ +o.offset}px`,c.value=!1,f.value||(d.value.left=`${ae+V/2-u.value.width/2}px`),I({inputEl:X,left:ae,width:V})},B=X=>{const{top:le,left:ae,width:ne}=m(X);d.value.top=`${le-+o.offset-u.value.height}px`,c.value=!0,I({inputEl:X,left:ae,width:ne})},N=X=>{if(o.autoPosition){const{left:le,width:ae}=m(X),{left:ne,right:V}=u.value;if(!f.value){if(Math.abs(ne)!==Math.abs(V)){if(ne<=0)return f.value=!0,_(le);if(V>=document.documentElement.clientWidth)return f.value=!0,v(le,ae)}return y(le,ae)}}},M=()=>{const X=Yr(r);if(X){if(o.autoPosition===Fi.top)return Fi.top;if(o.autoPosition===Fi.bottom)return Fi.bottom;const{height:le}=u.value,{top:ae,height:ne}=X.getBoundingClientRect(),V=window.innerHeight-ae-ne,oe=ae;return le<=V?Fi.bottom:le>V&&le<=oe?Fi.top:V>=oe?Fi.bottom:Fi.top}return Fi.bottom},j=X=>M()===Fi.bottom?D(X):B(X),O=()=>{const X=Yr(r);if(X)return o.autoPosition?j(X):D(X)},q=function(X){if(X){const le=X.scrollHeight>X.clientHeight,ae=window.getComputedStyle(X).overflowY.indexOf("hidden")!==-1;return le&&!ae}return!0},Q=function(X){return!X||X===document.body||X.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:q(X)?X:Q(X.assignedSlot&&l.value.shadowDom?X.assignedSlot.parentNode:X.parentNode)},ie=X=>{if(X)switch(o.position){case gu.left:return{left:0,transform:"translateX(0)"};case gu.right:return{left:`${X.width}px`,transform:"translateX(-100%)"};default:return{left:`${X.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:c,menuStyle:d,xCorrect:f,setMenuPosition:T,getScrollableParent:Q,shadowRender:(X,le)=>{var ae,ne,V;const oe=document.createElement("div"),he=(ae=Yr(r))==null?void 0:ae.getBoundingClientRect();oe.setAttribute("id","dp--temp-container");const Y=(ne=n.value)!=null&&ne.clientWidth?n.value:document.body;Y.append(oe);const Z=ie(he),ee=l.value.shadowDom?Object.keys(s).filter(A=>["right-sidebar","left-sidebar","top-extra","action-extra"].includes(A)):Object.keys(s),P=Ja(X,{...le,shadow:!0,style:{opacity:0,position:"absolute",...Z}},Object.fromEntries(ee.map(A=>[A,s[A]])));Fw(P,oe),u.value=(V=P.el)==null?void 0:V.getBoundingClientRect(),Fw(null,oe),Y.removeChild(oe)}}},uo=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"hours-overlay-header",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-header",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-header",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]},{name:"top-extra",use:["shared","month-year"]},{name:"tp-inline-arrow-up",use:["shared","time"]},{name:"tp-inline-arrow-down",use:["shared","time"]},{name:"menu-header",use:["menu"]}],OV=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],PV={all:()=>uo,monthYear:()=>uo.filter(e=>e.use.includes("month-year")),input:()=>OV,timePicker:()=>uo.filter(e=>e.use.includes("time")),action:()=>uo.filter(e=>e.use.includes("action")),calendar:()=>uo.filter(e=>e.use.includes("calendar")),menu:()=>uo.filter(e=>e.use.includes("menu")),shared:()=>uo.filter(e=>e.use.includes("shared")),yearMode:()=>uo.filter(e=>e.use.includes("year-mode"))},Jn=(e,t,r)=>{const n=[];return PV[t]().forEach(i=>{e[i.name]&&n.push(i.name)}),r!=null&&r.length&&r.forEach(i=>{i.slot&&n.push(i.slot)}),n},Fh=e=>{const t=tt(()=>n=>e.value?n?e.value.open:e.value.close:""),r=tt(()=>n=>e.value?n?e.value.menuAppearTop:e.value.menuAppearBottom:"");return{transitionName:t,showTransition:!!e.value,menuTransition:r}},jh=(e,t,r)=>{const{defaultedRange:n,defaultedTz:i}=br(e),a=st(Wn(st(),i.value.timezone)),o=et([{month:jt(a),year:At(a)}]),s=c=>{const p={hours:Ga(a),minutes:Co(a),seconds:0};return n.value.enabled?[p[c],p[c]]:p[c]},l=Qa({hours:s("hours"),minutes:s("minutes"),seconds:s("seconds")});Xr(n,(c,p)=>{c.enabled!==p.enabled&&(l.hours=s("hours"),l.minutes=s("minutes"),l.seconds=s("seconds"))},{deep:!0});const u=tt({get:()=>e.internalModelValue,set:c=>{!e.readonly&&!e.disabled&&t("update:internal-model-value",c)}}),f=tt(()=>c=>o.value[c]?o.value[c].month:0),d=tt(()=>c=>o.value[c]?o.value[c].year:0);return Xr(u,(c,p)=>{r&&JSON.stringify(c??{})!==JSON.stringify(p??{})&&r()},{deep:!0}),{calendars:o,time:l,modelValue:u,month:f,year:d,today:a}},DV=(e,t)=>{const{defaultedMultiCalendars:r,defaultedMultiDates:n,defaultedUI:i,defaultedHighlight:a,defaultedTz:o,propDates:s,defaultedRange:l}=br(t),{isDisabled:u}=Ho(t),f=et(null),d=et(Wn(new Date,o.value.timezone)),c=A=>{!A.current&&t.hideOffsetDates||(f.value=A.value)},p=()=>{f.value=null},b=A=>Array.isArray(e.value)&&l.value.enabled&&e.value[0]&&f.value?A?Mr(f.value,e.value[0]):Rr(f.value,e.value[0]):!0,v=(A,$)=>{const te=()=>e.value?$?e.value[0]||null:e.value[1]:null,pe=e.value&&Array.isArray(e.value)?te():null;return Bt(st(A.value),pe)},_=A=>{const $=Array.isArray(e.value)?e.value[0]:null;return A?!Rr(f.value??null,$):!0},y=(A,$=!0)=>(l.value.enabled||t.weekPicker)&&Array.isArray(e.value)&&e.value.length===2?t.hideOffsetDates&&!A.current?!1:Bt(st(A.value),e.value[$?0:1]):l.value.enabled?v(A,$)&&_($)||Bt(A.value,Array.isArray(e.value)?e.value[0]:null)&&b($):!1,m=(A,$)=>{if(Array.isArray(e.value)&&e.value[0]&&e.value.length===1){const te=Bt(A.value,f.value);return $?Mr(e.value[0],A.value)&&te:Rr(e.value[0],A.value)&&te}return!1},g=A=>!e.value||t.hideOffsetDates&&!A.current?!1:l.value.enabled?t.modelAuto&&Array.isArray(e.value)?Bt(A.value,e.value[0]?e.value[0]:d.value):!1:n.value.enabled&&Array.isArray(e.value)?e.value.some($=>Bt($,A.value)):Bt(A.value,e.value?e.value:d.value),E=A=>{if(l.value.autoRange||t.weekPicker){if(f.value){if(t.hideOffsetDates&&!A.current)return!1;const $=mi(f.value,+l.value.autoRange),te=qa(st(f.value),t.weekStart);return t.weekPicker?Bt(te[1],st(A.value)):Bt($,st(A.value))}return!1}return!1},T=A=>{if(l.value.autoRange||t.weekPicker){if(f.value){const $=mi(f.value,+l.value.autoRange);if(t.hideOffsetDates&&!A.current)return!1;const te=qa(st(f.value),t.weekStart);return t.weekPicker?Mr(A.value,te[0])&&Rr(A.value,te[1]):Mr(A.value,f.value)&&Rr(A.value,$)}return!1}return!1},I=A=>{if(l.value.autoRange||t.weekPicker){if(f.value){if(t.hideOffsetDates&&!A.current)return!1;const $=qa(st(f.value),t.weekStart);return t.weekPicker?Bt($[0],A.value):Bt(f.value,A.value)}return!1}return!1},D=A=>vh(e.value,f.value,A.value),B=()=>t.modelAuto&&Array.isArray(t.internalModelValue)?!!t.internalModelValue[0]:!1,N=()=>t.modelAuto?_F(t.internalModelValue):!0,M=A=>{if(t.weekPicker)return!1;const $=l.value.enabled?!y(A)&&!y(A,!1):!0;return!u(A.value)&&!g(A)&&!(!A.current&&t.hideOffsetDates)&&$},j=A=>l.value.enabled?t.modelAuto?B()&&g(A):!1:g(A),O=A=>a.value?ZU(A.value,s.value.highlight):!1,q=A=>{const $=u(A.value);return $&&(typeof a.value=="function"?!a.value(A.value,$):!a.value.options.highlightDisabled)},Q=A=>{var $;return typeof a.value=="function"?a.value(A.value):($=a.value.weekdays)==null?void 0:$.includes(A.value.getDay())},ie=A=>(l.value.enabled||t.weekPicker)&&(!(r.value.count>0)||A.current)&&N()&&!(!A.current&&t.hideOffsetDates)&&!g(A)?D(A):!1,X=A=>{if(Array.isArray(e.value)&&e.value.length===1){const{before:$,after:te}=cR(+l.value.maxRange,e.value[0]);return Cu(A.value,$)||js(A.value,te)}return!1},le=A=>{if(Array.isArray(e.value)&&e.value.length===1){const{before:$,after:te}=cR(+l.value.minRange,e.value[0]);return vh([$,te],e.value[0],A.value)}return!1},ae=A=>l.value.enabled&&(l.value.maxRange||l.value.minRange)?l.value.maxRange&&l.value.minRange?X(A)||le(A):l.value.maxRange?X(A):le(A):!1,ne=A=>{const{isRangeStart:$,isRangeEnd:te}=Y(A),pe=l.value.enabled?$||te:!1;return{dp__cell_offset:!A.current,dp__pointer:!t.disabled&&!(!A.current&&t.hideOffsetDates)&&!u(A.value)&&!ae(A),dp__cell_disabled:u(A.value)||ae(A),dp__cell_highlight:!q(A)&&(O(A)||Q(A))&&!j(A)&&!pe&&!I(A)&&!(ie(A)&&t.weekPicker)&&!te,dp__cell_highlight_active:!q(A)&&(O(A)||Q(A))&&j(A),dp__today:!t.noToday&&Bt(A.value,d.value)&&A.current,"dp--past":Rr(A.value,d.value),"dp--future":Mr(A.value,d.value)}},V=A=>({dp__active_date:j(A),dp__date_hover:M(A)}),oe=A=>{if(e.value&&!Array.isArray(e.value)){const $=qa(e.value,t.weekStart);return{...ee(A),dp__range_start:Bt($[0],A.value),dp__range_end:Bt($[1],A.value),dp__range_between_week:Mr(A.value,$[0])&&Rr(A.value,$[1])}}return{...ee(A)}},he=A=>{if(e.value&&Array.isArray(e.value)){const $=qa(e.value[0],t.weekStart),te=e.value[1]?qa(e.value[1],t.weekStart):[];return{...ee(A),dp__range_start:Bt($[0],A.value)||Bt(te[0],A.value),dp__range_end:Bt($[1],A.value)||Bt(te[1],A.value),dp__range_between_week:Mr(A.value,$[0])&&Rr(A.value,$[1])||Mr(A.value,te[0])&&Rr(A.value,te[1]),dp__range_between:Mr(A.value,$[1])&&Rr(A.value,te[0])}}return{...ee(A)}},Y=A=>{const $=r.value.count>0?A.current&&y(A)&&N():y(A)&&N(),te=r.value.count>0?A.current&&y(A,!1)&&N():y(A,!1)&&N();return{isRangeStart:$,isRangeEnd:te}},Z=A=>{const{isRangeStart:$,isRangeEnd:te}=Y(A);return{dp__range_start:$,dp__range_end:te,dp__range_between:ie(A),dp__date_hover:Bt(A.value,f.value)&&!$&&!te&&!t.weekPicker,dp__date_hover_start:m(A,!0),dp__date_hover_end:m(A,!1)}},ee=A=>({...Z(A),dp__cell_auto_range:T(A),dp__cell_auto_range_start:I(A),dp__cell_auto_range_end:E(A)}),P=A=>l.value.enabled?l.value.autoRange?ee(A):t.modelAuto?{...V(A),...Z(A)}:t.weekPicker?he(A):Z(A):t.weekPicker?oe(A):V(A);return{setHoverDate:c,clearHoverDate:p,getDayClassData:A=>t.hideOffsetDates&&!A.current?{}:{...ne(A),...P(A),[t.dayClass?t.dayClass(A.value,t.internalModelValue):""]:!0,...i.value.calendarCell??{}}}},Ho=e=>{const{defaultedFilters:t,defaultedRange:r,propDates:n,defaultedMultiDates:i}=br(e),a=Q=>n.value.disabledDates?typeof n.value.disabledDates=="function"?n.value.disabledDates(st(Q)):!!z0(Q,n.value.disabledDates):!1,o=Q=>n.value.maxDate?e.yearPicker?At(Q)>At(n.value.maxDate):Mr(Q,n.value.maxDate):!1,s=Q=>n.value.minDate?e.yearPicker?At(Q)<At(n.value.minDate):Rr(Q,n.value.minDate):!1,l=Q=>{const ie=o(Q),X=s(Q),le=a(Q),ae=t.value.months.map(Y=>+Y).includes(jt(Q)),ne=e.disabledWeekDays.length?e.disabledWeekDays.some(Y=>+Y===k7(Q)):!1,V=p(Q),oe=At(Q),he=oe<+e.yearRange[0]||oe>+e.yearRange[1];return!(ie||X||le||ae||he||ne||V)},u=(Q,ie)=>Rr(...To(n.value.minDate,Q,ie))||Bt(...To(n.value.minDate,Q,ie)),f=(Q,ie)=>Mr(...To(n.value.maxDate,Q,ie))||Bt(...To(n.value.maxDate,Q,ie)),d=(Q,ie,X)=>{let le=!1;return n.value.maxDate&&X&&f(Q,ie)&&(le=!0),n.value.minDate&&!X&&u(Q,ie)&&(le=!0),le},c=(Q,ie,X,le)=>{let ae=!1;return le&&(n.value.minDate||n.value.maxDate)?n.value.minDate&&n.value.maxDate?ae=d(Q,ie,X):(n.value.minDate&&u(Q,ie)||n.value.maxDate&&f(Q,ie))&&(ae=!0):ae=!0,ae},p=Q=>Array.isArray(n.value.allowedDates)&&!n.value.allowedDates.length?!0:n.value.allowedDates?!z0(Q,n.value.allowedDates):!1,b=Q=>!l(Q),v=Q=>r.value.noDisabledRange?!eF({start:Q[0],end:Q[1]}).some(ie=>b(ie)):!0,_=Q=>{if(Q){const ie=At(Q);return ie>=+e.yearRange[0]&&ie<=e.yearRange[1]}return!0},y=(Q,ie)=>!!(Array.isArray(Q)&&Q[ie]&&(r.value.maxRange||r.value.minRange)&&_(Q[ie])),m=(Q,ie,X=0)=>{if(y(ie,X)&&_(Q)){const le=Qk(Q,ie[X]),ae=xF(ie[X],Q),ne=ae.length===1?0:ae.filter(oe=>b(oe)).length,V=Math.abs(le)-(r.value.minMaxRawRange?0:ne);if(r.value.minRange&&r.value.maxRange)return V>=+r.value.minRange&&V<=+r.value.maxRange;if(r.value.minRange)return V>=+r.value.minRange;if(r.value.maxRange)return V<=+r.value.maxRange}return!0},g=()=>!e.enableTimePicker||e.monthPicker||e.yearPicker||e.ignoreTimeValidation,E=Q=>Array.isArray(Q)?[Q[0]?jy(Q[0]):null,Q[1]?jy(Q[1]):null]:jy(Q),T=(Q,ie,X)=>Q.find(le=>+le.hours===Ga(ie)&&le.minutes==="*"?!0:+le.minutes===Co(ie)&&+le.hours===Ga(ie))&&X,I=(Q,ie,X)=>{const[le,ae]=Q,[ne,V]=ie;return!T(le,ne,X)&&!T(ae,V,X)&&X},D=(Q,ie)=>{const X=Array.isArray(ie)?ie:[ie];return Array.isArray(e.disabledTimes)?Array.isArray(e.disabledTimes[0])?I(e.disabledTimes,X,Q):!X.some(le=>T(e.disabledTimes,le,Q)):Q},B=(Q,ie)=>{const X=Array.isArray(ie)?[ks(ie[0]),ie[1]?ks(ie[1]):void 0]:ks(ie),le=!e.disabledTimes(X);return Q&&le},N=(Q,ie)=>e.disabledTimes?Array.isArray(e.disabledTimes)?D(ie,Q):B(ie,Q):ie,M=Q=>{let ie=!0;if(!Q||g())return!0;const X=!n.value.minDate&&!n.value.maxDate?E(Q):Q;return(e.maxTime||n.value.maxDate)&&(ie=fR(e.maxTime,n.value.maxDate,"max",tn(X),ie)),(e.minTime||n.value.minDate)&&(ie=fR(e.minTime,n.value.minDate,"min",tn(X),ie)),N(Q,ie)},j=Q=>{if(!e.monthPicker)return!0;let ie=!0;const X=st(ji(Q));if(n.value.minDate&&n.value.maxDate){const le=st(ji(n.value.minDate)),ae=st(ji(n.value.maxDate));return Mr(X,le)&&Rr(X,ae)||Bt(X,le)||Bt(X,ae)}if(n.value.minDate){const le=st(ji(n.value.minDate));ie=Mr(X,le)||Bt(X,le)}if(n.value.maxDate){const le=st(ji(n.value.maxDate));ie=Rr(X,le)||Bt(X,le)}return ie},O=tt(()=>Q=>!e.enableTimePicker||e.ignoreTimeValidation?!0:M(Q)),q=tt(()=>Q=>e.monthPicker?Array.isArray(Q)&&(r.value.enabled||i.value.enabled)?!Q.filter(ie=>!j(ie)).length:j(Q):!0);return{isDisabled:b,validateDate:l,validateMonthYearInRange:c,isDateRangeAllowed:v,checkMinMaxRange:m,isValidTime:M,isTimeValid:O,isMonthValid:q}},mm=()=>{const e=tt(()=>(n,i)=>n==null?void 0:n.includes(i)),t=tt(()=>(n,i)=>n.count?n.solo?!0:i===0:!0),r=tt(()=>(n,i)=>n.count?n.solo?!0:i===n.count-1:!0);return{hideNavigationButtons:e,showLeftIcon:t,showRightIcon:r}},NV=(e,t,r)=>{const n=et(0),i=Qa({[Ms.timePicker]:!e.enableTimePicker||e.timePicker||e.monthPicker,[Ms.calendar]:!1,[Ms.header]:!1}),a=tt(()=>e.monthPicker||e.timePicker),o=d=>{var c;if((c=e.flow)!=null&&c.length){if(!d&&a.value)return f();i[d]=!0,Object.keys(i).filter(p=>!i[p]).length||f()}},s=()=>{var d,c;(d=e.flow)!=null&&d.length&&n.value!==-1&&(n.value+=1,t("flow-step",n.value),f()),((c=e.flow)==null?void 0:c.length)===n.value&&Ar().then(()=>l())},l=()=>{n.value=-1},u=(d,c,...p)=>{var b,v;e.flow[n.value]===d&&r.value&&((v=(b=r.value)[c])==null||v.call(b,...p))},f=(d=0)=>{d&&(n.value+=d),u(gn.month,"toggleMonthPicker",!0),u(gn.year,"toggleYearPicker",!0),u(gn.calendar,"toggleTimePicker",!1,!0),u(gn.time,"toggleTimePicker",!0,!0);const c=e.flow[n.value];(c===gn.hours||c===gn.minutes||c===gn.seconds)&&u(c,"toggleTimePicker",!0,!0,c)};return{childMount:o,updateFlowStep:s,resetFlow:l,handleFlow:f,flowStep:n}},CV={key:1,class:"dp__input_wrap"},LV=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],MV={key:2,class:"dp--clear-btn"},kV=["aria-label"],FV=Wt({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...dm},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur","text-input"],setup(e,{expose:t,emit:r}){const n=r,i=e,{defaultedTextInput:a,defaultedAriaLabels:o,defaultedInline:s,defaultedConfig:l,defaultedRange:u,defaultedMultiDates:f,defaultedUI:d,getDefaultPattern:c,getDefaultStartTime:p}=br(i),{checkMinMaxRange:b}=Ho(i),v=et(),_=et(null),y=et(!1),m=et(!1),g=tt(()=>({dp__pointer:!i.disabled&&!i.readonly&&!a.value.enabled,dp__disabled:i.disabled,dp__input_readonly:!a.value.enabled,dp__input:!0,dp__input_icon_pad:!i.hideInputIcon,dp__input_valid:typeof i.state=="boolean"?i.state:!1,dp__input_invalid:typeof i.state=="boolean"?!i.state:!1,dp__input_focus:y.value||i.isMenuOpen,dp__input_reg:!a.value.enabled,...d.value.input??{}})),E=()=>{n("set-input-date",null),i.clearable&&i.autoApply&&(n("set-empty-date"),v.value=null)},T=oe=>{const he=p();return XU(oe,a.value.format??c(),he??TF({},i.enableSeconds),i.inputValue,m.value,i.formatLocale)},I=oe=>{const{rangeSeparator:he}=a.value,[Y,Z]=oe.split(`${he}`);if(Y){const ee=T(Y.trim()),P=Z?T(Z.trim()):null;if(js(ee,P))return;const A=ee&&P?[ee,P]:[ee];b(P,A,0)&&(v.value=ee?A:null)}},D=()=>{m.value=!0},B=oe=>{if(u.value.enabled)I(oe);else if(f.value.enabled){const he=oe.split(";");v.value=he.map(Y=>T(Y.trim())).filter(Y=>Y)}else v.value=T(oe)},N=oe=>{var he;const Y=typeof oe=="string"?oe:(he=oe.target)==null?void 0:he.value;Y!==""?(a.value.openMenu&&!i.isMenuOpen&&n("open"),B(Y),n("set-input-date",v.value)):E(),m.value=!1,n("update:input-value",Y),n("text-input",oe,v.value)},M=oe=>{a.value.enabled?(B(oe.target.value),a.value.enterSubmit&&Vw(v.value)&&i.inputValue!==""?(n("set-input-date",v.value,!0),v.value=null):a.value.enterSubmit&&i.inputValue===""&&(v.value=null,n("clear"))):q(oe)},j=(oe,he)=>{a.value.enabled&&a.value.tabSubmit&&!he&&B(oe.target.value),a.value.tabSubmit&&Vw(v.value)&&i.inputValue!==""?(n("set-input-date",v.value,!0,!0),v.value=null):a.value.tabSubmit&&i.inputValue===""&&(v.value=null,n("clear",!0))},O=()=>{y.value=!0,n("focus"),Ar().then(()=>{var oe;a.value.enabled&&a.value.selectOnFocus&&((oe=_.value)==null||oe.select())})},q=oe=>{if(Oo(oe,l.value,!0),a.value.enabled&&a.value.openMenu&&!s.value.input){if(a.value.openMenu==="open"&&!i.isMenuOpen)return n("open");if(a.value.openMenu==="toggle")return n("toggle")}else a.value.enabled||n("toggle")},Q=()=>{n("real-blur"),y.value=!1,(!i.isMenuOpen||s.value.enabled&&s.value.input)&&n("blur"),i.autoApply&&a.value.enabled&&v.value&&!i.isMenuOpen&&(n("set-input-date",v.value),n("select-date"),v.value=null)},ie=oe=>{Oo(oe,l.value,!0),n("clear")},X=()=>{n("close")},le=oe=>{if(oe.key==="Tab"&&j(oe),oe.key==="Enter"&&M(oe),oe.key==="Escape"&&a.value.escClose&&X(),!a.value.enabled){if(oe.code==="Tab")return;oe.preventDefault()}},ae=()=>{var oe;(oe=_.value)==null||oe.focus({preventScroll:!0})},ne=oe=>{v.value=oe},V=oe=>{oe.key===cr.tab&&j(oe,!0)};return t({focusInput:ae,setParsedDate:ne}),(oe,he)=>{var Y,Z,ee;return Ke(),Je("div",{onClick:q},[oe.$slots.trigger&&!oe.$slots["dp-input"]&&!Fe(s).enabled?pt(oe.$slots,"trigger",{key:0}):rt("",!0),!oe.$slots.trigger&&(!Fe(s).enabled||Fe(s).input)?(Ke(),Je("div",CV,[oe.$slots["dp-input"]&&!oe.$slots.trigger&&(!Fe(s).enabled||Fe(s).enabled&&Fe(s).input)?pt(oe.$slots,"dp-input",{key:0,value:e.inputValue,isMenuOpen:e.isMenuOpen,onInput:N,onEnter:M,onTab:j,onClear:ie,onBlur:Q,onKeypress:le,onPaste:D,onFocus:O,openMenu:()=>oe.$emit("open"),closeMenu:()=>oe.$emit("close"),toggleMenu:()=>oe.$emit("toggle")}):rt("",!0),oe.$slots["dp-input"]?rt("",!0):(Ke(),Je("input",{key:1,id:oe.uid?`dp-input-${oe.uid}`:void 0,ref_key:"inputRef",ref:_,"data-test-id":"dp-input",name:oe.name,class:vt(g.value),inputmode:Fe(a).enabled?"text":"none",placeholder:oe.placeholder,disabled:oe.disabled,readonly:oe.readonly,required:oe.required,value:e.inputValue,autocomplete:oe.autocomplete,"aria-label":(Y=Fe(o))==null?void 0:Y.input,"aria-disabled":oe.disabled||void 0,"aria-invalid":oe.state===!1?!0:void 0,onInput:N,onBlur:Q,onFocus:O,onKeypress:le,onKeydown:he[0]||(he[0]=P=>le(P)),onPaste:D},null,42,LV)),_t("div",{onClick:he[3]||(he[3]=P=>n("toggle"))},[oe.$slots["input-icon"]&&!oe.hideInputIcon?(Ke(),Je("span",{key:0,class:"dp__input_icon",onClick:he[1]||(he[1]=P=>n("toggle"))},[pt(oe.$slots,"input-icon")])):rt("",!0),!oe.$slots["input-icon"]&&!oe.hideInputIcon&&!oe.$slots["dp-input"]?(Ke(),Ot(Fe(Ju),{key:1,"aria-label":(Z=Fe(o))==null?void 0:Z.calendarIcon,class:"dp__input_icon dp__input_icons",onClick:he[2]||(he[2]=P=>n("toggle"))},null,8,["aria-label"])):rt("",!0)]),oe.$slots["clear-icon"]&&(oe.alwaysClearable||e.inputValue&&oe.clearable&&!oe.disabled&&!oe.readonly)?(Ke(),Je("span",MV,[pt(oe.$slots,"clear-icon",{clear:ie})])):rt("",!0),!oe.$slots["clear-icon"]&&(oe.alwaysClearable||oe.clearable&&e.inputValue&&!oe.disabled&&!oe.readonly)?(Ke(),Je("button",{key:3,"aria-label":(ee=Fe(o))==null?void 0:ee.clearInput,class:"dp--clear-btn",type:"button",onKeydown:he[4]||(he[4]=P=>Fe(Mn)(P,()=>ie(P),!0,V)),onClick:he[5]||(he[5]=gh(P=>ie(P),["prevent"]))},[kt(Fe(yF),{class:"dp__input_icons","data-test-id":"clear-icon"})],40,kV)):rt("",!0)])):rt("",!0)])}}}),jV=typeof window<"u"?window:void 0,Vy=()=>{},BV=e=>mM()?(oq(e),!0):!1,qV=(e,t,r,n)=>{if(!e)return Vy;let i=Vy;const a=Xr(()=>Fe(e),s=>{i(),s&&(s.addEventListener(t,r,n),i=()=>{s.removeEventListener(t,r,n),i=Vy})},{immediate:!0,flush:"post"}),o=()=>{a(),i()};return BV(o),o},$V=(e,t,r,n={})=>{const{window:i=jV,event:a="pointerdown"}=n;return i?qV(i,a,o=>{const s=Yr(e),l=Yr(t);!s||!l||s===o.target||o.composedPath().includes(s)||o.composedPath().includes(l)||r(o)},{passive:!0}):void 0},UV=["data-dp-mobile"],HV=Wt({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...dm},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date","overlay-toggle","text-input"],setup(e,{expose:t,emit:r}){const n=r,i=e,a=Us(),o=et(!1),s=fh(i,"modelValue"),l=fh(i,"timezone"),u=et(null),f=et(null),d=et(null),c=et(!1),p=et(null),b=et(!1),v=et(!1),_=et(!1),y=et(!1),{setMenuFocused:m,setShiftKey:g}=OF(),{clearArrowNav:E}=Uo(),{validateDate:T,isValidTime:I}=Ho(i),{defaultedTransitions:D,defaultedTextInput:B,defaultedInline:N,defaultedConfig:M,defaultedRange:j,defaultedMultiDates:O}=br(i),{menuTransition:q,showTransition:Q}=Fh(D),{isMobile:ie}=kF(M);ir(()=>{P(i.modelValue),Ar().then(()=>{if(!N.value.enabled){const Te=he(p.value);Te==null||Te.addEventListener("scroll",re),window==null||window.addEventListener("resize",fe)}}),N.value.enabled&&(o.value=!0),window==null||window.addEventListener("keyup",ve),window==null||window.addEventListener("keydown",ce)}),Gi(()=>{if(!N.value.enabled){const Te=he(p.value);Te==null||Te.removeEventListener("scroll",re),window==null||window.removeEventListener("resize",fe)}window==null||window.removeEventListener("keyup",ve),window==null||window.removeEventListener("keydown",ce)});const X=Jn(a,"all",i.presetDates),le=Jn(a,"input");Xr([s,l],()=>{P(s.value)},{deep:!0});const{openOnTop:ae,menuStyle:ne,xCorrect:V,setMenuPosition:oe,getScrollableParent:he,shadowRender:Y}=IV({menuRef:u,menuRefInner:f,inputRef:d,pickerWrapperRef:p,inline:N,emit:n,props:i,slots:a}),{inputValue:Z,internalModelValue:ee,parseExternalModelValue:P,emitModelValue:A,formatInputValue:$,checkBeforeEmit:te}=SH(n,i,c),pe=tt(()=>({dp__main:!0,dp__theme_dark:i.dark,dp__theme_light:!i.dark,dp__flex_display:N.value.enabled,"dp--flex-display-collapsed":_.value,dp__flex_display_with_input:N.value.input})),R=tt(()=>i.dark?"dp__theme_dark":"dp__theme_light"),w=tt(()=>i.teleport?{to:typeof i.teleport=="boolean"?"body":i.teleport,disabled:!i.teleport||N.value.enabled}:{}),x=tt(()=>({class:"dp__outer_menu_wrap"})),k=tt(()=>N.value.enabled&&(i.timePicker||i.monthPicker||i.yearPicker||i.quarterPicker)),U=()=>{var Te,Ce;return((Ce=(Te=d.value)==null?void 0:Te.$el)==null?void 0:Ce.getBoundingClientRect())??{width:0,left:0,right:0}},re=()=>{o.value&&(M.value.closeOnScroll?Ue():oe())},fe=()=>{var Te;o.value&&oe();const Ce=((Te=f.value)==null?void 0:Te.$el.getBoundingClientRect().width)??0;_.value=document.body.offsetWidth<=Ce},ve=Te=>{Te.key==="Tab"&&!N.value.enabled&&!i.teleport&&M.value.tabOutClosesMenu&&(p.value.contains(document.activeElement)||Ue()),v.value=Te.shiftKey},ce=Te=>{v.value=Te.shiftKey},Ie=()=>{!i.disabled&&!i.readonly&&(Y(mR,i),oe(!1),o.value=!0,o.value&&n("open"),o.value||Ze(),P(i.modelValue))},be=()=>{var Te,Ce;Z.value="",Ze(),(Te=f.value)==null||Te.onValueCleared(),(Ce=d.value)==null||Ce.setParsedDate(null),n("update:model-value",null),n("update:model-timezone-value",null),n("cleared"),M.value.closeOnClearValue&&Ue()},xe=()=>{const Te=ee.value;return!Te||!Array.isArray(Te)&&T(Te)?!0:Array.isArray(Te)?O.value.enabled||Te.length===2&&T(Te[0])&&T(Te[1])?!0:j.value.partialRange&&!i.timePicker?T(Te[0]):!1:!1},je=()=>{te()&&xe()?(A(),Ue()):n("invalid-select",ee.value)},Ae=Te=>{Pe(),A(),M.value.closeOnAutoApply&&!Te&&Ue()},Pe=()=>{d.value&&B.value.enabled&&d.value.setParsedDate(ee.value)},ke=(Te=!1)=>{i.autoApply&&I(ee.value)&&xe()&&(j.value.enabled&&Array.isArray(ee.value)?(j.value.partialRange||ee.value.length===2)&&Ae(Te):Ae(Te))},Ze=()=>{B.value.enabled||(ee.value=null)},Ue=(Te=!1)=>{Te&&ee.value&&M.value.setDateOnMenuClose&&je(),N.value.enabled||(o.value&&(o.value=!1,V.value=!1,m(!1),g(!1),E(),n("closed"),Z.value&&P(s.value)),Ze(),n("blur"))},it=(Te,Ce,me=!1)=>{if(!Te){ee.value=null;return}const Me=Array.isArray(Te)?!Te.some(ft=>!T(ft)):T(Te),Ve=I(Te);Me&&Ve?(y.value=!0,ee.value=Te,Ce&&(b.value=me,je(),n("text-submit")),Ar().then(()=>{y.value=!1})):n("invalid-date",Te)},ye=()=>{i.autoApply&&I(ee.value)&&A(),Pe()},F=()=>o.value?Ue():Ie(),K=Te=>{ee.value=Te},_e=()=>{B.value.enabled&&(c.value=!0,$()),n("focus")},Oe=()=>{if(B.value.enabled&&(c.value=!1,P(i.modelValue),b.value)){const Te=KU(p.value,v.value);Te==null||Te.focus()}n("blur")},se=Te=>{f.value&&f.value.updateMonthYear(0,{month:sR(Te.month),year:sR(Te.year)})},ge=Te=>{P(Te??i.modelValue)},de=(Te,Ce)=>{var me;(me=f.value)==null||me.switchView(Te,Ce)},Re=(Te,Ce)=>M.value.onClickOutside?M.value.onClickOutside(Te,Ce):Ue(!0),qe=(Te=0)=>{var Ce;(Ce=f.value)==null||Ce.handleFlow(Te)},H=()=>u;return $V(u,d,Te=>Re(xe,Te)),t({closeMenu:Ue,selectDate:je,clearValue:be,openMenu:Ie,onScroll:re,formatInputValue:$,updateInternalModelValue:K,setMonthYear:se,parseModel:ge,switchView:de,toggleMenu:F,handleFlow:qe,getDpWrapMenuRef:H}),(Te,Ce)=>(Ke(),Je("div",{ref_key:"pickerWrapperRef",ref:p,class:vt(pe.value),"data-datepicker-instance":"","data-dp-mobile":Fe(ie)},[kt(FV,Fr({ref_key:"inputRef",ref:d,"input-value":Fe(Z),"onUpdate:inputValue":Ce[0]||(Ce[0]=me=>zr(Z)?Z.value=me:null),"is-menu-open":o.value},Te.$props,{onClear:be,onOpen:Ie,onSetInputDate:it,onSetEmptyDate:Fe(A),onSelectDate:je,onToggle:F,onClose:Ue,onFocus:_e,onBlur:Oe,onRealBlur:Ce[1]||(Ce[1]=me=>c.value=!1),onTextInput:Ce[2]||(Ce[2]=me=>Te.$emit("text-input",me))}),vn({_:2},[pr(Fe(le),(me,Me)=>({name:me,fn:bt(Ve=>[pt(Te.$slots,me,rn(Ln(Ve)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),(Ke(),Ot(ba(Te.teleport?Uq:"div"),rn(Ln(w.value)),{default:bt(()=>[kt(Zu,{name:Fe(q)(Fe(ae)),css:Fe(Q)&&!Fe(N).enabled},{default:bt(()=>[o.value?(Ke(),Je("div",Fr({key:0,ref_key:"dpWrapMenuRef",ref:u},x.value,{class:{"dp--menu-wrapper":!Fe(N).enabled},style:Fe(N).enabled?void 0:Fe(ne)}),[kt(mR,Fr({ref_key:"dpMenuRef",ref:f},Te.$props,{"internal-model-value":Fe(ee),"onUpdate:internalModelValue":Ce[3]||(Ce[3]=me=>zr(ee)?ee.value=me:null),class:{[R.value]:!0,"dp--menu-wrapper":Te.teleport},"open-on-top":Fe(ae),"no-overlay-focus":k.value,collapse:_.value,"get-input-rect":U,"is-text-input-date":y.value,onClosePicker:Ue,onSelectDate:je,onAutoApply:ke,onTimeUpdate:ye,onFlowStep:Ce[4]||(Ce[4]=me=>Te.$emit("flow-step",me)),onUpdateMonthYear:Ce[5]||(Ce[5]=me=>Te.$emit("update-month-year",me)),onInvalidSelect:Ce[6]||(Ce[6]=me=>Te.$emit("invalid-select",Fe(ee))),onAutoApplyInvalid:Ce[7]||(Ce[7]=me=>Te.$emit("invalid-select",me)),onInvalidFixedRange:Ce[8]||(Ce[8]=me=>Te.$emit("invalid-fixed-range",me)),onRecalculatePosition:Fe(oe),onTooltipOpen:Ce[9]||(Ce[9]=me=>Te.$emit("tooltip-open",me)),onTooltipClose:Ce[10]||(Ce[10]=me=>Te.$emit("tooltip-close",me)),onTimePickerOpen:Ce[11]||(Ce[11]=me=>Te.$emit("time-picker-open",me)),onTimePickerClose:Ce[12]||(Ce[12]=me=>Te.$emit("time-picker-close",me)),onAmPmChange:Ce[13]||(Ce[13]=me=>Te.$emit("am-pm-change",me)),onRangeStart:Ce[14]||(Ce[14]=me=>Te.$emit("range-start",me)),onRangeEnd:Ce[15]||(Ce[15]=me=>Te.$emit("range-end",me)),onDateUpdate:Ce[16]||(Ce[16]=me=>Te.$emit("date-update",me)),onInvalidDate:Ce[17]||(Ce[17]=me=>Te.$emit("invalid-date",me)),onOverlayToggle:Ce[18]||(Ce[18]=me=>Te.$emit("overlay-toggle",me)),onMenuBlur:Ce[19]||(Ce[19]=me=>Te.$emit("blur"))}),vn({_:2},[pr(Fe(X),(me,Me)=>({name:me,fn:bt(Ve=>[pt(Te.$slots,me,rn(Ln({...Ve})))])}))]),1040,["internal-model-value","class","open-on-top","no-overlay-focus","collapse","is-text-input-date","onRecalculatePosition"])],16)):rt("",!0)]),_:3},8,["name","css"])]),_:3},16))],10,UV))}}),YE=(()=>{const e=HV;return e.install=t=>{t.component("Vue3DatePicker",e)},e})(),VV=Object.freeze(Object.defineProperty({__proto__:null,default:YE},Symbol.toStringTag,{value:"Module"}));Object.entries(VV).forEach(([e,t])=>{e!=="default"&&(YE[e]=t)});function zV(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var FF={exports:{}},qr=FF.exports={},sa,ua;function Ww(){throw new Error("setTimeout has not been defined")}function Gw(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?sa=setTimeout:sa=Ww}catch{sa=Ww}try{typeof clearTimeout=="function"?ua=clearTimeout:ua=Gw}catch{ua=Gw}})();function jF(e){if(sa===setTimeout)return setTimeout(e,0);if((sa===Ww||!sa)&&setTimeout)return sa=setTimeout,setTimeout(e,0);try{return sa(e,0)}catch{try{return sa.call(null,e,0)}catch{return sa.call(this,e,0)}}}function WV(e){if(ua===clearTimeout)return clearTimeout(e);if((ua===Gw||!ua)&&clearTimeout)return ua=clearTimeout,clearTimeout(e);try{return ua(e)}catch{try{return ua.call(null,e)}catch{return ua.call(this,e)}}}var Va=[],Iu=!1,Ns,D0=-1;function GV(){!Iu||!Ns||(Iu=!1,Ns.length?Va=Ns.concat(Va):D0=-1,Va.length&&BF())}function BF(){if(!Iu){var e=jF(GV);Iu=!0;for(var t=Va.length;t;){for(Ns=Va,Va=[];++D0<t;)Ns&&Ns[D0].run();D0=-1,t=Va.length}Ns=null,Iu=!1,WV(e)}}qr.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];Va.push(new qF(e,t)),Va.length===1&&!Iu&&jF(BF)};function qF(e,t){this.fun=e,this.array=t}qF.prototype.run=function(){this.fun.apply(null,this.array)};qr.title="browser";qr.browser=!0;qr.env={};qr.argv=[];qr.version="";qr.versions={};function eo(){}qr.on=eo;qr.addListener=eo;qr.once=eo;qr.off=eo;qr.removeListener=eo;qr.removeAllListeners=eo;qr.emit=eo;qr.prependListener=eo;qr.prependOnceListener=eo;qr.listeners=function(e){return[]};qr.binding=function(e){throw new Error("process.binding is not supported")};qr.cwd=function(){return"/"};qr.chdir=function(e){throw new Error("process.chdir is not supported")};qr.umask=function(){return 0};var KV=FF.exports;const ze=zV(KV);var QE={},ym={};ym.byteLength=QV;ym.toByteArray=JV;ym.fromByteArray=rz;var da=[],pi=[],ZV=typeof Uint8Array<"u"?Uint8Array:Array,zy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var fu=0,YV=zy.length;fu<YV;++fu)da[fu]=zy[fu],pi[zy.charCodeAt(fu)]=fu;pi[45]=62;pi[95]=63;function $F(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function QV(e){var t=$F(e),r=t[0],n=t[1];return(r+n)*3/4-n}function XV(e,t,r){return(t+r)*3/4-r}function JV(e){var t,r=$F(e),n=r[0],i=r[1],a=new ZV(XV(e,n,i)),o=0,s=i>0?n-4:n,l;for(l=0;l<s;l+=4)t=pi[e.charCodeAt(l)]<<18|pi[e.charCodeAt(l+1)]<<12|pi[e.charCodeAt(l+2)]<<6|pi[e.charCodeAt(l+3)],a[o++]=t>>16&255,a[o++]=t>>8&255,a[o++]=t&255;return i===2&&(t=pi[e.charCodeAt(l)]<<2|pi[e.charCodeAt(l+1)]>>4,a[o++]=t&255),i===1&&(t=pi[e.charCodeAt(l)]<<10|pi[e.charCodeAt(l+1)]<<4|pi[e.charCodeAt(l+2)]>>2,a[o++]=t>>8&255,a[o++]=t&255),a}function ez(e){return da[e>>18&63]+da[e>>12&63]+da[e>>6&63]+da[e&63]}function tz(e,t,r){for(var n,i=[],a=t;a<r;a+=3)n=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(e[a+2]&255),i.push(ez(n));return i.join("")}function rz(e){for(var t,r=e.length,n=r%3,i=[],a=16383,o=0,s=r-n;o<s;o+=a)i.push(tz(e,o,o+a>s?s:o+a));return n===1?(t=e[r-1],i.push(da[t>>2]+da[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],i.push(da[t>>10]+da[t>>4&63]+da[t<<2&63]+"=")),i.join("")}var XE={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */XE.read=function(e,t,r,n,i){var a,o,s=i*8-n-1,l=(1<<s)-1,u=l>>1,f=-7,d=r?i-1:0,c=r?-1:1,p=e[t+d];for(d+=c,a=p&(1<<-f)-1,p>>=-f,f+=s;f>0;a=a*256+e[t+d],d+=c,f-=8);for(o=a&(1<<-f)-1,a>>=-f,f+=n;f>0;o=o*256+e[t+d],d+=c,f-=8);if(a===0)a=1-u;else{if(a===l)return o?NaN:(p?-1:1)*(1/0);o=o+Math.pow(2,n),a=a-u}return(p?-1:1)*o*Math.pow(2,a-n)};XE.write=function(e,t,r,n,i,a){var o,s,l,u=a*8-i-1,f=(1<<u)-1,d=f>>1,c=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:a-1,b=n?1:-1,v=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=f):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+d>=1?t+=c/l:t+=c*Math.pow(2,1-d),t*l>=2&&(o++,l/=2),o+d>=f?(s=0,o=f):o+d>=1?(s=(t*l-1)*Math.pow(2,i),o=o+d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;e[r+p]=s&255,p+=b,s/=256,i-=8);for(o=o<<i|s,u+=i;u>0;e[r+p]=o&255,p+=b,o/=256,u-=8);e[r+p-b]|=v*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=ym,r=XE,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=f,e.SlowBuffer=T,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i;const{Uint8Array:a,ArrayBuffer:o,SharedArrayBuffer:s}=globalThis;f.TYPED_ARRAY_SUPPORT=l(),!f.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function l(){try{const ye=new a(1),F={foo:function(){return 42}};return Object.setPrototypeOf(F,a.prototype),Object.setPrototypeOf(ye,F),ye.foo()===42}catch{return!1}}Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}});function u(ye){if(ye>i)throw new RangeError('The value "'+ye+'" is invalid for option "size"');const F=new a(ye);return Object.setPrototypeOf(F,f.prototype),F}function f(ye,F,K){if(typeof ye=="number"){if(typeof F=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return b(ye)}return d(ye,F,K)}f.poolSize=8192;function d(ye,F,K){if(typeof ye=="string")return v(ye,F);if(o.isView(ye))return y(ye);if(ye==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ye);if(Pe(ye,o)||ye&&Pe(ye.buffer,o)||typeof s<"u"&&(Pe(ye,s)||ye&&Pe(ye.buffer,s)))return m(ye,F,K);if(typeof ye=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const _e=ye.valueOf&&ye.valueOf();if(_e!=null&&_e!==ye)return f.from(_e,F,K);const Oe=g(ye);if(Oe)return Oe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof ye[Symbol.toPrimitive]=="function")return f.from(ye[Symbol.toPrimitive]("string"),F,K);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ye)}f.from=function(ye,F,K){return d(ye,F,K)},Object.setPrototypeOf(f.prototype,a.prototype),Object.setPrototypeOf(f,a);function c(ye){if(typeof ye!="number")throw new TypeError('"size" argument must be of type number');if(ye<0)throw new RangeError('The value "'+ye+'" is invalid for option "size"')}function p(ye,F,K){return c(ye),ye<=0?u(ye):F!==void 0?typeof K=="string"?u(ye).fill(F,K):u(ye).fill(F):u(ye)}f.alloc=function(ye,F,K){return p(ye,F,K)};function b(ye){return c(ye),u(ye<0?0:E(ye)|0)}f.allocUnsafe=function(ye){return b(ye)},f.allocUnsafeSlow=function(ye){return b(ye)};function v(ye,F){if((typeof F!="string"||F==="")&&(F="utf8"),!f.isEncoding(F))throw new TypeError("Unknown encoding: "+F);const K=I(ye,F)|0;let _e=u(K);const Oe=_e.write(ye,F);return Oe!==K&&(_e=_e.slice(0,Oe)),_e}function _(ye){const F=ye.length<0?0:E(ye.length)|0,K=u(F);for(let _e=0;_e<F;_e+=1)K[_e]=ye[_e]&255;return K}function y(ye){if(Pe(ye,a)){const F=new a(ye);return m(F.buffer,F.byteOffset,F.byteLength)}return _(ye)}function m(ye,F,K){if(F<0||ye.byteLength<F)throw new RangeError('"offset" is outside of buffer bounds');if(ye.byteLength<F+(K||0))throw new RangeError('"length" is outside of buffer bounds');let _e;return F===void 0&&K===void 0?_e=new a(ye):K===void 0?_e=new a(ye,F):_e=new a(ye,F,K),Object.setPrototypeOf(_e,f.prototype),_e}function g(ye){if(f.isBuffer(ye)){const F=E(ye.length)|0,K=u(F);return K.length===0||ye.copy(K,0,0,F),K}if(ye.length!==void 0)return typeof ye.length!="number"||ke(ye.length)?u(0):_(ye);if(ye.type==="Buffer"&&Array.isArray(ye.data))return _(ye.data)}function E(ye){if(ye>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return ye|0}function T(ye){return+ye!=ye&&(ye=0),f.alloc(+ye)}f.isBuffer=function(F){return F!=null&&F._isBuffer===!0&&F!==f.prototype},f.compare=function(F,K){if(Pe(F,a)&&(F=f.from(F,F.offset,F.byteLength)),Pe(K,a)&&(K=f.from(K,K.offset,K.byteLength)),!f.isBuffer(F)||!f.isBuffer(K))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(F===K)return 0;let _e=F.length,Oe=K.length;for(let se=0,ge=Math.min(_e,Oe);se<ge;++se)if(F[se]!==K[se]){_e=F[se],Oe=K[se];break}return _e<Oe?-1:Oe<_e?1:0},f.isEncoding=function(F){switch(String(F).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(F,K){if(!Array.isArray(F))throw new TypeError('"list" argument must be an Array of Buffers');if(F.length===0)return f.alloc(0);let _e;if(K===void 0)for(K=0,_e=0;_e<F.length;++_e)K+=F[_e].length;const Oe=f.allocUnsafe(K);let se=0;for(_e=0;_e<F.length;++_e){let ge=F[_e];if(Pe(ge,a))se+ge.length>Oe.length?(f.isBuffer(ge)||(ge=f.from(ge)),ge.copy(Oe,se)):a.prototype.set.call(Oe,ge,se);else if(f.isBuffer(ge))ge.copy(Oe,se);else throw new TypeError('"list" argument must be an Array of Buffers');se+=ge.length}return Oe};function I(ye,F){if(f.isBuffer(ye))return ye.length;if(o.isView(ye)||Pe(ye,o))return ye.byteLength;if(typeof ye!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ye);const K=ye.length,_e=arguments.length>2&&arguments[2]===!0;if(!_e&&K===0)return 0;let Oe=!1;for(;;)switch(F){case"ascii":case"latin1":case"binary":return K;case"utf8":case"utf-8":return Ie(ye).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return K*2;case"hex":return K>>>1;case"base64":return je(ye).length;default:if(Oe)return _e?-1:Ie(ye).length;F=(""+F).toLowerCase(),Oe=!0}}f.byteLength=I;function D(ye,F,K){let _e=!1;if((F===void 0||F<0)&&(F=0),F>this.length||((K===void 0||K>this.length)&&(K=this.length),K<=0)||(K>>>=0,F>>>=0,K<=F))return"";for(ye||(ye="utf8");;)switch(ye){case"hex":return he(this,F,K);case"utf8":case"utf-8":return le(this,F,K);case"ascii":return V(this,F,K);case"latin1":case"binary":return oe(this,F,K);case"base64":return X(this,F,K);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y(this,F,K);default:if(_e)throw new TypeError("Unknown encoding: "+ye);ye=(ye+"").toLowerCase(),_e=!0}}f.prototype._isBuffer=!0;function B(ye,F,K){const _e=ye[F];ye[F]=ye[K],ye[K]=_e}f.prototype.swap16=function(){const F=this.length;if(F%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let K=0;K<F;K+=2)B(this,K,K+1);return this},f.prototype.swap32=function(){const F=this.length;if(F%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let K=0;K<F;K+=4)B(this,K,K+3),B(this,K+1,K+2);return this},f.prototype.swap64=function(){const F=this.length;if(F%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let K=0;K<F;K+=8)B(this,K,K+7),B(this,K+1,K+6),B(this,K+2,K+5),B(this,K+3,K+4);return this},f.prototype.toString=function(){const F=this.length;return F===0?"":arguments.length===0?le(this,0,F):D.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(F){if(!f.isBuffer(F))throw new TypeError("Argument must be a Buffer");return this===F?!0:f.compare(this,F)===0},f.prototype.inspect=function(){let F="";const K=e.INSPECT_MAX_BYTES;return F=this.toString("hex",0,K).replace(/(.{2})/g,"$1 ").trim(),this.length>K&&(F+=" ... "),"<Buffer "+F+">"},n&&(f.prototype[n]=f.prototype.inspect),f.prototype.compare=function(F,K,_e,Oe,se){if(Pe(F,a)&&(F=f.from(F,F.offset,F.byteLength)),!f.isBuffer(F))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof F);if(K===void 0&&(K=0),_e===void 0&&(_e=F?F.length:0),Oe===void 0&&(Oe=0),se===void 0&&(se=this.length),K<0||_e>F.length||Oe<0||se>this.length)throw new RangeError("out of range index");if(Oe>=se&&K>=_e)return 0;if(Oe>=se)return-1;if(K>=_e)return 1;if(K>>>=0,_e>>>=0,Oe>>>=0,se>>>=0,this===F)return 0;let ge=se-Oe,de=_e-K;const Re=Math.min(ge,de),qe=this.slice(Oe,se),H=F.slice(K,_e);for(let Te=0;Te<Re;++Te)if(qe[Te]!==H[Te]){ge=qe[Te],de=H[Te];break}return ge<de?-1:de<ge?1:0};function N(ye,F,K,_e,Oe){if(ye.length===0)return-1;if(typeof K=="string"?(_e=K,K=0):K>2147483647?K=2147483647:K<-2147483648&&(K=-2147483648),K=+K,ke(K)&&(K=Oe?0:ye.length-1),K<0&&(K=ye.length+K),K>=ye.length){if(Oe)return-1;K=ye.length-1}else if(K<0)if(Oe)K=0;else return-1;if(typeof F=="string"&&(F=f.from(F,_e)),f.isBuffer(F))return F.length===0?-1:M(ye,F,K,_e,Oe);if(typeof F=="number")return F=F&255,typeof a.prototype.indexOf=="function"?Oe?a.prototype.indexOf.call(ye,F,K):a.prototype.lastIndexOf.call(ye,F,K):M(ye,[F],K,_e,Oe);throw new TypeError("val must be string, number or Buffer")}function M(ye,F,K,_e,Oe){let se=1,ge=ye.length,de=F.length;if(_e!==void 0&&(_e=String(_e).toLowerCase(),_e==="ucs2"||_e==="ucs-2"||_e==="utf16le"||_e==="utf-16le")){if(ye.length<2||F.length<2)return-1;se=2,ge/=2,de/=2,K/=2}function Re(H,Te){return se===1?H[Te]:H.readUInt16BE(Te*se)}let qe;if(Oe){let H=-1;for(qe=K;qe<ge;qe++)if(Re(ye,qe)===Re(F,H===-1?0:qe-H)){if(H===-1&&(H=qe),qe-H+1===de)return H*se}else H!==-1&&(qe-=qe-H),H=-1}else for(K+de>ge&&(K=ge-de),qe=K;qe>=0;qe--){let H=!0;for(let Te=0;Te<de;Te++)if(Re(ye,qe+Te)!==Re(F,Te)){H=!1;break}if(H)return qe}return-1}f.prototype.includes=function(F,K,_e){return this.indexOf(F,K,_e)!==-1},f.prototype.indexOf=function(F,K,_e){return N(this,F,K,_e,!0)},f.prototype.lastIndexOf=function(F,K,_e){return N(this,F,K,_e,!1)};function j(ye,F,K,_e){K=Number(K)||0;const Oe=ye.length-K;_e?(_e=Number(_e),_e>Oe&&(_e=Oe)):_e=Oe;const se=F.length;_e>se/2&&(_e=se/2);let ge;for(ge=0;ge<_e;++ge){const de=parseInt(F.substr(ge*2,2),16);if(ke(de))return ge;ye[K+ge]=de}return ge}function O(ye,F,K,_e){return Ae(Ie(F,ye.length-K),ye,K,_e)}function q(ye,F,K,_e){return Ae(be(F),ye,K,_e)}function Q(ye,F,K,_e){return Ae(je(F),ye,K,_e)}function ie(ye,F,K,_e){return Ae(xe(F,ye.length-K),ye,K,_e)}f.prototype.write=function(F,K,_e,Oe){if(K===void 0)Oe="utf8",_e=this.length,K=0;else if(_e===void 0&&typeof K=="string")Oe=K,_e=this.length,K=0;else if(isFinite(K))K=K>>>0,isFinite(_e)?(_e=_e>>>0,Oe===void 0&&(Oe="utf8")):(Oe=_e,_e=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const se=this.length-K;if((_e===void 0||_e>se)&&(_e=se),F.length>0&&(_e<0||K<0)||K>this.length)throw new RangeError("Attempt to write outside buffer bounds");Oe||(Oe="utf8");let ge=!1;for(;;)switch(Oe){case"hex":return j(this,F,K,_e);case"utf8":case"utf-8":return O(this,F,K,_e);case"ascii":case"latin1":case"binary":return q(this,F,K,_e);case"base64":return Q(this,F,K,_e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ie(this,F,K,_e);default:if(ge)throw new TypeError("Unknown encoding: "+Oe);Oe=(""+Oe).toLowerCase(),ge=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function X(ye,F,K){return F===0&&K===ye.length?t.fromByteArray(ye):t.fromByteArray(ye.slice(F,K))}function le(ye,F,K){K=Math.min(ye.length,K);const _e=[];let Oe=F;for(;Oe<K;){const se=ye[Oe];let ge=null,de=se>239?4:se>223?3:se>191?2:1;if(Oe+de<=K){let Re,qe,H,Te;switch(de){case 1:se<128&&(ge=se);break;case 2:Re=ye[Oe+1],(Re&192)===128&&(Te=(se&31)<<6|Re&63,Te>127&&(ge=Te));break;case 3:Re=ye[Oe+1],qe=ye[Oe+2],(Re&192)===128&&(qe&192)===128&&(Te=(se&15)<<12|(Re&63)<<6|qe&63,Te>2047&&(Te<55296||Te>57343)&&(ge=Te));break;case 4:Re=ye[Oe+1],qe=ye[Oe+2],H=ye[Oe+3],(Re&192)===128&&(qe&192)===128&&(H&192)===128&&(Te=(se&15)<<18|(Re&63)<<12|(qe&63)<<6|H&63,Te>65535&&Te<1114112&&(ge=Te))}}ge===null?(ge=65533,de=1):ge>65535&&(ge-=65536,_e.push(ge>>>10&1023|55296),ge=56320|ge&1023),_e.push(ge),Oe+=de}return ne(_e)}const ae=4096;function ne(ye){const F=ye.length;if(F<=ae)return String.fromCharCode.apply(String,ye);let K="",_e=0;for(;_e<F;)K+=String.fromCharCode.apply(String,ye.slice(_e,_e+=ae));return K}function V(ye,F,K){let _e="";K=Math.min(ye.length,K);for(let Oe=F;Oe<K;++Oe)_e+=String.fromCharCode(ye[Oe]&127);return _e}function oe(ye,F,K){let _e="";K=Math.min(ye.length,K);for(let Oe=F;Oe<K;++Oe)_e+=String.fromCharCode(ye[Oe]);return _e}function he(ye,F,K){const _e=ye.length;(!F||F<0)&&(F=0),(!K||K<0||K>_e)&&(K=_e);let Oe="";for(let se=F;se<K;++se)Oe+=Ze[ye[se]];return Oe}function Y(ye,F,K){const _e=ye.slice(F,K);let Oe="";for(let se=0;se<_e.length-1;se+=2)Oe+=String.fromCharCode(_e[se]+_e[se+1]*256);return Oe}f.prototype.slice=function(F,K){const _e=this.length;F=~~F,K=K===void 0?_e:~~K,F<0?(F+=_e,F<0&&(F=0)):F>_e&&(F=_e),K<0?(K+=_e,K<0&&(K=0)):K>_e&&(K=_e),K<F&&(K=F);const Oe=this.subarray(F,K);return Object.setPrototypeOf(Oe,f.prototype),Oe};function Z(ye,F,K){if(ye%1!==0||ye<0)throw new RangeError("offset is not uint");if(ye+F>K)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUintLE=f.prototype.readUIntLE=function(F,K,_e){F=F>>>0,K=K>>>0,_e||Z(F,K,this.length);let Oe=this[F],se=1,ge=0;for(;++ge<K&&(se*=256);)Oe+=this[F+ge]*se;return Oe},f.prototype.readUintBE=f.prototype.readUIntBE=function(F,K,_e){F=F>>>0,K=K>>>0,_e||Z(F,K,this.length);let Oe=this[F+--K],se=1;for(;K>0&&(se*=256);)Oe+=this[F+--K]*se;return Oe},f.prototype.readUint8=f.prototype.readUInt8=function(F,K){return F=F>>>0,K||Z(F,1,this.length),this[F]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(F,K){return F=F>>>0,K||Z(F,2,this.length),this[F]|this[F+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(F,K){return F=F>>>0,K||Z(F,2,this.length),this[F]<<8|this[F+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(F,K){return F=F>>>0,K||Z(F,4,this.length),(this[F]|this[F+1]<<8|this[F+2]<<16)+this[F+3]*16777216},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(F,K){return F=F>>>0,K||Z(F,4,this.length),this[F]*16777216+(this[F+1]<<16|this[F+2]<<8|this[F+3])},f.prototype.readBigUInt64LE=Ue(function(F){F=F>>>0,re(F,"offset");const K=this[F],_e=this[F+7];(K===void 0||_e===void 0)&&fe(F,this.length-8);const Oe=K+this[++F]*2**8+this[++F]*2**16+this[++F]*2**24,se=this[++F]+this[++F]*2**8+this[++F]*2**16+_e*2**24;return BigInt(Oe)+(BigInt(se)<<BigInt(32))}),f.prototype.readBigUInt64BE=Ue(function(F){F=F>>>0,re(F,"offset");const K=this[F],_e=this[F+7];(K===void 0||_e===void 0)&&fe(F,this.length-8);const Oe=K*2**24+this[++F]*2**16+this[++F]*2**8+this[++F],se=this[++F]*2**24+this[++F]*2**16+this[++F]*2**8+_e;return(BigInt(Oe)<<BigInt(32))+BigInt(se)}),f.prototype.readIntLE=function(F,K,_e){F=F>>>0,K=K>>>0,_e||Z(F,K,this.length);let Oe=this[F],se=1,ge=0;for(;++ge<K&&(se*=256);)Oe+=this[F+ge]*se;return se*=128,Oe>=se&&(Oe-=Math.pow(2,8*K)),Oe},f.prototype.readIntBE=function(F,K,_e){F=F>>>0,K=K>>>0,_e||Z(F,K,this.length);let Oe=K,se=1,ge=this[F+--Oe];for(;Oe>0&&(se*=256);)ge+=this[F+--Oe]*se;return se*=128,ge>=se&&(ge-=Math.pow(2,8*K)),ge},f.prototype.readInt8=function(F,K){return F=F>>>0,K||Z(F,1,this.length),this[F]&128?(255-this[F]+1)*-1:this[F]},f.prototype.readInt16LE=function(F,K){F=F>>>0,K||Z(F,2,this.length);const _e=this[F]|this[F+1]<<8;return _e&32768?_e|4294901760:_e},f.prototype.readInt16BE=function(F,K){F=F>>>0,K||Z(F,2,this.length);const _e=this[F+1]|this[F]<<8;return _e&32768?_e|4294901760:_e},f.prototype.readInt32LE=function(F,K){return F=F>>>0,K||Z(F,4,this.length),this[F]|this[F+1]<<8|this[F+2]<<16|this[F+3]<<24},f.prototype.readInt32BE=function(F,K){return F=F>>>0,K||Z(F,4,this.length),this[F]<<24|this[F+1]<<16|this[F+2]<<8|this[F+3]},f.prototype.readBigInt64LE=Ue(function(F){F=F>>>0,re(F,"offset");const K=this[F],_e=this[F+7];(K===void 0||_e===void 0)&&fe(F,this.length-8);const Oe=this[F+4]+this[F+5]*2**8+this[F+6]*2**16+(_e<<24);return(BigInt(Oe)<<BigInt(32))+BigInt(K+this[++F]*2**8+this[++F]*2**16+this[++F]*2**24)}),f.prototype.readBigInt64BE=Ue(function(F){F=F>>>0,re(F,"offset");const K=this[F],_e=this[F+7];(K===void 0||_e===void 0)&&fe(F,this.length-8);const Oe=(K<<24)+this[++F]*2**16+this[++F]*2**8+this[++F];return(BigInt(Oe)<<BigInt(32))+BigInt(this[++F]*2**24+this[++F]*2**16+this[++F]*2**8+_e)}),f.prototype.readFloatLE=function(F,K){return F=F>>>0,K||Z(F,4,this.length),r.read(this,F,!0,23,4)},f.prototype.readFloatBE=function(F,K){return F=F>>>0,K||Z(F,4,this.length),r.read(this,F,!1,23,4)},f.prototype.readDoubleLE=function(F,K){return F=F>>>0,K||Z(F,8,this.length),r.read(this,F,!0,52,8)},f.prototype.readDoubleBE=function(F,K){return F=F>>>0,K||Z(F,8,this.length),r.read(this,F,!1,52,8)};function ee(ye,F,K,_e,Oe,se){if(!f.isBuffer(ye))throw new TypeError('"buffer" argument must be a Buffer instance');if(F>Oe||F<se)throw new RangeError('"value" argument is out of bounds');if(K+_e>ye.length)throw new RangeError("Index out of range")}f.prototype.writeUintLE=f.prototype.writeUIntLE=function(F,K,_e,Oe){if(F=+F,K=K>>>0,_e=_e>>>0,!Oe){const de=Math.pow(2,8*_e)-1;ee(this,F,K,_e,de,0)}let se=1,ge=0;for(this[K]=F&255;++ge<_e&&(se*=256);)this[K+ge]=F/se&255;return K+_e},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(F,K,_e,Oe){if(F=+F,K=K>>>0,_e=_e>>>0,!Oe){const de=Math.pow(2,8*_e)-1;ee(this,F,K,_e,de,0)}let se=_e-1,ge=1;for(this[K+se]=F&255;--se>=0&&(ge*=256);)this[K+se]=F/ge&255;return K+_e},f.prototype.writeUint8=f.prototype.writeUInt8=function(F,K,_e){return F=+F,K=K>>>0,_e||ee(this,F,K,1,255,0),this[K]=F&255,K+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(F,K,_e){return F=+F,K=K>>>0,_e||ee(this,F,K,2,65535,0),this[K]=F&255,this[K+1]=F>>>8,K+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(F,K,_e){return F=+F,K=K>>>0,_e||ee(this,F,K,2,65535,0),this[K]=F>>>8,this[K+1]=F&255,K+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(F,K,_e){return F=+F,K=K>>>0,_e||ee(this,F,K,4,4294967295,0),this[K+3]=F>>>24,this[K+2]=F>>>16,this[K+1]=F>>>8,this[K]=F&255,K+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(F,K,_e){return F=+F,K=K>>>0,_e||ee(this,F,K,4,4294967295,0),this[K]=F>>>24,this[K+1]=F>>>16,this[K+2]=F>>>8,this[K+3]=F&255,K+4};function P(ye,F,K,_e,Oe){U(F,_e,Oe,ye,K,7);let se=Number(F&BigInt(4294967295));ye[K++]=se,se=se>>8,ye[K++]=se,se=se>>8,ye[K++]=se,se=se>>8,ye[K++]=se;let ge=Number(F>>BigInt(32)&BigInt(4294967295));return ye[K++]=ge,ge=ge>>8,ye[K++]=ge,ge=ge>>8,ye[K++]=ge,ge=ge>>8,ye[K++]=ge,K}function A(ye,F,K,_e,Oe){U(F,_e,Oe,ye,K,7);let se=Number(F&BigInt(4294967295));ye[K+7]=se,se=se>>8,ye[K+6]=se,se=se>>8,ye[K+5]=se,se=se>>8,ye[K+4]=se;let ge=Number(F>>BigInt(32)&BigInt(4294967295));return ye[K+3]=ge,ge=ge>>8,ye[K+2]=ge,ge=ge>>8,ye[K+1]=ge,ge=ge>>8,ye[K]=ge,K+8}f.prototype.writeBigUInt64LE=Ue(function(F,K=0){return P(this,F,K,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeBigUInt64BE=Ue(function(F,K=0){return A(this,F,K,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeIntLE=function(F,K,_e,Oe){if(F=+F,K=K>>>0,!Oe){const Re=Math.pow(2,8*_e-1);ee(this,F,K,_e,Re-1,-Re)}let se=0,ge=1,de=0;for(this[K]=F&255;++se<_e&&(ge*=256);)F<0&&de===0&&this[K+se-1]!==0&&(de=1),this[K+se]=(F/ge>>0)-de&255;return K+_e},f.prototype.writeIntBE=function(F,K,_e,Oe){if(F=+F,K=K>>>0,!Oe){const Re=Math.pow(2,8*_e-1);ee(this,F,K,_e,Re-1,-Re)}let se=_e-1,ge=1,de=0;for(this[K+se]=F&255;--se>=0&&(ge*=256);)F<0&&de===0&&this[K+se+1]!==0&&(de=1),this[K+se]=(F/ge>>0)-de&255;return K+_e},f.prototype.writeInt8=function(F,K,_e){return F=+F,K=K>>>0,_e||ee(this,F,K,1,127,-128),F<0&&(F=255+F+1),this[K]=F&255,K+1},f.prototype.writeInt16LE=function(F,K,_e){return F=+F,K=K>>>0,_e||ee(this,F,K,2,32767,-32768),this[K]=F&255,this[K+1]=F>>>8,K+2},f.prototype.writeInt16BE=function(F,K,_e){return F=+F,K=K>>>0,_e||ee(this,F,K,2,32767,-32768),this[K]=F>>>8,this[K+1]=F&255,K+2},f.prototype.writeInt32LE=function(F,K,_e){return F=+F,K=K>>>0,_e||ee(this,F,K,4,2147483647,-2147483648),this[K]=F&255,this[K+1]=F>>>8,this[K+2]=F>>>16,this[K+3]=F>>>24,K+4},f.prototype.writeInt32BE=function(F,K,_e){return F=+F,K=K>>>0,_e||ee(this,F,K,4,2147483647,-2147483648),F<0&&(F=4294967295+F+1),this[K]=F>>>24,this[K+1]=F>>>16,this[K+2]=F>>>8,this[K+3]=F&255,K+4},f.prototype.writeBigInt64LE=Ue(function(F,K=0){return P(this,F,K,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),f.prototype.writeBigInt64BE=Ue(function(F,K=0){return A(this,F,K,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function $(ye,F,K,_e,Oe,se){if(K+_e>ye.length)throw new RangeError("Index out of range");if(K<0)throw new RangeError("Index out of range")}function te(ye,F,K,_e,Oe){return F=+F,K=K>>>0,Oe||$(ye,F,K,4),r.write(ye,F,K,_e,23,4),K+4}f.prototype.writeFloatLE=function(F,K,_e){return te(this,F,K,!0,_e)},f.prototype.writeFloatBE=function(F,K,_e){return te(this,F,K,!1,_e)};function pe(ye,F,K,_e,Oe){return F=+F,K=K>>>0,Oe||$(ye,F,K,8),r.write(ye,F,K,_e,52,8),K+8}f.prototype.writeDoubleLE=function(F,K,_e){return pe(this,F,K,!0,_e)},f.prototype.writeDoubleBE=function(F,K,_e){return pe(this,F,K,!1,_e)},f.prototype.copy=function(F,K,_e,Oe){if(!f.isBuffer(F))throw new TypeError("argument should be a Buffer");if(_e||(_e=0),!Oe&&Oe!==0&&(Oe=this.length),K>=F.length&&(K=F.length),K||(K=0),Oe>0&&Oe<_e&&(Oe=_e),Oe===_e||F.length===0||this.length===0)return 0;if(K<0)throw new RangeError("targetStart out of bounds");if(_e<0||_e>=this.length)throw new RangeError("Index out of range");if(Oe<0)throw new RangeError("sourceEnd out of bounds");Oe>this.length&&(Oe=this.length),F.length-K<Oe-_e&&(Oe=F.length-K+_e);const se=Oe-_e;return this===F&&typeof a.prototype.copyWithin=="function"?this.copyWithin(K,_e,Oe):a.prototype.set.call(F,this.subarray(_e,Oe),K),se},f.prototype.fill=function(F,K,_e,Oe){if(typeof F=="string"){if(typeof K=="string"?(Oe=K,K=0,_e=this.length):typeof _e=="string"&&(Oe=_e,_e=this.length),Oe!==void 0&&typeof Oe!="string")throw new TypeError("encoding must be a string");if(typeof Oe=="string"&&!f.isEncoding(Oe))throw new TypeError("Unknown encoding: "+Oe);if(F.length===1){const ge=F.charCodeAt(0);(Oe==="utf8"&&ge<128||Oe==="latin1")&&(F=ge)}}else typeof F=="number"?F=F&255:typeof F=="boolean"&&(F=Number(F));if(K<0||this.length<K||this.length<_e)throw new RangeError("Out of range index");if(_e<=K)return this;K=K>>>0,_e=_e===void 0?this.length:_e>>>0,F||(F=0);let se;if(typeof F=="number")for(se=K;se<_e;++se)this[se]=F;else{const ge=f.isBuffer(F)?F:f.from(F,Oe),de=ge.length;if(de===0)throw new TypeError('The value "'+F+'" is invalid for argument "value"');for(se=0;se<_e-K;++se)this[se+K]=ge[se%de]}return this};const R={};function w(ye,F,K){R[ye]=class extends K{constructor(){super(),Object.defineProperty(this,"message",{value:F.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${ye}]`,this.stack,delete this.name}get code(){return ye}set code(Oe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Oe,writable:!0})}toString(){return`${this.name} [${ye}]: ${this.message}`}}}w("ERR_BUFFER_OUT_OF_BOUNDS",function(ye){return ye?`${ye} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),w("ERR_INVALID_ARG_TYPE",function(ye,F){return`The "${ye}" argument must be of type number. Received type ${typeof F}`},TypeError),w("ERR_OUT_OF_RANGE",function(ye,F,K){let _e=`The value of "${ye}" is out of range.`,Oe=K;return Number.isInteger(K)&&Math.abs(K)>2**32?Oe=x(String(K)):typeof K=="bigint"&&(Oe=String(K),(K>BigInt(2)**BigInt(32)||K<-(BigInt(2)**BigInt(32)))&&(Oe=x(Oe)),Oe+="n"),_e+=` It must be ${F}. Received ${Oe}`,_e},RangeError);function x(ye){let F="",K=ye.length;const _e=ye[0]==="-"?1:0;for(;K>=_e+4;K-=3)F=`_${ye.slice(K-3,K)}${F}`;return`${ye.slice(0,K)}${F}`}function k(ye,F,K){re(F,"offset"),(ye[F]===void 0||ye[F+K]===void 0)&&fe(F,ye.length-(K+1))}function U(ye,F,K,_e,Oe,se){if(ye>K||ye<F){const ge=typeof F=="bigint"?"n":"";let de;throw F===0||F===BigInt(0)?de=`>= 0${ge} and < 2${ge} ** ${(se+1)*8}${ge}`:de=`>= -(2${ge} ** ${(se+1)*8-1}${ge}) and < 2 ** ${(se+1)*8-1}${ge}`,new R.ERR_OUT_OF_RANGE("value",de,ye)}k(_e,Oe,se)}function re(ye,F){if(typeof ye!="number")throw new R.ERR_INVALID_ARG_TYPE(F,"number",ye)}function fe(ye,F,K){throw Math.floor(ye)!==ye?(re(ye,K),new R.ERR_OUT_OF_RANGE("offset","an integer",ye)):F<0?new R.ERR_BUFFER_OUT_OF_BOUNDS:new R.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${F}`,ye)}const ve=/[^+/0-9A-Za-z-_]/g;function ce(ye){if(ye=ye.split("=")[0],ye=ye.trim().replace(ve,""),ye.length<2)return"";for(;ye.length%4!==0;)ye=ye+"=";return ye}function Ie(ye,F){F=F||1/0;let K;const _e=ye.length;let Oe=null;const se=[];for(let ge=0;ge<_e;++ge){if(K=ye.charCodeAt(ge),K>55295&&K<57344){if(!Oe){if(K>56319){(F-=3)>-1&&se.push(239,191,189);continue}else if(ge+1===_e){(F-=3)>-1&&se.push(239,191,189);continue}Oe=K;continue}if(K<56320){(F-=3)>-1&&se.push(239,191,189),Oe=K;continue}K=(Oe-55296<<10|K-56320)+65536}else Oe&&(F-=3)>-1&&se.push(239,191,189);if(Oe=null,K<128){if((F-=1)<0)break;se.push(K)}else if(K<2048){if((F-=2)<0)break;se.push(K>>6|192,K&63|128)}else if(K<65536){if((F-=3)<0)break;se.push(K>>12|224,K>>6&63|128,K&63|128)}else if(K<1114112){if((F-=4)<0)break;se.push(K>>18|240,K>>12&63|128,K>>6&63|128,K&63|128)}else throw new Error("Invalid code point")}return se}function be(ye){const F=[];for(let K=0;K<ye.length;++K)F.push(ye.charCodeAt(K)&255);return F}function xe(ye,F){let K,_e,Oe;const se=[];for(let ge=0;ge<ye.length&&!((F-=2)<0);++ge)K=ye.charCodeAt(ge),_e=K>>8,Oe=K%256,se.push(Oe),se.push(_e);return se}function je(ye){return t.toByteArray(ce(ye))}function Ae(ye,F,K,_e){let Oe;for(Oe=0;Oe<_e&&!(Oe+K>=F.length||Oe>=ye.length);++Oe)F[Oe+K]=ye[Oe];return Oe}function Pe(ye,F){return ye instanceof F||ye!=null&&ye.constructor!=null&&ye.constructor.name!=null&&ye.constructor.name===F.name}function ke(ye){return ye!==ye}const Ze=function(){const ye="0123456789abcdef",F=new Array(256);for(let K=0;K<16;++K){const _e=K*16;for(let Oe=0;Oe<16;++Oe)F[_e+Oe]=ye[K]+ye[Oe]}return F}();function Ue(ye){return typeof BigInt>"u"?it:ye}function it(){throw new Error("BigInt not supported")}})(QE);const Yn=QE.Buffer,nz=QE.Buffer;var xt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function el(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var Wy,yR;function iz(){if(yR)return Wy;yR=1;let e;return Wy=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:xt):t=>(e||(e=Promise.resolve())).then(t).catch(r=>setTimeout(()=>{throw r},0)),Wy}var az=iz();const oz=Bh(az),Fl="http://www.w3.org/1999/02/22-rdf-syntax-ns#",jl="http://www.w3.org/2001/XMLSchema#",Gy="http://www.w3.org/2000/10/swap/",yn={xsd:{decimal:`${jl}decimal`,boolean:`${jl}boolean`,double:`${jl}double`,integer:`${jl}integer`,string:`${jl}string`},rdf:{type:`${Fl}type`,nil:`${Fl}nil`,first:`${Fl}first`,rest:`${Fl}rest`,langString:`${Fl}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${Gy}reify#forSome`,forAll:`${Gy}reify#forAll`},log:{implies:`${Gy}log#implies`}},{xsd:Mp}=yn,sz=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,gR={"\\":"\\","'":"'",'"':'"',n:`
`,r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},uz=/[\x00-\x20<>\\"\{\}\|\^\`]/,lz={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},fz=/$0^/;class JE{constructor(t){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,t=t||{},this._lineMode=!!t.lineMode){this._n3Mode=!1;for(const r in this)!(r in lz)&&this[r]instanceof RegExp&&(this[r]=fz)}else this._n3Mode=t.n3!==!1;this.comments=!!t.comments,this._literalClosingPos=0}_tokenizeToEnd(t,r){let n=this._input,i=n.length;for(;;){let s,l;for(;s=this._newline.exec(n);)this.comments&&(l=this._comment.exec(s[0]))&&a("comment",l[1],"",this._line,s[0].length),n=n.substr(s[0].length,n.length),i=n.length,this._line++;if(!s&&(s=this._whitespace.exec(n))&&(n=n.substr(s[0].length,n.length)),this._endOfFile.test(n))return r&&(this.comments&&(l=this._comment.exec(n))&&a("comment",l[1],"",this._line,n.length),n=null,a("eof","","",this._line,0)),this._input=n;const u=this._line,f=n[0];let d="",c="",p="",b=null,v=0,_=!1;switch(f){case"^":if(n.length<3)break;if(n[1]==="^"){if(this._previousMarker="^^",n=n.substr(2),n[0]!=="<"){_=!0;break}}else{this._n3Mode&&(v=1,d="^");break}case"<":if(b=this._unescapedIri.exec(n))d="IRI",c=b[1];else if(b=this._iri.exec(n)){if(c=this._unescape(b[1]),c===null||uz.test(c))return o(this);d="IRI"}else n.length>1&&n[1]==="<"?(d="<<",v=2):this._n3Mode&&n.length>1&&n[1]==="="&&(d="inverse",v=2,c=">");break;case">":n.length>1&&n[1]===">"&&(d=">>",v=2);break;case"_":((b=this._blank.exec(n))||r&&(b=this._blank.exec(`${n} `)))&&(d="blank",p="_",c=b[1]);break;case'"':if(b=this._simpleQuotedString.exec(n))c=b[1];else if({value:c,matchLength:v}=this._parseLiteral(n),c===null)return o(this);(b!==null||v!==0)&&(d="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(b=this._simpleApostropheString.exec(n))c=b[1];else if({value:c,matchLength:v}=this._parseLiteral(n),c===null)return o(this);(b!==null||v!==0)&&(d="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(b=this._variable.exec(n))&&(d="var",c=b[0]);break;case"@":this._previousMarker==="literal"&&(b=this._langcode.exec(n))?(d="langcode",c=b[1]):(b=this._keyword.exec(n))&&(d=b[0]);break;case".":if(n.length===1?r:n[1]<"0"||n[1]>"9"){d=".",v=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(b=this._number.exec(n)||r&&(b=this._number.exec(`${n} `)))&&(d="literal",c=b[0],p=typeof b[1]=="string"?Mp.double:typeof b[2]=="string"?Mp.decimal:Mp.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(b=this._sparqlKeyword.exec(n))?d=b[0].toUpperCase():_=!0;break;case"f":case"t":(b=this._boolean.exec(n))?(d="literal",c=b[0],p=Mp.boolean):_=!0;break;case"a":(b=this._shortPredicates.exec(n))?(d="abbreviation",c="a"):_=!0;break;case"=":this._n3Mode&&n.length>1&&(d="abbreviation",n[1]!==">"?(v=1,c="="):(v=2,c=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(v=1,d=f);break;case"{":!this._lineMode&&n.length>=2&&(n[1]==="|"?(d="{|",v=2):(d=f,v=1));break;case"|":n.length>=2&&n[1]==="}"&&(d="|}",v=2);break;default:_=!0}if(_&&((this._previousMarker==="@prefix"||this._previousMarker==="PREFIX")&&(b=this._prefix.exec(n))?(d="prefix",c=b[1]||""):((b=this._prefixed.exec(n))||r&&(b=this._prefixed.exec(`${n} `)))&&(d="prefixed",p=b[1]||"",c=this._unescape(b[2]))),this._previousMarker==="^^")switch(d){case"prefixed":d="type";break;case"IRI":d="typeIRI";break;default:d=""}if(!d)return r||!/^'''|^"""/.test(n)&&/\n|\r/.test(n)?o(this):this._input=n;const y=v||b[0].length,m=a(d,c,p,u,y);this.previousToken=m,this._previousMarker=d,n=n.substr(y,n.length)}function a(s,l,u,f,d){const c=n?i-n.length:i,p=c+d,b={type:s,value:l,prefix:u,line:f,start:c,end:p};return t(null,b),b}function o(s){t(s._syntaxError(/^\S*/.exec(n)[0]))}}_unescape(t){let r=!1;const n=t.replace(sz,(i,a,o,s)=>{if(typeof a=="string")return String.fromCharCode(Number.parseInt(a,16));if(typeof o=="string"){let l=Number.parseInt(o,16);return l<=65535?String.fromCharCode(Number.parseInt(o,16)):String.fromCharCode(55296+((l-=65536)>>10),56320+(l&1023))}return s in gR?gR[s]:(r=!0,"")});return r?null:n}_parseLiteral(t){if(t.length>=3){const r=t.match(/^(?:"""|"|'''|'|)/)[0],n=r.length;let i=Math.max(this._literalClosingPos,n);for(;(i=t.indexOf(r,i))>0;){let a=0;for(;t[i-a-1]==="\\";)a++;if(a%2===0){const o=t.substring(n,i),s=o.split(/\r\n|\r|\n/).length-1,l=i+n;if(n===1&&s!==0||n===3&&this._lineMode)break;return this._line+=s,{value:this._unescape(o),matchLength:l}}i++}this._literalClosingPos=t.length-n+1}return{value:"",matchLength:0}}_syntaxError(t){this._input=null;const r=new Error(`Unexpected "${t}" on line ${this._line}.`);return r.context={token:void 0,line:this._line,previousToken:this.previousToken},r}_readStartingBom(t){return t.startsWith("\uFEFF")?t.substr(1):t}tokenize(t,r){if(this._line=1,typeof t=="string")if(this._input=this._readStartingBom(t),typeof r=="function")oz(()=>this._tokenizeToEnd(r,!0));else{const n=[];let i;if(this._tokenizeToEnd((a,o)=>a?i=a:n.push(o),!0),i)throw i;return n}else this._pendingBuffer=null,typeof t.setEncoding=="function"&&t.setEncoding("utf8"),t.on("data",n=>{this._input!==null&&n.length!==0&&(this._pendingBuffer&&(n=nz.concat([this._pendingBuffer,n]),this._pendingBuffer=null),n[n.length-1]&128?this._pendingBuffer=n:(typeof this._input>"u"?this._input=this._readStartingBom(typeof n=="string"?n:n.toString()):this._input+=n,this._tokenizeToEnd(r,!1)))}),t.on("end",()=>{typeof this._input=="string"&&this._tokenizeToEnd(r,!0)}),t.on("error",r)}}const{rdf:cz,xsd:Os}=yn;let tl,dz=0;const xi={namedNode:HF,blankNode:VF,variable:WF,literal:zF,defaultGraph:hz,quad:Kw,triple:Kw,fromTerm:Bd,fromQuad:GF};class ri{constructor(t){this.id=t}get value(){return this.id}equals(t){return t instanceof ri?this.id===t.id:!!t&&this.termType===t.termType&&this.value===t.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}}let gm=class extends ri{get termType(){return"NamedNode"}},Ou=class UF extends ri{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const t=this.id;let r=t.lastIndexOf('"')+1;return r<t.length&&t[r++]==="@"?t.substr(r).toLowerCase():""}get datatype(){return new gm(this.datatypeString)}get datatypeString(){const t=this.id,r=t.lastIndexOf('"')+1,n=r<t.length?t[r]:"";return n==="^"?t.substr(r+2):n!=="@"?Os.string:cz.langString}equals(t){return t instanceof UF?this.id===t.id:!!t&&!!t.datatype&&this.termType===t.termType&&this.value===t.value&&this.language===t.language&&this.datatype.value===t.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}},eS=class extends ri{constructor(t){super(`_:${t}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}},tS=class extends ri{constructor(t){super(`?${t}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}},rS=class extends ri{constructor(){return super(""),tl||this}get termType(){return"DefaultGraph"}equals(t){return this===t||!!t&&this.termType===t.termType}};tl=new rS;function Cs(e,t,r){if(t=t||xi,!e)return t.defaultGraph();switch(e[0]){case"?":return t.variable(e.substr(1));case"_":return t.blankNode(e.substr(2));case'"':if(t===xi)return new Ou(e);if(e[e.length-1]==='"')return t.literal(e.substr(1,e.length-2));const n=e.lastIndexOf('"',e.length-1);return t.literal(e.substr(1,n-1),e[n+1]==="@"?e.substr(n+2):t.namedNode(e.substr(n+3)));case"[":e=JSON.parse(e);break;default:if(!r||!Array.isArray(e))return t.namedNode(e)}return t.quad(Cs(e[0],t,!0),Cs(e[1],t,!0),Cs(e[2],t,!0),e[3]&&Cs(e[3],t,!0))}function Ro(e,t){if(typeof e=="string")return e;if(e instanceof ri&&e.termType!=="Quad")return e.id;if(!e)return tl.id;switch(e.termType){case"NamedNode":return e.value;case"BlankNode":return`_:${e.value}`;case"Variable":return`?${e.value}`;case"DefaultGraph":return"";case"Literal":return`"${e.value}"${e.language?`@${e.language}`:e.datatype&&e.datatype.value!==Os.string?`^^${e.datatype.value}`:""}`;case"Quad":const r=[Ro(e.subject,!0),Ro(e.predicate,!0),Ro(e.object,!0)];return e.graph&&e.graph.termType!=="DefaultGraph"&&r.push(Ro(e.graph,!0)),t?r:JSON.stringify(r);default:throw new Error(`Unexpected termType: ${e.termType}`)}}let Fu=class extends ri{constructor(t,r,n,i){super(""),this._subject=t,this._predicate=r,this._object=n,this._graph=i||tl}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(t){return!!t&&this._subject.equals(t.subject)&&this._predicate.equals(t.predicate)&&this._object.equals(t.object)&&this._graph.equals(t.graph)}};function HF(e){return new gm(e)}function VF(e){return new eS(e||`n3-${dz++}`)}function zF(e,t){if(typeof t=="string")return new Ou(`"${e}"@${t.toLowerCase()}`);let r=t?t.value:"";return r===""&&(typeof e=="boolean"?r=Os.boolean:typeof e=="number"&&(Number.isFinite(e)?r=Number.isInteger(e)?Os.integer:Os.double:(r=Os.double,Number.isNaN(e)||(e=e>0?"INF":"-INF")))),r===""||r===Os.string?new Ou(`"${e}"`):new Ou(`"${e}"^^${r}`)}function WF(e){return new tS(e)}function hz(){return tl}function Kw(e,t,r,n){return new Fu(e,t,r,n)}function Bd(e){if(e instanceof ri)return e;switch(e.termType){case"NamedNode":return HF(e.value);case"BlankNode":return VF(e.value);case"Variable":return WF(e.value);case"DefaultGraph":return tl;case"Literal":return zF(e.value,e.language||e.datatype);case"Quad":return GF(e);default:throw new Error(`Unexpected termType: ${e.termType}`)}}function GF(e){if(e instanceof Fu)return e;if(e.termType!=="Quad")throw new Error(`Unexpected termType: ${e.termType}`);return Kw(Bd(e.subject),Bd(e.predicate),Bd(e.object),Bd(e.graph))}let _R=0;class _m{constructor(t){this._contextStack=[],this._graph=null,t=t||{},this._setBase(t.baseIRI),t.factory&&KF(this,t.factory);const r=typeof t.format=="string"?t.format.match(/\w*$/)[0].toLowerCase():"",n=/turtle/.test(r),i=/trig/.test(r),a=/triple/.test(r),o=/quad/.test(r),s=this._n3Mode=/n3/.test(r),l=a||o;(this._supportsNamedGraphs=!(n||s))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(n||i||a||s),this._supportsRDFStar=r===""||/star|\*$/.test(r),l&&(this._resolveRelativeIRI=u=>null),this._blankNodePrefix=typeof t.blankNodePrefix!="string"?"":t.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=t.lexer||new JE({lineMode:l,n3:s}),this._explicitQuantifiers=!!t.explicitQuantifiers}static _resetBlankNodePrefix(){_R=0}_setBase(t){if(!t)this._base="",this._basePath="";else{const r=t.indexOf("#");r>=0&&(t=t.substr(0,r)),this._base=t,this._basePath=t.indexOf("/")<0?t:t.replace(/[^\/?]*(?:\?.*)?$/,""),t=t.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=t[0],this._baseScheme=t[1]}}_saveContext(t,r,n,i,a){const o=this._n3Mode;this._contextStack.push({type:t,subject:n,predicate:i,object:a,graph:r,inverse:o?this._inversePredicate:!1,blankPrefix:o?this._prefixes._:"",quantified:o?this._quantified:null}),o&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(t,r){const n=this._contextStack.pop();if(!n||n.type!==t)return this._error(`Unexpected ${r.type}`,r);this._subject=n.subject,this._predicate=n.predicate,this._object=n.object,this._graph=n.graph,this._n3Mode&&(this._inversePredicate=n.inverse,this._prefixes._=n.blankPrefix,this._quantified=n.quantified)}_readInTopContext(t){switch(t.type){case"eof":return this._graph!==null?this._error("Unclosed graph",t):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(t)}}_readEntity(t,r){let n;switch(t.type){case"IRI":case"typeIRI":const i=this._resolveIRI(t.value);if(i===null)return this._error("Invalid IRI",t);n=this._factory.namedNode(i);break;case"type":case"prefixed":const a=this._prefixes[t.prefix];if(a===void 0)return this._error(`Undefined prefix "${t.prefix}:"`,t);n=this._factory.namedNode(a+t.value);break;case"blank":n=this._factory.blankNode(this._prefixes[t.prefix]+t.value);break;case"var":n=this._factory.variable(t.value.substr(1));break;default:return this._error(`Expected entity but got ${t.type}`,t)}return!r&&this._n3Mode&&n.id in this._quantified&&(n=this._quantified[n.id]),n}_readSubject(t){switch(this._predicate=null,t.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._factory.blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._factory.blankNode(),null,null),this._readSubject):this._error("Unexpected graph",t);case"}":return this._readPunctuation(t);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier="blankNode",this._readQuantifierList):this._error('Unexpected "@forSome"',t);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier="variable",this._readQuantifierList):this._error('Unexpected "@forAll"',t);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",t);if(t.prefix.length===0)return this._literalValue=t.value,this._completeSubjectLiteral;this._subject=this._factory.literal(t.value,this._factory.namedNode(t.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",t);default:if((this._subject=this._readEntity(t))===void 0)return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(t){const r=t.type;switch(r){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[t.value];break;case".":case"]":case"}":return this._predicate===null?this._error(`Unexpected ${r}`,t):(this._subject=null,r==="]"?this._readBlankNodeTail(t):this._readPunctuation(t));case";":return this._predicate!==null?this._readPredicate:this._error("Expected predicate but got ;",t);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._factory.blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",t);default:if((this._predicate=this._readEntity(t))===void 0)return}return this._readObject}_readObject(t){switch(t.type){case"literal":if(t.prefix.length===0)return this._literalValue=t.value,this._readDataTypeOrLang;this._object=this._factory.literal(t.value,this._factory.namedNode(t.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._factory.blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._factory.blankNode()),this._readSubject):this._error("Unexpected graph",t);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",t);default:if((this._object=this._readEntity(t))===void 0)return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(t){return t.type==="{"?this._readGraph(t):this._readPredicate(t)}_readGraph(t){return t.type!=="{"?this._error(`Expected graph but got ${t.type}`,t):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(t){return t.type==="]"?(this._subject=null,this._readBlankNodeTail(t)):(this._predicate=null,this._readPredicate(t))}_readBlankNodeTail(t){if(t.type!=="]")return this._readBlankNodePunctuation(t);this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph);const r=this._predicate===null;return this._restoreContext("blank",t),this._object!==null?this._getContextEndReader():this._predicate!==null?this._readObject:r?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(t){switch(t.type){case".":case"}":return this._subject=null,this._readPunctuation(t);default:return this._readPredicate(t)}}_readListItem(t){let r=null,n=null,i=this._readListItem;const a=this._subject,o=this._contextStack,s=o[o.length-1];switch(t.type){case"[":this._saveContext("blank",this._graph,n=this._factory.blankNode(),this.RDF_FIRST,this._subject=r=this._factory.blankNode()),i=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,n=this._factory.blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",t),o.length!==0&&o[o.length-1].type==="list"&&this._emit(this._subject,this._predicate,this._object,this._graph),this._predicate===null){if(i=this._readPredicate,this._subject===this.RDF_NIL)return i}else if(i=this._getContextEndReader(),this._object===this.RDF_NIL)return i;n=this.RDF_NIL;break;case"literal":t.prefix.length===0?(this._literalValue=t.value,i=this._readListItemDataTypeOrLang):(r=this._factory.literal(t.value,this._factory.namedNode(t.prefix)),i=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._factory.blankNode()),this._readSubject):this._error("Unexpected graph",t);default:if((r=this._readEntity(t))===void 0)return}if(n===null&&(this._subject=n=this._factory.blankNode()),a===null?s.predicate===null?s.subject=n:s.object=n:this._emit(a,this.RDF_REST,n,this._graph),r!==null){if(this._n3Mode&&(t.type==="IRI"||t.type==="prefixed"))return this._saveContext("item",this._graph,n,this.RDF_FIRST,r),this._subject=r,this._predicate=null,this._getPathReader(this._readListItem);this._emit(n,this.RDF_FIRST,r,this._graph)}return i}_readDataTypeOrLang(t){return this._completeObjectLiteral(t,!1)}_readListItemDataTypeOrLang(t){return this._completeObjectLiteral(t,!0)}_completeLiteral(t){let r=this._factory.literal(this._literalValue);switch(t.type){case"type":case"typeIRI":const n=this._readEntity(t);if(n===void 0)return;r=this._factory.literal(this._literalValue,n),t=null;break;case"langcode":r=this._factory.literal(this._literalValue,t.value),t=null;break}return{token:t,literal:r}}_completeSubjectLiteral(t){return this._subject=this._completeLiteral(t).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(t,r){const n=this._completeLiteral(t);if(n)return this._object=n.literal,r&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),n.token===null?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(n.token))}_readFormulaTail(t){return t.type!=="}"?this._readPunctuation(t):(this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",t),this._object===null?this._readPredicate:this._getContextEndReader())}_readPunctuation(t){let r,n=this._graph;const i=this._subject,a=this._inversePredicate;switch(t.type){case"}":if(this._graph===null)return this._error("Unexpected graph closing",t);if(this._n3Mode)return this._readFormulaTail(t);this._graph=null;case".":this._subject=null,r=this._contextStack.length?this._readSubject:this._readInTopContext,a&&(this._inversePredicate=!1);break;case";":r=this._readPredicate;break;case",":r=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF-star syntax",t);const o=this._predicate,s=this._object;this._subject=this._factory.quad(i,o,s,this.DEFAULTGRAPH),r=this._readPredicate;break;case"|}":if(this._subject.termType!=="Quad")return this._error("Unexpected asserted triple closing",t);this._subject=null,r=this._readPunctuation;break;default:if(this._supportsQuads&&this._graph===null&&(n=this._readEntity(t))!==void 0){r=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,t)}if(i!==null){const o=this._predicate,s=this._object;a?this._emit(s,o,i,n):this._emit(i,o,s,n)}return r}_readBlankNodePunctuation(t){let r;switch(t.type){case";":r=this._readPredicate;break;case",":r=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,t)}return this._emit(this._subject,this._predicate,this._object,this._graph),r}_readQuadPunctuation(t){return t.type!=="."?this._error("Expected dot to follow quad",t):this._readInTopContext}_readPrefix(t){return t.type!=="prefix"?this._error("Expected prefix to follow @prefix",t):(this._prefix=t.value,this._readPrefixIRI)}_readPrefixIRI(t){if(t.type!=="IRI")return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,t);const r=this._readEntity(t);return this._prefixes[this._prefix]=r.value,this._prefixCallback(this._prefix,r),this._readDeclarationPunctuation}_readBaseIRI(t){const r=t.type==="IRI"&&this._resolveIRI(t.value);return r?(this._setBase(r),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",t)}_readNamedGraphLabel(t){switch(t.type){case"IRI":case"blank":case"prefixed":return this._readSubject(t),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",t)}}_readNamedGraphBlankLabel(t){return t.type!=="]"?this._error("Invalid graph label",t):(this._subject=this._factory.blankNode(),this._readGraph)}_readDeclarationPunctuation(t){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(t)):t.type!=="."?this._error("Expected declaration to end with a dot",t):this._readInTopContext}_readQuantifierList(t){let r;switch(t.type){case"IRI":case"prefixed":if((r=this._readEntity(t,!0))!==void 0)break;default:return this._error(`Unexpected ${t.type}`,t)}return this._explicitQuantifiers?(this._subject===null?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._factory.blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._factory.blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,r,this.QUANTIFIERS_GRAPH)):this._quantified[r.id]=this._factory[this._quantifier](this._factory.blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(t){return t.type===","?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(t))}_getPathReader(t){return this._afterPath=t,this._readPath}_readPath(t){switch(t.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const r=this._contextStack,n=r.length&&r[r.length-1];if(n&&n.type==="item"){const i=this._subject;this._restoreContext("item",t),this._emit(this._subject,this.RDF_FIRST,i,this._graph)}return this._afterPath(t)}}_readForwardPath(t){let r,n;const i=this._factory.blankNode();if((n=this._readEntity(t))!==void 0)return this._predicate===null?(r=this._subject,this._subject=i):(r=this._object,this._object=i),this._emit(r,n,i,this._graph),this._readPath}_readBackwardPath(t){const r=this._factory.blankNode();let n,i;if((n=this._readEntity(t))!==void 0)return this._predicate===null?(i=this._subject,this._subject=r):(i=this._object,this._object=r),this._emit(r,n,i,this._graph),this._readPath}_readRDFStarTailOrGraph(t){return t.type!==">>"?this._supportsQuads&&this._graph===null&&(this._graph=this._readEntity(t))!==void 0?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,t):this._readRDFStarTail(t)}_readRDFStarTail(t){if(t.type!==">>")return this._error(`Expected >> but got ${t.type}`,t);const r=this._factory.quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",t),this._subject===null?(this._subject=r,this._readPredicate):(this._object=r,this._getContextEndReader())}_getContextEndReader(){const t=this._contextStack;if(!t.length)return this._readPunctuation;switch(t[t.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(t,r,n,i){this._callback(null,this._factory.quad(t,r,n,i||this.DEFAULTGRAPH))}_error(t,r){const n=new Error(`${t} on line ${r.line}.`);n.context={token:r,line:r.line,previousToken:this._lexer.previousToken},this._callback(n),this._callback=kp}_resolveIRI(t){return/^[a-z][a-z0-9+.-]*:/i.test(t)?t:this._resolveRelativeIRI(t)}_resolveRelativeIRI(t){if(!t.length)return this._base;switch(t[0]){case"#":return this._base+t;case"?":return this._base.replace(/(?:\?.*)?$/,t);case"/":return(t[1]==="/"?this._baseScheme:this._baseRoot)+this._removeDotSegments(t);default:return/^[^/:]*:/.test(t)?null:this._removeDotSegments(this._basePath+t)}}_removeDotSegments(t){if(!/(^|\/)\.\.?($|[/#?])/.test(t))return t;const r=t.length;let n="",i=-1,a=-1,o=0,s="/";for(;i<r;){switch(s){case":":if(a<0&&t[++i]==="/"&&t[++i]==="/")for(;(a=i+1)<r&&t[a]!=="/";)i=a;break;case"?":case"#":i=r;break;case"/":if(t[i+1]===".")switch(s=t[++i+1],s){case"/":n+=t.substring(o,i-1),o=i+1;break;case void 0:case"?":case"#":return n+t.substring(o,i)+t.substr(i+1);case".":if(s=t[++i+1],s===void 0||s==="/"||s==="?"||s==="#"){if(n+=t.substring(o,i-2),(o=n.lastIndexOf("/"))>=a&&(n=n.substr(0,o)),s!=="/")return`${n}/${t.substr(i+1)}`;o=i+1}}}s=t[++i]}return n+t.substring(o)}parse(t,r,n){let i,a,o;if(r&&(r.onQuad||r.onPrefix||r.onComment)?(i=r.onQuad,a=r.onPrefix,o=r.onComment):(i=r,a=n),this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${_R++}_`,this._prefixCallback=a||kp,this._inversePredicate=!1,this._quantified=Object.create(null),!i){const l=[];let u;if(this._callback=(f,d)=>{f?u=f:d&&l.push(d)},this._lexer.tokenize(t).every(f=>this._readCallback=this._readCallback(f)),u)throw u;return l}let s=(l,u)=>{l!==null?(this._callback(l),this._callback=kp):this._readCallback&&(this._readCallback=this._readCallback(u))};o&&(this._lexer.comments=!0,s=(l,u)=>{l!==null?(this._callback(l),this._callback=kp):this._readCallback&&(u.type==="comment"?o(u.value):this._readCallback=this._readCallback(u))}),this._callback=i,this._lexer.tokenize(t,s)}}function kp(){}function KF(e,t){e._factory=t,e.DEFAULTGRAPH=t.defaultGraph(),e.RDF_FIRST=t.namedNode(yn.rdf.first),e.RDF_REST=t.namedNode(yn.rdf.rest),e.RDF_NIL=t.namedNode(yn.rdf.nil),e.N3_FORALL=t.namedNode(yn.r.forAll),e.N3_FORSOME=t.namedNode(yn.r.forSome),e.ABBREVIATIONS={a:t.namedNode(yn.rdf.type),"=":t.namedNode(yn.owl.sameAs),">":t.namedNode(yn.log.implies)},e.QUANTIFIERS_GRAPH=t.namedNode("urn:n3:quantifiers")}KF(_m.prototype,xi);function pz(e){return!!e&&e.termType==="NamedNode"}function mz(e){return!!e&&e.termType==="BlankNode"}function yz(e){return!!e&&e.termType==="Literal"}function gz(e){return!!e&&e.termType==="Variable"}function wh(e){return!!e&&e.termType==="DefaultGraph"}function _z(e){return wh(e.graph)}function bz(e,t){return ZF({"":e.value||e},t)("")}function ZF(e,t){const r=Object.create(null);for(const i in e)n(i,e[i]);t=t||xi;function n(i,a){if(typeof a=="string"){const o=Object.create(null);r[i]=s=>o[s]||(o[s]=t.namedNode(a+s))}else if(!(i in r))throw new Error(`Unknown prefix: ${i}`);return r[i]}return n}const YF=Object.freeze(Object.defineProperty({__proto__:null,inDefaultGraph:_z,isBlankNode:mz,isDefaultGraph:wh,isLiteral:yz,isNamedNode:pz,isVariable:gz,prefix:bz,prefixes:ZF},Symbol.toStringTag,{value:"Module"})),Bl=xi.defaultGraph(),{rdf:vz,xsd:cu}=yn,bR=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,vR=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,wz={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};class ql extends ri{equals(t){return t===this}}class qh{constructor(t,r){if(this._prefixRegex=/$0^/,t&&typeof t.write!="function"&&(r=t,t=null),r=r||{},this._lists=r.lists,t)this._outputStream=t,this._endStream=r.end===void 0?!0:!!r.end;else{let n="";this._outputStream={write(i,a,o){n+=i,o&&o()},end:i=>{i&&i(null,n)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(r.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=Bl,this._prefixIRIs=Object.create(null),r.prefixes&&this.addPrefixes(r.prefixes),r.baseIRI&&(this._baseMatcher=new RegExp(`^${ER(r.baseIRI)}${r.baseIRI.endsWith("/")?"":"[#?]"}`),this._baseLength=r.baseIRI.length))}get _inDefaultGraph(){return Bl.equals(this._graph)}_write(t,r){this._outputStream.write(t,"utf8",r)}_writeQuad(t,r,n,i,a){try{i.equals(this._graph)||(this._write((this._subject===null?"":this._inDefaultGraph?`.
`:`
}
`)+(Bl.equals(i)?"":`${this._encodeIriOrBlank(i)} {
`)),this._graph=i,this._subject=null),t.equals(this._subject)?r.equals(this._predicate)?this._write(`, ${this._encodeObject(n)}`,a):this._write(`;
    ${this._encodePredicate(this._predicate=r)} ${this._encodeObject(n)}`,a):this._write(`${(this._subject===null?"":`.
`)+this._encodeSubject(this._subject=t)} ${this._encodePredicate(this._predicate=r)} ${this._encodeObject(n)}`,a)}catch(o){a&&a(o)}}_writeQuadLine(t,r,n,i,a){delete this._prefixMatch,this._write(this.quadToString(t,r,n,i),a)}quadToString(t,r,n,i){return`${this._encodeSubject(t)} ${this._encodeIriOrBlank(r)} ${this._encodeObject(n)}${i&&i.value?` ${this._encodeIriOrBlank(i)} .
`:` .
`}`}quadsToString(t){let r="";for(const n of t)r+=this.quadToString(n.subject,n.predicate,n.object,n.graph);return r}_encodeSubject(t){return t.termType==="Quad"?this._encodeQuad(t):this._encodeIriOrBlank(t)}_encodeIriOrBlank(t){if(t.termType!=="NamedNode")return this._lists&&t.value in this._lists&&(t=this.list(this._lists[t.value])),"id"in t?t.id:`_:${t.value}`;let r=t.value;this._baseMatcher&&this._baseMatcher.test(r)&&(r=r.substr(this._baseLength)),bR.test(r)&&(r=r.replace(vR,wR));const n=this._prefixRegex.exec(r);return n?n[1]?this._prefixIRIs[n[1]]+n[2]:r:`<${r}>`}_encodeLiteral(t){let r=t.value;if(bR.test(r)&&(r=r.replace(vR,wR)),t.language)return`"${r}"@${t.language}`;if(this._lineMode){if(t.datatype.value===cu.string)return`"${r}"`}else switch(t.datatype.value){case cu.string:return`"${r}"`;case cu.boolean:if(r==="true"||r==="false")return r;break;case cu.integer:if(/^[+-]?\d+$/.test(r))return r;break;case cu.decimal:if(/^[+-]?\d*\.\d+$/.test(r))return r;break;case cu.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(r))return r;break}return`"${r}"^^${this._encodeIriOrBlank(t.datatype)}`}_encodePredicate(t){return t.value===vz.type?"a":this._encodeIriOrBlank(t)}_encodeObject(t){switch(t.termType){case"Quad":return this._encodeQuad(t);case"Literal":return this._encodeLiteral(t);default:return this._encodeIriOrBlank(t)}}_encodeQuad({subject:t,predicate:r,object:n,graph:i}){return`<<${this._encodeSubject(t)} ${this._encodePredicate(r)} ${this._encodeObject(n)}${wh(i)?"":` ${this._encodeIriOrBlank(i)}`}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(t,r,n,i,a){n===void 0?this._writeQuad(t.subject,t.predicate,t.object,t.graph,r):typeof i=="function"?this._writeQuad(t,r,n,Bl,i):this._writeQuad(t,r,n,i||Bl,a)}addQuads(t){for(let r=0;r<t.length;r++)this.addQuad(t[r])}addPrefix(t,r,n){const i={};i[t]=r,this.addPrefixes(i,n)}addPrefixes(t,r){if(!this._prefixIRIs)return r&&r();let n=!1;for(let i in t){let a=t[i];typeof a!="string"&&(a=a.value),n=!0,this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null,this._graph=""),this._prefixIRIs[a]=i+=":",this._write(`@prefix ${i} <${a}>.
`)}if(n){let i="",a="";for(const o in this._prefixIRIs)i+=i?`|${o}`:o,a+=(a?"|":"")+this._prefixIRIs[o];i=ER(i),this._prefixRegex=new RegExp(`^(?:${a})[^/]*$|^(${i})([_a-zA-Z0-9][\\-_a-zA-Z0-9]*)$`)}this._write(n?`
`:"",r)}blank(t,r){let n=t,i,a;switch(t===void 0?n=[]:t.termType?n=[{predicate:t,object:r}]:"length"in t||(n=[t]),a=n.length){case 0:return new ql("[]");case 1:if(i=n[0],!(i.object instanceof ql))return new ql(`[ ${this._encodePredicate(i.predicate)} ${this._encodeObject(i.object)} ]`);default:let o="[";for(let s=0;s<a;s++)i=n[s],i.predicate.equals(t)?o+=`, ${this._encodeObject(i.object)}`:(o+=`${(s?`;
  `:`
  `)+this._encodePredicate(i.predicate)} ${this._encodeObject(i.object)}`,t=i.predicate);return new ql(`${o}
]`)}}list(t){const r=t&&t.length||0,n=new Array(r);for(let i=0;i<r;i++)n[i]=this._encodeObject(t[i]);return new ql(`(${n.join(" ")})`)}end(t){this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null),this._write=this._blockedWrite;let r=t&&((n,i)=>{r=null,t(n,i)});if(this._endStream)try{return this._outputStream.end(r)}catch{}r&&r()}}function wR(e){let t=wz[e];return t===void 0&&(e.length===1?(t=e.charCodeAt(0).toString(16),t="\\u0000".substr(0,6-t.length)+t):(t=((e.charCodeAt(0)-55296)*1024+e.charCodeAt(1)+9216).toString(16),t="\\U00000000".substr(0,10-t.length)+t)),t}function ER(e){return e.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&")}var Ky={exports:{}},Zy={exports:{}},Yy={},SR;function Sr(){return SR||(SR=1,function(e){Object.defineProperties(e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var t={},r={};r.byteLength=f,r.toByteArray=c,r.fromByteArray=v;for(var n=[],i=[],a=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=o.length;s<l;++s)n[s]=o[s],i[o.charCodeAt(s)]=s;i[45]=62,i[95]=63;function u(m){var g=m.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var E=m.indexOf("=");E===-1&&(E=g);var T=E===g?0:4-E%4;return[E,T]}function f(m){var g=u(m),E=g[0],T=g[1];return(E+T)*3/4-T}function d(m,g,E){return(g+E)*3/4-E}function c(m){var g,E=u(m),T=E[0],I=E[1],D=new a(d(m,T,I)),B=0,N=I>0?T-4:T,M;for(M=0;M<N;M+=4)g=i[m.charCodeAt(M)]<<18|i[m.charCodeAt(M+1)]<<12|i[m.charCodeAt(M+2)]<<6|i[m.charCodeAt(M+3)],D[B++]=g>>16&255,D[B++]=g>>8&255,D[B++]=g&255;return I===2&&(g=i[m.charCodeAt(M)]<<2|i[m.charCodeAt(M+1)]>>4,D[B++]=g&255),I===1&&(g=i[m.charCodeAt(M)]<<10|i[m.charCodeAt(M+1)]<<4|i[m.charCodeAt(M+2)]>>2,D[B++]=g>>8&255,D[B++]=g&255),D}function p(m){return n[m>>18&63]+n[m>>12&63]+n[m>>6&63]+n[m&63]}function b(m,g,E){for(var T,I=[],D=g;D<E;D+=3)T=(m[D]<<16&16711680)+(m[D+1]<<8&65280)+(m[D+2]&255),I.push(p(T));return I.join("")}function v(m){for(var g,E=m.length,T=E%3,I=[],D=16383,B=0,N=E-T;B<N;B+=D)I.push(b(m,B,B+D>N?N:B+D));return T===1?(g=m[E-1],I.push(n[g>>2]+n[g<<4&63]+"==")):T===2&&(g=(m[E-2]<<8)+m[E-1],I.push(n[g>>10]+n[g>>4&63]+n[g<<2&63]+"=")),I.join("")}var _={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */_.read=function(m,g,E,T,I){var D,B,N=I*8-T-1,M=(1<<N)-1,j=M>>1,O=-7,q=E?I-1:0,Q=E?-1:1,ie=m[g+q];for(q+=Q,D=ie&(1<<-O)-1,ie>>=-O,O+=N;O>0;D=D*256+m[g+q],q+=Q,O-=8);for(B=D&(1<<-O)-1,D>>=-O,O+=T;O>0;B=B*256+m[g+q],q+=Q,O-=8);if(D===0)D=1-j;else{if(D===M)return B?NaN:(ie?-1:1)*(1/0);B=B+Math.pow(2,T),D=D-j}return(ie?-1:1)*B*Math.pow(2,D-T)},_.write=function(m,g,E,T,I,D){var B,N,M,j=D*8-I-1,O=(1<<j)-1,q=O>>1,Q=I===23?Math.pow(2,-24)-Math.pow(2,-77):0,ie=T?0:D-1,X=T?1:-1,le=g<0||g===0&&1/g<0?1:0;for(g=Math.abs(g),isNaN(g)||g===1/0?(N=isNaN(g)?1:0,B=O):(B=Math.floor(Math.log(g)/Math.LN2),g*(M=Math.pow(2,-B))<1&&(B--,M*=2),B+q>=1?g+=Q/M:g+=Q*Math.pow(2,1-q),g*M>=2&&(B++,M/=2),B+q>=O?(N=0,B=O):B+q>=1?(N=(g*M-1)*Math.pow(2,I),B=B+q):(N=g*Math.pow(2,q-1)*Math.pow(2,I),B=0));I>=8;m[E+ie]=N&255,ie+=X,N/=256,I-=8);for(B=B<<I|N,j+=I;j>0;m[E+ie]=B&255,ie+=X,B/=256,j-=8);m[E+ie-X]|=le*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(m){const g=r,E=_,T=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;m.Buffer=O,m.SlowBuffer=Y,m.INSPECT_MAX_BYTES=50;const I=2147483647;m.kMaxLength=I;const{Uint8Array:D,ArrayBuffer:B,SharedArrayBuffer:N}=globalThis;O.TYPED_ARRAY_SUPPORT=M(),!O.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function M(){try{const G=new D(1),W={foo:function(){return 42}};return Object.setPrototypeOf(W,D.prototype),Object.setPrototypeOf(G,W),G.foo()===42}catch{return!1}}Object.defineProperty(O.prototype,"parent",{enumerable:!0,get:function(){if(O.isBuffer(this))return this.buffer}}),Object.defineProperty(O.prototype,"offset",{enumerable:!0,get:function(){if(O.isBuffer(this))return this.byteOffset}});function j(G){if(G>I)throw new RangeError('The value "'+G+'" is invalid for option "size"');const W=new D(G);return Object.setPrototypeOf(W,O.prototype),W}function O(G,W,J){if(typeof G=="number"){if(typeof W=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return X(G)}return q(G,W,J)}O.poolSize=8192;function q(G,W,J){if(typeof G=="string")return le(G,W);if(B.isView(G))return ne(G);if(G==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof G);if(me(G,B)||G&&me(G.buffer,B)||typeof N<"u"&&(me(G,N)||G&&me(G.buffer,N)))return V(G,W,J);if(typeof G=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Ee=G.valueOf&&G.valueOf();if(Ee!=null&&Ee!==G)return O.from(Ee,W,J);const Le=oe(G);if(Le)return Le;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof G[Symbol.toPrimitive]=="function")return O.from(G[Symbol.toPrimitive]("string"),W,J);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof G)}O.from=function(G,W,J){return q(G,W,J)},Object.setPrototypeOf(O.prototype,D.prototype),Object.setPrototypeOf(O,D);function Q(G){if(typeof G!="number")throw new TypeError('"size" argument must be of type number');if(G<0)throw new RangeError('The value "'+G+'" is invalid for option "size"')}function ie(G,W,J){return Q(G),G<=0?j(G):W!==void 0?typeof J=="string"?j(G).fill(W,J):j(G).fill(W):j(G)}O.alloc=function(G,W,J){return ie(G,W,J)};function X(G){return Q(G),j(G<0?0:he(G)|0)}O.allocUnsafe=function(G){return X(G)},O.allocUnsafeSlow=function(G){return X(G)};function le(G,W){if((typeof W!="string"||W==="")&&(W="utf8"),!O.isEncoding(W))throw new TypeError("Unknown encoding: "+W);const J=Z(G,W)|0;let Ee=j(J);const Le=Ee.write(G,W);return Le!==J&&(Ee=Ee.slice(0,Le)),Ee}function ae(G){const W=G.length<0?0:he(G.length)|0,J=j(W);for(let Ee=0;Ee<W;Ee+=1)J[Ee]=G[Ee]&255;return J}function ne(G){if(me(G,D)){const W=new D(G);return V(W.buffer,W.byteOffset,W.byteLength)}return ae(G)}function V(G,W,J){if(W<0||G.byteLength<W)throw new RangeError('"offset" is outside of buffer bounds');if(G.byteLength<W+(J||0))throw new RangeError('"length" is outside of buffer bounds');let Ee;return W===void 0&&J===void 0?Ee=new D(G):J===void 0?Ee=new D(G,W):Ee=new D(G,W,J),Object.setPrototypeOf(Ee,O.prototype),Ee}function oe(G){if(O.isBuffer(G)){const W=he(G.length)|0,J=j(W);return J.length===0||G.copy(J,0,0,W),J}if(G.length!==void 0)return typeof G.length!="number"||Me(G.length)?j(0):ae(G);if(G.type==="Buffer"&&Array.isArray(G.data))return ae(G.data)}function he(G){if(G>=I)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+I.toString(16)+" bytes");return G|0}function Y(G){return+G!=G&&(G=0),O.alloc(+G)}O.isBuffer=function(W){return W!=null&&W._isBuffer===!0&&W!==O.prototype},O.compare=function(W,J){if(me(W,D)&&(W=O.from(W,W.offset,W.byteLength)),me(J,D)&&(J=O.from(J,J.offset,J.byteLength)),!O.isBuffer(W)||!O.isBuffer(J))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(W===J)return 0;let Ee=W.length,Le=J.length;for(let Ne=0,He=Math.min(Ee,Le);Ne<He;++Ne)if(W[Ne]!==J[Ne]){Ee=W[Ne],Le=J[Ne];break}return Ee<Le?-1:Le<Ee?1:0},O.isEncoding=function(W){switch(String(W).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},O.concat=function(W,J){if(!Array.isArray(W))throw new TypeError('"list" argument must be an Array of Buffers');if(W.length===0)return O.alloc(0);let Ee;if(J===void 0)for(J=0,Ee=0;Ee<W.length;++Ee)J+=W[Ee].length;const Le=O.allocUnsafe(J);let Ne=0;for(Ee=0;Ee<W.length;++Ee){let He=W[Ee];if(me(He,D))Ne+He.length>Le.length?(O.isBuffer(He)||(He=O.from(He)),He.copy(Le,Ne)):D.prototype.set.call(Le,He,Ne);else if(O.isBuffer(He))He.copy(Le,Ne);else throw new TypeError('"list" argument must be an Array of Buffers');Ne+=He.length}return Le};function Z(G,W){if(O.isBuffer(G))return G.length;if(B.isView(G)||me(G,B))return G.byteLength;if(typeof G!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof G);const J=G.length,Ee=arguments.length>2&&arguments[2]===!0;if(!Ee&&J===0)return 0;let Le=!1;for(;;)switch(W){case"ascii":case"latin1":case"binary":return J;case"utf8":case"utf-8":return Re(G).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return J*2;case"hex":return J>>>1;case"base64":return Te(G).length;default:if(Le)return Ee?-1:Re(G).length;W=(""+W).toLowerCase(),Le=!0}}O.byteLength=Z;function ee(G,W,J){let Ee=!1;if((W===void 0||W<0)&&(W=0),W>this.length||((J===void 0||J>this.length)&&(J=this.length),J<=0)||(J>>>=0,W>>>=0,J<=W))return"";for(G||(G="utf8");;)switch(G){case"hex":return Ie(this,W,J);case"utf8":case"utf-8":return U(this,W,J);case"ascii":return ve(this,W,J);case"latin1":case"binary":return ce(this,W,J);case"base64":return k(this,W,J);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return be(this,W,J);default:if(Ee)throw new TypeError("Unknown encoding: "+G);G=(G+"").toLowerCase(),Ee=!0}}O.prototype._isBuffer=!0;function P(G,W,J){const Ee=G[W];G[W]=G[J],G[J]=Ee}O.prototype.swap16=function(){const W=this.length;if(W%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let J=0;J<W;J+=2)P(this,J,J+1);return this},O.prototype.swap32=function(){const W=this.length;if(W%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let J=0;J<W;J+=4)P(this,J,J+3),P(this,J+1,J+2);return this},O.prototype.swap64=function(){const W=this.length;if(W%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let J=0;J<W;J+=8)P(this,J,J+7),P(this,J+1,J+6),P(this,J+2,J+5),P(this,J+3,J+4);return this},O.prototype.toString=function(){const W=this.length;return W===0?"":arguments.length===0?U(this,0,W):ee.apply(this,arguments)},O.prototype.toLocaleString=O.prototype.toString,O.prototype.equals=function(W){if(!O.isBuffer(W))throw new TypeError("Argument must be a Buffer");return this===W?!0:O.compare(this,W)===0},O.prototype.inspect=function(){let W="";const J=m.INSPECT_MAX_BYTES;return W=this.toString("hex",0,J).replace(/(.{2})/g,"$1 ").trim(),this.length>J&&(W+=" ... "),"<Buffer "+W+">"},T&&(O.prototype[T]=O.prototype.inspect),O.prototype.compare=function(W,J,Ee,Le,Ne){if(me(W,D)&&(W=O.from(W,W.offset,W.byteLength)),!O.isBuffer(W))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof W);if(J===void 0&&(J=0),Ee===void 0&&(Ee=W?W.length:0),Le===void 0&&(Le=0),Ne===void 0&&(Ne=this.length),J<0||Ee>W.length||Le<0||Ne>this.length)throw new RangeError("out of range index");if(Le>=Ne&&J>=Ee)return 0;if(Le>=Ne)return-1;if(J>=Ee)return 1;if(J>>>=0,Ee>>>=0,Le>>>=0,Ne>>>=0,this===W)return 0;let He=Ne-Le,$e=Ee-J;const ut=Math.min(He,$e),lt=this.slice(Le,Ne),dt=W.slice(J,Ee);for(let ct=0;ct<ut;++ct)if(lt[ct]!==dt[ct]){He=lt[ct],$e=dt[ct];break}return He<$e?-1:$e<He?1:0};function A(G,W,J,Ee,Le){if(G.length===0)return-1;if(typeof J=="string"?(Ee=J,J=0):J>2147483647?J=2147483647:J<-2147483648&&(J=-2147483648),J=+J,Me(J)&&(J=Le?0:G.length-1),J<0&&(J=G.length+J),J>=G.length){if(Le)return-1;J=G.length-1}else if(J<0)if(Le)J=0;else return-1;if(typeof W=="string"&&(W=O.from(W,Ee)),O.isBuffer(W))return W.length===0?-1:$(G,W,J,Ee,Le);if(typeof W=="number")return W=W&255,typeof D.prototype.indexOf=="function"?Le?D.prototype.indexOf.call(G,W,J):D.prototype.lastIndexOf.call(G,W,J):$(G,[W],J,Ee,Le);throw new TypeError("val must be string, number or Buffer")}function $(G,W,J,Ee,Le){let Ne=1,He=G.length,$e=W.length;if(Ee!==void 0&&(Ee=String(Ee).toLowerCase(),Ee==="ucs2"||Ee==="ucs-2"||Ee==="utf16le"||Ee==="utf-16le")){if(G.length<2||W.length<2)return-1;Ne=2,He/=2,$e/=2,J/=2}function ut(dt,ct){return Ne===1?dt[ct]:dt.readUInt16BE(ct*Ne)}let lt;if(Le){let dt=-1;for(lt=J;lt<He;lt++)if(ut(G,lt)===ut(W,dt===-1?0:lt-dt)){if(dt===-1&&(dt=lt),lt-dt+1===$e)return dt*Ne}else dt!==-1&&(lt-=lt-dt),dt=-1}else for(J+$e>He&&(J=He-$e),lt=J;lt>=0;lt--){let dt=!0;for(let ct=0;ct<$e;ct++)if(ut(G,lt+ct)!==ut(W,ct)){dt=!1;break}if(dt)return lt}return-1}O.prototype.includes=function(W,J,Ee){return this.indexOf(W,J,Ee)!==-1},O.prototype.indexOf=function(W,J,Ee){return A(this,W,J,Ee,!0)},O.prototype.lastIndexOf=function(W,J,Ee){return A(this,W,J,Ee,!1)};function te(G,W,J,Ee){J=Number(J)||0;const Le=G.length-J;Ee?(Ee=Number(Ee),Ee>Le&&(Ee=Le)):Ee=Le;const Ne=W.length;Ee>Ne/2&&(Ee=Ne/2);let He;for(He=0;He<Ee;++He){const $e=parseInt(W.substr(He*2,2),16);if(Me($e))return He;G[J+He]=$e}return He}function pe(G,W,J,Ee){return Ce(Re(W,G.length-J),G,J,Ee)}function R(G,W,J,Ee){return Ce(qe(W),G,J,Ee)}function w(G,W,J,Ee){return Ce(Te(W),G,J,Ee)}function x(G,W,J,Ee){return Ce(H(W,G.length-J),G,J,Ee)}O.prototype.write=function(W,J,Ee,Le){if(J===void 0)Le="utf8",Ee=this.length,J=0;else if(Ee===void 0&&typeof J=="string")Le=J,Ee=this.length,J=0;else if(isFinite(J))J=J>>>0,isFinite(Ee)?(Ee=Ee>>>0,Le===void 0&&(Le="utf8")):(Le=Ee,Ee=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Ne=this.length-J;if((Ee===void 0||Ee>Ne)&&(Ee=Ne),W.length>0&&(Ee<0||J<0)||J>this.length)throw new RangeError("Attempt to write outside buffer bounds");Le||(Le="utf8");let He=!1;for(;;)switch(Le){case"hex":return te(this,W,J,Ee);case"utf8":case"utf-8":return pe(this,W,J,Ee);case"ascii":case"latin1":case"binary":return R(this,W,J,Ee);case"base64":return w(this,W,J,Ee);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,W,J,Ee);default:if(He)throw new TypeError("Unknown encoding: "+Le);Le=(""+Le).toLowerCase(),He=!0}},O.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function k(G,W,J){return W===0&&J===G.length?g.fromByteArray(G):g.fromByteArray(G.slice(W,J))}function U(G,W,J){J=Math.min(G.length,J);const Ee=[];let Le=W;for(;Le<J;){const Ne=G[Le];let He=null,$e=Ne>239?4:Ne>223?3:Ne>191?2:1;if(Le+$e<=J){let ut,lt,dt,ct;switch($e){case 1:Ne<128&&(He=Ne);break;case 2:ut=G[Le+1],(ut&192)===128&&(ct=(Ne&31)<<6|ut&63,ct>127&&(He=ct));break;case 3:ut=G[Le+1],lt=G[Le+2],(ut&192)===128&&(lt&192)===128&&(ct=(Ne&15)<<12|(ut&63)<<6|lt&63,ct>2047&&(ct<55296||ct>57343)&&(He=ct));break;case 4:ut=G[Le+1],lt=G[Le+2],dt=G[Le+3],(ut&192)===128&&(lt&192)===128&&(dt&192)===128&&(ct=(Ne&15)<<18|(ut&63)<<12|(lt&63)<<6|dt&63,ct>65535&&ct<1114112&&(He=ct))}}He===null?(He=65533,$e=1):He>65535&&(He-=65536,Ee.push(He>>>10&1023|55296),He=56320|He&1023),Ee.push(He),Le+=$e}return fe(Ee)}const re=4096;function fe(G){const W=G.length;if(W<=re)return String.fromCharCode.apply(String,G);let J="",Ee=0;for(;Ee<W;)J+=String.fromCharCode.apply(String,G.slice(Ee,Ee+=re));return J}function ve(G,W,J){let Ee="";J=Math.min(G.length,J);for(let Le=W;Le<J;++Le)Ee+=String.fromCharCode(G[Le]&127);return Ee}function ce(G,W,J){let Ee="";J=Math.min(G.length,J);for(let Le=W;Le<J;++Le)Ee+=String.fromCharCode(G[Le]);return Ee}function Ie(G,W,J){const Ee=G.length;(!W||W<0)&&(W=0),(!J||J<0||J>Ee)&&(J=Ee);let Le="";for(let Ne=W;Ne<J;++Ne)Le+=Ve[G[Ne]];return Le}function be(G,W,J){const Ee=G.slice(W,J);let Le="";for(let Ne=0;Ne<Ee.length-1;Ne+=2)Le+=String.fromCharCode(Ee[Ne]+Ee[Ne+1]*256);return Le}O.prototype.slice=function(W,J){const Ee=this.length;W=~~W,J=J===void 0?Ee:~~J,W<0?(W+=Ee,W<0&&(W=0)):W>Ee&&(W=Ee),J<0?(J+=Ee,J<0&&(J=0)):J>Ee&&(J=Ee),J<W&&(J=W);const Le=this.subarray(W,J);return Object.setPrototypeOf(Le,O.prototype),Le};function xe(G,W,J){if(G%1!==0||G<0)throw new RangeError("offset is not uint");if(G+W>J)throw new RangeError("Trying to access beyond buffer length")}O.prototype.readUintLE=O.prototype.readUIntLE=function(W,J,Ee){W=W>>>0,J=J>>>0,Ee||xe(W,J,this.length);let Le=this[W],Ne=1,He=0;for(;++He<J&&(Ne*=256);)Le+=this[W+He]*Ne;return Le},O.prototype.readUintBE=O.prototype.readUIntBE=function(W,J,Ee){W=W>>>0,J=J>>>0,Ee||xe(W,J,this.length);let Le=this[W+--J],Ne=1;for(;J>0&&(Ne*=256);)Le+=this[W+--J]*Ne;return Le},O.prototype.readUint8=O.prototype.readUInt8=function(W,J){return W=W>>>0,J||xe(W,1,this.length),this[W]},O.prototype.readUint16LE=O.prototype.readUInt16LE=function(W,J){return W=W>>>0,J||xe(W,2,this.length),this[W]|this[W+1]<<8},O.prototype.readUint16BE=O.prototype.readUInt16BE=function(W,J){return W=W>>>0,J||xe(W,2,this.length),this[W]<<8|this[W+1]},O.prototype.readUint32LE=O.prototype.readUInt32LE=function(W,J){return W=W>>>0,J||xe(W,4,this.length),(this[W]|this[W+1]<<8|this[W+2]<<16)+this[W+3]*16777216},O.prototype.readUint32BE=O.prototype.readUInt32BE=function(W,J){return W=W>>>0,J||xe(W,4,this.length),this[W]*16777216+(this[W+1]<<16|this[W+2]<<8|this[W+3])},O.prototype.readBigUInt64LE=ft(function(W){W=W>>>0,Oe(W,"offset");const J=this[W],Ee=this[W+7];(J===void 0||Ee===void 0)&&se(W,this.length-8);const Le=J+this[++W]*2**8+this[++W]*2**16+this[++W]*2**24,Ne=this[++W]+this[++W]*2**8+this[++W]*2**16+Ee*2**24;return BigInt(Le)+(BigInt(Ne)<<BigInt(32))}),O.prototype.readBigUInt64BE=ft(function(W){W=W>>>0,Oe(W,"offset");const J=this[W],Ee=this[W+7];(J===void 0||Ee===void 0)&&se(W,this.length-8);const Le=J*2**24+this[++W]*2**16+this[++W]*2**8+this[++W],Ne=this[++W]*2**24+this[++W]*2**16+this[++W]*2**8+Ee;return(BigInt(Le)<<BigInt(32))+BigInt(Ne)}),O.prototype.readIntLE=function(W,J,Ee){W=W>>>0,J=J>>>0,Ee||xe(W,J,this.length);let Le=this[W],Ne=1,He=0;for(;++He<J&&(Ne*=256);)Le+=this[W+He]*Ne;return Ne*=128,Le>=Ne&&(Le-=Math.pow(2,8*J)),Le},O.prototype.readIntBE=function(W,J,Ee){W=W>>>0,J=J>>>0,Ee||xe(W,J,this.length);let Le=J,Ne=1,He=this[W+--Le];for(;Le>0&&(Ne*=256);)He+=this[W+--Le]*Ne;return Ne*=128,He>=Ne&&(He-=Math.pow(2,8*J)),He},O.prototype.readInt8=function(W,J){return W=W>>>0,J||xe(W,1,this.length),this[W]&128?(255-this[W]+1)*-1:this[W]},O.prototype.readInt16LE=function(W,J){W=W>>>0,J||xe(W,2,this.length);const Ee=this[W]|this[W+1]<<8;return Ee&32768?Ee|4294901760:Ee},O.prototype.readInt16BE=function(W,J){W=W>>>0,J||xe(W,2,this.length);const Ee=this[W+1]|this[W]<<8;return Ee&32768?Ee|4294901760:Ee},O.prototype.readInt32LE=function(W,J){return W=W>>>0,J||xe(W,4,this.length),this[W]|this[W+1]<<8|this[W+2]<<16|this[W+3]<<24},O.prototype.readInt32BE=function(W,J){return W=W>>>0,J||xe(W,4,this.length),this[W]<<24|this[W+1]<<16|this[W+2]<<8|this[W+3]},O.prototype.readBigInt64LE=ft(function(W){W=W>>>0,Oe(W,"offset");const J=this[W],Ee=this[W+7];(J===void 0||Ee===void 0)&&se(W,this.length-8);const Le=this[W+4]+this[W+5]*2**8+this[W+6]*2**16+(Ee<<24);return(BigInt(Le)<<BigInt(32))+BigInt(J+this[++W]*2**8+this[++W]*2**16+this[++W]*2**24)}),O.prototype.readBigInt64BE=ft(function(W){W=W>>>0,Oe(W,"offset");const J=this[W],Ee=this[W+7];(J===void 0||Ee===void 0)&&se(W,this.length-8);const Le=(J<<24)+this[++W]*2**16+this[++W]*2**8+this[++W];return(BigInt(Le)<<BigInt(32))+BigInt(this[++W]*2**24+this[++W]*2**16+this[++W]*2**8+Ee)}),O.prototype.readFloatLE=function(W,J){return W=W>>>0,J||xe(W,4,this.length),E.read(this,W,!0,23,4)},O.prototype.readFloatBE=function(W,J){return W=W>>>0,J||xe(W,4,this.length),E.read(this,W,!1,23,4)},O.prototype.readDoubleLE=function(W,J){return W=W>>>0,J||xe(W,8,this.length),E.read(this,W,!0,52,8)},O.prototype.readDoubleBE=function(W,J){return W=W>>>0,J||xe(W,8,this.length),E.read(this,W,!1,52,8)};function je(G,W,J,Ee,Le,Ne){if(!O.isBuffer(G))throw new TypeError('"buffer" argument must be a Buffer instance');if(W>Le||W<Ne)throw new RangeError('"value" argument is out of bounds');if(J+Ee>G.length)throw new RangeError("Index out of range")}O.prototype.writeUintLE=O.prototype.writeUIntLE=function(W,J,Ee,Le){if(W=+W,J=J>>>0,Ee=Ee>>>0,!Le){const $e=Math.pow(2,8*Ee)-1;je(this,W,J,Ee,$e,0)}let Ne=1,He=0;for(this[J]=W&255;++He<Ee&&(Ne*=256);)this[J+He]=W/Ne&255;return J+Ee},O.prototype.writeUintBE=O.prototype.writeUIntBE=function(W,J,Ee,Le){if(W=+W,J=J>>>0,Ee=Ee>>>0,!Le){const $e=Math.pow(2,8*Ee)-1;je(this,W,J,Ee,$e,0)}let Ne=Ee-1,He=1;for(this[J+Ne]=W&255;--Ne>=0&&(He*=256);)this[J+Ne]=W/He&255;return J+Ee},O.prototype.writeUint8=O.prototype.writeUInt8=function(W,J,Ee){return W=+W,J=J>>>0,Ee||je(this,W,J,1,255,0),this[J]=W&255,J+1},O.prototype.writeUint16LE=O.prototype.writeUInt16LE=function(W,J,Ee){return W=+W,J=J>>>0,Ee||je(this,W,J,2,65535,0),this[J]=W&255,this[J+1]=W>>>8,J+2},O.prototype.writeUint16BE=O.prototype.writeUInt16BE=function(W,J,Ee){return W=+W,J=J>>>0,Ee||je(this,W,J,2,65535,0),this[J]=W>>>8,this[J+1]=W&255,J+2},O.prototype.writeUint32LE=O.prototype.writeUInt32LE=function(W,J,Ee){return W=+W,J=J>>>0,Ee||je(this,W,J,4,4294967295,0),this[J+3]=W>>>24,this[J+2]=W>>>16,this[J+1]=W>>>8,this[J]=W&255,J+4},O.prototype.writeUint32BE=O.prototype.writeUInt32BE=function(W,J,Ee){return W=+W,J=J>>>0,Ee||je(this,W,J,4,4294967295,0),this[J]=W>>>24,this[J+1]=W>>>16,this[J+2]=W>>>8,this[J+3]=W&255,J+4};function Ae(G,W,J,Ee,Le){_e(W,Ee,Le,G,J,7);let Ne=Number(W&BigInt(4294967295));G[J++]=Ne,Ne=Ne>>8,G[J++]=Ne,Ne=Ne>>8,G[J++]=Ne,Ne=Ne>>8,G[J++]=Ne;let He=Number(W>>BigInt(32)&BigInt(4294967295));return G[J++]=He,He=He>>8,G[J++]=He,He=He>>8,G[J++]=He,He=He>>8,G[J++]=He,J}function Pe(G,W,J,Ee,Le){_e(W,Ee,Le,G,J,7);let Ne=Number(W&BigInt(4294967295));G[J+7]=Ne,Ne=Ne>>8,G[J+6]=Ne,Ne=Ne>>8,G[J+5]=Ne,Ne=Ne>>8,G[J+4]=Ne;let He=Number(W>>BigInt(32)&BigInt(4294967295));return G[J+3]=He,He=He>>8,G[J+2]=He,He=He>>8,G[J+1]=He,He=He>>8,G[J]=He,J+8}O.prototype.writeBigUInt64LE=ft(function(W,J=0){return Ae(this,W,J,BigInt(0),BigInt("0xffffffffffffffff"))}),O.prototype.writeBigUInt64BE=ft(function(W,J=0){return Pe(this,W,J,BigInt(0),BigInt("0xffffffffffffffff"))}),O.prototype.writeIntLE=function(W,J,Ee,Le){if(W=+W,J=J>>>0,!Le){const ut=Math.pow(2,8*Ee-1);je(this,W,J,Ee,ut-1,-ut)}let Ne=0,He=1,$e=0;for(this[J]=W&255;++Ne<Ee&&(He*=256);)W<0&&$e===0&&this[J+Ne-1]!==0&&($e=1),this[J+Ne]=(W/He>>0)-$e&255;return J+Ee},O.prototype.writeIntBE=function(W,J,Ee,Le){if(W=+W,J=J>>>0,!Le){const ut=Math.pow(2,8*Ee-1);je(this,W,J,Ee,ut-1,-ut)}let Ne=Ee-1,He=1,$e=0;for(this[J+Ne]=W&255;--Ne>=0&&(He*=256);)W<0&&$e===0&&this[J+Ne+1]!==0&&($e=1),this[J+Ne]=(W/He>>0)-$e&255;return J+Ee},O.prototype.writeInt8=function(W,J,Ee){return W=+W,J=J>>>0,Ee||je(this,W,J,1,127,-128),W<0&&(W=255+W+1),this[J]=W&255,J+1},O.prototype.writeInt16LE=function(W,J,Ee){return W=+W,J=J>>>0,Ee||je(this,W,J,2,32767,-32768),this[J]=W&255,this[J+1]=W>>>8,J+2},O.prototype.writeInt16BE=function(W,J,Ee){return W=+W,J=J>>>0,Ee||je(this,W,J,2,32767,-32768),this[J]=W>>>8,this[J+1]=W&255,J+2},O.prototype.writeInt32LE=function(W,J,Ee){return W=+W,J=J>>>0,Ee||je(this,W,J,4,2147483647,-2147483648),this[J]=W&255,this[J+1]=W>>>8,this[J+2]=W>>>16,this[J+3]=W>>>24,J+4},O.prototype.writeInt32BE=function(W,J,Ee){return W=+W,J=J>>>0,Ee||je(this,W,J,4,2147483647,-2147483648),W<0&&(W=4294967295+W+1),this[J]=W>>>24,this[J+1]=W>>>16,this[J+2]=W>>>8,this[J+3]=W&255,J+4},O.prototype.writeBigInt64LE=ft(function(W,J=0){return Ae(this,W,J,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),O.prototype.writeBigInt64BE=ft(function(W,J=0){return Pe(this,W,J,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ke(G,W,J,Ee,Le,Ne){if(J+Ee>G.length)throw new RangeError("Index out of range");if(J<0)throw new RangeError("Index out of range")}function Ze(G,W,J,Ee,Le){return W=+W,J=J>>>0,Le||ke(G,W,J,4),E.write(G,W,J,Ee,23,4),J+4}O.prototype.writeFloatLE=function(W,J,Ee){return Ze(this,W,J,!0,Ee)},O.prototype.writeFloatBE=function(W,J,Ee){return Ze(this,W,J,!1,Ee)};function Ue(G,W,J,Ee,Le){return W=+W,J=J>>>0,Le||ke(G,W,J,8),E.write(G,W,J,Ee,52,8),J+8}O.prototype.writeDoubleLE=function(W,J,Ee){return Ue(this,W,J,!0,Ee)},O.prototype.writeDoubleBE=function(W,J,Ee){return Ue(this,W,J,!1,Ee)},O.prototype.copy=function(W,J,Ee,Le){if(!O.isBuffer(W))throw new TypeError("argument should be a Buffer");if(Ee||(Ee=0),!Le&&Le!==0&&(Le=this.length),J>=W.length&&(J=W.length),J||(J=0),Le>0&&Le<Ee&&(Le=Ee),Le===Ee||W.length===0||this.length===0)return 0;if(J<0)throw new RangeError("targetStart out of bounds");if(Ee<0||Ee>=this.length)throw new RangeError("Index out of range");if(Le<0)throw new RangeError("sourceEnd out of bounds");Le>this.length&&(Le=this.length),W.length-J<Le-Ee&&(Le=W.length-J+Ee);const Ne=Le-Ee;return this===W&&typeof D.prototype.copyWithin=="function"?this.copyWithin(J,Ee,Le):D.prototype.set.call(W,this.subarray(Ee,Le),J),Ne},O.prototype.fill=function(W,J,Ee,Le){if(typeof W=="string"){if(typeof J=="string"?(Le=J,J=0,Ee=this.length):typeof Ee=="string"&&(Le=Ee,Ee=this.length),Le!==void 0&&typeof Le!="string")throw new TypeError("encoding must be a string");if(typeof Le=="string"&&!O.isEncoding(Le))throw new TypeError("Unknown encoding: "+Le);if(W.length===1){const He=W.charCodeAt(0);(Le==="utf8"&&He<128||Le==="latin1")&&(W=He)}}else typeof W=="number"?W=W&255:typeof W=="boolean"&&(W=Number(W));if(J<0||this.length<J||this.length<Ee)throw new RangeError("Out of range index");if(Ee<=J)return this;J=J>>>0,Ee=Ee===void 0?this.length:Ee>>>0,W||(W=0);let Ne;if(typeof W=="number")for(Ne=J;Ne<Ee;++Ne)this[Ne]=W;else{const He=O.isBuffer(W)?W:O.from(W,Le),$e=He.length;if($e===0)throw new TypeError('The value "'+W+'" is invalid for argument "value"');for(Ne=0;Ne<Ee-J;++Ne)this[Ne+J]=He[Ne%$e]}return this};const it={};function ye(G,W,J){it[G]=class extends J{constructor(){super(),Object.defineProperty(this,"message",{value:W.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${G}]`,this.stack,delete this.name}get code(){return G}set code(Le){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Le,writable:!0})}toString(){return`${this.name} [${G}]: ${this.message}`}}}ye("ERR_BUFFER_OUT_OF_BOUNDS",function(G){return G?`${G} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ye("ERR_INVALID_ARG_TYPE",function(G,W){return`The "${G}" argument must be of type number. Received type ${typeof W}`},TypeError),ye("ERR_OUT_OF_RANGE",function(G,W,J){let Ee=`The value of "${G}" is out of range.`,Le=J;return Number.isInteger(J)&&Math.abs(J)>2**32?Le=F(String(J)):typeof J=="bigint"&&(Le=String(J),(J>BigInt(2)**BigInt(32)||J<-(BigInt(2)**BigInt(32)))&&(Le=F(Le)),Le+="n"),Ee+=` It must be ${W}. Received ${Le}`,Ee},RangeError);function F(G){let W="",J=G.length;const Ee=G[0]==="-"?1:0;for(;J>=Ee+4;J-=3)W=`_${G.slice(J-3,J)}${W}`;return`${G.slice(0,J)}${W}`}function K(G,W,J){Oe(W,"offset"),(G[W]===void 0||G[W+J]===void 0)&&se(W,G.length-(J+1))}function _e(G,W,J,Ee,Le,Ne){if(G>J||G<W){const He=typeof W=="bigint"?"n":"";let $e;throw W===0||W===BigInt(0)?$e=`>= 0${He} and < 2${He} ** ${(Ne+1)*8}${He}`:$e=`>= -(2${He} ** ${(Ne+1)*8-1}${He}) and < 2 ** ${(Ne+1)*8-1}${He}`,new it.ERR_OUT_OF_RANGE("value",$e,G)}K(Ee,Le,Ne)}function Oe(G,W){if(typeof G!="number")throw new it.ERR_INVALID_ARG_TYPE(W,"number",G)}function se(G,W,J){throw Math.floor(G)!==G?(Oe(G,J),new it.ERR_OUT_OF_RANGE("offset","an integer",G)):W<0?new it.ERR_BUFFER_OUT_OF_BOUNDS:new it.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${W}`,G)}const ge=/[^+/0-9A-Za-z-_]/g;function de(G){if(G=G.split("=")[0],G=G.trim().replace(ge,""),G.length<2)return"";for(;G.length%4!==0;)G=G+"=";return G}function Re(G,W){W=W||1/0;let J;const Ee=G.length;let Le=null;const Ne=[];for(let He=0;He<Ee;++He){if(J=G.charCodeAt(He),J>55295&&J<57344){if(!Le){if(J>56319){(W-=3)>-1&&Ne.push(239,191,189);continue}else if(He+1===Ee){(W-=3)>-1&&Ne.push(239,191,189);continue}Le=J;continue}if(J<56320){(W-=3)>-1&&Ne.push(239,191,189),Le=J;continue}J=(Le-55296<<10|J-56320)+65536}else Le&&(W-=3)>-1&&Ne.push(239,191,189);if(Le=null,J<128){if((W-=1)<0)break;Ne.push(J)}else if(J<2048){if((W-=2)<0)break;Ne.push(J>>6|192,J&63|128)}else if(J<65536){if((W-=3)<0)break;Ne.push(J>>12|224,J>>6&63|128,J&63|128)}else if(J<1114112){if((W-=4)<0)break;Ne.push(J>>18|240,J>>12&63|128,J>>6&63|128,J&63|128)}else throw new Error("Invalid code point")}return Ne}function qe(G){const W=[];for(let J=0;J<G.length;++J)W.push(G.charCodeAt(J)&255);return W}function H(G,W){let J,Ee,Le;const Ne=[];for(let He=0;He<G.length&&!((W-=2)<0);++He)J=G.charCodeAt(He),Ee=J>>8,Le=J%256,Ne.push(Le),Ne.push(Ee);return Ne}function Te(G){return g.toByteArray(de(G))}function Ce(G,W,J,Ee){let Le;for(Le=0;Le<Ee&&!(Le+J>=W.length||Le>=G.length);++Le)W[Le+J]=G[Le];return Le}function me(G,W){return G instanceof W||G!=null&&G.constructor!=null&&G.constructor.name!=null&&G.constructor.name===W.name}function Me(G){return G!==G}const Ve=function(){const G="0123456789abcdef",W=new Array(256);for(let J=0;J<16;++J){const Ee=J*16;for(let Le=0;Le<16;++Le)W[Ee+Le]=G[J]+G[Le]}return W}();function ft(G){return typeof BigInt>"u"?we:G}function we(){throw new Error("BigInt not supported")}})(t);const y=t.Buffer;e.Blob=t.Blob,e.BlobOptions=t.BlobOptions,e.Buffer=t.Buffer,e.File=t.File,e.FileOptions=t.FileOptions,e.INSPECT_MAX_BYTES=t.INSPECT_MAX_BYTES,e.SlowBuffer=t.SlowBuffer,e.TranscodeEncoding=t.TranscodeEncoding,e.atob=t.atob,e.btoa=t.btoa,e.constants=t.constants,e.default=y,e.isAscii=t.isAscii,e.isUtf8=t.isUtf8,e.kMaxLength=t.kMaxLength,e.kStringMaxLength=t.kStringMaxLength,e.resolveObjectURL=t.resolveObjectURL,e.transcode=t.transcode}(Yy)),Yy}var Qy,xR;function Er(){if(xR)return Qy;xR=1;class e extends Error{constructor(r){if(!Array.isArray(r))throw new TypeError(`Expected input to be an Array, got ${typeof r}`);let n="";for(let i=0;i<r.length;i++)n+=`    ${r[i].stack}
`;super(n),this.name="AggregateError",this.errors=r}}return Qy={AggregateError:e,ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,r){return t.includes(r)},ArrayPrototypeIndexOf(t,r){return t.indexOf(r)},ArrayPrototypeJoin(t,r){return t.join(r)},ArrayPrototypeMap(t,r){return t.map(r)},ArrayPrototypePop(t,r){return t.pop(r)},ArrayPrototypePush(t,r){return t.push(r)},ArrayPrototypeSlice(t,r,n){return t.slice(r,n)},Error,FunctionPrototypeCall(t,r,...n){return t.call(r,...n)},FunctionPrototypeSymbolHasInstance(t,r){return Function.prototype[Symbol.hasInstance].call(t,r)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,r){return Object.defineProperties(t,r)},ObjectDefineProperty(t,r,n){return Object.defineProperty(t,r,n)},ObjectGetOwnPropertyDescriptor(t,r){return Object.getOwnPropertyDescriptor(t,r)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,r){return Object.setPrototypeOf(t,r)},Promise,PromisePrototypeCatch(t,r){return t.catch(r)},PromisePrototypeThen(t,r,n){return t.then(r,n)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,r){return t.test(r)},SafeSet:Set,String,StringPrototypeSlice(t,r,n){return t.slice(r,n)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,r,n){return t.set(r,n)},Boolean,Uint8Array},Qy}var Xy={exports:{}},Jy,TR;function QF(){return TR||(TR=1,Jy={format(e,...t){return e.replace(/%([sdifj])/g,function(...[r,n]){const i=t.shift();return n==="f"?i.toFixed(6):n==="j"?JSON.stringify(i):n==="s"&&typeof i=="object"?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})},inspect(e){switch(typeof e){case"string":if(e.includes("'"))if(e.includes('"')){if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}else return`"${e}"`;return`'${e}'`;case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}}}),Jy}var eg,RR;function Bn(){if(RR)return eg;RR=1;const{format:e,inspect:t}=QF(),{AggregateError:r}=Er(),n=globalThis.AggregateError||r,i=Symbol("kIsNodeError"),a=["string","function","number","object","Function","Object","boolean","bigint","symbol"],o=/^([A-Z][a-z0-9]*)+$/,s="__node_internal_",l={};function u(_,y){if(!_)throw new l.ERR_INTERNAL_ASSERTION(y)}function f(_){let y="",m=_.length;const g=_[0]==="-"?1:0;for(;m>=g+4;m-=3)y=`_${_.slice(m-3,m)}${y}`;return`${_.slice(0,m)}${y}`}function d(_,y,m){if(typeof y=="function")return u(y.length<=m.length,`Code: ${_}; The provided arguments length (${m.length}) does not match the required ones (${y.length}).`),y(...m);const g=(y.match(/%[dfijoOs]/g)||[]).length;return u(g===m.length,`Code: ${_}; The provided arguments length (${m.length}) does not match the required ones (${g}).`),m.length===0?y:e(y,...m)}function c(_,y,m){m||(m=Error);class g extends m{constructor(...T){super(d(_,y,T))}toString(){return`${this.name} [${_}]: ${this.message}`}}Object.defineProperties(g.prototype,{name:{value:m.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${_}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),g.prototype.code=_,g.prototype[i]=!0,l[_]=g}function p(_){const y=s+_.name;return Object.defineProperty(_,"name",{value:y}),_}function b(_,y){if(_&&y&&_!==y){if(Array.isArray(y.errors))return y.errors.push(_),y;const m=new n([y,_],y.message);return m.code=y.code,m}return _||y}class v extends Error{constructor(y="The operation was aborted",m=void 0){if(m!==void 0&&typeof m!="object")throw new l.ERR_INVALID_ARG_TYPE("options","Object",m);super(y,m),this.code="ABORT_ERR",this.name="AbortError"}}return c("ERR_ASSERTION","%s",Error),c("ERR_INVALID_ARG_TYPE",(_,y,m)=>{u(typeof _=="string","'name' must be a string"),Array.isArray(y)||(y=[y]);let g="The ";_.endsWith(" argument")?g+=`${_} `:g+=`"${_}" ${_.includes(".")?"property":"argument"} `,g+="must be ";const E=[],T=[],I=[];for(const B of y)u(typeof B=="string","All expected entries have to be of type string"),a.includes(B)?E.push(B.toLowerCase()):o.test(B)?T.push(B):(u(B!=="object",'The value "object" should be written as "Object"'),I.push(B));if(T.length>0){const B=E.indexOf("object");B!==-1&&(E.splice(E,B,1),T.push("Object"))}if(E.length>0){switch(E.length){case 1:g+=`of type ${E[0]}`;break;case 2:g+=`one of type ${E[0]} or ${E[1]}`;break;default:{const B=E.pop();g+=`one of type ${E.join(", ")}, or ${B}`}}(T.length>0||I.length>0)&&(g+=" or ")}if(T.length>0){switch(T.length){case 1:g+=`an instance of ${T[0]}`;break;case 2:g+=`an instance of ${T[0]} or ${T[1]}`;break;default:{const B=T.pop();g+=`an instance of ${T.join(", ")}, or ${B}`}}I.length>0&&(g+=" or ")}switch(I.length){case 0:break;case 1:I[0].toLowerCase()!==I[0]&&(g+="an "),g+=`${I[0]}`;break;case 2:g+=`one of ${I[0]} or ${I[1]}`;break;default:{const B=I.pop();g+=`one of ${I.join(", ")}, or ${B}`}}if(m==null)g+=`. Received ${m}`;else if(typeof m=="function"&&m.name)g+=`. Received function ${m.name}`;else if(typeof m=="object"){var D;if((D=m.constructor)!==null&&D!==void 0&&D.name)g+=`. Received an instance of ${m.constructor.name}`;else{const B=t(m,{depth:-1});g+=`. Received ${B}`}}else{let B=t(m,{colors:!1});B.length>25&&(B=`${B.slice(0,25)}...`),g+=`. Received type ${typeof m} (${B})`}return g},TypeError),c("ERR_INVALID_ARG_VALUE",(_,y,m="is invalid")=>{let g=t(y);return g.length>128&&(g=g.slice(0,128)+"..."),`The ${_.includes(".")?"property":"argument"} '${_}' ${m}. Received ${g}`},TypeError),c("ERR_INVALID_RETURN_VALUE",(_,y,m)=>{var g;const E=m!=null&&(g=m.constructor)!==null&&g!==void 0&&g.name?`instance of ${m.constructor.name}`:`type ${typeof m}`;return`Expected ${_} to be returned from the "${y}" function but got ${E}.`},TypeError),c("ERR_MISSING_ARGS",(..._)=>{u(_.length>0,"At least one arg needs to be specified");let y;const m=_.length;switch(_=(Array.isArray(_)?_:[_]).map(g=>`"${g}"`).join(" or "),m){case 1:y+=`The ${_[0]} argument`;break;case 2:y+=`The ${_[0]} and ${_[1]} arguments`;break;default:{const g=_.pop();y+=`The ${_.join(", ")}, and ${g} arguments`}break}return`${y} must be specified`},TypeError),c("ERR_OUT_OF_RANGE",(_,y,m)=>{u(y,'Missing "range" argument');let g;if(Number.isInteger(m)&&Math.abs(m)>2**32)g=f(String(m));else if(typeof m=="bigint"){g=String(m);const E=BigInt(2)**BigInt(32);(m>E||m<-E)&&(g=f(g)),g+="n"}else g=t(m);return`The value of "${_}" is out of range. It must be ${y}. Received ${g}`},RangeError),c("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),c("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),c("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),c("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),c("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),c("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),c("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),c("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),c("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),c("ERR_STREAM_WRITE_AFTER_END","write after end",Error),c("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),eg={AbortError:v,aggregateTwoErrors:p(b),hideStackFrames:p,codes:l},eg}var $l={exports:{}},AR;function Eh(){if(AR)return $l.exports;AR=1;const{AbortController:e,AbortSignal:t}=typeof self<"u"?self:typeof window<"u"?window:void 0;return $l.exports=e,$l.exports.AbortSignal=t,$l.exports.default=e,$l.exports}var Fp={exports:{}},IR;function Kn(){if(IR)return Fp.exports;IR=1;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(T,I,D){return Function.prototype.apply.call(T,I,D)},r;e&&typeof e.ownKeys=="function"?r=e.ownKeys:Object.getOwnPropertySymbols?r=function(T){return Object.getOwnPropertyNames(T).concat(Object.getOwnPropertySymbols(T))}:r=function(T){return Object.getOwnPropertyNames(T)};function n(E){console&&console.warn&&console.warn(E)}var i=Number.isNaN||function(T){return T!==T};function a(){a.init.call(this)}Fp.exports=a,Fp.exports.once=y,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var o=10;function s(E){if(typeof E!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof E)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(E){if(typeof E!="number"||E<0||i(E))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+E+".");o=E}}),a.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(T){if(typeof T!="number"||T<0||i(T))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+T+".");return this._maxListeners=T,this};function l(E){return E._maxListeners===void 0?a.defaultMaxListeners:E._maxListeners}a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(T){for(var I=[],D=1;D<arguments.length;D++)I.push(arguments[D]);var B=T==="error",N=this._events;if(N!==void 0)B=B&&N.error===void 0;else if(!B)return!1;if(B){var M;if(I.length>0&&(M=I[0]),M instanceof Error)throw M;var j=new Error("Unhandled error."+(M?" ("+M.message+")":""));throw j.context=M,j}var O=N[T];if(O===void 0)return!1;if(typeof O=="function")t(O,this,I);else for(var q=O.length,Q=b(O,q),D=0;D<q;++D)t(Q[D],this,I);return!0};function u(E,T,I,D){var B,N,M;if(s(I),N=E._events,N===void 0?(N=E._events=Object.create(null),E._eventsCount=0):(N.newListener!==void 0&&(E.emit("newListener",T,I.listener?I.listener:I),N=E._events),M=N[T]),M===void 0)M=N[T]=I,++E._eventsCount;else if(typeof M=="function"?M=N[T]=D?[I,M]:[M,I]:D?M.unshift(I):M.push(I),B=l(E),B>0&&M.length>B&&!M.warned){M.warned=!0;var j=new Error("Possible EventEmitter memory leak detected. "+M.length+" "+String(T)+" listeners added. Use emitter.setMaxListeners() to increase limit");j.name="MaxListenersExceededWarning",j.emitter=E,j.type=T,j.count=M.length,n(j)}return E}a.prototype.addListener=function(T,I){return u(this,T,I,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(T,I){return u(this,T,I,!0)};function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(E,T,I){var D={fired:!1,wrapFn:void 0,target:E,type:T,listener:I},B=f.bind(D);return B.listener=I,D.wrapFn=B,B}a.prototype.once=function(T,I){return s(I),this.on(T,d(this,T,I)),this},a.prototype.prependOnceListener=function(T,I){return s(I),this.prependListener(T,d(this,T,I)),this},a.prototype.removeListener=function(T,I){var D,B,N,M,j;if(s(I),B=this._events,B===void 0)return this;if(D=B[T],D===void 0)return this;if(D===I||D.listener===I)--this._eventsCount===0?this._events=Object.create(null):(delete B[T],B.removeListener&&this.emit("removeListener",T,D.listener||I));else if(typeof D!="function"){for(N=-1,M=D.length-1;M>=0;M--)if(D[M]===I||D[M].listener===I){j=D[M].listener,N=M;break}if(N<0)return this;N===0?D.shift():v(D,N),D.length===1&&(B[T]=D[0]),B.removeListener!==void 0&&this.emit("removeListener",T,j||I)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(T){var I,D,B;if(D=this._events,D===void 0)return this;if(D.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):D[T]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete D[T]),this;if(arguments.length===0){var N=Object.keys(D),M;for(B=0;B<N.length;++B)M=N[B],M!=="removeListener"&&this.removeAllListeners(M);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(I=D[T],typeof I=="function")this.removeListener(T,I);else if(I!==void 0)for(B=I.length-1;B>=0;B--)this.removeListener(T,I[B]);return this};function c(E,T,I){var D=E._events;if(D===void 0)return[];var B=D[T];return B===void 0?[]:typeof B=="function"?I?[B.listener||B]:[B]:I?_(B):b(B,B.length)}a.prototype.listeners=function(T){return c(this,T,!0)},a.prototype.rawListeners=function(T){return c(this,T,!1)},a.listenerCount=function(E,T){return typeof E.listenerCount=="function"?E.listenerCount(T):p.call(E,T)},a.prototype.listenerCount=p;function p(E){var T=this._events;if(T!==void 0){var I=T[E];if(typeof I=="function")return 1;if(I!==void 0)return I.length}return 0}a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function b(E,T){for(var I=new Array(T),D=0;D<T;++D)I[D]=E[D];return I}function v(E,T){for(;T+1<E.length;T++)E[T]=E[T+1];E.pop()}function _(E){for(var T=new Array(E.length),I=0;I<T.length;++I)T[I]=E[I].listener||E[I];return T}function y(E,T){return new Promise(function(I,D){function B(M){E.removeListener(T,N),D(M)}function N(){typeof E.removeListener=="function"&&E.removeListener("error",B),I([].slice.call(arguments))}g(E,T,N,{once:!0}),T!=="error"&&m(E,B,{once:!0})})}function m(E,T,I){typeof E.on=="function"&&g(E,"error",T,I)}function g(E,T,I,D){if(typeof E.on=="function")D.once?E.once(T,I):E.on(T,I);else if(typeof E.addEventListener=="function")E.addEventListener(T,function B(N){D.once&&E.removeEventListener(T,B),I(N)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof E)}return Fp.exports}var OR;function Gn(){return OR||(OR=1,function(e){const t=Sr(),{format:r,inspect:n}=QF(),{codes:{ERR_INVALID_ARG_TYPE:i}}=Bn(),{kResistStopPropagation:a,AggregateError:o,SymbolDispose:s}=Er(),l=globalThis.AbortSignal||Eh().AbortSignal,u=globalThis.AbortController||Eh().AbortController,f=Object.getPrototypeOf(async function(){}).constructor,d=globalThis.Blob||t.Blob,c=typeof d<"u"?function(_){return _ instanceof d}:function(_){return!1},p=(v,_)=>{if(v!==void 0&&(v===null||typeof v!="object"||!("aborted"in v)))throw new i(_,"AbortSignal",v)},b=(v,_)=>{if(typeof v!="function")throw new i(_,"Function",v)};e.exports={AggregateError:o,kEmptyObject:Object.freeze({}),once(v){let _=!1;return function(...y){_||(_=!0,v.apply(this,y))}},createDeferredPromise:function(){let v,_;return{promise:new Promise((m,g)=>{v=m,_=g}),resolve:v,reject:_}},promisify(v){return new Promise((_,y)=>{v((m,...g)=>m?y(m):_(...g))})},debuglog(){return function(){}},format:r,inspect:n,types:{isAsyncFunction(v){return v instanceof f},isArrayBufferView(v){return ArrayBuffer.isView(v)}},isBlob:c,deprecate(v,_){return v},addAbortListener:Kn().addAbortListener||function(_,y){if(_===void 0)throw new i("signal","AbortSignal",_);p(_,"signal"),b(y,"listener");let m;return _.aborted?queueMicrotask(()=>y()):(_.addEventListener("abort",y,{__proto__:null,once:!0,[a]:!0}),m=()=>{_.removeEventListener("abort",y)}),{__proto__:null,[s](){var g;(g=m)===null||g===void 0||g()}}},AbortSignalAny:l.any||function(_){if(_.length===1)return _[0];const y=new u,m=()=>y.abort();return _.forEach(g=>{p(g,"signals"),g.addEventListener("abort",m,{once:!0})}),y.signal.addEventListener("abort",()=>{_.forEach(g=>g.removeEventListener("abort",m))},{once:!0}),y.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}(Xy)),Xy.exports}var jp={},tg,PR;function $h(){if(PR)return tg;PR=1;const{ArrayIsArray:e,ArrayPrototypeIncludes:t,ArrayPrototypeJoin:r,ArrayPrototypeMap:n,NumberIsInteger:i,NumberIsNaN:a,NumberMAX_SAFE_INTEGER:o,NumberMIN_SAFE_INTEGER:s,NumberParseInt:l,ObjectPrototypeHasOwnProperty:u,RegExpPrototypeExec:f,String:d,StringPrototypeToUpperCase:c,StringPrototypeTrim:p}=Er(),{hideStackFrames:b,codes:{ERR_SOCKET_BAD_PORT:v,ERR_INVALID_ARG_TYPE:_,ERR_INVALID_ARG_VALUE:y,ERR_OUT_OF_RANGE:m,ERR_UNKNOWN_SIGNAL:g}}=Bn(),{normalizeEncoding:E}=Gn(),{isAsyncFunction:T,isArrayBufferView:I}=Gn().types,D={};function B(ce){return ce===(ce|0)}function N(ce){return ce===ce>>>0}const M=/^[0-7]+$/,j="must be a 32-bit unsigned integer or an octal string";function O(ce,Ie,be){if(typeof ce>"u"&&(ce=be),typeof ce=="string"){if(f(M,ce)===null)throw new y(Ie,ce,j);ce=l(ce,8)}return ie(ce,Ie),ce}const q=b((ce,Ie,be=s,xe=o)=>{if(typeof ce!="number")throw new _(Ie,"number",ce);if(!i(ce))throw new m(Ie,"an integer",ce);if(ce<be||ce>xe)throw new m(Ie,`>= ${be} && <= ${xe}`,ce)}),Q=b((ce,Ie,be=-2147483648,xe=2147483647)=>{if(typeof ce!="number")throw new _(Ie,"number",ce);if(!i(ce))throw new m(Ie,"an integer",ce);if(ce<be||ce>xe)throw new m(Ie,`>= ${be} && <= ${xe}`,ce)}),ie=b((ce,Ie,be=!1)=>{if(typeof ce!="number")throw new _(Ie,"number",ce);if(!i(ce))throw new m(Ie,"an integer",ce);const xe=be?1:0,je=4294967295;if(ce<xe||ce>je)throw new m(Ie,`>= ${xe} && <= ${je}`,ce)});function X(ce,Ie){if(typeof ce!="string")throw new _(Ie,"string",ce)}function le(ce,Ie,be=void 0,xe){if(typeof ce!="number")throw new _(Ie,"number",ce);if(be!=null&&ce<be||xe!=null&&ce>xe||(be!=null||xe!=null)&&a(ce))throw new m(Ie,`${be!=null?`>= ${be}`:""}${be!=null&&xe!=null?" && ":""}${xe!=null?`<= ${xe}`:""}`,ce)}const ae=b((ce,Ie,be)=>{if(!t(be,ce)){const je="must be one of: "+r(n(be,Ae=>typeof Ae=="string"?`'${Ae}'`:d(Ae)),", ");throw new y(Ie,ce,je)}});function ne(ce,Ie){if(typeof ce!="boolean")throw new _(Ie,"boolean",ce)}function V(ce,Ie,be){return ce==null||!u(ce,Ie)?be:ce[Ie]}const oe=b((ce,Ie,be=null)=>{const xe=V(be,"allowArray",!1),je=V(be,"allowFunction",!1);if(!V(be,"nullable",!1)&&ce===null||!xe&&e(ce)||typeof ce!="object"&&(!je||typeof ce!="function"))throw new _(Ie,"Object",ce)}),he=b((ce,Ie)=>{if(ce!=null&&typeof ce!="object"&&typeof ce!="function")throw new _(Ie,"a dictionary",ce)}),Y=b((ce,Ie,be=0)=>{if(!e(ce))throw new _(Ie,"Array",ce);if(ce.length<be){const xe=`must be longer than ${be}`;throw new y(Ie,ce,xe)}});function Z(ce,Ie){Y(ce,Ie);for(let be=0;be<ce.length;be++)X(ce[be],`${Ie}[${be}]`)}function ee(ce,Ie){Y(ce,Ie);for(let be=0;be<ce.length;be++)ne(ce[be],`${Ie}[${be}]`)}function P(ce,Ie){Y(ce,Ie);for(let be=0;be<ce.length;be++){const xe=ce[be],je=`${Ie}[${be}]`;if(xe==null)throw new _(je,"AbortSignal",xe);R(xe,je)}}function A(ce,Ie="signal"){if(X(ce,Ie),D[ce]===void 0)throw D[c(ce)]!==void 0?new g(ce+" (signals must use all capital letters)"):new g(ce)}const $=b((ce,Ie="buffer")=>{if(!I(ce))throw new _(Ie,["Buffer","TypedArray","DataView"],ce)});function te(ce,Ie){const be=E(Ie),xe=ce.length;if(be==="hex"&&xe%2!==0)throw new y("encoding",Ie,`is invalid for data of length ${xe}`)}function pe(ce,Ie="Port",be=!0){if(typeof ce!="number"&&typeof ce!="string"||typeof ce=="string"&&p(ce).length===0||+ce!==+ce>>>0||ce>65535||ce===0&&!be)throw new v(Ie,ce,be);return ce|0}const R=b((ce,Ie)=>{if(ce!==void 0&&(ce===null||typeof ce!="object"||!("aborted"in ce)))throw new _(Ie,"AbortSignal",ce)}),w=b((ce,Ie)=>{if(typeof ce!="function")throw new _(Ie,"Function",ce)}),x=b((ce,Ie)=>{if(typeof ce!="function"||T(ce))throw new _(Ie,"Function",ce)}),k=b((ce,Ie)=>{if(ce!==void 0)throw new _(Ie,"undefined",ce)});function U(ce,Ie,be){if(!t(be,ce))throw new _(Ie,`('${r(be,"|")}')`,ce)}const re=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function fe(ce,Ie){if(typeof ce>"u"||!f(re,ce))throw new y(Ie,ce,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function ve(ce){if(typeof ce=="string")return fe(ce,"hints"),ce;if(e(ce)){const Ie=ce.length;let be="";if(Ie===0)return be;for(let xe=0;xe<Ie;xe++){const je=ce[xe];fe(je,"hints"),be+=je,xe!==Ie-1&&(be+=", ")}return be}throw new y("hints",ce,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}return tg={isInt32:B,isUint32:N,parseFileMode:O,validateArray:Y,validateStringArray:Z,validateBooleanArray:ee,validateAbortSignalArray:P,validateBoolean:ne,validateBuffer:$,validateDictionary:he,validateEncoding:te,validateFunction:w,validateInt32:Q,validateInteger:q,validateNumber:le,validateObject:oe,validateOneOf:ae,validatePlainFunction:x,validatePort:pe,validateSignalName:A,validateString:X,validateUint32:ie,validateUndefined:k,validateUnion:U,validateAbortSignal:R,validateLinkHeaderValue:ve},tg}var Bp={exports:{}},rg={exports:{}},DR;function Gs(){if(DR)return rg.exports;DR=1;var e=rg.exports={},t,r;function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?t=setTimeout:t=n}catch{t=n}try{typeof clearTimeout=="function"?r=clearTimeout:r=i}catch{r=i}})();function a(v){if(t===setTimeout)return setTimeout(v,0);if((t===n||!t)&&setTimeout)return t=setTimeout,setTimeout(v,0);try{return t(v,0)}catch{try{return t.call(null,v,0)}catch{return t.call(this,v,0)}}}function o(v){if(r===clearTimeout)return clearTimeout(v);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(v);try{return r(v)}catch{try{return r.call(null,v)}catch{return r.call(this,v)}}}var s=[],l=!1,u,f=-1;function d(){!l||!u||(l=!1,u.length?s=u.concat(s):f=-1,s.length&&c())}function c(){if(!l){var v=a(d);l=!0;for(var _=s.length;_;){for(u=s,s=[];++f<_;)u&&u[f].run();f=-1,_=s.length}u=null,l=!1,o(v)}}e.nextTick=function(v){var _=new Array(arguments.length-1);if(arguments.length>1)for(var y=1;y<arguments.length;y++)_[y-1]=arguments[y];s.push(new p(v,_)),s.length===1&&!l&&a(c)};function p(v,_){this.fun=v,this.array=_}p.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={};function b(){}return e.on=b,e.addListener=b,e.once=b,e.off=b,e.removeListener=b,e.removeAllListeners=b,e.emit=b,e.prependListener=b,e.prependOnceListener=b,e.listeners=function(v){return[]},e.binding=function(v){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(v){throw new Error("process.chdir is not supported")},e.umask=function(){return 0},rg.exports}var ng,NR;function to(){if(NR)return ng;NR=1;const{SymbolAsyncIterator:e,SymbolIterator:t,SymbolFor:r}=Er(),n=r("nodejs.stream.destroyed"),i=r("nodejs.stream.errored"),a=r("nodejs.stream.readable"),o=r("nodejs.stream.writable"),s=r("nodejs.stream.disturbed"),l=r("nodejs.webstream.isClosedPromise"),u=r("nodejs.webstream.controllerErrorFunction");function f(V,oe=!1){var he;return!!(V&&typeof V.pipe=="function"&&typeof V.on=="function"&&(!oe||typeof V.pause=="function"&&typeof V.resume=="function")&&(!V._writableState||((he=V._readableState)===null||he===void 0?void 0:he.readable)!==!1)&&(!V._writableState||V._readableState))}function d(V){var oe;return!!(V&&typeof V.write=="function"&&typeof V.on=="function"&&(!V._readableState||((oe=V._writableState)===null||oe===void 0?void 0:oe.writable)!==!1))}function c(V){return!!(V&&typeof V.pipe=="function"&&V._readableState&&typeof V.on=="function"&&typeof V.write=="function")}function p(V){return V&&(V._readableState||V._writableState||typeof V.write=="function"&&typeof V.on=="function"||typeof V.pipe=="function"&&typeof V.on=="function")}function b(V){return!!(V&&!p(V)&&typeof V.pipeThrough=="function"&&typeof V.getReader=="function"&&typeof V.cancel=="function")}function v(V){return!!(V&&!p(V)&&typeof V.getWriter=="function"&&typeof V.abort=="function")}function _(V){return!!(V&&!p(V)&&typeof V.readable=="object"&&typeof V.writable=="object")}function y(V){return b(V)||v(V)||_(V)}function m(V,oe){return V==null?!1:oe===!0?typeof V[e]=="function":oe===!1?typeof V[t]=="function":typeof V[e]=="function"||typeof V[t]=="function"}function g(V){if(!p(V))return null;const oe=V._writableState,he=V._readableState,Y=oe||he;return!!(V.destroyed||V[n]||Y!=null&&Y.destroyed)}function E(V){if(!d(V))return null;if(V.writableEnded===!0)return!0;const oe=V._writableState;return oe!=null&&oe.errored?!1:typeof(oe==null?void 0:oe.ended)!="boolean"?null:oe.ended}function T(V,oe){if(!d(V))return null;if(V.writableFinished===!0)return!0;const he=V._writableState;return he!=null&&he.errored?!1:typeof(he==null?void 0:he.finished)!="boolean"?null:!!(he.finished||oe===!1&&he.ended===!0&&he.length===0)}function I(V){if(!f(V))return null;if(V.readableEnded===!0)return!0;const oe=V._readableState;return!oe||oe.errored?!1:typeof(oe==null?void 0:oe.ended)!="boolean"?null:oe.ended}function D(V,oe){if(!f(V))return null;const he=V._readableState;return he!=null&&he.errored?!1:typeof(he==null?void 0:he.endEmitted)!="boolean"?null:!!(he.endEmitted||oe===!1&&he.ended===!0&&he.length===0)}function B(V){return V&&V[a]!=null?V[a]:typeof(V==null?void 0:V.readable)!="boolean"?null:g(V)?!1:f(V)&&V.readable&&!D(V)}function N(V){return V&&V[o]!=null?V[o]:typeof(V==null?void 0:V.writable)!="boolean"?null:g(V)?!1:d(V)&&V.writable&&!E(V)}function M(V,oe){return p(V)?g(V)?!0:!((oe==null?void 0:oe.readable)!==!1&&B(V)||(oe==null?void 0:oe.writable)!==!1&&N(V)):null}function j(V){var oe,he;return p(V)?V.writableErrored?V.writableErrored:(oe=(he=V._writableState)===null||he===void 0?void 0:he.errored)!==null&&oe!==void 0?oe:null:null}function O(V){var oe,he;return p(V)?V.readableErrored?V.readableErrored:(oe=(he=V._readableState)===null||he===void 0?void 0:he.errored)!==null&&oe!==void 0?oe:null:null}function q(V){if(!p(V))return null;if(typeof V.closed=="boolean")return V.closed;const oe=V._writableState,he=V._readableState;return typeof(oe==null?void 0:oe.closed)=="boolean"||typeof(he==null?void 0:he.closed)=="boolean"?(oe==null?void 0:oe.closed)||(he==null?void 0:he.closed):typeof V._closed=="boolean"&&Q(V)?V._closed:null}function Q(V){return typeof V._closed=="boolean"&&typeof V._defaultKeepAlive=="boolean"&&typeof V._removedConnection=="boolean"&&typeof V._removedContLen=="boolean"}function ie(V){return typeof V._sent100=="boolean"&&Q(V)}function X(V){var oe;return typeof V._consuming=="boolean"&&typeof V._dumped=="boolean"&&((oe=V.req)===null||oe===void 0?void 0:oe.upgradeOrConnect)===void 0}function le(V){if(!p(V))return null;const oe=V._writableState,he=V._readableState,Y=oe||he;return!Y&&ie(V)||!!(Y&&Y.autoDestroy&&Y.emitClose&&Y.closed===!1)}function ae(V){var oe;return!!(V&&((oe=V[s])!==null&&oe!==void 0?oe:V.readableDidRead||V.readableAborted))}function ne(V){var oe,he,Y,Z,ee,P,A,$,te,pe;return!!(V&&((oe=(he=(Y=(Z=(ee=(P=V[i])!==null&&P!==void 0?P:V.readableErrored)!==null&&ee!==void 0?ee:V.writableErrored)!==null&&Z!==void 0?Z:(A=V._readableState)===null||A===void 0?void 0:A.errorEmitted)!==null&&Y!==void 0?Y:($=V._writableState)===null||$===void 0?void 0:$.errorEmitted)!==null&&he!==void 0?he:(te=V._readableState)===null||te===void 0?void 0:te.errored)!==null&&oe!==void 0?oe:!((pe=V._writableState)===null||pe===void 0)&&pe.errored))}return ng={isDestroyed:g,kIsDestroyed:n,isDisturbed:ae,kIsDisturbed:s,isErrored:ne,kIsErrored:i,isReadable:B,kIsReadable:a,kIsClosedPromise:l,kControllerErrorFunction:u,kIsWritable:o,isClosed:q,isDuplexNodeStream:c,isFinished:M,isIterable:m,isReadableNodeStream:f,isReadableStream:b,isReadableEnded:I,isReadableFinished:D,isReadableErrored:O,isNodeStream:p,isWebStream:y,isWritable:N,isWritableNodeStream:d,isWritableStream:v,isWritableEnded:E,isWritableFinished:T,isWritableErrored:j,isServerRequest:X,isServerResponse:ie,willEmitClose:le,isTransformStream:_},ng}var CR;function Vo(){if(CR)return Bp.exports;CR=1;const e=Gs(),{AbortError:t,codes:r}=Bn(),{ERR_INVALID_ARG_TYPE:n,ERR_STREAM_PREMATURE_CLOSE:i}=r,{kEmptyObject:a,once:o}=Gn(),{validateAbortSignal:s,validateFunction:l,validateObject:u,validateBoolean:f}=$h(),{Promise:d,PromisePrototypeThen:c,SymbolDispose:p}=Er(),{isClosed:b,isReadable:v,isReadableNodeStream:_,isReadableStream:y,isReadableFinished:m,isReadableErrored:g,isWritable:E,isWritableNodeStream:T,isWritableStream:I,isWritableFinished:D,isWritableErrored:B,isNodeStream:N,willEmitClose:M,kIsClosedPromise:j}=to();let O;function q(ae){return ae.setHeader&&typeof ae.abort=="function"}const Q=()=>{};function ie(ae,ne,V){var oe,he;if(arguments.length===2?(V=ne,ne=a):ne==null?ne=a:u(ne,"options"),l(V,"callback"),s(ne.signal,"options.signal"),V=o(V),y(ae)||I(ae))return X(ae,ne,V);if(!N(ae))throw new n("stream",["ReadableStream","WritableStream","Stream"],ae);const Y=(oe=ne.readable)!==null&&oe!==void 0?oe:_(ae),Z=(he=ne.writable)!==null&&he!==void 0?he:T(ae),ee=ae._writableState,P=ae._readableState,A=()=>{ae.writable||pe()};let $=M(ae)&&_(ae)===Y&&T(ae)===Z,te=D(ae,!1);const pe=()=>{te=!0,ae.destroyed&&($=!1),!($&&(!ae.readable||Y))&&(!Y||R)&&V.call(ae)};let R=m(ae,!1);const w=()=>{R=!0,ae.destroyed&&($=!1),!($&&(!ae.writable||Z))&&(!Z||te)&&V.call(ae)},x=ce=>{V.call(ae,ce)};let k=b(ae);const U=()=>{k=!0;const ce=B(ae)||g(ae);if(ce&&typeof ce!="boolean")return V.call(ae,ce);if(Y&&!R&&_(ae,!0)&&!m(ae,!1))return V.call(ae,new i);if(Z&&!te&&!D(ae,!1))return V.call(ae,new i);V.call(ae)},re=()=>{k=!0;const ce=B(ae)||g(ae);if(ce&&typeof ce!="boolean")return V.call(ae,ce);V.call(ae)},fe=()=>{ae.req.on("finish",pe)};q(ae)?(ae.on("complete",pe),$||ae.on("abort",U),ae.req?fe():ae.on("request",fe)):Z&&!ee&&(ae.on("end",A),ae.on("close",A)),!$&&typeof ae.aborted=="boolean"&&ae.on("aborted",U),ae.on("end",w),ae.on("finish",pe),ne.error!==!1&&ae.on("error",x),ae.on("close",U),k?e.nextTick(U):ee!=null&&ee.errorEmitted||P!=null&&P.errorEmitted?$||e.nextTick(re):(!Y&&(!$||v(ae))&&(te||E(ae)===!1)||!Z&&(!$||E(ae))&&(R||v(ae)===!1)||P&&ae.req&&ae.aborted)&&e.nextTick(re);const ve=()=>{V=Q,ae.removeListener("aborted",U),ae.removeListener("complete",pe),ae.removeListener("abort",U),ae.removeListener("request",fe),ae.req&&ae.req.removeListener("finish",pe),ae.removeListener("end",A),ae.removeListener("close",A),ae.removeListener("finish",pe),ae.removeListener("end",w),ae.removeListener("error",x),ae.removeListener("close",U)};if(ne.signal&&!k){const ce=()=>{const Ie=V;ve(),Ie.call(ae,new t(void 0,{cause:ne.signal.reason}))};if(ne.signal.aborted)e.nextTick(ce);else{O=O||Gn().addAbortListener;const Ie=O(ne.signal,ce),be=V;V=o((...xe)=>{Ie[p](),be.apply(ae,xe)})}}return ve}function X(ae,ne,V){let oe=!1,he=Q;if(ne.signal)if(he=()=>{oe=!0,V.call(ae,new t(void 0,{cause:ne.signal.reason}))},ne.signal.aborted)e.nextTick(he);else{O=O||Gn().addAbortListener;const Z=O(ne.signal,he),ee=V;V=o((...P)=>{Z[p](),ee.apply(ae,P)})}const Y=(...Z)=>{oe||e.nextTick(()=>V.apply(ae,Z))};return c(ae[j].promise,Y,Y),Q}function le(ae,ne){var V;let oe=!1;return ne===null&&(ne=a),(V=ne)!==null&&V!==void 0&&V.cleanup&&(f(ne.cleanup,"cleanup"),oe=ne.cleanup),new d((he,Y)=>{const Z=ie(ae,ne,ee=>{oe&&Z(),ee?Y(ee):he()})})}return Bp.exports=ie,Bp.exports.finished=le,Bp.exports}var ig,LR;function rl(){if(LR)return ig;LR=1;const e=Gs(),{aggregateTwoErrors:t,codes:{ERR_MULTIPLE_CALLBACK:r},AbortError:n}=Bn(),{Symbol:i}=Er(),{kIsDestroyed:a,isDestroyed:o,isFinished:s,isServerRequest:l}=to(),u=i("kDestroy"),f=i("kConstruct");function d(M,j,O){M&&(M.stack,j&&!j.errored&&(j.errored=M),O&&!O.errored&&(O.errored=M))}function c(M,j){const O=this._readableState,q=this._writableState,Q=q||O;return q!=null&&q.destroyed||O!=null&&O.destroyed?(typeof j=="function"&&j(),this):(d(M,q,O),q&&(q.destroyed=!0),O&&(O.destroyed=!0),Q.constructed?p(this,M,j):this.once(u,function(ie){p(this,t(ie,M),j)}),this)}function p(M,j,O){let q=!1;function Q(ie){if(q)return;q=!0;const X=M._readableState,le=M._writableState;d(ie,le,X),le&&(le.closed=!0),X&&(X.closed=!0),typeof O=="function"&&O(ie),ie?e.nextTick(b,M,ie):e.nextTick(v,M)}try{M._destroy(j||null,Q)}catch(ie){Q(ie)}}function b(M,j){_(M,j),v(M)}function v(M){const j=M._readableState,O=M._writableState;O&&(O.closeEmitted=!0),j&&(j.closeEmitted=!0),(O!=null&&O.emitClose||j!=null&&j.emitClose)&&M.emit("close")}function _(M,j){const O=M._readableState,q=M._writableState;q!=null&&q.errorEmitted||O!=null&&O.errorEmitted||(q&&(q.errorEmitted=!0),O&&(O.errorEmitted=!0),M.emit("error",j))}function y(){const M=this._readableState,j=this._writableState;M&&(M.constructed=!0,M.closed=!1,M.closeEmitted=!1,M.destroyed=!1,M.errored=null,M.errorEmitted=!1,M.reading=!1,M.ended=M.readable===!1,M.endEmitted=M.readable===!1),j&&(j.constructed=!0,j.destroyed=!1,j.closed=!1,j.closeEmitted=!1,j.errored=null,j.errorEmitted=!1,j.finalCalled=!1,j.prefinished=!1,j.ended=j.writable===!1,j.ending=j.writable===!1,j.finished=j.writable===!1)}function m(M,j,O){const q=M._readableState,Q=M._writableState;if(Q!=null&&Q.destroyed||q!=null&&q.destroyed)return this;q!=null&&q.autoDestroy||Q!=null&&Q.autoDestroy?M.destroy(j):j&&(j.stack,Q&&!Q.errored&&(Q.errored=j),q&&!q.errored&&(q.errored=j),O?e.nextTick(_,M,j):_(M,j))}function g(M,j){if(typeof M._construct!="function")return;const O=M._readableState,q=M._writableState;O&&(O.constructed=!1),q&&(q.constructed=!1),M.once(f,j),!(M.listenerCount(f)>1)&&e.nextTick(E,M)}function E(M){let j=!1;function O(q){if(j){m(M,q??new r);return}j=!0;const Q=M._readableState,ie=M._writableState,X=ie||Q;Q&&(Q.constructed=!0),ie&&(ie.constructed=!0),X.destroyed?M.emit(u,q):q?m(M,q,!0):e.nextTick(T,M)}try{M._construct(q=>{e.nextTick(O,q)})}catch(q){e.nextTick(O,q)}}function T(M){M.emit(f)}function I(M){return(M==null?void 0:M.setHeader)&&typeof M.abort=="function"}function D(M){M.emit("close")}function B(M,j){M.emit("error",j),e.nextTick(D,M)}function N(M,j){!M||o(M)||(!j&&!s(M)&&(j=new n),l(M)?(M.socket=null,M.destroy(j)):I(M)?M.abort():I(M.req)?M.req.abort():typeof M.destroy=="function"?M.destroy(j):typeof M.close=="function"?M.close():j?e.nextTick(B,M,j):e.nextTick(D,M),M.destroyed||(M[a]=!0))}return ig={construct:g,destroyer:N,destroy:c,undestroy:y,errorOrDestroy:m},ig}var ag,MR;function nS(){if(MR)return ag;MR=1;const{ArrayIsArray:e,ObjectSetPrototypeOf:t}=Er(),{EventEmitter:r}=Kn();function n(a){r.call(this,a)}t(n.prototype,r.prototype),t(n,r),n.prototype.pipe=function(a,o){const s=this;function l(v){a.writable&&a.write(v)===!1&&s.pause&&s.pause()}s.on("data",l);function u(){s.readable&&s.resume&&s.resume()}a.on("drain",u),!a._isStdio&&(!o||o.end!==!1)&&(s.on("end",d),s.on("close",c));let f=!1;function d(){f||(f=!0,a.end())}function c(){f||(f=!0,typeof a.destroy=="function"&&a.destroy())}function p(v){b(),r.listenerCount(this,"error")===0&&this.emit("error",v)}i(s,"error",p),i(a,"error",p);function b(){s.removeListener("data",l),a.removeListener("drain",u),s.removeListener("end",d),s.removeListener("close",c),s.removeListener("error",p),a.removeListener("error",p),s.removeListener("end",b),s.removeListener("close",b),a.removeListener("close",b)}return s.on("end",b),s.on("close",b),a.on("close",b),a.emit("pipe",s),a};function i(a,o,s){if(typeof a.prependListener=="function")return a.prependListener(o,s);!a._events||!a._events[o]?a.on(o,s):e(a._events[o])?a._events[o].unshift(s):a._events[o]=[s,a._events[o]]}return ag={Stream:n,prependListener:i},ag}var og={exports:{}},kR;function bm(){return kR||(kR=1,function(e){const{SymbolDispose:t}=Er(),{AbortError:r,codes:n}=Bn(),{isNodeStream:i,isWebStream:a,kControllerErrorFunction:o}=to(),s=Vo(),{ERR_INVALID_ARG_TYPE:l}=n;let u;const f=(d,c)=>{if(typeof d!="object"||!("aborted"in d))throw new l(c,"AbortSignal",d)};e.exports.addAbortSignal=function(c,p){if(f(c,"signal"),!i(p)&&!a(p))throw new l("stream",["ReadableStream","WritableStream","Stream"],p);return e.exports.addAbortSignalNoValidate(c,p)},e.exports.addAbortSignalNoValidate=function(d,c){if(typeof d!="object"||!("aborted"in d))return c;const p=i(c)?()=>{c.destroy(new r(void 0,{cause:d.reason}))}:()=>{c[o](new r(void 0,{cause:d.reason}))};if(d.aborted)p();else{u=u||Gn().addAbortListener;const b=u(d,p);s(c,b[t])}return c}}(og)),og.exports}var sg,FR;function Ez(){if(FR)return sg;FR=1;const{StringPrototypeSlice:e,SymbolIterator:t,TypedArrayPrototypeSet:r,Uint8Array:n}=Er(),{Buffer:i}=Sr(),{inspect:a}=Gn();return sg=class{constructor(){this.head=null,this.tail=null,this.length=0}push(s){const l={data:s,next:null};this.length>0?this.tail.next=l:this.head=l,this.tail=l,++this.length}unshift(s){const l={data:s,next:this.head};this.length===0&&(this.tail=l),this.head=l,++this.length}shift(){if(this.length===0)return;const s=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,s}clear(){this.head=this.tail=null,this.length=0}join(s){if(this.length===0)return"";let l=this.head,u=""+l.data;for(;(l=l.next)!==null;)u+=s+l.data;return u}concat(s){if(this.length===0)return i.alloc(0);const l=i.allocUnsafe(s>>>0);let u=this.head,f=0;for(;u;)r(l,u.data,f),f+=u.data.length,u=u.next;return l}consume(s,l){const u=this.head.data;if(s<u.length){const f=u.slice(0,s);return this.head.data=u.slice(s),f}return s===u.length?this.shift():l?this._getString(s):this._getBuffer(s)}first(){return this.head.data}*[t](){for(let s=this.head;s;s=s.next)yield s.data}_getString(s){let l="",u=this.head,f=0;do{const d=u.data;if(s>d.length)l+=d,s-=d.length;else{s===d.length?(l+=d,++f,u.next?this.head=u.next:this.head=this.tail=null):(l+=e(d,0,s),this.head=u,u.data=e(d,s));break}++f}while((u=u.next)!==null);return this.length-=f,l}_getBuffer(s){const l=i.allocUnsafe(s),u=s;let f=this.head,d=0;do{const c=f.data;if(s>c.length)r(l,c,u-s),s-=c.length;else{s===c.length?(r(l,c,u-s),++d,f.next?this.head=f.next:this.head=this.tail=null):(r(l,new n(c.buffer,c.byteOffset,s),u-s),this.head=f,f.data=c.slice(s));break}++d}while((f=f.next)!==null);return this.length-=d,l}[Symbol.for("nodejs.util.inspect.custom")](s,l){return a(this,{...l,depth:0,customInspect:!1})}},sg}var ug,jR;function vm(){if(jR)return ug;jR=1;const{MathFloor:e,NumberIsInteger:t}=Er(),{validateInteger:r}=$h(),{ERR_INVALID_ARG_VALUE:n}=Bn().codes;let i=16*1024,a=16;function o(f,d,c){return f.highWaterMark!=null?f.highWaterMark:d?f[c]:null}function s(f){return f?a:i}function l(f,d){r(d,"value",0),f?a=d:i=d}function u(f,d,c,p){const b=o(d,p,c);if(b!=null){if(!t(b)||b<0){const v=p?`options.${c}`:"options.highWaterMark";throw new n(v,b)}return e(b)}return s(f.objectMode)}return ug={getHighWaterMark:u,getDefaultHighWaterMark:s,setDefaultHighWaterMark:l},ug}var lg={},qp={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var BR;function Sz(){return BR||(BR=1,function(e,t){var r=Sr(),n=r.Buffer;function i(o,s){for(var l in o)s[l]=o[l]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=a);function a(o,s,l){return n(o,s,l)}a.prototype=Object.create(n.prototype),i(n,a),a.from=function(o,s,l){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,s,l)},a.alloc=function(o,s,l){if(typeof o!="number")throw new TypeError("Argument must be a number");var u=n(o);return s!==void 0?typeof l=="string"?u.fill(s,l):u.fill(s):u.fill(0),u},a.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},a.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}}(qp,qp.exports)),qp.exports}var qR;function _a(){if(qR)return lg;qR=1;var e=Sz().Buffer,t=e.isEncoding||function(y){switch(y=""+y,y&&y.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(y){if(!y)return"utf8";for(var m;;)switch(y){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return y;default:if(m)return;y=(""+y).toLowerCase(),m=!0}}function n(y){var m=r(y);if(typeof m!="string"&&(e.isEncoding===t||!t(y)))throw new Error("Unknown encoding: "+y);return m||y}lg.StringDecoder=i;function i(y){this.encoding=n(y);var m;switch(this.encoding){case"utf16le":this.text=d,this.end=c,m=4;break;case"utf8":this.fillLast=l,m=4;break;case"base64":this.text=p,this.end=b,m=3;break;default:this.write=v,this.end=_;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(m)}i.prototype.write=function(y){if(y.length===0)return"";var m,g;if(this.lastNeed){if(m=this.fillLast(y),m===void 0)return"";g=this.lastNeed,this.lastNeed=0}else g=0;return g<y.length?m?m+this.text(y,g):this.text(y,g):m||""},i.prototype.end=f,i.prototype.text=u,i.prototype.fillLast=function(y){if(this.lastNeed<=y.length)return y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,y.length),this.lastNeed-=y.length};function a(y){return y<=127?0:y>>5===6?2:y>>4===14?3:y>>3===30?4:y>>6===2?-1:-2}function o(y,m,g){var E=m.length-1;if(E<g)return 0;var T=a(m[E]);return T>=0?(T>0&&(y.lastNeed=T-1),T):--E<g||T===-2?0:(T=a(m[E]),T>=0?(T>0&&(y.lastNeed=T-2),T):--E<g||T===-2?0:(T=a(m[E]),T>=0?(T>0&&(T===2?T=0:y.lastNeed=T-3),T):0))}function s(y,m,g){if((m[0]&192)!==128)return y.lastNeed=0,"";if(y.lastNeed>1&&m.length>1){if((m[1]&192)!==128)return y.lastNeed=1,"";if(y.lastNeed>2&&m.length>2&&(m[2]&192)!==128)return y.lastNeed=2,""}}function l(y){var m=this.lastTotal-this.lastNeed,g=s(this,y);if(g!==void 0)return g;if(this.lastNeed<=y.length)return y.copy(this.lastChar,m,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);y.copy(this.lastChar,m,0,y.length),this.lastNeed-=y.length}function u(y,m){var g=o(this,y,m);if(!this.lastNeed)return y.toString("utf8",m);this.lastTotal=g;var E=y.length-(g-this.lastNeed);return y.copy(this.lastChar,0,E),y.toString("utf8",m,E)}function f(y){var m=y&&y.length?this.write(y):"";return this.lastNeed?m+"":m}function d(y,m){if((y.length-m)%2===0){var g=y.toString("utf16le",m);if(g){var E=g.charCodeAt(g.length-1);if(E>=55296&&E<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1],g.slice(0,-1)}return g}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=y[y.length-1],y.toString("utf16le",m,y.length-1)}function c(y){var m=y&&y.length?this.write(y):"";if(this.lastNeed){var g=this.lastTotal-this.lastNeed;return m+this.lastChar.toString("utf16le",0,g)}return m}function p(y,m){var g=(y.length-m)%3;return g===0?y.toString("base64",m):(this.lastNeed=3-g,this.lastTotal=3,g===1?this.lastChar[0]=y[y.length-1]:(this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1]),y.toString("base64",m,y.length-g))}function b(y){var m=y&&y.length?this.write(y):"";return this.lastNeed?m+this.lastChar.toString("base64",0,3-this.lastNeed):m}function v(y){return y.toString(this.encoding)}function _(y){return y&&y.length?this.write(y):""}return lg}var fg,$R;function XF(){if($R)return fg;$R=1;const e=Gs(),{PromisePrototypeThen:t,SymbolAsyncIterator:r,SymbolIterator:n}=Er(),{Buffer:i}=Sr(),{ERR_INVALID_ARG_TYPE:a,ERR_STREAM_NULL_VALUES:o}=Bn().codes;function s(l,u,f){let d;if(typeof u=="string"||u instanceof i)return new l({objectMode:!0,...f,read(){this.push(u),this.push(null)}});let c;if(u&&u[r])c=!0,d=u[r]();else if(u&&u[n])c=!1,d=u[n]();else throw new a("iterable",["Iterable"],u);const p=new l({objectMode:!0,highWaterMark:1,...f});let b=!1;p._read=function(){b||(b=!0,_())},p._destroy=function(y,m){t(v(y),()=>e.nextTick(m,y),g=>e.nextTick(m,g||y))};async function v(y){const m=y!=null,g=typeof d.throw=="function";if(m&&g){const{value:E,done:T}=await d.throw(y);if(await E,T)return}if(typeof d.return=="function"){const{value:E}=await d.return();await E}}async function _(){for(;;){try{const{value:y,done:m}=c?await d.next():d.next();if(m)p.push(null);else{const g=y&&typeof y.then=="function"?await y:y;if(g===null)throw b=!1,new o;if(p.push(g))continue;b=!1}}catch(y){p.destroy(y)}break}}return p}return fg=s,fg}var cg,UR;function wm(){if(UR)return cg;UR=1;const e=Gs(),{ArrayPrototypeIndexOf:t,NumberIsInteger:r,NumberIsNaN:n,NumberParseInt:i,ObjectDefineProperties:a,ObjectKeys:o,ObjectSetPrototypeOf:s,Promise:l,SafeSet:u,SymbolAsyncDispose:f,SymbolAsyncIterator:d,Symbol:c}=Er();cg=xe,xe.ReadableState=be;const{EventEmitter:p}=Kn(),{Stream:b,prependListener:v}=nS(),{Buffer:_}=Sr(),{addAbortSignal:y}=bm(),m=Vo();let g=Gn().debuglog("stream",we=>{g=we});const E=Ez(),T=rl(),{getHighWaterMark:I,getDefaultHighWaterMark:D}=vm(),{aggregateTwoErrors:B,codes:{ERR_INVALID_ARG_TYPE:N,ERR_METHOD_NOT_IMPLEMENTED:M,ERR_OUT_OF_RANGE:j,ERR_STREAM_PUSH_AFTER_EOF:O,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:q},AbortError:Q}=Bn(),{validateObject:ie}=$h(),X=c("kPaused"),{StringDecoder:le}=_a(),ae=XF();s(xe.prototype,b.prototype),s(xe,b);const ne=()=>{},{errorOrDestroy:V}=T,oe=1,he=2,Y=4,Z=8,ee=16,P=32,A=64,$=128,te=256,pe=512,R=1024,w=2048,x=4096,k=8192,U=16384,re=32768,fe=65536,ve=1<<17,ce=1<<18;function Ie(we){return{enumerable:!1,get(){return(this.state&we)!==0},set(G){G?this.state|=we:this.state&=~we}}}a(be.prototype,{objectMode:Ie(oe),ended:Ie(he),endEmitted:Ie(Y),reading:Ie(Z),constructed:Ie(ee),sync:Ie(P),needReadable:Ie(A),emittedReadable:Ie($),readableListening:Ie(te),resumeScheduled:Ie(pe),errorEmitted:Ie(R),emitClose:Ie(w),autoDestroy:Ie(x),destroyed:Ie(k),closed:Ie(U),closeEmitted:Ie(re),multiAwaitDrain:Ie(fe),readingMore:Ie(ve),dataEmitted:Ie(ce)});function be(we,G,W){typeof W!="boolean"&&(W=G instanceof Ka()),this.state=w|x|ee|P,we&&we.objectMode&&(this.state|=oe),W&&we&&we.readableObjectMode&&(this.state|=oe),this.highWaterMark=we?I(this,we,"readableHighWaterMark",W):D(!1),this.buffer=new E,this.length=0,this.pipes=[],this.flowing=null,this[X]=null,we&&we.emitClose===!1&&(this.state&=-2049),we&&we.autoDestroy===!1&&(this.state&=-4097),this.errored=null,this.defaultEncoding=we&&we.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,we&&we.encoding&&(this.decoder=new le(we.encoding),this.encoding=we.encoding)}function xe(we){if(!(this instanceof xe))return new xe(we);const G=this instanceof Ka();this._readableState=new be(we,this,G),we&&(typeof we.read=="function"&&(this._read=we.read),typeof we.destroy=="function"&&(this._destroy=we.destroy),typeof we.construct=="function"&&(this._construct=we.construct),we.signal&&!G&&y(we.signal,this)),b.call(this,we),T.construct(this,()=>{this._readableState.needReadable&&F(this,this._readableState)})}xe.prototype.destroy=T.destroy,xe.prototype._undestroy=T.undestroy,xe.prototype._destroy=function(we,G){G(we)},xe.prototype[p.captureRejectionSymbol]=function(we){this.destroy(we)},xe.prototype[f]=function(){let we;return this.destroyed||(we=this.readableEnded?null:new Q,this.destroy(we)),new l((G,W)=>m(this,J=>J&&J!==we?W(J):G(null)))},xe.prototype.push=function(we,G){return je(this,we,G,!1)},xe.prototype.unshift=function(we,G){return je(this,we,G,!0)};function je(we,G,W,J){g("readableAddChunk",G);const Ee=we._readableState;let Le;if(Ee.state&oe||(typeof G=="string"?(W=W||Ee.defaultEncoding,Ee.encoding!==W&&(J&&Ee.encoding?G=_.from(G,W).toString(Ee.encoding):(G=_.from(G,W),W=""))):G instanceof _?W="":b._isUint8Array(G)?(G=b._uint8ArrayToBuffer(G),W=""):G!=null&&(Le=new N("chunk",["string","Buffer","Uint8Array"],G))),Le)V(we,Le);else if(G===null)Ee.state&=-9,Ue(we,Ee);else if(Ee.state&oe||G&&G.length>0)if(J)if(Ee.state&Y)V(we,new q);else{if(Ee.destroyed||Ee.errored)return!1;Ae(we,Ee,G,!0)}else if(Ee.ended)V(we,new O);else{if(Ee.destroyed||Ee.errored)return!1;Ee.state&=-9,Ee.decoder&&!W?(G=Ee.decoder.write(G),Ee.objectMode||G.length!==0?Ae(we,Ee,G,!1):F(we,Ee)):Ae(we,Ee,G,!1)}else J||(Ee.state&=-9,F(we,Ee));return!Ee.ended&&(Ee.length<Ee.highWaterMark||Ee.length===0)}function Ae(we,G,W,J){G.flowing&&G.length===0&&!G.sync&&we.listenerCount("data")>0?(G.state&fe?G.awaitDrainWriters.clear():G.awaitDrainWriters=null,G.dataEmitted=!0,we.emit("data",W)):(G.length+=G.objectMode?1:W.length,J?G.buffer.unshift(W):G.buffer.push(W),G.state&A&&it(we)),F(we,G)}xe.prototype.isPaused=function(){const we=this._readableState;return we[X]===!0||we.flowing===!1},xe.prototype.setEncoding=function(we){const G=new le(we);this._readableState.decoder=G,this._readableState.encoding=this._readableState.decoder.encoding;const W=this._readableState.buffer;let J="";for(const Ee of W)J+=G.write(Ee);return W.clear(),J!==""&&W.push(J),this._readableState.length=J.length,this};const Pe=1073741824;function ke(we){if(we>Pe)throw new j("size","<= 1GiB",we);return we--,we|=we>>>1,we|=we>>>2,we|=we>>>4,we|=we>>>8,we|=we>>>16,we++,we}function Ze(we,G){return we<=0||G.length===0&&G.ended?0:G.state&oe?1:n(we)?G.flowing&&G.length?G.buffer.first().length:G.length:we<=G.length?we:G.ended?G.length:0}xe.prototype.read=function(we){g("read",we),we===void 0?we=NaN:r(we)||(we=i(we,10));const G=this._readableState,W=we;if(we>G.highWaterMark&&(G.highWaterMark=ke(we)),we!==0&&(G.state&=-129),we===0&&G.needReadable&&((G.highWaterMark!==0?G.length>=G.highWaterMark:G.length>0)||G.ended))return g("read: emitReadable",G.length,G.ended),G.length===0&&G.ended?Ce(this):it(this),null;if(we=Ze(we,G),we===0&&G.ended)return G.length===0&&Ce(this),null;let J=(G.state&A)!==0;if(g("need readable",J),(G.length===0||G.length-we<G.highWaterMark)&&(J=!0,g("length less than watermark",J)),G.ended||G.reading||G.destroyed||G.errored||!G.constructed)J=!1,g("reading, ended or constructing",J);else if(J){g("do read"),G.state|=Z|P,G.length===0&&(G.state|=A);try{this._read(G.highWaterMark)}catch(Le){V(this,Le)}G.state&=-33,G.reading||(we=Ze(W,G))}let Ee;return we>0?Ee=Te(we,G):Ee=null,Ee===null?(G.needReadable=G.length<=G.highWaterMark,we=0):(G.length-=we,G.multiAwaitDrain?G.awaitDrainWriters.clear():G.awaitDrainWriters=null),G.length===0&&(G.ended||(G.needReadable=!0),W!==we&&G.ended&&Ce(this)),Ee!==null&&!G.errorEmitted&&!G.closeEmitted&&(G.dataEmitted=!0,this.emit("data",Ee)),Ee};function Ue(we,G){if(g("onEofChunk"),!G.ended){if(G.decoder){const W=G.decoder.end();W&&W.length&&(G.buffer.push(W),G.length+=G.objectMode?1:W.length)}G.ended=!0,G.sync?it(we):(G.needReadable=!1,G.emittedReadable=!0,ye(we))}}function it(we){const G=we._readableState;g("emitReadable",G.needReadable,G.emittedReadable),G.needReadable=!1,G.emittedReadable||(g("emitReadable",G.flowing),G.emittedReadable=!0,e.nextTick(ye,we))}function ye(we){const G=we._readableState;g("emitReadable_",G.destroyed,G.length,G.ended),!G.destroyed&&!G.errored&&(G.length||G.ended)&&(we.emit("readable"),G.emittedReadable=!1),G.needReadable=!G.flowing&&!G.ended&&G.length<=G.highWaterMark,Re(we)}function F(we,G){!G.readingMore&&G.constructed&&(G.readingMore=!0,e.nextTick(K,we,G))}function K(we,G){for(;!G.reading&&!G.ended&&(G.length<G.highWaterMark||G.flowing&&G.length===0);){const W=G.length;if(g("maybeReadMore read 0"),we.read(0),W===G.length)break}G.readingMore=!1}xe.prototype._read=function(we){throw new M("_read()")},xe.prototype.pipe=function(we,G){const W=this,J=this._readableState;J.pipes.length===1&&(J.multiAwaitDrain||(J.multiAwaitDrain=!0,J.awaitDrainWriters=new u(J.awaitDrainWriters?[J.awaitDrainWriters]:[]))),J.pipes.push(we),g("pipe count=%d opts=%j",J.pipes.length,G);const Le=(!G||G.end!==!1)&&we!==e.stdout&&we!==e.stderr?He:De;J.endEmitted?e.nextTick(Le):W.once("end",Le),we.on("unpipe",Ne);function Ne(We,Ge){g("onunpipe"),We===W&&Ge&&Ge.hasUnpiped===!1&&(Ge.hasUnpiped=!0,lt())}function He(){g("onend"),we.end()}let $e,ut=!1;function lt(){g("cleanup"),we.removeListener("close",lr),we.removeListener("finish",at),$e&&we.removeListener("drain",$e),we.removeListener("error",nt),we.removeListener("unpipe",Ne),W.removeListener("end",He),W.removeListener("end",De),W.removeListener("data",ct),ut=!0,$e&&J.awaitDrainWriters&&(!we._writableState||we._writableState.needDrain)&&$e()}function dt(){ut||(J.pipes.length===1&&J.pipes[0]===we?(g("false write response, pause",0),J.awaitDrainWriters=we,J.multiAwaitDrain=!1):J.pipes.length>1&&J.pipes.includes(we)&&(g("false write response, pause",J.awaitDrainWriters.size),J.awaitDrainWriters.add(we)),W.pause()),$e||($e=_e(W,we),we.on("drain",$e))}W.on("data",ct);function ct(We){g("ondata");const Ge=we.write(We);g("dest.write",Ge),Ge===!1&&dt()}function nt(We){if(g("onerror",We),De(),we.removeListener("error",nt),we.listenerCount("error")===0){const Ge=we._writableState||we._readableState;Ge&&!Ge.errorEmitted?V(we,We):we.emit("error",We)}}v(we,"error",nt);function lr(){we.removeListener("finish",at),De()}we.once("close",lr);function at(){g("onfinish"),we.removeListener("close",lr),De()}we.once("finish",at);function De(){g("unpipe"),W.unpipe(we)}return we.emit("pipe",W),we.writableNeedDrain===!0?dt():J.flowing||(g("pipe resume"),W.resume()),we};function _e(we,G){return function(){const J=we._readableState;J.awaitDrainWriters===G?(g("pipeOnDrain",1),J.awaitDrainWriters=null):J.multiAwaitDrain&&(g("pipeOnDrain",J.awaitDrainWriters.size),J.awaitDrainWriters.delete(G)),(!J.awaitDrainWriters||J.awaitDrainWriters.size===0)&&we.listenerCount("data")&&we.resume()}}xe.prototype.unpipe=function(we){const G=this._readableState,W={hasUnpiped:!1};if(G.pipes.length===0)return this;if(!we){const Ee=G.pipes;G.pipes=[],this.pause();for(let Le=0;Le<Ee.length;Le++)Ee[Le].emit("unpipe",this,{hasUnpiped:!1});return this}const J=t(G.pipes,we);return J===-1?this:(G.pipes.splice(J,1),G.pipes.length===0&&this.pause(),we.emit("unpipe",this,W),this)},xe.prototype.on=function(we,G){const W=b.prototype.on.call(this,we,G),J=this._readableState;return we==="data"?(J.readableListening=this.listenerCount("readable")>0,J.flowing!==!1&&this.resume()):we==="readable"&&!J.endEmitted&&!J.readableListening&&(J.readableListening=J.needReadable=!0,J.flowing=!1,J.emittedReadable=!1,g("on readable",J.length,J.reading),J.length?it(this):J.reading||e.nextTick(se,this)),W},xe.prototype.addListener=xe.prototype.on,xe.prototype.removeListener=function(we,G){const W=b.prototype.removeListener.call(this,we,G);return we==="readable"&&e.nextTick(Oe,this),W},xe.prototype.off=xe.prototype.removeListener,xe.prototype.removeAllListeners=function(we){const G=b.prototype.removeAllListeners.apply(this,arguments);return(we==="readable"||we===void 0)&&e.nextTick(Oe,this),G};function Oe(we){const G=we._readableState;G.readableListening=we.listenerCount("readable")>0,G.resumeScheduled&&G[X]===!1?G.flowing=!0:we.listenerCount("data")>0?we.resume():G.readableListening||(G.flowing=null)}function se(we){g("readable nexttick read 0"),we.read(0)}xe.prototype.resume=function(){const we=this._readableState;return we.flowing||(g("resume"),we.flowing=!we.readableListening,ge(this,we)),we[X]=!1,this};function ge(we,G){G.resumeScheduled||(G.resumeScheduled=!0,e.nextTick(de,we,G))}function de(we,G){g("resume",G.reading),G.reading||we.read(0),G.resumeScheduled=!1,we.emit("resume"),Re(we),G.flowing&&!G.reading&&we.read(0)}xe.prototype.pause=function(){return g("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(g("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[X]=!0,this};function Re(we){const G=we._readableState;for(g("flow",G.flowing);G.flowing&&we.read()!==null;);}xe.prototype.wrap=function(we){let G=!1;we.on("data",J=>{!this.push(J)&&we.pause&&(G=!0,we.pause())}),we.on("end",()=>{this.push(null)}),we.on("error",J=>{V(this,J)}),we.on("close",()=>{this.destroy()}),we.on("destroy",()=>{this.destroy()}),this._read=()=>{G&&we.resume&&(G=!1,we.resume())};const W=o(we);for(let J=1;J<W.length;J++){const Ee=W[J];this[Ee]===void 0&&typeof we[Ee]=="function"&&(this[Ee]=we[Ee].bind(we))}return this},xe.prototype[d]=function(){return qe(this)},xe.prototype.iterator=function(we){return we!==void 0&&ie(we,"options"),qe(this,we)};function qe(we,G){typeof we.read!="function"&&(we=xe.wrap(we,{objectMode:!0}));const W=H(we,G);return W.stream=we,W}async function*H(we,G){let W=ne;function J(Ne){this===we?(W(),W=ne):W=Ne}we.on("readable",J);let Ee;const Le=m(we,{writable:!1},Ne=>{Ee=Ne?B(Ee,Ne):null,W(),W=ne});try{for(;;){const Ne=we.destroyed?null:we.read();if(Ne!==null)yield Ne;else{if(Ee)throw Ee;if(Ee===null)return;await new l(J)}}}catch(Ne){throw Ee=B(Ee,Ne),Ee}finally{(Ee||(G==null?void 0:G.destroyOnReturn)!==!1)&&(Ee===void 0||we._readableState.autoDestroy)?T.destroyer(we,null):(we.off("readable",J),Le())}}a(xe.prototype,{readable:{__proto__:null,get(){const we=this._readableState;return!!we&&we.readable!==!1&&!we.destroyed&&!we.errorEmitted&&!we.endEmitted},set(we){this._readableState&&(this._readableState.readable=!!we)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(we){this._readableState&&(this._readableState.flowing=we)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(we){this._readableState&&(this._readableState.destroyed=we)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),a(be.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[X]!==!1},set(we){this[X]=!!we}}}),xe._fromList=Te;function Te(we,G){if(G.length===0)return null;let W;return G.objectMode?W=G.buffer.shift():!we||we>=G.length?(G.decoder?W=G.buffer.join(""):G.buffer.length===1?W=G.buffer.first():W=G.buffer.concat(G.length),G.buffer.clear()):W=G.buffer.consume(we,G.decoder),W}function Ce(we){const G=we._readableState;g("endReadable",G.endEmitted),G.endEmitted||(G.ended=!0,e.nextTick(me,G,we))}function me(we,G){if(g("endReadableNT",we.endEmitted,we.length),!we.errored&&!we.closeEmitted&&!we.endEmitted&&we.length===0){if(we.endEmitted=!0,G.emit("end"),G.writable&&G.allowHalfOpen===!1)e.nextTick(Me,G);else if(we.autoDestroy){const W=G._writableState;(!W||W.autoDestroy&&(W.finished||W.writable===!1))&&G.destroy()}}}function Me(we){we.writable&&!we.writableEnded&&!we.destroyed&&we.end()}xe.from=function(we,G){return ae(xe,we,G)};let Ve;function ft(){return Ve===void 0&&(Ve={}),Ve}return xe.fromWeb=function(we,G){return ft().newStreamReadableFromReadableStream(we,G)},xe.toWeb=function(we,G){return ft().newReadableStreamFromStreamReadable(we,G)},xe.wrap=function(we,G){var W,J;return new xe({objectMode:(W=(J=we.readableObjectMode)!==null&&J!==void 0?J:we.objectMode)!==null&&W!==void 0?W:!0,...G,destroy(Ee,Le){T.destroyer(we,Ee),Le(Ee)}}).wrap(we)},cg}var dg,HR;function iS(){if(HR)return dg;HR=1;const e=Gs(),{ArrayPrototypeSlice:t,Error:r,FunctionPrototypeSymbolHasInstance:n,ObjectDefineProperty:i,ObjectDefineProperties:a,ObjectSetPrototypeOf:o,StringPrototypeToLowerCase:s,Symbol:l,SymbolHasInstance:u}=Er();dg=ie,ie.WritableState=q;const{EventEmitter:f}=Kn(),d=nS().Stream,{Buffer:c}=Sr(),p=rl(),{addAbortSignal:b}=bm(),{getHighWaterMark:v,getDefaultHighWaterMark:_}=vm(),{ERR_INVALID_ARG_TYPE:y,ERR_METHOD_NOT_IMPLEMENTED:m,ERR_MULTIPLE_CALLBACK:g,ERR_STREAM_CANNOT_PIPE:E,ERR_STREAM_DESTROYED:T,ERR_STREAM_ALREADY_FINISHED:I,ERR_STREAM_NULL_VALUES:D,ERR_STREAM_WRITE_AFTER_END:B,ERR_UNKNOWN_ENCODING:N}=Bn().codes,{errorOrDestroy:M}=p;o(ie.prototype,d.prototype),o(ie,d);function j(){}const O=l("kOnFinished");function q(x,k,U){typeof U!="boolean"&&(U=k instanceof Ka()),this.objectMode=!!(x&&x.objectMode),U&&(this.objectMode=this.objectMode||!!(x&&x.writableObjectMode)),this.highWaterMark=x?v(this,x,"writableHighWaterMark",U):_(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const re=!!(x&&x.decodeStrings===!1);this.decodeStrings=!re,this.defaultEncoding=x&&x.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=V.bind(void 0,k),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,Q(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!x||x.emitClose!==!1,this.autoDestroy=!x||x.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[O]=[]}function Q(x){x.buffered=[],x.bufferedIndex=0,x.allBuffers=!0,x.allNoop=!0}q.prototype.getBuffer=function(){return t(this.buffered,this.bufferedIndex)},i(q.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function ie(x){const k=this instanceof Ka();if(!k&&!n(ie,this))return new ie(x);this._writableState=new q(x,this,k),x&&(typeof x.write=="function"&&(this._write=x.write),typeof x.writev=="function"&&(this._writev=x.writev),typeof x.destroy=="function"&&(this._destroy=x.destroy),typeof x.final=="function"&&(this._final=x.final),typeof x.construct=="function"&&(this._construct=x.construct),x.signal&&b(x.signal,this)),d.call(this,x),p.construct(this,()=>{const U=this._writableState;U.writing||Z(this,U),$(this,U)})}i(ie,u,{__proto__:null,value:function(x){return n(this,x)?!0:this!==ie?!1:x&&x._writableState instanceof q}}),ie.prototype.pipe=function(){M(this,new E)};function X(x,k,U,re){const fe=x._writableState;if(typeof U=="function")re=U,U=fe.defaultEncoding;else{if(!U)U=fe.defaultEncoding;else if(U!=="buffer"&&!c.isEncoding(U))throw new N(U);typeof re!="function"&&(re=j)}if(k===null)throw new D;if(!fe.objectMode)if(typeof k=="string")fe.decodeStrings!==!1&&(k=c.from(k,U),U="buffer");else if(k instanceof c)U="buffer";else if(d._isUint8Array(k))k=d._uint8ArrayToBuffer(k),U="buffer";else throw new y("chunk",["string","Buffer","Uint8Array"],k);let ve;return fe.ending?ve=new B:fe.destroyed&&(ve=new T("write")),ve?(e.nextTick(re,ve),M(x,ve,!0),ve):(fe.pendingcb++,le(x,fe,k,U,re))}ie.prototype.write=function(x,k,U){return X(this,x,k,U)===!0},ie.prototype.cork=function(){this._writableState.corked++},ie.prototype.uncork=function(){const x=this._writableState;x.corked&&(x.corked--,x.writing||Z(this,x))},ie.prototype.setDefaultEncoding=function(k){if(typeof k=="string"&&(k=s(k)),!c.isEncoding(k))throw new N(k);return this._writableState.defaultEncoding=k,this};function le(x,k,U,re,fe){const ve=k.objectMode?1:U.length;k.length+=ve;const ce=k.length<k.highWaterMark;return ce||(k.needDrain=!0),k.writing||k.corked||k.errored||!k.constructed?(k.buffered.push({chunk:U,encoding:re,callback:fe}),k.allBuffers&&re!=="buffer"&&(k.allBuffers=!1),k.allNoop&&fe!==j&&(k.allNoop=!1)):(k.writelen=ve,k.writecb=fe,k.writing=!0,k.sync=!0,x._write(U,re,k.onwrite),k.sync=!1),ce&&!k.errored&&!k.destroyed}function ae(x,k,U,re,fe,ve,ce){k.writelen=re,k.writecb=ce,k.writing=!0,k.sync=!0,k.destroyed?k.onwrite(new T("write")):U?x._writev(fe,k.onwrite):x._write(fe,ve,k.onwrite),k.sync=!1}function ne(x,k,U,re){--k.pendingcb,re(U),Y(k),M(x,U)}function V(x,k){const U=x._writableState,re=U.sync,fe=U.writecb;if(typeof fe!="function"){M(x,new g);return}U.writing=!1,U.writecb=null,U.length-=U.writelen,U.writelen=0,k?(k.stack,U.errored||(U.errored=k),x._readableState&&!x._readableState.errored&&(x._readableState.errored=k),re?e.nextTick(ne,x,U,k,fe):ne(x,U,k,fe)):(U.buffered.length>U.bufferedIndex&&Z(x,U),re?U.afterWriteTickInfo!==null&&U.afterWriteTickInfo.cb===fe?U.afterWriteTickInfo.count++:(U.afterWriteTickInfo={count:1,cb:fe,stream:x,state:U},e.nextTick(oe,U.afterWriteTickInfo)):he(x,U,1,fe))}function oe({stream:x,state:k,count:U,cb:re}){return k.afterWriteTickInfo=null,he(x,k,U,re)}function he(x,k,U,re){for(!k.ending&&!x.destroyed&&k.length===0&&k.needDrain&&(k.needDrain=!1,x.emit("drain"));U-- >0;)k.pendingcb--,re();k.destroyed&&Y(k),$(x,k)}function Y(x){if(x.writing)return;for(let fe=x.bufferedIndex;fe<x.buffered.length;++fe){var k;const{chunk:ve,callback:ce}=x.buffered[fe],Ie=x.objectMode?1:ve.length;x.length-=Ie,ce((k=x.errored)!==null&&k!==void 0?k:new T("write"))}const U=x[O].splice(0);for(let fe=0;fe<U.length;fe++){var re;U[fe]((re=x.errored)!==null&&re!==void 0?re:new T("end"))}Q(x)}function Z(x,k){if(k.corked||k.bufferProcessing||k.destroyed||!k.constructed)return;const{buffered:U,bufferedIndex:re,objectMode:fe}=k,ve=U.length-re;if(!ve)return;let ce=re;if(k.bufferProcessing=!0,ve>1&&x._writev){k.pendingcb-=ve-1;const Ie=k.allNoop?j:xe=>{for(let je=ce;je<U.length;++je)U[je].callback(xe)},be=k.allNoop&&ce===0?U:t(U,ce);be.allBuffers=k.allBuffers,ae(x,k,!0,k.length,be,"",Ie),Q(k)}else{do{const{chunk:Ie,encoding:be,callback:xe}=U[ce];U[ce++]=null;const je=fe?1:Ie.length;ae(x,k,!1,je,Ie,be,xe)}while(ce<U.length&&!k.writing);ce===U.length?Q(k):ce>256?(U.splice(0,ce),k.bufferedIndex=0):k.bufferedIndex=ce}k.bufferProcessing=!1}ie.prototype._write=function(x,k,U){if(this._writev)this._writev([{chunk:x,encoding:k}],U);else throw new m("_write()")},ie.prototype._writev=null,ie.prototype.end=function(x,k,U){const re=this._writableState;typeof x=="function"?(U=x,x=null,k=null):typeof k=="function"&&(U=k,k=null);let fe;if(x!=null){const ve=X(this,x,k);ve instanceof r&&(fe=ve)}return re.corked&&(re.corked=1,this.uncork()),fe||(!re.errored&&!re.ending?(re.ending=!0,$(this,re,!0),re.ended=!0):re.finished?fe=new I("end"):re.destroyed&&(fe=new T("end"))),typeof U=="function"&&(fe||re.finished?e.nextTick(U,fe):re[O].push(U)),this};function ee(x){return x.ending&&!x.destroyed&&x.constructed&&x.length===0&&!x.errored&&x.buffered.length===0&&!x.finished&&!x.writing&&!x.errorEmitted&&!x.closeEmitted}function P(x,k){let U=!1;function re(fe){if(U){M(x,fe??g());return}if(U=!0,k.pendingcb--,fe){const ve=k[O].splice(0);for(let ce=0;ce<ve.length;ce++)ve[ce](fe);M(x,fe,k.sync)}else ee(k)&&(k.prefinished=!0,x.emit("prefinish"),k.pendingcb++,e.nextTick(te,x,k))}k.sync=!0,k.pendingcb++;try{x._final(re)}catch(fe){re(fe)}k.sync=!1}function A(x,k){!k.prefinished&&!k.finalCalled&&(typeof x._final=="function"&&!k.destroyed?(k.finalCalled=!0,P(x,k)):(k.prefinished=!0,x.emit("prefinish")))}function $(x,k,U){ee(k)&&(A(x,k),k.pendingcb===0&&(U?(k.pendingcb++,e.nextTick((re,fe)=>{ee(fe)?te(re,fe):fe.pendingcb--},x,k)):ee(k)&&(k.pendingcb++,te(x,k))))}function te(x,k){k.pendingcb--,k.finished=!0;const U=k[O].splice(0);for(let re=0;re<U.length;re++)U[re]();if(x.emit("finish"),k.autoDestroy){const re=x._readableState;(!re||re.autoDestroy&&(re.endEmitted||re.readable===!1))&&x.destroy()}}a(ie.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(x){this._writableState&&(this._writableState.destroyed=x)}},writable:{__proto__:null,get(){const x=this._writableState;return!!x&&x.writable!==!1&&!x.destroyed&&!x.errored&&!x.ending&&!x.ended},set(x){this._writableState&&(this._writableState.writable=!!x)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const x=this._writableState;return x?!x.destroyed&&!x.ending&&x.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const pe=p.destroy;ie.prototype.destroy=function(x,k){const U=this._writableState;return!U.destroyed&&(U.bufferedIndex<U.buffered.length||U[O].length)&&e.nextTick(Y,U),pe.call(this,x,k),this},ie.prototype._undestroy=p.undestroy,ie.prototype._destroy=function(x,k){k(x)},ie.prototype[f.captureRejectionSymbol]=function(x){this.destroy(x)};let R;function w(){return R===void 0&&(R={}),R}return ie.fromWeb=function(x,k){return w().newStreamWritableFromWritableStream(x,k)},ie.toWeb=function(x){return w().newWritableStreamFromStreamWritable(x)},dg}var hg,VR;function xz(){if(VR)return hg;VR=1;const e=Gs(),t=Sr(),{isReadable:r,isWritable:n,isIterable:i,isNodeStream:a,isReadableNodeStream:o,isWritableNodeStream:s,isDuplexNodeStream:l,isReadableStream:u,isWritableStream:f}=to(),d=Vo(),{AbortError:c,codes:{ERR_INVALID_ARG_TYPE:p,ERR_INVALID_RETURN_VALUE:b}}=Bn(),{destroyer:v}=rl(),_=Ka(),y=wm(),m=iS(),{createDeferredPromise:g}=Gn(),E=XF(),T=globalThis.Blob||t.Blob,I=typeof T<"u"?function(q){return q instanceof T}:function(q){return!1},D=globalThis.AbortController||Eh().AbortController,{FunctionPrototypeCall:B}=Er();class N extends _{constructor(q){super(q),(q==null?void 0:q.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(q==null?void 0:q.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}hg=function O(q,Q){if(l(q))return q;if(o(q))return j({readable:q});if(s(q))return j({writable:q});if(a(q))return j({writable:!1,readable:!1});if(u(q))return j({readable:y.fromWeb(q)});if(f(q))return j({writable:m.fromWeb(q)});if(typeof q=="function"){const{value:X,write:le,final:ae,destroy:ne}=M(q);if(i(X))return E(N,X,{objectMode:!0,write:le,final:ae,destroy:ne});const V=X==null?void 0:X.then;if(typeof V=="function"){let oe;const he=B(V,X,Y=>{if(Y!=null)throw new b("nully","body",Y)},Y=>{v(oe,Y)});return oe=new N({objectMode:!0,readable:!1,write:le,final(Y){ae(async()=>{try{await he,e.nextTick(Y,null)}catch(Z){e.nextTick(Y,Z)}})},destroy:ne})}throw new b("Iterable, AsyncIterable or AsyncFunction",Q,X)}if(I(q))return O(q.arrayBuffer());if(i(q))return E(N,q,{objectMode:!0,writable:!1});if(u(q==null?void 0:q.readable)&&f(q==null?void 0:q.writable))return N.fromWeb(q);if(typeof(q==null?void 0:q.writable)=="object"||typeof(q==null?void 0:q.readable)=="object"){const X=q!=null&&q.readable?o(q==null?void 0:q.readable)?q==null?void 0:q.readable:O(q.readable):void 0,le=q!=null&&q.writable?s(q==null?void 0:q.writable)?q==null?void 0:q.writable:O(q.writable):void 0;return j({readable:X,writable:le})}const ie=q==null?void 0:q.then;if(typeof ie=="function"){let X;return B(ie,q,le=>{le!=null&&X.push(le),X.push(null)},le=>{v(X,le)}),X=new N({objectMode:!0,writable:!1,read(){}})}throw new p(Q,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],q)};function M(O){let{promise:q,resolve:Q}=g();const ie=new D,X=ie.signal;return{value:O(async function*(){for(;;){const ae=q;q=null;const{chunk:ne,done:V,cb:oe}=await ae;if(e.nextTick(oe),V)return;if(X.aborted)throw new c(void 0,{cause:X.reason});({promise:q,resolve:Q}=g()),yield ne}}(),{signal:X}),write(ae,ne,V){const oe=Q;Q=null,oe({chunk:ae,done:!1,cb:V})},final(ae){const ne=Q;Q=null,ne({done:!0,cb:ae})},destroy(ae,ne){ie.abort(),ne(ae)}}}function j(O){const q=O.readable&&typeof O.readable.read!="function"?y.wrap(O.readable):O.readable,Q=O.writable;let ie=!!r(q),X=!!n(Q),le,ae,ne,V,oe;function he(Y){const Z=V;V=null,Z?Z(Y):Y&&oe.destroy(Y)}return oe=new N({readableObjectMode:!!(q!=null&&q.readableObjectMode),writableObjectMode:!!(Q!=null&&Q.writableObjectMode),readable:ie,writable:X}),X&&(d(Q,Y=>{X=!1,Y&&v(q,Y),he(Y)}),oe._write=function(Y,Z,ee){Q.write(Y,Z)?ee():le=ee},oe._final=function(Y){Q.end(),ae=Y},Q.on("drain",function(){if(le){const Y=le;le=null,Y()}}),Q.on("finish",function(){if(ae){const Y=ae;ae=null,Y()}})),ie&&(d(q,Y=>{ie=!1,Y&&v(q,Y),he(Y)}),q.on("readable",function(){if(ne){const Y=ne;ne=null,Y()}}),q.on("end",function(){oe.push(null)}),oe._read=function(){for(;;){const Y=q.read();if(Y===null){ne=oe._read;return}if(!oe.push(Y))return}}),oe._destroy=function(Y,Z){!Y&&V!==null&&(Y=new c),ne=null,le=null,ae=null,V===null?Z(Y):(V=Z,v(Q,Y),v(q,Y))},oe}return hg}var pg,zR;function Ka(){if(zR)return pg;zR=1;const{ObjectDefineProperties:e,ObjectGetOwnPropertyDescriptor:t,ObjectKeys:r,ObjectSetPrototypeOf:n}=Er();pg=o;const i=wm(),a=iS();n(o.prototype,i.prototype),n(o,i);{const f=r(a.prototype);for(let d=0;d<f.length;d++){const c=f[d];o.prototype[c]||(o.prototype[c]=a.prototype[c])}}function o(f){if(!(this instanceof o))return new o(f);i.call(this,f),a.call(this,f),f?(this.allowHalfOpen=f.allowHalfOpen!==!1,f.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),f.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}e(o.prototype,{writable:{__proto__:null,...t(a.prototype,"writable")},writableHighWaterMark:{__proto__:null,...t(a.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...t(a.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...t(a.prototype,"writableBuffer")},writableLength:{__proto__:null,...t(a.prototype,"writableLength")},writableFinished:{__proto__:null,...t(a.prototype,"writableFinished")},writableCorked:{__proto__:null,...t(a.prototype,"writableCorked")},writableEnded:{__proto__:null,...t(a.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...t(a.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(f){this._readableState&&this._writableState&&(this._readableState.destroyed=f,this._writableState.destroyed=f)}}});let s;function l(){return s===void 0&&(s={}),s}o.fromWeb=function(f,d){return l().newStreamDuplexFromReadableWritablePair(f,d)},o.toWeb=function(f){return l().newReadableWritablePairFromDuplex(f)};let u;return o.from=function(f){return u||(u=xz()),u(f,"body")},pg}var mg,WR;function JF(){if(WR)return mg;WR=1;const{ObjectSetPrototypeOf:e,Symbol:t}=Er();mg=o;const{ERR_METHOD_NOT_IMPLEMENTED:r}=Bn().codes,n=Ka(),{getHighWaterMark:i}=vm();e(o.prototype,n.prototype),e(o,n);const a=t("kCallback");function o(u){if(!(this instanceof o))return new o(u);const f=u?i(this,u,"readableHighWaterMark",!0):null;f===0&&(u={...u,highWaterMark:null,readableHighWaterMark:f,writableHighWaterMark:u.writableHighWaterMark||0}),n.call(this,u),this._readableState.sync=!1,this[a]=null,u&&(typeof u.transform=="function"&&(this._transform=u.transform),typeof u.flush=="function"&&(this._flush=u.flush)),this.on("prefinish",l)}function s(u){typeof this._flush=="function"&&!this.destroyed?this._flush((f,d)=>{if(f){u?u(f):this.destroy(f);return}d!=null&&this.push(d),this.push(null),u&&u()}):(this.push(null),u&&u())}function l(){this._final!==s&&s.call(this)}return o.prototype._final=s,o.prototype._transform=function(u,f,d){throw new r("_transform()")},o.prototype._write=function(u,f,d){const c=this._readableState,p=this._writableState,b=c.length;this._transform(u,f,(v,_)=>{if(v){d(v);return}_!=null&&this.push(_),p.ended||b===c.length||c.length<c.highWaterMark?d():this[a]=d})},o.prototype._read=function(){if(this[a]){const u=this[a];this[a]=null,u()}},mg}var yg,GR;function e6(){if(GR)return yg;GR=1;const{ObjectSetPrototypeOf:e}=Er();yg=r;const t=JF();e(r.prototype,t.prototype),e(r,t);function r(n){if(!(this instanceof r))return new r(n);t.call(this,n)}return r.prototype._transform=function(n,i,a){a(null,n)},yg}var gg,KR;function aS(){if(KR)return gg;KR=1;const e=Gs(),{ArrayIsArray:t,Promise:r,SymbolAsyncIterator:n,SymbolDispose:i}=Er(),a=Vo(),{once:o}=Gn(),s=rl(),l=Ka(),{aggregateTwoErrors:u,codes:{ERR_INVALID_ARG_TYPE:f,ERR_INVALID_RETURN_VALUE:d,ERR_MISSING_ARGS:c,ERR_STREAM_DESTROYED:p,ERR_STREAM_PREMATURE_CLOSE:b},AbortError:v}=Bn(),{validateFunction:_,validateAbortSignal:y}=$h(),{isIterable:m,isReadable:g,isReadableNodeStream:E,isNodeStream:T,isTransformStream:I,isWebStream:D,isReadableStream:B,isReadableFinished:N}=to(),M=globalThis.AbortController||Eh().AbortController;let j,O,q;function Q(Y,Z,ee){let P=!1;Y.on("close",()=>{P=!0});const A=a(Y,{readable:Z,writable:ee},$=>{P=!$});return{destroy:$=>{P||(P=!0,s.destroyer(Y,$||new p("pipe")))},cleanup:A}}function ie(Y){return _(Y[Y.length-1],"streams[stream.length - 1]"),Y.pop()}function X(Y){if(m(Y))return Y;if(E(Y))return le(Y);throw new f("val",["Readable","Iterable","AsyncIterable"],Y)}async function*le(Y){O||(O=wm()),yield*O.prototype[n].call(Y)}async function ae(Y,Z,ee,{end:P}){let A,$=null;const te=w=>{if(w&&(A=w),$){const x=$;$=null,x()}},pe=()=>new r((w,x)=>{A?x(A):$=()=>{A?x(A):w()}});Z.on("drain",te);const R=a(Z,{readable:!1},te);try{Z.writableNeedDrain&&await pe();for await(const w of Y)Z.write(w)||await pe();P&&(Z.end(),await pe()),ee()}catch(w){ee(A!==w?u(A,w):w)}finally{R(),Z.off("drain",te)}}async function ne(Y,Z,ee,{end:P}){I(Z)&&(Z=Z.writable);const A=Z.getWriter();try{for await(const $ of Y)await A.ready,A.write($).catch(()=>{});await A.ready,P&&await A.close(),ee()}catch($){try{await A.abort($),ee($)}catch(te){ee(te)}}}function V(...Y){return oe(Y,o(ie(Y)))}function oe(Y,Z,ee){if(Y.length===1&&t(Y[0])&&(Y=Y[0]),Y.length<2)throw new c("streams");const P=new M,A=P.signal,$=ee==null?void 0:ee.signal,te=[];y($,"options.signal");function pe(){fe(new v)}q=q||Gn().addAbortListener;let R;$&&(R=q($,pe));let w,x;const k=[];let U=0;function re(be){fe(be,--U===0)}function fe(be,xe){var je;if(be&&(!w||w.code==="ERR_STREAM_PREMATURE_CLOSE")&&(w=be),!(!w&&!xe)){for(;k.length;)k.shift()(w);(je=R)===null||je===void 0||je[i](),P.abort(),xe&&(w||te.forEach(Ae=>Ae()),e.nextTick(Z,w,x))}}let ve;for(let be=0;be<Y.length;be++){const xe=Y[be],je=be<Y.length-1,Ae=be>0,Pe=je||(ee==null?void 0:ee.end)!==!1,ke=be===Y.length-1;if(T(xe)){let Ze=function(Ue){Ue&&Ue.name!=="AbortError"&&Ue.code!=="ERR_STREAM_PREMATURE_CLOSE"&&re(Ue)};if(Pe){const{destroy:Ue,cleanup:it}=Q(xe,je,Ae);k.push(Ue),g(xe)&&ke&&te.push(it)}xe.on("error",Ze),g(xe)&&ke&&te.push(()=>{xe.removeListener("error",Ze)})}if(be===0)if(typeof xe=="function"){if(ve=xe({signal:A}),!m(ve))throw new d("Iterable, AsyncIterable or Stream","source",ve)}else m(xe)||E(xe)||I(xe)?ve=xe:ve=l.from(xe);else if(typeof xe=="function"){if(I(ve)){var ce;ve=X((ce=ve)===null||ce===void 0?void 0:ce.readable)}else ve=X(ve);if(ve=xe(ve,{signal:A}),je){if(!m(ve,!0))throw new d("AsyncIterable",`transform[${be-1}]`,ve)}else{var Ie;j||(j=e6());const Ze=new j({objectMode:!0}),Ue=(Ie=ve)===null||Ie===void 0?void 0:Ie.then;if(typeof Ue=="function")U++,Ue.call(ve,F=>{x=F,F!=null&&Ze.write(F),Pe&&Ze.end(),e.nextTick(re)},F=>{Ze.destroy(F),e.nextTick(re,F)});else if(m(ve,!0))U++,ae(ve,Ze,re,{end:Pe});else if(B(ve)||I(ve)){const F=ve.readable||ve;U++,ae(F,Ze,re,{end:Pe})}else throw new d("AsyncIterable or Promise","destination",ve);ve=Ze;const{destroy:it,cleanup:ye}=Q(ve,!1,!0);k.push(it),ke&&te.push(ye)}}else if(T(xe)){if(E(ve)){U+=2;const Ze=he(ve,xe,re,{end:Pe});g(xe)&&ke&&te.push(Ze)}else if(I(ve)||B(ve)){const Ze=ve.readable||ve;U++,ae(Ze,xe,re,{end:Pe})}else if(m(ve))U++,ae(ve,xe,re,{end:Pe});else throw new f("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],ve);ve=xe}else if(D(xe)){if(E(ve))U++,ne(X(ve),xe,re,{end:Pe});else if(B(ve)||m(ve))U++,ne(ve,xe,re,{end:Pe});else if(I(ve))U++,ne(ve.readable,xe,re,{end:Pe});else throw new f("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],ve);ve=xe}else ve=l.from(xe)}return(A!=null&&A.aborted||$!=null&&$.aborted)&&e.nextTick(pe),ve}function he(Y,Z,ee,{end:P}){let A=!1;if(Z.on("close",()=>{A||ee(new b)}),Y.pipe(Z,{end:!1}),P){let $=function(){A=!0,Z.end()};N(Y)?e.nextTick($):Y.once("end",$)}else ee();return a(Y,{readable:!0,writable:!1},$=>{const te=Y._readableState;$&&$.code==="ERR_STREAM_PREMATURE_CLOSE"&&te&&te.ended&&!te.errored&&!te.errorEmitted?Y.once("end",ee).once("error",ee):ee($)}),a(Z,{readable:!1,writable:!0},ee)}return gg={pipelineImpl:oe,pipeline:V},gg}var _g,ZR;function t6(){if(ZR)return _g;ZR=1;const{pipeline:e}=aS(),t=Ka(),{destroyer:r}=rl(),{isNodeStream:n,isReadable:i,isWritable:a,isWebStream:o,isTransformStream:s,isWritableStream:l,isReadableStream:u}=to(),{AbortError:f,codes:{ERR_INVALID_ARG_VALUE:d,ERR_MISSING_ARGS:c}}=Bn(),p=Vo();return _g=function(...v){if(v.length===0)throw new c("streams");if(v.length===1)return t.from(v[0]);const _=[...v];if(typeof v[0]=="function"&&(v[0]=t.from(v[0])),typeof v[v.length-1]=="function"){const j=v.length-1;v[j]=t.from(v[j])}for(let j=0;j<v.length;++j)if(!(!n(v[j])&&!o(v[j]))){if(j<v.length-1&&!(i(v[j])||u(v[j])||s(v[j])))throw new d(`streams[${j}]`,_[j],"must be readable");if(j>0&&!(a(v[j])||l(v[j])||s(v[j])))throw new d(`streams[${j}]`,_[j],"must be writable")}let y,m,g,E,T;function I(j){const O=E;E=null,O?O(j):j?T.destroy(j):!M&&!N&&T.destroy()}const D=v[0],B=e(v,I),N=!!(a(D)||l(D)||s(D)),M=!!(i(B)||u(B)||s(B));if(T=new t({writableObjectMode:!!(D!=null&&D.writableObjectMode),readableObjectMode:!!(B!=null&&B.readableObjectMode),writable:N,readable:M}),N){if(n(D))T._write=function(O,q,Q){D.write(O,q)?Q():y=Q},T._final=function(O){D.end(),m=O},D.on("drain",function(){if(y){const O=y;y=null,O()}});else if(o(D)){const q=(s(D)?D.writable:D).getWriter();T._write=async function(Q,ie,X){try{await q.ready,q.write(Q).catch(()=>{}),X()}catch(le){X(le)}},T._final=async function(Q){try{await q.ready,q.close().catch(()=>{}),m=Q}catch(ie){Q(ie)}}}const j=s(B)?B.readable:B;p(j,()=>{if(m){const O=m;m=null,O()}})}if(M){if(n(B))B.on("readable",function(){if(g){const j=g;g=null,j()}}),B.on("end",function(){T.push(null)}),T._read=function(){for(;;){const j=B.read();if(j===null){g=T._read;return}if(!T.push(j))return}};else if(o(B)){const O=(s(B)?B.readable:B).getReader();T._read=async function(){for(;;)try{const{value:q,done:Q}=await O.read();if(!T.push(q))return;if(Q){T.push(null);return}}catch{return}}}}return T._destroy=function(j,O){!j&&E!==null&&(j=new f),g=null,y=null,m=null,E===null?O(j):(E=O,n(B)&&r(B,j))},T},_g}var YR;function Tz(){if(YR)return jp;YR=1;const e=globalThis.AbortController||Eh().AbortController,{codes:{ERR_INVALID_ARG_VALUE:t,ERR_INVALID_ARG_TYPE:r,ERR_MISSING_ARGS:n,ERR_OUT_OF_RANGE:i},AbortError:a}=Bn(),{validateAbortSignal:o,validateInteger:s,validateObject:l}=$h(),u=Er().Symbol("kWeak"),f=Er().Symbol("kResistStopPropagation"),{finished:d}=Vo(),c=t6(),{addAbortSignalNoValidate:p}=bm(),{isWritable:b,isNodeStream:v}=to(),{deprecate:_}=Gn(),{ArrayPrototypePush:y,Boolean:m,MathFloor:g,Number:E,NumberIsNaN:T,Promise:I,PromiseReject:D,PromiseResolve:B,PromisePrototypeThen:N,Symbol:M}=Er(),j=M("kEmpty"),O=M("kEof");function q($,te){if(te!=null&&l(te,"options"),(te==null?void 0:te.signal)!=null&&o(te.signal,"options.signal"),v($)&&!b($))throw new t("stream",$,"must be writable");const pe=c(this,$);return te!=null&&te.signal&&p(te.signal,pe),pe}function Q($,te){if(typeof $!="function")throw new r("fn",["Function","AsyncFunction"],$);te!=null&&l(te,"options"),(te==null?void 0:te.signal)!=null&&o(te.signal,"options.signal");let pe=1;(te==null?void 0:te.concurrency)!=null&&(pe=g(te.concurrency));let R=pe-1;return(te==null?void 0:te.highWaterMark)!=null&&(R=g(te.highWaterMark)),s(pe,"options.concurrency",1),s(R,"options.highWaterMark",0),R+=pe,(async function*(){const x=Gn().AbortSignalAny([te==null?void 0:te.signal].filter(m)),k=this,U=[],re={signal:x};let fe,ve,ce=!1,Ie=0;function be(){ce=!0,xe()}function xe(){Ie-=1,je()}function je(){ve&&!ce&&Ie<pe&&U.length<R&&(ve(),ve=null)}async function Ae(){try{for await(let Pe of k){if(ce)return;if(x.aborted)throw new a;try{if(Pe=$(Pe,re),Pe===j)continue;Pe=B(Pe)}catch(ke){Pe=D(ke)}Ie+=1,N(Pe,xe,be),U.push(Pe),fe&&(fe(),fe=null),!ce&&(U.length>=R||Ie>=pe)&&await new I(ke=>{ve=ke})}U.push(O)}catch(Pe){const ke=D(Pe);N(ke,xe,be),U.push(ke)}finally{ce=!0,fe&&(fe(),fe=null)}}Ae();try{for(;;){for(;U.length>0;){const Pe=await U[0];if(Pe===O)return;if(x.aborted)throw new a;Pe!==j&&(yield Pe),U.shift(),je()}await new I(Pe=>{fe=Pe})}}finally{ce=!0,ve&&(ve(),ve=null)}}).call(this)}function ie($=void 0){return $!=null&&l($,"options"),($==null?void 0:$.signal)!=null&&o($.signal,"options.signal"),(async function*(){let pe=0;for await(const w of this){var R;if($!=null&&(R=$.signal)!==null&&R!==void 0&&R.aborted)throw new a({cause:$.signal.reason});yield[pe++,w]}}).call(this)}async function X($,te=void 0){for await(const pe of V.call(this,$,te))return!0;return!1}async function le($,te=void 0){if(typeof $!="function")throw new r("fn",["Function","AsyncFunction"],$);return!await X.call(this,async(...pe)=>!await $(...pe),te)}async function ae($,te){for await(const pe of V.call(this,$,te))return pe}async function ne($,te){if(typeof $!="function")throw new r("fn",["Function","AsyncFunction"],$);async function pe(R,w){return await $(R,w),j}for await(const R of Q.call(this,pe,te));}function V($,te){if(typeof $!="function")throw new r("fn",["Function","AsyncFunction"],$);async function pe(R,w){return await $(R,w)?R:j}return Q.call(this,pe,te)}class oe extends n{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function he($,te,pe){var R;if(typeof $!="function")throw new r("reducer",["Function","AsyncFunction"],$);pe!=null&&l(pe,"options"),(pe==null?void 0:pe.signal)!=null&&o(pe.signal,"options.signal");let w=arguments.length>1;if(pe!=null&&(R=pe.signal)!==null&&R!==void 0&&R.aborted){const fe=new a(void 0,{cause:pe.signal.reason});throw this.once("error",()=>{}),await d(this.destroy(fe)),fe}const x=new e,k=x.signal;if(pe!=null&&pe.signal){const fe={once:!0,[u]:this,[f]:!0};pe.signal.addEventListener("abort",()=>x.abort(),fe)}let U=!1;try{for await(const fe of this){var re;if(U=!0,pe!=null&&(re=pe.signal)!==null&&re!==void 0&&re.aborted)throw new a;w?te=await $(te,fe,{signal:k}):(te=fe,w=!0)}if(!U&&!w)throw new oe}finally{x.abort()}return te}async function Y($){$!=null&&l($,"options"),($==null?void 0:$.signal)!=null&&o($.signal,"options.signal");const te=[];for await(const R of this){var pe;if($!=null&&(pe=$.signal)!==null&&pe!==void 0&&pe.aborted)throw new a(void 0,{cause:$.signal.reason});y(te,R)}return te}function Z($,te){const pe=Q.call(this,$,te);return(async function*(){for await(const w of pe)yield*w}).call(this)}function ee($){if($=E($),T($))return 0;if($<0)throw new i("number",">= 0",$);return $}function P($,te=void 0){return te!=null&&l(te,"options"),(te==null?void 0:te.signal)!=null&&o(te.signal,"options.signal"),$=ee($),(async function*(){var R;if(te!=null&&(R=te.signal)!==null&&R!==void 0&&R.aborted)throw new a;for await(const x of this){var w;if(te!=null&&(w=te.signal)!==null&&w!==void 0&&w.aborted)throw new a;$--<=0&&(yield x)}}).call(this)}function A($,te=void 0){return te!=null&&l(te,"options"),(te==null?void 0:te.signal)!=null&&o(te.signal,"options.signal"),$=ee($),(async function*(){var R;if(te!=null&&(R=te.signal)!==null&&R!==void 0&&R.aborted)throw new a;for await(const x of this){var w;if(te!=null&&(w=te.signal)!==null&&w!==void 0&&w.aborted)throw new a;if($-- >0&&(yield x),$<=0)return}}).call(this)}return jp.streamReturningOperators={asIndexedPairs:_(ie,"readable.asIndexedPairs will be removed in a future version."),drop:P,filter:V,flatMap:Z,map:Q,take:A,compose:q},jp.promiseReturningOperators={every:le,forEach:ne,reduce:he,toArray:Y,some:X,find:ae},jp}var bg,QR;function r6(){if(QR)return bg;QR=1;const{ArrayPrototypePop:e,Promise:t}=Er(),{isIterable:r,isNodeStream:n,isWebStream:i}=to(),{pipelineImpl:a}=aS(),{finished:o}=Vo();n6();function s(...l){return new t((u,f)=>{let d,c;const p=l[l.length-1];if(p&&typeof p=="object"&&!n(p)&&!r(p)&&!i(p)){const b=e(l);d=b.signal,c=b.end}a(l,(b,v)=>{b?f(b):u(v)},{signal:d,end:c})})}return bg={finished:o,pipeline:s},bg}var XR;function n6(){if(XR)return Zy.exports;XR=1;const{Buffer:e}=Sr(),{ObjectDefineProperty:t,ObjectKeys:r,ReflectApply:n}=Er(),{promisify:{custom:i}}=Gn(),{streamReturningOperators:a,promiseReturningOperators:o}=Tz(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:s}}=Bn(),l=t6(),{setDefaultHighWaterMark:u,getDefaultHighWaterMark:f}=vm(),{pipeline:d}=aS(),{destroyer:c}=rl(),p=Vo(),b=r6(),v=to(),_=Zy.exports=nS().Stream;_.isDestroyed=v.isDestroyed,_.isDisturbed=v.isDisturbed,_.isErrored=v.isErrored,_.isReadable=v.isReadable,_.isWritable=v.isWritable,_.Readable=wm();for(const m of r(a)){let E=function(...T){if(new.target)throw s();return _.Readable.from(n(g,this,T))};const g=a[m];t(E,"name",{__proto__:null,value:g.name}),t(E,"length",{__proto__:null,value:g.length}),t(_.Readable.prototype,m,{__proto__:null,value:E,enumerable:!1,configurable:!0,writable:!0})}for(const m of r(o)){let E=function(...T){if(new.target)throw s();return n(g,this,T)};const g=o[m];t(E,"name",{__proto__:null,value:g.name}),t(E,"length",{__proto__:null,value:g.length}),t(_.Readable.prototype,m,{__proto__:null,value:E,enumerable:!1,configurable:!0,writable:!0})}_.Writable=iS(),_.Duplex=Ka(),_.Transform=JF(),_.PassThrough=e6(),_.pipeline=d;const{addAbortSignal:y}=bm();return _.addAbortSignal=y,_.finished=p,_.destroy=c,_.compose=l,_.setDefaultHighWaterMark=u,_.getDefaultHighWaterMark=f,t(_,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return b}}),t(d,i,{__proto__:null,enumerable:!0,get(){return b.pipeline}}),t(p,i,{__proto__:null,enumerable:!0,get(){return b.finished}}),_.Stream=_,_._isUint8Array=function(g){return g instanceof Uint8Array},_._uint8ArrayToBuffer=function(g){return e.from(g.buffer,g.byteOffset,g.byteLength)},Zy.exports}var JR;function Zi(){return JR||(JR=1,function(e){const t=n6(),r=r6(),n=t.Readable.destroy;e.exports=t.Readable,e.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,e.exports._isUint8Array=t._isUint8Array,e.exports.isDisturbed=t.isDisturbed,e.exports.isErrored=t.isErrored,e.exports.isReadable=t.isReadable,e.exports.Readable=t.Readable,e.exports.Writable=t.Writable,e.exports.Duplex=t.Duplex,e.exports.Transform=t.Transform,e.exports.PassThrough=t.PassThrough,e.exports.addAbortSignal=t.addAbortSignal,e.exports.finished=t.finished,e.exports.destroy=t.destroy,e.exports.destroy=n,e.exports.pipeline=t.pipeline,e.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return r}}),e.exports.Stream=t.Stream,e.exports.default=e.exports}(Ky)),Ky.exports}var Em=Zi();const vg=Symbol("iter");function nh(e,t,r=4){if(r===0)return Object.assign(e,t);for(const n in t)e[n]=nh(e[n]||Object.create(null),t[n],r-1);return e}function i6(e,t,r=4){let n=!1;for(const i in e)if(i in t){const a=r===0?null:i6(e[i],t[i],r-1);if(a!==!1)n=n||Object.create(null),n[i]=a;else if(r===3)return!1}return n}function a6(e,t,r=4){let n=!1;for(const i in e)if(!(i in t))n=n||Object.create(null),n[i]=r===0?null:nh({},e[i],r-1);else if(r!==0){const a=a6(e[i],t[i],r-1);if(a!==!1)n=n||Object.create(null),n[i]=a;else if(r===3)return!1}return n}class oS{constructor(t={}){this._id=1,this._ids=Object.create(null),this._ids[""]=1,this._entities=Object.create(null),this._entities[1]="",this._blankNodeIndex=0,this._factory=t.factory||xi}_termFromId(t){if(t[0]==="."){const r=this._entities,n=t.split(".");return this._factory.quad(this._termFromId(r[n[1]]),this._termFromId(r[n[2]]),this._termFromId(r[n[3]]),n[4]&&this._termFromId(r[n[4]]))}return Cs(t,this._factory)}_termToNumericId(t){if(t.termType==="Quad"){const r=this._termToNumericId(t.subject),n=this._termToNumericId(t.predicate),i=this._termToNumericId(t.object);let a;return r&&n&&i&&(wh(t.graph)||(a=this._termToNumericId(t.graph)))&&this._ids[a?`.${r}.${n}.${i}.${a}`:`.${r}.${n}.${i}`]}return this._ids[Ro(t)]}_termToNewNumericId(t){const r=t&&t.termType==="Quad"?`.${this._termToNewNumericId(t.subject)}.${this._termToNewNumericId(t.predicate)}.${this._termToNewNumericId(t.object)}${wh(t.graph)?"":`.${this._termToNewNumericId(t.graph)}`}`:Ro(t);return this._ids[r]||(this._ids[this._entities[++this._id]=r]=this._id)}createBlankNode(t){let r,n;if(t)for(r=t=`_:${t}`,n=1;this._ids[r];)r=t+n++;else do r=`_:b${this._blankNodeIndex++}`;while(this._ids[r]);return this._ids[r]=++this._id,this._entities[this._id]=r,this._factory.blankNode(r.substr(2))}}class mn{constructor(t,r){this._size=0,this._graphs=Object.create(null),!r&&t&&!t[0]&&(r=t,t=null),r=r||{},this._factory=r.factory||xi,this._entityIndex=r.entityIndex||new oS({factory:this._factory}),this._entities=this._entityIndex._entities,this._termFromId=this._entityIndex._termFromId.bind(this._entityIndex),this._termToNumericId=this._entityIndex._termToNumericId.bind(this._entityIndex),this._termToNewNumericId=this._entityIndex._termToNewNumericId.bind(this._entityIndex),t&&this.addQuads(t)}get size(){let t=this._size;if(t!==null)return t;t=0;const r=this._graphs;let n,i;for(const a in r)for(const o in n=r[a].subjects)for(const s in i=n[o])t+=Object.keys(i[s]).length;return this._size=t}_addToIndex(t,r,n,i){const a=t[r]||(t[r]={}),o=a[n]||(a[n]={}),s=i in o;return s||(o[i]=null),!s}_removeFromIndex(t,r,n,i){const a=t[r],o=a[n];delete o[i];for(const s in o)return;delete a[n];for(const s in a)return;delete t[r]}*_findInIndex(t,r,n,i,a,o,s,l){let u,f,d;const c=this._entities,p=this._termFromId(c[l]),b={subject:null,predicate:null,object:null};r&&((u=t,t={})[r]=u[r]);for(const v in t)if(f=t[v]){b[a]=this._termFromId(c[v]),n&&((u=f,f={})[n]=u[n]);for(const _ in f)if(d=f[_]){b[o]=this._termFromId(c[_]);const y=i?i in d?[i]:[]:Object.keys(d);for(let m=0;m<y.length;m++)b[s]=this._termFromId(c[y[m]]),yield this._factory.quad(b.subject,b.predicate,b.object,p)}}}_loop(t,r){for(const n in t)r(n)}_loopByKey0(t,r,n){let i,a;if(i=t[r])for(a in i)n(a)}_loopByKey1(t,r,n){let i,a;for(i in t)a=t[i],a[r]&&n(i)}_loopBy2Keys(t,r,n,i){let a,o,s;if((a=t[r])&&(o=a[n]))for(s in o)i(s)}_countInIndex(t,r,n,i){let a=0,o,s,l;r&&((o=t,t={})[r]=o[r]);for(const u in t)if(s=t[u]){n&&((o=s,s={})[n]=o[n]);for(const f in s)(l=s[f])&&(i?i in l&&a++:a+=Object.keys(l).length)}return a}_getGraphs(t){return t=t===""?1:t&&(this._termToNumericId(t)||-1),typeof t!="number"?this._graphs:{[t]:this._graphs[t]}}_uniqueEntities(t){const r=Object.create(null);return n=>{n in r||(r[n]=!0,t(this._termFromId(this._entities[n],this._factory)))}}add(t){return this.addQuad(t),this}addQuad(t,r,n,i){r||(i=t.graph,n=t.object,r=t.predicate,t=t.subject),i=i?this._termToNewNumericId(i):1;let a=this._graphs[i];return a||(a=this._graphs[i]={subjects:{},predicates:{},objects:{}},Object.freeze(a)),t=this._termToNewNumericId(t),r=this._termToNewNumericId(r),n=this._termToNewNumericId(n),this._addToIndex(a.subjects,t,r,n)?(this._addToIndex(a.predicates,r,n,t),this._addToIndex(a.objects,n,t,r),this._size=null,!0):!1}addQuads(t){for(let r=0;r<t.length;r++)this.addQuad(t[r])}delete(t){return this.removeQuad(t),this}has(t,r,n,i){return t&&t.subject&&({subject:t,predicate:r,object:n,graph:i}=t),!this.readQuads(t,r,n,i).next().done}import(t){return t.on("data",r=>{this.addQuad(r)}),t}removeQuad(t,r,n,i){r||({subject:t,predicate:r,object:n,graph:i}=t),i=i?this._termToNumericId(i):1;const a=this._graphs;let o,s,l;if(!(t=t&&this._termToNumericId(t))||!(r=r&&this._termToNumericId(r))||!(n=n&&this._termToNumericId(n))||!(o=a[i])||!(s=o.subjects[t])||!(l=s[r])||!(n in l))return!1;this._removeFromIndex(o.subjects,t,r,n),this._removeFromIndex(o.predicates,r,n,t),this._removeFromIndex(o.objects,n,t,r),this._size!==null&&this._size--;for(t in o.subjects)return!0;return delete a[i],!0}removeQuads(t){for(let r=0;r<t.length;r++)this.removeQuad(t[r])}remove(t){return t.on("data",r=>{this.removeQuad(r)}),t}removeMatches(t,r,n,i){const a=new Em.Readable({objectMode:!0}),o=this.readQuads(t,r,n,i);return a._read=s=>{for(;--s>=0;){const{done:l,value:u}=o.next();if(l){a.push(null);return}a.push(u)}},this.remove(a)}deleteGraph(t){return this.removeMatches(null,null,null,t)}getQuads(t,r,n,i){return[...this.readQuads(t,r,n,i)]}*readQuads(t,r,n,i){const a=this._getGraphs(i);let o,s,l,u;if(!(t&&!(s=this._termToNumericId(t))||r&&!(l=this._termToNumericId(r))||n&&!(u=this._termToNumericId(n))))for(const f in a)(o=a[f])&&(s?u?yield*this._findInIndex(o.objects,u,s,l,"object","subject","predicate",f):yield*this._findInIndex(o.subjects,s,l,null,"subject","predicate","object",f):l?yield*this._findInIndex(o.predicates,l,u,null,"predicate","object","subject",f):u?yield*this._findInIndex(o.objects,u,null,null,"object","subject","predicate",f):yield*this._findInIndex(o.subjects,null,null,null,"subject","predicate","object",f))}match(t,r,n,i){return new So(this,t,r,n,i,{entityIndex:this._entityIndex})}countQuads(t,r,n,i){const a=this._getGraphs(i);let o=0,s,l,u,f;if(t&&!(l=this._termToNumericId(t))||r&&!(u=this._termToNumericId(r))||n&&!(f=this._termToNumericId(n)))return 0;for(const d in a)(s=a[d])&&(t?n?o+=this._countInIndex(s.objects,f,l,u):o+=this._countInIndex(s.subjects,l,u,f):r?o+=this._countInIndex(s.predicates,u,f,l):o+=this._countInIndex(s.objects,f,l,u));return o}forEach(t,r,n,i,a){this.some(o=>(t(o,this),!1),r,n,i,a)}every(t,r,n,i,a){return!this.some(o=>!t(o,this),r,n,i,a)}some(t,r,n,i,a){for(const o of this.readQuads(r,n,i,a))if(t(o))return!0;return!1}getSubjects(t,r,n){const i=[];return this.forSubjects(a=>{i.push(a)},t,r,n),i}forSubjects(t,r,n,i){const a=this._getGraphs(i);let o,s,l;if(t=this._uniqueEntities(t),!(r&&!(s=this._termToNumericId(r))||n&&!(l=this._termToNumericId(n))))for(i in a)(o=a[i])&&(s?l?this._loopBy2Keys(o.predicates,s,l,t):this._loopByKey1(o.subjects,s,t):l?this._loopByKey0(o.objects,l,t):this._loop(o.subjects,t))}getPredicates(t,r,n){const i=[];return this.forPredicates(a=>{i.push(a)},t,r,n),i}forPredicates(t,r,n,i){const a=this._getGraphs(i);let o,s,l;if(t=this._uniqueEntities(t),!(r&&!(s=this._termToNumericId(r))||n&&!(l=this._termToNumericId(n))))for(i in a)(o=a[i])&&(s?l?this._loopBy2Keys(o.objects,l,s,t):this._loopByKey0(o.subjects,s,t):l?this._loopByKey1(o.predicates,l,t):this._loop(o.predicates,t))}getObjects(t,r,n){const i=[];return this.forObjects(a=>{i.push(a)},t,r,n),i}forObjects(t,r,n,i){const a=this._getGraphs(i);let o,s,l;if(t=this._uniqueEntities(t),!(r&&!(s=this._termToNumericId(r))||n&&!(l=this._termToNumericId(n))))for(i in a)(o=a[i])&&(s?l?this._loopBy2Keys(o.subjects,s,l,t):this._loopByKey1(o.objects,s,t):l?this._loopByKey0(o.predicates,l,t):this._loop(o.objects,t))}getGraphs(t,r,n){const i=[];return this.forGraphs(a=>{i.push(a)},t,r,n),i}forGraphs(t,r,n,i){for(const a in this._graphs)this.some(o=>(t(o.graph),!0),r,n,i,this._termFromId(this._entities[a]))}createBlankNode(t){return this._entityIndex.createBlankNode(t)}extractLists({remove:t=!1,ignoreErrors:r=!1}={}){const n={},i=r?()=>!0:(s,l)=>{throw new Error(`${s.value} ${l}`)},a=this.getQuads(null,yn.rdf.rest,yn.rdf.nil,null),o=t?[...a]:[];return a.forEach(s=>{const l=[];let u=!1,f,d;const c=s.graph;let p=s.subject;for(;p&&!u;){const b=this.getQuads(null,null,p,null),v=this.getQuads(p,null,null,null);let _,y=null,m=null,g=null;for(let E=0;E<v.length&&!u;E++)_=v[E],_.graph.equals(c)?f?u=i(p,"has non-list arcs out"):_.predicate.value===yn.rdf.first?y?u=i(p,"has multiple rdf:first arcs"):o.push(y=_):_.predicate.value===yn.rdf.rest?m?u=i(p,"has multiple rdf:rest arcs"):o.push(m=_):b.length?u=i(p,"can't be subject and object"):(f=_,d="subject"):u=i(p,"not confined to single graph");for(let E=0;E<b.length&&!u;++E)_=b[E],f?u=i(p,"can't have coreferences"):_.predicate.value===yn.rdf.rest?g?u=i(p,"has incoming rdf:rest arcs"):g=_:(f=_,d="object");y?l.unshift(y.object):u=i(p,"has no list head"),p=g&&g.subject}u?t=!1:f&&(n[f[d].value]=l)}),t&&this.removeQuads(o),n}addAll(t){if(t instanceof So&&(t=t.filtered),Array.isArray(t))this.addQuads(t);else if(t instanceof mn&&t._entityIndex===this._entityIndex)t._size!==0&&(this._graphs=nh(this._graphs,t._graphs),this._size=null);else for(const r of t)this.add(r);return this}contains(t){if(t instanceof So&&(t=t.filtered),t===this)return!0;if(!(t instanceof mn)||this._entityIndex!==t._entityIndex)return t.every(u=>this.has(u));const r=this._graphs,n=t._graphs;let i,a,o,s,l;for(const u in n){if(!(i=r[u]))return!1;i=i.subjects;for(const f in a=n[u].subjects){if(!(o=i[f]))return!1;for(const d in s=a[f]){if(!(l=o[d]))return!1;for(const c in s[d])if(!(c in l))return!1}}}return!0}deleteMatches(t,r,n,i){for(const a of this.match(t,r,n,i))this.removeQuad(a);return this}difference(t){if(t&&t instanceof So&&(t=t.filtered),t===this)return new mn({entityIndex:this._entityIndex});if(t instanceof mn&&t._entityIndex===this._entityIndex){const r=new mn({entityIndex:this._entityIndex}),n=a6(this._graphs,t._graphs);return n&&(r._graphs=n,r._size=null),r}return this.filter(r=>!t.has(r))}equals(t){return t instanceof So&&(t=t.filtered),t===this||this.size===t.size&&this.contains(t)}filter(t){const r=new mn({entityIndex:this._entityIndex});for(const n of this)t(n,this)&&r.add(n);return r}intersection(t){if(t instanceof So&&(t=t.filtered),t===this){const r=new mn({entityIndex:this._entityIndex});return r._graphs=nh(Object.create(null),this._graphs),r._size=this._size,r}else if(t instanceof mn&&this._entityIndex===t._entityIndex){const r=new mn({entityIndex:this._entityIndex}),n=i6(t._graphs,this._graphs);return n&&(r._graphs=n,r._size=null),r}return this.filter(r=>t.has(r))}map(t){const r=new mn({entityIndex:this._entityIndex});for(const n of this)r.add(t(n,this));return r}reduce(t,r){const n=this.readQuads();let i=r===void 0?n.next().value:r;for(const a of n)i=t(i,a,this);return i}toArray(){return this.getQuads()}toCanonical(){throw new Error("not implemented")}toStream(){return this.match()}toString(){return new qh().quadsToString(this)}union(t){const r=new mn({entityIndex:this._entityIndex});return r._graphs=nh(Object.create(null),this._graphs),r._size=this._size,r.addAll(t),r}*[Symbol.iterator](){yield*this.readQuads()}}function aa(e,t,r=0){const n=t[r];if(n&&!(n in e))return!1;let i=!1;for(const a in n?{[n]:e[n]}:e){const o=r===2?null:aa(e[a],t,r+1);o!==!1&&(i=i||Object.create(null),i[a]=o)}return i}class So extends Em.Readable{constructor(t,r,n,i,a,o){super({objectMode:!0}),Object.assign(this,{n3Store:t,subject:r,predicate:n,object:i,graph:a,options:o})}get filtered(){if(!this._filtered){const{n3Store:t,graph:r,object:n,predicate:i,subject:a}=this,o=this._filtered=new mn({factory:t._factory,entityIndex:this.options.entityIndex});let s,l,u;if(a&&!(s=o._termToNumericId(a))||i&&!(l=o._termToNumericId(i))||n&&!(u=o._termToNumericId(n)))return o;const f=t._getGraphs(r);for(const d in f){let c,p,b;!s&&l?(p=aa(f[d].predicates,[l,u,s]))&&(c=aa(f[d].subjects,[s,l,u]),b=aa(f[d].objects,[u,s,l])):u?(b=aa(f[d].objects,[u,s,l]))&&(c=aa(f[d].subjects,[s,l,u]),p=aa(f[d].predicates,[l,u,s])):(c=aa(f[d].subjects,[s,l,u]))&&(p=aa(f[d].predicates,[l,u,s]),b=aa(f[d].objects,[u,s,l])),c&&(o._graphs[d]={subjects:c,predicates:p,objects:b})}o._size=null}return this._filtered}get size(){return this.filtered.size}_read(t){t>0&&!this[vg]&&(this[vg]=this[Symbol.iterator]());const r=this[vg];for(;--t>=0;){const{done:n,value:i}=r.next();if(n){this.push(null);return}this.push(i)}}addAll(t){return this.filtered.addAll(t)}contains(t){return this.filtered.contains(t)}deleteMatches(t,r,n,i){return this.filtered.deleteMatches(t,r,n,i)}difference(t){return this.filtered.difference(t)}equals(t){return this.filtered.equals(t)}every(t,r,n,i,a){return this.filtered.every(t,r,n,i,a)}filter(t){return this.filtered.filter(t)}forEach(t,r,n,i,a){return this.filtered.forEach(t,r,n,i,a)}import(t){return this.filtered.import(t)}intersection(t){return this.filtered.intersection(t)}map(t){return this.filtered.map(t)}some(t,r,n,i,a){return this.filtered.some(t,r,n,i,a)}toCanonical(){return this.filtered.toCanonical()}toStream(){return this._filtered?this._filtered.toStream():this.n3Store.match(this.subject,this.predicate,this.object,this.graph)}union(t){return this._filtered?this._filtered.union(t):this.n3Store.match(this.subject,this.predicate,this.object,this.graph).addAll(t)}toArray(){return this._filtered?this._filtered.toArray():this.n3Store.getQuads(this.subject,this.predicate,this.object,this.graph)}reduce(t,r){return this.filtered.reduce(t,r)}toString(){return new qh().quadsToString(this)}add(t){return this.filtered.add(t)}delete(t){return this.filtered.delete(t)}has(t){return this.filtered.has(t)}match(t,r,n,i){return new So(this.filtered,t,r,n,i,this.options)}*[Symbol.iterator](){yield*this._filtered||this.n3Store.readQuads(this.subject,this.predicate,this.object,this.graph)}}class o6{dataset(t){return new mn(t)}}function s6(e){const t=[];for(const{subject:r,object:n}of e.match(null,xi.namedNode("http://www.w3.org/2000/10/swap/log#implies"),null,xi.defaultGraph())){const i=[...e.match(null,null,null,r)],a=[...e.match(null,null,null,n)];t.push({premise:i,conclusion:a})}return t}class u6{constructor(t){this._store=t}_add(t,r,n,i,a){this._store._addToIndex(i.subjects,t,r,n)&&(this._store._addToIndex(i.predicates,r,n,t),this._store._addToIndex(i.objects,n,t,r),a())}_evaluatePremise(t,r,n,i=0){let a,o,s,l,u;const[f,d,c]=t.premise[i].value,p=r[t.premise[i].content],b=!(s=f.value);for(s in b?p:{[s]:p[s]})if(l=p[s]){b&&(f.value=Number(s)),a=!(s=d.value);for(s in a?l:{[s]:l[s]})if(u=l[s]){a&&(d.value=Number(s)),o=!(s=c.value);for(s in o?u:{[s]:u[s]})o&&(c.value=Number(s)),i===t.premise.length-1?t.conclusion.forEach(v=>{this._add(v.subject.value,v.predicate.value,v.object.value,r,()=>{n(v)})}):this._evaluatePremise(t,r,n,i+1);o&&(c.value=null)}a&&(d.value=null)}b&&(f.value=null)}_evaluateRules(t,r,n){for(let i=0;i<t.length;i++)this._evaluatePremise(t[i],r,n)}_reasonGraphNaive(t,r){const n=[];function i(s){s.next&&s.next.forEach(l=>{n.push([s.subject.value,s.predicate.value,s.object.value,l])})}const a=s=>{s.forEach(l=>{this._add(l.subject.value,l.predicate.value,l.object.value,r,()=>{i(l)})})};this._evaluateRules(t,r,i);let o;for(;(o=n.pop())!==void 0;){const[s,l,u,f]=o,d=f.basePremise.subject.value;d||(f.basePremise.subject.value=s);const c=f.basePremise.predicate.value;c||(f.basePremise.predicate.value=l);const p=f.basePremise.object.value;p||(f.basePremise.object.value=u),f.premise.length===0?a(f.conclusion):this._evaluatePremise(f,r,i),d||(f.basePremise.subject.value=null),c||(f.basePremise.predicate.value=null),p||(f.basePremise.object.value=null)}}_createRule({premise:t,conclusion:r}){const n={},i=o=>o.termType==="Variable"?n[o.value]=n[o.value]||{}:{value:this._store._termToNewNumericId(o)},a=o=>({subject:i(o.subject),predicate:i(o.predicate),object:i(o.object)});return{premise:t.map(o=>a(o)),conclusion:r.map(o=>a(o)),variables:Object.values(n)}}reason(t){Array.isArray(t)||(t=s6(t)),t=t.map(n=>this._createRule(n));for(const n of t)for(const i of t)for(let a=0;a<i.premise.length;a++){const o=i.premise[a];for(const s of n.conclusion){if(wg(o.subject,s.subject)&&wg(o.predicate,s.predicate)&&wg(o.object,s.object)){const l=new Set,u=[];o.subject.value=o.subject.value||1,o.object.value=o.object.value||1,o.predicate.value=o.predicate.value||1;for(let f=0;f<i.premise.length;f++)f!==a&&u.push(e2(i.premise[f],l));(s.next=s.next||[]).push({premise:u,conclusion:i.conclusion,basePremise:o})}i.variables.forEach(l=>{l.value=null})}}for(const n of t){const i=new Set;n.premise=n.premise.map(a=>e2(a,i))}const r=this._store._getGraphs();for(const n in r)this._reasonGraphNaive(t,r[n]);this._store._size=null}}function e2({subject:e,predicate:t,object:r},n){const i=e.value||n.has(e)||(n.add(e),!1),a=t.value||n.has(t)||(n.add(t),!1),o=r.value||n.has(r)||(n.add(r),!1);return!i&&a?{content:"predicates",value:[t,r,e]}:o?{content:"objects",value:[r,e,t]}:{content:"subjects",value:[e,t,r]}}function wg(e,t){return e.value===null&&(e.value=t.value),e.value===t.value}class l6 extends Em.Transform{constructor(t){super({decodeStrings:!0}),this._readableState.objectMode=!0;const r=new _m(t);let n,i;const a={onQuad:(o,s)=>{o&&this.emit("error",o)||s&&this.push(s)},onPrefix:(o,s)=>{this.emit("prefix",o,s)}};t&&t.comments&&(a.onComment=o=>{this.emit("comment",o)}),r.parse({on:(o,s)=>{switch(o){case"data":n=s;break;case"end":i=s;break}}},a),this._transform=(o,s,l)=>{n(o),l()},this._flush=o=>{i(),o()}}import(t){return t.on("data",r=>{this.write(r)}),t.on("end",()=>{this.end()}),t.on("error",r=>{this.emit("error",r)}),this}}class f6 extends Em.Transform{constructor(t){super({encoding:"utf8",writableObjectMode:!0});const r=this._writer=new qh({write:(n,i,a)=>{this.push(n),a&&a()},end:n=>{this.push(null),n&&n()}},t);this._transform=(n,i,a)=>{r.addQuad(n,a)},this._flush=n=>{r.end(n)}}import(t){return t.on("data",r=>{this.write(r)}),t.on("end",()=>{this.end()}),t.on("error",r=>{this.emit("error",r)}),t.on("prefix",(r,n)=>{this._writer.addPrefix(r,n)}),this}}const Rz={Lexer:JE,Parser:_m,Writer:qh,Store:mn,StoreFactory:o6,EntityIndex:oS,StreamParser:l6,StreamWriter:f6,Util:YF,Reasoner:u6,DataFactory:xi,Term:ri,NamedNode:gm,Literal:Ou,BlankNode:eS,Variable:tS,DefaultGraph:rS,Quad:Fu,Triple:Fu,termFromId:Cs,termToId:Ro},Az=Object.freeze(Object.defineProperty({__proto__:null,BlankNode:eS,DataFactory:xi,DefaultGraph:rS,EntityIndex:oS,Lexer:JE,Literal:Ou,NamedNode:gm,Parser:_m,Quad:Fu,Reasoner:u6,Store:mn,StoreFactory:o6,StreamParser:l6,StreamWriter:f6,Term:ri,Triple:Fu,Util:YF,Variable:tS,Writer:qh,default:Rz,getRulesFromDataset:s6,termFromId:Cs,termToId:Ro},Symbol.toStringTag,{value:"Module"}));let t2=0;class Vr{constructor(t){Ye(this,"_exec");Ye(this,"index");this._exec=t,this.index=t2,t2+=1}asMulti(){return new zn((t,r,n)=>this.execute(t,n))}and(...t){return new Vr((r,n,i)=>{const a=this.execute(r,i),o=t.map(s=>s.execute(r,i));return[a,...o]})}orM(...t){return new zn((r,n,i)=>[this,...t].flatMap(o=>{try{return[o.execute(r,i)]}catch{return[]}}))}or(...t){return new Vr((r,n,i)=>{try{return this.execute(r,i)}catch{for(let o=0;o<t.length;o++)try{return t[o].execute(r,i)}catch{}}throw"nope"})}map(t){return new Vr((r,n,i)=>{const a=this.execute(r,i);return t(a)})}then(t){return new Vr((r,n,i)=>{const a=this.execute(r,i);return t.execute(a,i)})}execute(t,r=[]){return r[this.index]||(r[this.index]={}),this._exec(t,r[this.index],r)}}class zn extends Vr{one(t){return new Vr((r,n,i)=>this.execute(r,i)[0]||t)}expectOne(){return new Vr((t,r,n)=>{const i=this.execute(t,n);if(i.length<1)throw"Nope";return i[0]})}thenAll(t){return new zn((r,n,i)=>this.execute(r,i).flatMap(o=>{try{return[t.execute(o,i)]}catch{return[]}}))}thenSome(t){return this.thenAll(t)}thenFlat(t){return new zn((r,n,i)=>this.execute(r,i).flatMap(o=>t.execute(o,i)))}mapAll(t){return new zn((r,n,i)=>this.execute(r,i).map(t))}orAll(...t){return new zn((r,n,i)=>{const a=[];try{a.push(...this.execute(r,i))}catch{}for(let o=0;o<t.length;o++)try{a.push(...t[o].execute(r,i))}catch{}return a})}filter(t){return new zn((r,n,i)=>this.execute(r,i).filter(t))}reduce(t,r){return new Vr((n,i,a)=>this.and(r).map(([s,l])=>s.reduce((u,f)=>t.execute([f,u],a),l)).execute(n,a))}}function yi(e){return new zn(({quads:t,id:r})=>t.filter(i=>i.subject.equals(r)&&(!e||i.predicate.equals(e))).map(i=>({quads:t,id:i.object})))}function Eg(e){return new zn(({quads:t,id:r})=>t.filter(i=>i.object.equals(r)&&(!e||i.predicate.equals(e))).map(i=>({quads:t,id:i.subject})))}new Vr(({id:e,quads:t})=>({id:e.subject,quads:t}));new Vr(({id:e,quads:t})=>({id:e.predicate,quads:t}));new Vr(({id:e,quads:t})=>({id:e.object,quads:t}));function Iz(){return new Vr(e=>e)}var Ul={},Sg={},r2;function Oz(){return r2||(r2=1,Sg.__esModule=!0),Sg}var xg={},n2;function Pz(){return n2||(n2=1,xg.__esModule=!0),xg}var Tg={},i2;function Dz(){return i2||(i2=1,Tg.__esModule=!0),Tg}var Rg={},a2;function Nz(){return a2||(a2=1,Rg.__esModule=!0),Rg}var Ag={},o2;function Cz(){return o2||(o2=1,function(e){e.__esModule=!0,e.RelationType=void 0,function(t){t.Relation="https://w3id.org/tree#Relation",t.Substring="https://w3id.org/tree#SubstringRelation",t.Prefix="https://w3id.org/tree#PrefixRelation",t.Suffix="https://w3id.org/tree#SuffixRelation",t.GreaterThan="https://w3id.org/tree#GreaterThanRelation",t.GreaterThanOrEqualTo="https://w3id.org/tree#GreaterThanOrEqualToRelation",t.LessThan="https://w3id.org/tree#LessThanRelation",t.LessThanOrEqualTo="https://w3id.org/tree#LessThanOrEqualToRelation",t.EqualThan="https://w3id.org/tree#EqualThanRelation",t.GeospatiallyContains="https://w3id.org/tree#GeospatiallyContainsRelation"}(e.RelationType||(e.RelationType={}))}(Ag)),Ag}var us={},N0={exports:{}},Lz=N0.exports,s2;function Mz(){return s2||(s2=1,function(e){(function(t,r){e.exports?e.exports=r():t.log=r()})(Lz,function(){var t=function(){},r="undefined",n=typeof window!==r&&typeof window.navigator!==r&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"],a={},o=null;function s(v,_){var y=v[_];if(typeof y.bind=="function")return y.bind(v);try{return Function.prototype.bind.call(y,v)}catch{return function(){return Function.prototype.apply.apply(y,[v,arguments])}}}function l(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function u(v){return v==="debug"&&(v="log"),typeof console===r?!1:v==="trace"&&n?l:console[v]!==void 0?s(console,v):console.log!==void 0?s(console,"log"):t}function f(){for(var v=this.getLevel(),_=0;_<i.length;_++){var y=i[_];this[y]=_<v?t:this.methodFactory(y,v,this.name)}if(this.log=this.debug,typeof console===r&&v<this.levels.SILENT)return"No console available for logging"}function d(v){return function(){typeof console!==r&&(f.call(this),this[v].apply(this,arguments))}}function c(v,_,y){return u(v)||d.apply(this,arguments)}function p(v,_){var y=this,m,g,E,T="loglevel";typeof v=="string"?T+=":"+v:typeof v=="symbol"&&(T=void 0);function I(j){var O=(i[j]||"silent").toUpperCase();if(!(typeof window===r||!T)){try{window.localStorage[T]=O;return}catch{}try{window.document.cookie=encodeURIComponent(T)+"="+O+";"}catch{}}}function D(){var j;if(!(typeof window===r||!T)){try{j=window.localStorage[T]}catch{}if(typeof j===r)try{var O=window.document.cookie,q=encodeURIComponent(T),Q=O.indexOf(q+"=");Q!==-1&&(j=/^([^;]+)/.exec(O.slice(Q+q.length+1))[1])}catch{}return y.levels[j]===void 0&&(j=void 0),j}}function B(){if(!(typeof window===r||!T)){try{window.localStorage.removeItem(T)}catch{}try{window.document.cookie=encodeURIComponent(T)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}function N(j){var O=j;if(typeof O=="string"&&y.levels[O.toUpperCase()]!==void 0&&(O=y.levels[O.toUpperCase()]),typeof O=="number"&&O>=0&&O<=y.levels.SILENT)return O;throw new TypeError("log.setLevel() called with invalid level: "+j)}y.name=v,y.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},y.methodFactory=_||c,y.getLevel=function(){return E??g??m},y.setLevel=function(j,O){return E=N(j),O!==!1&&I(E),f.call(y)},y.setDefaultLevel=function(j){g=N(j),D()||y.setLevel(j,!1)},y.resetLevel=function(){E=null,B(),f.call(y)},y.enableAll=function(j){y.setLevel(y.levels.TRACE,j)},y.disableAll=function(j){y.setLevel(y.levels.SILENT,j)},y.rebuild=function(){if(o!==y&&(m=N(o.getLevel())),f.call(y),o===y)for(var j in a)a[j].rebuild()},m=N(o?o.getLevel():"WARN");var M=D();M!=null&&(E=N(M)),f.call(y)}o=new p,o.getLogger=function(_){if(typeof _!="symbol"&&typeof _!="string"||_==="")throw new TypeError("You must supply a name when creating a logger.");var y=a[_];return y||(y=a[_]=new p(_,o.methodFactory)),y};var b=typeof window!==r?window.log:void 0;return o.noConflict=function(){return typeof window!==r&&window.log===o&&(window.log=b),o},o.getLoggers=function(){return a},o.default=o,o})}(N0)),N0.exports}var C0={exports:{}},kz=C0.exports,u2;function Fz(){return u2||(u2=1,function(e){(function(t,r){e.exports?e.exports=r():t.prefix=r(t)})(kz,function(t){var r=function(f){for(var d=1,c=arguments.length,p;d<c;d++)for(p in arguments[d])Object.prototype.hasOwnProperty.call(arguments[d],p)&&(f[p]=arguments[d][p]);return f},n={template:"[%t] %l:",levelFormatter:function(f){return f.toUpperCase()},nameFormatter:function(f){return f||"root"},timestampFormatter:function(f){return f.toTimeString().replace(/.*(\d{2}:\d{2}:\d{2}).*/,"$1")},format:void 0},i,a={},o=function(f){if(!f||!f.getLogger)throw new TypeError("Argument is not a root logger");i=f},s=function(f,d){if(!f||!f.setLevel)throw new TypeError("Argument is not a logger");var c=f.methodFactory,p=f.name||"",b=a[p]||a[""]||n;function v(_,y,m){var g=c(_,y,m),E=a[m]||a[""],T=E.template.indexOf("%t")!==-1,I=E.template.indexOf("%l")!==-1,D=E.template.indexOf("%n")!==-1;return function(){for(var B="",N=arguments.length,M=Array(N),j=0;j<N;j++)M[j]=arguments[j];if(p||!a[m]){var O=E.timestampFormatter(new Date),q=E.levelFormatter(_),Q=E.nameFormatter(m);E.format?B+=E.format(q,Q,O):(B+=E.template,T&&(B=B.replace(/%t/,O)),I&&(B=B.replace(/%l/,q)),D&&(B=B.replace(/%n/,Q))),M.length&&typeof M[0]=="string"?M[0]=B+" "+M[0]:M.unshift(B)}g.apply(void 0,M)}}return a[p]||(f.methodFactory=v),d=d||{},d.template&&(d.format=void 0),a[p]=r({},b,d),f.setLevel(f.getLevel()),i||f.warn("It is necessary to call the function reg() of loglevel-plugin-prefix before calling apply. From the next release, it will throw an error. See more: https://github.com/kutuluk/loglevel-plugin-prefix/blob/master/README.md"),f},l={reg:o,apply:s},u;return t&&(u=t.prefix,l.noConflict=function(){return t.prefix===l&&(t.prefix=u),l}),l})}(C0)),C0.exports}var l2;function jz(){if(l2)return us;l2=1,us.__esModule=!0,us.getLogger=us.LoggerBrowser=void 0;var e=Mz(),t=Fz(),r=function(){function a(o,s){var l=typeof o=="string"?o:o.constructor.name;s=s&&n(s)?s:"info",e.setDefaultLevel("info"),s&&n(s)&&e.setLevel(s),t.reg(e),t.apply(e,{template:"%t [%n] %l:",levelFormatter:function(u){return u},nameFormatter:function(u){return u||"global"},timestampFormatter:function(u){return u.toISOString()}}),this.logger=e.getLogger(l)}return a.prototype.error=function(o){this.logger.error(o)},a.prototype.warn=function(o){this.logger.warn(o)},a.prototype.info=function(o){this.logger.info(o)},a.prototype.debug=function(o){this.logger.debug(o)},a.prototype.trace=function(o){this.logger.trace(o)},a}();us.LoggerBrowser=r;function n(a){return a=a.toUpperCase(),Object.keys(e.levels).includes(a)}var i=function(a){return new r(a,"info")};return us.getLogger=i,us}var Mt={},Hl={},Vl={},f2;function c6(){if(f2)return Vl;f2=1,Object.defineProperty(Vl,"__esModule",{value:!0}),Vl.BlankNode=void 0;class e{constructor(r){this.termType="BlankNode",this.value=r}equals(r){return!!r&&r.termType==="BlankNode"&&r.value===this.value}}return Vl.BlankNode=e,Vl}var zl={},Wl={},c2;function d6(){if(c2)return Wl;c2=1,Object.defineProperty(Wl,"__esModule",{value:!0}),Wl.DefaultGraph=void 0;class e{constructor(){this.termType="DefaultGraph",this.value=""}equals(r){return!!r&&r.termType==="DefaultGraph"}}return Wl.DefaultGraph=e,e.INSTANCE=new e,Wl}var Gl={},Kl={},d2;function sS(){if(d2)return Kl;d2=1,Object.defineProperty(Kl,"__esModule",{value:!0}),Kl.NamedNode=void 0;class e{constructor(r){this.termType="NamedNode",this.value=r}equals(r){return!!r&&r.termType==="NamedNode"&&r.value===this.value}}return Kl.NamedNode=e,Kl}var h2;function h6(){if(h2)return Gl;h2=1,Object.defineProperty(Gl,"__esModule",{value:!0}),Gl.Literal=void 0;const e=sS();class t{constructor(n,i){this.termType="Literal",this.value=n,typeof i=="string"?(this.language=i,this.datatype=t.RDF_LANGUAGE_STRING):i?(this.language="",this.datatype=i):(this.language="",this.datatype=t.XSD_STRING)}equals(n){return!!n&&n.termType==="Literal"&&n.value===this.value&&n.language===this.language&&this.datatype.equals(n.datatype)}}return Gl.Literal=t,t.RDF_LANGUAGE_STRING=new e.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.XSD_STRING=new e.NamedNode("http://www.w3.org/2001/XMLSchema#string"),Gl}var Zl={},p2;function p6(){if(p2)return Zl;p2=1,Object.defineProperty(Zl,"__esModule",{value:!0}),Zl.Quad=void 0;class e{constructor(r,n,i,a){this.termType="Quad",this.value="",this.subject=r,this.predicate=n,this.object=i,this.graph=a}equals(r){return!!r&&(r.termType==="Quad"||!r.termType)&&this.subject.equals(r.subject)&&this.predicate.equals(r.predicate)&&this.object.equals(r.object)&&this.graph.equals(r.graph)}}return Zl.Quad=e,Zl}var Yl={},m2;function m6(){if(m2)return Yl;m2=1,Object.defineProperty(Yl,"__esModule",{value:!0}),Yl.Variable=void 0;class e{constructor(r){this.termType="Variable",this.value=r}equals(r){return!!r&&r.termType==="Variable"&&r.value===this.value}}return Yl.Variable=e,Yl}var y2;function Bz(){if(y2)return zl;y2=1,Object.defineProperty(zl,"__esModule",{value:!0}),zl.DataFactory=void 0;const e=c6(),t=d6(),r=h6(),n=sS(),i=p6(),a=m6();let o=0;class s{constructor(u){this.blankNodeCounter=0,u=u||{},this.blankNodePrefix=u.blankNodePrefix||`df_${o++}_`}namedNode(u){return new n.NamedNode(u)}blankNode(u){return new e.BlankNode(u||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(u,f){return new r.Literal(u,f)}variable(u){return new a.Variable(u)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(u,f,d,c){return new i.Quad(u,f,d,c||this.defaultGraph())}fromTerm(u){switch(u.termType){case"NamedNode":return this.namedNode(u.value);case"BlankNode":return this.blankNode(u.value);case"Literal":return u.language?this.literal(u.value,u.language):u.datatype.equals(r.Literal.XSD_STRING)?this.literal(u.value):this.literal(u.value,this.fromTerm(u.datatype));case"Variable":return this.variable(u.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(u.subject),this.fromTerm(u.predicate),this.fromTerm(u.object),this.fromTerm(u.graph))}}fromQuad(u){return this.fromTerm(u)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return zl.DataFactory=s,zl}var g2;function Jr(){return g2||(g2=1,function(e){var t=Hl.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=Hl.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(c6(),e),r(Bz(),e),r(d6(),e),r(h6(),e),r(sS(),e),r(p6(),e),r(m6(),e)}(Hl)),Hl}var _2;function qz(){if(_2)return Mt;_2=1;var e=Mt.__spreadArray||function(s,l,u){if(u||arguments.length===2)for(var f=0,d=l.length,c;f<d;f++)(c||!(f in l))&&(c||(c=Array.prototype.slice.call(l,0,f)),c[f]=l[f]);return s.concat(c||Array.prototype.slice.call(l))};Mt.__esModule=!0,Mt.EX=Mt.SHACL=Mt.VOID=Mt.PPLAN=Mt.PROV=Mt.SDS=Mt.LDES=Mt.TREE=Mt.XSD=Mt.RDFS=Mt.RDF=Mt.FOAF=Mt.DC=Mt.createUriAndTermNamespace=Mt.createTermNamespace=Mt.createUriNamespace=Mt.createNamespace=void 0;var t=Jr(),r=new t.DataFactory;function n(s,l){for(var u=[],f=2;f<arguments.length;f++)u[f-2]=arguments[f];var d={};d.namespace=l(s),d.custom=function(v){return l(s+v)};for(var c=0,p=u;c<p.length;c++){var b=p[c];d[b]=l("".concat(s).concat(b))}return d}Mt.createNamespace=n;function i(s){for(var l=[],u=1;u<arguments.length;u++)l[u-1]=arguments[u];return n.apply(void 0,e([s,function(f){return f}],l,!1))}Mt.createUriNamespace=i;function a(s){for(var l=[],u=1;u<arguments.length;u++)l[u-1]=arguments[u];return n.apply(void 0,e([s,r.namedNode],l,!1))}Mt.createTermNamespace=a;function o(s){for(var l=[],u=1;u<arguments.length;u++)l[u-1]=arguments[u];return Object.assign(i.apply(void 0,e([s],l,!1)),{terms:a.apply(void 0,e([s],l,!1))})}return Mt.createUriAndTermNamespace=o,Mt.DC=o("http://purl.org/dc/terms/","description","modified","title"),Mt.FOAF=o("http://xmlns.com/foaf/0.1/","Agent"),Mt.RDF=o("http://www.w3.org/1999/02/22-rdf-syntax-ns#","type","Class","Property","nil","rest","first"),Mt.RDFS=o("http://www.w3.org/2000/01/rdf-schema#","label","comment","domain","range","isDefinedBy","Class","subClassOf"),Mt.XSD=o("http://www.w3.org/2001/XMLSchema#","dateTime","integer","string"),Mt.TREE=o("https://w3id.org/tree#","Collection","Relation","Node","Member","member","view","value","relation","PrefixRelation","SubstringRelation","SuffixRelation","GreaterThanRelation","GreaterThanOrEqualToRelation","LessThanRelation","LessThanOrEqualToRelation","EqualToRelation","GeospatiallyContainsRelation","path","node","shape","search","ConditionalImport","import","importStream","remainingItems","zoom","latitudeTile","longitudeTile"),Mt.LDES=o("https://w3id.org/ldes#","EventStream","timestampPath","versionOfPath","DurationAgoPolicy","Bucketization","retentionPolicy","amount","bucket","bucketProperty","bucketType","LatestVersionSubset","BucketizeStrategy"),Mt.SDS=o("https://w3id.org/sds#","Member","Record","ImmutableMember","shape","carries","dataset","Stream","payload","bucket","relationType","relationBucket","relationValue","relationPath","stream","relation"),Mt.PROV=o("http://www.w3.org/ns/prov#","used","startedAtTime","wasGeneratedBy"),Mt.PPLAN=o("http://purl.org/net/p-plan#","Activity"),Mt.VOID=o("http://rdfs.org/ns/void#","Dataset","DatasetDescription","Linkset","TechnicalFeature","feature","sparqlEndpoint","dataDump","rootResource","exampleResource","uriLookupEndpoint","openSearchDescription","uriSpace","uriRegexPattern","vocabulary","subset","propertyPartition","triples","entities","class","classes","classPartition","property","properties","distinctSubjects","distinctObjects","documents","target","subjectsTarget","objectsTarget","linkPredicate","inDataset"),Mt.SHACL=o("http://www.w3.org/ns/shacl#","NodeShape","targetClass","property","path","name","alternativePath","datatype","nodeKind","pattern","flags","minExclusive","minInclusive","maxExclusive","maxInclusive","not","and","or","xone","in","hasValue","defaultValue","minCount","maxCount"),Mt.EX=o("http://example.org/ns#"),Mt}var b2;function y6(){return b2||(b2=1,function(e){var t=Ul.__createBinding||(Object.create?function(i,a,o,s){s===void 0&&(s=o),Object.defineProperty(i,s,{enumerable:!0,get:function(){return a[o]}})}:function(i,a,o,s){s===void 0&&(s=o),i[s]=a[o]}),r=Ul.__exportStar||function(i,a){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(a,o)&&t(a,i,o)};e.__esModule=!0,e.getLogger=e.Logger=e.LoggerBrowser=void 0,r(Oz(),e),r(Pz(),e),r(Dz(),e),r(Nz(),e),r(Cz(),e);var n=jz();t(e,n,"LoggerBrowser"),t(e,n,"LoggerBrowser","Logger"),t(e,n,"getLogger"),r(qz(),e)}(Ul)),Ul}var mt=y6(),Ql={},Xl={},v2;function g6(){if(v2)return Xl;v2=1,Object.defineProperty(Xl,"__esModule",{value:!0}),Xl.BlankNode=void 0;let e=class{constructor(r){this.termType="BlankNode",this.value=r}equals(r){return!!r&&r.termType==="BlankNode"&&r.value===this.value}};return Xl.BlankNode=e,Xl}var Jl={},ef={},w2;function _6(){if(w2)return ef;w2=1,Object.defineProperty(ef,"__esModule",{value:!0}),ef.DefaultGraph=void 0;let e=class{constructor(){this.termType="DefaultGraph",this.value=""}equals(r){return!!r&&r.termType==="DefaultGraph"}};return ef.DefaultGraph=e,e.INSTANCE=new e,ef}var tf={},rf={},E2;function uS(){if(E2)return rf;E2=1,Object.defineProperty(rf,"__esModule",{value:!0}),rf.NamedNode=void 0;let e=class{constructor(r){this.termType="NamedNode",this.value=r}equals(r){return!!r&&r.termType==="NamedNode"&&r.value===this.value}};return rf.NamedNode=e,rf}var S2;function b6(){if(S2)return tf;S2=1,Object.defineProperty(tf,"__esModule",{value:!0}),tf.Literal=void 0;const e=uS();let t=class qd{constructor(n,i){this.termType="Literal",this.value=n,typeof i=="string"?(this.language=i,this.datatype=qd.RDF_LANGUAGE_STRING,this.direction=""):i?"termType"in i?(this.language="",this.datatype=i,this.direction=""):(this.language=i.language,this.datatype=i.direction?qd.RDF_DIRECTIONAL_LANGUAGE_STRING:qd.RDF_LANGUAGE_STRING,this.direction=i.direction||""):(this.language="",this.datatype=qd.XSD_STRING,this.direction="")}equals(n){return!!n&&n.termType==="Literal"&&n.value===this.value&&n.language===this.language&&(n.direction===this.direction||!n.direction&&this.direction==="")&&this.datatype.equals(n.datatype)}};return tf.Literal=t,t.RDF_LANGUAGE_STRING=new e.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.RDF_DIRECTIONAL_LANGUAGE_STRING=new e.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#dirLangString"),t.XSD_STRING=new e.NamedNode("http://www.w3.org/2001/XMLSchema#string"),tf}var nf={},x2;function v6(){if(x2)return nf;x2=1,Object.defineProperty(nf,"__esModule",{value:!0}),nf.Quad=void 0;let e=class{constructor(r,n,i,a){this.termType="Quad",this.value="",this.subject=r,this.predicate=n,this.object=i,this.graph=a}equals(r){return!!r&&(r.termType==="Quad"||!r.termType)&&this.subject.equals(r.subject)&&this.predicate.equals(r.predicate)&&this.object.equals(r.object)&&this.graph.equals(r.graph)}};return nf.Quad=e,nf}var af={},T2;function w6(){if(T2)return af;T2=1,Object.defineProperty(af,"__esModule",{value:!0}),af.Variable=void 0;let e=class{constructor(r){this.termType="Variable",this.value=r}equals(r){return!!r&&r.termType==="Variable"&&r.value===this.value}};return af.Variable=e,af}var R2;function $z(){if(R2)return Jl;R2=1,Object.defineProperty(Jl,"__esModule",{value:!0}),Jl.DataFactory=void 0;const e=g6(),t=_6(),r=b6(),n=uS(),i=v6(),a=w6();let o=0,s=class{constructor(u){this.blankNodeCounter=0,u=u||{},this.blankNodePrefix=u.blankNodePrefix||`df_${o++}_`}namedNode(u){return new n.NamedNode(u)}blankNode(u){return new e.BlankNode(u||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(u,f){return new r.Literal(u,f)}variable(u){return new a.Variable(u)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(u,f,d,c){return new i.Quad(u,f,d,c||this.defaultGraph())}fromTerm(u){switch(u.termType){case"NamedNode":return this.namedNode(u.value);case"BlankNode":return this.blankNode(u.value);case"Literal":return u.language?this.literal(u.value,u.language):u.datatype.equals(r.Literal.XSD_STRING)?this.literal(u.value):this.literal(u.value,this.fromTerm(u.datatype));case"Variable":return this.variable(u.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(u.subject),this.fromTerm(u.predicate),this.fromTerm(u.object),this.fromTerm(u.graph))}}fromQuad(u){return this.fromTerm(u)}resetBlankNodeCounter(){this.blankNodeCounter=0}};return Jl.DataFactory=s,Jl}var A2;function Uz(){return A2||(A2=1,function(e){var t=Ql.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=Ql.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(g6(),e),r($z(),e),r(_6(),e),r(b6(),e),r(uS(),e),r(v6(),e),r(w6(),e)}(Ql)),Ql}var Zw=Uz();mt.createTermNamespace("http://www.w3.org/2000/01/rdf-schema#","subClassOf");const ih=mt.createTermNamespace("http://www.w3.org/ns/shacl#","Shape","NodeShape","PropertyShape","targetNode","targetClass","targetSubjectsOf","targetObjectsOf","property","path","class","name","description","defaultValue","alternativePath","zeroOrMorePath","oneOrMorePath","zeroOrOnePath","inversePath","minCount","maxCount","datatype"),of=mt.createUriAndTermNamespace("https://w3id.org/rdf-lens/ontology#","CBD","PathLens","Context","TypedExtract","EnvVariable","envKey","envDefault","datatype");var Hz={};const{literal:Vz,quad:Yee}=new Zw.DataFactory,zz=yi(mt.RDF.terms.first).expectOne().and(yi(mt.RDF.terms.rest).expectOne()),Sm=new Vr((e,t,r)=>{if(e.id.equals(mt.RDF.terms.nil))return[];const[n,i]=zz.execute(e,r),a=Sm.execute(i,r);return a.unshift(n.id),a}),Wz=new Vr((e,t,r)=>{const n=Sm.execute(e,r),i=n.map(o=>lS.execute({id:o,quads:e.quads}));if(i.length===0)return new zn(o=>[o]);let a=i[0];for(let o=1;o<n.length;o++)a=a.thenFlat(i[o]);return a}),Gz=new Vr((e,t,r)=>{const i=yi(ih.alternativePath).one().then(Sm).execute(e,r).map(a=>lS.execute({id:a,quads:e.quads},r));return i[0].orAll(...i.slice(1))}),Kz=Qz(mt.XSD.terms.custom("iri")).map(yi),Zz=yi(ih.inversePath).one().then(new Vr((e,t,r)=>{const n=Sm.execute(e,r);if(n.length===0)return new zn(a=>[a]);n.reverse();let i=Eg(n[0]);for(let a=1;a<n.length;a++)i=i.thenFlat(Eg(n[a]));return i}).or(new Vr(e=>Eg(e.id))));function Ig(e,t,r){return yi(e).one().then(new Vr((n,i,a)=>lS.execute(n,a))).map(n=>new zn((i,a,o)=>{const s=[];let l=[i],u=0;for(t==0&&s.push(i);l.length>0;){u+=1;const f=l.slice();l=[];for(const d of f)try{const c=n.execute(d,o);console.log("adding ",c.length,"news"),l.push(...c),u>=t&&(!r||u<=r)&&s.push(d)}catch(c){console.log(c),u>=t&&(!r||u<=r)&&s.push(d);break}}return s}))}const lS=Wz.or(Gz,Zz,Ig(ih.zeroOrMorePath,0),Ig(ih.zeroOrMorePath,1),Ig(ih.zeroOrOnePath,0,1),Kz);function E6(e,t){return e.equals(mt.XSD.terms.integer)||e.equals(mt.XSD.terms.custom("float"))||e.equals(mt.XSD.terms.custom("double"))||e.equals(mt.XSD.terms.custom("decimal"))?+t.value:e.equals(mt.XSD.terms.string)?t.value:e.equals(mt.XSD.terms.dateTime)?new Date(t.value):e.equals(mt.XSD.terms.custom("boolean"))?t.value==="true":e.equals(mt.XSD.terms.custom("iri"))?new Zw.NamedNode(t.value):e.equals(mt.XSD.terms.custom("anyURI"))?new Zw.NamedNode(t.value):t}function Yz(e){const t=yi(mt.RDF.terms.type).thenSome(new Vr(({id:a})=>{if(!a.equals(of.terms.EnvVariable))throw"expected type "+of.EnvVariable;return{checked:!0}})).expectOne(),r=yi(of.terms.envKey).one().map(({id:a})=>({key:a.value})),n=yi(of.terms.envDefault).one(void 0).map(a=>({defaultValue:a==null?void 0:a.id.value})),i=yi(of.terms.datatype).one(void 0).map(a=>({dt:a==null?void 0:a.id}));return t.and(r,n,i).map(([a,{key:o},{defaultValue:s},{dt:l}])=>{const u=Hz[o]||s,f=e||l||mt.XSD.terms.custom("literal");if(u)return E6(f,Vz(u));throw"Nothing set for ENV "+o+". No default was set either!"})}function Qz(e){return Yz(e).or(Iz().map(t=>E6(e,t.id)))}new zn(({id:e,quads:t})=>{const r=new Set,n=[e],i=[];let a=n.pop();for(;a;){const o=t.filter(s=>s.subject.equals(a));i.push(...o);for(const s of o){const l=s.object;l.termType==="BlankNode"&&(r.has(l.value)||(r.add(l.value),n.push(l)))}a=n.pop()}return i});var sf={},uf={},lf={},Og={},ff={},I2;function Xz(){if(I2)return ff;I2=1,Object.defineProperty(ff,"__esModule",{value:!0}),ff.LinkedList=void 0;class e{constructor(){this._length=0,this._head=null,this._tail=null}get length(){return this._length}get first(){var r;return(r=this._head)===null||r===void 0?void 0:r.value}get last(){var r;return(r=this._tail)===null||r===void 0?void 0:r.value}get empty(){return this._head===null}push(r){const n={value:r,next:null};this._tail===null?this._head=this._tail=n:this._tail.next=this._tail=n,this._length++}shift(){if(this._head===null)return;const{value:r,next:n}=this._head;return this._head=n,n===null&&(this._tail=null),this._length--,r}clear(){this._length=0,this._head=this._tail=null}}return ff.LinkedList=e,ff}var cf={},O2;function Jz(){if(O2)return cf;O2=1,Object.defineProperty(cf,"__esModule",{value:!0}),cf.createTaskScheduler=void 0;const e=Promise.resolve(void 0);function t(){const r=typeof queueMicrotask=="function"?queueMicrotask:o=>e.then(o),n=typeof setImmediate=="function"?setImmediate:o=>setTimeout(o,0);let i=0,a=null;return o=>{a!==null?a.push(o):++i<100?r(o):(a=[o],n(()=>{for(const s of a)r(s);a=null,i=0}))}}return cf.createTaskScheduler=t,cf}var P2;function S6(){return P2||(P2=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isIterator=e.isIterable=e.isSourceExpression=e.isPromise=e.isEventEmitter=e.isFunction=e.range=e.union=e.fromIterable=e.fromIterator=e.fromArray=e.single=e.empty=e.wrap=e.WrappingIterator=e.ClonedIterator=e.UnionIterator=e.MultiTransformIterator=e.SimpleTransformIterator=e.TransformIterator=e.BufferedIterator=e.MappingIterator=e.DESTINATION=e.identity=e.IntegerIterator=e.ArrayIterator=e.SingletonIterator=e.EmptyIterator=e.AsyncIterator=e.DESTROYED=e.ENDED=e.CLOSED=e.CLOSING=e.OPEN=e.INIT=e.setTaskScheduler=e.getTaskScheduler=e.scheduleTask=e.LinkedList=void 0;const t=Kn(),r=Xz();Object.defineProperty(e,"LinkedList",{enumerable:!0,get:function(){return r.LinkedList}});let i=Jz().createTaskScheduler();function a(w){i(w)}e.scheduleTask=a;function o(){return i}e.getTaskScheduler=o;function s(w){i=w}e.setTaskScheduler=s,e.INIT=1,e.OPEN=2,e.CLOSING=4,e.CLOSED=8,e.ENDED=16,e.DESTROYED=32;class l extends t.EventEmitter{constructor(x=e.OPEN){super(),this._readable=!1,this._state=x,this.on("newListener",u)}_changeState(x,k=!1){const U=x>this._state&&this._state<e.ENDED;return U&&(this._state=x,x===e.ENDED&&(k?i(()=>this.emit("end")):this.emit("end"))),U}read(){return null}forEach(x,k){this.on("data",ee(x,k))}close(){this._changeState(e.CLOSED)&&this._endAsync()}destroy(x){this.done||this._destroy(x,k=>{x=x||k,x&&this.emit("error",x),this._end(!0)})}_destroy(x,k){k()}_end(x=!1){this._changeState(x?e.DESTROYED:e.ENDED)&&(this._readable=!1,this.removeAllListeners("readable"),this.removeAllListeners("data"),this.removeAllListeners("end"))}_endAsync(){i(()=>this._end())}get readable(){return this._readable}set readable(x){x=!!x&&!this.done,this._readable!==x&&(this._readable=x,x&&i(()=>this.emit("readable")))}get closed(){return this._state>=e.CLOSING}get ended(){return this._state===e.ENDED}get destroyed(){return this._state===e.DESTROYED}get done(){return this._state>=e.ENDED}toString(){const x=this._toStringDetails();return`[${this.constructor.name}${x?` ${x}`:""}]`}_toStringDetails(){return""}toArray(x){const k=[],U=typeof(x==null?void 0:x.limit)=="number"?x.limit:1/0;return this.ended||U<=0?Promise.resolve(k):new Promise((re,fe)=>{const ve=()=>re(k),ce=Ie=>{k.push(Ie),k.length>=U&&(this.removeListener("error",fe),this.removeListener("data",ce),this.removeListener("end",ve),re(k))};this.on("error",fe),this.on("data",ce),this.on("end",ve)})}getProperty(x,k){const U=this._properties;if(!k)return U&&U[x];if(U&&x in U)i(()=>k(U[x]));else{let re;(re=this._propertyCallbacks)||(this._propertyCallbacks=re=Object.create(null)),x in re?re[x].push(k):re[x]=[k]}}setProperty(x,k){const U=this._properties||(this._properties=Object.create(null));U[x]=k;const re=this._propertyCallbacks||{},fe=re[x];if(fe){delete re[x],i(()=>{for(const ve of fe)ve(k)});for(x in re)return;delete this._propertyCallbacks}}getProperties(){const x=this._properties,k={};for(const U in x)k[U]=x[U];return k}setProperties(x){for(const k in x)this.setProperty(k,x[k])}copyProperties(x,k){for(const U of k)x.getProperty(U,re=>this.setProperty(U,re))}transform(x){return new M(this,x)}map(x,k){return new y(this,ee(x,k))}filter(x,k){return this.map(function(U){return x.call(k||this,U)?U:null})}uniq(x=_){const k=new Set;return this.filter(function(U){const re=x.call(this,U);return k.has(re)?!1:(k.add(re),!0)})}prepend(x){return this.transform({prepend:x})}append(x){return this.transform({append:x})}surround(x,k){return this.transform({prepend:x,append:k})}skip(x){return this.map(k=>x-- >0?null:k)}take(x){return this.transform({limit:x})}range(x,k){return this.transform({offset:x,limit:Math.max(k-x+1,0)})}clone(){return new Q(this)}[Symbol.asyncIterator](){const x=this;let k=null,U=null,re=null;x.addListener("readable",fe),x.addListener("end",fe),x.addListener("error",ve);function fe(){if(k!==null)if(re!==null)ve(re);else if(x.done)k({done:!0,value:void 0}),k=U=null,ce();else{const Ie=x.read();Ie!==null&&(k({done:!1,value:Ie}),k=U=null)}}function ve(Ie){U!==null?(U(Ie),k=U=re=null,ce()):re===null&&(re=Ie)}function ce(){x.removeListener("readable",fe),x.removeListener("end",fe),x.removeListener("error",ve)}return{next(){return new Promise((Ie,be)=>{k=Ie,U=be,fe()})}}}}e.AsyncIterator=l;function u(w){w==="data"&&(this.removeListener("newListener",u),d(this,"readable",f),this.readable&&i(()=>f.call(this)))}function f(){let w;for(;this.listenerCount("data")!==0&&(w=this.read())!==null;)this.emit("data",w);this.listenerCount("data")===0&&!this.done&&(this.removeListener("readable",f),d(this,"newListener",u))}function d(w,x,k){w.listeners(x).includes(k)||w.on(x,k)}class c extends l{constructor(){super(),this._changeState(e.ENDED,!0)}}e.EmptyIterator=c;class p extends l{constructor(x){super(),this._item=x,x===null?this.close():this.readable=!0}read(){const x=this._item;return this._item=null,this.close(),x}_toStringDetails(){return this._item===null?"":`(${this._item})`}}e.SingletonIterator=p;class b extends l{constructor(x=[],{autoStart:k=!0,preserve:U=!0}={}){super();const re=U||!Array.isArray(x)?[...x]:x;this._index=0,this._sourceStarted=k!==!1,this._truncateThreshold=U?-1:64,this._sourceStarted&&re.length===0?this.close():this._buffer=re,this.readable=!0}read(){this._sourceStarted||(this._sourceStarted=!0);let x=null;return this._buffer&&(this._index<this._buffer.length&&(x=this._buffer[this._index++]),this._index===this._buffer.length?(delete this._buffer,this.close()):this._index===this._truncateThreshold&&(this._buffer.splice(0,this._truncateThreshold),this._index=0)),x}_toStringDetails(){return`(${this._buffer?this._buffer.length-this._index:0})`}_destroy(x,k){delete this._buffer,k()}toArray(x={}){if(!this._buffer)return Promise.resolve([]);const{length:k}=this._buffer,U=this._index,re=typeof x.limit!="number"?k:U+x.limit,fe=this._buffer.slice(U,re);return this._index=re,re>=k&&this.close(),Promise.resolve(fe)}}e.ArrayIterator=b;class v extends l{constructor({start:x=0,step:k=1,end:U}={}){super(),Number.isFinite(x)&&(x=Math.trunc(x)),this._next=x,Number.isFinite(k)&&(k=Math.trunc(k)),this._step=k;const re=k>=0,fe=re?1/0:-1/0;Number.isFinite(U)?U=Math.trunc(U):U!==-fe&&(U=fe),this._last=U,!Number.isFinite(x)||(re?x>U:x<U)?this.close():this.readable=!0}read(){if(this.closed)return null;const x=this._next,k=this._step,U=this._last,re=this._next+=k;return(k>=0?re>U:re<U)&&this.close(),x}_toStringDetails(){return`(${this._next}...${this._last})`}}e.IntegerIterator=v;function _(w){return w}e.identity=_,e.DESTINATION=Symbol("destination");class y extends l{constructor(x,k=_,U={}){super(),this._map=k,this._source=m(x),this._destroySource=U.destroySource!==!1,x.done?this.close():(this._source[e.DESTINATION]=this,this._source.on("end",D),this._source.on("error",I),this._source.on("readable",T),this.readable=this._source.readable)}read(){if(!this.done){if(this._source.readable){let x,k;for(;(x=this._source.read())!==null;)if((k=this._map(x))!==null)return k}this.readable=!1,this._source.done&&this.close()}return null}_end(x){this._source.removeListener("end",D),this._source.removeListener("error",I),this._source.removeListener("readable",T),delete this._source[e.DESTINATION],this._destroySource&&this._source.destroy(),super._end(x)}}e.MappingIterator=y;function m(w,x=!1){if(!w||!P(w.read)||!P(w.on))throw new TypeError(`Invalid source: ${w}`);if(!x&&w[e.DESTINATION])throw new Error("The source already has a destination");return w}class g extends l{constructor({maxBufferSize:x=4,autoStart:k=!0}={}){super(e.INIT),this._buffer=new r.LinkedList,this._maxBufferSize=4,this._reading=!0,this._pushedCount=0,this.maxBufferSize=x,i(()=>this._init(k)),this._sourceStarted=k!==!1}get maxBufferSize(){return this._maxBufferSize}set maxBufferSize(x){x!==1/0&&(x=Number.isFinite(x)?Math.max(Math.trunc(x),1):4),this._maxBufferSize!==x&&(this._maxBufferSize=x,this._state===e.OPEN&&this._fillBuffer())}_init(x){let k=!1;this._reading=!0,this._begin(()=>{if(k)throw new Error("done callback called multiple times");k=!0,this._reading=!1,this._changeState(e.OPEN),x?this._fillBufferAsync():this.readable=!0})}_begin(x){x()}read(){if(this.done)return null;this._sourceStarted||(this._sourceStarted=!0);const x=this._buffer;let k;return x.empty?(k=null,this.readable=!1):k=x.shift(),!this._reading&&x.length<this._maxBufferSize&&(this.closed?x.empty&&this._endAsync():this._fillBufferAsync()),k}_read(x,k){k()}_push(x){this.done||(this._pushedCount++,this._buffer.push(x),this.readable=!0)}_fillBuffer(){let x;this._reading||(this.closed?this._completeClose():(x=Math.min(this._maxBufferSize-this._buffer.length,128))>0&&(this._pushedCount=0,this._reading=!0,this._read(x,()=>{if(!x)throw new Error("done callback called multiple times");x=0,this._reading=!1,this.closed?this._completeClose():this._pushedCount&&(this.readable=!0,this._buffer.length<this._maxBufferSize/2&&this._fillBufferAsync())})))}_fillBufferAsync(){this._reading||(this._reading=!0,i(()=>{this._reading=!1,this._fillBuffer()}))}close(){this._reading?this._changeState(e.CLOSING):this._completeClose()}_completeClose(){this._changeState(e.CLOSED)&&(this._reading=!0,this._flush(()=>{if(!this._reading)throw new Error("done callback called multiple times");this._reading=!1,this._buffer.empty&&this._endAsync()}))}_destroy(x,k){this._buffer.clear(),k()}_flush(x){x()}_toStringDetails(){const x=this._buffer;return`{${x.empty?"":`next: ${x.first}, `}buffer: ${x.length}}`}}e.BufferedIterator=g;class E extends g{constructor(x,k=x||{}){super(k),this._boundPush=U=>this._push(U),te(x)||(x=k.source),A(x)?this.source=x:x&&(this._createSource=$(x)?()=>x:x,this._sourceStarted&&this._loadSourceAsync()),this._optional=!!k.optional,this._destroySource=k.destroySource!==!1}get source(){return P(this._createSource)&&this._loadSourceAsync(),this._source}set source(x){const k=this._source=this._validateSource(x);k[e.DESTINATION]=this,this.done?this._destroySource&&k.destroy():k.done?this.close():(k.on("end",B),k.on("readable",N),k.on("error",I))}_loadSourceAsync(){P(this._createSource)&&(Promise.resolve(this._createSource()).then(x=>{delete this._createSource,this.source=x,this._fillBuffer()},x=>this.emit("error",x)),this._createSource=null)}_validateSource(x,k=!1){if(this._source||typeof this._createSource<"u")throw new Error("The source cannot be changed after it has been set");return m(x,k)}_read(x,k){const U=()=>{this._pushedCount<x&&!this.closed?i(()=>this._readAndTransform(U,k)):k()};this._readAndTransform(U,k)}_readAndTransform(x,k){let U;const re=this.source;!re||re.done||(U=re.read())===null?k():this._optional?this._optionalTransform(U,x):this._transform(U,x,this._boundPush)}_optionalTransform(x,k){const U=this._pushedCount;this._transform(x,()=>{U===this._pushedCount&&this._push(x),k()},this._boundPush)}_transform(x,k,U){U(x),k()}_closeWhenDone(){this.close()}_end(x){const k=this._source;k&&(k.removeListener("end",B),k.removeListener("error",I),k.removeListener("readable",N),delete k[e.DESTINATION],this._destroySource&&k.destroy()),super._end(x)}}e.TransformIterator=E;function T(){this[e.DESTINATION].readable=!0}function I(w){this[e.DESTINATION].emit("error",w)}function D(){this[e.DESTINATION].close()}function B(){this[e.DESTINATION]._closeWhenDone()}function N(){this[e.DESTINATION]._sourceStarted!==!1&&this[e.DESTINATION]._fillBuffer()}class M extends E{constructor(x,k){if(super(x,k),this._offset=0,this._limit=1/0,this._filter=U=>!0,k=k||(te(x)?null:x),k){const U=P(k)?k:k.transform,{limit:re,offset:fe,filter:ve,map:ce,prepend:Ie,append:be}=k;fe===1/0||re===-1/0?this._limit=0:(Number.isFinite(fe)&&(this._offset=Math.max(Math.trunc(fe),0)),Number.isFinite(re)&&(this._limit=Math.max(Math.trunc(re),0)),P(ve)&&(this._filter=ve),P(ce)&&(this._map=ce),this._transform=P(U)?U:null),Ie&&(this._prepender=A(Ie)?Ie:V(Ie)),be&&(this._appender=A(be)?be:V(be))}}_read(x,k){const U=()=>this._readAndTransformSimple(x,re,k);this._readAndTransformSimple(x,re,k);function re(){i(U)}}_readAndTransformSimple(x,k,U){let re;const{source:fe}=this;if(!fe||fe.done){U();return}for(this._limit===0&&this.close();!this.closed&&this._pushedCount<x&&(re=fe.read())!==null;){if(!this._filter(re)||this._offset!==0&&this._offset--)continue;const ve=typeof this._map>"u"?re:this._map(re);if(ve===null)this._optional&&this._push(re);else if(!P(this._transform))this._push(ve);else{this._optional?this._optionalTransform(ve,k):this._transform(ve,k,this._boundPush);return}--this._limit===0&&this.close()}U()}_begin(x){this._insert(this._prepender,x),delete this._prepender}_flush(x){this._insert(this._appender,x),delete this._appender}_insert(x,k){const U=fe=>this._push(fe);!x||x.done?k():(x.on("data",U),x.on("end",re));function re(){x.removeListener("data",U),x.removeListener("end",re),k()}}}e.SimpleTransformIterator=M;class j extends E{constructor(x,k){if(super(x,k),this._transformerQueue=[],k){const U=P(k)?k:k.multiTransform;U&&(this._createTransformer=U)}}_read(x,k){const U=this._transformerQueue,re=this._optional;let fe,ve;for(;(fe=U[0])&&fe.transformer.done;){re&&fe.item!==null&&(x--,this._push(fe.item)),U.shift();const{transformer:Ie}=fe;Ie.removeListener("end",N),Ie.removeListener("readable",N),Ie.removeListener("error",I)}const{source:ce}=this;for(;ce&&!ce.done&&U.length<this.maxBufferSize&&(ve=ce.read(),ve!==null);){const Ie=this._createTransformer(ve)||new c;Ie[e.DESTINATION]=this,Ie.on("end",N),Ie.on("readable",N),Ie.on("error",I),U.push({transformer:Ie,item:ve})}if(fe=U[0],fe){const{transformer:Ie}=fe;for(;x-- >0&&(ve=Ie.read())!==null;)this._push(ve),re&&(fe.item=null)}else ce&&ce.done&&this.close();k()}_createTransformer(x){return new p(x)}_closeWhenDone(){this._transformerQueue.length||this.close()}_end(x){if(super._end(x),this._destroySource)for(const k of this._transformerQueue)k.transformer.destroy()}}e.MultiTransformIterator=j;class O extends g{constructor(x,k={}){super(k),this._sources=[],this._currentSource=-1;const U=k.autoStart!==!1;if(A(x))x.on("error",re=>this.emit("error",re)),this._pending={loading:!1,sources:x},U&&this._loadSources();else if(Array.isArray(x)&&x.length>0)for(const re of x)this._addSource(re);else U&&this.close();this._destroySources=k.destroySources!==!1}_loadSources(){const x=this._pending.sources;this._pending.loading=!0,x.done?(delete this._pending,this.close()):(x.on("data",k=>{this._addSource(k),this._fillBufferAsync()}),x.on("end",()=>{delete this._pending,this._fillBuffer()}))}_addSource(x){$(x)&&(x=le(x)),x.done||(this._sources.push(x),x[e.DESTINATION]=this,x.on("error",I),x.on("readable",N),x.on("end",q))}_removeEmptySources(){this._sources=this._sources.filter((x,k)=>(x.done&&k<=this._currentSource&&this._currentSource--,!x.done)),this._fillBuffer()}_read(x,k){var U;((U=this._pending)===null||U===void 0?void 0:U.loading)===!1&&this._loadSources();let re=0,fe;for(;re!==(re=x);)for(let ve=0;ve<this._sources.length&&x>0;ve++)this._currentSource=(this._currentSource+1)%this._sources.length,(fe=this._sources[this._currentSource].read())!==null&&(x--,this._push(fe));!this._pending&&this._sources.length===0&&this.close(),k()}_end(x=!1){if(super._end(x),this._destroySources){for(const k of this._sources)k.destroy();this._pending&&(this._pending.sources.destroy(),delete this._pending)}}}e.UnionIterator=O;function q(){this[e.DESTINATION]._removeEmptySources()}class Q extends E{constructor(x){super(x,{autoStart:!1}),this._readPosition=0,this._reading=!1,x&&(this.readable=!0)}_init(){}close(){l.prototype.close.call(this)}get source(){return super.source}set source(x){const k=this._source=this._validateSource(x),U=k&&k[e.DESTINATION]||(k[e.DESTINATION]=new ie(k));this.done?this._destroySource&&k.destroy():U.endsAt(0)?this.close():(U.register(this),(k._sourceStarted===!1||U.readAt(0)!==null)&&(this.readable=!0));const re=this._propertyCallbacks;for(const fe in re){const ve=re[fe];for(const ce of ve)this._getSourceProperty(fe,ce)}}_validateSource(x,k=!1){const U=x&&x[e.DESTINATION];return super._validateSource(x,!U||U instanceof ie)}getProperty(x,k){const{source:U}=this,re=this._properties,fe=re&&x in re;if(!k)return fe?re&&re[x]:U&&U.getProperty(x);super.getProperty(x,k),U&&!fe&&this._getSourceProperty(x,k)}_getSourceProperty(x,k){this.source.getProperty(x,U=>{(!this._properties||!(x in this._properties))&&k(U)})}getProperties(){const x=this.source?this.source.getProperties():{},k=this._properties;for(const U in k)x[U]=k[U];return x}_toStringDetails(){return`{source: ${this.source?this.source.toString():"none"}}`}read(){this._sourceStarted||(this._sourceStarted=!0);const x=this.source;let k=null;if(!this.done&&x){const U=x[e.DESTINATION];(k=U.readAt(this._readPosition))!==null?this._readPosition++:this.readable=!1,U.endsAt(this._readPosition)&&this.close()}return k}_end(x){const k=this.source,U=k==null?void 0:k[e.DESTINATION];U&&U.unregister(this),g.prototype._end.call(this,x)}}e.ClonedIterator=Q;class ie{constructor(x){if(this._history=[],this._trackers=new Set,this._source=x,!x.done){const k=()=>{for(const fe of this._trackers)fe.readable=!0},U=fe=>{for(const ve of this._trackers)ve.emit("error",fe)},re=()=>{for(const fe of this._trackers)fe._sourceStarted!==!1&&fe._readPosition===this._history.length&&fe.close();this._trackers.clear(),x.removeListener("end",re),x.removeListener("error",U),x.removeListener("readable",k)};x.on("end",re),x.on("error",U),x.on("readable",k)}}register(x){this._source.done||this._trackers.add(x)}unregister(x){this._trackers.delete(x)}readAt(x){let k=null;return x<this._history.length?k=this._history[x]:!this._source.done&&(k=this._source.read())!==null&&(this._history[x]=k),k}endsAt(x){return this._source.done&&this._history.length===x}}class X extends l{constructor(x,k){super(),this._source=null,this._destroySource=(k==null?void 0:k.destroySource)!==!1,$(x)?(this._source=new l,x.then(U=>{this._source=null,this.source=U}).catch(U=>this.emit("error",U))):x&&(this.source=x)}set source(x){let k=x;if(this._source!==null)throw new Error("The source cannot be changed after it has been set");if(pe(k)&&(k=k[Symbol.iterator]()),R(k)){let U=k;k=new t.EventEmitter,k.read=()=>{if(U!==null){let re;for(;!(re=U.next()).done;)if(re.value!==null)return re.value;U=null,this.close()}return null}}else k=m(k);if(this.done){this._destroySource&&P(k.destroy)&&k.destroy();return}k[e.DESTINATION]=this,k.on("end",D),k.on("error",I),k.on("readable",T),this._source=k,this.readable=k.readable!==!1}read(){if(this._source!==null&&this._source.readable!==!1){const x=this._source.read();if(x!==null)return x;this.readable=!1}return null}_end(x=!1){this._source!==null&&(this._source.removeListener("end",D),this._source.removeListener("error",I),this._source.removeListener("readable",T),delete this._source[e.DESTINATION],this._destroySource&&P(this._source.destroy)&&this._source.destroy(),this._source=null),super._end(x)}}e.WrappingIterator=X;function le(w,x){if(x&&("autoStart"in x||"optional"in x||"source"in x||"maxBufferSize"in x))return w&&!A(w)&&(w=new X(w)),new E(w,x);if(!w)return ae();if($(w))return new X(w,x);if(w instanceof l)return w;if(Array.isArray(w))return V(w);if(pe(w)||R(w)||A(w))return new X(w,x);throw new TypeError(`Invalid source: ${w}`)}e.wrap=le;function ae(){return new c}e.empty=ae;function ne(w){return new p(w)}e.single=ne;function V(w){return new b(w)}e.fromArray=V;function oe(w){return new X(w)}e.fromIterator=oe;function he(w){return new X(w)}e.fromIterable=he;function Y(w){return new O(w)}e.union=Y;function Z(w,x,k){return new v({start:w,end:x,step:k})}e.range=Z;function ee(w,x){return x?w.bind(x):w}function P(w){return typeof w=="function"}e.isFunction=P;function A(w){return P(w==null?void 0:w.on)}e.isEventEmitter=A;function $(w){return P(w==null?void 0:w.then)}e.isPromise=$;function te(w){return w&&(A(w)||$(w)||P(w))}e.isSourceExpression=te;function pe(w){return w&&Symbol.iterator in w}e.isIterable=pe;function R(w){return P(w==null?void 0:w.next)}e.isIterator=R}(Og)),Og}var df={},Et={},D2;function eW(){if(D2)return Et;D2=1,Object.defineProperty(Et,"__esModule",{value:!0}),Et.matchPatternMappings=Et.matchPatternComplete=Et.matchPattern=Et.matchTerm=Et.getValueNestedPath=Et.someTermsNested=Et.someTerms=Et.everyTermsNested=Et.everyTerms=Et.reduceTermsNested=Et.reduceTerms=Et.mapTermsNested=Et.mapTerms=Et.filterQuadTermNamesNested=Et.filterQuadTermNames=Et.filterTermsNested=Et.filterTerms=Et.forEachTermsNested=Et.forEachTerms=Et.collectNamedTerms=Et.getNamedTerms=Et.getTermsNested=Et.getTerms=Et.TRIPLE_TERM_NAMES=Et.QUAD_TERM_NAMES=void 0;const e=Jr(),t=new e.DataFactory;Et.QUAD_TERM_NAMES=["subject","predicate","object","graph"],Et.TRIPLE_TERM_NAMES=["subject","predicate","object"];function r(N,M){return M&&N.graph.termType==="DefaultGraph"?[N.subject,N.predicate,N.object]:[N.subject,N.predicate,N.object,N.graph]}Et.getTerms=r;function n(N,M){const j=[];for(const O of r(N,M))O.termType==="Quad"?n(O,M).forEach(q=>j.push(q)):j.push(O);return j}Et.getTermsNested=n;function i(N){return[{key:"subject",value:N.subject},{key:"predicate",value:N.predicate},{key:"object",value:N.object},{key:"graph",value:N.graph}]}Et.getNamedTerms=i;function a(N,M,j){const O={};return N.forEach(q=>O[q.key]=q.value),M&&(O.subject=O.subject||M("subject"),O.predicate=O.predicate||M("predicate"),O.object=O.object||M("object"),O.graph=O.graph||M("graph")),(j||t).quad(O.subject,O.predicate,O.object,O.graph)}Et.collectNamedTerms=a;function o(N,M){M(N.subject,"subject"),M(N.predicate,"predicate"),M(N.object,"object"),M(N.graph,"graph")}Et.forEachTerms=o;function s(N,M,j=[]){N.subject.termType==="Quad"?s(N.subject,M,[...j,"subject"]):M(N.subject,[...j,"subject"]),N.predicate.termType==="Quad"?s(N.predicate,M,[...j,"predicate"]):M(N.predicate,[...j,"predicate"]),N.object.termType==="Quad"?s(N.object,M,[...j,"object"]):M(N.object,[...j,"object"]),N.graph.termType==="Quad"?s(N.graph,M,[...j,"graph"]):M(N.graph,[...j,"graph"])}Et.forEachTermsNested=s;function l(N,M){const j=[];return M(N.subject,"subject")&&j.push(N.subject),M(N.predicate,"predicate")&&j.push(N.predicate),M(N.object,"object")&&j.push(N.object),M(N.graph,"graph")&&j.push(N.graph),j}Et.filterTerms=l;function u(N,M,j=[]){let O=[];return N.subject.termType==="Quad"?O=[...O,...u(N.subject,M,[...j,"subject"])]:M(N.subject,[...j,"subject"])&&O.push(N.subject),N.predicate.termType==="Quad"?O=[...O,...u(N.predicate,M,[...j,"predicate"])]:M(N.predicate,[...j,"predicate"])&&O.push(N.predicate),N.object.termType==="Quad"?O=[...O,...u(N.object,M,[...j,"object"])]:M(N.object,[...j,"object"])&&O.push(N.object),N.graph.termType==="Quad"?O=[...O,...u(N.graph,M,[...j,"graph"])]:M(N.graph,[...j,"graph"])&&O.push(N.graph),O}Et.filterTermsNested=u;function f(N,M){const j=[];return M(N.subject,"subject")&&j.push("subject"),M(N.predicate,"predicate")&&j.push("predicate"),M(N.object,"object")&&j.push("object"),M(N.graph,"graph")&&j.push("graph"),j}Et.filterQuadTermNames=f;function d(N,M,j=[]){let O=[];const q=[...j,"subject"];N.subject.termType==="Quad"?O=[...O,...d(N.subject,M,q)]:M(N.subject,q)&&O.push(q);const Q=[...j,"predicate"];N.predicate.termType==="Quad"?O=[...O,...d(N.predicate,M,Q)]:M(N.predicate,Q)&&O.push(Q);const ie=[...j,"object"];N.object.termType==="Quad"?O=[...O,...d(N.object,M,ie)]:M(N.object,ie)&&O.push(ie);const X=[...j,"graph"];return N.graph.termType==="Quad"?O=[...O,...d(N.graph,M,X)]:M(N.graph,X)&&O.push(X),O}Et.filterQuadTermNamesNested=d;function c(N,M,j){return(j||t).quad(M(N.subject,"subject"),M(N.predicate,"predicate"),M(N.object,"object"),M(N.graph,"graph"))}Et.mapTerms=c;function p(N,M,j,O=[]){return(j||t).quad(N.subject.termType==="Quad"?p(N.subject,M,j,[...O,"subject"]):M(N.subject,[...O,"subject"]),N.predicate.termType==="Quad"?p(N.predicate,M,j,[...O,"predicate"]):M(N.predicate,[...O,"predicate"]),N.object.termType==="Quad"?p(N.object,M,j,[...O,"object"]):M(N.object,[...O,"object"]),N.graph.termType==="Quad"?p(N.graph,M,j,[...O,"graph"]):M(N.graph,[...O,"graph"]))}Et.mapTermsNested=p;function b(N,M,j){let O=j;return O=M(O,N.subject,"subject"),O=M(O,N.predicate,"predicate"),O=M(O,N.object,"object"),M(O,N.graph,"graph")}Et.reduceTerms=b;function v(N,M,j,O=[]){let q=j;return N.subject.termType==="Quad"?q=v(N.subject,M,q,[...O,"subject"]):q=M(q,N.subject,[...O,"subject"]),N.predicate.termType==="Quad"?q=v(N.predicate,M,q,[...O,"predicate"]):q=M(q,N.predicate,[...O,"predicate"]),N.object.termType==="Quad"?q=v(N.object,M,q,[...O,"object"]):q=M(q,N.object,[...O,"object"]),N.graph.termType==="Quad"?q=v(N.graph,M,q,[...O,"graph"]):q=M(q,N.graph,[...O,"graph"]),q}Et.reduceTermsNested=v;function _(N,M){return M(N.subject,"subject")&&M(N.predicate,"predicate")&&M(N.object,"object")&&M(N.graph,"graph")}Et.everyTerms=_;function y(N,M,j=[]){return(N.subject.termType==="Quad"?y(N.subject,M,[...j,"subject"]):M(N.subject,[...j,"subject"]))&&(N.predicate.termType==="Quad"?y(N.predicate,M,[...j,"predicate"]):M(N.predicate,[...j,"predicate"]))&&(N.object.termType==="Quad"?y(N.object,M,[...j,"object"]):M(N.object,[...j,"object"]))&&(N.graph.termType==="Quad"?y(N.graph,M,[...j,"graph"]):M(N.graph,[...j,"graph"]))}Et.everyTermsNested=y;function m(N,M){return M(N.subject,"subject")||M(N.predicate,"predicate")||M(N.object,"object")||M(N.graph,"graph")}Et.someTerms=m;function g(N,M,j=[]){return(N.subject.termType==="Quad"?g(N.subject,M,[...j,"subject"]):M(N.subject,[...j,"subject"]))||(N.predicate.termType==="Quad"?g(N.predicate,M,[...j,"predicate"]):M(N.predicate,[...j,"predicate"]))||(N.object.termType==="Quad"?g(N.object,M,[...j,"object"]):M(N.object,[...j,"object"]))||(N.graph.termType==="Quad"?g(N.graph,M,[...j,"graph"]):M(N.graph,[...j,"graph"]))}Et.someTermsNested=g;function E(N,M){if(M.length===0)return N;if(N.termType==="Quad")return E(N[M[0]],M.slice(1));throw new Error(`Tried to get ${M[0]} from term of type ${N.termType}`)}Et.getValueNestedPath=E;function T(N,M){return!M||M.termType==="Variable"||M.termType==="Quad"&&N.termType==="Quad"&&D(N,M)||M.equals(N)}Et.matchTerm=T;function I(N,M,j,O,q){return T(N.subject,M)&&T(N.predicate,j)&&T(N.object,O)&&T(N.graph,q)}Et.matchPattern=I;function D(N,M){return I(N,M.subject,M.predicate,M.object,M.graph)}Et.matchPatternComplete=D;function B(N,M,j={}){const O={};function q(Q,ie){return _(Q,(X,le)=>{var ae,ne;const V=ie[le];switch(X.termType){case"Variable":return j.skipVarMapping&&V.termType==="Variable"||((ne=(ae=O[X.value])===null||ae===void 0?void 0:ae.equals(V))!==null&&ne!==void 0?ne:(O[X.value]=V,!0));case"Quad":return V.termType==="Quad"&&q(X,V);default:return X.equals(V)}})}return q(M,N)&&(j.returnMappings?O:!0)}return Et.matchPatternMappings=B,Et}var Lr={},Pg={},sn={},N2;function tW(){if(N2)return sn;N2=1,Object.defineProperty(sn,"__esModule",{value:!0}),sn.stringQuadToQuad=sn.quadToStringQuad=sn.stringToTerm=sn.getLiteralLanguage=sn.getLiteralType=sn.getLiteralValue=sn.termToString=void 0;const e=Jr(),t=new e.DataFactory;function r(u){if(u)switch(u.termType){case"NamedNode":return u.value;case"BlankNode":return"_:"+u.value;case"Literal":const f=u;return'"'+f.value+'"'+(f.datatype&&f.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&f.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+f.datatype.value:"")+(f.language?"@"+f.language:"");case"Quad":return`<<${r(u.subject)} ${r(u.predicate)} ${r(u.object)}${u.graph.termType==="DefaultGraph"?"":" "+r(u.graph)}>>`;case"Variable":return"?"+u.value;case"DefaultGraph":return u.value}}sn.termToString=r;function n(u){const f=/^"([^]*)"/.exec(u);if(!f)throw new Error(u+" is not a literal");return f[1]}sn.getLiteralValue=n;function i(u){const f=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(u);if(!f)throw new Error(u+" is not a literal");return f[1]||(f[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}sn.getLiteralType=i;function a(u){const f=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(u);if(!f)throw new Error(u+" is not a literal");return f[1]?f[1].toLowerCase():""}sn.getLiteralLanguage=a;function o(u,f){if(f=f||t,!u||!u.length)return f.defaultGraph();switch(u[0]){case"_":return f.blankNode(u.substr(2));case"?":if(!f.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return f.variable(u.substr(1));case'"':const d=a(u),c=f.namedNode(i(u));return f.literal(n(u),d||c);case"<":default:if(u[0]==="<"&&u.length>4&&u[1]==="<"&&u[u.length-1]===">"&&u[u.length-2]===">"){const p=u.slice(2,-2).trim();let b=[],v=0,_=0,y=!1;for(let m=0;m<p.length;m++){const g=p[m];if(g==="<"&&v++,g===">"){if(v===0)throw new Error("Found closing tag without opening tag in "+u);v--}if(g==='"'){let E=!1,T=m;for(;T-- >0&&p[T]==="\\";)E=!E;E||(y=!y)}if(g===" "&&!y&&v===0){for(b.push(p.slice(_,m));p[m+1]===" ";)m+=1;_=m+1}}if(v!==0)throw new Error("Found opening tag without closing tag in "+u);if(b.push(p.slice(_,p.length)),b.length!==3&&b.length!==4)throw new Error("Nested quad syntax error "+u);return b=b.map(m=>m.startsWith("<")&&!m.includes(" ")?m.slice(1,-1):m),f.quad(o(b[0]),o(b[1]),o(b[2]),b[3]?o(b[3]):void 0)}return f.namedNode(u)}}sn.stringToTerm=o;function s(u){return{subject:r(u.subject),predicate:r(u.predicate),object:r(u.object),graph:r(u.graph)}}sn.quadToStringQuad=s;function l(u,f){return f=f||t,f.quad(o(u.subject,f),o(u.predicate,f),o(u.object,f),o(u.graph,f))}return sn.stringQuadToQuad=l,sn}var C2;function Uh(){return C2||(C2=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.termToString=e.stringToTerm=e.stringQuadToQuad=e.quadToStringQuad=e.getLiteralValue=e.getLiteralType=e.getLiteralLanguage=void 0;const t=tW();Object.defineProperty(e,"getLiteralLanguage",{enumerable:!0,get:function(){return t.getLiteralLanguage}}),Object.defineProperty(e,"getLiteralType",{enumerable:!0,get:function(){return t.getLiteralType}}),Object.defineProperty(e,"getLiteralValue",{enumerable:!0,get:function(){return t.getLiteralValue}}),Object.defineProperty(e,"quadToStringQuad",{enumerable:!0,get:function(){return t.quadToStringQuad}}),Object.defineProperty(e,"stringQuadToQuad",{enumerable:!0,get:function(){return t.stringQuadToQuad}}),Object.defineProperty(e,"stringToTerm",{enumerable:!0,get:function(){return t.stringToTerm}}),Object.defineProperty(e,"termToString",{enumerable:!0,get:function(){return t.termToString}})}(Pg)),Pg}var L2;function rW(){if(L2)return Lr;L2=1,Object.defineProperty(Lr,"__esModule",{value:!0}),Lr.getQuads=Lr.getDefaultGraphs=Lr.getVariables=Lr.getLiterals=Lr.getBlankNodes=Lr.getNamedNodes=Lr.getTermsOfType=Lr.uniqTerms=Lr.TERM_TYPES=void 0;const e=Uh();Lr.TERM_TYPES=["NamedNode","BlankNode","Literal","Variable","DefaultGraph","Quad"];function t(u){const f={};return u.filter(d=>{const c=(0,e.termToString)(d);return!(c in f)&&(f[c]=!0)})}Lr.uniqTerms=t;function r(u,f){return u.filter(d=>d.termType===f)}Lr.getTermsOfType=r;function n(u){return r(u,"NamedNode")}Lr.getNamedNodes=n;function i(u){return r(u,"BlankNode")}Lr.getBlankNodes=i;function a(u){return r(u,"Literal")}Lr.getLiterals=a;function o(u){return r(u,"Variable")}Lr.getVariables=o;function s(u){return r(u,"DefaultGraph")}Lr.getDefaultGraphs=s;function l(u){return r(u,"Quad")}return Lr.getQuads=l,Lr}var M2;function xm(){return M2||(M2=1,function(e){var t=df.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=df.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(eW(),e),r(rW(),e)}(df)),df}var hf={},k2;function x6(){if(k2)return hf;k2=1,Object.defineProperty(hf,"__esModule",{value:!0}),hf.TermDictionaryNumberRecordFullTerms=void 0;const e=Jr(),t=Uh();let r=class{constructor(i=new e.DataFactory){this.lastId=0,this.dictionary={},this.reverseDictionary={},this.features={quotedTriples:!1},this.dataFactory=i}encode(i){const a=(0,t.termToString)(i);let o=this.dictionary[a];return o===void 0&&(o=this.lastId++,this.dictionary[a]=o,this.reverseDictionary[o]=i),o}encodeOptional(i){const a=(0,t.termToString)(i);return this.dictionary[a]}decode(i){const a=this.reverseDictionary[i];if(a===void 0)throw new Error(`The value ${i} is not present in this dictionary`);return a}*encodings(){for(const i of Object.keys(this.reverseDictionary))yield Number.parseInt(i,10)}findQuotedTriples(i){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(i){throw new Error("findQuotedTriplesEncoded is not supported")}};return hf.TermDictionaryNumberRecordFullTerms=r,hf}var pf={},mf={},Dg={},F2;function va(){return F2||(F2=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.arePatternsQuoted=e.quadHasVariables=e.quadToPattern=e.encodeOptionalTerms=e.orderQuadComponents=e.getComponentOrderScore=e.getBestIndex=e.QUAD_TERM_NAMES_INVERSE=void 0;const t=xm();e.QUAD_TERM_NAMES_INVERSE=Object.fromEntries(t.QUAD_TERM_NAMES.map((u,f)=>[u,f]));function r(u,f){if(u.length===1||f.every(p=>p!==void 0))return 0;const d=[];for(let p=0;p<t.QUAD_TERM_NAMES.length;p++)f[p]&&d.push(t.QUAD_TERM_NAMES[p]);return u.map((p,b)=>({score:n(p,d),index:b})).sort((p,b)=>b.score-p.score)[0].index}e.getBestIndex=r;function n(u,f){return u.map((d,c)=>f.includes(d)?u.length-c:0).reduce((d,c)=>d+c,0)}e.getComponentOrderScore=n;function i(u,f){return u.map(d=>{const c=e.QUAD_TERM_NAMES_INVERSE[d];return f[c]})}e.orderQuadComponents=i;function a(u,f){const d=u.map(c=>{if(c){if(c.termType==="Quad"&&s(c))return;const p=f.encodeOptional(c);return p===void 0?"none":p}return c});if(!d.includes("none"))return d}e.encodeOptionalTerms=a;function o(u,f,d,c,p){let b=!1;return[[u||void 0,f||void 0,d||void 0,c||void 0].map(_=>{if(_){if(_.termType==="Variable")return;if(_.termType==="Quad"){if(p)return _;b=!0;return}}return _}),b]}e.quadToPattern=o;function s(u){for(const f of t.QUAD_TERM_NAMES){const d=u[f];if(d.termType==="Variable"||d.termType==="Quad"&&s(d))return!0}return!1}e.quadHasVariables=s;function l(u){return u.map(f=>(f==null?void 0:f.termType)==="Quad"&&s(f))}e.arePatternsQuoted=l}(Dg)),Dg}var j2;function fS(){if(j2)return mf;j2=1,Object.defineProperty(mf,"__esModule",{value:!0}),mf.RdfStoreIndexNestedMap=void 0;const e=va();let t=class{constructor(n){this.features={quotedTripleFiltering:!1},this.dictionary=n.dictionary,this.nestedMap=new Map}set(n,i){const a=this.nestedMap;let o=a.get(n[0]);o||(o=new Map,a.set(n[0],o));let s=o.get(n[1]);s||(s=new Map,o.set(n[1],s));let l=s.get(n[2]);l||(l=new Map,s.set(n[2],l));const u=l.has(n[3]);return u||l.set(n[3],i),!u}remove(n){const i=this.nestedMap,a=i.get(n[0]);if(!a)return!1;const o=a.get(n[1]);if(!o)return!1;const s=o.get(n[2]);if(!s)return!1;const l=s.delete(n[3]);return l&&s.size===0&&(o.delete(n[2]),o.size===0&&(a.delete(n[1]),a.size===0&&i.delete(n[0]))),l}get(n){const i=(0,e.encodeOptionalTerms)(n,this.dictionary);if(!(!i||i.includes(void 0)))return this.getEncoded(i)}getEncoded(n){const i=this.nestedMap.get(n[0]);if(!i)return;const a=i.get(n[1]);if(!a)return;const o=a.get(n[2]);if(o)return o.get(n[3])}*find(n){const i=(0,e.encodeOptionalTerms)(n,this.dictionary);if(!i)return;const[a,o,s,l]=i,[u,f,d,c]=n;let p,b,v,_,y,m,g;const E=this.nestedMap,T=a!==void 0?E.has(a)?[a]:[]:E.keys();for(const I of T){y=E.get(I),p=u||this.dictionary.decode(I);const D=o!==void 0?y.has(o)?[o]:[]:y.keys();for(const B of D){m=y.get(B),b=f||this.dictionary.decode(B);const N=s!==void 0?m.has(s)?[s]:[]:m.keys();for(const M of N){g=m.get(M),v=d||this.dictionary.decode(M);const j=l!==void 0?g.has(l)?[l]:[]:g.keys();for(const O of j)_=c||this.dictionary.decode(O),yield[p,b,v,_]}}}}*findEncoded(n,i){const[a,o,s,l]=n;let u,f,d;const c=this.nestedMap,p=a!==void 0?c.has(a)?[a]:[]:c.keys();for(const b of p){u=c.get(b);const v=o!==void 0?u.has(o)?[o]:[]:u.keys();for(const _ of v){f=u.get(_);const y=s!==void 0?f.has(s)?[s]:[]:f.keys();for(const m of y){d=f.get(m);const g=l!==void 0?d.has(l)?[l]:[]:d.keys();for(const E of g)yield[b,_,m,E]}}}}count(n){let i=0;const a=(0,e.encodeOptionalTerms)(n,this.dictionary);if(!a)return 0;const o=a[0],s=a[1],l=a[2],u=a[3];let f,d,c;const p=this.nestedMap,b=o!==void 0?p.has(o)?[o]:[]:p.keys();for(const v of b){f=p.get(v);const _=s!==void 0?f.has(s)?[s]:[]:f.keys();for(const y of _){d=f.get(y);const m=l!==void 0?d.has(l)?[l]:[]:d.keys();for(const g of m)c=d.get(g),u!==void 0?c.has(u)&&i++:i+=c.size}}return i}};return mf.RdfStoreIndexNestedMap=t,mf}var B2;function T6(){if(B2)return pf;B2=1,Object.defineProperty(pf,"__esModule",{value:!0}),pf.TermDictionaryQuotedIndexed=void 0;const e=Jr(),t=fS(),r=va();let n=class ka{constructor(a,o=new e.DataFactory){this.quotedTriplesDictionary=[],this.features={quotedTriples:!0},this.plainTermDictionary=a;const s={indexCombinations:[],indexConstructor:void 0,dictionary:this,dataFactory:o};this.quotedTriplesReverseDictionaries=[new t.RdfStoreIndexNestedMap(s),new t.RdfStoreIndexNestedMap(s),new t.RdfStoreIndexNestedMap(s)],this.dataFactory=o}encode(a){return a.termType==="Quad"?this.encodeQuotedTriple(a,!1):this.plainTermDictionary.encode(a)}encodeQuotedTriple(a,o){if(a.graph.termType!=="DefaultGraph")throw new Error("Encoding of quoted quads outside of the default graph is not allowed");const s=(0,r.encodeOptionalTerms)([a.subject,a.predicate,a.object,a.graph],this),l=s&&s.every(c=>c!==void 0)?this.quotedTriplesReverseDictionaries[0].getEncoded(s):void 0;if(l!==void 0||o)return l===void 0?void 0:ka.BITMASK|l;const u=[this.encode(a.subject),this.encode(a.predicate),this.encode(a.object)],f=this.quotedTriplesDictionary.length+1;this.quotedTriplesDictionary.push(u);const d=this.encode(this.dataFactory.defaultGraph());return this.quotedTriplesReverseDictionaries[0].set([u[0],u[1],u[2],d],f),this.quotedTriplesReverseDictionaries[1].set([u[1],u[2],u[0],d],f),this.quotedTriplesReverseDictionaries[2].set([u[2],u[0],u[1],d],f),ka.BITMASK|f}encodeOptional(a){return a.termType==="Quad"?this.encodeQuotedTriple(a,!0):this.plainTermDictionary.encodeOptional(a)}decode(a){if(ka.BITMASK&a){const o=(~ka.BITMASK&a)-1;if(o>=this.quotedTriplesDictionary.length)throw new Error(`The value ${a} is not present in the quoted triples range of the dictionary`);const s=this.quotedTriplesDictionary[o];return this.dataFactory.quad(this.decode(s[0]),this.decode(s[1]),this.decode(s[2]))}return this.plainTermDictionary.decode(a)}*encodings(){for(const a of this.plainTermDictionary.encodings())yield a;for(const a of this.quotedTriplesDictionary.keys())yield ka.BITMASK|1+a}*findQuotedTriples(a){for(const o of this.findQuotedTriplesEncoded(a))yield this.decode(o)}*findQuotedTriplesEncoded(a){const[o,s]=(0,r.quadToPattern)(a.subject,a.predicate,a.object,a.graph,!0);for(const l of this.patternToIterable(o[0]))for(const u of this.patternToIterable(o[1]))for(const f of this.patternToIterable(o[2]))for(const d of this.patternToIterable(o[3]))if(l&&u||!u&&!f){const c=[l,u,f,d];for(const p of this.quotedTriplesReverseDictionaries[0].findEncoded(c,o))yield ka.BITMASK|this.quotedTriplesReverseDictionaries[0].getEncoded(p)}else if(!l&&u){const c=[u,f,l,d];for(const p of this.quotedTriplesReverseDictionaries[1].findEncoded(c,o))yield ka.BITMASK|this.quotedTriplesReverseDictionaries[1].getEncoded(p)}else{const c=[f,l,u,d];for(const p of this.quotedTriplesReverseDictionaries[2].findEncoded(c,o))yield ka.BITMASK|this.quotedTriplesReverseDictionaries[2].getEncoded(p)}}*patternToIterable(a){if((a==null?void 0:a.termType)==="Quad"){yield*this.findQuotedTriplesEncoded(a);return}if(a===void 0){yield void 0;return}const o=this.encodeOptional(a);o!==void 0&&(yield o)}};return n.BITMASK=1<<31,pf.TermDictionaryQuotedIndexed=n,pf}var yf={},q2;function R6(){if(q2)return yf;q2=1,Object.defineProperty(yf,"__esModule",{value:!0}),yf.RdfStoreIndexNestedMapQuoted=void 0;const e=va(),t=fS();let r=class extends t.RdfStoreIndexNestedMap{constructor(i){super(i),this.features={quotedTripleFiltering:!0}}*getQuotedPatternKeys(i,a){for(const o of this.dictionary.findQuotedTriplesEncoded(a))i.has(o)&&(yield o)}*find(i){const a=(0,e.encodeOptionalTerms)(i,this.dictionary);if(!a)return;const[o,s,l,u]=a,[f,d,c,p]=i,[b,v,_,y]=(0,e.arePatternsQuoted)(i);let m,g,E,T,I,D,B;const N=this.nestedMap,M=f!==void 0?b?this.getQuotedPatternKeys(N,f):N.has(o)?[o]:[]:N.keys();for(const j of M){I=N.get(j),m=!b&&f?f:this.dictionary.decode(j);const O=d!==void 0?v?this.getQuotedPatternKeys(I,d):I.has(s)?[s]:[]:I.keys();for(const q of O){D=I.get(q),g=!v&&d?d:this.dictionary.decode(q);const Q=c!==void 0?_?this.getQuotedPatternKeys(D,c):D.has(l)?[l]:[]:D.keys();for(const ie of Q){B=D.get(ie),E=!_&&c?c:this.dictionary.decode(ie);const X=p!==void 0?y?this.getQuotedPatternKeys(B,p):B.has(u)?[u]:[]:B.keys();for(const le of X)T=!y&&p?p:this.dictionary.decode(le),yield[m,g,E,T]}}}}*findEncoded(i,a){const[o,s,l,u]=i,[f,d,c,p]=a,[b,v,_,y]=(0,e.arePatternsQuoted)(a);let m,g,E;const T=this.nestedMap,I=f!==void 0?b?this.getQuotedPatternKeys(T,f):T.has(o)?[o]:[]:T.keys();for(const D of I){m=T.get(D);const B=d!==void 0?v?this.getQuotedPatternKeys(m,d):m.has(s)?[s]:[]:m.keys();for(const N of B){g=m.get(N);const M=c!==void 0?_?this.getQuotedPatternKeys(g,c):g.has(l)?[l]:[]:g.keys();for(const j of M){E=g.get(j);const O=p!==void 0?y?this.getQuotedPatternKeys(E,p):E.has(u)?[u]:[]:E.keys();for(const q of O)yield[Number.parseInt(D,10),Number.parseInt(N,10),Number.parseInt(j,10),Number.parseInt(q,10)]}}}}count(i){let a=0;const o=(0,e.encodeOptionalTerms)(i,this.dictionary);if(!o)return 0;const[s,l,u,f]=o,[d,c,p,b]=i,[v,_,y,m]=(0,e.arePatternsQuoted)(i);let g,E,T;const I=this.nestedMap,D=d!==void 0?v?this.getQuotedPatternKeys(I,d):I.has(s)?[s]:[]:I.keys();for(const B of D){g=I.get(B);const N=c!==void 0?_?this.getQuotedPatternKeys(g,c):g.has(l)?[l]:[]:g.keys();for(const M of N){E=g.get(M);const j=p!==void 0?y?this.getQuotedPatternKeys(E,p):E.has(u)?[u]:[]:E.keys();for(const O of j)T=E.get(O),b!==void 0?m?a+=[...this.getQuotedPatternKeys(T,b)].length:T.has(f)&&a++:a+=T.size}}return a}};return yf.RdfStoreIndexNestedMapQuoted=r,yf}var $2;function A6(){if($2)return lf;$2=1,Object.defineProperty(lf,"__esModule",{value:!0}),lf.RdfStore=void 0;const e=S6(),t=Jr(),r=xm(),n=O6(),i=x6(),a=T6(),o=R6(),s=va();let l=class $d{constructor(f){this.features={quotedTripleFiltering:!0},this._size=0,this.options=f,this.dataFactory=f.dataFactory,this.dictionary=f.dictionary,this.indexesWrapped=$d.constructIndexesWrapped(f),this.indexesWrappedComponentOrders=this.indexesWrapped.map(d=>d.componentOrder)}static createDefault(){return new $d({indexCombinations:$d.DEFAULT_INDEX_COMBINATIONS,indexConstructor:f=>new o.RdfStoreIndexNestedMapQuoted(f),dictionary:new a.TermDictionaryQuotedIndexed(new i.TermDictionaryNumberRecordFullTerms),dataFactory:new t.DataFactory})}static constructIndexesWrapped(f){const d=[];if(f.indexCombinations.length===0)throw new Error("At least one index combination is required");for(const c of f.indexCombinations){if(!$d.isCombinationValid(c))throw new Error(`Invalid index combination: ${c}`);d.push({index:f.indexConstructor(f),componentOrder:c,componentOrderInverse:Object.fromEntries(c.map((p,b)=>[p,b]))})}return d}static isCombinationValid(f){for(const d of r.QUAD_TERM_NAMES)if(!f.includes(d))return!1;return f.length===4}get size(){return this._size}addQuad(f){const d=[this.dictionary.encode(f.subject),this.dictionary.encode(f.predicate),this.dictionary.encode(f.object),this.dictionary.encode(f.graph)];let c=!1;for(const p of this.indexesWrapped)c=p.index.set((0,s.orderQuadComponents)(p.componentOrder,d),!0);return c?(this._size++,!0):!1}removeQuad(f){const d=[this.dictionary.encodeOptional(f.subject),this.dictionary.encodeOptional(f.predicate),this.dictionary.encodeOptional(f.object),this.dictionary.encodeOptional(f.graph)];if(d.includes(void 0))return!1;let c=!1;for(const p of this.indexesWrapped)if(c=p.index.remove((0,s.orderQuadComponents)(p.componentOrder,d)),!c)break;return c?(this._size--,!0):!1}remove(f){return f.on("data",d=>this.removeQuad(d)),f}removeMatches(f,d,c,p){return this.remove(this.match(f,d,c,p))}deleteGraph(f){return typeof f=="string"&&(f=this.dataFactory.namedNode(f)),this.removeMatches(void 0,void 0,void 0,f)}import(f){return f.on("data",d=>this.addQuad(d)),f}*readQuads(f,d,c,p){const b=!!this.dictionary.features.quotedTriples&&Object.values(this.indexesWrapped).every(g=>g.index.features.quotedTripleFiltering),[v,_]=(0,s.quadToPattern)(f,d,c,p,b),y=this.indexesWrapped[(0,s.getBestIndex)(this.indexesWrappedComponentOrders,v)],m=(0,s.orderQuadComponents)(y.componentOrder,v);for(const g of y.index.find(m)){const E=this.dataFactory.quad(g[y.componentOrderInverse.subject],g[y.componentOrderInverse.predicate],g[y.componentOrderInverse.object],g[y.componentOrderInverse.graph]);_?(0,r.matchPattern)(E,f,d,c,p)&&(yield E):yield E}}getQuads(f,d,c,p){return[...this.readQuads(f,d,c,p)]}match(f,d,c,p){return(0,e.wrap)(this.readQuads(f,d,c,p))}countQuads(f,d,c,p){const b=!!this.dictionary.features.quotedTriples&&Object.values(this.indexesWrapped).every(m=>m.index.features.quotedTripleFiltering),[v]=(0,s.quadToPattern)(f,d,c,p,b);if(v.every(m=>m===void 0))return this.size;const _=this.indexesWrapped[(0,s.getBestIndex)(this.indexesWrappedComponentOrders,v)],y=(0,s.orderQuadComponents)(_.componentOrder,v);return _.index.count(y)}asDataset(){return new n.DatasetCoreWrapper(this)}};return l.DEFAULT_INDEX_COMBINATIONS=[["graph","subject","predicate","object"],["graph","predicate","object","subject"],["graph","object","subject","predicate"]],lf.RdfStore=l,lf}var U2;function O6(){if(U2)return uf;U2=1,Object.defineProperty(uf,"__esModule",{value:!0}),uf.DatasetCoreWrapper=void 0;const e=A6();let t=class I6{constructor(n){this.store=n}get size(){return this.store.size}add(n){return this.store.addQuad(n),this}delete(n){return this.store.removeQuad(n),this}has(n){for(const i of this.store.readQuads(n.subject,n.predicate,n.object,n.graph))return!0;return!1}match(n,i,a,o){const s=new e.RdfStore(this.store.options);for(const l of this.store.readQuads(n,i,a,o))s.addQuad(l);return new I6(s)}[Symbol.iterator](){return this.store.readQuads()}};return uf.DatasetCoreWrapper=t,uf}var Ng={},H2;function nW(){return H2||(H2=1,Object.defineProperty(Ng,"__esModule",{value:!0})),Ng}var gf={},V2;function iW(){if(V2)return gf;V2=1,Object.defineProperty(gf,"__esModule",{value:!0}),gf.TermDictionaryNumberMap=void 0;const e=Jr(),t=Uh();let r=class{constructor(i=new e.DataFactory){this.lastId=0,this.dictionary=new Map,this.reverseDictionary=new Map,this.features={quotedTriples:!1},this.dataFactory=i}encode(i){const a=(0,t.termToString)(i);let o=this.dictionary.get(a);return o===void 0&&(o=this.lastId++,this.dictionary.set(a,o),this.reverseDictionary.set(o,a)),o}encodeOptional(i){const a=(0,t.termToString)(i);return this.dictionary.get(a)}decode(i){const a=this.reverseDictionary.get(i);if(a===void 0)throw new Error(`The value ${i} is not present in this dictionary`);return(0,t.stringToTerm)(a,this.dataFactory)}encodings(){return this.reverseDictionary.keys()}findQuotedTriples(i){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(i){throw new Error("findQuotedTriplesEncoded is not supported")}};return gf.TermDictionaryNumberMap=r,gf}var _f={},z2;function aW(){if(z2)return _f;z2=1,Object.defineProperty(_f,"__esModule",{value:!0}),_f.TermDictionaryNumberRecord=void 0;const e=Jr(),t=Uh();let r=class{constructor(i=new e.DataFactory){this.lastId=0,this.dictionary={},this.reverseDictionary={},this.features={quotedTriples:!1},this.dataFactory=i}encode(i){const a=(0,t.termToString)(i);let o=this.dictionary[a];return o===void 0&&(o=this.lastId++,this.dictionary[a]=o,this.reverseDictionary[o]=a),o}encodeOptional(i){const a=(0,t.termToString)(i);return this.dictionary[a]}decode(i){const a=this.reverseDictionary[i];if(a===void 0)throw new Error(`The value ${i} is not present in this dictionary`);return(0,t.stringToTerm)(a,this.dataFactory)}*encodings(){for(const i of Object.keys(this.reverseDictionary))yield Number.parseInt(i,10)}findQuotedTriples(i){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(i){throw new Error("findQuotedTriplesEncoded is not supported")}};return _f.TermDictionaryNumberRecord=r,_f}var bf={},W2;function oW(){if(W2)return bf;W2=1,Object.defineProperty(bf,"__esModule",{value:!0}),bf.TermDictionaryQuoted=void 0;const e=Jr(),t=xm();let r=class xs{constructor(i,a,o=new e.DataFactory){this.features={quotedTriples:!0},this.plainTermDictionary=i,this.quotedTriplesDictionary=a,this.dataFactory=o}encode(i){return i.termType==="Quad"?xs.BITMASK|1+this.quotedTriplesDictionary.encode(i):this.plainTermDictionary.encode(i)}encodeOptional(i){if(i.termType==="Quad"){const a=this.quotedTriplesDictionary.encodeOptional(i);return a===void 0?a:xs.BITMASK|1+a}return this.plainTermDictionary.encodeOptional(i)}decode(i){if(xs.BITMASK&i){const a=(~xs.BITMASK&i)-1;return this.quotedTriplesDictionary.decode(a)}return this.plainTermDictionary.decode(i)}*encodings(){for(const i of this.plainTermDictionary.encodings())yield i;for(const i of this.quotedTriplesDictionary.encodings())yield xs.BITMASK|1+i}*findQuotedTriples(i){for(const a of this.findQuotedTriplesEncoded(i))yield this.decode(a)}*findQuotedTriplesEncoded(i){for(let a of this.quotedTriplesDictionary.encodings()){a=xs.BITMASK|1+a;const o=this.decode(a);(0,t.matchPattern)(o,i.subject,i.predicate,i.object,i.graph)&&(yield a)}}};return r.BITMASK=1<<31,bf.TermDictionaryQuoted=r,bf}var vf={},G2;function sW(){if(G2)return vf;G2=1,Object.defineProperty(vf,"__esModule",{value:!0}),vf.TermDictionaryQuotedReferential=void 0;const e=Jr(),t=xm(),r=va();let n=class Fa{constructor(a,o=new e.DataFactory){this.quotedTriplesDictionary=[],this.quotedTriplesReverseDictionary={},this.features={quotedTriples:!0},this.plainTermDictionary=a,this.dataFactory=o}encode(a){return a.termType==="Quad"?this.encodeQuotedTriple(a,!1):this.plainTermDictionary.encode(a)}encodeQuotedTriple(a,o){var s;if(a.graph.termType!=="DefaultGraph")throw new Error("Encoding of quoted quads outside of the default graph is not allowed");const l=(s=(0,r.encodeOptionalTerms)([a.subject,a.predicate,a.object,void 0],this))===null||s===void 0?void 0:s.slice(0,3),u=l&&l.every(c=>c!==void 0)?this.quotedTriplesReverseDictionary[l.join(Fa.SEPARATOR)]:void 0;if(u!==void 0||o)return u===void 0?void 0:Fa.BITMASK|u;const f=[this.encode(a.subject),this.encode(a.predicate),this.encode(a.object)],d=this.quotedTriplesDictionary.length+1;return this.quotedTriplesDictionary.push(f),this.quotedTriplesReverseDictionary[f.join(Fa.SEPARATOR)]=d,Fa.BITMASK|d}encodeOptional(a){return a.termType==="Quad"?this.encodeQuotedTriple(a,!0):this.plainTermDictionary.encodeOptional(a)}decode(a){if(Fa.BITMASK&a){const o=(~Fa.BITMASK&a)-1;if(o>=this.quotedTriplesDictionary.length)throw new Error(`The value ${a} is not present in the quoted triples range of the dictionary`);const s=this.quotedTriplesDictionary[o];return this.dataFactory.quad(this.decode(s[0]),this.decode(s[1]),this.decode(s[2]))}return this.plainTermDictionary.decode(a)}*encodings(){for(const a of this.plainTermDictionary.encodings())yield a;for(const a of this.quotedTriplesDictionary.keys())yield Fa.BITMASK|1+a}*findQuotedTriples(a){for(const o of this.findQuotedTriplesEncoded(a))yield this.decode(o)}*findQuotedTriplesEncoded(a){for(let o of this.quotedTriplesDictionary.keys()){o=Fa.BITMASK|1+o;const s=this.decode(o);(0,t.matchPattern)(s,a.subject,a.predicate,a.object,a.graph)&&(yield o)}}};return n.BITMASK=1<<31,n.SEPARATOR="_",vf.TermDictionaryQuotedReferential=n,vf}var wf={},K2;function uW(){if(K2)return wf;K2=1,Object.defineProperty(wf,"__esModule",{value:!0}),wf.TermDictionarySymbol=void 0;const e=Jr(),t=Uh();let r=class{constructor(i=new e.DataFactory){this.features={quotedTriples:!1},this.dataFactory=i}encode(i){return Symbol.for(`rdf::${(0,t.termToString)(i)}`)}encodeOptional(i){return this.encode(i)}decode(i){const a=Symbol.keyFor(i);if(a===void 0)throw new Error(`The value ${String(i)} is not present in this dictionary`);return(0,t.stringToTerm)(a.slice(5),this.dataFactory)}encodings(){throw new Error("encodings is not supported")}findQuotedTriples(i){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(i){throw new Error("findQuotedTriplesEncoded is not supported")}};return wf.TermDictionarySymbol=r,wf}var Cg={},Z2;function lW(){return Z2||(Z2=1,Object.defineProperty(Cg,"__esModule",{value:!0})),Cg}var Ef={},Y2;function P6(){if(Y2)return Ef;Y2=1,Object.defineProperty(Ef,"__esModule",{value:!0}),Ef.RdfStoreIndexNestedMapRecursive=void 0;const e=va();let t=class{constructor(n){this.features={quotedTripleFiltering:!1},this.dictionary=n.dictionary,this.nestedMap=new Map}set(n,i){let a=this.nestedMap,o=!1;for(const[s,l]of n.entries()){const u=a;let f=u.get(l);f?s===n.length-1&&(o=!0):(f=s===n.length-1?i:new Map,u.set(l,f)),a=f}return!o}remove(n){const i=this.nestedMap,a=i.get(n[0]);if(!a)return!1;const o=a.get(n[1]);if(!o)return!1;const s=o.get(n[2]);if(!s)return!1;const l=s.delete(n[3]);return l&&s.size===0&&(o.delete(n[2]),o.size===0&&(a.delete(n[1]),a.size===0&&i.delete(n[0]))),l}get(n){const i=(0,e.encodeOptionalTerms)(n,this.dictionary);if(!(!i||i.includes(void 0)))return this.getEncoded(i)}getEncoded(n){const i=this.nestedMap.get(n[0]);if(!i)return;const a=i.get(n[1]);if(!a)return;const o=a.get(n[2]);if(o)return o.get(n[3])}*find(n){const i=(0,e.encodeOptionalTerms)(n,this.dictionary);if(i)for(const a of this.findEncoded(i,n))yield[i[0]!==void 0?n[0]:this.dictionary.decode(a[0]),i[1]!==void 0?n[1]:this.dictionary.decode(a[1]),i[2]!==void 0?n[2]:this.dictionary.decode(a[2]),i[3]!==void 0?n[3]:this.dictionary.decode(a[3])]}*findEncoded(n,i){return yield*this.findEncodedInner(0,n,i,this.nestedMap,[])}*findEncodedInner(n,i,a,o,s){if(n===i.length)yield[...s];else{const l=i[n];if(a[n]){const f=l;if(f!==void 0){const d=o.get(f);d&&(s[n]=l,yield*this.findEncodedInner(n+1,i,a,d,s))}}else for(const[f,d]of o.entries())s[n]=f,yield*this.findEncodedInner(n+1,i,a,d,s)}}count(n){return this.countInner(0,n,this.nestedMap)}countInner(n,i,a){const o=i[n];let s=0;if(o){const l=this.dictionary.encodeOptional(o);if(l!==void 0){if(n===i.length-1)return a.has(l)?1:0;const u=a.get(l);u&&(s+=this.countInner(n+1,i,u))}}else{if(n===i.length-1)return a.size;for(const l of a.values())s+=this.countInner(n+1,i,l)}return s}};return Ef.RdfStoreIndexNestedMapRecursive=t,Ef}var Sf={},Q2;function fW(){if(Q2)return Sf;Q2=1,Object.defineProperty(Sf,"__esModule",{value:!0}),Sf.RdfStoreIndexNestedMapRecursiveQuoted=void 0;const e=va(),t=P6();let r=class extends t.RdfStoreIndexNestedMapRecursive{constructor(i){super(i),this.features={quotedTripleFiltering:!0}}*findEncoded(i,a){return yield*this.findEncodedInnerQuoted(0,i,a,(0,e.arePatternsQuoted)(a),this.nestedMap,[])}*findEncodedInnerQuoted(i,a,o,s,l,u){if(i===a.length)yield[...u];else{const f=a[i],d=o[i];if(d)if(s[i]){const c=this.dictionary.findQuotedTriplesEncoded(d);for(const p of c){const b=l.get(p);b&&(u[i]=p,yield*this.findEncodedInnerQuoted(i+1,a,o,s,b,u))}}else{const c=f;if(c!==void 0){const p=l.get(c);p&&(u[i]=f,yield*this.findEncodedInnerQuoted(i+1,a,o,s,p,u))}}else for(const[c,p]of l.entries())u[i]=c,yield*this.findEncodedInnerQuoted(i+1,a,o,s,p,u)}}countInner(i,a,o){const s=a[i];let l=0;if(s)if(s.termType==="Quad"&&(0,e.quadHasVariables)(s)){const u=this.dictionary.findQuotedTriplesEncoded(s);for(const f of u)if(i===a.length-1)o.has(f)&&l++;else{const d=o.get(f);d&&(l+=this.countInner(i+1,a,d))}}else{const u=this.dictionary.encodeOptional(s);if(u!==void 0){if(i===a.length-1)return o.has(u)?1:0;const f=o.get(u);f&&(l+=this.countInner(i+1,a,f))}}else{if(i===a.length-1)return o.size;for(const u of o.values())l+=this.countInner(i+1,a,u)}return l}};return Sf.RdfStoreIndexNestedMapRecursiveQuoted=r,Sf}var xf={},X2;function D6(){if(X2)return xf;X2=1,Object.defineProperty(xf,"__esModule",{value:!0}),xf.RdfStoreIndexNestedRecord=void 0;const e=va();let t=class{constructor(n){this.features={quotedTripleFiltering:!1},this.dictionary=n.dictionary,this.nestedRecords={}}set(n,i){const a=this.nestedRecords,o=a[n[0]]||(a[n[0]]={}),s=o[n[1]]||(o[n[1]]={}),l=s[n[2]]||(s[n[2]]={});return l[n[3]]?!1:(l[n[3]]=i,!0)}remove(n){const i=this.nestedRecords,a=i[n[0]];if(!a)return!1;const o=a[n[1]];if(!o)return!1;const s=o[n[2]];return!s||!s[n[3]]?!1:(delete s[n[3]],Object.keys(s).length===0&&(delete o[n[2]],Object.keys(o).length===0&&(delete a[n[1]],Object.keys(a).length===0&&delete i[n[0]])),!0)}get(n){const i=(0,e.encodeOptionalTerms)(n,this.dictionary);if(!(!i||i.includes(void 0)))return this.getEncoded(i)}getEncoded(n){var i,a,o;return(o=(a=(i=this.nestedRecords[n[0]])===null||i===void 0?void 0:i[n[1]])===null||a===void 0?void 0:a[n[2]])===null||o===void 0?void 0:o[n[3]]}*find(n){const i=(0,e.encodeOptionalTerms)(n,this.dictionary);if(!i)return;const[a,o,s,l]=i,[u,f,d,c]=n;let p,b,v,_,y,m,g;const E=this.nestedRecords,T=a!==void 0?a in E?[a]:[]:Object.keys(E);for(const I of T){y=E[I],p=u||this.dictionary.decode(Number.parseInt(I,10));const D=o!==void 0?o in y?[o]:[]:Object.keys(y);for(const B of D){m=y[B],b=f||this.dictionary.decode(Number.parseInt(B,10));const N=s!==void 0?s in m?[s]:[]:Object.keys(m);for(const M of N){g=m[M],v=d||this.dictionary.decode(Number.parseInt(M,10));const j=l!==void 0?l in g?[l]:[]:Object.keys(g);for(const O of j)_=c||this.dictionary.decode(Number.parseInt(O,10)),yield[p,b,v,_]}}}}*findEncoded(n,i){const[a,o,s,l]=n;let u,f,d;const c=this.nestedRecords,p=a!==void 0?a in c?[a]:[]:Object.keys(c);for(const b of p){u=c[b];const v=o!==void 0?o in u?[o]:[]:Object.keys(u);for(const _ of v){f=u[_];const y=s!==void 0?s in f?[s]:[]:Object.keys(f);for(const m of y){d=f[m];const g=l!==void 0?l in d?[l]:[]:Object.keys(d);for(const E of g)yield[Number.parseInt(b,10),Number.parseInt(_,10),Number.parseInt(m,10),Number.parseInt(E,10)]}}}}count(n){let i=0;const a=(0,e.encodeOptionalTerms)(n,this.dictionary);if(!a)return 0;const o=a[0],s=a[1],l=a[2],u=a[3];let f,d,c;const p=this.nestedRecords,b=o!==void 0?o in p?[o]:[]:Object.keys(p);for(const v of b){f=p[v];const _=s!==void 0?s in f?[s]:[]:Object.keys(f);for(const y of _){d=f[y];const m=l!==void 0?l in d?[l]:[]:Object.keys(d);for(const g of m)c=d[g],u!==void 0?u in c&&i++:i+=Object.keys(c).length}}return i}};return xf.RdfStoreIndexNestedRecord=t,xf}var Tf={},J2;function cW(){if(J2)return Tf;J2=1,Object.defineProperty(Tf,"__esModule",{value:!0}),Tf.RdfStoreIndexNestedRecordQuoted=void 0;const e=va(),t=D6();let r=class extends t.RdfStoreIndexNestedRecord{constructor(i){super(i),this.features={quotedTripleFiltering:!0}}*getQuotedPatternKeys(i,a){for(const o of this.dictionary.findQuotedTriplesEncoded(a))o in i&&(yield o)}*find(i){const a=(0,e.encodeOptionalTerms)(i,this.dictionary);if(!a)return;const[o,s,l,u]=a,[f,d,c,p]=i,[b,v,_,y]=(0,e.arePatternsQuoted)(i);let m,g,E,T,I,D,B;const N=this.nestedRecords,M=f!==void 0?b?this.getQuotedPatternKeys(N,f):o in N?[o]:[]:Object.keys(N);for(const j of M){I=N[j],m=!b&&f?f:this.dictionary.decode(Number.parseInt(j,10));const O=d!==void 0?v?this.getQuotedPatternKeys(I,d):s in I?[s]:[]:Object.keys(I);for(const q of O){D=I[q],g=!v&&d?d:this.dictionary.decode(Number.parseInt(q,10));const Q=c!==void 0?_?this.getQuotedPatternKeys(D,c):l in D?[l]:[]:Object.keys(D);for(const ie of Q){B=D[ie],E=!_&&c?c:this.dictionary.decode(Number.parseInt(ie,10));const X=p!==void 0?y?this.getQuotedPatternKeys(B,p):u in B?[u]:[]:Object.keys(B);for(const le of X)T=!y&&p?p:this.dictionary.decode(Number.parseInt(le,10)),yield[m,g,E,T]}}}}*findEncoded(i,a){const[o,s,l,u]=i,[f,d,c,p]=a,[b,v,_,y]=(0,e.arePatternsQuoted)(a);let m,g,E;const T=this.nestedRecords,I=f!==void 0?b?this.getQuotedPatternKeys(T,f):o in T?[o]:[]:Object.keys(T);for(const D of I){m=T[D];const B=d!==void 0?v?this.getQuotedPatternKeys(m,d):s in m?[s]:[]:Object.keys(m);for(const N of B){g=m[N];const M=c!==void 0?_?this.getQuotedPatternKeys(g,c):l in g?[l]:[]:Object.keys(g);for(const j of M){E=g[j];const O=p!==void 0?y?this.getQuotedPatternKeys(E,p):u in E?[u]:[]:Object.keys(E);for(const q of O)yield[Number.parseInt(D,10),Number.parseInt(N,10),Number.parseInt(j,10),Number.parseInt(q,10)]}}}}count(i){let a=0;const o=(0,e.encodeOptionalTerms)(i,this.dictionary);if(!o)return 0;const[s,l,u,f]=o,[d,c,p,b]=i,[v,_,y,m]=(0,e.arePatternsQuoted)(i);let g,E,T;const I=this.nestedRecords,D=d!==void 0?v?this.getQuotedPatternKeys(I,d):s in I?[s]:[]:Object.keys(I);for(const B of D){g=I[B];const N=c!==void 0?_?this.getQuotedPatternKeys(g,c):l in g?[l]:[]:Object.keys(g);for(const M of N){E=g[M];const j=p!==void 0?y?this.getQuotedPatternKeys(E,p):u in E?[u]:[]:Object.keys(E);for(const O of j)T=E[O],b!==void 0?m?a+=[...this.getQuotedPatternKeys(T,b)].length:f in T&&a++:a+=Object.keys(T).length}}return a}};return Tf.RdfStoreIndexNestedRecordQuoted=r,Tf}var Lg={},eA;function dW(){return eA||(eA=1,Object.defineProperty(Lg,"__esModule",{value:!0})),Lg}var Mg={},tA;function hW(){return tA||(tA=1,Object.defineProperty(Mg,"__esModule",{value:!0})),Mg}var rA;function N6(){return rA||(rA=1,function(e){var t=sf.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=sf.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(O6(),e),r(nW(),e),r(iW(),e),r(aW(),e),r(x6(),e),r(oW(),e),r(T6(),e),r(sW(),e),r(uW(),e),r(lW(),e),r(fS(),e),r(R6(),e),r(P6(),e),r(fW(),e),r(D6(),e),r(cW(),e),r(dW(),e),r(va(),e),r(hW(),e),r(A6(),e)}(sf)),sf}var ju=N6(),cS=Jr(),kg={},$p={},Fg,nA;function ni(){if(nA)return Fg;nA=1;function e(b){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},e(b)}function t(b,v,_){return Object.defineProperty(b,"prototype",{writable:!1}),b}function r(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}function n(b,v,_){return v=c(v),i(b,u()?Reflect.construct(v,_,c(b).constructor):v.apply(b,_))}function i(b,v){if(v&&(e(v)=="object"||typeof v=="function"))return v;if(v!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a(b)}function a(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}function o(b,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(v&&v.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),Object.defineProperty(b,"prototype",{writable:!1}),v&&d(b,v)}function s(b){var v=typeof Map=="function"?new Map:void 0;return s=function(y){if(y===null||!f(y))return y;if(typeof y!="function")throw new TypeError("Super expression must either be null or a function");if(v!==void 0){if(v.has(y))return v.get(y);v.set(y,m)}function m(){return l(y,arguments,c(this).constructor)}return m.prototype=Object.create(y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),d(m,y)},s(b)}function l(b,v,_){if(u())return Reflect.construct.apply(null,arguments);var y=[null];y.push.apply(y,v);var m=new(b.bind.apply(b,y));return _&&d(m,_.prototype),m}function u(){try{var b=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u=function(){return!!b})()}function f(b){try{return Function.toString.call(b).indexOf("[native code]")!==-1}catch{return typeof b=="function"}}function d(b,v){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,y){return _.__proto__=y,_},d(b,v)}function c(b){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(v){return v.__proto__||Object.getPrototypeOf(v)},c(b)}var p=function(b){function v(_){var y;return r(this,v),y=n(this,v,[`Format functions must be synchronous taking a two arguments: (info, opts)
Found: `.concat(_.toString().split(`
`)[0],`
`)]),Error.captureStackTrace(y,v),y}return o(v,b),t(v)}(s(Error));return Fg=function(b){if(b.length>2)throw new p(b);function v(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=y}v.prototype.transform=b;function _(y){return new v(y)}return _.Format=v,_},Fg}var Rf={exports:{}},jg={exports:{}},Bg={exports:{}},qg={},$g={},Ug,iA;function dS(){return iA||(iA=1,Ug=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;t[r]=i;for(var a in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var o=Object.getOwnPropertySymbols(t);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(t,r);if(s.value!==i||s.enumerable!==!0)return!1}return!0}),Ug}var Hg,aA;function Tm(){if(aA)return Hg;aA=1;var e=dS();return Hg=function(){return e()&&!!Symbol.toStringTag},Hg}var Vg,oA;function hS(){return oA||(oA=1,Vg=Object),Vg}var zg,sA;function pW(){return sA||(sA=1,zg=Error),zg}var Wg,uA;function mW(){return uA||(uA=1,Wg=EvalError),Wg}var Gg,lA;function yW(){return lA||(lA=1,Gg=RangeError),Gg}var Kg,fA;function gW(){return fA||(fA=1,Kg=ReferenceError),Kg}var Zg,cA;function C6(){return cA||(cA=1,Zg=SyntaxError),Zg}var Yg,dA;function ro(){return dA||(dA=1,Yg=TypeError),Yg}var Qg,hA;function _W(){return hA||(hA=1,Qg=URIError),Qg}var Xg,pA;function bW(){return pA||(pA=1,Xg=Math.abs),Xg}var Jg,mA;function vW(){return mA||(mA=1,Jg=Math.floor),Jg}var e_,yA;function wW(){return yA||(yA=1,e_=Math.max),e_}var t_,gA;function EW(){return gA||(gA=1,t_=Math.min),t_}var r_,_A;function SW(){return _A||(_A=1,r_=Math.pow),r_}var n_,bA;function xW(){return bA||(bA=1,n_=Math.round),n_}var i_,vA;function TW(){return vA||(vA=1,i_=Number.isNaN||function(t){return t!==t}),i_}var a_,wA;function RW(){if(wA)return a_;wA=1;var e=TW();return a_=function(r){return e(r)||r===0?r:r<0?-1:1},a_}var o_,EA;function AW(){return EA||(EA=1,o_=Object.getOwnPropertyDescriptor),o_}var s_,SA;function nl(){if(SA)return s_;SA=1;var e=AW();if(e)try{e([],"length")}catch{e=null}return s_=e,s_}var u_,xA;function Rm(){if(xA)return u_;xA=1;var e=Object.defineProperty||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return u_=e,u_}var l_,TA;function IW(){if(TA)return l_;TA=1;var e=typeof Symbol<"u"&&Symbol,t=dS();return l_=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},l_}var f_,RA;function L6(){return RA||(RA=1,f_=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),f_}var c_,AA;function M6(){if(AA)return c_;AA=1;var e=hS();return c_=e.getPrototypeOf||null,c_}var d_,IA;function OW(){if(IA)return d_;IA=1;var e="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,r=Math.max,n="[object Function]",i=function(l,u){for(var f=[],d=0;d<l.length;d+=1)f[d]=l[d];for(var c=0;c<u.length;c+=1)f[c+l.length]=u[c];return f},a=function(l,u){for(var f=[],d=u,c=0;d<l.length;d+=1,c+=1)f[c]=l[d];return f},o=function(s,l){for(var u="",f=0;f<s.length;f+=1)u+=s[f],f+1<s.length&&(u+=l);return u};return d_=function(l){var u=this;if(typeof u!="function"||t.apply(u)!==n)throw new TypeError(e+u);for(var f=a(arguments,1),d,c=function(){if(this instanceof d){var y=u.apply(this,i(f,arguments));return Object(y)===y?y:this}return u.apply(l,i(f,arguments))},p=r(0,u.length-f.length),b=[],v=0;v<p;v++)b[v]="$"+v;if(d=Function("binder","return function ("+o(b,",")+"){ return binder.apply(this,arguments); }")(c),u.prototype){var _=function(){};_.prototype=u.prototype,d.prototype=new _,_.prototype=null}return d},d_}var h_,OA;function Hh(){if(OA)return h_;OA=1;var e=OW();return h_=Function.prototype.bind||e,h_}var p_,PA;function pS(){return PA||(PA=1,p_=Function.prototype.call),p_}var m_,DA;function mS(){return DA||(DA=1,m_=Function.prototype.apply),m_}var y_,NA;function PW(){return NA||(NA=1,y_=typeof Reflect<"u"&&Reflect&&Reflect.apply),y_}var g_,CA;function k6(){if(CA)return g_;CA=1;var e=Hh(),t=mS(),r=pS(),n=PW();return g_=n||e.call(r,t),g_}var __,LA;function yS(){if(LA)return __;LA=1;var e=Hh(),t=ro(),r=pS(),n=k6();return __=function(a){if(a.length<1||typeof a[0]!="function")throw new t("a function is required");return n(e,r,a)},__}var b_,MA;function DW(){if(MA)return b_;MA=1;var e=yS(),t=nl(),r;try{r=[].__proto__===Array.prototype}catch(o){if(!o||typeof o!="object"||!("code"in o)||o.code!=="ERR_PROTO_ACCESS")throw o}var n=!!r&&t&&t(Object.prototype,"__proto__"),i=Object,a=i.getPrototypeOf;return b_=n&&typeof n.get=="function"?e([n.get]):typeof a=="function"?function(s){return a(s==null?s:i(s))}:!1,b_}var v_,kA;function F6(){if(kA)return v_;kA=1;var e=L6(),t=M6(),r=DW();return v_=e?function(i){return e(i)}:t?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return t(i)}:r?function(i){return r(i)}:null,v_}var w_,FA;function j6(){if(FA)return w_;FA=1;var e=Function.prototype.call,t=Object.prototype.hasOwnProperty,r=Hh();return w_=r.call(e,t),w_}var E_,jA;function Vh(){if(jA)return E_;jA=1;var e,t=hS(),r=pW(),n=mW(),i=yW(),a=gW(),o=C6(),s=ro(),l=_W(),u=bW(),f=vW(),d=wW(),c=EW(),p=SW(),b=xW(),v=RW(),_=Function,y=function(te){try{return _('"use strict"; return ('+te+").constructor;")()}catch{}},m=nl(),g=Rm(),E=function(){throw new s},T=m?function(){try{return arguments.callee,E}catch{try{return m(arguments,"callee").get}catch{return E}}}():E,I=IW()(),D=F6(),B=M6(),N=L6(),M=mS(),j=pS(),O={},q=typeof Uint8Array>"u"||!D?e:D(Uint8Array),Q={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?e:ArrayBuffer,"%ArrayIteratorPrototype%":I&&D?D([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":O,"%AsyncGenerator%":O,"%AsyncGeneratorFunction%":O,"%AsyncIteratorPrototype%":O,"%Atomics%":typeof Atomics>"u"?e:Atomics,"%BigInt%":typeof BigInt>"u"?e:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?e:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":r,"%eval%":eval,"%EvalError%":n,"%Float32Array%":typeof Float32Array>"u"?e:Float32Array,"%Float64Array%":typeof Float64Array>"u"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?e:FinalizationRegistry,"%Function%":_,"%GeneratorFunction%":O,"%Int8Array%":typeof Int8Array>"u"?e:Int8Array,"%Int16Array%":typeof Int16Array>"u"?e:Int16Array,"%Int32Array%":typeof Int32Array>"u"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":I&&D?D(D([][Symbol.iterator]())):e,"%JSON%":typeof JSON=="object"?JSON:e,"%Map%":typeof Map>"u"?e:Map,"%MapIteratorPrototype%":typeof Map>"u"||!I||!D?e:D(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":t,"%Object.getOwnPropertyDescriptor%":m,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?e:Promise,"%Proxy%":typeof Proxy>"u"?e:Proxy,"%RangeError%":i,"%ReferenceError%":a,"%Reflect%":typeof Reflect>"u"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?e:Set,"%SetIteratorPrototype%":typeof Set>"u"||!I||!D?e:D(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":I&&D?D(""[Symbol.iterator]()):e,"%Symbol%":I?Symbol:e,"%SyntaxError%":o,"%ThrowTypeError%":T,"%TypedArray%":q,"%TypeError%":s,"%Uint8Array%":typeof Uint8Array>"u"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?e:Uint32Array,"%URIError%":l,"%WeakMap%":typeof WeakMap>"u"?e:WeakMap,"%WeakRef%":typeof WeakRef>"u"?e:WeakRef,"%WeakSet%":typeof WeakSet>"u"?e:WeakSet,"%Function.prototype.call%":j,"%Function.prototype.apply%":M,"%Object.defineProperty%":g,"%Object.getPrototypeOf%":B,"%Math.abs%":u,"%Math.floor%":f,"%Math.max%":d,"%Math.min%":c,"%Math.pow%":p,"%Math.round%":b,"%Math.sign%":v,"%Reflect.getPrototypeOf%":N};if(D)try{null.error}catch(te){var ie=D(D(te));Q["%Error.prototype%"]=ie}var X=function te(pe){var R;if(pe==="%AsyncFunction%")R=y("async function () {}");else if(pe==="%GeneratorFunction%")R=y("function* () {}");else if(pe==="%AsyncGeneratorFunction%")R=y("async function* () {}");else if(pe==="%AsyncGenerator%"){var w=te("%AsyncGeneratorFunction%");w&&(R=w.prototype)}else if(pe==="%AsyncIteratorPrototype%"){var x=te("%AsyncGenerator%");x&&D&&(R=D(x.prototype))}return Q[pe]=R,R},le={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ae=Hh(),ne=j6(),V=ae.call(j,Array.prototype.concat),oe=ae.call(M,Array.prototype.splice),he=ae.call(j,String.prototype.replace),Y=ae.call(j,String.prototype.slice),Z=ae.call(j,RegExp.prototype.exec),ee=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,P=/\\(\\)?/g,A=function(pe){var R=Y(pe,0,1),w=Y(pe,-1);if(R==="%"&&w!=="%")throw new o("invalid intrinsic syntax, expected closing `%`");if(w==="%"&&R!=="%")throw new o("invalid intrinsic syntax, expected opening `%`");var x=[];return he(pe,ee,function(k,U,re,fe){x[x.length]=re?he(fe,P,"$1"):U||k}),x},$=function(pe,R){var w=pe,x;if(ne(le,w)&&(x=le[w],w="%"+x[0]+"%"),ne(Q,w)){var k=Q[w];if(k===O&&(k=X(w)),typeof k>"u"&&!R)throw new s("intrinsic "+pe+" exists, but is not available. Please file an issue!");return{alias:x,name:w,value:k}}throw new o("intrinsic "+pe+" does not exist!")};return E_=function(pe,R){if(typeof pe!="string"||pe.length===0)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof R!="boolean")throw new s('"allowMissing" argument must be a boolean');if(Z(/^%?[^%]*%?$/,pe)===null)throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var w=A(pe),x=w.length>0?w[0]:"",k=$("%"+x+"%",R),U=k.name,re=k.value,fe=!1,ve=k.alias;ve&&(x=ve[0],oe(w,V([0,1],ve)));for(var ce=1,Ie=!0;ce<w.length;ce+=1){var be=w[ce],xe=Y(be,0,1),je=Y(be,-1);if((xe==='"'||xe==="'"||xe==="`"||je==='"'||je==="'"||je==="`")&&xe!==je)throw new o("property names with quotes must have matching quotes");if((be==="constructor"||!Ie)&&(fe=!0),x+="."+be,U="%"+x+"%",ne(Q,U))re=Q[U];else if(re!=null){if(!(be in re)){if(!R)throw new s("base intrinsic for "+pe+" exists, but the property is not available.");return}if(m&&ce+1>=w.length){var Ae=m(re,be);Ie=!!Ae,Ie&&"get"in Ae&&!("originalValue"in Ae.get)?re=Ae.get:re=re[be]}else Ie=ne(re,be),re=re[be];Ie&&!fe&&(Q[U]=re)}}return re},E_}var S_,BA;function zo(){if(BA)return S_;BA=1;var e=Vh(),t=yS(),r=t([e("%String.prototype.indexOf%")]);return S_=function(i,a){var o=e(i,!!a);return typeof o=="function"&&r(i,".prototype.")>-1?t([o]):o},S_}var x_,qA;function NW(){if(qA)return x_;qA=1;var e=Tm()(),t=zo(),r=t("Object.prototype.toString"),n=function(s){return e&&s&&typeof s=="object"&&Symbol.toStringTag in s?!1:r(s)==="[object Arguments]"},i=function(s){return n(s)?!0:s!==null&&typeof s=="object"&&"length"in s&&typeof s.length=="number"&&s.length>=0&&r(s)!=="[object Array]"&&"callee"in s&&r(s.callee)==="[object Function]"},a=function(){return n(arguments)}();return n.isLegacyArguments=i,x_=a?n:i,x_}var T_,$A;function CW(){if($A)return T_;$A=1;var e=zo(),t=Tm()(),r=j6(),n=nl(),i;if(t){var a=e("RegExp.prototype.exec"),o={},s=function(){throw o},l={toString:s,valueOf:s};typeof Symbol.toPrimitive=="symbol"&&(l[Symbol.toPrimitive]=s),i=function(c){if(!c||typeof c!="object")return!1;var p=n(c,"lastIndex"),b=p&&r(p,"value");if(!b)return!1;try{a(c,l)}catch(v){return v===o}}}else{var u=e("Object.prototype.toString"),f="[object RegExp]";i=function(c){return!c||typeof c!="object"&&typeof c!="function"?!1:u(c)===f}}return T_=i,T_}var R_,UA;function LW(){if(UA)return R_;UA=1;var e=zo(),t=CW(),r=e("RegExp.prototype.exec"),n=ro();return R_=function(a){if(!t(a))throw new n("`regex` must be a RegExp");return function(s){return r(a,s)!==null}},R_}var A_,HA;function MW(){if(HA)return A_;HA=1;var e=zo(),t=LW(),r=t(/^\s*(?:function)?\*/),n=Tm()(),i=F6(),a=e("Object.prototype.toString"),o=e("Function.prototype.toString"),s=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch{}},l;return A_=function(f){if(typeof f!="function")return!1;if(r(o(f)))return!0;if(!n){var d=a(f);return d==="[object GeneratorFunction]"}if(!i)return!1;if(typeof l>"u"){var c=s();l=c?i(c):!1}return i(f)===l},A_}var I_,VA;function kW(){if(VA)return I_;VA=1;var e=Function.prototype.toString,t=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,n;if(typeof t=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw n}}),n={},t(function(){throw 42},null,r)}catch(m){m!==n&&(t=null)}else t=null;var i=/^\s*class\b/,a=function(g){try{var E=e.call(g);return i.test(E)}catch{return!1}},o=function(g){try{return a(g)?!1:(e.call(g),!0)}catch{return!1}},s=Object.prototype.toString,l="[object Object]",u="[object Function]",f="[object GeneratorFunction]",d="[object HTMLAllCollection]",c="[object HTML document.all class]",p="[object HTMLCollection]",b=typeof Symbol=="function"&&!!Symbol.toStringTag,v=!(0 in[,]),_=function(){return!1};if(typeof document=="object"){var y=document.all;s.call(y)===s.call(document.all)&&(_=function(g){if((v||!g)&&(typeof g>"u"||typeof g=="object"))try{var E=s.call(g);return(E===d||E===c||E===p||E===l)&&g("")==null}catch{}return!1})}return I_=t?function(g){if(_(g))return!0;if(!g||typeof g!="function"&&typeof g!="object")return!1;try{t(g,null,r)}catch(E){if(E!==n)return!1}return!a(g)&&o(g)}:function(g){if(_(g))return!0;if(!g||typeof g!="function"&&typeof g!="object")return!1;if(b)return o(g);if(a(g))return!1;var E=s.call(g);return E!==u&&E!==f&&!/^\[object HTML/.test(E)?!1:o(g)},I_}var O_,zA;function FW(){if(zA)return O_;zA=1;var e=kW(),t=Object.prototype.toString,r=Object.prototype.hasOwnProperty,n=function(l,u,f){for(var d=0,c=l.length;d<c;d++)r.call(l,d)&&(f==null?u(l[d],d,l):u.call(f,l[d],d,l))},i=function(l,u,f){for(var d=0,c=l.length;d<c;d++)f==null?u(l.charAt(d),d,l):u.call(f,l.charAt(d),d,l)},a=function(l,u,f){for(var d in l)r.call(l,d)&&(f==null?u(l[d],d,l):u.call(f,l[d],d,l))},o=function(l,u,f){if(!e(u))throw new TypeError("iterator must be a function");var d;arguments.length>=3&&(d=f),t.call(l)==="[object Array]"?n(l,u,d):typeof l=="string"?i(l,u,d):a(l,u,d)};return O_=o,O_}var P_,WA;function jW(){return WA||(WA=1,P_=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),P_}var D_,GA;function BW(){if(GA)return D_;GA=1;var e=jW(),t=typeof globalThis>"u"?xt:globalThis;return D_=function(){for(var n=[],i=0;i<e.length;i++)typeof t[e[i]]=="function"&&(n[n.length]=e[i]);return n},D_}var N_={exports:{}},C_,KA;function B6(){if(KA)return C_;KA=1;var e=Rm(),t=C6(),r=ro(),n=nl();return C_=function(a,o,s){if(!a||typeof a!="object"&&typeof a!="function")throw new r("`obj` must be an object or a function`");if(typeof o!="string"&&typeof o!="symbol")throw new r("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new r("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new r("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new r("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new r("`loose`, if provided, must be a boolean");var l=arguments.length>3?arguments[3]:null,u=arguments.length>4?arguments[4]:null,f=arguments.length>5?arguments[5]:null,d=arguments.length>6?arguments[6]:!1,c=!!n&&n(a,o);if(e)e(a,o,{configurable:f===null&&c?c.configurable:!f,enumerable:l===null&&c?c.enumerable:!l,value:s,writable:u===null&&c?c.writable:!u});else if(d||!l&&!u&&!f)a[o]=s;else throw new t("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},C_}var L_,ZA;function q6(){if(ZA)return L_;ZA=1;var e=Rm(),t=function(){return!!e};return t.hasArrayLengthDefineBug=function(){if(!e)return null;try{return e([],"length",{value:1}).length!==1}catch{return!0}},L_=t,L_}var M_,YA;function qW(){if(YA)return M_;YA=1;var e=Vh(),t=B6(),r=q6()(),n=nl(),i=ro(),a=e("%Math.floor%");return M_=function(s,l){if(typeof s!="function")throw new i("`fn` is not a function");if(typeof l!="number"||l<0||l>4294967295||a(l)!==l)throw new i("`length` must be a positive 32-bit integer");var u=arguments.length>2&&!!arguments[2],f=!0,d=!0;if("length"in s&&n){var c=n(s,"length");c&&!c.configurable&&(f=!1),c&&!c.writable&&(d=!1)}return(f||d||!u)&&(r?t(s,"length",l,!0,!0):t(s,"length",l)),s},M_}var k_,QA;function $W(){if(QA)return k_;QA=1;var e=Hh(),t=mS(),r=k6();return k_=function(){return r(e,t,arguments)},k_}var XA;function Am(){return XA||(XA=1,function(e){var t=qW(),r=Rm(),n=yS(),i=$W();e.exports=function(o){var s=n(arguments),l=o.length-(arguments.length-1);return t(s,1+(l>0?l:0),!0)},r?r(e.exports,"apply",{value:i}):e.exports.apply=i}(N_)),N_.exports}var F_,JA;function $6(){if(JA)return F_;JA=1;var e=FW(),t=BW(),r=Am(),n=zo(),i=nl(),a=n("Object.prototype.toString"),o=Tm()(),s=typeof globalThis>"u"?xt:globalThis,l=t(),u=n("String.prototype.slice"),f=Object.getPrototypeOf,d=n("Array.prototype.indexOf",!0)||function(_,y){for(var m=0;m<_.length;m+=1)if(_[m]===y)return m;return-1},c={__proto__:null};o&&i&&f?e(l,function(v){var _=new s[v];if(Symbol.toStringTag in _){var y=f(_),m=i(y,Symbol.toStringTag);if(!m){var g=f(y);m=i(g,Symbol.toStringTag)}c["$"+v]=r(m.get)}}):e(l,function(v){var _=new s[v],y=_.slice||_.set;y&&(c["$"+v]=r(y))});var p=function(_){var y=!1;return e(c,function(m,g){if(!y)try{"$"+m(_)===g&&(y=u(g,1))}catch{}}),y},b=function(_){var y=!1;return e(c,function(m,g){if(!y)try{m(_),y=u(g,1)}catch{}}),y};return F_=function(_){if(!_||typeof _!="object")return!1;if(!o){var y=u(a(_),8,-1);return d(l,y)>-1?y:y!=="Object"?!1:b(_)}return i?p(_):null},F_}var j_,eI;function UW(){if(eI)return j_;eI=1;var e=$6();return j_=function(r){return!!e(r)},j_}var tI;function HW(){return tI||(tI=1,function(e){var t=NW(),r=MW(),n=$6(),i=UW();function a(ce){return ce.call.bind(ce)}var o=typeof BigInt<"u",s=typeof Symbol<"u",l=a(Object.prototype.toString),u=a(Number.prototype.valueOf),f=a(String.prototype.valueOf),d=a(Boolean.prototype.valueOf);if(o)var c=a(BigInt.prototype.valueOf);if(s)var p=a(Symbol.prototype.valueOf);function b(ce,Ie){if(typeof ce!="object")return!1;try{return Ie(ce),!0}catch{return!1}}e.isArgumentsObject=t,e.isGeneratorFunction=r,e.isTypedArray=i;function v(ce){return typeof Promise<"u"&&ce instanceof Promise||ce!==null&&typeof ce=="object"&&typeof ce.then=="function"&&typeof ce.catch=="function"}e.isPromise=v;function _(ce){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(ce):i(ce)||Y(ce)}e.isArrayBufferView=_;function y(ce){return n(ce)==="Uint8Array"}e.isUint8Array=y;function m(ce){return n(ce)==="Uint8ClampedArray"}e.isUint8ClampedArray=m;function g(ce){return n(ce)==="Uint16Array"}e.isUint16Array=g;function E(ce){return n(ce)==="Uint32Array"}e.isUint32Array=E;function T(ce){return n(ce)==="Int8Array"}e.isInt8Array=T;function I(ce){return n(ce)==="Int16Array"}e.isInt16Array=I;function D(ce){return n(ce)==="Int32Array"}e.isInt32Array=D;function B(ce){return n(ce)==="Float32Array"}e.isFloat32Array=B;function N(ce){return n(ce)==="Float64Array"}e.isFloat64Array=N;function M(ce){return n(ce)==="BigInt64Array"}e.isBigInt64Array=M;function j(ce){return n(ce)==="BigUint64Array"}e.isBigUint64Array=j;function O(ce){return l(ce)==="[object Map]"}O.working=typeof Map<"u"&&O(new Map);function q(ce){return typeof Map>"u"?!1:O.working?O(ce):ce instanceof Map}e.isMap=q;function Q(ce){return l(ce)==="[object Set]"}Q.working=typeof Set<"u"&&Q(new Set);function ie(ce){return typeof Set>"u"?!1:Q.working?Q(ce):ce instanceof Set}e.isSet=ie;function X(ce){return l(ce)==="[object WeakMap]"}X.working=typeof WeakMap<"u"&&X(new WeakMap);function le(ce){return typeof WeakMap>"u"?!1:X.working?X(ce):ce instanceof WeakMap}e.isWeakMap=le;function ae(ce){return l(ce)==="[object WeakSet]"}ae.working=typeof WeakSet<"u"&&ae(new WeakSet);function ne(ce){return ae(ce)}e.isWeakSet=ne;function V(ce){return l(ce)==="[object ArrayBuffer]"}V.working=typeof ArrayBuffer<"u"&&V(new ArrayBuffer);function oe(ce){return typeof ArrayBuffer>"u"?!1:V.working?V(ce):ce instanceof ArrayBuffer}e.isArrayBuffer=oe;function he(ce){return l(ce)==="[object DataView]"}he.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&he(new DataView(new ArrayBuffer(1),0,1));function Y(ce){return typeof DataView>"u"?!1:he.working?he(ce):ce instanceof DataView}e.isDataView=Y;var Z=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function ee(ce){return l(ce)==="[object SharedArrayBuffer]"}function P(ce){return typeof Z>"u"?!1:(typeof ee.working>"u"&&(ee.working=ee(new Z)),ee.working?ee(ce):ce instanceof Z)}e.isSharedArrayBuffer=P;function A(ce){return l(ce)==="[object AsyncFunction]"}e.isAsyncFunction=A;function $(ce){return l(ce)==="[object Map Iterator]"}e.isMapIterator=$;function te(ce){return l(ce)==="[object Set Iterator]"}e.isSetIterator=te;function pe(ce){return l(ce)==="[object Generator]"}e.isGeneratorObject=pe;function R(ce){return l(ce)==="[object WebAssembly.Module]"}e.isWebAssemblyCompiledModule=R;function w(ce){return b(ce,u)}e.isNumberObject=w;function x(ce){return b(ce,f)}e.isStringObject=x;function k(ce){return b(ce,d)}e.isBooleanObject=k;function U(ce){return o&&b(ce,c)}e.isBigIntObject=U;function re(ce){return s&&b(ce,p)}e.isSymbolObject=re;function fe(ce){return w(ce)||x(ce)||k(ce)||U(ce)||re(ce)}e.isBoxedPrimitive=fe;function ve(ce){return typeof Uint8Array<"u"&&(oe(ce)||P(ce))}e.isAnyArrayBuffer=ve,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(ce){Object.defineProperty(e,ce,{enumerable:!1,value:function(){throw new Error(ce+" is not supported in userland")}})})}($g)),$g}var B_,rI;function VW(){return rI||(rI=1,B_=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"}),B_}var Up={exports:{}},nI;function Pr(){return nI||(nI=1,typeof Object.create=="function"?Up.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Up.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}),Up.exports}var iI;function Or(){return iI||(iI=1,function(e){var t={},r=Object.getOwnPropertyDescriptors||function(Z){for(var ee=Object.keys(Z),P={},A=0;A<ee.length;A++)P[ee[A]]=Object.getOwnPropertyDescriptor(Z,ee[A]);return P},n=/%[sdj%]/g;e.format=function(Y){if(!I(Y)){for(var Z=[],ee=0;ee<arguments.length;ee++)Z.push(s(arguments[ee]));return Z.join(" ")}for(var ee=1,P=arguments,A=P.length,$=String(Y).replace(n,function(pe){if(pe==="%%")return"%";if(ee>=A)return pe;switch(pe){case"%s":return String(P[ee++]);case"%d":return Number(P[ee++]);case"%j":try{return JSON.stringify(P[ee++])}catch{return"[Circular]"}default:return pe}}),te=P[ee];ee<A;te=P[++ee])g(te)||!M(te)?$+=" "+te:$+=" "+s(te);return $},e.deprecate=function(Y,Z){if(typeof ze<"u"&&ze.noDeprecation===!0)return Y;if(typeof ze>"u")return function(){return e.deprecate(Y,Z).apply(this,arguments)};var ee=!1;function P(){if(!ee){if(ze.throwDeprecation)throw new Error(Z);ze.traceDeprecation?console.trace(Z):console.error(Z),ee=!0}return Y.apply(this,arguments)}return P};var i={},a=/^$/;if(t.NODE_DEBUG){var o=t.NODE_DEBUG;o=o.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),a=new RegExp("^"+o+"$","i")}e.debuglog=function(Y){if(Y=Y.toUpperCase(),!i[Y])if(a.test(Y)){var Z=ze.pid;i[Y]=function(){var ee=e.format.apply(e,arguments);console.error("%s %d: %s",Y,Z,ee)}}else i[Y]=function(){};return i[Y]};function s(Y,Z){var ee={seen:[],stylize:u};return arguments.length>=3&&(ee.depth=arguments[2]),arguments.length>=4&&(ee.colors=arguments[3]),m(Z)?ee.showHidden=Z:Z&&e._extend(ee,Z),B(ee.showHidden)&&(ee.showHidden=!1),B(ee.depth)&&(ee.depth=2),B(ee.colors)&&(ee.colors=!1),B(ee.customInspect)&&(ee.customInspect=!0),ee.colors&&(ee.stylize=l),d(ee,Y,ee.depth)}e.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function l(Y,Z){var ee=s.styles[Z];return ee?"\x1B["+s.colors[ee][0]+"m"+Y+"\x1B["+s.colors[ee][1]+"m":Y}function u(Y,Z){return Y}function f(Y){var Z={};return Y.forEach(function(ee,P){Z[ee]=!0}),Z}function d(Y,Z,ee){if(Y.customInspect&&Z&&q(Z.inspect)&&Z.inspect!==e.inspect&&!(Z.constructor&&Z.constructor.prototype===Z)){var P=Z.inspect(ee,Y);return I(P)||(P=d(Y,P,ee)),P}var A=c(Y,Z);if(A)return A;var $=Object.keys(Z),te=f($);if(Y.showHidden&&($=Object.getOwnPropertyNames(Z)),O(Z)&&($.indexOf("message")>=0||$.indexOf("description")>=0))return p(Z);if($.length===0){if(q(Z)){var pe=Z.name?": "+Z.name:"";return Y.stylize("[Function"+pe+"]","special")}if(N(Z))return Y.stylize(RegExp.prototype.toString.call(Z),"regexp");if(j(Z))return Y.stylize(Date.prototype.toString.call(Z),"date");if(O(Z))return p(Z)}var R="",w=!1,x=["{","}"];if(y(Z)&&(w=!0,x=["[","]"]),q(Z)){var k=Z.name?": "+Z.name:"";R=" [Function"+k+"]"}if(N(Z)&&(R=" "+RegExp.prototype.toString.call(Z)),j(Z)&&(R=" "+Date.prototype.toUTCString.call(Z)),O(Z)&&(R=" "+p(Z)),$.length===0&&(!w||Z.length==0))return x[0]+R+x[1];if(ee<0)return N(Z)?Y.stylize(RegExp.prototype.toString.call(Z),"regexp"):Y.stylize("[Object]","special");Y.seen.push(Z);var U;return w?U=b(Y,Z,ee,te,$):U=$.map(function(re){return v(Y,Z,ee,te,re,w)}),Y.seen.pop(),_(U,R,x)}function c(Y,Z){if(B(Z))return Y.stylize("undefined","undefined");if(I(Z)){var ee="'"+JSON.stringify(Z).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Y.stylize(ee,"string")}if(T(Z))return Y.stylize(""+Z,"number");if(m(Z))return Y.stylize(""+Z,"boolean");if(g(Z))return Y.stylize("null","null")}function p(Y){return"["+Error.prototype.toString.call(Y)+"]"}function b(Y,Z,ee,P,A){for(var $=[],te=0,pe=Z.length;te<pe;++te)ne(Z,String(te))?$.push(v(Y,Z,ee,P,String(te),!0)):$.push("");return A.forEach(function(R){R.match(/^\d+$/)||$.push(v(Y,Z,ee,P,R,!0))}),$}function v(Y,Z,ee,P,A,$){var te,pe,R;if(R=Object.getOwnPropertyDescriptor(Z,A)||{value:Z[A]},R.get?R.set?pe=Y.stylize("[Getter/Setter]","special"):pe=Y.stylize("[Getter]","special"):R.set&&(pe=Y.stylize("[Setter]","special")),ne(P,A)||(te="["+A+"]"),pe||(Y.seen.indexOf(R.value)<0?(g(ee)?pe=d(Y,R.value,null):pe=d(Y,R.value,ee-1),pe.indexOf(`
`)>-1&&($?pe=pe.split(`
`).map(function(w){return"  "+w}).join(`
`).slice(2):pe=`
`+pe.split(`
`).map(function(w){return"   "+w}).join(`
`))):pe=Y.stylize("[Circular]","special")),B(te)){if($&&A.match(/^\d+$/))return pe;te=JSON.stringify(""+A),te.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(te=te.slice(1,-1),te=Y.stylize(te,"name")):(te=te.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),te=Y.stylize(te,"string"))}return te+": "+pe}function _(Y,Z,ee){var P=Y.reduce(function(A,$){return $.indexOf(`
`)>=0,A+$.replace(/\u001b\[\d\d?m/g,"").length+1},0);return P>60?ee[0]+(Z===""?"":Z+`
 `)+" "+Y.join(`,
  `)+" "+ee[1]:ee[0]+Z+" "+Y.join(", ")+" "+ee[1]}e.types=HW();function y(Y){return Array.isArray(Y)}e.isArray=y;function m(Y){return typeof Y=="boolean"}e.isBoolean=m;function g(Y){return Y===null}e.isNull=g;function E(Y){return Y==null}e.isNullOrUndefined=E;function T(Y){return typeof Y=="number"}e.isNumber=T;function I(Y){return typeof Y=="string"}e.isString=I;function D(Y){return typeof Y=="symbol"}e.isSymbol=D;function B(Y){return Y===void 0}e.isUndefined=B;function N(Y){return M(Y)&&ie(Y)==="[object RegExp]"}e.isRegExp=N,e.types.isRegExp=N;function M(Y){return typeof Y=="object"&&Y!==null}e.isObject=M;function j(Y){return M(Y)&&ie(Y)==="[object Date]"}e.isDate=j,e.types.isDate=j;function O(Y){return M(Y)&&(ie(Y)==="[object Error]"||Y instanceof Error)}e.isError=O,e.types.isNativeError=O;function q(Y){return typeof Y=="function"}e.isFunction=q;function Q(Y){return Y===null||typeof Y=="boolean"||typeof Y=="number"||typeof Y=="string"||typeof Y=="symbol"||typeof Y>"u"}e.isPrimitive=Q,e.isBuffer=VW();function ie(Y){return Object.prototype.toString.call(Y)}function X(Y){return Y<10?"0"+Y.toString(10):Y.toString(10)}var le=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ae(){var Y=new Date,Z=[X(Y.getHours()),X(Y.getMinutes()),X(Y.getSeconds())].join(":");return[Y.getDate(),le[Y.getMonth()],Z].join(" ")}e.log=function(){console.log("%s - %s",ae(),e.format.apply(e,arguments))},e.inherits=Pr(),e._extend=function(Y,Z){if(!Z||!M(Z))return Y;for(var ee=Object.keys(Z),P=ee.length;P--;)Y[ee[P]]=Z[ee[P]];return Y};function ne(Y,Z){return Object.prototype.hasOwnProperty.call(Y,Z)}var V=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;e.promisify=function(Z){if(typeof Z!="function")throw new TypeError('The "original" argument must be of type Function');if(V&&Z[V]){var ee=Z[V];if(typeof ee!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(ee,V,{value:ee,enumerable:!1,writable:!1,configurable:!0}),ee}function ee(){for(var P,A,$=new Promise(function(R,w){P=R,A=w}),te=[],pe=0;pe<arguments.length;pe++)te.push(arguments[pe]);te.push(function(R,w){R?A(R):P(w)});try{Z.apply(this,te)}catch(R){A(R)}return $}return Object.setPrototypeOf(ee,Object.getPrototypeOf(Z)),V&&Object.defineProperty(ee,V,{value:ee,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(ee,r(Z))},e.promisify.custom=V;function oe(Y,Z){if(!Y){var ee=new Error("Promise was rejected with a falsy value");ee.reason=Y,Y=ee}return Z(Y)}function he(Y){if(typeof Y!="function")throw new TypeError('The "original" argument must be of type Function');function Z(){for(var ee=[],P=0;P<arguments.length;P++)ee.push(arguments[P]);var A=ee.pop();if(typeof A!="function")throw new TypeError("The last argument must be of type Function");var $=this,te=function(){return A.apply($,arguments)};Y.apply(this,ee).then(function(pe){ze.nextTick(te.bind(null,null,pe))},function(pe){ze.nextTick(oe.bind(null,pe,te))})}return Object.setPrototypeOf(Z,Object.getPrototypeOf(Y)),Object.defineProperties(Z,r(Y)),Z}e.callbackify=he}(qg)),qg}var q_={exports:{}},aI;function zW(){return aI||(aI=1,function(e){var t={};e.exports=t;var r={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],brightRed:[91,39],brightGreen:[92,39],brightYellow:[93,39],brightBlue:[94,39],brightMagenta:[95,39],brightCyan:[96,39],brightWhite:[97,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgGray:[100,49],bgGrey:[100,49],bgBrightRed:[101,49],bgBrightGreen:[102,49],bgBrightYellow:[103,49],bgBrightBlue:[104,49],bgBrightMagenta:[105,49],bgBrightCyan:[106,49],bgBrightWhite:[107,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(r).forEach(function(n){var i=r[n],a=t[n]=[];a.open="\x1B["+i[0]+"m",a.close="\x1B["+i[1]+"m"})}(q_)),q_.exports}var Kr={},oI;function il(){return oI||(oI=1,Kr.endianness=function(){return"LE"},Kr.hostname=function(){return typeof location<"u"?location.hostname:""},Kr.loadavg=function(){return[]},Kr.uptime=function(){return 0},Kr.freemem=function(){return Number.MAX_VALUE},Kr.totalmem=function(){return Number.MAX_VALUE},Kr.cpus=function(){return[]},Kr.type=function(){return"Browser"},Kr.release=function(){return typeof navigator<"u"?navigator.appVersion:""},Kr.networkInterfaces=Kr.getNetworkInterfaces=function(){return{}},Kr.arch=function(){return"javascript"},Kr.platform=function(){return"browser"},Kr.tmpdir=Kr.tmpDir=function(){return"/tmp"},Kr.EOL=`
`,Kr.homedir=function(){return"/"}),Kr}var $_,sI;function WW(){return sI||(sI=1,$_=function(e,t){t=t||ze.argv||[];var r=t.indexOf("--"),n=/^-{1,2}/.test(e)?"":"--",i=t.indexOf(n+e);return i!==-1&&(r===-1?!0:i<r)}),$_}var U_,uI;function GW(){if(uI)return U_;uI=1;var e={},t=il(),r=WW(),n=e,i=void 0;r("no-color")||r("no-colors")||r("color=false")?i=!1:(r("color")||r("colors")||r("color=true")||r("color=always"))&&(i=!0),"FORCE_COLOR"in n&&(i=n.FORCE_COLOR.length===0||parseInt(n.FORCE_COLOR,10)!==0);function a(l){return l===0?!1:{level:l,hasBasic:!0,has256:l>=2,has16m:l>=3}}function o(l){if(i===!1)return 0;if(r("color=16m")||r("color=full")||r("color=truecolor"))return 3;if(r("color=256"))return 2;if(l&&!l.isTTY&&i!==!0)return 0;var u=i?1:0;if(ze.platform==="win32"){var f=t.release().split(".");return Number(ze.versions.node.split(".")[0])>=8&&Number(f[0])>=10&&Number(f[2])>=10586?Number(f[2])>=14931?3:2:1}if("CI"in n)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(function(c){return c in n})||n.CI_NAME==="codeship"?1:u;if("TEAMCITY_VERSION"in n)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(n.TEAMCITY_VERSION)?1:0;if("TERM_PROGRAM"in n){var d=parseInt((n.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(n.TERM_PROGRAM){case"iTerm.app":return d>=3?3:2;case"Hyper":return 3;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(n.TERM)?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test(n.TERM)||"COLORTERM"in n?1:(n.TERM==="dumb",u)}function s(l){var u=o(l);return a(u)}return U_={supportsColor:s,stdout:s(ze.stdout),stderr:s(ze.stderr)},U_}var H_={exports:{}},lI;function KW(){return lI||(lI=1,function(e){e.exports=function(r,n){var i="";r=r||"Run the trap, drop the bass",r=r.split("");var a={a:["@","","","","","",""],b:["","","","","",""],c:["","",""],d:["","","","","",""],e:["","","","","","","",""],f:[""],g:[""],h:["","","","","",""],i:[""],j:[""],k:["","","",""],l:[""],m:["","","","","",""],n:["","","","","",""],o:["","","","","","","","",""],p:["",""],q:[""],r:["","","","","",""],s:["","","",""],t:["","",""],u:["",""],v:[""],w:["","","",""],x:["","","",""],y:["","",""],z:["",""]};return r.forEach(function(o){o=o.toLowerCase();var s=a[o]||[" "],l=Math.floor(Math.random()*s.length);typeof a[o]<"u"?i+=a[o][l]:i+=o}),i}}(H_)),H_.exports}var V_={exports:{}},fI;function ZW(){return fI||(fI=1,function(e){e.exports=function(r,n){r=r||"   he is here   ";var i={up:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],down:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],mid:["","","","","","","","","","","","","","","","","","","","",""," "]},a=[].concat(i.up,i.down,i.mid);function o(u){var f=Math.floor(Math.random()*u);return f}function s(u){var f=!1;return a.filter(function(d){f=d===u}),f}function l(u,f){var d="",c,p;f=f||{},f.up=typeof f.up<"u"?f.up:!0,f.mid=typeof f.mid<"u"?f.mid:!0,f.down=typeof f.down<"u"?f.down:!0,f.size=typeof f.size<"u"?f.size:"maxi",u=u.split("");for(p in u)if(!s(p)){switch(d=d+u[p],c={up:0,down:0,mid:0},f.size){case"mini":c.up=o(8),c.mid=o(2),c.down=o(8);break;case"maxi":c.up=o(16)+3,c.mid=o(4)+1,c.down=o(64)+3;break;default:c.up=o(8)+1,c.mid=o(6)/2,c.down=o(8)+1;break}var b=["up","mid","down"];for(var v in b)for(var _=b[v],y=0;y<=c[_];y++)f[_]&&(d=d+i[_][o(i[_].length)])}return d}return l(r,n)}}(V_)),V_.exports}var z_={exports:{}},cI;function YW(){return cI||(cI=1,function(e){e.exports=function(t){return function(r,n,i){if(r===" ")return r;switch(n%3){case 0:return t.red(r);case 1:return t.white(r);case 2:return t.blue(r)}}}}(z_)),z_.exports}var W_={exports:{}},dI;function QW(){return dI||(dI=1,function(e){e.exports=function(t){return function(r,n,i){return n%2===0?r:t.inverse(r)}}}(W_)),W_.exports}var G_={exports:{}},hI;function XW(){return hI||(hI=1,function(e){e.exports=function(t){var r=["red","yellow","green","blue","magenta"];return function(n,i,a){return n===" "?n:t[r[i++%r.length]](n)}}}(G_)),G_.exports}var K_={exports:{}},pI;function JW(){return pI||(pI=1,function(e){e.exports=function(t){var r=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta","brightYellow","brightRed","brightGreen","brightBlue","brightWhite","brightCyan","brightMagenta"];return function(n,i,a){return n===" "?n:t[r[Math.round(Math.random()*(r.length-2))]](n)}}}(K_)),K_.exports}var mI;function eG(){return mI||(mI=1,function(e){var t={};e.exports=t,t.themes={};var r=Or(),n=t.styles=zW(),i=Object.defineProperties,a=new RegExp(/[\r\n]+/g);t.supportsColor=GW().supportsColor,typeof t.enabled>"u"&&(t.enabled=t.supportsColor()!==!1),t.enable=function(){t.enabled=!0},t.disable=function(){t.enabled=!1},t.stripColors=t.strip=function(v){return(""+v).replace(/\x1B\[\d+m/g,"")},t.stylize=function(_,y){if(!t.enabled)return _+"";var m=n[y];return!m&&y in t?t[y](_):m.open+_+m.close};var o=/[|\\{}()[\]^$+*?.]/g,s=function(v){if(typeof v!="string")throw new TypeError("Expected a string");return v.replace(o,"\\$&")};function l(v){var _=function y(){return d.apply(y,arguments)};return _._styles=v,_.__proto__=f,_}var u=function(){var v={};return n.grey=n.gray,Object.keys(n).forEach(function(_){n[_].closeRe=new RegExp(s(n[_].close),"g"),v[_]={get:function(){return l(this._styles.concat(_))}}}),v}(),f=i(function(){},u);function d(){var v=Array.prototype.slice.call(arguments),_=v.map(function(T){return T!=null&&T.constructor===String?T:r.inspect(T)}).join(" ");if(!t.enabled||!_)return _;for(var y=_.indexOf(`
`)!=-1,m=this._styles,g=m.length;g--;){var E=n[m[g]];_=E.open+_.replace(E.closeRe,E.open)+E.close,y&&(_=_.replace(a,function(T){return E.close+T+E.open}))}return _}t.setTheme=function(v){if(typeof v=="string"){console.log("colors.setTheme now only accepts an object, not a string.  If you are trying to set a theme from a file, it is now your (the caller's) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + '/../themes/generic-logging.js'); The new syntax looks like colors.setTheme(require(__dirname + '/../themes/generic-logging.js'));");return}for(var _ in v)(function(y){t[y]=function(m){if(typeof v[y]=="object"){var g=m;for(var E in v[y])g=t[v[y][E]](g);return g}return t[v[y]](m)}})(_)};function c(){var v={};return Object.keys(u).forEach(function(_){v[_]={get:function(){return l([_])}}}),v}var p=function(_,y){var m=y.split("");return m=m.map(_),m.join("")};t.trap=KW(),t.zalgo=ZW(),t.maps={},t.maps.america=YW()(t),t.maps.zebra=QW()(t),t.maps.rainbow=XW()(t),t.maps.random=JW()(t);for(var b in t.maps)(function(v){t[v]=function(_){return p(t.maps[v],_)}})(b);i(t,c())}(Bg)),Bg.exports}var yI;function U6(){return yI||(yI=1,function(e){var t=eG();e.exports=t}(jg)),jg.exports}var Z_={},Y_={},Hp={},gI;function tG(){return gI||(gI=1,Hp.levels={error:0,warn:1,help:2,data:3,info:4,debug:5,prompt:6,verbose:7,input:8,silly:9},Hp.colors={error:"red",warn:"yellow",help:"cyan",data:"grey",info:"green",debug:"blue",prompt:"grey",verbose:"cyan",input:"grey",silly:"magenta"}),Hp}var Vp={},_I;function rG(){return _I||(_I=1,Vp.levels={error:0,warn:1,info:2,http:3,verbose:4,debug:5,silly:6},Vp.colors={error:"red",warn:"yellow",info:"green",http:"green",verbose:"cyan",debug:"blue",silly:"magenta"}),Vp}var zp={},bI;function nG(){return bI||(bI=1,zp.levels={emerg:0,alert:1,crit:2,error:3,warning:4,notice:5,info:6,debug:7},zp.colors={emerg:"red",alert:"yellow",crit:"red",error:"red",warning:"red",notice:"yellow",info:"green",debug:"blue"}),zp}var vI;function iG(){return vI||(vI=1,function(e){Object.defineProperty(e,"cli",{value:tG()}),Object.defineProperty(e,"npm",{value:rG()}),Object.defineProperty(e,"syslog",{value:nG()})}(Y_)),Y_}var wI;function Dr(){return wI||(wI=1,function(e){Object.defineProperty(e,"LEVEL",{value:Symbol.for("level")}),Object.defineProperty(e,"MESSAGE",{value:Symbol.for("message")}),Object.defineProperty(e,"SPLAT",{value:Symbol.for("splat")}),Object.defineProperty(e,"configs",{value:iG()})}(Z_)),Z_}var EI;function gS(){if(EI)return Rf.exports;EI=1;function e(c){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},e(c)}function t(c,p){if(!(c instanceof p))throw new TypeError("Cannot call a class as a function")}function r(c,p){for(var b=0;b<p.length;b++){var v=p[b];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(c,i(v.key),v)}}function n(c,p,b){return r(c.prototype,p),r(c,b),Object.defineProperty(c,"prototype",{writable:!1}),c}function i(c){var p=a(c,"string");return e(p)=="symbol"?p:p+""}function a(c,p){if(e(c)!="object"||!c)return c;var b=c[Symbol.toPrimitive];if(b!==void 0){var v=b.call(c,p);if(e(v)!="object")return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(c)}var o=U6(),s=Dr(),l=s.LEVEL,u=s.MESSAGE;o.enabled=!0;var f=/\s+/,d=function(){function c(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t(this,c),p.colors&&this.addColors(p.colors),this.options=p}return n(c,[{key:"addColors",value:function(b){return c.addColors(b)}},{key:"colorize",value:function(b,v,_){if(typeof _>"u"&&(_=v),!Array.isArray(c.allColors[b]))return o[c.allColors[b]](_);for(var y=0,m=c.allColors[b].length;y<m;y++)_=o[c.allColors[b][y]](_);return _}},{key:"transform",value:function(b,v){return v.all&&typeof b[u]=="string"&&(b[u]=this.colorize(b[l],b.level,b[u])),(v.level||v.all||!v.message)&&(b.level=this.colorize(b[l],b.level)),(v.all||v.message)&&(b.message=this.colorize(b[l],b.level,b.message)),b}}],[{key:"addColors",value:function(b){var v=Object.keys(b).reduce(function(_,y){return _[y]=f.test(b[y])?b[y].split(f):b[y],_},{});return c.allColors=Object.assign({},c.allColors||{},v),c.allColors}}])}();return Rf.exports=function(c){return new d(c)},Rf.exports.Colorizer=Rf.exports.Format=d,Rf.exports}var Q_,SI;function aG(){if(SI)return Q_;SI=1;var e=gS(),t=e.Colorizer;return Q_=function(r){return t.addColors(r.colors||r),r},Q_}var X_,xI;function oG(){if(xI)return X_;xI=1;var e=ni();return X_=e(function(t){return t.message="	".concat(t.message),t}),X_}var Wp={exports:{}},Af={exports:{}},TI;function H6(){if(TI)return Af.exports;TI=1;function e(y){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},e(y)}function t(y){return a(y)||i(y)||n(y)||r()}function r(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n(y,m){if(y){if(typeof y=="string")return o(y,m);var g={}.toString.call(y).slice(8,-1);return g==="Object"&&y.constructor&&(g=y.constructor.name),g==="Map"||g==="Set"?Array.from(y):g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g)?o(y,m):void 0}}function i(y){if(typeof Symbol<"u"&&y[Symbol.iterator]!=null||y["@@iterator"]!=null)return Array.from(y)}function a(y){if(Array.isArray(y))return o(y)}function o(y,m){(m==null||m>y.length)&&(m=y.length);for(var g=0,E=Array(m);g<m;g++)E[g]=y[g];return E}function s(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}function l(y,m){for(var g=0;g<m.length;g++){var E=m[g];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(y,f(E.key),E)}}function u(y,m,g){return l(y.prototype,m),l(y,g),Object.defineProperty(y,"prototype",{writable:!1}),y}function f(y){var m=d(y,"string");return e(m)=="symbol"?m:m+""}function d(y,m){if(e(y)!="object"||!y)return y;var g=y[Symbol.toPrimitive];if(g!==void 0){var E=g.call(y,m);if(e(E)!="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(y)}var c=Dr(),p=c.configs,b=c.LEVEL,v=c.MESSAGE,_=function(){function y(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{levels:p.npm.levels};s(this,y),this.paddings=y.paddingForLevels(m.levels,m.filler),this.options=m}return u(y,[{key:"transform",value:function(g,E){return g.message="".concat(this.paddings[g[b]]).concat(g.message),g[v]&&(g[v]="".concat(this.paddings[g[b]]).concat(g[v])),g}}],[{key:"getLongestLevel",value:function(g){var E=Object.keys(g).map(function(T){return T.length});return Math.max.apply(Math,t(E))}},{key:"paddingForLevel",value:function(g,E,T){var I=T+1-g.length,D=Math.floor(I/E.length),B="".concat(E).concat(E.repeat(D));return B.slice(0,I)}},{key:"paddingForLevels",value:function(g){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:" ",T=y.getLongestLevel(g);return Object.keys(g).reduce(function(I,D){return I[D]=y.paddingForLevel(D,E,T),I},{})}}])}();return Af.exports=function(y){return new _(y)},Af.exports.Padder=Af.exports.Format=_,Af.exports}var RI;function sG(){if(RI)return Wp.exports;RI=1;function e(b){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},e(b)}function t(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}function r(b,v){for(var _=0;_<v.length;_++){var y=v[_];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(b,i(y.key),y)}}function n(b,v,_){return r(b.prototype,v),Object.defineProperty(b,"prototype",{writable:!1}),b}function i(b){var v=a(b,"string");return e(v)=="symbol"?v:v+""}function a(b,v){if(e(b)!="object"||!b)return b;var _=b[Symbol.toPrimitive];if(_!==void 0){var y=_.call(b,v);if(e(y)!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(b)}var o=gS(),s=o.Colorizer,l=H6(),u=l.Padder,f=Dr(),d=f.configs,c=f.MESSAGE,p=function(){function b(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t(this,b),v.levels||(v.levels=d.cli.levels),this.colorizer=new s(v),this.padder=new u(v),this.options=v}return n(b,[{key:"transform",value:function(_,y){return this.colorizer.transform(this.padder.transform(_,y),y),_[c]="".concat(_.level,":").concat(_.message),_}}])}();return Wp.exports=function(b){return new p(b)},Wp.exports.Format=p,Wp.exports}var Gp={exports:{}},AI;function uG(){if(AI)return Gp.exports;AI=1;var e=ni();function t(n){if(n.every(r))return function(i){for(var a=i,o=0;o<n.length;o++)if(a=n[o].transform(a,n[o].options),!a)return!1;return a}}function r(n){if(typeof n.transform!="function")throw new Error(["No transform function found on format. Did you create a format instance?","const myFormat = format(formatFn);","const instance = myFormat();"].join(`
`));return!0}return Gp.exports=function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=e(t(i)),s=o();return s.Format=o.Format,s},Gp.exports.cascade=t,Gp.exports}var J_,II;function lG(){if(II)return J_;II=1;function e(l){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},e(l)}function t(l,u,f){return(u=r(u))in l?Object.defineProperty(l,u,{value:f,enumerable:!0,configurable:!0,writable:!0}):l[u]=f,l}function r(l){var u=n(l,"string");return e(u)=="symbol"?u:u+""}function n(l,u){if(e(l)!="object"||!l)return l;var f=l[Symbol.toPrimitive];if(f!==void 0){var d=f.call(l,u||"default");if(e(d)!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(u==="string"?String:Number)(l)}var i=ni(),a=Dr(),o=a.LEVEL,s=a.MESSAGE;return J_=i(function(l,u){var f=u.stack,d=u.cause;if(l instanceof Error){var c=Object.assign({},l,t(t(t({level:l.level},o,l[o]||l.level),"message",l.message),s,l[s]||l.message));return f&&(c.stack=l.stack),d&&(c.cause=l.cause),c}if(!(l.message instanceof Error))return l;var p=l.message;return Object.assign(l,p),l.message=p.message,l[s]=p.message,f&&(l.stack=p.stack),d&&(l.cause=p.cause),l}),J_}var Kp={exports:{}},OI;function zh(){return OI||(OI=1,function(e,t){const{hasOwnProperty:r}=Object.prototype,n=y();n.configure=y,n.stringify=n,n.default=n,t.stringify=n,t.configure=y,e.exports=n;const i=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]/;function a(m){return m.length<5e3&&!i.test(m)?`"${m}"`:JSON.stringify(m)}function o(m,g){if(m.length>200||g)return m.sort(g);for(let E=1;E<m.length;E++){const T=m[E];let I=E;for(;I!==0&&m[I-1]>T;)m[I]=m[I-1],I--;m[I]=T}return m}const s=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Object.getPrototypeOf(new Int8Array)),Symbol.toStringTag).get;function l(m){return s.call(m)!==void 0&&m.length!==0}function u(m,g,E){m.length<E&&(E=m.length);const T=g===","?"":" ";let I=`"0":${T}${m[0]}`;for(let D=1;D<E;D++)I+=`${g}"${D}":${T}${m[D]}`;return I}function f(m){if(r.call(m,"circularValue")){const g=m.circularValue;if(typeof g=="string")return`"${g}"`;if(g==null)return g;if(g===Error||g===TypeError)return{toString(){throw new TypeError("Converting circular structure to JSON")}};throw new TypeError('The "circularValue" argument must be of type string or the value null or undefined')}return'"[Circular]"'}function d(m){let g;if(r.call(m,"deterministic")&&(g=m.deterministic,typeof g!="boolean"&&typeof g!="function"))throw new TypeError('The "deterministic" argument must be of type boolean or comparator function');return g===void 0?!0:g}function c(m,g){let E;if(r.call(m,g)&&(E=m[g],typeof E!="boolean"))throw new TypeError(`The "${g}" argument must be of type boolean`);return E===void 0?!0:E}function p(m,g){let E;if(r.call(m,g)){if(E=m[g],typeof E!="number")throw new TypeError(`The "${g}" argument must be of type number`);if(!Number.isInteger(E))throw new TypeError(`The "${g}" argument must be an integer`);if(E<1)throw new RangeError(`The "${g}" argument must be >= 1`)}return E===void 0?1/0:E}function b(m){return m===1?"1 item":`${m} items`}function v(m){const g=new Set;for(const E of m)(typeof E=="string"||typeof E=="number")&&g.add(String(E));return g}function _(m){if(r.call(m,"strict")){const g=m.strict;if(typeof g!="boolean")throw new TypeError('The "strict" argument must be of type boolean');if(g)return E=>{let T=`Object can not safely be stringified. Received type ${typeof E}`;throw typeof E!="function"&&(T+=` (${E.toString()})`),new Error(T)}}}function y(m){m={...m};const g=_(m);g&&(m.bigint===void 0&&(m.bigint=!1),"circularValue"in m||(m.circularValue=Error));const E=f(m),T=c(m,"bigint"),I=d(m),D=typeof I=="function"?I:void 0,B=p(m,"maximumDepth"),N=p(m,"maximumBreadth");function M(ie,X,le,ae,ne,V){let oe=X[ie];switch(typeof oe=="object"&&oe!==null&&typeof oe.toJSON=="function"&&(oe=oe.toJSON(ie)),oe=ae.call(X,ie,oe),typeof oe){case"string":return a(oe);case"object":{if(oe===null)return"null";if(le.indexOf(oe)!==-1)return E;let he="",Y=",";const Z=V;if(Array.isArray(oe)){if(oe.length===0)return"[]";if(B<le.length+1)return'"[Array]"';le.push(oe),ne!==""&&(V+=ne,he+=`
${V}`,Y=`,
${V}`);const pe=Math.min(oe.length,N);let R=0;for(;R<pe-1;R++){const x=M(String(R),oe,le,ae,ne,V);he+=x!==void 0?x:"null",he+=Y}const w=M(String(R),oe,le,ae,ne,V);if(he+=w!==void 0?w:"null",oe.length-1>N){const x=oe.length-N-1;he+=`${Y}"... ${b(x)} not stringified"`}return ne!==""&&(he+=`
${Z}`),le.pop(),`[${he}]`}let ee=Object.keys(oe);const P=ee.length;if(P===0)return"{}";if(B<le.length+1)return'"[Object]"';let A="",$="";ne!==""&&(V+=ne,Y=`,
${V}`,A=" ");const te=Math.min(P,N);I&&!l(oe)&&(ee=o(ee,D)),le.push(oe);for(let pe=0;pe<te;pe++){const R=ee[pe],w=M(R,oe,le,ae,ne,V);w!==void 0&&(he+=`${$}${a(R)}:${A}${w}`,$=Y)}if(P>N){const pe=P-N;he+=`${$}"...":${A}"${b(pe)} not stringified"`,$=Y}return ne!==""&&$.length>1&&(he=`
${V}${he}
${Z}`),le.pop(),`{${he}}`}case"number":return isFinite(oe)?String(oe):g?g(oe):"null";case"boolean":return oe===!0?"true":"false";case"undefined":return;case"bigint":if(T)return String(oe);default:return g?g(oe):void 0}}function j(ie,X,le,ae,ne,V){switch(typeof X=="object"&&X!==null&&typeof X.toJSON=="function"&&(X=X.toJSON(ie)),typeof X){case"string":return a(X);case"object":{if(X===null)return"null";if(le.indexOf(X)!==-1)return E;const oe=V;let he="",Y=",";if(Array.isArray(X)){if(X.length===0)return"[]";if(B<le.length+1)return'"[Array]"';le.push(X),ne!==""&&(V+=ne,he+=`
${V}`,Y=`,
${V}`);const P=Math.min(X.length,N);let A=0;for(;A<P-1;A++){const te=j(String(A),X[A],le,ae,ne,V);he+=te!==void 0?te:"null",he+=Y}const $=j(String(A),X[A],le,ae,ne,V);if(he+=$!==void 0?$:"null",X.length-1>N){const te=X.length-N-1;he+=`${Y}"... ${b(te)} not stringified"`}return ne!==""&&(he+=`
${oe}`),le.pop(),`[${he}]`}le.push(X);let Z="";ne!==""&&(V+=ne,Y=`,
${V}`,Z=" ");let ee="";for(const P of ae){const A=j(P,X[P],le,ae,ne,V);A!==void 0&&(he+=`${ee}${a(P)}:${Z}${A}`,ee=Y)}return ne!==""&&ee.length>1&&(he=`
${V}${he}
${oe}`),le.pop(),`{${he}}`}case"number":return isFinite(X)?String(X):g?g(X):"null";case"boolean":return X===!0?"true":"false";case"undefined":return;case"bigint":if(T)return String(X);default:return g?g(X):void 0}}function O(ie,X,le,ae,ne){switch(typeof X){case"string":return a(X);case"object":{if(X===null)return"null";if(typeof X.toJSON=="function"){if(X=X.toJSON(ie),typeof X!="object")return O(ie,X,le,ae,ne);if(X===null)return"null"}if(le.indexOf(X)!==-1)return E;const V=ne;if(Array.isArray(X)){if(X.length===0)return"[]";if(B<le.length+1)return'"[Array]"';le.push(X),ne+=ae;let A=`
${ne}`;const $=`,
${ne}`,te=Math.min(X.length,N);let pe=0;for(;pe<te-1;pe++){const w=O(String(pe),X[pe],le,ae,ne);A+=w!==void 0?w:"null",A+=$}const R=O(String(pe),X[pe],le,ae,ne);if(A+=R!==void 0?R:"null",X.length-1>N){const w=X.length-N-1;A+=`${$}"... ${b(w)} not stringified"`}return A+=`
${V}`,le.pop(),`[${A}]`}let oe=Object.keys(X);const he=oe.length;if(he===0)return"{}";if(B<le.length+1)return'"[Object]"';ne+=ae;const Y=`,
${ne}`;let Z="",ee="",P=Math.min(he,N);l(X)&&(Z+=u(X,Y,N),oe=oe.slice(X.length),P-=X.length,ee=Y),I&&(oe=o(oe,D)),le.push(X);for(let A=0;A<P;A++){const $=oe[A],te=O($,X[$],le,ae,ne);te!==void 0&&(Z+=`${ee}${a($)}: ${te}`,ee=Y)}if(he>N){const A=he-N;Z+=`${ee}"...": "${b(A)} not stringified"`,ee=Y}return ee!==""&&(Z=`
${ne}${Z}
${V}`),le.pop(),`{${Z}}`}case"number":return isFinite(X)?String(X):g?g(X):"null";case"boolean":return X===!0?"true":"false";case"undefined":return;case"bigint":if(T)return String(X);default:return g?g(X):void 0}}function q(ie,X,le){switch(typeof X){case"string":return a(X);case"object":{if(X===null)return"null";if(typeof X.toJSON=="function"){if(X=X.toJSON(ie),typeof X!="object")return q(ie,X,le);if(X===null)return"null"}if(le.indexOf(X)!==-1)return E;let ae="";const ne=X.length!==void 0;if(ne&&Array.isArray(X)){if(X.length===0)return"[]";if(B<le.length+1)return'"[Array]"';le.push(X);const Z=Math.min(X.length,N);let ee=0;for(;ee<Z-1;ee++){const A=q(String(ee),X[ee],le);ae+=A!==void 0?A:"null",ae+=","}const P=q(String(ee),X[ee],le);if(ae+=P!==void 0?P:"null",X.length-1>N){const A=X.length-N-1;ae+=`,"... ${b(A)} not stringified"`}return le.pop(),`[${ae}]`}let V=Object.keys(X);const oe=V.length;if(oe===0)return"{}";if(B<le.length+1)return'"[Object]"';let he="",Y=Math.min(oe,N);ne&&l(X)&&(ae+=u(X,",",N),V=V.slice(X.length),Y-=X.length,he=","),I&&(V=o(V,D)),le.push(X);for(let Z=0;Z<Y;Z++){const ee=V[Z],P=q(ee,X[ee],le);P!==void 0&&(ae+=`${he}${a(ee)}:${P}`,he=",")}if(oe>N){const Z=oe-N;ae+=`${he}"...":"${b(Z)} not stringified"`}return le.pop(),`{${ae}}`}case"number":return isFinite(X)?String(X):g?g(X):"null";case"boolean":return X===!0?"true":"false";case"undefined":return;case"bigint":if(T)return String(X);default:return g?g(X):void 0}}function Q(ie,X,le){if(arguments.length>1){let ae="";if(typeof le=="number"?ae=" ".repeat(Math.min(le,10)):typeof le=="string"&&(ae=le.slice(0,10)),X!=null){if(typeof X=="function")return M("",{"":ie},[],X,ae,"");if(Array.isArray(X))return j("",ie,[],v(X),ae,"")}if(ae.length!==0)return O("",ie,[],ae,"")}return q("",ie,[])}return Q}}(Kp,Kp.exports)),Kp.exports}var eb,PI;function fG(){if(PI)return eb;PI=1;var e=ni(),t=Dr(),r=t.MESSAGE,n=zh();function i(a,o){return typeof o=="bigint"?o.toString():o}return eb=e(function(a,o){var s=n.configure(o);return a[r]=s(a,o.replacer||i,o.space),a}),eb}var tb,DI;function cG(){if(DI)return tb;DI=1;var e=ni();return tb=e(function(t,r){return r.message?(t.message="[".concat(r.label,"] ").concat(t.message),t):(t.label=r.label,t)}),tb}var rb,NI;function dG(){if(NI)return rb;NI=1;var e=ni(),t=Dr(),r=t.MESSAGE,n=zh();return rb=e(function(i){var a={};return i.message&&(a["@message"]=i.message,delete i.message),i.timestamp&&(a["@timestamp"]=i.timestamp,delete i.timestamp),a["@fields"]=i,i[r]=n(a),i}),rb}var nb,CI;function hG(){if(CI)return nb;CI=1;function e(s){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},e(s)}function t(s,l,u){return(l=r(l))in s?Object.defineProperty(s,l,{value:u,enumerable:!0,configurable:!0,writable:!0}):s[l]=u,s}function r(s){var l=n(s,"string");return e(l)=="symbol"?l:l+""}function n(s,l){if(e(s)!="object"||!s)return s;var u=s[Symbol.toPrimitive];if(u!==void 0){var f=u.call(s,l||"default");if(e(f)!="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(s)}var i=ni();function a(s,l,u){var f=l.reduce(function(c,p){return c[p]=s[p],delete s[p],c},{}),d=Object.keys(s).reduce(function(c,p){return c[p]=s[p],delete s[p],c},{});return Object.assign(s,f,t({},u,d)),s}function o(s,l,u){return s[u]=l.reduce(function(f,d){return f[d]=s[d],delete s[d],f},{}),s}return nb=i(function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u="metadata";l.key&&(u=l.key);var f=[];return!l.fillExcept&&!l.fillWith&&(f.push("level"),f.push("message")),l.fillExcept&&(f=l.fillExcept),f.length>0?a(s,f,u):l.fillWith?o(s,l.fillWith,u):s}),nb}var ib,LI;function V6(){if(LI)return ib;LI=1;var e=1e3,t=e*60,r=t*60,n=r*24,i=n*7,a=n*365.25;ib=function(f,d){d=d||{};var c=typeof f;if(c==="string"&&f.length>0)return o(f);if(c==="number"&&isFinite(f))return d.long?l(f):s(f);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(f))};function o(f){if(f=String(f),!(f.length>100)){var d=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(f);if(d){var c=parseFloat(d[1]),p=(d[2]||"ms").toLowerCase();switch(p){case"years":case"year":case"yrs":case"yr":case"y":return c*a;case"weeks":case"week":case"w":return c*i;case"days":case"day":case"d":return c*n;case"hours":case"hour":case"hrs":case"hr":case"h":return c*r;case"minutes":case"minute":case"mins":case"min":case"m":return c*t;case"seconds":case"second":case"secs":case"sec":case"s":return c*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}}}function s(f){var d=Math.abs(f);return d>=n?Math.round(f/n)+"d":d>=r?Math.round(f/r)+"h":d>=t?Math.round(f/t)+"m":d>=e?Math.round(f/e)+"s":f+"ms"}function l(f){var d=Math.abs(f);return d>=n?u(f,d,n,"day"):d>=r?u(f,d,r,"hour"):d>=t?u(f,d,t,"minute"):d>=e?u(f,d,e,"second"):f+" ms"}function u(f,d,c,p){var b=d>=c*1.5;return Math.round(f/c)+" "+p+(b?"s":"")}return ib}var ab,MI;function pG(){if(MI)return ab;MI=1;var e=void 0,t=ni(),r=V6();return ab=t(function(n){var i=+new Date;return e.diff=i-(e.prevTime||i),e.prevTime=i,n.ms="+".concat(r(e.diff)),n}),ab}var ob,kI;function mG(){if(kI)return ob;kI=1;var e=Or().inspect,t=ni(),r=Dr(),n=r.LEVEL,i=r.MESSAGE,a=r.SPLAT;return ob=t(function(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=Object.assign({},o);return delete l[n],delete l[i],delete l[a],o[i]=e(l,!1,s.depth||null,s.colorize),o}),ob}var If={exports:{}},FI;function yG(){if(FI)return If.exports;FI=1;function e(u){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},e(u)}function t(u,f){if(!(u instanceof f))throw new TypeError("Cannot call a class as a function")}function r(u,f){for(var d=0;d<f.length;d++){var c=f[d];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(u,i(c.key),c)}}function n(u,f,d){return r(u.prototype,f),Object.defineProperty(u,"prototype",{writable:!1}),u}function i(u){var f=a(u,"string");return e(f)=="symbol"?f:f+""}function a(u,f){if(e(u)!="object"||!u)return u;var d=u[Symbol.toPrimitive];if(d!==void 0){var c=d.call(u,f);if(e(c)!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(u)}var o=Dr(),s=o.MESSAGE,l=function(){function u(f){t(this,u),this.template=f}return n(u,[{key:"transform",value:function(d){return d[s]=this.template(d),d}}])}();return If.exports=function(u){return new l(u)},If.exports.Printf=If.exports.Format=l,If.exports}var sb,jI;function gG(){if(jI)return sb;jI=1;var e=ni(),t=Dr(),r=t.MESSAGE,n=zh();return sb=e(function(i){var a=n(Object.assign({},i,{level:void 0,message:void 0,splat:void 0})),o=i.padding&&i.padding[i.level]||"";return a!=="{}"?i[r]="".concat(i.level,":").concat(o," ").concat(i.message," ").concat(a):i[r]="".concat(i.level,":").concat(o," ").concat(i.message),i}),sb}var ub,BI;function _G(){if(BI)return ub;BI=1;function e(m){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},e(m)}function t(m){return a(m)||i(m)||n(m)||r()}function r(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n(m,g){{if(typeof m=="string")return o(m,g);var E={}.toString.call(m).slice(8,-1);return E==="Object"&&m.constructor&&(E=m.constructor.name),E==="Map"||E==="Set"?Array.from(m):E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E)?o(m,g):void 0}}function i(m){if(typeof Symbol<"u"&&m[Symbol.iterator]!=null||m["@@iterator"]!=null)return Array.from(m)}function a(m){if(Array.isArray(m))return o(m)}function o(m,g){(g==null||g>m.length)&&(g=m.length);for(var E=0,T=Array(g);E<g;E++)T[E]=m[E];return T}function s(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function l(m,g){for(var E=0;E<g.length;E++){var T=g[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(m,f(T.key),T)}}function u(m,g,E){return l(m.prototype,g),Object.defineProperty(m,"prototype",{writable:!1}),m}function f(m){var g=d(m,"string");return e(g)=="symbol"?g:g+""}function d(m,g){if(e(m)!="object"||!m)return m;var E=m[Symbol.toPrimitive];if(E!==void 0){var T=E.call(m,g);if(e(T)!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(m)}var c=Or(),p=Dr(),b=p.SPLAT,v=/%[scdjifoO%]/g,_=/%%/g,y=function(){function m(g){s(this,m),this.options=g}return u(m,[{key:"_splat",value:function(E,T){var I=E.message,D=E[b]||E.splat||[],B=I.match(_),N=B&&B.length||0,M=T.length-N,j=M-D.length,O=j<0?D.splice(j,-1*j):[],q=O.length;if(q)for(var Q=0;Q<q;Q++)Object.assign(E,O[Q]);return E.message=c.format.apply(c,[I].concat(t(D))),E}},{key:"transform",value:function(E){var T=E.message,I=E[b]||E.splat;if(!I||!I.length)return E;var D=T&&T.match&&T.match(v);if(!D&&(I||I.length)){var B=I.length>1?I.splice(0):I,N=B.length;if(N)for(var M=0;M<N;M++)Object.assign(E,B[M]);return E}return D?this._splat(E,D):E}}])}();return ub=function(m){return new y(m)},ub}var z6=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,go="\\d\\d?",lo="\\d\\d",bG="\\d{3}",vG="\\d{4}",ah="[^\\s]+",W6=/\[([^]*?)\]/gm;function G6(e,t){for(var r=[],n=0,i=e.length;n<i;n++)r.push(e[n].substr(0,t));return r}var qI=function(e){return function(t,r){var n=r[e].map(function(a){return a.toLowerCase()}),i=n.indexOf(t.toLowerCase());return i>-1?i:null}};function Lo(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var n=0,i=t;n<i.length;n++){var a=i[n];for(var o in a)e[o]=a[o]}return e}var K6=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Z6=["January","February","March","April","May","June","July","August","September","October","November","December"],wG=G6(Z6,3),EG=G6(K6,3),_S={dayNamesShort:EG,dayNames:K6,monthNamesShort:wG,monthNames:Z6,amPm:["am","pm"],DoFn:function(e){return e+["th","st","nd","rd"][e%10>3?0:(e-e%10!==10?1:0)*e%10]}},W0=Lo({},_S),Y6=function(e){return W0=Lo(W0,e)},$I=function(e){return e.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},Un=function(e,t){for(t===void 0&&(t=2),e=String(e);e.length<t;)e="0"+e;return e},SG={D:function(e){return String(e.getDate())},DD:function(e){return Un(e.getDate())},Do:function(e,t){return t.DoFn(e.getDate())},d:function(e){return String(e.getDay())},dd:function(e){return Un(e.getDay())},ddd:function(e,t){return t.dayNamesShort[e.getDay()]},dddd:function(e,t){return t.dayNames[e.getDay()]},M:function(e){return String(e.getMonth()+1)},MM:function(e){return Un(e.getMonth()+1)},MMM:function(e,t){return t.monthNamesShort[e.getMonth()]},MMMM:function(e,t){return t.monthNames[e.getMonth()]},YY:function(e){return Un(String(e.getFullYear()),4).substr(2)},YYYY:function(e){return Un(e.getFullYear(),4)},h:function(e){return String(e.getHours()%12||12)},hh:function(e){return Un(e.getHours()%12||12)},H:function(e){return String(e.getHours())},HH:function(e){return Un(e.getHours())},m:function(e){return String(e.getMinutes())},mm:function(e){return Un(e.getMinutes())},s:function(e){return String(e.getSeconds())},ss:function(e){return Un(e.getSeconds())},S:function(e){return String(Math.round(e.getMilliseconds()/100))},SS:function(e){return Un(Math.round(e.getMilliseconds()/10),2)},SSS:function(e){return Un(e.getMilliseconds(),3)},a:function(e,t){return e.getHours()<12?t.amPm[0]:t.amPm[1]},A:function(e,t){return e.getHours()<12?t.amPm[0].toUpperCase():t.amPm[1].toUpperCase()},ZZ:function(e){var t=e.getTimezoneOffset();return(t>0?"-":"+")+Un(Math.floor(Math.abs(t)/60)*100+Math.abs(t)%60,4)},Z:function(e){var t=e.getTimezoneOffset();return(t>0?"-":"+")+Un(Math.floor(Math.abs(t)/60),2)+":"+Un(Math.abs(t)%60,2)}},UI=function(e){return+e-1},HI=[null,go],VI=[null,ah],zI=["isPm",ah,function(e,t){var r=e.toLowerCase();return r===t.amPm[0]?0:r===t.amPm[1]?1:null}],WI=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(e){var t=(e+"").match(/([+-]|\d\d)/gi);if(t){var r=+t[1]*60+parseInt(t[2],10);return t[0]==="+"?r:-r}return 0}],xG={D:["day",go],DD:["day",lo],Do:["day",go+ah,function(e){return parseInt(e,10)}],M:["month",go,UI],MM:["month",lo,UI],YY:["year",lo,function(e){var t=new Date,r=+(""+t.getFullYear()).substr(0,2);return+(""+(+e>68?r-1:r)+e)}],h:["hour",go,void 0,"isPm"],hh:["hour",lo,void 0,"isPm"],H:["hour",go],HH:["hour",lo],m:["minute",go],mm:["minute",lo],s:["second",go],ss:["second",lo],YYYY:["year",vG],S:["millisecond","\\d",function(e){return+e*100}],SS:["millisecond",lo,function(e){return+e*10}],SSS:["millisecond",bG],d:HI,dd:HI,ddd:VI,dddd:VI,MMM:["month",ah,qI("monthNamesShort")],MMMM:["month",ah,qI("monthNames")],a:zI,A:zI,ZZ:WI,Z:WI},G0={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},Q6=function(e){return Lo(G0,e)},X6=function(e,t,r){if(t===void 0&&(t=G0.default),r===void 0&&(r={}),typeof e=="number"&&(e=new Date(e)),Object.prototype.toString.call(e)!=="[object Date]"||isNaN(e.getTime()))throw new Error("Invalid Date pass to format");t=G0[t]||t;var n=[];t=t.replace(W6,function(a,o){return n.push(o),"@@@"});var i=Lo(Lo({},W0),r);return t=t.replace(z6,function(a){return SG[a](e,i)}),t.replace(/@@@/g,function(){return n.shift()})};function J6(e,t,r){if(r===void 0&&(r={}),typeof t!="string")throw new Error("Invalid format in fecha parse");if(t=G0[t]||t,e.length>1e3)return null;var n=new Date,i={year:n.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},a=[],o=[],s=t.replace(W6,function(E,T){return o.push($I(T)),"@@@"}),l={},u={};s=$I(s).replace(z6,function(E){var T=xG[E],I=T[0],D=T[1],B=T[3];if(l[I])throw new Error("Invalid format. "+I+" specified twice in format");return l[I]=!0,B&&(u[B]=!0),a.push(T),"("+D+")"}),Object.keys(u).forEach(function(E){if(!l[E])throw new Error("Invalid format. "+E+" is required in specified format")}),s=s.replace(/@@@/g,function(){return o.shift()});var f=e.match(new RegExp(s,"i"));if(!f)return null;for(var d=Lo(Lo({},W0),r),c=1;c<f.length;c++){var p=a[c-1],b=p[0],v=p[2],_=v?v(f[c],d):+f[c];if(_==null)return null;i[b]=_}i.isPm===1&&i.hour!=null&&+i.hour!=12?i.hour=+i.hour+12:i.isPm===0&&+i.hour==12&&(i.hour=0);var y;if(i.timezoneOffset==null){y=new Date(i.year,i.month,i.day,i.hour,i.minute,i.second,i.millisecond);for(var m=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],c=0,g=m.length;c<g;c++)if(l[m[c][0]]&&i[m[c][0]]!==y[m[c][1]]())return null}else if(y=new Date(Date.UTC(i.year,i.month,i.day,i.hour,i.minute-i.timezoneOffset,i.second,i.millisecond)),i.month>11||i.month<0||i.day>31||i.day<1||i.hour>23||i.hour<0||i.minute>59||i.minute<0||i.second>59||i.second<0)return null;return y}var TG={format:X6,parse:J6,defaultI18n:_S,setGlobalDateI18n:Y6,setGlobalDateMasks:Q6};const RG=Object.freeze(Object.defineProperty({__proto__:null,assign:Lo,default:TG,defaultI18n:_S,format:X6,parse:J6,setGlobalDateI18n:Y6,setGlobalDateMasks:Q6},Symbol.toStringTag,{value:"Module"})),AG=el(RG);var lb,GI;function IG(){if(GI)return lb;GI=1;var e=AG,t=ni();return lb=t(function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return n.format&&(r.timestamp=typeof n.format=="function"?n.format():e.format(new Date,n.format)),r.timestamp||(r.timestamp=new Date().toISOString()),n.alias&&(r[n.alias]=r.timestamp),r}),lb}var fb,KI;function OG(){if(KI)return fb;KI=1;var e=U6(),t=ni(),r=Dr(),n=r.MESSAGE;return fb=t(function(i,a){return a.level!==!1&&(i.level=e.strip(i.level)),a.message!==!1&&(i.message=e.strip(String(i.message))),a.raw!==!1&&i[n]&&(i[n]=e.strip(String(i[n]))),i}),fb}var ZI;function ej(){if(ZI)return $p;ZI=1;var e=$p.format=ni();return $p.levels=aG(),Object.defineProperty(e,"align",{value:oG()}),Object.defineProperty(e,"cli",{value:sG()}),Object.defineProperty(e,"colorize",{value:gS()}),Object.defineProperty(e,"combine",{value:uG()}),Object.defineProperty(e,"errors",{value:lG()}),Object.defineProperty(e,"json",{value:fG()}),Object.defineProperty(e,"label",{value:cG()}),Object.defineProperty(e,"logstash",{value:dG()}),Object.defineProperty(e,"metadata",{value:hG()}),Object.defineProperty(e,"ms",{value:pG()}),Object.defineProperty(e,"padLevels",{value:H6()}),Object.defineProperty(e,"prettyPrint",{value:mG()}),Object.defineProperty(e,"printf",{value:yG()}),Object.defineProperty(e,"simple",{value:gG()}),Object.defineProperty(e,"splat",{value:_G()}),Object.defineProperty(e,"timestamp",{value:IG()}),Object.defineProperty(e,"uncolorize",{value:OG()}),$p}var cb={},YI;function tj(){return YI||(YI=1,function(e){var t=Or(),r=t.format;e.warn={deprecated:function(i){return function(){throw new Error(r("{ %s } was removed in winston@3.0.0.",i))}},useFormat:function(i){return function(){throw new Error([r("{ %s } was removed in winston@3.0.0.",i),"Use a custom winston.format = winston.format(function) instead."].join(`
`))}},forFunctions:function(i,a,o){o.forEach(function(s){i[s]=e.warn[a](s)})},forProperties:function(i,a,o){o.forEach(function(s){var l=e.warn[a](s);Object.defineProperty(i,s,{get:l,set:l})})}}}(cb)),cb}const PG="winston",DG="A logger for just about everything.",NG="3.17.0",CG="Charlie Robbins <charlie.robbins@gmail.com>",LG=["David Hyde <dabh@alumni.stanford.edu>"],MG={type:"git",url:"https://github.com/winstonjs/winston.git"},kG=["winston","logger","logging","logs","sysadmin","bunyan","pino","loglevel","tools","json","stream"],FG={"@dabh/diagnostics":"^2.0.2","@colors/colors":"^1.6.0",async:"^3.2.3","is-stream":"^2.0.0",logform:"^2.7.0","one-time":"^1.0.0","readable-stream":"^3.4.0","safe-stable-stringify":"^2.3.1","stack-trace":"0.0.x","triple-beam":"^1.3.0","winston-transport":"^4.9.0"},jG={"@babel/cli":"^7.23.9","@babel/core":"^7.24.0","@babel/preset-env":"^7.24.0","@dabh/eslint-config-populist":"^4.4.0","@types/node":"^20.11.24","abstract-winston-transport":"^0.5.1",assume:"^2.2.0","cross-spawn-async":"^2.2.5",eslint:"^8.57.0",hock:"^1.4.1",mocha:"^10.3.0",nyc:"^17.1.0",rimraf:"5.0.1",split2:"^4.1.0","std-mocks":"^2.0.0",through2:"^4.0.2","winston-compat":"^0.1.5"},BG="./lib/winston.js",qG="./dist/winston",$G="./index.d.ts",UG={lint:"eslint lib/*.js lib/winston/*.js lib/winston/**/*.js --resolve-plugins-relative-to ./node_modules/@dabh/eslint-config-populist",test:"rimraf test/fixtures/logs/* && mocha","test:coverage":"nyc npm run test:unit","test:unit":"mocha test/unit","test:integration":"mocha test/integration",build:"rimraf dist && babel lib -d dist",prepublishOnly:"npm run build"},HG={node:">= 12.0.0"},VG="MIT",zG={name:PG,description:DG,version:NG,author:CG,maintainers:LG,repository:MG,keywords:kG,dependencies:FG,devDependencies:jG,main:BG,browser:qG,types:$G,scripts:UG,engines:HG,license:VG};var db={},Zp={exports:{}},hb={exports:{}},pb,QI;function Im(){if(QI)return pb;QI=1,pb=e;function e(r,n){if(t("noDeprecation"))return r;var i=!1;function a(){if(!i){if(t("throwDeprecation"))throw new Error(n);t("traceDeprecation")?console.trace(n):console.warn(n),i=!0}return r.apply(this,arguments)}return a}function t(r){try{if(!xt.localStorage)return!1}catch{return!1}var n=xt.localStorage[r];return n==null?!1:String(n).toLowerCase()==="true"}return pb}var mb,XI;function rj(){return XI||(XI=1,mb=Kn().EventEmitter),mb}var yb,JI;function nj(){if(JI)return yb;JI=1;function e(o,s){var l=this,u=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return u||f?(s?s(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,ze.nextTick(i,this,o)):ze.nextTick(i,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(d){!s&&d?l._writableState?l._writableState.errorEmitted?ze.nextTick(r,l):(l._writableState.errorEmitted=!0,ze.nextTick(t,l,d)):ze.nextTick(t,l,d):s?(ze.nextTick(r,l),s(d)):ze.nextTick(r,l)}),this)}function t(o,s){i(o,s),r(o)}function r(o){o._writableState&&!o._writableState.emitClose||o._readableState&&!o._readableState.emitClose||o.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(o,s){o.emit("error",s)}function a(o,s){var l=o._readableState,u=o._writableState;l&&l.autoDestroy||u&&u.autoDestroy?o.destroy(s):o.emit("error",s)}return yb={destroy:e,undestroy:n,errorOrDestroy:a},yb}var gb={},eO;function Om(){if(eO)return gb;eO=1;function e(s,l){s.prototype=Object.create(l.prototype),s.prototype.constructor=s,s.__proto__=l}var t={};function r(s,l,u){u||(u=Error);function f(c,p,b){return typeof l=="string"?l:l(c,p,b)}var d=function(c){e(p,c);function p(b,v,_){return c.call(this,f(b,v,_))||this}return p}(u);d.prototype.name=u.name,d.prototype.code=s,t[s]=d}function n(s,l){if(Array.isArray(s)){var u=s.length;return s=s.map(function(f){return String(f)}),u>2?"one of ".concat(l," ").concat(s.slice(0,u-1).join(", "),", or ")+s[u-1]:u===2?"one of ".concat(l," ").concat(s[0]," or ").concat(s[1]):"of ".concat(l," ").concat(s[0])}else return"of ".concat(l," ").concat(String(s))}function i(s,l,u){return s.substr(0,l.length)===l}function a(s,l,u){return(u===void 0||u>s.length)&&(u=s.length),s.substring(u-l.length,u)===l}function o(s,l,u){return typeof u!="number"&&(u=0),u+l.length>s.length?!1:s.indexOf(l,u)!==-1}return r("ERR_INVALID_OPT_VALUE",function(s,l){return'The value "'+l+'" is invalid for option "'+s+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(s,l,u){var f;typeof l=="string"&&i(l,"not ")?(f="must not be",l=l.replace(/^not /,"")):f="must be";var d;if(a(s," argument"))d="The ".concat(s," ").concat(f," ").concat(n(l,"type"));else{var c=o(s,".")?"property":"argument";d='The "'.concat(s,'" ').concat(c," ").concat(f," ").concat(n(l,"type"))}return d+=". Received type ".concat(typeof u),d},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(s){return"The "+s+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(s){return"Cannot call "+s+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(s){return"Unknown encoding: "+s},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),gb.codes=t,gb}var _b,tO;function ij(){if(tO)return _b;tO=1;var e=Om().codes.ERR_INVALID_OPT_VALUE;function t(n,i,a){return n.highWaterMark!=null?n.highWaterMark:i?n[a]:null}function r(n,i,a,o){var s=t(i,o,a);if(s!=null){if(!(isFinite(s)&&Math.floor(s)===s)||s<0){var l=o?a:"highWaterMark";throw new e(l,s)}return Math.floor(s)}return n.objectMode?16:16*1024}return _b={getHighWaterMark:r},_b}var bb,rO;function WG(){if(rO)return bb;rO=1;function e(b,v){var _=Object.keys(b);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(b);v&&(y=y.filter(function(m){return Object.getOwnPropertyDescriptor(b,m).enumerable})),_.push.apply(_,y)}return _}function t(b){for(var v=1;v<arguments.length;v++){var _=arguments[v]!=null?arguments[v]:{};v%2?e(Object(_),!0).forEach(function(y){r(b,y,_[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(_)):e(Object(_)).forEach(function(y){Object.defineProperty(b,y,Object.getOwnPropertyDescriptor(_,y))})}return b}function r(b,v,_){return v=o(v),v in b?Object.defineProperty(b,v,{value:_,enumerable:!0,configurable:!0,writable:!0}):b[v]=_,b}function n(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}function i(b,v){for(var _=0;_<v.length;_++){var y=v[_];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(b,o(y.key),y)}}function a(b,v,_){return i(b.prototype,v),Object.defineProperty(b,"prototype",{writable:!1}),b}function o(b){var v=s(b,"string");return typeof v=="symbol"?v:String(v)}function s(b,v){if(typeof b!="object"||b===null)return b;var _=b[Symbol.toPrimitive];if(_!==void 0){var y=_.call(b,v);if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(b)}var l=Sr(),u=l.Buffer,f=Or(),d=f.inspect,c=d&&d.custom||"inspect";function p(b,v,_){u.prototype.copy.call(b,v,_)}return bb=function(){function b(){n(this,b),this.head=null,this.tail=null,this.length=0}return a(b,[{key:"push",value:function(_){var y={data:_,next:null};this.length>0?this.tail.next=y:this.head=y,this.tail=y,++this.length}},{key:"unshift",value:function(_){var y={data:_,next:this.head};this.length===0&&(this.tail=y),this.head=y,++this.length}},{key:"shift",value:function(){if(this.length!==0){var _=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,_}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(_){if(this.length===0)return"";for(var y=this.head,m=""+y.data;y=y.next;)m+=_+y.data;return m}},{key:"concat",value:function(_){if(this.length===0)return u.alloc(0);for(var y=u.allocUnsafe(_>>>0),m=this.head,g=0;m;)p(m.data,y,g),g+=m.data.length,m=m.next;return y}},{key:"consume",value:function(_,y){var m;return _<this.head.data.length?(m=this.head.data.slice(0,_),this.head.data=this.head.data.slice(_)):_===this.head.data.length?m=this.shift():m=y?this._getString(_):this._getBuffer(_),m}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(_){var y=this.head,m=1,g=y.data;for(_-=g.length;y=y.next;){var E=y.data,T=_>E.length?E.length:_;if(T===E.length?g+=E:g+=E.slice(0,_),_-=T,_===0){T===E.length?(++m,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=E.slice(T));break}++m}return this.length-=m,g}},{key:"_getBuffer",value:function(_){var y=u.allocUnsafe(_),m=this.head,g=1;for(m.data.copy(y),_-=m.data.length;m=m.next;){var E=m.data,T=_>E.length?E.length:_;if(E.copy(y,y.length-_,0,T),_-=T,_===0){T===E.length?(++g,m.next?this.head=m.next:this.head=this.tail=null):(this.head=m,m.data=E.slice(T));break}++g}return this.length-=g,y}},{key:c,value:function(_,y){return d(this,t(t({},y),{},{depth:0,customInspect:!1}))}}]),b}(),bb}var vb,nO;function GG(){if(nO)return vb;nO=1;var e=Om().codes.ERR_STREAM_PREMATURE_CLOSE;function t(a){var o=!1;return function(){if(!o){o=!0;for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];a.apply(this,l)}}}function r(){}function n(a){return a.setHeader&&typeof a.abort=="function"}function i(a,o,s){if(typeof o=="function")return i(a,null,o);o||(o={}),s=t(s||r);var l=o.readable||o.readable!==!1&&a.readable,u=o.writable||o.writable!==!1&&a.writable,f=function(){a.writable||c()},d=a._writableState&&a._writableState.finished,c=function(){u=!1,d=!0,l||s.call(a)},p=a._readableState&&a._readableState.endEmitted,b=function(){l=!1,p=!0,u||s.call(a)},v=function(g){s.call(a,g)},_=function(){var g;if(l&&!p)return(!a._readableState||!a._readableState.ended)&&(g=new e),s.call(a,g);if(u&&!d)return(!a._writableState||!a._writableState.ended)&&(g=new e),s.call(a,g)},y=function(){a.req.on("finish",c)};return n(a)?(a.on("complete",c),a.on("abort",_),a.req?y():a.on("request",y)):u&&!a._writableState&&(a.on("end",f),a.on("close",f)),a.on("end",b),a.on("finish",c),o.error!==!1&&a.on("error",v),a.on("close",_),function(){a.removeListener("complete",c),a.removeListener("abort",_),a.removeListener("request",y),a.req&&a.req.removeListener("finish",c),a.removeListener("end",f),a.removeListener("close",f),a.removeListener("finish",c),a.removeListener("end",b),a.removeListener("error",v),a.removeListener("close",_)}}return vb=i,vb}var wb,iO;function KG(){if(iO)return wb;iO=1;var e;function t(g,E,T){return E=r(E),E in g?Object.defineProperty(g,E,{value:T,enumerable:!0,configurable:!0,writable:!0}):g[E]=T,g}function r(g){var E=n(g,"string");return typeof E=="symbol"?E:String(E)}function n(g,E){if(typeof g!="object"||g===null)return g;var T=g[Symbol.toPrimitive];if(T!==void 0){var I=T.call(g,E||"default");if(typeof I!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return(E==="string"?String:Number)(g)}var i=GG(),a=Symbol("lastResolve"),o=Symbol("lastReject"),s=Symbol("error"),l=Symbol("ended"),u=Symbol("lastPromise"),f=Symbol("handlePromise"),d=Symbol("stream");function c(g,E){return{value:g,done:E}}function p(g){var E=g[a];if(E!==null){var T=g[d].read();T!==null&&(g[u]=null,g[a]=null,g[o]=null,E(c(T,!1)))}}function b(g){ze.nextTick(p,g)}function v(g,E){return function(T,I){g.then(function(){if(E[l]){T(c(void 0,!0));return}E[f](T,I)},I)}}var _=Object.getPrototypeOf(function(){}),y=Object.setPrototypeOf((e={get stream(){return this[d]},next:function(){var E=this,T=this[s];if(T!==null)return Promise.reject(T);if(this[l])return Promise.resolve(c(void 0,!0));if(this[d].destroyed)return new Promise(function(N,M){ze.nextTick(function(){E[s]?M(E[s]):N(c(void 0,!0))})});var I=this[u],D;if(I)D=new Promise(v(I,this));else{var B=this[d].read();if(B!==null)return Promise.resolve(c(B,!1));D=new Promise(this[f])}return this[u]=D,D}},t(e,Symbol.asyncIterator,function(){return this}),t(e,"return",function(){var E=this;return new Promise(function(T,I){E[d].destroy(null,function(D){if(D){I(D);return}T(c(void 0,!0))})})}),e),_),m=function(E){var T,I=Object.create(y,(T={},t(T,d,{value:E,writable:!0}),t(T,a,{value:null,writable:!0}),t(T,o,{value:null,writable:!0}),t(T,s,{value:null,writable:!0}),t(T,l,{value:E._readableState.endEmitted,writable:!0}),t(T,f,{value:function(B,N){var M=I[d].read();M?(I[u]=null,I[a]=null,I[o]=null,B(c(M,!1))):(I[a]=B,I[o]=N)},writable:!0}),T));return I[u]=null,i(E,function(D){if(D&&D.code!=="ERR_STREAM_PREMATURE_CLOSE"){var B=I[o];B!==null&&(I[u]=null,I[a]=null,I[o]=null,B(D)),I[s]=D;return}var N=I[a];N!==null&&(I[u]=null,I[a]=null,I[o]=null,N(c(void 0,!0))),I[l]=!0}),E.on("readable",b.bind(null,I)),I};return wb=m,wb}var Eb,aO;function ZG(){return aO||(aO=1,Eb=function(){throw new Error("Readable.from is not available in the browser")}),Eb}var Sb,oO;function YG(){if(oO)return Sb;oO=1,Sb=N;var e;N.ReadableState=B,Kn().EventEmitter;var t=function(w,x){return w.listeners(x).length},r=rj(),n=Sr().Buffer,i=(typeof xt<"u"?xt:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function a(R){return n.from(R)}function o(R){return n.isBuffer(R)||R instanceof i}var s=Or(),l;s&&s.debuglog?l=s.debuglog("stream"):l=function(){};var u=WG(),f=nj(),d=ij(),c=d.getHighWaterMark,p=Om().codes,b=p.ERR_INVALID_ARG_TYPE,v=p.ERR_STREAM_PUSH_AFTER_EOF,_=p.ERR_METHOD_NOT_IMPLEMENTED,y=p.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,m,g,E;Pr()(N,r);var T=f.errorOrDestroy,I=["error","close","destroy","pause","resume"];function D(R,w,x){if(typeof R.prependListener=="function")return R.prependListener(w,x);!R._events||!R._events[w]?R.on(w,x):Array.isArray(R._events[w])?R._events[w].unshift(x):R._events[w]=[x,R._events[w]]}function B(R,w,x){e=e||K0(),R=R||{},typeof x!="boolean"&&(x=w instanceof e),this.objectMode=!!R.objectMode,x&&(this.objectMode=this.objectMode||!!R.readableObjectMode),this.highWaterMark=c(this,R,"readableHighWaterMark",x),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=R.emitClose!==!1,this.autoDestroy=!!R.autoDestroy,this.destroyed=!1,this.defaultEncoding=R.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,R.encoding&&(m||(m=_a().StringDecoder),this.decoder=new m(R.encoding),this.encoding=R.encoding)}function N(R){if(e=e||K0(),!(this instanceof N))return new N(R);var w=this instanceof e;this._readableState=new B(R,this,w),this.readable=!0,R&&(typeof R.read=="function"&&(this._read=R.read),typeof R.destroy=="function"&&(this._destroy=R.destroy)),r.call(this)}Object.defineProperty(N.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(w){this._readableState&&(this._readableState.destroyed=w)}}),N.prototype.destroy=f.destroy,N.prototype._undestroy=f.undestroy,N.prototype._destroy=function(R,w){w(R)},N.prototype.push=function(R,w){var x=this._readableState,k;return x.objectMode?k=!0:typeof R=="string"&&(w=w||x.defaultEncoding,w!==x.encoding&&(R=n.from(R,w),w=""),k=!0),M(this,R,w,!1,k)},N.prototype.unshift=function(R){return M(this,R,null,!0,!1)};function M(R,w,x,k,U){l("readableAddChunk",w);var re=R._readableState;if(w===null)re.reading=!1,X(R,re);else{var fe;if(U||(fe=O(re,w)),fe)T(R,fe);else if(re.objectMode||w&&w.length>0)if(typeof w!="string"&&!re.objectMode&&Object.getPrototypeOf(w)!==n.prototype&&(w=a(w)),k)re.endEmitted?T(R,new y):j(R,re,w,!0);else if(re.ended)T(R,new v);else{if(re.destroyed)return!1;re.reading=!1,re.decoder&&!x?(w=re.decoder.write(w),re.objectMode||w.length!==0?j(R,re,w,!1):ne(R,re)):j(R,re,w,!1)}else k||(re.reading=!1,ne(R,re))}return!re.ended&&(re.length<re.highWaterMark||re.length===0)}function j(R,w,x,k){w.flowing&&w.length===0&&!w.sync?(w.awaitDrain=0,R.emit("data",x)):(w.length+=w.objectMode?1:x.length,k?w.buffer.unshift(x):w.buffer.push(x),w.needReadable&&le(R)),ne(R,w)}function O(R,w){var x;return!o(w)&&typeof w!="string"&&w!==void 0&&!R.objectMode&&(x=new b("chunk",["string","Buffer","Uint8Array"],w)),x}N.prototype.isPaused=function(){return this._readableState.flowing===!1},N.prototype.setEncoding=function(R){m||(m=_a().StringDecoder);var w=new m(R);this._readableState.decoder=w,this._readableState.encoding=this._readableState.decoder.encoding;for(var x=this._readableState.buffer.head,k="";x!==null;)k+=w.write(x.data),x=x.next;return this._readableState.buffer.clear(),k!==""&&this._readableState.buffer.push(k),this._readableState.length=k.length,this};var q=1073741824;function Q(R){return R>=q?R=q:(R--,R|=R>>>1,R|=R>>>2,R|=R>>>4,R|=R>>>8,R|=R>>>16,R++),R}function ie(R,w){return R<=0||w.length===0&&w.ended?0:w.objectMode?1:R!==R?w.flowing&&w.length?w.buffer.head.data.length:w.length:(R>w.highWaterMark&&(w.highWaterMark=Q(R)),R<=w.length?R:w.ended?w.length:(w.needReadable=!0,0))}N.prototype.read=function(R){l("read",R),R=parseInt(R,10);var w=this._readableState,x=R;if(R!==0&&(w.emittedReadable=!1),R===0&&w.needReadable&&((w.highWaterMark!==0?w.length>=w.highWaterMark:w.length>0)||w.ended))return l("read: emitReadable",w.length,w.ended),w.length===0&&w.ended?$(this):le(this),null;if(R=ie(R,w),R===0&&w.ended)return w.length===0&&$(this),null;var k=w.needReadable;l("need readable",k),(w.length===0||w.length-R<w.highWaterMark)&&(k=!0,l("length less than watermark",k)),w.ended||w.reading?(k=!1,l("reading or ended",k)):k&&(l("do read"),w.reading=!0,w.sync=!0,w.length===0&&(w.needReadable=!0),this._read(w.highWaterMark),w.sync=!1,w.reading||(R=ie(x,w)));var U;return R>0?U=A(R,w):U=null,U===null?(w.needReadable=w.length<=w.highWaterMark,R=0):(w.length-=R,w.awaitDrain=0),w.length===0&&(w.ended||(w.needReadable=!0),x!==R&&w.ended&&$(this)),U!==null&&this.emit("data",U),U};function X(R,w){if(l("onEofChunk"),!w.ended){if(w.decoder){var x=w.decoder.end();x&&x.length&&(w.buffer.push(x),w.length+=w.objectMode?1:x.length)}w.ended=!0,w.sync?le(R):(w.needReadable=!1,w.emittedReadable||(w.emittedReadable=!0,ae(R)))}}function le(R){var w=R._readableState;l("emitReadable",w.needReadable,w.emittedReadable),w.needReadable=!1,w.emittedReadable||(l("emitReadable",w.flowing),w.emittedReadable=!0,ze.nextTick(ae,R))}function ae(R){var w=R._readableState;l("emitReadable_",w.destroyed,w.length,w.ended),!w.destroyed&&(w.length||w.ended)&&(R.emit("readable"),w.emittedReadable=!1),w.needReadable=!w.flowing&&!w.ended&&w.length<=w.highWaterMark,P(R)}function ne(R,w){w.readingMore||(w.readingMore=!0,ze.nextTick(V,R,w))}function V(R,w){for(;!w.reading&&!w.ended&&(w.length<w.highWaterMark||w.flowing&&w.length===0);){var x=w.length;if(l("maybeReadMore read 0"),R.read(0),x===w.length)break}w.readingMore=!1}N.prototype._read=function(R){T(this,new _("_read()"))},N.prototype.pipe=function(R,w){var x=this,k=this._readableState;switch(k.pipesCount){case 0:k.pipes=R;break;case 1:k.pipes=[k.pipes,R];break;default:k.pipes.push(R);break}k.pipesCount+=1,l("pipe count=%d opts=%j",k.pipesCount,w);var U=(!w||w.end!==!1)&&R!==ze.stdout&&R!==ze.stderr,re=U?ve:ke;k.endEmitted?ze.nextTick(re):x.once("end",re),R.on("unpipe",fe);function fe(Ze,Ue){l("onunpipe"),Ze===x&&Ue&&Ue.hasUnpiped===!1&&(Ue.hasUnpiped=!0,be())}function ve(){l("onend"),R.end()}var ce=oe(x);R.on("drain",ce);var Ie=!1;function be(){l("cleanup"),R.removeListener("close",Ae),R.removeListener("finish",Pe),R.removeListener("drain",ce),R.removeListener("error",je),R.removeListener("unpipe",fe),x.removeListener("end",ve),x.removeListener("end",ke),x.removeListener("data",xe),Ie=!0,k.awaitDrain&&(!R._writableState||R._writableState.needDrain)&&ce()}x.on("data",xe);function xe(Ze){l("ondata");var Ue=R.write(Ze);l("dest.write",Ue),Ue===!1&&((k.pipesCount===1&&k.pipes===R||k.pipesCount>1&&pe(k.pipes,R)!==-1)&&!Ie&&(l("false write response, pause",k.awaitDrain),k.awaitDrain++),x.pause())}function je(Ze){l("onerror",Ze),ke(),R.removeListener("error",je),t(R,"error")===0&&T(R,Ze)}D(R,"error",je);function Ae(){R.removeListener("finish",Pe),ke()}R.once("close",Ae);function Pe(){l("onfinish"),R.removeListener("close",Ae),ke()}R.once("finish",Pe);function ke(){l("unpipe"),x.unpipe(R)}return R.emit("pipe",x),k.flowing||(l("pipe resume"),x.resume()),R};function oe(R){return function(){var x=R._readableState;l("pipeOnDrain",x.awaitDrain),x.awaitDrain&&x.awaitDrain--,x.awaitDrain===0&&t(R,"data")&&(x.flowing=!0,P(R))}}N.prototype.unpipe=function(R){var w=this._readableState,x={hasUnpiped:!1};if(w.pipesCount===0)return this;if(w.pipesCount===1)return R&&R!==w.pipes?this:(R||(R=w.pipes),w.pipes=null,w.pipesCount=0,w.flowing=!1,R&&R.emit("unpipe",this,x),this);if(!R){var k=w.pipes,U=w.pipesCount;w.pipes=null,w.pipesCount=0,w.flowing=!1;for(var re=0;re<U;re++)k[re].emit("unpipe",this,{hasUnpiped:!1});return this}var fe=pe(w.pipes,R);return fe===-1?this:(w.pipes.splice(fe,1),w.pipesCount-=1,w.pipesCount===1&&(w.pipes=w.pipes[0]),R.emit("unpipe",this,x),this)},N.prototype.on=function(R,w){var x=r.prototype.on.call(this,R,w),k=this._readableState;return R==="data"?(k.readableListening=this.listenerCount("readable")>0,k.flowing!==!1&&this.resume()):R==="readable"&&!k.endEmitted&&!k.readableListening&&(k.readableListening=k.needReadable=!0,k.flowing=!1,k.emittedReadable=!1,l("on readable",k.length,k.reading),k.length?le(this):k.reading||ze.nextTick(Y,this)),x},N.prototype.addListener=N.prototype.on,N.prototype.removeListener=function(R,w){var x=r.prototype.removeListener.call(this,R,w);return R==="readable"&&ze.nextTick(he,this),x},N.prototype.removeAllListeners=function(R){var w=r.prototype.removeAllListeners.apply(this,arguments);return(R==="readable"||R===void 0)&&ze.nextTick(he,this),w};function he(R){var w=R._readableState;w.readableListening=R.listenerCount("readable")>0,w.resumeScheduled&&!w.paused?w.flowing=!0:R.listenerCount("data")>0&&R.resume()}function Y(R){l("readable nexttick read 0"),R.read(0)}N.prototype.resume=function(){var R=this._readableState;return R.flowing||(l("resume"),R.flowing=!R.readableListening,Z(this,R)),R.paused=!1,this};function Z(R,w){w.resumeScheduled||(w.resumeScheduled=!0,ze.nextTick(ee,R,w))}function ee(R,w){l("resume",w.reading),w.reading||R.read(0),w.resumeScheduled=!1,R.emit("resume"),P(R),w.flowing&&!w.reading&&R.read(0)}N.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function P(R){var w=R._readableState;for(l("flow",w.flowing);w.flowing&&R.read()!==null;);}N.prototype.wrap=function(R){var w=this,x=this._readableState,k=!1;R.on("end",function(){if(l("wrapped end"),x.decoder&&!x.ended){var fe=x.decoder.end();fe&&fe.length&&w.push(fe)}w.push(null)}),R.on("data",function(fe){if(l("wrapped data"),x.decoder&&(fe=x.decoder.write(fe)),!(x.objectMode&&fe==null)&&!(!x.objectMode&&(!fe||!fe.length))){var ve=w.push(fe);ve||(k=!0,R.pause())}});for(var U in R)this[U]===void 0&&typeof R[U]=="function"&&(this[U]=function(ve){return function(){return R[ve].apply(R,arguments)}}(U));for(var re=0;re<I.length;re++)R.on(I[re],this.emit.bind(this,I[re]));return this._read=function(fe){l("wrapped _read",fe),k&&(k=!1,R.resume())},this},typeof Symbol=="function"&&(N.prototype[Symbol.asyncIterator]=function(){return g===void 0&&(g=KG()),g(this)}),Object.defineProperty(N.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(N.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(N.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(w){this._readableState&&(this._readableState.flowing=w)}}),N._fromList=A,Object.defineProperty(N.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function A(R,w){if(w.length===0)return null;var x;return w.objectMode?x=w.buffer.shift():!R||R>=w.length?(w.decoder?x=w.buffer.join(""):w.buffer.length===1?x=w.buffer.first():x=w.buffer.concat(w.length),w.buffer.clear()):x=w.buffer.consume(R,w.decoder),x}function $(R){var w=R._readableState;l("endReadable",w.endEmitted),w.endEmitted||(w.ended=!0,ze.nextTick(te,w,R))}function te(R,w){if(l("endReadableNT",R.endEmitted,R.length),!R.endEmitted&&R.length===0&&(R.endEmitted=!0,w.readable=!1,w.emit("end"),R.autoDestroy)){var x=w._writableState;(!x||x.autoDestroy&&x.finished)&&w.destroy()}}typeof Symbol=="function"&&(N.from=function(R,w){return E===void 0&&(E=ZG()),E(N,R,w)});function pe(R,w){for(var x=0,k=R.length;x<k;x++)if(R[x]===w)return x;return-1}return Sb}var xb,sO;function K0(){if(sO)return xb;sO=1;var e=Object.keys||function(u){var f=[];for(var d in u)f.push(d);return f};xb=o;var t=YG(),r=bS();Pr()(o,t);for(var n=e(r.prototype),i=0;i<n.length;i++){var a=n[i];o.prototype[a]||(o.prototype[a]=r.prototype[a])}function o(u){if(!(this instanceof o))return new o(u);t.call(this,u),r.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",s)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function s(){this._writableState.ended||ze.nextTick(l,this)}function l(u){u.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(f){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=f,this._writableState.destroyed=f)}}),xb}var Tb,uO;function bS(){if(uO)return Tb;uO=1,Tb=B;function e(P){var A=this;this.next=null,this.entry=null,this.finish=function(){ee(A,P)}}var t;B.WritableState=I;var r={deprecate:Im()},n=rj(),i=Sr().Buffer,a=(typeof xt<"u"?xt:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function o(P){return i.from(P)}function s(P){return i.isBuffer(P)||P instanceof a}var l=nj(),u=ij(),f=u.getHighWaterMark,d=Om().codes,c=d.ERR_INVALID_ARG_TYPE,p=d.ERR_METHOD_NOT_IMPLEMENTED,b=d.ERR_MULTIPLE_CALLBACK,v=d.ERR_STREAM_CANNOT_PIPE,_=d.ERR_STREAM_DESTROYED,y=d.ERR_STREAM_NULL_VALUES,m=d.ERR_STREAM_WRITE_AFTER_END,g=d.ERR_UNKNOWN_ENCODING,E=l.errorOrDestroy;Pr()(B,n);function T(){}function I(P,A,$){t=t||K0(),P=P||{},typeof $!="boolean"&&($=A instanceof t),this.objectMode=!!P.objectMode,$&&(this.objectMode=this.objectMode||!!P.writableObjectMode),this.highWaterMark=f(this,P,"writableHighWaterMark",$),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var te=P.decodeStrings===!1;this.decodeStrings=!te,this.defaultEncoding=P.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(pe){X(A,pe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=P.emitClose!==!1,this.autoDestroy=!!P.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}I.prototype.getBuffer=function(){for(var A=this.bufferedRequest,$=[];A;)$.push(A),A=A.next;return $},function(){try{Object.defineProperty(I.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var D;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(D=Function.prototype[Symbol.hasInstance],Object.defineProperty(B,Symbol.hasInstance,{value:function(A){return D.call(this,A)?!0:this!==B?!1:A&&A._writableState instanceof I}})):D=function(A){return A instanceof this};function B(P){t=t||K0();var A=this instanceof t;if(!A&&!D.call(B,this))return new B(P);this._writableState=new I(P,this,A),this.writable=!0,P&&(typeof P.write=="function"&&(this._write=P.write),typeof P.writev=="function"&&(this._writev=P.writev),typeof P.destroy=="function"&&(this._destroy=P.destroy),typeof P.final=="function"&&(this._final=P.final)),n.call(this)}B.prototype.pipe=function(){E(this,new v)};function N(P,A){var $=new m;E(P,$),ze.nextTick(A,$)}function M(P,A,$,te){var pe;return $===null?pe=new y:typeof $!="string"&&!A.objectMode&&(pe=new c("chunk",["string","Buffer"],$)),pe?(E(P,pe),ze.nextTick(te,pe),!1):!0}B.prototype.write=function(P,A,$){var te=this._writableState,pe=!1,R=!te.objectMode&&s(P);return R&&!i.isBuffer(P)&&(P=o(P)),typeof A=="function"&&($=A,A=null),R?A="buffer":A||(A=te.defaultEncoding),typeof $!="function"&&($=T),te.ending?N(this,$):(R||M(this,te,P,$))&&(te.pendingcb++,pe=O(this,te,R,P,A,$)),pe},B.prototype.cork=function(){this._writableState.corked++},B.prototype.uncork=function(){var P=this._writableState;P.corked&&(P.corked--,!P.writing&&!P.corked&&!P.bufferProcessing&&P.bufferedRequest&&ne(this,P))},B.prototype.setDefaultEncoding=function(A){if(typeof A=="string"&&(A=A.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((A+"").toLowerCase())>-1))throw new g(A);return this._writableState.defaultEncoding=A,this},Object.defineProperty(B.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function j(P,A,$){return!P.objectMode&&P.decodeStrings!==!1&&typeof A=="string"&&(A=i.from(A,$)),A}Object.defineProperty(B.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function O(P,A,$,te,pe,R){if(!$){var w=j(A,te,pe);te!==w&&($=!0,pe="buffer",te=w)}var x=A.objectMode?1:te.length;A.length+=x;var k=A.length<A.highWaterMark;if(k||(A.needDrain=!0),A.writing||A.corked){var U=A.lastBufferedRequest;A.lastBufferedRequest={chunk:te,encoding:pe,isBuf:$,callback:R,next:null},U?U.next=A.lastBufferedRequest:A.bufferedRequest=A.lastBufferedRequest,A.bufferedRequestCount+=1}else q(P,A,!1,x,te,pe,R);return k}function q(P,A,$,te,pe,R,w){A.writelen=te,A.writecb=w,A.writing=!0,A.sync=!0,A.destroyed?A.onwrite(new _("write")):$?P._writev(pe,A.onwrite):P._write(pe,R,A.onwrite),A.sync=!1}function Q(P,A,$,te,pe){--A.pendingcb,$?(ze.nextTick(pe,te),ze.nextTick(Y,P,A),P._writableState.errorEmitted=!0,E(P,te)):(pe(te),P._writableState.errorEmitted=!0,E(P,te),Y(P,A))}function ie(P){P.writing=!1,P.writecb=null,P.length-=P.writelen,P.writelen=0}function X(P,A){var $=P._writableState,te=$.sync,pe=$.writecb;if(typeof pe!="function")throw new b;if(ie($),A)Q(P,$,te,A,pe);else{var R=V($)||P.destroyed;!R&&!$.corked&&!$.bufferProcessing&&$.bufferedRequest&&ne(P,$),te?ze.nextTick(le,P,$,R,pe):le(P,$,R,pe)}}function le(P,A,$,te){$||ae(P,A),A.pendingcb--,te(),Y(P,A)}function ae(P,A){A.length===0&&A.needDrain&&(A.needDrain=!1,P.emit("drain"))}function ne(P,A){A.bufferProcessing=!0;var $=A.bufferedRequest;if(P._writev&&$&&$.next){var te=A.bufferedRequestCount,pe=new Array(te),R=A.corkedRequestsFree;R.entry=$;for(var w=0,x=!0;$;)pe[w]=$,$.isBuf||(x=!1),$=$.next,w+=1;pe.allBuffers=x,q(P,A,!0,A.length,pe,"",R.finish),A.pendingcb++,A.lastBufferedRequest=null,R.next?(A.corkedRequestsFree=R.next,R.next=null):A.corkedRequestsFree=new e(A),A.bufferedRequestCount=0}else{for(;$;){var k=$.chunk,U=$.encoding,re=$.callback,fe=A.objectMode?1:k.length;if(q(P,A,!1,fe,k,U,re),$=$.next,A.bufferedRequestCount--,A.writing)break}$===null&&(A.lastBufferedRequest=null)}A.bufferedRequest=$,A.bufferProcessing=!1}B.prototype._write=function(P,A,$){$(new p("_write()"))},B.prototype._writev=null,B.prototype.end=function(P,A,$){var te=this._writableState;return typeof P=="function"?($=P,P=null,A=null):typeof A=="function"&&($=A,A=null),P!=null&&this.write(P,A),te.corked&&(te.corked=1,this.uncork()),te.ending||Z(this,te,$),this},Object.defineProperty(B.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function V(P){return P.ending&&P.length===0&&P.bufferedRequest===null&&!P.finished&&!P.writing}function oe(P,A){P._final(function($){A.pendingcb--,$&&E(P,$),A.prefinished=!0,P.emit("prefinish"),Y(P,A)})}function he(P,A){!A.prefinished&&!A.finalCalled&&(typeof P._final=="function"&&!A.destroyed?(A.pendingcb++,A.finalCalled=!0,ze.nextTick(oe,P,A)):(A.prefinished=!0,P.emit("prefinish")))}function Y(P,A){var $=V(A);if($&&(he(P,A),A.pendingcb===0&&(A.finished=!0,P.emit("finish"),A.autoDestroy))){var te=P._readableState;(!te||te.autoDestroy&&te.endEmitted)&&P.destroy()}return $}function Z(P,A,$){A.ending=!0,Y(P,A),$&&(A.finished?ze.nextTick($):P.once("finish",$)),A.ended=!0,P.writable=!1}function ee(P,A,$){var te=P.entry;for(P.entry=null;te;){var pe=te.callback;A.pendingcb--,pe($),te=te.next}A.corkedRequestsFree.next=P}return Object.defineProperty(B.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(A){this._writableState&&(this._writableState.destroyed=A)}}),B.prototype.destroy=l.destroy,B.prototype._undestroy=l.undestroy,B.prototype._destroy=function(P,A){A(P)},Tb}var lO;function aj(){if(lO)return hb.exports;lO=1;var e=Or(),t=bS(),r=Dr(),n=r.LEVEL,i=hb.exports=function(){var o=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.call(this,{objectMode:!0,highWaterMark:s.highWaterMark}),this.format=s.format,this.level=s.level,this.handleExceptions=s.handleExceptions,this.handleRejections=s.handleRejections,this.silent=s.silent,s.log&&(this.log=s.log),s.logv&&(this.logv=s.logv),s.close&&(this.close=s.close),this.once("pipe",function(l){o.levels=l.levels,o.parent=l}),this.once("unpipe",function(l){l===o.parent&&(o.parent=null,o.close&&o.close())})};return e.inherits(i,t),i.prototype._write=function(o,s,l){if(this.silent||o.exception===!0&&!this.handleExceptions)return l(null);var u=this.level||this.parent&&this.parent.level;if(!u||this.levels[u]>=this.levels[o[n]]){if(o&&!this.format)return this.log(o,l);var f=void 0,d=void 0;try{d=this.format.transform(Object.assign({},o),this.format.options)}catch(c){f=c}if(f||!d){if(l(),f)throw f;return}return this.log(d,l)}return this._writableState.sync=!1,l(null)},i.prototype._writev=function(o,s){if(this.logv){var l=o.filter(this._accept,this);return l.length?this.logv(l,s):s(null)}for(var u=0;u<o.length;u++)if(this._accept(o[u])){if(o[u].chunk&&!this.format){this.log(o[u].chunk,o[u].callback);continue}var f=void 0,d=void 0;try{d=this.format.transform(Object.assign({},o[u].chunk),this.format.options)}catch(c){f=c}if(f||!d){if(o[u].callback(),f)throw s(null),f}else this.log(d,o[u].callback)}return s(null)},i.prototype._accept=function(o){var s=o.chunk;if(this.silent)return!1;var l=this.level||this.parent&&this.parent.level;return!!((s.exception===!0||!l||this.levels[l]>=this.levels[s[n]])&&(this.handleExceptions||s.exception!==!0))},i.prototype._nop=function(){},hb.exports}var Rb={exports:{}},fO;function QG(){if(fO)return Rb.exports;fO=1;var e=Or(),t=Dr(),r=t.LEVEL,n=aj(),i=Rb.exports=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(n.call(this,o),!o.transport||typeof o.transport.log!="function")throw new Error("Invalid transport, must be an object with a log method.");this.transport=o.transport,this.level=this.level||o.transport.level,this.handleExceptions=this.handleExceptions||o.transport.handleExceptions,this._deprecated();function s(l){this.emit("error",l,this.transport)}this.transport.__winstonError||(this.transport.__winstonError=s.bind(this),this.transport.on("error",this.transport.__winstonError))};return e.inherits(i,n),i.prototype._write=function(o,s,l){if(this.silent||o.exception===!0&&!this.handleExceptions)return l(null);(!this.level||this.levels[this.level]>=this.levels[o[r]])&&this.transport.log(o[r],o.message,o,this._nop),l(null)},i.prototype._writev=function(o,s){for(var l=0;l<o.length;l++)this._accept(o[l])&&(this.transport.log(o[l].chunk[r],o[l].chunk.message,o[l].chunk,this._nop),o[l].callback());return s(null)},i.prototype._deprecated=function(){console.error([this.transport.name+" is a legacy winston transport. Consider upgrading: ","- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md"].join(`
`))},i.prototype.close=function(){this.transport.close&&this.transport.close(),this.transport.__winstonError&&(this.transport.removeListener("error",this.transport.__winstonError),this.transport.__winstonError=null)},Rb.exports}var cO;function Wh(){return cO||(cO=1,Zp.exports=aj(),Zp.exports.LegacyTransportStream=QG()),Zp.exports}var Ab,dO;function XG(){if(dO)return Ab;dO=1;function e(m){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},e(m)}function t(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function r(m,g){for(var E=0;E<g.length;E++){var T=g[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(m,i(T.key),T)}}function n(m,g,E){return r(m.prototype,g),Object.defineProperty(m,"prototype",{writable:!1}),m}function i(m){var g=a(m,"string");return e(g)=="symbol"?g:g+""}function a(m,g){if(e(m)!="object"||!m)return m;var E=m[Symbol.toPrimitive];if(E!==void 0){var T=E.call(m,g);if(e(T)!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(m)}function o(m,g,E){return g=f(g),s(m,u()?Reflect.construct(g,E,f(m).constructor):g.apply(m,E))}function s(m,g){if(g&&(e(g)=="object"||typeof g=="function"))return g;if(g!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l(m)}function l(m){if(m===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}function u(){try{var m=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u=function(){return!!m})()}function f(m){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)},f(m)}function d(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),Object.defineProperty(m,"prototype",{writable:!1}),g&&c(m,g)}function c(m,g){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(E,T){return E.__proto__=T,E},c(m,g)}var p=il(),b=Dr(),v=b.LEVEL,_=b.MESSAGE,y=Wh();return Ab=function(m){function g(){var E,T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return t(this,g),E=o(this,g,[T]),E.name=T.name||"console",E.stderrLevels=E._stringArrayToSet(T.stderrLevels),E.consoleWarnLevels=E._stringArrayToSet(T.consoleWarnLevels),E.eol=typeof T.eol=="string"?T.eol:p.EOL,E.forceConsole=T.forceConsole||!1,E._consoleLog=console.log.bind(console),E._consoleWarn=console.warn.bind(console),E._consoleError=console.error.bind(console),E.setMaxListeners(30),E}return d(g,m),n(g,[{key:"log",value:function(T,I){var D=this;if(setImmediate(function(){return D.emit("logged",T)}),this.stderrLevels[T[v]]){console._stderr&&!this.forceConsole?console._stderr.write("".concat(T[_]).concat(this.eol)):this._consoleError(T[_]),I&&I();return}else if(this.consoleWarnLevels[T[v]]){console._stderr&&!this.forceConsole?console._stderr.write("".concat(T[_]).concat(this.eol)):this._consoleWarn(T[_]),I&&I();return}console._stdout&&!this.forceConsole?console._stdout.write("".concat(T[_]).concat(this.eol)):this._consoleLog(T[_]),I&&I()}},{key:"_stringArrayToSet",value:function(T,I){if(!T)return{};if(I=I||"Cannot make set from type other than Array of string elements",!Array.isArray(T))throw new Error(I);return T.reduce(function(D,B){if(typeof B!="string")throw new Error(I);return D[B]=!0,D},{})}}])}(y),Ab}var JG=null;const oj=Object.freeze(Object.defineProperty({__proto__:null,default:JG},Symbol.toStringTag,{value:"Module"})),sj=el(oj);var Ib,hO;function eK(){if(hO)return Ib;hO=1;function e(i){if(typeof i!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(i))}function t(i,a){for(var o="",s=0,l=-1,u=0,f,d=0;d<=i.length;++d){if(d<i.length)f=i.charCodeAt(d);else{if(f===47)break;f=47}if(f===47){if(!(l===d-1||u===1))if(l!==d-1&&u===2){if(o.length<2||s!==2||o.charCodeAt(o.length-1)!==46||o.charCodeAt(o.length-2)!==46){if(o.length>2){var c=o.lastIndexOf("/");if(c!==o.length-1){c===-1?(o="",s=0):(o=o.slice(0,c),s=o.length-1-o.lastIndexOf("/")),l=d,u=0;continue}}else if(o.length===2||o.length===1){o="",s=0,l=d,u=0;continue}}a&&(o.length>0?o+="/..":o="..",s=2)}else o.length>0?o+="/"+i.slice(l+1,d):o=i.slice(l+1,d),s=d-l-1;l=d,u=0}else f===46&&u!==-1?++u:u=-1}return o}function r(i,a){var o=a.dir||a.root,s=a.base||(a.name||"")+(a.ext||"");return o?o===a.root?o+s:o+i+s:s}var n={resolve:function(){for(var a="",o=!1,s,l=arguments.length-1;l>=-1&&!o;l--){var u;l>=0?u=arguments[l]:(s===void 0&&(s=ze.cwd()),u=s),e(u),u.length!==0&&(a=u+"/"+a,o=u.charCodeAt(0)===47)}return a=t(a,!o),o?a.length>0?"/"+a:"/":a.length>0?a:"."},normalize:function(a){if(e(a),a.length===0)return".";var o=a.charCodeAt(0)===47,s=a.charCodeAt(a.length-1)===47;return a=t(a,!o),a.length===0&&!o&&(a="."),a.length>0&&s&&(a+="/"),o?"/"+a:a},isAbsolute:function(a){return e(a),a.length>0&&a.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var a,o=0;o<arguments.length;++o){var s=arguments[o];e(s),s.length>0&&(a===void 0?a=s:a+="/"+s)}return a===void 0?".":n.normalize(a)},relative:function(a,o){if(e(a),e(o),a===o||(a=n.resolve(a),o=n.resolve(o),a===o))return"";for(var s=1;s<a.length&&a.charCodeAt(s)===47;++s);for(var l=a.length,u=l-s,f=1;f<o.length&&o.charCodeAt(f)===47;++f);for(var d=o.length,c=d-f,p=u<c?u:c,b=-1,v=0;v<=p;++v){if(v===p){if(c>p){if(o.charCodeAt(f+v)===47)return o.slice(f+v+1);if(v===0)return o.slice(f+v)}else u>p&&(a.charCodeAt(s+v)===47?b=v:v===0&&(b=0));break}var _=a.charCodeAt(s+v),y=o.charCodeAt(f+v);if(_!==y)break;_===47&&(b=v)}var m="";for(v=s+b+1;v<=l;++v)(v===l||a.charCodeAt(v)===47)&&(m.length===0?m+="..":m+="/..");return m.length>0?m+o.slice(f+b):(f+=b,o.charCodeAt(f)===47&&++f,o.slice(f))},_makeLong:function(a){return a},dirname:function(a){if(e(a),a.length===0)return".";for(var o=a.charCodeAt(0),s=o===47,l=-1,u=!0,f=a.length-1;f>=1;--f)if(o=a.charCodeAt(f),o===47){if(!u){l=f;break}}else u=!1;return l===-1?s?"/":".":s&&l===1?"//":a.slice(0,l)},basename:function(a,o){if(o!==void 0&&typeof o!="string")throw new TypeError('"ext" argument must be a string');e(a);var s=0,l=-1,u=!0,f;if(o!==void 0&&o.length>0&&o.length<=a.length){if(o.length===a.length&&o===a)return"";var d=o.length-1,c=-1;for(f=a.length-1;f>=0;--f){var p=a.charCodeAt(f);if(p===47){if(!u){s=f+1;break}}else c===-1&&(u=!1,c=f+1),d>=0&&(p===o.charCodeAt(d)?--d===-1&&(l=f):(d=-1,l=c))}return s===l?l=c:l===-1&&(l=a.length),a.slice(s,l)}else{for(f=a.length-1;f>=0;--f)if(a.charCodeAt(f)===47){if(!u){s=f+1;break}}else l===-1&&(u=!1,l=f+1);return l===-1?"":a.slice(s,l)}},extname:function(a){e(a);for(var o=-1,s=0,l=-1,u=!0,f=0,d=a.length-1;d>=0;--d){var c=a.charCodeAt(d);if(c===47){if(!u){s=d+1;break}continue}l===-1&&(u=!1,l=d+1),c===46?o===-1?o=d:f!==1&&(f=1):o!==-1&&(f=-1)}return o===-1||l===-1||f===0||f===1&&o===l-1&&o===s+1?"":a.slice(o,l)},format:function(a){if(a===null||typeof a!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof a);return r("/",a)},parse:function(a){e(a);var o={root:"",dir:"",base:"",ext:"",name:""};if(a.length===0)return o;var s=a.charCodeAt(0),l=s===47,u;l?(o.root="/",u=1):u=0;for(var f=-1,d=0,c=-1,p=!0,b=a.length-1,v=0;b>=u;--b){if(s=a.charCodeAt(b),s===47){if(!p){d=b+1;break}continue}c===-1&&(p=!1,c=b+1),s===46?f===-1?f=b:v!==1&&(v=1):f!==-1&&(v=-1)}return f===-1||c===-1||v===0||v===1&&f===c-1&&f===d+1?c!==-1&&(d===0&&l?o.base=o.name=a.slice(1,c):o.base=o.name=a.slice(d,c)):(d===0&&l?(o.name=a.slice(1,f),o.base=a.slice(1,c)):(o.name=a.slice(d,f),o.base=a.slice(d,c)),o.ext=a.slice(f,c)),d>0?o.dir=a.slice(0,d-1):l&&(o.dir="/"),o},sep:"/",delimiter:":",win32:null,posix:null};return n.posix=n,Ib=n,Ib}var Yp={exports:{}},Qp={exports:{}},Xp={exports:{}},pO;function vS(){return pO||(pO=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(n){return n&&typeof n.length=="number"&&n.length>=0&&n.length%1===0}e.exports=t.default}(Xp,Xp.exports)),Xp.exports}var na={},Jp={exports:{}},e0={exports:{}},mO;function tK(){return mO||(mO=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(r){return function(...n){var i=n.pop();return r.call(this,n,i)}},e.exports=t.default}(e0,e0.exports)),e0.exports}var Oa={},yO;function rK(){if(yO)return Oa;yO=1,Object.defineProperty(Oa,"__esModule",{value:!0}),Oa.fallback=n,Oa.wrap=i;var e=Oa.hasQueueMicrotask=typeof queueMicrotask=="function"&&queueMicrotask,t=Oa.hasSetImmediate=typeof setImmediate=="function"&&setImmediate,r=Oa.hasNextTick=typeof ze=="object"&&typeof ze.nextTick=="function";function n(o){setTimeout(o,0)}function i(o){return(s,...l)=>o(()=>s(...l))}var a;return e?a=queueMicrotask:t?a=setImmediate:r?a=ze.nextTick:a=n,Oa.default=i(a),Oa}var gO;function nK(){return gO||(gO=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var r=tK(),n=s(r),i=rK(),a=s(i),o=al();function s(d){return d&&d.__esModule?d:{default:d}}function l(d){return(0,o.isAsync)(d)?function(...c){const p=c.pop(),b=d.apply(this,c);return u(b,p)}:(0,n.default)(function(c,p){var b;try{b=d.apply(this,c)}catch(v){return p(v)}if(b&&typeof b.then=="function")return u(b,p);p(null,b)})}function u(d,c){return d.then(p=>{f(c,null,p)},p=>{f(c,p&&(p instanceof Error||p.message)?p:new Error(p))})}function f(d,c,p){try{d(c,p)}catch(b){(0,a.default)(v=>{throw v},b)}}e.exports=t.default}(Jp,Jp.exports)),Jp.exports}var _O;function al(){if(_O)return na;_O=1,Object.defineProperty(na,"__esModule",{value:!0}),na.isAsyncIterable=na.isAsyncGenerator=na.isAsync=void 0;var e=nK(),t=r(e);function r(s){return s&&s.__esModule?s:{default:s}}function n(s){return s[Symbol.toStringTag]==="AsyncFunction"}function i(s){return s[Symbol.toStringTag]==="AsyncGenerator"}function a(s){return typeof s[Symbol.asyncIterator]=="function"}function o(s){if(typeof s!="function")throw new Error("expected a function");return n(s)?(0,t.default)(s):s}return na.default=o,na.isAsync=n,na.isAsyncGenerator=i,na.isAsyncIterable=a,na}var t0={exports:{}},bO;function Gh(){return bO||(bO=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(n,i){if(i||(i=n.length),!i)throw new Error("arity is undefined");function a(...o){return typeof o[i-1]=="function"?n.apply(this,o):new Promise((s,l)=>{o[i-1]=(u,...f)=>{if(u)return l(u);s(f.length>1?f:f[0])},n.apply(this,o)})}return a}e.exports=t.default}(t0,t0.exports)),t0.exports}var vO;function iK(){return vO||(vO=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=vS(),n=l(r),i=al(),a=l(i),o=Gh(),s=l(o);function l(u){return u&&u.__esModule?u:{default:u}}t.default=(0,s.default)((u,f,d)=>{var c=(0,n.default)(f)?[]:{};u(f,(p,b,v)=>{(0,a.default)(p)((_,...y)=>{y.length<2&&([y]=y),c[b]=y,v(_)})},p=>d(p,c))},3),e.exports=t.default}(Qp,Qp.exports)),Qp.exports}var r0={exports:{}},n0={exports:{}},i0={exports:{}},a0={exports:{}},wO;function uj(){return wO||(wO=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(n){function i(...a){if(n!==null){var o=n;n=null,o.apply(this,a)}}return Object.assign(i,n),i}e.exports=t.default}(a0,a0.exports)),a0.exports}var o0={exports:{}},s0={exports:{}},EO;function aK(){return EO||(EO=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(r){return r[Symbol.iterator]&&r[Symbol.iterator]()},e.exports=t.default}(s0,s0.exports)),s0.exports}var SO;function oK(){return SO||(SO=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=f;var r=vS(),n=o(r),i=aK(),a=o(i);function o(d){return d&&d.__esModule?d:{default:d}}function s(d){var c=-1,p=d.length;return function(){return++c<p?{value:d[c],key:c}:null}}function l(d){var c=-1;return function(){var b=d.next();return b.done?null:(c++,{value:b.value,key:c})}}function u(d){var c=d?Object.keys(d):[],p=-1,b=c.length;return function v(){var _=c[++p];return _==="__proto__"?v():p<b?{value:d[_],key:_}:null}}function f(d){if((0,n.default)(d))return s(d);var c=(0,a.default)(d);return c?l(c):u(d)}e.exports=t.default}(o0,o0.exports)),o0.exports}var u0={exports:{}},xO;function lj(){return xO||(xO=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(n){return function(...i){if(n===null)throw new Error("Callback was already called.");var a=n;n=null,a.apply(this,i)}}e.exports=t.default}(u0,u0.exports)),u0.exports}var l0={exports:{}},f0={exports:{}},TO;function wS(){return TO||(TO=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r={};t.default=r,e.exports=t.default}(f0,f0.exports)),f0.exports}var RO;function sK(){return RO||(RO=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var r=wS(),n=i(r);function i(o){return o&&o.__esModule?o:{default:o}}function a(o,s,l,u){let f=!1,d=!1,c=!1,p=0,b=0;function v(){p>=s||c||f||(c=!0,o.next().then(({value:m,done:g})=>{if(!(d||f)){if(c=!1,g){f=!0,p<=0&&u(null);return}p++,l(m,b,_),b++,v()}}).catch(y))}function _(m,g){if(p-=1,!d){if(m)return y(m);if(m===!1){f=!0,d=!0;return}if(g===n.default||f&&p<=0)return f=!0,u(null);v()}}function y(m){d||(c=!1,f=!0,u(m))}v()}e.exports=t.default}(l0,l0.exports)),l0.exports}var AO;function uK(){return AO||(AO=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=uj(),n=p(r),i=oK(),a=p(i),o=lj(),s=p(o),l=al(),u=sK(),f=p(u),d=wS(),c=p(d);function p(b){return b&&b.__esModule?b:{default:b}}t.default=b=>(v,_,y)=>{if(y=(0,n.default)(y),b<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!v)return y(null);if((0,l.isAsyncGenerator)(v))return(0,f.default)(v,b,_,y);if((0,l.isAsyncIterable)(v))return(0,f.default)(v[Symbol.asyncIterator](),b,_,y);var m=(0,a.default)(v),g=!1,E=!1,T=0,I=!1;function D(N,M){if(!E)if(T-=1,N)g=!0,y(N);else if(N===!1)g=!0,E=!0;else{if(M===c.default||g&&T<=0)return g=!0,y(null);I||B()}}function B(){for(I=!0;T<b&&!g;){var N=m();if(N===null){g=!0,T<=0&&y(null);return}T+=1,_(N.value,N.key,(0,s.default)(D))}I=!1}B()},e.exports=t.default}(i0,i0.exports)),i0.exports}var IO;function fj(){return IO||(IO=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=uK(),n=l(r),i=al(),a=l(i),o=Gh(),s=l(o);function l(f){return f&&f.__esModule?f:{default:f}}function u(f,d,c,p){return(0,n.default)(d)(f,(0,a.default)(c),p)}t.default=(0,s.default)(u,4),e.exports=t.default}(n0,n0.exports)),n0.exports}var OO;function lK(){return OO||(OO=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=fj(),n=o(r),i=Gh(),a=o(i);function o(l){return l&&l.__esModule?l:{default:l}}function s(l,u,f){return(0,n.default)(l,1,u,f)}t.default=(0,a.default)(s,3),e.exports=t.default}(r0,r0.exports)),r0.exports}var PO;function fK(){return PO||(PO=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var r=iK(),n=o(r),i=lK(),a=o(i);function o(l){return l&&l.__esModule?l:{default:l}}function s(l,u){return(0,n.default)(a.default,l,u)}e.exports=t.default}(Yp,Yp.exports)),Yp.exports}var Ob={},Pb,DO;function cj(){return DO||(DO=1,Pb=Kn().EventEmitter),Pb}var Db,NO;function cK(){if(NO)return Db;NO=1;function e(b,v){var _=Object.keys(b);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(b);v&&(y=y.filter(function(m){return Object.getOwnPropertyDescriptor(b,m).enumerable})),_.push.apply(_,y)}return _}function t(b){for(var v=1;v<arguments.length;v++){var _=arguments[v]!=null?arguments[v]:{};v%2?e(Object(_),!0).forEach(function(y){r(b,y,_[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(_)):e(Object(_)).forEach(function(y){Object.defineProperty(b,y,Object.getOwnPropertyDescriptor(_,y))})}return b}function r(b,v,_){return v=o(v),v in b?Object.defineProperty(b,v,{value:_,enumerable:!0,configurable:!0,writable:!0}):b[v]=_,b}function n(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}function i(b,v){for(var _=0;_<v.length;_++){var y=v[_];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(b,o(y.key),y)}}function a(b,v,_){return i(b.prototype,v),Object.defineProperty(b,"prototype",{writable:!1}),b}function o(b){var v=s(b,"string");return typeof v=="symbol"?v:String(v)}function s(b,v){if(typeof b!="object"||b===null)return b;var _=b[Symbol.toPrimitive];if(_!==void 0){var y=_.call(b,v);if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(b)}var l=Sr(),u=l.Buffer,f=Or(),d=f.inspect,c=d&&d.custom||"inspect";function p(b,v,_){u.prototype.copy.call(b,v,_)}return Db=function(){function b(){n(this,b),this.head=null,this.tail=null,this.length=0}return a(b,[{key:"push",value:function(_){var y={data:_,next:null};this.length>0?this.tail.next=y:this.head=y,this.tail=y,++this.length}},{key:"unshift",value:function(_){var y={data:_,next:this.head};this.length===0&&(this.tail=y),this.head=y,++this.length}},{key:"shift",value:function(){if(this.length!==0){var _=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,_}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(_){if(this.length===0)return"";for(var y=this.head,m=""+y.data;y=y.next;)m+=_+y.data;return m}},{key:"concat",value:function(_){if(this.length===0)return u.alloc(0);for(var y=u.allocUnsafe(_>>>0),m=this.head,g=0;m;)p(m.data,y,g),g+=m.data.length,m=m.next;return y}},{key:"consume",value:function(_,y){var m;return _<this.head.data.length?(m=this.head.data.slice(0,_),this.head.data=this.head.data.slice(_)):_===this.head.data.length?m=this.shift():m=y?this._getString(_):this._getBuffer(_),m}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(_){var y=this.head,m=1,g=y.data;for(_-=g.length;y=y.next;){var E=y.data,T=_>E.length?E.length:_;if(T===E.length?g+=E:g+=E.slice(0,_),_-=T,_===0){T===E.length?(++m,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=E.slice(T));break}++m}return this.length-=m,g}},{key:"_getBuffer",value:function(_){var y=u.allocUnsafe(_),m=this.head,g=1;for(m.data.copy(y),_-=m.data.length;m=m.next;){var E=m.data,T=_>E.length?E.length:_;if(E.copy(y,y.length-_,0,T),_-=T,_===0){T===E.length?(++g,m.next?this.head=m.next:this.head=this.tail=null):(this.head=m,m.data=E.slice(T));break}++g}return this.length-=g,y}},{key:c,value:function(_,y){return d(this,t(t({},y),{},{depth:0,customInspect:!1}))}}]),b}(),Db}var Nb,CO;function dj(){if(CO)return Nb;CO=1;function e(o,s){var l=this,u=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return u||f?(s?s(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,ze.nextTick(i,this,o)):ze.nextTick(i,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(d){!s&&d?l._writableState?l._writableState.errorEmitted?ze.nextTick(r,l):(l._writableState.errorEmitted=!0,ze.nextTick(t,l,d)):ze.nextTick(t,l,d):s?(ze.nextTick(r,l),s(d)):ze.nextTick(r,l)}),this)}function t(o,s){i(o,s),r(o)}function r(o){o._writableState&&!o._writableState.emitClose||o._readableState&&!o._readableState.emitClose||o.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(o,s){o.emit("error",s)}function a(o,s){var l=o._readableState,u=o._writableState;l&&l.autoDestroy||u&&u.autoDestroy?o.destroy(s):o.emit("error",s)}return Nb={destroy:e,undestroy:n,errorOrDestroy:a},Nb}var Cb={},LO;function ol(){if(LO)return Cb;LO=1;function e(s,l){s.prototype=Object.create(l.prototype),s.prototype.constructor=s,s.__proto__=l}var t={};function r(s,l,u){u||(u=Error);function f(c,p,b){return typeof l=="string"?l:l(c,p,b)}var d=function(c){e(p,c);function p(b,v,_){return c.call(this,f(b,v,_))||this}return p}(u);d.prototype.name=u.name,d.prototype.code=s,t[s]=d}function n(s,l){if(Array.isArray(s)){var u=s.length;return s=s.map(function(f){return String(f)}),u>2?"one of ".concat(l," ").concat(s.slice(0,u-1).join(", "),", or ")+s[u-1]:u===2?"one of ".concat(l," ").concat(s[0]," or ").concat(s[1]):"of ".concat(l," ").concat(s[0])}else return"of ".concat(l," ").concat(String(s))}function i(s,l,u){return s.substr(0,l.length)===l}function a(s,l,u){return(u===void 0||u>s.length)&&(u=s.length),s.substring(u-l.length,u)===l}function o(s,l,u){return typeof u!="number"&&(u=0),u+l.length>s.length?!1:s.indexOf(l,u)!==-1}return r("ERR_INVALID_OPT_VALUE",function(s,l){return'The value "'+l+'" is invalid for option "'+s+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(s,l,u){var f;typeof l=="string"&&i(l,"not ")?(f="must not be",l=l.replace(/^not /,"")):f="must be";var d;if(a(s," argument"))d="The ".concat(s," ").concat(f," ").concat(n(l,"type"));else{var c=o(s,".")?"property":"argument";d='The "'.concat(s,'" ').concat(c," ").concat(f," ").concat(n(l,"type"))}return d+=". Received type ".concat(typeof u),d},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(s){return"The "+s+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(s){return"Cannot call "+s+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(s){return"Unknown encoding: "+s},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Cb.codes=t,Cb}var Lb,MO;function hj(){if(MO)return Lb;MO=1;var e=ol().codes.ERR_INVALID_OPT_VALUE;function t(n,i,a){return n.highWaterMark!=null?n.highWaterMark:i?n[a]:null}function r(n,i,a,o){var s=t(i,o,a);if(s!=null){if(!(isFinite(s)&&Math.floor(s)===s)||s<0){var l=o?a:"highWaterMark";throw new e(l,s)}return Math.floor(s)}return n.objectMode?16:16*1024}return Lb={getHighWaterMark:r},Lb}var Mb,kO;function pj(){if(kO)return Mb;kO=1,Mb=B;function e(P){var A=this;this.next=null,this.entry=null,this.finish=function(){ee(A,P)}}var t;B.WritableState=I;var r={deprecate:Im()},n=cj(),i=Sr().Buffer,a=(typeof xt<"u"?xt:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function o(P){return i.from(P)}function s(P){return i.isBuffer(P)||P instanceof a}var l=dj(),u=hj(),f=u.getHighWaterMark,d=ol().codes,c=d.ERR_INVALID_ARG_TYPE,p=d.ERR_METHOD_NOT_IMPLEMENTED,b=d.ERR_MULTIPLE_CALLBACK,v=d.ERR_STREAM_CANNOT_PIPE,_=d.ERR_STREAM_DESTROYED,y=d.ERR_STREAM_NULL_VALUES,m=d.ERR_STREAM_WRITE_AFTER_END,g=d.ERR_UNKNOWN_ENCODING,E=l.errorOrDestroy;Pr()(B,n);function T(){}function I(P,A,$){t=t||Bu(),P=P||{},typeof $!="boolean"&&($=A instanceof t),this.objectMode=!!P.objectMode,$&&(this.objectMode=this.objectMode||!!P.writableObjectMode),this.highWaterMark=f(this,P,"writableHighWaterMark",$),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var te=P.decodeStrings===!1;this.decodeStrings=!te,this.defaultEncoding=P.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(pe){X(A,pe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=P.emitClose!==!1,this.autoDestroy=!!P.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}I.prototype.getBuffer=function(){for(var A=this.bufferedRequest,$=[];A;)$.push(A),A=A.next;return $},function(){try{Object.defineProperty(I.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var D;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(D=Function.prototype[Symbol.hasInstance],Object.defineProperty(B,Symbol.hasInstance,{value:function(A){return D.call(this,A)?!0:this!==B?!1:A&&A._writableState instanceof I}})):D=function(A){return A instanceof this};function B(P){t=t||Bu();var A=this instanceof t;if(!A&&!D.call(B,this))return new B(P);this._writableState=new I(P,this,A),this.writable=!0,P&&(typeof P.write=="function"&&(this._write=P.write),typeof P.writev=="function"&&(this._writev=P.writev),typeof P.destroy=="function"&&(this._destroy=P.destroy),typeof P.final=="function"&&(this._final=P.final)),n.call(this)}B.prototype.pipe=function(){E(this,new v)};function N(P,A){var $=new m;E(P,$),ze.nextTick(A,$)}function M(P,A,$,te){var pe;return $===null?pe=new y:typeof $!="string"&&!A.objectMode&&(pe=new c("chunk",["string","Buffer"],$)),pe?(E(P,pe),ze.nextTick(te,pe),!1):!0}B.prototype.write=function(P,A,$){var te=this._writableState,pe=!1,R=!te.objectMode&&s(P);return R&&!i.isBuffer(P)&&(P=o(P)),typeof A=="function"&&($=A,A=null),R?A="buffer":A||(A=te.defaultEncoding),typeof $!="function"&&($=T),te.ending?N(this,$):(R||M(this,te,P,$))&&(te.pendingcb++,pe=O(this,te,R,P,A,$)),pe},B.prototype.cork=function(){this._writableState.corked++},B.prototype.uncork=function(){var P=this._writableState;P.corked&&(P.corked--,!P.writing&&!P.corked&&!P.bufferProcessing&&P.bufferedRequest&&ne(this,P))},B.prototype.setDefaultEncoding=function(A){if(typeof A=="string"&&(A=A.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((A+"").toLowerCase())>-1))throw new g(A);return this._writableState.defaultEncoding=A,this},Object.defineProperty(B.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function j(P,A,$){return!P.objectMode&&P.decodeStrings!==!1&&typeof A=="string"&&(A=i.from(A,$)),A}Object.defineProperty(B.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function O(P,A,$,te,pe,R){if(!$){var w=j(A,te,pe);te!==w&&($=!0,pe="buffer",te=w)}var x=A.objectMode?1:te.length;A.length+=x;var k=A.length<A.highWaterMark;if(k||(A.needDrain=!0),A.writing||A.corked){var U=A.lastBufferedRequest;A.lastBufferedRequest={chunk:te,encoding:pe,isBuf:$,callback:R,next:null},U?U.next=A.lastBufferedRequest:A.bufferedRequest=A.lastBufferedRequest,A.bufferedRequestCount+=1}else q(P,A,!1,x,te,pe,R);return k}function q(P,A,$,te,pe,R,w){A.writelen=te,A.writecb=w,A.writing=!0,A.sync=!0,A.destroyed?A.onwrite(new _("write")):$?P._writev(pe,A.onwrite):P._write(pe,R,A.onwrite),A.sync=!1}function Q(P,A,$,te,pe){--A.pendingcb,$?(ze.nextTick(pe,te),ze.nextTick(Y,P,A),P._writableState.errorEmitted=!0,E(P,te)):(pe(te),P._writableState.errorEmitted=!0,E(P,te),Y(P,A))}function ie(P){P.writing=!1,P.writecb=null,P.length-=P.writelen,P.writelen=0}function X(P,A){var $=P._writableState,te=$.sync,pe=$.writecb;if(typeof pe!="function")throw new b;if(ie($),A)Q(P,$,te,A,pe);else{var R=V($)||P.destroyed;!R&&!$.corked&&!$.bufferProcessing&&$.bufferedRequest&&ne(P,$),te?ze.nextTick(le,P,$,R,pe):le(P,$,R,pe)}}function le(P,A,$,te){$||ae(P,A),A.pendingcb--,te(),Y(P,A)}function ae(P,A){A.length===0&&A.needDrain&&(A.needDrain=!1,P.emit("drain"))}function ne(P,A){A.bufferProcessing=!0;var $=A.bufferedRequest;if(P._writev&&$&&$.next){var te=A.bufferedRequestCount,pe=new Array(te),R=A.corkedRequestsFree;R.entry=$;for(var w=0,x=!0;$;)pe[w]=$,$.isBuf||(x=!1),$=$.next,w+=1;pe.allBuffers=x,q(P,A,!0,A.length,pe,"",R.finish),A.pendingcb++,A.lastBufferedRequest=null,R.next?(A.corkedRequestsFree=R.next,R.next=null):A.corkedRequestsFree=new e(A),A.bufferedRequestCount=0}else{for(;$;){var k=$.chunk,U=$.encoding,re=$.callback,fe=A.objectMode?1:k.length;if(q(P,A,!1,fe,k,U,re),$=$.next,A.bufferedRequestCount--,A.writing)break}$===null&&(A.lastBufferedRequest=null)}A.bufferedRequest=$,A.bufferProcessing=!1}B.prototype._write=function(P,A,$){$(new p("_write()"))},B.prototype._writev=null,B.prototype.end=function(P,A,$){var te=this._writableState;return typeof P=="function"?($=P,P=null,A=null):typeof A=="function"&&($=A,A=null),P!=null&&this.write(P,A),te.corked&&(te.corked=1,this.uncork()),te.ending||Z(this,te,$),this},Object.defineProperty(B.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function V(P){return P.ending&&P.length===0&&P.bufferedRequest===null&&!P.finished&&!P.writing}function oe(P,A){P._final(function($){A.pendingcb--,$&&E(P,$),A.prefinished=!0,P.emit("prefinish"),Y(P,A)})}function he(P,A){!A.prefinished&&!A.finalCalled&&(typeof P._final=="function"&&!A.destroyed?(A.pendingcb++,A.finalCalled=!0,ze.nextTick(oe,P,A)):(A.prefinished=!0,P.emit("prefinish")))}function Y(P,A){var $=V(A);if($&&(he(P,A),A.pendingcb===0&&(A.finished=!0,P.emit("finish"),A.autoDestroy))){var te=P._readableState;(!te||te.autoDestroy&&te.endEmitted)&&P.destroy()}return $}function Z(P,A,$){A.ending=!0,Y(P,A),$&&(A.finished?ze.nextTick($):P.once("finish",$)),A.ended=!0,P.writable=!1}function ee(P,A,$){var te=P.entry;for(P.entry=null;te;){var pe=te.callback;A.pendingcb--,pe($),te=te.next}A.corkedRequestsFree.next=P}return Object.defineProperty(B.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(A){this._writableState&&(this._writableState.destroyed=A)}}),B.prototype.destroy=l.destroy,B.prototype._undestroy=l.undestroy,B.prototype._destroy=function(P,A){A(P)},Mb}var kb,FO;function Bu(){if(FO)return kb;FO=1;var e=Object.keys||function(u){var f=[];for(var d in u)f.push(d);return f};kb=o;var t=mj(),r=pj();Pr()(o,t);for(var n=e(r.prototype),i=0;i<n.length;i++){var a=n[i];o.prototype[a]||(o.prototype[a]=r.prototype[a])}function o(u){if(!(this instanceof o))return new o(u);t.call(this,u),r.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",s)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function s(){this._writableState.ended||ze.nextTick(l,this)}function l(u){u.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(f){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=f,this._writableState.destroyed=f)}}),kb}var Fb,jO;function ES(){if(jO)return Fb;jO=1;var e=ol().codes.ERR_STREAM_PREMATURE_CLOSE;function t(a){var o=!1;return function(){if(!o){o=!0;for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];a.apply(this,l)}}}function r(){}function n(a){return a.setHeader&&typeof a.abort=="function"}function i(a,o,s){if(typeof o=="function")return i(a,null,o);o||(o={}),s=t(s||r);var l=o.readable||o.readable!==!1&&a.readable,u=o.writable||o.writable!==!1&&a.writable,f=function(){a.writable||c()},d=a._writableState&&a._writableState.finished,c=function(){u=!1,d=!0,l||s.call(a)},p=a._readableState&&a._readableState.endEmitted,b=function(){l=!1,p=!0,u||s.call(a)},v=function(g){s.call(a,g)},_=function(){var g;if(l&&!p)return(!a._readableState||!a._readableState.ended)&&(g=new e),s.call(a,g);if(u&&!d)return(!a._writableState||!a._writableState.ended)&&(g=new e),s.call(a,g)},y=function(){a.req.on("finish",c)};return n(a)?(a.on("complete",c),a.on("abort",_),a.req?y():a.on("request",y)):u&&!a._writableState&&(a.on("end",f),a.on("close",f)),a.on("end",b),a.on("finish",c),o.error!==!1&&a.on("error",v),a.on("close",_),function(){a.removeListener("complete",c),a.removeListener("abort",_),a.removeListener("request",y),a.req&&a.req.removeListener("finish",c),a.removeListener("end",f),a.removeListener("close",f),a.removeListener("finish",c),a.removeListener("end",b),a.removeListener("error",v),a.removeListener("close",_)}}return Fb=i,Fb}var jb,BO;function dK(){if(BO)return jb;BO=1;var e;function t(g,E,T){return E=r(E),E in g?Object.defineProperty(g,E,{value:T,enumerable:!0,configurable:!0,writable:!0}):g[E]=T,g}function r(g){var E=n(g,"string");return typeof E=="symbol"?E:String(E)}function n(g,E){if(typeof g!="object"||g===null)return g;var T=g[Symbol.toPrimitive];if(T!==void 0){var I=T.call(g,E||"default");if(typeof I!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return(E==="string"?String:Number)(g)}var i=ES(),a=Symbol("lastResolve"),o=Symbol("lastReject"),s=Symbol("error"),l=Symbol("ended"),u=Symbol("lastPromise"),f=Symbol("handlePromise"),d=Symbol("stream");function c(g,E){return{value:g,done:E}}function p(g){var E=g[a];if(E!==null){var T=g[d].read();T!==null&&(g[u]=null,g[a]=null,g[o]=null,E(c(T,!1)))}}function b(g){ze.nextTick(p,g)}function v(g,E){return function(T,I){g.then(function(){if(E[l]){T(c(void 0,!0));return}E[f](T,I)},I)}}var _=Object.getPrototypeOf(function(){}),y=Object.setPrototypeOf((e={get stream(){return this[d]},next:function(){var E=this,T=this[s];if(T!==null)return Promise.reject(T);if(this[l])return Promise.resolve(c(void 0,!0));if(this[d].destroyed)return new Promise(function(N,M){ze.nextTick(function(){E[s]?M(E[s]):N(c(void 0,!0))})});var I=this[u],D;if(I)D=new Promise(v(I,this));else{var B=this[d].read();if(B!==null)return Promise.resolve(c(B,!1));D=new Promise(this[f])}return this[u]=D,D}},t(e,Symbol.asyncIterator,function(){return this}),t(e,"return",function(){var E=this;return new Promise(function(T,I){E[d].destroy(null,function(D){if(D){I(D);return}T(c(void 0,!0))})})}),e),_),m=function(E){var T,I=Object.create(y,(T={},t(T,d,{value:E,writable:!0}),t(T,a,{value:null,writable:!0}),t(T,o,{value:null,writable:!0}),t(T,s,{value:null,writable:!0}),t(T,l,{value:E._readableState.endEmitted,writable:!0}),t(T,f,{value:function(B,N){var M=I[d].read();M?(I[u]=null,I[a]=null,I[o]=null,B(c(M,!1))):(I[a]=B,I[o]=N)},writable:!0}),T));return I[u]=null,i(E,function(D){if(D&&D.code!=="ERR_STREAM_PREMATURE_CLOSE"){var B=I[o];B!==null&&(I[u]=null,I[a]=null,I[o]=null,B(D)),I[s]=D;return}var N=I[a];N!==null&&(I[u]=null,I[a]=null,I[o]=null,N(c(void 0,!0))),I[l]=!0}),E.on("readable",b.bind(null,I)),I};return jb=m,jb}var Bb,qO;function hK(){return qO||(qO=1,Bb=function(){throw new Error("Readable.from is not available in the browser")}),Bb}var qb,$O;function mj(){if($O)return qb;$O=1,qb=N;var e;N.ReadableState=B,Kn().EventEmitter;var t=function(w,x){return w.listeners(x).length},r=cj(),n=Sr().Buffer,i=(typeof xt<"u"?xt:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function a(R){return n.from(R)}function o(R){return n.isBuffer(R)||R instanceof i}var s=Or(),l;s&&s.debuglog?l=s.debuglog("stream"):l=function(){};var u=cK(),f=dj(),d=hj(),c=d.getHighWaterMark,p=ol().codes,b=p.ERR_INVALID_ARG_TYPE,v=p.ERR_STREAM_PUSH_AFTER_EOF,_=p.ERR_METHOD_NOT_IMPLEMENTED,y=p.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,m,g,E;Pr()(N,r);var T=f.errorOrDestroy,I=["error","close","destroy","pause","resume"];function D(R,w,x){if(typeof R.prependListener=="function")return R.prependListener(w,x);!R._events||!R._events[w]?R.on(w,x):Array.isArray(R._events[w])?R._events[w].unshift(x):R._events[w]=[x,R._events[w]]}function B(R,w,x){e=e||Bu(),R=R||{},typeof x!="boolean"&&(x=w instanceof e),this.objectMode=!!R.objectMode,x&&(this.objectMode=this.objectMode||!!R.readableObjectMode),this.highWaterMark=c(this,R,"readableHighWaterMark",x),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=R.emitClose!==!1,this.autoDestroy=!!R.autoDestroy,this.destroyed=!1,this.defaultEncoding=R.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,R.encoding&&(m||(m=_a().StringDecoder),this.decoder=new m(R.encoding),this.encoding=R.encoding)}function N(R){if(e=e||Bu(),!(this instanceof N))return new N(R);var w=this instanceof e;this._readableState=new B(R,this,w),this.readable=!0,R&&(typeof R.read=="function"&&(this._read=R.read),typeof R.destroy=="function"&&(this._destroy=R.destroy)),r.call(this)}Object.defineProperty(N.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(w){this._readableState&&(this._readableState.destroyed=w)}}),N.prototype.destroy=f.destroy,N.prototype._undestroy=f.undestroy,N.prototype._destroy=function(R,w){w(R)},N.prototype.push=function(R,w){var x=this._readableState,k;return x.objectMode?k=!0:typeof R=="string"&&(w=w||x.defaultEncoding,w!==x.encoding&&(R=n.from(R,w),w=""),k=!0),M(this,R,w,!1,k)},N.prototype.unshift=function(R){return M(this,R,null,!0,!1)};function M(R,w,x,k,U){l("readableAddChunk",w);var re=R._readableState;if(w===null)re.reading=!1,X(R,re);else{var fe;if(U||(fe=O(re,w)),fe)T(R,fe);else if(re.objectMode||w&&w.length>0)if(typeof w!="string"&&!re.objectMode&&Object.getPrototypeOf(w)!==n.prototype&&(w=a(w)),k)re.endEmitted?T(R,new y):j(R,re,w,!0);else if(re.ended)T(R,new v);else{if(re.destroyed)return!1;re.reading=!1,re.decoder&&!x?(w=re.decoder.write(w),re.objectMode||w.length!==0?j(R,re,w,!1):ne(R,re)):j(R,re,w,!1)}else k||(re.reading=!1,ne(R,re))}return!re.ended&&(re.length<re.highWaterMark||re.length===0)}function j(R,w,x,k){w.flowing&&w.length===0&&!w.sync?(w.awaitDrain=0,R.emit("data",x)):(w.length+=w.objectMode?1:x.length,k?w.buffer.unshift(x):w.buffer.push(x),w.needReadable&&le(R)),ne(R,w)}function O(R,w){var x;return!o(w)&&typeof w!="string"&&w!==void 0&&!R.objectMode&&(x=new b("chunk",["string","Buffer","Uint8Array"],w)),x}N.prototype.isPaused=function(){return this._readableState.flowing===!1},N.prototype.setEncoding=function(R){m||(m=_a().StringDecoder);var w=new m(R);this._readableState.decoder=w,this._readableState.encoding=this._readableState.decoder.encoding;for(var x=this._readableState.buffer.head,k="";x!==null;)k+=w.write(x.data),x=x.next;return this._readableState.buffer.clear(),k!==""&&this._readableState.buffer.push(k),this._readableState.length=k.length,this};var q=1073741824;function Q(R){return R>=q?R=q:(R--,R|=R>>>1,R|=R>>>2,R|=R>>>4,R|=R>>>8,R|=R>>>16,R++),R}function ie(R,w){return R<=0||w.length===0&&w.ended?0:w.objectMode?1:R!==R?w.flowing&&w.length?w.buffer.head.data.length:w.length:(R>w.highWaterMark&&(w.highWaterMark=Q(R)),R<=w.length?R:w.ended?w.length:(w.needReadable=!0,0))}N.prototype.read=function(R){l("read",R),R=parseInt(R,10);var w=this._readableState,x=R;if(R!==0&&(w.emittedReadable=!1),R===0&&w.needReadable&&((w.highWaterMark!==0?w.length>=w.highWaterMark:w.length>0)||w.ended))return l("read: emitReadable",w.length,w.ended),w.length===0&&w.ended?$(this):le(this),null;if(R=ie(R,w),R===0&&w.ended)return w.length===0&&$(this),null;var k=w.needReadable;l("need readable",k),(w.length===0||w.length-R<w.highWaterMark)&&(k=!0,l("length less than watermark",k)),w.ended||w.reading?(k=!1,l("reading or ended",k)):k&&(l("do read"),w.reading=!0,w.sync=!0,w.length===0&&(w.needReadable=!0),this._read(w.highWaterMark),w.sync=!1,w.reading||(R=ie(x,w)));var U;return R>0?U=A(R,w):U=null,U===null?(w.needReadable=w.length<=w.highWaterMark,R=0):(w.length-=R,w.awaitDrain=0),w.length===0&&(w.ended||(w.needReadable=!0),x!==R&&w.ended&&$(this)),U!==null&&this.emit("data",U),U};function X(R,w){if(l("onEofChunk"),!w.ended){if(w.decoder){var x=w.decoder.end();x&&x.length&&(w.buffer.push(x),w.length+=w.objectMode?1:x.length)}w.ended=!0,w.sync?le(R):(w.needReadable=!1,w.emittedReadable||(w.emittedReadable=!0,ae(R)))}}function le(R){var w=R._readableState;l("emitReadable",w.needReadable,w.emittedReadable),w.needReadable=!1,w.emittedReadable||(l("emitReadable",w.flowing),w.emittedReadable=!0,ze.nextTick(ae,R))}function ae(R){var w=R._readableState;l("emitReadable_",w.destroyed,w.length,w.ended),!w.destroyed&&(w.length||w.ended)&&(R.emit("readable"),w.emittedReadable=!1),w.needReadable=!w.flowing&&!w.ended&&w.length<=w.highWaterMark,P(R)}function ne(R,w){w.readingMore||(w.readingMore=!0,ze.nextTick(V,R,w))}function V(R,w){for(;!w.reading&&!w.ended&&(w.length<w.highWaterMark||w.flowing&&w.length===0);){var x=w.length;if(l("maybeReadMore read 0"),R.read(0),x===w.length)break}w.readingMore=!1}N.prototype._read=function(R){T(this,new _("_read()"))},N.prototype.pipe=function(R,w){var x=this,k=this._readableState;switch(k.pipesCount){case 0:k.pipes=R;break;case 1:k.pipes=[k.pipes,R];break;default:k.pipes.push(R);break}k.pipesCount+=1,l("pipe count=%d opts=%j",k.pipesCount,w);var U=(!w||w.end!==!1)&&R!==ze.stdout&&R!==ze.stderr,re=U?ve:ke;k.endEmitted?ze.nextTick(re):x.once("end",re),R.on("unpipe",fe);function fe(Ze,Ue){l("onunpipe"),Ze===x&&Ue&&Ue.hasUnpiped===!1&&(Ue.hasUnpiped=!0,be())}function ve(){l("onend"),R.end()}var ce=oe(x);R.on("drain",ce);var Ie=!1;function be(){l("cleanup"),R.removeListener("close",Ae),R.removeListener("finish",Pe),R.removeListener("drain",ce),R.removeListener("error",je),R.removeListener("unpipe",fe),x.removeListener("end",ve),x.removeListener("end",ke),x.removeListener("data",xe),Ie=!0,k.awaitDrain&&(!R._writableState||R._writableState.needDrain)&&ce()}x.on("data",xe);function xe(Ze){l("ondata");var Ue=R.write(Ze);l("dest.write",Ue),Ue===!1&&((k.pipesCount===1&&k.pipes===R||k.pipesCount>1&&pe(k.pipes,R)!==-1)&&!Ie&&(l("false write response, pause",k.awaitDrain),k.awaitDrain++),x.pause())}function je(Ze){l("onerror",Ze),ke(),R.removeListener("error",je),t(R,"error")===0&&T(R,Ze)}D(R,"error",je);function Ae(){R.removeListener("finish",Pe),ke()}R.once("close",Ae);function Pe(){l("onfinish"),R.removeListener("close",Ae),ke()}R.once("finish",Pe);function ke(){l("unpipe"),x.unpipe(R)}return R.emit("pipe",x),k.flowing||(l("pipe resume"),x.resume()),R};function oe(R){return function(){var x=R._readableState;l("pipeOnDrain",x.awaitDrain),x.awaitDrain&&x.awaitDrain--,x.awaitDrain===0&&t(R,"data")&&(x.flowing=!0,P(R))}}N.prototype.unpipe=function(R){var w=this._readableState,x={hasUnpiped:!1};if(w.pipesCount===0)return this;if(w.pipesCount===1)return R&&R!==w.pipes?this:(R||(R=w.pipes),w.pipes=null,w.pipesCount=0,w.flowing=!1,R&&R.emit("unpipe",this,x),this);if(!R){var k=w.pipes,U=w.pipesCount;w.pipes=null,w.pipesCount=0,w.flowing=!1;for(var re=0;re<U;re++)k[re].emit("unpipe",this,{hasUnpiped:!1});return this}var fe=pe(w.pipes,R);return fe===-1?this:(w.pipes.splice(fe,1),w.pipesCount-=1,w.pipesCount===1&&(w.pipes=w.pipes[0]),R.emit("unpipe",this,x),this)},N.prototype.on=function(R,w){var x=r.prototype.on.call(this,R,w),k=this._readableState;return R==="data"?(k.readableListening=this.listenerCount("readable")>0,k.flowing!==!1&&this.resume()):R==="readable"&&!k.endEmitted&&!k.readableListening&&(k.readableListening=k.needReadable=!0,k.flowing=!1,k.emittedReadable=!1,l("on readable",k.length,k.reading),k.length?le(this):k.reading||ze.nextTick(Y,this)),x},N.prototype.addListener=N.prototype.on,N.prototype.removeListener=function(R,w){var x=r.prototype.removeListener.call(this,R,w);return R==="readable"&&ze.nextTick(he,this),x},N.prototype.removeAllListeners=function(R){var w=r.prototype.removeAllListeners.apply(this,arguments);return(R==="readable"||R===void 0)&&ze.nextTick(he,this),w};function he(R){var w=R._readableState;w.readableListening=R.listenerCount("readable")>0,w.resumeScheduled&&!w.paused?w.flowing=!0:R.listenerCount("data")>0&&R.resume()}function Y(R){l("readable nexttick read 0"),R.read(0)}N.prototype.resume=function(){var R=this._readableState;return R.flowing||(l("resume"),R.flowing=!R.readableListening,Z(this,R)),R.paused=!1,this};function Z(R,w){w.resumeScheduled||(w.resumeScheduled=!0,ze.nextTick(ee,R,w))}function ee(R,w){l("resume",w.reading),w.reading||R.read(0),w.resumeScheduled=!1,R.emit("resume"),P(R),w.flowing&&!w.reading&&R.read(0)}N.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function P(R){var w=R._readableState;for(l("flow",w.flowing);w.flowing&&R.read()!==null;);}N.prototype.wrap=function(R){var w=this,x=this._readableState,k=!1;R.on("end",function(){if(l("wrapped end"),x.decoder&&!x.ended){var fe=x.decoder.end();fe&&fe.length&&w.push(fe)}w.push(null)}),R.on("data",function(fe){if(l("wrapped data"),x.decoder&&(fe=x.decoder.write(fe)),!(x.objectMode&&fe==null)&&!(!x.objectMode&&(!fe||!fe.length))){var ve=w.push(fe);ve||(k=!0,R.pause())}});for(var U in R)this[U]===void 0&&typeof R[U]=="function"&&(this[U]=function(ve){return function(){return R[ve].apply(R,arguments)}}(U));for(var re=0;re<I.length;re++)R.on(I[re],this.emit.bind(this,I[re]));return this._read=function(fe){l("wrapped _read",fe),k&&(k=!1,R.resume())},this},typeof Symbol=="function"&&(N.prototype[Symbol.asyncIterator]=function(){return g===void 0&&(g=dK()),g(this)}),Object.defineProperty(N.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(N.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(N.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(w){this._readableState&&(this._readableState.flowing=w)}}),N._fromList=A,Object.defineProperty(N.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function A(R,w){if(w.length===0)return null;var x;return w.objectMode?x=w.buffer.shift():!R||R>=w.length?(w.decoder?x=w.buffer.join(""):w.buffer.length===1?x=w.buffer.first():x=w.buffer.concat(w.length),w.buffer.clear()):x=w.buffer.consume(R,w.decoder),x}function $(R){var w=R._readableState;l("endReadable",w.endEmitted),w.endEmitted||(w.ended=!0,ze.nextTick(te,w,R))}function te(R,w){if(l("endReadableNT",R.endEmitted,R.length),!R.endEmitted&&R.length===0&&(R.endEmitted=!0,w.readable=!1,w.emit("end"),R.autoDestroy)){var x=w._writableState;(!x||x.autoDestroy&&x.finished)&&w.destroy()}}typeof Symbol=="function"&&(N.from=function(R,w){return E===void 0&&(E=hK()),E(N,R,w)});function pe(R,w){for(var x=0,k=R.length;x<k;x++)if(R[x]===w)return x;return-1}return qb}var $b,UO;function yj(){if(UO)return $b;UO=1,$b=s;var e=ol().codes,t=e.ERR_METHOD_NOT_IMPLEMENTED,r=e.ERR_MULTIPLE_CALLBACK,n=e.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=e.ERR_TRANSFORM_WITH_LENGTH_0,a=Bu();Pr()(s,a);function o(f,d){var c=this._transformState;c.transforming=!1;var p=c.writecb;if(p===null)return this.emit("error",new r);c.writechunk=null,c.writecb=null,d!=null&&this.push(d),p(f);var b=this._readableState;b.reading=!1,(b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}function s(f){if(!(this instanceof s))return new s(f);a.call(this,f),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",l)}function l(){var f=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(d,c){u(f,d,c)}):u(this,null,null)}s.prototype.push=function(f,d){return this._transformState.needTransform=!1,a.prototype.push.call(this,f,d)},s.prototype._transform=function(f,d,c){c(new t("_transform()"))},s.prototype._write=function(f,d,c){var p=this._transformState;if(p.writecb=c,p.writechunk=f,p.writeencoding=d,!p.transforming){var b=this._readableState;(p.needTransform||b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}},s.prototype._read=function(f){var d=this._transformState;d.writechunk!==null&&!d.transforming?(d.transforming=!0,this._transform(d.writechunk,d.writeencoding,d.afterTransform)):d.needTransform=!0},s.prototype._destroy=function(f,d){a.prototype._destroy.call(this,f,function(c){d(c)})};function u(f,d,c){if(d)return f.emit("error",d);if(c!=null&&f.push(c),f._writableState.length)throw new i;if(f._transformState.transforming)throw new n;return f.push(null)}return $b}var Ub,HO;function pK(){if(HO)return Ub;HO=1,Ub=t;var e=yj();Pr()(t,e);function t(r){if(!(this instanceof t))return new t(r);e.call(this,r)}return t.prototype._transform=function(r,n,i){i(null,r)},Ub}var Hb,VO;function mK(){if(VO)return Hb;VO=1;var e;function t(c){var p=!1;return function(){p||(p=!0,c.apply(void 0,arguments))}}var r=ol().codes,n=r.ERR_MISSING_ARGS,i=r.ERR_STREAM_DESTROYED;function a(c){if(c)throw c}function o(c){return c.setHeader&&typeof c.abort=="function"}function s(c,p,b,v){v=t(v);var _=!1;c.on("close",function(){_=!0}),e===void 0&&(e=ES()),e(c,{readable:p,writable:b},function(m){if(m)return v(m);_=!0,v()});var y=!1;return function(m){if(!_&&!y){if(y=!0,o(c))return c.abort();if(typeof c.destroy=="function")return c.destroy();v(m||new i("pipe"))}}}function l(c){c()}function u(c,p){return c.pipe(p)}function f(c){return!c.length||typeof c[c.length-1]!="function"?a:c.pop()}function d(){for(var c=arguments.length,p=new Array(c),b=0;b<c;b++)p[b]=arguments[b];var v=f(p);if(Array.isArray(p[0])&&(p=p[0]),p.length<2)throw new n("streams");var _,y=p.map(function(m,g){var E=g<p.length-1,T=g>0;return s(m,E,T,function(I){_||(_=I),I&&y.forEach(l),!E&&(y.forEach(l),v(_))})});return p.reduce(u)}return Hb=d,Hb}var Vb,zO;function yK(){if(zO)return Vb;zO=1,Vb=r;var e=Kn().EventEmitter,t=Pr();t(r,e),r.Readable=mj(),r.Writable=pj(),r.Duplex=Bu(),r.Transform=yj(),r.PassThrough=pK(),r.finished=ES(),r.pipeline=mK(),r.Stream=r;function r(){e.call(this)}return r.prototype.pipe=function(n,i){var a=this;function o(p){n.writable&&n.write(p)===!1&&a.pause&&a.pause()}a.on("data",o);function s(){a.readable&&a.resume&&a.resume()}n.on("drain",s),!n._isStdio&&(!i||i.end!==!1)&&(a.on("end",u),a.on("close",f));var l=!1;function u(){l||(l=!0,n.end())}function f(){l||(l=!0,typeof n.destroy=="function"&&n.destroy())}function d(p){if(c(),e.listenerCount(this,"error")===0)throw p}a.on("error",d),n.on("error",d);function c(){a.removeListener("data",o),n.removeListener("drain",s),a.removeListener("end",u),a.removeListener("close",f),a.removeListener("error",d),n.removeListener("error",d),a.removeListener("end",c),a.removeListener("close",c),n.removeListener("close",c)}return a.on("end",c),a.on("close",c),n.on("close",c),n.emit("pipe",a),n},Vb}var zb={},Wb={exports:{}},Gb={},WO;function gj(){if(WO)return Gb;WO=1;function e(m){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},e(m)}function t(m,g,E){return Object.defineProperty(m,"prototype",{writable:!1}),m}function r(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function n(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),Object.defineProperty(m,"prototype",{writable:!1}),g&&i(m,g)}function i(m,g){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,I){return T.__proto__=I,T},i(m,g)}function a(m){var g=l();return function(){var T=u(m),I;if(g){var D=u(this).constructor;I=Reflect.construct(T,arguments,D)}else I=T.apply(this,arguments);return o(this,I)}}function o(m,g){if(g&&(e(g)==="object"||typeof g=="function"))return g;if(g!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s(m)}function s(m){if(m===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}function l(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function u(m){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(E){return E.__proto__||Object.getPrototypeOf(E)},u(m)}var f={},d,c;function p(m,g,E){E||(E=Error);function T(D,B,N){return typeof g=="string"?g:g(D,B,N)}var I=function(D){n(N,D);var B=a(N);function N(M,j,O){var q;return r(this,N),q=B.call(this,T(M,j,O)),q.code=m,q}return t(N)}(E);f[m]=I}function b(m,g){if(Array.isArray(m)){var E=m.length;return m=m.map(function(T){return String(T)}),E>2?"one of ".concat(g," ").concat(m.slice(0,E-1).join(", "),", or ")+m[E-1]:E===2?"one of ".concat(g," ").concat(m[0]," or ").concat(m[1]):"of ".concat(g," ").concat(m[0])}else return"of ".concat(g," ").concat(String(m))}function v(m,g,E){return m.substr(0,g.length)===g}function _(m,g,E){return(E===void 0||E>m.length)&&(E=m.length),m.substring(E-g.length,E)===g}function y(m,g,E){return typeof E!="number"&&(E=0),E+g.length>m.length?!1:m.indexOf(g,E)!==-1}return p("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),p("ERR_INVALID_ARG_TYPE",function(m,g,E){d===void 0&&(d=Z0()),d(typeof m=="string","'name' must be a string");var T;typeof g=="string"&&v(g,"not ")?(T="must not be",g=g.replace(/^not /,"")):T="must be";var I;if(_(m," argument"))I="The ".concat(m," ").concat(T," ").concat(b(g,"type"));else{var D=y(m,".")?"property":"argument";I='The "'.concat(m,'" ').concat(D," ").concat(T," ").concat(b(g,"type"))}return I+=". Received type ".concat(e(E)),I},TypeError),p("ERR_INVALID_ARG_VALUE",function(m,g){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";c===void 0&&(c=Or());var T=c.inspect(g);return T.length>128&&(T="".concat(T.slice(0,128),"...")),"The argument '".concat(m,"' ").concat(E,". Received ").concat(T)},TypeError),p("ERR_INVALID_RETURN_VALUE",function(m,g,E){var T;return E&&E.constructor&&E.constructor.name?T="instance of ".concat(E.constructor.name):T="type ".concat(e(E)),"Expected ".concat(m,' to be returned from the "').concat(g,'"')+" function but got ".concat(T,".")},TypeError),p("ERR_MISSING_ARGS",function(){for(var m=arguments.length,g=new Array(m),E=0;E<m;E++)g[E]=arguments[E];d===void 0&&(d=Z0()),d(g.length>0,"At least one arg needs to be specified");var T="The ",I=g.length;switch(g=g.map(function(D){return'"'.concat(D,'"')}),I){case 1:T+="".concat(g[0]," argument");break;case 2:T+="".concat(g[0]," and ").concat(g[1]," arguments");break;default:T+=g.slice(0,I-1).join(", "),T+=", and ".concat(g[I-1]," arguments");break}return"".concat(T," must be specified")},TypeError),Gb.codes=f,Gb}var Kb,GO;function gK(){if(GO)return Kb;GO=1;function e(ne,V){var oe=Object.keys(ne);if(Object.getOwnPropertySymbols){var he=Object.getOwnPropertySymbols(ne);V&&(he=he.filter(function(Y){return Object.getOwnPropertyDescriptor(ne,Y).enumerable})),oe.push.apply(oe,he)}return oe}function t(ne){for(var V=1;V<arguments.length;V++){var oe=arguments[V]!=null?arguments[V]:{};V%2?e(Object(oe),!0).forEach(function(he){r(ne,he,oe[he])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ne,Object.getOwnPropertyDescriptors(oe)):e(Object(oe)).forEach(function(he){Object.defineProperty(ne,he,Object.getOwnPropertyDescriptor(oe,he))})}return ne}function r(ne,V,oe){return V=o(V),V in ne?Object.defineProperty(ne,V,{value:oe,enumerable:!0,configurable:!0,writable:!0}):ne[V]=oe,ne}function n(ne,V){if(!(ne instanceof V))throw new TypeError("Cannot call a class as a function")}function i(ne,V){for(var oe=0;oe<V.length;oe++){var he=V[oe];he.enumerable=he.enumerable||!1,he.configurable=!0,"value"in he&&(he.writable=!0),Object.defineProperty(ne,o(he.key),he)}}function a(ne,V,oe){return i(ne.prototype,V),Object.defineProperty(ne,"prototype",{writable:!1}),ne}function o(ne){var V=s(ne,"string");return m(V)==="symbol"?V:String(V)}function s(ne,V){if(m(ne)!=="object"||ne===null)return ne;var oe=ne[Symbol.toPrimitive];if(oe!==void 0){var he=oe.call(ne,V);if(m(he)!=="object")return he;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ne)}function l(ne,V){if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function");ne.prototype=Object.create(V&&V.prototype,{constructor:{value:ne,writable:!0,configurable:!0}}),Object.defineProperty(ne,"prototype",{writable:!1}),V&&_(ne,V)}function u(ne){var V=b();return function(){var he=y(ne),Y;if(V){var Z=y(this).constructor;Y=Reflect.construct(he,arguments,Z)}else Y=he.apply(this,arguments);return f(this,Y)}}function f(ne,V){if(V&&(m(V)==="object"||typeof V=="function"))return V;if(V!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d(ne)}function d(ne){if(ne===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ne}function c(ne){var V=typeof Map=="function"?new Map:void 0;return c=function(he){if(he===null||!v(he))return he;if(typeof he!="function")throw new TypeError("Super expression must either be null or a function");if(typeof V<"u"){if(V.has(he))return V.get(he);V.set(he,Y)}function Y(){return p(he,arguments,y(this).constructor)}return Y.prototype=Object.create(he.prototype,{constructor:{value:Y,enumerable:!1,writable:!0,configurable:!0}}),_(Y,he)},c(ne)}function p(ne,V,oe){return b()?p=Reflect.construct.bind():p=function(Y,Z,ee){var P=[null];P.push.apply(P,Z);var A=Function.bind.apply(Y,P),$=new A;return ee&&_($,ee.prototype),$},p.apply(null,arguments)}function b(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function v(ne){return Function.toString.call(ne).indexOf("[native code]")!==-1}function _(ne,V){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(he,Y){return he.__proto__=Y,he},_(ne,V)}function y(ne){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(oe){return oe.__proto__||Object.getPrototypeOf(oe)},y(ne)}function m(ne){"@babel/helpers - typeof";return m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},m(ne)}var g=Or(),E=g.inspect,T=gj(),I=T.codes.ERR_INVALID_ARG_TYPE;function D(ne,V,oe){return(oe===void 0||oe>ne.length)&&(oe=ne.length),ne.substring(oe-V.length,oe)===V}function B(ne,V){if(V=Math.floor(V),ne.length==0||V==0)return"";var oe=ne.length*V;for(V=Math.floor(Math.log(V)/Math.log(2));V;)ne+=ne,V--;return ne+=ne.substring(0,oe-ne.length),ne}var N="",M="",j="",O="",q={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},Q=10;function ie(ne){var V=Object.keys(ne),oe=Object.create(Object.getPrototypeOf(ne));return V.forEach(function(he){oe[he]=ne[he]}),Object.defineProperty(oe,"message",{value:ne.message}),oe}function X(ne){return E(ne,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function le(ne,V,oe){var he="",Y="",Z=0,ee="",P=!1,A=X(ne),$=A.split(`
`),te=X(V).split(`
`),pe=0,R="";if(oe==="strictEqual"&&m(ne)==="object"&&m(V)==="object"&&ne!==null&&V!==null&&(oe="strictEqualObject"),$.length===1&&te.length===1&&$[0]!==te[0]){var w=$[0].length+te[0].length;if(w<=Q){if((m(ne)!=="object"||ne===null)&&(m(V)!=="object"||V===null)&&(ne!==0||V!==0))return"".concat(q[oe],`

`)+"".concat($[0]," !== ").concat(te[0],`
`)}else if(oe!=="strictEqualObject"){var x=ze.stderr&&ze.stderr.isTTY?ze.stderr.columns:80;if(w<x){for(;$[0][pe]===te[0][pe];)pe++;pe>2&&(R=`
  `.concat(B(" ",pe),"^"),pe=0)}}}for(var k=$[$.length-1],U=te[te.length-1];k===U&&(pe++<2?ee=`
  `.concat(k).concat(ee):he=k,$.pop(),te.pop(),!($.length===0||te.length===0));)k=$[$.length-1],U=te[te.length-1];var re=Math.max($.length,te.length);if(re===0){var fe=A.split(`
`);if(fe.length>30)for(fe[26]="".concat(N,"...").concat(O);fe.length>27;)fe.pop();return"".concat(q.notIdentical,`

`).concat(fe.join(`
`),`
`)}pe>3&&(ee=`
`.concat(N,"...").concat(O).concat(ee),P=!0),he!==""&&(ee=`
  `.concat(he).concat(ee),he="");var ve=0,ce=q[oe]+`
`.concat(M,"+ actual").concat(O," ").concat(j,"- expected").concat(O),Ie=" ".concat(N,"...").concat(O," Lines skipped");for(pe=0;pe<re;pe++){var be=pe-Z;if($.length<pe+1)be>1&&pe>2&&(be>4?(Y+=`
`.concat(N,"...").concat(O),P=!0):be>3&&(Y+=`
  `.concat(te[pe-2]),ve++),Y+=`
  `.concat(te[pe-1]),ve++),Z=pe,he+=`
`.concat(j,"-").concat(O," ").concat(te[pe]),ve++;else if(te.length<pe+1)be>1&&pe>2&&(be>4?(Y+=`
`.concat(N,"...").concat(O),P=!0):be>3&&(Y+=`
  `.concat($[pe-2]),ve++),Y+=`
  `.concat($[pe-1]),ve++),Z=pe,Y+=`
`.concat(M,"+").concat(O," ").concat($[pe]),ve++;else{var xe=te[pe],je=$[pe],Ae=je!==xe&&(!D(je,",")||je.slice(0,-1)!==xe);Ae&&D(xe,",")&&xe.slice(0,-1)===je&&(Ae=!1,je+=","),Ae?(be>1&&pe>2&&(be>4?(Y+=`
`.concat(N,"...").concat(O),P=!0):be>3&&(Y+=`
  `.concat($[pe-2]),ve++),Y+=`
  `.concat($[pe-1]),ve++),Z=pe,Y+=`
`.concat(M,"+").concat(O," ").concat(je),he+=`
`.concat(j,"-").concat(O," ").concat(xe),ve+=2):(Y+=he,he="",(be===1||pe===0)&&(Y+=`
  `.concat(je),ve++))}if(ve>20&&pe<re-2)return"".concat(ce).concat(Ie,`
`).concat(Y,`
`).concat(N,"...").concat(O).concat(he,`
`)+"".concat(N,"...").concat(O)}return"".concat(ce).concat(P?Ie:"",`
`).concat(Y).concat(he).concat(ee).concat(R)}var ae=function(ne,V){l(he,ne);var oe=u(he);function he(Y){var Z;if(n(this,he),m(Y)!=="object"||Y===null)throw new I("options","Object",Y);var ee=Y.message,P=Y.operator,A=Y.stackStartFn,$=Y.actual,te=Y.expected,pe=Error.stackTraceLimit;if(Error.stackTraceLimit=0,ee!=null)Z=oe.call(this,String(ee));else if(ze.stderr&&ze.stderr.isTTY&&(ze.stderr&&ze.stderr.getColorDepth&&ze.stderr.getColorDepth()!==1?(N="\x1B[34m",M="\x1B[32m",O="\x1B[39m",j="\x1B[31m"):(N="",M="",O="",j="")),m($)==="object"&&$!==null&&m(te)==="object"&&te!==null&&"stack"in $&&$ instanceof Error&&"stack"in te&&te instanceof Error&&($=ie($),te=ie(te)),P==="deepStrictEqual"||P==="strictEqual")Z=oe.call(this,le($,te,P));else if(P==="notDeepStrictEqual"||P==="notStrictEqual"){var R=q[P],w=X($).split(`
`);if(P==="notStrictEqual"&&m($)==="object"&&$!==null&&(R=q.notStrictEqualObject),w.length>30)for(w[26]="".concat(N,"...").concat(O);w.length>27;)w.pop();w.length===1?Z=oe.call(this,"".concat(R," ").concat(w[0])):Z=oe.call(this,"".concat(R,`

`).concat(w.join(`
`),`
`))}else{var x=X($),k="",U=q[P];P==="notDeepEqual"||P==="notEqual"?(x="".concat(q[P],`

`).concat(x),x.length>1024&&(x="".concat(x.slice(0,1021),"..."))):(k="".concat(X(te)),x.length>512&&(x="".concat(x.slice(0,509),"...")),k.length>512&&(k="".concat(k.slice(0,509),"...")),P==="deepEqual"||P==="equal"?x="".concat(U,`

`).concat(x,`

should equal

`):k=" ".concat(P," ").concat(k)),Z=oe.call(this,"".concat(x).concat(k))}return Error.stackTraceLimit=pe,Z.generatedMessage=!ee,Object.defineProperty(d(Z),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),Z.code="ERR_ASSERTION",Z.actual=$,Z.expected=te,Z.operator=P,Error.captureStackTrace&&Error.captureStackTrace(d(Z),A),Z.stack,Z.name="AssertionError",f(Z)}return a(he,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:V,value:function(Z,ee){return E(this,t(t({},ee),{},{customInspect:!1,depth:0}))}}]),he}(c(Error),E.custom);return Kb=ae,Kb}var Zb,KO;function _j(){if(KO)return Zb;KO=1;var e=Object.prototype.toString;return Zb=function(r){var n=e.call(r),i=n==="[object Arguments]";return i||(i=n!=="[object Array]"&&r!==null&&typeof r=="object"&&typeof r.length=="number"&&r.length>=0&&e.call(r.callee)==="[object Function]"),i},Zb}var Yb,ZO;function _K(){if(ZO)return Yb;ZO=1;var e;if(!Object.keys){var t=Object.prototype.hasOwnProperty,r=Object.prototype.toString,n=_j(),i=Object.prototype.propertyIsEnumerable,a=!i.call({toString:null},"toString"),o=i.call(function(){},"prototype"),s=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=function(c){var p=c.constructor;return p&&p.prototype===c},u={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},f=function(){if(typeof window>"u")return!1;for(var c in window)try{if(!u["$"+c]&&t.call(window,c)&&window[c]!==null&&typeof window[c]=="object")try{l(window[c])}catch{return!0}}catch{return!0}return!1}(),d=function(c){if(typeof window>"u"||!f)return l(c);try{return l(c)}catch{return!1}};e=function(p){var b=p!==null&&typeof p=="object",v=r.call(p)==="[object Function]",_=n(p),y=b&&r.call(p)==="[object String]",m=[];if(!b&&!v&&!_)throw new TypeError("Object.keys called on a non-object");var g=o&&v;if(y&&p.length>0&&!t.call(p,0))for(var E=0;E<p.length;++E)m.push(String(E));if(_&&p.length>0)for(var T=0;T<p.length;++T)m.push(String(T));else for(var I in p)!(g&&I==="prototype")&&t.call(p,I)&&m.push(String(I));if(a)for(var D=d(p),B=0;B<s.length;++B)!(D&&s[B]==="constructor")&&t.call(p,s[B])&&m.push(s[B]);return m}}return Yb=e,Yb}var Qb,YO;function bj(){if(YO)return Qb;YO=1;var e=Array.prototype.slice,t=_j(),r=Object.keys,n=r?function(o){return r(o)}:_K(),i=Object.keys;return n.shim=function(){if(Object.keys){var o=function(){var s=Object.keys(arguments);return s&&s.length===arguments.length}(1,2);o||(Object.keys=function(l){return t(l)?i(e.call(l)):i(l)})}else Object.keys=n;return Object.keys||n},Qb=n,Qb}var Xb,QO;function bK(){if(QO)return Xb;QO=1;var e=bj(),t=dS()(),r=zo(),n=hS(),i=r("Array.prototype.push"),a=r("Object.prototype.propertyIsEnumerable"),o=t?n.getOwnPropertySymbols:null;return Xb=function(l,u){if(l==null)throw new TypeError("target must be an object");var f=n(l);if(arguments.length===1)return f;for(var d=1;d<arguments.length;++d){var c=n(arguments[d]),p=e(c),b=t&&(n.getOwnPropertySymbols||o);if(b)for(var v=b(c),_=0;_<v.length;++_){var y=v[_];a(c,y)&&i(p,y)}for(var m=0;m<p.length;++m){var g=p[m];if(a(c,g)){var E=c[g];f[g]=E}}}return f},Xb}var Jb,XO;function vK(){if(XO)return Jb;XO=1;var e=bK(),t=function(){if(!Object.assign)return!1;for(var n="abcdefghijklmnopqrst",i=n.split(""),a={},o=0;o<i.length;++o)a[i[o]]=i[o];var s=Object.assign({},a),l="";for(var u in s)l+=u;return n!==l},r=function(){if(!Object.assign||!Object.preventExtensions)return!1;var n=Object.preventExtensions({1:2});try{Object.assign(n,"xy")}catch{return n[1]==="y"}return!1};return Jb=function(){return!Object.assign||t()||r()?e:Object.assign},Jb}var ev,JO;function vj(){if(JO)return ev;JO=1;var e=function(t){return t!==t};return ev=function(r,n){return r===0&&n===0?1/r===1/n:!!(r===n||e(r)&&e(n))},ev}var tv,eP;function SS(){if(eP)return tv;eP=1;var e=vj();return tv=function(){return typeof Object.is=="function"?Object.is:e},tv}var rv,tP;function wK(){if(tP)return rv;tP=1;var e=Vh(),t=Am(),r=t(e("String.prototype.indexOf"));return rv=function(i,a){var o=e(i,!!a);return typeof o=="function"&&r(i,".prototype.")>-1?t(o):o},rv}var nv,rP;function Pm(){if(rP)return nv;rP=1;var e=bj(),t=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",r=Object.prototype.toString,n=Array.prototype.concat,i=B6(),a=function(u){return typeof u=="function"&&r.call(u)==="[object Function]"},o=q6()(),s=function(u,f,d,c){if(f in u){if(c===!0){if(u[f]===d)return}else if(!a(c)||!c())return}o?i(u,f,d,!0):i(u,f,d)},l=function(u,f){var d=arguments.length>2?arguments[2]:{},c=e(f);t&&(c=n.call(c,Object.getOwnPropertySymbols(f)));for(var p=0;p<c.length;p+=1)s(u,c[p],f[c[p]],d[c[p]])};return l.supportsDescriptors=!!o,nv=l,nv}var iv,nP;function EK(){if(nP)return iv;nP=1;var e=SS(),t=Pm();return iv=function(){var n=e();return t(Object,{is:n},{is:function(){return Object.is!==n}}),n},iv}var av,iP;function SK(){if(iP)return av;iP=1;var e=Pm(),t=Am(),r=vj(),n=SS(),i=EK(),a=t(n(),Object);return e(a,{getPolyfill:n,implementation:r,shim:i}),av=a,av}var ov,aP;function wj(){return aP||(aP=1,ov=function(t){return t!==t}),ov}var sv,oP;function Ej(){if(oP)return sv;oP=1;var e=wj();return sv=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:e},sv}var uv,sP;function xK(){if(sP)return uv;sP=1;var e=Pm(),t=Ej();return uv=function(){var n=t();return e(Number,{isNaN:n},{isNaN:function(){return Number.isNaN!==n}}),n},uv}var lv,uP;function TK(){if(uP)return lv;uP=1;var e=Am(),t=Pm(),r=wj(),n=Ej(),i=xK(),a=e(n(),Number);return t(a,{getPolyfill:n,implementation:r,shim:i}),lv=a,lv}var fv,lP;function RK(){if(lP)return fv;lP=1;function e(Ae,Pe){return a(Ae)||i(Ae,Pe)||r(Ae,Pe)||t()}function t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r(Ae,Pe){if(Ae){if(typeof Ae=="string")return n(Ae,Pe);var ke=Object.prototype.toString.call(Ae).slice(8,-1);if(ke==="Object"&&Ae.constructor&&(ke=Ae.constructor.name),ke==="Map"||ke==="Set")return Array.from(Ae);if(ke==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ke))return n(Ae,Pe)}}function n(Ae,Pe){(Pe==null||Pe>Ae.length)&&(Pe=Ae.length);for(var ke=0,Ze=new Array(Pe);ke<Pe;ke++)Ze[ke]=Ae[ke];return Ze}function i(Ae,Pe){var ke=Ae==null?null:typeof Symbol<"u"&&Ae[Symbol.iterator]||Ae["@@iterator"];if(ke!=null){var Ze,Ue,it,ye,F=[],K=!0,_e=!1;try{if(it=(ke=ke.call(Ae)).next,Pe!==0)for(;!(K=(Ze=it.call(ke)).done)&&(F.push(Ze.value),F.length!==Pe);K=!0);}catch(Oe){_e=!0,Ue=Oe}finally{try{if(!K&&ke.return!=null&&(ye=ke.return(),Object(ye)!==ye))return}finally{if(_e)throw Ue}}return F}}function a(Ae){if(Array.isArray(Ae))return Ae}function o(Ae){"@babel/helpers - typeof";return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Pe){return typeof Pe}:function(Pe){return Pe&&typeof Symbol=="function"&&Pe.constructor===Symbol&&Pe!==Symbol.prototype?"symbol":typeof Pe},o(Ae)}var s=/a/g.flags!==void 0,l=function(Pe){var ke=[];return Pe.forEach(function(Ze){return ke.push(Ze)}),ke},u=function(Pe){var ke=[];return Pe.forEach(function(Ze,Ue){return ke.push([Ue,Ze])}),ke},f=Object.is?Object.is:SK(),d=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},c=Number.isNaN?Number.isNaN:TK();function p(Ae){return Ae.call.bind(Ae)}var b=p(Object.prototype.hasOwnProperty),v=p(Object.prototype.propertyIsEnumerable),_=p(Object.prototype.toString),y=Or().types,m=y.isAnyArrayBuffer,g=y.isArrayBufferView,E=y.isDate,T=y.isMap,I=y.isRegExp,D=y.isSet,B=y.isNativeError,N=y.isBoxedPrimitive,M=y.isNumberObject,j=y.isStringObject,O=y.isBooleanObject,q=y.isBigIntObject,Q=y.isSymbolObject,ie=y.isFloat32Array,X=y.isFloat64Array;function le(Ae){if(Ae.length===0||Ae.length>10)return!0;for(var Pe=0;Pe<Ae.length;Pe++){var ke=Ae.charCodeAt(Pe);if(ke<48||ke>57)return!0}return Ae.length===10&&Ae>=Math.pow(2,32)}function ae(Ae){return Object.keys(Ae).filter(le).concat(d(Ae).filter(Object.prototype.propertyIsEnumerable.bind(Ae)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function ne(Ae,Pe){if(Ae===Pe)return 0;for(var ke=Ae.length,Ze=Pe.length,Ue=0,it=Math.min(ke,Ze);Ue<it;++Ue)if(Ae[Ue]!==Pe[Ue]){ke=Ae[Ue],Ze=Pe[Ue];break}return ke<Ze?-1:Ze<ke?1:0}var V=!0,oe=!1,he=0,Y=1,Z=2,ee=3;function P(Ae,Pe){return s?Ae.source===Pe.source&&Ae.flags===Pe.flags:RegExp.prototype.toString.call(Ae)===RegExp.prototype.toString.call(Pe)}function A(Ae,Pe){if(Ae.byteLength!==Pe.byteLength)return!1;for(var ke=0;ke<Ae.byteLength;ke++)if(Ae[ke]!==Pe[ke])return!1;return!0}function $(Ae,Pe){return Ae.byteLength!==Pe.byteLength?!1:ne(new Uint8Array(Ae.buffer,Ae.byteOffset,Ae.byteLength),new Uint8Array(Pe.buffer,Pe.byteOffset,Pe.byteLength))===0}function te(Ae,Pe){return Ae.byteLength===Pe.byteLength&&ne(new Uint8Array(Ae),new Uint8Array(Pe))===0}function pe(Ae,Pe){return M(Ae)?M(Pe)&&f(Number.prototype.valueOf.call(Ae),Number.prototype.valueOf.call(Pe)):j(Ae)?j(Pe)&&String.prototype.valueOf.call(Ae)===String.prototype.valueOf.call(Pe):O(Ae)?O(Pe)&&Boolean.prototype.valueOf.call(Ae)===Boolean.prototype.valueOf.call(Pe):q(Ae)?q(Pe)&&BigInt.prototype.valueOf.call(Ae)===BigInt.prototype.valueOf.call(Pe):Q(Pe)&&Symbol.prototype.valueOf.call(Ae)===Symbol.prototype.valueOf.call(Pe)}function R(Ae,Pe,ke,Ze){if(Ae===Pe)return Ae!==0?!0:ke?f(Ae,Pe):!0;if(ke){if(o(Ae)!=="object")return typeof Ae=="number"&&c(Ae)&&c(Pe);if(o(Pe)!=="object"||Ae===null||Pe===null||Object.getPrototypeOf(Ae)!==Object.getPrototypeOf(Pe))return!1}else{if(Ae===null||o(Ae)!=="object")return Pe===null||o(Pe)!=="object"?Ae==Pe:!1;if(Pe===null||o(Pe)!=="object")return!1}var Ue=_(Ae),it=_(Pe);if(Ue!==it)return!1;if(Array.isArray(Ae)){if(Ae.length!==Pe.length)return!1;var ye=ae(Ae),F=ae(Pe);return ye.length!==F.length?!1:x(Ae,Pe,ke,Ze,Y,ye)}if(Ue==="[object Object]"&&(!T(Ae)&&T(Pe)||!D(Ae)&&D(Pe)))return!1;if(E(Ae)){if(!E(Pe)||Date.prototype.getTime.call(Ae)!==Date.prototype.getTime.call(Pe))return!1}else if(I(Ae)){if(!I(Pe)||!P(Ae,Pe))return!1}else if(B(Ae)||Ae instanceof Error){if(Ae.message!==Pe.message||Ae.name!==Pe.name)return!1}else if(g(Ae)){if(!ke&&(ie(Ae)||X(Ae))){if(!A(Ae,Pe))return!1}else if(!$(Ae,Pe))return!1;var K=ae(Ae),_e=ae(Pe);return K.length!==_e.length?!1:x(Ae,Pe,ke,Ze,he,K)}else{if(D(Ae))return!D(Pe)||Ae.size!==Pe.size?!1:x(Ae,Pe,ke,Ze,Z);if(T(Ae))return!T(Pe)||Ae.size!==Pe.size?!1:x(Ae,Pe,ke,Ze,ee);if(m(Ae)){if(!te(Ae,Pe))return!1}else if(N(Ae)&&!pe(Ae,Pe))return!1}return x(Ae,Pe,ke,Ze,he)}function w(Ae,Pe){return Pe.filter(function(ke){return v(Ae,ke)})}function x(Ae,Pe,ke,Ze,Ue,it){if(arguments.length===5){it=Object.keys(Ae);var ye=Object.keys(Pe);if(it.length!==ye.length)return!1}for(var F=0;F<it.length;F++)if(!b(Pe,it[F]))return!1;if(ke&&arguments.length===5){var K=d(Ae);if(K.length!==0){var _e=0;for(F=0;F<K.length;F++){var Oe=K[F];if(v(Ae,Oe)){if(!v(Pe,Oe))return!1;it.push(Oe),_e++}else if(v(Pe,Oe))return!1}var se=d(Pe);if(K.length!==se.length&&w(Pe,se).length!==_e)return!1}else{var ge=d(Pe);if(ge.length!==0&&w(Pe,ge).length!==0)return!1}}if(it.length===0&&(Ue===he||Ue===Y&&Ae.length===0||Ae.size===0))return!0;if(Ze===void 0)Ze={val1:new Map,val2:new Map,position:0};else{var de=Ze.val1.get(Ae);if(de!==void 0){var Re=Ze.val2.get(Pe);if(Re!==void 0)return de===Re}Ze.position++}Ze.val1.set(Ae,Ze.position),Ze.val2.set(Pe,Ze.position);var qe=be(Ae,Pe,ke,it,Ze,Ue);return Ze.val1.delete(Ae),Ze.val2.delete(Pe),qe}function k(Ae,Pe,ke,Ze){for(var Ue=l(Ae),it=0;it<Ue.length;it++){var ye=Ue[it];if(R(Pe,ye,ke,Ze))return Ae.delete(ye),!0}return!1}function U(Ae){switch(o(Ae)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":Ae=+Ae;case"number":if(c(Ae))return!1}return!0}function re(Ae,Pe,ke){var Ze=U(ke);return Ze??(Pe.has(Ze)&&!Ae.has(Ze))}function fe(Ae,Pe,ke,Ze,Ue){var it=U(ke);if(it!=null)return it;var ye=Pe.get(it);return ye===void 0&&!Pe.has(it)||!R(Ze,ye,!1,Ue)?!1:!Ae.has(it)&&R(Ze,ye,!1,Ue)}function ve(Ae,Pe,ke,Ze){for(var Ue=null,it=l(Ae),ye=0;ye<it.length;ye++){var F=it[ye];if(o(F)==="object"&&F!==null)Ue===null&&(Ue=new Set),Ue.add(F);else if(!Pe.has(F)){if(ke||!re(Ae,Pe,F))return!1;Ue===null&&(Ue=new Set),Ue.add(F)}}if(Ue!==null){for(var K=l(Pe),_e=0;_e<K.length;_e++){var Oe=K[_e];if(o(Oe)==="object"&&Oe!==null){if(!k(Ue,Oe,ke,Ze))return!1}else if(!ke&&!Ae.has(Oe)&&!k(Ue,Oe,ke,Ze))return!1}return Ue.size===0}return!0}function ce(Ae,Pe,ke,Ze,Ue,it){for(var ye=l(Ae),F=0;F<ye.length;F++){var K=ye[F];if(R(ke,K,Ue,it)&&R(Ze,Pe.get(K),Ue,it))return Ae.delete(K),!0}return!1}function Ie(Ae,Pe,ke,Ze){for(var Ue=null,it=u(Ae),ye=0;ye<it.length;ye++){var F=e(it[ye],2),K=F[0],_e=F[1];if(o(K)==="object"&&K!==null)Ue===null&&(Ue=new Set),Ue.add(K);else{var Oe=Pe.get(K);if(Oe===void 0&&!Pe.has(K)||!R(_e,Oe,ke,Ze)){if(ke||!fe(Ae,Pe,K,_e,Ze))return!1;Ue===null&&(Ue=new Set),Ue.add(K)}}}if(Ue!==null){for(var se=u(Pe),ge=0;ge<se.length;ge++){var de=e(se[ge],2),Re=de[0],qe=de[1];if(o(Re)==="object"&&Re!==null){if(!ce(Ue,Ae,Re,qe,ke,Ze))return!1}else if(!ke&&(!Ae.has(Re)||!R(Ae.get(Re),qe,!1,Ze))&&!ce(Ue,Ae,Re,qe,!1,Ze))return!1}return Ue.size===0}return!0}function be(Ae,Pe,ke,Ze,Ue,it){var ye=0;if(it===Z){if(!ve(Ae,Pe,ke,Ue))return!1}else if(it===ee){if(!Ie(Ae,Pe,ke,Ue))return!1}else if(it===Y)for(;ye<Ae.length;ye++)if(b(Ae,ye)){if(!b(Pe,ye)||!R(Ae[ye],Pe[ye],ke,Ue))return!1}else{if(b(Pe,ye))return!1;for(var F=Object.keys(Ae);ye<F.length;ye++){var K=F[ye];if(!b(Pe,K)||!R(Ae[K],Pe[K],ke,Ue))return!1}return F.length===Object.keys(Pe).length}for(ye=0;ye<Ze.length;ye++){var _e=Ze[ye];if(!R(Ae[_e],Pe[_e],ke,Ue))return!1}return!0}function xe(Ae,Pe){return R(Ae,Pe,oe)}function je(Ae,Pe){return R(Ae,Pe,V)}return fv={isDeepEqual:xe,isDeepStrictEqual:je},fv}var fP;function Z0(){if(fP)return Wb.exports;fP=1;function e(Z){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ee){return typeof ee}:function(ee){return ee&&typeof Symbol=="function"&&ee.constructor===Symbol&&ee!==Symbol.prototype?"symbol":typeof ee},e(Z)}function t(Z,ee,P){return Object.defineProperty(Z,"prototype",{writable:!1}),Z}function r(Z,ee){if(!(Z instanceof ee))throw new TypeError("Cannot call a class as a function")}var n=gj(),i=n.codes,a=i.ERR_AMBIGUOUS_ARGUMENT,o=i.ERR_INVALID_ARG_TYPE,s=i.ERR_INVALID_ARG_VALUE,l=i.ERR_INVALID_RETURN_VALUE,u=i.ERR_MISSING_ARGS,f=gK(),d=Or(),c=d.inspect,p=Or().types,b=p.isPromise,v=p.isRegExp,_=vK()(),y=SS()(),m=wK()("RegExp.prototype.test"),g,E;function T(){var Z=RK();g=Z.isDeepEqual,E=Z.isDeepStrictEqual}var I=!1,D=Wb.exports=O,B={};function N(Z){throw Z.message instanceof Error?Z.message:new f(Z)}function M(Z,ee,P,A,$){var te=arguments.length,pe;if(te===0)pe="Failed";else if(te===1)P=Z,Z=void 0;else{if(I===!1){I=!0;var R=ze.emitWarning?ze.emitWarning:console.warn.bind(console);R("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}te===2&&(A="!=")}if(P instanceof Error)throw P;var w={actual:Z,expected:ee,operator:A===void 0?"fail":A,stackStartFn:$||M};P!==void 0&&(w.message=P);var x=new f(w);throw pe&&(x.message=pe,x.generatedMessage=!0),x}D.fail=M,D.AssertionError=f;function j(Z,ee,P,A){if(!P){var $=!1;if(ee===0)$=!0,A="No value argument passed to `assert.ok()`";else if(A instanceof Error)throw A;var te=new f({actual:P,expected:!0,message:A,operator:"==",stackStartFn:Z});throw te.generatedMessage=$,te}}function O(){for(var Z=arguments.length,ee=new Array(Z),P=0;P<Z;P++)ee[P]=arguments[P];j.apply(void 0,[O,ee.length].concat(ee))}D.ok=O,D.equal=function Z(ee,P,A){if(arguments.length<2)throw new u("actual","expected");ee!=P&&N({actual:ee,expected:P,message:A,operator:"==",stackStartFn:Z})},D.notEqual=function Z(ee,P,A){if(arguments.length<2)throw new u("actual","expected");ee==P&&N({actual:ee,expected:P,message:A,operator:"!=",stackStartFn:Z})},D.deepEqual=function Z(ee,P,A){if(arguments.length<2)throw new u("actual","expected");g===void 0&&T(),g(ee,P)||N({actual:ee,expected:P,message:A,operator:"deepEqual",stackStartFn:Z})},D.notDeepEqual=function Z(ee,P,A){if(arguments.length<2)throw new u("actual","expected");g===void 0&&T(),g(ee,P)&&N({actual:ee,expected:P,message:A,operator:"notDeepEqual",stackStartFn:Z})},D.deepStrictEqual=function Z(ee,P,A){if(arguments.length<2)throw new u("actual","expected");g===void 0&&T(),E(ee,P)||N({actual:ee,expected:P,message:A,operator:"deepStrictEqual",stackStartFn:Z})},D.notDeepStrictEqual=q;function q(Z,ee,P){if(arguments.length<2)throw new u("actual","expected");g===void 0&&T(),E(Z,ee)&&N({actual:Z,expected:ee,message:P,operator:"notDeepStrictEqual",stackStartFn:q})}D.strictEqual=function Z(ee,P,A){if(arguments.length<2)throw new u("actual","expected");y(ee,P)||N({actual:ee,expected:P,message:A,operator:"strictEqual",stackStartFn:Z})},D.notStrictEqual=function Z(ee,P,A){if(arguments.length<2)throw new u("actual","expected");y(ee,P)&&N({actual:ee,expected:P,message:A,operator:"notStrictEqual",stackStartFn:Z})};var Q=t(function Z(ee,P,A){var $=this;r(this,Z),P.forEach(function(te){te in ee&&(A!==void 0&&typeof A[te]=="string"&&v(ee[te])&&m(ee[te],A[te])?$[te]=A[te]:$[te]=ee[te])})});function ie(Z,ee,P,A,$,te){if(!(P in Z)||!E(Z[P],ee[P])){if(!A){var pe=new Q(Z,$),R=new Q(ee,$,Z),w=new f({actual:pe,expected:R,operator:"deepStrictEqual",stackStartFn:te});throw w.actual=Z,w.expected=ee,w.operator=te.name,w}N({actual:Z,expected:ee,message:A,operator:te.name,stackStartFn:te})}}function X(Z,ee,P,A){if(typeof ee!="function"){if(v(ee))return m(ee,Z);if(arguments.length===2)throw new o("expected",["Function","RegExp"],ee);if(e(Z)!=="object"||Z===null){var $=new f({actual:Z,expected:ee,message:P,operator:"deepStrictEqual",stackStartFn:A});throw $.operator=A.name,$}var te=Object.keys(ee);if(ee instanceof Error)te.push("name","message");else if(te.length===0)throw new s("error",ee,"may not be an empty object");return g===void 0&&T(),te.forEach(function(pe){typeof Z[pe]=="string"&&v(ee[pe])&&m(ee[pe],Z[pe])||ie(Z,ee,pe,P,te,A)}),!0}return ee.prototype!==void 0&&Z instanceof ee?!0:Error.isPrototypeOf(ee)?!1:ee.call({},Z)===!0}function le(Z){if(typeof Z!="function")throw new o("fn","Function",Z);try{Z()}catch(ee){return ee}return B}function ae(Z){return b(Z)||Z!==null&&e(Z)==="object"&&typeof Z.then=="function"&&typeof Z.catch=="function"}function ne(Z){return Promise.resolve().then(function(){var ee;if(typeof Z=="function"){if(ee=Z(),!ae(ee))throw new l("instance of Promise","promiseFn",ee)}else if(ae(Z))ee=Z;else throw new o("promiseFn",["Function","Promise"],Z);return Promise.resolve().then(function(){return ee}).then(function(){return B}).catch(function(P){return P})})}function V(Z,ee,P,A){if(typeof P=="string"){if(arguments.length===4)throw new o("error",["Object","Error","Function","RegExp"],P);if(e(ee)==="object"&&ee!==null){if(ee.message===P)throw new a("error/message",'The error message "'.concat(ee.message,'" is identical to the message.'))}else if(ee===P)throw new a("error/message",'The error "'.concat(ee,'" is identical to the message.'));A=P,P=void 0}else if(P!=null&&e(P)!=="object"&&typeof P!="function")throw new o("error",["Object","Error","Function","RegExp"],P);if(ee===B){var $="";P&&P.name&&($+=" (".concat(P.name,")")),$+=A?": ".concat(A):".";var te=Z.name==="rejects"?"rejection":"exception";N({actual:void 0,expected:P,operator:Z.name,message:"Missing expected ".concat(te).concat($),stackStartFn:Z})}if(P&&!X(ee,P,A,Z))throw ee}function oe(Z,ee,P,A){if(ee!==B){if(typeof P=="string"&&(A=P,P=void 0),!P||X(ee,P)){var $=A?": ".concat(A):".",te=Z.name==="doesNotReject"?"rejection":"exception";N({actual:ee,expected:P,operator:Z.name,message:"Got unwanted ".concat(te).concat($,`
`)+'Actual message: "'.concat(ee&&ee.message,'"'),stackStartFn:Z})}throw ee}}D.throws=function Z(ee){for(var P=arguments.length,A=new Array(P>1?P-1:0),$=1;$<P;$++)A[$-1]=arguments[$];V.apply(void 0,[Z,le(ee)].concat(A))},D.rejects=function Z(ee){for(var P=arguments.length,A=new Array(P>1?P-1:0),$=1;$<P;$++)A[$-1]=arguments[$];return ne(ee).then(function(te){return V.apply(void 0,[Z,te].concat(A))})},D.doesNotThrow=function Z(ee){for(var P=arguments.length,A=new Array(P>1?P-1:0),$=1;$<P;$++)A[$-1]=arguments[$];oe.apply(void 0,[Z,le(ee)].concat(A))},D.doesNotReject=function Z(ee){for(var P=arguments.length,A=new Array(P>1?P-1:0),$=1;$<P;$++)A[$-1]=arguments[$];return ne(ee).then(function(te){return oe.apply(void 0,[Z,te].concat(A))})},D.ifError=function Z(ee){if(ee!=null){var P="ifError got unwanted exception: ";e(ee)==="object"&&typeof ee.message=="string"?ee.message.length===0&&ee.constructor?P+=ee.constructor.name:P+=ee.message:P+=c(ee);var A=new f({actual:ee,expected:null,operator:"ifError",message:P,stackStartFn:Z}),$=ee.stack;if(typeof $=="string"){var te=$.split(`
`);te.shift();for(var pe=A.stack.split(`
`),R=0;R<te.length;R++){var w=pe.indexOf(te[R]);if(w!==-1){pe=pe.slice(0,w);break}}A.stack="".concat(pe.join(`
`),`
`).concat(te.join(`
`))}throw A}};function he(Z,ee,P,A,$){if(!v(ee))throw new o("regexp","RegExp",ee);var te=$==="match";if(typeof Z!="string"||m(ee,Z)!==te){if(P instanceof Error)throw P;var pe=!P;P=P||(typeof Z!="string"?'The "string" argument must be of type string. Received type '+"".concat(e(Z)," (").concat(c(Z),")"):(te?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat(c(ee),`. Input:

`).concat(c(Z),`
`));var R=new f({actual:Z,expected:ee,message:P,operator:$,stackStartFn:A});throw R.generatedMessage=pe,R}}D.match=function Z(ee,P,A){he(ee,P,A,Z,"match")},D.doesNotMatch=function Z(ee,P,A){he(ee,P,A,Z,"doesNotMatch")};function Y(){for(var Z=arguments.length,ee=new Array(Z),P=0;P<Z;P++)ee[P]=arguments[P];j.apply(void 0,[Y,ee.length].concat(ee))}return D.strict=_(Y,D,{equal:D.strictEqual,deepEqual:D.deepStrictEqual,notEqual:D.notStrictEqual,notDeepEqual:D.notDeepStrictEqual}),D.strict.strict=D.strict,Wb.exports}var cv,cP;function AK(){if(cP)return cv;cP=1;function e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}return cv=e,cv}var Ci={},dv={},dP;function Dm(){return dP||(dP=1,function(e){var t=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function r(a,o){return Object.prototype.hasOwnProperty.call(a,o)}e.assign=function(a){for(var o=Array.prototype.slice.call(arguments,1);o.length;){var s=o.shift();if(s){if(typeof s!="object")throw new TypeError(s+"must be non-object");for(var l in s)r(s,l)&&(a[l]=s[l])}}return a},e.shrinkBuf=function(a,o){return a.length===o?a:a.subarray?a.subarray(0,o):(a.length=o,a)};var n={arraySet:function(a,o,s,l,u){if(o.subarray&&a.subarray){a.set(o.subarray(s,s+l),u);return}for(var f=0;f<l;f++)a[u+f]=o[s+f]},flattenChunks:function(a){var o,s,l,u,f,d;for(l=0,o=0,s=a.length;o<s;o++)l+=a[o].length;for(d=new Uint8Array(l),u=0,o=0,s=a.length;o<s;o++)f=a[o],d.set(f,u),u+=f.length;return d}},i={arraySet:function(a,o,s,l,u){for(var f=0;f<l;f++)a[u+f]=o[s+f]},flattenChunks:function(a){return[].concat.apply([],a)}};e.setTyped=function(a){a?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,n)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,i))},e.setTyped(t)}(dv)),dv}var ls={},hP;function IK(){if(hP)return ls;hP=1;var e=Dm(),t=4,r=0,n=1,i=2;function a(F){for(var K=F.length;--K>=0;)F[K]=0}var o=0,s=1,l=2,u=3,f=258,d=29,c=256,p=c+1+d,b=30,v=19,_=2*p+1,y=15,m=16,g=7,E=256,T=16,I=17,D=18,B=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],N=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],M=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],O=512,q=new Array((p+2)*2);a(q);var Q=new Array(b*2);a(Q);var ie=new Array(O);a(ie);var X=new Array(f-u+1);a(X);var le=new Array(d);a(le);var ae=new Array(b);a(ae);function ne(F,K,_e,Oe,se){this.static_tree=F,this.extra_bits=K,this.extra_base=_e,this.elems=Oe,this.max_length=se,this.has_stree=F&&F.length}var V,oe,he;function Y(F,K){this.dyn_tree=F,this.max_code=0,this.stat_desc=K}function Z(F){return F<256?ie[F]:ie[256+(F>>>7)]}function ee(F,K){F.pending_buf[F.pending++]=K&255,F.pending_buf[F.pending++]=K>>>8&255}function P(F,K,_e){F.bi_valid>m-_e?(F.bi_buf|=K<<F.bi_valid&65535,ee(F,F.bi_buf),F.bi_buf=K>>m-F.bi_valid,F.bi_valid+=_e-m):(F.bi_buf|=K<<F.bi_valid&65535,F.bi_valid+=_e)}function A(F,K,_e){P(F,_e[K*2],_e[K*2+1])}function $(F,K){var _e=0;do _e|=F&1,F>>>=1,_e<<=1;while(--K>0);return _e>>>1}function te(F){F.bi_valid===16?(ee(F,F.bi_buf),F.bi_buf=0,F.bi_valid=0):F.bi_valid>=8&&(F.pending_buf[F.pending++]=F.bi_buf&255,F.bi_buf>>=8,F.bi_valid-=8)}function pe(F,K){var _e=K.dyn_tree,Oe=K.max_code,se=K.stat_desc.static_tree,ge=K.stat_desc.has_stree,de=K.stat_desc.extra_bits,Re=K.stat_desc.extra_base,qe=K.stat_desc.max_length,H,Te,Ce,me,Me,Ve,ft=0;for(me=0;me<=y;me++)F.bl_count[me]=0;for(_e[F.heap[F.heap_max]*2+1]=0,H=F.heap_max+1;H<_;H++)Te=F.heap[H],me=_e[_e[Te*2+1]*2+1]+1,me>qe&&(me=qe,ft++),_e[Te*2+1]=me,!(Te>Oe)&&(F.bl_count[me]++,Me=0,Te>=Re&&(Me=de[Te-Re]),Ve=_e[Te*2],F.opt_len+=Ve*(me+Me),ge&&(F.static_len+=Ve*(se[Te*2+1]+Me)));if(ft!==0){do{for(me=qe-1;F.bl_count[me]===0;)me--;F.bl_count[me]--,F.bl_count[me+1]+=2,F.bl_count[qe]--,ft-=2}while(ft>0);for(me=qe;me!==0;me--)for(Te=F.bl_count[me];Te!==0;)Ce=F.heap[--H],!(Ce>Oe)&&(_e[Ce*2+1]!==me&&(F.opt_len+=(me-_e[Ce*2+1])*_e[Ce*2],_e[Ce*2+1]=me),Te--)}}function R(F,K,_e){var Oe=new Array(y+1),se=0,ge,de;for(ge=1;ge<=y;ge++)Oe[ge]=se=se+_e[ge-1]<<1;for(de=0;de<=K;de++){var Re=F[de*2+1];Re!==0&&(F[de*2]=$(Oe[Re]++,Re))}}function w(){var F,K,_e,Oe,se,ge=new Array(y+1);for(_e=0,Oe=0;Oe<d-1;Oe++)for(le[Oe]=_e,F=0;F<1<<B[Oe];F++)X[_e++]=Oe;for(X[_e-1]=Oe,se=0,Oe=0;Oe<16;Oe++)for(ae[Oe]=se,F=0;F<1<<N[Oe];F++)ie[se++]=Oe;for(se>>=7;Oe<b;Oe++)for(ae[Oe]=se<<7,F=0;F<1<<N[Oe]-7;F++)ie[256+se++]=Oe;for(K=0;K<=y;K++)ge[K]=0;for(F=0;F<=143;)q[F*2+1]=8,F++,ge[8]++;for(;F<=255;)q[F*2+1]=9,F++,ge[9]++;for(;F<=279;)q[F*2+1]=7,F++,ge[7]++;for(;F<=287;)q[F*2+1]=8,F++,ge[8]++;for(R(q,p+1,ge),F=0;F<b;F++)Q[F*2+1]=5,Q[F*2]=$(F,5);V=new ne(q,B,c+1,p,y),oe=new ne(Q,N,0,b,y),he=new ne(new Array(0),M,0,v,g)}function x(F){var K;for(K=0;K<p;K++)F.dyn_ltree[K*2]=0;for(K=0;K<b;K++)F.dyn_dtree[K*2]=0;for(K=0;K<v;K++)F.bl_tree[K*2]=0;F.dyn_ltree[E*2]=1,F.opt_len=F.static_len=0,F.last_lit=F.matches=0}function k(F){F.bi_valid>8?ee(F,F.bi_buf):F.bi_valid>0&&(F.pending_buf[F.pending++]=F.bi_buf),F.bi_buf=0,F.bi_valid=0}function U(F,K,_e,Oe){k(F),ee(F,_e),ee(F,~_e),e.arraySet(F.pending_buf,F.window,K,_e,F.pending),F.pending+=_e}function re(F,K,_e,Oe){var se=K*2,ge=_e*2;return F[se]<F[ge]||F[se]===F[ge]&&Oe[K]<=Oe[_e]}function fe(F,K,_e){for(var Oe=F.heap[_e],se=_e<<1;se<=F.heap_len&&(se<F.heap_len&&re(K,F.heap[se+1],F.heap[se],F.depth)&&se++,!re(K,Oe,F.heap[se],F.depth));)F.heap[_e]=F.heap[se],_e=se,se<<=1;F.heap[_e]=Oe}function ve(F,K,_e){var Oe,se,ge=0,de,Re;if(F.last_lit!==0)do Oe=F.pending_buf[F.d_buf+ge*2]<<8|F.pending_buf[F.d_buf+ge*2+1],se=F.pending_buf[F.l_buf+ge],ge++,Oe===0?A(F,se,K):(de=X[se],A(F,de+c+1,K),Re=B[de],Re!==0&&(se-=le[de],P(F,se,Re)),Oe--,de=Z(Oe),A(F,de,_e),Re=N[de],Re!==0&&(Oe-=ae[de],P(F,Oe,Re)));while(ge<F.last_lit);A(F,E,K)}function ce(F,K){var _e=K.dyn_tree,Oe=K.stat_desc.static_tree,se=K.stat_desc.has_stree,ge=K.stat_desc.elems,de,Re,qe=-1,H;for(F.heap_len=0,F.heap_max=_,de=0;de<ge;de++)_e[de*2]!==0?(F.heap[++F.heap_len]=qe=de,F.depth[de]=0):_e[de*2+1]=0;for(;F.heap_len<2;)H=F.heap[++F.heap_len]=qe<2?++qe:0,_e[H*2]=1,F.depth[H]=0,F.opt_len--,se&&(F.static_len-=Oe[H*2+1]);for(K.max_code=qe,de=F.heap_len>>1;de>=1;de--)fe(F,_e,de);H=ge;do de=F.heap[1],F.heap[1]=F.heap[F.heap_len--],fe(F,_e,1),Re=F.heap[1],F.heap[--F.heap_max]=de,F.heap[--F.heap_max]=Re,_e[H*2]=_e[de*2]+_e[Re*2],F.depth[H]=(F.depth[de]>=F.depth[Re]?F.depth[de]:F.depth[Re])+1,_e[de*2+1]=_e[Re*2+1]=H,F.heap[1]=H++,fe(F,_e,1);while(F.heap_len>=2);F.heap[--F.heap_max]=F.heap[1],pe(F,K),R(_e,qe,F.bl_count)}function Ie(F,K,_e){var Oe,se=-1,ge,de=K[0*2+1],Re=0,qe=7,H=4;for(de===0&&(qe=138,H=3),K[(_e+1)*2+1]=65535,Oe=0;Oe<=_e;Oe++)ge=de,de=K[(Oe+1)*2+1],!(++Re<qe&&ge===de)&&(Re<H?F.bl_tree[ge*2]+=Re:ge!==0?(ge!==se&&F.bl_tree[ge*2]++,F.bl_tree[T*2]++):Re<=10?F.bl_tree[I*2]++:F.bl_tree[D*2]++,Re=0,se=ge,de===0?(qe=138,H=3):ge===de?(qe=6,H=3):(qe=7,H=4))}function be(F,K,_e){var Oe,se=-1,ge,de=K[0*2+1],Re=0,qe=7,H=4;for(de===0&&(qe=138,H=3),Oe=0;Oe<=_e;Oe++)if(ge=de,de=K[(Oe+1)*2+1],!(++Re<qe&&ge===de)){if(Re<H)do A(F,ge,F.bl_tree);while(--Re!==0);else ge!==0?(ge!==se&&(A(F,ge,F.bl_tree),Re--),A(F,T,F.bl_tree),P(F,Re-3,2)):Re<=10?(A(F,I,F.bl_tree),P(F,Re-3,3)):(A(F,D,F.bl_tree),P(F,Re-11,7));Re=0,se=ge,de===0?(qe=138,H=3):ge===de?(qe=6,H=3):(qe=7,H=4)}}function xe(F){var K;for(Ie(F,F.dyn_ltree,F.l_desc.max_code),Ie(F,F.dyn_dtree,F.d_desc.max_code),ce(F,F.bl_desc),K=v-1;K>=3&&F.bl_tree[j[K]*2+1]===0;K--);return F.opt_len+=3*(K+1)+5+5+4,K}function je(F,K,_e,Oe){var se;for(P(F,K-257,5),P(F,_e-1,5),P(F,Oe-4,4),se=0;se<Oe;se++)P(F,F.bl_tree[j[se]*2+1],3);be(F,F.dyn_ltree,K-1),be(F,F.dyn_dtree,_e-1)}function Ae(F){var K=4093624447,_e;for(_e=0;_e<=31;_e++,K>>>=1)if(K&1&&F.dyn_ltree[_e*2]!==0)return r;if(F.dyn_ltree[9*2]!==0||F.dyn_ltree[10*2]!==0||F.dyn_ltree[13*2]!==0)return n;for(_e=32;_e<c;_e++)if(F.dyn_ltree[_e*2]!==0)return n;return r}var Pe=!1;function ke(F){Pe||(w(),Pe=!0),F.l_desc=new Y(F.dyn_ltree,V),F.d_desc=new Y(F.dyn_dtree,oe),F.bl_desc=new Y(F.bl_tree,he),F.bi_buf=0,F.bi_valid=0,x(F)}function Ze(F,K,_e,Oe){P(F,(o<<1)+(Oe?1:0),3),U(F,K,_e)}function Ue(F){P(F,s<<1,3),A(F,E,q),te(F)}function it(F,K,_e,Oe){var se,ge,de=0;F.level>0?(F.strm.data_type===i&&(F.strm.data_type=Ae(F)),ce(F,F.l_desc),ce(F,F.d_desc),de=xe(F),se=F.opt_len+3+7>>>3,ge=F.static_len+3+7>>>3,ge<=se&&(se=ge)):se=ge=_e+5,_e+4<=se&&K!==-1?Ze(F,K,_e,Oe):F.strategy===t||ge===se?(P(F,(s<<1)+(Oe?1:0),3),ve(F,q,Q)):(P(F,(l<<1)+(Oe?1:0),3),je(F,F.l_desc.max_code+1,F.d_desc.max_code+1,de+1),ve(F,F.dyn_ltree,F.dyn_dtree)),x(F),Oe&&k(F)}function ye(F,K,_e){return F.pending_buf[F.d_buf+F.last_lit*2]=K>>>8&255,F.pending_buf[F.d_buf+F.last_lit*2+1]=K&255,F.pending_buf[F.l_buf+F.last_lit]=_e&255,F.last_lit++,K===0?F.dyn_ltree[_e*2]++:(F.matches++,K--,F.dyn_ltree[(X[_e]+c+1)*2]++,F.dyn_dtree[Z(K)*2]++),F.last_lit===F.lit_bufsize-1}return ls._tr_init=ke,ls._tr_stored_block=Ze,ls._tr_flush_block=it,ls._tr_tally=ye,ls._tr_align=Ue,ls}var hv,pP;function Sj(){if(pP)return hv;pP=1;function e(t,r,n,i){for(var a=t&65535|0,o=t>>>16&65535|0,s=0;n!==0;){s=n>2e3?2e3:n,n-=s;do a=a+r[i++]|0,o=o+a|0;while(--s);a%=65521,o%=65521}return a|o<<16|0}return hv=e,hv}var pv,mP;function xj(){if(mP)return pv;mP=1;function e(){for(var n,i=[],a=0;a<256;a++){n=a;for(var o=0;o<8;o++)n=n&1?3988292384^n>>>1:n>>>1;i[a]=n}return i}var t=e();function r(n,i,a,o){var s=t,l=o+a;n^=-1;for(var u=o;u<l;u++)n=n>>>8^s[(n^i[u])&255];return n^-1}return pv=r,pv}var mv,yP;function OK(){return yP||(yP=1,mv={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}),mv}var gP;function PK(){if(gP)return Ci;gP=1;var e=Dm(),t=IK(),r=Sj(),n=xj(),i=OK(),a=0,o=1,s=3,l=4,u=5,f=0,d=1,c=-2,p=-3,b=-5,v=-1,_=1,y=2,m=3,g=4,E=0,T=2,I=8,D=9,B=15,N=8,M=29,j=256,O=j+1+M,q=30,Q=19,ie=2*O+1,X=15,le=3,ae=258,ne=ae+le+1,V=32,oe=42,he=69,Y=73,Z=91,ee=103,P=113,A=666,$=1,te=2,pe=3,R=4,w=3;function x(H,Te){return H.msg=i[Te],Te}function k(H){return(H<<1)-(H>4?9:0)}function U(H){for(var Te=H.length;--Te>=0;)H[Te]=0}function re(H){var Te=H.state,Ce=Te.pending;Ce>H.avail_out&&(Ce=H.avail_out),Ce!==0&&(e.arraySet(H.output,Te.pending_buf,Te.pending_out,Ce,H.next_out),H.next_out+=Ce,Te.pending_out+=Ce,H.total_out+=Ce,H.avail_out-=Ce,Te.pending-=Ce,Te.pending===0&&(Te.pending_out=0))}function fe(H,Te){t._tr_flush_block(H,H.block_start>=0?H.block_start:-1,H.strstart-H.block_start,Te),H.block_start=H.strstart,re(H.strm)}function ve(H,Te){H.pending_buf[H.pending++]=Te}function ce(H,Te){H.pending_buf[H.pending++]=Te>>>8&255,H.pending_buf[H.pending++]=Te&255}function Ie(H,Te,Ce,me){var Me=H.avail_in;return Me>me&&(Me=me),Me===0?0:(H.avail_in-=Me,e.arraySet(Te,H.input,H.next_in,Me,Ce),H.state.wrap===1?H.adler=r(H.adler,Te,Me,Ce):H.state.wrap===2&&(H.adler=n(H.adler,Te,Me,Ce)),H.next_in+=Me,H.total_in+=Me,Me)}function be(H,Te){var Ce=H.max_chain_length,me=H.strstart,Me,Ve,ft=H.prev_length,we=H.nice_match,G=H.strstart>H.w_size-ne?H.strstart-(H.w_size-ne):0,W=H.window,J=H.w_mask,Ee=H.prev,Le=H.strstart+ae,Ne=W[me+ft-1],He=W[me+ft];H.prev_length>=H.good_match&&(Ce>>=2),we>H.lookahead&&(we=H.lookahead);do if(Me=Te,!(W[Me+ft]!==He||W[Me+ft-1]!==Ne||W[Me]!==W[me]||W[++Me]!==W[me+1])){me+=2,Me++;do;while(W[++me]===W[++Me]&&W[++me]===W[++Me]&&W[++me]===W[++Me]&&W[++me]===W[++Me]&&W[++me]===W[++Me]&&W[++me]===W[++Me]&&W[++me]===W[++Me]&&W[++me]===W[++Me]&&me<Le);if(Ve=ae-(Le-me),me=Le-ae,Ve>ft){if(H.match_start=Te,ft=Ve,Ve>=we)break;Ne=W[me+ft-1],He=W[me+ft]}}while((Te=Ee[Te&J])>G&&--Ce!==0);return ft<=H.lookahead?ft:H.lookahead}function xe(H){var Te=H.w_size,Ce,me,Me,Ve,ft;do{if(Ve=H.window_size-H.lookahead-H.strstart,H.strstart>=Te+(Te-ne)){e.arraySet(H.window,H.window,Te,Te,0),H.match_start-=Te,H.strstart-=Te,H.block_start-=Te,me=H.hash_size,Ce=me;do Me=H.head[--Ce],H.head[Ce]=Me>=Te?Me-Te:0;while(--me);me=Te,Ce=me;do Me=H.prev[--Ce],H.prev[Ce]=Me>=Te?Me-Te:0;while(--me);Ve+=Te}if(H.strm.avail_in===0)break;if(me=Ie(H.strm,H.window,H.strstart+H.lookahead,Ve),H.lookahead+=me,H.lookahead+H.insert>=le)for(ft=H.strstart-H.insert,H.ins_h=H.window[ft],H.ins_h=(H.ins_h<<H.hash_shift^H.window[ft+1])&H.hash_mask;H.insert&&(H.ins_h=(H.ins_h<<H.hash_shift^H.window[ft+le-1])&H.hash_mask,H.prev[ft&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=ft,ft++,H.insert--,!(H.lookahead+H.insert<le)););}while(H.lookahead<ne&&H.strm.avail_in!==0)}function je(H,Te){var Ce=65535;for(Ce>H.pending_buf_size-5&&(Ce=H.pending_buf_size-5);;){if(H.lookahead<=1){if(xe(H),H.lookahead===0&&Te===a)return $;if(H.lookahead===0)break}H.strstart+=H.lookahead,H.lookahead=0;var me=H.block_start+Ce;if((H.strstart===0||H.strstart>=me)&&(H.lookahead=H.strstart-me,H.strstart=me,fe(H,!1),H.strm.avail_out===0)||H.strstart-H.block_start>=H.w_size-ne&&(fe(H,!1),H.strm.avail_out===0))return $}return H.insert=0,Te===l?(fe(H,!0),H.strm.avail_out===0?pe:R):(H.strstart>H.block_start&&(fe(H,!1),H.strm.avail_out===0),$)}function Ae(H,Te){for(var Ce,me;;){if(H.lookahead<ne){if(xe(H),H.lookahead<ne&&Te===a)return $;if(H.lookahead===0)break}if(Ce=0,H.lookahead>=le&&(H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+le-1])&H.hash_mask,Ce=H.prev[H.strstart&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=H.strstart),Ce!==0&&H.strstart-Ce<=H.w_size-ne&&(H.match_length=be(H,Ce)),H.match_length>=le)if(me=t._tr_tally(H,H.strstart-H.match_start,H.match_length-le),H.lookahead-=H.match_length,H.match_length<=H.max_lazy_match&&H.lookahead>=le){H.match_length--;do H.strstart++,H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+le-1])&H.hash_mask,Ce=H.prev[H.strstart&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=H.strstart;while(--H.match_length!==0);H.strstart++}else H.strstart+=H.match_length,H.match_length=0,H.ins_h=H.window[H.strstart],H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+1])&H.hash_mask;else me=t._tr_tally(H,0,H.window[H.strstart]),H.lookahead--,H.strstart++;if(me&&(fe(H,!1),H.strm.avail_out===0))return $}return H.insert=H.strstart<le-1?H.strstart:le-1,Te===l?(fe(H,!0),H.strm.avail_out===0?pe:R):H.last_lit&&(fe(H,!1),H.strm.avail_out===0)?$:te}function Pe(H,Te){for(var Ce,me,Me;;){if(H.lookahead<ne){if(xe(H),H.lookahead<ne&&Te===a)return $;if(H.lookahead===0)break}if(Ce=0,H.lookahead>=le&&(H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+le-1])&H.hash_mask,Ce=H.prev[H.strstart&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=H.strstart),H.prev_length=H.match_length,H.prev_match=H.match_start,H.match_length=le-1,Ce!==0&&H.prev_length<H.max_lazy_match&&H.strstart-Ce<=H.w_size-ne&&(H.match_length=be(H,Ce),H.match_length<=5&&(H.strategy===_||H.match_length===le&&H.strstart-H.match_start>4096)&&(H.match_length=le-1)),H.prev_length>=le&&H.match_length<=H.prev_length){Me=H.strstart+H.lookahead-le,me=t._tr_tally(H,H.strstart-1-H.prev_match,H.prev_length-le),H.lookahead-=H.prev_length-1,H.prev_length-=2;do++H.strstart<=Me&&(H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+le-1])&H.hash_mask,Ce=H.prev[H.strstart&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=H.strstart);while(--H.prev_length!==0);if(H.match_available=0,H.match_length=le-1,H.strstart++,me&&(fe(H,!1),H.strm.avail_out===0))return $}else if(H.match_available){if(me=t._tr_tally(H,0,H.window[H.strstart-1]),me&&fe(H,!1),H.strstart++,H.lookahead--,H.strm.avail_out===0)return $}else H.match_available=1,H.strstart++,H.lookahead--}return H.match_available&&(me=t._tr_tally(H,0,H.window[H.strstart-1]),H.match_available=0),H.insert=H.strstart<le-1?H.strstart:le-1,Te===l?(fe(H,!0),H.strm.avail_out===0?pe:R):H.last_lit&&(fe(H,!1),H.strm.avail_out===0)?$:te}function ke(H,Te){for(var Ce,me,Me,Ve,ft=H.window;;){if(H.lookahead<=ae){if(xe(H),H.lookahead<=ae&&Te===a)return $;if(H.lookahead===0)break}if(H.match_length=0,H.lookahead>=le&&H.strstart>0&&(Me=H.strstart-1,me=ft[Me],me===ft[++Me]&&me===ft[++Me]&&me===ft[++Me])){Ve=H.strstart+ae;do;while(me===ft[++Me]&&me===ft[++Me]&&me===ft[++Me]&&me===ft[++Me]&&me===ft[++Me]&&me===ft[++Me]&&me===ft[++Me]&&me===ft[++Me]&&Me<Ve);H.match_length=ae-(Ve-Me),H.match_length>H.lookahead&&(H.match_length=H.lookahead)}if(H.match_length>=le?(Ce=t._tr_tally(H,1,H.match_length-le),H.lookahead-=H.match_length,H.strstart+=H.match_length,H.match_length=0):(Ce=t._tr_tally(H,0,H.window[H.strstart]),H.lookahead--,H.strstart++),Ce&&(fe(H,!1),H.strm.avail_out===0))return $}return H.insert=0,Te===l?(fe(H,!0),H.strm.avail_out===0?pe:R):H.last_lit&&(fe(H,!1),H.strm.avail_out===0)?$:te}function Ze(H,Te){for(var Ce;;){if(H.lookahead===0&&(xe(H),H.lookahead===0)){if(Te===a)return $;break}if(H.match_length=0,Ce=t._tr_tally(H,0,H.window[H.strstart]),H.lookahead--,H.strstart++,Ce&&(fe(H,!1),H.strm.avail_out===0))return $}return H.insert=0,Te===l?(fe(H,!0),H.strm.avail_out===0?pe:R):H.last_lit&&(fe(H,!1),H.strm.avail_out===0)?$:te}function Ue(H,Te,Ce,me,Me){this.good_length=H,this.max_lazy=Te,this.nice_length=Ce,this.max_chain=me,this.func=Me}var it;it=[new Ue(0,0,0,0,je),new Ue(4,4,8,4,Ae),new Ue(4,5,16,8,Ae),new Ue(4,6,32,32,Ae),new Ue(4,4,16,16,Pe),new Ue(8,16,32,32,Pe),new Ue(8,16,128,128,Pe),new Ue(8,32,128,256,Pe),new Ue(32,128,258,1024,Pe),new Ue(32,258,258,4096,Pe)];function ye(H){H.window_size=2*H.w_size,U(H.head),H.max_lazy_match=it[H.level].max_lazy,H.good_match=it[H.level].good_length,H.nice_match=it[H.level].nice_length,H.max_chain_length=it[H.level].max_chain,H.strstart=0,H.block_start=0,H.lookahead=0,H.insert=0,H.match_length=H.prev_length=le-1,H.match_available=0,H.ins_h=0}function F(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=I,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new e.Buf16(ie*2),this.dyn_dtree=new e.Buf16((2*q+1)*2),this.bl_tree=new e.Buf16((2*Q+1)*2),U(this.dyn_ltree),U(this.dyn_dtree),U(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new e.Buf16(X+1),this.heap=new e.Buf16(2*O+1),U(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new e.Buf16(2*O+1),U(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function K(H){var Te;return!H||!H.state?x(H,c):(H.total_in=H.total_out=0,H.data_type=T,Te=H.state,Te.pending=0,Te.pending_out=0,Te.wrap<0&&(Te.wrap=-Te.wrap),Te.status=Te.wrap?oe:P,H.adler=Te.wrap===2?0:1,Te.last_flush=a,t._tr_init(Te),f)}function _e(H){var Te=K(H);return Te===f&&ye(H.state),Te}function Oe(H,Te){return!H||!H.state||H.state.wrap!==2?c:(H.state.gzhead=Te,f)}function se(H,Te,Ce,me,Me,Ve){if(!H)return c;var ft=1;if(Te===v&&(Te=6),me<0?(ft=0,me=-me):me>15&&(ft=2,me-=16),Me<1||Me>D||Ce!==I||me<8||me>15||Te<0||Te>9||Ve<0||Ve>g)return x(H,c);me===8&&(me=9);var we=new F;return H.state=we,we.strm=H,we.wrap=ft,we.gzhead=null,we.w_bits=me,we.w_size=1<<we.w_bits,we.w_mask=we.w_size-1,we.hash_bits=Me+7,we.hash_size=1<<we.hash_bits,we.hash_mask=we.hash_size-1,we.hash_shift=~~((we.hash_bits+le-1)/le),we.window=new e.Buf8(we.w_size*2),we.head=new e.Buf16(we.hash_size),we.prev=new e.Buf16(we.w_size),we.lit_bufsize=1<<Me+6,we.pending_buf_size=we.lit_bufsize*4,we.pending_buf=new e.Buf8(we.pending_buf_size),we.d_buf=1*we.lit_bufsize,we.l_buf=3*we.lit_bufsize,we.level=Te,we.strategy=Ve,we.method=Ce,_e(H)}function ge(H,Te){return se(H,Te,I,B,N,E)}function de(H,Te){var Ce,me,Me,Ve;if(!H||!H.state||Te>u||Te<0)return H?x(H,c):c;if(me=H.state,!H.output||!H.input&&H.avail_in!==0||me.status===A&&Te!==l)return x(H,H.avail_out===0?b:c);if(me.strm=H,Ce=me.last_flush,me.last_flush=Te,me.status===oe)if(me.wrap===2)H.adler=0,ve(me,31),ve(me,139),ve(me,8),me.gzhead?(ve(me,(me.gzhead.text?1:0)+(me.gzhead.hcrc?2:0)+(me.gzhead.extra?4:0)+(me.gzhead.name?8:0)+(me.gzhead.comment?16:0)),ve(me,me.gzhead.time&255),ve(me,me.gzhead.time>>8&255),ve(me,me.gzhead.time>>16&255),ve(me,me.gzhead.time>>24&255),ve(me,me.level===9?2:me.strategy>=y||me.level<2?4:0),ve(me,me.gzhead.os&255),me.gzhead.extra&&me.gzhead.extra.length&&(ve(me,me.gzhead.extra.length&255),ve(me,me.gzhead.extra.length>>8&255)),me.gzhead.hcrc&&(H.adler=n(H.adler,me.pending_buf,me.pending,0)),me.gzindex=0,me.status=he):(ve(me,0),ve(me,0),ve(me,0),ve(me,0),ve(me,0),ve(me,me.level===9?2:me.strategy>=y||me.level<2?4:0),ve(me,w),me.status=P);else{var ft=I+(me.w_bits-8<<4)<<8,we=-1;me.strategy>=y||me.level<2?we=0:me.level<6?we=1:me.level===6?we=2:we=3,ft|=we<<6,me.strstart!==0&&(ft|=V),ft+=31-ft%31,me.status=P,ce(me,ft),me.strstart!==0&&(ce(me,H.adler>>>16),ce(me,H.adler&65535)),H.adler=1}if(me.status===he)if(me.gzhead.extra){for(Me=me.pending;me.gzindex<(me.gzhead.extra.length&65535)&&!(me.pending===me.pending_buf_size&&(me.gzhead.hcrc&&me.pending>Me&&(H.adler=n(H.adler,me.pending_buf,me.pending-Me,Me)),re(H),Me=me.pending,me.pending===me.pending_buf_size));)ve(me,me.gzhead.extra[me.gzindex]&255),me.gzindex++;me.gzhead.hcrc&&me.pending>Me&&(H.adler=n(H.adler,me.pending_buf,me.pending-Me,Me)),me.gzindex===me.gzhead.extra.length&&(me.gzindex=0,me.status=Y)}else me.status=Y;if(me.status===Y)if(me.gzhead.name){Me=me.pending;do{if(me.pending===me.pending_buf_size&&(me.gzhead.hcrc&&me.pending>Me&&(H.adler=n(H.adler,me.pending_buf,me.pending-Me,Me)),re(H),Me=me.pending,me.pending===me.pending_buf_size)){Ve=1;break}me.gzindex<me.gzhead.name.length?Ve=me.gzhead.name.charCodeAt(me.gzindex++)&255:Ve=0,ve(me,Ve)}while(Ve!==0);me.gzhead.hcrc&&me.pending>Me&&(H.adler=n(H.adler,me.pending_buf,me.pending-Me,Me)),Ve===0&&(me.gzindex=0,me.status=Z)}else me.status=Z;if(me.status===Z)if(me.gzhead.comment){Me=me.pending;do{if(me.pending===me.pending_buf_size&&(me.gzhead.hcrc&&me.pending>Me&&(H.adler=n(H.adler,me.pending_buf,me.pending-Me,Me)),re(H),Me=me.pending,me.pending===me.pending_buf_size)){Ve=1;break}me.gzindex<me.gzhead.comment.length?Ve=me.gzhead.comment.charCodeAt(me.gzindex++)&255:Ve=0,ve(me,Ve)}while(Ve!==0);me.gzhead.hcrc&&me.pending>Me&&(H.adler=n(H.adler,me.pending_buf,me.pending-Me,Me)),Ve===0&&(me.status=ee)}else me.status=ee;if(me.status===ee&&(me.gzhead.hcrc?(me.pending+2>me.pending_buf_size&&re(H),me.pending+2<=me.pending_buf_size&&(ve(me,H.adler&255),ve(me,H.adler>>8&255),H.adler=0,me.status=P)):me.status=P),me.pending!==0){if(re(H),H.avail_out===0)return me.last_flush=-1,f}else if(H.avail_in===0&&k(Te)<=k(Ce)&&Te!==l)return x(H,b);if(me.status===A&&H.avail_in!==0)return x(H,b);if(H.avail_in!==0||me.lookahead!==0||Te!==a&&me.status!==A){var G=me.strategy===y?Ze(me,Te):me.strategy===m?ke(me,Te):it[me.level].func(me,Te);if((G===pe||G===R)&&(me.status=A),G===$||G===pe)return H.avail_out===0&&(me.last_flush=-1),f;if(G===te&&(Te===o?t._tr_align(me):Te!==u&&(t._tr_stored_block(me,0,0,!1),Te===s&&(U(me.head),me.lookahead===0&&(me.strstart=0,me.block_start=0,me.insert=0))),re(H),H.avail_out===0))return me.last_flush=-1,f}return Te!==l?f:me.wrap<=0?d:(me.wrap===2?(ve(me,H.adler&255),ve(me,H.adler>>8&255),ve(me,H.adler>>16&255),ve(me,H.adler>>24&255),ve(me,H.total_in&255),ve(me,H.total_in>>8&255),ve(me,H.total_in>>16&255),ve(me,H.total_in>>24&255)):(ce(me,H.adler>>>16),ce(me,H.adler&65535)),re(H),me.wrap>0&&(me.wrap=-me.wrap),me.pending!==0?f:d)}function Re(H){var Te;return!H||!H.state?c:(Te=H.state.status,Te!==oe&&Te!==he&&Te!==Y&&Te!==Z&&Te!==ee&&Te!==P&&Te!==A?x(H,c):(H.state=null,Te===P?x(H,p):f))}function qe(H,Te){var Ce=Te.length,me,Me,Ve,ft,we,G,W,J;if(!H||!H.state||(me=H.state,ft=me.wrap,ft===2||ft===1&&me.status!==oe||me.lookahead))return c;for(ft===1&&(H.adler=r(H.adler,Te,Ce,0)),me.wrap=0,Ce>=me.w_size&&(ft===0&&(U(me.head),me.strstart=0,me.block_start=0,me.insert=0),J=new e.Buf8(me.w_size),e.arraySet(J,Te,Ce-me.w_size,me.w_size,0),Te=J,Ce=me.w_size),we=H.avail_in,G=H.next_in,W=H.input,H.avail_in=Ce,H.next_in=0,H.input=Te,xe(me);me.lookahead>=le;){Me=me.strstart,Ve=me.lookahead-(le-1);do me.ins_h=(me.ins_h<<me.hash_shift^me.window[Me+le-1])&me.hash_mask,me.prev[Me&me.w_mask]=me.head[me.ins_h],me.head[me.ins_h]=Me,Me++;while(--Ve);me.strstart=Me,me.lookahead=le-1,xe(me)}return me.strstart+=me.lookahead,me.block_start=me.strstart,me.insert=me.lookahead,me.lookahead=0,me.match_length=me.prev_length=le-1,me.match_available=0,H.next_in=G,H.input=W,H.avail_in=we,me.wrap=ft,f}return Ci.deflateInit=ge,Ci.deflateInit2=se,Ci.deflateReset=_e,Ci.deflateResetKeep=K,Ci.deflateSetHeader=Oe,Ci.deflate=de,Ci.deflateEnd=Re,Ci.deflateSetDictionary=qe,Ci.deflateInfo="pako deflate (from Nodeca project)",Ci}var di={},yv,_P;function DK(){if(_P)return yv;_P=1;var e=30,t=12;return yv=function(n,i){var a,o,s,l,u,f,d,c,p,b,v,_,y,m,g,E,T,I,D,B,N,M,j,O,q;a=n.state,o=n.next_in,O=n.input,s=o+(n.avail_in-5),l=n.next_out,q=n.output,u=l-(i-n.avail_out),f=l+(n.avail_out-257),d=a.dmax,c=a.wsize,p=a.whave,b=a.wnext,v=a.window,_=a.hold,y=a.bits,m=a.lencode,g=a.distcode,E=(1<<a.lenbits)-1,T=(1<<a.distbits)-1;e:do{y<15&&(_+=O[o++]<<y,y+=8,_+=O[o++]<<y,y+=8),I=m[_&E];t:for(;;){if(D=I>>>24,_>>>=D,y-=D,D=I>>>16&255,D===0)q[l++]=I&65535;else if(D&16){B=I&65535,D&=15,D&&(y<D&&(_+=O[o++]<<y,y+=8),B+=_&(1<<D)-1,_>>>=D,y-=D),y<15&&(_+=O[o++]<<y,y+=8,_+=O[o++]<<y,y+=8),I=g[_&T];r:for(;;){if(D=I>>>24,_>>>=D,y-=D,D=I>>>16&255,D&16){if(N=I&65535,D&=15,y<D&&(_+=O[o++]<<y,y+=8,y<D&&(_+=O[o++]<<y,y+=8)),N+=_&(1<<D)-1,N>d){n.msg="invalid distance too far back",a.mode=e;break e}if(_>>>=D,y-=D,D=l-u,N>D){if(D=N-D,D>p&&a.sane){n.msg="invalid distance too far back",a.mode=e;break e}if(M=0,j=v,b===0){if(M+=c-D,D<B){B-=D;do q[l++]=v[M++];while(--D);M=l-N,j=q}}else if(b<D){if(M+=c+b-D,D-=b,D<B){B-=D;do q[l++]=v[M++];while(--D);if(M=0,b<B){D=b,B-=D;do q[l++]=v[M++];while(--D);M=l-N,j=q}}}else if(M+=b-D,D<B){B-=D;do q[l++]=v[M++];while(--D);M=l-N,j=q}for(;B>2;)q[l++]=j[M++],q[l++]=j[M++],q[l++]=j[M++],B-=3;B&&(q[l++]=j[M++],B>1&&(q[l++]=j[M++]))}else{M=l-N;do q[l++]=q[M++],q[l++]=q[M++],q[l++]=q[M++],B-=3;while(B>2);B&&(q[l++]=q[M++],B>1&&(q[l++]=q[M++]))}}else if(D&64){n.msg="invalid distance code",a.mode=e;break e}else{I=g[(I&65535)+(_&(1<<D)-1)];continue r}break}}else if(D&64)if(D&32){a.mode=t;break e}else{n.msg="invalid literal/length code",a.mode=e;break e}else{I=m[(I&65535)+(_&(1<<D)-1)];continue t}break}}while(o<s&&l<f);B=y>>3,o-=B,y-=B<<3,_&=(1<<y)-1,n.next_in=o,n.next_out=l,n.avail_in=o<s?5+(s-o):5-(o-s),n.avail_out=l<f?257+(f-l):257-(l-f),a.hold=_,a.bits=y},yv}var gv,bP;function NK(){if(bP)return gv;bP=1;var e=Dm(),t=15,r=852,n=592,i=0,a=1,o=2,s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];return gv=function(c,p,b,v,_,y,m,g){var E=g.bits,T=0,I=0,D=0,B=0,N=0,M=0,j=0,O=0,q=0,Q=0,ie,X,le,ae,ne,V=null,oe=0,he,Y=new e.Buf16(t+1),Z=new e.Buf16(t+1),ee=null,P=0,A,$,te;for(T=0;T<=t;T++)Y[T]=0;for(I=0;I<v;I++)Y[p[b+I]]++;for(N=E,B=t;B>=1&&Y[B]===0;B--);if(N>B&&(N=B),B===0)return _[y++]=1<<24|64<<16|0,_[y++]=1<<24|64<<16|0,g.bits=1,0;for(D=1;D<B&&Y[D]===0;D++);for(N<D&&(N=D),O=1,T=1;T<=t;T++)if(O<<=1,O-=Y[T],O<0)return-1;if(O>0&&(c===i||B!==1))return-1;for(Z[1]=0,T=1;T<t;T++)Z[T+1]=Z[T]+Y[T];for(I=0;I<v;I++)p[b+I]!==0&&(m[Z[p[b+I]]++]=I);if(c===i?(V=ee=m,he=19):c===a?(V=s,oe-=257,ee=l,P-=257,he=256):(V=u,ee=f,he=-1),Q=0,I=0,T=D,ne=y,M=N,j=0,le=-1,q=1<<N,ae=q-1,c===a&&q>r||c===o&&q>n)return 1;for(;;){A=T-j,m[I]<he?($=0,te=m[I]):m[I]>he?($=ee[P+m[I]],te=V[oe+m[I]]):($=96,te=0),ie=1<<T-j,X=1<<M,D=X;do X-=ie,_[ne+(Q>>j)+X]=A<<24|$<<16|te|0;while(X!==0);for(ie=1<<T-1;Q&ie;)ie>>=1;if(ie!==0?(Q&=ie-1,Q+=ie):Q=0,I++,--Y[T]===0){if(T===B)break;T=p[b+m[I]]}if(T>N&&(Q&ae)!==le){for(j===0&&(j=N),ne+=D,M=T-j,O=1<<M;M+j<B&&(O-=Y[M+j],!(O<=0));)M++,O<<=1;if(q+=1<<M,c===a&&q>r||c===o&&q>n)return 1;le=Q&ae,_[le]=N<<24|M<<16|ne-y|0}}return Q!==0&&(_[ne+Q]=T-j<<24|64<<16|0),g.bits=N,0},gv}var vP;function CK(){if(vP)return di;vP=1;var e=Dm(),t=Sj(),r=xj(),n=DK(),i=NK(),a=0,o=1,s=2,l=4,u=5,f=6,d=0,c=1,p=2,b=-2,v=-3,_=-4,y=-5,m=8,g=1,E=2,T=3,I=4,D=5,B=6,N=7,M=8,j=9,O=10,q=11,Q=12,ie=13,X=14,le=15,ae=16,ne=17,V=18,oe=19,he=20,Y=21,Z=22,ee=23,P=24,A=25,$=26,te=27,pe=28,R=29,w=30,x=31,k=32,U=852,re=592,fe=15,ve=fe;function ce(se){return(se>>>24&255)+(se>>>8&65280)+((se&65280)<<8)+((se&255)<<24)}function Ie(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new e.Buf16(320),this.work=new e.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function be(se){var ge;return!se||!se.state?b:(ge=se.state,se.total_in=se.total_out=ge.total=0,se.msg="",ge.wrap&&(se.adler=ge.wrap&1),ge.mode=g,ge.last=0,ge.havedict=0,ge.dmax=32768,ge.head=null,ge.hold=0,ge.bits=0,ge.lencode=ge.lendyn=new e.Buf32(U),ge.distcode=ge.distdyn=new e.Buf32(re),ge.sane=1,ge.back=-1,d)}function xe(se){var ge;return!se||!se.state?b:(ge=se.state,ge.wsize=0,ge.whave=0,ge.wnext=0,be(se))}function je(se,ge){var de,Re;return!se||!se.state||(Re=se.state,ge<0?(de=0,ge=-ge):(de=(ge>>4)+1,ge<48&&(ge&=15)),ge&&(ge<8||ge>15))?b:(Re.window!==null&&Re.wbits!==ge&&(Re.window=null),Re.wrap=de,Re.wbits=ge,xe(se))}function Ae(se,ge){var de,Re;return se?(Re=new Ie,se.state=Re,Re.window=null,de=je(se,ge),de!==d&&(se.state=null),de):b}function Pe(se){return Ae(se,ve)}var ke=!0,Ze,Ue;function it(se){if(ke){var ge;for(Ze=new e.Buf32(512),Ue=new e.Buf32(32),ge=0;ge<144;)se.lens[ge++]=8;for(;ge<256;)se.lens[ge++]=9;for(;ge<280;)se.lens[ge++]=7;for(;ge<288;)se.lens[ge++]=8;for(i(o,se.lens,0,288,Ze,0,se.work,{bits:9}),ge=0;ge<32;)se.lens[ge++]=5;i(s,se.lens,0,32,Ue,0,se.work,{bits:5}),ke=!1}se.lencode=Ze,se.lenbits=9,se.distcode=Ue,se.distbits=5}function ye(se,ge,de,Re){var qe,H=se.state;return H.window===null&&(H.wsize=1<<H.wbits,H.wnext=0,H.whave=0,H.window=new e.Buf8(H.wsize)),Re>=H.wsize?(e.arraySet(H.window,ge,de-H.wsize,H.wsize,0),H.wnext=0,H.whave=H.wsize):(qe=H.wsize-H.wnext,qe>Re&&(qe=Re),e.arraySet(H.window,ge,de-Re,qe,H.wnext),Re-=qe,Re?(e.arraySet(H.window,ge,de-Re,Re,0),H.wnext=Re,H.whave=H.wsize):(H.wnext+=qe,H.wnext===H.wsize&&(H.wnext=0),H.whave<H.wsize&&(H.whave+=qe))),0}function F(se,ge){var de,Re,qe,H,Te,Ce,me,Me,Ve,ft,we,G,W,J,Ee=0,Le,Ne,He,$e,ut,lt,dt,ct,nt=new e.Buf8(4),lr,at,De=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!se||!se.state||!se.output||!se.input&&se.avail_in!==0)return b;de=se.state,de.mode===Q&&(de.mode=ie),Te=se.next_out,qe=se.output,me=se.avail_out,H=se.next_in,Re=se.input,Ce=se.avail_in,Me=de.hold,Ve=de.bits,ft=Ce,we=me,ct=d;e:for(;;)switch(de.mode){case g:if(de.wrap===0){de.mode=ie;break}for(;Ve<16;){if(Ce===0)break e;Ce--,Me+=Re[H++]<<Ve,Ve+=8}if(de.wrap&2&&Me===35615){de.check=0,nt[0]=Me&255,nt[1]=Me>>>8&255,de.check=r(de.check,nt,2,0),Me=0,Ve=0,de.mode=E;break}if(de.flags=0,de.head&&(de.head.done=!1),!(de.wrap&1)||(((Me&255)<<8)+(Me>>8))%31){se.msg="incorrect header check",de.mode=w;break}if((Me&15)!==m){se.msg="unknown compression method",de.mode=w;break}if(Me>>>=4,Ve-=4,dt=(Me&15)+8,de.wbits===0)de.wbits=dt;else if(dt>de.wbits){se.msg="invalid window size",de.mode=w;break}de.dmax=1<<dt,se.adler=de.check=1,de.mode=Me&512?O:Q,Me=0,Ve=0;break;case E:for(;Ve<16;){if(Ce===0)break e;Ce--,Me+=Re[H++]<<Ve,Ve+=8}if(de.flags=Me,(de.flags&255)!==m){se.msg="unknown compression method",de.mode=w;break}if(de.flags&57344){se.msg="unknown header flags set",de.mode=w;break}de.head&&(de.head.text=Me>>8&1),de.flags&512&&(nt[0]=Me&255,nt[1]=Me>>>8&255,de.check=r(de.check,nt,2,0)),Me=0,Ve=0,de.mode=T;case T:for(;Ve<32;){if(Ce===0)break e;Ce--,Me+=Re[H++]<<Ve,Ve+=8}de.head&&(de.head.time=Me),de.flags&512&&(nt[0]=Me&255,nt[1]=Me>>>8&255,nt[2]=Me>>>16&255,nt[3]=Me>>>24&255,de.check=r(de.check,nt,4,0)),Me=0,Ve=0,de.mode=I;case I:for(;Ve<16;){if(Ce===0)break e;Ce--,Me+=Re[H++]<<Ve,Ve+=8}de.head&&(de.head.xflags=Me&255,de.head.os=Me>>8),de.flags&512&&(nt[0]=Me&255,nt[1]=Me>>>8&255,de.check=r(de.check,nt,2,0)),Me=0,Ve=0,de.mode=D;case D:if(de.flags&1024){for(;Ve<16;){if(Ce===0)break e;Ce--,Me+=Re[H++]<<Ve,Ve+=8}de.length=Me,de.head&&(de.head.extra_len=Me),de.flags&512&&(nt[0]=Me&255,nt[1]=Me>>>8&255,de.check=r(de.check,nt,2,0)),Me=0,Ve=0}else de.head&&(de.head.extra=null);de.mode=B;case B:if(de.flags&1024&&(G=de.length,G>Ce&&(G=Ce),G&&(de.head&&(dt=de.head.extra_len-de.length,de.head.extra||(de.head.extra=new Array(de.head.extra_len)),e.arraySet(de.head.extra,Re,H,G,dt)),de.flags&512&&(de.check=r(de.check,Re,G,H)),Ce-=G,H+=G,de.length-=G),de.length))break e;de.length=0,de.mode=N;case N:if(de.flags&2048){if(Ce===0)break e;G=0;do dt=Re[H+G++],de.head&&dt&&de.length<65536&&(de.head.name+=String.fromCharCode(dt));while(dt&&G<Ce);if(de.flags&512&&(de.check=r(de.check,Re,G,H)),Ce-=G,H+=G,dt)break e}else de.head&&(de.head.name=null);de.length=0,de.mode=M;case M:if(de.flags&4096){if(Ce===0)break e;G=0;do dt=Re[H+G++],de.head&&dt&&de.length<65536&&(de.head.comment+=String.fromCharCode(dt));while(dt&&G<Ce);if(de.flags&512&&(de.check=r(de.check,Re,G,H)),Ce-=G,H+=G,dt)break e}else de.head&&(de.head.comment=null);de.mode=j;case j:if(de.flags&512){for(;Ve<16;){if(Ce===0)break e;Ce--,Me+=Re[H++]<<Ve,Ve+=8}if(Me!==(de.check&65535)){se.msg="header crc mismatch",de.mode=w;break}Me=0,Ve=0}de.head&&(de.head.hcrc=de.flags>>9&1,de.head.done=!0),se.adler=de.check=0,de.mode=Q;break;case O:for(;Ve<32;){if(Ce===0)break e;Ce--,Me+=Re[H++]<<Ve,Ve+=8}se.adler=de.check=ce(Me),Me=0,Ve=0,de.mode=q;case q:if(de.havedict===0)return se.next_out=Te,se.avail_out=me,se.next_in=H,se.avail_in=Ce,de.hold=Me,de.bits=Ve,p;se.adler=de.check=1,de.mode=Q;case Q:if(ge===u||ge===f)break e;case ie:if(de.last){Me>>>=Ve&7,Ve-=Ve&7,de.mode=te;break}for(;Ve<3;){if(Ce===0)break e;Ce--,Me+=Re[H++]<<Ve,Ve+=8}switch(de.last=Me&1,Me>>>=1,Ve-=1,Me&3){case 0:de.mode=X;break;case 1:if(it(de),de.mode=he,ge===f){Me>>>=2,Ve-=2;break e}break;case 2:de.mode=ne;break;case 3:se.msg="invalid block type",de.mode=w}Me>>>=2,Ve-=2;break;case X:for(Me>>>=Ve&7,Ve-=Ve&7;Ve<32;){if(Ce===0)break e;Ce--,Me+=Re[H++]<<Ve,Ve+=8}if((Me&65535)!==(Me>>>16^65535)){se.msg="invalid stored block lengths",de.mode=w;break}if(de.length=Me&65535,Me=0,Ve=0,de.mode=le,ge===f)break e;case le:de.mode=ae;case ae:if(G=de.length,G){if(G>Ce&&(G=Ce),G>me&&(G=me),G===0)break e;e.arraySet(qe,Re,H,G,Te),Ce-=G,H+=G,me-=G,Te+=G,de.length-=G;break}de.mode=Q;break;case ne:for(;Ve<14;){if(Ce===0)break e;Ce--,Me+=Re[H++]<<Ve,Ve+=8}if(de.nlen=(Me&31)+257,Me>>>=5,Ve-=5,de.ndist=(Me&31)+1,Me>>>=5,Ve-=5,de.ncode=(Me&15)+4,Me>>>=4,Ve-=4,de.nlen>286||de.ndist>30){se.msg="too many length or distance symbols",de.mode=w;break}de.have=0,de.mode=V;case V:for(;de.have<de.ncode;){for(;Ve<3;){if(Ce===0)break e;Ce--,Me+=Re[H++]<<Ve,Ve+=8}de.lens[De[de.have++]]=Me&7,Me>>>=3,Ve-=3}for(;de.have<19;)de.lens[De[de.have++]]=0;if(de.lencode=de.lendyn,de.lenbits=7,lr={bits:de.lenbits},ct=i(a,de.lens,0,19,de.lencode,0,de.work,lr),de.lenbits=lr.bits,ct){se.msg="invalid code lengths set",de.mode=w;break}de.have=0,de.mode=oe;case oe:for(;de.have<de.nlen+de.ndist;){for(;Ee=de.lencode[Me&(1<<de.lenbits)-1],Le=Ee>>>24,Ne=Ee>>>16&255,He=Ee&65535,!(Le<=Ve);){if(Ce===0)break e;Ce--,Me+=Re[H++]<<Ve,Ve+=8}if(He<16)Me>>>=Le,Ve-=Le,de.lens[de.have++]=He;else{if(He===16){for(at=Le+2;Ve<at;){if(Ce===0)break e;Ce--,Me+=Re[H++]<<Ve,Ve+=8}if(Me>>>=Le,Ve-=Le,de.have===0){se.msg="invalid bit length repeat",de.mode=w;break}dt=de.lens[de.have-1],G=3+(Me&3),Me>>>=2,Ve-=2}else if(He===17){for(at=Le+3;Ve<at;){if(Ce===0)break e;Ce--,Me+=Re[H++]<<Ve,Ve+=8}Me>>>=Le,Ve-=Le,dt=0,G=3+(Me&7),Me>>>=3,Ve-=3}else{for(at=Le+7;Ve<at;){if(Ce===0)break e;Ce--,Me+=Re[H++]<<Ve,Ve+=8}Me>>>=Le,Ve-=Le,dt=0,G=11+(Me&127),Me>>>=7,Ve-=7}if(de.have+G>de.nlen+de.ndist){se.msg="invalid bit length repeat",de.mode=w;break}for(;G--;)de.lens[de.have++]=dt}}if(de.mode===w)break;if(de.lens[256]===0){se.msg="invalid code -- missing end-of-block",de.mode=w;break}if(de.lenbits=9,lr={bits:de.lenbits},ct=i(o,de.lens,0,de.nlen,de.lencode,0,de.work,lr),de.lenbits=lr.bits,ct){se.msg="invalid literal/lengths set",de.mode=w;break}if(de.distbits=6,de.distcode=de.distdyn,lr={bits:de.distbits},ct=i(s,de.lens,de.nlen,de.ndist,de.distcode,0,de.work,lr),de.distbits=lr.bits,ct){se.msg="invalid distances set",de.mode=w;break}if(de.mode=he,ge===f)break e;case he:de.mode=Y;case Y:if(Ce>=6&&me>=258){se.next_out=Te,se.avail_out=me,se.next_in=H,se.avail_in=Ce,de.hold=Me,de.bits=Ve,n(se,we),Te=se.next_out,qe=se.output,me=se.avail_out,H=se.next_in,Re=se.input,Ce=se.avail_in,Me=de.hold,Ve=de.bits,de.mode===Q&&(de.back=-1);break}for(de.back=0;Ee=de.lencode[Me&(1<<de.lenbits)-1],Le=Ee>>>24,Ne=Ee>>>16&255,He=Ee&65535,!(Le<=Ve);){if(Ce===0)break e;Ce--,Me+=Re[H++]<<Ve,Ve+=8}if(Ne&&!(Ne&240)){for($e=Le,ut=Ne,lt=He;Ee=de.lencode[lt+((Me&(1<<$e+ut)-1)>>$e)],Le=Ee>>>24,Ne=Ee>>>16&255,He=Ee&65535,!($e+Le<=Ve);){if(Ce===0)break e;Ce--,Me+=Re[H++]<<Ve,Ve+=8}Me>>>=$e,Ve-=$e,de.back+=$e}if(Me>>>=Le,Ve-=Le,de.back+=Le,de.length=He,Ne===0){de.mode=$;break}if(Ne&32){de.back=-1,de.mode=Q;break}if(Ne&64){se.msg="invalid literal/length code",de.mode=w;break}de.extra=Ne&15,de.mode=Z;case Z:if(de.extra){for(at=de.extra;Ve<at;){if(Ce===0)break e;Ce--,Me+=Re[H++]<<Ve,Ve+=8}de.length+=Me&(1<<de.extra)-1,Me>>>=de.extra,Ve-=de.extra,de.back+=de.extra}de.was=de.length,de.mode=ee;case ee:for(;Ee=de.distcode[Me&(1<<de.distbits)-1],Le=Ee>>>24,Ne=Ee>>>16&255,He=Ee&65535,!(Le<=Ve);){if(Ce===0)break e;Ce--,Me+=Re[H++]<<Ve,Ve+=8}if(!(Ne&240)){for($e=Le,ut=Ne,lt=He;Ee=de.distcode[lt+((Me&(1<<$e+ut)-1)>>$e)],Le=Ee>>>24,Ne=Ee>>>16&255,He=Ee&65535,!($e+Le<=Ve);){if(Ce===0)break e;Ce--,Me+=Re[H++]<<Ve,Ve+=8}Me>>>=$e,Ve-=$e,de.back+=$e}if(Me>>>=Le,Ve-=Le,de.back+=Le,Ne&64){se.msg="invalid distance code",de.mode=w;break}de.offset=He,de.extra=Ne&15,de.mode=P;case P:if(de.extra){for(at=de.extra;Ve<at;){if(Ce===0)break e;Ce--,Me+=Re[H++]<<Ve,Ve+=8}de.offset+=Me&(1<<de.extra)-1,Me>>>=de.extra,Ve-=de.extra,de.back+=de.extra}if(de.offset>de.dmax){se.msg="invalid distance too far back",de.mode=w;break}de.mode=A;case A:if(me===0)break e;if(G=we-me,de.offset>G){if(G=de.offset-G,G>de.whave&&de.sane){se.msg="invalid distance too far back",de.mode=w;break}G>de.wnext?(G-=de.wnext,W=de.wsize-G):W=de.wnext-G,G>de.length&&(G=de.length),J=de.window}else J=qe,W=Te-de.offset,G=de.length;G>me&&(G=me),me-=G,de.length-=G;do qe[Te++]=J[W++];while(--G);de.length===0&&(de.mode=Y);break;case $:if(me===0)break e;qe[Te++]=de.length,me--,de.mode=Y;break;case te:if(de.wrap){for(;Ve<32;){if(Ce===0)break e;Ce--,Me|=Re[H++]<<Ve,Ve+=8}if(we-=me,se.total_out+=we,de.total+=we,we&&(se.adler=de.check=de.flags?r(de.check,qe,we,Te-we):t(de.check,qe,we,Te-we)),we=me,(de.flags?Me:ce(Me))!==de.check){se.msg="incorrect data check",de.mode=w;break}Me=0,Ve=0}de.mode=pe;case pe:if(de.wrap&&de.flags){for(;Ve<32;){if(Ce===0)break e;Ce--,Me+=Re[H++]<<Ve,Ve+=8}if(Me!==(de.total&4294967295)){se.msg="incorrect length check",de.mode=w;break}Me=0,Ve=0}de.mode=R;case R:ct=c;break e;case w:ct=v;break e;case x:return _;case k:default:return b}return se.next_out=Te,se.avail_out=me,se.next_in=H,se.avail_in=Ce,de.hold=Me,de.bits=Ve,(de.wsize||we!==se.avail_out&&de.mode<w&&(de.mode<te||ge!==l))&&ye(se,se.output,se.next_out,we-se.avail_out),ft-=se.avail_in,we-=se.avail_out,se.total_in+=ft,se.total_out+=we,de.total+=we,de.wrap&&we&&(se.adler=de.check=de.flags?r(de.check,qe,we,se.next_out-we):t(de.check,qe,we,se.next_out-we)),se.data_type=de.bits+(de.last?64:0)+(de.mode===Q?128:0)+(de.mode===he||de.mode===le?256:0),(ft===0&&we===0||ge===l)&&ct===d&&(ct=y),ct}function K(se){if(!se||!se.state)return b;var ge=se.state;return ge.window&&(ge.window=null),se.state=null,d}function _e(se,ge){var de;return!se||!se.state||(de=se.state,!(de.wrap&2))?b:(de.head=ge,ge.done=!1,d)}function Oe(se,ge){var de=ge.length,Re,qe,H;return!se||!se.state||(Re=se.state,Re.wrap!==0&&Re.mode!==q)?b:Re.mode===q&&(qe=1,qe=t(qe,ge,de,0),qe!==Re.check)?v:(H=ye(se,ge,de,de),H?(Re.mode=x,_):(Re.havedict=1,d))}return di.inflateReset=xe,di.inflateReset2=je,di.inflateResetKeep=be,di.inflateInit=Pe,di.inflateInit2=Ae,di.inflate=F,di.inflateEnd=K,di.inflateGetHeader=_e,di.inflateSetDictionary=Oe,di.inflateInfo="pako inflate (from Nodeca project)",di}var _v,wP;function LK(){return wP||(wP=1,_v={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}),_v}var EP;function MK(){return EP||(EP=1,function(e){var t=Z0(),r=AK(),n=PK(),i=CK(),a=LK();for(var o in a)e[o]=a[o];e.NONE=0,e.DEFLATE=1,e.INFLATE=2,e.GZIP=3,e.GUNZIP=4,e.DEFLATERAW=5,e.INFLATERAW=6,e.UNZIP=7;var s=31,l=139;function u(f){if(typeof f!="number"||f<e.DEFLATE||f>e.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=f,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}u.prototype.close=function(){if(this.write_in_progress){this.pending_close=!0;return}this.pending_close=!1,t(this.init_done,"close before init"),t(this.mode<=e.UNZIP),this.mode===e.DEFLATE||this.mode===e.GZIP||this.mode===e.DEFLATERAW?n.deflateEnd(this.strm):(this.mode===e.INFLATE||this.mode===e.GUNZIP||this.mode===e.INFLATERAW||this.mode===e.UNZIP)&&i.inflateEnd(this.strm),this.mode=e.NONE,this.dictionary=null},u.prototype.write=function(f,d,c,p,b,v,_){return this._write(!0,f,d,c,p,b,v,_)},u.prototype.writeSync=function(f,d,c,p,b,v,_){return this._write(!1,f,d,c,p,b,v,_)},u.prototype._write=function(f,d,c,p,b,v,_,y){if(t.equal(arguments.length,8),t(this.init_done,"write before init"),t(this.mode!==e.NONE,"already finalized"),t.equal(!1,this.write_in_progress,"write already in progress"),t.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,t.equal(!1,d===void 0,"must provide flush value"),this.write_in_progress=!0,d!==e.Z_NO_FLUSH&&d!==e.Z_PARTIAL_FLUSH&&d!==e.Z_SYNC_FLUSH&&d!==e.Z_FULL_FLUSH&&d!==e.Z_FINISH&&d!==e.Z_BLOCK)throw new Error("Invalid flush value");if(c==null&&(c=Yn.alloc(0),b=0,p=0),this.strm.avail_in=b,this.strm.input=c,this.strm.next_in=p,this.strm.avail_out=y,this.strm.output=v,this.strm.next_out=_,this.flush=d,!f)return this._process(),this._checkError()?this._afterSync():void 0;var m=this;return ze.nextTick(function(){m._process(),m._after()}),this},u.prototype._afterSync=function(){var f=this.strm.avail_out,d=this.strm.avail_in;return this.write_in_progress=!1,[d,f]},u.prototype._process=function(){var f=null;switch(this.mode){case e.DEFLATE:case e.GZIP:case e.DEFLATERAW:this.err=n.deflate(this.strm,this.flush);break;case e.UNZIP:switch(this.strm.avail_in>0&&(f=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(f===null)break;if(this.strm.input[f]===s){if(this.gzip_id_bytes_read=1,f++,this.strm.avail_in===1)break}else{this.mode=e.INFLATE;break}case 1:if(f===null)break;this.strm.input[f]===l?(this.gzip_id_bytes_read=2,this.mode=e.GUNZIP):this.mode=e.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case e.INFLATE:case e.GUNZIP:case e.INFLATERAW:for(this.err=i.inflate(this.strm,this.flush),this.err===e.Z_NEED_DICT&&this.dictionary&&(this.err=i.inflateSetDictionary(this.strm,this.dictionary),this.err===e.Z_OK?this.err=i.inflate(this.strm,this.flush):this.err===e.Z_DATA_ERROR&&(this.err=e.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===e.GUNZIP&&this.err===e.Z_STREAM_END&&this.strm.next_in[0]!==0;)this.reset(),this.err=i.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},u.prototype._checkError=function(){switch(this.err){case e.Z_OK:case e.Z_BUF_ERROR:if(this.strm.avail_out!==0&&this.flush===e.Z_FINISH)return this._error("unexpected end of file"),!1;break;case e.Z_STREAM_END:break;case e.Z_NEED_DICT:return this.dictionary==null?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},u.prototype._after=function(){if(this._checkError()){var f=this.strm.avail_out,d=this.strm.avail_in;this.write_in_progress=!1,this.callback(d,f),this.pending_close&&this.close()}},u.prototype._error=function(f){this.strm.msg&&(f=this.strm.msg),this.onerror(f,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},u.prototype.init=function(f,d,c,p,b){t(arguments.length===4||arguments.length===5,"init(windowBits, level, memLevel, strategy, [dictionary])"),t(f>=8&&f<=15,"invalid windowBits"),t(d>=-1&&d<=9,"invalid compression level"),t(c>=1&&c<=9,"invalid memlevel"),t(p===e.Z_FILTERED||p===e.Z_HUFFMAN_ONLY||p===e.Z_RLE||p===e.Z_FIXED||p===e.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(d,f,c,p,b),this._setDictionary()},u.prototype.params=function(){throw new Error("deflateParams Not supported")},u.prototype.reset=function(){this._reset(),this._setDictionary()},u.prototype._init=function(f,d,c,p,b){switch(this.level=f,this.windowBits=d,this.memLevel=c,this.strategy=p,this.flush=e.Z_NO_FLUSH,this.err=e.Z_OK,(this.mode===e.GZIP||this.mode===e.GUNZIP)&&(this.windowBits+=16),this.mode===e.UNZIP&&(this.windowBits+=32),(this.mode===e.DEFLATERAW||this.mode===e.INFLATERAW)&&(this.windowBits=-1*this.windowBits),this.strm=new r,this.mode){case e.DEFLATE:case e.GZIP:case e.DEFLATERAW:this.err=n.deflateInit2(this.strm,this.level,e.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case e.INFLATE:case e.GUNZIP:case e.INFLATERAW:case e.UNZIP:this.err=i.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==e.Z_OK&&this._error("Init error"),this.dictionary=b,this.write_in_progress=!1,this.init_done=!0},u.prototype._setDictionary=function(){if(this.dictionary!=null){switch(this.err=e.Z_OK,this.mode){case e.DEFLATE:case e.DEFLATERAW:this.err=n.deflateSetDictionary(this.strm,this.dictionary);break}this.err!==e.Z_OK&&this._error("Failed to set dictionary")}},u.prototype._reset=function(){switch(this.err=e.Z_OK,this.mode){case e.DEFLATE:case e.DEFLATERAW:case e.GZIP:this.err=n.deflateReset(this.strm);break;case e.INFLATE:case e.INFLATERAW:case e.GUNZIP:this.err=i.inflateReset(this.strm);break}this.err!==e.Z_OK&&this._error("Failed to reset stream")},e.Zlib=u}(zb)),zb}var SP;function kK(){return SP||(SP=1,function(e){var t=Sr().Buffer,r=yK().Transform,n=MK(),i=Or(),a=Z0().ok,o=Sr().kMaxLength,s="Cannot create final Buffer. It would be larger than 0x"+o.toString(16)+" bytes";n.Z_MIN_WINDOWBITS=8,n.Z_MAX_WINDOWBITS=15,n.Z_DEFAULT_WINDOWBITS=15,n.Z_MIN_CHUNK=64,n.Z_MAX_CHUNK=1/0,n.Z_DEFAULT_CHUNK=16*1024,n.Z_MIN_MEMLEVEL=1,n.Z_MAX_MEMLEVEL=9,n.Z_DEFAULT_MEMLEVEL=8,n.Z_MIN_LEVEL=-1,n.Z_MAX_LEVEL=9,n.Z_DEFAULT_LEVEL=n.Z_DEFAULT_COMPRESSION;for(var l=Object.keys(n),u=0;u<l.length;u++){var f=l[u];f.match(/^Z/)&&Object.defineProperty(e,f,{enumerable:!0,value:n[f],writable:!1})}for(var d={Z_OK:n.Z_OK,Z_STREAM_END:n.Z_STREAM_END,Z_NEED_DICT:n.Z_NEED_DICT,Z_ERRNO:n.Z_ERRNO,Z_STREAM_ERROR:n.Z_STREAM_ERROR,Z_DATA_ERROR:n.Z_DATA_ERROR,Z_MEM_ERROR:n.Z_MEM_ERROR,Z_BUF_ERROR:n.Z_BUF_ERROR,Z_VERSION_ERROR:n.Z_VERSION_ERROR},c=Object.keys(d),p=0;p<c.length;p++){var b=c[p];d[d[b]]=b}Object.defineProperty(e,"codes",{enumerable:!0,value:Object.freeze(d),writable:!1}),e.Deflate=y,e.Inflate=m,e.Gzip=g,e.Gunzip=E,e.DeflateRaw=T,e.InflateRaw=I,e.Unzip=D,e.createDeflate=function(O){return new y(O)},e.createInflate=function(O){return new m(O)},e.createDeflateRaw=function(O){return new T(O)},e.createInflateRaw=function(O){return new I(O)},e.createGzip=function(O){return new g(O)},e.createGunzip=function(O){return new E(O)},e.createUnzip=function(O){return new D(O)},e.deflate=function(O,q,Q){return typeof q=="function"&&(Q=q,q={}),v(new y(q),O,Q)},e.deflateSync=function(O,q){return _(new y(q),O)},e.gzip=function(O,q,Q){return typeof q=="function"&&(Q=q,q={}),v(new g(q),O,Q)},e.gzipSync=function(O,q){return _(new g(q),O)},e.deflateRaw=function(O,q,Q){return typeof q=="function"&&(Q=q,q={}),v(new T(q),O,Q)},e.deflateRawSync=function(O,q){return _(new T(q),O)},e.unzip=function(O,q,Q){return typeof q=="function"&&(Q=q,q={}),v(new D(q),O,Q)},e.unzipSync=function(O,q){return _(new D(q),O)},e.inflate=function(O,q,Q){return typeof q=="function"&&(Q=q,q={}),v(new m(q),O,Q)},e.inflateSync=function(O,q){return _(new m(q),O)},e.gunzip=function(O,q,Q){return typeof q=="function"&&(Q=q,q={}),v(new E(q),O,Q)},e.gunzipSync=function(O,q){return _(new E(q),O)},e.inflateRaw=function(O,q,Q){return typeof q=="function"&&(Q=q,q={}),v(new I(q),O,Q)},e.inflateRawSync=function(O,q){return _(new I(q),O)};function v(O,q,Q){var ie=[],X=0;O.on("error",ae),O.on("end",ne),O.end(q),le();function le(){for(var V;(V=O.read())!==null;)ie.push(V),X+=V.length;O.once("readable",le)}function ae(V){O.removeListener("end",ne),O.removeListener("readable",le),Q(V)}function ne(){var V,oe=null;X>=o?oe=new RangeError(s):V=t.concat(ie,X),ie=[],O.close(),Q(oe,V)}}function _(O,q){if(typeof q=="string"&&(q=t.from(q)),!t.isBuffer(q))throw new TypeError("Not a string or buffer");var Q=O._finishFlushFlag;return O._processChunk(q,Q)}function y(O){if(!(this instanceof y))return new y(O);N.call(this,O,n.DEFLATE)}function m(O){if(!(this instanceof m))return new m(O);N.call(this,O,n.INFLATE)}function g(O){if(!(this instanceof g))return new g(O);N.call(this,O,n.GZIP)}function E(O){if(!(this instanceof E))return new E(O);N.call(this,O,n.GUNZIP)}function T(O){if(!(this instanceof T))return new T(O);N.call(this,O,n.DEFLATERAW)}function I(O){if(!(this instanceof I))return new I(O);N.call(this,O,n.INFLATERAW)}function D(O){if(!(this instanceof D))return new D(O);N.call(this,O,n.UNZIP)}function B(O){return O===n.Z_NO_FLUSH||O===n.Z_PARTIAL_FLUSH||O===n.Z_SYNC_FLUSH||O===n.Z_FULL_FLUSH||O===n.Z_FINISH||O===n.Z_BLOCK}function N(O,q){var Q=this;if(this._opts=O=O||{},this._chunkSize=O.chunkSize||e.Z_DEFAULT_CHUNK,r.call(this,O),O.flush&&!B(O.flush))throw new Error("Invalid flush flag: "+O.flush);if(O.finishFlush&&!B(O.finishFlush))throw new Error("Invalid flush flag: "+O.finishFlush);if(this._flushFlag=O.flush||n.Z_NO_FLUSH,this._finishFlushFlag=typeof O.finishFlush<"u"?O.finishFlush:n.Z_FINISH,O.chunkSize&&(O.chunkSize<e.Z_MIN_CHUNK||O.chunkSize>e.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+O.chunkSize);if(O.windowBits&&(O.windowBits<e.Z_MIN_WINDOWBITS||O.windowBits>e.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+O.windowBits);if(O.level&&(O.level<e.Z_MIN_LEVEL||O.level>e.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+O.level);if(O.memLevel&&(O.memLevel<e.Z_MIN_MEMLEVEL||O.memLevel>e.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+O.memLevel);if(O.strategy&&O.strategy!=e.Z_FILTERED&&O.strategy!=e.Z_HUFFMAN_ONLY&&O.strategy!=e.Z_RLE&&O.strategy!=e.Z_FIXED&&O.strategy!=e.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+O.strategy);if(O.dictionary&&!t.isBuffer(O.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new n.Zlib(q);var ie=this;this._hadError=!1,this._handle.onerror=function(ae,ne){M(ie),ie._hadError=!0;var V=new Error(ae);V.errno=ne,V.code=e.codes[ne],ie.emit("error",V)};var X=e.Z_DEFAULT_COMPRESSION;typeof O.level=="number"&&(X=O.level);var le=e.Z_DEFAULT_STRATEGY;typeof O.strategy=="number"&&(le=O.strategy),this._handle.init(O.windowBits||e.Z_DEFAULT_WINDOWBITS,X,O.memLevel||e.Z_DEFAULT_MEMLEVEL,le,O.dictionary),this._buffer=t.allocUnsafe(this._chunkSize),this._offset=0,this._level=X,this._strategy=le,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!Q._handle},configurable:!0,enumerable:!0})}i.inherits(N,r),N.prototype.params=function(O,q,Q){if(O<e.Z_MIN_LEVEL||O>e.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+O);if(q!=e.Z_FILTERED&&q!=e.Z_HUFFMAN_ONLY&&q!=e.Z_RLE&&q!=e.Z_FIXED&&q!=e.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+q);if(this._level!==O||this._strategy!==q){var ie=this;this.flush(n.Z_SYNC_FLUSH,function(){a(ie._handle,"zlib binding closed"),ie._handle.params(O,q),ie._hadError||(ie._level=O,ie._strategy=q,Q&&Q())})}else ze.nextTick(Q)},N.prototype.reset=function(){return a(this._handle,"zlib binding closed"),this._handle.reset()},N.prototype._flush=function(O){this._transform(t.alloc(0),"",O)},N.prototype.flush=function(O,q){var Q=this,ie=this._writableState;(typeof O=="function"||O===void 0&&!q)&&(q=O,O=n.Z_FULL_FLUSH),ie.ended?q&&ze.nextTick(q):ie.ending?q&&this.once("end",q):ie.needDrain?q&&this.once("drain",function(){return Q.flush(O,q)}):(this._flushFlag=O,this.write(t.alloc(0),"",q))},N.prototype.close=function(O){M(this,O),ze.nextTick(j,this)};function M(O,q){q&&ze.nextTick(q),O._handle&&(O._handle.close(),O._handle=null)}function j(O){O.emit("close")}N.prototype._transform=function(O,q,Q){var ie,X=this._writableState,le=X.ending||X.ended,ae=le&&(!O||X.length===O.length);if(O!==null&&!t.isBuffer(O))return Q(new Error("invalid input"));if(!this._handle)return Q(new Error("zlib binding closed"));ae?ie=this._finishFlushFlag:(ie=this._flushFlag,O.length>=X.length&&(this._flushFlag=this._opts.flush||n.Z_NO_FLUSH)),this._processChunk(O,ie,Q)},N.prototype._processChunk=function(O,q,Q){var ie=O&&O.length,X=this._chunkSize-this._offset,le=0,ae=this,ne=typeof Q=="function";if(!ne){var V=[],oe=0,he;this.on("error",function(A){he=A}),a(this._handle,"zlib binding closed");do var Y=this._handle.writeSync(q,O,le,ie,this._buffer,this._offset,X);while(!this._hadError&&P(Y[0],Y[1]));if(this._hadError)throw he;if(oe>=o)throw M(this),new RangeError(s);var Z=t.concat(V,oe);return M(this),Z}a(this._handle,"zlib binding closed");var ee=this._handle.write(q,O,le,ie,this._buffer,this._offset,X);ee.buffer=O,ee.callback=P;function P(A,$){if(this&&(this.buffer=null,this.callback=null),!ae._hadError){var te=X-$;if(a(te>=0,"have should not go down"),te>0){var pe=ae._buffer.slice(ae._offset,ae._offset+te);ae._offset+=te,ne?ae.push(pe):(V.push(pe),oe+=pe.length)}if(($===0||ae._offset>=ae._chunkSize)&&(X=ae._chunkSize,ae._offset=0,ae._buffer=t.allocUnsafe(ae._chunkSize)),$===0){if(le+=ie-A,ie=A,!ne)return!0;var R=ae._handle.write(q,O,le,ie,ae._buffer,ae._offset,ae._chunkSize);R.callback=P,R.buffer=O;return}if(!ne)return!1;Q()}}},i.inherits(y,N),i.inherits(m,N),i.inherits(g,N),i.inherits(E,N),i.inherits(T,N),i.inherits(I,N),i.inherits(D,N)}(Ob)),Ob}var c0={exports:{}},bv,xP;function Tj(){return xP||(xP=1,bv=Kn().EventEmitter),bv}var vv,TP;function FK(){if(TP)return vv;TP=1;function e(b,v){var _=Object.keys(b);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(b);v&&(y=y.filter(function(m){return Object.getOwnPropertyDescriptor(b,m).enumerable})),_.push.apply(_,y)}return _}function t(b){for(var v=1;v<arguments.length;v++){var _=arguments[v]!=null?arguments[v]:{};v%2?e(Object(_),!0).forEach(function(y){r(b,y,_[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(_)):e(Object(_)).forEach(function(y){Object.defineProperty(b,y,Object.getOwnPropertyDescriptor(_,y))})}return b}function r(b,v,_){return v=o(v),v in b?Object.defineProperty(b,v,{value:_,enumerable:!0,configurable:!0,writable:!0}):b[v]=_,b}function n(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}function i(b,v){for(var _=0;_<v.length;_++){var y=v[_];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(b,o(y.key),y)}}function a(b,v,_){return i(b.prototype,v),Object.defineProperty(b,"prototype",{writable:!1}),b}function o(b){var v=s(b,"string");return typeof v=="symbol"?v:String(v)}function s(b,v){if(typeof b!="object"||b===null)return b;var _=b[Symbol.toPrimitive];if(_!==void 0){var y=_.call(b,v);if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(b)}var l=Sr(),u=l.Buffer,f=Or(),d=f.inspect,c=d&&d.custom||"inspect";function p(b,v,_){u.prototype.copy.call(b,v,_)}return vv=function(){function b(){n(this,b),this.head=null,this.tail=null,this.length=0}return a(b,[{key:"push",value:function(_){var y={data:_,next:null};this.length>0?this.tail.next=y:this.head=y,this.tail=y,++this.length}},{key:"unshift",value:function(_){var y={data:_,next:this.head};this.length===0&&(this.tail=y),this.head=y,++this.length}},{key:"shift",value:function(){if(this.length!==0){var _=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,_}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(_){if(this.length===0)return"";for(var y=this.head,m=""+y.data;y=y.next;)m+=_+y.data;return m}},{key:"concat",value:function(_){if(this.length===0)return u.alloc(0);for(var y=u.allocUnsafe(_>>>0),m=this.head,g=0;m;)p(m.data,y,g),g+=m.data.length,m=m.next;return y}},{key:"consume",value:function(_,y){var m;return _<this.head.data.length?(m=this.head.data.slice(0,_),this.head.data=this.head.data.slice(_)):_===this.head.data.length?m=this.shift():m=y?this._getString(_):this._getBuffer(_),m}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(_){var y=this.head,m=1,g=y.data;for(_-=g.length;y=y.next;){var E=y.data,T=_>E.length?E.length:_;if(T===E.length?g+=E:g+=E.slice(0,_),_-=T,_===0){T===E.length?(++m,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=E.slice(T));break}++m}return this.length-=m,g}},{key:"_getBuffer",value:function(_){var y=u.allocUnsafe(_),m=this.head,g=1;for(m.data.copy(y),_-=m.data.length;m=m.next;){var E=m.data,T=_>E.length?E.length:_;if(E.copy(y,y.length-_,0,T),_-=T,_===0){T===E.length?(++g,m.next?this.head=m.next:this.head=this.tail=null):(this.head=m,m.data=E.slice(T));break}++g}return this.length-=g,y}},{key:c,value:function(_,y){return d(this,t(t({},y),{},{depth:0,customInspect:!1}))}}]),b}(),vv}var wv,RP;function Rj(){if(RP)return wv;RP=1;function e(o,s){var l=this,u=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return u||f?(s?s(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,ze.nextTick(i,this,o)):ze.nextTick(i,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(d){!s&&d?l._writableState?l._writableState.errorEmitted?ze.nextTick(r,l):(l._writableState.errorEmitted=!0,ze.nextTick(t,l,d)):ze.nextTick(t,l,d):s?(ze.nextTick(r,l),s(d)):ze.nextTick(r,l)}),this)}function t(o,s){i(o,s),r(o)}function r(o){o._writableState&&!o._writableState.emitClose||o._readableState&&!o._readableState.emitClose||o.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(o,s){o.emit("error",s)}function a(o,s){var l=o._readableState,u=o._writableState;l&&l.autoDestroy||u&&u.autoDestroy?o.destroy(s):o.emit("error",s)}return wv={destroy:e,undestroy:n,errorOrDestroy:a},wv}var Ev={},AP;function sl(){if(AP)return Ev;AP=1;function e(s,l){s.prototype=Object.create(l.prototype),s.prototype.constructor=s,s.__proto__=l}var t={};function r(s,l,u){u||(u=Error);function f(c,p,b){return typeof l=="string"?l:l(c,p,b)}var d=function(c){e(p,c);function p(b,v,_){return c.call(this,f(b,v,_))||this}return p}(u);d.prototype.name=u.name,d.prototype.code=s,t[s]=d}function n(s,l){if(Array.isArray(s)){var u=s.length;return s=s.map(function(f){return String(f)}),u>2?"one of ".concat(l," ").concat(s.slice(0,u-1).join(", "),", or ")+s[u-1]:u===2?"one of ".concat(l," ").concat(s[0]," or ").concat(s[1]):"of ".concat(l," ").concat(s[0])}else return"of ".concat(l," ").concat(String(s))}function i(s,l,u){return s.substr(0,l.length)===l}function a(s,l,u){return(u===void 0||u>s.length)&&(u=s.length),s.substring(u-l.length,u)===l}function o(s,l,u){return typeof u!="number"&&(u=0),u+l.length>s.length?!1:s.indexOf(l,u)!==-1}return r("ERR_INVALID_OPT_VALUE",function(s,l){return'The value "'+l+'" is invalid for option "'+s+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(s,l,u){var f;typeof l=="string"&&i(l,"not ")?(f="must not be",l=l.replace(/^not /,"")):f="must be";var d;if(a(s," argument"))d="The ".concat(s," ").concat(f," ").concat(n(l,"type"));else{var c=o(s,".")?"property":"argument";d='The "'.concat(s,'" ').concat(c," ").concat(f," ").concat(n(l,"type"))}return d+=". Received type ".concat(typeof u),d},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(s){return"The "+s+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(s){return"Cannot call "+s+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(s){return"Unknown encoding: "+s},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Ev.codes=t,Ev}var Sv,IP;function Aj(){if(IP)return Sv;IP=1;var e=sl().codes.ERR_INVALID_OPT_VALUE;function t(n,i,a){return n.highWaterMark!=null?n.highWaterMark:i?n[a]:null}function r(n,i,a,o){var s=t(i,o,a);if(s!=null){if(!(isFinite(s)&&Math.floor(s)===s)||s<0){var l=o?a:"highWaterMark";throw new e(l,s)}return Math.floor(s)}return n.objectMode?16:16*1024}return Sv={getHighWaterMark:r},Sv}var xv,OP;function Ij(){if(OP)return xv;OP=1,xv=B;function e(P){var A=this;this.next=null,this.entry=null,this.finish=function(){ee(A,P)}}var t;B.WritableState=I;var r={deprecate:Im()},n=Tj(),i=Sr().Buffer,a=(typeof xt<"u"?xt:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function o(P){return i.from(P)}function s(P){return i.isBuffer(P)||P instanceof a}var l=Rj(),u=Aj(),f=u.getHighWaterMark,d=sl().codes,c=d.ERR_INVALID_ARG_TYPE,p=d.ERR_METHOD_NOT_IMPLEMENTED,b=d.ERR_MULTIPLE_CALLBACK,v=d.ERR_STREAM_CANNOT_PIPE,_=d.ERR_STREAM_DESTROYED,y=d.ERR_STREAM_NULL_VALUES,m=d.ERR_STREAM_WRITE_AFTER_END,g=d.ERR_UNKNOWN_ENCODING,E=l.errorOrDestroy;Pr()(B,n);function T(){}function I(P,A,$){t=t||qu(),P=P||{},typeof $!="boolean"&&($=A instanceof t),this.objectMode=!!P.objectMode,$&&(this.objectMode=this.objectMode||!!P.writableObjectMode),this.highWaterMark=f(this,P,"writableHighWaterMark",$),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var te=P.decodeStrings===!1;this.decodeStrings=!te,this.defaultEncoding=P.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(pe){X(A,pe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=P.emitClose!==!1,this.autoDestroy=!!P.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}I.prototype.getBuffer=function(){for(var A=this.bufferedRequest,$=[];A;)$.push(A),A=A.next;return $},function(){try{Object.defineProperty(I.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var D;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(D=Function.prototype[Symbol.hasInstance],Object.defineProperty(B,Symbol.hasInstance,{value:function(A){return D.call(this,A)?!0:this!==B?!1:A&&A._writableState instanceof I}})):D=function(A){return A instanceof this};function B(P){t=t||qu();var A=this instanceof t;if(!A&&!D.call(B,this))return new B(P);this._writableState=new I(P,this,A),this.writable=!0,P&&(typeof P.write=="function"&&(this._write=P.write),typeof P.writev=="function"&&(this._writev=P.writev),typeof P.destroy=="function"&&(this._destroy=P.destroy),typeof P.final=="function"&&(this._final=P.final)),n.call(this)}B.prototype.pipe=function(){E(this,new v)};function N(P,A){var $=new m;E(P,$),ze.nextTick(A,$)}function M(P,A,$,te){var pe;return $===null?pe=new y:typeof $!="string"&&!A.objectMode&&(pe=new c("chunk",["string","Buffer"],$)),pe?(E(P,pe),ze.nextTick(te,pe),!1):!0}B.prototype.write=function(P,A,$){var te=this._writableState,pe=!1,R=!te.objectMode&&s(P);return R&&!i.isBuffer(P)&&(P=o(P)),typeof A=="function"&&($=A,A=null),R?A="buffer":A||(A=te.defaultEncoding),typeof $!="function"&&($=T),te.ending?N(this,$):(R||M(this,te,P,$))&&(te.pendingcb++,pe=O(this,te,R,P,A,$)),pe},B.prototype.cork=function(){this._writableState.corked++},B.prototype.uncork=function(){var P=this._writableState;P.corked&&(P.corked--,!P.writing&&!P.corked&&!P.bufferProcessing&&P.bufferedRequest&&ne(this,P))},B.prototype.setDefaultEncoding=function(A){if(typeof A=="string"&&(A=A.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((A+"").toLowerCase())>-1))throw new g(A);return this._writableState.defaultEncoding=A,this},Object.defineProperty(B.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function j(P,A,$){return!P.objectMode&&P.decodeStrings!==!1&&typeof A=="string"&&(A=i.from(A,$)),A}Object.defineProperty(B.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function O(P,A,$,te,pe,R){if(!$){var w=j(A,te,pe);te!==w&&($=!0,pe="buffer",te=w)}var x=A.objectMode?1:te.length;A.length+=x;var k=A.length<A.highWaterMark;if(k||(A.needDrain=!0),A.writing||A.corked){var U=A.lastBufferedRequest;A.lastBufferedRequest={chunk:te,encoding:pe,isBuf:$,callback:R,next:null},U?U.next=A.lastBufferedRequest:A.bufferedRequest=A.lastBufferedRequest,A.bufferedRequestCount+=1}else q(P,A,!1,x,te,pe,R);return k}function q(P,A,$,te,pe,R,w){A.writelen=te,A.writecb=w,A.writing=!0,A.sync=!0,A.destroyed?A.onwrite(new _("write")):$?P._writev(pe,A.onwrite):P._write(pe,R,A.onwrite),A.sync=!1}function Q(P,A,$,te,pe){--A.pendingcb,$?(ze.nextTick(pe,te),ze.nextTick(Y,P,A),P._writableState.errorEmitted=!0,E(P,te)):(pe(te),P._writableState.errorEmitted=!0,E(P,te),Y(P,A))}function ie(P){P.writing=!1,P.writecb=null,P.length-=P.writelen,P.writelen=0}function X(P,A){var $=P._writableState,te=$.sync,pe=$.writecb;if(typeof pe!="function")throw new b;if(ie($),A)Q(P,$,te,A,pe);else{var R=V($)||P.destroyed;!R&&!$.corked&&!$.bufferProcessing&&$.bufferedRequest&&ne(P,$),te?ze.nextTick(le,P,$,R,pe):le(P,$,R,pe)}}function le(P,A,$,te){$||ae(P,A),A.pendingcb--,te(),Y(P,A)}function ae(P,A){A.length===0&&A.needDrain&&(A.needDrain=!1,P.emit("drain"))}function ne(P,A){A.bufferProcessing=!0;var $=A.bufferedRequest;if(P._writev&&$&&$.next){var te=A.bufferedRequestCount,pe=new Array(te),R=A.corkedRequestsFree;R.entry=$;for(var w=0,x=!0;$;)pe[w]=$,$.isBuf||(x=!1),$=$.next,w+=1;pe.allBuffers=x,q(P,A,!0,A.length,pe,"",R.finish),A.pendingcb++,A.lastBufferedRequest=null,R.next?(A.corkedRequestsFree=R.next,R.next=null):A.corkedRequestsFree=new e(A),A.bufferedRequestCount=0}else{for(;$;){var k=$.chunk,U=$.encoding,re=$.callback,fe=A.objectMode?1:k.length;if(q(P,A,!1,fe,k,U,re),$=$.next,A.bufferedRequestCount--,A.writing)break}$===null&&(A.lastBufferedRequest=null)}A.bufferedRequest=$,A.bufferProcessing=!1}B.prototype._write=function(P,A,$){$(new p("_write()"))},B.prototype._writev=null,B.prototype.end=function(P,A,$){var te=this._writableState;return typeof P=="function"?($=P,P=null,A=null):typeof A=="function"&&($=A,A=null),P!=null&&this.write(P,A),te.corked&&(te.corked=1,this.uncork()),te.ending||Z(this,te,$),this},Object.defineProperty(B.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function V(P){return P.ending&&P.length===0&&P.bufferedRequest===null&&!P.finished&&!P.writing}function oe(P,A){P._final(function($){A.pendingcb--,$&&E(P,$),A.prefinished=!0,P.emit("prefinish"),Y(P,A)})}function he(P,A){!A.prefinished&&!A.finalCalled&&(typeof P._final=="function"&&!A.destroyed?(A.pendingcb++,A.finalCalled=!0,ze.nextTick(oe,P,A)):(A.prefinished=!0,P.emit("prefinish")))}function Y(P,A){var $=V(A);if($&&(he(P,A),A.pendingcb===0&&(A.finished=!0,P.emit("finish"),A.autoDestroy))){var te=P._readableState;(!te||te.autoDestroy&&te.endEmitted)&&P.destroy()}return $}function Z(P,A,$){A.ending=!0,Y(P,A),$&&(A.finished?ze.nextTick($):P.once("finish",$)),A.ended=!0,P.writable=!1}function ee(P,A,$){var te=P.entry;for(P.entry=null;te;){var pe=te.callback;A.pendingcb--,pe($),te=te.next}A.corkedRequestsFree.next=P}return Object.defineProperty(B.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(A){this._writableState&&(this._writableState.destroyed=A)}}),B.prototype.destroy=l.destroy,B.prototype._undestroy=l.undestroy,B.prototype._destroy=function(P,A){A(P)},xv}var Tv,PP;function qu(){if(PP)return Tv;PP=1;var e=Object.keys||function(u){var f=[];for(var d in u)f.push(d);return f};Tv=o;var t=Oj(),r=Ij();Pr()(o,t);for(var n=e(r.prototype),i=0;i<n.length;i++){var a=n[i];o.prototype[a]||(o.prototype[a]=r.prototype[a])}function o(u){if(!(this instanceof o))return new o(u);t.call(this,u),r.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",s)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function s(){this._writableState.ended||ze.nextTick(l,this)}function l(u){u.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(f){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=f,this._writableState.destroyed=f)}}),Tv}var Rv,DP;function xS(){if(DP)return Rv;DP=1;var e=sl().codes.ERR_STREAM_PREMATURE_CLOSE;function t(a){var o=!1;return function(){if(!o){o=!0;for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];a.apply(this,l)}}}function r(){}function n(a){return a.setHeader&&typeof a.abort=="function"}function i(a,o,s){if(typeof o=="function")return i(a,null,o);o||(o={}),s=t(s||r);var l=o.readable||o.readable!==!1&&a.readable,u=o.writable||o.writable!==!1&&a.writable,f=function(){a.writable||c()},d=a._writableState&&a._writableState.finished,c=function(){u=!1,d=!0,l||s.call(a)},p=a._readableState&&a._readableState.endEmitted,b=function(){l=!1,p=!0,u||s.call(a)},v=function(g){s.call(a,g)},_=function(){var g;if(l&&!p)return(!a._readableState||!a._readableState.ended)&&(g=new e),s.call(a,g);if(u&&!d)return(!a._writableState||!a._writableState.ended)&&(g=new e),s.call(a,g)},y=function(){a.req.on("finish",c)};return n(a)?(a.on("complete",c),a.on("abort",_),a.req?y():a.on("request",y)):u&&!a._writableState&&(a.on("end",f),a.on("close",f)),a.on("end",b),a.on("finish",c),o.error!==!1&&a.on("error",v),a.on("close",_),function(){a.removeListener("complete",c),a.removeListener("abort",_),a.removeListener("request",y),a.req&&a.req.removeListener("finish",c),a.removeListener("end",f),a.removeListener("close",f),a.removeListener("finish",c),a.removeListener("end",b),a.removeListener("error",v),a.removeListener("close",_)}}return Rv=i,Rv}var Av,NP;function jK(){if(NP)return Av;NP=1;var e;function t(g,E,T){return E=r(E),E in g?Object.defineProperty(g,E,{value:T,enumerable:!0,configurable:!0,writable:!0}):g[E]=T,g}function r(g){var E=n(g,"string");return typeof E=="symbol"?E:String(E)}function n(g,E){if(typeof g!="object"||g===null)return g;var T=g[Symbol.toPrimitive];if(T!==void 0){var I=T.call(g,E||"default");if(typeof I!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return(E==="string"?String:Number)(g)}var i=xS(),a=Symbol("lastResolve"),o=Symbol("lastReject"),s=Symbol("error"),l=Symbol("ended"),u=Symbol("lastPromise"),f=Symbol("handlePromise"),d=Symbol("stream");function c(g,E){return{value:g,done:E}}function p(g){var E=g[a];if(E!==null){var T=g[d].read();T!==null&&(g[u]=null,g[a]=null,g[o]=null,E(c(T,!1)))}}function b(g){ze.nextTick(p,g)}function v(g,E){return function(T,I){g.then(function(){if(E[l]){T(c(void 0,!0));return}E[f](T,I)},I)}}var _=Object.getPrototypeOf(function(){}),y=Object.setPrototypeOf((e={get stream(){return this[d]},next:function(){var E=this,T=this[s];if(T!==null)return Promise.reject(T);if(this[l])return Promise.resolve(c(void 0,!0));if(this[d].destroyed)return new Promise(function(N,M){ze.nextTick(function(){E[s]?M(E[s]):N(c(void 0,!0))})});var I=this[u],D;if(I)D=new Promise(v(I,this));else{var B=this[d].read();if(B!==null)return Promise.resolve(c(B,!1));D=new Promise(this[f])}return this[u]=D,D}},t(e,Symbol.asyncIterator,function(){return this}),t(e,"return",function(){var E=this;return new Promise(function(T,I){E[d].destroy(null,function(D){if(D){I(D);return}T(c(void 0,!0))})})}),e),_),m=function(E){var T,I=Object.create(y,(T={},t(T,d,{value:E,writable:!0}),t(T,a,{value:null,writable:!0}),t(T,o,{value:null,writable:!0}),t(T,s,{value:null,writable:!0}),t(T,l,{value:E._readableState.endEmitted,writable:!0}),t(T,f,{value:function(B,N){var M=I[d].read();M?(I[u]=null,I[a]=null,I[o]=null,B(c(M,!1))):(I[a]=B,I[o]=N)},writable:!0}),T));return I[u]=null,i(E,function(D){if(D&&D.code!=="ERR_STREAM_PREMATURE_CLOSE"){var B=I[o];B!==null&&(I[u]=null,I[a]=null,I[o]=null,B(D)),I[s]=D;return}var N=I[a];N!==null&&(I[u]=null,I[a]=null,I[o]=null,N(c(void 0,!0))),I[l]=!0}),E.on("readable",b.bind(null,I)),I};return Av=m,Av}var Iv,CP;function BK(){return CP||(CP=1,Iv=function(){throw new Error("Readable.from is not available in the browser")}),Iv}var Ov,LP;function Oj(){if(LP)return Ov;LP=1,Ov=N;var e;N.ReadableState=B,Kn().EventEmitter;var t=function(w,x){return w.listeners(x).length},r=Tj(),n=Sr().Buffer,i=(typeof xt<"u"?xt:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function a(R){return n.from(R)}function o(R){return n.isBuffer(R)||R instanceof i}var s=Or(),l;s&&s.debuglog?l=s.debuglog("stream"):l=function(){};var u=FK(),f=Rj(),d=Aj(),c=d.getHighWaterMark,p=sl().codes,b=p.ERR_INVALID_ARG_TYPE,v=p.ERR_STREAM_PUSH_AFTER_EOF,_=p.ERR_METHOD_NOT_IMPLEMENTED,y=p.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,m,g,E;Pr()(N,r);var T=f.errorOrDestroy,I=["error","close","destroy","pause","resume"];function D(R,w,x){if(typeof R.prependListener=="function")return R.prependListener(w,x);!R._events||!R._events[w]?R.on(w,x):Array.isArray(R._events[w])?R._events[w].unshift(x):R._events[w]=[x,R._events[w]]}function B(R,w,x){e=e||qu(),R=R||{},typeof x!="boolean"&&(x=w instanceof e),this.objectMode=!!R.objectMode,x&&(this.objectMode=this.objectMode||!!R.readableObjectMode),this.highWaterMark=c(this,R,"readableHighWaterMark",x),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=R.emitClose!==!1,this.autoDestroy=!!R.autoDestroy,this.destroyed=!1,this.defaultEncoding=R.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,R.encoding&&(m||(m=_a().StringDecoder),this.decoder=new m(R.encoding),this.encoding=R.encoding)}function N(R){if(e=e||qu(),!(this instanceof N))return new N(R);var w=this instanceof e;this._readableState=new B(R,this,w),this.readable=!0,R&&(typeof R.read=="function"&&(this._read=R.read),typeof R.destroy=="function"&&(this._destroy=R.destroy)),r.call(this)}Object.defineProperty(N.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(w){this._readableState&&(this._readableState.destroyed=w)}}),N.prototype.destroy=f.destroy,N.prototype._undestroy=f.undestroy,N.prototype._destroy=function(R,w){w(R)},N.prototype.push=function(R,w){var x=this._readableState,k;return x.objectMode?k=!0:typeof R=="string"&&(w=w||x.defaultEncoding,w!==x.encoding&&(R=n.from(R,w),w=""),k=!0),M(this,R,w,!1,k)},N.prototype.unshift=function(R){return M(this,R,null,!0,!1)};function M(R,w,x,k,U){l("readableAddChunk",w);var re=R._readableState;if(w===null)re.reading=!1,X(R,re);else{var fe;if(U||(fe=O(re,w)),fe)T(R,fe);else if(re.objectMode||w&&w.length>0)if(typeof w!="string"&&!re.objectMode&&Object.getPrototypeOf(w)!==n.prototype&&(w=a(w)),k)re.endEmitted?T(R,new y):j(R,re,w,!0);else if(re.ended)T(R,new v);else{if(re.destroyed)return!1;re.reading=!1,re.decoder&&!x?(w=re.decoder.write(w),re.objectMode||w.length!==0?j(R,re,w,!1):ne(R,re)):j(R,re,w,!1)}else k||(re.reading=!1,ne(R,re))}return!re.ended&&(re.length<re.highWaterMark||re.length===0)}function j(R,w,x,k){w.flowing&&w.length===0&&!w.sync?(w.awaitDrain=0,R.emit("data",x)):(w.length+=w.objectMode?1:x.length,k?w.buffer.unshift(x):w.buffer.push(x),w.needReadable&&le(R)),ne(R,w)}function O(R,w){var x;return!o(w)&&typeof w!="string"&&w!==void 0&&!R.objectMode&&(x=new b("chunk",["string","Buffer","Uint8Array"],w)),x}N.prototype.isPaused=function(){return this._readableState.flowing===!1},N.prototype.setEncoding=function(R){m||(m=_a().StringDecoder);var w=new m(R);this._readableState.decoder=w,this._readableState.encoding=this._readableState.decoder.encoding;for(var x=this._readableState.buffer.head,k="";x!==null;)k+=w.write(x.data),x=x.next;return this._readableState.buffer.clear(),k!==""&&this._readableState.buffer.push(k),this._readableState.length=k.length,this};var q=1073741824;function Q(R){return R>=q?R=q:(R--,R|=R>>>1,R|=R>>>2,R|=R>>>4,R|=R>>>8,R|=R>>>16,R++),R}function ie(R,w){return R<=0||w.length===0&&w.ended?0:w.objectMode?1:R!==R?w.flowing&&w.length?w.buffer.head.data.length:w.length:(R>w.highWaterMark&&(w.highWaterMark=Q(R)),R<=w.length?R:w.ended?w.length:(w.needReadable=!0,0))}N.prototype.read=function(R){l("read",R),R=parseInt(R,10);var w=this._readableState,x=R;if(R!==0&&(w.emittedReadable=!1),R===0&&w.needReadable&&((w.highWaterMark!==0?w.length>=w.highWaterMark:w.length>0)||w.ended))return l("read: emitReadable",w.length,w.ended),w.length===0&&w.ended?$(this):le(this),null;if(R=ie(R,w),R===0&&w.ended)return w.length===0&&$(this),null;var k=w.needReadable;l("need readable",k),(w.length===0||w.length-R<w.highWaterMark)&&(k=!0,l("length less than watermark",k)),w.ended||w.reading?(k=!1,l("reading or ended",k)):k&&(l("do read"),w.reading=!0,w.sync=!0,w.length===0&&(w.needReadable=!0),this._read(w.highWaterMark),w.sync=!1,w.reading||(R=ie(x,w)));var U;return R>0?U=A(R,w):U=null,U===null?(w.needReadable=w.length<=w.highWaterMark,R=0):(w.length-=R,w.awaitDrain=0),w.length===0&&(w.ended||(w.needReadable=!0),x!==R&&w.ended&&$(this)),U!==null&&this.emit("data",U),U};function X(R,w){if(l("onEofChunk"),!w.ended){if(w.decoder){var x=w.decoder.end();x&&x.length&&(w.buffer.push(x),w.length+=w.objectMode?1:x.length)}w.ended=!0,w.sync?le(R):(w.needReadable=!1,w.emittedReadable||(w.emittedReadable=!0,ae(R)))}}function le(R){var w=R._readableState;l("emitReadable",w.needReadable,w.emittedReadable),w.needReadable=!1,w.emittedReadable||(l("emitReadable",w.flowing),w.emittedReadable=!0,ze.nextTick(ae,R))}function ae(R){var w=R._readableState;l("emitReadable_",w.destroyed,w.length,w.ended),!w.destroyed&&(w.length||w.ended)&&(R.emit("readable"),w.emittedReadable=!1),w.needReadable=!w.flowing&&!w.ended&&w.length<=w.highWaterMark,P(R)}function ne(R,w){w.readingMore||(w.readingMore=!0,ze.nextTick(V,R,w))}function V(R,w){for(;!w.reading&&!w.ended&&(w.length<w.highWaterMark||w.flowing&&w.length===0);){var x=w.length;if(l("maybeReadMore read 0"),R.read(0),x===w.length)break}w.readingMore=!1}N.prototype._read=function(R){T(this,new _("_read()"))},N.prototype.pipe=function(R,w){var x=this,k=this._readableState;switch(k.pipesCount){case 0:k.pipes=R;break;case 1:k.pipes=[k.pipes,R];break;default:k.pipes.push(R);break}k.pipesCount+=1,l("pipe count=%d opts=%j",k.pipesCount,w);var U=(!w||w.end!==!1)&&R!==ze.stdout&&R!==ze.stderr,re=U?ve:ke;k.endEmitted?ze.nextTick(re):x.once("end",re),R.on("unpipe",fe);function fe(Ze,Ue){l("onunpipe"),Ze===x&&Ue&&Ue.hasUnpiped===!1&&(Ue.hasUnpiped=!0,be())}function ve(){l("onend"),R.end()}var ce=oe(x);R.on("drain",ce);var Ie=!1;function be(){l("cleanup"),R.removeListener("close",Ae),R.removeListener("finish",Pe),R.removeListener("drain",ce),R.removeListener("error",je),R.removeListener("unpipe",fe),x.removeListener("end",ve),x.removeListener("end",ke),x.removeListener("data",xe),Ie=!0,k.awaitDrain&&(!R._writableState||R._writableState.needDrain)&&ce()}x.on("data",xe);function xe(Ze){l("ondata");var Ue=R.write(Ze);l("dest.write",Ue),Ue===!1&&((k.pipesCount===1&&k.pipes===R||k.pipesCount>1&&pe(k.pipes,R)!==-1)&&!Ie&&(l("false write response, pause",k.awaitDrain),k.awaitDrain++),x.pause())}function je(Ze){l("onerror",Ze),ke(),R.removeListener("error",je),t(R,"error")===0&&T(R,Ze)}D(R,"error",je);function Ae(){R.removeListener("finish",Pe),ke()}R.once("close",Ae);function Pe(){l("onfinish"),R.removeListener("close",Ae),ke()}R.once("finish",Pe);function ke(){l("unpipe"),x.unpipe(R)}return R.emit("pipe",x),k.flowing||(l("pipe resume"),x.resume()),R};function oe(R){return function(){var x=R._readableState;l("pipeOnDrain",x.awaitDrain),x.awaitDrain&&x.awaitDrain--,x.awaitDrain===0&&t(R,"data")&&(x.flowing=!0,P(R))}}N.prototype.unpipe=function(R){var w=this._readableState,x={hasUnpiped:!1};if(w.pipesCount===0)return this;if(w.pipesCount===1)return R&&R!==w.pipes?this:(R||(R=w.pipes),w.pipes=null,w.pipesCount=0,w.flowing=!1,R&&R.emit("unpipe",this,x),this);if(!R){var k=w.pipes,U=w.pipesCount;w.pipes=null,w.pipesCount=0,w.flowing=!1;for(var re=0;re<U;re++)k[re].emit("unpipe",this,{hasUnpiped:!1});return this}var fe=pe(w.pipes,R);return fe===-1?this:(w.pipes.splice(fe,1),w.pipesCount-=1,w.pipesCount===1&&(w.pipes=w.pipes[0]),R.emit("unpipe",this,x),this)},N.prototype.on=function(R,w){var x=r.prototype.on.call(this,R,w),k=this._readableState;return R==="data"?(k.readableListening=this.listenerCount("readable")>0,k.flowing!==!1&&this.resume()):R==="readable"&&!k.endEmitted&&!k.readableListening&&(k.readableListening=k.needReadable=!0,k.flowing=!1,k.emittedReadable=!1,l("on readable",k.length,k.reading),k.length?le(this):k.reading||ze.nextTick(Y,this)),x},N.prototype.addListener=N.prototype.on,N.prototype.removeListener=function(R,w){var x=r.prototype.removeListener.call(this,R,w);return R==="readable"&&ze.nextTick(he,this),x},N.prototype.removeAllListeners=function(R){var w=r.prototype.removeAllListeners.apply(this,arguments);return(R==="readable"||R===void 0)&&ze.nextTick(he,this),w};function he(R){var w=R._readableState;w.readableListening=R.listenerCount("readable")>0,w.resumeScheduled&&!w.paused?w.flowing=!0:R.listenerCount("data")>0&&R.resume()}function Y(R){l("readable nexttick read 0"),R.read(0)}N.prototype.resume=function(){var R=this._readableState;return R.flowing||(l("resume"),R.flowing=!R.readableListening,Z(this,R)),R.paused=!1,this};function Z(R,w){w.resumeScheduled||(w.resumeScheduled=!0,ze.nextTick(ee,R,w))}function ee(R,w){l("resume",w.reading),w.reading||R.read(0),w.resumeScheduled=!1,R.emit("resume"),P(R),w.flowing&&!w.reading&&R.read(0)}N.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function P(R){var w=R._readableState;for(l("flow",w.flowing);w.flowing&&R.read()!==null;);}N.prototype.wrap=function(R){var w=this,x=this._readableState,k=!1;R.on("end",function(){if(l("wrapped end"),x.decoder&&!x.ended){var fe=x.decoder.end();fe&&fe.length&&w.push(fe)}w.push(null)}),R.on("data",function(fe){if(l("wrapped data"),x.decoder&&(fe=x.decoder.write(fe)),!(x.objectMode&&fe==null)&&!(!x.objectMode&&(!fe||!fe.length))){var ve=w.push(fe);ve||(k=!0,R.pause())}});for(var U in R)this[U]===void 0&&typeof R[U]=="function"&&(this[U]=function(ve){return function(){return R[ve].apply(R,arguments)}}(U));for(var re=0;re<I.length;re++)R.on(I[re],this.emit.bind(this,I[re]));return this._read=function(fe){l("wrapped _read",fe),k&&(k=!1,R.resume())},this},typeof Symbol=="function"&&(N.prototype[Symbol.asyncIterator]=function(){return g===void 0&&(g=jK()),g(this)}),Object.defineProperty(N.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(N.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(N.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(w){this._readableState&&(this._readableState.flowing=w)}}),N._fromList=A,Object.defineProperty(N.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function A(R,w){if(w.length===0)return null;var x;return w.objectMode?x=w.buffer.shift():!R||R>=w.length?(w.decoder?x=w.buffer.join(""):w.buffer.length===1?x=w.buffer.first():x=w.buffer.concat(w.length),w.buffer.clear()):x=w.buffer.consume(R,w.decoder),x}function $(R){var w=R._readableState;l("endReadable",w.endEmitted),w.endEmitted||(w.ended=!0,ze.nextTick(te,w,R))}function te(R,w){if(l("endReadableNT",R.endEmitted,R.length),!R.endEmitted&&R.length===0&&(R.endEmitted=!0,w.readable=!1,w.emit("end"),R.autoDestroy)){var x=w._writableState;(!x||x.autoDestroy&&x.finished)&&w.destroy()}}typeof Symbol=="function"&&(N.from=function(R,w){return E===void 0&&(E=BK()),E(N,R,w)});function pe(R,w){for(var x=0,k=R.length;x<k;x++)if(R[x]===w)return x;return-1}return Ov}var Pv,MP;function Pj(){if(MP)return Pv;MP=1,Pv=s;var e=sl().codes,t=e.ERR_METHOD_NOT_IMPLEMENTED,r=e.ERR_MULTIPLE_CALLBACK,n=e.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=e.ERR_TRANSFORM_WITH_LENGTH_0,a=qu();Pr()(s,a);function o(f,d){var c=this._transformState;c.transforming=!1;var p=c.writecb;if(p===null)return this.emit("error",new r);c.writechunk=null,c.writecb=null,d!=null&&this.push(d),p(f);var b=this._readableState;b.reading=!1,(b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}function s(f){if(!(this instanceof s))return new s(f);a.call(this,f),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",l)}function l(){var f=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(d,c){u(f,d,c)}):u(this,null,null)}s.prototype.push=function(f,d){return this._transformState.needTransform=!1,a.prototype.push.call(this,f,d)},s.prototype._transform=function(f,d,c){c(new t("_transform()"))},s.prototype._write=function(f,d,c){var p=this._transformState;if(p.writecb=c,p.writechunk=f,p.writeencoding=d,!p.transforming){var b=this._readableState;(p.needTransform||b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}},s.prototype._read=function(f){var d=this._transformState;d.writechunk!==null&&!d.transforming?(d.transforming=!0,this._transform(d.writechunk,d.writeencoding,d.afterTransform)):d.needTransform=!0},s.prototype._destroy=function(f,d){a.prototype._destroy.call(this,f,function(c){d(c)})};function u(f,d,c){if(d)return f.emit("error",d);if(c!=null&&f.push(c),f._writableState.length)throw new i;if(f._transformState.transforming)throw new n;return f.push(null)}return Pv}var Dv,kP;function qK(){if(kP)return Dv;kP=1,Dv=t;var e=Pj();Pr()(t,e);function t(r){if(!(this instanceof t))return new t(r);e.call(this,r)}return t.prototype._transform=function(r,n,i){i(null,r)},Dv}var Nv,FP;function $K(){if(FP)return Nv;FP=1;var e;function t(c){var p=!1;return function(){p||(p=!0,c.apply(void 0,arguments))}}var r=sl().codes,n=r.ERR_MISSING_ARGS,i=r.ERR_STREAM_DESTROYED;function a(c){if(c)throw c}function o(c){return c.setHeader&&typeof c.abort=="function"}function s(c,p,b,v){v=t(v);var _=!1;c.on("close",function(){_=!0}),e===void 0&&(e=xS()),e(c,{readable:p,writable:b},function(m){if(m)return v(m);_=!0,v()});var y=!1;return function(m){if(!_&&!y){if(y=!0,o(c))return c.abort();if(typeof c.destroy=="function")return c.destroy();v(m||new i("pipe"))}}}function l(c){c()}function u(c,p){return c.pipe(p)}function f(c){return!c.length||typeof c[c.length-1]!="function"?a:c.pop()}function d(){for(var c=arguments.length,p=new Array(c),b=0;b<c;b++)p[b]=arguments[b];var v=f(p);if(Array.isArray(p[0])&&(p=p[0]),p.length<2)throw new n("streams");var _,y=p.map(function(m,g){var E=g<p.length-1,T=g>0;return s(m,E,T,function(I){_||(_=I),I&&y.forEach(l),!E&&(y.forEach(l),v(_))})});return p.reduce(u)}return Nv=d,Nv}var jP;function ul(){return jP||(jP=1,function(e,t){t=e.exports=Oj(),t.Stream=t,t.Readable=t,t.Writable=Ij(),t.Duplex=qu(),t.Transform=Pj(),t.PassThrough=qK(),t.finished=xS(),t.pipeline=$K()}(c0,c0.exports)),c0.exports}var Cv={exports:{}},Lv,BP;function UK(){if(BP)return Lv;BP=1;var e=[],t=[],r=function(){};function n(c){return~e.indexOf(c)?!1:(e.push(c),!0)}function i(c){r=c}function a(c){for(var p=[],b=0;b<e.length;b++){if(e[b].async){p.push(e[b]);continue}if(e[b](c))return!0}return p.length?new Promise(function(_){Promise.all(p.map(function(m){return m(c)})).then(function(m){_(m.some(Boolean))})}):!1}function o(c){return~t.indexOf(c)?!1:(t.push(c),!0)}function s(){r.apply(r,arguments)}function l(c){for(var p=0;p<t.length;p++)c=t[p].apply(t[p],arguments);return c}function u(c,p){var b=Object.prototype.hasOwnProperty;for(var v in p)b.call(p,v)&&(c[v]=p[v]);return c}function f(c){return c.enabled=!1,c.modify=o,c.set=i,c.use=n,u(function(){return!1},c)}function d(c){function p(){var b=Array.prototype.slice.call(arguments,0);return s.call(s,c,l(b,c)),!0}return c.enabled=!0,c.modify=o,c.set=i,c.use=n,u(p,c)}return Lv=function(p){return p.introduce=u,p.enabled=a,p.process=l,p.modify=o,p.write=s,p.nope=f,p.yep=d,p.set=i,p.use=n,p},Lv}var Mv,qP;function HK(){if(qP)return Mv;qP=1;var e=UK(),t=e(function r(n,i){return i=i||{},i.namespace=n,i.prod=!0,i.dev=!1,i.force||r.force?r.yep(i):r.nope(i)});return Mv=t,Mv}var $P;function Nm(){return $P||($P=1,Cv.exports=HK()),Cv.exports}var kv,UP;function VK(){if(UP)return kv;UP=1;var e=sj,t=_a(),r=t.StringDecoder,n=ul(),i=n.Stream;function a(){}return kv=function(o,s){var l=Yn.alloc(65536),u=new r("utf8"),f=new i,d="",c=0,p=0;return o.start===-1&&delete o.start,f.readable=!0,f.destroy=function(){f.destroyed=!0,f.emit("end"),f.emit("close")},e.open(o.file,"a+","0644",function(b,v){if(b){s?s(b):f.emit("error",b),f.destroy();return}(function _(){if(f.destroyed){e.close(v,a);return}return e.read(v,l,0,l.length,c,function(y,m){if(y){s?s(y):f.emit("error",y),f.destroy();return}if(!m)return d&&((o.start==null||p>o.start)&&(s?s(null,d):f.emit("line",d)),p++,d=""),setTimeout(_,1e3);var g=u.write(l.slice(0,m));s||f.emit("data",g),g=(d+g).split(/\n+/);for(var E=g.length-1,T=0;T<E;T++)(o.start==null||p>o.start)&&(s?s(null,g[T]):f.emit("line",g[T])),p++;return d=g[E],c+=m,_()})})()}),s?f.destroy:f},kv}var Fv,HP;function zK(){if(HP)return Fv;HP=1;function e(M){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},e(M)}function t(M,j){if(!(M instanceof j))throw new TypeError("Cannot call a class as a function")}function r(M,j){for(var O=0;O<j.length;O++){var q=j[O];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(M,i(q.key),q)}}function n(M,j,O){return r(M.prototype,j),Object.defineProperty(M,"prototype",{writable:!1}),M}function i(M){var j=a(M,"string");return e(j)=="symbol"?j:j+""}function a(M,j){if(e(M)!="object"||!M)return M;var O=M[Symbol.toPrimitive];if(O!==void 0){var q=O.call(M,j);if(e(q)!="object")return q;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(M)}function o(M,j,O){return j=f(j),s(M,u()?Reflect.construct(j,O,f(M).constructor):j.apply(M,O))}function s(M,j){if(j&&(e(j)=="object"||typeof j=="function"))return j;if(j!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l(M)}function l(M){if(M===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}function u(){try{var M=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u=function(){return!!M})()}function f(M){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(j){return j.__proto__||Object.getPrototypeOf(j)},f(M)}function d(M,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(j&&j.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),Object.defineProperty(M,"prototype",{writable:!1}),j&&c(M,j)}function c(M,j){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(O,q){return O.__proto__=q,O},c(M,j)}var p=sj,b=eK(),v=fK(),_=kK(),y=Dr(),m=y.MESSAGE,g=ul(),E=g.Stream,T=g.PassThrough,I=Wh(),D=Nm()("winston:file"),B=il(),N=VK();return Fv=function(M){function j(){var O,q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t(this,j),O=o(this,j,[q]),O.name=q.name||"file";function Q(ie){for(var X=arguments.length,le=new Array(X>1?X-1:0),ae=1;ae<X;ae++)le[ae-1]=arguments[ae];le.slice(1).forEach(function(ne){if(q[ne])throw new Error("Cannot set ".concat(ne," and ").concat(ie," together"))})}if(O._stream=new T,O._stream.setMaxListeners(30),O._onError=O._onError.bind(O),q.filename||q.dirname)Q("filename or dirname","stream"),O._basename=O.filename=q.filename?b.basename(q.filename):"winston.log",O.dirname=q.dirname||b.dirname(q.filename),O.options=q.options||{flags:"a"};else if(q.stream)console.warn("options.stream will be removed in winston@4. Use winston.transports.Stream"),Q("stream","filename","maxsize"),O._dest=O._stream.pipe(O._setupStream(q.stream)),O.dirname=b.dirname(O._dest.path);else throw new Error("Cannot log to file without filename or stream.");return O.maxsize=q.maxsize||null,O.rotationFormat=q.rotationFormat||!1,O.zippedArchive=q.zippedArchive||!1,O.maxFiles=q.maxFiles||null,O.eol=typeof q.eol=="string"?q.eol:B.EOL,O.tailable=q.tailable||!1,O.lazy=q.lazy||!1,O._size=0,O._pendingSize=0,O._created=0,O._drain=!1,O._opening=!1,O._ending=!1,O._fileExist=!1,O.dirname&&O._createLogDirIfNotExist(O.dirname),O.lazy||O.open(),O}return d(j,M),n(j,[{key:"finishIfEnding",value:function(){var q=this;this._ending&&(this._opening?this.once("open",function(){q._stream.once("finish",function(){return q.emit("finish")}),setImmediate(function(){return q._stream.end()})}):(this._stream.once("finish",function(){return q.emit("finish")}),setImmediate(function(){return q._stream.end()})))}},{key:"log",value:function(q){var Q=this,ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){};if(this.silent)return ie(),!0;if(this._drain){this._stream.once("drain",function(){Q._drain=!1,Q.log(q,ie)});return}if(this._rotate){this._stream.once("rotate",function(){Q._rotate=!1,Q.log(q,ie)});return}if(this.lazy){if(!this._fileExist){this._opening||this.open(),this.once("open",function(){Q._fileExist=!0,Q.log(q,ie)});return}if(this._needsNewFile(this._pendingSize)){this._dest.once("close",function(){Q._opening||Q.open(),Q.once("open",function(){Q.log(q,ie)})});return}}var X="".concat(q[m]).concat(this.eol),le=Yn.byteLength(X);function ae(){var V=this;if(this._size+=le,this._pendingSize-=le,D("logged %s %s",this._size,X),this.emit("logged",q),!this._rotate&&!this._opening&&this._needsNewFile()){if(this.lazy){this._endStream(function(){V.emit("fileclosed")});return}this._rotate=!0,this._endStream(function(){return V._rotateFile()})}}this._pendingSize+=le,this._opening&&!this.rotatedWhileOpening&&this._needsNewFile(this._size+this._pendingSize)&&(this.rotatedWhileOpening=!0);var ne=this._stream.write(X,ae.bind(this));return ne?ie():(this._drain=!0,this._stream.once("drain",function(){Q._drain=!1,ie()})),D("written",ne,this._drain),this.finishIfEnding(),ne}},{key:"query",value:function(q,Q){typeof q=="function"&&(Q=q,q={}),q=Y(q);var ie=b.join(this.dirname,this.filename),X="",le=[],ae=0,ne=p.createReadStream(ie,{encoding:"utf8"});ne.on("error",function(Z){if(ne.readable&&ne.destroy(),!!Q)return Z.code!=="ENOENT"?Q(Z):Q(null,le)}),ne.on("data",function(Z){Z=(X+Z).split(/\n+/);for(var ee=Z.length-1,P=0;P<ee;P++)(!q.start||ae>=q.start)&&V(Z[P]),ae++;X=Z[ee]}),ne.on("close",function(){X&&V(X,!0),q.order==="desc"&&(le=le.reverse()),Q&&Q(null,le)});function V(Z,ee){try{var P=JSON.parse(Z);he(P)&&oe(P)}catch(A){ee||ne.emit("error",A)}}function oe(Z){if(q.rows&&le.length>=q.rows&&q.order!=="desc"){ne.readable&&ne.destroy();return}q.fields&&(Z=q.fields.reduce(function(ee,P){return ee[P]=Z[P],ee},{})),q.order==="desc"&&le.length>=q.rows&&le.shift(),le.push(Z)}function he(Z){if(Z&&e(Z)==="object"){var ee=new Date(Z.timestamp);if(!(q.from&&ee<q.from||q.until&&ee>q.until||q.level&&q.level!==Z.level))return!0}}function Y(Z){return Z=Z||{},Z.rows=Z.rows||Z.limit||10,Z.start=Z.start||0,Z.until=Z.until||new Date,e(Z.until)!=="object"&&(Z.until=new Date(Z.until)),Z.from=Z.from||Z.until-24*60*60*1e3,e(Z.from)!=="object"&&(Z.from=new Date(Z.from)),Z.order=Z.order||"desc",Z}}},{key:"stream",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q=b.join(this.dirname,this.filename),ie=new E,X={file:Q,start:q.start};return ie.destroy=N(X,function(le,ae){if(le)return ie.emit("error",le);try{ie.emit("data",ae),ae=JSON.parse(ae),ie.emit("log",ae)}catch(ne){ie.emit("error",ne)}}),ie}},{key:"open",value:function(){var q=this;this.filename&&(this._opening||(this._opening=!0,this.stat(function(Q,ie){if(Q)return q.emit("error",Q);D("stat done: %s { size: %s }",q.filename,ie),q._size=ie,q._dest=q._createStream(q._stream),q._opening=!1,q.once("open",function(){q._stream.emit("rotate")||(q._rotate=!1)})})))}},{key:"stat",value:function(q){var Q=this,ie=this._getFile(),X=b.join(this.dirname,ie);p.stat(X,function(le,ae){if(le&&le.code==="ENOENT")return D("ENOENTok",X),Q.filename=ie,q(null,0);if(le)return D("err ".concat(le.code," ").concat(X)),q(le);if(!ae||Q._needsNewFile(ae.size))return Q._incFile(function(){return Q.stat(q)});Q.filename=ie,q(null,ae.size)})}},{key:"close",value:function(q){var Q=this;this._stream&&this._stream.end(function(){q&&q(),Q.emit("flush"),Q.emit("closed")})}},{key:"_needsNewFile",value:function(q){return q=q||this._size,this.maxsize&&q>=this.maxsize}},{key:"_onError",value:function(q){this.emit("error",q)}},{key:"_setupStream",value:function(q){return q.on("error",this._onError),q}},{key:"_cleanupStream",value:function(q){return q.removeListener("error",this._onError),q.destroy(),q}},{key:"_rotateFile",value:function(){var q=this;this._incFile(function(){return q.open()})}},{key:"_endStream",value:function(){var q=this,Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){};this._dest?(this._stream.unpipe(this._dest),this._dest.end(function(){q._cleanupStream(q._dest),Q()})):Q()}},{key:"_createStream",value:function(q){var Q=this,ie=b.join(this.dirname,this.filename);D("create stream start",ie,this.options);var X=p.createWriteStream(ie,this.options).on("error",function(le){return D(le)}).on("close",function(){return D("close",X.path,X.bytesWritten)}).on("open",function(){D("file open ok",ie),Q.emit("open",ie),q.pipe(X),Q.rotatedWhileOpening&&(Q._stream=new T,Q._stream.setMaxListeners(30),Q._rotateFile(),Q.rotatedWhileOpening=!1,Q._cleanupStream(X),q.end())});return D("create stream ok",ie),X}},{key:"_incFile",value:function(q){D("_incFile",this.filename);var Q=b.extname(this._basename),ie=b.basename(this._basename,Q),X=[];this.zippedArchive&&X.push((function(le){var ae=this._created>0&&!this.tailable?this._created:"";this._compressFile(b.join(this.dirname,"".concat(ie).concat(ae).concat(Q)),b.join(this.dirname,"".concat(ie).concat(ae).concat(Q,".gz")),le)}).bind(this)),X.push((function(le){this.tailable?this._checkMaxFilesTailable(Q,ie,le):(this._created+=1,this._checkMaxFilesIncrementing(Q,ie,le))}).bind(this)),v(X,q)}},{key:"_getFile",value:function(){var q=b.extname(this._basename),Q=b.basename(this._basename,q),ie=this.rotationFormat?this.rotationFormat():this._created;return!this.tailable&&this._created?"".concat(Q).concat(ie).concat(q):"".concat(Q).concat(q)}},{key:"_checkMaxFilesIncrementing",value:function(q,Q,ie){if(!this.maxFiles||this._created<this.maxFiles)return setImmediate(ie);var X=this._created-this.maxFiles,le=X!==0?X:"",ae=this.zippedArchive?".gz":"",ne="".concat(Q).concat(le).concat(q).concat(ae),V=b.join(this.dirname,ne);p.unlink(V,ie)}},{key:"_checkMaxFilesTailable",value:function(q,Q,ie){var X=this,le=[];if(this.maxFiles){for(var ae=this.zippedArchive?".gz":"",ne=this.maxFiles-1;ne>1;ne--)le.push((function(V,oe){var he=this,Y="".concat(Q).concat(V-1).concat(q).concat(ae),Z=b.join(this.dirname,Y);p.exists(Z,function(ee){if(!ee)return oe(null);Y="".concat(Q).concat(V).concat(q).concat(ae),p.rename(Z,b.join(he.dirname,Y),oe)})}).bind(this,ne));v(le,function(){p.rename(b.join(X.dirname,"".concat(Q).concat(q).concat(ae)),b.join(X.dirname,"".concat(Q,"1").concat(q).concat(ae)),ie)})}}},{key:"_compressFile",value:function(q,Q,ie){p.access(q,p.F_OK,function(X){if(X)return ie();var le=_.createGzip(),ae=p.createReadStream(q),ne=p.createWriteStream(Q);ne.on("finish",function(){p.unlink(q,ie)}),ae.pipe(le).pipe(ne)})}},{key:"_createLogDirIfNotExist",value:function(q){p.existsSync(q)||p.mkdirSync(q,{recursive:!0})}}])}(I),Fv}var jv={},Bv={exports:{}},qv={},VP;function Dj(){return VP||(VP=1,function(e){e.fetch=i(xt.fetch)&&i(xt.ReadableStream),e.writableStream=i(xt.WritableStream),e.abortController=i(xt.AbortController);var t;function r(){if(t!==void 0)return t;if(xt.XMLHttpRequest){t=new xt.XMLHttpRequest;try{t.open("GET",xt.XDomainRequest?"/":"https://example.com")}catch{t=null}}else t=null;return t}function n(a){var o=r();if(!o)return!1;try{return o.responseType=a,o.responseType===a}catch{}return!1}e.arraybuffer=e.fetch||n("arraybuffer"),e.msstream=!e.fetch&&n("ms-stream"),e.mozchunkedarraybuffer=!e.fetch&&n("moz-chunked-arraybuffer"),e.overrideMimeType=e.fetch||(r()?i(r().overrideMimeType):!1);function i(a){return typeof a=="function"}t=null}(qv)),qv}var d0={},h0={exports:{}},$v,zP;function Nj(){return zP||(zP=1,$v=Kn().EventEmitter),$v}var Uv,WP;function WK(){if(WP)return Uv;WP=1;function e(b,v){var _=Object.keys(b);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(b);v&&(y=y.filter(function(m){return Object.getOwnPropertyDescriptor(b,m).enumerable})),_.push.apply(_,y)}return _}function t(b){for(var v=1;v<arguments.length;v++){var _=arguments[v]!=null?arguments[v]:{};v%2?e(Object(_),!0).forEach(function(y){r(b,y,_[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(_)):e(Object(_)).forEach(function(y){Object.defineProperty(b,y,Object.getOwnPropertyDescriptor(_,y))})}return b}function r(b,v,_){return v=o(v),v in b?Object.defineProperty(b,v,{value:_,enumerable:!0,configurable:!0,writable:!0}):b[v]=_,b}function n(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}function i(b,v){for(var _=0;_<v.length;_++){var y=v[_];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(b,o(y.key),y)}}function a(b,v,_){return i(b.prototype,v),Object.defineProperty(b,"prototype",{writable:!1}),b}function o(b){var v=s(b,"string");return typeof v=="symbol"?v:String(v)}function s(b,v){if(typeof b!="object"||b===null)return b;var _=b[Symbol.toPrimitive];if(_!==void 0){var y=_.call(b,v);if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(b)}var l=Sr(),u=l.Buffer,f=Or(),d=f.inspect,c=d&&d.custom||"inspect";function p(b,v,_){u.prototype.copy.call(b,v,_)}return Uv=function(){function b(){n(this,b),this.head=null,this.tail=null,this.length=0}return a(b,[{key:"push",value:function(_){var y={data:_,next:null};this.length>0?this.tail.next=y:this.head=y,this.tail=y,++this.length}},{key:"unshift",value:function(_){var y={data:_,next:this.head};this.length===0&&(this.tail=y),this.head=y,++this.length}},{key:"shift",value:function(){if(this.length!==0){var _=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,_}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(_){if(this.length===0)return"";for(var y=this.head,m=""+y.data;y=y.next;)m+=_+y.data;return m}},{key:"concat",value:function(_){if(this.length===0)return u.alloc(0);for(var y=u.allocUnsafe(_>>>0),m=this.head,g=0;m;)p(m.data,y,g),g+=m.data.length,m=m.next;return y}},{key:"consume",value:function(_,y){var m;return _<this.head.data.length?(m=this.head.data.slice(0,_),this.head.data=this.head.data.slice(_)):_===this.head.data.length?m=this.shift():m=y?this._getString(_):this._getBuffer(_),m}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(_){var y=this.head,m=1,g=y.data;for(_-=g.length;y=y.next;){var E=y.data,T=_>E.length?E.length:_;if(T===E.length?g+=E:g+=E.slice(0,_),_-=T,_===0){T===E.length?(++m,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=E.slice(T));break}++m}return this.length-=m,g}},{key:"_getBuffer",value:function(_){var y=u.allocUnsafe(_),m=this.head,g=1;for(m.data.copy(y),_-=m.data.length;m=m.next;){var E=m.data,T=_>E.length?E.length:_;if(E.copy(y,y.length-_,0,T),_-=T,_===0){T===E.length?(++g,m.next?this.head=m.next:this.head=this.tail=null):(this.head=m,m.data=E.slice(T));break}++g}return this.length-=g,y}},{key:c,value:function(_,y){return d(this,t(t({},y),{},{depth:0,customInspect:!1}))}}]),b}(),Uv}var Hv,GP;function Cj(){if(GP)return Hv;GP=1;function e(o,s){var l=this,u=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return u||f?(s?s(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,ze.nextTick(i,this,o)):ze.nextTick(i,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(d){!s&&d?l._writableState?l._writableState.errorEmitted?ze.nextTick(r,l):(l._writableState.errorEmitted=!0,ze.nextTick(t,l,d)):ze.nextTick(t,l,d):s?(ze.nextTick(r,l),s(d)):ze.nextTick(r,l)}),this)}function t(o,s){i(o,s),r(o)}function r(o){o._writableState&&!o._writableState.emitClose||o._readableState&&!o._readableState.emitClose||o.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(o,s){o.emit("error",s)}function a(o,s){var l=o._readableState,u=o._writableState;l&&l.autoDestroy||u&&u.autoDestroy?o.destroy(s):o.emit("error",s)}return Hv={destroy:e,undestroy:n,errorOrDestroy:a},Hv}var Vv={},KP;function ll(){if(KP)return Vv;KP=1;function e(s,l){s.prototype=Object.create(l.prototype),s.prototype.constructor=s,s.__proto__=l}var t={};function r(s,l,u){u||(u=Error);function f(c,p,b){return typeof l=="string"?l:l(c,p,b)}var d=function(c){e(p,c);function p(b,v,_){return c.call(this,f(b,v,_))||this}return p}(u);d.prototype.name=u.name,d.prototype.code=s,t[s]=d}function n(s,l){if(Array.isArray(s)){var u=s.length;return s=s.map(function(f){return String(f)}),u>2?"one of ".concat(l," ").concat(s.slice(0,u-1).join(", "),", or ")+s[u-1]:u===2?"one of ".concat(l," ").concat(s[0]," or ").concat(s[1]):"of ".concat(l," ").concat(s[0])}else return"of ".concat(l," ").concat(String(s))}function i(s,l,u){return s.substr(0,l.length)===l}function a(s,l,u){return(u===void 0||u>s.length)&&(u=s.length),s.substring(u-l.length,u)===l}function o(s,l,u){return typeof u!="number"&&(u=0),u+l.length>s.length?!1:s.indexOf(l,u)!==-1}return r("ERR_INVALID_OPT_VALUE",function(s,l){return'The value "'+l+'" is invalid for option "'+s+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(s,l,u){var f;typeof l=="string"&&i(l,"not ")?(f="must not be",l=l.replace(/^not /,"")):f="must be";var d;if(a(s," argument"))d="The ".concat(s," ").concat(f," ").concat(n(l,"type"));else{var c=o(s,".")?"property":"argument";d='The "'.concat(s,'" ').concat(c," ").concat(f," ").concat(n(l,"type"))}return d+=". Received type ".concat(typeof u),d},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(s){return"The "+s+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(s){return"Cannot call "+s+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(s){return"Unknown encoding: "+s},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Vv.codes=t,Vv}var zv,ZP;function Lj(){if(ZP)return zv;ZP=1;var e=ll().codes.ERR_INVALID_OPT_VALUE;function t(n,i,a){return n.highWaterMark!=null?n.highWaterMark:i?n[a]:null}function r(n,i,a,o){var s=t(i,o,a);if(s!=null){if(!(isFinite(s)&&Math.floor(s)===s)||s<0){var l=o?a:"highWaterMark";throw new e(l,s)}return Math.floor(s)}return n.objectMode?16:16*1024}return zv={getHighWaterMark:r},zv}var Wv,YP;function Mj(){if(YP)return Wv;YP=1,Wv=B;function e(P){var A=this;this.next=null,this.entry=null,this.finish=function(){ee(A,P)}}var t;B.WritableState=I;var r={deprecate:Im()},n=Nj(),i=Sr().Buffer,a=(typeof xt<"u"?xt:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function o(P){return i.from(P)}function s(P){return i.isBuffer(P)||P instanceof a}var l=Cj(),u=Lj(),f=u.getHighWaterMark,d=ll().codes,c=d.ERR_INVALID_ARG_TYPE,p=d.ERR_METHOD_NOT_IMPLEMENTED,b=d.ERR_MULTIPLE_CALLBACK,v=d.ERR_STREAM_CANNOT_PIPE,_=d.ERR_STREAM_DESTROYED,y=d.ERR_STREAM_NULL_VALUES,m=d.ERR_STREAM_WRITE_AFTER_END,g=d.ERR_UNKNOWN_ENCODING,E=l.errorOrDestroy;Pr()(B,n);function T(){}function I(P,A,$){t=t||$u(),P=P||{},typeof $!="boolean"&&($=A instanceof t),this.objectMode=!!P.objectMode,$&&(this.objectMode=this.objectMode||!!P.writableObjectMode),this.highWaterMark=f(this,P,"writableHighWaterMark",$),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var te=P.decodeStrings===!1;this.decodeStrings=!te,this.defaultEncoding=P.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(pe){X(A,pe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=P.emitClose!==!1,this.autoDestroy=!!P.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}I.prototype.getBuffer=function(){for(var A=this.bufferedRequest,$=[];A;)$.push(A),A=A.next;return $},function(){try{Object.defineProperty(I.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var D;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(D=Function.prototype[Symbol.hasInstance],Object.defineProperty(B,Symbol.hasInstance,{value:function(A){return D.call(this,A)?!0:this!==B?!1:A&&A._writableState instanceof I}})):D=function(A){return A instanceof this};function B(P){t=t||$u();var A=this instanceof t;if(!A&&!D.call(B,this))return new B(P);this._writableState=new I(P,this,A),this.writable=!0,P&&(typeof P.write=="function"&&(this._write=P.write),typeof P.writev=="function"&&(this._writev=P.writev),typeof P.destroy=="function"&&(this._destroy=P.destroy),typeof P.final=="function"&&(this._final=P.final)),n.call(this)}B.prototype.pipe=function(){E(this,new v)};function N(P,A){var $=new m;E(P,$),ze.nextTick(A,$)}function M(P,A,$,te){var pe;return $===null?pe=new y:typeof $!="string"&&!A.objectMode&&(pe=new c("chunk",["string","Buffer"],$)),pe?(E(P,pe),ze.nextTick(te,pe),!1):!0}B.prototype.write=function(P,A,$){var te=this._writableState,pe=!1,R=!te.objectMode&&s(P);return R&&!i.isBuffer(P)&&(P=o(P)),typeof A=="function"&&($=A,A=null),R?A="buffer":A||(A=te.defaultEncoding),typeof $!="function"&&($=T),te.ending?N(this,$):(R||M(this,te,P,$))&&(te.pendingcb++,pe=O(this,te,R,P,A,$)),pe},B.prototype.cork=function(){this._writableState.corked++},B.prototype.uncork=function(){var P=this._writableState;P.corked&&(P.corked--,!P.writing&&!P.corked&&!P.bufferProcessing&&P.bufferedRequest&&ne(this,P))},B.prototype.setDefaultEncoding=function(A){if(typeof A=="string"&&(A=A.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((A+"").toLowerCase())>-1))throw new g(A);return this._writableState.defaultEncoding=A,this},Object.defineProperty(B.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function j(P,A,$){return!P.objectMode&&P.decodeStrings!==!1&&typeof A=="string"&&(A=i.from(A,$)),A}Object.defineProperty(B.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function O(P,A,$,te,pe,R){if(!$){var w=j(A,te,pe);te!==w&&($=!0,pe="buffer",te=w)}var x=A.objectMode?1:te.length;A.length+=x;var k=A.length<A.highWaterMark;if(k||(A.needDrain=!0),A.writing||A.corked){var U=A.lastBufferedRequest;A.lastBufferedRequest={chunk:te,encoding:pe,isBuf:$,callback:R,next:null},U?U.next=A.lastBufferedRequest:A.bufferedRequest=A.lastBufferedRequest,A.bufferedRequestCount+=1}else q(P,A,!1,x,te,pe,R);return k}function q(P,A,$,te,pe,R,w){A.writelen=te,A.writecb=w,A.writing=!0,A.sync=!0,A.destroyed?A.onwrite(new _("write")):$?P._writev(pe,A.onwrite):P._write(pe,R,A.onwrite),A.sync=!1}function Q(P,A,$,te,pe){--A.pendingcb,$?(ze.nextTick(pe,te),ze.nextTick(Y,P,A),P._writableState.errorEmitted=!0,E(P,te)):(pe(te),P._writableState.errorEmitted=!0,E(P,te),Y(P,A))}function ie(P){P.writing=!1,P.writecb=null,P.length-=P.writelen,P.writelen=0}function X(P,A){var $=P._writableState,te=$.sync,pe=$.writecb;if(typeof pe!="function")throw new b;if(ie($),A)Q(P,$,te,A,pe);else{var R=V($)||P.destroyed;!R&&!$.corked&&!$.bufferProcessing&&$.bufferedRequest&&ne(P,$),te?ze.nextTick(le,P,$,R,pe):le(P,$,R,pe)}}function le(P,A,$,te){$||ae(P,A),A.pendingcb--,te(),Y(P,A)}function ae(P,A){A.length===0&&A.needDrain&&(A.needDrain=!1,P.emit("drain"))}function ne(P,A){A.bufferProcessing=!0;var $=A.bufferedRequest;if(P._writev&&$&&$.next){var te=A.bufferedRequestCount,pe=new Array(te),R=A.corkedRequestsFree;R.entry=$;for(var w=0,x=!0;$;)pe[w]=$,$.isBuf||(x=!1),$=$.next,w+=1;pe.allBuffers=x,q(P,A,!0,A.length,pe,"",R.finish),A.pendingcb++,A.lastBufferedRequest=null,R.next?(A.corkedRequestsFree=R.next,R.next=null):A.corkedRequestsFree=new e(A),A.bufferedRequestCount=0}else{for(;$;){var k=$.chunk,U=$.encoding,re=$.callback,fe=A.objectMode?1:k.length;if(q(P,A,!1,fe,k,U,re),$=$.next,A.bufferedRequestCount--,A.writing)break}$===null&&(A.lastBufferedRequest=null)}A.bufferedRequest=$,A.bufferProcessing=!1}B.prototype._write=function(P,A,$){$(new p("_write()"))},B.prototype._writev=null,B.prototype.end=function(P,A,$){var te=this._writableState;return typeof P=="function"?($=P,P=null,A=null):typeof A=="function"&&($=A,A=null),P!=null&&this.write(P,A),te.corked&&(te.corked=1,this.uncork()),te.ending||Z(this,te,$),this},Object.defineProperty(B.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function V(P){return P.ending&&P.length===0&&P.bufferedRequest===null&&!P.finished&&!P.writing}function oe(P,A){P._final(function($){A.pendingcb--,$&&E(P,$),A.prefinished=!0,P.emit("prefinish"),Y(P,A)})}function he(P,A){!A.prefinished&&!A.finalCalled&&(typeof P._final=="function"&&!A.destroyed?(A.pendingcb++,A.finalCalled=!0,ze.nextTick(oe,P,A)):(A.prefinished=!0,P.emit("prefinish")))}function Y(P,A){var $=V(A);if($&&(he(P,A),A.pendingcb===0&&(A.finished=!0,P.emit("finish"),A.autoDestroy))){var te=P._readableState;(!te||te.autoDestroy&&te.endEmitted)&&P.destroy()}return $}function Z(P,A,$){A.ending=!0,Y(P,A),$&&(A.finished?ze.nextTick($):P.once("finish",$)),A.ended=!0,P.writable=!1}function ee(P,A,$){var te=P.entry;for(P.entry=null;te;){var pe=te.callback;A.pendingcb--,pe($),te=te.next}A.corkedRequestsFree.next=P}return Object.defineProperty(B.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(A){this._writableState&&(this._writableState.destroyed=A)}}),B.prototype.destroy=l.destroy,B.prototype._undestroy=l.undestroy,B.prototype._destroy=function(P,A){A(P)},Wv}var Gv,QP;function $u(){if(QP)return Gv;QP=1;var e=Object.keys||function(u){var f=[];for(var d in u)f.push(d);return f};Gv=o;var t=kj(),r=Mj();Pr()(o,t);for(var n=e(r.prototype),i=0;i<n.length;i++){var a=n[i];o.prototype[a]||(o.prototype[a]=r.prototype[a])}function o(u){if(!(this instanceof o))return new o(u);t.call(this,u),r.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",s)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function s(){this._writableState.ended||ze.nextTick(l,this)}function l(u){u.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(f){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=f,this._writableState.destroyed=f)}}),Gv}var Kv,XP;function TS(){if(XP)return Kv;XP=1;var e=ll().codes.ERR_STREAM_PREMATURE_CLOSE;function t(a){var o=!1;return function(){if(!o){o=!0;for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];a.apply(this,l)}}}function r(){}function n(a){return a.setHeader&&typeof a.abort=="function"}function i(a,o,s){if(typeof o=="function")return i(a,null,o);o||(o={}),s=t(s||r);var l=o.readable||o.readable!==!1&&a.readable,u=o.writable||o.writable!==!1&&a.writable,f=function(){a.writable||c()},d=a._writableState&&a._writableState.finished,c=function(){u=!1,d=!0,l||s.call(a)},p=a._readableState&&a._readableState.endEmitted,b=function(){l=!1,p=!0,u||s.call(a)},v=function(g){s.call(a,g)},_=function(){var g;if(l&&!p)return(!a._readableState||!a._readableState.ended)&&(g=new e),s.call(a,g);if(u&&!d)return(!a._writableState||!a._writableState.ended)&&(g=new e),s.call(a,g)},y=function(){a.req.on("finish",c)};return n(a)?(a.on("complete",c),a.on("abort",_),a.req?y():a.on("request",y)):u&&!a._writableState&&(a.on("end",f),a.on("close",f)),a.on("end",b),a.on("finish",c),o.error!==!1&&a.on("error",v),a.on("close",_),function(){a.removeListener("complete",c),a.removeListener("abort",_),a.removeListener("request",y),a.req&&a.req.removeListener("finish",c),a.removeListener("end",f),a.removeListener("close",f),a.removeListener("finish",c),a.removeListener("end",b),a.removeListener("error",v),a.removeListener("close",_)}}return Kv=i,Kv}var Zv,JP;function GK(){if(JP)return Zv;JP=1;var e;function t(g,E,T){return E=r(E),E in g?Object.defineProperty(g,E,{value:T,enumerable:!0,configurable:!0,writable:!0}):g[E]=T,g}function r(g){var E=n(g,"string");return typeof E=="symbol"?E:String(E)}function n(g,E){if(typeof g!="object"||g===null)return g;var T=g[Symbol.toPrimitive];if(T!==void 0){var I=T.call(g,E||"default");if(typeof I!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return(E==="string"?String:Number)(g)}var i=TS(),a=Symbol("lastResolve"),o=Symbol("lastReject"),s=Symbol("error"),l=Symbol("ended"),u=Symbol("lastPromise"),f=Symbol("handlePromise"),d=Symbol("stream");function c(g,E){return{value:g,done:E}}function p(g){var E=g[a];if(E!==null){var T=g[d].read();T!==null&&(g[u]=null,g[a]=null,g[o]=null,E(c(T,!1)))}}function b(g){ze.nextTick(p,g)}function v(g,E){return function(T,I){g.then(function(){if(E[l]){T(c(void 0,!0));return}E[f](T,I)},I)}}var _=Object.getPrototypeOf(function(){}),y=Object.setPrototypeOf((e={get stream(){return this[d]},next:function(){var E=this,T=this[s];if(T!==null)return Promise.reject(T);if(this[l])return Promise.resolve(c(void 0,!0));if(this[d].destroyed)return new Promise(function(N,M){ze.nextTick(function(){E[s]?M(E[s]):N(c(void 0,!0))})});var I=this[u],D;if(I)D=new Promise(v(I,this));else{var B=this[d].read();if(B!==null)return Promise.resolve(c(B,!1));D=new Promise(this[f])}return this[u]=D,D}},t(e,Symbol.asyncIterator,function(){return this}),t(e,"return",function(){var E=this;return new Promise(function(T,I){E[d].destroy(null,function(D){if(D){I(D);return}T(c(void 0,!0))})})}),e),_),m=function(E){var T,I=Object.create(y,(T={},t(T,d,{value:E,writable:!0}),t(T,a,{value:null,writable:!0}),t(T,o,{value:null,writable:!0}),t(T,s,{value:null,writable:!0}),t(T,l,{value:E._readableState.endEmitted,writable:!0}),t(T,f,{value:function(B,N){var M=I[d].read();M?(I[u]=null,I[a]=null,I[o]=null,B(c(M,!1))):(I[a]=B,I[o]=N)},writable:!0}),T));return I[u]=null,i(E,function(D){if(D&&D.code!=="ERR_STREAM_PREMATURE_CLOSE"){var B=I[o];B!==null&&(I[u]=null,I[a]=null,I[o]=null,B(D)),I[s]=D;return}var N=I[a];N!==null&&(I[u]=null,I[a]=null,I[o]=null,N(c(void 0,!0))),I[l]=!0}),E.on("readable",b.bind(null,I)),I};return Zv=m,Zv}var Yv,e3;function KK(){return e3||(e3=1,Yv=function(){throw new Error("Readable.from is not available in the browser")}),Yv}var Qv,t3;function kj(){if(t3)return Qv;t3=1,Qv=N;var e;N.ReadableState=B,Kn().EventEmitter;var t=function(w,x){return w.listeners(x).length},r=Nj(),n=Sr().Buffer,i=(typeof xt<"u"?xt:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function a(R){return n.from(R)}function o(R){return n.isBuffer(R)||R instanceof i}var s=Or(),l;s&&s.debuglog?l=s.debuglog("stream"):l=function(){};var u=WK(),f=Cj(),d=Lj(),c=d.getHighWaterMark,p=ll().codes,b=p.ERR_INVALID_ARG_TYPE,v=p.ERR_STREAM_PUSH_AFTER_EOF,_=p.ERR_METHOD_NOT_IMPLEMENTED,y=p.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,m,g,E;Pr()(N,r);var T=f.errorOrDestroy,I=["error","close","destroy","pause","resume"];function D(R,w,x){if(typeof R.prependListener=="function")return R.prependListener(w,x);!R._events||!R._events[w]?R.on(w,x):Array.isArray(R._events[w])?R._events[w].unshift(x):R._events[w]=[x,R._events[w]]}function B(R,w,x){e=e||$u(),R=R||{},typeof x!="boolean"&&(x=w instanceof e),this.objectMode=!!R.objectMode,x&&(this.objectMode=this.objectMode||!!R.readableObjectMode),this.highWaterMark=c(this,R,"readableHighWaterMark",x),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=R.emitClose!==!1,this.autoDestroy=!!R.autoDestroy,this.destroyed=!1,this.defaultEncoding=R.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,R.encoding&&(m||(m=_a().StringDecoder),this.decoder=new m(R.encoding),this.encoding=R.encoding)}function N(R){if(e=e||$u(),!(this instanceof N))return new N(R);var w=this instanceof e;this._readableState=new B(R,this,w),this.readable=!0,R&&(typeof R.read=="function"&&(this._read=R.read),typeof R.destroy=="function"&&(this._destroy=R.destroy)),r.call(this)}Object.defineProperty(N.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(w){this._readableState&&(this._readableState.destroyed=w)}}),N.prototype.destroy=f.destroy,N.prototype._undestroy=f.undestroy,N.prototype._destroy=function(R,w){w(R)},N.prototype.push=function(R,w){var x=this._readableState,k;return x.objectMode?k=!0:typeof R=="string"&&(w=w||x.defaultEncoding,w!==x.encoding&&(R=n.from(R,w),w=""),k=!0),M(this,R,w,!1,k)},N.prototype.unshift=function(R){return M(this,R,null,!0,!1)};function M(R,w,x,k,U){l("readableAddChunk",w);var re=R._readableState;if(w===null)re.reading=!1,X(R,re);else{var fe;if(U||(fe=O(re,w)),fe)T(R,fe);else if(re.objectMode||w&&w.length>0)if(typeof w!="string"&&!re.objectMode&&Object.getPrototypeOf(w)!==n.prototype&&(w=a(w)),k)re.endEmitted?T(R,new y):j(R,re,w,!0);else if(re.ended)T(R,new v);else{if(re.destroyed)return!1;re.reading=!1,re.decoder&&!x?(w=re.decoder.write(w),re.objectMode||w.length!==0?j(R,re,w,!1):ne(R,re)):j(R,re,w,!1)}else k||(re.reading=!1,ne(R,re))}return!re.ended&&(re.length<re.highWaterMark||re.length===0)}function j(R,w,x,k){w.flowing&&w.length===0&&!w.sync?(w.awaitDrain=0,R.emit("data",x)):(w.length+=w.objectMode?1:x.length,k?w.buffer.unshift(x):w.buffer.push(x),w.needReadable&&le(R)),ne(R,w)}function O(R,w){var x;return!o(w)&&typeof w!="string"&&w!==void 0&&!R.objectMode&&(x=new b("chunk",["string","Buffer","Uint8Array"],w)),x}N.prototype.isPaused=function(){return this._readableState.flowing===!1},N.prototype.setEncoding=function(R){m||(m=_a().StringDecoder);var w=new m(R);this._readableState.decoder=w,this._readableState.encoding=this._readableState.decoder.encoding;for(var x=this._readableState.buffer.head,k="";x!==null;)k+=w.write(x.data),x=x.next;return this._readableState.buffer.clear(),k!==""&&this._readableState.buffer.push(k),this._readableState.length=k.length,this};var q=1073741824;function Q(R){return R>=q?R=q:(R--,R|=R>>>1,R|=R>>>2,R|=R>>>4,R|=R>>>8,R|=R>>>16,R++),R}function ie(R,w){return R<=0||w.length===0&&w.ended?0:w.objectMode?1:R!==R?w.flowing&&w.length?w.buffer.head.data.length:w.length:(R>w.highWaterMark&&(w.highWaterMark=Q(R)),R<=w.length?R:w.ended?w.length:(w.needReadable=!0,0))}N.prototype.read=function(R){l("read",R),R=parseInt(R,10);var w=this._readableState,x=R;if(R!==0&&(w.emittedReadable=!1),R===0&&w.needReadable&&((w.highWaterMark!==0?w.length>=w.highWaterMark:w.length>0)||w.ended))return l("read: emitReadable",w.length,w.ended),w.length===0&&w.ended?$(this):le(this),null;if(R=ie(R,w),R===0&&w.ended)return w.length===0&&$(this),null;var k=w.needReadable;l("need readable",k),(w.length===0||w.length-R<w.highWaterMark)&&(k=!0,l("length less than watermark",k)),w.ended||w.reading?(k=!1,l("reading or ended",k)):k&&(l("do read"),w.reading=!0,w.sync=!0,w.length===0&&(w.needReadable=!0),this._read(w.highWaterMark),w.sync=!1,w.reading||(R=ie(x,w)));var U;return R>0?U=A(R,w):U=null,U===null?(w.needReadable=w.length<=w.highWaterMark,R=0):(w.length-=R,w.awaitDrain=0),w.length===0&&(w.ended||(w.needReadable=!0),x!==R&&w.ended&&$(this)),U!==null&&this.emit("data",U),U};function X(R,w){if(l("onEofChunk"),!w.ended){if(w.decoder){var x=w.decoder.end();x&&x.length&&(w.buffer.push(x),w.length+=w.objectMode?1:x.length)}w.ended=!0,w.sync?le(R):(w.needReadable=!1,w.emittedReadable||(w.emittedReadable=!0,ae(R)))}}function le(R){var w=R._readableState;l("emitReadable",w.needReadable,w.emittedReadable),w.needReadable=!1,w.emittedReadable||(l("emitReadable",w.flowing),w.emittedReadable=!0,ze.nextTick(ae,R))}function ae(R){var w=R._readableState;l("emitReadable_",w.destroyed,w.length,w.ended),!w.destroyed&&(w.length||w.ended)&&(R.emit("readable"),w.emittedReadable=!1),w.needReadable=!w.flowing&&!w.ended&&w.length<=w.highWaterMark,P(R)}function ne(R,w){w.readingMore||(w.readingMore=!0,ze.nextTick(V,R,w))}function V(R,w){for(;!w.reading&&!w.ended&&(w.length<w.highWaterMark||w.flowing&&w.length===0);){var x=w.length;if(l("maybeReadMore read 0"),R.read(0),x===w.length)break}w.readingMore=!1}N.prototype._read=function(R){T(this,new _("_read()"))},N.prototype.pipe=function(R,w){var x=this,k=this._readableState;switch(k.pipesCount){case 0:k.pipes=R;break;case 1:k.pipes=[k.pipes,R];break;default:k.pipes.push(R);break}k.pipesCount+=1,l("pipe count=%d opts=%j",k.pipesCount,w);var U=(!w||w.end!==!1)&&R!==ze.stdout&&R!==ze.stderr,re=U?ve:ke;k.endEmitted?ze.nextTick(re):x.once("end",re),R.on("unpipe",fe);function fe(Ze,Ue){l("onunpipe"),Ze===x&&Ue&&Ue.hasUnpiped===!1&&(Ue.hasUnpiped=!0,be())}function ve(){l("onend"),R.end()}var ce=oe(x);R.on("drain",ce);var Ie=!1;function be(){l("cleanup"),R.removeListener("close",Ae),R.removeListener("finish",Pe),R.removeListener("drain",ce),R.removeListener("error",je),R.removeListener("unpipe",fe),x.removeListener("end",ve),x.removeListener("end",ke),x.removeListener("data",xe),Ie=!0,k.awaitDrain&&(!R._writableState||R._writableState.needDrain)&&ce()}x.on("data",xe);function xe(Ze){l("ondata");var Ue=R.write(Ze);l("dest.write",Ue),Ue===!1&&((k.pipesCount===1&&k.pipes===R||k.pipesCount>1&&pe(k.pipes,R)!==-1)&&!Ie&&(l("false write response, pause",k.awaitDrain),k.awaitDrain++),x.pause())}function je(Ze){l("onerror",Ze),ke(),R.removeListener("error",je),t(R,"error")===0&&T(R,Ze)}D(R,"error",je);function Ae(){R.removeListener("finish",Pe),ke()}R.once("close",Ae);function Pe(){l("onfinish"),R.removeListener("close",Ae),ke()}R.once("finish",Pe);function ke(){l("unpipe"),x.unpipe(R)}return R.emit("pipe",x),k.flowing||(l("pipe resume"),x.resume()),R};function oe(R){return function(){var x=R._readableState;l("pipeOnDrain",x.awaitDrain),x.awaitDrain&&x.awaitDrain--,x.awaitDrain===0&&t(R,"data")&&(x.flowing=!0,P(R))}}N.prototype.unpipe=function(R){var w=this._readableState,x={hasUnpiped:!1};if(w.pipesCount===0)return this;if(w.pipesCount===1)return R&&R!==w.pipes?this:(R||(R=w.pipes),w.pipes=null,w.pipesCount=0,w.flowing=!1,R&&R.emit("unpipe",this,x),this);if(!R){var k=w.pipes,U=w.pipesCount;w.pipes=null,w.pipesCount=0,w.flowing=!1;for(var re=0;re<U;re++)k[re].emit("unpipe",this,{hasUnpiped:!1});return this}var fe=pe(w.pipes,R);return fe===-1?this:(w.pipes.splice(fe,1),w.pipesCount-=1,w.pipesCount===1&&(w.pipes=w.pipes[0]),R.emit("unpipe",this,x),this)},N.prototype.on=function(R,w){var x=r.prototype.on.call(this,R,w),k=this._readableState;return R==="data"?(k.readableListening=this.listenerCount("readable")>0,k.flowing!==!1&&this.resume()):R==="readable"&&!k.endEmitted&&!k.readableListening&&(k.readableListening=k.needReadable=!0,k.flowing=!1,k.emittedReadable=!1,l("on readable",k.length,k.reading),k.length?le(this):k.reading||ze.nextTick(Y,this)),x},N.prototype.addListener=N.prototype.on,N.prototype.removeListener=function(R,w){var x=r.prototype.removeListener.call(this,R,w);return R==="readable"&&ze.nextTick(he,this),x},N.prototype.removeAllListeners=function(R){var w=r.prototype.removeAllListeners.apply(this,arguments);return(R==="readable"||R===void 0)&&ze.nextTick(he,this),w};function he(R){var w=R._readableState;w.readableListening=R.listenerCount("readable")>0,w.resumeScheduled&&!w.paused?w.flowing=!0:R.listenerCount("data")>0&&R.resume()}function Y(R){l("readable nexttick read 0"),R.read(0)}N.prototype.resume=function(){var R=this._readableState;return R.flowing||(l("resume"),R.flowing=!R.readableListening,Z(this,R)),R.paused=!1,this};function Z(R,w){w.resumeScheduled||(w.resumeScheduled=!0,ze.nextTick(ee,R,w))}function ee(R,w){l("resume",w.reading),w.reading||R.read(0),w.resumeScheduled=!1,R.emit("resume"),P(R),w.flowing&&!w.reading&&R.read(0)}N.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function P(R){var w=R._readableState;for(l("flow",w.flowing);w.flowing&&R.read()!==null;);}N.prototype.wrap=function(R){var w=this,x=this._readableState,k=!1;R.on("end",function(){if(l("wrapped end"),x.decoder&&!x.ended){var fe=x.decoder.end();fe&&fe.length&&w.push(fe)}w.push(null)}),R.on("data",function(fe){if(l("wrapped data"),x.decoder&&(fe=x.decoder.write(fe)),!(x.objectMode&&fe==null)&&!(!x.objectMode&&(!fe||!fe.length))){var ve=w.push(fe);ve||(k=!0,R.pause())}});for(var U in R)this[U]===void 0&&typeof R[U]=="function"&&(this[U]=function(ve){return function(){return R[ve].apply(R,arguments)}}(U));for(var re=0;re<I.length;re++)R.on(I[re],this.emit.bind(this,I[re]));return this._read=function(fe){l("wrapped _read",fe),k&&(k=!1,R.resume())},this},typeof Symbol=="function"&&(N.prototype[Symbol.asyncIterator]=function(){return g===void 0&&(g=GK()),g(this)}),Object.defineProperty(N.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(N.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(N.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(w){this._readableState&&(this._readableState.flowing=w)}}),N._fromList=A,Object.defineProperty(N.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function A(R,w){if(w.length===0)return null;var x;return w.objectMode?x=w.buffer.shift():!R||R>=w.length?(w.decoder?x=w.buffer.join(""):w.buffer.length===1?x=w.buffer.first():x=w.buffer.concat(w.length),w.buffer.clear()):x=w.buffer.consume(R,w.decoder),x}function $(R){var w=R._readableState;l("endReadable",w.endEmitted),w.endEmitted||(w.ended=!0,ze.nextTick(te,w,R))}function te(R,w){if(l("endReadableNT",R.endEmitted,R.length),!R.endEmitted&&R.length===0&&(R.endEmitted=!0,w.readable=!1,w.emit("end"),R.autoDestroy)){var x=w._writableState;(!x||x.autoDestroy&&x.finished)&&w.destroy()}}typeof Symbol=="function"&&(N.from=function(R,w){return E===void 0&&(E=KK()),E(N,R,w)});function pe(R,w){for(var x=0,k=R.length;x<k;x++)if(R[x]===w)return x;return-1}return Qv}var Xv,r3;function Fj(){if(r3)return Xv;r3=1,Xv=s;var e=ll().codes,t=e.ERR_METHOD_NOT_IMPLEMENTED,r=e.ERR_MULTIPLE_CALLBACK,n=e.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=e.ERR_TRANSFORM_WITH_LENGTH_0,a=$u();Pr()(s,a);function o(f,d){var c=this._transformState;c.transforming=!1;var p=c.writecb;if(p===null)return this.emit("error",new r);c.writechunk=null,c.writecb=null,d!=null&&this.push(d),p(f);var b=this._readableState;b.reading=!1,(b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}function s(f){if(!(this instanceof s))return new s(f);a.call(this,f),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",l)}function l(){var f=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(d,c){u(f,d,c)}):u(this,null,null)}s.prototype.push=function(f,d){return this._transformState.needTransform=!1,a.prototype.push.call(this,f,d)},s.prototype._transform=function(f,d,c){c(new t("_transform()"))},s.prototype._write=function(f,d,c){var p=this._transformState;if(p.writecb=c,p.writechunk=f,p.writeencoding=d,!p.transforming){var b=this._readableState;(p.needTransform||b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}},s.prototype._read=function(f){var d=this._transformState;d.writechunk!==null&&!d.transforming?(d.transforming=!0,this._transform(d.writechunk,d.writeencoding,d.afterTransform)):d.needTransform=!0},s.prototype._destroy=function(f,d){a.prototype._destroy.call(this,f,function(c){d(c)})};function u(f,d,c){if(d)return f.emit("error",d);if(c!=null&&f.push(c),f._writableState.length)throw new i;if(f._transformState.transforming)throw new n;return f.push(null)}return Xv}var Jv,n3;function ZK(){if(n3)return Jv;n3=1,Jv=t;var e=Fj();Pr()(t,e);function t(r){if(!(this instanceof t))return new t(r);e.call(this,r)}return t.prototype._transform=function(r,n,i){i(null,r)},Jv}var e1,i3;function YK(){if(i3)return e1;i3=1;var e;function t(c){var p=!1;return function(){p||(p=!0,c.apply(void 0,arguments))}}var r=ll().codes,n=r.ERR_MISSING_ARGS,i=r.ERR_STREAM_DESTROYED;function a(c){if(c)throw c}function o(c){return c.setHeader&&typeof c.abort=="function"}function s(c,p,b,v){v=t(v);var _=!1;c.on("close",function(){_=!0}),e===void 0&&(e=TS()),e(c,{readable:p,writable:b},function(m){if(m)return v(m);_=!0,v()});var y=!1;return function(m){if(!_&&!y){if(y=!0,o(c))return c.abort();if(typeof c.destroy=="function")return c.destroy();v(m||new i("pipe"))}}}function l(c){c()}function u(c,p){return c.pipe(p)}function f(c){return!c.length||typeof c[c.length-1]!="function"?a:c.pop()}function d(){for(var c=arguments.length,p=new Array(c),b=0;b<c;b++)p[b]=arguments[b];var v=f(p);if(Array.isArray(p[0])&&(p=p[0]),p.length<2)throw new n("streams");var _,y=p.map(function(m,g){var E=g<p.length-1,T=g>0;return s(m,E,T,function(I){_||(_=I),I&&y.forEach(l),!E&&(y.forEach(l),v(_))})});return p.reduce(u)}return e1=d,e1}var a3;function jj(){return a3||(a3=1,function(e,t){t=e.exports=kj(),t.Stream=t,t.Readable=t,t.Writable=Mj(),t.Duplex=$u(),t.Transform=Fj(),t.PassThrough=ZK(),t.finished=TS(),t.pipeline=YK()}(h0,h0.exports)),h0.exports}var o3;function Bj(){if(o3)return d0;o3=1;var e=Dj(),t=Pr(),r=jj(),n=d0.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},i=d0.IncomingMessage=function(a,o,s,l){var u=this;if(r.Readable.call(u),u._mode=s,u.headers={},u.rawHeaders=[],u.trailers={},u.rawTrailers=[],u.on("end",function(){ze.nextTick(function(){u.emit("close")})}),s==="fetch"){let v=function(){d.read().then(function(_){if(!u._destroyed){if(l(_.done),_.done){u.push(null);return}u.push(Yn.from(_.value)),v()}}).catch(function(_){l(!0),u._destroyed||u.emit("error",_)})};if(u._fetchResponse=o,u.url=o.url,u.statusCode=o.status,u.statusMessage=o.statusText,o.headers.forEach(function(_,y){u.headers[y.toLowerCase()]=_,u.rawHeaders.push(y,_)}),e.writableStream){var f=new WritableStream({write:function(_){return l(!1),new Promise(function(y,m){u._destroyed?m():u.push(Yn.from(_))?y():u._resumeFetch=y})},close:function(){l(!0),u._destroyed||u.push(null)},abort:function(_){l(!0),u._destroyed||u.emit("error",_)}});try{o.body.pipeTo(f).catch(function(_){l(!0),u._destroyed||u.emit("error",_)});return}catch{}}var d=o.body.getReader();v()}else{u._xhr=a,u._pos=0,u.url=a.responseURL,u.statusCode=a.status,u.statusMessage=a.statusText;var c=a.getAllResponseHeaders().split(/\r?\n/);if(c.forEach(function(v){var _=v.match(/^([^:]+):\s*(.*)/);if(_){var y=_[1].toLowerCase();y==="set-cookie"?(u.headers[y]===void 0&&(u.headers[y]=[]),u.headers[y].push(_[2])):u.headers[y]!==void 0?u.headers[y]+=", "+_[2]:u.headers[y]=_[2],u.rawHeaders.push(_[1],_[2])}}),u._charset="x-user-defined",!e.overrideMimeType){var p=u.rawHeaders["mime-type"];if(p){var b=p.match(/;\s*charset=([^;])(;|$)/);b&&(u._charset=b[1].toLowerCase())}u._charset||(u._charset="utf-8")}}};return t(i,r.Readable),i.prototype._read=function(){var a=this,o=a._resumeFetch;o&&(a._resumeFetch=null,o())},i.prototype._onXHRProgress=function(a){var o=this,s=o._xhr,l=null;switch(o._mode){case"text":if(l=s.responseText,l.length>o._pos){var u=l.substr(o._pos);if(o._charset==="x-user-defined"){for(var f=Yn.alloc(u.length),d=0;d<u.length;d++)f[d]=u.charCodeAt(d)&255;o.push(f)}else o.push(u,o._charset);o._pos=l.length}break;case"arraybuffer":if(s.readyState!==n.DONE||!s.response)break;l=s.response,o.push(Yn.from(new Uint8Array(l)));break;case"moz-chunked-arraybuffer":if(l=s.response,s.readyState!==n.LOADING||!l)break;o.push(Yn.from(new Uint8Array(l)));break;case"ms-stream":if(l=s.response,s.readyState!==n.LOADING)break;var c=new xt.MSStreamReader;c.onprogress=function(){c.result.byteLength>o._pos&&(o.push(Yn.from(new Uint8Array(c.result.slice(o._pos)))),o._pos=c.result.byteLength)},c.onload=function(){a(!0),o.push(null)},c.readAsArrayBuffer(l);break}o._xhr.readyState===n.DONE&&o._mode!=="ms-stream"&&(a(!0),o.push(null))},d0}var s3;function QK(){if(s3)return Bv.exports;s3=1;var e=Dj(),t=Pr(),r=Bj(),n=jj(),i=r.IncomingMessage,a=r.readyStates;function o(f,d){return e.fetch&&d?"fetch":e.mozchunkedarraybuffer?"moz-chunked-arraybuffer":e.msstream?"ms-stream":e.arraybuffer&&f?"arraybuffer":"text"}var s=Bv.exports=function(f){var d=this;n.Writable.call(d),d._opts=f,d._body=[],d._headers={},f.auth&&d.setHeader("Authorization","Basic "+Yn.from(f.auth).toString("base64")),Object.keys(f.headers).forEach(function(b){d.setHeader(b,f.headers[b])});var c,p=!0;if(f.mode==="disable-fetch"||"requestTimeout"in f&&!e.abortController)p=!1,c=!0;else if(f.mode==="prefer-streaming")c=!1;else if(f.mode==="allow-wrong-content-type")c=!e.overrideMimeType;else if(!f.mode||f.mode==="default"||f.mode==="prefer-fast")c=!0;else throw new Error("Invalid value for opts.mode");d._mode=o(c,p),d._fetchTimer=null,d._socketTimeout=null,d._socketTimer=null,d.on("finish",function(){d._onFinish()})};t(s,n.Writable),s.prototype.setHeader=function(f,d){var c=this,p=f.toLowerCase();u.indexOf(p)===-1&&(c._headers[p]={name:f,value:d})},s.prototype.getHeader=function(f){var d=this._headers[f.toLowerCase()];return d?d.value:null},s.prototype.removeHeader=function(f){var d=this;delete d._headers[f.toLowerCase()]},s.prototype._onFinish=function(){var f=this;if(!f._destroyed){var d=f._opts;"timeout"in d&&d.timeout!==0&&f.setTimeout(d.timeout);var c=f._headers,p=null;d.method!=="GET"&&d.method!=="HEAD"&&(p=new Blob(f._body,{type:(c["content-type"]||{}).value||""}));var b=[];if(Object.keys(c).forEach(function(m){var g=c[m].name,E=c[m].value;Array.isArray(E)?E.forEach(function(T){b.push([g,T])}):b.push([g,E])}),f._mode==="fetch"){var v=null;if(e.abortController){var _=new AbortController;v=_.signal,f._fetchAbortController=_,"requestTimeout"in d&&d.requestTimeout!==0&&(f._fetchTimer=xt.setTimeout(function(){f.emit("requestTimeout"),f._fetchAbortController&&f._fetchAbortController.abort()},d.requestTimeout))}xt.fetch(f._opts.url,{method:f._opts.method,headers:b,body:p||void 0,mode:"cors",credentials:d.withCredentials?"include":"same-origin",signal:v}).then(function(m){f._fetchResponse=m,f._resetTimers(!1),f._connect()},function(m){f._resetTimers(!0),f._destroyed||f.emit("error",m)})}else{var y=f._xhr=new xt.XMLHttpRequest;try{y.open(f._opts.method,f._opts.url,!0)}catch(m){ze.nextTick(function(){f.emit("error",m)});return}"responseType"in y&&(y.responseType=f._mode),"withCredentials"in y&&(y.withCredentials=!!d.withCredentials),f._mode==="text"&&"overrideMimeType"in y&&y.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in d&&(y.timeout=d.requestTimeout,y.ontimeout=function(){f.emit("requestTimeout")}),b.forEach(function(m){y.setRequestHeader(m[0],m[1])}),f._response=null,y.onreadystatechange=function(){switch(y.readyState){case a.LOADING:case a.DONE:f._onXHRProgress();break}},f._mode==="moz-chunked-arraybuffer"&&(y.onprogress=function(){f._onXHRProgress()}),y.onerror=function(){f._destroyed||(f._resetTimers(!0),f.emit("error",new Error("XHR error")))};try{y.send(p)}catch(m){ze.nextTick(function(){f.emit("error",m)});return}}}};function l(f){try{var d=f.status;return d!==null&&d!==0}catch{return!1}}s.prototype._onXHRProgress=function(){var f=this;f._resetTimers(!1),!(!l(f._xhr)||f._destroyed)&&(f._response||f._connect(),f._response._onXHRProgress(f._resetTimers.bind(f)))},s.prototype._connect=function(){var f=this;f._destroyed||(f._response=new i(f._xhr,f._fetchResponse,f._mode,f._resetTimers.bind(f)),f._response.on("error",function(d){f.emit("error",d)}),f.emit("response",f._response))},s.prototype._write=function(f,d,c){var p=this;p._body.push(f),c()},s.prototype._resetTimers=function(f){var d=this;xt.clearTimeout(d._socketTimer),d._socketTimer=null,f?(xt.clearTimeout(d._fetchTimer),d._fetchTimer=null):d._socketTimeout&&(d._socketTimer=xt.setTimeout(function(){d.emit("timeout")},d._socketTimeout))},s.prototype.abort=s.prototype.destroy=function(f){var d=this;d._destroyed=!0,d._resetTimers(!0),d._response&&(d._response._destroyed=!0),d._xhr?d._xhr.abort():d._fetchAbortController&&d._fetchAbortController.abort(),f&&d.emit("error",f)},s.prototype.end=function(f,d,c){var p=this;typeof f=="function"&&(c=f,f=void 0),n.Writable.prototype.end.call(p,f,d,c)},s.prototype.setTimeout=function(f,d){var c=this;d&&c.once("timeout",d),c._socketTimeout=f,c._resetTimers(!1)},s.prototype.flushHeaders=function(){},s.prototype.setNoDelay=function(){},s.prototype.setSocketKeepAlive=function(){};var u=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"];return Bv.exports}var t1,u3;function XK(){if(u3)return t1;u3=1,t1=t;var e=Object.prototype.hasOwnProperty;function t(){for(var r={},n=0;n<arguments.length;n++){var i=arguments[n];for(var a in i)e.call(i,a)&&(r[a]=i[a])}return r}return t1}var r1,l3;function JK(){return l3||(l3=1,r1={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}),r1}var Ud={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */var eZ=Ud.exports,f3;function tZ(){return f3||(f3=1,function(e,t){(function(r){var n=t&&!t.nodeType&&t,i=!e.nodeType&&e,a=typeof xt=="object"&&xt;(a.global===a||a.window===a||a.self===a)&&(r=a);var o,s=2147483647,l=36,u=1,f=26,d=38,c=700,p=72,b=128,v="-",_=/^xn--/,y=/[^\x20-\x7E]/,m=/[\x2E\u3002\uFF0E\uFF61]/g,g={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},E=l-u,T=Math.floor,I=String.fromCharCode,D;function B(V){throw new RangeError(g[V])}function N(V,oe){for(var he=V.length,Y=[];he--;)Y[he]=oe(V[he]);return Y}function M(V,oe){var he=V.split("@"),Y="";he.length>1&&(Y=he[0]+"@",V=he[1]),V=V.replace(m,".");var Z=V.split("."),ee=N(Z,oe).join(".");return Y+ee}function j(V){for(var oe=[],he=0,Y=V.length,Z,ee;he<Y;)Z=V.charCodeAt(he++),Z>=55296&&Z<=56319&&he<Y?(ee=V.charCodeAt(he++),(ee&64512)==56320?oe.push(((Z&1023)<<10)+(ee&1023)+65536):(oe.push(Z),he--)):oe.push(Z);return oe}function O(V){return N(V,function(oe){var he="";return oe>65535&&(oe-=65536,he+=I(oe>>>10&1023|55296),oe=56320|oe&1023),he+=I(oe),he}).join("")}function q(V){return V-48<10?V-22:V-65<26?V-65:V-97<26?V-97:l}function Q(V,oe){return V+22+75*(V<26)-((oe!=0)<<5)}function ie(V,oe,he){var Y=0;for(V=he?T(V/c):V>>1,V+=T(V/oe);V>E*f>>1;Y+=l)V=T(V/E);return T(Y+(E+1)*V/(V+d))}function X(V){var oe=[],he=V.length,Y,Z=0,ee=b,P=p,A,$,te,pe,R,w,x,k,U;for(A=V.lastIndexOf(v),A<0&&(A=0),$=0;$<A;++$)V.charCodeAt($)>=128&&B("not-basic"),oe.push(V.charCodeAt($));for(te=A>0?A+1:0;te<he;){for(pe=Z,R=1,w=l;te>=he&&B("invalid-input"),x=q(V.charCodeAt(te++)),(x>=l||x>T((s-Z)/R))&&B("overflow"),Z+=x*R,k=w<=P?u:w>=P+f?f:w-P,!(x<k);w+=l)U=l-k,R>T(s/U)&&B("overflow"),R*=U;Y=oe.length+1,P=ie(Z-pe,Y,pe==0),T(Z/Y)>s-ee&&B("overflow"),ee+=T(Z/Y),Z%=Y,oe.splice(Z++,0,ee)}return O(oe)}function le(V){var oe,he,Y,Z,ee,P,A,$,te,pe,R,w=[],x,k,U,re;for(V=j(V),x=V.length,oe=b,he=0,ee=p,P=0;P<x;++P)R=V[P],R<128&&w.push(I(R));for(Y=Z=w.length,Z&&w.push(v);Y<x;){for(A=s,P=0;P<x;++P)R=V[P],R>=oe&&R<A&&(A=R);for(k=Y+1,A-oe>T((s-he)/k)&&B("overflow"),he+=(A-oe)*k,oe=A,P=0;P<x;++P)if(R=V[P],R<oe&&++he>s&&B("overflow"),R==oe){for($=he,te=l;pe=te<=ee?u:te>=ee+f?f:te-ee,!($<pe);te+=l)re=$-pe,U=l-pe,w.push(I(Q(pe+re%U,0))),$=T(re/U);w.push(I(Q($,0))),ee=ie(he,k,Y==Z),he=0,++Y}++he,++oe}return w.join("")}function ae(V){return M(V,function(oe){return _.test(oe)?X(oe.slice(4).toLowerCase()):oe})}function ne(V){return M(V,function(oe){return y.test(oe)?"xn--"+le(oe):oe})}if(o={version:"1.4.1",ucs2:{decode:j,encode:O},decode:X,encode:le,toASCII:ne,toUnicode:ae},n&&i)if(e.exports==n)i.exports=o;else for(D in o)o.hasOwnProperty(D)&&(n[D]=o[D]);else r.punycode=o})(eZ)}(Ud,Ud.exports)),Ud.exports}var rZ=tZ();const nZ=Bh(rZ),iZ={},aZ=Object.freeze(Object.defineProperty({__proto__:null,default:iZ},Symbol.toStringTag,{value:"Module"})),oZ=el(aZ);var n1,c3;function Cm(){if(c3)return n1;c3=1;var e=typeof Map=="function"&&Map.prototype,t=Object.getOwnPropertyDescriptor&&e?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,r=e&&t&&typeof t.get=="function"?t.get:null,n=e&&Map.prototype.forEach,i=typeof Set=="function"&&Set.prototype,a=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,o=i&&a&&typeof a.get=="function"?a.get:null,s=i&&Set.prototype.forEach,l=typeof WeakMap=="function"&&WeakMap.prototype,u=l?WeakMap.prototype.has:null,f=typeof WeakSet=="function"&&WeakSet.prototype,d=f?WeakSet.prototype.has:null,c=typeof WeakRef=="function"&&WeakRef.prototype,p=c?WeakRef.prototype.deref:null,b=Boolean.prototype.valueOf,v=Object.prototype.toString,_=Function.prototype.toString,y=String.prototype.match,m=String.prototype.slice,g=String.prototype.replace,E=String.prototype.toUpperCase,T=String.prototype.toLowerCase,I=RegExp.prototype.test,D=Array.prototype.concat,B=Array.prototype.join,N=Array.prototype.slice,M=Math.floor,j=typeof BigInt=="function"?BigInt.prototype.valueOf:null,O=Object.getOwnPropertySymbols,q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Q=typeof Symbol=="function"&&typeof Symbol.iterator=="object",ie=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Q||!0)?Symbol.toStringTag:null,X=Object.prototype.propertyIsEnumerable,le=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(se){return se.__proto__}:null);function ae(se,ge){if(se===1/0||se===-1/0||se!==se||se&&se>-1e3&&se<1e3||I.call(/e/,ge))return ge;var de=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof se=="number"){var Re=se<0?-M(-se):M(se);if(Re!==se){var qe=String(Re),H=m.call(ge,qe.length+1);return g.call(qe,de,"$&_")+"."+g.call(g.call(H,/([0-9]{3})/g,"$&_"),/_$/,"")}}return g.call(ge,de,"$&_")}var ne=oZ,V=ne.custom,oe=x(V)?V:null,he={__proto__:null,double:'"',single:"'"},Y={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};n1=function se(ge,de,Re,qe){var H=de||{};if(re(H,"quoteStyle")&&!re(he,H.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(re(H,"maxStringLength")&&(typeof H.maxStringLength=="number"?H.maxStringLength<0&&H.maxStringLength!==1/0:H.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Te=re(H,"customInspect")?H.customInspect:!0;if(typeof Te!="boolean"&&Te!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(re(H,"indent")&&H.indent!==null&&H.indent!=="	"&&!(parseInt(H.indent,10)===H.indent&&H.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(re(H,"numericSeparator")&&typeof H.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Ce=H.numericSeparator;if(typeof ge>"u")return"undefined";if(ge===null)return"null";if(typeof ge=="boolean")return ge?"true":"false";if(typeof ge=="string")return ke(ge,H);if(typeof ge=="number"){if(ge===0)return 1/0/ge>0?"0":"-0";var me=String(ge);return Ce?ae(ge,me):me}if(typeof ge=="bigint"){var Me=String(ge)+"n";return Ce?ae(ge,Me):Me}var Ve=typeof H.depth>"u"?5:H.depth;if(typeof Re>"u"&&(Re=0),Re>=Ve&&Ve>0&&typeof ge=="object")return P(ge)?"[Array]":"[Object]";var ft=K(H,Re);if(typeof qe>"u")qe=[];else if(ce(qe,ge)>=0)return"[Circular]";function we(We,Ge,ht){if(Ge&&(qe=N.call(qe),qe.push(Ge)),ht){var gt={depth:H.depth};return re(H,"quoteStyle")&&(gt.quoteStyle=H.quoteStyle),se(We,gt,Re+1,qe)}return se(We,H,Re+1,qe)}if(typeof ge=="function"&&!$(ge)){var G=ve(ge),W=Oe(ge,we);return"[Function"+(G?": "+G:" (anonymous)")+"]"+(W.length>0?" { "+B.call(W,", ")+" }":"")}if(x(ge)){var J=Q?g.call(String(ge),/^(Symbol\(.*\))_[^)]*$/,"$1"):q.call(ge);return typeof ge=="object"&&!Q?Ue(J):J}if(Pe(ge)){for(var Ee="<"+T.call(String(ge.nodeName)),Le=ge.attributes||[],Ne=0;Ne<Le.length;Ne++)Ee+=" "+Le[Ne].name+"="+Z(ee(Le[Ne].value),"double",H);return Ee+=">",ge.childNodes&&ge.childNodes.length&&(Ee+="..."),Ee+="</"+T.call(String(ge.nodeName))+">",Ee}if(P(ge)){if(ge.length===0)return"[]";var He=Oe(ge,we);return ft&&!F(He)?"["+_e(He,ft)+"]":"[ "+B.call(He,", ")+" ]"}if(te(ge)){var $e=Oe(ge,we);return!("cause"in Error.prototype)&&"cause"in ge&&!X.call(ge,"cause")?"{ ["+String(ge)+"] "+B.call(D.call("[cause]: "+we(ge.cause),$e),", ")+" }":$e.length===0?"["+String(ge)+"]":"{ ["+String(ge)+"] "+B.call($e,", ")+" }"}if(typeof ge=="object"&&Te){if(oe&&typeof ge[oe]=="function"&&ne)return ne(ge,{depth:Ve-Re});if(Te!=="symbol"&&typeof ge.inspect=="function")return ge.inspect()}if(Ie(ge)){var ut=[];return n&&n.call(ge,function(We,Ge){ut.push(we(Ge,ge,!0)+" => "+we(We,ge))}),ye("Map",r.call(ge),ut,ft)}if(je(ge)){var lt=[];return s&&s.call(ge,function(We){lt.push(we(We,ge))}),ye("Set",o.call(ge),lt,ft)}if(be(ge))return it("WeakMap");if(Ae(ge))return it("WeakSet");if(xe(ge))return it("WeakRef");if(R(ge))return Ue(we(Number(ge)));if(k(ge))return Ue(we(j.call(ge)));if(w(ge))return Ue(b.call(ge));if(pe(ge))return Ue(we(String(ge)));if(typeof window<"u"&&ge===window)return"{ [object Window] }";if(typeof globalThis<"u"&&ge===globalThis||typeof xt<"u"&&ge===xt)return"{ [object globalThis] }";if(!A(ge)&&!$(ge)){var dt=Oe(ge,we),ct=le?le(ge)===Object.prototype:ge instanceof Object||ge.constructor===Object,nt=ge instanceof Object?"":"null prototype",lr=!ct&&ie&&Object(ge)===ge&&ie in ge?m.call(fe(ge),8,-1):nt?"Object":"",at=ct||typeof ge.constructor!="function"?"":ge.constructor.name?ge.constructor.name+" ":"",De=at+(lr||nt?"["+B.call(D.call([],lr||[],nt||[]),": ")+"] ":"");return dt.length===0?De+"{}":ft?De+"{"+_e(dt,ft)+"}":De+"{ "+B.call(dt,", ")+" }"}return String(ge)};function Z(se,ge,de){var Re=de.quoteStyle||ge,qe=he[Re];return qe+se+qe}function ee(se){return g.call(String(se),/"/g,"&quot;")}function P(se){return fe(se)==="[object Array]"&&(!ie||!(typeof se=="object"&&ie in se))}function A(se){return fe(se)==="[object Date]"&&(!ie||!(typeof se=="object"&&ie in se))}function $(se){return fe(se)==="[object RegExp]"&&(!ie||!(typeof se=="object"&&ie in se))}function te(se){return fe(se)==="[object Error]"&&(!ie||!(typeof se=="object"&&ie in se))}function pe(se){return fe(se)==="[object String]"&&(!ie||!(typeof se=="object"&&ie in se))}function R(se){return fe(se)==="[object Number]"&&(!ie||!(typeof se=="object"&&ie in se))}function w(se){return fe(se)==="[object Boolean]"&&(!ie||!(typeof se=="object"&&ie in se))}function x(se){if(Q)return se&&typeof se=="object"&&se instanceof Symbol;if(typeof se=="symbol")return!0;if(!se||typeof se!="object"||!q)return!1;try{return q.call(se),!0}catch{}return!1}function k(se){if(!se||typeof se!="object"||!j)return!1;try{return j.call(se),!0}catch{}return!1}var U=Object.prototype.hasOwnProperty||function(se){return se in this};function re(se,ge){return U.call(se,ge)}function fe(se){return v.call(se)}function ve(se){if(se.name)return se.name;var ge=y.call(_.call(se),/^function\s*([\w$]+)/);return ge?ge[1]:null}function ce(se,ge){if(se.indexOf)return se.indexOf(ge);for(var de=0,Re=se.length;de<Re;de++)if(se[de]===ge)return de;return-1}function Ie(se){if(!r||!se||typeof se!="object")return!1;try{r.call(se);try{o.call(se)}catch{return!0}return se instanceof Map}catch{}return!1}function be(se){if(!u||!se||typeof se!="object")return!1;try{u.call(se,u);try{d.call(se,d)}catch{return!0}return se instanceof WeakMap}catch{}return!1}function xe(se){if(!p||!se||typeof se!="object")return!1;try{return p.call(se),!0}catch{}return!1}function je(se){if(!o||!se||typeof se!="object")return!1;try{o.call(se);try{r.call(se)}catch{return!0}return se instanceof Set}catch{}return!1}function Ae(se){if(!d||!se||typeof se!="object")return!1;try{d.call(se,d);try{u.call(se,u)}catch{return!0}return se instanceof WeakSet}catch{}return!1}function Pe(se){return!se||typeof se!="object"?!1:typeof HTMLElement<"u"&&se instanceof HTMLElement?!0:typeof se.nodeName=="string"&&typeof se.getAttribute=="function"}function ke(se,ge){if(se.length>ge.maxStringLength){var de=se.length-ge.maxStringLength,Re="... "+de+" more character"+(de>1?"s":"");return ke(m.call(se,0,ge.maxStringLength),ge)+Re}var qe=Y[ge.quoteStyle||"single"];qe.lastIndex=0;var H=g.call(g.call(se,qe,"\\$1"),/[\x00-\x1f]/g,Ze);return Z(H,"single",ge)}function Ze(se){var ge=se.charCodeAt(0),de={8:"b",9:"t",10:"n",12:"f",13:"r"}[ge];return de?"\\"+de:"\\x"+(ge<16?"0":"")+E.call(ge.toString(16))}function Ue(se){return"Object("+se+")"}function it(se){return se+" { ? }"}function ye(se,ge,de,Re){var qe=Re?_e(de,Re):B.call(de,", ");return se+" ("+ge+") {"+qe+"}"}function F(se){for(var ge=0;ge<se.length;ge++)if(ce(se[ge],`
`)>=0)return!1;return!0}function K(se,ge){var de;if(se.indent==="	")de="	";else if(typeof se.indent=="number"&&se.indent>0)de=B.call(Array(se.indent+1)," ");else return null;return{base:de,prev:B.call(Array(ge+1),de)}}function _e(se,ge){if(se.length===0)return"";var de=`
`+ge.prev+ge.base;return de+B.call(se,","+de)+`
`+ge.prev}function Oe(se,ge){var de=P(se),Re=[];if(de){Re.length=se.length;for(var qe=0;qe<se.length;qe++)Re[qe]=re(se,qe)?ge(se[qe],se):""}var H=typeof O=="function"?O(se):[],Te;if(Q){Te={};for(var Ce=0;Ce<H.length;Ce++)Te["$"+H[Ce]]=H[Ce]}for(var me in se)re(se,me)&&(de&&String(Number(me))===me&&me<se.length||Q&&Te["$"+me]instanceof Symbol||(I.call(/[^\w$]/,me)?Re.push(ge(me,se)+": "+ge(se[me],se)):Re.push(me+": "+ge(se[me],se))));if(typeof O=="function")for(var Me=0;Me<H.length;Me++)X.call(se,H[Me])&&Re.push("["+ge(H[Me])+"]: "+ge(se[H[Me]],se));return Re}return n1}var i1,d3;function sZ(){if(d3)return i1;d3=1;var e=Cm(),t=ro(),r=function(s,l,u){for(var f=s,d;(d=f.next)!=null;f=d)if(d.key===l)return f.next=d.next,u||(d.next=s.next,s.next=d),d},n=function(s,l){if(s){var u=r(s,l);return u&&u.value}},i=function(s,l,u){var f=r(s,l);f?f.value=u:s.next={key:l,next:s.next,value:u}},a=function(s,l){return s?!!r(s,l):!1},o=function(s,l){if(s)return r(s,l,!0)};return i1=function(){var l,u={assert:function(f){if(!u.has(f))throw new t("Side channel does not contain "+e(f))},delete:function(f){var d=l&&l.next,c=o(l,f);return c&&d&&d===c&&(l=void 0),!!c},get:function(f){return n(l,f)},has:function(f){return a(l,f)},set:function(f,d){l||(l={next:void 0}),i(l,f,d)}};return u},i1}var a1,h3;function qj(){if(h3)return a1;h3=1;var e=Vh(),t=zo(),r=Cm(),n=ro(),i=e("%Map%",!0),a=t("Map.prototype.get",!0),o=t("Map.prototype.set",!0),s=t("Map.prototype.has",!0),l=t("Map.prototype.delete",!0),u=t("Map.prototype.size",!0);return a1=!!i&&function(){var d,c={assert:function(p){if(!c.has(p))throw new n("Side channel does not contain "+r(p))},delete:function(p){if(d){var b=l(d,p);return u(d)===0&&(d=void 0),b}return!1},get:function(p){if(d)return a(d,p)},has:function(p){return d?s(d,p):!1},set:function(p,b){d||(d=new i),o(d,p,b)}};return c},a1}var o1,p3;function uZ(){if(p3)return o1;p3=1;var e=Vh(),t=zo(),r=Cm(),n=qj(),i=ro(),a=e("%WeakMap%",!0),o=t("WeakMap.prototype.get",!0),s=t("WeakMap.prototype.set",!0),l=t("WeakMap.prototype.has",!0),u=t("WeakMap.prototype.delete",!0);return o1=a?function(){var d,c,p={assert:function(b){if(!p.has(b))throw new i("Side channel does not contain "+r(b))},delete:function(b){if(a&&b&&(typeof b=="object"||typeof b=="function")){if(d)return u(d,b)}else if(n&&c)return c.delete(b);return!1},get:function(b){return a&&b&&(typeof b=="object"||typeof b=="function")&&d?o(d,b):c&&c.get(b)},has:function(b){return a&&b&&(typeof b=="object"||typeof b=="function")&&d?l(d,b):!!c&&c.has(b)},set:function(b,v){a&&b&&(typeof b=="object"||typeof b=="function")?(d||(d=new a),s(d,b,v)):n&&(c||(c=n()),c.set(b,v))}};return p}:n,o1}var s1,m3;function lZ(){if(m3)return s1;m3=1;var e=ro(),t=Cm(),r=sZ(),n=qj(),i=uZ(),a=i||n||r;return s1=function(){var s,l={assert:function(u){if(!l.has(u))throw new e("Side channel does not contain "+t(u))},delete:function(u){return!!s&&s.delete(u)},get:function(u){return s&&s.get(u)},has:function(u){return!!s&&s.has(u)},set:function(u,f){s||(s=a()),s.set(u,f)}};return l},s1}var u1,y3;function RS(){if(y3)return u1;y3=1;var e=String.prototype.replace,t=/%20/g,r={RFC1738:"RFC1738",RFC3986:"RFC3986"};return u1={default:r.RFC3986,formatters:{RFC1738:function(n){return e.call(n,t,"+")},RFC3986:function(n){return String(n)}},RFC1738:r.RFC1738,RFC3986:r.RFC3986},u1}var l1,g3;function $j(){if(g3)return l1;g3=1;var e=RS(),t=Object.prototype.hasOwnProperty,r=Array.isArray,n=function(){for(var _=[],y=0;y<256;++y)_.push("%"+((y<16?"0":"")+y.toString(16)).toUpperCase());return _}(),i=function(y){for(;y.length>1;){var m=y.pop(),g=m.obj[m.prop];if(r(g)){for(var E=[],T=0;T<g.length;++T)typeof g[T]<"u"&&E.push(g[T]);m.obj[m.prop]=E}}},a=function(y,m){for(var g=m&&m.plainObjects?{__proto__:null}:{},E=0;E<y.length;++E)typeof y[E]<"u"&&(g[E]=y[E]);return g},o=function _(y,m,g){if(!m)return y;if(typeof m!="object"&&typeof m!="function"){if(r(y))y.push(m);else if(y&&typeof y=="object")(g&&(g.plainObjects||g.allowPrototypes)||!t.call(Object.prototype,m))&&(y[m]=!0);else return[y,m];return y}if(!y||typeof y!="object")return[y].concat(m);var E=y;return r(y)&&!r(m)&&(E=a(y,g)),r(y)&&r(m)?(m.forEach(function(T,I){if(t.call(y,I)){var D=y[I];D&&typeof D=="object"&&T&&typeof T=="object"?y[I]=_(D,T,g):y.push(T)}else y[I]=T}),y):Object.keys(m).reduce(function(T,I){var D=m[I];return t.call(T,I)?T[I]=_(T[I],D,g):T[I]=D,T},E)},s=function(y,m){return Object.keys(m).reduce(function(g,E){return g[E]=m[E],g},y)},l=function(_,y,m){var g=_.replace(/\+/g," ");if(m==="iso-8859-1")return g.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(g)}catch{return g}},u=1024,f=function(y,m,g,E,T){if(y.length===0)return y;var I=y;if(typeof y=="symbol"?I=Symbol.prototype.toString.call(y):typeof y!="string"&&(I=String(y)),g==="iso-8859-1")return escape(I).replace(/%u[0-9a-f]{4}/gi,function(q){return"%26%23"+parseInt(q.slice(2),16)+"%3B"});for(var D="",B=0;B<I.length;B+=u){for(var N=I.length>=u?I.slice(B,B+u):I,M=[],j=0;j<N.length;++j){var O=N.charCodeAt(j);if(O===45||O===46||O===95||O===126||O>=48&&O<=57||O>=65&&O<=90||O>=97&&O<=122||T===e.RFC1738&&(O===40||O===41)){M[M.length]=N.charAt(j);continue}if(O<128){M[M.length]=n[O];continue}if(O<2048){M[M.length]=n[192|O>>6]+n[128|O&63];continue}if(O<55296||O>=57344){M[M.length]=n[224|O>>12]+n[128|O>>6&63]+n[128|O&63];continue}j+=1,O=65536+((O&1023)<<10|N.charCodeAt(j)&1023),M[M.length]=n[240|O>>18]+n[128|O>>12&63]+n[128|O>>6&63]+n[128|O&63]}D+=M.join("")}return D},d=function(y){for(var m=[{obj:{o:y},prop:"o"}],g=[],E=0;E<m.length;++E)for(var T=m[E],I=T.obj[T.prop],D=Object.keys(I),B=0;B<D.length;++B){var N=D[B],M=I[N];typeof M=="object"&&M!==null&&g.indexOf(M)===-1&&(m.push({obj:I,prop:N}),g.push(M))}return i(m),y},c=function(y){return Object.prototype.toString.call(y)==="[object RegExp]"},p=function(y){return!y||typeof y!="object"?!1:!!(y.constructor&&y.constructor.isBuffer&&y.constructor.isBuffer(y))},b=function(y,m){return[].concat(y,m)},v=function(y,m){if(r(y)){for(var g=[],E=0;E<y.length;E+=1)g.push(m(y[E]));return g}return m(y)};return l1={arrayToObject:a,assign:s,combine:b,compact:d,decode:l,encode:f,isBuffer:p,isRegExp:c,maybeMap:v,merge:o},l1}var f1,_3;function fZ(){if(_3)return f1;_3=1;var e=lZ(),t=$j(),r=RS(),n=Object.prototype.hasOwnProperty,i={brackets:function(_){return _+"[]"},comma:"comma",indices:function(_,y){return _+"["+y+"]"},repeat:function(_){return _}},a=Array.isArray,o=Array.prototype.push,s=function(v,_){o.apply(v,a(_)?_:[_])},l=Date.prototype.toISOString,u=r.default,f={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:t.encode,encodeValuesOnly:!1,filter:void 0,format:u,formatter:r.formatters[u],indices:!1,serializeDate:function(_){return l.call(_)},skipNulls:!1,strictNullHandling:!1},d=function(_){return typeof _=="string"||typeof _=="number"||typeof _=="boolean"||typeof _=="symbol"||typeof _=="bigint"},c={},p=function v(_,y,m,g,E,T,I,D,B,N,M,j,O,q,Q,ie,X,le){for(var ae=_,ne=le,V=0,oe=!1;(ne=ne.get(c))!==void 0&&!oe;){var he=ne.get(_);if(V+=1,typeof he<"u"){if(he===V)throw new RangeError("Cyclic object value");oe=!0}typeof ne.get(c)>"u"&&(V=0)}if(typeof N=="function"?ae=N(y,ae):ae instanceof Date?ae=O(ae):m==="comma"&&a(ae)&&(ae=t.maybeMap(ae,function(U){return U instanceof Date?O(U):U})),ae===null){if(T)return B&&!ie?B(y,f.encoder,X,"key",q):y;ae=""}if(d(ae)||t.isBuffer(ae)){if(B){var Y=ie?y:B(y,f.encoder,X,"key",q);return[Q(Y)+"="+Q(B(ae,f.encoder,X,"value",q))]}return[Q(y)+"="+Q(String(ae))]}var Z=[];if(typeof ae>"u")return Z;var ee;if(m==="comma"&&a(ae))ie&&B&&(ae=t.maybeMap(ae,B)),ee=[{value:ae.length>0?ae.join(",")||null:void 0}];else if(a(N))ee=N;else{var P=Object.keys(ae);ee=M?P.sort(M):P}var A=D?String(y).replace(/\./g,"%2E"):String(y),$=g&&a(ae)&&ae.length===1?A+"[]":A;if(E&&a(ae)&&ae.length===0)return $+"[]";for(var te=0;te<ee.length;++te){var pe=ee[te],R=typeof pe=="object"&&pe&&typeof pe.value<"u"?pe.value:ae[pe];if(!(I&&R===null)){var w=j&&D?String(pe).replace(/\./g,"%2E"):String(pe),x=a(ae)?typeof m=="function"?m($,w):$:$+(j?"."+w:"["+w+"]");le.set(_,V);var k=e();k.set(c,le),s(Z,v(R,x,m,g,E,T,I,D,m==="comma"&&ie&&a(ae)?null:B,N,M,j,O,q,Q,ie,X,k))}}return Z},b=function(_){if(!_)return f;if(typeof _.allowEmptyArrays<"u"&&typeof _.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof _.encodeDotInKeys<"u"&&typeof _.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(_.encoder!==null&&typeof _.encoder<"u"&&typeof _.encoder!="function")throw new TypeError("Encoder has to be a function.");var y=_.charset||f.charset;if(typeof _.charset<"u"&&_.charset!=="utf-8"&&_.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var m=r.default;if(typeof _.format<"u"){if(!n.call(r.formatters,_.format))throw new TypeError("Unknown format option provided.");m=_.format}var g=r.formatters[m],E=f.filter;(typeof _.filter=="function"||a(_.filter))&&(E=_.filter);var T;if(_.arrayFormat in i?T=_.arrayFormat:"indices"in _?T=_.indices?"indices":"repeat":T=f.arrayFormat,"commaRoundTrip"in _&&typeof _.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var I=typeof _.allowDots>"u"?_.encodeDotInKeys===!0?!0:f.allowDots:!!_.allowDots;return{addQueryPrefix:typeof _.addQueryPrefix=="boolean"?_.addQueryPrefix:f.addQueryPrefix,allowDots:I,allowEmptyArrays:typeof _.allowEmptyArrays=="boolean"?!!_.allowEmptyArrays:f.allowEmptyArrays,arrayFormat:T,charset:y,charsetSentinel:typeof _.charsetSentinel=="boolean"?_.charsetSentinel:f.charsetSentinel,commaRoundTrip:!!_.commaRoundTrip,delimiter:typeof _.delimiter>"u"?f.delimiter:_.delimiter,encode:typeof _.encode=="boolean"?_.encode:f.encode,encodeDotInKeys:typeof _.encodeDotInKeys=="boolean"?_.encodeDotInKeys:f.encodeDotInKeys,encoder:typeof _.encoder=="function"?_.encoder:f.encoder,encodeValuesOnly:typeof _.encodeValuesOnly=="boolean"?_.encodeValuesOnly:f.encodeValuesOnly,filter:E,format:m,formatter:g,serializeDate:typeof _.serializeDate=="function"?_.serializeDate:f.serializeDate,skipNulls:typeof _.skipNulls=="boolean"?_.skipNulls:f.skipNulls,sort:typeof _.sort=="function"?_.sort:null,strictNullHandling:typeof _.strictNullHandling=="boolean"?_.strictNullHandling:f.strictNullHandling}};return f1=function(v,_){var y=v,m=b(_),g,E;typeof m.filter=="function"?(E=m.filter,y=E("",y)):a(m.filter)&&(E=m.filter,g=E);var T=[];if(typeof y!="object"||y===null)return"";var I=i[m.arrayFormat],D=I==="comma"&&m.commaRoundTrip;g||(g=Object.keys(y)),m.sort&&g.sort(m.sort);for(var B=e(),N=0;N<g.length;++N){var M=g[N],j=y[M];m.skipNulls&&j===null||s(T,p(j,M,I,D,m.allowEmptyArrays,m.strictNullHandling,m.skipNulls,m.encodeDotInKeys,m.encode?m.encoder:null,m.filter,m.sort,m.allowDots,m.serializeDate,m.format,m.formatter,m.encodeValuesOnly,m.charset,B))}var O=T.join(m.delimiter),q=m.addQueryPrefix===!0?"?":"";return m.charsetSentinel&&(m.charset==="iso-8859-1"?q+="utf8=%26%2310003%3B&":q+="utf8=%E2%9C%93&"),O.length>0?q+O:""},f1}var c1,b3;function cZ(){if(b3)return c1;b3=1;var e=$j(),t=Object.prototype.hasOwnProperty,r=Array.isArray,n={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:e.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},i=function(c){return c.replace(/&#(\d+);/g,function(p,b){return String.fromCharCode(parseInt(b,10))})},a=function(c,p,b){if(c&&typeof c=="string"&&p.comma&&c.indexOf(",")>-1)return c.split(",");if(p.throwOnLimitExceeded&&b>=p.arrayLimit)throw new RangeError("Array limit exceeded. Only "+p.arrayLimit+" element"+(p.arrayLimit===1?"":"s")+" allowed in an array.");return c},o="utf8=%26%2310003%3B",s="utf8=%E2%9C%93",l=function(p,b){var v={__proto__:null},_=b.ignoreQueryPrefix?p.replace(/^\?/,""):p;_=_.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var y=b.parameterLimit===1/0?void 0:b.parameterLimit,m=_.split(b.delimiter,b.throwOnLimitExceeded?y+1:y);if(b.throwOnLimitExceeded&&m.length>y)throw new RangeError("Parameter limit exceeded. Only "+y+" parameter"+(y===1?"":"s")+" allowed.");var g=-1,E,T=b.charset;if(b.charsetSentinel)for(E=0;E<m.length;++E)m[E].indexOf("utf8=")===0&&(m[E]===s?T="utf-8":m[E]===o&&(T="iso-8859-1"),g=E,E=m.length);for(E=0;E<m.length;++E)if(E!==g){var I=m[E],D=I.indexOf("]="),B=D===-1?I.indexOf("="):D+1,N,M;B===-1?(N=b.decoder(I,n.decoder,T,"key"),M=b.strictNullHandling?null:""):(N=b.decoder(I.slice(0,B),n.decoder,T,"key"),M=e.maybeMap(a(I.slice(B+1),b,r(v[N])?v[N].length:0),function(O){return b.decoder(O,n.decoder,T,"value")})),M&&b.interpretNumericEntities&&T==="iso-8859-1"&&(M=i(String(M))),I.indexOf("[]=")>-1&&(M=r(M)?[M]:M);var j=t.call(v,N);j&&b.duplicates==="combine"?v[N]=e.combine(v[N],M):(!j||b.duplicates==="last")&&(v[N]=M)}return v},u=function(c,p,b,v){var _=0;if(c.length>0&&c[c.length-1]==="[]"){var y=c.slice(0,-1).join("");_=Array.isArray(p)&&p[y]?p[y].length:0}for(var m=v?p:a(p,b,_),g=c.length-1;g>=0;--g){var E,T=c[g];if(T==="[]"&&b.parseArrays)E=b.allowEmptyArrays&&(m===""||b.strictNullHandling&&m===null)?[]:e.combine([],m);else{E=b.plainObjects?{__proto__:null}:{};var I=T.charAt(0)==="["&&T.charAt(T.length-1)==="]"?T.slice(1,-1):T,D=b.decodeDotInKeys?I.replace(/%2E/g,"."):I,B=parseInt(D,10);!b.parseArrays&&D===""?E={0:m}:!isNaN(B)&&T!==D&&String(B)===D&&B>=0&&b.parseArrays&&B<=b.arrayLimit?(E=[],E[B]=m):D!=="__proto__"&&(E[D]=m)}m=E}return m},f=function(p,b,v,_){if(p){var y=v.allowDots?p.replace(/\.([^.[]+)/g,"[$1]"):p,m=/(\[[^[\]]*])/,g=/(\[[^[\]]*])/g,E=v.depth>0&&m.exec(y),T=E?y.slice(0,E.index):y,I=[];if(T){if(!v.plainObjects&&t.call(Object.prototype,T)&&!v.allowPrototypes)return;I.push(T)}for(var D=0;v.depth>0&&(E=g.exec(y))!==null&&D<v.depth;){if(D+=1,!v.plainObjects&&t.call(Object.prototype,E[1].slice(1,-1))&&!v.allowPrototypes)return;I.push(E[1])}if(E){if(v.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+v.depth+" and strictDepth is true");I.push("["+y.slice(E.index)+"]")}return u(I,b,v,_)}},d=function(p){if(!p)return n;if(typeof p.allowEmptyArrays<"u"&&typeof p.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof p.decodeDotInKeys<"u"&&typeof p.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(p.decoder!==null&&typeof p.decoder<"u"&&typeof p.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof p.charset<"u"&&p.charset!=="utf-8"&&p.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof p.throwOnLimitExceeded<"u"&&typeof p.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var b=typeof p.charset>"u"?n.charset:p.charset,v=typeof p.duplicates>"u"?n.duplicates:p.duplicates;if(v!=="combine"&&v!=="first"&&v!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var _=typeof p.allowDots>"u"?p.decodeDotInKeys===!0?!0:n.allowDots:!!p.allowDots;return{allowDots:_,allowEmptyArrays:typeof p.allowEmptyArrays=="boolean"?!!p.allowEmptyArrays:n.allowEmptyArrays,allowPrototypes:typeof p.allowPrototypes=="boolean"?p.allowPrototypes:n.allowPrototypes,allowSparse:typeof p.allowSparse=="boolean"?p.allowSparse:n.allowSparse,arrayLimit:typeof p.arrayLimit=="number"?p.arrayLimit:n.arrayLimit,charset:b,charsetSentinel:typeof p.charsetSentinel=="boolean"?p.charsetSentinel:n.charsetSentinel,comma:typeof p.comma=="boolean"?p.comma:n.comma,decodeDotInKeys:typeof p.decodeDotInKeys=="boolean"?p.decodeDotInKeys:n.decodeDotInKeys,decoder:typeof p.decoder=="function"?p.decoder:n.decoder,delimiter:typeof p.delimiter=="string"||e.isRegExp(p.delimiter)?p.delimiter:n.delimiter,depth:typeof p.depth=="number"||p.depth===!1?+p.depth:n.depth,duplicates:v,ignoreQueryPrefix:p.ignoreQueryPrefix===!0,interpretNumericEntities:typeof p.interpretNumericEntities=="boolean"?p.interpretNumericEntities:n.interpretNumericEntities,parameterLimit:typeof p.parameterLimit=="number"?p.parameterLimit:n.parameterLimit,parseArrays:p.parseArrays!==!1,plainObjects:typeof p.plainObjects=="boolean"?p.plainObjects:n.plainObjects,strictDepth:typeof p.strictDepth=="boolean"?!!p.strictDepth:n.strictDepth,strictNullHandling:typeof p.strictNullHandling=="boolean"?p.strictNullHandling:n.strictNullHandling,throwOnLimitExceeded:typeof p.throwOnLimitExceeded=="boolean"?p.throwOnLimitExceeded:!1}};return c1=function(c,p){var b=d(p);if(c===""||c===null||typeof c>"u")return b.plainObjects?{__proto__:null}:{};for(var v=typeof c=="string"?l(c,b):c,_=b.plainObjects?{__proto__:null}:{},y=Object.keys(v),m=0;m<y.length;++m){var g=y[m],E=f(g,v[g],b,typeof c=="string");_=e.merge(_,E,b)}return b.allowSparse===!0?_:e.compact(_)},c1}var d1,v3;function dZ(){if(v3)return d1;v3=1;var e=fZ(),t=cZ(),r=RS();return d1={formats:r,parse:t,stringify:e},d1}var hZ=dZ();const pZ=Bh(hZ);var mZ=nZ;function wi(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var yZ=/^([a-z0-9.+-]+:)/i,gZ=/:[0-9]*$/,_Z=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,bZ=["<",">",'"',"`"," ","\r",`
`,"	"],vZ=["{","}","|","\\","^","`"].concat(bZ),Yw=["'"].concat(vZ),w3=["%","/","?",";","#"].concat(Yw),E3=["/","?","#"],wZ=255,S3=/^[+a-z0-9A-Z_-]{0,63}$/,EZ=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,SZ={javascript:!0,"javascript:":!0},Qw={javascript:!0,"javascript:":!0},Pu={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Xw=pZ;function Kh(e,t,r){if(e&&typeof e=="object"&&e instanceof wi)return e;var n=new wi;return n.parse(e,t,r),n}wi.prototype.parse=function(e,t,r){if(typeof e!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e.indexOf("?"),i=n!==-1&&n<e.indexOf("#")?"?":"#",a=e.split(i),o=/\\/g;a[0]=a[0].replace(o,"/"),e=a.join(i);var s=e;if(s=s.trim(),!r&&e.split("#").length===1){var l=_Z.exec(s);if(l)return this.path=s,this.href=s,this.pathname=l[1],l[2]?(this.search=l[2],t?this.query=Xw.parse(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this}var u=yZ.exec(s);if(u){u=u[0];var f=u.toLowerCase();this.protocol=f,s=s.substr(u.length)}if(r||u||s.match(/^\/\/[^@/]+@[^@/]+/)){var d=s.substr(0,2)==="//";d&&!(u&&Qw[u])&&(s=s.substr(2),this.slashes=!0)}if(!Qw[u]&&(d||u&&!Pu[u])){for(var c=-1,p=0;p<E3.length;p++){var b=s.indexOf(E3[p]);b!==-1&&(c===-1||b<c)&&(c=b)}var v,_;c===-1?_=s.lastIndexOf("@"):_=s.lastIndexOf("@",c),_!==-1&&(v=s.slice(0,_),s=s.slice(_+1),this.auth=decodeURIComponent(v)),c=-1;for(var p=0;p<w3.length;p++){var b=s.indexOf(w3[p]);b!==-1&&(c===-1||b<c)&&(c=b)}c===-1&&(c=s.length),this.host=s.slice(0,c),s=s.slice(c),this.parseHost(),this.hostname=this.hostname||"";var y=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!y)for(var m=this.hostname.split(/\./),p=0,g=m.length;p<g;p++){var E=m[p];if(E&&!E.match(S3)){for(var T="",I=0,D=E.length;I<D;I++)E.charCodeAt(I)>127?T+="x":T+=E[I];if(!T.match(S3)){var B=m.slice(0,p),N=m.slice(p+1),M=E.match(EZ);M&&(B.push(M[1]),N.unshift(M[2])),N.length&&(s="/"+N.join(".")+s),this.hostname=B.join(".");break}}}this.hostname.length>wZ?this.hostname="":this.hostname=this.hostname.toLowerCase(),y||(this.hostname=mZ.toASCII(this.hostname));var j=this.port?":"+this.port:"",O=this.hostname||"";this.host=O+j,this.href+=this.host,y&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),s[0]!=="/"&&(s="/"+s))}if(!SZ[f])for(var p=0,g=Yw.length;p<g;p++){var q=Yw[p];if(s.indexOf(q)!==-1){var Q=encodeURIComponent(q);Q===q&&(Q=escape(q)),s=s.split(q).join(Q)}}var ie=s.indexOf("#");ie!==-1&&(this.hash=s.substr(ie),s=s.slice(0,ie));var X=s.indexOf("?");if(X!==-1?(this.search=s.substr(X),this.query=s.substr(X+1),t&&(this.query=Xw.parse(this.query)),s=s.slice(0,X)):t&&(this.search="",this.query={}),s&&(this.pathname=s),Pu[f]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var j=this.pathname||"",le=this.search||"";this.path=j+le}return this.href=this.format(),this};function xZ(e){return typeof e=="string"&&(e=Kh(e)),e instanceof wi?e.format():wi.prototype.format.call(e)}wi.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,a="";this.host?i=e+this.host:this.hostname&&(i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(a=Xw.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var o=this.search||a&&"?"+a||"";return t&&t.substr(-1)!==":"&&(t+=":"),this.slashes||(!t||Pu[t])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),r=r.replace(/[?#]/g,function(s){return encodeURIComponent(s)}),o=o.replace("#","%23"),t+i+r+o+n};function TZ(e,t){return Kh(e,!1,!0).resolve(t)}wi.prototype.resolve=function(e){return this.resolveObject(Kh(e,!1,!0)).format()};function RZ(e,t){return e?Kh(e,!1,!0).resolveObject(t):t}wi.prototype.resolveObject=function(e){if(typeof e=="string"){var t=new wi;t.parse(e,!1,!0),e=t}for(var r=new wi,n=Object.keys(this),i=0;i<n.length;i++){var a=n[i];r[a]=this[a]}if(r.hash=e.hash,e.href==="")return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var o=Object.keys(e),s=0;s<o.length;s++){var l=o[s];l!=="protocol"&&(r[l]=e[l])}return Pu[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!Pu[e.protocol]){for(var u=Object.keys(e),f=0;f<u.length;f++){var d=u[f];r[d]=e[d]}return r.href=r.format(),r}if(r.protocol=e.protocol,!e.host&&!Qw[e.protocol]){for(var g=(e.pathname||"").split("/");g.length&&!(e.host=g.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),g[0]!==""&&g.unshift(""),g.length<2&&g.unshift(""),r.pathname=g.join("/")}else r.pathname=e.pathname;if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var c=r.pathname||"",p=r.search||"";r.path=c+p}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var b=r.pathname&&r.pathname.charAt(0)==="/",v=e.host||e.pathname&&e.pathname.charAt(0)==="/",_=v||b||r.host&&e.pathname,y=_,m=r.pathname&&r.pathname.split("/")||[],g=e.pathname&&e.pathname.split("/")||[],E=r.protocol&&!Pu[r.protocol];if(E&&(r.hostname="",r.port=null,r.host&&(m[0]===""?m[0]=r.host:m.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(g[0]===""?g[0]=e.host:g.unshift(e.host)),e.host=null),_=_&&(g[0]===""||m[0]==="")),v)r.host=e.host||e.host===""?e.host:r.host,r.hostname=e.hostname||e.hostname===""?e.hostname:r.hostname,r.search=e.search,r.query=e.query,m=g;else if(g.length)m||(m=[]),m.pop(),m=m.concat(g),r.search=e.search,r.query=e.query;else if(e.search!=null){if(E){r.host=m.shift(),r.hostname=r.host;var T=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;T&&(r.auth=T.shift(),r.hostname=T.shift(),r.host=r.hostname)}return r.search=e.search,r.query=e.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!m.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var I=m.slice(-1)[0],D=(r.host||e.host||m.length>1)&&(I==="."||I==="..")||I==="",B=0,N=m.length;N>=0;N--)I=m[N],I==="."?m.splice(N,1):I===".."?(m.splice(N,1),B++):B&&(m.splice(N,1),B--);if(!_&&!y)for(;B--;B)m.unshift("..");_&&m[0]!==""&&(!m[0]||m[0].charAt(0)!=="/")&&m.unshift(""),D&&m.join("/").substr(-1)!=="/"&&m.push("");var M=m[0]===""||m[0]&&m[0].charAt(0)==="/";if(E){r.hostname=M?"":m.length?m.shift():"",r.host=r.hostname;var T=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;T&&(r.auth=T.shift(),r.hostname=T.shift(),r.host=r.hostname)}return _=_||r.host&&m.length,_&&!M&&m.unshift(""),m.length>0?r.pathname=m.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r};wi.prototype.parseHost=function(){var e=this.host,t=gZ.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};var AZ=Kh,IZ=TZ,Uj=RZ,OZ=xZ,PZ=wi;function DZ(e,t){for(var r=0,n=e.length-1;n>=0;n--){var i=e[n];i==="."?e.splice(n,1):i===".."?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}function NZ(){for(var e="",t=!1,r=arguments.length-1;r>=-1&&!t;r--){var n=r>=0?arguments[r]:"/";if(typeof n!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!n)continue;e=n+"/"+e,t=n.charAt(0)==="/"}return e=DZ(CZ(e.split("/"),function(i){return!!i}),!t).join("/"),(t?"/":"")+e||"."}function CZ(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}var Hj=function(e){function t(){var n=this||self;return delete e.prototype.__magic__,n}if(typeof globalThis=="object")return globalThis;if(this)return t();e.defineProperty(e.prototype,"__magic__",{configurable:!0,get:t});var r=__magic__;return r}(Object),LZ=OZ,Vj=AZ,zj=IZ,Wj=PZ,Mo=Hj.URL,Gj=Hj.URLSearchParams,MZ=/%/g,kZ=/\\/g,FZ=/\n/g,jZ=/\r/g,BZ=/\t/g,qZ=47;function $Z(e){var t=e??null;return!!(t!==null&&(t!=null&&t.href)&&(t!=null&&t.origin))}function UZ(e){if(e.hostname!=="")throw new TypeError('File URL host must be "localhost" or empty on browser');for(var t=e.pathname,r=0;r<t.length;r++)if(t[r]==="%"){var n=t.codePointAt(r+2)|32;if(t[r+1]==="2"&&n===102)throw new TypeError("File URL path must not include encoded / characters")}return decodeURIComponent(t)}function HZ(e){return e.includes("%")&&(e=e.replace(MZ,"%25")),e.includes("\\")&&(e=e.replace(kZ,"%5C")),e.includes(`
`)&&(e=e.replace(FZ,"%0A")),e.includes("\r")&&(e=e.replace(jZ,"%0D")),e.includes("	")&&(e=e.replace(BZ,"%09")),e}var Kj=function(t){if(typeof t>"u")throw new TypeError('The "domain" argument must be specified');return new Mo("http://"+t).hostname},Zj=function(t){if(typeof t>"u")throw new TypeError('The "domain" argument must be specified');return new Mo("http://"+t).hostname},Yj=function(t){var r=new Mo("file://"),n=NZ(t),i=t.charCodeAt(t.length-1);return i===qZ&&n[n.length-1]!=="/"&&(n+="/"),r.pathname=HZ(n),r},Qj=function(t){if(!$Z(t)&&typeof t!="string")throw new TypeError('The "path" argument must be of type string or an instance of URL. Received type '+typeof t+" ("+t+")");var r=new Mo(t);if(r.protocol!=="file:")throw new TypeError("The URL must be of scheme file");return UZ(r)},Xj=function(t,r){var n,i,a,o;if(r===void 0&&(r={}),!(t instanceof Mo))return LZ(t);if(typeof r!="object"||r===null)throw new TypeError('The "options" argument must be of type object.');var s=(n=r.auth)!=null?n:!0,l=(i=r.fragment)!=null?i:!0,u=(a=r.search)!=null?a:!0;(o=r.unicode)!=null;var f=new Mo(t.toString());return s||(f.username="",f.password=""),l||(f.hash=""),u||(f.search=""),f.toString()},VZ={format:Xj,parse:Vj,resolve:zj,resolveObject:Uj,Url:Wj,URL:Mo,URLSearchParams:Gj,domainToASCII:Kj,domainToUnicode:Zj,pathToFileURL:Yj,fileURLToPath:Qj};const zZ=Object.freeze(Object.defineProperty({__proto__:null,URL:Mo,URLSearchParams:Gj,Url:Wj,default:VZ,domainToASCII:Kj,domainToUnicode:Zj,fileURLToPath:Qj,format:Xj,parse:Vj,pathToFileURL:Yj,resolve:zj,resolveObject:Uj},Symbol.toStringTag,{value:"Module"})),Jj=el(zZ);var x3;function e4(){return x3||(x3=1,function(e){var t=QK(),r=Bj(),n=XK(),i=JK(),a=Jj,o=e;o.request=function(s,l){typeof s=="string"?s=a.parse(s):s=n(s);var u=xt.location.protocol.search(/^https?:$/)===-1?"http:":"",f=s.protocol||u,d=s.hostname||s.host,c=s.port,p=s.path||"/";d&&d.indexOf(":")!==-1&&(d="["+d+"]"),s.url=(d?f+"//"+d:"")+(c?":"+c:"")+p,s.method=(s.method||"GET").toUpperCase(),s.headers=s.headers||{};var b=new t(s);return l&&b.on("response",l),b},o.get=function(l,u){var f=o.request(l,u);return f.end(),f},o.ClientRequest=t,o.IncomingMessage=r.IncomingMessage,o.Agent=function(){},o.Agent.defaultMaxSockets=4,o.globalAgent=new o.Agent,o.STATUS_CODES=i,o.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}(jv)),jv}var h1={exports:{}},T3;function WZ(){return T3||(T3=1,function(e){var t=e4(),r=Jj,n=e.exports;for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.request=function(o,s){return o=a(o),t.request.call(this,o,s)},n.get=function(o,s){return o=a(o),t.get.call(this,o,s)};function a(o){if(typeof o=="string"&&(o=r.parse(o)),o.protocol||(o.protocol="https:"),o.protocol!=="https:")throw new Error('Protocol "'+o.protocol+'" not supported. Expected "https:"');return o}}(h1)),h1.exports}var p1,R3;function GZ(){if(R3)return p1;R3=1;function e(D){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},e(D)}function t(D,B){var N=Object.keys(D);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(D);B&&(M=M.filter(function(j){return Object.getOwnPropertyDescriptor(D,j).enumerable})),N.push.apply(N,M)}return N}function r(D){for(var B=1;B<arguments.length;B++){var N=arguments[B]!=null?arguments[B]:{};B%2?t(Object(N),!0).forEach(function(M){n(D,M,N[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(N)):t(Object(N)).forEach(function(M){Object.defineProperty(D,M,Object.getOwnPropertyDescriptor(N,M))})}return D}function n(D,B,N){return(B=s(B))in D?Object.defineProperty(D,B,{value:N,enumerable:!0,configurable:!0,writable:!0}):D[B]=N,D}function i(D,B){if(!(D instanceof B))throw new TypeError("Cannot call a class as a function")}function a(D,B){for(var N=0;N<B.length;N++){var M=B[N];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(D,s(M.key),M)}}function o(D,B,N){return a(D.prototype,B),Object.defineProperty(D,"prototype",{writable:!1}),D}function s(D){var B=l(D,"string");return e(B)=="symbol"?B:B+""}function l(D,B){if(e(D)!="object"||!D)return D;var N=D[Symbol.toPrimitive];if(N!==void 0){var M=N.call(D,B);if(e(M)!="object")return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(D)}function u(D,B,N){return B=p(B),f(D,c()?Reflect.construct(B,N,p(D).constructor):B.apply(D,N))}function f(D,B){if(B&&(e(B)=="object"||typeof B=="function"))return B;if(B!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d(D)}function d(D){if(D===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D}function c(){try{var D=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c=function(){return!!D})()}function p(D){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(B){return B.__proto__||Object.getPrototypeOf(B)},p(D)}function b(D,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function");D.prototype=Object.create(B&&B.prototype,{constructor:{value:D,writable:!0,configurable:!0}}),Object.defineProperty(D,"prototype",{writable:!1}),B&&v(D,B)}function v(D,B){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(N,M){return N.__proto__=M,N},v(D,B)}var _=e4(),y=WZ(),m=ul(),g=m.Stream,E=Wh(),T=zh(),I=T.configure;return p1=function(D){function B(){var N,M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return i(this,B),N=u(this,B,[M]),N.options=M,N.name=M.name||"http",N.ssl=!!M.ssl,N.host=M.host||"localhost",N.port=M.port,N.auth=M.auth,N.path=M.path||"",N.maximumDepth=M.maximumDepth,N.agent=M.agent,N.headers=M.headers||{},N.headers["content-type"]="application/json",N.batch=M.batch||!1,N.batchInterval=M.batchInterval||5e3,N.batchCount=M.batchCount||10,N.batchOptions=[],N.batchTimeoutID=-1,N.batchCallback={},N.port||(N.port=N.ssl?443:80),N}return b(B,D),o(B,[{key:"log",value:function(M,j){var O=this;this._request(M,null,null,function(q,Q){Q&&Q.statusCode!==200&&(q=new Error("Invalid HTTP Status Code: ".concat(Q.statusCode))),q?O.emit("warn",q):O.emit("logged",M)}),j&&setImmediate(j)}},{key:"query",value:function(M,j){typeof M=="function"&&(j=M,M={}),M={method:"query",params:this.normalizeQuery(M)};var O=M.params.auth||null;delete M.params.auth;var q=M.params.path||null;delete M.params.path,this._request(M,O,q,function(Q,ie,X){if(ie&&ie.statusCode!==200&&(Q=new Error("Invalid HTTP Status Code: ".concat(ie.statusCode))),Q)return j(Q);if(typeof X=="string")try{X=JSON.parse(X)}catch(le){return j(le)}j(null,X)})}},{key:"stream",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},j=new g;M={method:"stream",params:M};var O=M.params.path||null;delete M.params.path;var q=M.params.auth||null;delete M.params.auth;var Q="",ie=this._request(M,q,O);return j.destroy=function(){return ie.destroy()},ie.on("data",function(X){X=(Q+X).split(/\n+/);for(var le=X.length-1,ae=0;ae<le;ae++)try{j.emit("log",JSON.parse(X[ae]))}catch(ne){j.emit("error",ne)}Q=X[le]}),ie.on("error",function(X){return j.emit("error",X)}),j}},{key:"_request",value:function(M,j,O,q){M=M||{},j=j||this.auth,O=O||this.path||"",this.batch?this._doBatch(M,q,j,O):this._doRequest(M,q,j,O)}},{key:"_doBatch",value:function(M,j,O,q){if(this.batchOptions.push(M),this.batchOptions.length===1){var Q=this;this.batchCallback=j,this.batchTimeoutID=setTimeout(function(){Q.batchTimeoutID=-1,Q._doBatchRequest(Q.batchCallback,O,q)},this.batchInterval)}this.batchOptions.length===this.batchCount&&this._doBatchRequest(this.batchCallback,O,q)}},{key:"_doBatchRequest",value:function(M,j,O){this.batchTimeoutID>0&&(clearTimeout(this.batchTimeoutID),this.batchTimeoutID=-1);var q=this.batchOptions.slice();this.batchOptions=[],this._doRequest(q,M,j,O)}},{key:"_doRequest",value:function(M,j,O,q){var Q=Object.assign({},this.headers);O&&O.bearer&&(Q.Authorization="Bearer ".concat(O.bearer));var ie=(this.ssl?y:_).request(r(r({},this.options),{},{method:"POST",host:this.host,port:this.port,path:"/".concat(q.replace(/^\//,"")),headers:Q,auth:O&&O.username&&O.password?"".concat(O.username,":").concat(O.password):"",agent:this.agent}));ie.on("error",j),ie.on("response",function(le){return le.on("end",function(){return j(null,le)}).resume()});var X=I(r({},this.maximumDepth&&{maximumDepth:this.maximumDepth}));ie.end(Yn.from(X(M,this.options.replacer),"utf8"))}}])}(E),p1}var m1,A3;function AS(){if(A3)return m1;A3=1;const e=t=>t!==null&&typeof t=="object"&&typeof t.pipe=="function";return e.writable=t=>e(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object",e.readable=t=>e(t)&&t.readable!==!1&&typeof t._read=="function"&&typeof t._readableState=="object",e.duplex=t=>e.writable(t)&&e.readable(t),e.transform=t=>e.duplex(t)&&typeof t._transform=="function",m1=e,m1}var y1,I3;function KZ(){if(I3)return y1;I3=1;function e(m){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},e(m)}function t(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function r(m,g){for(var E=0;E<g.length;E++){var T=g[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(m,i(T.key),T)}}function n(m,g,E){return r(m.prototype,g),Object.defineProperty(m,"prototype",{writable:!1}),m}function i(m){var g=a(m,"string");return e(g)=="symbol"?g:g+""}function a(m,g){if(e(m)!="object"||!m)return m;var E=m[Symbol.toPrimitive];if(E!==void 0){var T=E.call(m,g);if(e(T)!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(m)}function o(m,g,E){return g=f(g),s(m,u()?Reflect.construct(g,E,f(m).constructor):g.apply(m,E))}function s(m,g){if(g&&(e(g)=="object"||typeof g=="function"))return g;if(g!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l(m)}function l(m){if(m===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}function u(){try{var m=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u=function(){return!!m})()}function f(m){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)},f(m)}function d(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),Object.defineProperty(m,"prototype",{writable:!1}),g&&c(m,g)}function c(m,g){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(E,T){return E.__proto__=T,E},c(m,g)}var p=AS(),b=Dr(),v=b.MESSAGE,_=il(),y=Wh();return y1=function(m){function g(){var E,T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(t(this,g),E=o(this,g,[T]),!T.stream||!p(T.stream))throw new Error("options.stream is required.");return E._stream=T.stream,E._stream.setMaxListeners(1/0),E.isObjectMode=T.stream._writableState.objectMode,E.eol=typeof T.eol=="string"?T.eol:_.EOL,E}return d(g,m),n(g,[{key:"log",value:function(T,I){var D=this;if(setImmediate(function(){return D.emit("logged",T)}),this.isObjectMode){this._stream.write(T),I&&I();return}this._stream.write("".concat(T[v]).concat(this.eol)),I&&I()}}])}(y),y1}var O3;function ZZ(){return O3||(O3=1,function(e){Object.defineProperty(e,"Console",{configurable:!0,enumerable:!0,get:function(){return XG()}}),Object.defineProperty(e,"File",{configurable:!0,enumerable:!0,get:function(){return zK()}}),Object.defineProperty(e,"Http",{configurable:!0,enumerable:!0,get:function(){return GZ()}}),Object.defineProperty(e,"Stream",{configurable:!0,enumerable:!0,get:function(){return KZ()}})}(db)),db}var du={},P3;function IS(){if(P3)return du;P3=1;var e=ej(),t=Dr(),r=t.configs;return du.cli=e.levels(r.cli),du.npm=e.levels(r.npm),du.syslog=e.levels(r.syslog),du.addColors=e.levels,du}var p0={exports:{}},m0={exports:{}},D3;function YZ(){return D3||(D3=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=vS(),n=_(r),i=wS(),a=_(i),o=fj(),s=_(o),l=uj(),u=_(l),f=lj(),d=_(f),c=al(),p=_(c),b=Gh(),v=_(b);function _(E){return E&&E.__esModule?E:{default:E}}function y(E,T,I){I=(0,u.default)(I);var D=0,B=0,{length:N}=E,M=!1;N===0&&I(null);function j(O,q){O===!1&&(M=!0),M!==!0&&(O?I(O):(++B===N||q===a.default)&&I(null))}for(;D<N;D++)T(E[D],D,(0,d.default)(j))}function m(E,T,I){return(0,s.default)(E,1/0,T,I)}function g(E,T,I){var D=(0,n.default)(E)?y:m;return D(E,(0,p.default)(T),I)}t.default=(0,v.default)(g,3),e.exports=t.default}(m0,m0.exports)),m0.exports}var y0={exports:{}},N3;function QZ(){return N3||(N3=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(n){return(i,a,o)=>n(i,o)}e.exports=t.default}(y0,y0.exports)),y0.exports}var C3;function OS(){return C3||(C3=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=YZ(),n=f(r),i=QZ(),a=f(i),o=al(),s=f(o),l=Gh(),u=f(l);function f(c){return c&&c.__esModule?c:{default:c}}function d(c,p,b){return(0,n.default)(c,(0,a.default)((0,s.default)(p)),b)}t.default=(0,u.default)(d,3),e.exports=t.default}(p0,p0.exports)),p0.exports}var g1,L3;function XZ(){if(L3)return g1;L3=1;var e=Object.prototype.toString;return g1=function(r){if(typeof r.displayName=="string"&&r.constructor.name)return r.displayName;if(typeof r.name=="string"&&r.name)return r.name;if(typeof r=="object"&&r.constructor&&typeof r.constructor.name=="string")return r.constructor.name;var n=r.toString(),i=e.call(r).slice(8,-1);return i==="Function"?n=n.substring(n.indexOf("(")+1,n.indexOf(")")):n=i,n||"anonymous"},g1}var _1,M3;function t4(){if(M3)return _1;M3=1;var e=XZ();return _1=function(r){var n=0,i;function a(){return n||(n=1,i=r.apply(this,arguments),r=null),i}return a.displayName=e(r),a},_1}var b1={},k3;function r4(){return k3||(k3=1,function(e){e.get=function(i){var a=Error.stackTraceLimit;Error.stackTraceLimit=1/0;var o={},s=Error.prepareStackTrace;Error.prepareStackTrace=function(u,f){return f},Error.captureStackTrace(o,i||e.get);var l=o.stack;return Error.prepareStackTrace=s,Error.stackTraceLimit=a,l},e.parse=function(i){if(!i.stack)return[];var a=this,o=i.stack.split(`
`).slice(1);return o.map(function(s){if(s.match(/^\s*[-]{4,}$/))return a._createParsedCallSite({fileName:s,lineNumber:null,functionName:null,typeName:null,methodName:null,columnNumber:null,native:null});var l=s.match(/at (?:(.+)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/);if(l){var u=null,f=null,d=null,c=null,p=null,b=l[5]==="native";if(l[1]){d=l[1];var v=d.lastIndexOf(".");if(d[v-1]=="."&&v--,v>0){u=d.substr(0,v),f=d.substr(v+1);var _=u.indexOf(".Module");_>0&&(d=d.substr(_+1),u=u.substr(0,_))}c=null}f&&(c=u,p=f),f==="<anonymous>"&&(p=null,d=null);var y={fileName:l[2]||null,lineNumber:parseInt(l[3],10)||null,functionName:d,typeName:c,methodName:p,columnNumber:parseInt(l[4],10)||null,native:b};return a._createParsedCallSite(y)}}).filter(function(s){return!!s})};function t(i){for(var a in i)this[a]=i[a]}var r=["this","typeName","functionName","methodName","fileName","lineNumber","columnNumber","function","evalOrigin"],n=["topLevel","eval","native","constructor"];r.forEach(function(i){t.prototype[i]=null,t.prototype["get"+i[0].toUpperCase()+i.substr(1)]=function(){return this[i]}}),n.forEach(function(i){t.prototype[i]=!1,t.prototype["is"+i[0].toUpperCase()+i.substr(1)]=function(){return this[i]}}),e._createParsedCallSite=function(i){return new t(i)}}(b1)),b1}var v1,F3;function JZ(){if(F3)return v1;F3=1;function e(v){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},e(v)}function t(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")}function r(v,_){for(var y=0;y<_.length;y++){var m=_[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(v,i(m.key),m)}}function n(v,_,y){return r(v.prototype,_),Object.defineProperty(v,"prototype",{writable:!1}),v}function i(v){var _=a(v,"string");return e(_)=="symbol"?_:_+""}function a(v,_){if(e(v)!="object"||!v)return v;var y=v[Symbol.toPrimitive];if(y!==void 0){var m=y.call(v,_);if(e(m)!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(v)}function o(v,_,y){return _=f(_),s(v,u()?Reflect.construct(_,y,f(v).constructor):_.apply(v,y))}function s(v,_){if(_&&(e(_)=="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l(v)}function l(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}function u(){try{var v=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u=function(){return!!v})()}function f(v){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},f(v)}function d(v,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(_&&_.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),Object.defineProperty(v,"prototype",{writable:!1}),_&&c(v,_)}function c(v,_){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,m){return y.__proto__=m,y},c(v,_)}var p=ul(),b=p.Writable;return v1=function(v){function _(y){var m;if(t(this,_),m=o(this,_,[{objectMode:!0}]),!y)throw new Error("ExceptionStream requires a TransportStream instance.");return m.handleExceptions=!0,m.transport=y,m}return d(_,v),n(_,[{key:"_write",value:function(m,g,E){return m.exception?this.transport.log(m,E):(E(),!0)}}])}(b),v1}var w1,j3;function n4(){if(j3)return w1;j3=1;function e(c){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},e(c)}function t(c,p){if(!(c instanceof p))throw new TypeError("Cannot call a class as a function")}function r(c,p){for(var b=0;b<p.length;b++){var v=p[b];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(c,i(v.key),v)}}function n(c,p,b){return r(c.prototype,p),Object.defineProperty(c,"prototype",{writable:!1}),c}function i(c){var p=a(c,"string");return e(p)=="symbol"?p:p+""}function a(c,p){if(e(c)!="object"||!c)return c;var b=c[Symbol.toPrimitive];if(b!==void 0){var v=b.call(c,p);if(e(v)!="object")return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(c)}var o=il(),s=OS(),l=Nm()("winston:exception"),u=t4(),f=r4(),d=JZ();return w1=function(){function c(p){if(t(this,c),!p)throw new Error("Logger is required to handle exceptions");this.logger=p,this.handlers=new Map}return n(c,[{key:"handle",value:function(){for(var b=this,v=arguments.length,_=new Array(v),y=0;y<v;y++)_[y]=arguments[y];_.forEach(function(m){if(Array.isArray(m))return m.forEach(function(g){return b._addHandler(g)});b._addHandler(m)}),this.catcher||(this.catcher=this._uncaughtException.bind(this),ze.on("uncaughtException",this.catcher))}},{key:"unhandle",value:function(){var b=this;this.catcher&&(ze.removeListener("uncaughtException",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(function(v){return b.logger.unpipe(v)}))}},{key:"getAllInfo",value:function(b){var v=null;return b&&(v=typeof b=="string"?b:b.message),{error:b,level:"error",message:["uncaughtException: ".concat(v||"(no error message)"),b&&b.stack||"  No stack trace"].join(`
`),stack:b&&b.stack,exception:!0,date:new Date().toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(b)}}},{key:"getProcessInfo",value:function(){return{pid:ze.pid,uid:ze.getuid?ze.getuid():null,gid:ze.getgid?ze.getgid():null,cwd:ze.cwd(),execPath:ze.execPath,version:ze.version,argv:ze.argv,memoryUsage:ze.memoryUsage()}}},{key:"getOsInfo",value:function(){return{loadavg:o.loadavg(),uptime:o.uptime()}}},{key:"getTrace",value:function(b){var v=b?f.parse(b):f.get();return v.map(function(_){return{column:_.getColumnNumber(),file:_.getFileName(),function:_.getFunctionName(),line:_.getLineNumber(),method:_.getMethodName(),native:_.isNative()}})}},{key:"_addHandler",value:function(b){if(!this.handlers.has(b)){b.handleExceptions=!0;var v=new d(b);this.handlers.set(b,v),this.logger.pipe(v)}}},{key:"_uncaughtException",value:function(b){var v=this.getAllInfo(b),_=this._getExceptionHandlers(),y=typeof this.logger.exitOnError=="function"?this.logger.exitOnError(b):this.logger.exitOnError,m;!_.length&&y&&(console.warn("winston: exitOnError cannot be true with no exception handlers."),console.warn("winston: not exiting process."),y=!1);function g(){l("doExit",y),l("process._exiting",ze._exiting),y&&!ze._exiting&&(m&&clearTimeout(m),ze.exit(1))}if(!_||_.length===0)return ze.nextTick(g);s(_,function(E,T){var I=u(T),D=E.transport||E;function B(N){return function(){l(N),I()}}D._ending=!0,D.once("finish",B("finished")),D.once("error",B("error"))},function(){return y&&g()}),this.logger.log(v),y&&(m=setTimeout(g,3e3))}},{key:"_getExceptionHandlers",value:function(){return this.logger.transports.filter(function(b){var v=b.transport||b;return v.handleExceptions})}}])}(),w1}var E1,B3;function eY(){if(B3)return E1;B3=1;function e(v){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},e(v)}function t(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")}function r(v,_){for(var y=0;y<_.length;y++){var m=_[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(v,i(m.key),m)}}function n(v,_,y){return r(v.prototype,_),Object.defineProperty(v,"prototype",{writable:!1}),v}function i(v){var _=a(v,"string");return e(_)=="symbol"?_:_+""}function a(v,_){if(e(v)!="object"||!v)return v;var y=v[Symbol.toPrimitive];if(y!==void 0){var m=y.call(v,_);if(e(m)!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(v)}function o(v,_,y){return _=f(_),s(v,u()?Reflect.construct(_,y,f(v).constructor):_.apply(v,y))}function s(v,_){if(_&&(e(_)=="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l(v)}function l(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}function u(){try{var v=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u=function(){return!!v})()}function f(v){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},f(v)}function d(v,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(_&&_.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),Object.defineProperty(v,"prototype",{writable:!1}),_&&c(v,_)}function c(v,_){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,m){return y.__proto__=m,y},c(v,_)}var p=ul(),b=p.Writable;return E1=function(v){function _(y){var m;if(t(this,_),m=o(this,_,[{objectMode:!0}]),!y)throw new Error("RejectionStream requires a TransportStream instance.");return m.handleRejections=!0,m.transport=y,m}return d(_,v),n(_,[{key:"_write",value:function(m,g,E){return m.rejection?this.transport.log(m,E):(E(),!0)}}])}(b),E1}var S1,q3;function i4(){if(q3)return S1;q3=1;function e(c){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},e(c)}function t(c,p){if(!(c instanceof p))throw new TypeError("Cannot call a class as a function")}function r(c,p){for(var b=0;b<p.length;b++){var v=p[b];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(c,i(v.key),v)}}function n(c,p,b){return r(c.prototype,p),Object.defineProperty(c,"prototype",{writable:!1}),c}function i(c){var p=a(c,"string");return e(p)=="symbol"?p:p+""}function a(c,p){if(e(c)!="object"||!c)return c;var b=c[Symbol.toPrimitive];if(b!==void 0){var v=b.call(c,p);if(e(v)!="object")return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(c)}var o=il(),s=OS(),l=Nm()("winston:rejection"),u=t4(),f=r4(),d=eY();return S1=function(){function c(p){if(t(this,c),!p)throw new Error("Logger is required to handle rejections");this.logger=p,this.handlers=new Map}return n(c,[{key:"handle",value:function(){for(var b=this,v=arguments.length,_=new Array(v),y=0;y<v;y++)_[y]=arguments[y];_.forEach(function(m){if(Array.isArray(m))return m.forEach(function(g){return b._addHandler(g)});b._addHandler(m)}),this.catcher||(this.catcher=this._unhandledRejection.bind(this),ze.on("unhandledRejection",this.catcher))}},{key:"unhandle",value:function(){var b=this;this.catcher&&(ze.removeListener("unhandledRejection",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(function(v){return b.logger.unpipe(v)}))}},{key:"getAllInfo",value:function(b){var v=null;return b&&(v=typeof b=="string"?b:b.message),{error:b,level:"error",message:["unhandledRejection: ".concat(v||"(no error message)"),b&&b.stack||"  No stack trace"].join(`
`),stack:b&&b.stack,rejection:!0,date:new Date().toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(b)}}},{key:"getProcessInfo",value:function(){return{pid:ze.pid,uid:ze.getuid?ze.getuid():null,gid:ze.getgid?ze.getgid():null,cwd:ze.cwd(),execPath:ze.execPath,version:ze.version,argv:ze.argv,memoryUsage:ze.memoryUsage()}}},{key:"getOsInfo",value:function(){return{loadavg:o.loadavg(),uptime:o.uptime()}}},{key:"getTrace",value:function(b){var v=b?f.parse(b):f.get();return v.map(function(_){return{column:_.getColumnNumber(),file:_.getFileName(),function:_.getFunctionName(),line:_.getLineNumber(),method:_.getMethodName(),native:_.isNative()}})}},{key:"_addHandler",value:function(b){if(!this.handlers.has(b)){b.handleRejections=!0;var v=new d(b);this.handlers.set(b,v),this.logger.pipe(v)}}},{key:"_unhandledRejection",value:function(b){var v=this.getAllInfo(b),_=this._getRejectionHandlers(),y=typeof this.logger.exitOnError=="function"?this.logger.exitOnError(b):this.logger.exitOnError,m;!_.length&&y&&(console.warn("winston: exitOnError cannot be true with no rejection handlers."),console.warn("winston: not exiting process."),y=!1);function g(){l("doExit",y),l("process._exiting",ze._exiting),y&&!ze._exiting&&(m&&clearTimeout(m),ze.exit(1))}if(!_||_.length===0)return ze.nextTick(g);s(_,function(E,T){var I=u(T),D=E.transport||E;function B(N){return function(){l(N),I()}}D._ending=!0,D.once("finish",B("finished")),D.once("error",B("error"))},function(){return y&&g()}),this.logger.log(v),y&&(m=setTimeout(g,3e3))}},{key:"_getRejectionHandlers",value:function(){return this.logger.transports.filter(function(b){var v=b.transport||b;return v.handleRejections})}}])}(),S1}var x1={exports:{}},T1={exports:{}},$3;function tY(){if($3)return T1.exports;$3=1;const e=Or(),t=bS(),{LEVEL:r}=Dr(),n=T1.exports=function(a={}){t.call(this,{objectMode:!0,highWaterMark:a.highWaterMark}),this.format=a.format,this.level=a.level,this.handleExceptions=a.handleExceptions,this.handleRejections=a.handleRejections,this.silent=a.silent,a.log&&(this.log=a.log),a.logv&&(this.logv=a.logv),a.close&&(this.close=a.close),this.once("pipe",o=>{this.levels=o.levels,this.parent=o}),this.once("unpipe",o=>{o===this.parent&&(this.parent=null,this.close&&this.close())})};return e.inherits(n,t),n.prototype._write=function(a,o,s){if(this.silent||a.exception===!0&&!this.handleExceptions)return s(null);const l=this.level||this.parent&&this.parent.level;if(!l||this.levels[l]>=this.levels[a[r]]){if(a&&!this.format)return this.log(a,s);let u,f;try{f=this.format.transform(Object.assign({},a),this.format.options)}catch(d){u=d}if(u||!f){if(s(),u)throw u;return}return this.log(f,s)}return this._writableState.sync=!1,s(null)},n.prototype._writev=function(a,o){if(this.logv){const s=a.filter(this._accept,this);return s.length?this.logv(s,o):o(null)}for(let s=0;s<a.length;s++){if(!this._accept(a[s]))continue;if(a[s].chunk&&!this.format){this.log(a[s].chunk,a[s].callback);continue}let l,u;try{u=this.format.transform(Object.assign({},a[s].chunk),this.format.options)}catch(f){l=f}if(l||!u){if(a[s].callback(),l)throw o(null),l}else this.log(u,a[s].callback)}return o(null)},n.prototype._accept=function(a){const o=a.chunk;if(this.silent)return!1;const s=this.level||this.parent&&this.parent.level;return!!((o.exception===!0||!s||this.levels[s]>=this.levels[o[r]])&&(this.handleExceptions||o.exception!==!0))},n.prototype._nop=function(){},T1.exports}var U3;function rY(){if(U3)return x1.exports;U3=1;const e=Or(),{LEVEL:t}=Dr(),r=tY(),n=x1.exports=function(a={}){if(r.call(this,a),!a.transport||typeof a.transport.log!="function")throw new Error("Invalid transport, must be an object with a log method.");this.transport=a.transport,this.level=this.level||a.transport.level,this.handleExceptions=this.handleExceptions||a.transport.handleExceptions,this._deprecated();function o(s){this.emit("error",s,this.transport)}this.transport.__winstonError||(this.transport.__winstonError=o.bind(this),this.transport.on("error",this.transport.__winstonError))};return e.inherits(n,r),n.prototype._write=function(a,o,s){if(this.silent||a.exception===!0&&!this.handleExceptions)return s(null);(!this.level||this.levels[this.level]>=this.levels[a[t]])&&this.transport.log(a[t],a.message,a,this._nop),s(null)},n.prototype._writev=function(a,o){for(let s=0;s<a.length;s++)this._accept(a[s])&&(this.transport.log(a[s].chunk[t],a[s].chunk.message,a[s].chunk,this._nop),a[s].callback());return o(null)},n.prototype._deprecated=function(){console.error([`${this.transport.name} is a legacy winston transport. Consider upgrading: `,"- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md"].join(`
`))},n.prototype.close=function(){this.transport.close&&this.transport.close(),this.transport.__winstonError&&(this.transport.removeListener("error",this.transport.__winstonError),this.transport.__winstonError=null)},x1.exports}var R1,H3;function nY(){if(H3)return R1;H3=1;function e(s){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},e(s)}function t(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")}function r(s,l){for(var u=0;u<l.length;u++){var f=l[u];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(s,i(f.key),f)}}function n(s,l,u){return r(s.prototype,l),Object.defineProperty(s,"prototype",{writable:!1}),s}function i(s){var l=a(s,"string");return e(l)=="symbol"?l:l+""}function a(s,l){if(e(s)!="object"||!s)return s;var u=s[Symbol.toPrimitive];if(u!==void 0){var f=u.call(s,l);if(e(f)!="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}var o=function(){function s(l){t(this,s);var u=PS();if(e(l)!=="object"||Array.isArray(l)||!(l instanceof u))throw new Error("Logger is required for profiling");this.logger=l,this.start=Date.now()}return n(s,[{key:"done",value:function(){for(var u=arguments.length,f=new Array(u),d=0;d<u;d++)f[d]=arguments[d];typeof f[f.length-1]=="function"&&(console.warn("Callback function no longer supported as of winston@3.0.0"),f.pop());var c=e(f[f.length-1])==="object"?f.pop():{};return c.level=c.level||"info",c.durationMs=Date.now()-this.start,this.logger.write(c)}}])}();return R1=o,R1}var A1,V3;function iY(){if(V3)return A1;V3=1;class e extends Error{constructor(r){super(`Format functions must be synchronous taking a two arguments: (info, opts)
Found: ${r.toString().split(`
`)[0]}
`),Error.captureStackTrace(this,e)}}return A1=t=>{if(t.length>2)throw new e(t);function r(i={}){this.options=i}r.prototype.transform=t;function n(i){return new r(i)}return n.Format=r,n},A1}var I1,z3;function aY(){if(z3)return I1;z3=1;const e=iY(),{MESSAGE:t}=Dr(),r=zh();function n(i,a){return typeof a=="bigint"?a.toString():a}return I1=e((i,a)=>{const o=r.configure(a);return i[t]=o(i,a.replacer||n,a.space),i}),I1}var O1,W3;function PS(){if(W3)return O1;W3=1;function e(X,le,ae){return(le=a(le))in X?Object.defineProperty(X,le,{value:ae,enumerable:!0,configurable:!0,writable:!0}):X[le]=ae,X}function t(X){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(le){return typeof le}:function(le){return le&&typeof Symbol=="function"&&le.constructor===Symbol&&le!==Symbol.prototype?"symbol":typeof le},t(X)}function r(X,le){if(!(X instanceof le))throw new TypeError("Cannot call a class as a function")}function n(X,le){for(var ae=0;ae<le.length;ae++){var ne=le[ae];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(X,a(ne.key),ne)}}function i(X,le,ae){return n(X.prototype,le),Object.defineProperty(X,"prototype",{writable:!1}),X}function a(X){var le=o(X,"string");return t(le)=="symbol"?le:le+""}function o(X,le){if(t(X)!="object"||!X)return X;var ae=X[Symbol.toPrimitive];if(ae!==void 0){var ne=ae.call(X,le);if(t(ne)!="object")return ne;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(X)}function s(X,le,ae){return le=d(le),l(X,f()?Reflect.construct(le,ae,d(X).constructor):le.apply(X,ae))}function l(X,le){if(le&&(t(le)=="object"||typeof le=="function"))return le;if(le!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u(X)}function u(X){if(X===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return X}function f(){try{var X=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f=function(){return!!X})()}function d(X){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(le){return le.__proto__||Object.getPrototypeOf(le)},d(X)}function c(X,le){if(typeof le!="function"&&le!==null)throw new TypeError("Super expression must either be null or a function");X.prototype=Object.create(le&&le.prototype,{constructor:{value:X,writable:!0,configurable:!0}}),Object.defineProperty(X,"prototype",{writable:!1}),le&&p(X,le)}function p(X,le){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ae,ne){return ae.__proto__=ne,ae},p(X,le)}var b=ul(),v=b.Stream,_=b.Transform,y=OS(),m=Dr(),g=m.LEVEL,E=m.SPLAT,T=AS(),I=n4(),D=i4(),B=rY(),N=nY(),M=tj(),j=M.warn,O=IS(),q=/%[scdjifoO%]/g,Q=function(X){function le(ae){var ne;return r(this,le),ne=s(this,le,[{objectMode:!0}]),ne.configure(ae),ne}return c(le,X),i(le,[{key:"child",value:function(ne){var V=this;return Object.create(V,{write:{value:function(he){var Y=Object.assign({},ne,he);he instanceof Error&&(Y.stack=he.stack,Y.message=he.message),V.write(Y)}}})}},{key:"configure",value:function(){var ne=this,V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},oe=V.silent,he=V.format,Y=V.defaultMeta,Z=V.levels,ee=V.level,P=ee===void 0?"info":ee,A=V.exitOnError,$=A===void 0?!0:A,te=V.transports,pe=V.colors,R=V.emitErrs,w=V.formatters,x=V.padLevels,k=V.rewriters,U=V.stripColors,re=V.exceptionHandlers,fe=V.rejectionHandlers;if(this.transports.length&&this.clear(),this.silent=oe,this.format=he||this.format||aY()(),this.defaultMeta=Y||null,this.levels=Z||this.levels||O.npm.levels,this.level=P,this.exceptions&&this.exceptions.unhandle(),this.rejections&&this.rejections.unhandle(),this.exceptions=new I(this),this.rejections=new D(this),this.profilers={},this.exitOnError=$,te&&(te=Array.isArray(te)?te:[te],te.forEach(function(ve){return ne.add(ve)})),pe||R||w||x||k||U)throw new Error(["{ colors, emitErrs, formatters, padLevels, rewriters, stripColors } were removed in winston@3.0.0.","Use a custom winston.format(function) instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join(`
`));re&&this.exceptions.handle(re),fe&&this.rejections.handle(fe)}},{key:"isLevelEnabled",value:function(ne){var V=this,oe=ie(this.levels,ne);if(oe===null)return!1;var he=ie(this.levels,this.level);if(he===null)return!1;if(!this.transports||this.transports.length===0)return he>=oe;var Y=this.transports.findIndex(function(Z){var ee=ie(V.levels,Z.level);return ee===null&&(ee=he),ee>=oe});return Y!==-1}},{key:"log",value:function(ne,V){for(var oe=arguments.length,he=new Array(oe>2?oe-2:0),Y=2;Y<oe;Y++)he[Y-2]=arguments[Y];if(arguments.length===1)return ne[g]=ne.level,this._addDefaultMeta(ne),this.write(ne),this;if(arguments.length===2)return V&&t(V)==="object"?(V[g]=V.level=ne,this._addDefaultMeta(V),this.write(V),this):(V=e(e(e({},g,ne),"level",ne),"message",V),this._addDefaultMeta(V),this.write(V),this);var Z=he[0];if(t(Z)==="object"&&Z!==null){var ee=V&&V.match&&V.match(q);if(!ee){var P=Object.assign({},this.defaultMeta,Z,e(e(e(e({},g,ne),E,he),"level",ne),"message",V));return Z.message&&(P.message="".concat(P.message," ").concat(Z.message)),Z.stack&&(P.stack=Z.stack),Z.cause&&(P.cause=Z.cause),this.write(P),this}}return this.write(Object.assign({},this.defaultMeta,e(e(e(e({},g,ne),E,he),"level",ne),"message",V))),this}},{key:"_transform",value:function(ne,V,oe){if(this.silent)return oe();ne[g]||(ne[g]=ne.level),!this.levels[ne[g]]&&this.levels[ne[g]]!==0&&console.error("[winston] Unknown logger level: %s",ne[g]),this._readableState.pipes||console.error("[winston] Attempt to write logs with no transports, which can increase memory usage: %j",ne);try{this.push(this.format.transform(ne,this.format.options))}finally{this._writableState.sync=!1,oe()}}},{key:"_final",value:function(ne){var V=this.transports.slice();y(V,function(oe,he){if(!oe||oe.finished)return setImmediate(he);oe.once("finish",he),oe.end()},ne)}},{key:"add",value:function(ne){var V=!T(ne)||ne.log.length>2?new B({transport:ne}):ne;if(!V._writableState||!V._writableState.objectMode)throw new Error("Transports must WritableStreams in objectMode. Set { objectMode: true }.");return this._onEvent("error",V),this._onEvent("warn",V),this.pipe(V),ne.handleExceptions&&this.exceptions.handle(),ne.handleRejections&&this.rejections.handle(),this}},{key:"remove",value:function(ne){if(!ne)return this;var V=ne;return(!T(ne)||ne.log.length>2)&&(V=this.transports.filter(function(oe){return oe.transport===ne})[0]),V&&this.unpipe(V),this}},{key:"clear",value:function(){return this.unpipe(),this}},{key:"close",value:function(){return this.exceptions.unhandle(),this.rejections.unhandle(),this.clear(),this.emit("close"),this}},{key:"setLevels",value:function(){j.deprecated("setLevels")}},{key:"query",value:function(ne,V){typeof ne=="function"&&(V=ne,ne={}),ne=ne||{};var oe={},he=Object.assign({},ne.query||{});function Y(ee,P){ne.query&&typeof ee.formatQuery=="function"&&(ne.query=ee.formatQuery(he)),ee.query(ne,function(A,$){if(A)return P(A);typeof ee.formatResults=="function"&&($=ee.formatResults($,ne.format)),P(null,$)})}function Z(ee,P){Y(ee,function(A,$){P&&($=A||$,$&&(oe[ee.name]=$),P()),P=null})}y(this.transports.filter(function(ee){return!!ee.query}),Z,function(){return V(null,oe)})}},{key:"stream",value:function(){var ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},V=new v,oe=[];return V._streams=oe,V.destroy=function(){for(var he=oe.length;he--;)oe[he].destroy()},this.transports.filter(function(he){return!!he.stream}).forEach(function(he){var Y=he.stream(ne);Y&&(oe.push(Y),Y.on("log",function(Z){Z.transport=Z.transport||[],Z.transport.push(he.name),V.emit("log",Z)}),Y.on("error",function(Z){Z.transport=Z.transport||[],Z.transport.push(he.name),V.emit("error",Z)}))}),V}},{key:"startTimer",value:function(){return new N(this)}},{key:"profile",value:function(ne){var V=Date.now();if(this.profilers[ne]){var oe=this.profilers[ne];delete this.profilers[ne];for(var he=arguments.length,Y=new Array(he>1?he-1:0),Z=1;Z<he;Z++)Y[Z-1]=arguments[Z];typeof Y[Y.length-2]=="function"&&(console.warn("Callback function no longer supported as of winston@3.0.0"),Y.pop());var ee=t(Y[Y.length-1])==="object"?Y.pop():{};return ee.level=ee.level||"info",ee.durationMs=V-oe,ee.message=ee.message||ne,this.write(ee)}return this.profilers[ne]=V,this}},{key:"handleExceptions",value:function(){var ne;console.warn("Deprecated: .handleExceptions() will be removed in winston@4. Use .exceptions.handle()"),(ne=this.exceptions).handle.apply(ne,arguments)}},{key:"unhandleExceptions",value:function(){var ne;console.warn("Deprecated: .unhandleExceptions() will be removed in winston@4. Use .exceptions.unhandle()"),(ne=this.exceptions).unhandle.apply(ne,arguments)}},{key:"cli",value:function(){throw new Error(["Logger.cli() was removed in winston@3.0.0","Use a custom winston.formats.cli() instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join(`
`))}},{key:"_onEvent",value:function(ne,V){function oe(he){ne==="error"&&!this.transports.includes(V)&&this.add(V),this.emit(ne,he,V)}V["__winston"+ne]||(V["__winston"+ne]=oe.bind(this),V.on(ne,V["__winston"+ne]))}},{key:"_addDefaultMeta",value:function(ne){this.defaultMeta&&Object.assign(ne,this.defaultMeta)}}])}(_);function ie(X,le){var ae=X[le];return!ae&&ae!==0?null:ae}return Object.defineProperty(Q.prototype,"transports",{configurable:!1,enumerable:!0,get:function(){var le=this._readableState.pipes;return Array.isArray(le)?le:[le].filter(Boolean)}}),O1=Q,O1}var P1,G3;function a4(){if(G3)return P1;G3=1;function e(_){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},e(_)}function t(_,y,m){return Object.defineProperty(_,"prototype",{writable:!1}),_}function r(_,y){if(!(_ instanceof y))throw new TypeError("Cannot call a class as a function")}function n(_,y,m){return y=s(y),i(_,o()?Reflect.construct(y,m,s(_).constructor):y.apply(_,m))}function i(_,y){if(y&&(e(y)=="object"||typeof y=="function"))return y;if(y!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a(_)}function a(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}function o(){try{var _=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o=function(){return!!_})()}function s(_){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)},s(_)}function l(_,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(y&&y.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),Object.defineProperty(_,"prototype",{writable:!1}),y&&u(_,y)}function u(_,y){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(m,g){return m.__proto__=g,m},u(_,y)}var f=Dr(),d=f.LEVEL,c=IS(),p=PS(),b=Nm()("winston:create-logger");function v(_){return"is"+_.charAt(0).toUpperCase()+_.slice(1)+"Enabled"}return P1=function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};_.levels=_.levels||c.npm.levels;var y=function(g){function E(T){return r(this,E),n(this,E,[T])}return l(E,g),t(E)}(p),m=new y(_);return Object.keys(_.levels).forEach(function(g){if(b('Define prototype method for "%s"',g),g==="log"){console.warn('Level "log" not defined: conflicts with the method "log". Use a different level name.');return}y.prototype[g]=function(){for(var E=this||m,T=arguments.length,I=new Array(T),D=0;D<T;D++)I[D]=arguments[D];if(I.length===1){var B=I[0],N=B&&B.message&&B||{message:B};return N.level=N[d]=g,E._addDefaultMeta(N),E.write(N),this||m}return I.length===0?(E.log(g,""),E):E.log.apply(E,[g].concat(I))},y.prototype[v(g)]=function(){return(this||m).isLevelEnabled(g)}}),m},P1}var D1,K3;function oY(){if(K3)return D1;K3=1;function e(s){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},e(s)}function t(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")}function r(s,l){for(var u=0;u<l.length;u++){var f=l[u];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(s,i(f.key),f)}}function n(s,l,u){return r(s.prototype,l),Object.defineProperty(s,"prototype",{writable:!1}),s}function i(s){var l=a(s,"string");return e(l)=="symbol"?l:l+""}function a(s,l){if(e(s)!="object"||!s)return s;var u=s[Symbol.toPrimitive];if(u!==void 0){var f=u.call(s,l);if(e(f)!="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}var o=a4();return D1=function(){function s(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t(this,s),this.loggers=new Map,this.options=l}return n(s,[{key:"add",value:function(u,f){var d=this;if(!this.loggers.has(u)){f=Object.assign({},f||this.options);var c=f.transports||this.options.transports;c?f.transports=Array.isArray(c)?c.slice():[c]:f.transports=[];var p=o(f);p.on("close",function(){return d._delete(u)}),this.loggers.set(u,p)}return this.loggers.get(u)}},{key:"get",value:function(u,f){return this.add(u,f)}},{key:"has",value:function(u){return!!this.loggers.has(u)}},{key:"close",value:function(u){var f=this;if(u)return this._removeLogger(u);this.loggers.forEach(function(d,c){return f._removeLogger(c)})}},{key:"_removeLogger",value:function(u){if(this.loggers.has(u)){var f=this.loggers.get(u);f.close(),this._delete(u)}}},{key:"_delete",value:function(u){this.loggers.delete(u)}}])}(),D1}var Z3;function sY(){return Z3||(Z3=1,function(e){var t=ej(),r=tj(),n=r.warn;e.version=zG.version,e.transports=ZZ(),e.config=IS(),e.addColors=t.levels,e.format=t.format,e.createLogger=a4(),e.Logger=PS(),e.ExceptionHandler=n4(),e.RejectionHandler=i4(),e.Container=oY(),e.Transport=Wh(),e.loggers=new e.Container;var i=e.createLogger();Object.keys(e.config.npm.levels).concat(["log","query","stream","add","remove","clear","profile","startTimer","handleExceptions","unhandleExceptions","handleRejections","unhandleRejections","configure","child"]).forEach(function(a){return e[a]=function(){return i[a].apply(i,arguments)}}),Object.defineProperty(e,"level",{get:function(){return i.level},set:function(o){i.level=o}}),Object.defineProperty(e,"exceptions",{get:function(){return i.exceptions}}),Object.defineProperty(e,"rejections",{get:function(){return i.rejections}}),["exitOnError"].forEach(function(a){Object.defineProperty(e,a,{get:function(){return i[a]},set:function(s){i[a]=s}})}),Object.defineProperty(e,"default",{get:function(){return{exceptionHandlers:i.exceptionHandlers,rejectionHandlers:i.rejectionHandlers,transports:i.transports}}}),n.deprecated(e,"setLevels"),n.forFunctions(e,"useFormat",["cli"]),n.forProperties(e,"useFormat",["padLevels","stripColors"]),n.forFunctions(e,"deprecated",["addRewriter","addFilter","clone","extend"]),n.forProperties(e,"deprecated",["emitErrs","levelLength"])}(kg)),kg}var Ts=sY();const o4=Bh(Ts);var N1={};const s4="ldes-client",u4=new o4.transports.Console;var oM;typeof ze<"u"&&(u4.level=N1.LOG_LEVEL||((oM=N1.DEBUG)!=null&&oM.includes(s4)||N1.DEBUG==="*"?"debug":"info"));const C1=new WeakMap,L1=new Map;function ii(e){let t;if(typeof e=="string")L1.has(e)?t=L1.get(e):(t=Y3(e),L1.set(e,t));else{const{constructor:r}=e;C1.has(r)?t=C1.get(r):(t=Y3(r.name),C1.set(r,t))}return t}function Y3(e){return o4.createLogger({format:Ts.format.combine(Ts.format.label({label:e}),Ts.format.colorize(),Ts.format.timestamp(),Ts.format.metadata({fillExcept:["level","timestamp","label","message"]}),Ts.format.printf(({level:t,message:r,label:n,timestamp:i})=>`${i} {${s4}} [${n}] ${t}: ${r}`)),transports:[u4]})}const uY=ii("Utils"),Jw=new cS.DataFactory;function Q3(e,t,r,n){return e.getQuads(null,t,r,n).map(i=>i.subject)}function Hr(e,t,r,n){return e.getQuads(t,r,null,n).map(i=>i.object)}function lY(e){const t=[];return new Promise((r,n)=>{e.on("end",()=>r(t)),e.on("data",i=>{t.push(i)}),e.on("error",i=>{uY.error("[streamToArray] Stream to Array failed"),n(i)})})}function fY(e){const t=Q3(e,mt.RDF.terms.type,mt.SHACL.terms.NodeShape,null);let r=null;if(t&&t.length>0){for(const n of t)if(Q3(e,null,n,null).length===0)if(!r)r=n;else throw new Error("There are multiple main node shapes in a given shape graph. Unrelated shapes must be given as separate shape graphs");if(r)return r;throw new Error("No main SHACL Node Shapes found in given shape graph")}else throw new Error("No SHACL Node Shapes found in given shape graph")}class cY{constructor(t,r){Ye(this,"concurrent",10);Ye(this,"paused",!1);Ye(this,"factory");Ye(this,"children",[]);this.factory=t,r&&(this.concurrent=r)}create(t,r,n,i){const a=this.factory.build(t,JSON.stringify,JSON.parse,()=>({todo:[],inflight:[]}));i&&(a.item.todo=a.item.todo.map(({item:s,index:l})=>({index:l,item:i(s)})),a.item.inflight=a.item.inflight.map(({item:s,index:l})=>({index:l,item:i(s)})));const o=new dY(a,r,n,this);return this.children.push(o),o}pause(){this.paused=!0}unpause(){this.paused=!1,this.children.forEach(t=>t.checkReady())}}class dY{constructor(t,r,n,i){Ye(this,"at",0);Ye(this,"index",0);Ye(this,"state");Ye(this,"ranker");Ye(this,"notifier");Ye(this,"factory");Ye(this,"logger",ii(this));this.state=t;const a=[...this.state.item.todo,...this.state.item.inflight];for(this.state.item.todo.push(...this.state.item.inflight);this.state.item.inflight.pop(););for(;this.state.item.todo.pop(););this.ranker=r,this.notifier=n,this.factory=i;for(const o of a)this.push(o.item)}length(){return this.state.item.todo.length}push(t){const r={item:t,index:this.index};this.state.item.todo.push(r),this.index+=1,this.ranker.push(r),this.checkReady()}finished(t){const r=this.state.item.inflight.findIndex(n=>n.index==t);r>=0?this.state.item.inflight.splice(r,1):this.logger.error("[finished] Expected to be able to remove inflight item"),this.at-=1,this.checkReady()}checkReady(){if(!this.factory.paused)for(;this.at<this.factory.concurrent;){const t=this.ranker.pop();if(t){const r=this.state.item.todo.findIndex(n=>n.index==t.index);r>=0?this.state.item.todo.splice(r,1):this.logger.error("[checkReady] Expected to be able to remove inflight item"),this.state.item.inflight.push(t),this.at+=1,this.notifier.ready(t,{})}else break}}}function hY(e,t,r,n,i){var l,u,f;let a;if(r){const d=(l=t.find(c=>c.subject.equals(e)&&c.predicate.equals(r)))==null?void 0:l.object.value;if(d)try{a=new Date(d)}catch{a=d}}let o;n&&(o=(u=t.find(d=>d.subject.equals(e)&&d.predicate.equals(n)))==null?void 0:u.object.value);const s=(f=t.find(d=>d.subject.equals(e)&&d.predicate.value===mt.RDF.type))==null?void 0:f.object;return{quads:t,id:e,isVersionOf:o,timestamp:a,type:s,created:i}}function pY(e,t,r){if(t&&r.isVersionOfPath){const n=ju.RdfStore.createDefault();e.quads.forEach(a=>n.addQuad(a));const i=Hr(n,e.id,r.isVersionOfPath)[0];if(i){n.removeQuad(Jw.quad(e.id,r.isVersionOfPath,i));for(const a of n.getQuads(e.id)){const o=Jw.quad(i,a.predicate,a.object,a.graph);n.removeQuad(a),n.addQuad(o)}e.id=i,e.quads=n.getQuads()}else console.error(`No version property found in Member (${e.id}) as specified by ldes:isVersionOfPath ${r.isVersionOfPath}`)}return e}function mY(e,t,r,n,i){let a=l4();const o=s=>Jw.literal(s.toISOString(),mt.XSD.terms.dateTime);if(r){if(!i)throw"Cannot apply 'before' or 'after' filters since the target LDES does not define a ldes:timestampPath predicate";const s=yi(i),l=new M1({relationType:mt.TREE.terms.LessThanRelation,value:o(r),compareType:"date",path:s,pathQuads:{entry:i,quads:[]},defaultTimezone:t});if(n){const u=new M1({relationType:mt.TREE.terms.GreaterThanRelation,value:o(n),compareType:"date",path:s,pathQuads:{entry:i,quads:[]},defaultTimezone:t});a=new X3({items:[l,u]})}else a=l}else if(n){if(!i)throw"Cannot apply 'before' or 'after' filters since the target LDES does not define a ldes:timestampPath predicate";const s=yi(i);a=new M1({relationType:mt.TREE.terms.GreaterThanRelation,value:o(n),compareType:"date",path:s,pathQuads:{entry:i,quads:[]},defaultTimezone:t})}return e instanceof d4?a:new X3({items:[e,a]})}function DS(e,t){const r=(a,o)=>{const s=a.predicate.value,l=o.predicate.value;return s==l?0:s<l?-1:1},n=e.store.getQuads(e.id,null,null,null).sort(r),i=t.store.getQuads(t.id,null,null,null).sort(r);if(n.length!=i.length)return!1;for(let a=0;a<n.length;a++){if(!n[a].predicate.equals(i[a].predicate))return!1;const o=n[a].object,s=i[a].object;if(o.termType!==s.termType)return!1;if(o.termType==="BlankNode"){if(!DS({id:o,store:e.store},{id:s,store:t.store}))return!1}else if(o.value!==s.value)return!1}return!0}class yY{constructor(t,r){Ye(this,"store");Ye(this,"defaultTimezone");Ye(this,"ranges",[]);this.store=t,this.defaultTimezone=r}allowed(t){return this.ranges.every(r=>t.matchRelation(r.range,{id:r.cbdEntry,store:this.store}))}addRelation(t){var s;const r=Hr(this.store,t,mt.RDF.terms.type,null)[0]||mt.TREE.Relation,n=Hr(this.store,t,mt.TREE.terms.path,null)[0],i=Hr(this.store,t,mt.TREE.terms.value,null)[0];let a=this.ranges.find(l=>DS({id:n,store:this.store},{id:l.cbdEntry,store:this.store}));if(!a){const l={cbdEntry:n,range:f4.empty(this.defaultTimezone)};this.ranges.push(l),a=l}if(!i){a.range=void 0;return}let o;i.termType==="Literal"&&(o=i.datatype.value),(s=a.range)==null||s.add(i.value,r.value,o)}}const NS=ii("InBetweenRelation");function eE(e,t,r){if(t===mt.XSD.custom("gYear")){const n=gY(e,r);if(!n)return;const[i,a]=n;return{min:i,max:a}}else if(t===mt.XSD.custom("gYearMonth")){const n=_Y(e,r);if(!n)return;const[i,a]=n;return{min:i,max:a}}else if(t===mt.XSD.custom("date")){const n=bY(e,r);if(!n)return;const[i,a]=n;return{min:i,max:a}}else{const n=vY(e,r);if(!n)return;const[i,a]=n;return{min:i,max:a}}}function gY(e,t){const r=/^(-?[1-9][0-9]{3,}|-?0[0-9]{3})(Z|(\+|-)((0[0-9]|1[0-3]):([0-5][0-9])|14:00))?$/,n=e.match(r);if(!n){NS.warn(`Invalid gYear format: ${e}`);return}const i=parseInt(n[1]);let a=0,o=0;const s=n[2]||t;if(s==="AoE")a=-12*60,o=12*60;else if(s!=="Z"){const l=n[3],u=parseInt(n[5]),f=parseInt(n[6]),d=(l==="+"?1:-1)*(u*60+f);a=d,o=d}return[new Date(Date.UTC(i,0,1)+a*60*1e3),new Date(Date.UTC(i+1,0,1)+o*60*1e3)]}function _Y(e,t){const r=/^(-?[1-9][0-9]{3,}|-?0[0-9]{3})-(0[1-9]|1[0-2])(Z|(\+|-)((0[0-9]|1[0-3]):([0-5][0-9])|14:00))?$/,n=e.match(r);if(!n){NS.warn(`Invalid gYearMonth format: ${e}`);return}const i=parseInt(n[1]),a=parseInt(n[2]);let o=0,s=0;const l=n[3]||t;if(l==="AoE")o=-12*60,s=12*60;else if(l!=="Z"){const u=n[4],f=parseInt(n[6]),d=parseInt(n[7]),c=(u==="+"?1:-1)*(f*60+d);o=c,s=c}return[new Date(Date.UTC(i,a-1,1)+o*60*1e3),new Date(Date.UTC(i,a,1)+s*60*1e3)]}function bY(e,t){const r=/^(-?[1-9][0-9]{3,}|-?0[0-9]{3})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])(Z|(\+|-)((0[0-9]|1[0-3]):([0-5][0-9])|14:00))?$/,n=e.match(r);if(!n){NS.warn(`Invalid date format: ${e}`);return}const i=parseInt(n[1]),a=parseInt(n[2]),o=parseInt(n[3]);let s=0,l=0;const u=n[4]||t;if(u==="AoE")s=-12*60,l=12*60;else if(u!=="Z"){const f=n[5],d=parseInt(n[7]),c=parseInt(n[8]),p=(f==="+"?1:-1)*(d*60+c);s=p,l=p}return[new Date(Date.UTC(i,a-1,o)+s*60*1e3),new Date(Date.UTC(i,a-1,o+1)+l*60*1e3)]}function vY(e,t){const r=/^(-?[1-9][0-9]{3,}|-?0[0-9]{3})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])T([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])(Z|(\+|-)((0[0-9]|1[0-3]):([0-5][0-9])|14:00))?$/,n=e.match(r);if(n){const l=parseInt(n[1]),u=parseInt(n[2]),f=parseInt(n[3]),d=parseInt(n[4]),c=parseInt(n[5]),p=parseInt(n[6]);let b=0,v=0;const _=n[7]||t;if(_==="AoE")b=-12*60,v=12*60;else if(_!=="Z"){const y=n[8],m=parseInt(n[10]),g=parseInt(n[11]),E=(y==="+"?1:-1)*(m*60+g);b=E,v=E}return[new Date(Date.UTC(l,u-1,f,d,c,p)+b*60*1e3),new Date(Date.UTC(l,u-1,f,d,c,p+1)+v*60*1e3)]}const i=/^(-?[1-9][0-9]{3,}|-?0[0-9]{3})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])T([01][0-9]|2[0-3]):([0-5][0-9])(Z|(\+|-)((0[0-9]|1[0-3]):([0-5][0-9])|14:00))?$/,a=e.match(i);if(a){const l=parseInt(a[1]),u=parseInt(a[2]),f=parseInt(a[3]),d=parseInt(a[4]),c=parseInt(a[5]);let p=0,b=0;const v=a[6]||t;if(v==="AoE")p=-12*60,b=12*60;else if(v!=="Z"){const _=a[7],y=parseInt(a[9]),m=parseInt(a[10]),g=(_==="+"?1:-1)*(y*60+m);p=g,b=g}return[new Date(Date.UTC(l,u-1,f,d,c)+p*60*1e3),new Date(Date.UTC(l,u-1,f,d,c+1)+b*60*1e3)]}const o=/^(-?[1-9][0-9]{3,}|-?0[0-9]{3})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])T([01][0-9]|2[0-3])(Z|(\+|-)((0[0-9]|1[0-3]):([0-5][0-9])|14:00))?$/,s=e.match(o);if(s){const l=parseInt(s[1]),u=parseInt(s[2]),f=parseInt(s[3]),d=parseInt(s[4]);let c=0,p=0;const b=s[5]||t;if(b==="AoE")c=-12*60,p=12*60;else if(b!=="Z"){const v=s[6],_=parseInt(s[8]),y=parseInt(s[9]),m=(v==="+"?1:-1)*(_*60+y);c=m,p=m}return[new Date(Date.UTC(l,u-1,f,d)+c*60*1e3),new Date(Date.UTC(l,u-1,f,d+1)+p*60*1e3)]}}function l4(){return new d4}let f4=class c4{constructor(t,r,n,i){Ye(this,"min");Ye(this,"eqMin",!0);Ye(this,"max");Ye(this,"eqMax",!0);Ye(this,"logger",ii(this));Ye(this,"defaultTimezone");switch(t=this.parseValue(t,i),/^(AoE|Z|[+-]((0[0-9]|1[0-3]):([0-5][0-9])|14:00))$/.test(n)?this.defaultTimezone=n:(this.logger.warn(`Invalid timezone: '${n}'. Using default Anywhere on Earth (AoE) instead.`),this.defaultTimezone="AoE"),r){case mt.TREE.EqualToRelation:this.min=t,this.max=t;return;case mt.TREE.LessThanRelation:this.max=t,this.eqMax=!1;return;case mt.TREE.LessThanOrEqualToRelation:this.max=t;return;case mt.TREE.GreaterThanRelation:this.min=t,this.eqMin=!1;return;case mt.TREE.GreaterThanOrEqualToRelation:this.min=t;return;case mt.TREE.custom("InBetweenRelation"):{if(typeof t!="string")throw"InBetweenRelation can only handle string values, not"+typeof t;const o=eE(t,i,this.defaultTimezone);o&&(this.min=o.min,this.eqMin=!0,this.max=o.max,this.eqMax=!1);return}}}static empty(t){return new c4("",mt.TREE.Relation,t)}add(t,r,n){switch(t=this.parseValue(t,n),r){case mt.TREE.EqualToRelation:this.min=t,this.max=t;return;case mt.TREE.LessThanRelation:(!this.max||t<this.max)&&(this.max=t,this.eqMax=!1);return;case mt.TREE.LessThanOrEqualToRelation:(!this.max||t<this.max)&&(this.max=t);return;case mt.TREE.GreaterThanRelation:(!this.min||t>this.min)&&(this.min=t,this.eqMin=!1);return;case mt.TREE.GreaterThanOrEqualToRelation:(!this.min||t>this.min)&&(this.min=t);return;case mt.TREE.custom("InBetweenRelation"):{if(typeof t!="string")throw"InBetweenRelation can only handle string values, not"+typeof t;const i=eE(t,n,this.defaultTimezone);i&&((this.min===void 0||i.min<this.min)&&(this.min=i.min,this.eqMin=!0),(this.max===void 0||i.max<this.max)&&(this.max=i.max,this.eqMax=!1));return}}}contains(t){if(this.min){if(this.eqMin){if(this.min>t)return!1}else if(this.min>=t)return!1}if(this.max){if(this.eqMax){if(this.max<t)return!1}else if(this.max<=t)return!1}return!0}overlaps(t){if(this.min&&t.max){if(this.eqMin&&t.eqMax){if(this.min>t.max)return!1}else if(this.min>=t.max)return!1}if(this.max&&t.min){if(this.eqMax&&t.eqMin){if(t.min>this.max)return!1}else if(t.min>=this.max)return!1}return!0}toString(t){const r=t||(a=>a.toString()),n=this.min?(this.eqMin?"[":"]")+r(this.min):"]",i=this.max?r(this.max)+(this.eqMax?"]":"["):"[";return n+","+i}parseValue(t,r){return r===mt.XSD.dateTime?new Date(t):r===mt.XSD.integer?parseInt(t.toString()):r===mt.XSD.custom("float")||r===mt.XSD.custom("double")||r===mt.XSD.custom("decimal")?parseFloat(t.toString()):t}};class M1{constructor(t){Ye(this,"relationType");Ye(this,"value");Ye(this,"compareType");Ye(this,"path");Ye(this,"pathQuads");Ye(this,"range");Ye(this,"defaultTimezone");Ye(this,"logger",ii(this));this.relationType=t.relationType,this.value=t.value,this.compareType=t.compareType||"string",this.path=t.path;const r=ju.RdfStore.createDefault();t.pathQuads.quads.forEach(i=>r.addQuad(i)),this.pathQuads={id:t.pathQuads.entry,store:r},this.defaultTimezone=t.defaultTimezone;let n;t.value.termType==="Literal"&&(n=t.value.datatype.value),this.range=new f4(this.parseValue(t.value.value),t.relationType.value,this.defaultTimezone,n)}memberEmitted(){}toString(){const t=this.compareType==="date"?r=>r.toISOString():void 0;return`${this.pathQuads.id.value}  ${this.range.toString(t)}`}matchRelation(t,r){if(!DS(this.pathQuads,r))return!0;if(!t)return this.logger.debug("[matchRelation] Range is here also undefined, returning false"),!1;const n=this.compareType==="date"?i=>new Date(i).toISOString():void 0;return this.logger.verbose(`${this.range.toString(n)} contains ${t.toString(n)}. Overlaps: ${this.range.overlaps(t)}`),this.range.overlaps(t)}matchMember(t){const r=this.parseValue(this.path.execute(t)[0].id.value);return this.range.contains(r)}parseValue(t){switch(this.compareType){case"string":return t;case"date":return new Date(t);case"integer":return parseInt(t);case"float":return parseFloat(t);default:return t}}poll(){}}class wY{constructor(t){Ye(this,"items");this.items=t.items}matchRelation(t,r){return this.items.map(n=>n.matchRelation(t,r)).reduce(this.combine.bind(this))}matchMember(t){return this.items.map(r=>r.matchMember(t)).reduce(this.combine.bind(this))}poll(){this.items.forEach(t=>t.poll())}}class X3 extends wY{combine(t,r){return t&&r}memberEmitted(t){this.items.forEach(r=>r.memberEmitted(t))}toString(){return`(${this.items.map(r=>r.toString()).join(" ^ ")})`}}class d4{constructor(){Ye(this,"logger",ii(this))}matchRelation(t,r){return this.logger.verbose("[matchRelation] Returning true"),!0}matchMember(t){return!0}memberEmitted(){}toString(){return"all"}poll(){}}const EY={urlIsView:!1,noShape:!1,condition:l4(),loose:!1,polling:!1,url:"",pollInterval:200,defaultTimezone:"AoE",materialize:!1,lastVersionOnly:!1,includeMetadata:!1},SY={target:{}};function xY(e){return Object.assign({},EY,SY,e)}var Of={},Pf={},Df={},Nf={},fs={},Zh="delete",dr=5,gi=1<<dr,kn=gi-1,$t={};function tE(){return{value:!1}}function _i(e){e&&(e.value=!0)}function CS(){}function Uu(e){return e.size===void 0&&(e.size=e.__iterate(h4)),e.size}function ko(e,t){if(typeof t!="number"){var r=t>>>0;if(""+r!==t||r===4294967295)return NaN;t=r}return t<0?Uu(e)+t:t}function h4(){return!0}function Yh(e,t,r){return(e===0&&!m4(e)||r!==void 0&&e<=-r)&&(t===void 0||r!==void 0&&t>=r)}function fl(e,t){return p4(e,t,0)}function Qh(e,t){return p4(e,t,t)}function p4(e,t,r){return e===void 0?r:m4(e)?t===1/0?t:Math.max(0,t+e)|0:t===void 0||t===e?e:Math.min(t,e)|0}function m4(e){return e<0||e===0&&1/e===-1/0}var y4="@@__IMMUTABLE_ITERABLE__@@";function wn(e){return!!(e&&e[y4])}var g4="@@__IMMUTABLE_KEYED__@@";function rr(e){return!!(e&&e[g4])}var _4="@@__IMMUTABLE_INDEXED__@@";function cn(e){return!!(e&&e[_4])}function cl(e){return rr(e)||cn(e)}var mr=function(t){return wn(t)?t:En(t)},Ai=function(e){function t(r){return rr(r)?r:Go(r)}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t}(mr),Ks=function(e){function t(r){return cn(r)?r:Ii(r)}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t}(mr),dl=function(e){function t(r){return wn(r)&&!cl(r)?r:ml(r)}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t}(mr);mr.Keyed=Ai;mr.Indexed=Ks;mr.Set=dl;var b4="@@__IMMUTABLE_SEQ__@@";function Xh(e){return!!(e&&e[b4])}var v4="@@__IMMUTABLE_RECORD__@@";function Wo(e){return!!(e&&e[v4])}function ai(e){return wn(e)||Wo(e)}var hl="@@__IMMUTABLE_ORDERED__@@";function ti(e){return!!(e&&e[hl])}var Jh=0,zi=1,Ti=2,rE=typeof Symbol=="function"&&Symbol.iterator,w4="@@iterator",Lm=rE||w4,zt=function(t){this.next=t};zt.prototype.toString=function(){return"[Iterator]"};zt.KEYS=Jh;zt.VALUES=zi;zt.ENTRIES=Ti;zt.prototype.inspect=zt.prototype.toSource=function(){return this.toString()};zt.prototype[Lm]=function(){return this};function yr(e,t,r,n){var i=e===0?t:e===1?r:[t,r];return n?n.value=i:n={value:i,done:!1},n}function Fn(){return{value:void 0,done:!0}}function LS(e){return Array.isArray(e)?!0:!!Mm(e)}function J3(e){return e&&typeof e.next=="function"}function nE(e){var t=Mm(e);return t&&t.call(e)}function Mm(e){var t=e&&(rE&&e[rE]||e[w4]);if(typeof t=="function")return t}function TY(e){var t=Mm(e);return t&&t===e.entries}function RY(e){var t=Mm(e);return t&&t===e.keys}var pl=Object.prototype.hasOwnProperty;function MS(e){return Array.isArray(e)||typeof e=="string"?!0:e&&typeof e=="object"&&Number.isInteger(e.length)&&e.length>=0&&(e.length===0?Object.keys(e).length===1:e.hasOwnProperty(e.length-1))}var En=function(e){function t(r){return r==null?FS():ai(r)?r.toSeq():IY(r)}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.toSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq {","}")},t.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},t.prototype.__iterate=function(n,i){var a=this._cache;if(a){for(var o=a.length,s=0;s!==o;){var l=a[i?o-++s:s++];if(n(l[1],l[0],this)===!1)break}return s}return this.__iterateUncached(n,i)},t.prototype.__iterator=function(n,i){var a=this._cache;if(a){var o=a.length,s=0;return new zt(function(){if(s===o)return Fn();var l=a[i?o-++s:s++];return yr(n,l[0],l[1])})}return this.__iteratorUncached(n,i)},t}(mr),Go=function(e){function t(r){return r==null?FS().toKeyedSeq():wn(r)?rr(r)?r.toSeq():r.fromEntrySeq():Wo(r)?r.toSeq():jS(r)}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.toKeyedSeq=function(){return this},t}(En),Ii=function(e){function t(r){return r==null?FS():wn(r)?rr(r)?r.entrySeq():r.toIndexedSeq():Wo(r)?r.toSeq().entrySeq():E4(r)}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toIndexedSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq [","]")},t}(En),ml=function(e){function t(r){return(wn(r)&&!cl(r)?r:Ii(r)).toSetSeq()}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toSetSeq=function(){return this},t}(En);En.isSeq=Xh;En.Keyed=Go;En.Set=ml;En.Indexed=Ii;En.prototype[b4]=!0;var Bs=function(e){function t(r){this._array=r,this.size=r.length}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.get=function(n,i){return this.has(n)?this._array[ko(this,n)]:i},t.prototype.__iterate=function(n,i){for(var a=this._array,o=a.length,s=0;s!==o;){var l=i?o-++s:s++;if(n(a[l],l,this)===!1)break}return s},t.prototype.__iterator=function(n,i){var a=this._array,o=a.length,s=0;return new zt(function(){if(s===o)return Fn();var l=i?o-++s:s++;return yr(n,l,a[l])})},t}(Ii),kS=function(e){function t(r){var n=Object.keys(r).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(r):[]);this._object=r,this._keys=n,this.size=n.length}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.get=function(n,i){return i!==void 0&&!this.has(n)?i:this._object[n]},t.prototype.has=function(n){return pl.call(this._object,n)},t.prototype.__iterate=function(n,i){for(var a=this._object,o=this._keys,s=o.length,l=0;l!==s;){var u=o[i?s-++l:l++];if(n(a[u],u,this)===!1)break}return l},t.prototype.__iterator=function(n,i){var a=this._object,o=this._keys,s=o.length,l=0;return new zt(function(){if(l===s)return Fn();var u=o[i?s-++l:l++];return yr(n,u,a[u])})},t}(Go);kS.prototype[hl]=!0;var AY=function(e){function t(r){this._collection=r,this.size=r.length||r.size}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.__iterateUncached=function(n,i){if(i)return this.cacheResult().__iterate(n,i);var a=this._collection,o=nE(a),s=0;if(J3(o))for(var l;!(l=o.next()).done&&n(l.value,s++,this)!==!1;);return s},t.prototype.__iteratorUncached=function(n,i){if(i)return this.cacheResult().__iterator(n,i);var a=this._collection,o=nE(a);if(!J3(o))return new zt(Fn);var s=0;return new zt(function(){var l=o.next();return l.done?l:yr(n,s++,l.value)})},t}(Ii),eD;function FS(){return eD||(eD=new Bs([]))}function jS(e){var t=BS(e);if(t)return t.fromEntrySeq();if(typeof e=="object")return new kS(e);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+e)}function E4(e){var t=BS(e);if(t)return t;throw new TypeError("Expected Array or collection object of values: "+e)}function IY(e){var t=BS(e);if(t)return TY(e)?t.fromEntrySeq():RY(e)?t.toSetSeq():t;if(typeof e=="object")return new kS(e);throw new TypeError("Expected Array or collection object of values, or keyed object: "+e)}function BS(e){return MS(e)?new Bs(e):LS(e)?new AY(e):void 0}var S4="@@__IMMUTABLE_MAP__@@";function ep(e){return!!(e&&e[S4])}function km(e){return ep(e)&&ti(e)}function Y0(e){return!!(e&&typeof e.equals=="function"&&typeof e.hashCode=="function")}function Qr(e,t){if(e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1;if(typeof e.valueOf=="function"&&typeof t.valueOf=="function"){if(e=e.valueOf(),t=t.valueOf(),e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1}return!!(Y0(e)&&Y0(t)&&e.equals(t))}var Cf=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(t,r){t|=0,r|=0;var n=t&65535,i=r&65535;return n*i+((t>>>16)*i+n*(r>>>16)<<16>>>0)|0};function Fm(e){return e>>>1&1073741824|e&3221225471}var OY=Object.prototype.valueOf;function Nn(e){if(e==null)return tD(e);if(typeof e.hashCode=="function")return Fm(e.hashCode(e));var t=MY(e);if(t==null)return tD(t);switch(typeof t){case"boolean":return t?1108378657:1108378656;case"number":return PY(t);case"string":return t.length>kY?DY(t):iE(t);case"object":case"function":return CY(t);case"symbol":return NY(t);default:if(typeof t.toString=="function")return iE(t.toString());throw new Error("Value type "+typeof t+" cannot be hashed.")}}function tD(e){return e===null?1108378658:1108378659}function PY(e){if(e!==e||e===1/0)return 0;var t=e|0;for(t!==e&&(t^=e*4294967295);e>4294967295;)e/=4294967295,t^=e;return Fm(t)}function DY(e){var t=j1[e];return t===void 0&&(t=iE(e),F1===FY&&(F1=0,j1={}),F1++,j1[e]=t),t}function iE(e){for(var t=0,r=0;r<e.length;r++)t=31*t+e.charCodeAt(r)|0;return Fm(t)}function NY(e){var t=iD[e];return t!==void 0||(t=x4(),iD[e]=t),t}function CY(e){var t;if(aE&&(t=oE.get(e),t!==void 0)||(t=e[Ps],t!==void 0)||!nD&&(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Ps],t!==void 0||(t=LY(e),t!==void 0)))return t;if(t=x4(),aE)oE.set(e,t);else{if(rD!==void 0&&rD(e)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(nD)Object.defineProperty(e,Ps,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(e.propertyIsEnumerable!==void 0&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Ps]=t;else if(e.nodeType!==void 0)e[Ps]=t;else throw new Error("Unable to set a non-enumerable property on object.")}return t}var rD=Object.isExtensible,nD=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}();function LY(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}function MY(e){return e.valueOf!==OY&&typeof e.valueOf=="function"?e.valueOf(e):e}function x4(){var e=++k1;return k1&1073741824&&(k1=0),e}var aE=typeof WeakMap=="function",oE;aE&&(oE=new WeakMap);var iD=Object.create(null),k1=0,Ps="__immutablehash__";typeof Symbol=="function"&&(Ps=Symbol(Ps));var kY=16,FY=255,F1=0,j1={},jm=function(e){function t(r,n){this._iter=r,this._useKeys=n,this.size=r.size}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.get=function(n,i){return this._iter.get(n,i)},t.prototype.has=function(n){return this._iter.has(n)},t.prototype.valueSeq=function(){return this._iter.valueSeq()},t.prototype.reverse=function(){var n=this,i=qS(this,!0);return this._useKeys||(i.valueSeq=function(){return n._iter.toSeq().reverse()}),i},t.prototype.map=function(n,i){var a=this,o=O4(this,n,i);return this._useKeys||(o.valueSeq=function(){return a._iter.toSeq().map(n,i)}),o},t.prototype.__iterate=function(n,i){var a=this;return this._iter.__iterate(function(o,s){return n(o,s,a)},i)},t.prototype.__iterator=function(n,i){return this._iter.__iterator(n,i)},t}(Go);jm.prototype[hl]=!0;var T4=function(e){function t(r){this._iter=r,this.size=r.size}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.includes=function(n){return this._iter.includes(n)},t.prototype.__iterate=function(n,i){var a=this,o=0;return i&&Uu(this),this._iter.__iterate(function(s){return n(s,i?a.size-++o:o++,a)},i)},t.prototype.__iterator=function(n,i){var a=this,o=this._iter.__iterator(zi,i),s=0;return i&&Uu(this),new zt(function(){var l=o.next();return l.done?l:yr(n,i?a.size-++s:s++,l.value,l)})},t}(Ii),R4=function(e){function t(r){this._iter=r,this.size=r.size}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.has=function(n){return this._iter.includes(n)},t.prototype.__iterate=function(n,i){var a=this;return this._iter.__iterate(function(o){return n(o,o,a)},i)},t.prototype.__iterator=function(n,i){var a=this._iter.__iterator(zi,i);return new zt(function(){var o=a.next();return o.done?o:yr(n,o.value,o.value,o)})},t}(ml),A4=function(e){function t(r){this._iter=r,this.size=r.size}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.entrySeq=function(){return this._iter.toSeq()},t.prototype.__iterate=function(n,i){var a=this;return this._iter.__iterate(function(o){if(o){oD(o);var s=wn(o);return n(s?o.get(1):o[1],s?o.get(0):o[0],a)}},i)},t.prototype.__iterator=function(n,i){var a=this._iter.__iterator(zi,i);return new zt(function(){for(;;){var o=a.next();if(o.done)return o;var s=o.value;if(s){oD(s);var l=wn(s);return yr(n,l?s.get(0):s[0],l?s.get(1):s[1],o)}}})},t}(Go);T4.prototype.cacheResult=jm.prototype.cacheResult=R4.prototype.cacheResult=A4.prototype.cacheResult=HS;function I4(e){var t=wa(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var r=e.reverse.apply(this);return r.flip=function(){return e.reverse()},r},t.has=function(r){return e.includes(r)},t.includes=function(r){return e.has(r)},t.cacheResult=HS,t.__iterateUncached=function(r,n){var i=this;return e.__iterate(function(a,o){return r(o,a,i)!==!1},n)},t.__iteratorUncached=function(r,n){if(r===Ti){var i=e.__iterator(r,n);return new zt(function(){var a=i.next();if(!a.done){var o=a.value[0];a.value[0]=a.value[1],a.value[1]=o}return a})}return e.__iterator(r===zi?Jh:zi,n)},t}function O4(e,t,r){var n=wa(e);return n.size=e.size,n.has=function(i){return e.has(i)},n.get=function(i,a){var o=e.get(i,$t);return o===$t?a:t.call(r,o,i,e)},n.__iterateUncached=function(i,a){var o=this;return e.__iterate(function(s,l,u){return i(t.call(r,s,l,u),l,o)!==!1},a)},n.__iteratorUncached=function(i,a){var o=e.__iterator(Ti,a);return new zt(function(){var s=o.next();if(s.done)return s;var l=s.value,u=l[0];return yr(i,u,t.call(r,l[1],u,e),s)})},n}function qS(e,t){var r=this,n=wa(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var i=I4(e);return i.reverse=function(){return e.flip()},i}),n.get=function(i,a){return e.get(t?i:-1-i,a)},n.has=function(i){return e.has(t?i:-1-i)},n.includes=function(i){return e.includes(i)},n.cacheResult=HS,n.__iterate=function(i,a){var o=this,s=0;return a&&Uu(e),e.__iterate(function(l,u){return i(l,t?u:a?o.size-++s:s++,o)},!a)},n.__iterator=function(i,a){var o=0;a&&Uu(e);var s=e.__iterator(Ti,!a);return new zt(function(){var l=s.next();if(l.done)return l;var u=l.value;return yr(i,t?u[0]:a?r.size-++o:o++,u[1],l)})},n}function P4(e,t,r,n){var i=wa(e);return n&&(i.has=function(a){var o=e.get(a,$t);return o!==$t&&!!t.call(r,o,a,e)},i.get=function(a,o){var s=e.get(a,$t);return s!==$t&&t.call(r,s,a,e)?s:o}),i.__iterateUncached=function(a,o){var s=this,l=0;return e.__iterate(function(u,f,d){if(t.call(r,u,f,d))return l++,a(u,n?f:l-1,s)},o),l},i.__iteratorUncached=function(a,o){var s=e.__iterator(Ti,o),l=0;return new zt(function(){for(;;){var u=s.next();if(u.done)return u;var f=u.value,d=f[0],c=f[1];if(t.call(r,c,d,e))return yr(a,n?d:l++,c,u)}})},i}function jY(e,t,r){var n=Zo().asMutable();return e.__iterate(function(i,a){n.update(t.call(r,i,a,e),0,function(o){return o+1})}),n.asImmutable()}function BY(e,t,r){var n=rr(e),i=(ti(e)?Wi():Zo()).asMutable();e.__iterate(function(o,s){i.update(t.call(r,o,s,e),function(l){return l=l||[],l.push(n?[s,o]:o),l})});var a=US(e);return i.map(function(o){return er(e,a(o))}).asImmutable()}function qY(e,t,r){var n=rr(e),i=[[],[]];e.__iterate(function(o,s){i[t.call(r,o,s,e)?1:0].push(n?[s,o]:o)});var a=US(e);return i.map(function(o){return er(e,a(o))})}function $S(e,t,r,n){var i=e.size;if(Yh(t,r,i))return e;if(typeof i>"u"&&(t<0||r<0))return $S(e.toSeq().cacheResult(),t,r,n);var a=fl(t,i),o=Qh(r,i),s=o-a,l;s===s&&(l=s<0?0:s);var u=wa(e);return u.size=l===0?l:e.size&&l||void 0,!n&&Xh(e)&&l>=0&&(u.get=function(f,d){return f=ko(this,f),f>=0&&f<l?e.get(f+a,d):d}),u.__iterateUncached=function(f,d){var c=this;if(l===0)return 0;if(d)return this.cacheResult().__iterate(f,d);var p=0,b=!0,v=0;return e.__iterate(function(_,y){if(!(b&&(b=p++<a)))return v++,f(_,n?y:v-1,c)!==!1&&v!==l}),v},u.__iteratorUncached=function(f,d){if(l!==0&&d)return this.cacheResult().__iterator(f,d);if(l===0)return new zt(Fn);var c=e.__iterator(f,d),p=0,b=0;return new zt(function(){for(;p++<a;)c.next();if(++b>l)return Fn();var v=c.next();return n||f===zi||v.done?v:f===Jh?yr(f,b-1,void 0,v):yr(f,b-1,v.value[1],v)})},u}function $Y(e,t,r){var n=wa(e);return n.__iterateUncached=function(i,a){var o=this;if(a)return this.cacheResult().__iterate(i,a);var s=0;return e.__iterate(function(l,u,f){return t.call(r,l,u,f)&&++s&&i(l,u,o)}),s},n.__iteratorUncached=function(i,a){var o=this;if(a)return this.cacheResult().__iterator(i,a);var s=e.__iterator(Ti,a),l=!0;return new zt(function(){if(!l)return Fn();var u=s.next();if(u.done)return u;var f=u.value,d=f[0],c=f[1];return t.call(r,c,d,o)?i===Ti?u:yr(i,d,c,u):(l=!1,Fn())})},n}function D4(e,t,r,n){var i=wa(e);return i.__iterateUncached=function(a,o){var s=this;if(o)return this.cacheResult().__iterate(a,o);var l=!0,u=0;return e.__iterate(function(f,d,c){if(!(l&&(l=t.call(r,f,d,c))))return u++,a(f,n?d:u-1,s)}),u},i.__iteratorUncached=function(a,o){var s=this;if(o)return this.cacheResult().__iterator(a,o);var l=e.__iterator(Ti,o),u=!0,f=0;return new zt(function(){var d,c,p;do{if(d=l.next(),d.done)return n||a===zi?d:a===Jh?yr(a,f++,void 0,d):yr(a,f++,d.value[1],d);var b=d.value;c=b[0],p=b[1],u&&(u=t.call(r,p,c,s))}while(u);return a===Ti?d:yr(a,c,p,d)})},i}function UY(e,t){var r=rr(e),n=[e].concat(t).map(function(o){return wn(o)?r&&(o=Ai(o)):o=r?jS(o):E4(Array.isArray(o)?o:[o]),o}).filter(function(o){return o.size!==0});if(n.length===0)return e;if(n.length===1){var i=n[0];if(i===e||r&&rr(i)||cn(e)&&cn(i))return i}var a=new Bs(n);return r?a=a.toKeyedSeq():cn(e)||(a=a.toSetSeq()),a=a.flatten(!0),a.size=n.reduce(function(o,s){if(o!==void 0){var l=s.size;if(l!==void 0)return o+l}},0),a}function N4(e,t,r){var n=wa(e);return n.__iterateUncached=function(i,a){if(a)return this.cacheResult().__iterate(i,a);var o=0,s=!1;function l(u,f){u.__iterate(function(d,c){return(!t||f<t)&&wn(d)?l(d,f+1):(o++,i(d,r?c:o-1,n)===!1&&(s=!0)),!s},a)}return l(e,0),o},n.__iteratorUncached=function(i,a){if(a)return this.cacheResult().__iterator(i,a);var o=e.__iterator(i,a),s=[],l=0;return new zt(function(){for(;o;){var u=o.next();if(u.done!==!1){o=s.pop();continue}var f=u.value;if(i===Ti&&(f=f[1]),(!t||s.length<t)&&wn(f))s.push(o),o=f.__iterator(i,a);else return r?u:yr(i,l++,f,u)}return Fn()})},n}function HY(e,t,r){var n=US(e);return e.toSeq().map(function(i,a){return n(t.call(r,i,a,e))}).flatten(!0)}function VY(e,t){var r=wa(e);return r.size=e.size&&e.size*2-1,r.__iterateUncached=function(n,i){var a=this,o=0;return e.__iterate(function(s){return(!o||n(t,o++,a)!==!1)&&n(s,o++,a)!==!1},i),o},r.__iteratorUncached=function(n,i){var a=e.__iterator(zi,i),o=0,s;return new zt(function(){return(!s||o%2)&&(s=a.next(),s.done)?s:o%2?yr(n,o++,t):yr(n,o++,s.value,s)})},r}function Hu(e,t,r){t||(t=C4);var n=rr(e),i=0,a=e.toSeq().map(function(o,s){return[s,o,i++,r?r(o,s,e):o]}).valueSeq().toArray();return a.sort(function(o,s){return t(o[3],s[3])||o[2]-s[2]}).forEach(n?function(o,s){a[s].length=2}:function(o,s){a[s]=o[1]}),n?Go(a):cn(e)?Ii(a):ml(a)}function g0(e,t,r){if(t||(t=C4),r){var n=e.toSeq().map(function(i,a){return[i,r(i,a,e)]}).reduce(function(i,a){return aD(t,i[1],a[1])?a:i});return n&&n[0]}return e.reduce(function(i,a){return aD(t,i,a)?a:i})}function aD(e,t,r){var n=e(r,t);return n===0&&r!==t&&(r==null||r!==r)||n>0}function _0(e,t,r,n){var i=wa(e),a=new Bs(r).map(function(o){return o.size});return i.size=n?a.max():a.min(),i.__iterate=function(o,s){for(var l=this.__iterator(zi,s),u,f=0;!(u=l.next()).done&&o(u.value,f++,this)!==!1;);return f},i.__iteratorUncached=function(o,s){var l=r.map(function(d){return d=mr(d),nE(s?d.reverse():d)}),u=0,f=!1;return new zt(function(){var d;return f||(d=l.map(function(c){return c.next()}),f=n?d.every(function(c){return c.done}):d.some(function(c){return c.done})),f?Fn():yr(o,u++,t.apply(null,d.map(function(c){return c.value})))})},i}function er(e,t){return e===t?e:Xh(e)?t:e.constructor(t)}function oD(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function US(e){return rr(e)?Ai:cn(e)?Ks:dl}function wa(e){return Object.create((rr(e)?Go:cn(e)?Ii:ml).prototype)}function HS(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):En.prototype.cacheResult.call(this)}function C4(e,t){return e===void 0&&t===void 0?0:e===void 0?1:t===void 0?-1:e>t?1:e<t?-1:0}function ha(e,t){t=t||0;for(var r=Math.max(0,e.length-t),n=new Array(r),i=0;i<r;i++)n[i]=e[i+t];return n}function VS(e,t){if(!e)throw new Error(t)}function Qn(e){VS(e!==1/0,"Cannot perform this action with an infinite size.")}function L4(e){if(MS(e)&&typeof e!="string")return e;if(ti(e))return e.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+e)}var zY=Object.prototype.toString;function Bm(e){if(!e||typeof e!="object"||zY.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var r=t,n=Object.getPrototypeOf(t);n!==null;)r=n,n=Object.getPrototypeOf(r);return r===t}function Fo(e){return typeof e=="object"&&(ai(e)||Array.isArray(e)||Bm(e))}function Sh(e){try{return typeof e=="string"?JSON.stringify(e):String(e)}catch{return JSON.stringify(e)}}function zS(e,t){return ai(e)?e.has(t):Fo(e)&&pl.call(e,t)}function qm(e,t,r){return ai(e)?e.get(t,r):zS(e,t)?typeof e.get=="function"?e.get(t):e[t]:r}function Q0(e){if(Array.isArray(e))return ha(e);var t={};for(var r in e)pl.call(e,r)&&(t[r]=e[r]);return t}function WS(e,t){if(!Fo(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(ai(e)){if(!e.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+e);return e.remove(t)}if(!pl.call(e,t))return e;var r=Q0(e);return Array.isArray(r)?r.splice(t,1):delete r[t],r}function GS(e,t,r){if(!Fo(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(ai(e)){if(!e.set)throw new TypeError("Cannot update immutable value without .set() method: "+e);return e.set(t,r)}if(pl.call(e,t)&&r===e[t])return e;var n=Q0(e);return n[t]=r,n}function Ko(e,t,r,n){n||(n=r,r=void 0);var i=M4(ai(e),e,L4(t),0,r,n);return i===$t?r:i}function M4(e,t,r,n,i,a){var o=t===$t;if(n===r.length){var s=o?i:t,l=a(s);return l===s?t:l}if(!o&&!Fo(t))throw new TypeError("Cannot update within non-data-structure value in path ["+r.slice(0,n).map(Sh)+"]: "+t);var u=r[n],f=o?$t:qm(t,u,$t),d=M4(f===$t?e:ai(f),f,r,n+1,i,a);return d===f?t:d===$t?WS(t,u):GS(o?e?Bi():{}:t,u,d)}function KS(e,t,r){return Ko(e,t,$t,function(){return r})}function ZS(e,t){return KS(this,e,t)}function YS(e,t){return Ko(e,t,function(){return $t})}function QS(e){return YS(this,e)}function $m(e,t,r,n){return Ko(e,[t],r,n)}function XS(e,t,r){return arguments.length===1?e(this):$m(this,e,t,r)}function JS(e,t,r){return Ko(this,e,t,r)}function k4(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return j4(this,e)}function F4(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];if(typeof e!="function")throw new TypeError("Invalid merger function: "+e);return j4(this,t,e)}function j4(e,t,r){for(var n=[],i=0;i<t.length;i++){var a=Ai(t[i]);a.size!==0&&n.push(a)}return n.length===0?e:e.toSeq().size===0&&!e.__ownerID&&n.length===1?e.constructor(n[0]):e.withMutations(function(o){for(var s=r?function(u,f){$m(o,f,$t,function(d){return d===$t?u:r(d,u,f)})}:function(u,f){o.set(f,u)},l=0;l<n.length;l++)n[l].forEach(s)})}function B4(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return rp(e,t)}function q4(e,t){for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];return rp(t,r,e)}function $4(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return tp(e,t)}function U4(e,t){for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];return tp(t,r,e)}function tp(e,t,r){return rp(e,t,WY(r))}function rp(e,t,r){if(!Fo(e))throw new TypeError("Cannot merge into non-data-structure value: "+e);if(ai(e))return typeof r=="function"&&e.mergeWith?e.mergeWith.apply(e,[r].concat(t)):e.merge?e.merge.apply(e,t):e.concat.apply(e,t);for(var n=Array.isArray(e),i=e,a=n?Ks:Ai,o=n?function(l){i===e&&(i=Q0(i)),i.push(l)}:function(l,u){var f=pl.call(i,u),d=f&&r?r(i[u],l,u):l;(!f||d!==i[u])&&(i===e&&(i=Q0(i)),i[u]=d)},s=0;s<t.length;s++)a(t[s]).forEach(o);return i}function WY(e){function t(r,n,i){return Fo(r)&&Fo(n)&&GY(r,n)?rp(r,[n],t):e?e(r,n,i):n}return t}function GY(e,t){var r=En(e),n=En(t);return cn(r)===cn(n)&&rr(r)===rr(n)}function H4(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return tp(this,e)}function V4(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return tp(this,t,e)}function ex(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return Ko(this,e,Bi(),function(n){return rp(n,t)})}function tx(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return Ko(this,e,Bi(),function(n){return tp(n,t)})}function np(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this}function ip(){return this.__ownerID?this:this.__ensureOwner(new CS)}function ap(){return this.__ensureOwner()}function rx(){return this.__altered}var Zo=function(e){function t(r){return r==null?Bi():ep(r)&&!ti(r)?r:Bi().withMutations(function(n){var i=e(r);Qn(i.size),i.forEach(function(a,o){return n.set(o,a)})})}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.of=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];return Bi().withMutations(function(a){for(var o=0;o<n.length;o+=2){if(o+1>=n.length)throw new Error("Missing value for key: "+n[o]);a.set(n[o],n[o+1])}})},t.prototype.toString=function(){return this.__toString("Map {","}")},t.prototype.get=function(n,i){return this._root?this._root.get(0,void 0,n,i):i},t.prototype.set=function(n,i){return lD(this,n,i)},t.prototype.remove=function(n){return lD(this,n,$t)},t.prototype.deleteAll=function(n){var i=mr(n);return i.size===0?this:this.withMutations(function(a){i.forEach(function(o){return a.remove(o)})})},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Bi()},t.prototype.sort=function(n){return Wi(Hu(this,n))},t.prototype.sortBy=function(n,i){return Wi(Hu(this,i,n))},t.prototype.map=function(n,i){var a=this;return this.withMutations(function(o){o.forEach(function(s,l){o.set(l,n.call(i,s,l,a))})})},t.prototype.__iterator=function(n,i){return new KY(this,n,i)},t.prototype.__iterate=function(n,i){var a=this,o=0;return this._root&&this._root.iterate(function(s){return o++,n(s[1],s[0],a)},i),o},t.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?nx(this.size,this._root,n,this.__hash):this.size===0?Bi():(this.__ownerID=n,this.__altered=!1,this)},t}(Ai);Zo.isMap=ep;var gr=Zo.prototype;gr[S4]=!0;gr[Zh]=gr.remove;gr.removeAll=gr.deleteAll;gr.setIn=ZS;gr.removeIn=gr.deleteIn=QS;gr.update=XS;gr.updateIn=JS;gr.merge=gr.concat=k4;gr.mergeWith=F4;gr.mergeDeep=H4;gr.mergeDeepWith=V4;gr.mergeIn=ex;gr.mergeDeepIn=tx;gr.withMutations=np;gr.wasAltered=rx;gr.asImmutable=ap;gr["@@transducer/init"]=gr.asMutable=ip;gr["@@transducer/step"]=function(e,t){return e.set(t[0],t[1])};gr["@@transducer/result"]=function(e){return e.asImmutable()};var xh=function(t,r){this.ownerID=t,this.entries=r};xh.prototype.get=function(t,r,n,i){for(var a=this.entries,o=0,s=a.length;o<s;o++)if(Qr(n,a[o][0]))return a[o][1];return i};xh.prototype.update=function(t,r,n,i,a,o,s){for(var l=a===$t,u=this.entries,f=0,d=u.length;f<d&&!Qr(i,u[f][0]);f++);var c=f<d;if(c?u[f][1]===a:l)return this;if(_i(s),(l||!c)&&_i(o),!(l&&u.length===1)){if(!c&&!l&&u.length>=eQ)return ZY(t,u,i,a);var p=t&&t===this.ownerID,b=p?u:ha(u);return c?l?f===d-1?b.pop():b[f]=b.pop():b[f]=[i,a]:b.push([i,a]),p?(this.entries=b,this):new xh(t,b)}};var Vu=function(t,r,n){this.ownerID=t,this.bitmap=r,this.nodes=n};Vu.prototype.get=function(t,r,n,i){r===void 0&&(r=Nn(n));var a=1<<((t===0?r:r>>>t)&kn),o=this.bitmap;return o&a?this.nodes[z4(o&a-1)].get(t+dr,r,n,i):i};Vu.prototype.update=function(t,r,n,i,a,o,s){n===void 0&&(n=Nn(i));var l=(r===0?n:n>>>r)&kn,u=1<<l,f=this.bitmap,d=(f&u)!==0;if(!d&&a===$t)return this;var c=z4(f&u-1),p=this.nodes,b=d?p[c]:void 0,v=ix(b,t,r+dr,n,i,a,o,s);if(v===b)return this;if(!d&&v&&p.length>=tQ)return QY(t,p,f,l,v);if(d&&!v&&p.length===2&&fD(p[c^1]))return p[c^1];if(d&&v&&p.length===1&&fD(v))return v;var _=t&&t===this.ownerID,y=d?v?f:f^u:f|u,m=d?v?W4(p,c,v,_):JY(p,c,_):XY(p,c,v,_);return _?(this.bitmap=y,this.nodes=m,this):new Vu(t,y,m)};var Th=function(t,r,n){this.ownerID=t,this.count=r,this.nodes=n};Th.prototype.get=function(t,r,n,i){r===void 0&&(r=Nn(n));var a=(t===0?r:r>>>t)&kn,o=this.nodes[a];return o?o.get(t+dr,r,n,i):i};Th.prototype.update=function(t,r,n,i,a,o,s){n===void 0&&(n=Nn(i));var l=(r===0?n:n>>>r)&kn,u=a===$t,f=this.nodes,d=f[l];if(u&&!d)return this;var c=ix(d,t,r+dr,n,i,a,o,s);if(c===d)return this;var p=this.count;if(!d)p++;else if(!c&&(p--,p<rQ))return YY(t,f,p,l);var b=t&&t===this.ownerID,v=W4(f,l,c,b);return b?(this.count=p,this.nodes=v,this):new Th(t,p,v)};var zu=function(t,r,n){this.ownerID=t,this.keyHash=r,this.entries=n};zu.prototype.get=function(t,r,n,i){for(var a=this.entries,o=0,s=a.length;o<s;o++)if(Qr(n,a[o][0]))return a[o][1];return i};zu.prototype.update=function(t,r,n,i,a,o,s){n===void 0&&(n=Nn(i));var l=a===$t;if(n!==this.keyHash)return l?this:(_i(s),_i(o),ax(this,t,r,n,[i,a]));for(var u=this.entries,f=0,d=u.length;f<d&&!Qr(i,u[f][0]);f++);var c=f<d;if(c?u[f][1]===a:l)return this;if(_i(s),(l||!c)&&_i(o),l&&d===2)return new Za(t,this.keyHash,u[f^1]);var p=t&&t===this.ownerID,b=p?u:ha(u);return c?l?f===d-1?b.pop():b[f]=b.pop():b[f]=[i,a]:b.push([i,a]),p?(this.entries=b,this):new zu(t,this.keyHash,b)};var Za=function(t,r,n){this.ownerID=t,this.keyHash=r,this.entry=n};Za.prototype.get=function(t,r,n,i){return Qr(n,this.entry[0])?this.entry[1]:i};Za.prototype.update=function(t,r,n,i,a,o,s){var l=a===$t,u=Qr(i,this.entry[0]);if(u?a===this.entry[1]:l)return this;if(_i(s),l){_i(o);return}return u?t&&t===this.ownerID?(this.entry[1]=a,this):new Za(t,this.keyHash,[i,a]):(_i(o),ax(this,t,r,Nn(i),[i,a]))};xh.prototype.iterate=zu.prototype.iterate=function(e,t){for(var r=this.entries,n=0,i=r.length-1;n<=i;n++)if(e(r[t?i-n:n])===!1)return!1};Vu.prototype.iterate=Th.prototype.iterate=function(e,t){for(var r=this.nodes,n=0,i=r.length-1;n<=i;n++){var a=r[t?i-n:n];if(a&&a.iterate(e,t)===!1)return!1}};Za.prototype.iterate=function(e,t){return e(this.entry)};var KY=function(e){function t(r,n,i){this._type=n,this._reverse=i,this._stack=r._root&&sD(r._root)}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.next=function(){for(var n=this._type,i=this._stack;i;){var a=i.node,o=i.index++,s=void 0;if(a.entry){if(o===0)return B1(n,a.entry)}else if(a.entries){if(s=a.entries.length-1,o<=s)return B1(n,a.entries[this._reverse?s-o:o])}else if(s=a.nodes.length-1,o<=s){var l=a.nodes[this._reverse?s-o:o];if(l){if(l.entry)return B1(n,l.entry);i=this._stack=sD(l,i)}continue}i=this._stack=this._stack.__prev}return Fn()},t}(zt);function B1(e,t){return yr(e,t[0],t[1])}function sD(e,t){return{node:e,index:0,__prev:t}}function nx(e,t,r,n){var i=Object.create(gr);return i.size=e,i._root=t,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var uD;function Bi(){return uD||(uD=nx(0))}function lD(e,t,r){var n,i;if(e._root){var a=tE(),o=tE();if(n=ix(e._root,e.__ownerID,0,void 0,t,r,a,o),!o.value)return e;i=e.size+(a.value?r===$t?-1:1:0)}else{if(r===$t)return e;i=1,n=new xh(e.__ownerID,[[t,r]])}return e.__ownerID?(e.size=i,e._root=n,e.__hash=void 0,e.__altered=!0,e):n?nx(i,n):Bi()}function ix(e,t,r,n,i,a,o,s){return e?e.update(t,r,n,i,a,o,s):a===$t?e:(_i(s),_i(o),new Za(t,n,[i,a]))}function fD(e){return e.constructor===Za||e.constructor===zu}function ax(e,t,r,n,i){if(e.keyHash===n)return new zu(t,n,[e.entry,i]);var a=(r===0?e.keyHash:e.keyHash>>>r)&kn,o=(r===0?n:n>>>r)&kn,s,l=a===o?[ax(e,t,r+dr,n,i)]:(s=new Za(t,n,i),a<o?[e,s]:[s,e]);return new Vu(t,1<<a|1<<o,l)}function ZY(e,t,r,n){e||(e=new CS);for(var i=new Za(e,Nn(r),[r,n]),a=0;a<t.length;a++){var o=t[a];i=i.update(e,0,void 0,o[0],o[1])}return i}function YY(e,t,r,n){for(var i=0,a=0,o=new Array(r),s=0,l=1,u=t.length;s<u;s++,l<<=1){var f=t[s];f!==void 0&&s!==n&&(i|=l,o[a++]=f)}return new Vu(e,i,o)}function QY(e,t,r,n,i){for(var a=0,o=new Array(gi),s=0;r!==0;s++,r>>>=1)o[s]=r&1?t[a++]:void 0;return o[n]=i,new Th(e,a+1,o)}function z4(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,e&127}function W4(e,t,r,n){var i=n?e:ha(e);return i[t]=r,i}function XY(e,t,r,n){var i=e.length+1;if(n&&t+1===i)return e[t]=r,e;for(var a=new Array(i),o=0,s=0;s<i;s++)s===t?(a[s]=r,o=-1):a[s]=e[s+o];return a}function JY(e,t,r){var n=e.length-1;if(r&&t===n)return e.pop(),e;for(var i=new Array(n),a=0,o=0;o<n;o++)o===t&&(a=1),i[o]=e[o+a];return i}var eQ=gi/4,tQ=gi/2,rQ=gi/4,G4="@@__IMMUTABLE_LIST__@@";function Um(e){return!!(e&&e[G4])}var yl=function(e){function t(r){var n=L0();if(r==null)return n;if(Um(r))return r;var i=e(r),a=i.size;return a===0?n:(Qn(a),a>0&&a<gi?Rh(0,a,dr,null,new Do(i.toArray())):n.withMutations(function(o){o.setSize(a),i.forEach(function(s,l){return o.set(l,s)})}))}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("List [","]")},t.prototype.get=function(n,i){if(n=ko(this,n),n>=0&&n<this.size){n+=this._origin;var a=K4(this,n);return a&&a.array[n&kn]}return i},t.prototype.set=function(n,i){return nQ(this,n,i)},t.prototype.remove=function(n){return this.has(n)?n===0?this.shift():n===this.size-1?this.pop():this.splice(n,1):this},t.prototype.insert=function(n,i){return this.splice(n,0,i)},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=dr,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):L0()},t.prototype.push=function(){var n=arguments,i=this.size;return this.withMutations(function(a){xo(a,0,i+n.length);for(var o=0;o<n.length;o++)a.set(i+o,n[o])})},t.prototype.pop=function(){return xo(this,0,-1)},t.prototype.unshift=function(){var n=arguments;return this.withMutations(function(i){xo(i,-n.length);for(var a=0;a<n.length;a++)i.set(a,n[a])})},t.prototype.shift=function(){return xo(this,1)},t.prototype.concat=function(){for(var n=arguments,i=[],a=0;a<arguments.length;a++){var o=n[a],s=e(typeof o!="string"&&LS(o)?o:[o]);s.size!==0&&i.push(s)}return i.length===0?this:this.size===0&&!this.__ownerID&&i.length===1?this.constructor(i[0]):this.withMutations(function(l){i.forEach(function(u){return u.forEach(function(f){return l.push(f)})})})},t.prototype.setSize=function(n){return xo(this,0,n)},t.prototype.map=function(n,i){var a=this;return this.withMutations(function(o){for(var s=0;s<a.size;s++)o.set(s,n.call(i,o.get(s),s,a))})},t.prototype.slice=function(n,i){var a=this.size;return Yh(n,i,a)?this:xo(this,fl(n,a),Qh(i,a))},t.prototype.__iterator=function(n,i){var a=i?this.size:0,o=cD(this,i);return new zt(function(){var s=o();return s===oh?Fn():yr(n,i?--a:a++,s)})},t.prototype.__iterate=function(n,i){for(var a=i?this.size:0,o=cD(this,i),s;(s=o())!==oh&&n(s,i?--a:a++,this)!==!1;);return a},t.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?Rh(this._origin,this._capacity,this._level,this._root,this._tail,n,this.__hash):this.size===0?L0():(this.__ownerID=n,this.__altered=!1,this)},t}(Ks);yl.isList=Um;var Wr=yl.prototype;Wr[G4]=!0;Wr[Zh]=Wr.remove;Wr.merge=Wr.concat;Wr.setIn=ZS;Wr.deleteIn=Wr.removeIn=QS;Wr.update=XS;Wr.updateIn=JS;Wr.mergeIn=ex;Wr.mergeDeepIn=tx;Wr.withMutations=np;Wr.wasAltered=rx;Wr.asImmutable=ap;Wr["@@transducer/init"]=Wr.asMutable=ip;Wr["@@transducer/step"]=function(e,t){return e.push(t)};Wr["@@transducer/result"]=function(e){return e.asImmutable()};var Do=function(t,r){this.array=t,this.ownerID=r};Do.prototype.removeBefore=function(t,r,n){if(n===r?1<<r:this.array.length===0)return this;var i=n>>>r&kn;if(i>=this.array.length)return new Do([],t);var a=i===0,o;if(r>0){var s=this.array[i];if(o=s&&s.removeBefore(t,r-dr,n),o===s&&a)return this}if(a&&!o)return this;var l=Wu(this,t);if(!a)for(var u=0;u<i;u++)l.array[u]=void 0;return o&&(l.array[i]=o),l};Do.prototype.removeAfter=function(t,r,n){if(n===(r?1<<r:0)||this.array.length===0)return this;var i=n-1>>>r&kn;if(i>=this.array.length)return this;var a;if(r>0){var o=this.array[i];if(a=o&&o.removeAfter(t,r-dr,n),a===o&&i===this.array.length-1)return this}var s=Wu(this,t);return s.array.splice(i+1),a&&(s.array[i]=a),s};var oh={};function cD(e,t){var r=e._origin,n=e._capacity,i=Ah(n),a=e._tail;return o(e._root,e._level,0);function o(u,f,d){return f===0?s(u,d):l(u,f,d)}function s(u,f){var d=f===i?a&&a.array:u&&u.array,c=f>r?0:r-f,p=n-f;return p>gi&&(p=gi),function(){if(c===p)return oh;var b=t?--p:c++;return d&&d[b]}}function l(u,f,d){var c,p=u&&u.array,b=d>r?0:r-d>>f,v=(n-d>>f)+1;return v>gi&&(v=gi),function(){for(;;){if(c){var _=c();if(_!==oh)return _;c=null}if(b===v)return oh;var y=t?--v:b++;c=o(p&&p[y],f-dr,d+(y<<f))}}}}function Rh(e,t,r,n,i,a,o){var s=Object.create(Wr);return s.size=t-e,s._origin=e,s._capacity=t,s._level=r,s._root=n,s._tail=i,s.__ownerID=a,s.__hash=o,s.__altered=!1,s}var dD;function L0(){return dD||(dD=Rh(0,0,dr))}function nQ(e,t,r){if(t=ko(e,t),t!==t)return e;if(t>=e.size||t<0)return e.withMutations(function(o){t<0?xo(o,t).set(0,r):xo(o,0,t+1).set(t,r)});t+=e._origin;var n=e._tail,i=e._root,a=tE();return t>=Ah(e._capacity)?n=sE(n,e.__ownerID,0,t,r,a):i=sE(i,e.__ownerID,e._level,t,r,a),a.value?e.__ownerID?(e._root=i,e._tail=n,e.__hash=void 0,e.__altered=!0,e):Rh(e._origin,e._capacity,e._level,i,n):e}function sE(e,t,r,n,i,a){var o=n>>>r&kn,s=e&&o<e.array.length;if(!s&&i===void 0)return e;var l;if(r>0){var u=e&&e.array[o],f=sE(u,t,r-dr,n,i,a);return f===u?e:(l=Wu(e,t),l.array[o]=f,l)}return s&&e.array[o]===i?e:(a&&_i(a),l=Wu(e,t),i===void 0&&o===l.array.length-1?l.array.pop():l.array[o]=i,l)}function Wu(e,t){return t&&e&&t===e.ownerID?e:new Do(e?e.array.slice():[],t)}function K4(e,t){if(t>=Ah(e._capacity))return e._tail;if(t<1<<e._level+dr){for(var r=e._root,n=e._level;r&&n>0;)r=r.array[t>>>n&kn],n-=dr;return r}}function xo(e,t,r){t!==void 0&&(t|=0),r!==void 0&&(r|=0);var n=e.__ownerID||new CS,i=e._origin,a=e._capacity,o=i+t,s=r===void 0?a:r<0?a+r:i+r;if(o===i&&s===a)return e;if(o>=s)return e.clear();for(var l=e._level,u=e._root,f=0;o+f<0;)u=new Do(u&&u.array.length?[void 0,u]:[],n),l+=dr,f+=1<<l;f&&(o+=f,i+=f,s+=f,a+=f);for(var d=Ah(a),c=Ah(s);c>=1<<l+dr;)u=new Do(u&&u.array.length?[u]:[],n),l+=dr;var p=e._tail,b=c<d?K4(e,s-1):c>d?new Do([],n):p;if(p&&c>d&&o<a&&p.array.length){u=Wu(u,n);for(var v=u,_=l;_>dr;_-=dr){var y=d>>>_&kn;v=v.array[y]=Wu(v.array[y],n)}v.array[d>>>dr&kn]=p}if(s<a&&(b=b&&b.removeAfter(n,0,s)),o>=c)o-=c,s-=c,l=dr,u=null,b=b&&b.removeBefore(n,0,o);else if(o>i||c<d){for(f=0;u;){var m=o>>>l&kn;if(m!==c>>>l&kn)break;m&&(f+=(1<<l)*m),l-=dr,u=u.array[m]}u&&o>i&&(u=u.removeBefore(n,l,o-f)),u&&c<d&&(u=u.removeAfter(n,l,c-f)),f&&(o-=f,s-=f)}return e.__ownerID?(e.size=s-o,e._origin=o,e._capacity=s,e._level=l,e._root=u,e._tail=b,e.__hash=void 0,e.__altered=!0,e):Rh(o,s,l,u,b)}function Ah(e){return e<gi?0:e-1>>>dr<<dr}var Wi=function(e){function t(r){return r==null?Hd():km(r)?r:Hd().withMutations(function(n){var i=Ai(r);Qn(i.size),i.forEach(function(a,o){return n.set(o,a)})})}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("OrderedMap {","}")},t.prototype.get=function(n,i){var a=this._map.get(n);return a!==void 0?this._list.get(a)[1]:i},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):Hd()},t.prototype.set=function(n,i){return pD(this,n,i)},t.prototype.remove=function(n){return pD(this,n,$t)},t.prototype.__iterate=function(n,i){var a=this;return this._list.__iterate(function(o){return o&&n(o[1],o[0],a)},i)},t.prototype.__iterator=function(n,i){return this._list.fromEntrySeq().__iterator(n,i)},t.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var i=this._map.__ensureOwner(n),a=this._list.__ensureOwner(n);return n?ox(i,a,n,this.__hash):this.size===0?Hd():(this.__ownerID=n,this.__altered=!1,this._map=i,this._list=a,this)},t}(Zo);Wi.isOrderedMap=km;Wi.prototype[hl]=!0;Wi.prototype[Zh]=Wi.prototype.remove;function ox(e,t,r,n){var i=Object.create(Wi.prototype);return i.size=e?e.size:0,i._map=e,i._list=t,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var hD;function Hd(){return hD||(hD=ox(Bi(),L0()))}function pD(e,t,r){var n=e._map,i=e._list,a=n.get(t),o=a!==void 0,s,l;if(r===$t){if(!o)return e;i.size>=gi&&i.size>=n.size*2?(l=i.filter(function(u,f){return u!==void 0&&a!==f}),s=l.toKeyedSeq().map(function(u){return u[0]}).flip().toMap(),e.__ownerID&&(s.__ownerID=l.__ownerID=e.__ownerID)):(s=n.remove(t),l=a===i.size-1?i.pop():i.set(a,void 0))}else if(o){if(r===i.get(a)[1])return e;s=n,l=i.set(a,[t,r])}else s=n.set(t,i.size),l=i.set(i.size,[t,r]);return e.__ownerID?(e.size=s.size,e._map=s,e._list=l,e.__hash=void 0,e.__altered=!0,e):ox(s,l)}var Z4="@@__IMMUTABLE_STACK__@@";function Ih(e){return!!(e&&e[Z4])}var op=function(e){function t(r){return r==null?b0():Ih(r)?r:b0().pushAll(r)}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("Stack [","]")},t.prototype.get=function(n,i){var a=this._head;for(n=ko(this,n);a&&n--;)a=a.next;return a?a.value:i},t.prototype.peek=function(){return this._head&&this._head.value},t.prototype.push=function(){var n=arguments;if(arguments.length===0)return this;for(var i=this.size+arguments.length,a=this._head,o=arguments.length-1;o>=0;o--)a={value:n[o],next:a};return this.__ownerID?(this.size=i,this._head=a,this.__hash=void 0,this.__altered=!0,this):Vd(i,a)},t.prototype.pushAll=function(n){if(n=e(n),n.size===0)return this;if(this.size===0&&Ih(n))return n;Qn(n.size);var i=this.size,a=this._head;return n.__iterate(function(o){i++,a={value:o,next:a}},!0),this.__ownerID?(this.size=i,this._head=a,this.__hash=void 0,this.__altered=!0,this):Vd(i,a)},t.prototype.pop=function(){return this.slice(1)},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):b0()},t.prototype.slice=function(n,i){if(Yh(n,i,this.size))return this;var a=fl(n,this.size),o=Qh(i,this.size);if(o!==this.size)return e.prototype.slice.call(this,n,i);for(var s=this.size-a,l=this._head;a--;)l=l.next;return this.__ownerID?(this.size=s,this._head=l,this.__hash=void 0,this.__altered=!0,this):Vd(s,l)},t.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?Vd(this.size,this._head,n,this.__hash):this.size===0?b0():(this.__ownerID=n,this.__altered=!1,this)},t.prototype.__iterate=function(n,i){var a=this;if(i)return new Bs(this.toArray()).__iterate(function(l,u){return n(l,u,a)},i);for(var o=0,s=this._head;s&&n(s.value,o++,this)!==!1;)s=s.next;return o},t.prototype.__iterator=function(n,i){if(i)return new Bs(this.toArray()).__iterator(n,i);var a=0,o=this._head;return new zt(function(){if(o){var s=o.value;return o=o.next,yr(n,a++,s)}return Fn()})},t}(Ks);op.isStack=Ih;var jn=op.prototype;jn[Z4]=!0;jn.shift=jn.pop;jn.unshift=jn.push;jn.unshiftAll=jn.pushAll;jn.withMutations=np;jn.wasAltered=rx;jn.asImmutable=ap;jn["@@transducer/init"]=jn.asMutable=ip;jn["@@transducer/step"]=function(e,t){return e.unshift(t)};jn["@@transducer/result"]=function(e){return e.asImmutable()};function Vd(e,t,r,n){var i=Object.create(jn);return i.size=e,i._head=t,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var mD;function b0(){return mD||(mD=Vd(0))}var Y4="@@__IMMUTABLE_SET__@@";function sp(e){return!!(e&&e[Y4])}function Hm(e){return sp(e)&&ti(e)}function sx(e,t){if(e===t)return!0;if(!wn(t)||e.size!==void 0&&t.size!==void 0&&e.size!==t.size||e.__hash!==void 0&&t.__hash!==void 0&&e.__hash!==t.__hash||rr(e)!==rr(t)||cn(e)!==cn(t)||ti(e)!==ti(t))return!1;if(e.size===0&&t.size===0)return!0;var r=!cl(e);if(ti(e)){var n=e.entries();return t.every(function(l,u){var f=n.next().value;return f&&Qr(f[1],l)&&(r||Qr(f[0],u))})&&n.next().done}var i=!1;if(e.size===void 0)if(t.size===void 0)typeof e.cacheResult=="function"&&e.cacheResult();else{i=!0;var a=e;e=t,t=a}var o=!0,s=t.__iterate(function(l,u){if(r?!e.has(l):i?!Qr(l,e.get(u,$t)):!Qr(e.get(u,$t),l))return o=!1,!1});return o&&e.size===s}function Zs(e,t){var r=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(r),e}function X0(e){if(!e||typeof e!="object")return e;if(!wn(e)){if(!Fo(e))return e;e=En(e)}if(rr(e)){var t={};return e.__iterate(function(n,i){t[i]=X0(n)}),t}var r=[];return e.__iterate(function(n){r.push(X0(n))}),r}var gl=function(e){function t(r){return r==null?zd():sp(r)&&!ti(r)?r:zd().withMutations(function(n){var i=e(r);Qn(i.size),i.forEach(function(a){return n.add(a)})})}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(n){return this(Ai(n).keySeq())},t.intersect=function(n){return n=mr(n).toArray(),n.length?dn.intersect.apply(t(n.pop()),n):zd()},t.union=function(n){return n=mr(n).toArray(),n.length?dn.union.apply(t(n.pop()),n):zd()},t.prototype.toString=function(){return this.__toString("Set {","}")},t.prototype.has=function(n){return this._map.has(n)},t.prototype.add=function(n){return v0(this,this._map.set(n,n))},t.prototype.remove=function(n){return v0(this,this._map.remove(n))},t.prototype.clear=function(){return v0(this,this._map.clear())},t.prototype.map=function(n,i){var a=this,o=!1,s=v0(this,this._map.mapEntries(function(l){var u=l[1],f=n.call(i,u,u,a);return f!==u&&(o=!0),[f,f]},i));return o?s:this},t.prototype.union=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];return n=n.filter(function(a){return a.size!==0}),n.length===0?this:this.size===0&&!this.__ownerID&&n.length===1?this.constructor(n[0]):this.withMutations(function(a){for(var o=0;o<n.length;o++)typeof n[o]=="string"?a.add(n[o]):e(n[o]).forEach(function(s){return a.add(s)})})},t.prototype.intersect=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];if(n.length===0)return this;n=n.map(function(o){return e(o)});var a=[];return this.forEach(function(o){n.every(function(s){return s.includes(o)})||a.push(o)}),this.withMutations(function(o){a.forEach(function(s){o.remove(s)})})},t.prototype.subtract=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];if(n.length===0)return this;n=n.map(function(o){return e(o)});var a=[];return this.forEach(function(o){n.some(function(s){return s.includes(o)})&&a.push(o)}),this.withMutations(function(o){a.forEach(function(s){o.remove(s)})})},t.prototype.sort=function(n){return qs(Hu(this,n))},t.prototype.sortBy=function(n,i){return qs(Hu(this,i,n))},t.prototype.wasAltered=function(){return this._map.wasAltered()},t.prototype.__iterate=function(n,i){var a=this;return this._map.__iterate(function(o){return n(o,o,a)},i)},t.prototype.__iterator=function(n,i){return this._map.__iterator(n,i)},t.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var i=this._map.__ensureOwner(n);return n?this.__make(i,n):this.size===0?this.__empty():(this.__ownerID=n,this._map=i,this)},t}(dl);gl.isSet=sp;var dn=gl.prototype;dn[Y4]=!0;dn[Zh]=dn.remove;dn.merge=dn.concat=dn.union;dn.withMutations=np;dn.asImmutable=ap;dn["@@transducer/init"]=dn.asMutable=ip;dn["@@transducer/step"]=function(e,t){return e.add(t)};dn["@@transducer/result"]=function(e){return e.asImmutable()};dn.__empty=zd;dn.__make=Q4;function v0(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:t.size===0?e.__empty():e.__make(t)}function Q4(e,t){var r=Object.create(dn);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}var yD;function zd(){return yD||(yD=Q4(Bi()))}var ux=function(e){function t(r,n,i){if(!(this instanceof t))return new t(r,n,i);if(VS(i!==0,"Cannot step a Range by 0"),r=r||0,n===void 0&&(n=1/0),i=i===void 0?1:Math.abs(i),n<r&&(i=-i),this._start=r,this._end=n,this._step=i,this.size=Math.max(0,Math.ceil((n-r)/i-1)+1),this.size===0){if(q1)return q1;q1=this}}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},t.prototype.get=function(n,i){return this.has(n)?this._start+ko(this,n)*this._step:i},t.prototype.includes=function(n){var i=(n-this._start)/this._step;return i>=0&&i<this.size&&i===Math.floor(i)},t.prototype.slice=function(n,i){return Yh(n,i,this.size)?this:(n=fl(n,this.size),i=Qh(i,this.size),i<=n?new t(0,0):new t(this.get(n,this._end),this.get(i,this._end),this._step))},t.prototype.indexOf=function(n){var i=n-this._start;if(i%this._step===0){var a=i/this._step;if(a>=0&&a<this.size)return a}return-1},t.prototype.lastIndexOf=function(n){return this.indexOf(n)},t.prototype.__iterate=function(n,i){for(var a=this.size,o=this._step,s=i?this._start+(a-1)*o:this._start,l=0;l!==a&&n(s,i?a-++l:l++,this)!==!1;)s+=i?-o:o;return l},t.prototype.__iterator=function(n,i){var a=this.size,o=this._step,s=i?this._start+(a-1)*o:this._start,l=0;return new zt(function(){if(l===a)return Fn();var u=s;return s+=i?-o:o,yr(n,i?a-++l:l++,u)})},t.prototype.equals=function(n){return n instanceof t?this._start===n._start&&this._end===n._end&&this._step===n._step:sx(this,n)},t}(Ii),q1;function Vm(e,t,r){for(var n=L4(t),i=0;i!==n.length;)if(e=qm(e,n[i++],$t),e===$t)return r;return e}function X4(e,t){return Vm(this,e,t)}function lx(e,t){return Vm(e,t,$t)!==$t}function iQ(e){return lx(this,e)}function J4(){Qn(this.size);var e={};return this.__iterate(function(t,r){e[r]=t}),e}mr.isIterable=wn;mr.isKeyed=rr;mr.isIndexed=cn;mr.isAssociative=cl;mr.isOrdered=ti;mr.Iterator=zt;Zs(mr,{toArray:function(){Qn(this.size);var t=new Array(this.size||0),r=rr(this),n=0;return this.__iterate(function(i,a){t[n++]=r?[a,i]:i}),t},toIndexedSeq:function(){return new T4(this)},toJS:function(){return X0(this)},toKeyedSeq:function(){return new jm(this,!0)},toMap:function(){return Zo(this.toKeyedSeq())},toObject:J4,toOrderedMap:function(){return Wi(this.toKeyedSeq())},toOrderedSet:function(){return qs(rr(this)?this.valueSeq():this)},toSet:function(){return gl(rr(this)?this.valueSeq():this)},toSetSeq:function(){return new R4(this)},toSeq:function(){return cn(this)?this.toIndexedSeq():rr(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return op(rr(this)?this.valueSeq():this)},toList:function(){return yl(rr(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(t,r){return this.size===0?t+r:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+r},concat:function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return er(this,UY(this,t))},includes:function(t){return this.some(function(r){return Qr(r,t)})},entries:function(){return this.__iterator(Ti)},every:function(t,r){Qn(this.size);var n=!0;return this.__iterate(function(i,a,o){if(!t.call(r,i,a,o))return n=!1,!1}),n},filter:function(t,r){return er(this,P4(this,t,r,!0))},partition:function(t,r){return qY(this,t,r)},find:function(t,r,n){var i=this.findEntry(t,r);return i?i[1]:n},forEach:function(t,r){return Qn(this.size),this.__iterate(r?t.bind(r):t)},join:function(t){Qn(this.size),t=t!==void 0?""+t:",";var r="",n=!0;return this.__iterate(function(i){n?n=!1:r+=t,r+=i!=null?i.toString():""}),r},keys:function(){return this.__iterator(Jh)},map:function(t,r){return er(this,O4(this,t,r))},reduce:function(t,r,n){return gD(this,t,r,n,arguments.length<2,!1)},reduceRight:function(t,r,n){return gD(this,t,r,n,arguments.length<2,!0)},reverse:function(){return er(this,qS(this,!0))},slice:function(t,r){return er(this,$S(this,t,r,!0))},some:function(t,r){Qn(this.size);var n=!1;return this.__iterate(function(i,a,o){if(t.call(r,i,a,o))return n=!0,!1}),n},sort:function(t){return er(this,Hu(this,t))},values:function(){return this.__iterator(zi)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(t,r){return Uu(t?this.toSeq().filter(t,r):this)},countBy:function(t,r){return jY(this,t,r)},equals:function(t){return sx(this,t)},entrySeq:function(){var t=this;if(t._cache)return new Bs(t._cache);var r=t.toSeq().map(oQ).toIndexedSeq();return r.fromEntrySeq=function(){return t.toSeq()},r},filterNot:function(t,r){return this.filter($1(t),r)},findEntry:function(t,r,n){var i=n;return this.__iterate(function(a,o,s){if(t.call(r,a,o,s))return i=[o,a],!1}),i},findKey:function(t,r){var n=this.findEntry(t,r);return n&&n[0]},findLast:function(t,r,n){return this.toKeyedSeq().reverse().find(t,r,n)},findLastEntry:function(t,r,n){return this.toKeyedSeq().reverse().findEntry(t,r,n)},findLastKey:function(t,r){return this.toKeyedSeq().reverse().findKey(t,r)},first:function(t){return this.find(h4,null,t)},flatMap:function(t,r){return er(this,HY(this,t,r))},flatten:function(t){return er(this,N4(this,t,!0))},fromEntrySeq:function(){return new A4(this)},get:function(t,r){return this.find(function(n,i){return Qr(i,t)},void 0,r)},getIn:X4,groupBy:function(t,r){return BY(this,t,r)},has:function(t){return this.get(t,$t)!==$t},hasIn:iQ,isSubset:function(t){return t=typeof t.includes=="function"?t:mr(t),this.every(function(r){return t.includes(r)})},isSuperset:function(t){return t=typeof t.isSubset=="function"?t:mr(t),t.isSubset(this)},keyOf:function(t){return this.findKey(function(r){return Qr(r,t)})},keySeq:function(){return this.toSeq().map(aQ).toIndexedSeq()},last:function(t){return this.toSeq().reverse().first(t)},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return g0(this,t)},maxBy:function(t,r){return g0(this,r,t)},min:function(t){return g0(this,t?_D(t):vD)},minBy:function(t,r){return g0(this,r?_D(r):vD,t)},rest:function(){return this.slice(1)},skip:function(t){return t===0?this:this.slice(Math.max(0,t))},skipLast:function(t){return t===0?this:this.slice(0,-Math.max(0,t))},skipWhile:function(t,r){return er(this,D4(this,t,r,!0))},skipUntil:function(t,r){return this.skipWhile($1(t),r)},sortBy:function(t,r){return er(this,Hu(this,r,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return this.slice(-Math.max(0,t))},takeWhile:function(t,r){return er(this,$Y(this,t,r))},takeUntil:function(t,r){return this.takeWhile($1(t),r)},update:function(t){return t(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=sQ(this))}});var Sn=mr.prototype;Sn[y4]=!0;Sn[Lm]=Sn.values;Sn.toJSON=Sn.toArray;Sn.__toStringMapper=Sh;Sn.inspect=Sn.toSource=function(){return this.toString()};Sn.chain=Sn.flatMap;Sn.contains=Sn.includes;Zs(Ai,{flip:function(){return er(this,I4(this))},mapEntries:function(t,r){var n=this,i=0;return er(this,this.toSeq().map(function(a,o){return t.call(r,[o,a],i++,n)}).fromEntrySeq())},mapKeys:function(t,r){var n=this;return er(this,this.toSeq().flip().map(function(i,a){return t.call(r,i,a,n)}).flip())}});var up=Ai.prototype;up[g4]=!0;up[Lm]=Sn.entries;up.toJSON=J4;up.__toStringMapper=function(e,t){return Sh(t)+": "+Sh(e)};Zs(Ks,{toKeyedSeq:function(){return new jm(this,!1)},filter:function(t,r){return er(this,P4(this,t,r,!1))},findIndex:function(t,r){var n=this.findEntry(t,r);return n?n[0]:-1},indexOf:function(t){var r=this.keyOf(t);return r===void 0?-1:r},lastIndexOf:function(t){var r=this.lastKeyOf(t);return r===void 0?-1:r},reverse:function(){return er(this,qS(this,!1))},slice:function(t,r){return er(this,$S(this,t,r,!1))},splice:function(t,r){var n=arguments.length;if(r=Math.max(r||0,0),n===0||n===2&&!r)return this;t=fl(t,t<0?this.count():this.size);var i=this.slice(0,t);return er(this,n===1?i:i.concat(ha(arguments,2),this.slice(t+r)))},findLastIndex:function(t,r){var n=this.findLastEntry(t,r);return n?n[0]:-1},first:function(t){return this.get(0,t)},flatten:function(t){return er(this,N4(this,t,!1))},get:function(t,r){return t=ko(this,t),t<0||this.size===1/0||this.size!==void 0&&t>this.size?r:this.find(function(n,i){return i===t},void 0,r)},has:function(t){return t=ko(this,t),t>=0&&(this.size!==void 0?this.size===1/0||t<this.size:this.indexOf(t)!==-1)},interpose:function(t){return er(this,VY(this,t))},interleave:function(){var t=[this].concat(ha(arguments)),r=_0(this.toSeq(),Ii.of,t),n=r.flatten(!0);return r.size&&(n.size=r.size*t.length),er(this,n)},keySeq:function(){return ux(0,this.size)},last:function(t){return this.get(-1,t)},skipWhile:function(t,r){return er(this,D4(this,t,r,!1))},zip:function(){var t=[this].concat(ha(arguments));return er(this,_0(this,bD,t))},zipAll:function(){var t=[this].concat(ha(arguments));return er(this,_0(this,bD,t,!0))},zipWith:function(t){var r=ha(arguments);return r[0]=this,er(this,_0(this,t,r))}});var _l=Ks.prototype;_l[_4]=!0;_l[hl]=!0;Zs(dl,{get:function(t,r){return this.has(t)?t:r},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}});var Gu=dl.prototype;Gu.has=Sn.includes;Gu.contains=Gu.includes;Gu.keys=Gu.values;Zs(Go,up);Zs(Ii,_l);Zs(ml,Gu);function gD(e,t,r,n,i,a){return Qn(e.size),e.__iterate(function(o,s,l){i?(i=!1,r=o):r=t.call(n,r,o,s,l)},a),r}function aQ(e,t){return t}function oQ(e,t){return[t,e]}function $1(e){return function(){return!e.apply(this,arguments)}}function _D(e){return function(){return-e.apply(this,arguments)}}function bD(){return ha(arguments)}function vD(e,t){return e<t?1:e>t?-1:0}function sQ(e){if(e.size===1/0)return 0;var t=ti(e),r=rr(e),n=t?1:0,i=e.__iterate(r?t?function(a,o){n=31*n+wD(Nn(a),Nn(o))|0}:function(a,o){n=n+wD(Nn(a),Nn(o))|0}:t?function(a){n=31*n+Nn(a)|0}:function(a){n=n+Nn(a)|0});return uQ(i,n)}function uQ(e,t){return t=Cf(t,3432918353),t=Cf(t<<15|t>>>-15,461845907),t=Cf(t<<13|t>>>-13,5),t=(t+3864292196|0)^e,t=Cf(t^t>>>16,2246822507),t=Cf(t^t>>>13,3266489909),t=Fm(t^t>>>16),t}function wD(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}var qs=function(e){function t(r){return r==null?uE():Hm(r)?r:uE().withMutations(function(n){var i=dl(r);Qn(i.size),i.forEach(function(a){return n.add(a)})})}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(n){return this(Ai(n).keySeq())},t.prototype.toString=function(){return this.__toString("OrderedSet {","}")},t}(gl);qs.isOrderedSet=Hm;var Ys=qs.prototype;Ys[hl]=!0;Ys.zip=_l.zip;Ys.zipWith=_l.zipWith;Ys.zipAll=_l.zipAll;Ys.__empty=uE;Ys.__make=e8;function e8(e,t){var r=Object.create(Ys);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}var ED;function uE(){return ED||(ED=e8(Hd()))}var t8={LeftThenRight:-1,RightThenLeft:1};function lQ(e){if(Wo(e))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(ai(e))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(e===null||typeof e!="object")throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}var Gr=function(t,r){var n;lQ(t);var i=function(s){var l=this;if(s instanceof i)return s;if(!(this instanceof i))return new i(s);if(!n){n=!0;var u=Object.keys(t),f=a._indices={};a._name=r,a._keys=u,a._defaultValues=t;for(var d=0;d<u.length;d++){var c=u[d];f[c]=d,a[c]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+cx(this)+' with property "'+c+'" since that property name is part of the Record API.'):fQ(a,c)}}return this.__ownerID=void 0,this._values=yl().withMutations(function(p){p.setSize(l._keys.length),Ai(s).forEach(function(b,v){p.set(l._indices[v],b===l._defaultValues[v]?void 0:b)})}),this},a=i.prototype=Object.create(ur);return a.constructor=i,r&&(i.displayName=r),i};Gr.prototype.toString=function(){for(var t=cx(this)+" { ",r=this._keys,n,i=0,a=r.length;i!==a;i++)n=r[i],t+=(i?", ":"")+n+": "+Sh(this.get(n));return t+" }"};Gr.prototype.equals=function(t){return this===t||Wo(t)&&Ku(this).equals(Ku(t))};Gr.prototype.hashCode=function(){return Ku(this).hashCode()};Gr.prototype.has=function(t){return this._indices.hasOwnProperty(t)};Gr.prototype.get=function(t,r){if(!this.has(t))return r;var n=this._indices[t],i=this._values.get(n);return i===void 0?this._defaultValues[t]:i};Gr.prototype.set=function(t,r){if(this.has(t)){var n=this._values.set(this._indices[t],r===this._defaultValues[t]?void 0:r);if(n!==this._values&&!this.__ownerID)return fx(this,n)}return this};Gr.prototype.remove=function(t){return this.set(t)};Gr.prototype.clear=function(){var t=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:fx(this,t)};Gr.prototype.wasAltered=function(){return this._values.wasAltered()};Gr.prototype.toSeq=function(){return Ku(this)};Gr.prototype.toJS=function(){return X0(this)};Gr.prototype.entries=function(){return this.__iterator(Ti)};Gr.prototype.__iterator=function(t,r){return Ku(this).__iterator(t,r)};Gr.prototype.__iterate=function(t,r){return Ku(this).__iterate(t,r)};Gr.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var r=this._values.__ensureOwner(t);return t?fx(this,r,t):(this.__ownerID=t,this._values=r,this)};Gr.isRecord=Wo;Gr.getDescriptiveName=cx;var ur=Gr.prototype;ur[v4]=!0;ur[Zh]=ur.remove;ur.deleteIn=ur.removeIn=QS;ur.getIn=X4;ur.hasIn=Sn.hasIn;ur.merge=k4;ur.mergeWith=F4;ur.mergeIn=ex;ur.mergeDeep=H4;ur.mergeDeepWith=V4;ur.mergeDeepIn=tx;ur.setIn=ZS;ur.update=XS;ur.updateIn=JS;ur.withMutations=np;ur.asMutable=ip;ur.asImmutable=ap;ur[Lm]=ur.entries;ur.toJSON=ur.toObject=Sn.toObject;ur.inspect=ur.toSource=function(){return this.toString()};function fx(e,t,r){var n=Object.create(Object.getPrototypeOf(e));return n._values=t,n.__ownerID=r,n}function cx(e){return e.constructor.displayName||e.constructor.name||"Record"}function Ku(e){return jS(e._keys.map(function(t){return[t,e.get(t)]}))}function fQ(e,t){try{Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(r){VS(this.__ownerID,"Cannot set on an immutable record."),this.set(t,r)}})}catch{}}var r8=function(e){function t(r,n){if(!(this instanceof t))return new t(r,n);if(this._value=r,this.size=n===void 0?1/0:Math.max(0,n),this.size===0){if(U1)return U1;U1=this}}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},t.prototype.get=function(n,i){return this.has(n)?this._value:i},t.prototype.includes=function(n){return Qr(this._value,n)},t.prototype.slice=function(n,i){var a=this.size;return Yh(n,i,a)?this:new t(this._value,Qh(i,a)-fl(n,a))},t.prototype.reverse=function(){return this},t.prototype.indexOf=function(n){return Qr(this._value,n)?0:-1},t.prototype.lastIndexOf=function(n){return Qr(this._value,n)?this.size:-1},t.prototype.__iterate=function(n,i){for(var a=this.size,o=0;o!==a&&n(this._value,i?a-++o:o++,this)!==!1;);return o},t.prototype.__iterator=function(n,i){var a=this,o=this.size,s=0;return new zt(function(){return s===o?Fn():yr(n,i?o-++s:s++,a._value)})},t.prototype.equals=function(n){return n instanceof t?Qr(this._value,n._value):sx(this,n)},t}(Ii),U1;function n8(e,t){return i8([],t||cQ,e,"",t&&t.length>2?[]:void 0,{"":e})}function i8(e,t,r,n,i,a){if(typeof r!="string"&&!ai(r)&&(MS(r)||LS(r)||Bm(r))){if(~e.indexOf(r))throw new TypeError("Cannot convert circular structure to Immutable");e.push(r),i&&n!==""&&i.push(n);var o=t.call(a,n,En(r).map(function(s,l){return i8(e,t,s,l,i,r)}),i&&i.slice());return e.pop(),i&&i.pop(),o}return r}function cQ(e,t){return cn(t)?t.toList():rr(t)?t.toMap():t.toSet()}var a8="4.3.7",dQ={version:a8,Collection:mr,Iterable:mr,Seq:En,Map:Zo,OrderedMap:Wi,List:yl,Stack:op,Set:gl,OrderedSet:qs,PairSorting:t8,Record:Gr,Range:ux,Repeat:r8,is:Qr,fromJS:n8,hash:Nn,isImmutable:ai,isCollection:wn,isKeyed:rr,isIndexed:cn,isAssociative:cl,isOrdered:ti,isValueObject:Y0,isPlainObject:Bm,isSeq:Xh,isList:Um,isMap:ep,isOrderedMap:km,isStack:Ih,isSet:sp,isOrderedSet:Hm,isRecord:Wo,get:qm,getIn:Vm,has:zS,hasIn:lx,merge:B4,mergeDeep:$4,mergeWith:q4,mergeDeepWith:U4,remove:WS,removeIn:YS,set:GS,setIn:KS,update:$m,updateIn:Ko},hQ=mr;const pQ=Object.freeze(Object.defineProperty({__proto__:null,Collection:mr,Iterable:hQ,List:yl,Map:Zo,OrderedMap:Wi,OrderedSet:qs,PairSorting:t8,Range:ux,Record:Gr,Repeat:r8,Seq:En,Set:gl,Stack:op,default:dQ,fromJS:n8,get:qm,getIn:Vm,has:zS,hasIn:lx,hash:Nn,is:Qr,isAssociative:cl,isCollection:wn,isImmutable:ai,isIndexed:cn,isKeyed:rr,isList:Um,isMap:ep,isOrdered:ti,isOrderedMap:km,isOrderedSet:Hm,isPlainObject:Bm,isRecord:Wo,isSeq:Xh,isSet:sp,isStack:Ih,isValueObject:Y0,merge:B4,mergeDeep:$4,mergeDeepWith:U4,mergeWith:q4,remove:WS,removeIn:YS,set:GS,setIn:KS,update:$m,updateIn:Ko,version:a8},Symbol.toStringTag,{value:"Module"})),mQ=el(pQ);var SD;function o8(){if(SD)return fs;SD=1,Object.defineProperty(fs,"__esModule",{value:!0}),fs.ActionContextKey=fs.ActionContext=void 0;const e=mQ;let t=class Wd{constructor(i={}){this.map=(0,e.Map)(i)}setDefault(i,a){return this.has(i)?this:this.set(i,a)}set(i,a){return this.setRaw(i.name,a)}setRaw(i,a){return new Wd(this.map.set(i,a))}delete(i){return new Wd(this.map.delete(i.name))}get(i){return this.getRaw(i.name)}getRaw(i){return this.map.get(i)}getSafe(i){if(!this.has(i))throw new Error(`Context entry ${i.name} is required but not available`);return this.get(i)}has(i){return this.hasRaw(i.name)}hasRaw(i){return this.map.has(i)}merge(...i){let a=this;for(const o of i)for(const s of o.keys())a=a.set(s,o.get(s));return a}keys(){return[...this.map.keys()].map(i=>new r(i))}toJS(){return this.map.toJS()}toString(){return`ActionContext(${JSON.stringify(this.map.toJS())})`}[Symbol.for("nodejs.util.inspect.custom")](){return`ActionContext(${JSON.stringify(this.map.toJS(),null,"  ")})`}static ensureActionContext(i){return i instanceof Wd?i:new Wd((0,e.Map)(i??{}))}};fs.ActionContext=t;class r{constructor(i){this.name=i}}return fs.ActionContextKey=r,fs}var Lf={},xD;function s8(){if(xD)return Lf;xD=1,Object.defineProperty(Lf,"__esModule",{value:!0}),Lf.Bus=void 0;let e=class{constructor(r){this.actors=[],this.observers=[],this.dependencyLinks=new Map,Object.assign(this,r),this.failMessage=`All actors over bus ${this.name} failed to handle an action`}subscribe(r){this.actors.push(r),this.reorderForDependencies()}subscribeObserver(r){this.observers.push(r)}unsubscribe(r){const n=this.actors.indexOf(r);return n>=0?(this.actors.splice(n,1),!0):!1}unsubscribeObserver(r){const n=this.observers.indexOf(r);return n>=0?(this.observers.splice(n,1),!0):!1}publish(r){return this.actors.map(n=>({actor:n,reply:n.test(r)}))}onRun(r,n,i){for(const a of this.observers)a.onRun(r,n,i)}addDependencies(r,n){for(const i of n){let a=this.dependencyLinks.get(i);a||(a=[],this.dependencyLinks.set(i,a)),a.push(r)}this.reorderForDependencies()}reorderForDependencies(){if(this.dependencyLinks.size>0){const r=[];for(const n of this.dependencyLinks.keys()){const i=this.actors.indexOf(n);i>=0&&(this.actors.splice(i,1),r.push(n))}for(;r.length>0;){let n=-1;for(let a=0;a<r.length;a++){let o=!0;for(const s of this.dependencyLinks.get(r[a]))if(!this.actors.includes(s)&&r.includes(s)){o=!1;break}if(o){n=a;break}}if(n<0)throw new Error(`Cyclic dependency links detected in bus ${this.name}`);const i=r.splice(n,1)[0];this.actors.push(i)}}}};return Lf.Bus=e,Lf}var Mf={},TD;function yQ(){if(TD)return Mf;TD=1,Object.defineProperty(Mf,"__esModule",{value:!0}),Mf.BusIndexed=void 0;const e=s8();let t=class extends e.Bus{constructor(n){super(n),this.actorsIndex={}}subscribe(n){const i=this.getActorIdentifiers(n)??["_undefined_"];for(const a of i){let o=this.actorsIndex[a];o||(o=this.actorsIndex[a]=[]),o.push(n),super.subscribe(n)}}unsubscribe(n){const i=this.getActorIdentifiers(n)??["_undefined_"];let a=!1;for(const o of i){const s=this.actorsIndex[o];if(s){const l=s.indexOf(n);l>=0&&s.splice(l,1),s.length===0&&delete this.actorsIndex[o]}a=a||super.unsubscribe(n)}return a}publish(n){const i=this.getActionIdentifier(n);return i?[...this.actorsIndex[i]||[],...this.actorsIndex._undefined_||[]].map(o=>({actor:o,reply:o.test(n)})):super.publish(n)}getActorIdentifiers(n){const i=this.actorIdentifierFields.reduce((a,o)=>a[o],n);if(i)return Array.isArray(i)?i:[i]}getActionIdentifier(n){return this.actionIdentifierFields.reduce((i,a)=>i[a],n)}};return Mf.BusIndexed=t,Mf}var kf={},RD;function u8(){if(RD)return kf;RD=1,Object.defineProperty(kf,"__esModule",{value:!0}),kf.CONTEXT_KEY_LOGGER=void 0;const e=o8();return kf.CONTEXT_KEY_LOGGER=new e.ActionContextKey("@comunica/core:log"),kf}var Ff={},AD;function gQ(){if(AD)return Ff;AD=1,Object.defineProperty(Ff,"__esModule",{value:!0}),Ff.ActionObserver=void 0;let e=class{constructor(r){Object.assign(this,r)}};return Ff.ActionObserver=e,Ff}var jf={},ID;function _Q(){if(ID)return jf;ID=1,Object.defineProperty(jf,"__esModule",{value:!0}),jf.Actor=void 0;const e=u8();let t=class Rs{constructor(n){this.beforeActors=[],Object.assign(this,n),this.bus.subscribe(this),this.beforeActors.length>0&&this.bus.addDependencies(this,this.beforeActors),n.busFailMessage&&(this.bus.failMessage=n.busFailMessage)}static getContextLogger(n){return n.get(e.CONTEXT_KEY_LOGGER)}runObservable(n,i){const a=this.run(n,i);return this.bus.onRun(this,n,a),a}getDefaultLogData(n,i){const a=i?i():{};return a.actor=this.name,a}logTrace(n,i,a){const o=Rs.getContextLogger(n);o&&o.trace(i,this.getDefaultLogData(n,a))}logDebug(n,i,a){const o=Rs.getContextLogger(n);o&&o.debug(i,this.getDefaultLogData(n,a))}logInfo(n,i,a){const o=Rs.getContextLogger(n);o&&o.info(i,this.getDefaultLogData(n,a))}logWarn(n,i,a){const o=Rs.getContextLogger(n);o&&o.warn(i,this.getDefaultLogData(n,a))}logError(n,i,a){const o=Rs.getContextLogger(n);o&&o.error(i,this.getDefaultLogData(n,a))}logFatal(n,i,a){const o=Rs.getContextLogger(n);o&&o.fatal(i,this.getDefaultLogData(n,a))}};return jf.Actor=t,jf}var Bf={},OD;function bQ(){if(OD)return Bf;OD=1,Object.defineProperty(Bf,"__esModule",{value:!0}),Bf.Mediator=void 0;let e=class lE{constructor(r){Object.assign(this,r)}publish(r){const n=this.bus.publish(r);if(n.length===0)throw new Error(`No actors are able to reply to a message in the bus ${this.bus.name}`);return n}async mediateActor(r){return await this.mediateWith(r,this.publish(r))}async mediateTestable(r){return(await this.mediateActor(r)).mapAsync((i,a)=>i.runObservable(r,a))}async mediate(r){return(await this.mediateTestable(r)).getOrThrow()}constructFailureMessage(r,n){const i=`
        `;return`${this.bus.failMessage.replaceAll(/\$\{(.*?)\}/gu,(o,s)=>lE.getObjectValue({action:r},s.split("."))||o)}
    Error messages of failing actors:${i}${n.join(i)}`}static getObjectValue(r,n){if(n.length===0)return r;if(r)return lE.getObjectValue(r[n[0]],n.slice(1))}};return Bf.Mediator=e,Bf}var un={},PD;function vQ(){if(PD)return un;PD=1,Object.defineProperty(un,"__esModule",{value:!0}),un.TestResultFailed=un.TestResultPassed=un.failTest=un.passTestVoidWithSideData=un.passTestWithSideData=un.passTestVoid=un.passTest=void 0;function e(s){return new a(s,void 0)}un.passTest=e;function t(){return new a(!0,void 0)}un.passTestVoid=t;function r(s,l){return new a(s,l)}un.passTestWithSideData=r;function n(s){return new a(!0,s)}un.passTestVoidWithSideData=n;function i(s){return new o(s)}un.failTest=i;class a{constructor(l,u){this.value=l,this.sideData=u}isPassed(){return!0}isFailed(){return!1}get(){return this.value}getOrThrow(){return this.value}getSideData(){return this.sideData}getFailMessage(){}map(l){return new a(l(this.value,this.sideData),this.sideData)}async mapAsync(l){return new a(await l(this.value,this.sideData),this.sideData)}}un.TestResultPassed=a;class o{constructor(l){this.failMessage=l}isPassed(){return!1}isFailed(){return!0}get(){}getOrThrow(){throw new Error(this.getFailMessage())}getSideData(){throw new Error(this.getFailMessage())}getFailMessage(){return this.failMessage}map(){return this}async mapAsync(){return this}}return un.TestResultFailed=o,un}var DD;function hr(){return DD||(DD=1,function(e){var t=Nf.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=Nf.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(o8(),e),r(s8(),e),r(yQ(),e),r(u8(),e),r(gQ(),e),r(_Q(),e),r(bQ(),e),r(vQ(),e)}(Nf)),Nf}var qf={},Ht={},ND;function wQ(){if(ND)return Ht;ND=1,Object.defineProperty(Ht,"__esModule",{value:!0}),Ht.KeysStatistics=Ht.KeysRdfJoin=Ht.KeysMergeBindingsContext=Ht.KeysRdfUpdateQuads=Ht.KeysQuerySourceIdentify=Ht.KeysRdfParseHtmlScript=Ht.KeysRdfParseJsonLd=Ht.KeysQueryOperation=Ht.KeysExpressionEvaluator=Ht.KeysInitQuery=Ht.KeysHttpProxy=Ht.KeysHttpMemento=Ht.KeysHttpWayback=Ht.KeysHttp=Ht.KeysCore=void 0;const e=hr();return Ht.KeysCore={log:e.CONTEXT_KEY_LOGGER},Ht.KeysHttp={includeCredentials:new e.ActionContextKey("@comunica/bus-http:include-credentials"),auth:new e.ActionContextKey("@comunica/bus-http:auth"),fetch:new e.ActionContextKey("@comunica/bus-http:fetch"),httpTimeout:new e.ActionContextKey("@comunica/bus-http:http-timeout"),httpBodyTimeout:new e.ActionContextKey("@comunica/bus-http:http-body-timeout"),httpRetryCount:new e.ActionContextKey("@comunica/bus-http:http-retry-count"),httpRetryDelayFallback:new e.ActionContextKey("@comunica/bus-http:http-retry-delay-fallback"),httpRetryDelayLimit:new e.ActionContextKey("@comunica/bus-http:http-retry-delay-limit"),httpRetryStatusCodes:new e.ActionContextKey("@comunica/bus-http:http-retry-status-codes")},Ht.KeysHttpWayback={recoverBrokenLinks:new e.ActionContextKey("@comunica/bus-http:recover-broken-links")},Ht.KeysHttpMemento={datetime:new e.ActionContextKey("@comunica/actor-http-memento:datetime")},Ht.KeysHttpProxy={httpProxyHandler:new e.ActionContextKey("@comunica/actor-http-proxy:httpProxyHandler")},Ht.KeysInitQuery={querySourcesUnidentified:new e.ActionContextKey("@comunica/actor-init-query:querySourcesUnidentified"),initialBindings:new e.ActionContextKey("@comunica/actor-init-query:initialBindings"),queryFormat:new e.ActionContextKey("@comunica/actor-init-query:queryFormat"),graphqlSingularizeVariables:new e.ActionContextKey("@comunica/actor-init-query:singularizeVariables"),lenient:new e.ActionContextKey("@comunica/actor-init-query:lenient"),queryString:new e.ActionContextKey("@comunica/actor-init-query:queryString"),query:new e.ActionContextKey("@comunica/actor-init-query:query"),baseIRI:new e.ActionContextKey("@comunica/actor-init-query:baseIRI"),functionArgumentsCache:new e.ActionContextKey("@comunica/actor-init-query:functionArgumentsCache"),queryTimestamp:new e.ActionContextKey("@comunica/actor-init-query:queryTimestamp"),queryTimestampHighResolution:new e.ActionContextKey("@comunica/actor-init-query:queryTimestampHighResolution"),extensionFunctionCreator:new e.ActionContextKey("@comunica/actor-init-query:extensionFunctionCreator"),extensionFunctions:new e.ActionContextKey("@comunica/actor-init-query:extensionFunctions"),cliArgsHandlers:new e.ActionContextKey("@comunica/actor-init-query:cliArgsHandlers"),explain:new e.ActionContextKey("@comunica/actor-init-query:explain"),physicalQueryPlanLogger:new e.ActionContextKey("@comunica/actor-init-query:physicalQueryPlanLogger"),physicalQueryPlanNode:new e.ActionContextKey("@comunica/actor-init-query:physicalQueryPlanNode"),jsonLdContext:new e.ActionContextKey("@context"),invalidateCache:new e.ActionContextKey("@comunica/actor-init-query:invalidateCache"),dataFactory:new e.ActionContextKey("@comunica/actor-init-query:dataFactory"),distinctConstruct:new e.ActionContextKey("@comunica/actor-init-query:distinctConstruct")},Ht.KeysExpressionEvaluator={extensionFunctionCreator:new e.ActionContextKey("@comunica/utils-expression-evaluator:extensionFunctionCreator"),superTypeProvider:new e.ActionContextKey("@comunica/utils-expression-evaluator:superTypeProvider"),defaultTimeZone:new e.ActionContextKey("@comunica/utils-expression-evaluator:defaultTimeZone"),actionContext:new e.ActionContextKey("@comunica/utils-expression-evaluator:actionContext")},Ht.KeysQueryOperation={operation:new e.ActionContextKey("@comunica/bus-query-operation:operation"),joinLeftMetadata:new e.ActionContextKey("@comunica/bus-query-operation:joinLeftMetadata"),joinRightMetadatas:new e.ActionContextKey("@comunica/bus-query-operation:joinRightMetadatas"),joinBindings:new e.ActionContextKey("@comunica/bus-query-operation:joinBindings"),readOnly:new e.ActionContextKey("@comunica/bus-query-operation:readOnly"),isPathArbitraryLengthDistinctKey:new e.ActionContextKey("@comunica/bus-query-operation:isPathArbitraryLengthDistinct"),limitIndicator:new e.ActionContextKey("@comunica/bus-query-operation:limitIndicator"),unionDefaultGraph:new e.ActionContextKey("@comunica/bus-query-operation:unionDefaultGraph"),querySources:new e.ActionContextKey("@comunica/bus-query-operation:querySources")},Ht.KeysRdfParseJsonLd={documentLoader:new e.ActionContextKey("@comunica/actor-rdf-parse-jsonld:documentLoader"),strictValues:new e.ActionContextKey("@comunica/actor-rdf-parse-jsonld:strictValues"),parserOptions:new e.ActionContextKey("@comunica/actor-rdf-parse-jsonld:parserOptions")},Ht.KeysRdfParseHtmlScript={processingHtmlScript:new e.ActionContextKey("@comunica/actor-rdf-parse-html-script:processingHtmlScript"),extractAllScripts:new e.ActionContextKey("extractAllScripts")},Ht.KeysQuerySourceIdentify={sourceIds:new e.ActionContextKey("@comunica/bus-query-source-identify:sourceIds"),hypermediaSourcesAggregatedStores:new e.ActionContextKey("@comunica/bus-query-source-identify:hypermediaSourcesAggregatedStores"),traverse:new e.ActionContextKey("@comunica/bus-query-source-identify:traverse")},Ht.KeysRdfUpdateQuads={destination:new e.ActionContextKey("@comunica/bus-rdf-update-quads:destination")},Ht.KeysMergeBindingsContext={sourcesBinding:new e.ActionContextKey("@comunica/bus-merge-bindings-context:sourcesBinding")},Ht.KeysRdfJoin={lastPhysicalJoin:new e.ActionContextKey("@comunica/bus-rdf-join:lastPhysicalJoin")},Ht.KeysStatistics={discoveredLinks:new e.ActionContextKey("@comunica/bus-context-preprocess:discoveredLinks"),dereferencedLinks:new e.ActionContextKey("@comunica/bus-context-preprocess:dereferencedLinks")},Ht}var CD;function Yi(){return CD||(CD=1,function(e){var t=qf.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=qf.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(wQ(),e)}(qf)),qf}var LD;function l8(){if(LD)return Df;LD=1,Object.defineProperty(Df,"__esModule",{value:!0}),Df.RdfDereferencerBase=void 0;const e=hr(),t=Yi(),r=Jr();let n=class{constructor(a){this.mediatorDereferenceRdf=a.mediatorDereferenceRdf}dereference(a,o={}){const s=new e.ActionContext(o).setDefault(t.KeysInitQuery.dataFactory,new r.DataFactory);return this.mediatorDereferenceRdf.mediate({context:typeof o.fetch=="function"?s.setDefault(t.KeysHttp.fetch,o.fetch):s,headers:new Headers(o.headers),method:o.method,url:a})}};return Df.RdfDereferencerBase=n,Df}var MD;function EQ(){if(MD)return Pf;MD=1,Object.defineProperty(Pf,"__esModule",{value:!0}),Pf.RdfDereferencer=void 0;const e=l8();class t extends e.RdfDereferencerBase{}return Pf.RdfDereferencer=t,Pf}var $f={},Uf={},kD;function SQ(){if(kD)return Uf;kD=1,Object.defineProperty(Uf,"__esModule",{value:!0}),Uf.MediatorRace=void 0;const e=hr();let t=class extends e.Mediator{constructor(n){super(n)}mediateWith(n,i){return new Promise((a,o)=>{const s=[];for(const l of i)l.reply.then(u=>{u.isPassed()?a((0,e.passTestWithSideData)(l.actor,u.getSideData())):(s.push(u.getFailMessage()),s.length===i.length&&a((0,e.failTest)(this.constructFailureMessage(n,s))))}).catch(u=>{o(u)})})}};return Uf.MediatorRace=t,Uf}var FD;function H1(){return FD||(FD=1,function(e){var t=$f.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=$f.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(SQ(),e)}($f)),$f}var Hf={},Vf={},zf={},Wf={},Pa={},jD;function dx(){if(jD)return Pa;jD=1,Object.defineProperty(Pa,"__esModule",{value:!0}),Pa.ActorDereferenceBase=Pa.isHardError=Pa.emptyReadable=void 0;const e=Yi(),t=hr(),r=Zi();function n(){const o=new r.Readable;return o.push(null),o}Pa.emptyReadable=n;function i(o){return!o.get(e.KeysInitQuery.lenient)}Pa.isHardError=i;let a=class extends t.Actor{constructor(s){super(s)}async dereferenceErrorHandler(s,l,u){if(i(s.context))throw l;return this.logWarn(s.context,l.message),{...u,data:n()}}};return Pa.ActorDereferenceBase=a,Pa}var BD;function xQ(){if(BD)return Wf;BD=1,Object.defineProperty(Wf,"__esModule",{value:!0}),Wf.ActorDereference=void 0;const e=dx();let t=class extends e.ActorDereferenceBase{constructor(n){super(n)}async handleDereferenceErrors(n,i,a,o=0){return this.dereferenceErrorHandler(n,i,{url:n.url,exists:!1,headers:a,requestTime:o})}};return Wf.ActorDereference=t,Wf}var cs={},qD;function TQ(){if(qD)return cs;qD=1,Object.defineProperty(cs,"__esModule",{value:!0}),cs.ActorDereferenceParse=cs.getMediaTypeFromExtension=void 0;const e=hr(),t=Zi(),r=dx();function n(a,o){const s=a.lastIndexOf(".");return s>=0&&(o==null?void 0:o[a.slice(s+1)])||""}cs.getMediaTypeFromExtension=n;let i=class extends r.ActorDereferenceBase{constructor(o){super(o)}async test(o){return(0,e.passTestVoid)()}handleDereferenceStreamErrors(o,s){return(0,r.isHardError)(o.context)||(s.on("error",l=>{this.logWarn(o.context,l.message,()=>({url:o.url})),s.push(null)}),s=s.pipe(new t.PassThrough({objectMode:!0}))),s}async run(o){var f,d;const{context:s}=o,l=await this.mediatorDereference.mediate({...o,mediaTypes:async()=>{var c,p;return(p=await((c=this.mediatorParseMediatypes)==null?void 0:c.mediate({context:s,mediaTypes:!0})))==null?void 0:p.mediaTypes}});let u;try{u=(await this.mediatorParse.mediate({context:s,handle:{context:s,...l,metadata:await this.getMetadata(l)},handleMediaType:l.mediaType||n(l.url,this.mediaMappings)||o.mediaType})).handle,u.data=this.handleDereferenceStreamErrors(o,u.data)}catch(c){await((d=(f=l.data).close)==null?void 0:d.call(f)),u=await this.dereferenceErrorHandler(o,c,{})}return{...l,...u}}};return cs.ActorDereferenceParse=i,cs}var $D;function hx(){return $D||($D=1,function(e){var t=zf.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=zf.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(xQ(),e),r(TQ(),e),r(dx(),e)}(zf)),zf}var UD;function RQ(){if(UD)return Vf;UD=1,Object.defineProperty(Vf,"__esModule",{value:!0}),Vf.ActorDereferenceFallback=void 0;const e=hx(),t=hr();let r=class extends e.ActorDereference{constructor(i){super(i)}async test(i){return(0,t.passTestVoid)()}async run(i){return this.handleDereferenceErrors(i,new Error(`Could not dereference '${i.url}'`))}};return Vf.ActorDereferenceFallback=r,Vf}var HD;function AQ(){return HD||(HD=1,function(e){var t=Hf.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=Hf.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(RQ(),e)}(Hf)),Hf}var Gf={},Kf={},Zf={},Yf={},V1={},ds={},VD;function IQ(){if(VD)return ds;VD=1,Object.defineProperty(ds,"__esModule",{value:!0}),ds.readableFromWeb=ds.ReadableFromWeb=void 0;const e=Zi();let t=class extends e.Readable{constructor(i,a){super(a),this.reader=i.getReader(),this.readerClosed=!1,this.reader.closed.then(()=>{this.readerClosed=!0}).catch(o=>{this.readerClosed=!0,this.destroy(o)})}_read(){this.reader.read().then(i=>this.push(i.done?null:i.value)).catch(i=>this.destroy(i))}destroy(i){return this.readerClosed||this.reader.cancel(i).then().catch(()=>{}),super.destroy(i)}};ds.ReadableFromWeb=t;function r(n,i){return new t(n,i)}return ds.readableFromWeb=r,ds}var zD;function OQ(){return zD||(zD=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.readableFromWeb=void 0;var t=IQ();Object.defineProperty(e,"readableFromWeb",{enumerable:!0,get:function(){return t.readableFromWeb}})}(V1)),V1}var z1={exports:{}},WD;function PQ(){return WD||(WD=1,function(e){e.exports=t,e.exports.WEBSTREAM_SUPPORT=typeof ReadableStream<"u";function t(r){if(!e.exports.WEBSTREAM_SUPPORT)throw new Error("No web ReadableStream support");var n=!1,i={};function a(l){i.data=f,i.end=f,i.end=d,i.close=d,i.error=d;for(var u in i)r.on(u,i[u]);r.pause();function f(c){n||(l.enqueue(c),r.pause())}function d(c){if(!n){n=!0;for(var p in i)r.removeListener(p,i[p]);c?l.error(c):l.close()}}}function o(){n||r.resume()}function s(){n=!0;for(var l in i)r.removeListener(l,i[l]);r.push(null),r.pause(),r.destroy?r.destroy():r.close&&r.close()}return new ReadableStream({start:a,pull:o,cancel:s})}}(z1)),z1.exports}var GD;function c8(){if(GD)return Yf;GD=1,Object.defineProperty(Yf,"__esModule",{value:!0}),Yf.ActorHttp=void 0;const e=hr(),t=OQ(),r=AS(),n=PQ();let i=class f8 extends e.Actor{constructor(o){super(o)}static toNodeReadable(o){return r(o)||o===null?o:(0,t.readableFromWeb)(o)}static toWebReadableStream(o){return n(o)}static headersToHash(o){const s={};return o.forEach((l,u)=>{s[u]=l}),s}static getInputUrl(o){return new URL(o instanceof Request?o.url:o)}static createUserAgent(o,s){if(!f8.isBrowser()){const l=[`Comunica/${s.split(".")[0]}.0`,`${o}/${s}`];return typeof globalThis.navigator=="object"&&typeof globalThis.navigator.userAgent=="string"?l.push(globalThis.navigator.userAgent):typeof globalThis.process=="object"&&typeof globalThis.process.versions=="object"&&typeof globalThis.process.versions.node=="string"&&l.push(`Node.js/${globalThis.process.versions.node.split(".")[0]}`),typeof globalThis.process=="object"&&typeof globalThis.process.platform=="string"&&typeof globalThis.process.arch=="string"&&l.splice(1,0,`(${globalThis.process.platform}; ${globalThis.process.arch})`),l.join(" ")}}static isBrowser(){return typeof globalThis.window=="object"&&typeof globalThis.window.document=="object"||typeof globalThis.importScripts=="function"}};return Yf.ActorHttp=i,Yf}var Qf={},Xf={},Jf={},KD;function DQ(){if(KD)return Jf;KD=1,Object.defineProperty(Jf,"__esModule",{value:!0}),Jf.promisifyEventEmitter=void 0;function e(t,r){return new Promise((n,i)=>{t.on("end",()=>n(r)),t.on("error",i)})}return Jf.promisifyEventEmitter=e,Jf}var ZD;function zm(){if(ZD)return Xf;ZD=1;var e=Xf.__awaiter||function(n,i,a,o){function s(l){return l instanceof a?l:new a(function(u){u(l)})}return new(a||(a=Promise))(function(l,u){function f(p){try{c(o.next(p))}catch(b){u(b)}}function d(p){try{c(o.throw(p))}catch(b){u(b)}}function c(p){p.done?l(p.value):s(p.value).then(f,d)}c((o=o.apply(n,i||[])).next())})};Object.defineProperty(Xf,"__esModule",{value:!0}),Xf.stringify=r;const t=DQ();function r(n){return e(this,void 0,void 0,function*(){let i="";return n.on("data",a=>{i+=a}),yield(0,t.promisifyEventEmitter)(n),i})}return Xf}var YD;function NQ(){if(YD)return Qf;YD=1,Object.defineProperty(Qf,"__esModule",{value:!0}),Qf.validateAndCloseHttpResponse=void 0;const e=zm(),t=c8();async function r(n,i){var a;if(i.status>=400){let o="empty response";if(i.body){const s=t.ActorHttp.toNodeReadable(i.body);o=await(0,e.stringify)(s)}throw new Error(`Could not update ${n} (HTTP status ${i.status}):
${o}`)}await((a=i.body)==null?void 0:a.cancel())}return Qf.validateAndCloseHttpResponse=r,Qf}var QD;function Wm(){return QD||(QD=1,function(e){var t=Zf.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=Zf.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(c8(),e),r(NQ(),e)}(Zf)),Zf}const CQ="@comunica/actor-http-fetch",LQ="4.0.2",MQ="A fetch http actor",kQ="MIT",FQ={type:"opencollective",url:"https://opencollective.com/comunica-association"},jQ="https://comunica.dev/",BQ={type:"git",url:"https://github.com/comunica/comunica.git",directory:"packages/actor-http-fetch"},qQ={url:"https://github.com/comunica/comunica/issues"},$Q=["comunica","runner"],UQ=!1,HQ="lib/index.js",VQ="lib/index",zQ={access:"public"},WQ=["components","lib/**/*.d.ts","lib/**/*.js","lib/**/*.js.map"],GQ={build:"yarn run build:ts && yarn run build:components","build:ts":'node "../../node_modules/typescript/bin/tsc"',"build:components":"componentsjs-generator"},KQ={"@comunica/bus-http":"^4.0.2","@comunica/context-entries":"^4.0.2","@comunica/core":"^4.0.2","@comunica/mediatortype-time":"^4.0.2"},ZQ={"./lib/FetchInitPreprocessor.js":"./lib/FetchInitPreprocessor-browser.js"},YQ="b60deab76821557f8d027208ab743d3c66fc60ea",QQ={name:CQ,version:LQ,description:MQ,"lsd:module":!0,license:kQ,funding:FQ,homepage:jQ,repository:BQ,bugs:qQ,keywords:$Q,sideEffects:UQ,main:HQ,typings:VQ,publishConfig:zQ,files:WQ,scripts:GQ,dependencies:KQ,browser:ZQ,gitHead:YQ};var ec={},XD;function XQ(){if(XD)return ec;XD=1,Object.defineProperty(ec,"__esModule",{value:!0}),ec.FetchInitPreprocessor=void 0;class e{async handle(r){if(r.body&&typeof r.body!="string"&&"getReader"in r.body){const n=r.body.getReader(),i=[];for(;;){const{done:a,value:o}=await n.read();if(a)break;i.push(o)}r.body=i.join("")}return{...r,keepalive:!r.body}}}return ec.FetchInitPreprocessor=e,ec}var JD;function JQ(){if(JD)return Kf;JD=1,Object.defineProperty(Kf,"__esModule",{value:!0}),Kf.ActorHttpFetch=void 0;const e=Wm(),t=Yi(),r=hr(),n=QQ,i=XQ();let a=class fE extends e.ActorHttp{constructor(s){super(s),this.fetchInitPreprocessor=new i.FetchInitPreprocessor(s.agentOptions)}async test(s){return(0,r.passTest)({time:Number.POSITIVE_INFINITY})}async run(s){const l=this.prepareRequestHeaders(s),u={method:"GET",...s.init,headers:l};this.logInfo(s.context,`Requesting ${e.ActorHttp.getInputUrl(s.input).href}`,()=>({headers:e.ActorHttp.headersToHash(l),method:u.method})),s.context.has(t.KeysHttp.fetch)&&(u.headers=e.ActorHttp.headersToHash(l)),s.context.get(t.KeysHttp.includeCredentials)&&(u.credentials="include");const f=s.context.get(t.KeysHttp.httpTimeout),d=s.context.get(t.KeysHttp.httpBodyTimeout),c=s.context.get(t.KeysHttp.fetch)??fetch,p=await this.fetchInitPreprocessor.handle(u);let b,v;if(f){const y=new AbortController;p.signal=y.signal,b=()=>y.abort(new Error(`Fetch timed out for ${e.ActorHttp.getInputUrl(s.input).href} after ${f} ms`)),v=setTimeout(()=>b(),f)}const _=await c(s.input,p);return f&&(!d||!_.body)&&clearTimeout(v),_}prepareRequestHeaders(s){var f;const l=new Headers((f=s.init)==null?void 0:f.headers);e.ActorHttp.isBrowser()?l.delete("user-agent"):l.has("user-agent")||l.set("user-agent",fE.userAgent);const u=s.context.get(t.KeysHttp.auth);return u&&l.set("Authorization",`Basic ${fE.stringToBase64(u)}`),l}static stringToBase64(s){const l=new TextEncoder().encode(s),u=Array.from(l,f=>String.fromCodePoint(f)).join("");return btoa(u)}};return Kf.ActorHttpFetch=a,a.userAgent=e.ActorHttp.createUserAgent("ActorHttpFetch",n.version),Kf}var eN;function eX(){return eN||(eN=1,function(e){var t=Gf.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=Gf.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(JQ(),e)}(Gf)),Gf}var tc={},rc={},tN;function tX(){if(tN)return rc;tN=1,Object.defineProperty(rc,"__esModule",{value:!0}),rc.MediatorNumber=void 0;const e=hr();let t=class extends e.Mediator{constructor(n){super(n),this.indexPicker=this.createIndexPicker()}createIndexPicker(){switch(this.type){case"min":return n=>n.reduce((i,a,o)=>{const s=this.getOrDefault(a[this.field],Number.POSITIVE_INFINITY);return s!==null&&(Number.isNaN(i[0])||i[0]>s)?[s,o]:i},[Number.NaN,-1])[1];case"max":return n=>n.reduce((i,a,o)=>{const s=this.getOrDefault(a[this.field],Number.NEGATIVE_INFINITY);return s!==null&&(Number.isNaN(i[0])||i[0]<s)?[s,o]:i},[Number.NaN,-1])[1];default:throw new Error(`No valid "type" value was given, must be either 'min' or 'max', but got: ${this.type}`)}}getOrDefault(n,i){return n===void 0?i:n}async mediateWith(n,i){let a=await Promise.all(i.map(({reply:f})=>f));const o=[];if(this.ignoreFailures){const f={};f[this.field]=null,a=a.map(d=>d.isFailed()?(o.push(d.getFailMessage()),(0,e.passTestWithSideData)(f,void 0)):d)}const s=[],l=a.map((f,d)=>{const c=f.getOrThrow();return s[d]=f.getSideData(),c}),u=this.indexPicker(l);return u<0?(0,e.failTest)(this.constructFailureMessage(n,o)):(0,e.passTestWithSideData)(i[u].actor,s[u])}};return rc.MediatorNumber=t,rc}var rN;function rX(){return rN||(rN=1,function(e){var t=tc.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=tc.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(tX(),e)}(tc)),tc}var nc={},ic={},ac={},oc={},sc={},uc={},nN;function d8(){if(nN)return uc;nN=1,Object.defineProperty(uc,"__esModule",{value:!0}),uc.ActorAbstractMediaTyped=void 0;const e=hr();let t=class extends e.Actor{constructor(n){super(n)}async run(n){if("handle"in n){const i=n;return{handle:await this.runHandle(i.handle,i.handleMediaType,n.context)}}if("mediaTypes"in n)return{mediaTypes:await this.getMediaTypes(n.context)};if("mediaTypeFormats"in n)return{mediaTypeFormats:await this.getMediaTypeFormats(n.context)};throw new Error("Either a handle, mediaTypes or mediaTypeFormats action needs to be provided")}async test(n){if("handle"in n){const i=n;return(await this.testHandle(i.handle,i.handleMediaType,n.context)).map(a=>({handle:a}))}return"mediaTypes"in n?(await this.testMediaType(n.context)).map(i=>({mediaTypes:i})):"mediaTypeFormats"in n?(await this.testMediaTypeFormats(n.context)).map(i=>({mediaTypeFormats:i})):(0,e.failTest)("Either a handle, mediaTypes or mediaTypeFormats action needs to be provided")}};return uc.ActorAbstractMediaTyped=t,uc}var lc={},iN;function nX(){if(iN)return lc;iN=1,Object.defineProperty(lc,"__esModule",{value:!0}),lc.ActorAbstractMediaTypedFixed=void 0;const e=hr(),t=d8();let r=class extends t.ActorAbstractMediaTyped{constructor(i){super(i);const a=this.priorityScale||this.priorityScale===0?this.priorityScale:1;if(this.mediaTypePriorities)for(const[o,[s,l]]of Object.entries(this.mediaTypePriorities).entries())this.mediaTypePriorities[s]=a*l;this.mediaTypePriorities=Object.freeze(this.mediaTypePriorities),this.mediaTypeFormats=Object.freeze(this.mediaTypeFormats)}async testHandle(i,a,o){return!a||!(a in this.mediaTypePriorities)?(0,e.failTest)(`Unrecognized media type: ${a}`):await this.testHandleChecked(i,o)}async testMediaType(i){return(0,e.passTestVoid)()}async getMediaTypes(i){return this.mediaTypePriorities}async testMediaTypeFormats(i){return(0,e.passTestVoid)()}async getMediaTypeFormats(i){return this.mediaTypeFormats}};return lc.ActorAbstractMediaTypedFixed=r,lc}var aN;function h8(){return aN||(aN=1,function(e){var t=sc.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=sc.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(d8(),e),r(nX(),e)}(sc)),sc}var oN;function iX(){if(oN)return oc;oN=1,Object.defineProperty(oc,"__esModule",{value:!0}),oc.ActorRdfParse=void 0;const e=h8();let t=class extends e.ActorAbstractMediaTyped{constructor(n){super(n)}};return oc.ActorRdfParse=t,oc}var fc={},sN;function aX(){if(sN)return fc;sN=1,Object.defineProperty(fc,"__esModule",{value:!0}),fc.ActorRdfParseFixedMediaTypes=void 0;const e=h8(),t=hr();let r=class extends e.ActorAbstractMediaTypedFixed{constructor(i){super(i)}async testHandleChecked(i){return(0,t.passTestVoid)()}};return fc.ActorRdfParseFixedMediaTypes=r,fc}var uN;function bl(){return uN||(uN=1,function(e){var t=ac.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=ac.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(iX(),e),r(aX(),e)}(ac)),ac}const p8=el(Az);var lN;function oX(){if(lN)return ic;lN=1,Object.defineProperty(ic,"__esModule",{value:!0}),ic.ActorRdfParseN3=void 0;const e=bl(),t=Yi(),r=p8;let n=class extends e.ActorRdfParseFixedMediaTypes{constructor(a){super(a)}async runHandle(a,o,s){var f;const l=a.context.getSafe(t.KeysInitQuery.dataFactory);a.data.on("error",d=>u.emit("error",d));const u=a.data.pipe(new r.StreamParser({factory:l,baseIRI:(f=a.metadata)==null?void 0:f.baseIRI,format:o.endsWith("n3")?o:`${o}*`}));return{data:u,metadata:{triples:o==="text/turtle"||o==="application/n-triples"||o==="text/n3"}}}};return ic.ActorRdfParseN3=n,ic}var fN;function sX(){return fN||(fN=1,function(e){var t=nc.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=nc.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(oX(),e)}(nc)),nc}var cc={},dc={},hc={},hs={},pc={},Da={},cN;function uX(){if(cN)return Da;cN=1,Object.defineProperty(Da,"__esModule",{value:!0}),Da.removeDotSegmentsOfPath=Da.removeDotSegments=Da.resolve=void 0;function e(i,a){a=a||"";const o=a.indexOf("#");if(o>0&&(a=a.substr(0,o)),!i.length){if(a.indexOf(":")<0)throw new Error(`Found invalid baseIRI '${a}' for value '${i}'`);return a}if(i.startsWith("?")){const p=a.indexOf("?");return p>0&&(a=a.substr(0,p)),a+i}if(i.startsWith("#"))return a+i;if(!a.length){const p=i.indexOf(":");if(p<0)throw new Error(`Found invalid relative IRI '${i}' for a missing baseIRI`);return r(i,p)}const s=i.indexOf(":");if(s>=0)return r(i,s);const l=a.indexOf(":");if(l<0)throw new Error(`Found invalid baseIRI '${a}' for value '${i}'`);const u=a.substr(0,l+1);if(i.indexOf("//")===0)return u+r(i,s);let f;if(a.indexOf("//",l)===l+1){if(f=a.indexOf("/",l+3),f<0)return a.length>l+3?a+"/"+r(i,s):u+r(i,s)}else if(f=a.indexOf("/",l+1),f<0)return u+r(i,s);if(i.indexOf("/")===0)return a.substr(0,f)+t(i);let d=a.substr(f);const c=d.lastIndexOf("/");return c>=0&&c<d.length-1&&(d=d.substr(0,c+1),i[0]==="."&&i[1]!=="."&&i[1]!=="/"&&i[2]&&(i=i.substr(1))),i=d+i,i=t(i),a.substr(0,f)+i}Da.resolve=e;function t(i){const a=[];let o=0;for(;o<i.length;)switch(i[o]){case"/":if(i[o+1]===".")if(i[o+2]==="."){if(!n(i[o+3])){a.push([]),o++;break}a.pop(),i[o+3]||a.push([]),o+=3}else{if(!n(i[o+2])){a.push([]),o++;break}i[o+2]||a.push([]),o+=2}else a.push([]),o++;break;case"#":case"?":a.length||a.push([]),a[a.length-1].push(i.substr(o)),o=i.length;break;default:a.length||a.push([]),a[a.length-1].push(i[o]),o++;break}return"/"+a.map(s=>s.join("")).join("/")}Da.removeDotSegments=t;function r(i,a){let o=a+1;a>=0?i[a+1]==="/"&&i[a+2]==="/"&&(o=a+3):i[0]==="/"&&i[1]==="/"&&(o=2);const s=i.indexOf("/",o);if(s<0)return i;const l=i.substr(0,s),u=i.substr(s);return l+t(u)}Da.removeDotSegmentsOfPath=r;function n(i){return!i||i==="#"||i==="?"||i==="/"}return Da}var dN;function Oi(){return dN||(dN=1,function(e){var t=pc.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[a]}})}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=pc.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(uX(),e)}(pc)),pc}var ps={},W1={},hN;function lX(){return hN||(hN=1,function(e){/**
 * Character classes and associated utilities for the 5th edition of XML 1.0.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */Object.defineProperty(e,"__esModule",{value:!0}),e.CHAR=`	
\r ---`,e.S=` 	\r
`,e.NAME_START_CHAR=":A-Z_a-z-----------",e.NAME_CHAR="-"+e.NAME_START_CHAR+".0-9--",e.CHAR_RE=new RegExp("^["+e.CHAR+"]$","u"),e.S_RE=new RegExp("^["+e.S+"]+$","u"),e.NAME_START_CHAR_RE=new RegExp("^["+e.NAME_START_CHAR+"]$","u"),e.NAME_CHAR_RE=new RegExp("^["+e.NAME_CHAR+"]$","u"),e.NAME_RE=new RegExp("^["+e.NAME_START_CHAR+"]["+e.NAME_CHAR+"]*$","u"),e.NMTOKEN_RE=new RegExp("^["+e.NAME_CHAR+"]+$","u");var t=9,r=10,n=13,i=32;e.S_LIST=[i,r,n,t];function a(u){return u>=i&&u<=55295||u===r||u===n||u===t||u>=57344&&u<=65533||u>=65536&&u<=1114111}e.isChar=a;function o(u){return u===i||u===r||u===n||u===t}e.isS=o;function s(u){return u>=65&&u<=90||u>=97&&u<=122||u===58||u===95||u===8204||u===8205||u>=192&&u<=214||u>=216&&u<=246||u>=248&&u<=767||u>=880&&u<=893||u>=895&&u<=8191||u>=8304&&u<=8591||u>=11264&&u<=12271||u>=12289&&u<=55295||u>=63744&&u<=64975||u>=65008&&u<=65533||u>=65536&&u<=983039}e.isNameStartChar=s;function l(u){return s(u)||u>=48&&u<=57||u===45||u===46||u===183||u>=768&&u<=879||u>=8255&&u<=8256}e.isNameChar=l}(W1)),W1}var G1={},pN;function fX(){return pN||(pN=1,function(e){/**
 * Character classes and associated utilities for the 2nd edition of XML 1.1.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */Object.defineProperty(e,"__esModule",{value:!0}),e.CHAR="---",e.RESTRICTED_CHAR="-\b\v\f---",e.S=` 	\r
`,e.NAME_START_CHAR=":A-Z_a-z-----------",e.NAME_CHAR="-"+e.NAME_START_CHAR+".0-9--",e.CHAR_RE=new RegExp("^["+e.CHAR+"]$","u"),e.RESTRICTED_CHAR_RE=new RegExp("^["+e.RESTRICTED_CHAR+"]$","u"),e.S_RE=new RegExp("^["+e.S+"]+$","u"),e.NAME_START_CHAR_RE=new RegExp("^["+e.NAME_START_CHAR+"]$","u"),e.NAME_CHAR_RE=new RegExp("^["+e.NAME_CHAR+"]$","u"),e.NAME_RE=new RegExp("^["+e.NAME_START_CHAR+"]["+e.NAME_CHAR+"]*$","u"),e.NMTOKEN_RE=new RegExp("^["+e.NAME_CHAR+"]+$","u");var t=9,r=10,n=13,i=32;e.S_LIST=[i,r,n,t];function a(d){return d>=1&&d<=55295||d>=57344&&d<=65533||d>=65536&&d<=1114111}e.isChar=a;function o(d){return d>=1&&d<=8||d===11||d===12||d>=14&&d<=31||d>=127&&d<=132||d>=134&&d<=159}e.isRestrictedChar=o;function s(d){return d===9||d===10||d===13||d>31&&d<127||d===133||d>159&&d<=55295||d>=57344&&d<=65533||d>=65536&&d<=1114111}e.isCharAndNotRestricted=s;function l(d){return d===i||d===r||d===n||d===t}e.isS=l;function u(d){return d>=65&&d<=90||d>=97&&d<=122||d===58||d===95||d===8204||d===8205||d>=192&&d<=214||d>=216&&d<=246||d>=248&&d<=767||d>=880&&d<=893||d>=895&&d<=8191||d>=8304&&d<=8591||d>=11264&&d<=12271||d>=12289&&d<=55295||d>=63744&&d<=64975||d>=65008&&d<=65533||d>=65536&&d<=983039}e.isNameStartChar=u;function f(d){return u(d)||d>=48&&d<=57||d===45||d===46||d===183||d>=768&&d<=879||d>=8255&&d<=8256}e.isNameChar=f}(G1)),G1}var K1={},mN;function cX(){return mN||(mN=1,function(e){/**
 * Character class utilities for XML NS 1.0 edition 3.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */Object.defineProperty(e,"__esModule",{value:!0}),e.NC_NAME_START_CHAR="A-Z_a-z------------",e.NC_NAME_CHAR="-"+e.NC_NAME_START_CHAR+".0-9--",e.NC_NAME_START_CHAR_RE=new RegExp("^["+e.NC_NAME_START_CHAR+"]$","u"),e.NC_NAME_CHAR_RE=new RegExp("^["+e.NC_NAME_CHAR+"]$","u"),e.NC_NAME_RE=new RegExp("^["+e.NC_NAME_START_CHAR+"]["+e.NC_NAME_CHAR+"]*$","u");function t(n){return n>=65&&n<=90||n===95||n>=97&&n<=122||n>=192&&n<=214||n>=216&&n<=246||n>=248&&n<=767||n>=880&&n<=893||n>=895&&n<=8191||n>=8204&&n<=8205||n>=8304&&n<=8591||n>=11264&&n<=12271||n>=12289&&n<=55295||n>=63744&&n<=64975||n>=65008&&n<=65533||n>=65536&&n<=983039}e.isNCNameStartChar=t;function r(n){return t(n)||n===45||n===46||n>=48&&n<=57||n===183||n>=768&&n<=879||n>=8255&&n<=8256}e.isNCNameChar=r}(K1)),K1}var yN;function dX(){if(yN)return ps;yN=1,Object.defineProperty(ps,"__esModule",{value:!0}),ps.SaxesParser=ps.EVENTS=void 0;const e=lX(),t=fX(),r=cX();var n=e.isS,i=e.isChar,a=e.isNameStartChar,o=e.isNameChar,s=e.S_LIST,l=e.NAME_RE,u=t.isChar,f=r.isNCNameStartChar,d=r.isNCNameChar,c=r.NC_NAME_RE;const p="http://www.w3.org/XML/1998/namespace",b="http://www.w3.org/2000/xmlns/",v={__proto__:null,xml:p,xmlns:b},_={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},y=-1,m=-2,g=0,E=1,T=2,I=3,D=4,B=5,N=6,M=7,j=8,O=9,q=10,Q=11,ie=12,X=13,le=14,ae=15,ne=16,V=17,oe=18,he=19,Y=20,Z=21,ee=22,P=23,A=24,$=25,te=26,pe=27,R=28,w=29,x=30,k=31,U=32,re=33,fe=34,ve=35,ce=36,Ie=37,be=38,xe=39,je=40,Ae=41,Pe=42,ke=43,Ze=44,Ue=9,it=10,ye=13,F=32,K=33,_e=34,Oe=38,se=39,ge=45,de=47,Re=59,qe=60,H=61,Te=62,Ce=63,me=91,Me=93,Ve=133,ft=8232,we=at=>at===_e||at===se,G=[_e,se],W=[...G,me,Te],J=[...G,qe,Me],Ee=[H,Ce,...s],Le=[...s,Te,Oe,qe];function Ne(at,De,We){switch(De){case"xml":We!==p&&at.fail(`xml prefix must be bound to ${p}.`);break;case"xmlns":We!==b&&at.fail(`xmlns prefix must be bound to ${b}.`);break}switch(We){case b:at.fail(De===""?`the default namespace may not be set to ${We}.`:`may not assign a prefix (even "xmlns") to the URI ${b}.`);break;case p:switch(De){case"xml":break;case"":at.fail(`the default namespace may not be set to ${We}.`);break;default:at.fail("may not assign the xml namespace to another prefix.")}break}}function He(at,De){for(const We of Object.keys(De))Ne(at,We,De[We])}const $e=at=>c.test(at),ut=at=>l.test(at),lt=0,dt=1,ct=2;ps.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const nt={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};class lr{get closed(){return this._closed}constructor(De){this.opt=De??{},this.fragmentOpt=!!this.opt.fragment;const We=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,We){this.nameStartCheck=f,this.nameCheck=d,this.isName=$e,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},v);const Ge=this.opt.additionalNamespaces;Ge!=null&&(He(this,Ge),Object.assign(this.ns,Ge))}else this.nameStartCheck=a,this.nameCheck=o,this.isName=ut,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}_init(){var De;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=lt,this.attribList=[];const{fragmentOpt:We}=this;this.state=We?X:g,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=We,this.xmlDeclPossible=!We,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:Ge}=this.opt;if(Ge===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");Ge="1.0"}this.setXMLVersion(Ge),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(_),(De=this.readyHandler)===null||De===void 0||De.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(De,We){this[nt[De]]=We}off(De){this[nt[De]]=void 0}makeError(De){var We;let Ge=(We=this.fileName)!==null&&We!==void 0?We:"";return this.trackPosition&&(Ge.length>0&&(Ge+=":"),Ge+=`${this.line}:${this.column}`),Ge.length>0&&(Ge+=": "),new Error(Ge+De)}fail(De){const We=this.makeError(De),Ge=this.errorHandler;if(Ge===void 0)throw We;return Ge(We),this}write(De){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let We=!1;De===null?(We=!0,De=""):typeof De=="object"&&(De=De.toString()),this.carriedFromPrevious!==void 0&&(De=`${this.carriedFromPrevious}${De}`,this.carriedFromPrevious=void 0);let Ge=De.length;const ht=De.charCodeAt(Ge-1);!We&&(ht===ye||ht>=55296&&ht<=56319)&&(this.carriedFromPrevious=De[Ge-1],Ge--,De=De.slice(0,Ge));const{stateTable:gt}=this;for(this.chunk=De,this.i=0;this.i<Ge;)gt[this.state].call(this);return this.chunkPosition+=Ge,We?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:De,i:We}=this;if(this.prevI=We,this.i=We+1,We>=De.length)return y;const Ge=De.charCodeAt(We);if(this.column++,Ge<55296){if(Ge>=F||Ge===Ue)return Ge;switch(Ge){case it:return this.line++,this.column=0,this.positionAtNewLine=this.position,it;case ye:return De.charCodeAt(We+1)===it&&(this.i=We+2),this.line++,this.column=0,this.positionAtNewLine=this.position,m;default:return this.fail("disallowed character."),Ge}}if(Ge>56319)return Ge>=57344&&Ge<=65533||this.fail("disallowed character."),Ge;const ht=65536+(Ge-55296)*1024+(De.charCodeAt(We+1)-56320);return this.i=We+2,ht>1114111&&this.fail("disallowed character."),ht}getCode11(){const{chunk:De,i:We}=this;if(this.prevI=We,this.i=We+1,We>=De.length)return y;const Ge=De.charCodeAt(We);if(this.column++,Ge<55296){if(Ge>31&&Ge<127||Ge>159&&Ge!==ft||Ge===Ue)return Ge;switch(Ge){case it:return this.line++,this.column=0,this.positionAtNewLine=this.position,it;case ye:{const gt=De.charCodeAt(We+1);(gt===it||gt===Ve)&&(this.i=We+2)}case Ve:case ft:return this.line++,this.column=0,this.positionAtNewLine=this.position,m;default:return this.fail("disallowed character."),Ge}}if(Ge>56319)return Ge>=57344&&Ge<=65533||this.fail("disallowed character."),Ge;const ht=65536+(Ge-55296)*1024+(De.charCodeAt(We+1)-56320);return this.i=We+2,ht>1114111&&this.fail("disallowed character."),ht}getCodeNorm(){const De=this.getCode();return De===m?it:De}unget(){this.i=this.prevI,this.column--}captureTo(De){let{i:We}=this;const{chunk:Ge}=this;for(;;){const ht=this.getCode(),gt=ht===m,Dt=gt?it:ht;if(Dt===y||De.includes(Dt))return this.text+=Ge.slice(We,this.prevI),Dt;gt&&(this.text+=`${Ge.slice(We,this.prevI)}
`,We=this.i)}}captureToChar(De){let{i:We}=this;const{chunk:Ge}=this;for(;;){let ht=this.getCode();switch(ht){case m:this.text+=`${Ge.slice(We,this.prevI)}
`,We=this.i,ht=it;break;case y:return this.text+=Ge.slice(We),!1}if(ht===De)return this.text+=Ge.slice(We,this.prevI),!0}}captureNameChars(){const{chunk:De,i:We}=this;for(;;){const Ge=this.getCode();if(Ge===y)return this.name+=De.slice(We),y;if(!o(Ge))return this.name+=De.slice(We,this.prevI),Ge===m?it:Ge}}skipSpaces(){for(;;){const De=this.getCodeNorm();if(De===y||!n(De))return De}}setXMLVersion(De){this.currentXMLVersion=De,De==="1.0"?(this.isChar=i,this.getCode=this.getCode10):(this.isChar=u,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=E}sBeginWhitespace(){const De=this.i,We=this.skipSpaces();switch(this.prevI!==De&&(this.xmlDeclPossible=!1),We){case qe:if(this.state=ae,this.text.length!==0)throw new Error("no-empty text at start");break;case y:break;default:this.unget(),this.state=X,this.xmlDeclPossible=!1}}sDoctype(){var De;const We=this.captureTo(W);switch(We){case Te:{(De=this.doctypeHandler)===null||De===void 0||De.call(this,this.text),this.text="",this.state=X,this.doctype=!0;break}case y:break;default:this.text+=String.fromCodePoint(We),We===me?this.state=D:we(We)&&(this.state=I,this.q=We)}}sDoctypeQuote(){const De=this.q;this.captureToChar(De)&&(this.text+=String.fromCodePoint(De),this.q=null,this.state=T)}sDTD(){const De=this.captureTo(J);De!==y&&(this.text+=String.fromCodePoint(De),De===Me?this.state=T:De===qe?this.state=N:we(De)&&(this.state=B,this.q=De))}sDTDQuoted(){const De=this.q;this.captureToChar(De)&&(this.text+=String.fromCodePoint(De),this.state=D,this.q=null)}sDTDOpenWaka(){const De=this.getCodeNorm();switch(this.text+=String.fromCodePoint(De),De){case K:this.state=M,this.openWakaBang="";break;case Ce:this.state=Q;break;default:this.state=D}}sDTDOpenWakaBang(){const De=String.fromCodePoint(this.getCodeNorm()),We=this.openWakaBang+=De;this.text+=De,We!=="-"&&(this.state=We==="--"?j:D,this.openWakaBang="")}sDTDComment(){this.captureToChar(ge)&&(this.text+="-",this.state=O)}sDTDCommentEnding(){const De=this.getCodeNorm();this.text+=String.fromCodePoint(De),this.state=De===ge?q:j}sDTDCommentEnded(){const De=this.getCodeNorm();this.text+=String.fromCodePoint(De),De===Te?this.state=D:(this.fail("malformed comment."),this.state=j)}sDTDPI(){this.captureToChar(Ce)&&(this.text+="?",this.state=ie)}sDTDPIEnding(){const De=this.getCodeNorm();this.text+=String.fromCodePoint(De),De===Te&&(this.state=D)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:De}=this;const{chunk:We}=this;e:for(;;)switch(this.getCode()){case m:this.entity+=`${We.slice(De,this.prevI)}
`,De=this.i;break;case Re:{const{entityReturnState:Ge}=this,ht=this.entity+We.slice(De,this.prevI);this.state=Ge;let gt;ht===""?(this.fail("empty entity name."),gt="&;"):(gt=this.parseEntity(ht),this.entity=""),(Ge!==X||this.textHandler!==void 0)&&(this.text+=gt);break e}case y:this.entity+=We.slice(De);break e}}sOpenWaka(){const De=this.getCode();if(a(De))this.state=fe,this.unget(),this.xmlDeclPossible=!1;else switch(De){case de:this.state=ke,this.xmlDeclPossible=!1;break;case K:this.state=ne,this.openWakaBang="",this.xmlDeclPossible=!1;break;case Ce:this.state=P;break;default:this.fail("disallowed character in tag name"),this.state=X,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":!this.sawRoot&&!this.reportedTextBeforeRoot&&(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=Y,this.openWakaBang="";break;case"--":this.state=V,this.openWakaBang="";break;case"DOCTYPE":this.state=T,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(ge)&&(this.state=oe)}sCommentEnding(){var De;const We=this.getCodeNorm();We===ge?(this.state=he,(De=this.commentHandler)===null||De===void 0||De.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(We)}`,this.state=V)}sCommentEnded(){const De=this.getCodeNorm();De!==Te?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(De)}`,this.state=V):this.state=X}sCData(){this.captureToChar(Me)&&(this.state=Z)}sCDataEnding(){const De=this.getCodeNorm();De===Me?this.state=ee:(this.text+=`]${String.fromCodePoint(De)}`,this.state=Y)}sCDataEnding2(){var De;const We=this.getCodeNorm();switch(We){case Te:{(De=this.cdataHandler)===null||De===void 0||De.call(this,this.text),this.text="",this.state=X;break}case Me:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(We)}`,this.state=Y}}sPIFirstChar(){const De=this.getCodeNorm();this.nameStartCheck(De)?(this.piTarget+=String.fromCodePoint(De),this.state=A):De===Ce||n(De)?(this.fail("processing instruction without a target."),this.state=De===Ce?te:$):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(De),this.state=A)}sPIRest(){const{chunk:De,i:We}=this;for(;;){const Ge=this.getCodeNorm();if(Ge===y){this.piTarget+=De.slice(We);return}if(!this.nameCheck(Ge)){this.piTarget+=De.slice(We,this.prevI);const ht=Ge===Ce;ht||n(Ge)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=ht?re:pe):this.state=ht?te:$:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(Ge));break}}}sPIBody(){if(this.text.length===0){const De=this.getCodeNorm();De===Ce?this.state=te:n(De)||(this.text=String.fromCodePoint(De))}else this.captureToChar(Ce)&&(this.state=te)}sPIEnding(){var De;const We=this.getCodeNorm();if(We===Te){const{piTarget:Ge}=this;Ge.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(De=this.piHandler)===null||De===void 0||De.call(this,{target:Ge,body:this.text}),this.piTarget=this.text="",this.state=X}else We===Ce?this.text+="?":(this.text+=`?${String.fromCodePoint(We)}`,this.state=$);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const De=this.skipSpaces();if(De===Ce){this.state=re;return}De!==y&&(this.state=R,this.name=String.fromCodePoint(De))}sXMLDeclName(){const De=this.captureTo(Ee);if(De===Ce){this.state=re,this.name+=this.text,this.text="",this.fail("XML declaration is incomplete.");return}if(n(De)||De===H){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=De===H?x:w}}sXMLDeclEq(){const De=this.getCodeNorm();if(De===Ce){this.state=re,this.fail("XML declaration is incomplete.");return}n(De)||(De!==H&&this.fail("value required."),this.state=x)}sXMLDeclValueStart(){const De=this.getCodeNorm();if(De===Ce){this.state=re,this.fail("XML declaration is incomplete.");return}n(De)||(we(De)?this.q=De:(this.fail("value must be quoted."),this.q=F),this.state=k)}sXMLDeclValue(){const De=this.captureTo([this.q,Ce]);if(De===Ce){this.state=re,this.text="",this.fail("XML declaration is incomplete.");return}if(De===y)return;const We=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const Ge=We;this.xmlDecl.version=Ge,/^1\.[0-9]+$/.test(Ge)?this.opt.forceXMLVersion||this.setXMLVersion(Ge):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(We)||this.fail("encoding value must match 	/^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=We;break;case"standalone":We!=="yes"&&We!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=We;break}this.name="",this.state=U}sXMLDeclSeparator(){const De=this.getCodeNorm();if(De===Ce){this.state=re;return}n(De)||(this.fail("whitespace required."),this.unget()),this.state=pe}sXMLDeclEnding(){var De;this.getCodeNorm()===Te?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(De=this.xmldeclHandler)===null||De===void 0||De.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=X):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var De;const We=this.captureNameChars();if(We===y)return;const Ge=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=Ge.ns=Object.create(null)),(De=this.openTagStartHandler)===null||De===void 0||De.call(this,Ge),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),We){case Te:this.openTag();break;case de:this.state=ve;break;default:n(We)||this.fail("disallowed character in tag name."),this.state=ce}}sOpenTagSlash(){this.getCode()===Te?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=ce)}sAttrib(){const De=this.skipSpaces();De!==y&&(a(De)?(this.unget(),this.state=Ie):De===Te?this.openTag():De===de?this.state=ve:this.fail("disallowed character in attribute name."))}sAttribName(){const De=this.captureNameChars();De===H?this.state=xe:n(De)?this.state=be:De===Te?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):De!==y&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const De=this.skipSpaces();switch(De){case y:return;case H:this.state=xe;break;default:this.fail("attribute without value."),this.text="",this.name="",De===Te?this.openTag():a(De)?(this.unget(),this.state=Ie):(this.fail("disallowed character in attribute name."),this.state=ce)}}sAttribValue(){const De=this.getCodeNorm();we(De)?(this.q=De,this.state=je):n(De)||(this.fail("unquoted attribute value."),this.state=Pe,this.unget())}sAttribValueQuoted(){const{q:De,chunk:We}=this;let{i:Ge}=this;for(;;)switch(this.getCode()){case De:this.pushAttrib(this.name,this.text+We.slice(Ge,this.prevI)),this.name=this.text="",this.q=null,this.state=Ae;return;case Oe:this.text+=We.slice(Ge,this.prevI),this.state=le,this.entityReturnState=je;return;case it:case m:case Ue:this.text+=`${We.slice(Ge,this.prevI)} `,Ge=this.i;break;case qe:this.text+=We.slice(Ge,this.prevI),this.fail("disallowed character.");return;case y:this.text+=We.slice(Ge);return}}sAttribValueClosed(){const De=this.getCodeNorm();n(De)?this.state=ce:De===Te?this.openTag():De===de?this.state=ve:a(De)?(this.fail("no whitespace between attributes."),this.unget(),this.state=Ie):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const De=this.captureTo(Le);switch(De){case Oe:this.state=le,this.entityReturnState=Pe;break;case qe:this.fail("disallowed character.");break;case y:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",De===Te?this.openTag():this.state=ce}}sCloseTag(){const De=this.captureNameChars();De===Te?this.closeTag():n(De)?this.state=Ze:De!==y&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case Te:this.closeTag();break;case y:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:De,forbiddenState:We}=this;const{chunk:Ge,textHandler:ht}=this;e:for(;;)switch(this.getCode()){case qe:{if(this.state=ae,ht!==void 0){const{text:gt}=this,Dt=Ge.slice(De,this.prevI);gt.length!==0?(ht(gt+Dt),this.text=""):Dt.length!==0&&ht(Dt)}We=lt;break e}case Oe:this.state=le,this.entityReturnState=X,ht!==void 0&&(this.text+=Ge.slice(De,this.prevI)),We=lt;break e;case Me:switch(We){case lt:We=dt;break;case dt:We=ct;break;case ct:break;default:throw new Error("impossible state")}break;case Te:We===ct&&this.fail('the string "]]>" is disallowed in char data.'),We=lt;break;case m:ht!==void 0&&(this.text+=`${Ge.slice(De,this.prevI)}
`),De=this.i,We=lt;break;case y:ht!==void 0&&(this.text+=Ge.slice(De));break e;default:We=lt}this.forbiddenState=We}handleTextOutsideRoot(){let{i:De}=this;const{chunk:We,textHandler:Ge}=this;let ht=!1;e:for(;;){const gt=this.getCode();switch(gt){case qe:{if(this.state=ae,Ge!==void 0){const{text:Dt}=this,xr=We.slice(De,this.prevI);Dt.length!==0?(Ge(Dt+xr),this.text=""):xr.length!==0&&Ge(xr)}break e}case Oe:this.state=le,this.entityReturnState=X,Ge!==void 0&&(this.text+=We.slice(De,this.prevI)),ht=!0;break e;case m:Ge!==void 0&&(this.text+=`${We.slice(De,this.prevI)}
`),De=this.i;break;case y:Ge!==void 0&&(this.text+=We.slice(De));break e;default:n(gt)||(ht=!0)}}ht&&(!this.sawRoot&&!this.reportedTextBeforeRoot&&(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(De,We){var Ge;const{prefix:ht,local:gt}=this.qname(De),Dt={name:De,prefix:ht,local:gt,value:We};if(this.attribList.push(Dt),(Ge=this.attributeHandler)===null||Ge===void 0||Ge.call(this,Dt),ht==="xmlns"){const xr=We.trim();this.currentXMLVersion==="1.0"&&xr===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[gt]=xr,Ne(this,gt,xr)}else if(De==="xmlns"){const xr=We.trim();this.topNS[""]=xr,Ne(this,"",xr)}}pushAttribPlain(De,We){var Ge;const ht={name:De,value:We};this.attribList.push(ht),(Ge=this.attributeHandler)===null||Ge===void 0||Ge.call(this,ht)}end(){var De,We;this.sawRoot||this.fail("document must contain a root element.");const{tags:Ge}=this;for(;Ge.length>0;){const gt=Ge.pop();this.fail(`unclosed tag: ${gt.name}`)}this.state!==g&&this.state!==X&&this.fail("unexpected end.");const{text:ht}=this;return ht.length!==0&&((De=this.textHandler)===null||De===void 0||De.call(this,ht),this.text=""),this._closed=!0,(We=this.endHandler)===null||We===void 0||We.call(this),this._init(),this}resolve(De){var We,Ge;let ht=this.topNS[De];if(ht!==void 0)return ht;const{tags:gt}=this;for(let Dt=gt.length-1;Dt>=0;Dt--)if(ht=gt[Dt].ns[De],ht!==void 0)return ht;return ht=this.ns[De],ht!==void 0?ht:(Ge=(We=this.opt).resolvePrefix)===null||Ge===void 0?void 0:Ge.call(We,De)}qname(De){const We=De.indexOf(":");if(We===-1)return{prefix:"",local:De};const Ge=De.slice(We+1),ht=De.slice(0,We);return(ht===""||Ge===""||Ge.includes(":"))&&this.fail(`malformed name: ${De}.`),{prefix:ht,local:Ge}}processAttribsNS(){var De;const{attribList:We}=this,Ge=this.tag;{const{prefix:Dt,local:xr}=this.qname(Ge.name);Ge.prefix=Dt,Ge.local=xr;const xn=Ge.uri=(De=this.resolve(Dt))!==null&&De!==void 0?De:"";Dt!==""&&(Dt==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),xn===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(Dt)}.`),Ge.uri=Dt))}if(We.length===0)return;const{attributes:ht}=Ge,gt=new Set;for(const Dt of We){const{name:xr,prefix:xn,local:vl}=Dt;let Qi,Tr;xn===""?(Qi=xr==="xmlns"?b:"",Tr=xr):(Qi=this.resolve(xn),Qi===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(xn)}.`),Qi=xn),Tr=`{${Qi}}${vl}`),gt.has(Tr)&&this.fail(`duplicate attribute: ${Tr}.`),gt.add(Tr),Dt.uri=Qi,ht[xr]=Dt}this.attribList=[]}processAttribsPlain(){const{attribList:De}=this,We=this.tag.attributes;for(const{name:Ge,value:ht}of De)We[Ge]!==void 0&&this.fail(`duplicate attribute: ${Ge}.`),We[Ge]=ht;this.attribList=[]}openTag(){var De;this.processAttribs();const{tags:We}=this,Ge=this.tag;Ge.isSelfClosing=!1,(De=this.openTagHandler)===null||De===void 0||De.call(this,Ge),We.push(Ge),this.state=X,this.name=""}openSelfClosingTag(){var De,We,Ge;this.processAttribs();const{tags:ht}=this,gt=this.tag;gt.isSelfClosing=!0,(De=this.openTagHandler)===null||De===void 0||De.call(this,gt),(We=this.closeTagHandler)===null||We===void 0||We.call(this,gt),(this.tag=(Ge=ht[ht.length-1])!==null&&Ge!==void 0?Ge:null)===null&&(this.closedRoot=!0),this.state=X,this.name=""}closeTag(){const{tags:De,name:We}=this;if(this.state=X,this.name="",We===""){this.fail("weird empty close tag."),this.text+="</>";return}const Ge=this.closeTagHandler;let ht=De.length;for(;ht-- >0;){const gt=this.tag=De.pop();if(this.topNS=gt.ns,Ge==null||Ge(gt),gt.name===We)break;this.fail("unexpected close tag.")}ht===0?this.closedRoot=!0:ht<0&&(this.fail(`unmatched closing tag: ${We}.`),this.text+=`</${We}>`)}parseEntity(De){if(De[0]!=="#"){const Ge=this.ENTITIES[De];return Ge!==void 0?Ge:(this.fail(this.isName(De)?"undefined entity.":"disallowed character in entity name."),`&${De};`)}let We=NaN;return De[1]==="x"&&/^#x[0-9a-f]+$/i.test(De)?We=parseInt(De.slice(2),16):/^#[0-9]+$/.test(De)&&(We=parseInt(De.slice(1),10)),this.isChar(We)?String.fromCodePoint(We):(this.fail("malformed character entity."),`&${De};`)}}return ps.SaxesParser=lr,ps}var mc={},gN;function hX(){if(gN)return mc;gN=1,Object.defineProperty(mc,"__esModule",{value:!0}),mc.ParseError=void 0;let e=class extends Error{constructor(r,n){const i=r.saxParser;super(r.trackPosition?`Line ${i.line} column ${i.column+1}: ${n}`:n)}};return mc.ParseError=e,mc}var yc={},Z1={},_N;function pX(){return _N||(_N=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateIri=e.IriValidationStrategy=void 0;function t(){const s="[!$&'()*+,;=]",l="%[a-fA-F0-9]{2}",u="([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",f=`${u}\\.${u}\\.${u}\\.${u}`,d="[a-fA-F0-9]{1,4}",c=`(${d}:${d}|${f})`,p=`((${d}:){6}${c}|::(${d}:){5}${c}|(${d})?::(${d}:){4}${c}|((${d}:){0,1}${d})?::(${d}:){3}${c}|((${d}:){0,2}${d})?::(${d}:){2}${c}|((${d}:){0,3}${d})?::${d}:${c}|((${d}:){0,4}${d})?::${c}|((${d}:){0,5}${d})?::${d}|((${d}:){0,6}${d})?::)`,b=`v[a-fA-F0-9]+\\.(${s}|${s}|":)+`,v=`\\[(${p}|${b})\\]`,_="[0-9]*",y="[a-zA-Z][a-zA-Z0-9+\\-.]*",g="[---]",I="[a-zA-Z0-9\\-._~-----------------]",D=`(${I}|${l}|${s}|[:@])*`,B=`(${D}|[\\/?])*`,N=`(${D}|${g}|[\\/?])*`,M=`(${D})+`,j=`(${D})*`,O="",q=`${M}(\\/${j})*`,Q=`\\/(${M}(\\/${j})*)?`,ie=`(\\/${j})*`,X=`(${I}|${l}|${s})*`,le=`(${v}|${f}|${X})`,V=`(\\/\\/${`(${`(${I}|${l}|${s}|:)*`}@)?${le}(:${_})?`}${ie}|${Q}|${q}|${O})`,oe=`^${y}:${V}(\\?${N})?(#${B})?$`;return new RegExp(oe,"u")}const r=t(),n=/^[A-Za-z][\d+-.A-Za-z]*:[^\u0000-\u0020"<>\\^`{|}]*$/u;var i;(function(o){o.Strict="strict",o.Pragmatic="pragmatic",o.None="none"})(i=e.IriValidationStrategy||(e.IriValidationStrategy={}));function a(o,s=i.Strict){switch(s){case i.Strict:return r.test(o)?void 0:new Error(`Invalid IRI according to RFC 3987: '${o}'`);case i.Pragmatic:return n.test(o)?void 0:new Error(`Invalid IRI according to RDF Turtle: '${o}'`);case i.None:return;default:return new Error(`Not supported validation strategy "${s}"`)}}e.validateIri=a}(Z1)),Z1}var bN;function mX(){return bN||(bN=1,function(e){var t=yc.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=yc.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(pX(),e)}(yc)),yc}var vN;function yX(){if(vN)return hs;vN=1,Object.defineProperty(hs,"__esModule",{value:!0}),hs.ParseType=hs.RdfXmlParser=void 0;const e=Oi(),t=dX(),r=Zi(),n=hX(),i=Jr(),a=mX();let o=class vr extends r.Transform{constructor(u){super({readableObjectMode:!0}),this.activeTagStack=[],this.nodeIds={},u&&(Object.assign(this,u),this.options=u),this.dataFactory||(this.dataFactory=new i.DataFactory),this.baseIRI||(this.baseIRI=""),this.defaultGraph||(this.defaultGraph=this.dataFactory.defaultGraph()),this.validateUri!==!1&&(this.validateUri=!0),this.iriValidationStrategy||(this.iriValidationStrategy=this.validateUri?a.IriValidationStrategy.Pragmatic:a.IriValidationStrategy.None),this.saxParser=new t.SaxesParser({xmlns:!0,position:this.trackPosition}),this.attachSaxListeners()}import(u){const f=new r.PassThrough({readableObjectMode:!0});u.on("error",c=>d.emit("error",c)),u.on("data",c=>f.push(c)),u.on("end",()=>f.push(null));const d=f.pipe(new vr(this.options));return d}_transform(u,f,d){try{this.saxParser.write(u)}catch(c){return d(c)}d()}newParseError(u){return new n.ParseError(this,u)}valueToUri(u,f){return this.uriToNamedNode((0,e.resolve)(u,f.baseIRI))}uriToNamedNode(u){const f=(0,a.validateIri)(u,this.iriValidationStrategy);if(f instanceof Error)throw this.newParseError(f.message);return this.dataFactory.namedNode(u)}validateNcname(u){if(!vr.NCNAME_MATCHER.test(u))throw this.newParseError(`Not a valid NCName: ${u}`)}attachSaxListeners(){this.saxParser.on("error",u=>this.emit("error",u)),this.saxParser.on("opentag",this.onTag.bind(this)),this.saxParser.on("text",this.onText.bind(this)),this.saxParser.on("cdata",this.onText.bind(this)),this.saxParser.on("closetag",this.onCloseTag.bind(this)),this.saxParser.on("doctype",this.onDoctype.bind(this))}onTag(u){const f=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;let d=s.RESOURCE;if(f&&(f.hadChildren=!0,d=f.childrenParseType),f&&f.childrenStringTags){const p=u.name;let b="";for(const m in u.attributes)b+=` ${m}="${u.attributes[m].value}"`;const _=`<${`${p}${b}`}>`;f.childrenStringTags.push(_);const y={childrenStringTags:f.childrenStringTags};y.childrenStringEmitClosingTag=`</${p}>`,this.activeTagStack.push(y);return}const c={};f?(c.language=f.language,c.baseIRI=f.baseIRI):c.baseIRI=this.baseIRI,this.activeTagStack.push(c),d===s.RESOURCE?this.onTagResource(u,c,f,!f):this.onTagProperty(u,c,f)}onTagResource(u,f,d,c){f.childrenParseType=s.PROPERTY;let p=!0;if(u.uri===vr.RDF){if(!c&&vr.FORBIDDEN_NODE_ELEMENTS.indexOf(u.local)>=0)throw this.newParseError(`Illegal node element name: ${u.local}`);switch(u.local){case"RDF":f.childrenParseType=s.RESOURCE;case"Description":p=!1}}const b=[],v=[];let _=null,y=!1,m=!1,g=null;for(const E in u.attributes){const T=u.attributes[E];if(d&&T.uri===vr.RDF)switch(T.local){case"about":if(_)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${T.value} and ${_} where found.`);_=T.value;continue;case"ID":if(_)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${T.value} and ${_} where found.`);this.validateNcname(T.value),_="#"+T.value,y=!0;continue;case"nodeID":if(_)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${T.value} and ${_} where found.`);this.validateNcname(T.value),_=T.value,m=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"type":g=T.value;continue;case"aboutEach":throw this.newParseError("rdf:aboutEach is not supported.");case"aboutEachPrefix":throw this.newParseError("rdf:aboutEachPrefix is not supported.");case"li":throw this.newParseError("rdf:li on node elements are not supported.")}else if(T.uri===vr.XML){if(T.local==="lang"){f.language=T.value===""?null:T.value.toLowerCase();continue}else if(T.local==="base"){f.baseIRI=(0,e.resolve)(T.value,f.baseIRI);continue}}T.prefix!=="xml"&&T.prefix!=="xmlns"&&(T.prefix!==""||T.local!=="xmlns")&&T.uri&&(b.push(this.uriToNamedNode(T.uri+T.local)),v.push(T.value))}if(_!==null&&(f.subject=m?this.dataFactory.blankNode(_):this.valueToUri(_,f),y&&this.claimNodeId(f.subject)),f.subject||(f.subject=this.dataFactory.blankNode()),p){const E=this.uriToNamedNode(u.uri+u.local);this.emitTriple(f.subject,this.dataFactory.namedNode(vr.RDF+"type"),E,d?d.reifiedStatementId:null)}if(d){if(d.predicate)if(d.childrenCollectionSubject){const E=this.dataFactory.blankNode();this.emitTriple(d.childrenCollectionSubject,d.childrenCollectionPredicate,E,d.reifiedStatementId),this.emitTriple(E,this.dataFactory.namedNode(vr.RDF+"first"),f.subject,f.reifiedStatementId),d.childrenCollectionSubject=E,d.childrenCollectionPredicate=this.dataFactory.namedNode(vr.RDF+"rest")}else{this.emitTriple(d.subject,d.predicate,f.subject,d.reifiedStatementId);for(let E=0;E<d.predicateSubPredicates.length;E++)this.emitTriple(f.subject,d.predicateSubPredicates[E],d.predicateSubObjects[E],null);d.predicateSubPredicates=[],d.predicateSubObjects=[],d.predicateEmitted=!0}for(let E=0;E<b.length;E++){const T=this.dataFactory.literal(v[E],f.datatype||f.language);this.emitTriple(f.subject,b[E],T,d.reifiedStatementId)}g&&this.emitTriple(f.subject,this.dataFactory.namedNode(vr.RDF+"type"),this.uriToNamedNode(g),null)}}onTagProperty(u,f,d){if(f.childrenParseType=s.RESOURCE,f.subject=d.subject,u.uri===vr.RDF&&u.local==="li"?(d.listItemCounter||(d.listItemCounter=1),f.predicate=this.uriToNamedNode(u.uri+"_"+d.listItemCounter++)):f.predicate=this.uriToNamedNode(u.uri+u.local),u.uri===vr.RDF&&vr.FORBIDDEN_PROPERTY_ELEMENTS.indexOf(u.local)>=0)throw this.newParseError(`Illegal property element name: ${u.local}`);f.predicateSubPredicates=[],f.predicateSubObjects=[];let c=!1,p=!1,b=null,v=!0;const _=[],y=[];for(const m in u.attributes){const g=u.attributes[m];if(g.uri===vr.RDF)switch(g.local){case"resource":if(b)throw this.newParseError(`Found both rdf:resource (${g.value}) and rdf:nodeID (${b}).`);if(c)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:resource (${g.value})`);f.hadChildren=!0,b=g.value,v=!1;continue;case"datatype":if(p)throw this.newParseError(`Found both non-rdf:* property attributes and rdf:datatype (${g.value}).`);if(c)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${g.value})`);f.datatype=this.valueToUri(g.value,f);continue;case"nodeID":if(p)throw this.newParseError(`Found both non-rdf:* property attributes and rdf:nodeID (${g.value}).`);if(f.hadChildren)throw this.newParseError(`Found both rdf:resource and rdf:nodeID (${g.value}).`);if(c)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID (${g.value})`);this.validateNcname(g.value),f.hadChildren=!0,b=g.value,v=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"parseType":if(p)throw this.newParseError("rdf:parseType is not allowed when non-rdf:* property attributes are present");if(f.datatype)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${f.datatype.value})`);if(b)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID or rdf:resource (${b})`);if(g.value==="Resource"){c=!0,f.childrenParseType=s.PROPERTY;const E=this.dataFactory.blankNode();this.emitTriple(f.subject,f.predicate,E,f.reifiedStatementId),f.subject=E,f.predicate=null}else g.value==="Collection"?(c=!0,f.hadChildren=!0,f.childrenCollectionSubject=f.subject,f.childrenCollectionPredicate=f.predicate,v=!1):g.value==="Literal"&&(c=!0,f.childrenTagsToString=!0,f.childrenStringTags=[]);continue;case"ID":this.validateNcname(g.value),f.reifiedStatementId=this.valueToUri("#"+g.value,f),this.claimNodeId(f.reifiedStatementId);continue}else if(g.uri===vr.XML&&g.local==="lang"){f.language=g.value===""?null:g.value.toLowerCase();continue}if(g.prefix!=="xml"&&g.prefix!=="xmlns"&&(g.prefix!==""||g.local!=="xmlns")&&g.uri){if(c||f.datatype)throw this.newParseError(`Found illegal rdf:* properties on property element with attribute: ${g.value}`);f.hadChildren=!0,p=!0,_.push(this.uriToNamedNode(g.uri+g.local)),y.push(this.dataFactory.literal(g.value,f.datatype||f.language))}}if(b!==null){const m=f.subject;f.subject=v?this.dataFactory.blankNode(b):this.valueToUri(b,f),this.emitTriple(m,f.predicate,f.subject,f.reifiedStatementId);for(let g=0;g<_.length;g++)this.emitTriple(f.subject,_[g],y[g],null);f.predicateEmitted=!0}else v&&(f.predicateSubPredicates=_,f.predicateSubObjects=y,f.predicateEmitted=!1)}emitTriple(u,f,d,c){this.push(this.dataFactory.quad(u,f,d,this.defaultGraph)),c&&(this.push(this.dataFactory.quad(c,this.dataFactory.namedNode(vr.RDF+"type"),this.dataFactory.namedNode(vr.RDF+"Statement"),this.defaultGraph)),this.push(this.dataFactory.quad(c,this.dataFactory.namedNode(vr.RDF+"subject"),u,this.defaultGraph)),this.push(this.dataFactory.quad(c,this.dataFactory.namedNode(vr.RDF+"predicate"),f,this.defaultGraph)),this.push(this.dataFactory.quad(c,this.dataFactory.namedNode(vr.RDF+"object"),d,this.defaultGraph)))}claimNodeId(u){if(!this.allowDuplicateRdfIds){if(this.nodeIds[u.value])throw this.newParseError(`Found multiple occurrences of rdf:ID='${u.value}'.`);this.nodeIds[u.value]=!0}}onText(u){const f=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;f&&(f.childrenStringTags?f.childrenStringTags.push(u):f.predicate&&(f.text=u))}onCloseTag(){const u=this.activeTagStack.pop();if(u.childrenStringEmitClosingTag&&u.childrenStringTags.push(u.childrenStringEmitClosingTag),u.childrenTagsToString&&(u.datatype=this.dataFactory.namedNode(vr.RDF+"XMLLiteral"),u.text=u.childrenStringTags.join(""),u.hadChildren=!1),u.childrenCollectionSubject)this.emitTriple(u.childrenCollectionSubject,u.childrenCollectionPredicate,this.dataFactory.namedNode(vr.RDF+"nil"),u.reifiedStatementId);else if(u.predicate){if(!u.hadChildren&&u.childrenParseType!==s.PROPERTY)this.emitTriple(u.subject,u.predicate,this.dataFactory.literal(u.text||"",u.datatype||u.language),u.reifiedStatementId);else if(!u.predicateEmitted){const f=this.dataFactory.blankNode();this.emitTriple(u.subject,u.predicate,f,u.reifiedStatementId);for(let d=0;d<u.predicateSubPredicates.length;d++)this.emitTriple(f,u.predicateSubPredicates[d],u.predicateSubObjects[d],null)}}}onDoctype(u){u.replace(/<!ENTITY\s+([^\s]+)\s+["']([^"']+)["']\s*>/g,(f,d,c)=>(this.saxParser.ENTITIES[d]=c,""))}};hs.RdfXmlParser=o,o.MIME_TYPE="application/rdf+xml",o.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",o.XML="http://www.w3.org/XML/1998/namespace",o.FORBIDDEN_NODE_ELEMENTS=["RDF","ID","about","bagID","parseType","resource","nodeID","li","aboutEach","aboutEachPrefix"],o.FORBIDDEN_PROPERTY_ELEMENTS=["Description","RDF","ID","about","bagID","parseType","resource","nodeID","aboutEach","aboutEachPrefix"],o.NCNAME_MATCHER=/^([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_])([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_\-.0-9#xB7\u{0300}-\u{036F}\u{203F}-\u{2040}])*$/u;var s;return function(l){l[l.RESOURCE=0]="RESOURCE",l[l.PROPERTY=1]="PROPERTY"}(s||(hs.ParseType=s={})),hs}var wN;function gX(){return wN||(wN=1,function(e){var t=hc.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=hc.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(yX(),e)}(hc)),hc}var EN;function _X(){if(EN)return dc;EN=1,Object.defineProperty(dc,"__esModule",{value:!0}),dc.ActorRdfParseRdfXml=void 0;const e=bl(),t=Yi(),r=gX();let n=class extends e.ActorRdfParseFixedMediaTypes{constructor(a){super(a)}async runHandle(a){var l;const o=a.context.getSafe(t.KeysInitQuery.dataFactory);a.data.on("error",u=>s.emit("error",u));const s=a.data.pipe(new r.RdfXmlParser({dataFactory:o,baseIRI:(l=a.metadata)==null?void 0:l.baseIRI}));return{data:s,metadata:{triples:!0}}}};return dc.ActorRdfParseRdfXml=n,dc}var SN;function bX(){return SN||(SN=1,function(e){var t=cc.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=cc.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(_X(),e)}(cc)),cc}var gc={},_c={},bc={},Y1={},xN;function vX(){return xN||(xN=1,Object.defineProperty(Y1,"__esModule",{value:!0})),Y1}var Q1={},TN;function wX(){return TN||(TN=1,Object.defineProperty(Q1,"__esModule",{value:!0})),Q1}var X1={},RN;function EX(){return RN||(RN=1,Object.defineProperty(X1,"__esModule",{value:!0})),X1}var vc={},ms={},fo={},J1={},ys={},w0={},AN;function SX(){return AN||(AN=1,Object.defineProperty(w0,"__esModule",{value:!0}),w0.default=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(function(e){return e.charCodeAt(0)}))),w0}var E0={},IN;function xX(){return IN||(IN=1,Object.defineProperty(E0,"__esModule",{value:!0}),E0.default=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(function(e){return e.charCodeAt(0)}))),E0}var ew={},ON;function PN(){return ON||(ON=1,function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.replaceCodePoint=e.fromCodePoint=void 0;var r=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);e.fromCodePoint=(t=String.fromCodePoint)!==null&&t!==void 0?t:function(a){var o="";return a>65535&&(a-=65536,o+=String.fromCharCode(a>>>10&1023|55296),a=56320|a&1023),o+=String.fromCharCode(a),o};function n(a){var o;return a>=55296&&a<=57343||a>1114111?65533:(o=r.get(a))!==null&&o!==void 0?o:a}e.replaceCodePoint=n;function i(a){return(0,e.fromCodePoint)(n(a))}e.default=i}(ew)),ew}var DN;function jo(){return DN||(DN=1,function(e){var t=ys.__createBinding||(Object.create?function(j,O,q,Q){Q===void 0&&(Q=q);var ie=Object.getOwnPropertyDescriptor(O,q);(!ie||("get"in ie?!O.__esModule:ie.writable||ie.configurable))&&(ie={enumerable:!0,get:function(){return O[q]}}),Object.defineProperty(j,Q,ie)}:function(j,O,q,Q){Q===void 0&&(Q=q),j[Q]=O[q]}),r=ys.__setModuleDefault||(Object.create?function(j,O){Object.defineProperty(j,"default",{enumerable:!0,value:O})}:function(j,O){j.default=O}),n=ys.__importStar||function(j){if(j&&j.__esModule)return j;var O={};if(j!=null)for(var q in j)q!=="default"&&Object.prototype.hasOwnProperty.call(j,q)&&t(O,j,q);return r(O,j),O},i=ys.__importDefault||function(j){return j&&j.__esModule?j:{default:j}};Object.defineProperty(e,"__esModule",{value:!0}),e.decodeXML=e.decodeHTMLStrict=e.decodeHTMLAttribute=e.decodeHTML=e.determineBranch=e.EntityDecoder=e.DecodingMode=e.BinTrieFlags=e.fromCodePoint=e.replaceCodePoint=e.decodeCodePoint=e.xmlDecodeTree=e.htmlDecodeTree=void 0;var a=i(SX());e.htmlDecodeTree=a.default;var o=i(xX());e.xmlDecodeTree=o.default;var s=n(PN());e.decodeCodePoint=s.default;var l=PN();Object.defineProperty(e,"replaceCodePoint",{enumerable:!0,get:function(){return l.replaceCodePoint}}),Object.defineProperty(e,"fromCodePoint",{enumerable:!0,get:function(){return l.fromCodePoint}});var u;(function(j){j[j.NUM=35]="NUM",j[j.SEMI=59]="SEMI",j[j.EQUALS=61]="EQUALS",j[j.ZERO=48]="ZERO",j[j.NINE=57]="NINE",j[j.LOWER_A=97]="LOWER_A",j[j.LOWER_F=102]="LOWER_F",j[j.LOWER_X=120]="LOWER_X",j[j.LOWER_Z=122]="LOWER_Z",j[j.UPPER_A=65]="UPPER_A",j[j.UPPER_F=70]="UPPER_F",j[j.UPPER_Z=90]="UPPER_Z"})(u||(u={}));var f=32,d;(function(j){j[j.VALUE_LENGTH=49152]="VALUE_LENGTH",j[j.BRANCH_LENGTH=16256]="BRANCH_LENGTH",j[j.JUMP_TABLE=127]="JUMP_TABLE"})(d=e.BinTrieFlags||(e.BinTrieFlags={}));function c(j){return j>=u.ZERO&&j<=u.NINE}function p(j){return j>=u.UPPER_A&&j<=u.UPPER_F||j>=u.LOWER_A&&j<=u.LOWER_F}function b(j){return j>=u.UPPER_A&&j<=u.UPPER_Z||j>=u.LOWER_A&&j<=u.LOWER_Z||c(j)}function v(j){return j===u.EQUALS||b(j)}var _;(function(j){j[j.EntityStart=0]="EntityStart",j[j.NumericStart=1]="NumericStart",j[j.NumericDecimal=2]="NumericDecimal",j[j.NumericHex=3]="NumericHex",j[j.NamedEntity=4]="NamedEntity"})(_||(_={}));var y;(function(j){j[j.Legacy=0]="Legacy",j[j.Strict=1]="Strict",j[j.Attribute=2]="Attribute"})(y=e.DecodingMode||(e.DecodingMode={}));var m=function(){function j(O,q,Q){this.decodeTree=O,this.emitCodePoint=q,this.errors=Q,this.state=_.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=y.Strict}return j.prototype.startEntity=function(O){this.decodeMode=O,this.state=_.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1},j.prototype.write=function(O,q){switch(this.state){case _.EntityStart:return O.charCodeAt(q)===u.NUM?(this.state=_.NumericStart,this.consumed+=1,this.stateNumericStart(O,q+1)):(this.state=_.NamedEntity,this.stateNamedEntity(O,q));case _.NumericStart:return this.stateNumericStart(O,q);case _.NumericDecimal:return this.stateNumericDecimal(O,q);case _.NumericHex:return this.stateNumericHex(O,q);case _.NamedEntity:return this.stateNamedEntity(O,q)}},j.prototype.stateNumericStart=function(O,q){return q>=O.length?-1:(O.charCodeAt(q)|f)===u.LOWER_X?(this.state=_.NumericHex,this.consumed+=1,this.stateNumericHex(O,q+1)):(this.state=_.NumericDecimal,this.stateNumericDecimal(O,q))},j.prototype.addToNumericResult=function(O,q,Q,ie){if(q!==Q){var X=Q-q;this.result=this.result*Math.pow(ie,X)+parseInt(O.substr(q,X),ie),this.consumed+=X}},j.prototype.stateNumericHex=function(O,q){for(var Q=q;q<O.length;){var ie=O.charCodeAt(q);if(c(ie)||p(ie))q+=1;else return this.addToNumericResult(O,Q,q,16),this.emitNumericEntity(ie,3)}return this.addToNumericResult(O,Q,q,16),-1},j.prototype.stateNumericDecimal=function(O,q){for(var Q=q;q<O.length;){var ie=O.charCodeAt(q);if(c(ie))q+=1;else return this.addToNumericResult(O,Q,q,10),this.emitNumericEntity(ie,2)}return this.addToNumericResult(O,Q,q,10),-1},j.prototype.emitNumericEntity=function(O,q){var Q;if(this.consumed<=q)return(Q=this.errors)===null||Q===void 0||Q.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(O===u.SEMI)this.consumed+=1;else if(this.decodeMode===y.Strict)return 0;return this.emitCodePoint((0,s.replaceCodePoint)(this.result),this.consumed),this.errors&&(O!==u.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed},j.prototype.stateNamedEntity=function(O,q){for(var Q=this.decodeTree,ie=Q[this.treeIndex],X=(ie&d.VALUE_LENGTH)>>14;q<O.length;q++,this.excess++){var le=O.charCodeAt(q);if(this.treeIndex=E(Q,ie,this.treeIndex+Math.max(1,X),le),this.treeIndex<0)return this.result===0||this.decodeMode===y.Attribute&&(X===0||v(le))?0:this.emitNotTerminatedNamedEntity();if(ie=Q[this.treeIndex],X=(ie&d.VALUE_LENGTH)>>14,X!==0){if(le===u.SEMI)return this.emitNamedEntityData(this.treeIndex,X,this.consumed+this.excess);this.decodeMode!==y.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1},j.prototype.emitNotTerminatedNamedEntity=function(){var O,q=this,Q=q.result,ie=q.decodeTree,X=(ie[Q]&d.VALUE_LENGTH)>>14;return this.emitNamedEntityData(Q,X,this.consumed),(O=this.errors)===null||O===void 0||O.missingSemicolonAfterCharacterReference(),this.consumed},j.prototype.emitNamedEntityData=function(O,q,Q){var ie=this.decodeTree;return this.emitCodePoint(q===1?ie[O]&~d.VALUE_LENGTH:ie[O+1],Q),q===3&&this.emitCodePoint(ie[O+2],Q),Q},j.prototype.end=function(){var O;switch(this.state){case _.NamedEntity:return this.result!==0&&(this.decodeMode!==y.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case _.NumericDecimal:return this.emitNumericEntity(0,2);case _.NumericHex:return this.emitNumericEntity(0,3);case _.NumericStart:return(O=this.errors)===null||O===void 0||O.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case _.EntityStart:return 0}},j}();e.EntityDecoder=m;function g(j){var O="",q=new m(j,function(Q){return O+=(0,s.fromCodePoint)(Q)});return function(ie,X){for(var le=0,ae=0;(ae=ie.indexOf("&",ae))>=0;){O+=ie.slice(le,ae),q.startEntity(X);var ne=q.write(ie,ae+1);if(ne<0){le=ae+q.end();break}le=ae+ne,ae=ne===0?le+1:le}var V=O+ie.slice(le);return O="",V}}function E(j,O,q,Q){var ie=(O&d.BRANCH_LENGTH)>>7,X=O&d.JUMP_TABLE;if(ie===0)return X!==0&&Q===X?q:-1;if(X){var le=Q-X;return le<0||le>=ie?-1:j[q+le]-1}for(var ae=q,ne=ae+ie-1;ae<=ne;){var V=ae+ne>>>1,oe=j[V];if(oe<Q)ae=V+1;else if(oe>Q)ne=V-1;else return j[V+ie]}return-1}e.determineBranch=E;var T=g(a.default),I=g(o.default);function D(j,O){return O===void 0&&(O=y.Legacy),T(j,O)}e.decodeHTML=D;function B(j){return T(j,y.Attribute)}e.decodeHTMLAttribute=B;function N(j){return T(j,y.Strict)}e.decodeHTMLStrict=N;function M(j){return I(j,y.Strict)}e.decodeXML=M}(ys)),ys}var NN;function m8(){return NN||(NN=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.QuoteType=void 0;var t=jo(),r;(function(c){c[c.Tab=9]="Tab",c[c.NewLine=10]="NewLine",c[c.FormFeed=12]="FormFeed",c[c.CarriageReturn=13]="CarriageReturn",c[c.Space=32]="Space",c[c.ExclamationMark=33]="ExclamationMark",c[c.Number=35]="Number",c[c.Amp=38]="Amp",c[c.SingleQuote=39]="SingleQuote",c[c.DoubleQuote=34]="DoubleQuote",c[c.Dash=45]="Dash",c[c.Slash=47]="Slash",c[c.Zero=48]="Zero",c[c.Nine=57]="Nine",c[c.Semi=59]="Semi",c[c.Lt=60]="Lt",c[c.Eq=61]="Eq",c[c.Gt=62]="Gt",c[c.Questionmark=63]="Questionmark",c[c.UpperA=65]="UpperA",c[c.LowerA=97]="LowerA",c[c.UpperF=70]="UpperF",c[c.LowerF=102]="LowerF",c[c.UpperZ=90]="UpperZ",c[c.LowerZ=122]="LowerZ",c[c.LowerX=120]="LowerX",c[c.OpeningSquareBracket=91]="OpeningSquareBracket"})(r||(r={}));var n;(function(c){c[c.Text=1]="Text",c[c.BeforeTagName=2]="BeforeTagName",c[c.InTagName=3]="InTagName",c[c.InSelfClosingTag=4]="InSelfClosingTag",c[c.BeforeClosingTagName=5]="BeforeClosingTagName",c[c.InClosingTagName=6]="InClosingTagName",c[c.AfterClosingTagName=7]="AfterClosingTagName",c[c.BeforeAttributeName=8]="BeforeAttributeName",c[c.InAttributeName=9]="InAttributeName",c[c.AfterAttributeName=10]="AfterAttributeName",c[c.BeforeAttributeValue=11]="BeforeAttributeValue",c[c.InAttributeValueDq=12]="InAttributeValueDq",c[c.InAttributeValueSq=13]="InAttributeValueSq",c[c.InAttributeValueNq=14]="InAttributeValueNq",c[c.BeforeDeclaration=15]="BeforeDeclaration",c[c.InDeclaration=16]="InDeclaration",c[c.InProcessingInstruction=17]="InProcessingInstruction",c[c.BeforeComment=18]="BeforeComment",c[c.CDATASequence=19]="CDATASequence",c[c.InSpecialComment=20]="InSpecialComment",c[c.InCommentLike=21]="InCommentLike",c[c.BeforeSpecialS=22]="BeforeSpecialS",c[c.SpecialStartSequence=23]="SpecialStartSequence",c[c.InSpecialTag=24]="InSpecialTag",c[c.BeforeEntity=25]="BeforeEntity",c[c.BeforeNumericEntity=26]="BeforeNumericEntity",c[c.InNamedEntity=27]="InNamedEntity",c[c.InNumericEntity=28]="InNumericEntity",c[c.InHexEntity=29]="InHexEntity"})(n||(n={}));function i(c){return c===r.Space||c===r.NewLine||c===r.Tab||c===r.FormFeed||c===r.CarriageReturn}function a(c){return c===r.Slash||c===r.Gt||i(c)}function o(c){return c>=r.Zero&&c<=r.Nine}function s(c){return c>=r.LowerA&&c<=r.LowerZ||c>=r.UpperA&&c<=r.UpperZ}function l(c){return c>=r.UpperA&&c<=r.UpperF||c>=r.LowerA&&c<=r.LowerF}var u;(function(c){c[c.NoValue=0]="NoValue",c[c.Unquoted=1]="Unquoted",c[c.Single=2]="Single",c[c.Double=3]="Double"})(u=e.QuoteType||(e.QuoteType={}));var f={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101])},d=function(){function c(p,b){var v=p.xmlMode,_=v===void 0?!1:v,y=p.decodeEntities,m=y===void 0?!0:y;this.cbs=b,this.state=n.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=n.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.trieIndex=0,this.trieCurrent=0,this.entityResult=0,this.entityExcess=0,this.xmlMode=_,this.decodeEntities=m,this.entityTrie=_?t.xmlDecodeTree:t.htmlDecodeTree}return c.prototype.reset=function(){this.state=n.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=n.Text,this.currentSequence=void 0,this.running=!0,this.offset=0},c.prototype.write=function(p){this.offset+=this.buffer.length,this.buffer=p,this.parse()},c.prototype.end=function(){this.running&&this.finish()},c.prototype.pause=function(){this.running=!1},c.prototype.resume=function(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()},c.prototype.getIndex=function(){return this.index},c.prototype.getSectionStart=function(){return this.sectionStart},c.prototype.stateText=function(p){p===r.Lt||!this.decodeEntities&&this.fastForwardTo(r.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=n.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&p===r.Amp&&(this.state=n.BeforeEntity)},c.prototype.stateSpecialStartSequence=function(p){var b=this.sequenceIndex===this.currentSequence.length,v=b?a(p):(p|32)===this.currentSequence[this.sequenceIndex];if(!v)this.isSpecial=!1;else if(!b){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=n.InTagName,this.stateInTagName(p)},c.prototype.stateInSpecialTag=function(p){if(this.sequenceIndex===this.currentSequence.length){if(p===r.Gt||i(p)){var b=this.index-this.currentSequence.length;if(this.sectionStart<b){var v=this.index;this.index=b,this.cbs.ontext(this.sectionStart,b),this.index=v}this.isSpecial=!1,this.sectionStart=b+2,this.stateInClosingTagName(p);return}this.sequenceIndex=0}(p|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===f.TitleEnd?this.decodeEntities&&p===r.Amp&&(this.state=n.BeforeEntity):this.fastForwardTo(r.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(p===r.Lt)},c.prototype.stateCDATASequence=function(p){p===f.Cdata[this.sequenceIndex]?++this.sequenceIndex===f.Cdata.length&&(this.state=n.InCommentLike,this.currentSequence=f.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=n.InDeclaration,this.stateInDeclaration(p))},c.prototype.fastForwardTo=function(p){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===p)return!0;return this.index=this.buffer.length+this.offset-1,!1},c.prototype.stateInCommentLike=function(p){p===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===f.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=n.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):p!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)},c.prototype.isTagStartChar=function(p){return this.xmlMode?!a(p):s(p)},c.prototype.startSpecial=function(p,b){this.isSpecial=!0,this.currentSequence=p,this.sequenceIndex=b,this.state=n.SpecialStartSequence},c.prototype.stateBeforeTagName=function(p){if(p===r.ExclamationMark)this.state=n.BeforeDeclaration,this.sectionStart=this.index+1;else if(p===r.Questionmark)this.state=n.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(p)){var b=p|32;this.sectionStart=this.index,!this.xmlMode&&b===f.TitleEnd[2]?this.startSpecial(f.TitleEnd,3):this.state=!this.xmlMode&&b===f.ScriptEnd[2]?n.BeforeSpecialS:n.InTagName}else p===r.Slash?this.state=n.BeforeClosingTagName:(this.state=n.Text,this.stateText(p))},c.prototype.stateInTagName=function(p){a(p)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(p))},c.prototype.stateBeforeClosingTagName=function(p){i(p)||(p===r.Gt?this.state=n.Text:(this.state=this.isTagStartChar(p)?n.InClosingTagName:n.InSpecialComment,this.sectionStart=this.index))},c.prototype.stateInClosingTagName=function(p){(p===r.Gt||i(p))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.AfterClosingTagName,this.stateAfterClosingTagName(p))},c.prototype.stateAfterClosingTagName=function(p){(p===r.Gt||this.fastForwardTo(r.Gt))&&(this.state=n.Text,this.baseState=n.Text,this.sectionStart=this.index+1)},c.prototype.stateBeforeAttributeName=function(p){p===r.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=n.InSpecialTag,this.sequenceIndex=0):this.state=n.Text,this.baseState=this.state,this.sectionStart=this.index+1):p===r.Slash?this.state=n.InSelfClosingTag:i(p)||(this.state=n.InAttributeName,this.sectionStart=this.index)},c.prototype.stateInSelfClosingTag=function(p){p===r.Gt?(this.cbs.onselfclosingtag(this.index),this.state=n.Text,this.baseState=n.Text,this.sectionStart=this.index+1,this.isSpecial=!1):i(p)||(this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(p))},c.prototype.stateInAttributeName=function(p){(p===r.Eq||a(p))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.AfterAttributeName,this.stateAfterAttributeName(p))},c.prototype.stateAfterAttributeName=function(p){p===r.Eq?this.state=n.BeforeAttributeValue:p===r.Slash||p===r.Gt?(this.cbs.onattribend(u.NoValue,this.index),this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(p)):i(p)||(this.cbs.onattribend(u.NoValue,this.index),this.state=n.InAttributeName,this.sectionStart=this.index)},c.prototype.stateBeforeAttributeValue=function(p){p===r.DoubleQuote?(this.state=n.InAttributeValueDq,this.sectionStart=this.index+1):p===r.SingleQuote?(this.state=n.InAttributeValueSq,this.sectionStart=this.index+1):i(p)||(this.sectionStart=this.index,this.state=n.InAttributeValueNq,this.stateInAttributeValueNoQuotes(p))},c.prototype.handleInAttributeValue=function(p,b){p===b||!this.decodeEntities&&this.fastForwardTo(b)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(b===r.DoubleQuote?u.Double:u.Single,this.index),this.state=n.BeforeAttributeName):this.decodeEntities&&p===r.Amp&&(this.baseState=this.state,this.state=n.BeforeEntity)},c.prototype.stateInAttributeValueDoubleQuotes=function(p){this.handleInAttributeValue(p,r.DoubleQuote)},c.prototype.stateInAttributeValueSingleQuotes=function(p){this.handleInAttributeValue(p,r.SingleQuote)},c.prototype.stateInAttributeValueNoQuotes=function(p){i(p)||p===r.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(u.Unquoted,this.index),this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(p)):this.decodeEntities&&p===r.Amp&&(this.baseState=this.state,this.state=n.BeforeEntity)},c.prototype.stateBeforeDeclaration=function(p){p===r.OpeningSquareBracket?(this.state=n.CDATASequence,this.sequenceIndex=0):this.state=p===r.Dash?n.BeforeComment:n.InDeclaration},c.prototype.stateInDeclaration=function(p){(p===r.Gt||this.fastForwardTo(r.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=n.Text,this.sectionStart=this.index+1)},c.prototype.stateInProcessingInstruction=function(p){(p===r.Gt||this.fastForwardTo(r.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=n.Text,this.sectionStart=this.index+1)},c.prototype.stateBeforeComment=function(p){p===r.Dash?(this.state=n.InCommentLike,this.currentSequence=f.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=n.InDeclaration},c.prototype.stateInSpecialComment=function(p){(p===r.Gt||this.fastForwardTo(r.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=n.Text,this.sectionStart=this.index+1)},c.prototype.stateBeforeSpecialS=function(p){var b=p|32;b===f.ScriptEnd[3]?this.startSpecial(f.ScriptEnd,4):b===f.StyleEnd[3]?this.startSpecial(f.StyleEnd,4):(this.state=n.InTagName,this.stateInTagName(p))},c.prototype.stateBeforeEntity=function(p){this.entityExcess=1,this.entityResult=0,p===r.Number?this.state=n.BeforeNumericEntity:p===r.Amp||(this.trieIndex=0,this.trieCurrent=this.entityTrie[0],this.state=n.InNamedEntity,this.stateInNamedEntity(p))},c.prototype.stateInNamedEntity=function(p){if(this.entityExcess+=1,this.trieIndex=(0,t.determineBranch)(this.entityTrie,this.trieCurrent,this.trieIndex+1,p),this.trieIndex<0){this.emitNamedEntity(),this.index--;return}this.trieCurrent=this.entityTrie[this.trieIndex];var b=this.trieCurrent&t.BinTrieFlags.VALUE_LENGTH;if(b){var v=(b>>14)-1;if(!this.allowLegacyEntity()&&p!==r.Semi)this.trieIndex+=v;else{var _=this.index-this.entityExcess+1;_>this.sectionStart&&this.emitPartial(this.sectionStart,_),this.entityResult=this.trieIndex,this.trieIndex+=v,this.entityExcess=0,this.sectionStart=this.index+1,v===0&&this.emitNamedEntity()}}},c.prototype.emitNamedEntity=function(){if(this.state=this.baseState,this.entityResult!==0){var p=(this.entityTrie[this.entityResult]&t.BinTrieFlags.VALUE_LENGTH)>>14;switch(p){case 1:{this.emitCodePoint(this.entityTrie[this.entityResult]&~t.BinTrieFlags.VALUE_LENGTH);break}case 2:{this.emitCodePoint(this.entityTrie[this.entityResult+1]);break}case 3:this.emitCodePoint(this.entityTrie[this.entityResult+1]),this.emitCodePoint(this.entityTrie[this.entityResult+2])}}},c.prototype.stateBeforeNumericEntity=function(p){(p|32)===r.LowerX?(this.entityExcess++,this.state=n.InHexEntity):(this.state=n.InNumericEntity,this.stateInNumericEntity(p))},c.prototype.emitNumericEntity=function(p){var b=this.index-this.entityExcess-1,v=b+2+ +(this.state===n.InHexEntity);v!==this.index&&(b>this.sectionStart&&this.emitPartial(this.sectionStart,b),this.sectionStart=this.index+Number(p),this.emitCodePoint((0,t.replaceCodePoint)(this.entityResult))),this.state=this.baseState},c.prototype.stateInNumericEntity=function(p){p===r.Semi?this.emitNumericEntity(!0):o(p)?(this.entityResult=this.entityResult*10+(p-r.Zero),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},c.prototype.stateInHexEntity=function(p){p===r.Semi?this.emitNumericEntity(!0):o(p)?(this.entityResult=this.entityResult*16+(p-r.Zero),this.entityExcess++):l(p)?(this.entityResult=this.entityResult*16+((p|32)-r.LowerA+10),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},c.prototype.allowLegacyEntity=function(){return!this.xmlMode&&(this.baseState===n.Text||this.baseState===n.InSpecialTag)},c.prototype.cleanup=function(){this.running&&this.sectionStart!==this.index&&(this.state===n.Text||this.state===n.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===n.InAttributeValueDq||this.state===n.InAttributeValueSq||this.state===n.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))},c.prototype.shouldContinue=function(){return this.index<this.buffer.length+this.offset&&this.running},c.prototype.parse=function(){for(;this.shouldContinue();){var p=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case n.Text:{this.stateText(p);break}case n.SpecialStartSequence:{this.stateSpecialStartSequence(p);break}case n.InSpecialTag:{this.stateInSpecialTag(p);break}case n.CDATASequence:{this.stateCDATASequence(p);break}case n.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(p);break}case n.InAttributeName:{this.stateInAttributeName(p);break}case n.InCommentLike:{this.stateInCommentLike(p);break}case n.InSpecialComment:{this.stateInSpecialComment(p);break}case n.BeforeAttributeName:{this.stateBeforeAttributeName(p);break}case n.InTagName:{this.stateInTagName(p);break}case n.InClosingTagName:{this.stateInClosingTagName(p);break}case n.BeforeTagName:{this.stateBeforeTagName(p);break}case n.AfterAttributeName:{this.stateAfterAttributeName(p);break}case n.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(p);break}case n.BeforeAttributeValue:{this.stateBeforeAttributeValue(p);break}case n.BeforeClosingTagName:{this.stateBeforeClosingTagName(p);break}case n.AfterClosingTagName:{this.stateAfterClosingTagName(p);break}case n.BeforeSpecialS:{this.stateBeforeSpecialS(p);break}case n.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(p);break}case n.InSelfClosingTag:{this.stateInSelfClosingTag(p);break}case n.InDeclaration:{this.stateInDeclaration(p);break}case n.BeforeDeclaration:{this.stateBeforeDeclaration(p);break}case n.BeforeComment:{this.stateBeforeComment(p);break}case n.InProcessingInstruction:{this.stateInProcessingInstruction(p);break}case n.InNamedEntity:{this.stateInNamedEntity(p);break}case n.BeforeEntity:{this.stateBeforeEntity(p);break}case n.InHexEntity:{this.stateInHexEntity(p);break}case n.InNumericEntity:{this.stateInNumericEntity(p);break}default:this.stateBeforeNumericEntity(p)}this.index++}this.cleanup()},c.prototype.finish=function(){this.state===n.InNamedEntity&&this.emitNamedEntity(),this.sectionStart<this.index&&this.handleTrailingData(),this.cbs.onend()},c.prototype.handleTrailingData=function(){var p=this.buffer.length+this.offset;this.state===n.InCommentLike?this.currentSequence===f.CdataEnd?this.cbs.oncdata(this.sectionStart,p,0):this.cbs.oncomment(this.sectionStart,p,0):this.state===n.InNumericEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===n.InHexEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===n.InTagName||this.state===n.BeforeAttributeName||this.state===n.BeforeAttributeValue||this.state===n.AfterAttributeName||this.state===n.InAttributeName||this.state===n.InAttributeValueSq||this.state===n.InAttributeValueDq||this.state===n.InAttributeValueNq||this.state===n.InClosingTagName||this.cbs.ontext(this.sectionStart,p)},c.prototype.emitPartial=function(p,b){this.baseState!==n.Text&&this.baseState!==n.InSpecialTag?this.cbs.onattribdata(p,b):this.cbs.ontext(p,b)},c.prototype.emitCodePoint=function(p){this.baseState!==n.Text&&this.baseState!==n.InSpecialTag?this.cbs.onattribentity(p):this.cbs.ontextentity(p)},c}();e.default=d}(J1)),J1}var CN;function LN(){if(CN)return fo;CN=1;var e=fo.__createBinding||(Object.create?function(_,y,m,g){g===void 0&&(g=m);var E=Object.getOwnPropertyDescriptor(y,m);(!E||("get"in E?!y.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return y[m]}}),Object.defineProperty(_,g,E)}:function(_,y,m,g){g===void 0&&(g=m),_[g]=y[m]}),t=fo.__setModuleDefault||(Object.create?function(_,y){Object.defineProperty(_,"default",{enumerable:!0,value:y})}:function(_,y){_.default=y}),r=fo.__importStar||function(_){if(_&&_.__esModule)return _;var y={};if(_!=null)for(var m in _)m!=="default"&&Object.prototype.hasOwnProperty.call(_,m)&&e(y,_,m);return t(y,_),y};Object.defineProperty(fo,"__esModule",{value:!0}),fo.Parser=void 0;var n=r(m8()),i=jo(),a=new Set(["input","option","optgroup","select","button","datalist","textarea"]),o=new Set(["p"]),s=new Set(["thead","tbody"]),l=new Set(["dd","dt"]),u=new Set(["rt","rp"]),f=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",o],["h1",o],["h2",o],["h3",o],["h4",o],["h5",o],["h6",o],["select",a],["input",a],["output",a],["button",a],["datalist",a],["textarea",a],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",l],["dt",l],["address",o],["article",o],["aside",o],["blockquote",o],["details",o],["div",o],["dl",o],["fieldset",o],["figcaption",o],["figure",o],["footer",o],["form",o],["header",o],["hr",o],["main",o],["nav",o],["ol",o],["pre",o],["section",o],["table",o],["ul",o],["rt",u],["rp",u],["tbody",s],["tfoot",s]]),d=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),c=new Set(["math","svg"]),p=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),b=/\s|\//,v=function(){function _(y,m){m===void 0&&(m={});var g,E,T,I,D;this.options=m,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=y??{},this.lowerCaseTagNames=(g=m.lowerCaseTags)!==null&&g!==void 0?g:!m.xmlMode,this.lowerCaseAttributeNames=(E=m.lowerCaseAttributeNames)!==null&&E!==void 0?E:!m.xmlMode,this.tokenizer=new((T=m.Tokenizer)!==null&&T!==void 0?T:n.default)(this.options,this),(D=(I=this.cbs).onparserinit)===null||D===void 0||D.call(I,this)}return _.prototype.ontext=function(y,m){var g,E,T=this.getSlice(y,m);this.endIndex=m-1,(E=(g=this.cbs).ontext)===null||E===void 0||E.call(g,T),this.startIndex=m},_.prototype.ontextentity=function(y){var m,g,E=this.tokenizer.getSectionStart();this.endIndex=E-1,(g=(m=this.cbs).ontext)===null||g===void 0||g.call(m,(0,i.fromCodePoint)(y)),this.startIndex=E},_.prototype.isVoidElement=function(y){return!this.options.xmlMode&&d.has(y)},_.prototype.onopentagname=function(y,m){this.endIndex=m;var g=this.getSlice(y,m);this.lowerCaseTagNames&&(g=g.toLowerCase()),this.emitOpenTag(g)},_.prototype.emitOpenTag=function(y){var m,g,E,T;this.openTagStart=this.startIndex,this.tagname=y;var I=!this.options.xmlMode&&f.get(y);if(I)for(;this.stack.length>0&&I.has(this.stack[this.stack.length-1]);){var D=this.stack.pop();(g=(m=this.cbs).onclosetag)===null||g===void 0||g.call(m,D,!0)}this.isVoidElement(y)||(this.stack.push(y),c.has(y)?this.foreignContext.push(!0):p.has(y)&&this.foreignContext.push(!1)),(T=(E=this.cbs).onopentagname)===null||T===void 0||T.call(E,y),this.cbs.onopentag&&(this.attribs={})},_.prototype.endOpenTag=function(y){var m,g;this.startIndex=this.openTagStart,this.attribs&&((g=(m=this.cbs).onopentag)===null||g===void 0||g.call(m,this.tagname,this.attribs,y),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""},_.prototype.onopentagend=function(y){this.endIndex=y,this.endOpenTag(!1),this.startIndex=y+1},_.prototype.onclosetag=function(y,m){var g,E,T,I,D,B;this.endIndex=m;var N=this.getSlice(y,m);if(this.lowerCaseTagNames&&(N=N.toLowerCase()),(c.has(N)||p.has(N))&&this.foreignContext.pop(),this.isVoidElement(N))!this.options.xmlMode&&N==="br"&&((E=(g=this.cbs).onopentagname)===null||E===void 0||E.call(g,"br"),(I=(T=this.cbs).onopentag)===null||I===void 0||I.call(T,"br",{},!0),(B=(D=this.cbs).onclosetag)===null||B===void 0||B.call(D,"br",!1));else{var M=this.stack.lastIndexOf(N);if(M!==-1)if(this.cbs.onclosetag)for(var j=this.stack.length-M;j--;)this.cbs.onclosetag(this.stack.pop(),j!==0);else this.stack.length=M;else!this.options.xmlMode&&N==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=m+1},_.prototype.onselfclosingtag=function(y){this.endIndex=y,this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?(this.closeCurrentTag(!1),this.startIndex=y+1):this.onopentagend(y)},_.prototype.closeCurrentTag=function(y){var m,g,E=this.tagname;this.endOpenTag(y),this.stack[this.stack.length-1]===E&&((g=(m=this.cbs).onclosetag)===null||g===void 0||g.call(m,E,!y),this.stack.pop())},_.prototype.onattribname=function(y,m){this.startIndex=y;var g=this.getSlice(y,m);this.attribname=this.lowerCaseAttributeNames?g.toLowerCase():g},_.prototype.onattribdata=function(y,m){this.attribvalue+=this.getSlice(y,m)},_.prototype.onattribentity=function(y){this.attribvalue+=(0,i.fromCodePoint)(y)},_.prototype.onattribend=function(y,m){var g,E;this.endIndex=m,(E=(g=this.cbs).onattribute)===null||E===void 0||E.call(g,this.attribname,this.attribvalue,y===n.QuoteType.Double?'"':y===n.QuoteType.Single?"'":y===n.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""},_.prototype.getInstructionName=function(y){var m=y.search(b),g=m<0?y:y.substr(0,m);return this.lowerCaseTagNames&&(g=g.toLowerCase()),g},_.prototype.ondeclaration=function(y,m){this.endIndex=m;var g=this.getSlice(y,m);if(this.cbs.onprocessinginstruction){var E=this.getInstructionName(g);this.cbs.onprocessinginstruction("!".concat(E),"!".concat(g))}this.startIndex=m+1},_.prototype.onprocessinginstruction=function(y,m){this.endIndex=m;var g=this.getSlice(y,m);if(this.cbs.onprocessinginstruction){var E=this.getInstructionName(g);this.cbs.onprocessinginstruction("?".concat(E),"?".concat(g))}this.startIndex=m+1},_.prototype.oncomment=function(y,m,g){var E,T,I,D;this.endIndex=m,(T=(E=this.cbs).oncomment)===null||T===void 0||T.call(E,this.getSlice(y,m-g)),(D=(I=this.cbs).oncommentend)===null||D===void 0||D.call(I),this.startIndex=m+1},_.prototype.oncdata=function(y,m,g){var E,T,I,D,B,N,M,j,O,q;this.endIndex=m;var Q=this.getSlice(y,m-g);this.options.xmlMode||this.options.recognizeCDATA?((T=(E=this.cbs).oncdatastart)===null||T===void 0||T.call(E),(D=(I=this.cbs).ontext)===null||D===void 0||D.call(I,Q),(N=(B=this.cbs).oncdataend)===null||N===void 0||N.call(B)):((j=(M=this.cbs).oncomment)===null||j===void 0||j.call(M,"[CDATA[".concat(Q,"]]")),(q=(O=this.cbs).oncommentend)===null||q===void 0||q.call(O)),this.startIndex=m+1},_.prototype.onend=function(){var y,m;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(var g=this.stack.length;g>0;this.cbs.onclosetag(this.stack[--g],!0));}(m=(y=this.cbs).onend)===null||m===void 0||m.call(y)},_.prototype.reset=function(){var y,m,g,E;(m=(y=this.cbs).onreset)===null||m===void 0||m.call(y),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(E=(g=this.cbs).onparserinit)===null||E===void 0||E.call(g,this),this.buffers.length=0,this.bufferOffset=0,this.writeIndex=0,this.ended=!1},_.prototype.parseComplete=function(y){this.reset(),this.end(y)},_.prototype.getSlice=function(y,m){for(;y-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();for(var g=this.buffers[0].slice(y-this.bufferOffset,m-this.bufferOffset);m-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),g+=this.buffers[0].slice(0,m-this.bufferOffset);return g},_.prototype.shiftBuffer=function(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()},_.prototype.write=function(y){var m,g;if(this.ended){(g=(m=this.cbs).onerror)===null||g===void 0||g.call(m,new Error(".write() after done!"));return}this.buffers.push(y),this.tokenizer.running&&(this.tokenizer.write(y),this.writeIndex++)},_.prototype.end=function(y){var m,g;if(this.ended){(g=(m=this.cbs).onerror)===null||g===void 0||g.call(m,new Error(".end() after done!"));return}y&&this.write(y),this.ended=!0,this.tokenizer.end()},_.prototype.pause=function(){this.tokenizer.pause()},_.prototype.resume=function(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()},_.prototype.parseChunk=function(y){this.write(y)},_.prototype.done=function(y){this.end(y)},_}();return fo.Parser=v,fo}var wc={},tw={},MN;function Qs(){return MN||(MN=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Doctype=e.CDATA=e.Tag=e.Style=e.Script=e.Comment=e.Directive=e.Text=e.Root=e.isTag=e.ElementType=void 0;var t;(function(n){n.Root="root",n.Text="text",n.Directive="directive",n.Comment="comment",n.Script="script",n.Style="style",n.Tag="tag",n.CDATA="cdata",n.Doctype="doctype"})(t=e.ElementType||(e.ElementType={}));function r(n){return n.type===t.Tag||n.type===t.Script||n.type===t.Style}e.isTag=r,e.Root=t.Root,e.Text=t.Text,e.Directive=t.Directive,e.Comment=t.Comment,e.Script=t.Script,e.Style=t.Style,e.Tag=t.Tag,e.CDATA=t.CDATA,e.Doctype=t.Doctype}(tw)),tw}var Ct={},kN;function FN(){if(kN)return Ct;kN=1;var e=Ct.__extends||function(){var T=function(I,D){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,N){B.__proto__=N}||function(B,N){for(var M in N)Object.prototype.hasOwnProperty.call(N,M)&&(B[M]=N[M])},T(I,D)};return function(I,D){if(typeof D!="function"&&D!==null)throw new TypeError("Class extends value "+String(D)+" is not a constructor or null");T(I,D);function B(){this.constructor=I}I.prototype=D===null?Object.create(D):(B.prototype=D.prototype,new B)}}(),t=Ct.__assign||function(){return t=Object.assign||function(T){for(var I,D=1,B=arguments.length;D<B;D++){I=arguments[D];for(var N in I)Object.prototype.hasOwnProperty.call(I,N)&&(T[N]=I[N])}return T},t.apply(this,arguments)};Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.cloneNode=Ct.hasChildren=Ct.isDocument=Ct.isDirective=Ct.isComment=Ct.isText=Ct.isCDATA=Ct.isTag=Ct.Element=Ct.Document=Ct.CDATA=Ct.NodeWithChildren=Ct.ProcessingInstruction=Ct.Comment=Ct.Text=Ct.DataNode=Ct.Node=void 0;var r=Qs(),n=function(){function T(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(T.prototype,"parentNode",{get:function(){return this.parent},set:function(I){this.parent=I},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"previousSibling",{get:function(){return this.prev},set:function(I){this.prev=I},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"nextSibling",{get:function(){return this.next},set:function(I){this.next=I},enumerable:!1,configurable:!0}),T.prototype.cloneNode=function(I){return I===void 0&&(I=!1),g(this,I)},T}();Ct.Node=n;var i=function(T){e(I,T);function I(D){var B=T.call(this)||this;return B.data=D,B}return Object.defineProperty(I.prototype,"nodeValue",{get:function(){return this.data},set:function(D){this.data=D},enumerable:!1,configurable:!0}),I}(n);Ct.DataNode=i;var a=function(T){e(I,T);function I(){var D=T!==null&&T.apply(this,arguments)||this;return D.type=r.ElementType.Text,D}return Object.defineProperty(I.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),I}(i);Ct.Text=a;var o=function(T){e(I,T);function I(){var D=T!==null&&T.apply(this,arguments)||this;return D.type=r.ElementType.Comment,D}return Object.defineProperty(I.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),I}(i);Ct.Comment=o;var s=function(T){e(I,T);function I(D,B){var N=T.call(this,B)||this;return N.name=D,N.type=r.ElementType.Directive,N}return Object.defineProperty(I.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),I}(i);Ct.ProcessingInstruction=s;var l=function(T){e(I,T);function I(D){var B=T.call(this)||this;return B.children=D,B}return Object.defineProperty(I.prototype,"firstChild",{get:function(){var D;return(D=this.children[0])!==null&&D!==void 0?D:null},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"childNodes",{get:function(){return this.children},set:function(D){this.children=D},enumerable:!1,configurable:!0}),I}(n);Ct.NodeWithChildren=l;var u=function(T){e(I,T);function I(){var D=T!==null&&T.apply(this,arguments)||this;return D.type=r.ElementType.CDATA,D}return Object.defineProperty(I.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),I}(l);Ct.CDATA=u;var f=function(T){e(I,T);function I(){var D=T!==null&&T.apply(this,arguments)||this;return D.type=r.ElementType.Root,D}return Object.defineProperty(I.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),I}(l);Ct.Document=f;var d=function(T){e(I,T);function I(D,B,N,M){N===void 0&&(N=[]),M===void 0&&(M=D==="script"?r.ElementType.Script:D==="style"?r.ElementType.Style:r.ElementType.Tag);var j=T.call(this,N)||this;return j.name=D,j.attribs=B,j.type=M,j}return Object.defineProperty(I.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"tagName",{get:function(){return this.name},set:function(D){this.name=D},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"attributes",{get:function(){var D=this;return Object.keys(this.attribs).map(function(B){var N,M;return{name:B,value:D.attribs[B],namespace:(N=D["x-attribsNamespace"])===null||N===void 0?void 0:N[B],prefix:(M=D["x-attribsPrefix"])===null||M===void 0?void 0:M[B]}})},enumerable:!1,configurable:!0}),I}(l);Ct.Element=d;function c(T){return(0,r.isTag)(T)}Ct.isTag=c;function p(T){return T.type===r.ElementType.CDATA}Ct.isCDATA=p;function b(T){return T.type===r.ElementType.Text}Ct.isText=b;function v(T){return T.type===r.ElementType.Comment}Ct.isComment=v;function _(T){return T.type===r.ElementType.Directive}Ct.isDirective=_;function y(T){return T.type===r.ElementType.Root}Ct.isDocument=y;function m(T){return Object.prototype.hasOwnProperty.call(T,"children")}Ct.hasChildren=m;function g(T,I){I===void 0&&(I=!1);var D;if(b(T))D=new a(T.data);else if(v(T))D=new o(T.data);else if(c(T)){var B=I?E(T.children):[],N=new d(T.name,t({},T.attribs),B);B.forEach(function(q){return q.parent=N}),T.namespace!=null&&(N.namespace=T.namespace),T["x-attribsNamespace"]&&(N["x-attribsNamespace"]=t({},T["x-attribsNamespace"])),T["x-attribsPrefix"]&&(N["x-attribsPrefix"]=t({},T["x-attribsPrefix"])),D=N}else if(p(T)){var B=I?E(T.children):[],M=new u(B);B.forEach(function(Q){return Q.parent=M}),D=M}else if(y(T)){var B=I?E(T.children):[],j=new f(B);B.forEach(function(Q){return Q.parent=j}),T["x-mode"]&&(j["x-mode"]=T["x-mode"]),D=j}else if(_(T)){var O=new s(T.name,T.data);T["x-name"]!=null&&(O["x-name"]=T["x-name"],O["x-publicId"]=T["x-publicId"],O["x-systemId"]=T["x-systemId"]),D=O}else throw new Error("Not implemented yet: ".concat(T.type));return D.startIndex=T.startIndex,D.endIndex=T.endIndex,T.sourceCodeLocation!=null&&(D.sourceCodeLocation=T.sourceCodeLocation),D}Ct.cloneNode=g;function E(T){for(var I=T.map(function(B){return g(B,!0)}),D=1;D<I.length;D++)I[D].prev=I[D-1],I[D-1].next=I[D];return I}return Ct}var jN;function Ri(){return jN||(jN=1,function(e){var t=wc.__createBinding||(Object.create?function(s,l,u,f){f===void 0&&(f=u);var d=Object.getOwnPropertyDescriptor(l,u);(!d||("get"in d?!l.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return l[u]}}),Object.defineProperty(s,f,d)}:function(s,l,u,f){f===void 0&&(f=u),s[f]=l[u]}),r=wc.__exportStar||function(s,l){for(var u in s)u!=="default"&&!Object.prototype.hasOwnProperty.call(l,u)&&t(l,s,u)};Object.defineProperty(e,"__esModule",{value:!0}),e.DomHandler=void 0;var n=Qs(),i=FN();r(FN(),e);var a={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},o=function(){function s(l,u,f){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof u=="function"&&(f=u,u=a),typeof l=="object"&&(u=l,l=void 0),this.callback=l??null,this.options=u??a,this.elementCB=f??null}return s.prototype.onparserinit=function(l){this.parser=l},s.prototype.onreset=function(){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},s.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},s.prototype.onerror=function(l){this.handleCallback(l)},s.prototype.onclosetag=function(){this.lastNode=null;var l=this.tagStack.pop();this.options.withEndIndices&&(l.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(l)},s.prototype.onopentag=function(l,u){var f=this.options.xmlMode?n.ElementType.Tag:void 0,d=new i.Element(l,u,void 0,f);this.addNode(d),this.tagStack.push(d)},s.prototype.ontext=function(l){var u=this.lastNode;if(u&&u.type===n.ElementType.Text)u.data+=l,this.options.withEndIndices&&(u.endIndex=this.parser.endIndex);else{var f=new i.Text(l);this.addNode(f),this.lastNode=f}},s.prototype.oncomment=function(l){if(this.lastNode&&this.lastNode.type===n.ElementType.Comment){this.lastNode.data+=l;return}var u=new i.Comment(l);this.addNode(u),this.lastNode=u},s.prototype.oncommentend=function(){this.lastNode=null},s.prototype.oncdatastart=function(){var l=new i.Text(""),u=new i.CDATA([l]);this.addNode(u),l.parent=u,this.lastNode=l},s.prototype.oncdataend=function(){this.lastNode=null},s.prototype.onprocessinginstruction=function(l,u){var f=new i.ProcessingInstruction(l,u);this.addNode(f)},s.prototype.handleCallback=function(l){if(typeof this.callback=="function")this.callback(l,this.dom);else if(l)throw l},s.prototype.addNode=function(l){var u=this.tagStack[this.tagStack.length-1],f=u.children[u.children.length-1];this.options.withStartIndices&&(l.startIndex=this.parser.startIndex),this.options.withEndIndices&&(l.endIndex=this.parser.endIndex),u.children.push(l),f&&(l.prev=f,f.next=l),l.parent=u,this.lastNode=null},s}();e.DomHandler=o,e.default=o}(wc)),wc}var Ec={},Na={},ia={},rw={},co={},S0={},BN;function TX(){if(BN)return S0;BN=1,Object.defineProperty(S0,"__esModule",{value:!0});function e(t){for(var r=1;r<t.length;r++)t[r][0]+=t[r-1][0]+1;return t}return S0.default=new Map(e([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(e([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(e([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(e([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]])),S0}var nw={},qN;function cE(){return qN||(qN=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.escapeText=e.escapeAttribute=e.escapeUTF8=e.escape=e.encodeXML=e.getCodePoint=e.xmlReplacer=void 0,e.xmlReplacer=/["&'<>$\x80-\uFFFF]/g;var t=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);e.getCodePoint=String.prototype.codePointAt!=null?function(i,a){return i.codePointAt(a)}:function(i,a){return(i.charCodeAt(a)&64512)===55296?(i.charCodeAt(a)-55296)*1024+i.charCodeAt(a+1)-56320+65536:i.charCodeAt(a)};function r(i){for(var a="",o=0,s;(s=e.xmlReplacer.exec(i))!==null;){var l=s.index,u=i.charCodeAt(l),f=t.get(u);f!==void 0?(a+=i.substring(o,l)+f,o=l+1):(a+="".concat(i.substring(o,l),"&#x").concat((0,e.getCodePoint)(i,l).toString(16),";"),o=e.xmlReplacer.lastIndex+=+((u&64512)===55296))}return a+i.substr(o)}e.encodeXML=r,e.escape=r;function n(i,a){return function(s){for(var l,u=0,f="";l=i.exec(s);)u!==l.index&&(f+=s.substring(u,l.index)),f+=a.get(l[0].charCodeAt(0)),u=l.index+1;return f+s.substring(u)}}e.escapeUTF8=n(/[&<>'"]/g,t),e.escapeAttribute=n(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),e.escapeText=n(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]))}(nw)),nw}var $N;function UN(){if($N)return co;$N=1;var e=co.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(co,"__esModule",{value:!0}),co.encodeNonAsciiHTML=co.encodeHTML=void 0;var t=e(TX()),r=cE(),n=/[\t\n!-,./:-@[-`\f{-}$\x80-\uFFFF]/g;function i(s){return o(n,s)}co.encodeHTML=i;function a(s){return o(r.xmlReplacer,s)}co.encodeNonAsciiHTML=a;function o(s,l){for(var u="",f=0,d;(d=s.exec(l))!==null;){var c=d.index;u+=l.substring(f,c);var p=l.charCodeAt(c),b=t.default.get(p);if(typeof b=="object"){if(c+1<l.length){var v=l.charCodeAt(c+1),_=typeof b.n=="number"?b.n===v?b.o:void 0:b.n.get(v);if(_!==void 0){u+=_,f=s.lastIndex+=1;continue}}b=b.v}if(b!==void 0)u+=b,f=c+1;else{var y=(0,r.getCodePoint)(l,c);u+="&#x".concat(y.toString(16),";"),f=s.lastIndex+=+(y!==p)}}return u+l.substr(f)}return co}var HN;function RX(){return HN||(HN=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeXMLStrict=e.decodeHTML5Strict=e.decodeHTML4Strict=e.decodeHTML5=e.decodeHTML4=e.decodeHTMLAttribute=e.decodeHTMLStrict=e.decodeHTML=e.decodeXML=e.DecodingMode=e.EntityDecoder=e.encodeHTML5=e.encodeHTML4=e.encodeNonAsciiHTML=e.encodeHTML=e.escapeText=e.escapeAttribute=e.escapeUTF8=e.escape=e.encodeXML=e.encode=e.decodeStrict=e.decode=e.EncodingMode=e.EntityLevel=void 0;var t=jo(),r=UN(),n=cE(),i;(function(c){c[c.XML=0]="XML",c[c.HTML=1]="HTML"})(i=e.EntityLevel||(e.EntityLevel={}));var a;(function(c){c[c.UTF8=0]="UTF8",c[c.ASCII=1]="ASCII",c[c.Extensive=2]="Extensive",c[c.Attribute=3]="Attribute",c[c.Text=4]="Text"})(a=e.EncodingMode||(e.EncodingMode={}));function o(c,p){p===void 0&&(p=i.XML);var b=typeof p=="number"?p:p.level;if(b===i.HTML){var v=typeof p=="object"?p.mode:void 0;return(0,t.decodeHTML)(c,v)}return(0,t.decodeXML)(c)}e.decode=o;function s(c,p){var b;p===void 0&&(p=i.XML);var v=typeof p=="number"?{level:p}:p;return(b=v.mode)!==null&&b!==void 0||(v.mode=t.DecodingMode.Strict),o(c,v)}e.decodeStrict=s;function l(c,p){p===void 0&&(p=i.XML);var b=typeof p=="number"?{level:p}:p;return b.mode===a.UTF8?(0,n.escapeUTF8)(c):b.mode===a.Attribute?(0,n.escapeAttribute)(c):b.mode===a.Text?(0,n.escapeText)(c):b.level===i.HTML?b.mode===a.ASCII?(0,r.encodeNonAsciiHTML)(c):(0,r.encodeHTML)(c):(0,n.encodeXML)(c)}e.encode=l;var u=cE();Object.defineProperty(e,"encodeXML",{enumerable:!0,get:function(){return u.encodeXML}}),Object.defineProperty(e,"escape",{enumerable:!0,get:function(){return u.escape}}),Object.defineProperty(e,"escapeUTF8",{enumerable:!0,get:function(){return u.escapeUTF8}}),Object.defineProperty(e,"escapeAttribute",{enumerable:!0,get:function(){return u.escapeAttribute}}),Object.defineProperty(e,"escapeText",{enumerable:!0,get:function(){return u.escapeText}});var f=UN();Object.defineProperty(e,"encodeHTML",{enumerable:!0,get:function(){return f.encodeHTML}}),Object.defineProperty(e,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return f.encodeNonAsciiHTML}}),Object.defineProperty(e,"encodeHTML4",{enumerable:!0,get:function(){return f.encodeHTML}}),Object.defineProperty(e,"encodeHTML5",{enumerable:!0,get:function(){return f.encodeHTML}});var d=jo();Object.defineProperty(e,"EntityDecoder",{enumerable:!0,get:function(){return d.EntityDecoder}}),Object.defineProperty(e,"DecodingMode",{enumerable:!0,get:function(){return d.DecodingMode}}),Object.defineProperty(e,"decodeXML",{enumerable:!0,get:function(){return d.decodeXML}}),Object.defineProperty(e,"decodeHTML",{enumerable:!0,get:function(){return d.decodeHTML}}),Object.defineProperty(e,"decodeHTMLStrict",{enumerable:!0,get:function(){return d.decodeHTMLStrict}}),Object.defineProperty(e,"decodeHTMLAttribute",{enumerable:!0,get:function(){return d.decodeHTMLAttribute}}),Object.defineProperty(e,"decodeHTML4",{enumerable:!0,get:function(){return d.decodeHTML}}),Object.defineProperty(e,"decodeHTML5",{enumerable:!0,get:function(){return d.decodeHTML}}),Object.defineProperty(e,"decodeHTML4Strict",{enumerable:!0,get:function(){return d.decodeHTMLStrict}}),Object.defineProperty(e,"decodeHTML5Strict",{enumerable:!0,get:function(){return d.decodeHTMLStrict}}),Object.defineProperty(e,"decodeXMLStrict",{enumerable:!0,get:function(){return d.decodeXML}})}(rw)),rw}var gs={},VN;function AX(){return VN||(VN=1,Object.defineProperty(gs,"__esModule",{value:!0}),gs.attributeNames=gs.elementNames=void 0,gs.elementNames=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(function(e){return[e.toLowerCase(),e]})),gs.attributeNames=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(function(e){return[e.toLowerCase(),e]}))),gs}var zN;function IX(){if(zN)return ia;zN=1;var e=ia.__assign||function(){return e=Object.assign||function(E){for(var T,I=1,D=arguments.length;I<D;I++){T=arguments[I];for(var B in T)Object.prototype.hasOwnProperty.call(T,B)&&(E[B]=T[B])}return E},e.apply(this,arguments)},t=ia.__createBinding||(Object.create?function(E,T,I,D){D===void 0&&(D=I);var B=Object.getOwnPropertyDescriptor(T,I);(!B||("get"in B?!T.__esModule:B.writable||B.configurable))&&(B={enumerable:!0,get:function(){return T[I]}}),Object.defineProperty(E,D,B)}:function(E,T,I,D){D===void 0&&(D=I),E[D]=T[I]}),r=ia.__setModuleDefault||(Object.create?function(E,T){Object.defineProperty(E,"default",{enumerable:!0,value:T})}:function(E,T){E.default=T}),n=ia.__importStar||function(E){if(E&&E.__esModule)return E;var T={};if(E!=null)for(var I in E)I!=="default"&&Object.prototype.hasOwnProperty.call(E,I)&&t(T,E,I);return r(T,E),T};Object.defineProperty(ia,"__esModule",{value:!0}),ia.render=void 0;var i=n(Qs()),a=RX(),o=AX(),s=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function l(E){return E.replace(/"/g,"&quot;")}function u(E,T){var I;if(E){var D=((I=T.encodeEntities)!==null&&I!==void 0?I:T.decodeEntities)===!1?l:T.xmlMode||T.encodeEntities!=="utf8"?a.encodeXML:a.escapeAttribute;return Object.keys(E).map(function(B){var N,M,j=(N=E[B])!==null&&N!==void 0?N:"";return T.xmlMode==="foreign"&&(B=(M=o.attributeNames.get(B))!==null&&M!==void 0?M:B),!T.emptyAttrs&&!T.xmlMode&&j===""?B:"".concat(B,'="').concat(D(j),'"')}).join(" ")}}var f=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function d(E,T){T===void 0&&(T={});for(var I=("length"in E)?E:[E],D="",B=0;B<I.length;B++)D+=c(I[B],T);return D}ia.render=d,ia.default=d;function c(E,T){switch(E.type){case i.Root:return d(E.children,T);case i.Doctype:case i.Directive:return _(E);case i.Comment:return g(E);case i.CDATA:return m(E);case i.Script:case i.Style:case i.Tag:return v(E,T);case i.Text:return y(E,T)}}var p=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),b=new Set(["svg","math"]);function v(E,T){var I;T.xmlMode==="foreign"&&(E.name=(I=o.elementNames.get(E.name))!==null&&I!==void 0?I:E.name,E.parent&&p.has(E.parent.name)&&(T=e(e({},T),{xmlMode:!1}))),!T.xmlMode&&b.has(E.name)&&(T=e(e({},T),{xmlMode:"foreign"}));var D="<".concat(E.name),B=u(E.attribs,T);return B&&(D+=" ".concat(B)),E.children.length===0&&(T.xmlMode?T.selfClosingTags!==!1:T.selfClosingTags&&f.has(E.name))?(T.xmlMode||(D+=" "),D+="/>"):(D+=">",E.children.length>0&&(D+=d(E.children,T)),(T.xmlMode||!f.has(E.name))&&(D+="</".concat(E.name,">"))),D}function _(E){return"<".concat(E.data,">")}function y(E,T){var I,D=E.data||"";return((I=T.encodeEntities)!==null&&I!==void 0?I:T.decodeEntities)!==!1&&!(!T.xmlMode&&E.parent&&s.has(E.parent.name))&&(D=T.xmlMode||T.encodeEntities!=="utf8"?(0,a.encodeXML)(D):(0,a.escapeText)(D)),D}function m(E){return"<![CDATA[".concat(E.children[0].data,"]]>")}function g(E){return"<!--".concat(E.data,"-->")}return ia}var WN;function y8(){if(WN)return Na;WN=1;var e=Na.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Na,"__esModule",{value:!0}),Na.getOuterHTML=i,Na.getInnerHTML=a,Na.getText=o,Na.textContent=s,Na.innerText=l;var t=Ri(),r=e(IX()),n=Qs();function i(u,f){return(0,r.default)(u,f)}function a(u,f){return(0,t.hasChildren)(u)?u.children.map(function(d){return i(d,f)}).join(""):""}function o(u){return Array.isArray(u)?u.map(o).join(""):(0,t.isTag)(u)?u.name==="br"?`
`:o(u.children):(0,t.isCDATA)(u)?o(u.children):(0,t.isText)(u)?u.data:""}function s(u){return Array.isArray(u)?u.map(s).join(""):(0,t.hasChildren)(u)&&!(0,t.isComment)(u)?s(u.children):(0,t.isText)(u)?u.data:""}function l(u){return Array.isArray(u)?u.map(l).join(""):(0,t.hasChildren)(u)&&(u.type===n.ElementType.Tag||(0,t.isCDATA)(u))?l(u.children):(0,t.isText)(u)?u.data:""}return Na}var Li={},GN;function OX(){if(GN)return Li;GN=1,Object.defineProperty(Li,"__esModule",{value:!0}),Li.getChildren=t,Li.getParent=r,Li.getSiblings=n,Li.getAttributeValue=i,Li.hasAttrib=a,Li.getName=o,Li.nextElementSibling=s,Li.prevElementSibling=l;var e=Ri();function t(u){return(0,e.hasChildren)(u)?u.children:[]}function r(u){return u.parent||null}function n(u){var f,d,c=r(u);if(c!=null)return t(c);for(var p=[u],b=u.prev,v=u.next;b!=null;)p.unshift(b),f=b,b=f.prev;for(;v!=null;)p.push(v),d=v,v=d.next;return p}function i(u,f){var d;return(d=u.attribs)===null||d===void 0?void 0:d[f]}function a(u,f){return u.attribs!=null&&Object.prototype.hasOwnProperty.call(u.attribs,f)&&u.attribs[f]!=null}function o(u){return u.name}function s(u){for(var f,d=u.next;d!==null&&!(0,e.isTag)(d);)f=d,d=f.next;return d}function l(u){for(var f,d=u.prev;d!==null&&!(0,e.isTag)(d);)f=d,d=f.prev;return d}return Li}var Ca={},KN;function PX(){if(KN)return Ca;KN=1,Object.defineProperty(Ca,"__esModule",{value:!0}),Ca.removeElement=e,Ca.replaceElement=t,Ca.appendChild=r,Ca.append=n,Ca.prependChild=i,Ca.prepend=a;function e(o){if(o.prev&&(o.prev.next=o.next),o.next&&(o.next.prev=o.prev),o.parent){var s=o.parent.children,l=s.lastIndexOf(o);l>=0&&s.splice(l,1)}o.next=null,o.prev=null,o.parent=null}function t(o,s){var l=s.prev=o.prev;l&&(l.next=s);var u=s.next=o.next;u&&(u.prev=s);var f=s.parent=o.parent;if(f){var d=f.children;d[d.lastIndexOf(o)]=s,o.parent=null}}function r(o,s){if(e(s),s.next=null,s.parent=o,o.children.push(s)>1){var l=o.children[o.children.length-2];l.next=s,s.prev=l}else s.prev=null}function n(o,s){e(s);var l=o.parent,u=o.next;if(s.next=u,s.prev=o,o.next=s,s.parent=l,u){if(u.prev=s,l){var f=l.children;f.splice(f.lastIndexOf(u),0,s)}}else l&&l.children.push(s)}function i(o,s){if(e(s),s.parent=o,s.prev=null,o.children.unshift(s)!==1){var l=o.children[1];l.prev=s,s.next=l}else s.next=null}function a(o,s){e(s);var l=o.parent;if(l){var u=l.children;u.splice(u.indexOf(o),0,s)}o.prev&&(o.prev.next=s),s.parent=l,s.prev=o.prev,s.next=o,o.prev=s}return Ca}var La={},ZN;function g8(){if(ZN)return La;ZN=1,Object.defineProperty(La,"__esModule",{value:!0}),La.filter=t,La.find=r,La.findOneChild=n,La.findOne=i,La.existsOne=a,La.findAll=o;var e=Ri();function t(s,l,u,f){return u===void 0&&(u=!0),f===void 0&&(f=1/0),r(s,Array.isArray(l)?l:[l],u,f)}function r(s,l,u,f){for(var d=[],c=[Array.isArray(l)?l:[l]],p=[0];;){if(p[0]>=c[0].length){if(p.length===1)return d;c.shift(),p.shift();continue}var b=c[0][p[0]++];if(s(b)&&(d.push(b),--f<=0))return d;u&&(0,e.hasChildren)(b)&&b.children.length>0&&(p.unshift(0),c.unshift(b.children))}}function n(s,l){return l.find(s)}function i(s,l,u){u===void 0&&(u=!0);for(var f=Array.isArray(l)?l:[l],d=0;d<f.length;d++){var c=f[d];if((0,e.isTag)(c)&&s(c))return c;if(u&&(0,e.hasChildren)(c)&&c.children.length>0){var p=i(s,c.children,!0);if(p)return p}}return null}function a(s,l){return(Array.isArray(l)?l:[l]).some(function(u){return(0,e.isTag)(u)&&s(u)||(0,e.hasChildren)(u)&&a(s,u.children)})}function o(s,l){for(var u=[],f=[Array.isArray(l)?l:[l]],d=[0];;){if(d[0]>=f[0].length){if(f.length===1)return u;f.shift(),d.shift();continue}var c=f[0][d[0]++];(0,e.isTag)(c)&&s(c)&&u.push(c),(0,e.hasChildren)(c)&&c.children.length>0&&(d.unshift(0),f.unshift(c.children))}}return La}var Ma={},YN;function _8(){if(YN)return Ma;YN=1,Object.defineProperty(Ma,"__esModule",{value:!0}),Ma.testElement=o,Ma.getElements=s,Ma.getElementById=l,Ma.getElementsByTagName=u,Ma.getElementsByClassName=f,Ma.getElementsByTagType=d;var e=Ri(),t=g8(),r={tag_name:function(c){return typeof c=="function"?function(p){return(0,e.isTag)(p)&&c(p.name)}:c==="*"?e.isTag:function(p){return(0,e.isTag)(p)&&p.name===c}},tag_type:function(c){return typeof c=="function"?function(p){return c(p.type)}:function(p){return p.type===c}},tag_contains:function(c){return typeof c=="function"?function(p){return(0,e.isText)(p)&&c(p.data)}:function(p){return(0,e.isText)(p)&&p.data===c}}};function n(c,p){return typeof p=="function"?function(b){return(0,e.isTag)(b)&&p(b.attribs[c])}:function(b){return(0,e.isTag)(b)&&b.attribs[c]===p}}function i(c,p){return function(b){return c(b)||p(b)}}function a(c){var p=Object.keys(c).map(function(b){var v=c[b];return Object.prototype.hasOwnProperty.call(r,b)?r[b](v):n(b,v)});return p.length===0?null:p.reduce(i)}function o(c,p){var b=a(c);return b?b(p):!0}function s(c,p,b,v){v===void 0&&(v=1/0);var _=a(c);return _?(0,t.filter)(_,p,b,v):[]}function l(c,p,b){return b===void 0&&(b=!0),Array.isArray(p)||(p=[p]),(0,t.findOne)(n("id",c),p,b)}function u(c,p,b,v){return b===void 0&&(b=!0),v===void 0&&(v=1/0),(0,t.filter)(r.tag_name(c),p,b,v)}function f(c,p,b,v){return b===void 0&&(b=!0),v===void 0&&(v=1/0),(0,t.filter)(n("class",c),p,b,v)}function d(c,p,b,v){return b===void 0&&(b=!0),v===void 0&&(v=1/0),(0,t.filter)(r.tag_type(c),p,b,v)}return Ma}var ho={},QN;function DX(){if(QN)return ho;QN=1,Object.defineProperty(ho,"__esModule",{value:!0}),ho.DocumentPosition=void 0,ho.removeSubsets=t,ho.compareDocumentPosition=n,ho.uniqueSort=i;var e=Ri();function t(a){for(var o=a.length;--o>=0;){var s=a[o];if(o>0&&a.lastIndexOf(s,o-1)>=0){a.splice(o,1);continue}for(var l=s.parent;l;l=l.parent)if(a.includes(l)){a.splice(o,1);break}}return a}var r;(function(a){a[a.DISCONNECTED=1]="DISCONNECTED",a[a.PRECEDING=2]="PRECEDING",a[a.FOLLOWING=4]="FOLLOWING",a[a.CONTAINS=8]="CONTAINS",a[a.CONTAINED_BY=16]="CONTAINED_BY"})(r||(ho.DocumentPosition=r={}));function n(a,o){var s=[],l=[];if(a===o)return 0;for(var u=(0,e.hasChildren)(a)?a:a.parent;u;)s.unshift(u),u=u.parent;for(u=(0,e.hasChildren)(o)?o:o.parent;u;)l.unshift(u),u=u.parent;for(var f=Math.min(s.length,l.length),d=0;d<f&&s[d]===l[d];)d++;if(d===0)return r.DISCONNECTED;var c=s[d-1],p=c.children,b=s[d],v=l[d];return p.indexOf(b)>p.indexOf(v)?c===o?r.FOLLOWING|r.CONTAINED_BY:r.FOLLOWING:c===a?r.PRECEDING|r.CONTAINS:r.PRECEDING}function i(a){return a=a.filter(function(o,s,l){return!l.includes(o,s+1)}),a.sort(function(o,s){var l=n(o,s);return l&r.PRECEDING?-1:l&r.FOLLOWING?1:0}),a}return ho}var x0={},XN;function NX(){if(XN)return x0;XN=1,Object.defineProperty(x0,"__esModule",{value:!0}),x0.getFeed=r;var e=y8(),t=_8();function r(c){var p=l(d,c);return p?p.name==="feed"?n(p):i(p):null}function n(c){var p,b=c.children,v={type:"atom",items:(0,t.getElementsByTagName)("entry",b).map(function(m){var g,E=m.children,T={media:s(E)};f(T,"id","id",E),f(T,"title","title",E);var I=(g=l("link",E))===null||g===void 0?void 0:g.attribs.href;I&&(T.link=I);var D=u("summary",E)||u("content",E);D&&(T.description=D);var B=u("updated",E);return B&&(T.pubDate=new Date(B)),T})};f(v,"id","id",b),f(v,"title","title",b);var _=(p=l("link",b))===null||p===void 0?void 0:p.attribs.href;_&&(v.link=_),f(v,"description","subtitle",b);var y=u("updated",b);return y&&(v.updated=new Date(y)),f(v,"author","email",b,!0),v}function i(c){var p,b,v=(b=(p=l("channel",c.children))===null||p===void 0?void 0:p.children)!==null&&b!==void 0?b:[],_={type:c.name.substr(0,3),id:"",items:(0,t.getElementsByTagName)("item",c.children).map(function(m){var g=m.children,E={media:s(g)};f(E,"id","guid",g),f(E,"title","title",g),f(E,"link","link",g),f(E,"description","description",g);var T=u("pubDate",g)||u("dc:date",g);return T&&(E.pubDate=new Date(T)),E})};f(_,"title","title",v),f(_,"link","link",v),f(_,"description","description",v);var y=u("lastBuildDate",v);return y&&(_.updated=new Date(y)),f(_,"author","managingEditor",v,!0),_}var a=["url","type","lang"],o=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function s(c){return(0,t.getElementsByTagName)("media:content",c).map(function(p){for(var b=p.attribs,v={medium:b.medium,isDefault:!!b.isDefault},_=0,y=a;_<y.length;_++){var m=y[_];b[m]&&(v[m]=b[m])}for(var g=0,E=o;g<E.length;g++){var m=E[g];b[m]&&(v[m]=parseInt(b[m],10))}return b.expression&&(v.expression=b.expression),v})}function l(c,p){return(0,t.getElementsByTagName)(c,p,!0,1)[0]}function u(c,p,b){return b===void 0&&(b=!1),(0,e.textContent)((0,t.getElementsByTagName)(c,p,b,1)).trim()}function f(c,p,b,v,_){_===void 0&&(_=!1);var y=u(b,v,_);y&&(c[p]=y)}function d(c){return c==="rss"||c==="feed"||c==="rdf:RDF"}return x0}var JN;function Wa(){return JN||(JN=1,function(e){var t=Ec.__createBinding||(Object.create?function(i,a,o,s){s===void 0&&(s=o);var l=Object.getOwnPropertyDescriptor(a,o);(!l||("get"in l?!a.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return a[o]}}),Object.defineProperty(i,s,l)}:function(i,a,o,s){s===void 0&&(s=o),i[s]=a[o]}),r=Ec.__exportStar||function(i,a){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(a,o)&&t(a,i,o)};Object.defineProperty(e,"__esModule",{value:!0}),e.hasChildren=e.isDocument=e.isComment=e.isText=e.isCDATA=e.isTag=void 0,r(y8(),e),r(OX(),e),r(PX(),e),r(g8(),e),r(_8(),e),r(DX(),e),r(NX(),e);var n=Ri();Object.defineProperty(e,"isTag",{enumerable:!0,get:function(){return n.isTag}}),Object.defineProperty(e,"isCDATA",{enumerable:!0,get:function(){return n.isCDATA}}),Object.defineProperty(e,"isText",{enumerable:!0,get:function(){return n.isText}}),Object.defineProperty(e,"isComment",{enumerable:!0,get:function(){return n.isComment}}),Object.defineProperty(e,"isDocument",{enumerable:!0,get:function(){return n.isDocument}}),Object.defineProperty(e,"hasChildren",{enumerable:!0,get:function(){return n.hasChildren}})}(Ec)),Ec}var eC;function CX(){return eC||(eC=1,function(e){var t=ms.__createBinding||(Object.create?function(y,m,g,E){E===void 0&&(E=g);var T=Object.getOwnPropertyDescriptor(m,g);(!T||("get"in T?!m.__esModule:T.writable||T.configurable))&&(T={enumerable:!0,get:function(){return m[g]}}),Object.defineProperty(y,E,T)}:function(y,m,g,E){E===void 0&&(E=g),y[E]=m[g]}),r=ms.__setModuleDefault||(Object.create?function(y,m){Object.defineProperty(y,"default",{enumerable:!0,value:m})}:function(y,m){y.default=m}),n=ms.__importStar||function(y){if(y&&y.__esModule)return y;var m={};if(y!=null)for(var g in y)g!=="default"&&Object.prototype.hasOwnProperty.call(y,g)&&t(m,y,g);return r(m,y),m},i=ms.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(e,"__esModule",{value:!0}),e.DomUtils=e.parseFeed=e.getFeed=e.ElementType=e.Tokenizer=e.createDomStream=e.parseDOM=e.parseDocument=e.DefaultHandler=e.DomHandler=e.Parser=void 0;var a=LN(),o=LN();Object.defineProperty(e,"Parser",{enumerable:!0,get:function(){return o.Parser}});var s=Ri(),l=Ri();Object.defineProperty(e,"DomHandler",{enumerable:!0,get:function(){return l.DomHandler}}),Object.defineProperty(e,"DefaultHandler",{enumerable:!0,get:function(){return l.DomHandler}});function u(y,m){var g=new s.DomHandler(void 0,m);return new a.Parser(g,m).end(y),g.root}e.parseDocument=u;function f(y,m){return u(y,m).children}e.parseDOM=f;function d(y,m,g){var E=new s.DomHandler(y,m,g);return new a.Parser(E,m)}e.createDomStream=d;var c=m8();Object.defineProperty(e,"Tokenizer",{enumerable:!0,get:function(){return i(c).default}}),e.ElementType=n(Qs());var p=Wa(),b=Wa();Object.defineProperty(e,"getFeed",{enumerable:!0,get:function(){return b.getFeed}});var v={xmlMode:!0};function _(y,m){return m===void 0&&(m=v),(0,p.getFeed)(f(y,m))}e.parseFeed=_,e.DomUtils=n(Wa())}(ms)),ms}const LX={"@context":{alternate:"http://www.w3.org/1999/xhtml/vocab#alternate",appendix:"http://www.w3.org/1999/xhtml/vocab#appendix",cite:"http://www.w3.org/1999/xhtml/vocab#cite",bookmark:"http://www.w3.org/1999/xhtml/vocab#bookmark",contents:"http://www.w3.org/1999/xhtml/vocab#contents",chapter:"http://www.w3.org/1999/xhtml/vocab#chapter",copyright:"http://www.w3.org/1999/xhtml/vocab#copyright",first:"http://www.w3.org/1999/xhtml/vocab#first",glossary:"http://www.w3.org/1999/xhtml/vocab#glossary",help:"http://www.w3.org/1999/xhtml/vocab#help",icon:"http://www.w3.org/1999/xhtml/vocab#icon",index:"http://www.w3.org/1999/xhtml/vocab#index",last:"http://www.w3.org/1999/xhtml/vocab#last",license:"http://www.w3.org/1999/xhtml/vocab#license",meta:"http://www.w3.org/1999/xhtml/vocab#meta",next:"http://www.w3.org/1999/xhtml/vocab#next",prev:"http://www.w3.org/1999/xhtml/vocab#prev",previous:"http://www.w3.org/1999/xhtml/vocab#previous",section:"http://www.w3.org/1999/xhtml/vocab#section",start:"http://www.w3.org/1999/xhtml/vocab#start",stylesheet:"http://www.w3.org/1999/xhtml/vocab#stylesheet",subsection:"http://www.w3.org/1999/xhtml/vocab#subsection",top:"http://www.w3.org/1999/xhtml/vocab#top",up:"http://www.w3.org/1999/xhtml/vocab#up",p3pv1:"http://www.w3.org/1999/xhtml/vocab#p3pv1"}},MX={"@context":{as:"https://www.w3.org/ns/activitystreams#",cat:"http://www.w3.org/ns/dcat#",cc:"http://creativecommons.org/ns#",cnt:"http://www.w3.org/2008/content#",csvw:"http://www.w3.org/ns/csvw#",ctag:"http://commontag.org/ns#",dc:"http://purl.org/dc/terms/",dc11:"http://purl.org/dc/elements/1.1/",dcat:"http://www.w3.org/ns/dcat#",dcterms:"http://purl.org/dc/terms/",dqv:"http://www.w3.org/ns/dqv#",duv:"https://www.w3.org/TR/vocab-duv#",earl:"http://www.w3.org/ns/earl#",foaf:"http://xmlns.com/foaf/0.1/",gldp:"http://www.w3.org/ns/people#",gr:"http://purl.org/goodrelations/v1#",grddl:"http://www.w3.org/2003/g/data-view#",ht:"http://www.w3.org/2006/http#",ical:"http://www.w3.org/2002/12/cal/icaltzd#",ldp:"http://www.w3.org/ns/ldp#",ma:"http://www.w3.org/ns/ma-ont#",oa:"http://www.w3.org/ns/oa#",odrl:"http://www.w3.org/ns/odrl/2/",og:"http://ogp.me/ns#",org:"http://www.w3.org/ns/org#",owl:"http://www.w3.org/2002/07/owl#",prov:"http://www.w3.org/ns/prov#",ptr:"http://www.w3.org/2009/pointers#",qb:"http://purl.org/linked-data/cube#",rev:"http://purl.org/stuff/rev#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfa:"http://www.w3.org/ns/rdfa#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",rif:"http://www.w3.org/2007/rif#",rr:"http://www.w3.org/ns/r2rml#",schema:"http://schema.org/",sd:"http://www.w3.org/ns/sparql-service-description#",sioc:"http://rdfs.org/sioc/ns#",skos:"http://www.w3.org/2004/02/skos/core#",skosxl:"http://www.w3.org/2008/05/skos-xl#",ssn:"http://www.w3.org/ns/ssn/",sosa:"http://www.w3.org/ns/sosa/",time:"http://www.w3.org/2006/time#",v:"http://rdf.data-vocabulary.org/#",vcard:"http://www.w3.org/2006/vcard/ns#",void:"http://rdfs.org/ns/void#",wdr:"http://www.w3.org/2007/05/powder#",wdrs:"http://www.w3.org/2007/05/powder-s#",xhv:"http://www.w3.org/1999/xhtml/vocab#",xml:"http://www.w3.org/XML/1998/namespace",xsd:"http://www.w3.org/2001/XMLSchema#",describedby:"http://www.w3.org/2007/05/powder-s#describedby",license:"http://www.w3.org/1999/xhtml/vocab#license",role:"http://www.w3.org/1999/xhtml/vocab#role"}};var _s={},tC;function px(){return tC||(tC=1,Object.defineProperty(_s,"__esModule",{value:!0}),_s.RDFA_CONTENTTYPES=_s.RDFA_FEATURES=void 0,_s.RDFA_FEATURES={"":{baseTag:!0,xmlBase:!0,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!0,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!0,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!0,roleAttribute:!0},core:{baseTag:!1,xmlBase:!1,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!1,datetimeAttribute:!1,timeTag:!1,htmlDatatype:!1,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!1,roleAttribute:!1},html:{baseTag:!0,xmlBase:!1,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!0,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!0,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!1,roleAttribute:!0},xhtml:{baseTag:!0,xmlBase:!1,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!0,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!0,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!0,roleAttribute:!0},xml:{baseTag:!1,xmlBase:!0,langAttribute:!0,onlyAllowUriRelRevIfProperty:!1,inheritSubjectInHeadBody:!1,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!1,copyRdfaPatterns:!1,xmlnsPrefixMappings:!0,xhtmlInitialContext:!1,roleAttribute:!0}},_s.RDFA_CONTENTTYPES={"text/html":"html","application/xhtml+xml":"xhtml","application/xml":"xml","text/xml":"xml","image/svg+xml":"xml"}),_s}var Sc={},rC;function b8(){if(rC)return Sc;rC=1,Object.defineProperty(Sc,"__esModule",{value:!0}),Sc.Util=void 0;const e=Oi(),t=px(),r=Jr();class n{constructor(a,o){this.dataFactory=a||new r.DataFactory,this.baseIRI=this.dataFactory.namedNode(o||""),this.baseIRIDocument=this.baseIRI}static parsePrefixes(a,o,s){const l={};if(s)for(const u in a)u.startsWith("xmlns")&&(l[u.substr(6)]=a[u]);if(a.prefix||Object.keys(l).length>0){const u=Object.assign(Object.assign({},o),l);if(a.prefix){let f;for(;f=n.PREFIX_REGEX.exec(a.prefix);)u[f[1]]=f[2]}return u}else return o}static expandPrefixedTerm(a,o){const s=a.indexOf(":");let l,u;if(s>=0&&(l=a.substr(0,s),u=a.substr(s+1)),l==="")return"http://www.w3.org/1999/xhtml/vocab#"+u;if(l){const f=o.prefixesAll[l];if(f)return f+u}if(a){const f=o.prefixesAll[a.toLocaleLowerCase()];if(f)return f}return a}static isValidIri(a){return n.IRI_REGEX.test(a)}static contentTypeToProfile(a){return t.RDFA_CONTENTTYPES[a]||""}getBaseIRI(a){let o=a;const s=o.indexOf("#");return s>=0&&(o=o.substr(0,s)),this.dataFactory.namedNode((0,e.resolve)(o,this.baseIRI.value))}getResourceOrBaseIri(a,o){return a===!0?this.getBaseIriTerm(o):a}getBaseIriTerm(a){return a.localBaseIRI||this.baseIRI}createVocabIris(a,o,s,l){return a.split(/\s+/).filter(u=>u&&(s||u.indexOf(":")>=0)).map(u=>this.createIri(u,o,!0,!0,l)).filter(u=>u!=null)}createLiteral(a,o){if(o.interpretObjectAsTime&&!o.datatype){for(const s of n.TIME_REGEXES)if(a.match(s.regex)){o.datatype=this.dataFactory.namedNode(n.XSD+s.type);break}}return this.dataFactory.literal(a,o.datatype||o.language)}createBlankNode(){return this.blankNodeFactory?this.blankNodeFactory():this.dataFactory.blankNode()}createIri(a,o,s,l,u){if(a=a||"",!l)return s||(a=(0,e.resolve)(a,this.getBaseIriTerm(o).value)),n.isValidIri(a)?this.dataFactory.namedNode(a):null;if(a.length>0&&a[0]==="["&&a[a.length-1]==="]"&&(a=a.substr(1,a.length-2),a.indexOf(":")<0))return null;if(a.startsWith("_:"))return u?this.dataFactory.blankNode(a.substr(2)||"b_identity"):null;if(s&&o.vocab&&a.indexOf(":")<0)return this.dataFactory.namedNode(o.vocab+a);let f=n.expandPrefixedTerm(a,o);return s?a!==f&&(f=(0,e.resolve)(f,this.baseIRIDocument.value)):f=(0,e.resolve)(f,this.getBaseIriTerm(o).value),n.isValidIri(f)?this.dataFactory.namedNode(f):null}}return Sc.Util=n,n.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",n.XSD="http://www.w3.org/2001/XMLSchema#",n.RDFA="http://www.w3.org/ns/rdfa#",n.PREFIX_REGEX=/\s*([^:\s]*)*:\s*([^\s]*)*\s*/g,n.TIME_REGEXES=[{regex:/^-?P([0-9]+Y)?([0-9]+M)?([0-9]+D)?(T([0-9]+H)?([0-9]+M)?([0-9]+(\.[0-9])?S)?)?$/,type:"duration"},{regex:/^[0-9]+-[0-9][0-9]-[0-9][0-9]T[0-9][0-9]:[0-9][0-9]:[0-9][0-9]((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,type:"dateTime"},{regex:/^[0-9]+-[0-9][0-9]-[0-9][0-9]Z?$/,type:"date"},{regex:/^[0-9][0-9]:[0-9][0-9]:[0-9][0-9]((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,type:"time"},{regex:/^[0-9]+-[0-9][0-9]$/,type:"gYearMonth"},{regex:/^[0-9]+$/,type:"gYear"}],n.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`]*$/,Sc}var nC;function kX(){if(nC)return vc;nC=1,Object.defineProperty(vc,"__esModule",{value:!0}),vc.RdfaParser=void 0;const e=CX(),t=Zi(),r=LX,n=MX,i=px(),a=b8();let o=class v8 extends t.Transform{constructor(l){super({readableObjectMode:!0}),this.activeTagStack=[],l=l||{},this.options=l,this.util=new a.Util(l.dataFactory,l.baseIRI),this.defaultGraph=l.defaultGraph||this.util.dataFactory.defaultGraph();const u=l.contentType?a.Util.contentTypeToProfile(l.contentType):l.profile||"";this.features=l.features||i.RDFA_FEATURES[u],this.htmlParseListener=l.htmlParseListener,this.rdfaPatterns=this.features.copyRdfaPatterns?{}:null,this.pendingRdfaPatternCopies=this.features.copyRdfaPatterns?{}:null,this.parser=this.initializeParser(u==="xml"),this.activeTagStack.push({incompleteTriples:[],inlist:!1,language:l.language,listMapping:{},listMappingLocal:{},name:"",prefixesAll:Object.assign(Object.assign({},n["@context"]),this.features.xhtmlInitialContext?r["@context"]:{}),prefixesCustom:{},skipElement:!1,vocab:l.vocab})}import(l){const u=new t.PassThrough({readableObjectMode:!0});l.on("error",d=>f.emit("error",d)),l.on("data",d=>u.push(d)),l.on("end",()=>u.push(null));const f=u.pipe(new v8(this.options));return f}_transform(l,u,f){this.parser.write(l.toString()),f()}_flush(l){this.parser.end(),l()}onTagOpen(l,u){let f=this.activeTagStack.length-1;for(;f>0&&this.activeTagStack[f].skipElement;)f--;let d=this.activeTagStack[f];f!==this.activeTagStack.length-1&&(d=Object.assign(Object.assign({},d),{language:this.activeTagStack[this.activeTagStack.length-1].language,prefixesAll:this.activeTagStack[this.activeTagStack.length-1].prefixesAll,prefixesCustom:this.activeTagStack[this.activeTagStack.length-1].prefixesCustom,vocab:this.activeTagStack[this.activeTagStack.length-1].vocab}));const c={collectChildTags:d.collectChildTags,incompleteTriples:[],inlist:"inlist"in u,listMapping:[],listMappingLocal:d.listMapping,localBaseIRI:d.localBaseIRI,name:l,prefixesAll:null,prefixesCustom:null,skipElement:!1};if(this.activeTagStack.push(c),c.collectChildTags){for(const T of Object.keys(d.prefixesCustom).sort()){const I=d.prefixesCustom[T],D=T===""?"xmlns":"xmlns:"+T;D in u||(u[D]=I)}const E=Object.keys(u).map(T=>`${T}="${u[T]}"`).join(" ");if(c.text=[`<${l}${E?" "+E:""}>`],this.features.skipHandlingXmlLiteralChildren)return}let p=!0,b=!0;if(this.features.onlyAllowUriRelRevIfProperty&&("property"in u&&"rel"in u&&(p=!1,u.rel.indexOf(":")<0&&delete u.rel),"property"in u&&"rev"in u&&(b=!1,u.rev.indexOf(":")<0&&delete u.rev)),this.features.copyRdfaPatterns){if(d.collectedPatternTag){const E={attributes:u,children:[],name:l,referenced:!1,rootPattern:!1,text:[]};d.collectedPatternTag.children.push(E),c.collectedPatternTag=E;return}if(u.typeof==="rdfa:Pattern"){c.collectedPatternTag={attributes:u,children:[],name:l,parentTag:d,referenced:!1,rootPattern:!0,text:[]};return}if(u.property==="rdfa:copy"){const E=u.resource||u.href||u.src;this.rdfaPatterns[E]?this.emitPatternCopy(d,this.rdfaPatterns[E],E):(this.pendingRdfaPatternCopies[E]||(this.pendingRdfaPatternCopies[E]=[]),this.pendingRdfaPatternCopies[E].push(d));return}}this.features.baseTag&&l==="base"&&u.href&&(this.util.baseIRI=this.util.getBaseIRI(u.href)),this.features.xmlBase&&u["xml:base"]&&(c.localBaseIRI=this.util.getBaseIRI(u["xml:base"])),this.features.timeTag&&l==="time"&&!u.datatype&&(c.interpretObjectAsTime=!0);let v,_,y;if("vocab"in u?u.vocab?(c.vocab=u.vocab,this.emitTriple(this.util.getBaseIriTerm(c),this.util.dataFactory.namedNode(a.Util.RDFA+"usesVocabulary"),this.util.dataFactory.namedNode(c.vocab))):c.vocab=this.activeTagStack[0].vocab:c.vocab=d.vocab,c.prefixesCustom=a.Util.parsePrefixes(u,d.prefixesCustom,this.features.xmlnsPrefixMappings),c.prefixesAll=Object.keys(c.prefixesCustom).length>0?Object.assign(Object.assign({},d.prefixesAll),c.prefixesCustom):d.prefixesAll,this.features.roleAttribute&&u.role){const E=u.id?this.util.createIri("#"+u.id,c,!1,!1,!1):this.util.createBlankNode(),T=c.vocab;c.vocab="http://www.w3.org/1999/xhtml/vocab#";for(const I of this.util.createVocabIris(u.role,c,!0,!1))this.emitTriple(E,this.util.dataFactory.namedNode("http://www.w3.org/1999/xhtml/vocab#role"),I);c.vocab=T}"xml:lang"in u||this.features.langAttribute&&"lang"in u?c.language=u["xml:lang"]||u.lang:c.language=d.language;const m=this.activeTagStack.length===2;if(!("rel"in u)&&!("rev"in u)?"property"in u&&!("content"in u)&&!("datatype"in u)?("about"in u?(v=this.util.createIri(u.about,c,!1,!0,!0),c.explicitNewSubject=!!v):m?v=!0:d.object&&(v=d.object),"typeof"in u&&("about"in u&&(y=this.util.createIri(u.about,c,!1,!0,!0)),!y&&m&&(y=!0),!y&&"resource"in u&&(y=this.util.createIri(u.resource,c,!1,!0,!0)),!y&&("href"in u||"src"in u)&&(y=this.util.createIri(u.href||u.src,c,!1,!1,!0)),!y&&this.isInheritSubjectInHeadBody(l)&&(y=v),y||(y=this.util.createBlankNode()),_=y)):(("about"in u||"resource"in u)&&(v=this.util.createIri(u.about||u.resource,c,!1,!0,!0),c.explicitNewSubject=!!v),!v&&("href"in u||"src"in u)&&(v=this.util.createIri(u.href||u.src,c,!1,!1,!0),c.explicitNewSubject=!!v),v||(m?v=!0:this.isInheritSubjectInHeadBody(l)?v=d.object:"typeof"in u?(v=this.util.createBlankNode(),c.explicitNewSubject=!0):d.object&&(v=d.object,"property"in u||(c.skipElement=!0))),"typeof"in u&&(y=v)):("about"in u?(v=this.util.createIri(u.about,c,!1,!0,!0),c.explicitNewSubject=!!v,"typeof"in u&&(y=v)):m?v=!0:d.object&&(v=d.object),"resource"in u&&(_=this.util.createIri(u.resource,c,!1,!0,!0)),_||("href"in u||"src"in u?_=this.util.createIri(u.href||u.src,c,!1,!1,!0):"typeof"in u&&!("about"in u)&&!this.isInheritSubjectInHeadBody(l)&&(_=this.util.createBlankNode())),"typeof"in u&&!("about"in u)&&(this.isInheritSubjectInHeadBody(l)?y=v:y=_)),y)for(const E of this.util.createVocabIris(u.typeof,c,!0,!0))this.emitTriple(this.util.getResourceOrBaseIri(y,c),this.util.dataFactory.namedNode(a.Util.RDF+"type"),E);if(v&&(c.listMapping={}),_){if("rel"in u&&"inlist"in u)for(const E of this.util.createVocabIris(u.rel,c,p,!1))this.addListMapping(c,v,E,_);if(!("rel"in u&&"inlist"in u)){if("rel"in u)for(const E of this.util.createVocabIris(u.rel,c,p,!1))this.emitTriple(this.util.getResourceOrBaseIri(v,c),E,this.util.getResourceOrBaseIri(_,c));if("rev"in u)for(const E of this.util.createVocabIris(u.rev,c,b,!1))this.emitTriple(this.util.getResourceOrBaseIri(_,c),E,this.util.getResourceOrBaseIri(v,c))}}if(!_){if("rel"in u)if("inlist"in u)for(const E of this.util.createVocabIris(u.rel,c,p,!1))this.addListMapping(c,v,E,null),c.incompleteTriples.push({predicate:E,reverse:!1,list:!0});else for(const E of this.util.createVocabIris(u.rel,c,p,!1))c.incompleteTriples.push({predicate:E,reverse:!1});if("rev"in u)for(const E of this.util.createVocabIris(u.rev,c,b,!1))c.incompleteTriples.push({predicate:E,reverse:!0});c.incompleteTriples.length>0&&(_=this.util.createBlankNode())}if("property"in u){c.predicates=this.util.createVocabIris(u.property,c,!0,!1);let E;if("datatype"in u?(c.datatype=this.util.createIri(u.datatype,c,!0,!0,!1),c.datatype&&(c.datatype.value===a.Util.RDF+"XMLLiteral"||this.features.htmlDatatype&&c.datatype.value===a.Util.RDF+"HTML")&&(c.collectChildTags=!0)):(!("rev"in u)&&!("rel"in u)&&!("content"in u)&&("resource"in u&&(E=this.util.createIri(u.resource,c,!1,!0,!0)),!E&&"href"in u&&(E=this.util.createIri(u.href,c,!1,!1,!0)),!E&&"src"in u&&(E=this.util.createIri(u.src,c,!1,!1,!0))),"typeof"in u&&!("about"in u)&&(E=y)),"content"in u){const T=this.util.createLiteral(u.content,c);if("inlist"in u)for(const I of c.predicates)this.addListMapping(c,v,I,T);else{const I=this.util.getResourceOrBaseIri(v,c);for(const D of c.predicates)this.emitTriple(I,D,T)}c.predicates=null}else if(this.features.datetimeAttribute&&"datetime"in u){c.interpretObjectAsTime=!0;const T=this.util.createLiteral(u.datetime,c);if("inlist"in u)for(const I of c.predicates)this.addListMapping(c,v,I,T);else{const I=this.util.getResourceOrBaseIri(v,c);for(const D of c.predicates)this.emitTriple(I,D,T)}c.predicates=null}else if(E){const T=this.util.getResourceOrBaseIri(E,c);if("inlist"in u)for(const I of c.predicates)this.addListMapping(c,v,I,T);else{const I=this.util.getResourceOrBaseIri(v,c);for(const D of c.predicates)this.emitTriple(I,D,T)}c.predicates=null}}let g=!1;if(!c.skipElement&&v&&d.incompleteTriples.length>0){g=!0;const E=this.util.getResourceOrBaseIri(d.subject,c),T=this.util.getResourceOrBaseIri(v,c);for(const I of d.incompleteTriples)if(I.reverse)this.emitTriple(T,I.predicate,E);else if(I.list){let D=null;for(let B=this.activeTagStack.length-1;B>=0;B--)if(this.activeTagStack[B].inlist){D=this.activeTagStack[B];break}this.addListMapping(D,v,I.predicate,T)}else this.emitTriple(E,I.predicate,T)}!g&&d.incompleteTriples.length>0&&(c.incompleteTriples=c.incompleteTriples.concat(d.incompleteTriples)),c.subject=v||d.subject,c.object=_||v}onText(l){const u=this.activeTagStack[this.activeTagStack.length-1];if(this.features.copyRdfaPatterns&&u.collectedPatternTag){u.collectedPatternTag.text.push(l);return}u.text||(u.text=[]),u.text.push(l)}onTagClose(){const l=this.activeTagStack[this.activeTagStack.length-1],u=this.activeTagStack[this.activeTagStack.length-2];if(!(l.collectChildTags&&u.collectChildTags&&this.features.skipHandlingXmlLiteralChildren)){if(this.features.copyRdfaPatterns&&l.collectedPatternTag&&l.collectedPatternTag.rootPattern){const f=l.collectedPatternTag.attributes.resource;if(delete l.collectedPatternTag.attributes.resource,delete l.collectedPatternTag.attributes.typeof,this.rdfaPatterns[f]=l.collectedPatternTag,this.pendingRdfaPatternCopies[f]){for(const d of this.pendingRdfaPatternCopies[f])this.emitPatternCopy(d,l.collectedPatternTag,f);delete this.pendingRdfaPatternCopies[f]}this.activeTagStack.pop();return}if(l.predicates){const f=this.util.getResourceOrBaseIri(l.subject,l);let d=l.text||[];l.collectChildTags&&u.collectChildTags&&(d=d.slice(1));const c=this.util.createLiteral(d.join(""),l);if(l.inlist)for(const p of l.predicates)this.addListMapping(l,f,p,c);else for(const p of l.predicates)this.emitTriple(f,p,c);u.predicates||(l.text=null)}if(l.object&&Object.keys(l.listMapping).length>0){const f=this.util.getResourceOrBaseIri(l.object,l);for(const d in l.listMapping){const c=this.util.dataFactory.namedNode(d),p=l.listMapping[d];if(p.length>0){const b=p.map(()=>this.util.createBlankNode());for(let v=0;v<p.length;v++){const _=this.util.getResourceOrBaseIri(p[v],l);this.emitTriple(b[v],this.util.dataFactory.namedNode(a.Util.RDF+"first"),_),this.emitTriple(b[v],this.util.dataFactory.namedNode(a.Util.RDF+"rest"),v<p.length-1?b[v+1]:this.util.dataFactory.namedNode(a.Util.RDF+"nil"))}this.emitTriple(f,c,b[0])}else this.emitTriple(f,c,this.util.dataFactory.namedNode(a.Util.RDF+"nil"))}}}this.activeTagStack.pop(),l.collectChildTags&&l.text&&l.text.push(`</${l.name}>`),l.text&&u&&(u.text?u.text=u.text.concat(l.text):u.text=l.text)}onEnd(){if(this.features.copyRdfaPatterns){this.features.copyRdfaPatterns=!1;for(const l in this.rdfaPatterns){const u=this.rdfaPatterns[l];u.referenced||(u.attributes.typeof="rdfa:Pattern",u.attributes.resource=l,this.emitPatternCopy(u.parentTag,u,l),u.referenced=!1,delete u.attributes.typeof,delete u.attributes.resource)}for(const l in this.pendingRdfaPatternCopies)for(const u of this.pendingRdfaPatternCopies[l])this.activeTagStack.push(u),this.onTagOpen("link",{property:"rdfa:copy",href:l}),this.onTagClose(),this.activeTagStack.pop();this.features.copyRdfaPatterns=!0}}isInheritSubjectInHeadBody(l){return this.features.inheritSubjectInHeadBody&&(l==="head"||l==="body")}addListMapping(l,u,f,d){if(l.explicitNewSubject){const c=this.util.createBlankNode();this.emitTriple(this.util.getResourceOrBaseIri(u,l),f,c),this.emitTriple(c,this.util.dataFactory.namedNode(a.Util.RDF+"first"),this.util.getResourceOrBaseIri(d,l)),this.emitTriple(c,this.util.dataFactory.namedNode(a.Util.RDF+"rest"),this.util.dataFactory.namedNode(a.Util.RDF+"nil"))}else{let c=l.listMappingLocal[f.value];c||(l.listMappingLocal[f.value]=c=[]),d&&c.push(d)}}emitTriple(l,u,f){l.termType==="NamedNode"&&l.value.indexOf(":")<0||u.termType==="NamedNode"&&u.value.indexOf(":")<0||f.termType==="NamedNode"&&f.value.indexOf(":")<0||this.push(this.util.dataFactory.quad(l,u,f,this.defaultGraph))}emitPatternCopy(l,u,f){if(this.activeTagStack.push(l),u.referenced=!0,!u.constructedBlankNodes)u.constructedBlankNodes=[],this.util.blankNodeFactory=()=>{const d=this.util.dataFactory.blankNode();return u.constructedBlankNodes.push(d),d};else{let d=0;this.util.blankNodeFactory=()=>u.constructedBlankNodes[d++]}this.emitPatternCopyAbsolute(u,!0,f),this.util.blankNodeFactory=null,this.activeTagStack.pop()}emitPatternCopyAbsolute(l,u,f){if(!(!u&&l.attributes.property==="rdfa:copy"&&l.attributes.href===f)){this.onTagOpen(l.name,l.attributes);for(const d of l.text)this.onText(d);for(const d of l.children)this.emitPatternCopyAbsolute(d,!1,f);this.onTagClose()}}initializeParser(l){return new e.Parser({onclosetag:()=>{try{this.onTagClose(),this.htmlParseListener&&this.htmlParseListener.onTagClose()}catch(u){this.emit("error",u)}},onend:()=>{try{this.onEnd(),this.htmlParseListener&&this.htmlParseListener.onEnd()}catch(u){this.emit("error",u)}},onopentag:(u,f)=>{try{this.onTagOpen(u,f),this.htmlParseListener&&this.htmlParseListener.onTagOpen(u,f)}catch(d){this.emit("error",d)}},ontext:u=>{try{this.onText(u),this.htmlParseListener&&this.htmlParseListener.onText(u)}catch(f){this.emit("error",f)}}},{decodeEntities:!0,recognizeSelfClosing:!0,xmlMode:l})}};return vc.RdfaParser=o,vc}var iC;function w8(){return iC||(iC=1,function(e){var t=bc.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=bc.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(vX(),e),r(wX(),e),r(EX(),e),r(kX(),e),r(px(),e),r(b8(),e)}(bc)),bc}var aC;function FX(){if(aC)return _c;aC=1,Object.defineProperty(_c,"__esModule",{value:!0}),_c.ActorRdfParseXmlRdfa=void 0;const e=bl(),t=Yi(),r=w8();let n=class extends e.ActorRdfParseFixedMediaTypes{constructor(a){super(a)}async runHandle(a,o,s){var d;const l=a.context.getSafe(t.KeysInitQuery.dataFactory),u=(a.headers&&a.headers.get("content-language"))??void 0;a.data.on("error",c=>f.emit("error",c));const f=a.data.pipe(new r.RdfaParser({dataFactory:l,baseIRI:(d=a.metadata)==null?void 0:d.baseIRI,profile:"xml",language:u}));return{data:f,metadata:{triples:!0}}}};return _c.ActorRdfParseXmlRdfa=n,_c}var oC;function jX(){return oC||(oC=1,function(e){var t=gc.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=gc.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(FX(),e)}(gc)),gc}var xc={},Tc={},T0={},iw,sC;function BX(){if(sC)return iw;sC=1;var e=function(){var t=function(He,$e,ut,lt){for(ut=ut||{},lt=He.length;lt--;ut[He[lt]]=$e);return ut},r=[7,12,13,14,15,16,20,25,115,130],n=[7,13,16,20,25,115,130],i=[7,13,16,115,130],a=[1,25],o=[1,29],s=[1,27],l=[1,28],u=[13,16,115,130],f=[13,16,28,38,40,42,44,46,48,53,56,61,67,85,87,92,93,95,96,102,110,111,115,119,120,126,128,129,130,131,132,133,134,135,136],d=[28,56],c=[1,42],p=[46,48,53,56],b=[1,54],v=[1,60],_=[1,56],y=[1,57],m=[1,58],g=[1,63],E=[1,64],T=[1,65],I=[1,66],D=[1,67],B=[1,68],N=[1,75],M=[28,46,48,53,56],j=[28,42,46,48,53,56],O=[13,16,28,38,40,42,44,46,48,53,56,92,115,119,120,130,131,132,133,134,135,136],q=[13,16,28,38,40,42,44,46,48,53,56,67,85,87,92,95,96,115,119,120,126,128,129,130,131,132,133,134,135,136],Q=[13,16,38,40,44,92,115,119,120,130,131,132,133,134,135,136],ie=[13,16,28,38,40,42,44,46,48,53,56,67,85,87,92,95,96,115,117,118,119,120,126,128,129,130,131,132,133,134,135,136],X=[13,16,28,56,115,130],le=[13,16,38,58,87,96,109,115,126,130],ae=[1,116],ne=[1,112],V=[1,108],oe=[1,114],he=[1,111],Y=[7,13,16,20,25,44,48,53,56,67,85,87,95,96,115,128,129,130],Z=[48,53],ee=[48,53,87,96,126],P=[13,16,44,48,53,56,85,87,95,96,115,128,129,130],A=[1,126],$=[13,16,40,44,48,53,56,85,87,95,96,115,128,129,130],te=[1,129],pe=[48,53,67,87,96,126],R=[13,16,40,44,48,53,56,67,85,87,95,96,115,128,129,130],w=[1,133],x=[13,16,40,44,48,53,56,67,85,87,95,96,102,115,128,129,130],k=[13,16,40,44,48,53,56,67,85,87,93,95,96,102,110,111,115,128,129,130],U=[1,151],re=[1,153],fe=[1,156],ve=[1,157],ce=[1,158],Ie=[1,167],be=[1,175],xe=[13,16,44,48,53,56,67,85,87,95,96,115,128,129,130],je=[13,16,44,48,53,56,67,85,87,95,96,115,126,128,129,130],Ae=[13,16,46,92,115,119,120,130,131,132,133,134,135,136],Pe={trace:function(){},yy:{},symbols_:{error:2,shaclDoc:3,shaclDoc_repetition0:4,shaclDoc_repetition1:5,ttlSection:6,EOF:7,directive:8,baseDecl:9,importsDecl:10,prefixDecl:11,KW_BASE:12,IRIREF:13,KW_IMPORTS:14,KW_PREFIX:15,PNAME_NS:16,nodeShapeIri:17,iri:18,nodeShape:19,KW_SHAPE:20,nodeShape_option0:21,nodeShape_option1:22,nodeShapeBody:23,shapeClass:24,KW_SHAPE_CLASS:25,shapeClass_option0:26,turtleAnnotation:27,";":28,turtleAnnotation2:29,predicate:30,turtleAnnotation2_option0:31,objectList:32,object:33,objectList_repetition0:34,iriOrLiteral:35,blankNodeSection:36,list:37,"(":38,list_repetition0:39,")":40,objectTail:41,",":42,LB:43,"[":44,RB:45,"]":46,LP:47,"%":48,RP:49,pcSection:50,iriHead:51,ttlStatement:52,".":53,ttlSection_repetition0:54,startNodeShape:55,"{":56,endNodeShape:57,"}":58,nodeShapeBody_repetition0:59,targetClass:60,"->":61,targetClass_repetition_plus0:62,constraint:63,constraint_group0:64,constraint_option0:65,orNotComponent:66,"|":67,nodeNot:68,nodeOrEmit:69,nodeOr:70,nodeOr_repetition_plus0:71,nodeValue:72,negation:73,nodeValue_group0:74,"=":75,iriOrLiteralOrArray:76,propertyShape:77,path:78,propertyShape_repetition0:79,propertyOrComponent:80,propertyNot:81,propertyOr:82,propertyOr_repetition_plus0:83,propertyAtom:84,NODEKIND:85,shapeRef:86,PARAM:87,propertyCount:88,propertyMinCount:89,"..":90,propertyMaxCount:91,INTEGER:92,"*":93,shapeRef_group0:94,"@":95,"!":96,pathAlternative:97,additionalAlternative:98,pathSequence:99,pathAlternative_repetition_plus0:100,additionalSequence:101,"/":102,pathEltOrInverse:103,pathSequence_repetition_plus0:104,pathElt:105,pathPrimary:106,pathMod:107,pathInverse:108,"^":109,"?":110,"+":111,iriOrLiteralOrArray_repetition0:112,literal:113,iri_group0:114,a:115,string:116,LANGTAG:117,"^^":118,DECIMAL:119,DOUBLE:120,literal_group0:121,string_group0:122,string_group1:123,shaclDoc_repetition1_group0:124,constraint_group0_repetition_plus0:125,TARGET:126,propertyShape_repetition0_group0:127,ATPNAME_LN:128,ATPNAME_NS:129,PNAME_LN:130,KW_TRUE:131,KW_FALSE:132,STRING_LITERAL1:133,STRING_LITERAL2:134,STRING_LITERAL_LONG1:135,STRING_LITERAL_LONG2:136,$accept:0,$end:1},terminals_:{2:"error",7:"EOF",12:"KW_BASE",13:"IRIREF",14:"KW_IMPORTS",15:"KW_PREFIX",16:"PNAME_NS",20:"KW_SHAPE",25:"KW_SHAPE_CLASS",28:";",38:"(",40:")",42:",",44:"[",46:"]",48:"%",53:".",56:"{",58:"}",61:"->",67:"|",75:"=",85:"NODEKIND",87:"PARAM",90:"..",92:"INTEGER",93:"*",95:"@",96:"!",102:"/",109:"^",110:"?",111:"+",115:"a",117:"LANGTAG",118:"^^",119:"DECIMAL",120:"DOUBLE",126:"TARGET",128:"ATPNAME_LN",129:"ATPNAME_NS",130:"PNAME_LN",131:"KW_TRUE",132:"KW_FALSE",133:"STRING_LITERAL1",134:"STRING_LITERAL2",135:"STRING_LITERAL_LONG1",136:"STRING_LITERAL_LONG2"},productions_:[0,[3,4],[8,1],[8,1],[8,1],[9,2],[10,2],[11,3],[17,1],[19,5],[24,4],[27,2],[29,2],[30,2],[32,2],[33,1],[33,1],[33,1],[37,3],[41,2],[43,1],[45,1],[36,3],[47,1],[49,1],[50,3],[51,1],[52,3],[6,1],[55,1],[57,1],[23,3],[60,2],[63,3],[66,2],[69,1],[70,1],[70,2],[68,1],[68,2],[72,3],[77,2],[80,2],[82,1],[82,2],[81,1],[81,2],[84,1],[84,1],[84,1],[84,3],[84,1],[88,5],[89,1],[91,1],[91,1],[86,1],[86,2],[73,1],[78,1],[98,2],[97,1],[97,2],[101,2],[99,1],[99,2],[105,1],[105,2],[103,1],[103,2],[108,1],[107,1],[107,1],[107,1],[106,1],[106,3],[76,1],[76,3],[35,1],[35,1],[18,1],[18,1],[18,1],[113,1],[113,2],[113,3],[113,1],[113,1],[113,1],[113,1],[116,1],[116,1],[4,0],[4,2],[124,1],[124,1],[5,0],[5,2],[21,0],[21,1],[22,0],[22,1],[26,0],[26,1],[31,0],[31,1],[34,0],[34,2],[39,0],[39,2],[54,0],[54,2],[59,0],[59,2],[62,1],[62,2],[125,1],[125,2],[64,1],[64,1],[65,0],[65,1],[71,1],[71,2],[74,1],[74,1],[127,1],[127,1],[79,0],[79,2],[83,1],[83,2],[94,1],[94,1],[100,1],[100,2],[104,1],[104,2],[112,0],[112,2],[114,1],[114,1],[121,1],[121,1],[122,1],[122,1],[123,1],[123,1]],performAction:function($e,ut,lt,dt,ct,nt,lr){var at=nt.length-1;switch(ct){case 1:this.$=G(Ne.factory.namedNode(Te("")),Ne.factory.namedNode(Ze),Ne.factory.namedNode(de+"Ontology"));break;case 5:Ne.base=Ne.factory.namedNode(nt[at].slice(1,-1)),Ne.n3Parser._setBase(Ne.base.value);break;case 6:this.$=G(Ne.base,Ne.factory.namedNode(de+"imports"),Ne.factory.namedNode(nt[at].slice(1,-1)));break;case 7:this.$=Ne.prefixes[nt[at-1].substr(0,nt[at-1].length-1)]=Te(nt[at]);break;case 8:Ne.nodeShapeStack=!1,G(Ne.currentNodeShape=nt[at],Ne.factory.namedNode(Ze),Ne.factory.namedNode(ge+"NodeShape"));break;case 10:this.$=G(Ne.currentNodeShape,Ne.factory.namedNode(Ze),Ne.factory.namedNode(Re+"Class"));break;case 11:this.$=Ee();break;case 13:this.$=nt[at].forEach(Ge=>G(Ne.currentNodeShape,nt[at-1],Ge));break;case 14:this.$=[nt[at-1],...nt[at]];break;case 18:this.$=H(nt[at-1],!0);break;case 19:case 34:case 42:case 60:case 63:this.$=nt[at];break;case 20:Ne.tempCurrentNodeShape=Ne.currentNodeShape,this.$=Ne.currentNodeShape=Ve();break;case 21:Ne.currentNodeShape=Ne.tempCurrentNodeShape;break;case 22:case 31:this.$=nt[at-2];break;case 23:Ne.tempCurrentNodeShape=Ne.currentNodeShape,Ne.currentNodeShape=Ne.currentPropertyNode;break;case 24:Ne.currentNodeShape=Ne.tempCurrentNodeShape;break;case 26:Ne.currentNodeShape=nt[at];break;case 29:Ne.nodeShapeStack?(Ne.nodeShapeStack.push(Ne.currentNodeShape),G(Ne.currentPropertyNode,Ne.factory.namedNode(ge+"node"),Ne.currentNodeShape=Ve())):Ne.nodeShapeStack=[],this.$=Ne.currentNodeShape;break;case 30:Ne.nodeShapeStack.length>0&&(Ne.currentNodeShape=Ne.nodeShapeStack.pop());break;case 32:this.$=nt[at].forEach(Ge=>{G(Ne.currentNodeShape,Ne.factory.namedNode(ge+"targetClass"),Ge)});break;case 35:this.$=G(Ne.currentNodeShape,Ne.factory.namedNode(ge+nt[at][0]),nt[at][1]);break;case 36:break;case 37:const De=H([nt[at-1],...nt[at]].map(Ge=>{const ht=Ve();return G(ht,Ne.factory.namedNode(ge+Ge[0]),Ge[1]),ht}));this.$=["or",De];break;case 39:case 46:this.$=J("not",...nt[at]);break;case 40:case 50:this.$=[nt[at-2],nt[at]];break;case 43:this.$=nt[at]&&W(...nt[at]);break;case 44:this.$=W("or",H([nt[at-1],...nt[at]].map(Ge=>{const ht=Ve();return G(ht,Ne.factory.namedNode(ge+Ge[0]),Ge[1]),ht})));break;case 47:this.$=[qe[nt[at].value]?"datatype":"class",nt[at]];break;case 48:this.$=["nodeKind",Ne.factory.namedNode(ge+nt[at])];break;case 49:this.$=["node",Ne.factory.namedNode(nt[at])];break;case 51:this.$=void 0;break;case 53:this.$=nt[at]>0&&W("minCount",me(nt[at],K));break;case 54:this.$=W("maxCount",me(nt[at],K));break;case 56:this.$=Ce(nt[at].slice(1));break;case 57:this.$=Te(nt[at]);break;case 59:G(Ne.currentNodeShape,Ne.factory.namedNode(ge+"property"),Ne.currentPropertyNode=Ve()),W("path",nt[at]);break;case 62:const We=Ve();G(We,Ne.factory.namedNode(ge+"alternativePath"),H([nt[at-1],...nt[at]])),this.$=We;break;case 65:this.$=H([nt[at-1],...nt[at]]);break;case 67:G(this.$=Ve(),Ne.factory.namedNode(ge+nt[at]),nt[at-1]);break;case 69:G(this.$=Ve(),Ne.factory.namedNode(ge+"inversePath"),nt[at]);break;case 71:this.$="zeroOrOnePath";break;case 72:this.$="zeroOrMorePath";break;case 73:this.$="oneOrMorePath";break;case 75:this.$=nt[at-1];break;case 77:this.$=H(nt[at-1]);break;case 80:this.$=Ne.factory.namedNode(Te(nt[at]));break;case 81:this.$=Ne.factory.namedNode(Ce(nt[at]));break;case 82:this.$=Ee(Ne.factory.namedNode(Ze));break;case 83:this.$=me(nt[at]);break;case 84:this.$=Me(nt[at-1],lowercase(nt[at].substr(1)));break;case 85:this.$=me(nt[at-2],nt[at]);break;case 86:this.$=me(nt[at],K);break;case 87:this.$=me(nt[at],_e);break;case 88:this.$=me(nt[at].toLowerCase(),Oe);break;case 89:this.$=me(nt[at].toLowerCase(),se);break;case 90:this.$=we(nt[at],1);break;case 91:this.$=we(nt[at],3);break;case 92:case 96:case 106:case 108:case 110:case 112:case 128:case 138:this.$=[];break;case 93:case 97:case 107:case 109:case 111:case 113:case 115:case 117:case 123:case 129:case 131:case 135:case 137:case 139:nt[at-1].push(nt[at]);break;case 114:case 116:case 122:case 130:case 134:case 136:this.$=[nt[at]];break}},table:[t(r,[2,92],{3:1,4:2}),{1:[3]},t(n,[2,96],{5:3,8:4,9:5,10:6,11:7,12:[1,8],14:[1,9],15:[1,10]}),t(i,[2,110],{6:11,124:12,54:13,19:14,24:15,20:[1,16],25:[1,17]}),t(r,[2,93]),t(r,[2,2]),t(r,[2,3]),t(r,[2,4]),{13:[1,18]},{13:[1,19]},{16:[1,20]},{7:[1,21]},t(n,[2,97]),{7:[2,28],13:a,16:o,18:24,51:23,52:22,114:26,115:s,130:l},t(n,[2,94]),t(n,[2,95]),{13:a,16:o,17:30,18:31,114:26,115:s,130:l},{13:a,16:o,17:32,18:31,114:26,115:s,130:l},t(r,[2,5]),t(r,[2,6]),{13:[1,33]},{1:[2,1]},t(i,[2,111]),{13:a,16:o,18:36,29:34,30:35,114:26,115:s,130:l},t(u,[2,26]),t(f,[2,80]),t(f,[2,81]),t(f,[2,82]),t(f,[2,140]),t(f,[2,141]),t(d,[2,98],{21:37,60:38,61:[1,39]}),t([28,56,61],[2,8]),{26:40,27:41,28:c,56:[2,102]},t(r,[2,7]),{53:[1,43]},t(p,[2,104],{31:44,27:45,28:c}),{13:a,16:o,18:51,32:46,33:47,35:48,36:49,37:50,38:b,43:53,44:v,92:_,113:52,114:26,115:s,116:55,119:y,120:m,121:59,122:61,123:62,130:l,131:g,132:E,133:T,134:I,135:D,136:B},{22:69,27:70,28:c,56:[2,100]},t(d,[2,99]),{13:a,16:o,18:72,62:71,114:26,115:s,130:l},{23:73,55:74,56:N},{56:[2,103]},{13:a,16:o,18:36,29:76,30:35,114:26,115:s,130:l},t(i,[2,27]),t(p,[2,12]),t(p,[2,105]),t(M,[2,13]),t(j,[2,106],{34:77}),t(O,[2,15]),t(O,[2,16]),t(O,[2,17]),t(q,[2,78]),t(q,[2,79]),{13:a,16:o,18:36,29:78,30:35,114:26,115:s,130:l},t(Q,[2,108],{39:79}),t(q,[2,83],{117:[1,80],118:[1,81]}),t(q,[2,86]),t(q,[2,87]),t(q,[2,88]),t(q,[2,89]),t(u,[2,20]),t(ie,[2,90]),t(ie,[2,91]),t(q,[2,142]),t(q,[2,143]),t(ie,[2,144]),t(ie,[2,145]),t(ie,[2,146]),t(ie,[2,147]),{23:82,55:74,56:N},{56:[2,101]},t(d,[2,32],{114:26,18:83,13:a,16:o,115:s,130:l}),t(X,[2,114]),t(n,[2,10]),t(le,[2,112],{59:84}),t(le,[2,29]),t(p,[2,11]),t(M,[2,14],{41:85,42:[1,86]}),{45:87,46:[1,88]},{13:a,16:o,18:51,33:90,35:48,36:49,37:50,38:b,40:[1,89],43:53,44:v,92:_,113:52,114:26,115:s,116:55,119:y,120:m,121:59,122:61,123:62,130:l,131:g,132:E,133:T,134:I,135:D,136:B},t(q,[2,84]),{13:a,16:o,18:91,114:26,115:s,130:l},t(n,[2,9]),t(X,[2,115]),{13:a,16:o,18:115,38:ae,57:92,58:[1,94],63:93,64:95,68:102,69:98,70:100,72:104,73:105,74:107,77:97,78:99,87:ne,96:V,97:101,99:103,103:106,105:109,106:113,108:110,109:oe,114:26,115:s,125:96,126:he,130:l},t(j,[2,107]),{13:a,16:o,18:51,33:117,35:48,36:49,37:50,38:b,43:53,44:v,92:_,113:52,114:26,115:s,116:55,119:y,120:m,121:59,122:61,123:62,130:l,131:g,132:E,133:T,134:I,135:D,136:B},t(O,[2,22]),t(O,[2,21]),t(O,[2,18]),t(Q,[2,109]),t(q,[2,85]),t(Y,[2,31]),t(le,[2,113]),t(Y,[2,30]),{47:120,48:[1,121],50:119,53:[2,120],65:118},t(Z,[2,118],{70:100,68:102,72:104,73:105,74:107,69:122,87:ne,96:V,126:he}),t(Z,[2,119]),t(ee,[2,116]),t(P,[2,128],{79:123}),t(ee,[2,35]),t(P,[2,59]),t(ee,[2,36],{71:124,66:125,67:A}),t($,[2,61],{100:127,98:128,67:te}),t(pe,[2,38]),{72:130,74:107,87:ne,126:he},t(R,[2,64],{104:131,101:132,102:w}),{75:[1,134]},t([13,16,56,85,87,95,115,126,128,129,130],[2,58]),t(x,[2,68]),{13:a,16:o,18:115,38:ae,105:135,106:113,114:26,115:s,130:l},{75:[2,124]},{75:[2,125]},t(x,[2,66],{107:136,93:[1,138],110:[1,137],111:[1,139]}),t([13,16,38,115,130],[2,70]),t(k,[2,74]),{13:a,16:o,18:115,38:ae,97:140,99:103,103:106,105:109,106:113,108:110,109:oe,114:26,115:s,130:l},t(j,[2,19]),{53:[1,141]},{53:[2,121]},{13:a,16:o,18:36,29:142,30:35,114:26,115:s,130:l},t(u,[2,23]),t(ee,[2,117]),t(Z,[2,41],{114:26,55:74,127:143,88:144,82:145,81:147,84:148,73:149,18:150,86:152,23:154,94:155,13:a,16:o,44:[1,146],56:N,85:U,87:re,95:fe,96:V,115:s,128:ve,129:ce,130:l}),t(ee,[2,37],{66:159,67:A}),t(pe,[2,122]),{68:160,72:104,73:105,74:107,87:ne,96:V,126:he},t($,[2,62],{98:161,67:te}),t(R,[2,134]),{13:a,16:o,18:115,38:ae,99:162,103:106,105:109,106:113,108:110,109:oe,114:26,115:s,130:l},t(pe,[2,39]),t(R,[2,65],{101:163,102:w}),t(x,[2,136]),{13:a,16:o,18:115,38:ae,103:164,105:109,106:113,108:110,109:oe,114:26,115:s,130:l},{13:a,16:o,18:51,35:166,44:Ie,76:165,92:_,113:52,114:26,115:s,116:55,119:y,120:m,121:59,122:61,123:62,130:l,131:g,132:E,133:T,134:I,135:D,136:B},t(x,[2,69]),t(x,[2,67]),t(x,[2,71]),t(x,[2,72]),t(x,[2,73]),{40:[1,168]},t(le,[2,33]),{48:[1,170],49:169},t(P,[2,129]),t(P,[2,126]),t(P,[2,127]),{89:171,92:[1,172]},t(P,[2,43],{83:173,80:174,67:be}),t(xe,[2,45]),{13:a,16:o,18:150,23:154,55:74,56:N,84:176,85:U,86:152,87:re,94:155,95:fe,114:26,115:s,128:ve,129:ce,130:l},t(xe,[2,47]),t(xe,[2,48]),t(xe,[2,49]),{75:[1,177]},t(xe,[2,51]),t(xe,[2,56]),{13:[1,178]},t(xe,[2,132]),t(xe,[2,133]),t(pe,[2,123]),t(pe,[2,34]),t(R,[2,135]),t(R,[2,60]),t(x,[2,137]),t(x,[2,63]),t(pe,[2,40]),t(je,[2,76]),t(Ae,[2,138],{112:179}),t(k,[2,75]),{53:[2,25]},{53:[2,24]},{90:[1,180]},{90:[2,53]},t(P,[2,44],{80:181,67:be}),t(xe,[2,130]),{13:a,16:o,18:150,23:154,55:74,56:N,73:149,81:182,84:148,85:U,86:152,87:re,94:155,95:fe,96:V,114:26,115:s,128:ve,129:ce,130:l},t(xe,[2,46]),{13:a,16:o,18:51,35:166,44:Ie,76:183,92:_,113:52,114:26,115:s,116:55,119:y,120:m,121:59,122:61,123:62,130:l,131:g,132:E,133:T,134:I,135:D,136:B},t(xe,[2,57]),{13:a,16:o,18:51,35:185,46:[1,184],92:_,113:52,114:26,115:s,116:55,119:y,120:m,121:59,122:61,123:62,130:l,131:g,132:E,133:T,134:I,135:D,136:B},{91:186,92:[1,187],93:[1,188]},t(xe,[2,131]),t(xe,[2,42]),t(xe,[2,50]),t(je,[2,77]),t(Ae,[2,139]),{46:[1,189]},{46:[2,54]},{46:[2,55]},t(P,[2,52])],defaultActions:{21:[2,1],41:[2,103],70:[2,101],111:[2,124],112:[2,125],119:[2,121],169:[2,25],170:[2,24],172:[2,53],187:[2,54],188:[2,55]},parseError:function($e,ut){if(ut.recoverable)this.trace($e);else{var lt=new Error($e);throw lt.hash=ut,lt}},parse:function($e){var ut=this,lt=[0],dt=[null],ct=[],nt=this.table,lr="",at=0,De=0,We=2,Ge=1,ht=ct.slice.call(arguments,1),gt=Object.create(this.lexer),Dt={yy:{}};for(var xr in this.yy)Object.prototype.hasOwnProperty.call(this.yy,xr)&&(Dt.yy[xr]=this.yy[xr]);gt.setInput($e,Dt.yy),Dt.yy.lexer=gt,Dt.yy.parser=this,typeof gt.yylloc>"u"&&(gt.yylloc={});var xn=gt.yylloc;ct.push(xn);var vl=gt.options&&gt.options.ranges;typeof Dt.yy.parseError=="function"?this.parseError=Dt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var Qi=function(){var Pi;return Pi=gt.lex()||Ge,typeof Pi!="number"&&(Pi=ut.symbols_[Pi]||Pi),Pi},Tr,Ea,qn,Qo,oi={},Xo,si,no,Ft;;){if(Ea=lt[lt.length-1],this.defaultActions[Ea]?qn=this.defaultActions[Ea]:((Tr===null||typeof Tr>"u")&&(Tr=Qi()),qn=nt[Ea]&&nt[Ea][Tr]),typeof qn>"u"||!qn.length||!qn[0]){var Jt="";Ft=[];for(Xo in nt[Ea])this.terminals_[Xo]&&Xo>We&&Ft.push("'"+this.terminals_[Xo]+"'");gt.showPosition?Jt="Parse error on line "+(at+1)+`:
`+gt.showPosition()+`
Expecting `+Ft.join(", ")+", got '"+(this.terminals_[Tr]||Tr)+"'":Jt="Parse error on line "+(at+1)+": Unexpected "+(Tr==Ge?"end of input":"'"+(this.terminals_[Tr]||Tr)+"'"),this.parseError(Jt,{text:gt.match,token:this.terminals_[Tr]||Tr,line:gt.yylineno,loc:xn,expected:Ft})}if(qn[0]instanceof Array&&qn.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ea+", token: "+Tr);switch(qn[0]){case 1:lt.push(Tr),dt.push(gt.yytext),ct.push(gt.yylloc),lt.push(qn[1]),Tr=null,De=gt.yyleng,lr=gt.yytext,at=gt.yylineno,xn=gt.yylloc;break;case 2:if(si=this.productions_[qn[1]][1],oi.$=dt[dt.length-si],oi._$={first_line:ct[ct.length-(si||1)].first_line,last_line:ct[ct.length-1].last_line,first_column:ct[ct.length-(si||1)].first_column,last_column:ct[ct.length-1].last_column},vl&&(oi._$.range=[ct[ct.length-(si||1)].range[0],ct[ct.length-1].range[1]]),Qo=this.performAction.apply(oi,[lr,De,at,Dt.yy,qn[1],dt,ct].concat(ht)),typeof Qo<"u")return Qo;si&&(lt=lt.slice(0,-1*si*2),dt=dt.slice(0,-1*si),ct=ct.slice(0,-1*si)),lt.push(this.productions_[qn[1]][0]),dt.push(oi.$),ct.push(oi._$),no=nt[lt[lt.length-2]][lt[lt.length-1]],lt.push(no);break;case 3:return!0}}return!0}};const ke="http://www.w3.org/1999/02/22-rdf-syntax-ns#",Ze=ke+"type",Ue=ke+"first",it=ke+"rest",ye=ke+"nil",F="http://www.w3.org/2001/XMLSchema#",K=F+"integer",_e=F+"decimal",Oe=F+"double",se=F+"boolean",ge="http://www.w3.org/ns/shacl#",de="http://www.w3.org/2002/07/owl#",Re="http://www.w3.org/2000/01/rdf-schema#",qe={[K]:!0,[_e]:!0,[F+"float"]:!0,[Oe]:!0,[F+"string"]:!0,[se]:!0,[F+"dateTime"]:!0,[F+"nonPositiveInteger"]:!0,[F+"negativeInteger"]:!0,[F+"long"]:!0,[F+"int"]:!0,[F+"short"]:!0,[F+"byte"]:!0,[F+"nonNegativeInteger"]:!0,[F+"unsignedLong"]:!0,[F+"unsignedShort"]:!0,[F+"unsignedByte"]:!0,[F+"positiveInteger"]:!0,[ke+"langString"]:!0};function H(He,$e=!1){let ut=0,lt=He.length;if($e&&lt===0)return Ne.factory.namedNode(ye);const dt=head=Ve();return lt===0&&G(head,Ne.factory.namedNode(it),Ne.factory.namedNode(ye)),He.forEach(ct=>{if(ct===void 0)throw new Error("b");G(head,Ne.factory.namedNode(Ue),ct),G(head,Ne.factory.namedNode(it),head=++ut<lt?Ve():Ne.factory.namedNode(ye))}),dt}function Te(He){return Ne.n3Parser._resolveIRI(He[0]==="<"?He.substring(1,He.length-1):He)}function Ce(He){const $e=He.indexOf(":"),ut=He.substr(0,$e),lt=Ne.prefixes[ut];if(!lt)throw new Error("Unknown prefix: "+ut);return Te(lt+He.substr($e+1))}function me(He,$e){return $e&&$e.termType!=="NamedNode"&&($e=Ne.factory.namedNode($e)),Ne.factory.literal(He,$e)}function Me(He,$e){return Ne.factory.literal(He,$e)}function Ve(He){return Ne.factory.blankNode("g_"+ft++)}var ft=0;Ne._resetBlanks=function(){ft=0};function we(He,$e){return Ne.n3Parser._lexer._unescape(He.substring($e,He.length-$e))}function G(He,$e,ut){if(!He.termType||!$e.termType||$e.value.includes(",")||!ut.termType)throw new Error(`boo ${He.value} ${$e.value} ${ut.value}`);Ne.onQuad(Ne.factory.quad(He,$e,ut))}function W(He,$e){G(Ne.currentPropertyNode,Ne.factory.namedNode(ge+He),$e)}function J(He,$e,ut){const lt=Ve();return G(lt,Ne.factory.namedNode(ge+$e),ut),[He,lt]}function Ee(He){if(!Ne.extended)throw new Error("Encountered extended SHACLC syntax; but extended parsing is disabled");return He}var Le=function(){var He={EOF:1,parseError:function(ut,lt){if(this.yy.parser)this.yy.parser.parseError(ut,lt);else throw new Error(ut)},setInput:function($e,ut){return this.yy=ut||this.yy||{},this._input=$e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var $e=this._input[0];this.yytext+=$e,this.yyleng++,this.offset++,this.match+=$e,this.matched+=$e;var ut=$e.match(/(?:\r\n?|\n).*/g);return ut?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),$e},unput:function($e){var ut=$e.length,lt=$e.split(/(?:\r\n?|\n)/g);this._input=$e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-ut),this.offset-=ut;var dt=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),lt.length-1&&(this.yylineno-=lt.length-1);var ct=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:lt?(lt.length===dt.length?this.yylloc.first_column:0)+dt[dt.length-lt.length].length-lt[0].length:this.yylloc.first_column-ut},this.options.ranges&&(this.yylloc.range=[ct[0],ct[0]+this.yyleng-ut]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function($e){this.unput(this.match.slice($e))},pastInput:function(){var $e=this.matched.substr(0,this.matched.length-this.match.length);return($e.length>20?"...":"")+$e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var $e=this.match;return $e.length<20&&($e+=this._input.substr(0,20-$e.length)),($e.substr(0,20)+($e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var $e=this.pastInput(),ut=new Array($e.length+1).join("-");return $e+this.upcomingInput()+`
`+ut+"^"},test_match:function($e,ut){var lt,dt,ct;if(this.options.backtrack_lexer&&(ct={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(ct.yylloc.range=this.yylloc.range.slice(0))),dt=$e[0].match(/(?:\r\n?|\n).*/g),dt&&(this.yylineno+=dt.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:dt?dt[dt.length-1].length-dt[dt.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+$e[0].length},this.yytext+=$e[0],this.match+=$e[0],this.matches=$e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice($e[0].length),this.matched+=$e[0],lt=this.performAction.call(this,this.yy,this,ut,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),lt)return lt;if(this._backtrack){for(var nt in ct)this[nt]=ct[nt];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var $e,ut,lt,dt;this._more||(this.yytext="",this.match="");for(var ct=this._currentRules(),nt=0;nt<ct.length;nt++)if(lt=this._input.match(this.rules[ct[nt]]),lt&&(!ut||lt[0].length>ut[0].length)){if(ut=lt,dt=nt,this.options.backtrack_lexer){if($e=this.test_match(lt,ct[nt]),$e!==!1)return $e;if(this._backtrack){ut=!1;continue}else return!1}else if(!this.options.flex)break}return ut?($e=this.test_match(ut,ct[dt]),$e!==!1?$e:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var ut=this.next();return ut||this.lex()},begin:function(ut){this.conditionStack.push(ut)},popState:function(){var ut=this.conditionStack.length-1;return ut>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(ut){return ut=this.conditionStack.length-1-Math.abs(ut||0),ut>=0?this.conditionStack[ut]:"INITIAL"},pushState:function(ut){this.begin(ut)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0,"case-insensitive":!0},performAction:function(ut,lt,dt,ct){switch(dt){case 0:break;case 1:return 12;case 2:return 14;case 3:return 15;case 4:return 25;case 5:return 20;case 6:return 131;case 7:return 132;case 8:return 85;case 9:return 126;case 10:return 87;case 11:return"PASS";case 12:return"COMMENT";case 13:return 13;case 14:return 16;case 15:return 130;case 16:return 129;case 17:return 128;case 18:return 117;case 19:return 92;case 20:return 119;case 21:return 120;case 22:return"EXPONENT";case 23:return 133;case 24:return 134;case 25:return 135;case 26:return 136;case 27:return 61;case 28:return 90;case 29:return 58;case 30:return 56;case 31:return 38;case 32:return 40;case 33:return 44;case 34:return 46;case 35:return 110;case 36:return 93;case 37:return 111;case 38:return 67;case 39:return 118;case 40:return 53;case 41:return 96;case 42:return 102;case 43:return 75;case 44:return 95;case 45:return 109;case 46:return 28;case 47:return 42;case 48:return 48;case 49:return 115;case 50:return 7;case 51:console.log(lt.yytext);break}},rules:[/^(?:\s+|#[^\n\r]*)/i,/^(?:BASE)/i,/^(?:IMPORTS)/i,/^(?:PREFIX)/i,/^(?:shapeClass)/i,/^(?:shape)/i,/^(?:true)/i,/^(?:false)/i,/^(?:(BlankNode|IRI|Literal|BlankNodeOrIRI|BlankNodeOrLiteral|IRIOrLiteral\b))/i,/^(?:(targetNode|targetObjectsOf|targetSubjectsOf\b))/i,/^(?:(deactivated|severity|message|class|datatype|nodeKind|minExclusive|minInclusive|maxExclusive|maxInclusive|minLength|maxLength|pattern|flags|languageIn|uniqueLang|equals|disjoint|lessThan|lessThanOrEquals|qualifiedValueShape|qualifiedMinCount|qualifiedMaxCount|qualifiedValueShapesDisjoint|closed|ignoredProperties|hasValue|in))/i,/^(?:([ \t\r\n]+))/i,/^(?:(#[\r\n]*))/i,/^(?:(<([^=<>\"\{\}\|\^`\\\u0000-\u0020]|(\\u([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])|\\U([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])))*>))/i,/^(?:((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:))/i,/^(?:(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:)(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|:|[0-9]|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))*(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%)))))?)))/i,/^(?:(@(([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:))/i,/^(?:(@((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:)(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|:|[0-9]|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))*(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%)))))?)))/i,/^(?:(@[a-zA-Z]+(-[a-zA-Z0-9]+)*))/i,/^(?:([+-]?[0-9]+))/i,/^(?:([+-]?[0-9]*\.[0-9]+))/i,/^(?:([+-]?([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.?[0-9]+([eE][+-]?[0-9]+))))/i,/^(?:([eE][+-]?[0-9]+))/i,/^(?:('(?:(?:[^\u0027\u005C\u000A\u000D])|(\\[tbnrf\\\"\']))*'))/i,/^(?:("(?:(?:[^\u0022\u005C\u000A\u000D])|(\\[tbnrf\\\"\']))*"))/i,/^(?:('''(?:(?:'|'')?(?:[^'\\]|(\\[tbnrf\\\"\'])))*'''))/i,/^(?:("""(?:(?:"|"")?(?:[^\"\\]|(\\[tbnrf\\\"\'])))*"""))/i,/^(?:->)/i,/^(?:\.\.)/i,/^(?:\})/i,/^(?:\{)/i,/^(?:\()/i,/^(?:\))/i,/^(?:\[)/i,/^(?:\])/i,/^(?:\?)/i,/^(?:\*)/i,/^(?:\+)/i,/^(?:\|)/i,/^(?:\^\^)/i,/^(?:\.)/i,/^(?:!)/i,/^(?:\/)/i,/^(?:=)/i,/^(?:@)/i,/^(?:\^)/i,/^(?:;)/i,/^(?:,)/i,/^(?:%)/i,/^(?:a)/i,/^(?:$)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],inclusive:!0}}};return He}();Pe.lexer=Le;function Ne(){this.yy={}}return Ne.prototype=Pe,Pe.Parser=Ne,new Ne}();return iw=e,iw}var uC;function qX(){if(uC)return T0;uC=1;const e=BX().Parser,t=p8;class r{constructor(){}parse(i,{extendedSyntax:a,baseIRI:o}={}){this._parser=new e,this._parser.Parser.factory=t.DataFactory,this._parser.Parser.base=t.DataFactory.namedNode(o||"urn:x-base:default"),this._parser.Parser.extended=a===!0,this._parser.Parser.prefixes={rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",sh:"http://www.w3.org/ns/shacl#",xsd:"http://www.w3.org/2001/XMLSchema#"},this._parser.Parser.currentNodeShape=void 0,this._parser.Parser.currentPropertyNode=void 0,this._parser.Parser.nodeShapeStack=[],this._parser.Parser.tempCurrentNodeShape=void 0,this._parser.Parser.n3Parser=new t.Parser({baseIRI:o||"urn:x-base:default"});const s=[];return this._parser.Parser.onQuad=l=>{s.push(l)},this._parser.parse(i),s.prefixes=this._parser.Parser.prefixes,s}}return T0.Parser=r,T0.parse=function(i,a){return new r().parse(i,a)},T0}var Rc={},lC;function $X(){if(lC)return Rc;lC=1,Object.defineProperty(Rc,"__esModule",{value:!0}),Rc.PrefixWrappingIterator=void 0;const e=S6();let t=class extends e.WrappingIterator{constructor(n){super(n==null?void 0:n.then(i=>(this.prefixes=i.prefixes,i)))}read(){if(this.prefixes){for(const n of Object.entries(this.prefixes))this.emit("prefix",...n);delete this.prefixes}return super.read()}};return Rc.PrefixWrappingIterator=t,Rc}var fC;function UX(){if(fC)return Tc;fC=1,Object.defineProperty(Tc,"__esModule",{value:!0}),Tc.ActorRdfParseShaclc=void 0;const e=bl(),t=zm(),r=Zi(),n=qX(),i=$X();let a=class extends e.ActorRdfParseFixedMediaTypes{constructor(s){super(s)}async runHandle(s,l,u){const f=new i.PrefixWrappingIterator((0,t.stringify)(s.data).then(c=>{var p;return(0,n.parse)(c,{extendedSyntax:l==="text/shaclc-ext",baseIRI:(p=s.metadata)==null?void 0:p.baseIRI})})),d=new r.Readable({objectMode:!0});return f.on("prefix",(...c)=>d.emit("prefix",...c)),{data:d.wrap(f),metadata:{triples:!0}}}};return Tc.ActorRdfParseShaclc=a,Tc}var cC;function HX(){return cC||(cC=1,function(e){var t=xc.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=xc.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(UX(),e)}(xc)),xc}var Ac={},Ic={},dC;function VX(){if(dC)return Ic;dC=1,Object.defineProperty(Ic,"__esModule",{value:!0}),Ic.MediatorCombineUnion=void 0;const e=hr();let t=class extends e.Mediator{constructor(n){super(n),this.combiner=this.createCombiner()}async mediate(n){let i;try{i=this.publish(n)}catch{i=[]}if(this.filterFailures){const s=[];for(const l of i)(await l.reply).isPassed()&&s.push(l);i=s}const a=[];await Promise.all(i.map(async({reply:s},l)=>{const u=await s,f=u.getOrThrow();return a[l]=u.getSideData(),f}));const o=await Promise.all(i.map((s,l)=>s.actor.runObservable(n,a[l])));return this.combiner(o)}mediateWith(){throw new Error("Method not supported.")}createCombiner(){return n=>{const i={};return i[this.field]={},[{}].concat(n.map(a=>a[this.field])).forEach(a=>{i[this.field]={...a,...i[this.field]}}),i}}};return Ic.MediatorCombineUnion=t,Ic}var hC;function zX(){return hC||(hC=1,function(e){var t=Ac.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=Ac.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(VX(),e)}(Ac)),Ac}var Oc={},Pc={},bs={},po={},hu={},pC;function E8(){if(pC)return hu;pC=1,Object.defineProperty(hu,"__esModule",{value:!0}),hu.QuoteType=void 0;var e=jo(),t;(function(u){u[u.Tab=9]="Tab",u[u.NewLine=10]="NewLine",u[u.FormFeed=12]="FormFeed",u[u.CarriageReturn=13]="CarriageReturn",u[u.Space=32]="Space",u[u.ExclamationMark=33]="ExclamationMark",u[u.Number=35]="Number",u[u.Amp=38]="Amp",u[u.SingleQuote=39]="SingleQuote",u[u.DoubleQuote=34]="DoubleQuote",u[u.Dash=45]="Dash",u[u.Slash=47]="Slash",u[u.Zero=48]="Zero",u[u.Nine=57]="Nine",u[u.Semi=59]="Semi",u[u.Lt=60]="Lt",u[u.Eq=61]="Eq",u[u.Gt=62]="Gt",u[u.Questionmark=63]="Questionmark",u[u.UpperA=65]="UpperA",u[u.LowerA=97]="LowerA",u[u.UpperF=70]="UpperF",u[u.LowerF=102]="LowerF",u[u.UpperZ=90]="UpperZ",u[u.LowerZ=122]="LowerZ",u[u.LowerX=120]="LowerX",u[u.OpeningSquareBracket=91]="OpeningSquareBracket"})(t||(t={}));var r;(function(u){u[u.Text=1]="Text",u[u.BeforeTagName=2]="BeforeTagName",u[u.InTagName=3]="InTagName",u[u.InSelfClosingTag=4]="InSelfClosingTag",u[u.BeforeClosingTagName=5]="BeforeClosingTagName",u[u.InClosingTagName=6]="InClosingTagName",u[u.AfterClosingTagName=7]="AfterClosingTagName",u[u.BeforeAttributeName=8]="BeforeAttributeName",u[u.InAttributeName=9]="InAttributeName",u[u.AfterAttributeName=10]="AfterAttributeName",u[u.BeforeAttributeValue=11]="BeforeAttributeValue",u[u.InAttributeValueDq=12]="InAttributeValueDq",u[u.InAttributeValueSq=13]="InAttributeValueSq",u[u.InAttributeValueNq=14]="InAttributeValueNq",u[u.BeforeDeclaration=15]="BeforeDeclaration",u[u.InDeclaration=16]="InDeclaration",u[u.InProcessingInstruction=17]="InProcessingInstruction",u[u.BeforeComment=18]="BeforeComment",u[u.CDATASequence=19]="CDATASequence",u[u.InSpecialComment=20]="InSpecialComment",u[u.InCommentLike=21]="InCommentLike",u[u.BeforeSpecialS=22]="BeforeSpecialS",u[u.BeforeSpecialT=23]="BeforeSpecialT",u[u.SpecialStartSequence=24]="SpecialStartSequence",u[u.InSpecialTag=25]="InSpecialTag",u[u.InEntity=26]="InEntity"})(r||(r={}));function n(u){return u===t.Space||u===t.NewLine||u===t.Tab||u===t.FormFeed||u===t.CarriageReturn}function i(u){return u===t.Slash||u===t.Gt||n(u)}function a(u){return u>=t.LowerA&&u<=t.LowerZ||u>=t.UpperA&&u<=t.UpperZ}var o;(function(u){u[u.NoValue=0]="NoValue",u[u.Unquoted=1]="Unquoted",u[u.Single=2]="Single",u[u.Double=3]="Double"})(o||(hu.QuoteType=o={}));var s={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])},l=function(){function u(f,d){var c=f.xmlMode,p=c===void 0?!1:c,b=f.decodeEntities,v=b===void 0?!0:b,_=this;this.cbs=d,this.state=r.Text,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=r.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.xmlMode=p,this.decodeEntities=v,this.entityDecoder=new e.EntityDecoder(p?e.xmlDecodeTree:e.htmlDecodeTree,function(y,m){return _.emitCodePoint(y,m)})}return u.prototype.reset=function(){this.state=r.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=r.Text,this.currentSequence=void 0,this.running=!0,this.offset=0},u.prototype.write=function(f){this.offset+=this.buffer.length,this.buffer=f,this.parse()},u.prototype.end=function(){this.running&&this.finish()},u.prototype.pause=function(){this.running=!1},u.prototype.resume=function(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()},u.prototype.stateText=function(f){f===t.Lt||!this.decodeEntities&&this.fastForwardTo(t.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=r.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&f===t.Amp&&this.startEntity()},u.prototype.stateSpecialStartSequence=function(f){var d=this.sequenceIndex===this.currentSequence.length,c=d?i(f):(f|32)===this.currentSequence[this.sequenceIndex];if(!c)this.isSpecial=!1;else if(!d){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=r.InTagName,this.stateInTagName(f)},u.prototype.stateInSpecialTag=function(f){if(this.sequenceIndex===this.currentSequence.length){if(f===t.Gt||n(f)){var d=this.index-this.currentSequence.length;if(this.sectionStart<d){var c=this.index;this.index=d,this.cbs.ontext(this.sectionStart,d),this.index=c}this.isSpecial=!1,this.sectionStart=d+2,this.stateInClosingTagName(f);return}this.sequenceIndex=0}(f|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===s.TitleEnd?this.decodeEntities&&f===t.Amp&&this.startEntity():this.fastForwardTo(t.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(f===t.Lt)},u.prototype.stateCDATASequence=function(f){f===s.Cdata[this.sequenceIndex]?++this.sequenceIndex===s.Cdata.length&&(this.state=r.InCommentLike,this.currentSequence=s.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=r.InDeclaration,this.stateInDeclaration(f))},u.prototype.fastForwardTo=function(f){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===f)return!0;return this.index=this.buffer.length+this.offset-1,!1},u.prototype.stateInCommentLike=function(f){f===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===s.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=r.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):f!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)},u.prototype.isTagStartChar=function(f){return this.xmlMode?!i(f):a(f)},u.prototype.startSpecial=function(f,d){this.isSpecial=!0,this.currentSequence=f,this.sequenceIndex=d,this.state=r.SpecialStartSequence},u.prototype.stateBeforeTagName=function(f){if(f===t.ExclamationMark)this.state=r.BeforeDeclaration,this.sectionStart=this.index+1;else if(f===t.Questionmark)this.state=r.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(f)){var d=f|32;this.sectionStart=this.index,this.xmlMode?this.state=r.InTagName:d===s.ScriptEnd[2]?this.state=r.BeforeSpecialS:d===s.TitleEnd[2]?this.state=r.BeforeSpecialT:this.state=r.InTagName}else f===t.Slash?this.state=r.BeforeClosingTagName:(this.state=r.Text,this.stateText(f))},u.prototype.stateInTagName=function(f){i(f)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(f))},u.prototype.stateBeforeClosingTagName=function(f){n(f)||(f===t.Gt?this.state=r.Text:(this.state=this.isTagStartChar(f)?r.InClosingTagName:r.InSpecialComment,this.sectionStart=this.index))},u.prototype.stateInClosingTagName=function(f){(f===t.Gt||n(f))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=r.AfterClosingTagName,this.stateAfterClosingTagName(f))},u.prototype.stateAfterClosingTagName=function(f){(f===t.Gt||this.fastForwardTo(t.Gt))&&(this.state=r.Text,this.sectionStart=this.index+1)},u.prototype.stateBeforeAttributeName=function(f){f===t.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=r.InSpecialTag,this.sequenceIndex=0):this.state=r.Text,this.sectionStart=this.index+1):f===t.Slash?this.state=r.InSelfClosingTag:n(f)||(this.state=r.InAttributeName,this.sectionStart=this.index)},u.prototype.stateInSelfClosingTag=function(f){f===t.Gt?(this.cbs.onselfclosingtag(this.index),this.state=r.Text,this.sectionStart=this.index+1,this.isSpecial=!1):n(f)||(this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(f))},u.prototype.stateInAttributeName=function(f){(f===t.Eq||i(f))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=this.index,this.state=r.AfterAttributeName,this.stateAfterAttributeName(f))},u.prototype.stateAfterAttributeName=function(f){f===t.Eq?this.state=r.BeforeAttributeValue:f===t.Slash||f===t.Gt?(this.cbs.onattribend(o.NoValue,this.sectionStart),this.sectionStart=-1,this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(f)):n(f)||(this.cbs.onattribend(o.NoValue,this.sectionStart),this.state=r.InAttributeName,this.sectionStart=this.index)},u.prototype.stateBeforeAttributeValue=function(f){f===t.DoubleQuote?(this.state=r.InAttributeValueDq,this.sectionStart=this.index+1):f===t.SingleQuote?(this.state=r.InAttributeValueSq,this.sectionStart=this.index+1):n(f)||(this.sectionStart=this.index,this.state=r.InAttributeValueNq,this.stateInAttributeValueNoQuotes(f))},u.prototype.handleInAttributeValue=function(f,d){f===d||!this.decodeEntities&&this.fastForwardTo(d)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(d===t.DoubleQuote?o.Double:o.Single,this.index+1),this.state=r.BeforeAttributeName):this.decodeEntities&&f===t.Amp&&this.startEntity()},u.prototype.stateInAttributeValueDoubleQuotes=function(f){this.handleInAttributeValue(f,t.DoubleQuote)},u.prototype.stateInAttributeValueSingleQuotes=function(f){this.handleInAttributeValue(f,t.SingleQuote)},u.prototype.stateInAttributeValueNoQuotes=function(f){n(f)||f===t.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(o.Unquoted,this.index),this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(f)):this.decodeEntities&&f===t.Amp&&this.startEntity()},u.prototype.stateBeforeDeclaration=function(f){f===t.OpeningSquareBracket?(this.state=r.CDATASequence,this.sequenceIndex=0):this.state=f===t.Dash?r.BeforeComment:r.InDeclaration},u.prototype.stateInDeclaration=function(f){(f===t.Gt||this.fastForwardTo(t.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=r.Text,this.sectionStart=this.index+1)},u.prototype.stateInProcessingInstruction=function(f){(f===t.Gt||this.fastForwardTo(t.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=r.Text,this.sectionStart=this.index+1)},u.prototype.stateBeforeComment=function(f){f===t.Dash?(this.state=r.InCommentLike,this.currentSequence=s.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=r.InDeclaration},u.prototype.stateInSpecialComment=function(f){(f===t.Gt||this.fastForwardTo(t.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=r.Text,this.sectionStart=this.index+1)},u.prototype.stateBeforeSpecialS=function(f){var d=f|32;d===s.ScriptEnd[3]?this.startSpecial(s.ScriptEnd,4):d===s.StyleEnd[3]?this.startSpecial(s.StyleEnd,4):(this.state=r.InTagName,this.stateInTagName(f))},u.prototype.stateBeforeSpecialT=function(f){var d=f|32;d===s.TitleEnd[3]?this.startSpecial(s.TitleEnd,4):d===s.TextareaEnd[3]?this.startSpecial(s.TextareaEnd,4):(this.state=r.InTagName,this.stateInTagName(f))},u.prototype.startEntity=function(){this.baseState=this.state,this.state=r.InEntity,this.entityStart=this.index,this.entityDecoder.startEntity(this.xmlMode?e.DecodingMode.Strict:this.baseState===r.Text||this.baseState===r.InSpecialTag?e.DecodingMode.Legacy:e.DecodingMode.Attribute)},u.prototype.stateInEntity=function(){var f=this.entityDecoder.write(this.buffer,this.index-this.offset);f>=0?(this.state=this.baseState,f===0&&(this.index=this.entityStart)):this.index=this.offset+this.buffer.length-1},u.prototype.cleanup=function(){this.running&&this.sectionStart!==this.index&&(this.state===r.Text||this.state===r.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===r.InAttributeValueDq||this.state===r.InAttributeValueSq||this.state===r.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))},u.prototype.shouldContinue=function(){return this.index<this.buffer.length+this.offset&&this.running},u.prototype.parse=function(){for(;this.shouldContinue();){var f=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case r.Text:{this.stateText(f);break}case r.SpecialStartSequence:{this.stateSpecialStartSequence(f);break}case r.InSpecialTag:{this.stateInSpecialTag(f);break}case r.CDATASequence:{this.stateCDATASequence(f);break}case r.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(f);break}case r.InAttributeName:{this.stateInAttributeName(f);break}case r.InCommentLike:{this.stateInCommentLike(f);break}case r.InSpecialComment:{this.stateInSpecialComment(f);break}case r.BeforeAttributeName:{this.stateBeforeAttributeName(f);break}case r.InTagName:{this.stateInTagName(f);break}case r.InClosingTagName:{this.stateInClosingTagName(f);break}case r.BeforeTagName:{this.stateBeforeTagName(f);break}case r.AfterAttributeName:{this.stateAfterAttributeName(f);break}case r.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(f);break}case r.BeforeAttributeValue:{this.stateBeforeAttributeValue(f);break}case r.BeforeClosingTagName:{this.stateBeforeClosingTagName(f);break}case r.AfterClosingTagName:{this.stateAfterClosingTagName(f);break}case r.BeforeSpecialS:{this.stateBeforeSpecialS(f);break}case r.BeforeSpecialT:{this.stateBeforeSpecialT(f);break}case r.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(f);break}case r.InSelfClosingTag:{this.stateInSelfClosingTag(f);break}case r.InDeclaration:{this.stateInDeclaration(f);break}case r.BeforeDeclaration:{this.stateBeforeDeclaration(f);break}case r.BeforeComment:{this.stateBeforeComment(f);break}case r.InProcessingInstruction:{this.stateInProcessingInstruction(f);break}case r.InEntity:{this.stateInEntity();break}}this.index++}this.cleanup()},u.prototype.finish=function(){this.state===r.InEntity&&(this.entityDecoder.end(),this.state=this.baseState),this.handleTrailingData(),this.cbs.onend()},u.prototype.handleTrailingData=function(){var f=this.buffer.length+this.offset;this.sectionStart>=f||(this.state===r.InCommentLike?this.currentSequence===s.CdataEnd?this.cbs.oncdata(this.sectionStart,f,0):this.cbs.oncomment(this.sectionStart,f,0):this.state===r.InTagName||this.state===r.BeforeAttributeName||this.state===r.BeforeAttributeValue||this.state===r.AfterAttributeName||this.state===r.InAttributeName||this.state===r.InAttributeValueSq||this.state===r.InAttributeValueDq||this.state===r.InAttributeValueNq||this.state===r.InClosingTagName||this.cbs.ontext(this.sectionStart,f))},u.prototype.emitCodePoint=function(f,d){this.baseState!==r.Text&&this.baseState!==r.InSpecialTag?(this.sectionStart<this.entityStart&&this.cbs.onattribdata(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+d,this.index=this.sectionStart-1,this.cbs.onattribentity(f)):(this.sectionStart<this.entityStart&&this.cbs.ontext(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+d,this.index=this.sectionStart-1,this.cbs.ontextentity(f,this.sectionStart))},u}();return hu.default=l,hu}var mC;function yC(){if(mC)return po;mC=1;var e=po.__createBinding||(Object.create?function(_,y,m,g){g===void 0&&(g=m);var E=Object.getOwnPropertyDescriptor(y,m);(!E||("get"in E?!y.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return y[m]}}),Object.defineProperty(_,g,E)}:function(_,y,m,g){g===void 0&&(g=m),_[g]=y[m]}),t=po.__setModuleDefault||(Object.create?function(_,y){Object.defineProperty(_,"default",{enumerable:!0,value:y})}:function(_,y){_.default=y}),r=po.__importStar||function(_){if(_&&_.__esModule)return _;var y={};if(_!=null)for(var m in _)m!=="default"&&Object.prototype.hasOwnProperty.call(_,m)&&e(y,_,m);return t(y,_),y};Object.defineProperty(po,"__esModule",{value:!0}),po.Parser=void 0;var n=r(E8()),i=jo(),a=new Set(["input","option","optgroup","select","button","datalist","textarea"]),o=new Set(["p"]),s=new Set(["thead","tbody"]),l=new Set(["dd","dt"]),u=new Set(["rt","rp"]),f=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",o],["h1",o],["h2",o],["h3",o],["h4",o],["h5",o],["h6",o],["select",a],["input",a],["output",a],["button",a],["datalist",a],["textarea",a],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",l],["dt",l],["address",o],["article",o],["aside",o],["blockquote",o],["details",o],["div",o],["dl",o],["fieldset",o],["figcaption",o],["figure",o],["footer",o],["form",o],["header",o],["hr",o],["main",o],["nav",o],["ol",o],["pre",o],["section",o],["table",o],["ul",o],["rt",u],["rp",u],["tbody",s],["tfoot",s]]),d=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),c=new Set(["math","svg"]),p=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),b=/\s|\//,v=function(){function _(y,m){m===void 0&&(m={});var g,E,T,I,D,B;this.options=m,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=y??{},this.htmlMode=!this.options.xmlMode,this.lowerCaseTagNames=(g=m.lowerCaseTags)!==null&&g!==void 0?g:this.htmlMode,this.lowerCaseAttributeNames=(E=m.lowerCaseAttributeNames)!==null&&E!==void 0?E:this.htmlMode,this.recognizeSelfClosing=(T=m.recognizeSelfClosing)!==null&&T!==void 0?T:!this.htmlMode,this.tokenizer=new((I=m.Tokenizer)!==null&&I!==void 0?I:n.default)(this.options,this),this.foreignContext=[!this.htmlMode],(B=(D=this.cbs).onparserinit)===null||B===void 0||B.call(D,this)}return _.prototype.ontext=function(y,m){var g,E,T=this.getSlice(y,m);this.endIndex=m-1,(E=(g=this.cbs).ontext)===null||E===void 0||E.call(g,T),this.startIndex=m},_.prototype.ontextentity=function(y,m){var g,E;this.endIndex=m-1,(E=(g=this.cbs).ontext)===null||E===void 0||E.call(g,(0,i.fromCodePoint)(y)),this.startIndex=m},_.prototype.isVoidElement=function(y){return this.htmlMode&&d.has(y)},_.prototype.onopentagname=function(y,m){this.endIndex=m;var g=this.getSlice(y,m);this.lowerCaseTagNames&&(g=g.toLowerCase()),this.emitOpenTag(g)},_.prototype.emitOpenTag=function(y){var m,g,E,T;this.openTagStart=this.startIndex,this.tagname=y;var I=this.htmlMode&&f.get(y);if(I)for(;this.stack.length>0&&I.has(this.stack[0]);){var D=this.stack.shift();(g=(m=this.cbs).onclosetag)===null||g===void 0||g.call(m,D,!0)}this.isVoidElement(y)||(this.stack.unshift(y),this.htmlMode&&(c.has(y)?this.foreignContext.unshift(!0):p.has(y)&&this.foreignContext.unshift(!1))),(T=(E=this.cbs).onopentagname)===null||T===void 0||T.call(E,y),this.cbs.onopentag&&(this.attribs={})},_.prototype.endOpenTag=function(y){var m,g;this.startIndex=this.openTagStart,this.attribs&&((g=(m=this.cbs).onopentag)===null||g===void 0||g.call(m,this.tagname,this.attribs,y),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""},_.prototype.onopentagend=function(y){this.endIndex=y,this.endOpenTag(!1),this.startIndex=y+1},_.prototype.onclosetag=function(y,m){var g,E,T,I,D,B,N,M;this.endIndex=m;var j=this.getSlice(y,m);if(this.lowerCaseTagNames&&(j=j.toLowerCase()),this.htmlMode&&(c.has(j)||p.has(j))&&this.foreignContext.shift(),this.isVoidElement(j))this.htmlMode&&j==="br"&&((I=(T=this.cbs).onopentagname)===null||I===void 0||I.call(T,"br"),(B=(D=this.cbs).onopentag)===null||B===void 0||B.call(D,"br",{},!0),(M=(N=this.cbs).onclosetag)===null||M===void 0||M.call(N,"br",!1));else{var O=this.stack.indexOf(j);if(O!==-1)for(var q=0;q<=O;q++){var Q=this.stack.shift();(E=(g=this.cbs).onclosetag)===null||E===void 0||E.call(g,Q,q!==O)}else this.htmlMode&&j==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=m+1},_.prototype.onselfclosingtag=function(y){this.endIndex=y,this.recognizeSelfClosing||this.foreignContext[0]?(this.closeCurrentTag(!1),this.startIndex=y+1):this.onopentagend(y)},_.prototype.closeCurrentTag=function(y){var m,g,E=this.tagname;this.endOpenTag(y),this.stack[0]===E&&((g=(m=this.cbs).onclosetag)===null||g===void 0||g.call(m,E,!y),this.stack.shift())},_.prototype.onattribname=function(y,m){this.startIndex=y;var g=this.getSlice(y,m);this.attribname=this.lowerCaseAttributeNames?g.toLowerCase():g},_.prototype.onattribdata=function(y,m){this.attribvalue+=this.getSlice(y,m)},_.prototype.onattribentity=function(y){this.attribvalue+=(0,i.fromCodePoint)(y)},_.prototype.onattribend=function(y,m){var g,E;this.endIndex=m,(E=(g=this.cbs).onattribute)===null||E===void 0||E.call(g,this.attribname,this.attribvalue,y===n.QuoteType.Double?'"':y===n.QuoteType.Single?"'":y===n.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""},_.prototype.getInstructionName=function(y){var m=y.search(b),g=m<0?y:y.substr(0,m);return this.lowerCaseTagNames&&(g=g.toLowerCase()),g},_.prototype.ondeclaration=function(y,m){this.endIndex=m;var g=this.getSlice(y,m);if(this.cbs.onprocessinginstruction){var E=this.getInstructionName(g);this.cbs.onprocessinginstruction("!".concat(E),"!".concat(g))}this.startIndex=m+1},_.prototype.onprocessinginstruction=function(y,m){this.endIndex=m;var g=this.getSlice(y,m);if(this.cbs.onprocessinginstruction){var E=this.getInstructionName(g);this.cbs.onprocessinginstruction("?".concat(E),"?".concat(g))}this.startIndex=m+1},_.prototype.oncomment=function(y,m,g){var E,T,I,D;this.endIndex=m,(T=(E=this.cbs).oncomment)===null||T===void 0||T.call(E,this.getSlice(y,m-g)),(D=(I=this.cbs).oncommentend)===null||D===void 0||D.call(I),this.startIndex=m+1},_.prototype.oncdata=function(y,m,g){var E,T,I,D,B,N,M,j,O,q;this.endIndex=m;var Q=this.getSlice(y,m-g);!this.htmlMode||this.options.recognizeCDATA?((T=(E=this.cbs).oncdatastart)===null||T===void 0||T.call(E),(D=(I=this.cbs).ontext)===null||D===void 0||D.call(I,Q),(N=(B=this.cbs).oncdataend)===null||N===void 0||N.call(B)):((j=(M=this.cbs).oncomment)===null||j===void 0||j.call(M,"[CDATA[".concat(Q,"]]")),(q=(O=this.cbs).oncommentend)===null||q===void 0||q.call(O)),this.startIndex=m+1},_.prototype.onend=function(){var y,m;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(var g=0;g<this.stack.length;g++)this.cbs.onclosetag(this.stack[g],!0)}(m=(y=this.cbs).onend)===null||m===void 0||m.call(y)},_.prototype.reset=function(){var y,m,g,E;(m=(y=this.cbs).onreset)===null||m===void 0||m.call(y),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(E=(g=this.cbs).onparserinit)===null||E===void 0||E.call(g,this),this.buffers.length=0,this.foreignContext.length=0,this.foreignContext.unshift(!this.htmlMode),this.bufferOffset=0,this.writeIndex=0,this.ended=!1},_.prototype.parseComplete=function(y){this.reset(),this.end(y)},_.prototype.getSlice=function(y,m){for(;y-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();for(var g=this.buffers[0].slice(y-this.bufferOffset,m-this.bufferOffset);m-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),g+=this.buffers[0].slice(0,m-this.bufferOffset);return g},_.prototype.shiftBuffer=function(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()},_.prototype.write=function(y){var m,g;if(this.ended){(g=(m=this.cbs).onerror)===null||g===void 0||g.call(m,new Error(".write() after done!"));return}this.buffers.push(y),this.tokenizer.running&&(this.tokenizer.write(y),this.writeIndex++)},_.prototype.end=function(y){var m,g;if(this.ended){(g=(m=this.cbs).onerror)===null||g===void 0||g.call(m,new Error(".end() after done!"));return}y&&this.write(y),this.ended=!0,this.tokenizer.end()},_.prototype.pause=function(){this.tokenizer.pause()},_.prototype.resume=function(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()},_.prototype.parseChunk=function(y){this.write(y)},_.prototype.done=function(y){this.end(y)},_}();return po.Parser=v,po}var gC;function WX(){return gC||(gC=1,function(e){var t=bs.__createBinding||(Object.create?function(m,g,E,T){T===void 0&&(T=E);var I=Object.getOwnPropertyDescriptor(g,E);(!I||("get"in I?!g.__esModule:I.writable||I.configurable))&&(I={enumerable:!0,get:function(){return g[E]}}),Object.defineProperty(m,T,I)}:function(m,g,E,T){T===void 0&&(T=E),m[T]=g[E]}),r=bs.__setModuleDefault||(Object.create?function(m,g){Object.defineProperty(m,"default",{enumerable:!0,value:g})}:function(m,g){m.default=g}),n=bs.__importStar||function(m){if(m&&m.__esModule)return m;var g={};if(m!=null)for(var E in m)E!=="default"&&Object.prototype.hasOwnProperty.call(m,E)&&t(g,m,E);return r(g,m),g},i=bs.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(e,"__esModule",{value:!0}),e.DomUtils=e.parseFeed=e.getFeed=e.ElementType=e.QuoteType=e.Tokenizer=e.createDomStream=e.createDocumentStream=e.parseDOM=e.parseDocument=e.DefaultHandler=e.DomHandler=e.Parser=void 0;var a=yC(),o=yC();Object.defineProperty(e,"Parser",{enumerable:!0,get:function(){return o.Parser}});var s=Ri(),l=Ri();Object.defineProperty(e,"DomHandler",{enumerable:!0,get:function(){return l.DomHandler}}),Object.defineProperty(e,"DefaultHandler",{enumerable:!0,get:function(){return l.DomHandler}});function u(m,g){var E=new s.DomHandler(void 0,g);return new a.Parser(E,g).end(m),E.root}e.parseDocument=u;function f(m,g){return u(m,g).children}e.parseDOM=f;function d(m,g,E){var T=new s.DomHandler(function(I){return m(I,T.root)},g,E);return new a.Parser(T,g)}e.createDocumentStream=d;function c(m,g,E){var T=new s.DomHandler(m,g,E);return new a.Parser(T,g)}e.createDomStream=c;var p=E8();Object.defineProperty(e,"Tokenizer",{enumerable:!0,get:function(){return i(p).default}}),Object.defineProperty(e,"QuoteType",{enumerable:!0,get:function(){return p.QuoteType}}),e.ElementType=n(Qs());var b=Wa(),v=Wa();Object.defineProperty(e,"getFeed",{enumerable:!0,get:function(){return v.getFeed}});var _={xmlMode:!0};function y(m,g){return g===void 0&&(g=_),(0,b.getFeed)(f(m,g))}e.parseFeed=y,e.DomUtils=n(Wa())}(bs)),bs}var _C;function GX(){if(_C)return Pc;_C=1,Object.defineProperty(Pc,"__esModule",{value:!0}),Pc.ActorRdfParseHtml=void 0;const e=bl(),t=WX(),r=Zi();class n extends e.ActorRdfParseFixedMediaTypes{constructor(a){super(a)}async runHandle(a,o,s){var b;const l=new r.Readable({objectMode:!0});l._read=()=>{};let u=0,f=1;function d(v){l.emit("error",v)}function c(){--f===0&&l.push(null)}const p={baseIRI:((b=a.metadata)==null?void 0:b.baseIRI)??"",context:s,emit:v=>{u--,l.push(v)},end:c,error:d,headers:a.headers};try{const v=await Promise.all(this.busRdfParseHtml.publish(p));f+=v.length;const _=[];for(const g of v){const{htmlParseListener:E}=await g.actor.run(p,void 0);_.push(E)}const y=new t.Parser({onclosetag(){try{for(const g of _)g.onTagClose()}catch(g){d(g)}},onend(){try{for(const g of _)g.onEnd()}catch(g){d(g)}c()},onopentag(g,E){try{for(const T of _)T.onTagOpen(g,E)}catch(T){d(T)}},ontext(g){try{for(const E of _)E.onText(g)}catch(E){d(E)}}},{decodeEntities:!0,recognizeSelfClosing:!0,xmlMode:!1}),m=l._read=g=>{for(u=Math.max(g,u);u>0;){const E=a.data.read();if(E===null){a.data.once("readable",()=>m(0));return}y.write(E.toString())}};a.data.on("error",d).on("end",()=>y.end())}catch(v){setTimeout(()=>{l.emit("error",v)})}return{data:l}}}return Pc.ActorRdfParseHtml=n,Pc}var bC;function KX(){return bC||(bC=1,function(e){var t=Oc.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=Oc.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(GX(),e)}(Oc)),Oc}var Dc={},Nc={},Cc={},Lc={},vC;function ZX(){if(vC)return Lc;vC=1,Object.defineProperty(Lc,"__esModule",{value:!0}),Lc.ActorRdfParseHtml=void 0;const e=hr();let t=class extends e.Actor{constructor(n){super(n)}};return Lc.ActorRdfParseHtml=t,Lc}var wC;function mx(){return wC||(wC=1,function(e){var t=Cc.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=Cc.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(ZX(),e)}(Cc)),Cc}var Mc={},aw={},EC;function YX(){return EC||(EC=1,Object.defineProperty(aw,"__esModule",{value:!0})),aw}var kc={},SC;function S8(){if(SC)return kc;SC=1,Object.defineProperty(kc,"__esModule",{value:!0}),kc.ItemPropertyHandlerContent=void 0;let e=class{canHandle(r,n){return"content"in n}getObject(r,n,i){return n.createLiteral(r.content,i)}};return kc.ItemPropertyHandlerContent=e,kc}var Fc={},jc={},xC;function Gm(){if(xC)return jc;xC=1,Object.defineProperty(jc,"__esModule",{value:!0}),jc.Util=void 0;const e=Jr(),t=Oi();class r{constructor(i,a){this.dataFactory=i||new e.DataFactory,this.baseIRI=a||""}static isValidIri(i){return r.IRI_REGEX.test(i)}createVocabIris(i,a,o){return i.split(/\s+/u).filter(s=>!!s).map(s=>{if(!r.isValidIri(s)){if(!o)return;s=`${a.vocab||`${this.baseIRI}#`}${s}`}return this.dataFactory.namedNode(s)}).filter(s=>!!s)}getVocabularyExpansionType(i,a,o){const s=i.split(/\s+/u);if(s.includes("subPropertyOf")||s.includes("equivalentProperty"))return[this.dataFactory.namedNode(`${r.RDF}type`)];if(a.vocab&&a.vocab in o&&o[a.vocab].properties){let l=[];for(const[u,f]of Object.entries(o[a.vocab].properties))s.includes(u)&&(l=[...Object.values(f).map(d=>this.dataFactory.namedNode(d))]);return l}return[]}createSubject(i){if(!r.isValidIri(i))try{i=(0,t.resolve)(i,this.baseIRI)}catch{return}return this.dataFactory.namedNode(i)}createLiteral(i,a){return this.dataFactory.literal(i,a.language)}deriveVocab(i,a){let o;for(const s in a)if(i.startsWith(s)){o=s,o.endsWith("/")||(o+="#");break}if(!o){const s=i.indexOf("#");s>0?o=i.slice(0,s+1):o=(0,t.resolve)(".",i)}return o}}return jc.Util=r,r.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",r.XSD="http://www.w3.org/2001/XMLSchema#",r.RDFA="http://www.w3.org/ns/rdfa#",r.IRI_REGEX=/^([A-Za-z][\d+-.A-Za-z]*|_):[^ "<>[\\\]`{|}]*$/u,jc}var TC;function x8(){if(TC)return Fc;TC=1,Object.defineProperty(Fc,"__esModule",{value:!0}),Fc.ItemPropertyHandlerNumber=void 0;const e=Gm();let t=class{constructor(n,i){this.tagName=n,this.attributeName=i}canHandle(n,i){return this.tagName===n&&this.attributeName in i}getObject(n,i,a){const o=n[this.attributeName];let s;return!Number.isNaN(Number.parseInt(o,10))&&!o.includes(".")?s=`${e.Util.XSD}integer`:Number.isNaN(Number.parseFloat(o))||(s=`${e.Util.XSD}double`),i.dataFactory.literal(o,s&&i.dataFactory.namedNode(s))}};return Fc.ItemPropertyHandlerNumber=t,Fc}var Bc={},RC;function R8(){if(RC)return Bc;RC=1,Object.defineProperty(Bc,"__esModule",{value:!0}),Bc.ItemPropertyHandlerTime=void 0;const e=Gm();let t=class T8{canHandle(n,i){return n==="time"&&"datetime"in i}getObject(n,i,a){const o=n.datetime;let s;for(const l of T8.TIME_REGEXES)if(l.regex.test(o)){s=i.dataFactory.namedNode(e.Util.XSD+l.type);break}return i.dataFactory.literal(o,s)}};return Bc.ItemPropertyHandlerTime=t,t.TIME_REGEXES=[{regex:/^-?P(\d+Y)?(\d+M)?(\d+D)?(T(\d+H)?(\d+M)?(\d+(\.\d)?S)?)?$/u,type:"duration"},{regex:/^\d+-\d\d-\d\dT\d\d:\d\d:\d\d((Z?)|([+-]\d\d:\d\d))$/u,type:"dateTime"},{regex:/^\d+-\d\d-\d\dZ?$/u,type:"date"},{regex:/^\d\d:\d\d:\d\d((Z?)|([+-]\d\d:\d\d))$/u,type:"time"},{regex:/^\d+-\d\d$/u,type:"gYearMonth"},{regex:/^\d+$/u,type:"gYear"}],Bc}var qc={},AC;function A8(){if(AC)return qc;AC=1,Object.defineProperty(qc,"__esModule",{value:!0}),qc.ItemPropertyHandlerUrl=void 0;const e=Oi();let t=class{constructor(n,i){this.tagName=n,this.attributeName=i}canHandle(n,i){return this.tagName===n&&this.attributeName in i}getObject(n,i,a){return i.dataFactory.namedNode((0,e.resolve)(n[this.attributeName],i.baseIRI))}};return qc.ItemPropertyHandlerUrl=t,qc}var ow={},IC;function QX(){return IC||(IC=1,Object.defineProperty(ow,"__esModule",{value:!0})),ow}var sw={},OC;function XX(){return OC||(OC=1,Object.defineProperty(sw,"__esModule",{value:!0})),sw}var uw={},PC;function JX(){return PC||(PC=1,Object.defineProperty(uw,"__esModule",{value:!0})),uw}var $c={},vs={},mo={},lw={},DC;function I8(){return DC||(DC=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.QuoteType=void 0;var t=jo(),r;(function(c){c[c.Tab=9]="Tab",c[c.NewLine=10]="NewLine",c[c.FormFeed=12]="FormFeed",c[c.CarriageReturn=13]="CarriageReturn",c[c.Space=32]="Space",c[c.ExclamationMark=33]="ExclamationMark",c[c.Number=35]="Number",c[c.Amp=38]="Amp",c[c.SingleQuote=39]="SingleQuote",c[c.DoubleQuote=34]="DoubleQuote",c[c.Dash=45]="Dash",c[c.Slash=47]="Slash",c[c.Zero=48]="Zero",c[c.Nine=57]="Nine",c[c.Semi=59]="Semi",c[c.Lt=60]="Lt",c[c.Eq=61]="Eq",c[c.Gt=62]="Gt",c[c.Questionmark=63]="Questionmark",c[c.UpperA=65]="UpperA",c[c.LowerA=97]="LowerA",c[c.UpperF=70]="UpperF",c[c.LowerF=102]="LowerF",c[c.UpperZ=90]="UpperZ",c[c.LowerZ=122]="LowerZ",c[c.LowerX=120]="LowerX",c[c.OpeningSquareBracket=91]="OpeningSquareBracket"})(r||(r={}));var n;(function(c){c[c.Text=1]="Text",c[c.BeforeTagName=2]="BeforeTagName",c[c.InTagName=3]="InTagName",c[c.InSelfClosingTag=4]="InSelfClosingTag",c[c.BeforeClosingTagName=5]="BeforeClosingTagName",c[c.InClosingTagName=6]="InClosingTagName",c[c.AfterClosingTagName=7]="AfterClosingTagName",c[c.BeforeAttributeName=8]="BeforeAttributeName",c[c.InAttributeName=9]="InAttributeName",c[c.AfterAttributeName=10]="AfterAttributeName",c[c.BeforeAttributeValue=11]="BeforeAttributeValue",c[c.InAttributeValueDq=12]="InAttributeValueDq",c[c.InAttributeValueSq=13]="InAttributeValueSq",c[c.InAttributeValueNq=14]="InAttributeValueNq",c[c.BeforeDeclaration=15]="BeforeDeclaration",c[c.InDeclaration=16]="InDeclaration",c[c.InProcessingInstruction=17]="InProcessingInstruction",c[c.BeforeComment=18]="BeforeComment",c[c.CDATASequence=19]="CDATASequence",c[c.InSpecialComment=20]="InSpecialComment",c[c.InCommentLike=21]="InCommentLike",c[c.BeforeSpecialS=22]="BeforeSpecialS",c[c.SpecialStartSequence=23]="SpecialStartSequence",c[c.InSpecialTag=24]="InSpecialTag",c[c.BeforeEntity=25]="BeforeEntity",c[c.BeforeNumericEntity=26]="BeforeNumericEntity",c[c.InNamedEntity=27]="InNamedEntity",c[c.InNumericEntity=28]="InNumericEntity",c[c.InHexEntity=29]="InHexEntity"})(n||(n={}));function i(c){return c===r.Space||c===r.NewLine||c===r.Tab||c===r.FormFeed||c===r.CarriageReturn}function a(c){return c===r.Slash||c===r.Gt||i(c)}function o(c){return c>=r.Zero&&c<=r.Nine}function s(c){return c>=r.LowerA&&c<=r.LowerZ||c>=r.UpperA&&c<=r.UpperZ}function l(c){return c>=r.UpperA&&c<=r.UpperF||c>=r.LowerA&&c<=r.LowerF}var u;(function(c){c[c.NoValue=0]="NoValue",c[c.Unquoted=1]="Unquoted",c[c.Single=2]="Single",c[c.Double=3]="Double"})(u=e.QuoteType||(e.QuoteType={}));var f={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101])},d=function(){function c(p,b){var v=p.xmlMode,_=v===void 0?!1:v,y=p.decodeEntities,m=y===void 0?!0:y;this.cbs=b,this.state=n.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=n.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.trieIndex=0,this.trieCurrent=0,this.entityResult=0,this.entityExcess=0,this.xmlMode=_,this.decodeEntities=m,this.entityTrie=_?t.xmlDecodeTree:t.htmlDecodeTree}return c.prototype.reset=function(){this.state=n.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=n.Text,this.currentSequence=void 0,this.running=!0,this.offset=0},c.prototype.write=function(p){this.offset+=this.buffer.length,this.buffer=p,this.parse()},c.prototype.end=function(){this.running&&this.finish()},c.prototype.pause=function(){this.running=!1},c.prototype.resume=function(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()},c.prototype.getIndex=function(){return this.index},c.prototype.getSectionStart=function(){return this.sectionStart},c.prototype.stateText=function(p){p===r.Lt||!this.decodeEntities&&this.fastForwardTo(r.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=n.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&p===r.Amp&&(this.state=n.BeforeEntity)},c.prototype.stateSpecialStartSequence=function(p){var b=this.sequenceIndex===this.currentSequence.length,v=b?a(p):(p|32)===this.currentSequence[this.sequenceIndex];if(!v)this.isSpecial=!1;else if(!b){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=n.InTagName,this.stateInTagName(p)},c.prototype.stateInSpecialTag=function(p){if(this.sequenceIndex===this.currentSequence.length){if(p===r.Gt||i(p)){var b=this.index-this.currentSequence.length;if(this.sectionStart<b){var v=this.index;this.index=b,this.cbs.ontext(this.sectionStart,b),this.index=v}this.isSpecial=!1,this.sectionStart=b+2,this.stateInClosingTagName(p);return}this.sequenceIndex=0}(p|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===f.TitleEnd?this.decodeEntities&&p===r.Amp&&(this.state=n.BeforeEntity):this.fastForwardTo(r.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(p===r.Lt)},c.prototype.stateCDATASequence=function(p){p===f.Cdata[this.sequenceIndex]?++this.sequenceIndex===f.Cdata.length&&(this.state=n.InCommentLike,this.currentSequence=f.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=n.InDeclaration,this.stateInDeclaration(p))},c.prototype.fastForwardTo=function(p){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===p)return!0;return this.index=this.buffer.length+this.offset-1,!1},c.prototype.stateInCommentLike=function(p){p===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===f.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=n.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):p!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)},c.prototype.isTagStartChar=function(p){return this.xmlMode?!a(p):s(p)},c.prototype.startSpecial=function(p,b){this.isSpecial=!0,this.currentSequence=p,this.sequenceIndex=b,this.state=n.SpecialStartSequence},c.prototype.stateBeforeTagName=function(p){if(p===r.ExclamationMark)this.state=n.BeforeDeclaration,this.sectionStart=this.index+1;else if(p===r.Questionmark)this.state=n.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(p)){var b=p|32;this.sectionStart=this.index,!this.xmlMode&&b===f.TitleEnd[2]?this.startSpecial(f.TitleEnd,3):this.state=!this.xmlMode&&b===f.ScriptEnd[2]?n.BeforeSpecialS:n.InTagName}else p===r.Slash?this.state=n.BeforeClosingTagName:(this.state=n.Text,this.stateText(p))},c.prototype.stateInTagName=function(p){a(p)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(p))},c.prototype.stateBeforeClosingTagName=function(p){i(p)||(p===r.Gt?this.state=n.Text:(this.state=this.isTagStartChar(p)?n.InClosingTagName:n.InSpecialComment,this.sectionStart=this.index))},c.prototype.stateInClosingTagName=function(p){(p===r.Gt||i(p))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.AfterClosingTagName,this.stateAfterClosingTagName(p))},c.prototype.stateAfterClosingTagName=function(p){(p===r.Gt||this.fastForwardTo(r.Gt))&&(this.state=n.Text,this.baseState=n.Text,this.sectionStart=this.index+1)},c.prototype.stateBeforeAttributeName=function(p){p===r.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=n.InSpecialTag,this.sequenceIndex=0):this.state=n.Text,this.baseState=this.state,this.sectionStart=this.index+1):p===r.Slash?this.state=n.InSelfClosingTag:i(p)||(this.state=n.InAttributeName,this.sectionStart=this.index)},c.prototype.stateInSelfClosingTag=function(p){p===r.Gt?(this.cbs.onselfclosingtag(this.index),this.state=n.Text,this.baseState=n.Text,this.sectionStart=this.index+1,this.isSpecial=!1):i(p)||(this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(p))},c.prototype.stateInAttributeName=function(p){(p===r.Eq||a(p))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.AfterAttributeName,this.stateAfterAttributeName(p))},c.prototype.stateAfterAttributeName=function(p){p===r.Eq?this.state=n.BeforeAttributeValue:p===r.Slash||p===r.Gt?(this.cbs.onattribend(u.NoValue,this.index),this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(p)):i(p)||(this.cbs.onattribend(u.NoValue,this.index),this.state=n.InAttributeName,this.sectionStart=this.index)},c.prototype.stateBeforeAttributeValue=function(p){p===r.DoubleQuote?(this.state=n.InAttributeValueDq,this.sectionStart=this.index+1):p===r.SingleQuote?(this.state=n.InAttributeValueSq,this.sectionStart=this.index+1):i(p)||(this.sectionStart=this.index,this.state=n.InAttributeValueNq,this.stateInAttributeValueNoQuotes(p))},c.prototype.handleInAttributeValue=function(p,b){p===b||!this.decodeEntities&&this.fastForwardTo(b)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(b===r.DoubleQuote?u.Double:u.Single,this.index),this.state=n.BeforeAttributeName):this.decodeEntities&&p===r.Amp&&(this.baseState=this.state,this.state=n.BeforeEntity)},c.prototype.stateInAttributeValueDoubleQuotes=function(p){this.handleInAttributeValue(p,r.DoubleQuote)},c.prototype.stateInAttributeValueSingleQuotes=function(p){this.handleInAttributeValue(p,r.SingleQuote)},c.prototype.stateInAttributeValueNoQuotes=function(p){i(p)||p===r.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(u.Unquoted,this.index),this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(p)):this.decodeEntities&&p===r.Amp&&(this.baseState=this.state,this.state=n.BeforeEntity)},c.prototype.stateBeforeDeclaration=function(p){p===r.OpeningSquareBracket?(this.state=n.CDATASequence,this.sequenceIndex=0):this.state=p===r.Dash?n.BeforeComment:n.InDeclaration},c.prototype.stateInDeclaration=function(p){(p===r.Gt||this.fastForwardTo(r.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=n.Text,this.sectionStart=this.index+1)},c.prototype.stateInProcessingInstruction=function(p){(p===r.Gt||this.fastForwardTo(r.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=n.Text,this.sectionStart=this.index+1)},c.prototype.stateBeforeComment=function(p){p===r.Dash?(this.state=n.InCommentLike,this.currentSequence=f.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=n.InDeclaration},c.prototype.stateInSpecialComment=function(p){(p===r.Gt||this.fastForwardTo(r.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=n.Text,this.sectionStart=this.index+1)},c.prototype.stateBeforeSpecialS=function(p){var b=p|32;b===f.ScriptEnd[3]?this.startSpecial(f.ScriptEnd,4):b===f.StyleEnd[3]?this.startSpecial(f.StyleEnd,4):(this.state=n.InTagName,this.stateInTagName(p))},c.prototype.stateBeforeEntity=function(p){this.entityExcess=1,this.entityResult=0,p===r.Number?this.state=n.BeforeNumericEntity:p===r.Amp||(this.trieIndex=0,this.trieCurrent=this.entityTrie[0],this.state=n.InNamedEntity,this.stateInNamedEntity(p))},c.prototype.stateInNamedEntity=function(p){if(this.entityExcess+=1,this.trieIndex=(0,t.determineBranch)(this.entityTrie,this.trieCurrent,this.trieIndex+1,p),this.trieIndex<0){this.emitNamedEntity(),this.index--;return}this.trieCurrent=this.entityTrie[this.trieIndex];var b=this.trieCurrent&t.BinTrieFlags.VALUE_LENGTH;if(b){var v=(b>>14)-1;if(!this.allowLegacyEntity()&&p!==r.Semi)this.trieIndex+=v;else{var _=this.index-this.entityExcess+1;_>this.sectionStart&&this.emitPartial(this.sectionStart,_),this.entityResult=this.trieIndex,this.trieIndex+=v,this.entityExcess=0,this.sectionStart=this.index+1,v===0&&this.emitNamedEntity()}}},c.prototype.emitNamedEntity=function(){if(this.state=this.baseState,this.entityResult!==0){var p=(this.entityTrie[this.entityResult]&t.BinTrieFlags.VALUE_LENGTH)>>14;switch(p){case 1:{this.emitCodePoint(this.entityTrie[this.entityResult]&~t.BinTrieFlags.VALUE_LENGTH);break}case 2:{this.emitCodePoint(this.entityTrie[this.entityResult+1]);break}case 3:this.emitCodePoint(this.entityTrie[this.entityResult+1]),this.emitCodePoint(this.entityTrie[this.entityResult+2])}}},c.prototype.stateBeforeNumericEntity=function(p){(p|32)===r.LowerX?(this.entityExcess++,this.state=n.InHexEntity):(this.state=n.InNumericEntity,this.stateInNumericEntity(p))},c.prototype.emitNumericEntity=function(p){var b=this.index-this.entityExcess-1,v=b+2+ +(this.state===n.InHexEntity);v!==this.index&&(b>this.sectionStart&&this.emitPartial(this.sectionStart,b),this.sectionStart=this.index+Number(p),this.emitCodePoint((0,t.replaceCodePoint)(this.entityResult))),this.state=this.baseState},c.prototype.stateInNumericEntity=function(p){p===r.Semi?this.emitNumericEntity(!0):o(p)?(this.entityResult=this.entityResult*10+(p-r.Zero),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},c.prototype.stateInHexEntity=function(p){p===r.Semi?this.emitNumericEntity(!0):o(p)?(this.entityResult=this.entityResult*16+(p-r.Zero),this.entityExcess++):l(p)?(this.entityResult=this.entityResult*16+((p|32)-r.LowerA+10),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},c.prototype.allowLegacyEntity=function(){return!this.xmlMode&&(this.baseState===n.Text||this.baseState===n.InSpecialTag)},c.prototype.cleanup=function(){this.running&&this.sectionStart!==this.index&&(this.state===n.Text||this.state===n.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===n.InAttributeValueDq||this.state===n.InAttributeValueSq||this.state===n.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))},c.prototype.shouldContinue=function(){return this.index<this.buffer.length+this.offset&&this.running},c.prototype.parse=function(){for(;this.shouldContinue();){var p=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case n.Text:{this.stateText(p);break}case n.SpecialStartSequence:{this.stateSpecialStartSequence(p);break}case n.InSpecialTag:{this.stateInSpecialTag(p);break}case n.CDATASequence:{this.stateCDATASequence(p);break}case n.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(p);break}case n.InAttributeName:{this.stateInAttributeName(p);break}case n.InCommentLike:{this.stateInCommentLike(p);break}case n.InSpecialComment:{this.stateInSpecialComment(p);break}case n.BeforeAttributeName:{this.stateBeforeAttributeName(p);break}case n.InTagName:{this.stateInTagName(p);break}case n.InClosingTagName:{this.stateInClosingTagName(p);break}case n.BeforeTagName:{this.stateBeforeTagName(p);break}case n.AfterAttributeName:{this.stateAfterAttributeName(p);break}case n.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(p);break}case n.BeforeAttributeValue:{this.stateBeforeAttributeValue(p);break}case n.BeforeClosingTagName:{this.stateBeforeClosingTagName(p);break}case n.AfterClosingTagName:{this.stateAfterClosingTagName(p);break}case n.BeforeSpecialS:{this.stateBeforeSpecialS(p);break}case n.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(p);break}case n.InSelfClosingTag:{this.stateInSelfClosingTag(p);break}case n.InDeclaration:{this.stateInDeclaration(p);break}case n.BeforeDeclaration:{this.stateBeforeDeclaration(p);break}case n.BeforeComment:{this.stateBeforeComment(p);break}case n.InProcessingInstruction:{this.stateInProcessingInstruction(p);break}case n.InNamedEntity:{this.stateInNamedEntity(p);break}case n.BeforeEntity:{this.stateBeforeEntity(p);break}case n.InHexEntity:{this.stateInHexEntity(p);break}case n.InNumericEntity:{this.stateInNumericEntity(p);break}default:this.stateBeforeNumericEntity(p)}this.index++}this.cleanup()},c.prototype.finish=function(){this.state===n.InNamedEntity&&this.emitNamedEntity(),this.sectionStart<this.index&&this.handleTrailingData(),this.cbs.onend()},c.prototype.handleTrailingData=function(){var p=this.buffer.length+this.offset;this.state===n.InCommentLike?this.currentSequence===f.CdataEnd?this.cbs.oncdata(this.sectionStart,p,0):this.cbs.oncomment(this.sectionStart,p,0):this.state===n.InNumericEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===n.InHexEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===n.InTagName||this.state===n.BeforeAttributeName||this.state===n.BeforeAttributeValue||this.state===n.AfterAttributeName||this.state===n.InAttributeName||this.state===n.InAttributeValueSq||this.state===n.InAttributeValueDq||this.state===n.InAttributeValueNq||this.state===n.InClosingTagName||this.cbs.ontext(this.sectionStart,p)},c.prototype.emitPartial=function(p,b){this.baseState!==n.Text&&this.baseState!==n.InSpecialTag?this.cbs.onattribdata(p,b):this.cbs.ontext(p,b)},c.prototype.emitCodePoint=function(p){this.baseState!==n.Text&&this.baseState!==n.InSpecialTag?this.cbs.onattribentity(p):this.cbs.ontextentity(p)},c}();e.default=d}(lw)),lw}var NC;function CC(){if(NC)return mo;NC=1;var e=mo.__createBinding||(Object.create?function(_,y,m,g){g===void 0&&(g=m);var E=Object.getOwnPropertyDescriptor(y,m);(!E||("get"in E?!y.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return y[m]}}),Object.defineProperty(_,g,E)}:function(_,y,m,g){g===void 0&&(g=m),_[g]=y[m]}),t=mo.__setModuleDefault||(Object.create?function(_,y){Object.defineProperty(_,"default",{enumerable:!0,value:y})}:function(_,y){_.default=y}),r=mo.__importStar||function(_){if(_&&_.__esModule)return _;var y={};if(_!=null)for(var m in _)m!=="default"&&Object.prototype.hasOwnProperty.call(_,m)&&e(y,_,m);return t(y,_),y};Object.defineProperty(mo,"__esModule",{value:!0}),mo.Parser=void 0;var n=r(I8()),i=jo(),a=new Set(["input","option","optgroup","select","button","datalist","textarea"]),o=new Set(["p"]),s=new Set(["thead","tbody"]),l=new Set(["dd","dt"]),u=new Set(["rt","rp"]),f=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",o],["h1",o],["h2",o],["h3",o],["h4",o],["h5",o],["h6",o],["select",a],["input",a],["output",a],["button",a],["datalist",a],["textarea",a],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",l],["dt",l],["address",o],["article",o],["aside",o],["blockquote",o],["details",o],["div",o],["dl",o],["fieldset",o],["figcaption",o],["figure",o],["footer",o],["form",o],["header",o],["hr",o],["main",o],["nav",o],["ol",o],["pre",o],["section",o],["table",o],["ul",o],["rt",u],["rp",u],["tbody",s],["tfoot",s]]),d=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),c=new Set(["math","svg"]),p=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),b=/\s|\//,v=function(){function _(y,m){m===void 0&&(m={});var g,E,T,I,D;this.options=m,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=y??{},this.lowerCaseTagNames=(g=m.lowerCaseTags)!==null&&g!==void 0?g:!m.xmlMode,this.lowerCaseAttributeNames=(E=m.lowerCaseAttributeNames)!==null&&E!==void 0?E:!m.xmlMode,this.tokenizer=new((T=m.Tokenizer)!==null&&T!==void 0?T:n.default)(this.options,this),(D=(I=this.cbs).onparserinit)===null||D===void 0||D.call(I,this)}return _.prototype.ontext=function(y,m){var g,E,T=this.getSlice(y,m);this.endIndex=m-1,(E=(g=this.cbs).ontext)===null||E===void 0||E.call(g,T),this.startIndex=m},_.prototype.ontextentity=function(y){var m,g,E=this.tokenizer.getSectionStart();this.endIndex=E-1,(g=(m=this.cbs).ontext)===null||g===void 0||g.call(m,(0,i.fromCodePoint)(y)),this.startIndex=E},_.prototype.isVoidElement=function(y){return!this.options.xmlMode&&d.has(y)},_.prototype.onopentagname=function(y,m){this.endIndex=m;var g=this.getSlice(y,m);this.lowerCaseTagNames&&(g=g.toLowerCase()),this.emitOpenTag(g)},_.prototype.emitOpenTag=function(y){var m,g,E,T;this.openTagStart=this.startIndex,this.tagname=y;var I=!this.options.xmlMode&&f.get(y);if(I)for(;this.stack.length>0&&I.has(this.stack[this.stack.length-1]);){var D=this.stack.pop();(g=(m=this.cbs).onclosetag)===null||g===void 0||g.call(m,D,!0)}this.isVoidElement(y)||(this.stack.push(y),c.has(y)?this.foreignContext.push(!0):p.has(y)&&this.foreignContext.push(!1)),(T=(E=this.cbs).onopentagname)===null||T===void 0||T.call(E,y),this.cbs.onopentag&&(this.attribs={})},_.prototype.endOpenTag=function(y){var m,g;this.startIndex=this.openTagStart,this.attribs&&((g=(m=this.cbs).onopentag)===null||g===void 0||g.call(m,this.tagname,this.attribs,y),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""},_.prototype.onopentagend=function(y){this.endIndex=y,this.endOpenTag(!1),this.startIndex=y+1},_.prototype.onclosetag=function(y,m){var g,E,T,I,D,B;this.endIndex=m;var N=this.getSlice(y,m);if(this.lowerCaseTagNames&&(N=N.toLowerCase()),(c.has(N)||p.has(N))&&this.foreignContext.pop(),this.isVoidElement(N))!this.options.xmlMode&&N==="br"&&((E=(g=this.cbs).onopentagname)===null||E===void 0||E.call(g,"br"),(I=(T=this.cbs).onopentag)===null||I===void 0||I.call(T,"br",{},!0),(B=(D=this.cbs).onclosetag)===null||B===void 0||B.call(D,"br",!1));else{var M=this.stack.lastIndexOf(N);if(M!==-1)if(this.cbs.onclosetag)for(var j=this.stack.length-M;j--;)this.cbs.onclosetag(this.stack.pop(),j!==0);else this.stack.length=M;else!this.options.xmlMode&&N==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=m+1},_.prototype.onselfclosingtag=function(y){this.endIndex=y,this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?(this.closeCurrentTag(!1),this.startIndex=y+1):this.onopentagend(y)},_.prototype.closeCurrentTag=function(y){var m,g,E=this.tagname;this.endOpenTag(y),this.stack[this.stack.length-1]===E&&((g=(m=this.cbs).onclosetag)===null||g===void 0||g.call(m,E,!y),this.stack.pop())},_.prototype.onattribname=function(y,m){this.startIndex=y;var g=this.getSlice(y,m);this.attribname=this.lowerCaseAttributeNames?g.toLowerCase():g},_.prototype.onattribdata=function(y,m){this.attribvalue+=this.getSlice(y,m)},_.prototype.onattribentity=function(y){this.attribvalue+=(0,i.fromCodePoint)(y)},_.prototype.onattribend=function(y,m){var g,E;this.endIndex=m,(E=(g=this.cbs).onattribute)===null||E===void 0||E.call(g,this.attribname,this.attribvalue,y===n.QuoteType.Double?'"':y===n.QuoteType.Single?"'":y===n.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""},_.prototype.getInstructionName=function(y){var m=y.search(b),g=m<0?y:y.substr(0,m);return this.lowerCaseTagNames&&(g=g.toLowerCase()),g},_.prototype.ondeclaration=function(y,m){this.endIndex=m;var g=this.getSlice(y,m);if(this.cbs.onprocessinginstruction){var E=this.getInstructionName(g);this.cbs.onprocessinginstruction("!".concat(E),"!".concat(g))}this.startIndex=m+1},_.prototype.onprocessinginstruction=function(y,m){this.endIndex=m;var g=this.getSlice(y,m);if(this.cbs.onprocessinginstruction){var E=this.getInstructionName(g);this.cbs.onprocessinginstruction("?".concat(E),"?".concat(g))}this.startIndex=m+1},_.prototype.oncomment=function(y,m,g){var E,T,I,D;this.endIndex=m,(T=(E=this.cbs).oncomment)===null||T===void 0||T.call(E,this.getSlice(y,m-g)),(D=(I=this.cbs).oncommentend)===null||D===void 0||D.call(I),this.startIndex=m+1},_.prototype.oncdata=function(y,m,g){var E,T,I,D,B,N,M,j,O,q;this.endIndex=m;var Q=this.getSlice(y,m-g);this.options.xmlMode||this.options.recognizeCDATA?((T=(E=this.cbs).oncdatastart)===null||T===void 0||T.call(E),(D=(I=this.cbs).ontext)===null||D===void 0||D.call(I,Q),(N=(B=this.cbs).oncdataend)===null||N===void 0||N.call(B)):((j=(M=this.cbs).oncomment)===null||j===void 0||j.call(M,"[CDATA[".concat(Q,"]]")),(q=(O=this.cbs).oncommentend)===null||q===void 0||q.call(O)),this.startIndex=m+1},_.prototype.onend=function(){var y,m;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(var g=this.stack.length;g>0;this.cbs.onclosetag(this.stack[--g],!0));}(m=(y=this.cbs).onend)===null||m===void 0||m.call(y)},_.prototype.reset=function(){var y,m,g,E;(m=(y=this.cbs).onreset)===null||m===void 0||m.call(y),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(E=(g=this.cbs).onparserinit)===null||E===void 0||E.call(g,this),this.buffers.length=0,this.bufferOffset=0,this.writeIndex=0,this.ended=!1},_.prototype.parseComplete=function(y){this.reset(),this.end(y)},_.prototype.getSlice=function(y,m){for(;y-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();for(var g=this.buffers[0].slice(y-this.bufferOffset,m-this.bufferOffset);m-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),g+=this.buffers[0].slice(0,m-this.bufferOffset);return g},_.prototype.shiftBuffer=function(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()},_.prototype.write=function(y){var m,g;if(this.ended){(g=(m=this.cbs).onerror)===null||g===void 0||g.call(m,new Error(".write() after done!"));return}this.buffers.push(y),this.tokenizer.running&&(this.tokenizer.write(y),this.writeIndex++)},_.prototype.end=function(y){var m,g;if(this.ended){(g=(m=this.cbs).onerror)===null||g===void 0||g.call(m,new Error(".end() after done!"));return}y&&this.write(y),this.ended=!0,this.tokenizer.end()},_.prototype.pause=function(){this.tokenizer.pause()},_.prototype.resume=function(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()},_.prototype.parseChunk=function(y){this.write(y)},_.prototype.done=function(y){this.end(y)},_}();return mo.Parser=v,mo}var LC;function eJ(){return LC||(LC=1,function(e){var t=vs.__createBinding||(Object.create?function(y,m,g,E){E===void 0&&(E=g);var T=Object.getOwnPropertyDescriptor(m,g);(!T||("get"in T?!m.__esModule:T.writable||T.configurable))&&(T={enumerable:!0,get:function(){return m[g]}}),Object.defineProperty(y,E,T)}:function(y,m,g,E){E===void 0&&(E=g),y[E]=m[g]}),r=vs.__setModuleDefault||(Object.create?function(y,m){Object.defineProperty(y,"default",{enumerable:!0,value:m})}:function(y,m){y.default=m}),n=vs.__importStar||function(y){if(y&&y.__esModule)return y;var m={};if(y!=null)for(var g in y)g!=="default"&&Object.prototype.hasOwnProperty.call(y,g)&&t(m,y,g);return r(m,y),m},i=vs.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(e,"__esModule",{value:!0}),e.DomUtils=e.parseFeed=e.getFeed=e.ElementType=e.Tokenizer=e.createDomStream=e.parseDOM=e.parseDocument=e.DefaultHandler=e.DomHandler=e.Parser=void 0;var a=CC(),o=CC();Object.defineProperty(e,"Parser",{enumerable:!0,get:function(){return o.Parser}});var s=Ri(),l=Ri();Object.defineProperty(e,"DomHandler",{enumerable:!0,get:function(){return l.DomHandler}}),Object.defineProperty(e,"DefaultHandler",{enumerable:!0,get:function(){return l.DomHandler}});function u(y,m){var g=new s.DomHandler(void 0,m);return new a.Parser(g,m).end(y),g.root}e.parseDocument=u;function f(y,m){return u(y,m).children}e.parseDOM=f;function d(y,m,g){var E=new s.DomHandler(y,m,g);return new a.Parser(E,m)}e.createDomStream=d;var c=I8();Object.defineProperty(e,"Tokenizer",{enumerable:!0,get:function(){return i(c).default}}),e.ElementType=n(Qs());var p=Wa(),b=Wa();Object.defineProperty(e,"getFeed",{enumerable:!0,get:function(){return b.getFeed}});var v={xmlMode:!0};function _(y,m){return m===void 0&&(m=v),(0,p.getFeed)(f(y,m))}e.parseFeed=_,e.DomUtils=n(Wa())}(vs)),vs}const tJ={"http://schema.org/":{properties:{additionalType:{subPropertyOf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"}}},"http://microformats.org/profile/hcard":{}};var MC;function rJ(){if(MC)return $c;MC=1,Object.defineProperty($c,"__esModule",{value:!0}),$c.MicrodataRdfParser=void 0;const e=eJ(),t=Zi(),r=S8(),n=x8(),i=R8(),a=A8(),o=Gm(),s=tJ;let l=class dE extends t.Transform{constructor(f){super({readableObjectMode:!0}),this.itemScopeStack=[],this.textBufferStack=[],this.isEmittingReferences=!1,this.pendingItemRefsDomain={},this.pendingItemRefsRangeFinalized={},this.pendingItemRefsRangeCollecting={},f=f||{},this.options=f,this.util=new o.Util(f.dataFactory,f.baseIRI),this.defaultGraph=f.defaultGraph||this.util.dataFactory.defaultGraph(),this.htmlParseListener=f.htmlParseListener,this.vocabRegistry=f.vocabRegistry||s,this.parser=this.initializeParser(!!f.xmlMode)}import(f){const d=new t.PassThrough({readableObjectMode:!0});f.on("error",p=>c.emit("error",p)),f.on("data",p=>d.push(p)),f.on("end",()=>d.push(null));const c=d.pipe(new dE(this.options));return c}_transform(f,d,c){this.parser.write(f.toString()),c()}_flush(f){this.parser.end(),f()}getItemScope(f){let d=this.itemScopeStack.length-(f?2:1);for(;d>0&&!this.itemScopeStack[d];)d--;return this.itemScopeStack[d]}getDepth(){return this.itemScopeStack.length}onTagOpen(f,d){if(!this.isEmittingReferences){if("id"in d){const p=d.id;this.pendingItemRefsRangeCollecting[p]={events:[],counter:0,ids:[]}}for(const p of Object.values(this.pendingItemRefsRangeCollecting))p.counter++,p.events.push({type:"open",name:f,attributes:d})}this.textBufferStack.push(void 0);let c;if("itemscope"in d){let p;if(this.emittingReferencesItemScopeIdGenerator)p=this.emittingReferencesItemScopeIdGenerator();else{p="itemid"in d&&this.util.createSubject(d.itemid)||this.util.dataFactory.blankNode();for(const v of Object.values(this.pendingItemRefsRangeCollecting))v.ids.push(p)}c={subject:p},this.isEmittingReferences&&(c.blockEmission=!0);const b=this.getItemScope();b&&b.vocab&&(c.vocab=b.vocab),this.itemScopeStack.push(c)}else c=this.getItemScope(),this.itemScopeStack.push(void 0);if(c){if("itemtype"in d)for(const p of this.util.createVocabIris(d.itemtype,c,!1))c.vocab||(c.vocab=this.util.deriveVocab(p.value,this.vocabRegistry)),c.blockEmission||this.emitTriple(c.subject,this.util.dataFactory.namedNode(`${o.Util.RDF}type`),p);if("lang"in d&&(c.language=d.lang),"xml:lang"in d&&(c.language=d["xml:lang"]),"itemscope"in d&&!this.isEmittingReferences&&"itemref"in d)for(const p of d.itemref.split(/\s+/u))p in this.pendingItemRefsDomain||(this.pendingItemRefsDomain[p]=[]),this.pendingItemRefsDomain[p].push(c),this.tryToEmitReferences(p,c)}"itemprop"in d&&this.handleItemProperties(d.itemprop,!1,c,f,d),"itemprop-reverse"in d&&this.handleItemProperties(d["itemprop-reverse"],!0,c,f,d)}onText(f){if(!this.isEmittingReferences)for(const d of Object.values(this.pendingItemRefsRangeCollecting))d.events.push({type:"text",data:f});for(const d of this.textBufferStack)d&&d.push(f)}onTagClose(){if(!this.isEmittingReferences)for(const[d,c]of Object.entries(this.pendingItemRefsRangeCollecting))c.counter--,c.events.push({type:"close"}),c.counter===0&&(this.pendingItemRefsRangeFinalized[d]=c,delete this.pendingItemRefsRangeCollecting[d],this.tryToEmitReferences(d));const f=this.getItemScope(!0);if(f){const d=this.getDepth();if(f.predicates&&d in f.predicates)for(const[c,p]of Object.entries(f.predicates[d])){const b=this.util.createLiteral(this.textBufferStack[d].join(""),f);this.emitPredicateTriples(f,p,b,c==="reverse"),delete f.predicates[d][c]}}this.itemScopeStack.pop(),this.textBufferStack.pop()}onEnd(){}initializeParser(f){return new e.Parser({onclosetag:()=>{try{this.onTagClose(),this.htmlParseListener&&this.htmlParseListener.onTagClose()}catch(d){this.emit("error",d)}},onend:()=>{try{this.onEnd(),this.htmlParseListener&&this.htmlParseListener.onEnd()}catch(d){this.emit("error",d)}},onopentag:(d,c)=>{try{this.onTagOpen(d,c),this.htmlParseListener&&this.htmlParseListener.onTagOpen(d,c)}catch(p){this.emit("error",p)}},ontext:d=>{try{this.onText(d),this.htmlParseListener&&this.htmlParseListener.onText(d)}catch(c){this.emit("error",c)}}},{decodeEntities:!0,recognizeSelfClosing:!0,xmlMode:f})}handleItemProperties(f,d,c,p,b){const v=this.getItemScope(!0);if(v){const _=this.getDepth(),y=this.util.createVocabIris(f,v,!0);v.predicates||(v.predicates={}),v.predicates[_]||(v.predicates[_]={});const m=d?"reverse":"forward";v.predicates[_][m]=y;for(const g of this.util.getVocabularyExpansionType(f,v,this.vocabRegistry))y.push(g);if(c&&"itemscope"in b)this.emitPredicateTriples(v,y,c.subject,d),delete v.predicates[_][m];else for(const g of dE.ITEM_PROPERTY_HANDLERS)if(g.canHandle(p,b)){const E=g.getObject(b,this.util,v);this.emitPredicateTriples(v,y,E,d),delete v.predicates[_][m]}v.predicates[_][m]&&(this.textBufferStack[_]=[])}}emitPredicateTriples(f,d,c,p){if(!f.blockEmission)for(const b of d)p?c.termType!=="Literal"&&this.emitTriple(c,b,f.subject):this.emitTriple(f.subject,b,c)}emitTriple(f,d,c){this.push(this.util.dataFactory.quad(f,d,c,this.defaultGraph))}tryToEmitReferences(f,d){const c=this.pendingItemRefsRangeFinalized[f];if(c){let p;if(d){p=[d];const b=this.pendingItemRefsDomain[f].indexOf(d);this.pendingItemRefsDomain[f].splice(b,1)}else p=this.pendingItemRefsDomain[f],delete this.pendingItemRefsDomain[f];if(p){const b=this.itemScopeStack,v=this.textBufferStack;this.isEmittingReferences=!0;for(const _ of p){this.itemScopeStack=[_],this.textBufferStack=[void 0];const y=[...c.ids];this.emittingReferencesItemScopeIdGenerator=()=>y.shift();for(const m of c.events)switch(m.type){case"open":this.onTagOpen(m.name,m.attributes);break;case"text":this.onText(m.data);break;case"close":this.onTagClose();break}}this.emittingReferencesItemScopeIdGenerator=void 0,this.itemScopeStack=b,this.textBufferStack=v,this.isEmittingReferences=!1}}}};return $c.MicrodataRdfParser=l,l.ITEM_PROPERTY_HANDLERS=[new r.ItemPropertyHandlerContent,new a.ItemPropertyHandlerUrl("a","href"),new a.ItemPropertyHandlerUrl("area","href"),new a.ItemPropertyHandlerUrl("audio","src"),new a.ItemPropertyHandlerUrl("embed","src"),new a.ItemPropertyHandlerUrl("iframe","src"),new a.ItemPropertyHandlerUrl("img","src"),new a.ItemPropertyHandlerUrl("link","href"),new a.ItemPropertyHandlerUrl("object","data"),new a.ItemPropertyHandlerUrl("source","src"),new a.ItemPropertyHandlerUrl("track","src"),new a.ItemPropertyHandlerUrl("video","src"),new n.ItemPropertyHandlerNumber("data","value"),new n.ItemPropertyHandlerNumber("meter","value"),new i.ItemPropertyHandlerTime],$c}var kC;function nJ(){return kC||(kC=1,function(e){var t=Mc.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=Mc.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(YX(),e),r(S8(),e),r(x8(),e),r(R8(),e),r(A8(),e),r(QX(),e),r(XX(),e),r(JX(),e),r(rJ(),e),r(Gm(),e)}(Mc)),Mc}var FC;function iJ(){if(FC)return Nc;FC=1,Object.defineProperty(Nc,"__esModule",{value:!0}),Nc.ActorRdfParseHtmlMicrodata=void 0;const e=mx(),t=Yi(),r=hr(),n=nJ();let i=class extends e.ActorRdfParseHtml{constructor(o){super(o)}async test(o){return(0,r.passTestVoid)()}async run(o){const s=o.context.getSafe(t.KeysInitQuery.dataFactory),l=o.headers?o.headers.get("content-type"):null,u=l==null?void 0:l.includes("xml"),f=new n.MicrodataRdfParser({dataFactory:s,baseIRI:o.baseIRI,xmlMode:u});f.on("error",o.error),f.on("data",o.emit);const d=f.onEnd;return f.onEnd=()=>{d.call(f),o.end()},{htmlParseListener:f}}};return Nc.ActorRdfParseHtmlMicrodata=i,Nc}var jC;function aJ(){return jC||(jC=1,function(e){var t=Dc.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=Dc.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(iJ(),e)}(Dc)),Dc}var Uc={},Hc={},BC;function oJ(){if(BC)return Hc;BC=1,Object.defineProperty(Hc,"__esModule",{value:!0}),Hc.ActorRdfParseHtmlRdfa=void 0;const e=mx(),t=Yi(),r=hr(),n=w8();let i=class extends e.ActorRdfParseHtml{constructor(o){super(o)}async test(o){return(0,r.passTestVoid)()}async run(o){const s=o.context.getSafe(t.KeysInitQuery.dataFactory),l=o.headers?o.headers.get("content-type"):null,u=(o.headers&&o.headers.get("content-language"))??void 0,f=l&&l.includes("xml")?"xhtml":"html",d=new n.RdfaParser({dataFactory:s,baseIRI:o.baseIRI,profile:f,language:u});d.on("error",o.error),d.on("data",o.emit);const c=d.onEnd;return d.onEnd=()=>{c.call(d),o.end()},{htmlParseListener:d}}};return Hc.ActorRdfParseHtmlRdfa=i,Hc}var qC;function sJ(){return qC||(qC=1,function(e){var t=Uc.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=Uc.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(oJ(),e)}(Uc)),Uc}var Vc={},zc={},Wc={},Gc={},fw,$C;function uJ(){if($C)return fw;$C=1;var{Buffer:e}=Sr(),t={},r=t.LEFT_BRACE=1,n=t.RIGHT_BRACE=2,i=t.LEFT_BRACKET=3,a=t.RIGHT_BRACKET=4,o=t.COLON=5,s=t.COMMA=6,l=t.TRUE=7,u=t.FALSE=8,f=t.NULL=9,d=t.STRING=10,c=t.NUMBER=11,p=t.START=17,b=t.STOP=18,v=t.TRUE1=33,_=t.TRUE2=34,y=t.TRUE3=35,m=t.FALSE1=49,g=t.FALSE2=50,E=t.FALSE3=51,T=t.FALSE4=52,I=t.NULL1=65,D=t.NULL2=66,B=t.NULL3=67,N=t.NUMBER1=81,M=t.NUMBER3=83,j=t.STRING1=97,O=t.STRING2=98,q=t.STRING3=99,Q=t.STRING4=100,ie=t.STRING5=101,X=t.STRING6=102,le=t.VALUE=113,ae=t.KEY=114,ne=t.OBJECT=129,V=t.ARRAY=130,oe=92,he=47,Y=8,Z=12,ee=10,P=13,A=9,$=64*1024;function te(w){return e.alloc?e.alloc(w):new e(w)}function pe(){this.tState=p,this.value=void 0,this.string=void 0,this.stringBuffer=te($),this.stringBufferOffset=0,this.unicode=void 0,this.highSurrogate=void 0,this.key=void 0,this.mode=void 0,this.stack=[],this.state=le,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:te(2),3:te(3),4:te(4)},this.offset=-1}pe.toknam=function(w){for(var x=Object.keys(t),k=0,U=x.length;k<U;k++){var re=x[k];if(t[re]===w)return re}return w&&"0x"+w.toString(16)};var R=pe.prototype;return R.onError=function(w){throw w},R.charError=function(w,x){this.tState=b,this.onError(new Error("Unexpected "+JSON.stringify(String.fromCharCode(w[x]))+" at position "+x+" in state "+pe.toknam(this.tState)))},R.appendStringChar=function(w){this.stringBufferOffset>=$&&(this.string+=this.stringBuffer.toString("utf8"),this.stringBufferOffset=0),this.stringBuffer[this.stringBufferOffset++]=w},R.appendStringBuf=function(w,x,k){var U=w.length;typeof x=="number"&&(typeof k=="number"?k<0?U=w.length-x+k:U=k-x:U=w.length-x),U<0&&(U=0),this.stringBufferOffset+U>$&&(this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0),w.copy(this.stringBuffer,this.stringBufferOffset,x,k),this.stringBufferOffset+=U},R.write=function(w){typeof w=="string"&&(w=new e(w));for(var x,k=0,U=w.length;k<U;k++)if(this.tState===p){if(x=w[k],this.offset++,x===123)this.onToken(r,"{");else if(x===125)this.onToken(n,"}");else if(x===91)this.onToken(i,"[");else if(x===93)this.onToken(a,"]");else if(x===58)this.onToken(o,":");else if(x===44)this.onToken(s,",");else if(x===116)this.tState=v;else if(x===102)this.tState=m;else if(x===110)this.tState=I;else if(x===34)this.string="",this.stringBufferOffset=0,this.tState=j;else if(x===45)this.string="-",this.tState=N;else if(x>=48&&x<64)this.string=String.fromCharCode(x),this.tState=M;else if(!(x===32||x===9||x===10||x===13))return this.charError(w,k)}else if(this.tState===j)if(x=w[k],this.bytes_remaining>0){for(var re=0;re<this.bytes_remaining;re++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+re]=w[re];this.appendStringBuf(this.temp_buffs[this.bytes_in_sequence]),this.bytes_in_sequence=this.bytes_remaining=0,k=k+re-1}else if(this.bytes_remaining===0&&x>=128){if(x<=193||x>244)return this.onError(new Error("Invalid UTF-8 character at position "+k+" in state "+pe.toknam(this.tState)));if(x>=194&&x<=223&&(this.bytes_in_sequence=2),x>=224&&x<=239&&(this.bytes_in_sequence=3),x>=240&&x<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+k>w.length){for(var fe=0;fe<=w.length-1-k;fe++)this.temp_buffs[this.bytes_in_sequence][fe]=w[k+fe];this.bytes_remaining=k+this.bytes_in_sequence-w.length,k=w.length-1}else this.appendStringBuf(w,k,k+this.bytes_in_sequence),k=k+this.bytes_in_sequence-1}else if(x===34)this.tState=p,this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0,this.onToken(d,this.string),this.offset+=e.byteLength(this.string,"utf8")+1,this.string=void 0;else if(x===92)this.tState=O;else if(x>=32)this.appendStringChar(x);else return this.charError(w,k);else if(this.tState===O)if(x=w[k],x===34)this.appendStringChar(x),this.tState=j;else if(x===92)this.appendStringChar(oe),this.tState=j;else if(x===47)this.appendStringChar(he),this.tState=j;else if(x===98)this.appendStringChar(Y),this.tState=j;else if(x===102)this.appendStringChar(Z),this.tState=j;else if(x===110)this.appendStringChar(ee),this.tState=j;else if(x===114)this.appendStringChar(P),this.tState=j;else if(x===116)this.appendStringChar(A),this.tState=j;else if(x===117)this.unicode="",this.tState=q;else return this.charError(w,k);else if(this.tState===q||this.tState===Q||this.tState===ie||this.tState===X)if(x=w[k],x>=48&&x<64||x>64&&x<=70||x>96&&x<=102){if(this.unicode+=String.fromCharCode(x),this.tState++===X){var ve=parseInt(this.unicode,16);this.unicode=void 0,this.highSurrogate!==void 0&&ve>=56320&&ve<57344?(this.appendStringBuf(new e(String.fromCharCode(this.highSurrogate,ve))),this.highSurrogate=void 0):this.highSurrogate===void 0&&ve>=55296&&ve<56320?this.highSurrogate=ve:(this.highSurrogate!==void 0&&(this.appendStringBuf(new e(String.fromCharCode(this.highSurrogate))),this.highSurrogate=void 0),this.appendStringBuf(new e(String.fromCharCode(ve)))),this.tState=j}}else return this.charError(w,k);else if(this.tState===N||this.tState===M)switch(x=w[k],x){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 46:case 101:case 69:case 43:case 45:this.string+=String.fromCharCode(x),this.tState=M;break;default:this.tState=p;var ce=this.numberReviver(this.string,w,k);if(ce)return ce;this.offset+=this.string.length-1,this.string=void 0,k--;break}else if(this.tState===v)if(w[k]===114)this.tState=_;else return this.charError(w,k);else if(this.tState===_)if(w[k]===117)this.tState=y;else return this.charError(w,k);else if(this.tState===y)if(w[k]===101)this.tState=p,this.onToken(l,!0),this.offset+=3;else return this.charError(w,k);else if(this.tState===m)if(w[k]===97)this.tState=g;else return this.charError(w,k);else if(this.tState===g)if(w[k]===108)this.tState=E;else return this.charError(w,k);else if(this.tState===E)if(w[k]===115)this.tState=T;else return this.charError(w,k);else if(this.tState===T)if(w[k]===101)this.tState=p,this.onToken(u,!1),this.offset+=4;else return this.charError(w,k);else if(this.tState===I)if(w[k]===117)this.tState=D;else return this.charError(w,k);else if(this.tState===D)if(w[k]===108)this.tState=B;else return this.charError(w,k);else if(this.tState===B)if(w[k]===108)this.tState=p,this.onToken(f,null),this.offset+=3;else return this.charError(w,k)},R.onToken=function(w,x){},R.parseError=function(w,x){this.tState=b,this.onError(new Error("Unexpected "+pe.toknam(w)+(x?"("+JSON.stringify(x)+")":"")+" in state "+pe.toknam(this.state)))},R.push=function(){this.stack.push({value:this.value,key:this.key,mode:this.mode})},R.pop=function(){var w=this.value,x=this.stack.pop();this.value=x.value,this.key=x.key,this.mode=x.mode,this.emit(w),this.mode||(this.state=le)},R.emit=function(w){this.mode&&(this.state=s),this.onValue(w)},R.onValue=function(w){},R.onToken=function(w,x){if(this.state===le)if(w===d||w===c||w===l||w===u||w===f)this.value&&(this.value[this.key]=x),this.emit(x);else if(w===r)this.push(),this.value?this.value=this.value[this.key]={}:this.value={},this.key=void 0,this.state=ae,this.mode=ne;else if(w===i)this.push(),this.value?this.value=this.value[this.key]=[]:this.value=[],this.key=0,this.mode=V,this.state=le;else if(w===n)if(this.mode===ne)this.pop();else return this.parseError(w,x);else if(w===a)if(this.mode===V)this.pop();else return this.parseError(w,x);else return this.parseError(w,x);else if(this.state===ae)if(w===d)this.key=x,this.state=o;else if(w===n)this.pop();else return this.parseError(w,x);else if(this.state===o)if(w===o)this.state=le;else return this.parseError(w,x);else if(this.state===s)if(w===s)this.mode===V?(this.key++,this.state=le):this.mode===ne&&(this.state=ae);else if(w===a&&this.mode===V||w===n&&this.mode===ne)this.pop();else return this.parseError(w,x);else return this.parseError(w,x)},R.numberReviver=function(w,x,k){var U=Number(w);if(isNaN(U))return this.charError(x,k);w.match(/[0-9]+/)==w&&U.toString()!=w?this.onToken(d,w):this.onToken(c,U)},pe.C=t,fw=pe,fw}var Kc={},Zc={},cw={},UC;function lp(){return UC||(UC=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ERROR_CODES=e.ErrorCoded=void 0;class t extends Error{constructor(n,i){super(n),this.code=i}}e.ErrorCoded=t,function(r){r.COLLIDING_KEYWORDS="colliding keywords",r.CONFLICTING_INDEXES="conflicting indexes",r.CYCLIC_IRI_MAPPING="cyclic IRI mapping",r.INVALID_ID_VALUE="invalid @id value",r.INVALID_INDEX_VALUE="invalid @index value",r.INVALID_NEST_VALUE="invalid @nest value",r.INVALID_PREFIX_VALUE="invalid @prefix value",r.INVALID_PROPAGATE_VALUE="invalid @propagate value",r.INVALID_REVERSE_VALUE="invalid @reverse value",r.INVALID_IMPORT_VALUE="invalid @import value",r.INVALID_VERSION_VALUE="invalid @version value",r.INVALID_BASE_IRI="invalid base IRI",r.INVALID_CONTAINER_MAPPING="invalid container mapping",r.INVALID_CONTEXT_ENTRY="invalid context entry",r.INVALID_CONTEXT_NULLIFICATION="invalid context nullification",r.INVALID_DEFAULT_LANGUAGE="invalid default language",r.INVALID_INCLUDED_VALUE="invalid @included value",r.INVALID_IRI_MAPPING="invalid IRI mapping",r.INVALID_JSON_LITERAL="invalid JSON literal",r.INVALID_KEYWORD_ALIAS="invalid keyword alias",r.INVALID_LANGUAGE_MAP_VALUE="invalid language map value",r.INVALID_LANGUAGE_MAPPING="invalid language mapping",r.INVALID_LANGUAGE_TAGGED_STRING="invalid language-tagged string",r.INVALID_LANGUAGE_TAGGED_VALUE="invalid language-tagged value",r.INVALID_LOCAL_CONTEXT="invalid local context",r.INVALID_REMOTE_CONTEXT="invalid remote context",r.INVALID_REVERSE_PROPERTY="invalid reverse property",r.INVALID_REVERSE_PROPERTY_MAP="invalid reverse property map",r.INVALID_REVERSE_PROPERTY_VALUE="invalid reverse property value",r.INVALID_SCOPED_CONTEXT="invalid scoped context",r.INVALID_SCRIPT_ELEMENT="invalid script element",r.INVALID_SET_OR_LIST_OBJECT="invalid set or list object",r.INVALID_TERM_DEFINITION="invalid term definition",r.INVALID_TYPE_MAPPING="invalid type mapping",r.INVALID_TYPE_VALUE="invalid type value",r.INVALID_TYPED_VALUE="invalid typed value",r.INVALID_VALUE_OBJECT="invalid value object",r.INVALID_VALUE_OBJECT_VALUE="invalid value object value",r.INVALID_VOCAB_MAPPING="invalid vocab mapping",r.IRI_CONFUSED_WITH_PREFIX="IRI confused with prefix",r.KEYWORD_REDEFINITION="keyword redefinition",r.LOADING_DOCUMENT_FAILED="loading document failed",r.LOADING_REMOTE_CONTEXT_FAILED="loading remote context failed",r.MULTIPLE_CONTEXT_LINK_HEADERS="multiple context link headers",r.PROCESSING_MODE_CONFLICT="processing mode conflict",r.PROTECTED_TERM_REDEFINITION="protected term redefinition",r.CONTEXT_OVERFLOW="context overflow",r.INVALID_BASE_DIRECTION="invalid base direction",r.RECURSIVE_CONTEXT_INCLUSION="recursive context inclusion",r.INVALID_STREAMING_KEY_ORDER="invalid streaming key order",r.INVALID_EMBEDDED_NODE="invalid embedded node",r.INVALID_ANNOTATION="invalid annotation"}(e.ERROR_CODES||(e.ERROR_CODES={}))}(cw)),cw}var Yc={},dw,HC;function yx(){if(HC)return dw;HC=1;var e=/^utf-?8|ascii|utf-?16-?le|ucs-?2|base-?64|latin-?1$/i,t=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,r=/\s|\uFEFF|\xA0/,n=/\r?\n[\x20\x09]+/g,i=/[;,"]/,a=/[;,"]|\s/,o=/^[!#$%&'*+\-\.^_`|~\da-zA-Z]+$/,s={IDLE:1,URI:2,ATTR:4};function l(b){return b.replace(t,"")}function u(b){return r.test(b)}function f(b,v){for(;u(b[v]);)v++;return v}function d(b){return a.test(b)||!o.test(b)}function c(b,v){return Object.keys(b).length===Object.keys(v).length&&Object.keys(b).every(_=>_ in v&&b[_]===v[_])}class p{constructor(v){this.refs=[],v&&this.parse(v)}rel(v){for(var _=[],y=v.toLowerCase(),m=0;m<this.refs.length;m++)typeof this.refs[m].rel=="string"&&this.refs[m].rel.toLowerCase()===y&&_.push(this.refs[m]);return _}get(v,_){v=v.toLowerCase(),_=_.toLowerCase();for(var y=[],m=0;m<this.refs.length;m++)typeof this.refs[m][v]=="string"&&this.refs[m][v].toLowerCase()===_&&y.push(this.refs[m]);return y}set(v){return this.refs.push(v),this}setUnique(v){return this.refs.some(_=>c(_,v))||this.refs.push(v),this}has(v,_){v=v.toLowerCase(),_=_.toLowerCase();for(var y=0;y<this.refs.length;y++)if(typeof this.refs[y][v]=="string"&&this.refs[y][v].toLowerCase()===_)return!0;return!1}parse(v,g){g=g||0,v=g?v.slice(g):v,v=l(v).replace(n,"");for(var y=s.IDLE,m=v.length,g=0,E=null;g<m;)if(y===s.IDLE){if(u(v[g])){g++;continue}else if(v[g]==="<"){E!=null&&(E.rel!=null?this.refs.push(...p.expandRelations(E)):this.refs.push(E));var T=v.indexOf(">",g);if(T===-1)throw new Error("Expected end of URI delimiter at offset "+g);E={uri:v.slice(g+1,T)},g=T,y=s.URI}else throw new Error('Unexpected character "'+v[g]+'" at offset '+g);g++}else if(y===s.URI)if(u(v[g])){g++;continue}else if(v[g]===";")y=s.ATTR,g++;else if(v[g]===",")y=s.IDLE,g++;else throw new Error('Unexpected character "'+v[g]+'" at offset '+g);else if(y===s.ATTR){if(v[g]===";"||u(v[g])){g++;continue}var T=v.indexOf("=",g);T===-1&&(T=v.indexOf(";",g)),T===-1&&(T=v.length);var I=l(v.slice(g,T)).toLowerCase(),D="";if(g=T+1,g=f(v,g),v[g]==='"')for(g++;g<m;){if(v[g]==='"'){g++;break}v[g]==="\\"&&g++,D+=v[g],g++}else{for(var T=g+1;!i.test(v[T])&&T<m;)T++;D=v.slice(g,T),g=T}switch(E[I]&&p.isSingleOccurenceAttr(I)||(I[I.length-1]==="*"?E[I]=p.parseExtendedValue(D):(D=I==="type"?D.toLowerCase():D,E[I]!=null?Array.isArray(E[I])?E[I].push(D):E[I]=[E[I],D]:E[I]=D)),v[g]){case",":y=s.IDLE;break;case";":y=s.ATTR;break}g++}else throw new Error('Unknown parser state "'+y+'"');return E!=null&&(E.rel!=null?this.refs.push(...p.expandRelations(E)):this.refs.push(E)),E=null,this}toString(){for(var v=[],_="",y=null,m=0;m<this.refs.length;m++)y=this.refs[m],_=Object.keys(this.refs[m]).reduce(function(g,E){return E==="uri"?g:g+"; "+p.formatAttribute(E,y[E])},"<"+y.uri+">"),v.push(_);return v.join(", ")}}return p.isCompatibleEncoding=function(b){return e.test(b)},p.parse=function(b,v){return new p().parse(b,v)},p.isSingleOccurenceAttr=function(b){return b==="rel"||b==="type"||b==="media"||b==="title"||b==="title*"},p.isTokenAttr=function(b){return b==="rel"||b==="type"||b==="anchor"},p.escapeQuotes=function(b){return b.replace(/"/g,'\\"')},p.expandRelations=function(b){var v=b.rel.split(" ");return v.map(function(_){var y=Object.assign({},b);return y.rel=_,y})},p.parseExtendedValue=function(b){var v=/([^']+)?(?:'([^']*)')?(.+)/.exec(b);return{language:v[2].toLowerCase(),encoding:p.isCompatibleEncoding(v[1])?null:v[1].toLowerCase(),value:p.isCompatibleEncoding(v[1])?decodeURIComponent(v[3]):v[3]}},p.formatExtendedAttribute=function(b,v){var _=(v.encoding||"utf-8").toUpperCase(),y=v.language||"en",m="";return Yn.isBuffer(v.value)&&p.isCompatibleEncoding(_)?m=v.value.toString(_):Yn.isBuffer(v.value)?m=v.value.toString("hex").replace(/[0-9a-f]{2}/gi,"%$1"):m=encodeURIComponent(v.value),b+"="+_+"'"+y+"'"+m},p.formatAttribute=function(b,v){return Array.isArray(v)?v.map(_=>p.formatAttribute(b,_)).join("; "):b[b.length-1]==="*"||typeof v!="string"?p.formatExtendedAttribute(b,v):(p.isTokenAttr(b)?v=d(v)?'"'+p.escapeQuotes(v)+'"':p.escapeQuotes(v):d(v)&&(v=encodeURIComponent(v),v=v.replace(/%20/g," ").replace(/%2C/g,",").replace(/%3B/g,";"),v='"'+v+'"'),b+"="+v)},dw=p,dw}var VC;function O8(){if(VC)return Yc;VC=1,Object.defineProperty(Yc,"__esModule",{value:!0}),Yc.FetchDocumentLoader=void 0;const e=lp(),t=yx(),r=Oi();class n{constructor(a){this.fetcher=a}async load(a){const o=await(this.fetcher||fetch)(a,{headers:new Headers({accept:"application/ld+json"})});if(o.ok&&o.headers){let s=o.headers.get("Content-Type");if(s){const l=s.indexOf(";");l>0&&(s=s.substr(0,l))}if(s==="application/ld+json")return await o.json();if(o.headers.has("Link")){let l;if(o.headers.forEach((u,f)=>{if(f==="link"){const d=(0,t.parse)(u);for(const c of d.get("type","application/ld+json"))if(c.rel==="alternate"){if(l)throw new Error("Multiple JSON-LD alternate links were found on "+a);l=(0,r.resolve)(c.uri,a)}}}),l)return this.load(l)}throw new e.ErrorCoded(`Unsupported JSON-LD media type ${s}`,e.ERROR_CODES.LOADING_DOCUMENT_FAILED)}else throw new Error(o.statusText||`Status code: ${o.status}`)}}return Yc.FetchDocumentLoader=n,Yc}var hw={},Qc={},zC;function gx(){if(zC)return Qc;zC=1,Object.defineProperty(Qc,"__esModule",{value:!0}),Qc.Util=void 0;class e{static isCompactIri(r){return r.indexOf(":")>0&&!(r&&r[0]==="#")}static getPrefix(r,n){if(r&&r[0]==="#")return null;const i=r.indexOf(":");if(i>=0){if(r.length>i+1&&r.charAt(i+1)==="/"&&r.charAt(i+2)==="/")return null;const a=r.substr(0,i);if(a==="_")return null;if(n[a])return a}return null}static getContextValueId(r){if(r===null||typeof r=="string")return r;const n=r["@id"];return n||null}static isSimpleTermDefinitionPrefix(r,n){return!e.isPotentialKeyword(r)&&(n.allowPrefixNonGenDelims||typeof r=="string"&&(r[0]==="_"||e.isPrefixIriEndingWithGenDelim(r)))}static isPotentialKeyword(r){return typeof r=="string"&&e.KEYWORD_REGEX.test(r)}static isPrefixIriEndingWithGenDelim(r){return e.ENDS_WITH_GEN_DELIM.test(r)}static isPrefixValue(r){return r&&(typeof r=="string"||r&&typeof r=="object")}static isValidIri(r){return!!(r&&e.IRI_REGEX.test(r))}static isValidIriWeak(r){return!!r&&r[0]!==":"&&e.IRI_REGEX_WEAK.test(r)}static isValidKeyword(r){return e.VALID_KEYWORDS[r]}static isTermProtected(r,n){const i=r[n];return typeof i!="string"&&i&&i["@protected"]}static hasProtectedTerms(r){for(const n of Object.keys(r))if(e.isTermProtected(r,n))return!0;return!1}static isReservedInternalKeyword(r){return r.startsWith("@__")}static deepEqual(r,n){const i=Object.keys(r),a=Object.keys(n);return i.length!==a.length?!1:i.every(o=>{const s=r[o],l=n[o];return s===l||s!==null&&l!==null&&typeof s=="object"&&typeof l=="object"&&this.deepEqual(s,l)})}}return e.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`#]*(#[^#]*)?$/,e.IRI_REGEX_WEAK=/(?::[^:])|\//,e.KEYWORD_REGEX=/^@[a-z]+$/i,e.ENDS_WITH_GEN_DELIM=/[:/?#\[\]@]$/,e.REGEX_LANGUAGE_TAG=/^[a-zA-Z]+(-[a-zA-Z0-9]+)*$/,e.REGEX_DIRECTION_TAG=/^(ltr)|(rtl)$/,e.VALID_KEYWORDS={"@annotation":!0,"@base":!0,"@container":!0,"@context":!0,"@direction":!0,"@graph":!0,"@id":!0,"@import":!0,"@included":!0,"@index":!0,"@json":!0,"@language":!0,"@list":!0,"@nest":!0,"@none":!0,"@prefix":!0,"@propagate":!0,"@protected":!0,"@reverse":!0,"@set":!0,"@type":!0,"@value":!0,"@version":!0,"@vocab":!0},e.EXPAND_KEYS_BLACKLIST=["@base","@vocab","@language","@version","@direction"],e.ALIAS_DOMAIN_BLACKLIST=["@container","@graph","@id","@index","@list","@nest","@none","@prefix","@reverse","@set","@type","@value","@version"],e.ALIAS_RANGE_BLACKLIST=["@context","@preserve"],e.CONTAINERS=["@list","@set","@index","@language","@graph","@id","@type"],e.CONTAINERS_1_0=["@list","@set","@index"],Qc.Util=e,Qc}var WC;function P8(){return WC||(WC=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.defaultExpandOptions=e.JsonLdContextNormalized=void 0;const t=Oi(),r=lp(),n=gx();class i{constructor(o){this.contextRaw=o}getContextRaw(){return this.contextRaw}expandTerm(o,s,l=e.defaultExpandOptions){const u=this.contextRaw[o];if(u===null||u&&u["@id"]===null)return null;let f=!0;if(u&&s){const _=n.Util.getContextValueId(u);if(_&&_!==o)if(typeof _!="string"||!n.Util.isValidIri(_)&&!n.Util.isValidKeyword(_))n.Util.isPotentialKeyword(_)||(f=!1);else return _}const d=n.Util.getPrefix(o,this.contextRaw),c=this.contextRaw["@vocab"],p=(!!c||c==="")&&c.indexOf(":")<0,b=this.contextRaw["@base"],v=n.Util.isPotentialKeyword(o);if(d){const _=this.contextRaw[d],y=n.Util.getContextValueId(_);if(y){if(typeof _=="string"||!l.allowPrefixForcing){if(!n.Util.isSimpleTermDefinitionPrefix(y,l))return o}else if(y[0]!=="_"&&!v&&!_["@prefix"]&&!(o in this.contextRaw))return o;return y+o.substr(d.length+1)}}else if(s&&(c||c===""||l.allowVocabRelativeToBase&&b&&p)&&!v&&!n.Util.isCompactIri(o))if(p){if(l.allowVocabRelativeToBase)return(c||b?(0,t.resolve)(c,b):"")+o;throw new r.ErrorCoded(`Relative vocab expansion for term '${o}' with vocab '${c}' is not allowed.`,r.ERROR_CODES.INVALID_VOCAB_MAPPING)}else return c+o;else if(!s&&b&&!v&&!n.Util.isCompactIri(o))return(0,t.resolve)(o,b);if(f)return o;throw new r.ErrorCoded(`Invalid IRI mapping found for context entry '${o}': '${JSON.stringify(u)}'`,r.ERROR_CODES.INVALID_IRI_MAPPING)}compactIri(o,s){if(s&&this.contextRaw["@vocab"]&&o.startsWith(this.contextRaw["@vocab"]))return o.substr(this.contextRaw["@vocab"].length);if(!s&&this.contextRaw["@base"]&&o.startsWith(this.contextRaw["@base"]))return o.substr(this.contextRaw["@base"].length);const l={prefix:"",suffix:o};for(const u in this.contextRaw){const f=this.contextRaw[u];if(f&&!n.Util.isPotentialKeyword(u)){const d=n.Util.getContextValueId(f);if(o.startsWith(d)){const c=o.substr(d.length);if(c)c.length<l.suffix.length&&(l.prefix=u,l.suffix=c);else if(s)return u}}}return l.prefix?l.prefix+":"+l.suffix:o}}e.JsonLdContextNormalized=i,e.defaultExpandOptions={allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}}(hw)),hw}var GC;function lJ(){if(GC)return Zc;GC=1,Object.defineProperty(Zc,"__esModule",{value:!0}),Zc.ContextParser=void 0;const e=Oi(),t=lp(),r=O8(),n=P8(),i=gx();class a{constructor(s){s=s||{},this.documentLoader=s.documentLoader||new r.FetchDocumentLoader,this.documentCache={},this.validateContext=!s.skipValidation,this.expandContentTypeToBase=!!s.expandContentTypeToBase,this.remoteContextsDepthLimit=s.remoteContextsDepthLimit||32,this.redirectSchemaOrgHttps="redirectSchemaOrgHttps"in s?!!s.redirectSchemaOrgHttps:!0}static validateLanguage(s,l,u){if(typeof s!="string")throw new t.ErrorCoded(`The value of an '@language' must be a string, got '${JSON.stringify(s)}'`,u);if(!i.Util.REGEX_LANGUAGE_TAG.test(s)){if(l)throw new t.ErrorCoded(`The value of an '@language' must be a valid language tag, got '${JSON.stringify(s)}'`,u);return!1}return!0}static validateDirection(s,l){if(typeof s!="string")throw new t.ErrorCoded(`The value of an '@direction' must be a string, got '${JSON.stringify(s)}'`,t.ERROR_CODES.INVALID_BASE_DIRECTION);if(!i.Util.REGEX_DIRECTION_TAG.test(s)){if(l)throw new t.ErrorCoded(`The value of an '@direction' must be 'ltr' or 'rtl', got '${JSON.stringify(s)}'`,t.ERROR_CODES.INVALID_BASE_DIRECTION);return!1}return!0}idifyReverseTerms(s){for(const l of Object.keys(s)){let u=s[l];if(u&&typeof u=="object"&&u["@reverse"]&&!u["@id"]){if(typeof u["@reverse"]!="string"||i.Util.isValidKeyword(u["@reverse"]))throw new t.ErrorCoded(`Invalid @reverse value, must be absolute IRI or blank node: '${u["@reverse"]}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);u=s[l]=Object.assign(Object.assign({},u),{"@id":u["@reverse"]}),u["@id"]=u["@reverse"],i.Util.isPotentialKeyword(u["@reverse"])?delete u["@reverse"]:u["@reverse"]=!0}}return s}expandPrefixedTerms(s,l,u){const f=s.getContextRaw();for(const d of u||Object.keys(f))if(i.Util.EXPAND_KEYS_BLACKLIST.indexOf(d)<0&&!i.Util.isReservedInternalKeyword(d)){const c=f[d];if(i.Util.isPotentialKeyword(d)&&i.Util.ALIAS_DOMAIN_BLACKLIST.indexOf(d)>=0&&(d!=="@type"||typeof f[d]=="object"&&!(f[d]["@protected"]||f[d]["@container"]==="@set")))throw new t.ErrorCoded(`Keywords can not be aliased to something else.
Tried mapping ${d} to ${JSON.stringify(c)}`,t.ERROR_CODES.KEYWORD_REDEFINITION);if(i.Util.ALIAS_RANGE_BLACKLIST.indexOf(i.Util.getContextValueId(c))>=0)throw new t.ErrorCoded(`Aliasing to certain keywords is not allowed.
Tried mapping ${d} to ${JSON.stringify(c)}`,t.ERROR_CODES.INVALID_KEYWORD_ALIAS);if(c&&i.Util.isPotentialKeyword(i.Util.getContextValueId(c))&&c["@prefix"]===!0)throw new t.ErrorCoded(`Tried to use keyword aliases as prefix: '${d}': '${JSON.stringify(c)}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);for(;i.Util.isPrefixValue(f[d]);){const p=f[d];let b=!1;if(typeof p=="string")f[d]=s.expandTerm(p,!0),b=b||p!==f[d];else{const v=p["@id"],_=p["@type"],y=!("@prefix"in p)||i.Util.isValidIri(d);if("@id"in p)v!=null&&typeof v=="string"&&(f[d]=Object.assign(Object.assign({},f[d]),{"@id":s.expandTerm(v,!0)}),b=b||v!==f[d]["@id"]);else if(!i.Util.isPotentialKeyword(d)&&y){const m=s.expandTerm(d,!0);m!==d&&(f[d]=Object.assign(Object.assign({},f[d]),{"@id":m}),b=!0)}if(_&&typeof _=="string"&&_!=="@vocab"&&(!p["@container"]||!p["@container"]["@type"])&&y){let m=s.expandTerm(_,!0);l&&_===m&&(m=s.expandTerm(_,!1)),m!==_&&(b=!0,f[d]=Object.assign(Object.assign({},f[d]),{"@type":m}))}}if(!b)break}}}normalize(s,{processingMode:l,normalizeLanguageTags:u}){if(u||l===1)for(const f of Object.keys(s))if(f==="@language"&&typeof s[f]=="string")s[f]=s[f].toLowerCase();else{const d=s[f];if(d&&typeof d=="object"&&typeof d["@language"]=="string"){const c=d["@language"].toLowerCase();c!==d["@language"]&&(s[f]=Object.assign(Object.assign({},d),{"@language":c}))}}}containersToHash(s){for(const l of Object.keys(s)){const u=s[l];if(u&&typeof u=="object"){if(typeof u["@container"]=="string")s[l]=Object.assign(Object.assign({},u),{"@container":{[u["@container"]]:!0}});else if(Array.isArray(u["@container"])){const f={};for(const d of u["@container"])f[d]=!0;s[l]=Object.assign(Object.assign({},u),{"@container":f})}}}}applyScopedProtected(s,{processingMode:l},u){if(l&&l>=1.1&&s["@protected"]){for(const f of Object.keys(s))if(!i.Util.isReservedInternalKeyword(f)&&!i.Util.isPotentialKeyword(f)&&!i.Util.isTermProtected(s,f)){const d=s[f];d&&typeof d=="object"?"@protected"in s[f]||(s[f]=Object.assign(Object.assign({},s[f]),{"@protected":!0})):(s[f]={"@id":d,"@protected":!0},i.Util.isSimpleTermDefinitionPrefix(d,u)&&(s[f]=Object.assign(Object.assign({},s[f]),{"@prefix":!0})))}delete s["@protected"]}}validateKeywordRedefinitions(s,l,u,f){for(const d of f??Object.keys(l))if(i.Util.isTermProtected(s,d)&&(typeof l[d]=="string"?l[d]={"@id":l[d],"@protected":!0}:l[d]=Object.assign(Object.assign({},l[d]),{"@protected":!0}),!i.Util.deepEqual(s[d],l[d])))throw new t.ErrorCoded(`Attempted to override the protected keyword ${d} from ${JSON.stringify(i.Util.getContextValueId(s[d]))} to ${JSON.stringify(i.Util.getContextValueId(l[d]))}`,t.ERROR_CODES.PROTECTED_TERM_REDEFINITION)}validate(s,{processingMode:l}){for(const u of Object.keys(s)){if(i.Util.isReservedInternalKeyword(u))continue;if(u==="")throw new t.ErrorCoded(`The empty term is not allowed, got: '${u}': '${JSON.stringify(s[u])}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);const f=s[u],d=typeof f;if(i.Util.isPotentialKeyword(u)){switch(u.substr(1)){case"vocab":if(f!==null&&d!=="string")throw new t.ErrorCoded(`Found an invalid @vocab IRI: ${f}`,t.ERROR_CODES.INVALID_VOCAB_MAPPING);break;case"base":if(f!==null&&d!=="string")throw new t.ErrorCoded(`Found an invalid @base IRI: ${s[u]}`,t.ERROR_CODES.INVALID_BASE_IRI);break;case"language":f!==null&&a.validateLanguage(f,!0,t.ERROR_CODES.INVALID_DEFAULT_LANGUAGE);break;case"version":if(f!==null&&d!=="number")throw new t.ErrorCoded(`Found an invalid @version number: ${f}`,t.ERROR_CODES.INVALID_VERSION_VALUE);break;case"direction":f!==null&&a.validateDirection(f,!0);break;case"propagate":if(l===1)throw new t.ErrorCoded(`Found an illegal @propagate keyword: ${f}`,t.ERROR_CODES.INVALID_CONTEXT_ENTRY);if(f!==null&&d!=="boolean")throw new t.ErrorCoded(`Found an invalid @propagate value: ${f}`,t.ERROR_CODES.INVALID_PROPAGATE_VALUE);break}if(i.Util.isValidKeyword(u)&&i.Util.isValidKeyword(i.Util.getContextValueId(f)))throw new t.ErrorCoded(`Illegal keyword alias in term value, found: '${u}': '${i.Util.getContextValueId(f)}'`,t.ERROR_CODES.KEYWORD_REDEFINITION);continue}if(f!==null)switch(d){case"string":if(i.Util.getPrefix(f,s)===u)throw new t.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${u}': '${JSON.stringify(f)}'`,t.ERROR_CODES.CYCLIC_IRI_MAPPING);if(i.Util.isValidIriWeak(u)){if(f==="@type")throw new t.ErrorCoded(`IRIs can not be mapped to @type, found: '${u}': '${f}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(i.Util.isValidIri(f)&&f!==new n.JsonLdContextNormalized(s).expandTerm(u))throw new t.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${u}': '${f}'`,t.ERROR_CODES.INVALID_IRI_MAPPING)}break;case"object":if(!i.Util.isCompactIri(u)&&!("@id"in f)&&(f["@type"]==="@id"?!s["@base"]:!s["@vocab"]))throw new t.ErrorCoded(`Missing @id in context entry: '${u}': '${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);for(const c of Object.keys(f)){const p=f[c];if(p)switch(c){case"@id":if(i.Util.isValidKeyword(p)&&p!=="@type"&&p!=="@id"&&p!=="@graph"&&p!=="@nest")throw new t.ErrorCoded(`Illegal keyword alias in term value, found: '${u}': '${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(i.Util.isValidIriWeak(u)){if(p==="@type")throw new t.ErrorCoded(`IRIs can not be mapped to @type, found: '${u}': '${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(i.Util.isValidIri(p)&&p!==new n.JsonLdContextNormalized(s).expandTerm(u))throw new t.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${u}': '${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING)}if(typeof p!="string")throw new t.ErrorCoded(`Detected non-string @id in context entry: '${u}': '${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(i.Util.getPrefix(p,s)===u)throw new t.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${u}': '${JSON.stringify(f)}'`,t.ERROR_CODES.CYCLIC_IRI_MAPPING);break;case"@type":if(f["@container"]==="@type"&&p!=="@id"&&p!=="@vocab")throw new t.ErrorCoded(`@container: @type only allows @type: @id or @vocab, but got: '${u}': '${p}'`,t.ERROR_CODES.INVALID_TYPE_MAPPING);if(typeof p!="string")throw new t.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(d)}'`,t.ERROR_CODES.INVALID_TYPE_MAPPING);if(p!=="@id"&&p!=="@vocab"&&(l===1||p!=="@json")&&(l===1||p!=="@none")&&(p[0]==="_"||!i.Util.isValidIri(p)))throw new t.ErrorCoded(`A context @type must be an absolute IRI, found: '${u}': '${p}'`,t.ERROR_CODES.INVALID_TYPE_MAPPING);break;case"@reverse":if(typeof p=="string"&&f["@id"]&&f["@id"]!==p)throw new t.ErrorCoded(`Found non-matching @id and @reverse term values in '${u}':'${p}' and '${f["@id"]}'`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY);if("@nest"in f)throw new t.ErrorCoded(`@nest is not allowed in the reverse property '${u}'`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY);break;case"@container":if(l===1&&(Object.keys(p).length>1||i.Util.CONTAINERS_1_0.indexOf(Object.keys(p)[0])<0))throw new t.ErrorCoded(`Invalid term @container for '${u}' ('${Object.keys(p)}') in 1.0, must be only one of ${i.Util.CONTAINERS_1_0.join(", ")}`,t.ERROR_CODES.INVALID_CONTAINER_MAPPING);for(const b of Object.keys(p)){if(b==="@list"&&f["@reverse"])throw new t.ErrorCoded(`Term value can not be @container: @list and @reverse at the same time on '${u}'`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY);if(i.Util.CONTAINERS.indexOf(b)<0)throw new t.ErrorCoded(`Invalid term @container for '${u}' ('${b}'), must be one of ${i.Util.CONTAINERS.join(", ")}`,t.ERROR_CODES.INVALID_CONTAINER_MAPPING)}break;case"@language":a.validateLanguage(p,!0,t.ERROR_CODES.INVALID_LANGUAGE_MAPPING);break;case"@direction":a.validateDirection(p,!0);break;case"@prefix":if(p!==null&&typeof p!="boolean")throw new t.ErrorCoded(`Found an invalid term @prefix boolean in: '${u}': '${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_PREFIX_VALUE);if(!("@id"in f)&&!i.Util.isValidIri(u))throw new t.ErrorCoded(`Invalid @prefix definition for '${u}' ('${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@index":if(l===1||!f["@container"]||!f["@container"]["@index"])throw new t.ErrorCoded(`Attempt to add illegal key to value object: '${u}': '${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@nest":if(i.Util.isPotentialKeyword(p)&&p!=="@nest")throw new t.ErrorCoded(`Found an invalid term @nest value in: '${u}': '${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_NEST_VALUE)}}break;default:throw new t.ErrorCoded(`Found an invalid term value: '${u}': '${f}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION)}}}applyBaseEntry(s,l,u){return typeof s=="string"||(u&&!("@base"in s)&&l.parentContext&&typeof l.parentContext=="object"&&"@base"in l.parentContext&&(s["@base"]=l.parentContext["@base"],l.parentContext["@__baseDocument"]&&(s["@__baseDocument"]=!0)),l.baseIRI&&!l.external&&("@base"in s?s["@base"]!==null&&typeof s["@base"]=="string"&&!i.Util.isValidIri(s["@base"])&&(s["@base"]=(0,e.resolve)(s["@base"],l.parentContext&&l.parentContext["@base"]||l.baseIRI)):(s["@base"]=l.baseIRI,s["@__baseDocument"]=!0))),s}normalizeContextIri(s,l){if(!i.Util.isValidIri(s))try{s=(0,e.resolve)(s,l)}catch{throw new Error(`Invalid context IRI: ${s}`)}return this.redirectSchemaOrgHttps&&s.startsWith("http://schema.org")&&(s="https://schema.org/"),s}async parseInnerContexts(s,l,u){for(const f of u??Object.keys(s)){const d=s[f];if(d&&typeof d=="object"&&"@context"in d&&d["@context"]!==null&&!l.ignoreScopedContexts){if(this.validateContext)try{const c=Object.assign(Object.assign({},s),{[f]:Object.assign({},s[f])});delete c[f]["@context"],await this.parse(d["@context"],Object.assign(Object.assign({},l),{external:!1,parentContext:c,ignoreProtection:!0,ignoreRemoteScopedContexts:!0,ignoreScopedContexts:!0}))}catch(c){throw new t.ErrorCoded(c.message,t.ERROR_CODES.INVALID_SCOPED_CONTEXT)}s[f]=Object.assign(Object.assign({},d),{"@context":(await this.parse(d["@context"],Object.assign(Object.assign({},l),{external:!1,minimalProcessing:!0,ignoreRemoteScopedContexts:!0,parentContext:s}))).getContextRaw()})}}return s}async parse(s,l={},u={}){const{baseIRI:f,parentContext:d,external:c,processingMode:p=a.DEFAULT_PROCESSING_MODE,normalizeLanguageTags:b,ignoreProtection:v,minimalProcessing:_}=l,y=l.remoteContexts||{};if(Object.keys(y).length>=this.remoteContextsDepthLimit)throw new t.ErrorCoded("Detected an overflow in remote context inclusions: "+Object.keys(y),t.ERROR_CODES.CONTEXT_OVERFLOW);if(s==null){if(!v&&d&&i.Util.hasProtectedTerms(d))throw new t.ErrorCoded("Illegal context nullification when terms are protected",t.ERROR_CODES.INVALID_CONTEXT_NULLIFICATION);return new n.JsonLdContextNormalized(this.applyBaseEntry({},l,!1))}else if(typeof s=="string"){const m=this.normalizeContextIri(s,f),g=this.getOverriddenLoad(m,l);if(g)return new n.JsonLdContextNormalized(g);const E=await this.parse(await this.load(m),Object.assign(Object.assign({},l),{baseIRI:m,external:!0,remoteContexts:Object.assign(Object.assign({},y),{[m]:!0})}));return this.applyBaseEntry(E.getContextRaw(),l,!0),E}else if(Array.isArray(s)){const m=[],g=await Promise.all(s.map((T,I)=>{if(typeof T=="string"){const D=this.normalizeContextIri(T,f);m[I]=D;const B=this.getOverriddenLoad(D,l);return B||this.load(D)}else return T}));if(_)return new n.JsonLdContextNormalized(g);const E=await g.reduce((T,I,D)=>T.then(B=>this.parse(I,Object.assign(Object.assign({},l),{baseIRI:m[D]||l.baseIRI,external:!!m[D]||l.external,parentContext:B.getContextRaw(),remoteContexts:m[D]?Object.assign(Object.assign({},y),{[m[D]]:!0}):y}),{skipValidation:D<g.length-1})),Promise.resolve(new n.JsonLdContextNormalized(d||{})));return this.applyBaseEntry(E.getContextRaw(),l,!0),E}else if(typeof s=="object"){if("@context"in s)return await this.parse(s["@context"],l);if(s=Object.assign({},s),c&&delete s["@base"],this.applyBaseEntry(s,l,!0),this.containersToHash(s),_)return new n.JsonLdContextNormalized(s);let m={};if("@import"in s)if(p>=1.1){if(typeof s["@import"]!="string")throw new t.ErrorCoded("An @import value must be a string, but got "+typeof s["@import"],t.ERROR_CODES.INVALID_IMPORT_VALUE);m=await this.loadImportContext(this.normalizeContextIri(s["@import"],f)),delete s["@import"]}else throw new t.ErrorCoded("Context importing is not supported in JSON-LD 1.0",t.ERROR_CODES.INVALID_CONTEXT_ENTRY);this.applyScopedProtected(m,{processingMode:p},n.defaultExpandOptions);const g=Object.assign(m,s);this.idifyReverseTerms(g),this.normalize(g,{processingMode:p,normalizeLanguageTags:b}),this.applyScopedProtected(g,{processingMode:p},n.defaultExpandOptions);const E=Object.keys(g),T=[];if(typeof d=="object")for(const D in d)D in g?T.push(D):g[D]=d[D];await this.parseInnerContexts(g,l,E);const I=new n.JsonLdContextNormalized(g);return(g&&g["@version"]||a.DEFAULT_PROCESSING_MODE)>=1.1&&(s["@vocab"]&&typeof s["@vocab"]=="string"||s["@vocab"]==="")&&(d&&"@vocab"in d&&s["@vocab"].indexOf(":")<0?g["@vocab"]=d["@vocab"]+s["@vocab"]:(i.Util.isCompactIri(s["@vocab"])||s["@vocab"]in g)&&(g["@vocab"]=I.expandTerm(s["@vocab"],!0))),this.expandPrefixedTerms(I,this.expandContentTypeToBase,E),!v&&d&&p>=1.1&&this.validateKeywordRedefinitions(d,g,n.defaultExpandOptions,T),this.validateContext&&!u.skipValidation&&this.validate(g,{processingMode:p}),I}else throw new t.ErrorCoded(`Tried parsing a context that is not a string, array or object, but got ${s}`,t.ERROR_CODES.INVALID_LOCAL_CONTEXT)}async load(s){const l=this.documentCache[s];if(l)return l;let u;try{u=await this.documentLoader.load(s)}catch(f){throw new t.ErrorCoded(`Failed to load remote context ${s}: ${f.message}`,t.ERROR_CODES.LOADING_REMOTE_CONTEXT_FAILED)}if(!("@context"in u))throw new t.ErrorCoded(`Missing @context in remote context at ${s}`,t.ERROR_CODES.INVALID_REMOTE_CONTEXT);return this.documentCache[s]=u["@context"]}getOverriddenLoad(s,l){if(s in(l.remoteContexts||{})){if(l.ignoreRemoteScopedContexts)return s;throw new t.ErrorCoded("Detected a cyclic context inclusion of "+s,t.ERROR_CODES.RECURSIVE_CONTEXT_INCLUSION)}return null}async loadImportContext(s){let l=await this.load(s);if(typeof l!="object"||Array.isArray(l))throw new t.ErrorCoded("An imported context must be a single object: "+s,t.ERROR_CODES.INVALID_REMOTE_CONTEXT);if("@import"in l)throw new t.ErrorCoded("An imported context can not import another context: "+s,t.ERROR_CODES.INVALID_CONTEXT_ENTRY);return l=Object.assign({},l),this.containersToHash(l),l}}return a.DEFAULT_PROCESSING_MODE=1.1,Zc.ContextParser=a,Zc}var pw={},KC;function fJ(){return KC||(KC=1,Object.defineProperty(pw,"__esModule",{value:!0})),pw}var mw={},ZC;function cJ(){return ZC||(ZC=1,Object.defineProperty(mw,"__esModule",{value:!0})),mw}var YC;function Zn(){return YC||(YC=1,function(e){var t=Kc.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=Kc.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(lJ(),e),r(lp(),e),r(O8(),e),r(fJ(),e),r(cJ(),e),r(P8(),e),r(gx(),e)}(Kc)),Kc}var Xc={},Jc={},ed={},td={},QC;function dJ(){if(QC)return td;QC=1,Object.defineProperty(td,"__esModule",{value:!0}),td.ContainerHandlerIdentifier=void 0;let e=class{canCombineWithGraph(){return!0}async handle(r,n,i,a,o,s){let l;if(n.emittedStack[s+1]&&n.idStack[s+1])l=n.idStack[s+1][0];else{const d=await i.getContainerKey(a[s],a,s)!==null?await i.resourceToTerm(await n.getContext(a),a[s]):i.dataFactory.blankNode();if(!d){n.emittedStack[s]=!1;return}l=d,n.idStack[s+1]=[l]}let u=n.idStack[s];u||(u=n.idStack[s]=[]),u.some(f=>f.equals(l))||u.push(l),await n.handlePendingContainerFlushBuffers()||(n.emittedStack[s]=!1)}};return td.ContainerHandlerIdentifier=e,td}var rd={},nd={},XC;function Km(){if(XC)return nd;XC=1,Object.defineProperty(nd,"__esModule",{value:!0}),nd.EntryHandlerPredicate=void 0;const e=Zn(),t=Xs();let r=class D8{static async handlePredicateObject(i,a,o,s,l,u,f,d,c){const p=await a.getPropertiesDepth(o,s),b=await a.getDepthOffsetGraph(s,o),v=s-b,_=i.idStack[p];if(_&&!c)for(const y of _)if(b>=0){const g=i.idStack[v-1];if(g)for(const E of g)a.emitQuadChecked(s,y,l,u,E,f,d);else f?(a.validateReverseSubject(u),i.getUnidentifiedGraphBufferSafe(v-1).push({subject:u,predicate:l,object:y,isEmbedded:d})):i.getUnidentifiedGraphBufferSafe(v-1).push({subject:y,predicate:l,object:u,isEmbedded:d})}else{const g=await a.getGraphContainerValue(o,p);a.emitQuadChecked(s,y,l,u,g,f,d)}else if(f&&a.validateReverseSubject(u),c){if(i.rdfstar){i.idStack[s]&&i.emitError(new e.ErrorCoded(`Found an illegal @id inside an annotation: ${i.idStack[s][0].value}`,e.ERROR_CODES.INVALID_ANNOTATION));for(let g=0;g<s;g++)await a.unaliasKeyword(o[g],o,g)==="@id"&&i.emitError(new e.ErrorCoded("Found an illegal annotation inside an embedded node",e.ERROR_CODES.INVALID_ANNOTATION));const y=i.getAnnotationsBufferSafe(p),m={predicate:l,object:u,reverse:f,nestedAnnotations:[],depth:p};y.push(m);for(let g=y.length-2;g>=0;g--){const E=y[g];E.depth>p&&(m.nestedAnnotations.push(E),y.splice(g,1))}}}else i.getUnidentifiedValueBufferSafe(p).push({predicate:l,object:u,reverse:f,isEmbedded:d})}isPropertyHandler(){return!0}isStackProcessor(){return!0}async validate(i,a,o,s,l){const u=o[s];if(u){const f=await i.getContext(o);if(!i.jsonLiteralStack[s]&&await a.predicateToTerm(f,o[s]))return t.Util.getContextValueType(f,u)==="@json"&&(i.jsonLiteralStack[s+1]=!0),!0}return!1}async test(i,a,o,s,l){return s[l]}async handle(i,a,o,s,l,u,f){const d=s[u],c=await i.getContext(s),p=await a.predicateToTerm(c,o);if(p){const b=await a.valueToTerm(c,o,l,u,s);if(b.length)for(let v of b){let _=await a.unaliasKeywordParent(s,u);const y=t.Util.isPropertyReverse(c,d,_);let m=0;for(;_==="@reverse"||typeof _=="number";)typeof _=="number"?m++:u--,_=await a.unaliasKeywordParent(s,u-m);const g=t.Util.isPropertyInEmbeddedNode(_);a.validateReverseInEmbeddedNode(o,y,g);const E=t.Util.isPropertyInAnnotationObject(_);if(l){const T="@list"in t.Util.getContextValueContainer(c,o);if(T||l["@list"]){if((T&&!Array.isArray(l)&&!l["@list"]||l["@list"]&&!Array.isArray(l["@list"]))&&v!==a.rdfNil){const I=a.dataFactory.blankNode();i.emitQuad(u,a.dataFactory.quad(I,a.rdfRest,a.rdfNil,a.getDefaultGraph())),i.emitQuad(u,a.dataFactory.quad(I,a.rdfFirst,v,a.getDefaultGraph())),v=I}if(y&&!i.allowSubjectList)throw new e.ErrorCoded(`Found illegal list value in subject position at ${o}`,e.ERROR_CODES.INVALID_REVERSE_PROPERTY_VALUE)}}await D8.handlePredicateObject(i,a,s,u,p,v,y,g,E)}}}};return nd.EntryHandlerPredicate=r,nd}var JC;function hJ(){if(JC)return rd;JC=1,Object.defineProperty(rd,"__esModule",{value:!0}),rd.ContainerHandlerIndex=void 0;const e=Zn(),t=Km(),r=Xs();let n=class{canCombineWithGraph(){return!0}async handle(a,o,s,l,u,f){if(!Array.isArray(u)){const d="@graph"in a,c=await o.getContext(l),p=l[f-1],b=r.Util.getContextValueIndex(c,p);if(b){if(e.Util.isPotentialKeyword(b))throw new e.ErrorCoded(`Keywords can not be used as @index value, got: ${b}`,e.ERROR_CODES.INVALID_TERM_DEFINITION);if(typeof b!="string")throw new e.ErrorCoded(`@index values must be strings, got: ${b}`,e.ERROR_CODES.INVALID_TERM_DEFINITION);if(typeof u!="object"){if(r.Util.getContextValueType(c,p)!=="@id")throw new e.ErrorCoded(`Property-based index containers require nodes as values or strings with @type: @id, but got: ${u}`,e.ERROR_CODES.INVALID_VALUE_OBJECT);const y=s.resourceToTerm(c,u);y&&(o.idStack[f+1]=[y])}const _=s.createVocabOrBaseTerm(c,b);if(_){const y=await s.valueToTerm(c,b,await s.getContainerKey(l[f],l,f),f,l);if(d){const m=await s.getGraphContainerValue(l,f+1);for(const g of y)o.emitQuad(f,s.dataFactory.quad(m,_,g,s.getDefaultGraph()))}else for(const m of y)await t.EntryHandlerPredicate.handlePredicateObject(o,s,l,f+1,_,m,!1,!1,!1)}}const v=d?2:1;await o.newOnValueJob(l.slice(0,l.length-v),u,f-v,!0),await o.handlePendingContainerFlushBuffers()}o.emittedStack[f]=!1}};return rd.ContainerHandlerIndex=n,rd}var id={},eL;function pJ(){if(eL)return id;eL=1,Object.defineProperty(id,"__esModule",{value:!0}),id.ContainerHandlerLanguage=void 0;const e=Zn();let t=class{canCombineWithGraph(){return!1}async handle(n,i,a,o,s,l){const u=await a.getContainerKey(o[l],o,l);if(Array.isArray(s))s=s.map(f=>({"@value":f,"@language":u}));else{if(typeof s!="string")throw new e.ErrorCoded(`Got invalid language map value, got '${JSON.stringify(s)}', but expected string`,e.ERROR_CODES.INVALID_LANGUAGE_MAP_VALUE);s={"@value":s,"@language":u}}await i.newOnValueJob(o.slice(0,o.length-1),s,l-1,!0),i.emittedStack[l]=!1}};return id.ContainerHandlerLanguage=t,id}var ad={},tL;function mJ(){if(tL)return ad;tL=1,Object.defineProperty(ad,"__esModule",{value:!0}),ad.ContainerHandlerType=void 0;const e=Km(),t=Xs();let r=class{canCombineWithGraph(){return!1}async handle(i,a,o,s,l,u){if(!Array.isArray(l)){if(typeof l=="string"){const c=await a.getContext(s),b=t.Util.getContextValueType(c,s[u-1])==="@vocab"?await o.createVocabOrBaseTerm(c,l):await o.resourceToTerm(c,l);if(b){const v={"@id":b.termType==="NamedNode"?b.value:l};await a.newOnValueJob(s.slice(0,s.length-1),v,u-1,!0),a.idStack[u+1]=[b]}}else{const c=!!a.idStack[u+1];c||delete a.idStack[u],await a.newOnValueJob(s.slice(0,s.length-1),l,u-1,!0),c||(a.idStack[u+1]=a.idStack[u])}const f=await o.getContainerKey(s[u],s,u),d=f!==null?o.createVocabOrBaseTerm(await a.getContext(s),f):null;d&&await e.EntryHandlerPredicate.handlePredicateObject(a,o,s,u+1,o.rdfType,d,!1,!1,!1),await a.handlePendingContainerFlushBuffers()}a.emittedStack[u]=!1}};return ad.ContainerHandlerType=r,ad}var rL;function N8(){if(rL)return ed;rL=1,Object.defineProperty(ed,"__esModule",{value:!0}),ed.EntryHandlerContainer=void 0;const e=dJ(),t=hJ(),r=pJ(),n=mJ(),i=Xs();let a=class _o{static isSimpleGraphContainer(s){return"@graph"in s&&("@set"in s&&Object.keys(s).length===2||Object.keys(s).length===1)}static isComplexGraphContainer(s){return"@graph"in s&&("@set"in s&&Object.keys(s).length>2||!("@set"in s)&&Object.keys(s).length>1)}static getContainerGraphIndex(s,l,u){let f=_o.isSimpleGraphContainer(s),d="";for(let c=l;c<u.length;c++)(!f||typeof u[c]=="number")&&(d+=":"+u[c]),!f&&typeof u[c]!="number"&&(f=!0);return d}static async getContainerHandler(s,l,u){const f={containers:{"@set":!0},depth:u,fallback:!0};let d=!1;const c=await s.getContext(l,2);for(let p=u-1;p>=0;p--)if(typeof l[p]!="number"){const b=i.Util.getContextValue(c,"@container",l[p],!1);if(b&&_o.isSimpleGraphContainer(b))return{containers:b,depth:p+1,fallback:!1};const v=i.Util.getContextValue(c,"@container",l[p-1],!1);if(v){const _="@graph"in v;for(const y in _o.CONTAINER_HANDLERS)if(v[y])return _?_o.CONTAINER_HANDLERS[y].canCombineWithGraph()?{containers:v,depth:p,fallback:!1}:f:d?f:{containers:v,depth:p,fallback:!1};return f}else{if(d)return f;d=!0}}return f}static async isBufferableContainerHandler(s,l,u){const f=await _o.getContainerHandler(s,l,u);return!f.fallback&&!("@graph"in f.containers)}isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(s,l,u,f,d){return!!await this.test(s,l,null,u,f)}async test(s,l,u,f,d){const c=i.Util.getContextValueContainer(await s.getContext(f,2),f[d-1]);for(const p in _o.CONTAINER_HANDLERS)if(c[p])return{containers:c,handler:_o.CONTAINER_HANDLERS[p]};return null}async handle(s,l,u,f,d,c,p){return p.handler.handle(p.containers,s,l,f,d,c)}};return a.CONTAINER_HANDLERS={"@id":new e.ContainerHandlerIdentifier,"@index":new t.ContainerHandlerIndex,"@language":new r.ContainerHandlerLanguage,"@type":new n.ContainerHandlerType},ed.EntryHandlerContainer=a,ed}var yw,nL;function yJ(){return nL||(nL=1,yw=function e(t){return t===null||typeof t!="object"||t.toJSON!=null?JSON.stringify(t):Array.isArray(t)?"["+t.reduce((r,n,i)=>{const a=i===0?"":",",o=n===void 0||typeof n=="symbol"?null:n;return r+a+e(o)},"")+"]":"{"+Object.keys(t).sort().reduce((r,n,i)=>{if(t[n]===void 0||typeof t[n]=="symbol")return r;const a=r.length===0?"":",";return r+a+e(n)+":"+e(t[n])},"")+"}"}),yw}var iL;function Xs(){if(iL)return Jc;iL=1,Object.defineProperty(Jc,"__esModule",{value:!0}),Jc.Util=void 0;const e=Zn(),t=Jr(),r=N8(),n=yJ();class i{constructor(o){this.parsingContext=o.parsingContext,this.dataFactory=o.dataFactory||new t.DataFactory,this.rdfFirst=this.dataFactory.namedNode(i.RDF+"first"),this.rdfRest=this.dataFactory.namedNode(i.RDF+"rest"),this.rdfNil=this.dataFactory.namedNode(i.RDF+"nil"),this.rdfType=this.dataFactory.namedNode(i.RDF+"type"),this.rdfJson=this.dataFactory.namedNode(i.RDF+"JSON")}static getContextValue(o,s,l,u){const f=o.getContextRaw()[l];if(!f)return u;const d=f[s];return d===void 0?u:d}static getContextValueContainer(o,s){return i.getContextValue(o,"@container",s,{"@set":!0})}static getContextValueType(o,s){const l=i.getContextValue(o,"@type",s,null);return l==="@none"?null:l}static getContextValueLanguage(o,s){return i.getContextValue(o,"@language",s,o.getContextRaw()["@language"]||null)}static getContextValueDirection(o,s){return i.getContextValue(o,"@direction",s,o.getContextRaw()["@direction"]||null)}static isContextValueReverse(o,s){return!!i.getContextValue(o,"@reverse",s,null)}static getContextValueIndex(o,s){return i.getContextValue(o,"@index",s,o.getContextRaw()["@index"]||null)}static isPropertyReverse(o,s,l){return l==="@reverse"!==i.isContextValueReverse(o,s)}static isPropertyInEmbeddedNode(o){return o==="@id"}static isPropertyInAnnotationObject(o){return o==="@annotation"}static isValidIri(o){return o!==null&&e.Util.isValidIri(o)}static isPrefixArray(o,s){if(o.length>s.length)return!1;for(let l=0;l<o.length;l++)if(o[l]!==s[l])return!1;return!0}async validateValueIndexes(o){if(this.parsingContext.validateValueIndexes){const s={};for(const l of o)if(l&&typeof l=="object"){const u=l["@id"],f=l["@index"];if(u&&f){const d=s[u];if(d&&d!==f)throw new e.ErrorCoded(`Conflicting @index value for ${u}`,e.ERROR_CODES.CONFLICTING_INDEXES);s[u]=f}}}}async valueToTerm(o,s,l,u,f){if(i.getContextValueType(o,s)==="@json")return[this.dataFactory.literal(this.valueToJsonString(l),this.rdfJson)];const d=typeof l;switch(d){case"object":if(l==null)return[];if(Array.isArray(l))return"@list"in i.getContextValueContainer(o,s)?l.length===0?[this.rdfNil]:this.parsingContext.idStack[u+1]||[]:(await this.validateValueIndexes(l),[]);if(o=await this.getContextSelfOrPropertyScoped(o,s),"@context"in l&&(o=await this.parsingContext.parseContext(l["@context"],(await this.parsingContext.getContext(f,0)).getContextRaw())),l=await this.unaliasKeywords(l,f,u,o),"@value"in l){let c,p,b,v,_;for(s in l){const y=l[s];switch(s){case"@value":c=y;break;case"@language":p=y;break;case"@direction":b=y;break;case"@type":v=y;break;case"@index":_=y;break;case"@annotation":break;default:throw new e.ErrorCoded(`Unknown value entry '${s}' in @value: ${JSON.stringify(l)}`,e.ERROR_CODES.INVALID_VALUE_OBJECT)}}if(await this.unaliasKeyword(v,f,u,!0,o)==="@json")return[this.dataFactory.literal(this.valueToJsonString(c),this.rdfJson)];if(c===null)return[];if(typeof c=="object")throw new e.ErrorCoded(`The value of an '@value' can not be an object, got '${JSON.stringify(c)}'`,e.ERROR_CODES.INVALID_VALUE_OBJECT_VALUE);if(this.parsingContext.validateValueIndexes&&_&&typeof _!="string")throw new e.ErrorCoded(`The value of an '@index' must be a string, got '${JSON.stringify(_)}'`,e.ERROR_CODES.INVALID_INDEX_VALUE);if(p){if(typeof c!="string")throw new e.ErrorCoded(`When an '@language' is set, the value of '@value' must be a string, got '${JSON.stringify(c)}'`,e.ERROR_CODES.INVALID_LANGUAGE_TAGGED_VALUE);if(!e.ContextParser.validateLanguage(p,this.parsingContext.strictValues,e.ERROR_CODES.INVALID_LANGUAGE_TAGGED_STRING))return[];(this.parsingContext.normalizeLanguageTags||this.parsingContext.activeProcessingMode===1)&&(p=p.toLowerCase())}if(b){if(typeof c!="string")throw new Error(`When an '@direction' is set, the value of '@value' must be a string, got '${JSON.stringify(c)}'`);if(!e.ContextParser.validateDirection(b,this.parsingContext.strictValues))return[]}if(p&&b&&this.parsingContext.rdfDirection){if(v)throw new e.ErrorCoded(`Can not have '@language', '@direction' and '@type' in a value: '${JSON.stringify(l)}'`,e.ERROR_CODES.INVALID_VALUE_OBJECT);return this.nullableTermToArray(this.createLanguageDirectionLiteral(u,c,p,b))}else if(p){if(v)throw new e.ErrorCoded(`Can not have both '@language' and '@type' in a value: '${JSON.stringify(l)}'`,e.ERROR_CODES.INVALID_VALUE_OBJECT);return[this.dataFactory.literal(c,p)]}else if(b&&this.parsingContext.rdfDirection){if(v)throw new e.ErrorCoded(`Can not have both '@direction' and '@type' in a value: '${JSON.stringify(l)}'`,e.ERROR_CODES.INVALID_VALUE_OBJECT);return this.nullableTermToArray(this.createLanguageDirectionLiteral(u,c,p,b))}else if(v){if(typeof v!="string")throw new e.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(v)}'`,e.ERROR_CODES.INVALID_TYPED_VALUE);const y=this.createVocabOrBaseTerm(o,v);if(!y)throw new e.ErrorCoded(`Invalid '@type' value, got '${JSON.stringify(v)}'`,e.ERROR_CODES.INVALID_TYPED_VALUE);if(y.termType!=="NamedNode")throw new e.ErrorCoded(`Illegal value type (${y.termType}): ${v}`,e.ERROR_CODES.INVALID_TYPED_VALUE);return[this.dataFactory.literal(c,y)]}return await this.valueToTerm(new e.JsonLdContextNormalized({}),s,c,u,f)}else if("@set"in l){if(Object.keys(l).length>1)throw new e.ErrorCoded(`Found illegal neighbouring entries next to @set for key: '${s}'`,e.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT);return[]}else if("@list"in l){if(Object.keys(l).length>1)throw new e.ErrorCoded(`Found illegal neighbouring entries next to @list for key: '${s}'`,e.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT);const c=l["@list"];return Array.isArray(c)?c.length===0?[this.rdfNil]:this.parsingContext.idStack[u+1]||[]:await this.valueToTerm(await this.parsingContext.getContext(f),s,c,u-1,f.slice(0,-1))}else{if("@reverse"in l&&typeof l["@reverse"]=="boolean")return[];if("@graph"in i.getContextValueContainer(await this.parsingContext.getContext(f),s)){const c=this.parsingContext.graphContainerTermStack[u+1];return c?Object.values(c):[this.dataFactory.blankNode()]}else if("@id"in l){if(Object.keys(l).length>1&&(o=await this.parsingContext.getContext(f,0)),"@context"in l&&(o=await this.parsingContext.parseContext(l["@context"],o.getContextRaw())),l["@type"]==="@vocab")return this.nullableTermToArray(this.createVocabOrBaseTerm(o,l["@id"]));{const c=l["@id"];let p;if(typeof c=="object")if(this.parsingContext.rdfstar)p=this.parsingContext.idStack[u+1][0];else throw new e.ErrorCoded(`Found illegal @id '${l}'`,e.ERROR_CODES.INVALID_ID_VALUE);else p=this.resourceToTerm(o,c);return this.nullableTermToArray(p)}}else return this.parsingContext.emittedStack[u+1]||l&&typeof l=="object"&&Object.keys(l).length===0?this.parsingContext.idStack[u+1]||(this.parsingContext.idStack[u+1]=[this.dataFactory.blankNode()]):[]}case"string":return this.nullableTermToArray(this.stringValueToTerm(u,await this.getContextSelfOrPropertyScoped(o,s),s,l,null));case"boolean":return this.nullableTermToArray(this.stringValueToTerm(u,await this.getContextSelfOrPropertyScoped(o,s),s,(!!l).toString(),this.dataFactory.namedNode(i.XSD_BOOLEAN)));case"number":return this.nullableTermToArray(this.stringValueToTerm(u,await this.getContextSelfOrPropertyScoped(o,s),s,l,this.dataFactory.namedNode(l%1===0&&l<1e21?i.XSD_INTEGER:i.XSD_DOUBLE)));default:return this.parsingContext.emitError(new Error(`Could not determine the RDF type of a ${d}`)),[]}}async getContextSelfOrPropertyScoped(o,s){const l=o.getContextRaw()[s];return l&&typeof l=="object"&&"@context"in l&&(o=await this.parsingContext.parseContext(l,o.getContextRaw(),!0)),o}nullableTermToArray(o){return o?[o]:[]}predicateToTerm(o,s){const l=o.expandTerm(s,!0,this.parsingContext.getExpandOptions());if(!l)return null;if(l[0]==="_"&&l[1]===":")return this.parsingContext.produceGeneralizedRdf?this.dataFactory.blankNode(l.substr(2)):null;if(i.isValidIri(l))return this.dataFactory.namedNode(l);if(l&&this.parsingContext.strictValues)this.parsingContext.emitError(new e.ErrorCoded(`Invalid predicate IRI: ${l}`,e.ERROR_CODES.INVALID_IRI_MAPPING));else return null;return null}resourceToTerm(o,s){if(s.startsWith("_:"))return this.dataFactory.blankNode(s.substr(2));const l=o.expandTerm(s,!1,this.parsingContext.getExpandOptions());if(!i.isValidIri(l))if(l&&this.parsingContext.strictValues)this.parsingContext.emitError(new Error(`Invalid resource IRI: ${l}`));else return null;return this.dataFactory.namedNode(l)}createVocabOrBaseTerm(o,s){if(s.startsWith("_:"))return this.dataFactory.blankNode(s.substr(2));const l=this.parsingContext.getExpandOptions();let u=o.expandTerm(s,!0,l);if(u===s&&(u=o.expandTerm(s,!1,l)),!i.isValidIri(u))if(u&&this.parsingContext.strictValues&&!u.startsWith("@"))this.parsingContext.emitError(new Error(`Invalid term IRI: ${u}`));else return null;return this.dataFactory.namedNode(u)}intToString(o,s){return typeof o=="number"?Number.isFinite(o)?o%1===0&&(!s||s.value!==i.XSD_DOUBLE)?Number(o).toString():o.toExponential(15).replace(/(\d)0*e\+?/,"$1E"):o>0?"INF":"-INF":o}stringValueToTerm(o,s,l,u,f){const d=i.getContextValueType(s,l);if(d)if(d==="@id"){if(!f)return this.resourceToTerm(s,this.intToString(u,f))}else if(d==="@vocab"){if(!f)return this.createVocabOrBaseTerm(s,this.intToString(u,f))}else f=this.dataFactory.namedNode(d);if(!f){const c=i.getContextValueLanguage(s,l),p=i.getContextValueDirection(s,l);return p&&this.parsingContext.rdfDirection?this.createLanguageDirectionLiteral(o,this.intToString(u,f),c,p):this.dataFactory.literal(this.intToString(u,f),c)}return this.dataFactory.literal(this.intToString(u,f),f)}createLanguageDirectionLiteral(o,s,l,u){if(this.parsingContext.rdfDirection==="i18n-datatype")return l||(l=""),this.dataFactory.literal(s,this.dataFactory.namedNode(`https://www.w3.org/ns/i18n#${l}_${u}`));{const f=this.dataFactory.blankNode(),d=this.getDefaultGraph();return this.parsingContext.emitQuad(o,this.dataFactory.quad(f,this.dataFactory.namedNode(i.RDF+"value"),this.dataFactory.literal(s),d)),l&&this.parsingContext.emitQuad(o,this.dataFactory.quad(f,this.dataFactory.namedNode(i.RDF+"language"),this.dataFactory.literal(l),d)),this.parsingContext.emitQuad(o,this.dataFactory.quad(f,this.dataFactory.namedNode(i.RDF+"direction"),this.dataFactory.literal(u),d)),f}}valueToJsonString(o){return n(o)}async unaliasKeyword(o,s,l,u,f){if(Number.isInteger(o))return o;if(!u){const d=this.parsingContext.unaliasedKeywordCacheStack[l];if(d)return d}if(!e.Util.isPotentialKeyword(o)){f=f||await this.parsingContext.getContext(s);let d=f.getContextRaw()[o];d&&typeof d=="object"&&(d=d["@id"]),e.Util.isValidKeyword(d)&&(o=d)}return u?o:this.parsingContext.unaliasedKeywordCacheStack[l]=o}async unaliasKeywordParent(o,s){return await this.unaliasKeyword(s>0&&o[s-1],o,s-1)}async unaliasKeywords(o,s,l,u){const f={};for(const d in o)f[await this.unaliasKeyword(d,s,l+1,!0,u)]=o[d];return f}async isLiteral(o,s){for(let l=s;l>=0;l--){if(await this.unaliasKeyword(o[l],o,l)==="@annotation")return!1;if(this.parsingContext.literalStack[l]||this.parsingContext.jsonLiteralStack[l])return!0}return!1}async getDepthOffsetGraph(o,s){for(let l=o-1;l>0;l--)if(await this.unaliasKeyword(s[l],s,l)==="@graph"){const u=(await r.EntryHandlerContainer.getContainerHandler(this.parsingContext,s,l)).containers;return r.EntryHandlerContainer.isComplexGraphContainer(u)?-1:o-l-1}return-1}validateReverseSubject(o){if(o.termType==="Literal")throw new e.ErrorCoded(`Found illegal literal in subject position: ${o.value}`,e.ERROR_CODES.INVALID_REVERSE_PROPERTY_VALUE)}getDefaultGraph(){return this.parsingContext.defaultGraph||this.dataFactory.defaultGraph()}async getGraphContainerValue(o,s){let l=this.getDefaultGraph();const{containers:u,depth:f}=await r.EntryHandlerContainer.getContainerHandler(this.parsingContext,o,s);if("@graph"in u){const d=r.EntryHandlerContainer.getContainerGraphIndex(u,f,o),c=this.parsingContext.graphContainerTermStack[f];if(l=c?c[d]:null,!l){let p=null;if("@id"in u){const b=await this.getContainerKey(o[f],o,f);b!==null&&(p=await this.resourceToTerm(await this.parsingContext.getContext(o),b))}p||(p=this.dataFactory.blankNode()),this.parsingContext.graphContainerTermStack[f]||(this.parsingContext.graphContainerTermStack[f]={}),l=this.parsingContext.graphContainerTermStack[f][d]=p}}return l}async getPropertiesDepth(o,s){let l=s;for(let u=s-1;u>0;u--)if(typeof o[u]!="number"){const f=await this.unaliasKeyword(o[u],o,u);if(f==="@reverse")return u;if(f==="@nest")l=u;else return l}return l}async getContainerKey(o,s,l){const u=await this.unaliasKeyword(o,s,l);return u==="@none"?null:u}validateReverseInEmbeddedNode(o,s,l){if(l&&s&&!this.parsingContext.rdfstarReverseInEmbedded)throw new e.ErrorCoded(`Illegal reverse property in embedded node in ${o}`,e.ERROR_CODES.INVALID_EMBEDDED_NODE)}emitQuadChecked(o,s,l,u,f,d,c){let p;if(d?(this.validateReverseSubject(u),p=this.dataFactory.quad(u,l,s,f)):p=this.dataFactory.quad(s,l,u,f),c){if(p.graph.termType!=="DefaultGraph"&&(p=this.dataFactory.quad(p.subject,p.predicate,p.object)),this.parsingContext.idStack[o-1])throw new e.ErrorCoded("Illegal multiple properties in an embedded node",e.ERROR_CODES.INVALID_EMBEDDED_NODE);this.parsingContext.idStack[o-1]=[p]}else this.parsingContext.emitQuad(o,p);const b=this.parsingContext.annotationsBuffer[o];if(b){for(const v of b)this.emitAnnotation(o,p,v);delete this.parsingContext.annotationsBuffer[o]}}emitAnnotation(o,s,l){let u;l.reverse?(this.validateReverseSubject(l.object),u=this.dataFactory.quad(l.object,l.predicate,s)):u=this.dataFactory.quad(s,l.predicate,l.object),this.parsingContext.emitQuad(o,u);for(const f of l.nestedAnnotations)this.emitAnnotation(o,u,f)}}return i.XSD="http://www.w3.org/2001/XMLSchema#",i.XSD_BOOLEAN=i.XSD+"boolean",i.XSD_INTEGER=i.XSD+"integer",i.XSD_DOUBLE=i.XSD+"double",i.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",Jc.Util=i,Jc}var aL;function gJ(){if(aL)return Xc;aL=1,Object.defineProperty(Xc,"__esModule",{value:!0}),Xc.EntryHandlerArrayValue=void 0;const e=Xs(),t=Zn();let r=class{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(i,a,o,s,l){return this.test(i,a,null,o,s)}async test(i,a,o,s,l){return typeof s[l]=="number"}async handle(i,a,o,s,l,u){let f=await a.unaliasKeywordParent(s,u);if(f==="@list"){let d=null,c=0;for(let p=u-2;p>0;p--){const b=s[p];if(typeof b=="string"||typeof b=="number"){c=p,d=b;break}}if(d!==null){const p=await a.valueToTerm(await i.getContext(s),d,l,u,s);for(const b of p)await this.handleListElement(i,a,b,l,u,s.slice(0,c),c);p.length===0&&await this.handleListElement(i,a,null,l,u,s.slice(0,c),c)}}else if(f==="@set")await i.newOnValueJob(s.slice(0,-2),l,u-2,!1);else if(f!==void 0&&f!=="@type"){for(let c=u-1;c>0;c--)if(typeof s[c]!="number"){f=await a.unaliasKeyword(s[c],s,c);break}const d=await i.getContext(s.slice(0,-1));if("@list"in e.Util.getContextValueContainer(d,f)){i.emittedStack[u+1]=!0;const c=await a.valueToTerm(await i.getContext(s),f,l,u,s);for(const p of c)await this.handleListElement(i,a,p,l,u,s.slice(0,-1),u-1);c.length===0&&await this.handleListElement(i,a,null,l,u,s.slice(0,-1),u-1)}else i.shiftStack(u,1),await i.newOnValueJob(s.slice(0,-1),l,u-1,!1),i.contextTree.removeContext(s.slice(0,-1))}}async handleListElement(i,a,o,s,l,u,f){let d=i.listPointerStack[l];if(s!==null&&(await a.unaliasKeywords(s,u,l))["@value"]!==null){if(!d||!d.value){const c=a.dataFactory.blankNode();d={value:c,listRootDepth:f,listId:c}}else{const c=a.dataFactory.blankNode();i.emitQuad(l,a.dataFactory.quad(d.value,a.rdfRest,c,a.getDefaultGraph())),d.value=c}o&&i.emitQuad(l,a.dataFactory.quad(d.value,a.rdfFirst,o,a.getDefaultGraph()))}else d||(d={listRootDepth:f,listId:a.rdfNil});i.listPointerStack[l]=d,i.rdfstar&&i.annotationsBuffer[l]&&i.emitError(new t.ErrorCoded("Found an illegal annotation inside a list",t.ERROR_CODES.INVALID_ANNOTATION))}};return Xc.EntryHandlerArrayValue=r,Xc}var od={},oL;function _J(){if(oL)return od;oL=1,Object.defineProperty(od,"__esModule",{value:!0}),od.EntryHandlerInvalidFallback=void 0;let e=class{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(r,n,i,a,o){return!1}async test(r,n,i,a,o){return!0}async handle(r,n,i,a,o,s){r.emittedStack[s]=!1}};return od.EntryHandlerInvalidFallback=e,od}var sd={},ud={},sL;function Yo(){if(sL)return ud;sL=1,Object.defineProperty(ud,"__esModule",{value:!0}),ud.EntryHandlerKeyword=void 0;let e=class{constructor(r){this.keyword=r}isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(r,n,i,a,o){return!1}async test(r,n,i,a,o){return i===this.keyword}};return ud.EntryHandlerKeyword=e,ud}var uL;function bJ(){if(uL)return sd;uL=1,Object.defineProperty(sd,"__esModule",{value:!0}),sd.EntryHandlerKeywordContext=void 0;const e=Zn(),t=Yo();let r=class extends t.EntryHandlerKeyword{constructor(){super("@context")}isStackProcessor(){return!1}async handle(i,a,o,s,l,u){i.streamingProfile&&(i.processingStack[u]||i.processingType[u]||i.idStack[u]!==void 0)&&i.emitError(new e.ErrorCoded("Found an out-of-order context, while streaming is enabled.(disable `streamingProfile`)",e.ERROR_CODES.INVALID_STREAMING_KEY_ORDER));const f=i.getContext(s),d=i.parseContext(l,(await f).getContextRaw());i.contextTree.setContext(s.slice(0,-1),d),i.emitContext(l),await i.validateContext(await d)}};return sd.EntryHandlerKeywordContext=r,sd}var ld={},lL;function vJ(){if(lL)return ld;lL=1,Object.defineProperty(ld,"__esModule",{value:!0}),ld.EntryHandlerKeywordGraph=void 0;const e=Yo();let t=class extends e.EntryHandlerKeyword{constructor(){super("@graph")}async handle(n,i,a,o,s,l){n.graphStack[l+1]=!0}};return ld.EntryHandlerKeywordGraph=t,ld}var fd={},fL;function wJ(){if(fL)return fd;fL=1,Object.defineProperty(fd,"__esModule",{value:!0}),fd.EntryHandlerKeywordId=void 0;const e=Zn(),t=Yo();let r=class extends t.EntryHandlerKeyword{constructor(){super("@id")}isStackProcessor(){return!1}async handle(i,a,o,s,l,u){if(typeof l!="string"){if(i.rdfstar&&typeof l=="object"){const d=Object.keys(l);d.length===1&&d[0]==="@id"&&i.emitError(new e.ErrorCoded(`Invalid embedded node without property with @id ${l["@id"]}`,e.ERROR_CODES.INVALID_EMBEDDED_NODE))}else i.emitError(new e.ErrorCoded(`Found illegal @id '${l}'`,e.ERROR_CODES.INVALID_ID_VALUE));return}const f=await a.getPropertiesDepth(s,u);if(i.idStack[f]!==void 0&&(i.idStack[f][0].listHead?i.emitError(new e.ErrorCoded(`Found illegal neighbouring entries next to @list for key: '${s[u-1]}'`,e.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT)):i.emitError(new e.ErrorCoded(`Found duplicate @ids '${i.idStack[f][0].value}' and '${l}'`,e.ERROR_CODES.COLLIDING_KEYWORDS))),i.rdfstar&&i.annotationsBuffer[u])for(const d of i.annotationsBuffer[u])d.depth===u&&i.emitError(new e.ErrorCoded(`Found an illegal @id inside an annotation: ${l}`,e.ERROR_CODES.INVALID_ANNOTATION));i.idStack[f]=a.nullableTermToArray(await a.resourceToTerm(await i.getContext(s),l))}};return fd.EntryHandlerKeywordId=r,fd}var cd={},cL;function EJ(){if(cL)return cd;cL=1,Object.defineProperty(cd,"__esModule",{value:!0}),cd.EntryHandlerKeywordIncluded=void 0;const e=Zn(),t=Yo();let r=class extends t.EntryHandlerKeyword{constructor(){super("@included")}async handle(i,a,o,s,l,u){typeof l!="object"&&i.emitError(new e.ErrorCoded(`Found illegal @included '${l}'`,e.ERROR_CODES.INVALID_INCLUDED_VALUE));const f=await a.unaliasKeywords(l,s,u,await i.getContext(s));"@value"in f&&i.emitError(new e.ErrorCoded(`Found an illegal @included @value node '${JSON.stringify(l)}'`,e.ERROR_CODES.INVALID_INCLUDED_VALUE)),"@list"in f&&i.emitError(new e.ErrorCoded(`Found an illegal @included @list node '${JSON.stringify(l)}'`,e.ERROR_CODES.INVALID_INCLUDED_VALUE)),i.emittedStack[u]=!1}};return cd.EntryHandlerKeywordIncluded=r,cd}var dd={},dL;function SJ(){if(dL)return dd;dL=1,Object.defineProperty(dd,"__esModule",{value:!0}),dd.EntryHandlerKeywordNest=void 0;const e=Zn(),t=Yo();let r=class extends t.EntryHandlerKeyword{constructor(){super("@nest")}async handle(i,a,o,s,l,u){typeof l!="object"&&i.emitError(new e.ErrorCoded(`Found invalid @nest entry for '${o}': '${l}'`,e.ERROR_CODES.INVALID_NEST_VALUE)),"@value"in await a.unaliasKeywords(l,s,u,await i.getContext(s))&&i.emitError(new e.ErrorCoded(`Found an invalid @value node for '${o}'`,e.ERROR_CODES.INVALID_NEST_VALUE)),i.emittedStack[u]=!1}};return dd.EntryHandlerKeywordNest=r,dd}var hd={},hL;function xJ(){if(hL)return hd;hL=1,Object.defineProperty(hd,"__esModule",{value:!0}),hd.EntryHandlerKeywordType=void 0;const e=Zn(),t=Xs(),r=Km(),n=Yo();let i=class extends n.EntryHandlerKeyword{constructor(){super("@type")}isStackProcessor(){return!1}async handle(o,s,l,u,f,d){const c=u[d],p=await o.getContext(u),b=s.rdfType,v=await s.unaliasKeywordParent(u,d),_=t.Util.isPropertyReverse(p,c,v),y=t.Util.isPropertyInEmbeddedNode(v);s.validateReverseInEmbeddedNode(l,_,y);const m=t.Util.isPropertyInAnnotationObject(v),g=Array.isArray(f)?f:[f];for(const I of g){typeof I!="string"&&o.emitError(new e.ErrorCoded(`Found illegal @type '${I}'`,e.ERROR_CODES.INVALID_TYPE_VALUE));const D=s.createVocabOrBaseTerm(p,I);D&&await r.EntryHandlerPredicate.handlePredicateObject(o,s,u,d,b,D,_,y,m)}let E=Promise.resolve(p),T=!1;for(const I of g.sort()){const D=t.Util.getContextValue(p,"@context",I,null);D&&(T=!0,E=E.then(B=>o.parseContext(D,B.getContextRaw())))}o.streamingProfile&&(T||!o.streamingProfileAllowOutOfOrderPlainType)&&(o.processingStack[d]||o.idStack[d])&&o.emitError(new e.ErrorCoded("Found an out-of-order type-scoped context, while streaming is enabled.(disable `streamingProfile`)",e.ERROR_CODES.INVALID_STREAMING_KEY_ORDER)),T&&(E=E.then(I=>I.getContextRaw()["@propagate"]!==!0?new e.JsonLdContextNormalized(Object.assign(Object.assign({},I.getContextRaw()),{"@propagate":!1,"@__propagateFallback":p.getContextRaw()})):I),o.contextTree.setContext(u.slice(0,u.length-1),E)),o.processingType[d]=!0}};return hd.EntryHandlerKeywordType=i,hd}var pd={},pL;function TJ(){if(pL)return pd;pL=1,Object.defineProperty(pd,"__esModule",{value:!0}),pd.EntryHandlerKeywordUnknownFallback=void 0;const e=Zn();let t=class C8{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(n,i,a,o,s){const l=await i.unaliasKeyword(a[o],a,o);return e.Util.isPotentialKeyword(l)?!(!s&&l==="@list"):!1}async test(n,i,a,o,s){return e.Util.isPotentialKeyword(a)}async handle(n,i,a,o,s,l){const u=C8.VALID_KEYWORDS_TYPES[a];u!==void 0?u&&typeof s!==u.type&&n.emitError(new e.ErrorCoded(`Invalid value type for '${a}' with value '${s}'`,u.errorCode)):n.strictValues&&n.emitError(new Error(`Unknown keyword '${a}' with value '${s}'`)),n.emittedStack[l]=!1}};return t.VALID_KEYWORDS_TYPES={"@index":{type:"string",errorCode:e.ERROR_CODES.INVALID_INDEX_VALUE},"@list":null,"@reverse":{type:"object",errorCode:e.ERROR_CODES.INVALID_REVERSE_VALUE},"@set":null,"@value":null},pd.EntryHandlerKeywordUnknownFallback=t,pd}var md={},mL;function RJ(){if(mL)return md;mL=1,Object.defineProperty(md,"__esModule",{value:!0}),md.EntryHandlerKeywordValue=void 0;const e=Yo();let t=class extends e.EntryHandlerKeyword{constructor(){super("@value")}async validate(n,i,a,o,s){const l=a[o];return l&&!n.literalStack[o]&&await this.test(n,i,l,a,o)&&(n.literalStack[o]=!0),super.validate(n,i,a,o,s)}async test(n,i,a,o,s){return await i.unaliasKeyword(o[s],o.slice(0,o.length-1),s-1,!0)==="@value"}async handle(n,i,a,o,s,l){n.literalStack[l]=!0,delete n.unidentifiedValuesBuffer[l],delete n.unidentifiedGraphsBuffer[l],n.emittedStack[l]=!1}};return md.EntryHandlerKeywordValue=t,md}var yd={},gd={},yL;function AJ(){if(yL)return gd;yL=1,Object.defineProperty(gd,"__esModule",{value:!0}),gd.ContextTree=void 0;let e=class L8{constructor(){this.subTrees={}}getContext(r){if(r.length>0){const[n,...i]=r,a=this.subTrees[n];if(a){const o=a.getContext(i);if(o)return o.then(({context:s,depth:l})=>({context:s,depth:l+1}))}}return this.context?this.context.then(n=>({context:n,depth:0})):null}setContext(r,n){if(r.length===0)this.context=n;else{const[i,...a]=r;let o=this.subTrees[i];o||(o=this.subTrees[i]=new L8),o.setContext(a,n)}}removeContext(r){this.setContext(r,null)}};return gd.ContextTree=e,gd}var gL;function IJ(){if(gL)return yd;gL=1,Object.defineProperty(yd,"__esModule",{value:!0}),yd.ParsingContext=void 0;const e=Zn(),t=lp(),r=AJ(),n=k8();let i=class M8{constructor(o){this.contextParser=new e.ContextParser({documentLoader:o.documentLoader,skipValidation:o.skipContextValidation}),this.streamingProfile=!!o.streamingProfile,this.baseIRI=o.baseIRI,this.produceGeneralizedRdf=!!o.produceGeneralizedRdf,this.allowSubjectList=!!o.allowSubjectList,this.processingMode=o.processingMode||n.JsonLdParser.DEFAULT_PROCESSING_MODE,this.strictValues=!!o.strictValues,this.validateValueIndexes=!!o.validateValueIndexes,this.defaultGraph=o.defaultGraph,this.rdfDirection=o.rdfDirection,this.normalizeLanguageTags=o.normalizeLanguageTags,this.streamingProfileAllowOutOfOrderPlainType=o.streamingProfileAllowOutOfOrderPlainType,this.rdfstar=o.rdfstar!==!1,this.rdfstarReverseInEmbedded=o.rdfstarReverseInEmbedded,this.topLevelProperties=!1,this.activeProcessingMode=parseFloat(this.processingMode),this.processingStack=[],this.processingType=[],this.emittedStack=[],this.idStack=[],this.graphStack=[],this.graphContainerTermStack=[],this.listPointerStack=[],this.contextTree=new r.ContextTree,this.literalStack=[],this.validationStack=[],this.unaliasedKeywordCacheStack=[],this.jsonLiteralStack=[],this.unidentifiedValuesBuffer=[],this.unidentifiedGraphsBuffer=[],this.annotationsBuffer=[],this.pendingContainerFlushBuffers=[],this.parser=o.parser,o.context?(this.rootContext=this.parseContext(o.context),this.rootContext.then(s=>this.validateContext(s))):this.rootContext=Promise.resolve(new e.JsonLdContextNormalized(this.baseIRI?{"@base":this.baseIRI,"@__baseDocument":!0}:{}))}async parseContext(o,s,l){return this.contextParser.parse(o,{baseIRI:this.baseIRI,ignoreProtection:l,normalizeLanguageTags:this.normalizeLanguageTags,parentContext:s,processingMode:this.activeProcessingMode})}validateContext(o){const s=o.getContextRaw()["@version"];if(s){if(this.activeProcessingMode&&s>this.activeProcessingMode)throw new t.ErrorCoded(`Unsupported JSON-LD version '${s}' under active processing mode ${this.activeProcessingMode}.`,t.ERROR_CODES.PROCESSING_MODE_CONFLICT);if(this.activeProcessingMode&&s<this.activeProcessingMode)throw new t.ErrorCoded(`Invalid JSON-LD version ${s} under active processing mode ${this.activeProcessingMode}.`,t.ERROR_CODES.INVALID_VERSION_VALUE);this.activeProcessingMode=s}}async getContext(o,s=1){const l=o;for(;typeof o[o.length-1]=="number";)o=o.slice(0,o.length-1);s&&(o=o.slice(0,-s));const u=await this.getContextPropagationAware(o);let d=u.context.getContextRaw();for(let c=u.depth;c<l.length-s;c++){const p=l[c],b=d[p];if(b&&typeof b=="object"&&"@context"in b){const v=(await this.parseContext(b,d,!0)).getContextRaw(),_=!(p in v)||v[p]["@context"]["@propagate"];(_!==!1||c===l.length-1-s)&&(d=Object.assign({},v),delete d["@propagate"],d[p]=Object.assign({},d[p]),"@id"in b&&(d[p]["@id"]=b["@id"]),delete d[p]["@context"],_!==!1&&this.contextTree.setContext(l.slice(0,c+s),Promise.resolve(new e.JsonLdContextNormalized(d))))}}return new e.JsonLdContextNormalized(d)}async getContextPropagationAware(o){const s=o.length;let l=null,u;do{u=!1,l&&"@__propagateFallback"in l.context.getContextRaw()?l.context=new e.JsonLdContextNormalized(l.context.getContextRaw()["@__propagateFallback"]):(l&&(o=o.slice(0,l.depth-1)),l=await this.contextTree.getContext(o)||{context:await this.rootContext,depth:0});const f=o[o.length-1];if(f in l.context.getContextRaw()){const d=l.context.getContextRaw()[f];d&&typeof d=="object"&&"@context"in d&&(u=!0)}}while(l.depth>0&&l.context.getContextRaw()["@propagate"]===!1&&l.depth!==s&&!u);return l.depth===0&&l.context.getContextRaw()["@propagate"]===!1&&l.depth!==s&&(l.context=new e.JsonLdContextNormalized({})),l}async newOnValueJob(o,s,l,u){await this.parser.newOnValueJob(o,s,l,u)}async handlePendingContainerFlushBuffers(){if(this.pendingContainerFlushBuffers.length>0){for(const o of this.pendingContainerFlushBuffers)await this.parser.flushBuffer(o.depth,o.keys),this.parser.flushStacks(o.depth);return this.pendingContainerFlushBuffers.splice(0,this.pendingContainerFlushBuffers.length),!0}else return!1}emitQuad(o,s){o===1&&(this.topLevelProperties=!0),this.parser.push(s)}emitError(o){this.parser.emit("error",o)}emitContext(o){this.parser.emit("context",o)}getUnidentifiedValueBufferSafe(o){let s=this.unidentifiedValuesBuffer[o];return s||(s=[],this.unidentifiedValuesBuffer[o]=s),s}getUnidentifiedGraphBufferSafe(o){let s=this.unidentifiedGraphsBuffer[o];return s||(s=[],this.unidentifiedGraphsBuffer[o]=s),s}getAnnotationsBufferSafe(o){let s=this.annotationsBuffer[o];return s||(s=[],this.annotationsBuffer[o]=s),s}getExpandOptions(){return M8.EXPAND_OPTIONS[this.activeProcessingMode]}shiftStack(o,s){const l=this.idStack[o+s];if(l&&(this.idStack[o]=l,this.emittedStack[o]=!0,delete this.idStack[o+s]),this.pendingContainerFlushBuffers.length)for(const u of this.pendingContainerFlushBuffers)u.depth>=o+s&&(u.depth-=s,u.keys.splice(o,s));this.unidentifiedValuesBuffer[o+s]&&(this.unidentifiedValuesBuffer[o]=this.unidentifiedValuesBuffer[o+s],delete this.unidentifiedValuesBuffer[o+s]),this.annotationsBuffer[o+s-1]&&(this.annotationsBuffer[o-1]||(this.annotationsBuffer[o-1]=[]),this.annotationsBuffer[o-1]=[...this.annotationsBuffer[o-1],...this.annotationsBuffer[o+s-1]],delete this.annotationsBuffer[o+s-1])}};return i.EXPAND_OPTIONS={1:{allowPrefixForcing:!1,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!1},1.1:{allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}},yd.ParsingContext=i,yd}var _d={},_L;function OJ(){if(_L)return _d;_L=1,Object.defineProperty(_d,"__esModule",{value:!0}),_d.EntryHandlerKeywordAnnotation=void 0;const e=Yo(),t=Zn();let r=class extends e.EntryHandlerKeyword{constructor(){super("@annotation")}async handle(i,a,o,s,l,u){(typeof l=="string"||typeof l=="object"&&l["@value"])&&i.emitError(new t.ErrorCoded(`Found illegal annotation value: ${JSON.stringify(l)}`,t.ERROR_CODES.INVALID_ANNOTATION))}};return _d.EntryHandlerKeywordAnnotation=r,_d}var bL;function k8(){if(bL)return Gc;bL=1,Object.defineProperty(Gc,"__esModule",{value:!0}),Gc.JsonLdParser=void 0;const e=uJ(),t=Zn(),r=Zi(),n=gJ(),i=N8(),a=_J(),o=Km(),s=bJ(),l=vJ(),u=wJ(),f=EJ(),d=SJ(),c=xJ(),p=TJ(),b=RJ(),v=IJ(),_=Xs(),y=yx(),m=OJ();let g=class _u extends r.Transform{constructor(T){super({readableObjectMode:!0}),T=T||{},this.options=T,this.parsingContext=new v.ParsingContext(Object.assign({parser:this},T)),this.util=new _.Util({dataFactory:T.dataFactory,parsingContext:this.parsingContext}),this.jsonParser=new e,this.contextJobs=[],this.typeJobs=[],this.contextAwaitingJobs=[],this.lastDepth=0,this.lastKeys=[],this.lastOnValueJob=Promise.resolve(),this.attachJsonParserListeners(),this.on("end",()=>{typeof this.jsonParser.mode<"u"&&this.emit("error",new Error("Unclosed document"))})}static fromHttpResponse(T,I,D,B){let N,M=["application/activity+json"];if(B&&B.wellKnownMediaTypes&&(M=B.wellKnownMediaTypes),I!=="application/ld+json"&&!M.includes(I)){if(I!=="application/json"&&!I.endsWith("+json"))throw new t.ErrorCoded(`Unsupported JSON-LD media type ${I}`,t.ERROR_CODES.LOADING_DOCUMENT_FAILED);if(D&&D.has("Link")&&D.forEach((O,q)=>{if(q==="link"){const Q=(0,y.parse)(O);for(const ie of Q.get("rel","http://www.w3.org/ns/json-ld#context")){if(N)throw new t.ErrorCoded("Multiple JSON-LD context link headers were found on "+T,t.ERROR_CODES.MULTIPLE_CONTEXT_LINK_HEADERS);N=ie.uri}}}),!N&&!(B!=null&&B.ignoreMissingContextLinkHeader))throw new t.ErrorCoded(`Missing context link header for media type ${I} on ${T}`,t.ERROR_CODES.LOADING_DOCUMENT_FAILED)}let j;if(D&&D.has("Content-Type")){const O=D.get("Content-Type"),q=/; *profile=([^"]*)/.exec(O);q&&q[1]==="http://www.w3.org/ns/json-ld#streaming"&&(j=!0)}return new _u(Object.assign({baseIRI:T,context:N,streamingProfile:j},B||{}))}import(T){if("pipe"in T){T.on("error",D=>I.emit("error",D));const I=T.pipe(new _u(this.options));return I}else{const I=new r.PassThrough({readableObjectMode:!0});T.on("error",B=>D.emit("error",B)),T.on("data",B=>I.push(B)),T.on("end",()=>I.push(null));const D=I.pipe(new _u(this.options));return D}}_transform(T,I,D){this.jsonParser.write(T),this.lastOnValueJob.then(()=>D(),B=>D(B))}async newOnValueJob(T,I,D,B){let N=!0;if(B&&D<this.lastDepth){const Q=this.parsingContext.listPointerStack[this.lastDepth];Q&&(Q.value&&this.push(this.util.dataFactory.quad(Q.value,this.util.rdfRest,this.util.rdfNil,this.util.getDefaultGraph())),Q.listId.listHead=!0,this.parsingContext.idStack[Q.listRootDepth+1]=[Q.listId],this.parsingContext.listPointerStack.splice(this.lastDepth,1)),await i.EntryHandlerContainer.isBufferableContainerHandler(this.parsingContext,this.lastKeys,this.lastDepth)?(this.parsingContext.pendingContainerFlushBuffers.push({depth:this.lastDepth,keys:this.lastKeys.slice(0,this.lastKeys.length)}),N=!1):await this.flushBuffer(this.lastDepth,this.lastKeys)}const M=await this.util.unaliasKeyword(T[D],T,D),j=await this.util.unaliasKeywordParent(T,D);this.parsingContext.emittedStack[D]=!0;let O=!0;t.Util.isValidKeyword(M)&&j==="@reverse"&&M!=="@context"&&this.emit("error",new t.ErrorCoded(`Found the @id '${I}' inside an @reverse property`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY_MAP));let q=!1;this.parsingContext.validationStack.length>1&&(q=this.parsingContext.validationStack[this.parsingContext.validationStack.length-1].property);for(let Q=Math.max(1,this.parsingContext.validationStack.length-1);Q<T.length-1;Q++){const ie=this.parsingContext.validationStack[Q]||(this.parsingContext.validationStack[Q]=await this.validateKey(T.slice(0,Q+1),Q,q));if(ie.valid)!q&&ie.property&&(q=!0);else{this.parsingContext.emittedStack[D]=!1,O=!1;break}}if(await this.util.isLiteral(T,D)&&(O=!1),O)for(const Q of _u.ENTRY_HANDLERS){const ie=await Q.test(this.parsingContext,this.util,M,T,D);if(ie){await Q.handle(this.parsingContext,this.util,M,T,I,D,ie),Q.isStackProcessor()&&(this.parsingContext.processingStack[D]=!0);break}}D===0&&Array.isArray(I)&&await this.util.validateValueIndexes(I),N&&D<this.lastDepth&&this.flushStacks(this.lastDepth),this.lastDepth=D,this.lastKeys=T,this.parsingContext.unaliasedKeywordCacheStack.splice(D-1)}flushStacks(T){this.parsingContext.processingStack.splice(T,1),this.parsingContext.processingType.splice(T,1),this.parsingContext.emittedStack.splice(T,1),this.parsingContext.idStack.splice(T,1),this.parsingContext.graphStack.splice(T+1,1),this.parsingContext.graphContainerTermStack.splice(T,1),this.parsingContext.jsonLiteralStack.splice(T,1),this.parsingContext.validationStack.splice(T-1,2),this.parsingContext.literalStack.splice(T,this.parsingContext.literalStack.length-T),this.parsingContext.annotationsBuffer.splice(T,1)}async flushBuffer(T,I){let D=this.parsingContext.idStack[T];!!D||(D=this.parsingContext.idStack[T]=[this.util.dataFactory.blankNode()]);const N=this.parsingContext.unidentifiedValuesBuffer[T];if(N){for(const O of D){const q=await this.util.getDepthOffsetGraph(T,I),Q=this.parsingContext.graphStack[T]||q>=0?this.parsingContext.idStack[T-q-1]:[await this.util.getGraphContainerValue(I,T)];if(Q)for(const ie of Q){this.parsingContext.emittedStack[T]=!0;for(const X of N)this.util.emitQuadChecked(T,O,X.predicate,X.object,ie,X.reverse,X.isEmbedded)}else{const ie=this.parsingContext.getUnidentifiedGraphBufferSafe(T-await this.util.getDepthOffsetGraph(T,I)-1);for(const X of N)X.reverse?ie.push({object:O,predicate:X.predicate,subject:X.object,isEmbedded:X.isEmbedded}):ie.push({object:X.object,predicate:X.predicate,subject:O,isEmbedded:X.isEmbedded})}}this.parsingContext.unidentifiedValuesBuffer.splice(T,1),this.parsingContext.literalStack.splice(T,1),this.parsingContext.jsonLiteralStack.splice(T,1)}const M=this.parsingContext.unidentifiedGraphsBuffer[T];if(M){for(const O of D){const q=T===1&&O.termType==="BlankNode"&&!this.parsingContext.topLevelProperties?this.util.getDefaultGraph():O;this.parsingContext.emittedStack[T]=!0;for(const Q of M)this.parsingContext.emitQuad(T,this.util.dataFactory.quad(Q.subject,Q.predicate,Q.object,q))}this.parsingContext.unidentifiedGraphsBuffer.splice(T,1)}const j=this.parsingContext.annotationsBuffer[T];if(j){j.length>0&&T===1&&this.parsingContext.emitError(new t.ErrorCoded("Annotations can not be made on top-level nodes",t.ERROR_CODES.INVALID_ANNOTATION));const O=this.parsingContext.getAnnotationsBufferSafe(T-1);for(const q of j)O.push(q);delete this.parsingContext.annotationsBuffer[T]}}async validateKey(T,I,D){for(const B of _u.ENTRY_HANDLERS)if(await B.validate(this.parsingContext,this.util,T,I,D))return{valid:!0,property:D||B.isPropertyHandler()};return{valid:!1,property:!1}}attachJsonParserListeners(){this.jsonParser.onValue=T=>{const I=this.jsonParser.stack.length,D=new Array(I+1).fill(0).map((B,N)=>N===I?this.jsonParser.key:this.jsonParser.stack[N].key);if(!this.isParsingContextInner(I)){const B=()=>this.newOnValueJob(D,T,I,!0);if(!this.parsingContext.streamingProfile&&!this.parsingContext.contextTree.getContext(D.slice(0,-1)))if(D[I]==="@context"){let N=this.contextJobs[I];N||(N=this.contextJobs[I]=[]),N.push(B)}else this.contextAwaitingJobs.push({job:B,keys:D,depth:I});else this.lastOnValueJob=this.lastOnValueJob.then(B);!this.parsingContext.streamingProfile&&I===0&&(this.lastOnValueJob=this.lastOnValueJob.then(()=>this.executeBufferedJobs()))}},this.jsonParser.onError=T=>{this.emit("error",T)}}isParsingContextInner(T){for(let I=T;I>0;I--)if(this.jsonParser.stack[I-1].key==="@context")return!0;return!1}async executeBufferedJobs(){for(const I of this.contextJobs)if(I)for(const D of I)await D();this.parsingContext.unaliasedKeywordCacheStack.splice(0);const T=[];for(const I of this.contextAwaitingJobs)await this.util.unaliasKeyword(I.keys[I.depth],I.keys,I.depth,!0)==="@type"||typeof I.keys[I.depth]=="number"&&await this.util.unaliasKeyword(I.keys[I.depth-1],I.keys,I.depth-1,!0)==="@type"?this.typeJobs.push({job:I.job,keys:I.keys.slice(0,I.keys.length-1)}):T.push(I);for(const I of T){if(this.typeJobs.length>0){const D=[],B=[];for(let j=0;j<this.typeJobs.length;j++){const O=this.typeJobs[j];_.Util.isPrefixArray(O.keys,I.keys)&&(D.push(O),B.push(j))}const N=D.sort((j,O)=>j.keys.length-O.keys.length);for(const j of N)await j.job();const M=B.sort().reverse();for(const j of M)this.typeJobs.splice(j,1)}await I.job()}}};return g.DEFAULT_PROCESSING_MODE="1.1",g.ENTRY_HANDLERS=[new n.EntryHandlerArrayValue,new s.EntryHandlerKeywordContext,new u.EntryHandlerKeywordId,new f.EntryHandlerKeywordIncluded,new l.EntryHandlerKeywordGraph,new d.EntryHandlerKeywordNest,new c.EntryHandlerKeywordType,new b.EntryHandlerKeywordValue,new m.EntryHandlerKeywordAnnotation,new i.EntryHandlerContainer,new p.EntryHandlerKeywordUnknownFallback,new o.EntryHandlerPredicate,new a.EntryHandlerInvalidFallback],Gc.JsonLdParser=g,Gc}var vL;function PJ(){return vL||(vL=1,function(e){var t=Wc.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=Wc.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(k8(),e)}(Wc)),Wc}var bd={},vd={},wd={},gw={},wL;function F8(){return wL||(wL=1,function(){(function(e){(function(t){var r=typeof globalThis<"u"&&globalThis||typeof e<"u"&&e||typeof xt<"u"&&xt||{},n={searchParams:"URLSearchParams"in r,iterable:"Symbol"in r&&"iterator"in Symbol,blob:"FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in r,arrayBuffer:"ArrayBuffer"in r};function i(M){return M&&DataView.prototype.isPrototypeOf(M)}if(n.arrayBuffer)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(M){return M&&a.indexOf(Object.prototype.toString.call(M))>-1};function s(M){if(typeof M!="string"&&(M=String(M)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(M)||M==="")throw new TypeError('Invalid character in header field name: "'+M+'"');return M.toLowerCase()}function l(M){return typeof M!="string"&&(M=String(M)),M}function u(M){var j={next:function(){var O=M.shift();return{done:O===void 0,value:O}}};return n.iterable&&(j[Symbol.iterator]=function(){return j}),j}function f(M){this.map={},M instanceof f?M.forEach(function(j,O){this.append(O,j)},this):Array.isArray(M)?M.forEach(function(j){if(j.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+j.length);this.append(j[0],j[1])},this):M&&Object.getOwnPropertyNames(M).forEach(function(j){this.append(j,M[j])},this)}f.prototype.append=function(M,j){M=s(M),j=l(j);var O=this.map[M];this.map[M]=O?O+", "+j:j},f.prototype.delete=function(M){delete this.map[s(M)]},f.prototype.get=function(M){return M=s(M),this.has(M)?this.map[M]:null},f.prototype.has=function(M){return this.map.hasOwnProperty(s(M))},f.prototype.set=function(M,j){this.map[s(M)]=l(j)},f.prototype.forEach=function(M,j){for(var O in this.map)this.map.hasOwnProperty(O)&&M.call(j,this.map[O],O,this)},f.prototype.keys=function(){var M=[];return this.forEach(function(j,O){M.push(O)}),u(M)},f.prototype.values=function(){var M=[];return this.forEach(function(j){M.push(j)}),u(M)},f.prototype.entries=function(){var M=[];return this.forEach(function(j,O){M.push([O,j])}),u(M)},n.iterable&&(f.prototype[Symbol.iterator]=f.prototype.entries);function d(M){if(!M._noBody){if(M.bodyUsed)return Promise.reject(new TypeError("Already read"));M.bodyUsed=!0}}function c(M){return new Promise(function(j,O){M.onload=function(){j(M.result)},M.onerror=function(){O(M.error)}})}function p(M){var j=new FileReader,O=c(j);return j.readAsArrayBuffer(M),O}function b(M){var j=new FileReader,O=c(j),q=/charset=([A-Za-z0-9_-]+)/.exec(M.type),Q=q?q[1]:"utf-8";return j.readAsText(M,Q),O}function v(M){for(var j=new Uint8Array(M),O=new Array(j.length),q=0;q<j.length;q++)O[q]=String.fromCharCode(j[q]);return O.join("")}function _(M){if(M.slice)return M.slice(0);var j=new Uint8Array(M.byteLength);return j.set(new Uint8Array(M)),j.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(M){this.bodyUsed=this.bodyUsed,this._bodyInit=M,M?typeof M=="string"?this._bodyText=M:n.blob&&Blob.prototype.isPrototypeOf(M)?this._bodyBlob=M:n.formData&&FormData.prototype.isPrototypeOf(M)?this._bodyFormData=M:n.searchParams&&URLSearchParams.prototype.isPrototypeOf(M)?this._bodyText=M.toString():n.arrayBuffer&&n.blob&&i(M)?(this._bodyArrayBuffer=_(M.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):n.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(M)||o(M))?this._bodyArrayBuffer=_(M):this._bodyText=M=Object.prototype.toString.call(M):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof M=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n.searchParams&&URLSearchParams.prototype.isPrototypeOf(M)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n.blob&&(this.blob=function(){var M=d(this);if(M)return M;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var M=d(this);return M||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(n.blob)return this.blob().then(p);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var M=d(this);if(M)return M;if(this._bodyBlob)return b(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(v(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},n.formData&&(this.formData=function(){return this.text().then(T)}),this.json=function(){return this.text().then(JSON.parse)},this}var m=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function g(M){var j=M.toUpperCase();return m.indexOf(j)>-1?j:M}function E(M,j){if(!(this instanceof E))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');j=j||{};var O=j.body;if(M instanceof E){if(M.bodyUsed)throw new TypeError("Already read");this.url=M.url,this.credentials=M.credentials,j.headers||(this.headers=new f(M.headers)),this.method=M.method,this.mode=M.mode,this.signal=M.signal,!O&&M._bodyInit!=null&&(O=M._bodyInit,M.bodyUsed=!0)}else this.url=String(M);if(this.credentials=j.credentials||this.credentials||"same-origin",(j.headers||!this.headers)&&(this.headers=new f(j.headers)),this.method=g(j.method||this.method||"GET"),this.mode=j.mode||this.mode||null,this.signal=j.signal||this.signal||function(){if("AbortController"in r){var ie=new AbortController;return ie.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&O)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(O),(this.method==="GET"||this.method==="HEAD")&&(j.cache==="no-store"||j.cache==="no-cache")){var q=/([?&])_=[^&]*/;if(q.test(this.url))this.url=this.url.replace(q,"$1_="+new Date().getTime());else{var Q=/\?/;this.url+=(Q.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}E.prototype.clone=function(){return new E(this,{body:this._bodyInit})};function T(M){var j=new FormData;return M.trim().split("&").forEach(function(O){if(O){var q=O.split("="),Q=q.shift().replace(/\+/g," "),ie=q.join("=").replace(/\+/g," ");j.append(decodeURIComponent(Q),decodeURIComponent(ie))}}),j}function I(M){var j=new f,O=M.replace(/\r?\n[\t ]+/g," ");return O.split("\r").map(function(q){return q.indexOf(`
`)===0?q.substr(1,q.length):q}).forEach(function(q){var Q=q.split(":"),ie=Q.shift().trim();if(ie){var X=Q.join(":").trim();try{j.append(ie,X)}catch(le){console.warn("Response "+le.message)}}}),j}y.call(E.prototype);function D(M,j){if(!(this instanceof D))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(j||(j={}),this.type="default",this.status=j.status===void 0?200:j.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=j.statusText===void 0?"":""+j.statusText,this.headers=new f(j.headers),this.url=j.url||"",this._initBody(M)}y.call(D.prototype),D.prototype.clone=function(){return new D(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},D.error=function(){var M=new D(null,{status:200,statusText:""});return M.ok=!1,M.status=0,M.type="error",M};var B=[301,302,303,307,308];D.redirect=function(M,j){if(B.indexOf(j)===-1)throw new RangeError("Invalid status code");return new D(null,{status:j,headers:{location:M}})},t.DOMException=r.DOMException;try{new t.DOMException}catch{t.DOMException=function(j,O){this.message=j,this.name=O;var q=Error(j);this.stack=q.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function N(M,j){return new Promise(function(O,q){var Q=new E(M,j);if(Q.signal&&Q.signal.aborted)return q(new t.DOMException("Aborted","AbortError"));var ie=new XMLHttpRequest;function X(){ie.abort()}ie.onload=function(){var ne={statusText:ie.statusText,headers:I(ie.getAllResponseHeaders()||"")};Q.url.indexOf("file://")===0&&(ie.status<200||ie.status>599)?ne.status=200:ne.status=ie.status,ne.url="responseURL"in ie?ie.responseURL:ne.headers.get("X-Request-URL");var V="response"in ie?ie.response:ie.responseText;setTimeout(function(){O(new D(V,ne))},0)},ie.onerror=function(){setTimeout(function(){q(new TypeError("Network request failed"))},0)},ie.ontimeout=function(){setTimeout(function(){q(new TypeError("Network request timed out"))},0)},ie.onabort=function(){setTimeout(function(){q(new t.DOMException("Aborted","AbortError"))},0)};function le(ne){try{return ne===""&&r.location.href?r.location.href:ne}catch{return ne}}if(ie.open(Q.method,le(Q.url),!0),Q.credentials==="include"?ie.withCredentials=!0:Q.credentials==="omit"&&(ie.withCredentials=!1),"responseType"in ie&&(n.blob?ie.responseType="blob":n.arrayBuffer&&(ie.responseType="arraybuffer")),j&&typeof j.headers=="object"&&!(j.headers instanceof f||r.Headers&&j.headers instanceof r.Headers)){var ae=[];Object.getOwnPropertyNames(j.headers).forEach(function(ne){ae.push(s(ne)),ie.setRequestHeader(ne,l(j.headers[ne]))}),Q.headers.forEach(function(ne,V){ae.indexOf(V)===-1&&ie.setRequestHeader(V,ne)})}else Q.headers.forEach(function(ne,V){ie.setRequestHeader(V,ne)});Q.signal&&(Q.signal.addEventListener("abort",X),ie.onreadystatechange=function(){ie.readyState===4&&Q.signal.removeEventListener("abort",X)}),ie.send(typeof Q._bodyInit>"u"?null:Q._bodyInit)})}return N.polyfill=!0,r.fetch||(r.fetch=N,r.Headers=f,r.Request=E,r.Response=D),t.Headers=f,t.Request=E,t.Response=D,t.fetch=N,Object.defineProperty(t,"__esModule",{value:!0}),t})({})})(typeof self<"u"?self:gw)}()),gw}var _w={},EL;function Zm(){return EL||(EL=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ERROR_CODES=e.ErrorCoded=void 0;class t extends Error{constructor(n,i){super(n),this.code=i}}e.ErrorCoded=t,function(r){r.COLLIDING_KEYWORDS="colliding keywords",r.CONFLICTING_INDEXES="conflicting indexes",r.CYCLIC_IRI_MAPPING="cyclic IRI mapping",r.INVALID_ID_VALUE="invalid @id value",r.INVALID_INDEX_VALUE="invalid @index value",r.INVALID_NEST_VALUE="invalid @nest value",r.INVALID_PREFIX_VALUE="invalid @prefix value",r.INVALID_PROPAGATE_VALUE="invalid @propagate value",r.INVALID_REVERSE_VALUE="invalid @reverse value",r.INVALID_IMPORT_VALUE="invalid @import value",r.INVALID_VERSION_VALUE="invalid @version value",r.INVALID_BASE_IRI="invalid base IRI",r.INVALID_CONTAINER_MAPPING="invalid container mapping",r.INVALID_CONTEXT_ENTRY="invalid context entry",r.INVALID_CONTEXT_NULLIFICATION="invalid context nullification",r.INVALID_DEFAULT_LANGUAGE="invalid default language",r.INVALID_INCLUDED_VALUE="invalid @included value",r.INVALID_IRI_MAPPING="invalid IRI mapping",r.INVALID_JSON_LITERAL="invalid JSON literal",r.INVALID_KEYWORD_ALIAS="invalid keyword alias",r.INVALID_LANGUAGE_MAP_VALUE="invalid language map value",r.INVALID_LANGUAGE_MAPPING="invalid language mapping",r.INVALID_LANGUAGE_TAGGED_STRING="invalid language-tagged string",r.INVALID_LANGUAGE_TAGGED_VALUE="invalid language-tagged value",r.INVALID_LOCAL_CONTEXT="invalid local context",r.INVALID_REMOTE_CONTEXT="invalid remote context",r.INVALID_REVERSE_PROPERTY="invalid reverse property",r.INVALID_REVERSE_PROPERTY_MAP="invalid reverse property map",r.INVALID_REVERSE_PROPERTY_VALUE="invalid reverse property value",r.INVALID_SCOPED_CONTEXT="invalid scoped context",r.INVALID_SCRIPT_ELEMENT="invalid script element",r.INVALID_SET_OR_LIST_OBJECT="invalid set or list object",r.INVALID_TERM_DEFINITION="invalid term definition",r.INVALID_TYPE_MAPPING="invalid type mapping",r.INVALID_TYPE_VALUE="invalid type value",r.INVALID_TYPED_VALUE="invalid typed value",r.INVALID_VALUE_OBJECT="invalid value object",r.INVALID_VALUE_OBJECT_VALUE="invalid value object value",r.INVALID_VOCAB_MAPPING="invalid vocab mapping",r.IRI_CONFUSED_WITH_PREFIX="IRI confused with prefix",r.KEYWORD_REDEFINITION="keyword redefinition",r.LOADING_DOCUMENT_FAILED="loading document failed",r.LOADING_REMOTE_CONTEXT_FAILED="loading remote context failed",r.MULTIPLE_CONTEXT_LINK_HEADERS="multiple context link headers",r.PROCESSING_MODE_CONFLICT="processing mode conflict",r.PROTECTED_TERM_REDEFINITION="protected term redefinition",r.CONTEXT_OVERFLOW="context overflow",r.INVALID_BASE_DIRECTION="invalid base direction",r.RECURSIVE_CONTEXT_INCLUSION="recursive context inclusion",r.INVALID_STREAMING_KEY_ORDER="invalid streaming key order",r.INVALID_EMBEDDED_NODE="invalid embedded node",r.INVALID_ANNOTATION="invalid annotation"}(e.ERROR_CODES||(e.ERROR_CODES={}))}(_w)),_w}var Ed={},SL;function j8(){if(SL)return Ed;SL=1,Object.defineProperty(Ed,"__esModule",{value:!0}),Ed.FetchDocumentLoader=void 0,F8();const e=Zm(),t=yx(),r=Oi();let n=class{constructor(a){this.fetcher=a}async load(a){const o=await(this.fetcher||fetch)(a,{headers:new Headers({accept:"application/ld+json"})});if(o.ok&&o.headers){let s=o.headers.get("Content-Type");if(s){const l=s.indexOf(";");l>0&&(s=s.substr(0,l))}if(s==="application/ld+json")return await o.json();if(o.headers.has("Link")){let l;if(o.headers.forEach((u,f)=>{if(f==="link"){const d=(0,t.parse)(u);for(const c of d.get("type","application/ld+json"))if(c.rel==="alternate"){if(l)throw new Error("Multiple JSON-LD alternate links were found on "+a);l=(0,r.resolve)(c.uri,a)}}}),l)return this.load(l)}throw new e.ErrorCoded(`Unsupported JSON-LD media type ${s}`,e.ERROR_CODES.LOADING_DOCUMENT_FAILED)}else throw new Error(o.statusText||`Status code: ${o.status}`)}};return Ed.FetchDocumentLoader=n,Ed}var bw={},Sd={},xL;function _x(){if(xL)return Sd;xL=1,Object.defineProperty(Sd,"__esModule",{value:!0}),Sd.Util=void 0;let e=class ja{static isCompactIri(r){return r.indexOf(":")>0&&!(r&&r[0]==="#")}static getPrefix(r,n){if(r&&r[0]==="#")return null;const i=r.indexOf(":");if(i>=0){if(r.length>i+1&&r.charAt(i+1)==="/"&&r.charAt(i+2)==="/")return null;const a=r.substr(0,i);if(a==="_")return null;if(n[a])return a}return null}static getContextValueId(r){if(r===null||typeof r=="string")return r;const n=r["@id"];return n||null}static isSimpleTermDefinitionPrefix(r,n){return!ja.isPotentialKeyword(r)&&(n.allowPrefixNonGenDelims||typeof r=="string"&&(r[0]==="_"||ja.isPrefixIriEndingWithGenDelim(r)))}static isPotentialKeyword(r){return typeof r=="string"&&ja.KEYWORD_REGEX.test(r)}static isPrefixIriEndingWithGenDelim(r){return ja.ENDS_WITH_GEN_DELIM.test(r)}static isPrefixValue(r){return r&&(typeof r=="string"||r&&typeof r=="object")}static isValidIri(r){return!!(r&&ja.IRI_REGEX.test(r))}static isValidIriWeak(r){return!!r&&r[0]!==":"&&ja.IRI_REGEX_WEAK.test(r)}static isValidKeyword(r){return ja.VALID_KEYWORDS[r]}static isTermProtected(r,n){const i=r[n];return typeof i!="string"&&i&&i["@protected"]}static hasProtectedTerms(r){for(const n of Object.keys(r))if(ja.isTermProtected(r,n))return!0;return!1}static isReservedInternalKeyword(r){return r.startsWith("@__")}static deepEqual(r,n){const i=Object.keys(r),a=Object.keys(n);return i.length!==a.length?!1:i.every(o=>{const s=r[o],l=n[o];return s===l||s!==null&&l!==null&&typeof s=="object"&&typeof l=="object"&&this.deepEqual(s,l)})}};return e.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`#]*(#[^#]*)?$/,e.IRI_REGEX_WEAK=/(?::[^:])|\//,e.KEYWORD_REGEX=/^@[a-z]+$/i,e.ENDS_WITH_GEN_DELIM=/[:/?#\[\]@]$/,e.REGEX_LANGUAGE_TAG=/^[a-zA-Z]+(-[a-zA-Z0-9]+)*$/,e.REGEX_DIRECTION_TAG=/^(ltr)|(rtl)$/,e.VALID_KEYWORDS={"@annotation":!0,"@base":!0,"@container":!0,"@context":!0,"@direction":!0,"@graph":!0,"@id":!0,"@import":!0,"@included":!0,"@index":!0,"@json":!0,"@language":!0,"@list":!0,"@nest":!0,"@none":!0,"@prefix":!0,"@propagate":!0,"@protected":!0,"@reverse":!0,"@set":!0,"@type":!0,"@value":!0,"@version":!0,"@vocab":!0},e.EXPAND_KEYS_BLACKLIST=["@base","@vocab","@language","@version","@direction"],e.ALIAS_DOMAIN_BLACKLIST=["@container","@graph","@id","@index","@list","@nest","@none","@prefix","@reverse","@set","@type","@value","@version"],e.ALIAS_RANGE_BLACKLIST=["@context","@preserve"],e.CONTAINERS=["@list","@set","@index","@language","@graph","@id","@type"],e.CONTAINERS_1_0=["@list","@set","@index"],Sd.Util=e,Sd}var TL;function B8(){return TL||(TL=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.defaultExpandOptions=e.JsonLdContextNormalized=void 0;const t=Oi(),r=Zm(),n=_x();class i{constructor(o){this.contextRaw=o}getContextRaw(){return this.contextRaw}expandTerm(o,s,l=e.defaultExpandOptions){const u=this.contextRaw[o];if(u===null||u&&u["@id"]===null)return null;let f=!0;if(u&&s){const _=n.Util.getContextValueId(u);if(_&&_!==o)if(typeof _!="string"||!n.Util.isValidIri(_)&&!n.Util.isValidKeyword(_))n.Util.isPotentialKeyword(_)||(f=!1);else return _}const d=n.Util.getPrefix(o,this.contextRaw),c=this.contextRaw["@vocab"],p=(!!c||c==="")&&c.indexOf(":")<0,b=this.contextRaw["@base"],v=n.Util.isPotentialKeyword(o);if(d){const _=this.contextRaw[d],y=n.Util.getContextValueId(_);if(y){if(typeof _=="string"||!l.allowPrefixForcing){if(!n.Util.isSimpleTermDefinitionPrefix(y,l))return o}else if(y[0]!=="_"&&!v&&!_["@prefix"]&&!(o in this.contextRaw))return o;return y+o.substr(d.length+1)}}else if(s&&(c||c===""||l.allowVocabRelativeToBase&&b&&p)&&!v&&!n.Util.isCompactIri(o))if(p){if(l.allowVocabRelativeToBase)return(c||b?(0,t.resolve)(c,b):"")+o;throw new r.ErrorCoded(`Relative vocab expansion for term '${o}' with vocab '${c}' is not allowed.`,r.ERROR_CODES.INVALID_VOCAB_MAPPING)}else return c+o;else if(!s&&b&&!v&&!n.Util.isCompactIri(o))return(0,t.resolve)(o,b);if(f)return o;throw new r.ErrorCoded(`Invalid IRI mapping found for context entry '${o}': '${JSON.stringify(u)}'`,r.ERROR_CODES.INVALID_IRI_MAPPING)}compactIri(o,s){if(s&&this.contextRaw["@vocab"]&&o.startsWith(this.contextRaw["@vocab"]))return o.substr(this.contextRaw["@vocab"].length);if(!s&&this.contextRaw["@base"]&&o.startsWith(this.contextRaw["@base"]))return o.substr(this.contextRaw["@base"].length);const l={prefix:"",suffix:o};for(const u in this.contextRaw){const f=this.contextRaw[u];if(f&&!n.Util.isPotentialKeyword(u)){const d=n.Util.getContextValueId(f);if(o.startsWith(d)){const c=o.substr(d.length);if(c)c.length<l.suffix.length&&(l.prefix=u,l.suffix=c);else if(s)return u}}}return l.prefix?l.prefix+":"+l.suffix:o}}e.JsonLdContextNormalized=i,e.defaultExpandOptions={allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}}(bw)),bw}var RL;function DJ(){if(RL)return wd;RL=1,Object.defineProperty(wd,"__esModule",{value:!0}),wd.ContextParser=void 0,F8();const e=Oi(),t=Zm(),r=j8(),n=B8(),i=_x();let a=class As{constructor(s){s=s||{},this.documentLoader=s.documentLoader||new r.FetchDocumentLoader,this.documentCache={},this.validateContext=!s.skipValidation,this.expandContentTypeToBase=!!s.expandContentTypeToBase,this.remoteContextsDepthLimit=s.remoteContextsDepthLimit||32,this.redirectSchemaOrgHttps="redirectSchemaOrgHttps"in s?!!s.redirectSchemaOrgHttps:!0}static validateLanguage(s,l,u){if(typeof s!="string")throw new t.ErrorCoded(`The value of an '@language' must be a string, got '${JSON.stringify(s)}'`,u);if(!i.Util.REGEX_LANGUAGE_TAG.test(s)){if(l)throw new t.ErrorCoded(`The value of an '@language' must be a valid language tag, got '${JSON.stringify(s)}'`,u);return!1}return!0}static validateDirection(s,l){if(typeof s!="string")throw new t.ErrorCoded(`The value of an '@direction' must be a string, got '${JSON.stringify(s)}'`,t.ERROR_CODES.INVALID_BASE_DIRECTION);if(!i.Util.REGEX_DIRECTION_TAG.test(s)){if(l)throw new t.ErrorCoded(`The value of an '@direction' must be 'ltr' or 'rtl', got '${JSON.stringify(s)}'`,t.ERROR_CODES.INVALID_BASE_DIRECTION);return!1}return!0}idifyReverseTerms(s){for(const l of Object.keys(s)){let u=s[l];if(u&&typeof u=="object"&&u["@reverse"]&&!u["@id"]){if(typeof u["@reverse"]!="string"||i.Util.isValidKeyword(u["@reverse"]))throw new t.ErrorCoded(`Invalid @reverse value, must be absolute IRI or blank node: '${u["@reverse"]}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);u=s[l]=Object.assign(Object.assign({},u),{"@id":u["@reverse"]}),u["@id"]=u["@reverse"],i.Util.isPotentialKeyword(u["@reverse"])?delete u["@reverse"]:u["@reverse"]=!0}}return s}expandPrefixedTerms(s,l,u){const f=s.getContextRaw();for(const d of u||Object.keys(f))if(i.Util.EXPAND_KEYS_BLACKLIST.indexOf(d)<0&&!i.Util.isReservedInternalKeyword(d)){const c=f[d];if(i.Util.isPotentialKeyword(d)&&i.Util.ALIAS_DOMAIN_BLACKLIST.indexOf(d)>=0&&(d!=="@type"||typeof f[d]=="object"&&!(f[d]["@protected"]||f[d]["@container"]==="@set")))throw new t.ErrorCoded(`Keywords can not be aliased to something else.
Tried mapping ${d} to ${JSON.stringify(c)}`,t.ERROR_CODES.KEYWORD_REDEFINITION);if(i.Util.ALIAS_RANGE_BLACKLIST.indexOf(i.Util.getContextValueId(c))>=0)throw new t.ErrorCoded(`Aliasing to certain keywords is not allowed.
Tried mapping ${d} to ${JSON.stringify(c)}`,t.ERROR_CODES.INVALID_KEYWORD_ALIAS);if(c&&i.Util.isPotentialKeyword(i.Util.getContextValueId(c))&&c["@prefix"]===!0)throw new t.ErrorCoded(`Tried to use keyword aliases as prefix: '${d}': '${JSON.stringify(c)}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);for(;i.Util.isPrefixValue(f[d]);){const p=f[d];let b=!1;if(typeof p=="string")f[d]=s.expandTerm(p,!0),b=b||p!==f[d];else{const v=p["@id"],_=p["@type"],y=!("@prefix"in p)||i.Util.isValidIri(d);if("@id"in p)v!=null&&typeof v=="string"&&(f[d]=Object.assign(Object.assign({},f[d]),{"@id":s.expandTerm(v,!0)}),b=b||v!==f[d]["@id"]);else if(!i.Util.isPotentialKeyword(d)&&y){const m=s.expandTerm(d,!0);m!==d&&(f[d]=Object.assign(Object.assign({},f[d]),{"@id":m}),b=!0)}if(_&&typeof _=="string"&&_!=="@vocab"&&(!p["@container"]||!p["@container"]["@type"])&&y){let m=s.expandTerm(_,!0);l&&_===m&&(m=s.expandTerm(_,!1)),m!==_&&(b=!0,f[d]=Object.assign(Object.assign({},f[d]),{"@type":m}))}}if(!b)break}}}normalize(s,{processingMode:l,normalizeLanguageTags:u}){if(u||l===1)for(const f of Object.keys(s))if(f==="@language"&&typeof s[f]=="string")s[f]=s[f].toLowerCase();else{const d=s[f];if(d&&typeof d=="object"&&typeof d["@language"]=="string"){const c=d["@language"].toLowerCase();c!==d["@language"]&&(s[f]=Object.assign(Object.assign({},d),{"@language":c}))}}}containersToHash(s){for(const l of Object.keys(s)){const u=s[l];if(u&&typeof u=="object"){if(typeof u["@container"]=="string")s[l]=Object.assign(Object.assign({},u),{"@container":{[u["@container"]]:!0}});else if(Array.isArray(u["@container"])){const f={};for(const d of u["@container"])f[d]=!0;s[l]=Object.assign(Object.assign({},u),{"@container":f})}}}}applyScopedProtected(s,{processingMode:l},u){if(l&&l>=1.1&&s["@protected"]){for(const f of Object.keys(s))if(!i.Util.isReservedInternalKeyword(f)&&!i.Util.isPotentialKeyword(f)&&!i.Util.isTermProtected(s,f)){const d=s[f];d&&typeof d=="object"?"@protected"in s[f]||(s[f]=Object.assign(Object.assign({},s[f]),{"@protected":!0})):(s[f]={"@id":d,"@protected":!0},i.Util.isSimpleTermDefinitionPrefix(d,u)&&(s[f]=Object.assign(Object.assign({},s[f]),{"@prefix":!0})))}delete s["@protected"]}}validateKeywordRedefinitions(s,l,u,f){for(const d of f??Object.keys(l))if(i.Util.isTermProtected(s,d)&&(typeof l[d]=="string"?l[d]={"@id":l[d],"@protected":!0}:l[d]=Object.assign(Object.assign({},l[d]),{"@protected":!0}),!i.Util.deepEqual(s[d],l[d])))throw new t.ErrorCoded(`Attempted to override the protected keyword ${d} from ${JSON.stringify(i.Util.getContextValueId(s[d]))} to ${JSON.stringify(i.Util.getContextValueId(l[d]))}`,t.ERROR_CODES.PROTECTED_TERM_REDEFINITION)}validate(s,{processingMode:l}){for(const u of Object.keys(s)){if(i.Util.isReservedInternalKeyword(u))continue;if(u==="")throw new t.ErrorCoded(`The empty term is not allowed, got: '${u}': '${JSON.stringify(s[u])}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);const f=s[u],d=typeof f;if(i.Util.isPotentialKeyword(u)){switch(u.substr(1)){case"vocab":if(f!==null&&d!=="string")throw new t.ErrorCoded(`Found an invalid @vocab IRI: ${f}`,t.ERROR_CODES.INVALID_VOCAB_MAPPING);break;case"base":if(f!==null&&d!=="string")throw new t.ErrorCoded(`Found an invalid @base IRI: ${s[u]}`,t.ERROR_CODES.INVALID_BASE_IRI);break;case"language":f!==null&&As.validateLanguage(f,!0,t.ERROR_CODES.INVALID_DEFAULT_LANGUAGE);break;case"version":if(f!==null&&d!=="number")throw new t.ErrorCoded(`Found an invalid @version number: ${f}`,t.ERROR_CODES.INVALID_VERSION_VALUE);break;case"direction":f!==null&&As.validateDirection(f,!0);break;case"propagate":if(l===1)throw new t.ErrorCoded(`Found an illegal @propagate keyword: ${f}`,t.ERROR_CODES.INVALID_CONTEXT_ENTRY);if(f!==null&&d!=="boolean")throw new t.ErrorCoded(`Found an invalid @propagate value: ${f}`,t.ERROR_CODES.INVALID_PROPAGATE_VALUE);break}if(i.Util.isValidKeyword(u)&&i.Util.isValidKeyword(i.Util.getContextValueId(f)))throw new t.ErrorCoded(`Illegal keyword alias in term value, found: '${u}': '${i.Util.getContextValueId(f)}'`,t.ERROR_CODES.KEYWORD_REDEFINITION);continue}if(f!==null)switch(d){case"string":if(i.Util.getPrefix(f,s)===u)throw new t.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${u}': '${JSON.stringify(f)}'`,t.ERROR_CODES.CYCLIC_IRI_MAPPING);if(i.Util.isValidIriWeak(u)){if(f==="@type")throw new t.ErrorCoded(`IRIs can not be mapped to @type, found: '${u}': '${f}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(i.Util.isValidIri(f)&&f!==new n.JsonLdContextNormalized(s).expandTerm(u))throw new t.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${u}': '${f}'`,t.ERROR_CODES.INVALID_IRI_MAPPING)}break;case"object":if(!i.Util.isCompactIri(u)&&!("@id"in f)&&(f["@type"]==="@id"?!s["@base"]:!s["@vocab"]))throw new t.ErrorCoded(`Missing @id in context entry: '${u}': '${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);for(const c of Object.keys(f)){const p=f[c];if(p)switch(c){case"@id":if(i.Util.isValidKeyword(p)&&p!=="@type"&&p!=="@id"&&p!=="@graph"&&p!=="@nest")throw new t.ErrorCoded(`Illegal keyword alias in term value, found: '${u}': '${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(i.Util.isValidIriWeak(u)){if(p==="@type")throw new t.ErrorCoded(`IRIs can not be mapped to @type, found: '${u}': '${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(i.Util.isValidIri(p)&&p!==new n.JsonLdContextNormalized(s).expandTerm(u))throw new t.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${u}': '${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING)}if(typeof p!="string")throw new t.ErrorCoded(`Detected non-string @id in context entry: '${u}': '${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(i.Util.getPrefix(p,s)===u)throw new t.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${u}': '${JSON.stringify(f)}'`,t.ERROR_CODES.CYCLIC_IRI_MAPPING);break;case"@type":if(f["@container"]==="@type"&&p!=="@id"&&p!=="@vocab")throw new t.ErrorCoded(`@container: @type only allows @type: @id or @vocab, but got: '${u}': '${p}'`,t.ERROR_CODES.INVALID_TYPE_MAPPING);if(typeof p!="string")throw new t.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(d)}'`,t.ERROR_CODES.INVALID_TYPE_MAPPING);if(p!=="@id"&&p!=="@vocab"&&(l===1||p!=="@json")&&(l===1||p!=="@none")&&(p[0]==="_"||!i.Util.isValidIri(p)))throw new t.ErrorCoded(`A context @type must be an absolute IRI, found: '${u}': '${p}'`,t.ERROR_CODES.INVALID_TYPE_MAPPING);break;case"@reverse":if(typeof p=="string"&&f["@id"]&&f["@id"]!==p)throw new t.ErrorCoded(`Found non-matching @id and @reverse term values in '${u}':'${p}' and '${f["@id"]}'`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY);if("@nest"in f)throw new t.ErrorCoded(`@nest is not allowed in the reverse property '${u}'`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY);break;case"@container":if(l===1&&(Object.keys(p).length>1||i.Util.CONTAINERS_1_0.indexOf(Object.keys(p)[0])<0))throw new t.ErrorCoded(`Invalid term @container for '${u}' ('${Object.keys(p)}') in 1.0, must be only one of ${i.Util.CONTAINERS_1_0.join(", ")}`,t.ERROR_CODES.INVALID_CONTAINER_MAPPING);for(const b of Object.keys(p)){if(b==="@list"&&f["@reverse"])throw new t.ErrorCoded(`Term value can not be @container: @list and @reverse at the same time on '${u}'`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY);if(i.Util.CONTAINERS.indexOf(b)<0)throw new t.ErrorCoded(`Invalid term @container for '${u}' ('${b}'), must be one of ${i.Util.CONTAINERS.join(", ")}`,t.ERROR_CODES.INVALID_CONTAINER_MAPPING)}break;case"@language":As.validateLanguage(p,!0,t.ERROR_CODES.INVALID_LANGUAGE_MAPPING);break;case"@direction":As.validateDirection(p,!0);break;case"@prefix":if(p!==null&&typeof p!="boolean")throw new t.ErrorCoded(`Found an invalid term @prefix boolean in: '${u}': '${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_PREFIX_VALUE);if(!("@id"in f)&&!i.Util.isValidIri(u))throw new t.ErrorCoded(`Invalid @prefix definition for '${u}' ('${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@index":if(l===1||!f["@container"]||!f["@container"]["@index"])throw new t.ErrorCoded(`Attempt to add illegal key to value object: '${u}': '${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@nest":if(i.Util.isPotentialKeyword(p)&&p!=="@nest")throw new t.ErrorCoded(`Found an invalid term @nest value in: '${u}': '${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_NEST_VALUE)}}break;default:throw new t.ErrorCoded(`Found an invalid term value: '${u}': '${f}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION)}}}applyBaseEntry(s,l,u){return typeof s=="string"||(u&&!("@base"in s)&&l.parentContext&&typeof l.parentContext=="object"&&"@base"in l.parentContext&&(s["@base"]=l.parentContext["@base"],l.parentContext["@__baseDocument"]&&(s["@__baseDocument"]=!0)),l.baseIRI&&!l.external&&("@base"in s?s["@base"]!==null&&typeof s["@base"]=="string"&&!i.Util.isValidIri(s["@base"])&&(s["@base"]=(0,e.resolve)(s["@base"],l.parentContext&&l.parentContext["@base"]||l.baseIRI)):(s["@base"]=l.baseIRI,s["@__baseDocument"]=!0))),s}normalizeContextIri(s,l){if(!i.Util.isValidIri(s))try{s=(0,e.resolve)(s,l)}catch{throw new Error(`Invalid context IRI: ${s}`)}return this.redirectSchemaOrgHttps&&s.startsWith("http://schema.org")&&(s="https://schema.org/"),s}async parseInnerContexts(s,l,u){for(const f of u??Object.keys(s)){const d=s[f];if(d&&typeof d=="object"&&"@context"in d&&d["@context"]!==null&&!l.ignoreScopedContexts){if(this.validateContext)try{const c=Object.assign(Object.assign({},s),{[f]:Object.assign({},s[f])});delete c[f]["@context"],await this.parse(d["@context"],Object.assign(Object.assign({},l),{external:!1,parentContext:c,ignoreProtection:!0,ignoreRemoteScopedContexts:!0,ignoreScopedContexts:!0}))}catch(c){throw new t.ErrorCoded(c.message,t.ERROR_CODES.INVALID_SCOPED_CONTEXT)}s[f]=Object.assign(Object.assign({},d),{"@context":(await this.parse(d["@context"],Object.assign(Object.assign({},l),{external:!1,minimalProcessing:!0,ignoreRemoteScopedContexts:!0,parentContext:s}))).getContextRaw()})}}return s}async parse(s,l={},u={}){const{baseIRI:f,parentContext:d,external:c,processingMode:p=As.DEFAULT_PROCESSING_MODE,normalizeLanguageTags:b,ignoreProtection:v,minimalProcessing:_}=l,y=l.remoteContexts||{};if(Object.keys(y).length>=this.remoteContextsDepthLimit)throw new t.ErrorCoded("Detected an overflow in remote context inclusions: "+Object.keys(y),t.ERROR_CODES.CONTEXT_OVERFLOW);if(s==null){if(!v&&d&&i.Util.hasProtectedTerms(d))throw new t.ErrorCoded("Illegal context nullification when terms are protected",t.ERROR_CODES.INVALID_CONTEXT_NULLIFICATION);return new n.JsonLdContextNormalized(this.applyBaseEntry({},l,!1))}else if(typeof s=="string"){const m=this.normalizeContextIri(s,f),g=this.getOverriddenLoad(m,l);if(g)return new n.JsonLdContextNormalized(g);const E=await this.parse(await this.load(m),Object.assign(Object.assign({},l),{baseIRI:m,external:!0,remoteContexts:Object.assign(Object.assign({},y),{[m]:!0})}));return this.applyBaseEntry(E.getContextRaw(),l,!0),E}else if(Array.isArray(s)){const m=[],g=await Promise.all(s.map((T,I)=>{if(typeof T=="string"){const D=this.normalizeContextIri(T,f);m[I]=D;const B=this.getOverriddenLoad(D,l);return B||this.load(D)}else return T}));if(_)return new n.JsonLdContextNormalized(g);const E=await g.reduce((T,I,D)=>T.then(B=>this.parse(I,Object.assign(Object.assign({},l),{baseIRI:m[D]||l.baseIRI,external:!!m[D]||l.external,parentContext:B.getContextRaw(),remoteContexts:m[D]?Object.assign(Object.assign({},y),{[m[D]]:!0}):y}),{skipValidation:D<g.length-1})),Promise.resolve(new n.JsonLdContextNormalized(d||{})));return this.applyBaseEntry(E.getContextRaw(),l,!0),E}else if(typeof s=="object"){if("@context"in s)return await this.parse(s["@context"],l);if(s=Object.assign({},s),c&&delete s["@base"],this.applyBaseEntry(s,l,!0),this.containersToHash(s),_)return new n.JsonLdContextNormalized(s);let m={};if("@import"in s)if(p>=1.1){if(typeof s["@import"]!="string")throw new t.ErrorCoded("An @import value must be a string, but got "+typeof s["@import"],t.ERROR_CODES.INVALID_IMPORT_VALUE);m=await this.loadImportContext(this.normalizeContextIri(s["@import"],f)),delete s["@import"]}else throw new t.ErrorCoded("Context importing is not supported in JSON-LD 1.0",t.ERROR_CODES.INVALID_CONTEXT_ENTRY);this.applyScopedProtected(m,{processingMode:p},n.defaultExpandOptions);const g=Object.assign(m,s);this.idifyReverseTerms(g),this.normalize(g,{processingMode:p,normalizeLanguageTags:b}),this.applyScopedProtected(g,{processingMode:p},n.defaultExpandOptions);const E=Object.keys(g),T=[];if(typeof d=="object")for(const D in d)D in g?T.push(D):g[D]=d[D];await this.parseInnerContexts(g,l,E);const I=new n.JsonLdContextNormalized(g);return(g&&g["@version"]||As.DEFAULT_PROCESSING_MODE)>=1.1&&(s["@vocab"]&&typeof s["@vocab"]=="string"||s["@vocab"]==="")&&(d&&"@vocab"in d&&s["@vocab"].indexOf(":")<0?g["@vocab"]=d["@vocab"]+s["@vocab"]:(i.Util.isCompactIri(s["@vocab"])||s["@vocab"]in g)&&(g["@vocab"]=I.expandTerm(s["@vocab"],!0))),this.expandPrefixedTerms(I,this.expandContentTypeToBase,E),!v&&d&&p>=1.1&&this.validateKeywordRedefinitions(d,g,n.defaultExpandOptions,T),this.validateContext&&!u.skipValidation&&this.validate(g,{processingMode:p}),I}else throw new t.ErrorCoded(`Tried parsing a context that is not a string, array or object, but got ${s}`,t.ERROR_CODES.INVALID_LOCAL_CONTEXT)}async load(s){const l=this.documentCache[s];if(l)return l;let u;try{u=await this.documentLoader.load(s)}catch(f){throw new t.ErrorCoded(`Failed to load remote context ${s}: ${f.message}`,t.ERROR_CODES.LOADING_REMOTE_CONTEXT_FAILED)}if(!("@context"in u))throw new t.ErrorCoded(`Missing @context in remote context at ${s}`,t.ERROR_CODES.INVALID_REMOTE_CONTEXT);return this.documentCache[s]=u["@context"]}getOverriddenLoad(s,l){if(s in(l.remoteContexts||{})){if(l.ignoreRemoteScopedContexts)return s;throw new t.ErrorCoded("Detected a cyclic context inclusion of "+s,t.ERROR_CODES.RECURSIVE_CONTEXT_INCLUSION)}return null}async loadImportContext(s){let l=await this.load(s);if(typeof l!="object"||Array.isArray(l))throw new t.ErrorCoded("An imported context must be a single object: "+s,t.ERROR_CODES.INVALID_REMOTE_CONTEXT);if("@import"in l)throw new t.ErrorCoded("An imported context can not import another context: "+s,t.ERROR_CODES.INVALID_CONTEXT_ENTRY);return l=Object.assign({},l),this.containersToHash(l),l}};return a.DEFAULT_PROCESSING_MODE=1.1,wd.ContextParser=a,wd}var vw={},AL;function NJ(){return AL||(AL=1,Object.defineProperty(vw,"__esModule",{value:!0})),vw}var ww={},IL;function CJ(){return IL||(IL=1,Object.defineProperty(ww,"__esModule",{value:!0})),ww}var OL;function LJ(){return OL||(OL=1,function(e){var t=vd.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=vd.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(DJ(),e),r(Zm(),e),r(j8(),e),r(NJ(),e),r(CJ(),e),r(B8(),e),r(_x(),e)}(vd)),vd}var PL;function $8(){if(PL)return bd;PL=1,Object.defineProperty(bd,"__esModule",{value:!0}),bd.DocumentLoaderMediated=void 0;const e=Wm(),t=zm(),r=LJ();let n=class q8 extends r.FetchDocumentLoader{constructor(a,o){super(q8.createFetcher(a,o)),this.mediatorHttp=a,this.context=o}static createFetcher(a,o){return async(s,l)=>{const u=await a.mediate({input:s,init:l,context:o});return u.json=async()=>JSON.parse(await(0,t.stringify)(e.ActorHttp.toNodeReadable(u.body))),u}}};return bd.DocumentLoaderMediated=n,bd}var DL;function MJ(){if(DL)return zc;DL=1,Object.defineProperty(zc,"__esModule",{value:!0}),zc.ActorRdfParseJsonLd=void 0;const e=bl(),t=Yi(),r=hr(),n=PJ(),i=$8();let a=class extends e.ActorRdfParseFixedMediaTypes{constructor(s){super(s)}async testHandle(s,l,u){return u.has(t.KeysRdfParseHtmlScript.processingHtmlScript)&&l!=="application/ld+json"?(0,r.failTest)("JSON-LD in script tags can only have media type 'application/ld+json'"):!l||!(l in this.mediaTypePriorities||l.endsWith("+json"))?(0,r.failTest)(`Unrecognized media type: ${l}`):await this.testHandleChecked(s)}async runHandle(s,l,u){var p;const f=s.context.getSafe(t.KeysInitQuery.dataFactory);return{data:n.JsonLdParser.fromHttpResponse(((p=s.metadata)==null?void 0:p.baseIRI)??"",l,s.headers,{dataFactory:f,documentLoader:u.get(t.KeysRdfParseJsonLd.documentLoader)??new i.DocumentLoaderMediated(this.mediatorHttp,u),strictValues:u.get(t.KeysRdfParseJsonLd.strictValues),...u.get(t.KeysRdfParseJsonLd.parserOptions)}).import(s.data)}}};return zc.ActorRdfParseJsonLd=a,zc}var NL;function kJ(){return NL||(NL=1,function(e){var t=Vc.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=Vc.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(MJ(),e),r($8(),e)}(Vc)),Vc}var xd={},Td={},Rd={},Ad={},CL;function FJ(){if(CL)return Ad;CL=1,Object.defineProperty(Ad,"__esModule",{value:!0}),Ad.ActorDereferenceRdf=void 0;const e=hx();let t=class extends e.ActorDereferenceParse{constructor(n){super(n)}};return Ad.ActorDereferenceRdf=t,Ad}var LL;function jJ(){return LL||(LL=1,function(e){var t=Rd.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=Rd.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(FJ(),e)}(Rd)),Rd}var ML;function BJ(){if(ML)return Td;ML=1,Object.defineProperty(Td,"__esModule",{value:!0}),Td.ActorDereferenceRdfParse=void 0;const e=jJ();let t=class extends e.ActorDereferenceRdf{constructor(n){super(n)}async getMetadata(n){return{baseIRI:n.url}}};return Td.ActorDereferenceRdfParse=t,Td}var kL;function qJ(){return kL||(kL=1,function(e){var t=xd.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=xd.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(BJ(),e)}(xd)),xd}var Id={},Od={},Pd={},FL;function $J(){if(FL)return Pd;FL=1,Object.defineProperty(Pd,"__esModule",{value:!0}),Pd.HtmlScriptListener=void 0;const e=Yi(),t=Zi(),r=Oi();let n=class Gd{constructor(a,o,s,l,u,f,d,c){this.textChunksJsonLd=[],this.endBarrier=1,this.passedScripts=0,this.isFinalJsonLdProcessing=!1,this.mediatorRdfParseHandle=a,this.cbQuad=o,this.cbError=s,this.cbEnd=l,this.supportedTypes=u,this.context=f.set(e.KeysRdfParseHtmlScript.processingHtmlScript,!0),this.baseIRI=d,this.headers=c,this.onlyFirstScript=f.get(e.KeysRdfParseHtmlScript.extractAllScripts)===!1;const p=this.baseIRI.indexOf("#");this.targetScriptId=p>0?this.baseIRI.slice(p+1,this.baseIRI.length):null}static newErrorCoded(a,o){const s=new Error(a);return s.code=o,s}onEnd(){--this.endBarrier===0&&(this.textChunksJsonLd.length>0?(this.handleMediaType="application/ld+json",this.textChunks=this.textChunksJsonLd,this.textChunks.push("]"),this.textChunksJsonLd=[],this.isFinalJsonLdProcessing=!0,this.endBarrier++,this.onTagClose()):(this.passedScripts===0&&this.targetScriptId&&this.cbError(Gd.newErrorCoded(`Failed to find targeted script id "${this.targetScriptId}"`,"loading document failed")),this.cbEnd()),this.isFinalJsonLdProcessing=!1)}onTagClose(){if(this.handleMediaType)if(this.requiresCustomJsonLdHandling(this.handleMediaType)&&!this.isFinalJsonLdProcessing)this.handleMediaType=void 0,this.textChunks=void 0,this.onEnd();else{const a=new t.Readable({objectMode:!0});a._read=()=>{};const o=this.textChunks,s={context:this.context,handle:{metadata:{baseIRI:this.baseIRI},data:a,headers:this.headers,context:this.context},handleMediaType:this.handleMediaType};this.mediatorRdfParseHandle.mediate(s).then(({handle:l})=>{l.data.on("error",u=>this.cbError(Gd.newErrorCoded(u.message,"invalid script element"))).on("data",this.cbQuad).on("end",()=>this.onEnd());for(const u of o)a.push(u);a.push(null)}).catch(l=>{this.targetScriptId?this.cbError(Gd.newErrorCoded(l.message,"loading document failed")):this.onEnd()}),this.handleMediaType=void 0,this.textChunks=void 0}}onTagOpen(a,o){a==="base"&&o.href&&(this.baseIRI=(0,r.resolve)(o.href,this.baseIRI)),a==="script"&&(!this.targetScriptId||o.id===this.targetScriptId)?this.supportedTypes[o.type]?this.onlyFirstScript&&this.passedScripts>0?this.handleMediaType=void 0:(this.passedScripts++,this.handleMediaType=o.type,this.endBarrier++,this.requiresCustomJsonLdHandling(this.handleMediaType)?(this.textChunks=this.textChunksJsonLd,this.textChunks.push(this.textChunks.length===0?"[":",")):this.textChunks=[]):this.targetScriptId&&this.cbError(Gd.newErrorCoded(`Targeted script "${this.targetScriptId}" does not have a supported type`,"loading document failed")):this.handleMediaType=void 0}onText(a){this.handleMediaType&&this.textChunks.push(a)}requiresCustomJsonLdHandling(a){return!this.onlyFirstScript&&!this.targetScriptId&&a==="application/ld+json"}};return Pd.HtmlScriptListener=n,Pd}var jL;function UJ(){if(jL)return Od;jL=1,Object.defineProperty(Od,"__esModule",{value:!0}),Od.ActorRdfParseHtmlScript=void 0;const e=mx(),t=hr(),r=$J();let n=class extends e.ActorRdfParseHtml{constructor(a){super(a)}async test(a){return(0,t.passTestVoid)()}async run(a){const o=(await this.mediatorRdfParseMediatypes.mediate({context:a.context,mediaTypes:!0})).mediaTypes;return{htmlParseListener:new r.HtmlScriptListener(this.mediatorRdfParseHandle,a.emit,a.error,a.end,o,a.context,a.baseIRI,a.headers)}}};return Od.ActorRdfParseHtmlScript=n,Od}var BL;function HJ(){return BL||(BL=1,function(e){var t=Id.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=Id.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(UJ(),e)}(Id)),Id}var Dd={},Nd={},ws={},qL;function U8(){if(qL)return ws;qL=1,Object.defineProperty(ws,"__esModule",{value:!0}),ws.ActorDereferenceHttpBase=ws.mediaTypesToAcceptString=void 0;const e=hx(),t=Wm(),r=hr(),n=zm(),i=Oi(),a=/^[^ ;]*/u;function o(l,u){const f="*/*;q=0.1",d=[],c=Object.entries(l).map(([b,v])=>({mediaType:b,priority:v})).sort((b,v)=>v.priority===b.priority?b.mediaType.localeCompare(v.mediaType):v.priority-b.priority);let p=c.length-1;for(const{mediaType:b,priority:v}of c){const _=b+(v===1?"":`;q=${v.toFixed(3).replace(/0*$/u,"")}`);if(p+_.length>u){for(;p+f.length>u;){const y=d.pop()??"";p-=y.length+1}d.push(f);break}d.push(_),p+=_.length}return d.length===0?"*/*":d.join(",")}ws.mediaTypesToAcceptString=o;let s=class extends e.ActorDereference{constructor(u){super(u)}async test({url:u}){return/^https?:/u.test(u)?(0,r.passTestVoid)():(0,r.failTest)(`Cannot retrieve ${u} because it is not an HTTP(S) URL.`)}async run(u){var y,m;let f=!0;const d=new Headers(u.headers);d.append("Accept",o(await((y=u.mediaTypes)==null?void 0:y.call(u))??{},this.getMaxAcceptHeaderLength()));let c;const p=Date.now();try{c=await this.mediatorHttp.mediate({context:u.context,init:{headers:d,method:u.method},input:u.url})}catch(g){return this.handleDereferenceErrors(u,g)}const b=(0,i.resolve)(c.url,u.url),v=Date.now()-p;if(c.status!==200){f=!1;const g=c.body?await(0,n.stringify)(t.ActorHttp.toNodeReadable(c.body)):"empty response";if(!u.acceptErrors){const E=new Error(`Could not retrieve ${u.url} (HTTP status ${c.status}):
${g}`);return this.handleDereferenceErrors(u,E,c.headers,v)}}const _=(m=a.exec(c.headers.get("content-type")??""))==null?void 0:m[0];return{url:b,data:f?t.ActorHttp.toNodeReadable(c.body):(0,e.emptyReadable)(),exists:f,requestTime:v,headers:c.headers,mediaType:_==="text/plain"?void 0:_}}};return ws.ActorDereferenceHttpBase=s,ws}var $L;function VJ(){if($L)return Nd;$L=1,Object.defineProperty(Nd,"__esModule",{value:!0}),Nd.ActorDereferenceHttp=void 0;const e=U8();class t extends e.ActorDereferenceHttpBase{getMaxAcceptHeaderLength(){return this.maxAcceptHeaderLengthBrowser}}return Nd.ActorDereferenceHttp=t,Nd}var UL;function zJ(){return UL||(UL=1,function(e){var t=Dd.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=Dd.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(VJ(),e),r(U8(),e)}(Dd)),Dd}var Cd={},Ld={},HL;function WJ(){if(HL)return Ld;HL=1,Object.defineProperty(Ld,"__esModule",{value:!0}),Ld.ActorHttpProxy=void 0;const e=Wm(),t=Yi(),r=hr();let n=class extends e.ActorHttp{constructor(a){super(a)}async test(a){const o=a.context.get(t.KeysHttpProxy.httpProxyHandler);return o?await o.getProxy(a)?(0,r.passTest)({time:Number.POSITIVE_INFINITY}):(0,r.failTest)(`Actor ${this.name} could not determine a proxy for the given request.`):(0,r.failTest)(`Actor ${this.name} could not find a proxy handler in the context.`)}async run(a){const o=typeof a.input=="string"?a.input:a.input.url,s=a.context.get(t.KeysHttpProxy.httpProxyHandler),l=await this.mediatorHttp.mediate({...await s.getProxy(a),context:a.context.delete(t.KeysHttpProxy.httpProxyHandler)});return Object.defineProperty(l,"url",{configurable:!0,enumerable:!0,get:()=>l.headers.get("x-final-url")??o}),l}};return Ld.ActorHttpProxy=n,Ld}var Md={},VL;function GJ(){if(VL)return Md;VL=1,Object.defineProperty(Md,"__esModule",{value:!0}),Md.ProxyHandlerStatic=void 0;let e=class{constructor(r){this.prefixUrl=r}async getProxy(r){return{init:r.init,input:this.modifyInput(r.input)}}modifyInput(r){return typeof r=="string"?this.prefixUrl+r:new Request(this.prefixUrl+r.url,r)}};return Md.ProxyHandlerStatic=e,Md}var zL;function KJ(){return zL||(zL=1,function(e){var t=Cd.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=Cd.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(WJ(),e),r(GJ(),e)}(Cd)),Cd}var Ew,WL;function ZJ(){return WL||(WL=1,Ew=function(e){const t=new(hr()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-dereference-rdf/^4.0.0/components/ActorDereferenceRdf.jsonld#ActorDereferenceRdf_default_bus"}),r=new(hr()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-dereference/^4.0.0/components/ActorDereference.jsonld#ActorDereference_default_bus"}),n=new(hr()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http/^4.0.0/components/ActorHttp.jsonld#ActorHttp_default_bus"}),i=new(hr()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-parse/^4.0.0/components/ActorRdfParse.jsonld#ActorRdfParse_default_bus"}),a=new(hr()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-parse-html/^4.0.0/components/ActorRdfParseHtml.jsonld#ActorRdfParseHtml_default_bus"}),o=new(H1()).MediatorRace({name:"urn:comunica:default:dereference-rdf/mediators#main",bus:t}),s=new(AQ()).ActorDereferenceFallback({name:"urn:comunica:default:dereference/actors#fallback",bus:r,busFailMessage:"Dereferencing failed: none of the configured actors were able to handle ${action.url}"}),l=new(H1()).MediatorRace({name:"urn:comunica:default:dereference/mediators#main",bus:r}),u=new(eX()).ActorHttpFetch({agentOptions:{keepAlive:!0,maxSockets:5},name:"urn:comunica:default:http/actors#fetch",bus:n,busFailMessage:"HTTP request failed: none of the configured actors were able to handle ${action.input}"}),f=new(rX()).MediatorNumber({field:"time",type:"min",ignoreFailures:!0,name:"urn:comunica:default:http/mediators#main",bus:n}),d=new(sX()).ActorRdfParseN3({mediaTypePriorities:{"application/n-quads":1,"application/n-triples":.8,"application/trig":.95,"text/n3":.35,"text/turtle":.6},mediaTypeFormats:{"application/n-quads":"http://www.w3.org/ns/formats/N-Quads","application/n-triples":"http://www.w3.org/ns/formats/N-Triples","application/trig":"http://www.w3.org/ns/formats/TriG","text/n3":"http://www.w3.org/ns/formats/N3","text/turtle":"http://www.w3.org/ns/formats/Turtle"},priorityScale:1,name:"urn:comunica:default:rdf-parse/actors#n3",bus:i,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),c=new(bX()).ActorRdfParseRdfXml({mediaTypePriorities:{"application/rdf+xml":1},mediaTypeFormats:{"application/rdf+xml":"http://www.w3.org/ns/formats/RDF_XML"},priorityScale:.5,name:"urn:comunica:default:rdf-parse/actors#rdfxml",bus:i,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),p=new(jX()).ActorRdfParseXmlRdfa({mediaTypePriorities:{"application/xml":1,"image/svg+xml":1,"text/xml":1},mediaTypeFormats:{"application/xml":"http://www.w3.org/ns/formats/RDFa","image/svg+xml":"http://www.w3.org/ns/formats/RDFa","text/xml":"http://www.w3.org/ns/formats/RDFa"},priorityScale:.3,name:"urn:comunica:default:rdf-parse/actors#xmlrdfa",bus:i,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),b=new(HX()).ActorRdfParseShaclc({mediaTypePriorities:{"text/shaclc":1,"text/shaclc-ext":.5},mediaTypeFormats:{"text/shaclc":"http://www.w3.org/ns/formats/Shaclc","text/shaclc-ext":"http://www.w3.org/ns/formats/ShaclcExtended"},priorityScale:.1,name:"urn:comunica:default:rdf-parse/actors#shaclc",bus:i,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),v=new(H1()).MediatorRace({name:"urn:comunica:default:rdf-parse/mediators#parse",bus:i}),_=new(zX()).MediatorCombineUnion({field:"mediaTypes",name:"urn:comunica:default:rdf-parse/mediators#mediaType",bus:i}),y=new(KX()).ActorRdfParseHtml({busRdfParseHtml:a,mediaTypePriorities:{"application/xhtml+xml":.9,"text/html":1},mediaTypeFormats:{"application/xhtml+xml":"http://www.w3.org/ns/formats/HTML","text/html":"http://www.w3.org/ns/formats/HTML"},priorityScale:.2,name:"urn:comunica:default:rdf-parse/actors#html",bus:i,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),m=new(aJ()).ActorRdfParseHtmlMicrodata({name:"urn:comunica:default:rdf-parse-html/actors#microdata",bus:a,busFailMessage:"RDF HTML parsing failed: none of the configured parsers were able to parse RDF in HTML"}),g=new(sJ()).ActorRdfParseHtmlRdfa({name:"urn:comunica:default:rdf-parse-html/actors#rdfa",bus:a,busFailMessage:"RDF HTML parsing failed: none of the configured parsers were able to parse RDF in HTML"}),E=new(kJ()).ActorRdfParseJsonLd({mediatorHttp:f,mediaTypePriorities:{"application/json":.15,"application/ld+json":1},mediaTypeFormats:{"application/json":"http://www.w3.org/ns/formats/JSON-LD","application/ld+json":"http://www.w3.org/ns/formats/JSON-LD"},priorityScale:.9,name:"urn:comunica:default:rdf-parse/actors#jsonld",bus:i,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),T=new(qJ()).ActorDereferenceRdfParse({mediatorDereference:l,mediatorParse:v,mediatorParseMediatypes:_,mediaMappings:{htm:"text/html",html:"text/html",json:"application/json",jsonld:"application/ld+json",n3:"text/n3",nq:"application/n-quads",nquads:"application/n-quads",nt:"application/n-triples",ntriples:"application/n-triples",owl:"application/rdf+xml",rdf:"application/rdf+xml",rdfxml:"application/rdf+xml",shaclc:"text/shaclc",shaclce:"text/shaclc-ext",shc:"text/shaclc",shce:"text/shaclc-ext",svg:"image/svg+xml",svgz:"image/svg+xml",trig:"application/trig",ttl:"text/turtle",turtle:"text/turtle",xht:"application/xhtml+xml",xhtml:"application/xhtml+xml",xml:"application/xml"},name:"urn:comunica:default:dereference-rdf/actors#parse",bus:t,busFailMessage:"RDF dereferencing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),I=new(HJ()).ActorRdfParseHtmlScript({mediatorRdfParseMediatypes:_,mediatorRdfParseHandle:v,name:"urn:comunica:default:rdf-parse-html/actors#script",bus:a,busFailMessage:"RDF HTML parsing failed: none of the configured parsers were able to parse RDF in HTML"}),D=new(zJ()).ActorDereferenceHttp({mediatorHttp:f,maxAcceptHeaderLength:1024,maxAcceptHeaderLengthBrowser:128,name:"urn:comunica:default:dereference/actors#http",bus:r,busFailMessage:"Dereferencing failed: none of the configured actors were able to handle ${action.url}",beforeActors:[s]}),B=new(KJ()).ActorHttpProxy({mediatorHttp:f,name:"urn:comunica:default:http/actors#proxy",bus:n,busFailMessage:"HTTP request failed: none of the configured actors were able to handle ${action.input}",beforeActors:[u]});return new(bx()).RdfDereferencer({mediatorDereferenceRdf:o,actors:[D,s,T,B,u,d,E,c,p,y,b,m,g,I]})}),Ew}var GL;function bx(){return GL||(GL=1,function(e){var t=Of.__createBinding||(Object.create?function(a,o,s,l){l===void 0&&(l=s);var u=Object.getOwnPropertyDescriptor(o,s);(!u||("get"in u?!o.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(a,l,u)}:function(a,o,s,l){l===void 0&&(l=s),a[l]=o[s]}),r=Of.__exportStar||function(a,o){for(var s in a)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&t(o,a,s)};Object.defineProperty(e,"__esModule",{value:!0}),e.rdfDereferencer=void 0,r(EQ(),e),r(l8(),e);const n=ZJ(),i=typeof n=="function"?n():void 0;e.rdfDereferencer=i}(Of)),Of}var hE=bx();let J0;if(typeof window>"u"){let e;typeof require>"u"?vi(()=>Promise.resolve().then(()=>oj),void 0,import.meta.url).then(t=>e=t):e=require("fs"),J0={getItem:t=>e.readFileSync(t,"utf8"),setItem:(t,r)=>{e.writeFileSync(t,r,"utf8")},removeItem:t=>{try{e.unlinkSync(t)}catch{}}}}else J0={getItem:e=>{const t=localStorage.getItem(e);if(t)return t;throw"Key not found in local storage"},setItem:(e,t)=>{localStorage.setItem(e,t)},removeItem:e=>{localStorage.removeItem(e)}};class YJ{build(t,r,n,i){return new H8(n,i)}write(){}}class QJ{constructor(t){Ye(this,"location");Ye(this,"elements");Ye(this,"found");this.location=t,this.elements=[],this.found={};try{const r=J0.getItem(t);this.found=JSON.parse(r)}catch{}}write(){const t={};for(const r of this.elements)t[r.name]=r.serialize(r.state.item);J0.setItem(this.location,JSON.stringify(t))}build(t,r,n,i){const a=this.elements.find(l=>l.name==t);if(a)return a.state;const o=this.found[t],s=new H8(n,i,o);return this.elements.push({name:t,serialize:r,state:s}),s}}class H8{constructor(t,r,n){Ye(this,"item");const i=n?t(n):r();i?this.item=i:this.item=r()}}var pu={},yo={},Mi={},KL;function vx(){if(KL)return Mi;KL=1,Object.defineProperty(Mi,"__esModule",{value:!0}),Mi.RDFMap=Mi.ShapeTemplate=Mi.ShapeError=Mi.NodeLink=void 0;class e{constructor(a,o){this.pathPattern=a,this.link=o}}Mi.NodeLink=e;class t{constructor(a,o=[]){this.errors=[],this.type=a,this.errors=o}toString(){if(this.errors.length===1)return this.errors[0].toString();{const a=this.type=="and"?" && ":" || ";return"("+this.errors.map(o=>o.toString()).join(a)+")"}}}Mi.ShapeError=t;class r{constructor(){this.requiredPaths=[],this.nodeLinks=[],this.atLeastOneLists=[],this.optionalPaths=[],this.closed=!1}fillPathsAndLinks(a,o){for(let s of this.atLeastOneLists)for(let l of s)a.push(...l.requiredPaths),a.push(...l.optionalPaths),o.push(...l.nodeLinks),l.fillPathsAndLinks(a,o)}invalidAtLeastOneLists(a){const o=new t("and");for(let s of this.atLeastOneLists){const l=new t("or");let u=!1;for(let f of s){const d=f.requiredAreNotPresent(a);if(d)l.errors.push(d);else{u=!0;break}}u||o.errors.push(l)}if(o.errors.length>0)return o}requiredPathsAreNotPresent(a){const o=this.requiredPaths.filter(s=>!s.found(a));if(o.length>0)return new t("and",o)}requiredAreNotPresent(a){const o=this.requiredPathsAreNotPresent(a),s=this.invalidAtLeastOneLists(a);if(o&&s)return new t("and",[...o.errors,...s.errors]);if(o)return o;if(s)return s}}Mi.ShapeTemplate=r;class n{constructor(){this.namedNodes=new Map,this.blankNodes=new Map}set(a,o){a.termType==="NamedNode"&&this.namedNodes.set(a.value,o),a.termType==="BlankNode"&&this.blankNodes.set(a.value,o)}get(a){if(a.termType==="NamedNode")return this.namedNodes.get(a.value);if(a.termType==="BlankNode")return this.blankNodes.get(a.value)}}return Mi.RDFMap=n,Mi}var R0={exports:{}},Sw,ZL;function XJ(){if(ZL)return Sw;ZL=1;function e(t){n.debug=n,n.default=n,n.coerce=u,n.disable=s,n.enable=a,n.enabled=l,n.humanize=V6(),n.destroy=f,Object.keys(t).forEach(d=>{n[d]=t[d]}),n.names=[],n.skips=[],n.formatters={};function r(d){let c=0;for(let p=0;p<d.length;p++)c=(c<<5)-c+d.charCodeAt(p),c|=0;return n.colors[Math.abs(c)%n.colors.length]}n.selectColor=r;function n(d){let c,p=null,b,v;function _(...y){if(!_.enabled)return;const m=_,g=Number(new Date),E=g-(c||g);m.diff=E,m.prev=c,m.curr=g,c=g,y[0]=n.coerce(y[0]),typeof y[0]!="string"&&y.unshift("%O");let T=0;y[0]=y[0].replace(/%([a-zA-Z%])/g,(D,B)=>{if(D==="%%")return"%";T++;const N=n.formatters[B];if(typeof N=="function"){const M=y[T];D=N.call(m,M),y.splice(T,1),T--}return D}),n.formatArgs.call(m,y),(m.log||n.log).apply(m,y)}return _.namespace=d,_.useColors=n.useColors(),_.color=n.selectColor(d),_.extend=i,_.destroy=n.destroy,Object.defineProperty(_,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(b!==n.namespaces&&(b=n.namespaces,v=n.enabled(d)),v),set:y=>{p=y}}),typeof n.init=="function"&&n.init(_),_}function i(d,c){const p=n(this.namespace+(typeof c>"u"?":":c)+d);return p.log=this.log,p}function a(d){n.save(d),n.namespaces=d,n.names=[],n.skips=[];const c=(typeof d=="string"?d:"").trim().replace(" ",",").split(",").filter(Boolean);for(const p of c)p[0]==="-"?n.skips.push(p.slice(1)):n.names.push(p)}function o(d,c){let p=0,b=0,v=-1,_=0;for(;p<d.length;)if(b<c.length&&(c[b]===d[p]||c[b]==="*"))c[b]==="*"?(v=b,_=p,b++):(p++,b++);else if(v!==-1)b=v+1,_++,p=_;else return!1;for(;b<c.length&&c[b]==="*";)b++;return b===c.length}function s(){const d=[...n.names,...n.skips.map(c=>"-"+c)].join(",");return n.enable(""),d}function l(d){for(const c of n.skips)if(o(d,c))return!1;for(const c of n.names)if(o(d,c))return!0;return!1}function u(d){return d instanceof Error?d.stack||d.message:d}function f(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}return Sw=e,Sw}var YL;function JJ(){return YL||(YL=1,function(e,t){var r={};t.formatArgs=i,t.save=a,t.load=o,t.useColors=n,t.storage=s(),t.destroy=(()=>{let u=!1;return()=>{u||(u=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let u;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(u=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(u[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(u){if(u[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+u[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const f="color: "+this.color;u.splice(1,0,f,"color: inherit");let d=0,c=0;u[0].replace(/%[a-zA-Z%]/g,p=>{p!=="%%"&&(d++,p==="%c"&&(c=d))}),u.splice(c,0,f)}t.log=console.debug||console.log||(()=>{});function a(u){try{u?t.storage.setItem("debug",u):t.storage.removeItem("debug")}catch{}}function o(){let u;try{u=t.storage.getItem("debug")}catch{}return!u&&typeof ze<"u"&&"env"in ze&&(u=r.DEBUG),u}function s(){try{return localStorage}catch{}}e.exports=XJ()(t);const{formatters:l}=e.exports;l.j=function(u){try{return JSON.stringify(u)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}}}(R0,R0.exports)),R0.exports}var kd={},Zr={},QL;function V8(){if(QL)return Zr;QL=1,Object.defineProperty(Zr,"__esModule",{value:!0}),Zr.ZeroOrOnePath=Zr.ZeroOrMorePath=Zr.OneOrMorePath=Zr.MultiPath=Zr.InversePath=Zr.AlternativePath=Zr.SequencePath=Zr.PredicatePath=void 0;class e{constructor(u){this.predicate=u}toString(){return`<${this.predicate.value}>`}found(u,f=!1){return u.enter(this.predicate,f)}match(u,f,d,c,p=!1){let b=(p?u.getQuads(null,this.predicate,d,null):u.getQuads(d,this.predicate,null,null)).filter(v=>!c.includes(v.graph.value));if(b.length>0){let v=f.push(this.predicate,p);return b.map(_=>{const y=p?_.subject:_.object;return{path:[_],target:y,cbdExtracted:v}})}else return[]}}Zr.PredicatePath=e;class t{constructor(u){this.sequence=u}found(u,f){let d=u;for(const c of this.sequence)d&&(d=c.found(d,f));return d}toString(){return this.sequence.map(u=>u.toString()).join("/")}match(u,f,d,c,p=!1){let b=[{path:[],target:d,cbdExtracted:f}];for(const v of this.sequence)b=b.flatMap(_=>v.match(u,_.cbdExtracted,_.target,c,p).map(m=>({path:[..._.path,...m.path],cbdExtracted:m.cbdExtracted,target:m.target})));return b}}Zr.SequencePath=t;class r{constructor(u){this.alternatives=u}found(u,f){for(const d of this.alternatives){const c=d.found(u,f);if(c)return c}}toString(){return this.alternatives.map(u=>u.toString()).join("|")}match(u,f,d,c,p=!1){return this.alternatives.flatMap(b=>b.match(u,f,d,c,p))}}Zr.AlternativePath=r;class n{constructor(u){this.path=u}found(u,f){return this.path.found(u,!f)}toString(){return"^"+this.path.toString()}match(u,f,d,c,p=!1){return this.path.match(u,f,d,c,!p)}}Zr.InversePath=n;class i{constructor(u,f){this.path=u,this.maxCount=f}match(u,f,d,c,p=!1){const b=[];let v=[{path:[],target:d,cbdExtracted:f}];for(let _=0;!(this.maxCount&&_>this.maxCount||v.length===0);_++){const y=[];for(const m of v){this.filter(_,m)&&b.push(m);for(const g of this.path.match(u,m.cbdExtracted,m.target,c,p))y.push({path:[...m.path,...g.path],cbdExtracted:m.cbdExtracted,target:g.target})}v=y}return b}}Zr.MultiPath=i;class a extends i{constructor(u){super(u)}filter(u,f){return u>=1}toString(){return this.path.toString()+"+"}found(u,f){let d=this.path.found(u,f);if(!d)return;let c=this.path.found(d,f);for(;c;)d=c,c=this.path.found(d,f);return d}}Zr.OneOrMorePath=a;class o extends i{constructor(u){super(u)}filter(u,f){return!0}toString(){return this.path.toString()+"*"}found(u,f){let d=this.path.found(u,f);for(;d;)u=d,d=this.path.found(u,f);return u}}Zr.ZeroOrMorePath=o;class s extends i{constructor(u){super(u,1)}filter(u,f){return u<2}toString(){return this.path.toString()+"?"}found(u,f){return this.path.found(u,f)||u}}return Zr.ZeroOrOnePath=s,Zr}var XL;function eee(){if(XL)return kd;XL=1,Object.defineProperty(kd,"__esModule",{value:!0}),kd.ShapesGraph=void 0;const e=V8(),t=y6(),r=vx(),n=Jr(),i=new n.DataFactory,a=(0,t.createTermNamespace)("http://www.w3.org/ns/shacl#","zeroOrMorePath","zeroOrOnePath","oneOrMorePath","inversePath","alternativePath","deactivated","minCount","path","node","closed","property","and","xone","or","NodeShape");let o=class{constructor(f){this.shapes=this.initializeFromStore(f),this.counter=0}toMermaid(f){const d=this.shapes.get(f);if(this.counter=0,!d)throw new Error(`No shape found for term "${f.value}"`);let c=`flowchart LR
`;return c+=this.toMermaidSingleShape(d,"1",d.label||"Shape"),c}toMermaidSingleShape(f,d,c){let p=`  S${d}((${c}))
`,b=[];return f.nodeLinks.forEach(v=>{let _=v.pathPattern.toString();const y=this.isPathRequired(_,f.requiredPaths);b.push(_),_=this.cleanPath(_);const m=this.shapes.get(v.link);if(!m)throw new Error(`The linked shape "${v.link}" is not found`);const g=`${d}_${this.counter}`;let E="-->";y||(E="-.->"),_.startsWith("^")?(_=_.substring(1),p+=`  S${g}[ ]${E}|"${_}"|S${d}
`):p+=`  S${d}${E}|"${_}"|S${g}[ ]
`,this.counter++;const T=this.toMermaidSingleShape(m,g,m.label||"Shape");p+=T}),f.atLeastOneLists.forEach(v=>{if(v.length>0){const _=`${d}_${this.counter}`;p+=`  S${d}---X${_}{OR}
`,v.forEach(y=>{const m=`${d}_${this.counter}`;this.counter++,p+=`  X${_}---S${m}
`;const g=this.toMermaidSingleShape(y,m,y.label||"Shape");p+=g})}}),p+=this.simplePathToMermaid(f.requiredPaths,b,d,"-->"),p+=this.simplePathToMermaid(f.optionalPaths,b,d,"-.->"),p}cleanPath(f){return f=f.replace(/</g,""),f.replace(/>/g,"")}isPathRequired(f,d){for(const c of d)if(f===c.toString())return!0;return!1}simplePathToMermaid(f,d,c,p){let b="";return f.forEach(v=>{let _=v.toString();d.includes(_)||(d.push(_),_=this.cleanPath(_),this.isRealInversePath(_)?(_=this.getRealPath(_),b+=`  S${c}_${this.counter}[ ]${p}|"${_}"|S${c}
`):(_=this.getRealPath(_),b+=`  S${c}${p}|"${_}"|S${c}_${this.counter}[ ]
`),this.counter++)}),b}isRealInversePath(f){const d=f.match(/^(\^+)[^\^]+/);return d?d[1].length%2!==0:!1}getRealPath(f){const d=f.match(/^\^*([^\^]+)/);if(!d)throw new Error(`No real path found in "${f}"`);return d[1]}constructPathPattern(f,d){if(d.termType==="BlankNode"){let c=l(f,d,a.zeroOrMorePath,null),p=l(f,d,a.oneOrMorePath,null),b=l(f,d,a.zeroOrOnePath,null),v=l(f,d,a.inversePath,null),_=l(f,d,a.alternativePath,null);if(c[0])return new e.ZeroOrMorePath(this.constructPathPattern(f,c[0]));if(p[0])return new e.OneOrMorePath(this.constructPathPattern(f,p[0]));if(b[0])return new e.ZeroOrOnePath(this.constructPathPattern(f,b[0]));if(v[0])return new e.InversePath(this.constructPathPattern(f,v[0]));if(_[0]){let y=this.rdfListToArray(f,_[0]).map(m=>this.constructPathPattern(f,m));return new e.AlternativePath(y)}else{const y=this.rdfListToArray(f,d);return new e.SequencePath(y.map(m=>this.constructPathPattern(f,m)))}}return new e.PredicatePath(d)}preprocessPropertyShape(f,d,c,p){let b=l(f,d,a.deactivated,null);if(b.length>0&&b[0].value==="true")return!0;let v=l(f,d,a.path,null)[0];if(!v)return!1;let _=this.constructPathPattern(f,v),y=l(f,d,a.minCount,null);y[0]&&y[0].value!=="0"||p?c.requiredPaths.push(_):c.optionalPaths.push(_);let m=l(f,d,a.node,null);return m[0]&&c.nodeLinks.push(new r.NodeLink(_,m[0])),!0}preprocessShape(f,d,c){return this.preprocessPropertyShape(f,d,c)?!0:this.preprocessNodeShape(f,d,c)}preprocessNodeShape(f,d,c){const p=l(f,d,t.RDFS.terms.label)[0];p?c.label=p.value:c.label=d.termType==="BlankNode"?d.value:d.value.split("/")[d.value.split("/").length-1];let b=l(f,d,a.closed,null)[0];b&&b.value==="true"&&(c.closed=!0);let v=l(f,d,a.property,null);for(let _ of v)this.preprocessPropertyShape(f,_,c);for(let _ of l(f,d,a.and,null))for(let y of this.rdfListToArray(f,_))this.preprocessShape(f,y,c);for(let _ of l(f,d,a.xone,null).concat(l(f,d,a.or,null))){let y=this.rdfListToArray(f,_).map(m=>{let g=new r.ShapeTemplate;return this.preprocessShape(f,m,g),g});c.atLeastOneLists.push(y)}}initializeFromStore(f){const d=[].concat(s(f,a.property,null,null)).concat(s(f,t.RDF.terms.type,a.NodeShape,null)).concat(l(f,null,a.node,null)).filter((p,b,v)=>v.findIndex(_=>_.equals(p))===b);let c=new r.RDFMap;for(let p of d){let b=new r.ShapeTemplate,v=l(f,p,a.deactivated,null);v.length>0&&v[0].value==="true"||(this.preprocessNodeShape(f,p,b),c.set(p,b))}return c}*rdfListToGenerator(f,d){if(l(f,d,i.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"),null)[0]){yield l(f,d,i.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"),null)[0];let c=l(f,d,i.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"),null)[0];for(;c&&c.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#nil";)yield l(f,c,i.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"),null)[0],c=l(f,c,i.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"),null)[0]}else yield d}rdfListToArray(f,d){return Array.from(this.rdfListToGenerator(f,d))}};kd.ShapesGraph=o;const s=function(u,f,d,c){return u.getQuads(null,f,d,c).map(p=>p.subject)},l=function(u,f,d,c){return u.getQuads(f,d,null,c).map(p=>p.object)};return kd}var JL;function tee(){if(JL)return yo;JL=1;var e=yo.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(yo,"__esModule",{value:!0}),yo.CbdExtracted=yo.CBDShapeExtractor=void 0;const t=bx(),r=vx(),n=Jr(),i=N6(),a=e(JJ()),o=eee(),s=(0,a.default)("extract-cbd-shape"),l=new n.DataFactory;let u=class{constructor(p,b,v={}){this.options=Object.assign({cbdDefaultGraph:!1},v),b?this.dereferencer=b:this.dereferencer=t.rdfDereferencer,p&&(this.shapesGraph=new o.ShapesGraph(p))}async bulkExtract(p,b,v,_,y){const m=[],g=new Set(b.map(D=>D.value)),E={};for(let D of b)E[D.value]=[];const T=i.RdfStore.createDefault();for(let D of p.readQuads(null,null,null,null))D.graph.termType=="NamedNode"&&g.has(D.graph.value)?E[D.graph.value].push(D):T.addQuad(D);const I=[];for(let D of b){const B=this.extract(T,D,v,(_||[]).slice()).then(N=>{N.push(...E[D.value]),y&&y({subject:D,quads:N}),m.push({subject:D,quads:N})});I.push(B)}return await Promise.all(I),m}async extract(p,b,v,_){let y=(_||[]).map(g=>g.value);return await new d(p,this.dereferencer,y,this.options,this.shapesGraph).extract(b,!1,v)}};yo.CBDShapeExtractor=u;class f{constructor(p,b=new r.RDFMap){p?this.topology=p:this.topology={forwards:{},backwards:{}},this.cbdExtractedMap=b}addCBDTerm(p){const b=this.cbdExtractedMap.get(p);b?b.cbd=!0:this.cbdExtractedMap.set(p,{cbd:!0,shape:!1})}addShapeTerm(p){const b=this.cbdExtractedMap.get(p);b?b.shape=!0:this.cbdExtractedMap.set(p,{cbd:!0,shape:!1})}cbdExtracted(p){var b;return!!((b=this.cbdExtractedMap.get(p))!=null&&b.shape)}push(p,b){if(b){if(!this.topology.backwards[p.value]){const v={forwards:{},backwards:{}};v.forwards[p.value]=this.topology,this.topology.backwards[p.value]=v}return new f(this.topology.backwards[p.value],this.cbdExtractedMap)}else{if(!this.topology.forwards[p.value]){const v={forwards:{},backwards:{}};v.backwards[p.value]=this.topology,this.topology.forwards[p.value]=v}return new f(this.topology.forwards[p.value],this.cbdExtractedMap)}}enter(p,b){const v=b?this.topology.backwards[p.value]:this.topology.forwards[p.value];if(v)return new f(v,this.cbdExtractedMap)}}yo.CbdExtracted=f;class d{constructor(p,b,v,_,y){this.dereferenced=new Set,this.store=p,this.dereferencer=b,this.shapesGraph=y,this.graphsToIgnore=v,this.options=_}async extract(p,b,v){const _=await this.maybeExtractRecursively(p,new f,b,v);return _.push(...this.store.getQuads(null,null,null,p)),_.length===0&&await this.dereference(p.value)?(await this.maybeExtractRecursively(p,new f,b,v)).filter((m,g,E)=>g===E.findIndex(T=>T.equals(m))):_.filter((y,m,g)=>m===g.findIndex(E=>E.equals(y)))}async dereference(p){return this.dereferenced.has(p)?(s("Will not dereference "+p+" again"),!1):(this.dereferenced.add(p),await this.loadQuadStreamInStore((await this.dereferencer.dereference(p,{fetch:this.options.fetch})).data),!0)}async maybeExtractRecursively(p,b,v,_){return b.cbdExtracted(p)?[]:(b.addShapeTerm(p),this.extractRecursively(p,b,v,_))}async extractRecursively(p,b,v,_){const y=[];let m;if(_ instanceof r.ShapeTemplate?m=_:_&&this.shapesGraph&&(m=this.shapesGraph.shapes.get(_)),m!=null&&m.closed||this.CBD(p,y,b,this.graphsToIgnore),m){let g=[],E=[];m.fillPathsAndLinks(g,E);for(let T of m.requiredPaths.concat(m.optionalPaths,g))if(!T.found(b)||m.closed){let I=T.match(this.store,b,p,this.graphsToIgnore).flatMap(D=>D.path);y.push(...I)}for(let T of m.nodeLinks.concat(E)){let I=T.pathPattern.match(this.store,b,p,this.graphsToIgnore);for(let D of I)y.push(...await this.maybeExtractRecursively(D.target,D.cbdExtracted,v,T.link))}}if(!v&&p.termType==="NamedNode"&&m){const g=m.requiredAreNotPresent(b);if(g){if(await this.dereference(p.value))return this.extractRecursively(p,b,v,_);s(`${p.value} does not adhere to the shape (${g.toString()})`)}}return y}async CBD(p,b,v,_){v.addCBDTerm(p);const y=this.options.cbdDefaultGraph?l.defaultGraph():null,m=this.store.getQuads(p,null,null,y);for(const g of m){if(_!=null&&_.includes(g.graph.value))continue;b.push(g);const E=v.push(g.predicate,!1);g.object.termType==="BlankNode"&&!v.cbdExtracted(g.object)&&await this.CBD(g.object,b,E,_)}}loadQuadStreamInStore(p){return new Promise((b,v)=>{this.store.import(p).on("end",b).on("error",v)})}}return yo}var eM;function ree(){return eM||(eM=1,function(e){var t=pu.__createBinding||(Object.create?function(s,l,u,f){f===void 0&&(f=u);var d=Object.getOwnPropertyDescriptor(l,u);(!d||("get"in d?!l.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return l[u]}}),Object.defineProperty(s,f,d)}:function(s,l,u,f){f===void 0&&(f=u),s[f]=l[u]}),r=pu.__setModuleDefault||(Object.create?function(s,l){Object.defineProperty(s,"default",{enumerable:!0,value:l})}:function(s,l){s.default=l}),n=pu.__importStar||function(s){if(s&&s.__esModule)return s;var l={};if(s!=null)for(var u in s)u!=="default"&&Object.prototype.hasOwnProperty.call(s,u)&&t(l,s,u);return r(l,s),l};Object.defineProperty(e,"__esModule",{value:!0}),e.shape=e.path=e.CBDShapeExtractor=void 0;const i=tee();Object.defineProperty(e,"CBDShapeExtractor",{enumerable:!0,get:function(){return i.CBDShapeExtractor}});const a=n(vx());e.shape=a;const o=n(V8());e.path=o}(pu)),pu}var nee=ree();function iee(e,t,r,n,i){const a=ii("extractRelations"),o=r?Hr(e,null,mt.TREE.terms.relation,null):Hr(e,t,mt.TREE.terms.relation,null),s=t.value,l=new Map;for(const f of o){const d=Hr(e,f,mt.TREE.terms.node,null)[0],c=Hr(e,f,mt.RDF.terms.type,null)[0]||mt.TREE.Relation,p=Hr(e,f,mt.TREE.terms.path,null)[0],b=Hr(e,f,mt.TREE.terms.value,null),v={type:c,path:p,value:b,id:f},_=l.get(d.value);if(_)_.relation.relations.push(v),_.cond.addRelation(f);else{const y=new yY(e,i);y.addRelation(f),l.set(d.value,{cond:y,relation:{node:d.value,source:s,relations:[v]}})}}const u=[];for(const f of l.values())f.cond.allowed(n)&&u.push(f.relation);return a.debug(`allowed ${JSON.stringify(u.map(f=>f.node))}`),u}const{namedNode:aee}=new cS.DataFactory;function oee(){const e={};return e.waiting=new Promise(t=>e.callback=t),e}function tM(e){const t=e.callback;e.waiting=new Promise(r=>e.callback=r),t()}class see{constructor(t,r,n,i,a,o){Ye(this,"dereferencer");Ye(this,"loose");Ye(this,"fetch_f");Ye(this,"condition");Ye(this,"defaultTimezone");Ye(this,"includeMetadata");Ye(this,"closed",!1);Ye(this,"logger",ii(this));this.dereferencer=t,this.loose=r,this.fetch_f=o,this.condition=n,this.defaultTimezone=i,this.includeMetadata=a}close(){this.closed=!0}async fetch(t,r,n){try{const i={localFiles:!0,fetch:this.fetch_f};this.includeMetadata&&(i.headers={Accept:"application/metadata+trig"});const a=await this.dereferencer.dereference(t.target,i);t.target=a.url;const o={};if(a.headers){const u=a.headers.get("cache-control");if(u){const f=u.split(",").map(d=>d.split("=",2).map(c=>c.trim()));for(const d of f)d[0]=="max-age"&&(o.maxAge=parseInt(d[1])),d[0]=="immutable"&&(o.immutable=!0)}}o.immutable||this.closed||n.scheduleFetch(t,r),this.logger.debug(`[fetch] Cache for ${t.target} ${JSON.stringify(o)}`);const s=ju.RdfStore.createDefault();let l=0;await new Promise((u,f)=>{a.data.on("data",d=>{s.addQuad(d),l++}).on("end",u).on("error",f)}),this.logger.debug(`[fetch] Got data ${t.target} (${l} quads)`);for(const u of iee(s,aee(a.url),this.loose,this.condition,this.defaultTimezone))t.expected.some(f=>f==u.node)||this.closed||n.relationFound({from:t,target:u},r);this.closed||n.pageFetched({data:s,url:a.url},r)}catch(i){this.logger.error(`[fetch] Fetch failed ${JSON.stringify(i)}`),n.error(i,r)}}}const{namedNode:Fd}=xi;class uee{constructor(t,r,n){Ye(this,"queued",0);Ye(this,"closed",!1);Ye(this,"resolve");Ye(this,"ldesId");Ye(this,"state");Ye(this,"extractor");Ye(this,"shapeId");Ye(this,"timestampPath");Ye(this,"isVersionOfPath");Ye(this,"logger",ii(this));this.ldesId=t,this.state=r,this.extractor=n.extractor,this.timestampPath=n.timestampPath,this.isVersionOfPath=n.isVersionOfPath,this.shapeId=n.shape,this.logger.debug(`new ${t.value} ${JSON.stringify({extractor:n.extractor.constructor.name,shape:n.shape,timestampPath:n.timestampPath,isVersionOfPath:n.isVersionOfPath})}`)}extractMembers(t,r,n){var f;const i=Hr(t.data,this.ldesId,mt.TREE.terms.member,null),a=(f=Hr(t.data,Fd(t.url),mt.DC.terms.custom("created"),null)[0])==null?void 0:f.value,o=a?new Date(a):void 0,s=Hr(t.data,Fd(t.url),mt.DC.terms.modified,null)[0],l=s?new Date(s.value):void 0;this.logger.debug(`Extracting ${i.length} members`);const u=[];for(const d of i)if(!this.state.has(d.value)){const c=this.extractMember(d,t.data).then(p=>(p&&(this.closed||n.extracted(p,r)),p)).catch(p=>{this.logger.error(p),n.error({error:p,type:"extract",memberId:d},r)});u.push(c)}Promise.all(u).then(d=>{this.logger.debug("All members extracted"),this.closed||n.done({id:Fd(t.url),created:o,updated:l},r)})}close(){this.logger.debug("Closing stream"),this.resolve&&(this.resolve(),this.resolve=void 0),this.closed=!0,this.logger.debug("this.resolve()")}length(){return this.state.size}reset(){return this.logger.debug(`Resetting with ${this.queued} members in queue`),this.queued=0,new Promise(t=>this.resolve=t)}async extractMemberQuads(t,r){return await this.extractor.extract(r,t,this.shapeId,[Fd(mt.LDES.custom("IngestionMetadata"))])}async extractMember(t,r){var n;if(!this.state.has(t.value))try{const i=await this.extractMemberQuads(t,r),a=(n=Hr(r,t,mt.DC.terms.custom("created"),Fd(mt.LDES.custom("IngestionMetadata")))[0])==null?void 0:n.value;if(i.length>0)return this.state.add(t.value),hY(t,i,this.timestampPath,this.isVersionOfPath,a?new Date(a):void 0)}catch(i){this.logger.error(i);return}}}class lee{constructor(t,r,n,i,a,o){Ye(this,"manager");Ye(this,"fetcher");Ye(this,"notifier");Ye(this,"inFlight",0);Ye(this,"fetchNotifier");Ye(this,"memberNotifier");Ye(this,"modulator");Ye(this,"cacheList",[]);Ye(this,"polling");Ye(this,"pollInterval");Ye(this,"canceled",!1);Ye(this,"logger",ii(this));this.pollInterval=o,this.notifier=n,this.manager=t,this.fetcher=r,this.polling=a,this.fetchNotifier={error:s=>{this.logger.error(`[fetch] Error: ${JSON.stringify(s)}`),this.notifier.error(s,{})},scheduleFetch:s=>{this.cacheList.push(s),this.notifier.mutable({},{})},pageFetched:(s,{index:l})=>{this.logger.debug(`Paged fetched ${s.url}`),this.handleFetched(s,l)},relationFound:({from:s,target:l})=>{s.expected.push(l.node),this.inFlight+=1,this.modulator.push({target:l.node,expected:[s.target]})}},this.memberNotifier={error:s=>{this.notifier.error(s,{})},done:s=>{this.logger.debug("[member] Members on page done"),this.inFlight-=1,this.checkEnd(),this.notifier.fragment(s,{})},extracted:s=>this.notifier.member(s,{})},this.modulator=i.create("fetcher",[],{ready:({item:s,index:l})=>this.fetcher.fetch(s,{index:l},this.fetchNotifier)})}start(t){this.inFlight=this.modulator.length(),this.inFlight<1?(this.inFlight=1,this.modulator.push({target:t,expected:[]}),this.logger.debug("[start] Nothing in flight, adding start url")):this.logger.debug("[start] Things are already inflight, not adding start url")}cancel(){this.canceled=!0}handleFetched(t,r){this.modulator.finished(r),this.manager.extractMembers(t,{},this.memberNotifier)}checkEnd(){this.canceled||this.inFlight==0&&(this.polling?setTimeout(()=>{if(this.canceled)return;this.notifier.pollCycle({},{});const t=this.cacheList.slice();this.cacheList=[];for(const r of t)this.inFlight+=1,this.modulator.push(r)},this.pollInterval||1e3):(this.logger.debug("Closing the notifier, polling is not set"),this.canceled=!0,this.notifier.close({},{})))}}var Yt=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(f){try{u(n.next(f))}catch(d){o(d)}}function l(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?a(f.value):i(f.value).then(s,l)}u((n=n.apply(e,t||[])).next())})},Kt=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(f){return l([u,f])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Hn=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},hi=function(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))},rM=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function e(t){t===void 0&&(t=e.minComparator);var r=this;this.compare=t,this.heapArray=[],this._limit=0,this.offer=this.add,this.element=this.peek,this.poll=this.pop,this._invertedCompare=function(n,i){return r.compare(n,i).then(function(a){return-1*a})}}return e.getChildrenIndexOf=function(t){return[t*2+1,t*2+2]},e.getParentIndexOf=function(t){if(t<=0)return-1;var r=t%2?1:2;return Math.floor((t-r)/2)},e.getSiblingIndexOf=function(t){if(t<=0)return-1;var r=t%2?1:-1;return t+r},e.minComparator=function(t,r){return Yt(this,void 0,void 0,function(){return Kt(this,function(n){return t>r?[2,1]:t<r?[2,-1]:[2,0]})})},e.maxComparator=function(t,r){return Yt(this,void 0,void 0,function(){return Kt(this,function(n){return r>t?[2,1]:r<t?[2,-1]:[2,0]})})},e.minComparatorNumber=function(t,r){return Yt(this,void 0,void 0,function(){return Kt(this,function(n){return[2,t-r]})})},e.maxComparatorNumber=function(t,r){return Yt(this,void 0,void 0,function(){return Kt(this,function(n){return[2,r-t]})})},e.defaultIsEqual=function(t,r){return Yt(this,void 0,void 0,function(){return Kt(this,function(n){return[2,t===r]})})},e.print=function(t){function r(f){var d=e.getParentIndexOf(f);return Math.floor(Math.log2(d+1))}function n(f,d){for(var c="";d>0;--d)c+=f;return c}for(var i=0,a=[],o=r(t.length-1)+2,s=0;i<t.length;){var l=r(i)+1;i===0&&(l=0);var u=String(t.get(i));u.length>s&&(s=u.length),a[l]=a[l]||[],a[l].push(u),i+=1}return a.map(function(f,d){var c=Math.pow(2,o-d)-1;return n(" ",Math.floor(c/2)*s)+f.map(function(p){var b=(s-p.length)/2;return n(" ",Math.ceil(b))+p+n(" ",Math.floor(b))}).join(n(" ",c*s))}).join(`
`)},e.heapify=function(t,r){return Yt(this,void 0,void 0,function(){var n;return Kt(this,function(i){switch(i.label){case 0:return n=new e(r),n.heapArray=t,[4,n.init()];case 1:return i.sent(),[2,n]}})})},e.heappop=function(t,r){var n=new e(r);return n.heapArray=t,n.pop()},e.heappush=function(t,r,n){return Yt(this,void 0,void 0,function(){var i;return Kt(this,function(a){switch(a.label){case 0:return i=new e(n),i.heapArray=t,[4,i.push(r)];case 1:return a.sent(),[2]}})})},e.heappushpop=function(t,r,n){var i=new e(n);return i.heapArray=t,i.pushpop(r)},e.heapreplace=function(t,r,n){var i=new e(n);return i.heapArray=t,i.replace(r)},e.heaptop=function(t,r,n){r===void 0&&(r=1);var i=new e(n);return i.heapArray=t,i.top(r)},e.heapbottom=function(t,r,n){r===void 0&&(r=1);var i=new e(n);return i.heapArray=t,i.bottom(r)},e.nlargest=function(t,r,n){return Yt(this,void 0,void 0,function(){var i;return Kt(this,function(a){switch(a.label){case 0:return i=new e(n),i.heapArray=hi([],Hn(r),!1),[4,i.init()];case 1:return a.sent(),[2,i.top(t)]}})})},e.nsmallest=function(t,r,n){return Yt(this,void 0,void 0,function(){var i;return Kt(this,function(a){switch(a.label){case 0:return i=new e(n),i.heapArray=hi([],Hn(r),!1),[4,i.init()];case 1:return a.sent(),[2,i.bottom(t)]}})})},e.prototype.add=function(t){return Yt(this,void 0,void 0,function(){return Kt(this,function(r){switch(r.label){case 0:return[4,this._sortNodeUp(this.heapArray.push(t)-1)];case 1:return r.sent(),this._applyLimit(),[2,!0]}})})},e.prototype.addAll=function(t){return Yt(this,void 0,void 0,function(){var r,n,i;return Kt(this,function(a){switch(a.label){case 0:r=this.length,(i=this.heapArray).push.apply(i,hi([],Hn(t),!1)),n=this.length,a.label=1;case 1:return r<n?[4,this._sortNodeUp(r)]:[3,4];case 2:a.sent(),a.label=3;case 3:return++r,[3,1];case 4:return this._applyLimit(),[2,!0]}})})},e.prototype.bottom=function(){return Yt(this,arguments,void 0,function(t){return t===void 0&&(t=1),Kt(this,function(r){return this.heapArray.length===0||t<=0?[2,[]]:this.heapArray.length===1?[2,[this.heapArray[0]]]:t>=this.heapArray.length?[2,hi([],Hn(this.heapArray),!1)]:[2,this._bottomN_push(~~t)]})})},e.prototype.check=function(){return Yt(this,void 0,void 0,function(){var t,r,n,i,a,o,s,l,u;return Kt(this,function(f){switch(f.label){case 0:t=0,f.label=1;case 1:if(!(t<this.heapArray.length))return[3,10];r=this.heapArray[t],n=this.getChildrenOf(t),f.label=2;case 2:f.trys.push([2,7,8,9]),i=(l=void 0,rM(n)),a=i.next(),f.label=3;case 3:return a.done?[3,6]:(o=a.value,[4,this.compare(r,o)]);case 4:if(f.sent()>0)return[2,r];f.label=5;case 5:return a=i.next(),[3,3];case 6:return[3,9];case 7:return s=f.sent(),l={error:s},[3,9];case 8:try{a&&!a.done&&(u=i.return)&&u.call(i)}finally{if(l)throw l.error}return[7];case 9:return++t,[3,1];case 10:return[2]}})})},e.prototype.clear=function(){this.heapArray=[]},e.prototype.clone=function(){var t=new e(this.comparator());return t.heapArray=this.toArray(),t._limit=this._limit,t},e.prototype.comparator=function(){return this.compare},e.prototype.contains=function(t){return Yt(this,arguments,void 0,function(r,n){var i,a,o,s,l,u;return n===void 0&&(n=e.defaultIsEqual),Kt(this,function(f){switch(f.label){case 0:f.trys.push([0,5,6,7]),i=rM(this.heapArray),a=i.next(),f.label=1;case 1:return a.done?[3,4]:(o=a.value,[4,n(o,r)]);case 2:if(f.sent())return[2,!0];f.label=3;case 3:return a=i.next(),[3,1];case 4:return[3,7];case 5:return s=f.sent(),l={error:s},[3,7];case 6:try{a&&!a.done&&(u=i.return)&&u.call(i)}finally{if(l)throw l.error}return[7];case 7:return[2,!1]}})})},e.prototype.init=function(t){return Yt(this,void 0,void 0,function(){var r;return Kt(this,function(n){switch(n.label){case 0:t&&(this.heapArray=hi([],Hn(t),!1)),r=Math.floor(this.heapArray.length),n.label=1;case 1:return r>=0?[4,this._sortNodeDown(r)]:[3,4];case 2:n.sent(),n.label=3;case 3:return--r,[3,1];case 4:return this._applyLimit(),[2]}})})},e.prototype.isEmpty=function(){return this.length===0},e.prototype.leafs=function(){if(this.heapArray.length===0)return[];var t=e.getParentIndexOf(this.heapArray.length-1);return this.heapArray.slice(t+1)},Object.defineProperty(e.prototype,"length",{get:function(){return this.heapArray.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"limit",{get:function(){return this._limit},set:function(t){this._limit=~~t,this._applyLimit()},enumerable:!1,configurable:!0}),e.prototype.peek=function(){return this.heapArray[0]},e.prototype.pop=function(){return Yt(this,void 0,void 0,function(){var t;return Kt(this,function(r){return t=this.heapArray.pop(),this.length>0&&t!==void 0?[2,this.replace(t)]:[2,t]})})},e.prototype.push=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Yt(this,void 0,void 0,function(){return Kt(this,function(n){return t.length<1?[2,!1]:t.length===1?[2,this.add(t[0])]:[2,this.addAll(t)]})})},e.prototype.pushpop=function(t){return Yt(this,void 0,void 0,function(){var r;return Kt(this,function(n){switch(n.label){case 0:return[4,this.compare(this.heapArray[0],t)];case 1:return n.sent()<0?(r=Hn([this.heapArray[0],t],2),t=r[0],this.heapArray[0]=r[1],[4,this._sortNodeDown(0)]):[3,3];case 2:n.sent(),n.label=3;case 3:return[2,t]}})})},e.prototype.remove=function(t){return Yt(this,arguments,void 0,function(r,n){var i,a,o,s=this;return n===void 0&&(n=e.defaultIsEqual),Kt(this,function(l){switch(l.label){case 0:return this.heapArray.length?r!==void 0?[3,2]:[4,this.pop()]:[2,!1];case 1:return l.sent(),[2,!0];case 2:i=[0],l.label=3;case 3:return i.length?(a=i.shift(),[4,n(this.heapArray[a],r)]):[3,13];case 4:return l.sent()?a!==0?[3,6]:[4,this.pop()]:[3,11];case 5:return l.sent(),[3,10];case 6:return a!==this.heapArray.length-1?[3,7]:(this.heapArray.pop(),[3,10]);case 7:return this.heapArray.splice(a,1,this.heapArray.pop()),[4,this._sortNodeUp(a)];case 8:return l.sent(),[4,this._sortNodeDown(a)];case 9:l.sent(),l.label=10;case 10:return[2,!0];case 11:o=e.getChildrenIndexOf(a).filter(function(u){return u<s.heapArray.length}),i.push.apply(i,hi([],Hn(o),!1)),l.label=12;case 12:return[3,3];case 13:return[2,!1]}})})},e.prototype.replace=function(t){return Yt(this,void 0,void 0,function(){var r;return Kt(this,function(n){switch(n.label){case 0:return r=this.heapArray[0],this.heapArray[0]=t,[4,this._sortNodeDown(0)];case 1:return n.sent(),[2,r]}})})},e.prototype.size=function(){return this.length},e.prototype.top=function(){return Yt(this,arguments,void 0,function(t){return t===void 0&&(t=1),Kt(this,function(r){return this.heapArray.length===0||t<=0?[2,[]]:this.heapArray.length===1||t===1?[2,[this.heapArray[0]]]:t>=this.heapArray.length?[2,hi([],Hn(this.heapArray),!1)]:[2,this._topN_push(~~t)]})})},e.prototype.toArray=function(){return hi([],Hn(this.heapArray),!1)},e.prototype.toString=function(){return this.heapArray.toString()},e.prototype.get=function(t){return this.heapArray[t]},e.prototype.getChildrenOf=function(t){var r=this;return e.getChildrenIndexOf(t).map(function(n){return r.heapArray[n]}).filter(function(n){return n!==void 0})},e.prototype.getParentOf=function(t){var r=e.getParentIndexOf(t);return this.heapArray[r]},e.prototype[Symbol.iterator]=function(){return Kt(this,function(t){switch(t.label){case 0:return this.length?[4,this.pop()]:[3,2];case 1:return t.sent(),[3,0];case 2:return[2]}})},e.prototype.iterator=function(){return this},e.prototype._applyLimit=function(){if(this._limit&&this._limit<this.heapArray.length)for(var t=this.heapArray.length-this._limit;t;)this.heapArray.pop(),--t},e.prototype._bottomN_push=function(t){return Yt(this,void 0,void 0,function(){var r,n,i,a,s,o,s;return Kt(this,function(l){switch(l.label){case 0:return r=new e(this.compare),r.limit=t,r.heapArray=this.heapArray.slice(-t),[4,r.init()];case 1:for(l.sent(),n=this.heapArray.length-1-t,i=e.getParentIndexOf(n),a=[],s=n;s>i;--s)a.push(s);o=this.heapArray,l.label=2;case 2:return a.length?(s=a.shift(),[4,this.compare(o[s],r.peek())]):[3,6];case 3:return l.sent()>0?[4,r.replace(o[s])]:[3,5];case 4:l.sent(),s%2&&a.push(e.getParentIndexOf(s)),l.label=5;case 5:return[3,2];case 6:return[2,r.toArray()]}})})},e.prototype._moveNode=function(t,r){var n;n=Hn([this.heapArray[r],this.heapArray[t]],2),this.heapArray[t]=n[0],this.heapArray[r]=n[1]},e.prototype._sortNodeDown=function(t){return Yt(this,void 0,void 0,function(){var r,n,i,a,o,s;return Kt(this,function(l){switch(l.label){case 0:r=this.heapArray.length,l.label=1;case 1:return n=2*t+1,i=n+1,a=t,o=n<r,o?[4,this.compare(this.heapArray[n],this.heapArray[a])]:[3,3];case 2:o=l.sent()<0,l.label=3;case 3:return o&&(a=n),s=i<r,s?[4,this.compare(this.heapArray[i],this.heapArray[a])]:[3,5];case 4:s=l.sent()<0,l.label=5;case 5:if(s&&(a=i),a===t)return[3,7];this._moveNode(t,a),t=a,l.label=6;case 6:return[3,1];case 7:return[2]}})})},e.prototype._sortNodeUp=function(t){return Yt(this,void 0,void 0,function(){var r;return Kt(this,function(n){switch(n.label){case 0:return t>0?(r=e.getParentIndexOf(t),[4,this.compare(this.heapArray[t],this.heapArray[r])]):[3,2];case 1:if(n.sent()<0)this._moveNode(t,r),t=r;else return[3,2];return[3,0];case 2:return[2]}})})},e.prototype._topN_push=function(t){return Yt(this,void 0,void 0,function(){var r,n,i,a;return Kt(this,function(o){switch(o.label){case 0:r=new e(this._invertedCompare),r.limit=t,n=[0],i=this.heapArray,o.label=1;case 1:return n.length?(a=n.shift(),a<i.length?r.length<t?[4,r.push(i[a])]:[3,3]:[3,6]):[3,7];case 2:return o.sent(),n.push.apply(n,hi([],Hn(e.getChildrenIndexOf(a)),!1)),[3,6];case 3:return[4,this.compare(i[a],r.peek())];case 4:return o.sent()<0?[4,r.replace(i[a])]:[3,6];case 5:o.sent(),n.push.apply(n,hi([],Hn(e.getChildrenIndexOf(a)),!1)),o.label=6;case 6:return[3,1];case 7:return[2,r.toArray()]}})})},e.prototype._topN_fill=function(t){return Yt(this,void 0,void 0,function(){var r,n,i,a,o,o;return Kt(this,function(s){switch(s.label){case 0:return r=this.heapArray,n=new e(this._invertedCompare),n.limit=t,n.heapArray=r.slice(0,t),[4,n.init()];case 1:for(s.sent(),i=e.getParentIndexOf(t-1)+1,a=[],o=i;o<t;++o)a.push.apply(a,hi([],Hn(e.getChildrenIndexOf(o).filter(function(l){return l<r.length})),!1));(t-1)%2&&a.push(t),s.label=2;case 2:return a.length?(o=a.shift(),o<r.length?[4,this.compare(r[o],n.peek())]:[3,5]):[3,6];case 3:return s.sent()<0?[4,n.replace(r[o])]:[3,5];case 4:s.sent(),a.push.apply(a,hi([],Hn(e.getChildrenIndexOf(o)),!1)),s.label=5;case 5:return[3,2];case 6:return[2,n.toArray()]}})})},e.prototype._topN_heap=function(t){return Yt(this,void 0,void 0,function(){var r,n,i,a,o;return Kt(this,function(s){switch(s.label){case 0:r=this.clone(),n=[],i=0,s.label=1;case 1:return i<t?(o=(a=n).push,[4,r.pop()]):[3,4];case 2:o.apply(a,[s.sent()]),s.label=3;case 3:return++i,[3,1];case 4:return[2,n]}})})},e.prototype._topIdxOf=function(t){return Yt(this,void 0,void 0,function(){var r,n,i,a;return Kt(this,function(o){switch(o.label){case 0:if(!t.length)return[2,-1];r=0,n=t[r],i=1,o.label=1;case 1:return i<t.length?[4,this.compare(t[i],n)]:[3,4];case 2:a=o.sent(),a<0&&(r=i,n=t[i]),o.label=3;case 3:return++i,[3,1];case 4:return[2,r]}})})},e.prototype._topOf=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Yt(this,void 0,void 0,function(){var n;return Kt(this,function(i){switch(i.label){case 0:return n=new e(this.compare),[4,n.init(t)];case 1:return i.sent(),[2,n.peek()]}})})},e})();var fee=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(f){return l([u,f])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},ln=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},Rn=function(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))},mu=function(){function e(t){t===void 0&&(t=e.minComparator);var r=this;this.compare=t,this.heapArray=[],this._limit=0,this.offer=this.add,this.element=this.peek,this.poll=this.pop,this.removeAll=this.clear,this._invertedCompare=function(n,i){return-1*r.compare(n,i)}}return e.getChildrenIndexOf=function(t){return[t*2+1,t*2+2]},e.getParentIndexOf=function(t){if(t<=0)return-1;var r=t%2?1:2;return Math.floor((t-r)/2)},e.getSiblingIndexOf=function(t){if(t<=0)return-1;var r=t%2?1:-1;return t+r},e.minComparator=function(t,r){return t>r?1:t<r?-1:0},e.maxComparator=function(t,r){return r>t?1:r<t?-1:0},e.minComparatorNumber=function(t,r){return t-r},e.maxComparatorNumber=function(t,r){return r-t},e.defaultIsEqual=function(t,r){return t===r},e.print=function(t){function r(f){var d=e.getParentIndexOf(f);return Math.floor(Math.log2(d+1))}function n(f,d){for(var c="";d>0;--d)c+=f;return c}for(var i=0,a=[],o=r(t.length-1)+2,s=0;i<t.length;){var l=r(i)+1;i===0&&(l=0);var u=String(t.get(i));u.length>s&&(s=u.length),a[l]=a[l]||[],a[l].push(u),i+=1}return a.map(function(f,d){var c=Math.pow(2,o-d)-1;return n(" ",Math.floor(c/2)*s)+f.map(function(p){var b=(s-p.length)/2;return n(" ",Math.ceil(b))+p+n(" ",Math.floor(b))}).join(n(" ",c*s))}).join(`
`)},e.heapify=function(t,r){var n=new e(r);return n.heapArray=t,n.init(),n},e.heappop=function(t,r){var n=new e(r);return n.heapArray=t,n.pop()},e.heappush=function(t,r,n){var i=new e(n);i.heapArray=t,i.push(r)},e.heappushpop=function(t,r,n){var i=new e(n);return i.heapArray=t,i.pushpop(r)},e.heapreplace=function(t,r,n){var i=new e(n);return i.heapArray=t,i.replace(r)},e.heaptop=function(t,r,n){r===void 0&&(r=1);var i=new e(n);return i.heapArray=t,i.top(r)},e.heapbottom=function(t,r,n){r===void 0&&(r=1);var i=new e(n);return i.heapArray=t,i.bottom(r)},e.nlargest=function(t,r,n){var i=new e(n);return i.heapArray=Rn([],ln(r),!1),i.init(),i.top(t)},e.nsmallest=function(t,r,n){var i=new e(n);return i.heapArray=Rn([],ln(r),!1),i.init(),i.bottom(t)},e.prototype.add=function(t){return this._sortNodeUp(this.heapArray.push(t)-1),this._applyLimit(),!0},e.prototype.addAll=function(t){var r,n=this.length;(r=this.heapArray).push.apply(r,Rn([],ln(t),!1));for(var i=this.length;n<i;++n)this._sortNodeUp(n);return this._applyLimit(),!0},e.prototype.bottom=function(t){return t===void 0&&(t=1),this.heapArray.length===0||t<=0?[]:this.heapArray.length===1?[this.heapArray[0]]:t>=this.heapArray.length?Rn([],ln(this.heapArray),!1):this._bottomN_push(~~t)},e.prototype.check=function(){var t=this;return this.heapArray.find(function(r,n){return!!t.getChildrenOf(n).find(function(i){return t.compare(r,i)>0})})},e.prototype.clear=function(){this.heapArray=[]},e.prototype.clone=function(){var t=new e(this.comparator());return t.heapArray=this.toArray(),t._limit=this._limit,t},e.prototype.comparator=function(){return this.compare},e.prototype.contains=function(t,r){return r===void 0&&(r=e.defaultIsEqual),this.indexOf(t,r)!==-1},e.prototype.init=function(t){t&&(this.heapArray=Rn([],ln(t),!1));for(var r=Math.floor(this.heapArray.length);r>=0;--r)this._sortNodeDown(r);this._applyLimit()},e.prototype.isEmpty=function(){return this.length===0},e.prototype.indexOf=function(t,r){if(r===void 0&&(r=e.defaultIsEqual),this.heapArray.length===0)return-1;for(var n=[],i=0;i<this.heapArray.length;){var a=this.heapArray[i];if(r(a,t))return i;this.compare(a,t)<=0&&n.push.apply(n,Rn([],ln(e.getChildrenIndexOf(i)),!1)),i=n.shift()||this.heapArray.length}return-1},e.prototype.indexOfEvery=function(t,r){if(r===void 0&&(r=e.defaultIsEqual),this.heapArray.length===0)return[];for(var n=[],i=[],a=0;a<this.heapArray.length;){var o=this.heapArray[a];r(o,t)?(i.push(a),n.push.apply(n,Rn([],ln(e.getChildrenIndexOf(a)),!1))):this.compare(o,t)<=0&&n.push.apply(n,Rn([],ln(e.getChildrenIndexOf(a)),!1)),a=n.shift()||this.heapArray.length}return i},e.prototype.leafs=function(){if(this.heapArray.length===0)return[];var t=e.getParentIndexOf(this.heapArray.length-1);return this.heapArray.slice(t+1)},Object.defineProperty(e.prototype,"length",{get:function(){return this.heapArray.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"limit",{get:function(){return this._limit},set:function(t){t<0||isNaN(t)?this._limit=0:this._limit=~~t,this._applyLimit()},enumerable:!1,configurable:!0}),e.prototype.setLimit=function(t){return this.limit=t,t<0||isNaN(t)?NaN:this._limit},e.prototype.peek=function(){return this.heapArray[0]},e.prototype.pop=function(){var t=this.heapArray.pop();return this.length>0&&t!==void 0?this.replace(t):t},e.prototype.push=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t.length<1?!1:t.length===1?this.add(t[0]):this.addAll(t)},e.prototype.pushpop=function(t){var r;return this.compare(this.heapArray[0],t)<0&&(r=ln([this.heapArray[0],t],2),t=r[0],this.heapArray[0]=r[1],this._sortNodeDown(0)),t},e.prototype.remove=function(t,r){var n=this;if(r===void 0&&(r=e.defaultIsEqual),!this.heapArray.length)return!1;if(t===void 0)return this.pop(),!0;for(var i=[0];i.length;){var a=i.shift();if(r(this.heapArray[a],t))return a===0?this.pop():a===this.heapArray.length-1?this.heapArray.pop():(this.heapArray.splice(a,1,this.heapArray.pop()),this._sortNodeUp(a),this._sortNodeDown(a)),!0;if(this.compare(this.heapArray[a],t)<=0){var o=e.getChildrenIndexOf(a).filter(function(s){return s<n.heapArray.length});i.push.apply(i,Rn([],ln(o),!1))}}return!1},e.prototype.replace=function(t){var r=this.heapArray[0];return this.heapArray[0]=t,this._sortNodeDown(0),r},e.prototype.size=function(){return this.length},e.prototype.top=function(t){return t===void 0&&(t=1),this.heapArray.length===0||t<=0?[]:this.heapArray.length===1||t===1?[this.heapArray[0]]:t>=this.heapArray.length?Rn([],ln(this.heapArray),!1):this._topN_push(~~t)},e.prototype.toArray=function(){return Rn([],ln(this.heapArray),!1)},e.prototype.toString=function(){return this.heapArray.toString()},e.prototype.get=function(t){return this.heapArray[t]},e.prototype.getChildrenOf=function(t){var r=this;return e.getChildrenIndexOf(t).map(function(n){return r.heapArray[n]}).filter(function(n){return n!==void 0})},e.prototype.getParentOf=function(t){var r=e.getParentIndexOf(t);return this.heapArray[r]},e.prototype[Symbol.iterator]=function(){return fee(this,function(t){switch(t.label){case 0:return this.length?[4,this.pop()]:[3,2];case 1:return t.sent(),[3,0];case 2:return[2]}})},e.prototype.iterator=function(){return this.toArray()},e.prototype._applyLimit=function(){if(this._limit>0&&this._limit<this.heapArray.length)for(var t=this.heapArray.length-this._limit;t;)this.heapArray.pop(),--t},e.prototype._bottomN_push=function(t){var r=new e(this.compare);r.limit=t,r.heapArray=this.heapArray.slice(-t),r.init();for(var n=this.heapArray.length-1-t,i=e.getParentIndexOf(n),a=[],o=n;o>i;--o)a.push(o);for(var s=this.heapArray;a.length;){var o=a.shift();this.compare(s[o],r.peek())>0&&(r.replace(s[o]),o%2&&a.push(e.getParentIndexOf(o)))}return r.toArray()},e.prototype._moveNode=function(t,r){var n;n=ln([this.heapArray[r],this.heapArray[t]],2),this.heapArray[t]=n[0],this.heapArray[r]=n[1]},e.prototype._sortNodeDown=function(t){for(var r=this.heapArray.length;;){var n=2*t+1,i=n+1,a=t;if(n<r&&this.compare(this.heapArray[n],this.heapArray[a])<0&&(a=n),i<r&&this.compare(this.heapArray[i],this.heapArray[a])<0&&(a=i),a===t)break;this._moveNode(t,a),t=a}},e.prototype._sortNodeUp=function(t){for(;t>0;){var r=e.getParentIndexOf(t);if(this.compare(this.heapArray[t],this.heapArray[r])<0)this._moveNode(t,r),t=r;else break}},e.prototype._topN_push=function(t){var r=new e(this._invertedCompare);r.limit=t;for(var n=[0],i=this.heapArray;n.length;){var a=n.shift();a<i.length&&(r.length<t?(r.push(i[a]),n.push.apply(n,Rn([],ln(e.getChildrenIndexOf(a)),!1))):this.compare(i[a],r.peek())<0&&(r.replace(i[a]),n.push.apply(n,Rn([],ln(e.getChildrenIndexOf(a)),!1))))}return r.toArray()},e.prototype._topN_fill=function(t){var r=this.heapArray,n=new e(this._invertedCompare);n.limit=t,n.heapArray=r.slice(0,t),n.init();for(var i=e.getParentIndexOf(t-1)+1,a=[],o=i;o<t;++o)a.push.apply(a,Rn([],ln(e.getChildrenIndexOf(o).filter(function(s){return s<r.length})),!1));for((t-1)%2&&a.push(t);a.length;){var o=a.shift();o<r.length&&this.compare(r[o],n.peek())<0&&(n.replace(r[o]),a.push.apply(a,Rn([],ln(e.getChildrenIndexOf(o)),!1)))}return n.toArray()},e.prototype._topN_heap=function(t){for(var r=this.clone(),n=[],i=0;i<t;++i)n.push(r.pop());return n},e.prototype._topIdxOf=function(t){if(!t.length)return-1;for(var r=0,n=t[r],i=1;i<t.length;++i){var a=this.compare(t[i],n);a<0&&(r=i,n=t[i])}return r},e.prototype._topOf=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=new e(this.compare);return n.init(t),n.peek()},e}();class sh{constructor(t,r,n=[],i,a){Ye(this,"source");Ye(this,"relations");Ye(this,"target");Ye(this,"cmp");if(this.source=t,this.target=r,this.cmp=a,this.relations=n.map(({value:o,important:s})=>({value:o,important:s})),i)for(this.relations.push(i);this.relations.length>=2;){const o=this.relations[this.relations.length-2],s=this.relations[this.relations.length-1];if(o.important&&!s.important)break;if(o.important){const l=o.value,u=s.value;this.cmp?this.cmp(l,u)<0&&(o.value=s.value):o.value=l<u?l:u}else o.important=s.important,o.value=s.value;this.relations.pop()}}push(t,r){return new sh(this.target,t,this.relations,r,this.cmp)}important(){return this.relations.length>0?this.relations[0].important:!1}ordering(t){if(this.important()&&!t.important())return 1;if(!this.important()&&t.important())return-1;const r=this.relations.length,n=t.relations.length;for(let i=0;i<Math.min(r,n);i++){if(!this.relations[i].important&&!t.relations[i].important)return 0;if(!this.relations[i].important)return-1;if(!t.relations[i].important)return 1;if(this.cmp){const a=this.cmp(this.relations[i].value,t.relations[i].value);if(a!==0)return a}else{if(this.relations[i].value<t.relations[i].value)return-1;if(this.relations[i].value>t.relations[i].value)return 1}}return 0}}class cee{constructor(t,r,n,i,a,o,s){Ye(this,"members");Ye(this,"manager");Ye(this,"fetcher");Ye(this,"notifier");Ye(this,"launchedRelations");Ye(this,"modulator");Ye(this,"fetchNotifier");Ye(this,"memberNotifer");Ye(this,"fetchedPages");Ye(this,"state");Ye(this,"ordered");Ye(this,"polling");Ye(this,"toPoll");Ye(this,"pollInterval");Ye(this,"cancled",!1);Ye(this,"logger",ii(this));this.ordered=a,this.manager=t,this.fetcher=r,this.notifier=n,this.polling=o,this.pollInterval=s,this.toPoll=new mu((l,u)=>l.chain.ordering(u.chain)),this.launchedRelations=new mu((l,u)=>l.ordering(u)),this.fetchedPages=new mu((l,u)=>l.relation.ordering(u.relation)),this.state=[],this.fetchNotifier={error:l=>{this.notifier.error(l,{})},scheduleFetch:({target:l,expected:u},{chain:f})=>{f.target=l,this.toPoll.push({chain:f,expected:u}),this.notifier.mutable({},{})},pageFetched:(l,{chain:u,index:f})=>{this.logger.debug(`Page fetched ${l.url}`),this.modulator.finished(f),this.handleFetched(l,u)},relationFound:({from:l,target:u},{chain:f})=>{l.expected.push(u.node),this.logger.debug(`Relation found ${u.node}`);const d=f.push(u.node,this.extractRelation(u));d.ordering(f)>=0?this.fetch(d,[l.target]):this.logger.error("Found relation backwards in time, this indicates wrong tree structure. Ignoring")}},this.memberNotifer={error:l=>{this.notifier.error(l,{})},done:(l,u)=>{this.logger.debug(`Member done ${u.target}`);const f=this.findOrDefault(u);f.extracting-=1,this.notifier.fragment(l,{}),this.checkEmit()},extracted:l=>{this.members.push(l)}},this.modulator=i.create("fetcher",new mu((l,u)=>l.item.chain.ordering(u.item.chain)),{ready:({item:{chain:l,expected:u},index:f})=>{this.fetcher.fetch({target:l.target,expected:u},{chain:l,index:f},this.fetchNotifier)}},l=>{const{chain:u,expected:f}=l,d=this.ordered==="ascending"?(c,p)=>c>p?1:c<p?-1:0:(c,p)=>c>p?-1:c<p?1:0;return{chain:new sh(u.source,u.target,u.relations,void 0,d),expected:f}}),a=="ascending"?this.members=new mu((l,u)=>l.id.equals(u.id)||l.timestamp==u.timestamp?0:!l&&u?1:l&&!u||l.timestamp<u.timestamp?-1:1):this.members=new mu((l,u)=>l.id.equals(u.id)||l.timestamp==u.timestamp?0:!l&&u?-1:l&&!u||l.timestamp<u.timestamp?1:-1)}start(t){this.logger.debug(`Starting at ${t}`);const r=(n,i)=>n>i?1:n<i?-1:0;this.ordered==="ascending"?this.fetch(new sh("",t,[],void 0,(n,i)=>1*r(n,i)).push(t,{important:!1,value:0}),[]):this.fetch(new sh("",t,[],void 0,(n,i)=>-1*r(n,i)).push(t,{important:!1,value:0}),[])}cancel(){this.cancled=!0}checkEnd(){if(!this.cancled&&this.launchedRelations.isEmpty()){this.logger.debug("No more launched relations");let t=this.members.pop();for(;t;)this.notifier.member(t,{}),t=this.members.pop();this.polling?(this.logger.debug("Polling is enabled, settings timeout"),setTimeout(()=>{if(this.cancled)return;this.notifier.pollCycle({},{});const r=this.toPoll.toArray();this.logger.debug(`Let's repoll (${JSON.stringify(r.map(n=>n.chain.target))})`),this.toPoll.clear();for(const n of r)this.launchedRelations.push(n.chain),this.findOrDefault(n.chain).inFlight+=1,this.findOrDefault(n.chain).closed=!1,this.modulator.push(n)},this.pollInterval||1e3)):(this.logger.debug("Closing the notifier, polling is not set"),this.cancled=!0,this.notifier.close({},{}))}}findOrDefault(t){const r=this.state.find(i=>i.rel.ordering(t)==0);if(r)return r;const n={rel:t,inFlight:0,extracting:0,closed:!1};return this.state.push(n),n}extractRelation(t){const r=a=>{try{return new Date(a)}catch{return a}};let n;const i=t.relations.filter(a=>a.type.value===mt.TREE.custom("InBetweenRelation")).flatMap(a=>a.value||[]).flatMap(a=>{let o;a.termType==="Literal"&&(o=a.datatype.value);const s=eE(a.value,o,"Z");return s?[s]:[]});return this.ordered==="ascending"&&(n=i.map(a=>a.min).reduce((a,o)=>a?o&&a>o?o:a:o,n)),this.ordered==="descending"&&(n=i.map(a=>a.max).reduce((a,o)=>a&&(!o||a>o)?a:o,n)),this.ordered==="ascending"?n=t.relations.filter(a=>dee.some(o=>a.type.value===o.value)).filter(a=>a.value).map(a=>r(a.value[0].value)).reduce((a,o)=>a?o&&a>o?o:a:o,n):this.ordered==="descending"&&(n=t.relations.filter(a=>hee.some(o=>a.type.value===o.value)).filter(a=>a.value).map(a=>r(a.value[0].value)).reduce((a,o)=>a&&(!o||a>o)?a:o,n)),n!==void 0?{important:!0,value:n}:{important:!1,value:0}}fetch(t,r){this.launchedRelations.push(t),this.findOrDefault(t).inFlight+=1,this.modulator.push({chain:t,expected:r})}handleFetched(t,r){this.fetchedPages.push({page:t,relation:r});const n=this.findOrDefault(r);n.extracting+=1,n.inFlight-=1,this.manager.extractMembers(t,r,this.memberNotifer)}checkEmit(){var r;let t=this.launchedRelations.pop();for(;t;){const n=((r=this.launchedRelations.peek())==null?void 0:r.relations[0])||{value:0,important:!1},i=this.findOrDefault(t);if(i.inFlight!=0||i.extracting!=0)break;if(n.important){i.closed=!0;let a=this.members.pop();for(;a;){if(!a.timestamp)this.notifier.member(a,{});else if(this.ordered=="ascending"?a.timestamp<n.value:a.timestamp>n.value)this.notifier.member(a,{});else break;a=this.members.pop()}a&&this.members.push(a)}t=this.launchedRelations.pop()}t&&this.launchedRelations.push(t),this.checkEnd()}}const dee=[mt.TREE.terms.GreaterThanRelation,mt.TREE.terms.GreaterThanOrEqualToRelation],hee=[mt.TREE.terms.LessThanRelation,mt.TREE.terms.LessThanOrEqualToRelation],z8=new cS.DataFactory;function pee(e,t="none",r,n){return new yee(xY(e),t,r,n)}async function mee(e,t,r,n,i){const a=ii("getShape");if(i.shapeFile){const f=i.shapeFile.startsWith("http")?i.shapeFile:"file://"+i.shapeFile,d=await hE.rdfDereferencer.dereference(i.shapeFile,{localFiles:!0,fetch:i.fetch}),c=await lY(d.data);i.shape={quads:c,shapeId:z8.namedNode(f)}}let o=i.noShape?[]:Hr(r,e,mt.TREE.terms.shape),s=Hr(r,e,mt.LDES.terms.timestampPath),l=Hr(r,e,mt.LDES.terms.versionOfPath);if(a.debug(`Found ${o.length} shapes, ${s.length} timestampPaths, ${l.length} isVersionOfPaths`),o.length===0||s.length===0||l.length===0)try{a.debug(`Maybe find more info at ${t.value}`);const f=await n.dereference(t.value,{localFiles:!0,fetch:i.fetch});r=ju.RdfStore.createDefault(),await new Promise((c,p)=>{r.import(f.data).on("end",c).on("error",p)});const d=Hr(r,null,mt.TREE.terms.shape);d&&(o=i.noShape?[]:d),s.length||(s=Hr(r,null,mt.LDES.terms.timestampPath)),l.length||(l=Hr(r,null,mt.LDES.terms.versionOfPath)),a.debug(`Found ${o.length} shapes, ${s.length} timestampPaths, ${l.length} isVersionOfPaths`)}catch(f){a.error(`Failed to fetch ${e.value}`),a.error(f)}o.length>1&&a.error(`Expected at most one shape id, found ${o.length}`),s.length>1&&a.error(`Expected at most one timestamp path, found ${s.length}`),l.length>1&&a.error(`Expected at most one versionOf path, found ${l.length}`);const u=ju.RdfStore.createDefault();if(i.shape){for(const f of i.shape.quads)u.addQuad(f);i.shape.shapeId=fY(u)}else{const f=o[0];if(f&&f.termType==="NamedNode"&&r.getQuads(f,null,null).length===0){const d=await hE.rdfDereferencer.dereference(f.value);await new Promise((c,p)=>{r.import(d.data).on("end",c).on("error",p)})}}return{extractor:new nee.CBDShapeExtractor(i.shape?u:r,n,{cbdDefaultGraph:i.onlyDefaultGraph,fetch:i.fetch}),shape:i.shape?i.shape.shapeId:o[0],timestampPath:s[0],isVersionOfPath:l[0]}}class yee{constructor(t,r="none",n,i){Ye(this,"streamId");Ye(this,"config");Ye(this,"dereferencer");Ye(this,"fetcher");Ye(this,"memberManager");Ye(this,"strategy");Ye(this,"ordered");Ye(this,"modulatorFactory");Ye(this,"stateFactory");Ye(this,"listeners",{});Ye(this,"logger",ii(this));this.config=t,this.dereferencer=n??hE.rdfDereferencer,this.streamId=i,this.ordered=r,this.stateFactory=t.stateFile?new QJ(t.stateFile):new YJ,this.modulatorFactory=new cY(this.stateFactory),typeof ze<"u"&&ze.on("SIGINT",()=>{this.logger.info("Caught interrupt signal, saving"),this.stateFactory.write(),ze.exit()})}on(t,r){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(r)}async init(t,r,n){const i=await gee(this.config.url,this.dereferencer,this.config.fetch),a=z8.namedNode(this.config.url),o=i.data.getQuads(null,mt.TREE.terms.view,null,null);let s=a;this.config.urlIsView||(o.length===0?this.logger.error("Did not find tree:view predicate, this is required to interpret the LDES"):s=o[0].object);const l=await mee(a,s,i.data,this.dereferencer,this.config),u=this.stateFactory.build("members",c=>{const p=[...c.values()];return JSON.stringify(p)},c=>new Set(JSON.parse(c)),()=>new Set),f=this.config.lastVersionOnly?this.stateFactory.build("versions",c=>{const p=[...c.entries()];return JSON.stringify(p)},c=>new Map(JSON.parse(c)),()=>new Map):void 0;if(this.streamId=this.streamId||o[0].subject,this.memberManager=new uee(this.streamId||o[0].subject,u.item,l),this.logger.debug(`timestampPath ${!!l.timestampPath}`),this.ordered!=="none"&&!l.timestampPath)throw"Can only emit members in order, if LDES is configured with timestampPath";this.config.condition=mY(this.config.condition,this.config.defaultTimezone,this.config.before,this.config.after,l.timestampPath),this.fetcher=new see(this.dereferencer,this.config.loose,this.config.condition,this.config.defaultTimezone,this.config.includeMetadata||!1,this.config.fetch);const d={error:c=>this.emit("error",c),fragment:c=>this.emit("fragment",c),member:c=>{if(this.config.condition.matchMember(c)){if(this.config.condition.memberEmitted(c),c.isVersionOf&&c.timestamp&&f){const p=f.item;if(p.has(c.isVersionOf)){const b=p.get(c.isVersionOf);if(c.timestamp>b)p.set(c.isVersionOf,c.timestamp);else return}else p.set(c.isVersionOf,c.timestamp)}t(pY(c,this.config.materialize===!0,l))}},pollCycle:()=>{this.config.condition.poll(),this.emit("poll",void 0)},mutable:()=>{this.emit("mutable",void 0)},close:()=>{this.stateFactory.write(),r()}};this.config.lastVersionOnly&&(this.ordered="descending"),this.strategy=this.ordered!=="none"?new cee(this.memberManager,this.fetcher,d,n,this.ordered,this.config.polling,this.config.pollInterval):new lee(this.memberManager,this.fetcher,d,n,this.config.polling,this.config.pollInterval),this.logger.debug(`Found ${o.length} views, choosing ${s.value}`),this.strategy.start(s.value)}stream(t){const r=oee(),n={start:async i=>{this.on("error",a=>{this.stateFactory.write(),this.memberManager.close(),this.fetcher.close(),i.error(a)}),this.modulatorFactory.pause(),await this.init(a=>{i.enqueue(a),tM(r)},()=>i.close(),this.modulatorFactory)},pull:async()=>{tM(r),this.modulatorFactory.unpause(),await r.waiting,this.modulatorFactory.pause()},cancel:async()=>{this.logger.info("Stream canceled"),this.stateFactory.write(),this.strategy.cancel(),this.memberManager.close(),this.fetcher.close()}};return new ReadableStream(n,t)}emit(t,r){(this.listeners[t]||[]).forEach(function(n){n(r)})}}async function gee(e,t,r){const n=await t.dereference(e,{localFiles:!0,fetch:r}),i=n.url,a=ju.RdfStore.createDefault();return await new Promise((o,s)=>{a.import(n.data).on("end",o).on("error",s)}),{url:i,data:a}}const _ee=Wt({name:"MapVisualizer",components:{LMap:P5,LTileLayer:V5,LMarker:k5,LPopup:U5,MDBContainer:g9,MDBRow:m9,MDBCol:h9,MDBInput:N9,VueDatePicker:YE,MDBBtn:zk},data(){return{zoom:2,form:{ldes:"",range:null},members:[],loading:{start:void 0,end:void 0,now:Date.now()}}},methods:{async fetchData(){var n;if(((n=this.form.ldes)==null?void 0:n.trim())==="")return;this.members=[],this.loading.start=void 0,this.loading.end=void 0,console.log(`fetching data from ${this.form.ldes}`);const e={url:this.form.ldes,polling:!1};this.form.range&&(e.after=new Date(this.form.range[0]),e.before=new Date(this.form.range[1])),this.loading.start=Date.now(),this.loading.now=Date.now();const t=setInterval(()=>{this.loading.end?clearInterval(t):this.loading.now=Date.now()},100),r=pee(e);for await(const i of this.makeAsyncIterable(r.stream()))if(i){const a=i.quads.find(s=>s.predicate.value==="http://www.w3.org/2004/02/skos/core#prefLabel")||i.quads.find(s=>s.predicate.value===mt.DC.title),o=i.quads.find(s=>s.predicate.value==="http://www.w3.org/ns/dcat#centroid")||i.quads.find(s=>s.predicate.value==="http://www.opengis.net/ont/geosparql#asWKT");if(o&&o.object.datatype.value==="http://www.opengis.net/ont/geosparql#wktLiteral"){const l=o.object.value.match(/POINT\s*\(([^)]+)\)/)[1].split(" ");this.members.push({id:i.id,label:a==null?void 0:a.object.value,modified:i.timestamp,coords:[parseFloat(l[1]),parseFloat(l[0])]})}}this.loading.end=Date.now()},makeAsyncIterable(e){const t=e.getReader();return{[Symbol.asyncIterator](){return{async next(){const{done:r,value:n}=await t.read();return r?(t.releaseLock(),{done:!0}):{done:!1,value:n}}}}}}}}),W8=(e,t)=>{const r=e.__vccOpts||e;for(const[n,i]of t)r[n]=i;return r},bee={class:"mt-3"},vee={key:0},wee={key:1},Eee={style:{height:"75vh",width:"100%"},class:"mt-1"};function See(e,t,r,n,i,a){const o=ta("MDBInput"),s=ta("MDBCol"),l=ta("VueDatePicker"),u=ta("MDBBtn"),f=ta("MDBRow"),d=ta("l-tile-layer"),c=ta("l-popup"),p=ta("l-marker"),b=ta("l-map"),v=ta("MDBContainer");return Ke(),Ot(v,{class:"mt-5"},{default:bt(()=>[t[3]||(t[3]=_t("h1",{class:"mb-3"},"LDES Visualizer",-1)),kt(f,null,{default:bt(()=>[kt(s,null,{default:bt(()=>[kt(o,{label:"LDES ID",modelValue:e.form.ldes,"onUpdate:modelValue":t[0]||(t[0]=_=>e.form.ldes=_)},null,8,["modelValue"])]),_:1}),kt(s,null,{default:bt(()=>[kt(l,{modelValue:e.form.range,"onUpdate:modelValue":t[1]||(t[1]=_=>e.form.range=_),label:"Date range",range:""},null,8,["modelValue"])]),_:1}),kt(s,null,{default:bt(()=>[kt(u,{onClick:e.fetchData,color:"primary"},{default:bt(()=>t[2]||(t[2]=[Si("Visualize")])),_:1},8,["onClick"])]),_:1})]),_:1}),_t("div",bee,[e.loading.start&&e.loading.end?(Ke(),Je("small",vee,"Loaded "+qt(e.members.length)+" members in "+qt(e.loading.end-e.loading.start)+"ms.",1)):e.loading.start?(Ke(),Je("small",wee,"Loading "+qt(e.members.length)+" members in "+qt(e.loading.now-e.loading.start)+"ms...",1)):rt("",!0)]),_t("div",Eee,[kt(b,{ref:"map",zoom:e.zoom,center:[47.41322,-1.219482]},{default:bt(()=>[kt(d,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png","layer-type":"base",name:"OpenStreetMap"}),(Ke(!0),Je(wt,null,pr(e.members,_=>(Ke(),Ot(p,{"lat-lng":_.coords,key:_.id.value},{default:bt(()=>[kt(c,null,{default:bt(()=>[Si(qt(_.label),1)]),_:2},1024)]),_:2},1032,["lat-lng"]))),128))]),_:1},8,["zoom"])])]),_:1})}const xee=W8(_ee,[["render",See],["__scopeId","data-v-aef2cc9e"]]),Tee=Wt({__name:"App",setup(e){return(t,r)=>(Ke(),Je("main",null,[kt(xee)]))}}),Ree=W8(Tee,[["__scopeId","data-v-4443d580"]]);var Kd={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var Aee=Kd.exports,nM;function Iee(){return nM||(nM=1,function(e,t){(function(r,n){n(t)})(Aee,function(r){var n="1.9.4";function i(h){var S,C,z,ue;for(C=1,z=arguments.length;C<z;C++){ue=arguments[C];for(S in ue)h[S]=ue[S]}return h}var a=Object.create||function(){function h(){}return function(S){return h.prototype=S,new h}}();function o(h,S){var C=Array.prototype.slice;if(h.bind)return h.bind.apply(h,C.call(arguments,1));var z=C.call(arguments,2);return function(){return h.apply(S,z.length?z.concat(C.call(arguments)):arguments)}}var s=0;function l(h){return"_leaflet_id"in h||(h._leaflet_id=++s),h._leaflet_id}function u(h,S,C){var z,ue,Se,Be;return Be=function(){z=!1,ue&&(Se.apply(C,ue),ue=!1)},Se=function(){z?ue=arguments:(h.apply(C,arguments),setTimeout(Be,S),z=!0)},Se}function f(h,S,C){var z=S[1],ue=S[0],Se=z-ue;return h===z&&C?h:((h-ue)%Se+Se)%Se+ue}function d(){return!1}function c(h,S){if(S===!1)return h;var C=Math.pow(10,S===void 0?6:S);return Math.round(h*C)/C}function p(h){return h.trim?h.trim():h.replace(/^\s+|\s+$/g,"")}function b(h){return p(h).split(/\s+/)}function v(h,S){Object.prototype.hasOwnProperty.call(h,"options")||(h.options=h.options?a(h.options):{});for(var C in S)h.options[C]=S[C];return h.options}function _(h,S,C){var z=[];for(var ue in h)z.push(encodeURIComponent(C?ue.toUpperCase():ue)+"="+encodeURIComponent(h[ue]));return(!S||S.indexOf("?")===-1?"?":"&")+z.join("&")}var y=/\{ *([\w_ -]+) *\}/g;function m(h,S){return h.replace(y,function(C,z){var ue=S[z];if(ue===void 0)throw new Error("No value provided for variable "+C);return typeof ue=="function"&&(ue=ue(S)),ue})}var g=Array.isArray||function(h){return Object.prototype.toString.call(h)==="[object Array]"};function E(h,S){for(var C=0;C<h.length;C++)if(h[C]===S)return C;return-1}var T="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function I(h){return window["webkit"+h]||window["moz"+h]||window["ms"+h]}var D=0;function B(h){var S=+new Date,C=Math.max(0,16-(S-D));return D=S+C,window.setTimeout(h,C)}var N=window.requestAnimationFrame||I("RequestAnimationFrame")||B,M=window.cancelAnimationFrame||I("CancelAnimationFrame")||I("CancelRequestAnimationFrame")||function(h){window.clearTimeout(h)};function j(h,S,C){if(C&&N===B)h.call(S);else return N.call(window,o(h,S))}function O(h){h&&M.call(window,h)}var q={__proto__:null,extend:i,create:a,bind:o,get lastId(){return s},stamp:l,throttle:u,wrapNum:f,falseFn:d,formatNum:c,trim:p,splitWords:b,setOptions:v,getParamString:_,template:m,isArray:g,indexOf:E,emptyImageUrl:T,requestFn:N,cancelFn:M,requestAnimFrame:j,cancelAnimFrame:O};function Q(){}Q.extend=function(h){var S=function(){v(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},C=S.__super__=this.prototype,z=a(C);z.constructor=S,S.prototype=z;for(var ue in this)Object.prototype.hasOwnProperty.call(this,ue)&&ue!=="prototype"&&ue!=="__super__"&&(S[ue]=this[ue]);return h.statics&&i(S,h.statics),h.includes&&(ie(h.includes),i.apply(null,[z].concat(h.includes))),i(z,h),delete z.statics,delete z.includes,z.options&&(z.options=C.options?a(C.options):{},i(z.options,h.options)),z._initHooks=[],z.callInitHooks=function(){if(!this._initHooksCalled){C.callInitHooks&&C.callInitHooks.call(this),this._initHooksCalled=!0;for(var Se=0,Be=z._initHooks.length;Se<Be;Se++)z._initHooks[Se].call(this)}},S},Q.include=function(h){var S=this.prototype.options;return i(this.prototype,h),h.options&&(this.prototype.options=S,this.mergeOptions(h.options)),this},Q.mergeOptions=function(h){return i(this.prototype.options,h),this},Q.addInitHook=function(h){var S=Array.prototype.slice.call(arguments,1),C=typeof h=="function"?h:function(){this[h].apply(this,S)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(C),this};function ie(h){if(!(typeof L>"u"||!L||!L.Mixin)){h=g(h)?h:[h];for(var S=0;S<h.length;S++)h[S]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var X={on:function(h,S,C){if(typeof h=="object")for(var z in h)this._on(z,h[z],S);else{h=b(h);for(var ue=0,Se=h.length;ue<Se;ue++)this._on(h[ue],S,C)}return this},off:function(h,S,C){if(!arguments.length)delete this._events;else if(typeof h=="object")for(var z in h)this._off(z,h[z],S);else{h=b(h);for(var ue=arguments.length===1,Se=0,Be=h.length;Se<Be;Se++)ue?this._off(h[Se]):this._off(h[Se],S,C)}return this},_on:function(h,S,C,z){if(typeof S!="function"){console.warn("wrong listener type: "+typeof S);return}if(this._listens(h,S,C)===!1){C===this&&(C=void 0);var ue={fn:S,ctx:C};z&&(ue.once=!0),this._events=this._events||{},this._events[h]=this._events[h]||[],this._events[h].push(ue)}},_off:function(h,S,C){var z,ue,Se;if(this._events&&(z=this._events[h],!!z)){if(arguments.length===1){if(this._firingCount)for(ue=0,Se=z.length;ue<Se;ue++)z[ue].fn=d;delete this._events[h];return}if(typeof S!="function"){console.warn("wrong listener type: "+typeof S);return}var Be=this._listens(h,S,C);if(Be!==!1){var Qe=z[Be];this._firingCount&&(Qe.fn=d,this._events[h]=z=z.slice()),z.splice(Be,1)}}},fire:function(h,S,C){if(!this.listens(h,C))return this;var z=i({},S,{type:h,target:this,sourceTarget:S&&S.sourceTarget||this});if(this._events){var ue=this._events[h];if(ue){this._firingCount=this._firingCount+1||1;for(var Se=0,Be=ue.length;Se<Be;Se++){var Qe=ue[Se],Xe=Qe.fn;Qe.once&&this.off(h,Xe,Qe.ctx),Xe.call(Qe.ctx||this,z)}this._firingCount--}}return C&&this._propagateEvent(z),this},listens:function(h,S,C,z){typeof h!="string"&&console.warn('"string" type argument expected');var ue=S;typeof S!="function"&&(z=!!S,ue=void 0,C=void 0);var Se=this._events&&this._events[h];if(Se&&Se.length&&this._listens(h,ue,C)!==!1)return!0;if(z){for(var Be in this._eventParents)if(this._eventParents[Be].listens(h,S,C,z))return!0}return!1},_listens:function(h,S,C){if(!this._events)return!1;var z=this._events[h]||[];if(!S)return!!z.length;C===this&&(C=void 0);for(var ue=0,Se=z.length;ue<Se;ue++)if(z[ue].fn===S&&z[ue].ctx===C)return ue;return!1},once:function(h,S,C){if(typeof h=="object")for(var z in h)this._on(z,h[z],S,!0);else{h=b(h);for(var ue=0,Se=h.length;ue<Se;ue++)this._on(h[ue],S,C,!0)}return this},addEventParent:function(h){return this._eventParents=this._eventParents||{},this._eventParents[l(h)]=h,this},removeEventParent:function(h){return this._eventParents&&delete this._eventParents[l(h)],this},_propagateEvent:function(h){for(var S in this._eventParents)this._eventParents[S].fire(h.type,i({layer:h.target,propagatedFrom:h.target},h),!0)}};X.addEventListener=X.on,X.removeEventListener=X.clearAllEventListeners=X.off,X.addOneTimeEventListener=X.once,X.fireEvent=X.fire,X.hasEventListeners=X.listens;var le=Q.extend(X);function ae(h,S,C){this.x=C?Math.round(h):h,this.y=C?Math.round(S):S}var ne=Math.trunc||function(h){return h>0?Math.floor(h):Math.ceil(h)};ae.prototype={clone:function(){return new ae(this.x,this.y)},add:function(h){return this.clone()._add(V(h))},_add:function(h){return this.x+=h.x,this.y+=h.y,this},subtract:function(h){return this.clone()._subtract(V(h))},_subtract:function(h){return this.x-=h.x,this.y-=h.y,this},divideBy:function(h){return this.clone()._divideBy(h)},_divideBy:function(h){return this.x/=h,this.y/=h,this},multiplyBy:function(h){return this.clone()._multiplyBy(h)},_multiplyBy:function(h){return this.x*=h,this.y*=h,this},scaleBy:function(h){return new ae(this.x*h.x,this.y*h.y)},unscaleBy:function(h){return new ae(this.x/h.x,this.y/h.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ne(this.x),this.y=ne(this.y),this},distanceTo:function(h){h=V(h);var S=h.x-this.x,C=h.y-this.y;return Math.sqrt(S*S+C*C)},equals:function(h){return h=V(h),h.x===this.x&&h.y===this.y},contains:function(h){return h=V(h),Math.abs(h.x)<=Math.abs(this.x)&&Math.abs(h.y)<=Math.abs(this.y)},toString:function(){return"Point("+c(this.x)+", "+c(this.y)+")"}};function V(h,S,C){return h instanceof ae?h:g(h)?new ae(h[0],h[1]):h==null?h:typeof h=="object"&&"x"in h&&"y"in h?new ae(h.x,h.y):new ae(h,S,C)}function oe(h,S){if(h)for(var C=S?[h,S]:h,z=0,ue=C.length;z<ue;z++)this.extend(C[z])}oe.prototype={extend:function(h){var S,C;if(!h)return this;if(h instanceof ae||typeof h[0]=="number"||"x"in h)S=C=V(h);else if(h=he(h),S=h.min,C=h.max,!S||!C)return this;return!this.min&&!this.max?(this.min=S.clone(),this.max=C.clone()):(this.min.x=Math.min(S.x,this.min.x),this.max.x=Math.max(C.x,this.max.x),this.min.y=Math.min(S.y,this.min.y),this.max.y=Math.max(C.y,this.max.y)),this},getCenter:function(h){return V((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,h)},getBottomLeft:function(){return V(this.min.x,this.max.y)},getTopRight:function(){return V(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(h){var S,C;return typeof h[0]=="number"||h instanceof ae?h=V(h):h=he(h),h instanceof oe?(S=h.min,C=h.max):S=C=h,S.x>=this.min.x&&C.x<=this.max.x&&S.y>=this.min.y&&C.y<=this.max.y},intersects:function(h){h=he(h);var S=this.min,C=this.max,z=h.min,ue=h.max,Se=ue.x>=S.x&&z.x<=C.x,Be=ue.y>=S.y&&z.y<=C.y;return Se&&Be},overlaps:function(h){h=he(h);var S=this.min,C=this.max,z=h.min,ue=h.max,Se=ue.x>S.x&&z.x<C.x,Be=ue.y>S.y&&z.y<C.y;return Se&&Be},isValid:function(){return!!(this.min&&this.max)},pad:function(h){var S=this.min,C=this.max,z=Math.abs(S.x-C.x)*h,ue=Math.abs(S.y-C.y)*h;return he(V(S.x-z,S.y-ue),V(C.x+z,C.y+ue))},equals:function(h){return h?(h=he(h),this.min.equals(h.getTopLeft())&&this.max.equals(h.getBottomRight())):!1}};function he(h,S){return!h||h instanceof oe?h:new oe(h,S)}function Y(h,S){if(h)for(var C=S?[h,S]:h,z=0,ue=C.length;z<ue;z++)this.extend(C[z])}Y.prototype={extend:function(h){var S=this._southWest,C=this._northEast,z,ue;if(h instanceof ee)z=h,ue=h;else if(h instanceof Y){if(z=h._southWest,ue=h._northEast,!z||!ue)return this}else return h?this.extend(P(h)||Z(h)):this;return!S&&!C?(this._southWest=new ee(z.lat,z.lng),this._northEast=new ee(ue.lat,ue.lng)):(S.lat=Math.min(z.lat,S.lat),S.lng=Math.min(z.lng,S.lng),C.lat=Math.max(ue.lat,C.lat),C.lng=Math.max(ue.lng,C.lng)),this},pad:function(h){var S=this._southWest,C=this._northEast,z=Math.abs(S.lat-C.lat)*h,ue=Math.abs(S.lng-C.lng)*h;return new Y(new ee(S.lat-z,S.lng-ue),new ee(C.lat+z,C.lng+ue))},getCenter:function(){return new ee((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ee(this.getNorth(),this.getWest())},getSouthEast:function(){return new ee(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(h){typeof h[0]=="number"||h instanceof ee||"lat"in h?h=P(h):h=Z(h);var S=this._southWest,C=this._northEast,z,ue;return h instanceof Y?(z=h.getSouthWest(),ue=h.getNorthEast()):z=ue=h,z.lat>=S.lat&&ue.lat<=C.lat&&z.lng>=S.lng&&ue.lng<=C.lng},intersects:function(h){h=Z(h);var S=this._southWest,C=this._northEast,z=h.getSouthWest(),ue=h.getNorthEast(),Se=ue.lat>=S.lat&&z.lat<=C.lat,Be=ue.lng>=S.lng&&z.lng<=C.lng;return Se&&Be},overlaps:function(h){h=Z(h);var S=this._southWest,C=this._northEast,z=h.getSouthWest(),ue=h.getNorthEast(),Se=ue.lat>S.lat&&z.lat<C.lat,Be=ue.lng>S.lng&&z.lng<C.lng;return Se&&Be},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(h,S){return h?(h=Z(h),this._southWest.equals(h.getSouthWest(),S)&&this._northEast.equals(h.getNorthEast(),S)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Z(h,S){return h instanceof Y?h:new Y(h,S)}function ee(h,S,C){if(isNaN(h)||isNaN(S))throw new Error("Invalid LatLng object: ("+h+", "+S+")");this.lat=+h,this.lng=+S,C!==void 0&&(this.alt=+C)}ee.prototype={equals:function(h,S){if(!h)return!1;h=P(h);var C=Math.max(Math.abs(this.lat-h.lat),Math.abs(this.lng-h.lng));return C<=(S===void 0?1e-9:S)},toString:function(h){return"LatLng("+c(this.lat,h)+", "+c(this.lng,h)+")"},distanceTo:function(h){return $.distance(this,P(h))},wrap:function(){return $.wrapLatLng(this)},toBounds:function(h){var S=180*h/40075017,C=S/Math.cos(Math.PI/180*this.lat);return Z([this.lat-S,this.lng-C],[this.lat+S,this.lng+C])},clone:function(){return new ee(this.lat,this.lng,this.alt)}};function P(h,S,C){return h instanceof ee?h:g(h)&&typeof h[0]!="object"?h.length===3?new ee(h[0],h[1],h[2]):h.length===2?new ee(h[0],h[1]):null:h==null?h:typeof h=="object"&&"lat"in h?new ee(h.lat,"lng"in h?h.lng:h.lon,h.alt):S===void 0?null:new ee(h,S,C)}var A={latLngToPoint:function(h,S){var C=this.projection.project(h),z=this.scale(S);return this.transformation._transform(C,z)},pointToLatLng:function(h,S){var C=this.scale(S),z=this.transformation.untransform(h,C);return this.projection.unproject(z)},project:function(h){return this.projection.project(h)},unproject:function(h){return this.projection.unproject(h)},scale:function(h){return 256*Math.pow(2,h)},zoom:function(h){return Math.log(h/256)/Math.LN2},getProjectedBounds:function(h){if(this.infinite)return null;var S=this.projection.bounds,C=this.scale(h),z=this.transformation.transform(S.min,C),ue=this.transformation.transform(S.max,C);return new oe(z,ue)},infinite:!1,wrapLatLng:function(h){var S=this.wrapLng?f(h.lng,this.wrapLng,!0):h.lng,C=this.wrapLat?f(h.lat,this.wrapLat,!0):h.lat,z=h.alt;return new ee(C,S,z)},wrapLatLngBounds:function(h){var S=h.getCenter(),C=this.wrapLatLng(S),z=S.lat-C.lat,ue=S.lng-C.lng;if(z===0&&ue===0)return h;var Se=h.getSouthWest(),Be=h.getNorthEast(),Qe=new ee(Se.lat-z,Se.lng-ue),Xe=new ee(Be.lat-z,Be.lng-ue);return new Y(Qe,Xe)}},$=i({},A,{wrapLng:[-180,180],R:6371e3,distance:function(h,S){var C=Math.PI/180,z=h.lat*C,ue=S.lat*C,Se=Math.sin((S.lat-h.lat)*C/2),Be=Math.sin((S.lng-h.lng)*C/2),Qe=Se*Se+Math.cos(z)*Math.cos(ue)*Be*Be,Xe=2*Math.atan2(Math.sqrt(Qe),Math.sqrt(1-Qe));return this.R*Xe}}),te=6378137,pe={R:te,MAX_LATITUDE:85.0511287798,project:function(h){var S=Math.PI/180,C=this.MAX_LATITUDE,z=Math.max(Math.min(C,h.lat),-C),ue=Math.sin(z*S);return new ae(this.R*h.lng*S,this.R*Math.log((1+ue)/(1-ue))/2)},unproject:function(h){var S=180/Math.PI;return new ee((2*Math.atan(Math.exp(h.y/this.R))-Math.PI/2)*S,h.x*S/this.R)},bounds:function(){var h=te*Math.PI;return new oe([-h,-h],[h,h])}()};function R(h,S,C,z){if(g(h)){this._a=h[0],this._b=h[1],this._c=h[2],this._d=h[3];return}this._a=h,this._b=S,this._c=C,this._d=z}R.prototype={transform:function(h,S){return this._transform(h.clone(),S)},_transform:function(h,S){return S=S||1,h.x=S*(this._a*h.x+this._b),h.y=S*(this._c*h.y+this._d),h},untransform:function(h,S){return S=S||1,new ae((h.x/S-this._b)/this._a,(h.y/S-this._d)/this._c)}};function w(h,S,C,z){return new R(h,S,C,z)}var x=i({},$,{code:"EPSG:3857",projection:pe,transformation:function(){var h=.5/(Math.PI*pe.R);return w(h,.5,-h,.5)}()}),k=i({},x,{code:"EPSG:900913"});function U(h){return document.createElementNS("http://www.w3.org/2000/svg",h)}function re(h,S){var C="",z,ue,Se,Be,Qe,Xe;for(z=0,Se=h.length;z<Se;z++){for(Qe=h[z],ue=0,Be=Qe.length;ue<Be;ue++)Xe=Qe[ue],C+=(ue?"L":"M")+Xe.x+" "+Xe.y;C+=S?$e.svg?"z":"x":""}return C||"M0 0"}var fe=document.documentElement.style,ve="ActiveXObject"in window,ce=ve&&!document.addEventListener,Ie="msLaunchUri"in navigator&&!("documentMode"in document),be=He("webkit"),xe=He("android"),je=He("android 2")||He("android 3"),Ae=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Pe=xe&&He("Google")&&Ae<537&&!("AudioNode"in window),ke=!!window.opera,Ze=!Ie&&He("chrome"),Ue=He("gecko")&&!be&&!ke&&!ve,it=!Ze&&He("safari"),ye=He("phantom"),F="OTransition"in fe,K=navigator.platform.indexOf("Win")===0,_e=ve&&"transition"in fe,Oe="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!je,se="MozPerspective"in fe,ge=!window.L_DISABLE_3D&&(_e||Oe||se)&&!F&&!ye,de=typeof orientation<"u"||He("mobile"),Re=de&&be,qe=de&&Oe,H=!window.PointerEvent&&window.MSPointerEvent,Te=!!(window.PointerEvent||H),Ce="ontouchstart"in window||!!window.TouchEvent,me=!window.L_NO_TOUCH&&(Ce||Te),Me=de&&ke,Ve=de&&Ue,ft=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,we=function(){var h=!1;try{var S=Object.defineProperty({},"passive",{get:function(){h=!0}});window.addEventListener("testPassiveEventSupport",d,S),window.removeEventListener("testPassiveEventSupport",d,S)}catch{}return h}(),G=function(){return!!document.createElement("canvas").getContext}(),W=!!(document.createElementNS&&U("svg").createSVGRect),J=!!W&&function(){var h=document.createElement("div");return h.innerHTML="<svg/>",(h.firstChild&&h.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Ee=!W&&function(){try{var h=document.createElement("div");h.innerHTML='<v:shape adj="1"/>';var S=h.firstChild;return S.style.behavior="url(#default#VML)",S&&typeof S.adj=="object"}catch{return!1}}(),Le=navigator.platform.indexOf("Mac")===0,Ne=navigator.platform.indexOf("Linux")===0;function He(h){return navigator.userAgent.toLowerCase().indexOf(h)>=0}var $e={ie:ve,ielt9:ce,edge:Ie,webkit:be,android:xe,android23:je,androidStock:Pe,opera:ke,chrome:Ze,gecko:Ue,safari:it,phantom:ye,opera12:F,win:K,ie3d:_e,webkit3d:Oe,gecko3d:se,any3d:ge,mobile:de,mobileWebkit:Re,mobileWebkit3d:qe,msPointer:H,pointer:Te,touch:me,touchNative:Ce,mobileOpera:Me,mobileGecko:Ve,retina:ft,passiveEvents:we,canvas:G,svg:W,vml:Ee,inlineSvg:J,mac:Le,linux:Ne},ut=$e.msPointer?"MSPointerDown":"pointerdown",lt=$e.msPointer?"MSPointerMove":"pointermove",dt=$e.msPointer?"MSPointerUp":"pointerup",ct=$e.msPointer?"MSPointerCancel":"pointercancel",nt={touchstart:ut,touchmove:lt,touchend:dt,touchcancel:ct},lr={touchstart:vl,touchmove:xn,touchend:xn,touchcancel:xn},at={},De=!1;function We(h,S,C){return S==="touchstart"&&xr(),lr[S]?(C=lr[S].bind(this,C),h.addEventListener(nt[S],C,!1),C):(console.warn("wrong event specified:",S),d)}function Ge(h,S,C){if(!nt[S]){console.warn("wrong event specified:",S);return}h.removeEventListener(nt[S],C,!1)}function ht(h){at[h.pointerId]=h}function gt(h){at[h.pointerId]&&(at[h.pointerId]=h)}function Dt(h){delete at[h.pointerId]}function xr(){De||(document.addEventListener(ut,ht,!0),document.addEventListener(lt,gt,!0),document.addEventListener(dt,Dt,!0),document.addEventListener(ct,Dt,!0),De=!0)}function xn(h,S){if(S.pointerType!==(S.MSPOINTER_TYPE_MOUSE||"mouse")){S.touches=[];for(var C in at)S.touches.push(at[C]);S.changedTouches=[S],h(S)}}function vl(h,S){S.MSPOINTER_TYPE_TOUCH&&S.pointerType===S.MSPOINTER_TYPE_TOUCH&&on(S),xn(h,S)}function Qi(h){var S={},C,z;for(z in h)C=h[z],S[z]=C&&C.bind?C.bind(h):C;return h=S,S.type="dblclick",S.detail=2,S.isTrusted=!1,S._simulated=!0,S}var Tr=200;function Ea(h,S){h.addEventListener("dblclick",S);var C=0,z;function ue(Se){if(Se.detail!==1){z=Se.detail;return}if(!(Se.pointerType==="mouse"||Se.sourceCapabilities&&!Se.sourceCapabilities.firesTouchEvents)){var Be=Sx(Se);if(!(Be.some(function(Xe){return Xe instanceof HTMLLabelElement&&Xe.attributes.for})&&!Be.some(function(Xe){return Xe instanceof HTMLInputElement||Xe instanceof HTMLSelectElement}))){var Qe=Date.now();Qe-C<=Tr?(z++,z===2&&S(Qi(Se))):z=1,C=Qe}}}return h.addEventListener("click",ue),{dblclick:S,simDblclick:ue}}function qn(h,S){h.removeEventListener("dblclick",S.dblclick),h.removeEventListener("click",S.simDblclick)}var Qo=cp(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),oi=cp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Xo=oi==="webkitTransition"||oi==="OTransition"?oi+"End":"transitionend";function si(h){return typeof h=="string"?document.getElementById(h):h}function no(h,S){var C=h.style[S]||h.currentStyle&&h.currentStyle[S];if((!C||C==="auto")&&document.defaultView){var z=document.defaultView.getComputedStyle(h,null);C=z?z[S]:null}return C==="auto"?null:C}function Ft(h,S,C){var z=document.createElement(h);return z.className=S||"",C&&C.appendChild(z),z}function Jt(h){var S=h.parentNode;S&&S.removeChild(h)}function Pi(h){for(;h.firstChild;)h.removeChild(h.firstChild)}function Js(h){var S=h.parentNode;S&&S.lastChild!==h&&S.appendChild(h)}function eu(h){var S=h.parentNode;S&&S.firstChild!==h&&S.insertBefore(h,S.firstChild)}function Ym(h,S){if(h.classList!==void 0)return h.classList.contains(S);var C=fp(h);return C.length>0&&new RegExp("(^|\\s)"+S+"(\\s|$)").test(C)}function Nt(h,S){if(h.classList!==void 0)for(var C=b(S),z=0,ue=C.length;z<ue;z++)h.classList.add(C[z]);else if(!Ym(h,S)){var Se=fp(h);Qm(h,(Se?Se+" ":"")+S)}}function Nr(h,S){h.classList!==void 0?h.classList.remove(S):Qm(h,p((" "+fp(h)+" ").replace(" "+S+" "," ")))}function Qm(h,S){h.className.baseVal===void 0?h.className=S:h.className.baseVal=S}function fp(h){return h.correspondingElement&&(h=h.correspondingElement),h.className.baseVal===void 0?h.className:h.className.baseVal}function ui(h,S){"opacity"in h.style?h.style.opacity=S:"filter"in h.style&&K8(h,S)}function K8(h,S){var C=!1,z="DXImageTransform.Microsoft.Alpha";try{C=h.filters.item(z)}catch{if(S===1)return}S=Math.round(S*100),C?(C.Enabled=S!==100,C.Opacity=S):h.style.filter+=" progid:"+z+"(opacity="+S+")"}function cp(h){for(var S=document.documentElement.style,C=0;C<h.length;C++)if(h[C]in S)return h[C];return!1}function Jo(h,S,C){var z=S||new ae(0,0);h.style[Qo]=($e.ie3d?"translate("+z.x+"px,"+z.y+"px)":"translate3d("+z.x+"px,"+z.y+"px,0)")+(C?" scale("+C+")":"")}function $r(h,S){h._leaflet_pos=S,$e.any3d?Jo(h,S):(h.style.left=S.x+"px",h.style.top=S.y+"px")}function es(h){return h._leaflet_pos||new ae(0,0)}var wl,El,Xm;if("onselectstart"in document)wl=function(){Pt(window,"selectstart",on)},El=function(){ar(window,"selectstart",on)};else{var Sl=cp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);wl=function(){if(Sl){var h=document.documentElement.style;Xm=h[Sl],h[Sl]="none"}},El=function(){Sl&&(document.documentElement.style[Sl]=Xm,Xm=void 0)}}function Jm(){Pt(window,"dragstart",on)}function ey(){ar(window,"dragstart",on)}var dp,ty;function ry(h){for(;h.tabIndex===-1;)h=h.parentNode;h.style&&(hp(),dp=h,ty=h.style.outlineStyle,h.style.outlineStyle="none",Pt(window,"keydown",hp))}function hp(){dp&&(dp.style.outlineStyle=ty,dp=void 0,ty=void 0,ar(window,"keydown",hp))}function wx(h){do h=h.parentNode;while((!h.offsetWidth||!h.offsetHeight)&&h!==document.body);return h}function ny(h){var S=h.getBoundingClientRect();return{x:S.width/h.offsetWidth||1,y:S.height/h.offsetHeight||1,boundingClientRect:S}}var Z8={__proto__:null,TRANSFORM:Qo,TRANSITION:oi,TRANSITION_END:Xo,get:si,getStyle:no,create:Ft,remove:Jt,empty:Pi,toFront:Js,toBack:eu,hasClass:Ym,addClass:Nt,removeClass:Nr,setClass:Qm,getClass:fp,setOpacity:ui,testProp:cp,setTransform:Jo,setPosition:$r,getPosition:es,get disableTextSelection(){return wl},get enableTextSelection(){return El},disableImageDrag:Jm,enableImageDrag:ey,preventOutline:ry,restoreOutline:hp,getSizedParentNode:wx,getScale:ny};function Pt(h,S,C,z){if(S&&typeof S=="object")for(var ue in S)ay(h,ue,S[ue],C);else{S=b(S);for(var Se=0,Be=S.length;Se<Be;Se++)ay(h,S[Se],C,z)}return this}var Xi="_leaflet_events";function ar(h,S,C,z){if(arguments.length===1)Ex(h),delete h[Xi];else if(S&&typeof S=="object")for(var ue in S)oy(h,ue,S[ue],C);else if(S=b(S),arguments.length===2)Ex(h,function(Qe){return E(S,Qe)!==-1});else for(var Se=0,Be=S.length;Se<Be;Se++)oy(h,S[Se],C,z);return this}function Ex(h,S){for(var C in h[Xi]){var z=C.split(/\d/)[0];(!S||S(z))&&oy(h,z,null,null,C)}}var iy={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ay(h,S,C,z){var ue=S+l(C)+(z?"_"+l(z):"");if(h[Xi]&&h[Xi][ue])return this;var Se=function(Qe){return C.call(z||h,Qe||window.event)},Be=Se;!$e.touchNative&&$e.pointer&&S.indexOf("touch")===0?Se=We(h,S,Se):$e.touch&&S==="dblclick"?Se=Ea(h,Se):"addEventListener"in h?S==="touchstart"||S==="touchmove"||S==="wheel"||S==="mousewheel"?h.addEventListener(iy[S]||S,Se,$e.passiveEvents?{passive:!1}:!1):S==="mouseenter"||S==="mouseleave"?(Se=function(Qe){Qe=Qe||window.event,uy(h,Qe)&&Be(Qe)},h.addEventListener(iy[S],Se,!1)):h.addEventListener(S,Be,!1):h.attachEvent("on"+S,Se),h[Xi]=h[Xi]||{},h[Xi][ue]=Se}function oy(h,S,C,z,ue){ue=ue||S+l(C)+(z?"_"+l(z):"");var Se=h[Xi]&&h[Xi][ue];if(!Se)return this;!$e.touchNative&&$e.pointer&&S.indexOf("touch")===0?Ge(h,S,Se):$e.touch&&S==="dblclick"?qn(h,Se):"removeEventListener"in h?h.removeEventListener(iy[S]||S,Se,!1):h.detachEvent("on"+S,Se),h[Xi][ue]=null}function ts(h){return h.stopPropagation?h.stopPropagation():h.originalEvent?h.originalEvent._stopped=!0:h.cancelBubble=!0,this}function sy(h){return ay(h,"wheel",ts),this}function xl(h){return Pt(h,"mousedown touchstart dblclick contextmenu",ts),h._leaflet_disable_click=!0,this}function on(h){return h.preventDefault?h.preventDefault():h.returnValue=!1,this}function rs(h){return on(h),ts(h),this}function Sx(h){if(h.composedPath)return h.composedPath();for(var S=[],C=h.target;C;)S.push(C),C=C.parentNode;return S}function xx(h,S){if(!S)return new ae(h.clientX,h.clientY);var C=ny(S),z=C.boundingClientRect;return new ae((h.clientX-z.left)/C.x-S.clientLeft,(h.clientY-z.top)/C.y-S.clientTop)}var Y8=$e.linux&&$e.chrome?window.devicePixelRatio:$e.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Tx(h){return $e.edge?h.wheelDeltaY/2:h.deltaY&&h.deltaMode===0?-h.deltaY/Y8:h.deltaY&&h.deltaMode===1?-h.deltaY*20:h.deltaY&&h.deltaMode===2?-h.deltaY*60:h.deltaX||h.deltaZ?0:h.wheelDelta?(h.wheelDeltaY||h.wheelDelta)/2:h.detail&&Math.abs(h.detail)<32765?-h.detail*20:h.detail?h.detail/-32765*60:0}function uy(h,S){var C=S.relatedTarget;if(!C)return!0;try{for(;C&&C!==h;)C=C.parentNode}catch{return!1}return C!==h}var Q8={__proto__:null,on:Pt,off:ar,stopPropagation:ts,disableScrollPropagation:sy,disableClickPropagation:xl,preventDefault:on,stop:rs,getPropagationPath:Sx,getMousePosition:xx,getWheelDelta:Tx,isExternalTarget:uy,addListener:Pt,removeListener:ar},Rx=le.extend({run:function(h,S,C,z){this.stop(),this._el=h,this._inProgress=!0,this._duration=C||.25,this._easeOutPower=1/Math.max(z||.5,.2),this._startPos=es(h),this._offset=S.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=j(this._animate,this),this._step()},_step:function(h){var S=+new Date-this._startTime,C=this._duration*1e3;S<C?this._runFrame(this._easeOut(S/C),h):(this._runFrame(1),this._complete())},_runFrame:function(h,S){var C=this._startPos.add(this._offset.multiplyBy(h));S&&C._round(),$r(this._el,C),this.fire("step")},_complete:function(){O(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(h){return 1-Math.pow(1-h,this._easeOutPower)}}),Ut=le.extend({options:{crs:x,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(h,S){S=v(this,S),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(h),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),S.maxBounds&&this.setMaxBounds(S.maxBounds),S.zoom!==void 0&&(this._zoom=this._limitZoom(S.zoom)),S.center&&S.zoom!==void 0&&this.setView(P(S.center),S.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=oi&&$e.any3d&&!$e.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Pt(this._proxy,Xo,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(h,S,C){if(S=S===void 0?this._zoom:this._limitZoom(S),h=this._limitCenter(P(h),S,this.options.maxBounds),C=C||{},this._stop(),this._loaded&&!C.reset&&C!==!0){C.animate!==void 0&&(C.zoom=i({animate:C.animate},C.zoom),C.pan=i({animate:C.animate,duration:C.duration},C.pan));var z=this._zoom!==S?this._tryAnimatedZoom&&this._tryAnimatedZoom(h,S,C.zoom):this._tryAnimatedPan(h,C.pan);if(z)return clearTimeout(this._sizeTimer),this}return this._resetView(h,S,C.pan&&C.pan.noMoveStart),this},setZoom:function(h,S){return this._loaded?this.setView(this.getCenter(),h,{zoom:S}):(this._zoom=h,this)},zoomIn:function(h,S){return h=h||($e.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+h,S)},zoomOut:function(h,S){return h=h||($e.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-h,S)},setZoomAround:function(h,S,C){var z=this.getZoomScale(S),ue=this.getSize().divideBy(2),Se=h instanceof ae?h:this.latLngToContainerPoint(h),Be=Se.subtract(ue).multiplyBy(1-1/z),Qe=this.containerPointToLatLng(ue.add(Be));return this.setView(Qe,S,{zoom:C})},_getBoundsCenterZoom:function(h,S){S=S||{},h=h.getBounds?h.getBounds():Z(h);var C=V(S.paddingTopLeft||S.padding||[0,0]),z=V(S.paddingBottomRight||S.padding||[0,0]),ue=this.getBoundsZoom(h,!1,C.add(z));if(ue=typeof S.maxZoom=="number"?Math.min(S.maxZoom,ue):ue,ue===1/0)return{center:h.getCenter(),zoom:ue};var Se=z.subtract(C).divideBy(2),Be=this.project(h.getSouthWest(),ue),Qe=this.project(h.getNorthEast(),ue),Xe=this.unproject(Be.add(Qe).divideBy(2).add(Se),ue);return{center:Xe,zoom:ue}},fitBounds:function(h,S){if(h=Z(h),!h.isValid())throw new Error("Bounds are not valid.");var C=this._getBoundsCenterZoom(h,S);return this.setView(C.center,C.zoom,S)},fitWorld:function(h){return this.fitBounds([[-90,-180],[90,180]],h)},panTo:function(h,S){return this.setView(h,this._zoom,{pan:S})},panBy:function(h,S){if(h=V(h).round(),S=S||{},!h.x&&!h.y)return this.fire("moveend");if(S.animate!==!0&&!this.getSize().contains(h))return this._resetView(this.unproject(this.project(this.getCenter()).add(h)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Rx,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),S.noMoveStart||this.fire("movestart"),S.animate!==!1){Nt(this._mapPane,"leaflet-pan-anim");var C=this._getMapPanePos().subtract(h).round();this._panAnim.run(this._mapPane,C,S.duration||.25,S.easeLinearity)}else this._rawPanBy(h),this.fire("move").fire("moveend");return this},flyTo:function(h,S,C){if(C=C||{},C.animate===!1||!$e.any3d)return this.setView(h,S,C);this._stop();var z=this.project(this.getCenter()),ue=this.project(h),Se=this.getSize(),Be=this._zoom;h=P(h),S=S===void 0?Be:S;var Qe=Math.max(Se.x,Se.y),Xe=Qe*this.getZoomScale(Be,S),ot=ue.distanceTo(z)||1,yt=1.42,Tt=yt*yt;function Lt(Ur){var Tp=Ur?-1:1,BB=Ur?Xe:Qe,qB=Xe*Xe-Qe*Qe+Tp*Tt*Tt*ot*ot,$B=2*BB*Tt*ot,by=qB/$B,oT=Math.sqrt(by*by+1)-by,UB=oT<1e-9?-18:Math.log(oT);return UB}function Tn(Ur){return(Math.exp(Ur)-Math.exp(-Ur))/2}function en(Ur){return(Math.exp(Ur)+Math.exp(-Ur))/2}function fi(Ur){return Tn(Ur)/en(Ur)}var $n=Lt(0);function ou(Ur){return Qe*(en($n)/en($n+yt*Ur))}function MB(Ur){return Qe*(en($n)*fi($n+yt*Ur)-Tn($n))/Tt}function kB(Ur){return 1-Math.pow(1-Ur,1.5)}var FB=Date.now(),iT=(Lt(1)-$n)/yt,jB=C.duration?1e3*C.duration:1e3*iT*.8;function aT(){var Ur=(Date.now()-FB)/jB,Tp=kB(Ur)*iT;Ur<=1?(this._flyToFrame=j(aT,this),this._move(this.unproject(z.add(ue.subtract(z).multiplyBy(MB(Tp)/ot)),Be),this.getScaleZoom(Qe/ou(Tp),Be),{flyTo:!0})):this._move(h,S)._moveEnd(!0)}return this._moveStart(!0,C.noMoveStart),aT.call(this),this},flyToBounds:function(h,S){var C=this._getBoundsCenterZoom(h,S);return this.flyTo(C.center,C.zoom,S)},setMaxBounds:function(h){return h=Z(h),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),h.isValid()?(this.options.maxBounds=h,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(h){var S=this.options.minZoom;return this.options.minZoom=h,this._loaded&&S!==h&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(h):this},setMaxZoom:function(h){var S=this.options.maxZoom;return this.options.maxZoom=h,this._loaded&&S!==h&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(h):this},panInsideBounds:function(h,S){this._enforcingBounds=!0;var C=this.getCenter(),z=this._limitCenter(C,this._zoom,Z(h));return C.equals(z)||this.panTo(z,S),this._enforcingBounds=!1,this},panInside:function(h,S){S=S||{};var C=V(S.paddingTopLeft||S.padding||[0,0]),z=V(S.paddingBottomRight||S.padding||[0,0]),ue=this.project(this.getCenter()),Se=this.project(h),Be=this.getPixelBounds(),Qe=he([Be.min.add(C),Be.max.subtract(z)]),Xe=Qe.getSize();if(!Qe.contains(Se)){this._enforcingBounds=!0;var ot=Se.subtract(Qe.getCenter()),yt=Qe.extend(Se).getSize().subtract(Xe);ue.x+=ot.x<0?-yt.x:yt.x,ue.y+=ot.y<0?-yt.y:yt.y,this.panTo(this.unproject(ue),S),this._enforcingBounds=!1}return this},invalidateSize:function(h){if(!this._loaded)return this;h=i({animate:!1,pan:!0},h===!0?{animate:!0}:h);var S=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var C=this.getSize(),z=S.divideBy(2).round(),ue=C.divideBy(2).round(),Se=z.subtract(ue);return!Se.x&&!Se.y?this:(h.animate&&h.pan?this.panBy(Se):(h.pan&&this._rawPanBy(Se),this.fire("move"),h.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:S,newSize:C}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(h){if(h=this._locateOptions=i({timeout:1e4,watch:!1},h),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var S=o(this._handleGeolocationResponse,this),C=o(this._handleGeolocationError,this);return h.watch?this._locationWatchId=navigator.geolocation.watchPosition(S,C,h):navigator.geolocation.getCurrentPosition(S,C,h),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(h){if(this._container._leaflet_id){var S=h.code,C=h.message||(S===1?"permission denied":S===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:S,message:"Geolocation error: "+C+"."})}},_handleGeolocationResponse:function(h){if(this._container._leaflet_id){var S=h.coords.latitude,C=h.coords.longitude,z=new ee(S,C),ue=z.toBounds(h.coords.accuracy*2),Se=this._locateOptions;if(Se.setView){var Be=this.getBoundsZoom(ue);this.setView(z,Se.maxZoom?Math.min(Be,Se.maxZoom):Be)}var Qe={latlng:z,bounds:ue,timestamp:h.timestamp};for(var Xe in h.coords)typeof h.coords[Xe]=="number"&&(Qe[Xe]=h.coords[Xe]);this.fire("locationfound",Qe)}},addHandler:function(h,S){if(!S)return this;var C=this[h]=new S(this);return this._handlers.push(C),this.options[h]&&C.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Jt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(O(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var h;for(h in this._layers)this._layers[h].remove();for(h in this._panes)Jt(this._panes[h]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(h,S){var C="leaflet-pane"+(h?" leaflet-"+h.replace("Pane","")+"-pane":""),z=Ft("div",C,S||this._mapPane);return h&&(this._panes[h]=z),z},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var h=this.getPixelBounds(),S=this.unproject(h.getBottomLeft()),C=this.unproject(h.getTopRight());return new Y(S,C)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(h,S,C){h=Z(h),C=V(C||[0,0]);var z=this.getZoom()||0,ue=this.getMinZoom(),Se=this.getMaxZoom(),Be=h.getNorthWest(),Qe=h.getSouthEast(),Xe=this.getSize().subtract(C),ot=he(this.project(Qe,z),this.project(Be,z)).getSize(),yt=$e.any3d?this.options.zoomSnap:1,Tt=Xe.x/ot.x,Lt=Xe.y/ot.y,Tn=S?Math.max(Tt,Lt):Math.min(Tt,Lt);return z=this.getScaleZoom(Tn,z),yt&&(z=Math.round(z/(yt/100))*(yt/100),z=S?Math.ceil(z/yt)*yt:Math.floor(z/yt)*yt),Math.max(ue,Math.min(Se,z))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ae(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(h,S){var C=this._getTopLeftPoint(h,S);return new oe(C,C.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(h){return this.options.crs.getProjectedBounds(h===void 0?this.getZoom():h)},getPane:function(h){return typeof h=="string"?this._panes[h]:h},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(h,S){var C=this.options.crs;return S=S===void 0?this._zoom:S,C.scale(h)/C.scale(S)},getScaleZoom:function(h,S){var C=this.options.crs;S=S===void 0?this._zoom:S;var z=C.zoom(h*C.scale(S));return isNaN(z)?1/0:z},project:function(h,S){return S=S===void 0?this._zoom:S,this.options.crs.latLngToPoint(P(h),S)},unproject:function(h,S){return S=S===void 0?this._zoom:S,this.options.crs.pointToLatLng(V(h),S)},layerPointToLatLng:function(h){var S=V(h).add(this.getPixelOrigin());return this.unproject(S)},latLngToLayerPoint:function(h){var S=this.project(P(h))._round();return S._subtract(this.getPixelOrigin())},wrapLatLng:function(h){return this.options.crs.wrapLatLng(P(h))},wrapLatLngBounds:function(h){return this.options.crs.wrapLatLngBounds(Z(h))},distance:function(h,S){return this.options.crs.distance(P(h),P(S))},containerPointToLayerPoint:function(h){return V(h).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(h){return V(h).add(this._getMapPanePos())},containerPointToLatLng:function(h){var S=this.containerPointToLayerPoint(V(h));return this.layerPointToLatLng(S)},latLngToContainerPoint:function(h){return this.layerPointToContainerPoint(this.latLngToLayerPoint(P(h)))},mouseEventToContainerPoint:function(h){return xx(h,this._container)},mouseEventToLayerPoint:function(h){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(h))},mouseEventToLatLng:function(h){return this.layerPointToLatLng(this.mouseEventToLayerPoint(h))},_initContainer:function(h){var S=this._container=si(h);if(S){if(S._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Pt(S,"scroll",this._onScroll,this),this._containerId=l(S)},_initLayout:function(){var h=this._container;this._fadeAnimated=this.options.fadeAnimation&&$e.any3d,Nt(h,"leaflet-container"+($e.touch?" leaflet-touch":"")+($e.retina?" leaflet-retina":"")+($e.ielt9?" leaflet-oldie":"")+($e.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var S=no(h,"position");S!=="absolute"&&S!=="relative"&&S!=="fixed"&&S!=="sticky"&&(h.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var h=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),$r(this._mapPane,new ae(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Nt(h.markerPane,"leaflet-zoom-hide"),Nt(h.shadowPane,"leaflet-zoom-hide"))},_resetView:function(h,S,C){$r(this._mapPane,new ae(0,0));var z=!this._loaded;this._loaded=!0,S=this._limitZoom(S),this.fire("viewprereset");var ue=this._zoom!==S;this._moveStart(ue,C)._move(h,S)._moveEnd(ue),this.fire("viewreset"),z&&this.fire("load")},_moveStart:function(h,S){return h&&this.fire("zoomstart"),S||this.fire("movestart"),this},_move:function(h,S,C,z){S===void 0&&(S=this._zoom);var ue=this._zoom!==S;return this._zoom=S,this._lastCenter=h,this._pixelOrigin=this._getNewPixelOrigin(h),z?C&&C.pinch&&this.fire("zoom",C):((ue||C&&C.pinch)&&this.fire("zoom",C),this.fire("move",C)),this},_moveEnd:function(h){return h&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return O(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(h){$r(this._mapPane,this._getMapPanePos().subtract(h))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(h){this._targets={},this._targets[l(this._container)]=this;var S=h?ar:Pt;S(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&S(window,"resize",this._onResize,this),$e.any3d&&this.options.transform3DLimit&&(h?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){O(this._resizeRequest),this._resizeRequest=j(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var h=this._getMapPanePos();Math.max(Math.abs(h.x),Math.abs(h.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(h,S){for(var C=[],z,ue=S==="mouseout"||S==="mouseover",Se=h.target||h.srcElement,Be=!1;Se;){if(z=this._targets[l(Se)],z&&(S==="click"||S==="preclick")&&this._draggableMoved(z)){Be=!0;break}if(z&&z.listens(S,!0)&&(ue&&!uy(Se,h)||(C.push(z),ue))||Se===this._container)break;Se=Se.parentNode}return!C.length&&!Be&&!ue&&this.listens(S,!0)&&(C=[this]),C},_isClickDisabled:function(h){for(;h&&h!==this._container;){if(h._leaflet_disable_click)return!0;h=h.parentNode}},_handleDOMEvent:function(h){var S=h.target||h.srcElement;if(!(!this._loaded||S._leaflet_disable_events||h.type==="click"&&this._isClickDisabled(S))){var C=h.type;C==="mousedown"&&ry(S),this._fireDOMEvent(h,C)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(h,S,C){if(h.type==="click"){var z=i({},h);z.type="preclick",this._fireDOMEvent(z,z.type,C)}var ue=this._findEventTargets(h,S);if(C){for(var Se=[],Be=0;Be<C.length;Be++)C[Be].listens(S,!0)&&Se.push(C[Be]);ue=Se.concat(ue)}if(ue.length){S==="contextmenu"&&on(h);var Qe=ue[0],Xe={originalEvent:h};if(h.type!=="keypress"&&h.type!=="keydown"&&h.type!=="keyup"){var ot=Qe.getLatLng&&(!Qe._radius||Qe._radius<=10);Xe.containerPoint=ot?this.latLngToContainerPoint(Qe.getLatLng()):this.mouseEventToContainerPoint(h),Xe.layerPoint=this.containerPointToLayerPoint(Xe.containerPoint),Xe.latlng=ot?Qe.getLatLng():this.layerPointToLatLng(Xe.layerPoint)}for(Be=0;Be<ue.length;Be++)if(ue[Be].fire(S,Xe,!0),Xe.originalEvent._stopped||ue[Be].options.bubblingMouseEvents===!1&&E(this._mouseEvents,S)!==-1)return}},_draggableMoved:function(h){return h=h.dragging&&h.dragging.enabled()?h:this,h.dragging&&h.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var h=0,S=this._handlers.length;h<S;h++)this._handlers[h].disable()},whenReady:function(h,S){return this._loaded?h.call(S||this,{target:this}):this.on("load",h,S),this},_getMapPanePos:function(){return es(this._mapPane)||new ae(0,0)},_moved:function(){var h=this._getMapPanePos();return h&&!h.equals([0,0])},_getTopLeftPoint:function(h,S){var C=h&&S!==void 0?this._getNewPixelOrigin(h,S):this.getPixelOrigin();return C.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(h,S){var C=this.getSize()._divideBy(2);return this.project(h,S)._subtract(C)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(h,S,C){var z=this._getNewPixelOrigin(C,S);return this.project(h,S)._subtract(z)},_latLngBoundsToNewLayerBounds:function(h,S,C){var z=this._getNewPixelOrigin(C,S);return he([this.project(h.getSouthWest(),S)._subtract(z),this.project(h.getNorthWest(),S)._subtract(z),this.project(h.getSouthEast(),S)._subtract(z),this.project(h.getNorthEast(),S)._subtract(z)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(h){return this.latLngToLayerPoint(h).subtract(this._getCenterLayerPoint())},_limitCenter:function(h,S,C){if(!C)return h;var z=this.project(h,S),ue=this.getSize().divideBy(2),Se=new oe(z.subtract(ue),z.add(ue)),Be=this._getBoundsOffset(Se,C,S);return Math.abs(Be.x)<=1&&Math.abs(Be.y)<=1?h:this.unproject(z.add(Be),S)},_limitOffset:function(h,S){if(!S)return h;var C=this.getPixelBounds(),z=new oe(C.min.add(h),C.max.add(h));return h.add(this._getBoundsOffset(z,S))},_getBoundsOffset:function(h,S,C){var z=he(this.project(S.getNorthEast(),C),this.project(S.getSouthWest(),C)),ue=z.min.subtract(h.min),Se=z.max.subtract(h.max),Be=this._rebound(ue.x,-Se.x),Qe=this._rebound(ue.y,-Se.y);return new ae(Be,Qe)},_rebound:function(h,S){return h+S>0?Math.round(h-S)/2:Math.max(0,Math.ceil(h))-Math.max(0,Math.floor(S))},_limitZoom:function(h){var S=this.getMinZoom(),C=this.getMaxZoom(),z=$e.any3d?this.options.zoomSnap:1;return z&&(h=Math.round(h/z)*z),Math.max(S,Math.min(C,h))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Nr(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(h,S){var C=this._getCenterOffset(h)._trunc();return(S&&S.animate)!==!0&&!this.getSize().contains(C)?!1:(this.panBy(C,S),!0)},_createAnimProxy:function(){var h=this._proxy=Ft("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(h),this.on("zoomanim",function(S){var C=Qo,z=this._proxy.style[C];Jo(this._proxy,this.project(S.center,S.zoom),this.getZoomScale(S.zoom,1)),z===this._proxy.style[C]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Jt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var h=this.getCenter(),S=this.getZoom();Jo(this._proxy,this.project(h,S),this.getZoomScale(S,1))},_catchTransitionEnd:function(h){this._animatingZoom&&h.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(h,S,C){if(this._animatingZoom)return!0;if(C=C||{},!this._zoomAnimated||C.animate===!1||this._nothingToAnimate()||Math.abs(S-this._zoom)>this.options.zoomAnimationThreshold)return!1;var z=this.getZoomScale(S),ue=this._getCenterOffset(h)._divideBy(1-1/z);return C.animate!==!0&&!this.getSize().contains(ue)?!1:(j(function(){this._moveStart(!0,C.noMoveStart||!1)._animateZoom(h,S,!0)},this),!0)},_animateZoom:function(h,S,C,z){this._mapPane&&(C&&(this._animatingZoom=!0,this._animateToCenter=h,this._animateToZoom=S,Nt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:h,zoom:S,noUpdate:z}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Nr(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function X8(h,S){return new Ut(h,S)}var Di=Q.extend({options:{position:"topright"},initialize:function(h){v(this,h)},getPosition:function(){return this.options.position},setPosition:function(h){var S=this._map;return S&&S.removeControl(this),this.options.position=h,S&&S.addControl(this),this},getContainer:function(){return this._container},addTo:function(h){this.remove(),this._map=h;var S=this._container=this.onAdd(h),C=this.getPosition(),z=h._controlCorners[C];return Nt(S,"leaflet-control"),C.indexOf("bottom")!==-1?z.insertBefore(S,z.firstChild):z.appendChild(S),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Jt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(h){this._map&&h&&h.screenX>0&&h.screenY>0&&this._map.getContainer().focus()}}),Tl=function(h){return new Di(h)};Ut.include({addControl:function(h){return h.addTo(this),this},removeControl:function(h){return h.remove(),this},_initControlPos:function(){var h=this._controlCorners={},S="leaflet-",C=this._controlContainer=Ft("div",S+"control-container",this._container);function z(ue,Se){var Be=S+ue+" "+S+Se;h[ue+Se]=Ft("div",Be,C)}z("top","left"),z("top","right"),z("bottom","left"),z("bottom","right")},_clearControlPos:function(){for(var h in this._controlCorners)Jt(this._controlCorners[h]);Jt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ax=Di.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(h,S,C,z){return C<z?-1:z<C?1:0}},initialize:function(h,S,C){v(this,C),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var z in h)this._addLayer(h[z],z);for(z in S)this._addLayer(S[z],z,!0)},onAdd:function(h){this._initLayout(),this._update(),this._map=h,h.on("zoomend",this._checkDisabledLayers,this);for(var S=0;S<this._layers.length;S++)this._layers[S].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(h){return Di.prototype.addTo.call(this,h),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(h,S){return this._addLayer(h,S),this._map?this._update():this},addOverlay:function(h,S){return this._addLayer(h,S,!0),this._map?this._update():this},removeLayer:function(h){h.off("add remove",this._onLayerChange,this);var S=this._getLayer(l(h));return S&&this._layers.splice(this._layers.indexOf(S),1),this._map?this._update():this},expand:function(){Nt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var h=this._map.getSize().y-(this._container.offsetTop+50);return h<this._section.clientHeight?(Nt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=h+"px"):Nr(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Nr(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var h="leaflet-control-layers",S=this._container=Ft("div",h),C=this.options.collapsed;S.setAttribute("aria-haspopup",!0),xl(S),sy(S);var z=this._section=Ft("section",h+"-list");C&&(this._map.on("click",this.collapse,this),Pt(S,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var ue=this._layersLink=Ft("a",h+"-toggle",S);ue.href="#",ue.title="Layers",ue.setAttribute("role","button"),Pt(ue,{keydown:function(Se){Se.keyCode===13&&this._expandSafely()},click:function(Se){on(Se),this._expandSafely()}},this),C||this.expand(),this._baseLayersList=Ft("div",h+"-base",z),this._separator=Ft("div",h+"-separator",z),this._overlaysList=Ft("div",h+"-overlays",z),S.appendChild(z)},_getLayer:function(h){for(var S=0;S<this._layers.length;S++)if(this._layers[S]&&l(this._layers[S].layer)===h)return this._layers[S]},_addLayer:function(h,S,C){this._map&&h.on("add remove",this._onLayerChange,this),this._layers.push({layer:h,name:S,overlay:C}),this.options.sortLayers&&this._layers.sort(o(function(z,ue){return this.options.sortFunction(z.layer,ue.layer,z.name,ue.name)},this)),this.options.autoZIndex&&h.setZIndex&&(this._lastZIndex++,h.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Pi(this._baseLayersList),Pi(this._overlaysList),this._layerControlInputs=[];var h,S,C,z,ue=0;for(C=0;C<this._layers.length;C++)z=this._layers[C],this._addItem(z),S=S||z.overlay,h=h||!z.overlay,ue+=z.overlay?0:1;return this.options.hideSingleBase&&(h=h&&ue>1,this._baseLayersList.style.display=h?"":"none"),this._separator.style.display=S&&h?"":"none",this},_onLayerChange:function(h){this._handlingClick||this._update();var S=this._getLayer(l(h.target)),C=S.overlay?h.type==="add"?"overlayadd":"overlayremove":h.type==="add"?"baselayerchange":null;C&&this._map.fire(C,S)},_createRadioElement:function(h,S){var C='<input type="radio" class="leaflet-control-layers-selector" name="'+h+'"'+(S?' checked="checked"':"")+"/>",z=document.createElement("div");return z.innerHTML=C,z.firstChild},_addItem:function(h){var S=document.createElement("label"),C=this._map.hasLayer(h.layer),z;h.overlay?(z=document.createElement("input"),z.type="checkbox",z.className="leaflet-control-layers-selector",z.defaultChecked=C):z=this._createRadioElement("leaflet-base-layers_"+l(this),C),this._layerControlInputs.push(z),z.layerId=l(h.layer),Pt(z,"click",this._onInputClick,this);var ue=document.createElement("span");ue.innerHTML=" "+h.name;var Se=document.createElement("span");S.appendChild(Se),Se.appendChild(z),Se.appendChild(ue);var Be=h.overlay?this._overlaysList:this._baseLayersList;return Be.appendChild(S),this._checkDisabledLayers(),S},_onInputClick:function(){if(!this._preventClick){var h=this._layerControlInputs,S,C,z=[],ue=[];this._handlingClick=!0;for(var Se=h.length-1;Se>=0;Se--)S=h[Se],C=this._getLayer(S.layerId).layer,S.checked?z.push(C):S.checked||ue.push(C);for(Se=0;Se<ue.length;Se++)this._map.hasLayer(ue[Se])&&this._map.removeLayer(ue[Se]);for(Se=0;Se<z.length;Se++)this._map.hasLayer(z[Se])||this._map.addLayer(z[Se]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var h=this._layerControlInputs,S,C,z=this._map.getZoom(),ue=h.length-1;ue>=0;ue--)S=h[ue],C=this._getLayer(S.layerId).layer,S.disabled=C.options.minZoom!==void 0&&z<C.options.minZoom||C.options.maxZoom!==void 0&&z>C.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var h=this._section;this._preventClick=!0,Pt(h,"click",on),this.expand();var S=this;setTimeout(function(){ar(h,"click",on),S._preventClick=!1})}}),J8=function(h,S,C){return new Ax(h,S,C)},ly=Di.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(h){var S="leaflet-control-zoom",C=Ft("div",S+" leaflet-bar"),z=this.options;return this._zoomInButton=this._createButton(z.zoomInText,z.zoomInTitle,S+"-in",C,this._zoomIn),this._zoomOutButton=this._createButton(z.zoomOutText,z.zoomOutTitle,S+"-out",C,this._zoomOut),this._updateDisabled(),h.on("zoomend zoomlevelschange",this._updateDisabled,this),C},onRemove:function(h){h.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(h){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(h.shiftKey?3:1))},_zoomOut:function(h){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(h.shiftKey?3:1))},_createButton:function(h,S,C,z,ue){var Se=Ft("a",C,z);return Se.innerHTML=h,Se.href="#",Se.title=S,Se.setAttribute("role","button"),Se.setAttribute("aria-label",S),xl(Se),Pt(Se,"click",rs),Pt(Se,"click",ue,this),Pt(Se,"click",this._refocusOnMap,this),Se},_updateDisabled:function(){var h=this._map,S="leaflet-disabled";Nr(this._zoomInButton,S),Nr(this._zoomOutButton,S),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||h._zoom===h.getMinZoom())&&(Nt(this._zoomOutButton,S),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||h._zoom===h.getMaxZoom())&&(Nt(this._zoomInButton,S),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ut.mergeOptions({zoomControl:!0}),Ut.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ly,this.addControl(this.zoomControl))});var eB=function(h){return new ly(h)},Ix=Di.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(h){var S="leaflet-control-scale",C=Ft("div",S),z=this.options;return this._addScales(z,S+"-line",C),h.on(z.updateWhenIdle?"moveend":"move",this._update,this),h.whenReady(this._update,this),C},onRemove:function(h){h.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(h,S,C){h.metric&&(this._mScale=Ft("div",S,C)),h.imperial&&(this._iScale=Ft("div",S,C))},_update:function(){var h=this._map,S=h.getSize().y/2,C=h.distance(h.containerPointToLatLng([0,S]),h.containerPointToLatLng([this.options.maxWidth,S]));this._updateScales(C)},_updateScales:function(h){this.options.metric&&h&&this._updateMetric(h),this.options.imperial&&h&&this._updateImperial(h)},_updateMetric:function(h){var S=this._getRoundNum(h),C=S<1e3?S+" m":S/1e3+" km";this._updateScale(this._mScale,C,S/h)},_updateImperial:function(h){var S=h*3.2808399,C,z,ue;S>5280?(C=S/5280,z=this._getRoundNum(C),this._updateScale(this._iScale,z+" mi",z/C)):(ue=this._getRoundNum(S),this._updateScale(this._iScale,ue+" ft",ue/S))},_updateScale:function(h,S,C){h.style.width=Math.round(this.options.maxWidth*C)+"px",h.innerHTML=S},_getRoundNum:function(h){var S=Math.pow(10,(Math.floor(h)+"").length-1),C=h/S;return C=C>=10?10:C>=5?5:C>=3?3:C>=2?2:1,S*C}}),tB=function(h){return new Ix(h)},rB='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',fy=Di.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+($e.inlineSvg?rB+" ":"")+"Leaflet</a>"},initialize:function(h){v(this,h),this._attributions={}},onAdd:function(h){h.attributionControl=this,this._container=Ft("div","leaflet-control-attribution"),xl(this._container);for(var S in h._layers)h._layers[S].getAttribution&&this.addAttribution(h._layers[S].getAttribution());return this._update(),h.on("layeradd",this._addAttribution,this),this._container},onRemove:function(h){h.off("layeradd",this._addAttribution,this)},_addAttribution:function(h){h.layer.getAttribution&&(this.addAttribution(h.layer.getAttribution()),h.layer.once("remove",function(){this.removeAttribution(h.layer.getAttribution())},this))},setPrefix:function(h){return this.options.prefix=h,this._update(),this},addAttribution:function(h){return h?(this._attributions[h]||(this._attributions[h]=0),this._attributions[h]++,this._update(),this):this},removeAttribution:function(h){return h?(this._attributions[h]&&(this._attributions[h]--,this._update()),this):this},_update:function(){if(this._map){var h=[];for(var S in this._attributions)this._attributions[S]&&h.push(S);var C=[];this.options.prefix&&C.push(this.options.prefix),h.length&&C.push(h.join(", ")),this._container.innerHTML=C.join(' <span aria-hidden="true">|</span> ')}}});Ut.mergeOptions({attributionControl:!0}),Ut.addInitHook(function(){this.options.attributionControl&&new fy().addTo(this)});var nB=function(h){return new fy(h)};Di.Layers=Ax,Di.Zoom=ly,Di.Scale=Ix,Di.Attribution=fy,Tl.layers=J8,Tl.zoom=eB,Tl.scale=tB,Tl.attribution=nB;var Ji=Q.extend({initialize:function(h){this._map=h},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ji.addTo=function(h,S){return h.addHandler(S,this),this};var iB={Events:X},Ox=$e.touch?"touchstart mousedown":"mousedown",io=le.extend({options:{clickTolerance:3},initialize:function(h,S,C,z){v(this,z),this._element=h,this._dragStartTarget=S||h,this._preventOutline=C},enable:function(){this._enabled||(Pt(this._dragStartTarget,Ox,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(io._dragging===this&&this.finishDrag(!0),ar(this._dragStartTarget,Ox,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(h){if(this._enabled&&(this._moved=!1,!Ym(this._element,"leaflet-zoom-anim"))){if(h.touches&&h.touches.length!==1){io._dragging===this&&this.finishDrag();return}if(!(io._dragging||h.shiftKey||h.which!==1&&h.button!==1&&!h.touches)&&(io._dragging=this,this._preventOutline&&ry(this._element),Jm(),wl(),!this._moving)){this.fire("down");var S=h.touches?h.touches[0]:h,C=wx(this._element);this._startPoint=new ae(S.clientX,S.clientY),this._startPos=es(this._element),this._parentScale=ny(C);var z=h.type==="mousedown";Pt(document,z?"mousemove":"touchmove",this._onMove,this),Pt(document,z?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(h){if(this._enabled){if(h.touches&&h.touches.length>1){this._moved=!0;return}var S=h.touches&&h.touches.length===1?h.touches[0]:h,C=new ae(S.clientX,S.clientY)._subtract(this._startPoint);!C.x&&!C.y||Math.abs(C.x)+Math.abs(C.y)<this.options.clickTolerance||(C.x/=this._parentScale.x,C.y/=this._parentScale.y,on(h),this._moved||(this.fire("dragstart"),this._moved=!0,Nt(document.body,"leaflet-dragging"),this._lastTarget=h.target||h.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Nt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(C),this._moving=!0,this._lastEvent=h,this._updatePosition())}},_updatePosition:function(){var h={originalEvent:this._lastEvent};this.fire("predrag",h),$r(this._element,this._newPos),this.fire("drag",h)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(h){Nr(document.body,"leaflet-dragging"),this._lastTarget&&(Nr(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ar(document,"mousemove touchmove",this._onMove,this),ar(document,"mouseup touchend touchcancel",this._onUp,this),ey(),El();var S=this._moved&&this._moving;this._moving=!1,io._dragging=!1,S&&this.fire("dragend",{noInertia:h,distance:this._newPos.distanceTo(this._startPos)})}});function Px(h,S,C){var z,ue=[1,4,2,8],Se,Be,Qe,Xe,ot,yt,Tt,Lt;for(Se=0,yt=h.length;Se<yt;Se++)h[Se]._code=ns(h[Se],S);for(Qe=0;Qe<4;Qe++){for(Tt=ue[Qe],z=[],Se=0,yt=h.length,Be=yt-1;Se<yt;Be=Se++)Xe=h[Se],ot=h[Be],Xe._code&Tt?ot._code&Tt||(Lt=pp(ot,Xe,Tt,S,C),Lt._code=ns(Lt,S),z.push(Lt)):(ot._code&Tt&&(Lt=pp(ot,Xe,Tt,S,C),Lt._code=ns(Lt,S),z.push(Lt)),z.push(Xe));h=z}return h}function Dx(h,S){var C,z,ue,Se,Be,Qe,Xe,ot,yt;if(!h||h.length===0)throw new Error("latlngs not passed");li(h)||(console.warn("latlngs are not flat! Only the first ring will be used"),h=h[0]);var Tt=P([0,0]),Lt=Z(h),Tn=Lt.getNorthWest().distanceTo(Lt.getSouthWest())*Lt.getNorthEast().distanceTo(Lt.getNorthWest());Tn<1700&&(Tt=cy(h));var en=h.length,fi=[];for(C=0;C<en;C++){var $n=P(h[C]);fi.push(S.project(P([$n.lat-Tt.lat,$n.lng-Tt.lng])))}for(Qe=Xe=ot=0,C=0,z=en-1;C<en;z=C++)ue=fi[C],Se=fi[z],Be=ue.y*Se.x-Se.y*ue.x,Xe+=(ue.x+Se.x)*Be,ot+=(ue.y+Se.y)*Be,Qe+=Be*3;Qe===0?yt=fi[0]:yt=[Xe/Qe,ot/Qe];var ou=S.unproject(V(yt));return P([ou.lat+Tt.lat,ou.lng+Tt.lng])}function cy(h){for(var S=0,C=0,z=0,ue=0;ue<h.length;ue++){var Se=P(h[ue]);S+=Se.lat,C+=Se.lng,z++}return P([S/z,C/z])}var aB={__proto__:null,clipPolygon:Px,polygonCenter:Dx,centroid:cy};function Nx(h,S){if(!S||!h.length)return h.slice();var C=S*S;return h=uB(h,C),h=sB(h,C),h}function Cx(h,S,C){return Math.sqrt(Rl(h,S,C,!0))}function oB(h,S,C){return Rl(h,S,C)}function sB(h,S){var C=h.length,z=typeof Uint8Array<"u"?Uint8Array:Array,ue=new z(C);ue[0]=ue[C-1]=1,dy(h,ue,S,0,C-1);var Se,Be=[];for(Se=0;Se<C;Se++)ue[Se]&&Be.push(h[Se]);return Be}function dy(h,S,C,z,ue){var Se=0,Be,Qe,Xe;for(Qe=z+1;Qe<=ue-1;Qe++)Xe=Rl(h[Qe],h[z],h[ue],!0),Xe>Se&&(Be=Qe,Se=Xe);Se>C&&(S[Be]=1,dy(h,S,C,z,Be),dy(h,S,C,Be,ue))}function uB(h,S){for(var C=[h[0]],z=1,ue=0,Se=h.length;z<Se;z++)lB(h[z],h[ue])>S&&(C.push(h[z]),ue=z);return ue<Se-1&&C.push(h[Se-1]),C}var Lx;function Mx(h,S,C,z,ue){var Se=z?Lx:ns(h,C),Be=ns(S,C),Qe,Xe,ot;for(Lx=Be;;){if(!(Se|Be))return[h,S];if(Se&Be)return!1;Qe=Se||Be,Xe=pp(h,S,Qe,C,ue),ot=ns(Xe,C),Qe===Se?(h=Xe,Se=ot):(S=Xe,Be=ot)}}function pp(h,S,C,z,ue){var Se=S.x-h.x,Be=S.y-h.y,Qe=z.min,Xe=z.max,ot,yt;return C&8?(ot=h.x+Se*(Xe.y-h.y)/Be,yt=Xe.y):C&4?(ot=h.x+Se*(Qe.y-h.y)/Be,yt=Qe.y):C&2?(ot=Xe.x,yt=h.y+Be*(Xe.x-h.x)/Se):C&1&&(ot=Qe.x,yt=h.y+Be*(Qe.x-h.x)/Se),new ae(ot,yt,ue)}function ns(h,S){var C=0;return h.x<S.min.x?C|=1:h.x>S.max.x&&(C|=2),h.y<S.min.y?C|=4:h.y>S.max.y&&(C|=8),C}function lB(h,S){var C=S.x-h.x,z=S.y-h.y;return C*C+z*z}function Rl(h,S,C,z){var ue=S.x,Se=S.y,Be=C.x-ue,Qe=C.y-Se,Xe=Be*Be+Qe*Qe,ot;return Xe>0&&(ot=((h.x-ue)*Be+(h.y-Se)*Qe)/Xe,ot>1?(ue=C.x,Se=C.y):ot>0&&(ue+=Be*ot,Se+=Qe*ot)),Be=h.x-ue,Qe=h.y-Se,z?Be*Be+Qe*Qe:new ae(ue,Se)}function li(h){return!g(h[0])||typeof h[0][0]!="object"&&typeof h[0][0]<"u"}function kx(h){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),li(h)}function Fx(h,S){var C,z,ue,Se,Be,Qe,Xe,ot;if(!h||h.length===0)throw new Error("latlngs not passed");li(h)||(console.warn("latlngs are not flat! Only the first ring will be used"),h=h[0]);var yt=P([0,0]),Tt=Z(h),Lt=Tt.getNorthWest().distanceTo(Tt.getSouthWest())*Tt.getNorthEast().distanceTo(Tt.getNorthWest());Lt<1700&&(yt=cy(h));var Tn=h.length,en=[];for(C=0;C<Tn;C++){var fi=P(h[C]);en.push(S.project(P([fi.lat-yt.lat,fi.lng-yt.lng])))}for(C=0,z=0;C<Tn-1;C++)z+=en[C].distanceTo(en[C+1])/2;if(z===0)ot=en[0];else for(C=0,Se=0;C<Tn-1;C++)if(Be=en[C],Qe=en[C+1],ue=Be.distanceTo(Qe),Se+=ue,Se>z){Xe=(Se-z)/ue,ot=[Qe.x-Xe*(Qe.x-Be.x),Qe.y-Xe*(Qe.y-Be.y)];break}var $n=S.unproject(V(ot));return P([$n.lat+yt.lat,$n.lng+yt.lng])}var fB={__proto__:null,simplify:Nx,pointToSegmentDistance:Cx,closestPointOnSegment:oB,clipSegment:Mx,_getEdgeIntersection:pp,_getBitCode:ns,_sqClosestPointOnSegment:Rl,isFlat:li,_flat:kx,polylineCenter:Fx},hy={project:function(h){return new ae(h.lng,h.lat)},unproject:function(h){return new ee(h.y,h.x)},bounds:new oe([-180,-90],[180,90])},py={R:6378137,R_MINOR:6356752314245179e-9,bounds:new oe([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(h){var S=Math.PI/180,C=this.R,z=h.lat*S,ue=this.R_MINOR/C,Se=Math.sqrt(1-ue*ue),Be=Se*Math.sin(z),Qe=Math.tan(Math.PI/4-z/2)/Math.pow((1-Be)/(1+Be),Se/2);return z=-C*Math.log(Math.max(Qe,1e-10)),new ae(h.lng*S*C,z)},unproject:function(h){for(var S=180/Math.PI,C=this.R,z=this.R_MINOR/C,ue=Math.sqrt(1-z*z),Se=Math.exp(-h.y/C),Be=Math.PI/2-2*Math.atan(Se),Qe=0,Xe=.1,ot;Qe<15&&Math.abs(Xe)>1e-7;Qe++)ot=ue*Math.sin(Be),ot=Math.pow((1-ot)/(1+ot),ue/2),Xe=Math.PI/2-2*Math.atan(Se*ot)-Be,Be+=Xe;return new ee(Be*S,h.x*S/C)}},cB={__proto__:null,LonLat:hy,Mercator:py,SphericalMercator:pe},dB=i({},$,{code:"EPSG:3395",projection:py,transformation:function(){var h=.5/(Math.PI*py.R);return w(h,.5,-h,.5)}()}),jx=i({},$,{code:"EPSG:4326",projection:hy,transformation:w(1/180,1,-1/180,.5)}),hB=i({},A,{projection:hy,transformation:w(1,0,-1,0),scale:function(h){return Math.pow(2,h)},zoom:function(h){return Math.log(h)/Math.LN2},distance:function(h,S){var C=S.lng-h.lng,z=S.lat-h.lat;return Math.sqrt(C*C+z*z)},infinite:!0});A.Earth=$,A.EPSG3395=dB,A.EPSG3857=x,A.EPSG900913=k,A.EPSG4326=jx,A.Simple=hB;var Ni=le.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(h){return h.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(h){return h&&h.removeLayer(this),this},getPane:function(h){return this._map.getPane(h?this.options[h]||h:this.options.pane)},addInteractiveTarget:function(h){return this._map._targets[l(h)]=this,this},removeInteractiveTarget:function(h){return delete this._map._targets[l(h)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(h){var S=h.target;if(S.hasLayer(this)){if(this._map=S,this._zoomAnimated=S._zoomAnimated,this.getEvents){var C=this.getEvents();S.on(C,this),this.once("remove",function(){S.off(C,this)},this)}this.onAdd(S),this.fire("add"),S.fire("layeradd",{layer:this})}}});Ut.include({addLayer:function(h){if(!h._layerAdd)throw new Error("The provided object is not a Layer.");var S=l(h);return this._layers[S]?this:(this._layers[S]=h,h._mapToAdd=this,h.beforeAdd&&h.beforeAdd(this),this.whenReady(h._layerAdd,h),this)},removeLayer:function(h){var S=l(h);return this._layers[S]?(this._loaded&&h.onRemove(this),delete this._layers[S],this._loaded&&(this.fire("layerremove",{layer:h}),h.fire("remove")),h._map=h._mapToAdd=null,this):this},hasLayer:function(h){return l(h)in this._layers},eachLayer:function(h,S){for(var C in this._layers)h.call(S,this._layers[C]);return this},_addLayers:function(h){h=h?g(h)?h:[h]:[];for(var S=0,C=h.length;S<C;S++)this.addLayer(h[S])},_addZoomLimit:function(h){(!isNaN(h.options.maxZoom)||!isNaN(h.options.minZoom))&&(this._zoomBoundLayers[l(h)]=h,this._updateZoomLevels())},_removeZoomLimit:function(h){var S=l(h);this._zoomBoundLayers[S]&&(delete this._zoomBoundLayers[S],this._updateZoomLevels())},_updateZoomLevels:function(){var h=1/0,S=-1/0,C=this._getZoomSpan();for(var z in this._zoomBoundLayers){var ue=this._zoomBoundLayers[z].options;h=ue.minZoom===void 0?h:Math.min(h,ue.minZoom),S=ue.maxZoom===void 0?S:Math.max(S,ue.maxZoom)}this._layersMaxZoom=S===-1/0?void 0:S,this._layersMinZoom=h===1/0?void 0:h,C!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var tu=Ni.extend({initialize:function(h,S){v(this,S),this._layers={};var C,z;if(h)for(C=0,z=h.length;C<z;C++)this.addLayer(h[C])},addLayer:function(h){var S=this.getLayerId(h);return this._layers[S]=h,this._map&&this._map.addLayer(h),this},removeLayer:function(h){var S=h in this._layers?h:this.getLayerId(h);return this._map&&this._layers[S]&&this._map.removeLayer(this._layers[S]),delete this._layers[S],this},hasLayer:function(h){var S=typeof h=="number"?h:this.getLayerId(h);return S in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(h){var S=Array.prototype.slice.call(arguments,1),C,z;for(C in this._layers)z=this._layers[C],z[h]&&z[h].apply(z,S);return this},onAdd:function(h){this.eachLayer(h.addLayer,h)},onRemove:function(h){this.eachLayer(h.removeLayer,h)},eachLayer:function(h,S){for(var C in this._layers)h.call(S,this._layers[C]);return this},getLayer:function(h){return this._layers[h]},getLayers:function(){var h=[];return this.eachLayer(h.push,h),h},setZIndex:function(h){return this.invoke("setZIndex",h)},getLayerId:function(h){return l(h)}}),pB=function(h,S){return new tu(h,S)},Sa=tu.extend({addLayer:function(h){return this.hasLayer(h)?this:(h.addEventParent(this),tu.prototype.addLayer.call(this,h),this.fire("layeradd",{layer:h}))},removeLayer:function(h){return this.hasLayer(h)?(h in this._layers&&(h=this._layers[h]),h.removeEventParent(this),tu.prototype.removeLayer.call(this,h),this.fire("layerremove",{layer:h})):this},setStyle:function(h){return this.invoke("setStyle",h)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var h=new Y;for(var S in this._layers){var C=this._layers[S];h.extend(C.getBounds?C.getBounds():C.getLatLng())}return h}}),mB=function(h,S){return new Sa(h,S)},ru=Q.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(h){v(this,h)},createIcon:function(h){return this._createIcon("icon",h)},createShadow:function(h){return this._createIcon("shadow",h)},_createIcon:function(h,S){var C=this._getIconUrl(h);if(!C){if(h==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var z=this._createImg(C,S&&S.tagName==="IMG"?S:null);return this._setIconStyles(z,h),(this.options.crossOrigin||this.options.crossOrigin==="")&&(z.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),z},_setIconStyles:function(h,S){var C=this.options,z=C[S+"Size"];typeof z=="number"&&(z=[z,z]);var ue=V(z),Se=V(S==="shadow"&&C.shadowAnchor||C.iconAnchor||ue&&ue.divideBy(2,!0));h.className="leaflet-marker-"+S+" "+(C.className||""),Se&&(h.style.marginLeft=-Se.x+"px",h.style.marginTop=-Se.y+"px"),ue&&(h.style.width=ue.x+"px",h.style.height=ue.y+"px")},_createImg:function(h,S){return S=S||document.createElement("img"),S.src=h,S},_getIconUrl:function(h){return $e.retina&&this.options[h+"RetinaUrl"]||this.options[h+"Url"]}});function yB(h){return new ru(h)}var Al=ru.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(h){return typeof Al.imagePath!="string"&&(Al.imagePath=this._detectIconPath()),(this.options.imagePath||Al.imagePath)+ru.prototype._getIconUrl.call(this,h)},_stripUrl:function(h){var S=function(C,z,ue){var Se=z.exec(C);return Se&&Se[ue]};return h=S(h,/^url\((['"])?(.+)\1\)$/,2),h&&S(h,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var h=Ft("div","leaflet-default-icon-path",document.body),S=no(h,"background-image")||no(h,"backgroundImage");if(document.body.removeChild(h),S=this._stripUrl(S),S)return S;var C=document.querySelector('link[href$="leaflet.css"]');return C?C.href.substring(0,C.href.length-11-1):""}}),Bx=Ji.extend({initialize:function(h){this._marker=h},addHooks:function(){var h=this._marker._icon;this._draggable||(this._draggable=new io(h,h,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Nt(h,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Nr(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(h){var S=this._marker,C=S._map,z=this._marker.options.autoPanSpeed,ue=this._marker.options.autoPanPadding,Se=es(S._icon),Be=C.getPixelBounds(),Qe=C.getPixelOrigin(),Xe=he(Be.min._subtract(Qe).add(ue),Be.max._subtract(Qe).subtract(ue));if(!Xe.contains(Se)){var ot=V((Math.max(Xe.max.x,Se.x)-Xe.max.x)/(Be.max.x-Xe.max.x)-(Math.min(Xe.min.x,Se.x)-Xe.min.x)/(Be.min.x-Xe.min.x),(Math.max(Xe.max.y,Se.y)-Xe.max.y)/(Be.max.y-Xe.max.y)-(Math.min(Xe.min.y,Se.y)-Xe.min.y)/(Be.min.y-Xe.min.y)).multiplyBy(z);C.panBy(ot,{animate:!1}),this._draggable._newPos._add(ot),this._draggable._startPos._add(ot),$r(S._icon,this._draggable._newPos),this._onDrag(h),this._panRequest=j(this._adjustPan.bind(this,h))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(h){this._marker.options.autoPan&&(O(this._panRequest),this._panRequest=j(this._adjustPan.bind(this,h)))},_onDrag:function(h){var S=this._marker,C=S._shadow,z=es(S._icon),ue=S._map.layerPointToLatLng(z);C&&$r(C,z),S._latlng=ue,h.latlng=ue,h.oldLatLng=this._oldLatLng,S.fire("move",h).fire("drag",h)},_onDragEnd:function(h){O(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",h)}}),mp=Ni.extend({options:{icon:new Al,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(h,S){v(this,S),this._latlng=P(h)},onAdd:function(h){this._zoomAnimated=this._zoomAnimated&&h.options.markerZoomAnimation,this._zoomAnimated&&h.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(h){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&h.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(h){var S=this._latlng;return this._latlng=P(h),this.update(),this.fire("move",{oldLatLng:S,latlng:this._latlng})},setZIndexOffset:function(h){return this.options.zIndexOffset=h,this.update()},getIcon:function(){return this.options.icon},setIcon:function(h){return this.options.icon=h,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var h=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(h)}return this},_initIcon:function(){var h=this.options,S="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),C=h.icon.createIcon(this._icon),z=!1;C!==this._icon&&(this._icon&&this._removeIcon(),z=!0,h.title&&(C.title=h.title),C.tagName==="IMG"&&(C.alt=h.alt||"")),Nt(C,S),h.keyboard&&(C.tabIndex="0",C.setAttribute("role","button")),this._icon=C,h.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Pt(C,"focus",this._panOnFocus,this);var ue=h.icon.createShadow(this._shadow),Se=!1;ue!==this._shadow&&(this._removeShadow(),Se=!0),ue&&(Nt(ue,S),ue.alt=""),this._shadow=ue,h.opacity<1&&this._updateOpacity(),z&&this.getPane().appendChild(this._icon),this._initInteraction(),ue&&Se&&this.getPane(h.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ar(this._icon,"focus",this._panOnFocus,this),Jt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Jt(this._shadow),this._shadow=null},_setPos:function(h){this._icon&&$r(this._icon,h),this._shadow&&$r(this._shadow,h),this._zIndex=h.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(h){this._icon&&(this._icon.style.zIndex=this._zIndex+h)},_animateZoom:function(h){var S=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center).round();this._setPos(S)},_initInteraction:function(){if(this.options.interactive&&(Nt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Bx)){var h=this.options.draggable;this.dragging&&(h=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Bx(this),h&&this.dragging.enable()}},setOpacity:function(h){return this.options.opacity=h,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var h=this.options.opacity;this._icon&&ui(this._icon,h),this._shadow&&ui(this._shadow,h)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var h=this._map;if(h){var S=this.options.icon.options,C=S.iconSize?V(S.iconSize):V(0,0),z=S.iconAnchor?V(S.iconAnchor):V(0,0);h.panInside(this._latlng,{paddingTopLeft:z,paddingBottomRight:C.subtract(z)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function gB(h,S){return new mp(h,S)}var ao=Ni.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(h){this._renderer=h.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(h){return v(this,h),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&h&&Object.prototype.hasOwnProperty.call(h,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),yp=ao.extend({options:{fill:!0,radius:10},initialize:function(h,S){v(this,S),this._latlng=P(h),this._radius=this.options.radius},setLatLng:function(h){var S=this._latlng;return this._latlng=P(h),this.redraw(),this.fire("move",{oldLatLng:S,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(h){return this.options.radius=this._radius=h,this.redraw()},getRadius:function(){return this._radius},setStyle:function(h){var S=h&&h.radius||this._radius;return ao.prototype.setStyle.call(this,h),this.setRadius(S),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var h=this._radius,S=this._radiusY||h,C=this._clickTolerance(),z=[h+C,S+C];this._pxBounds=new oe(this._point.subtract(z),this._point.add(z))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(h){return h.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function _B(h,S){return new yp(h,S)}var my=yp.extend({initialize:function(h,S,C){if(typeof S=="number"&&(S=i({},C,{radius:S})),v(this,S),this._latlng=P(h),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(h){return this._mRadius=h,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var h=[this._radius,this._radiusY||this._radius];return new Y(this._map.layerPointToLatLng(this._point.subtract(h)),this._map.layerPointToLatLng(this._point.add(h)))},setStyle:ao.prototype.setStyle,_project:function(){var h=this._latlng.lng,S=this._latlng.lat,C=this._map,z=C.options.crs;if(z.distance===$.distance){var ue=Math.PI/180,Se=this._mRadius/$.R/ue,Be=C.project([S+Se,h]),Qe=C.project([S-Se,h]),Xe=Be.add(Qe).divideBy(2),ot=C.unproject(Xe).lat,yt=Math.acos((Math.cos(Se*ue)-Math.sin(S*ue)*Math.sin(ot*ue))/(Math.cos(S*ue)*Math.cos(ot*ue)))/ue;(isNaN(yt)||yt===0)&&(yt=Se/Math.cos(Math.PI/180*S)),this._point=Xe.subtract(C.getPixelOrigin()),this._radius=isNaN(yt)?0:Xe.x-C.project([ot,h-yt]).x,this._radiusY=Xe.y-Be.y}else{var Tt=z.unproject(z.project(this._latlng).subtract([this._mRadius,0]));this._point=C.latLngToLayerPoint(this._latlng),this._radius=this._point.x-C.latLngToLayerPoint(Tt).x}this._updateBounds()}});function bB(h,S,C){return new my(h,S,C)}var xa=ao.extend({options:{smoothFactor:1,noClip:!1},initialize:function(h,S){v(this,S),this._setLatLngs(h)},getLatLngs:function(){return this._latlngs},setLatLngs:function(h){return this._setLatLngs(h),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(h){for(var S=1/0,C=null,z=Rl,ue,Se,Be=0,Qe=this._parts.length;Be<Qe;Be++)for(var Xe=this._parts[Be],ot=1,yt=Xe.length;ot<yt;ot++){ue=Xe[ot-1],Se=Xe[ot];var Tt=z(h,ue,Se,!0);Tt<S&&(S=Tt,C=z(h,ue,Se))}return C&&(C.distance=Math.sqrt(S)),C},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Fx(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(h,S){return S=S||this._defaultShape(),h=P(h),S.push(h),this._bounds.extend(h),this.redraw()},_setLatLngs:function(h){this._bounds=new Y,this._latlngs=this._convertLatLngs(h)},_defaultShape:function(){return li(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(h){for(var S=[],C=li(h),z=0,ue=h.length;z<ue;z++)C?(S[z]=P(h[z]),this._bounds.extend(S[z])):S[z]=this._convertLatLngs(h[z]);return S},_project:function(){var h=new oe;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,h),this._bounds.isValid()&&h.isValid()&&(this._rawPxBounds=h,this._updateBounds())},_updateBounds:function(){var h=this._clickTolerance(),S=new ae(h,h);this._rawPxBounds&&(this._pxBounds=new oe([this._rawPxBounds.min.subtract(S),this._rawPxBounds.max.add(S)]))},_projectLatlngs:function(h,S,C){var z=h[0]instanceof ee,ue=h.length,Se,Be;if(z){for(Be=[],Se=0;Se<ue;Se++)Be[Se]=this._map.latLngToLayerPoint(h[Se]),C.extend(Be[Se]);S.push(Be)}else for(Se=0;Se<ue;Se++)this._projectLatlngs(h[Se],S,C)},_clipPoints:function(){var h=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(h))){if(this.options.noClip){this._parts=this._rings;return}var S=this._parts,C,z,ue,Se,Be,Qe,Xe;for(C=0,ue=0,Se=this._rings.length;C<Se;C++)for(Xe=this._rings[C],z=0,Be=Xe.length;z<Be-1;z++)Qe=Mx(Xe[z],Xe[z+1],h,z,!0),Qe&&(S[ue]=S[ue]||[],S[ue].push(Qe[0]),(Qe[1]!==Xe[z+1]||z===Be-2)&&(S[ue].push(Qe[1]),ue++))}},_simplifyPoints:function(){for(var h=this._parts,S=this.options.smoothFactor,C=0,z=h.length;C<z;C++)h[C]=Nx(h[C],S)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(h,S){var C,z,ue,Se,Be,Qe,Xe=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(h))return!1;for(C=0,Se=this._parts.length;C<Se;C++)for(Qe=this._parts[C],z=0,Be=Qe.length,ue=Be-1;z<Be;ue=z++)if(!(!S&&z===0)&&Cx(h,Qe[ue],Qe[z])<=Xe)return!0;return!1}});function vB(h,S){return new xa(h,S)}xa._flat=kx;var nu=xa.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Dx(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(h){var S=xa.prototype._convertLatLngs.call(this,h),C=S.length;return C>=2&&S[0]instanceof ee&&S[0].equals(S[C-1])&&S.pop(),S},_setLatLngs:function(h){xa.prototype._setLatLngs.call(this,h),li(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return li(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var h=this._renderer._bounds,S=this.options.weight,C=new ae(S,S);if(h=new oe(h.min.subtract(C),h.max.add(C)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(h))){if(this.options.noClip){this._parts=this._rings;return}for(var z=0,ue=this._rings.length,Se;z<ue;z++)Se=Px(this._rings[z],h,!0),Se.length&&this._parts.push(Se)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(h){var S=!1,C,z,ue,Se,Be,Qe,Xe,ot;if(!this._pxBounds||!this._pxBounds.contains(h))return!1;for(Se=0,Xe=this._parts.length;Se<Xe;Se++)for(C=this._parts[Se],Be=0,ot=C.length,Qe=ot-1;Be<ot;Qe=Be++)z=C[Be],ue=C[Qe],z.y>h.y!=ue.y>h.y&&h.x<(ue.x-z.x)*(h.y-z.y)/(ue.y-z.y)+z.x&&(S=!S);return S||xa.prototype._containsPoint.call(this,h,!0)}});function wB(h,S){return new nu(h,S)}var Ta=Sa.extend({initialize:function(h,S){v(this,S),this._layers={},h&&this.addData(h)},addData:function(h){var S=g(h)?h:h.features,C,z,ue;if(S){for(C=0,z=S.length;C<z;C++)ue=S[C],(ue.geometries||ue.geometry||ue.features||ue.coordinates)&&this.addData(ue);return this}var Se=this.options;if(Se.filter&&!Se.filter(h))return this;var Be=gp(h,Se);return Be?(Be.feature=vp(h),Be.defaultOptions=Be.options,this.resetStyle(Be),Se.onEachFeature&&Se.onEachFeature(h,Be),this.addLayer(Be)):this},resetStyle:function(h){return h===void 0?this.eachLayer(this.resetStyle,this):(h.options=i({},h.defaultOptions),this._setLayerStyle(h,this.options.style),this)},setStyle:function(h){return this.eachLayer(function(S){this._setLayerStyle(S,h)},this)},_setLayerStyle:function(h,S){h.setStyle&&(typeof S=="function"&&(S=S(h.feature)),h.setStyle(S))}});function gp(h,S){var C=h.type==="Feature"?h.geometry:h,z=C?C.coordinates:null,ue=[],Se=S&&S.pointToLayer,Be=S&&S.coordsToLatLng||yy,Qe,Xe,ot,yt;if(!z&&!C)return null;switch(C.type){case"Point":return Qe=Be(z),qx(Se,h,Qe,S);case"MultiPoint":for(ot=0,yt=z.length;ot<yt;ot++)Qe=Be(z[ot]),ue.push(qx(Se,h,Qe,S));return new Sa(ue);case"LineString":case"MultiLineString":return Xe=_p(z,C.type==="LineString"?0:1,Be),new xa(Xe,S);case"Polygon":case"MultiPolygon":return Xe=_p(z,C.type==="Polygon"?1:2,Be),new nu(Xe,S);case"GeometryCollection":for(ot=0,yt=C.geometries.length;ot<yt;ot++){var Tt=gp({geometry:C.geometries[ot],type:"Feature",properties:h.properties},S);Tt&&ue.push(Tt)}return new Sa(ue);case"FeatureCollection":for(ot=0,yt=C.features.length;ot<yt;ot++){var Lt=gp(C.features[ot],S);Lt&&ue.push(Lt)}return new Sa(ue);default:throw new Error("Invalid GeoJSON object.")}}function qx(h,S,C,z){return h?h(S,C):new mp(C,z&&z.markersInheritOptions&&z)}function yy(h){return new ee(h[1],h[0],h[2])}function _p(h,S,C){for(var z=[],ue=0,Se=h.length,Be;ue<Se;ue++)Be=S?_p(h[ue],S-1,C):(C||yy)(h[ue]),z.push(Be);return z}function gy(h,S){return h=P(h),h.alt!==void 0?[c(h.lng,S),c(h.lat,S),c(h.alt,S)]:[c(h.lng,S),c(h.lat,S)]}function bp(h,S,C,z){for(var ue=[],Se=0,Be=h.length;Se<Be;Se++)ue.push(S?bp(h[Se],li(h[Se])?0:S-1,C,z):gy(h[Se],z));return!S&&C&&ue.length>0&&ue.push(ue[0].slice()),ue}function iu(h,S){return h.feature?i({},h.feature,{geometry:S}):vp(S)}function vp(h){return h.type==="Feature"||h.type==="FeatureCollection"?h:{type:"Feature",properties:{},geometry:h}}var _y={toGeoJSON:function(h){return iu(this,{type:"Point",coordinates:gy(this.getLatLng(),h)})}};mp.include(_y),my.include(_y),yp.include(_y),xa.include({toGeoJSON:function(h){var S=!li(this._latlngs),C=bp(this._latlngs,S?1:0,!1,h);return iu(this,{type:(S?"Multi":"")+"LineString",coordinates:C})}}),nu.include({toGeoJSON:function(h){var S=!li(this._latlngs),C=S&&!li(this._latlngs[0]),z=bp(this._latlngs,C?2:S?1:0,!0,h);return S||(z=[z]),iu(this,{type:(C?"Multi":"")+"Polygon",coordinates:z})}}),tu.include({toMultiPoint:function(h){var S=[];return this.eachLayer(function(C){S.push(C.toGeoJSON(h).geometry.coordinates)}),iu(this,{type:"MultiPoint",coordinates:S})},toGeoJSON:function(h){var S=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(S==="MultiPoint")return this.toMultiPoint(h);var C=S==="GeometryCollection",z=[];return this.eachLayer(function(ue){if(ue.toGeoJSON){var Se=ue.toGeoJSON(h);if(C)z.push(Se.geometry);else{var Be=vp(Se);Be.type==="FeatureCollection"?z.push.apply(z,Be.features):z.push(Be)}}}),C?iu(this,{geometries:z,type:"GeometryCollection"}):{type:"FeatureCollection",features:z}}});function $x(h,S){return new Ta(h,S)}var EB=$x,wp=Ni.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(h,S,C){this._url=h,this._bounds=Z(S),v(this,C)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Nt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Jt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(h){return this.options.opacity=h,this._image&&this._updateOpacity(),this},setStyle:function(h){return h.opacity&&this.setOpacity(h.opacity),this},bringToFront:function(){return this._map&&Js(this._image),this},bringToBack:function(){return this._map&&eu(this._image),this},setUrl:function(h){return this._url=h,this._image&&(this._image.src=h),this},setBounds:function(h){return this._bounds=Z(h),this._map&&this._reset(),this},getEvents:function(){var h={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},setZIndex:function(h){return this.options.zIndex=h,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var h=this._url.tagName==="IMG",S=this._image=h?this._url:Ft("img");if(Nt(S,"leaflet-image-layer"),this._zoomAnimated&&Nt(S,"leaflet-zoom-animated"),this.options.className&&Nt(S,this.options.className),S.onselectstart=d,S.onmousemove=d,S.onload=o(this.fire,this,"load"),S.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(S.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),h){this._url=S.src;return}S.src=this._url,S.alt=this.options.alt},_animateZoom:function(h){var S=this._map.getZoomScale(h.zoom),C=this._map._latLngBoundsToNewLayerBounds(this._bounds,h.zoom,h.center).min;Jo(this._image,C,S)},_reset:function(){var h=this._image,S=new oe(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),C=S.getSize();$r(h,S.min),h.style.width=C.x+"px",h.style.height=C.y+"px"},_updateOpacity:function(){ui(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var h=this.options.errorOverlayUrl;h&&this._url!==h&&(this._url=h,this._image.src=h)},getCenter:function(){return this._bounds.getCenter()}}),SB=function(h,S,C){return new wp(h,S,C)},Ux=wp.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var h=this._url.tagName==="VIDEO",S=this._image=h?this._url:Ft("video");if(Nt(S,"leaflet-image-layer"),this._zoomAnimated&&Nt(S,"leaflet-zoom-animated"),this.options.className&&Nt(S,this.options.className),S.onselectstart=d,S.onmousemove=d,S.onloadeddata=o(this.fire,this,"load"),h){for(var C=S.getElementsByTagName("source"),z=[],ue=0;ue<C.length;ue++)z.push(C[ue].src);this._url=C.length>0?z:[S.src];return}g(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(S.style,"objectFit")&&(S.style.objectFit="fill"),S.autoplay=!!this.options.autoplay,S.loop=!!this.options.loop,S.muted=!!this.options.muted,S.playsInline=!!this.options.playsInline;for(var Se=0;Se<this._url.length;Se++){var Be=Ft("source");Be.src=this._url[Se],S.appendChild(Be)}}});function xB(h,S,C){return new Ux(h,S,C)}var Hx=wp.extend({_initImage:function(){var h=this._image=this._url;Nt(h,"leaflet-image-layer"),this._zoomAnimated&&Nt(h,"leaflet-zoom-animated"),this.options.className&&Nt(h,this.options.className),h.onselectstart=d,h.onmousemove=d}});function TB(h,S,C){return new Hx(h,S,C)}var ea=Ni.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(h,S){h&&(h instanceof ee||g(h))?(this._latlng=P(h),v(this,S)):(v(this,h),this._source=S),this.options.content&&(this._content=this.options.content)},openOn:function(h){return h=arguments.length?h:this._source._map,h.hasLayer(this)||h.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(h){return this._map?this.close():(arguments.length?this._source=h:h=this._source,this._prepareOpen(),this.openOn(h._map)),this},onAdd:function(h){this._zoomAnimated=h._zoomAnimated,this._container||this._initLayout(),h._fadeAnimated&&ui(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),h._fadeAnimated&&ui(this._container,1),this.bringToFront(),this.options.interactive&&(Nt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(h){h._fadeAnimated?(ui(this._container,0),this._removeTimeout=setTimeout(o(Jt,void 0,this._container),200)):Jt(this._container),this.options.interactive&&(Nr(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(h){return this._latlng=P(h),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(h){return this._content=h,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var h={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Js(this._container),this},bringToBack:function(){return this._map&&eu(this._container),this},_prepareOpen:function(h){var S=this._source;if(!S._map)return!1;if(S instanceof Sa){S=null;var C=this._source._layers;for(var z in C)if(C[z]._map){S=C[z];break}if(!S)return!1;this._source=S}if(!h)if(S.getCenter)h=S.getCenter();else if(S.getLatLng)h=S.getLatLng();else if(S.getBounds)h=S.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(h),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var h=this._contentNode,S=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof S=="string")h.innerHTML=S;else{for(;h.hasChildNodes();)h.removeChild(h.firstChild);h.appendChild(S)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var h=this._map.latLngToLayerPoint(this._latlng),S=V(this.options.offset),C=this._getAnchor();this._zoomAnimated?$r(this._container,h.add(C)):S=S.add(h).add(C);var z=this._containerBottom=-S.y,ue=this._containerLeft=-Math.round(this._containerWidth/2)+S.x;this._container.style.bottom=z+"px",this._container.style.left=ue+"px"}},_getAnchor:function(){return[0,0]}});Ut.include({_initOverlay:function(h,S,C,z){var ue=S;return ue instanceof h||(ue=new h(z).setContent(S)),C&&ue.setLatLng(C),ue}}),Ni.include({_initOverlay:function(h,S,C,z){var ue=C;return ue instanceof h?(v(ue,z),ue._source=this):(ue=S&&!z?S:new h(z,this),ue.setContent(C)),ue}});var Ep=ea.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(h){return h=arguments.length?h:this._source._map,!h.hasLayer(this)&&h._popup&&h._popup.options.autoClose&&h.removeLayer(h._popup),h._popup=this,ea.prototype.openOn.call(this,h)},onAdd:function(h){ea.prototype.onAdd.call(this,h),h.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ao||this._source.on("preclick",ts))},onRemove:function(h){ea.prototype.onRemove.call(this,h),h.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ao||this._source.off("preclick",ts))},getEvents:function(){var h=ea.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(h.preclick=this.close),this.options.keepInView&&(h.moveend=this._adjustPan),h},_initLayout:function(){var h="leaflet-popup",S=this._container=Ft("div",h+" "+(this.options.className||"")+" leaflet-zoom-animated"),C=this._wrapper=Ft("div",h+"-content-wrapper",S);if(this._contentNode=Ft("div",h+"-content",C),xl(S),sy(this._contentNode),Pt(S,"contextmenu",ts),this._tipContainer=Ft("div",h+"-tip-container",S),this._tip=Ft("div",h+"-tip",this._tipContainer),this.options.closeButton){var z=this._closeButton=Ft("a",h+"-close-button",S);z.setAttribute("role","button"),z.setAttribute("aria-label","Close popup"),z.href="#close",z.innerHTML='<span aria-hidden="true">&#215;</span>',Pt(z,"click",function(ue){on(ue),this.close()},this)}},_updateLayout:function(){var h=this._contentNode,S=h.style;S.width="",S.whiteSpace="nowrap";var C=h.offsetWidth;C=Math.min(C,this.options.maxWidth),C=Math.max(C,this.options.minWidth),S.width=C+1+"px",S.whiteSpace="",S.height="";var z=h.offsetHeight,ue=this.options.maxHeight,Se="leaflet-popup-scrolled";ue&&z>ue?(S.height=ue+"px",Nt(h,Se)):Nr(h,Se),this._containerWidth=this._container.offsetWidth},_animateZoom:function(h){var S=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center),C=this._getAnchor();$r(this._container,S.add(C))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var h=this._map,S=parseInt(no(this._container,"marginBottom"),10)||0,C=this._container.offsetHeight+S,z=this._containerWidth,ue=new ae(this._containerLeft,-C-this._containerBottom);ue._add(es(this._container));var Se=h.layerPointToContainerPoint(ue),Be=V(this.options.autoPanPadding),Qe=V(this.options.autoPanPaddingTopLeft||Be),Xe=V(this.options.autoPanPaddingBottomRight||Be),ot=h.getSize(),yt=0,Tt=0;Se.x+z+Xe.x>ot.x&&(yt=Se.x+z-ot.x+Xe.x),Se.x-yt-Qe.x<0&&(yt=Se.x-Qe.x),Se.y+C+Xe.y>ot.y&&(Tt=Se.y+C-ot.y+Xe.y),Se.y-Tt-Qe.y<0&&(Tt=Se.y-Qe.y),(yt||Tt)&&(this.options.keepInView&&(this._autopanning=!0),h.fire("autopanstart").panBy([yt,Tt]))}},_getAnchor:function(){return V(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),RB=function(h,S){return new Ep(h,S)};Ut.mergeOptions({closePopupOnClick:!0}),Ut.include({openPopup:function(h,S,C){return this._initOverlay(Ep,h,S,C).openOn(this),this},closePopup:function(h){return h=arguments.length?h:this._popup,h&&h.close(),this}}),Ni.include({bindPopup:function(h,S){return this._popup=this._initOverlay(Ep,this._popup,h,S),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(h){return this._popup&&(this instanceof Sa||(this._popup._source=this),this._popup._prepareOpen(h||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(h){return this._popup&&this._popup.setContent(h),this},getPopup:function(){return this._popup},_openPopup:function(h){if(!(!this._popup||!this._map)){rs(h);var S=h.layer||h.target;if(this._popup._source===S&&!(S instanceof ao)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(h.latlng);return}this._popup._source=S,this.openPopup(h.latlng)}},_movePopup:function(h){this._popup.setLatLng(h.latlng)},_onKeyPress:function(h){h.originalEvent.keyCode===13&&this._openPopup(h)}});var Sp=ea.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(h){ea.prototype.onAdd.call(this,h),this.setOpacity(this.options.opacity),h.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(h){ea.prototype.onRemove.call(this,h),h.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var h=ea.prototype.getEvents.call(this);return this.options.permanent||(h.preclick=this.close),h},_initLayout:function(){var h="leaflet-tooltip",S=h+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ft("div",S),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+l(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(h){var S,C,z=this._map,ue=this._container,Se=z.latLngToContainerPoint(z.getCenter()),Be=z.layerPointToContainerPoint(h),Qe=this.options.direction,Xe=ue.offsetWidth,ot=ue.offsetHeight,yt=V(this.options.offset),Tt=this._getAnchor();Qe==="top"?(S=Xe/2,C=ot):Qe==="bottom"?(S=Xe/2,C=0):Qe==="center"?(S=Xe/2,C=ot/2):Qe==="right"?(S=0,C=ot/2):Qe==="left"?(S=Xe,C=ot/2):Be.x<Se.x?(Qe="right",S=0,C=ot/2):(Qe="left",S=Xe+(yt.x+Tt.x)*2,C=ot/2),h=h.subtract(V(S,C,!0)).add(yt).add(Tt),Nr(ue,"leaflet-tooltip-right"),Nr(ue,"leaflet-tooltip-left"),Nr(ue,"leaflet-tooltip-top"),Nr(ue,"leaflet-tooltip-bottom"),Nt(ue,"leaflet-tooltip-"+Qe),$r(ue,h)},_updatePosition:function(){var h=this._map.latLngToLayerPoint(this._latlng);this._setPosition(h)},setOpacity:function(h){this.options.opacity=h,this._container&&ui(this._container,h)},_animateZoom:function(h){var S=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center);this._setPosition(S)},_getAnchor:function(){return V(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),AB=function(h,S){return new Sp(h,S)};Ut.include({openTooltip:function(h,S,C){return this._initOverlay(Sp,h,S,C).openOn(this),this},closeTooltip:function(h){return h.close(),this}}),Ni.include({bindTooltip:function(h,S){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Sp,this._tooltip,h,S),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(h){if(!(!h&&this._tooltipHandlersAdded)){var S=h?"off":"on",C={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?C.add=this._openTooltip:(C.mouseover=this._openTooltip,C.mouseout=this.closeTooltip,C.click=this._openTooltip,this._map?this._addFocusListeners():C.add=this._addFocusListeners),this._tooltip.options.sticky&&(C.mousemove=this._moveTooltip),this[S](C),this._tooltipHandlersAdded=!h}},openTooltip:function(h){return this._tooltip&&(this instanceof Sa||(this._tooltip._source=this),this._tooltip._prepareOpen(h)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(h){return this._tooltip&&this._tooltip.setContent(h),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(h){var S=typeof h.getElement=="function"&&h.getElement();S&&(Pt(S,"focus",function(){this._tooltip._source=h,this.openTooltip()},this),Pt(S,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(h){var S=typeof h.getElement=="function"&&h.getElement();S&&S.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(h){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var S=this;this._map.once("moveend",function(){S._openOnceFlag=!1,S._openTooltip(h)});return}this._tooltip._source=h.layer||h.target,this.openTooltip(this._tooltip.options.sticky?h.latlng:void 0)}},_moveTooltip:function(h){var S=h.latlng,C,z;this._tooltip.options.sticky&&h.originalEvent&&(C=this._map.mouseEventToContainerPoint(h.originalEvent),z=this._map.containerPointToLayerPoint(C),S=this._map.layerPointToLatLng(z)),this._tooltip.setLatLng(S)}});var Vx=ru.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(h){var S=h&&h.tagName==="DIV"?h:document.createElement("div"),C=this.options;if(C.html instanceof Element?(Pi(S),S.appendChild(C.html)):S.innerHTML=C.html!==!1?C.html:"",C.bgPos){var z=V(C.bgPos);S.style.backgroundPosition=-z.x+"px "+-z.y+"px"}return this._setIconStyles(S,"icon"),S},createShadow:function(){return null}});function IB(h){return new Vx(h)}ru.Default=Al;var Il=Ni.extend({options:{tileSize:256,opacity:1,updateWhenIdle:$e.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(h){v(this,h)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(h){h._addZoomLimit(this)},onRemove:function(h){this._removeAllTiles(),Jt(this._container),h._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Js(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(eu(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(h){return this.options.opacity=h,this._updateOpacity(),this},setZIndex:function(h){return this.options.zIndex=h,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var h=this._clampZoom(this._map.getZoom());h!==this._tileZoom&&(this._tileZoom=h,this._updateLevels()),this._update()}return this},getEvents:function(){var h={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=u(this._onMoveEnd,this.options.updateInterval,this)),h.move=this._onMove),this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},createTile:function(){return document.createElement("div")},getTileSize:function(){var h=this.options.tileSize;return h instanceof ae?h:new ae(h,h)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(h){for(var S=this.getPane().children,C=-h(-1/0,1/0),z=0,ue=S.length,Se;z<ue;z++)Se=S[z].style.zIndex,S[z]!==this._container&&Se&&(C=h(C,+Se));isFinite(C)&&(this.options.zIndex=C+h(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!$e.ielt9){ui(this._container,this.options.opacity);var h=+new Date,S=!1,C=!1;for(var z in this._tiles){var ue=this._tiles[z];if(!(!ue.current||!ue.loaded)){var Se=Math.min(1,(h-ue.loaded)/200);ui(ue.el,Se),Se<1?S=!0:(ue.active?C=!0:this._onOpaqueTile(ue),ue.active=!0)}}C&&!this._noPrune&&this._pruneTiles(),S&&(O(this._fadeFrame),this._fadeFrame=j(this._updateOpacity,this))}},_onOpaqueTile:d,_initContainer:function(){this._container||(this._container=Ft("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var h=this._tileZoom,S=this.options.maxZoom;if(h!==void 0){for(var C in this._levels)C=Number(C),this._levels[C].el.children.length||C===h?(this._levels[C].el.style.zIndex=S-Math.abs(h-C),this._onUpdateLevel(C)):(Jt(this._levels[C].el),this._removeTilesAtZoom(C),this._onRemoveLevel(C),delete this._levels[C]);var z=this._levels[h],ue=this._map;return z||(z=this._levels[h]={},z.el=Ft("div","leaflet-tile-container leaflet-zoom-animated",this._container),z.el.style.zIndex=S,z.origin=ue.project(ue.unproject(ue.getPixelOrigin()),h).round(),z.zoom=h,this._setZoomTransform(z,ue.getCenter(),ue.getZoom()),d(z.el.offsetWidth),this._onCreateLevel(z)),this._level=z,z}},_onUpdateLevel:d,_onRemoveLevel:d,_onCreateLevel:d,_pruneTiles:function(){if(this._map){var h,S,C=this._map.getZoom();if(C>this.options.maxZoom||C<this.options.minZoom){this._removeAllTiles();return}for(h in this._tiles)S=this._tiles[h],S.retain=S.current;for(h in this._tiles)if(S=this._tiles[h],S.current&&!S.active){var z=S.coords;this._retainParent(z.x,z.y,z.z,z.z-5)||this._retainChildren(z.x,z.y,z.z,z.z+2)}for(h in this._tiles)this._tiles[h].retain||this._removeTile(h)}},_removeTilesAtZoom:function(h){for(var S in this._tiles)this._tiles[S].coords.z===h&&this._removeTile(S)},_removeAllTiles:function(){for(var h in this._tiles)this._removeTile(h)},_invalidateAll:function(){for(var h in this._levels)Jt(this._levels[h].el),this._onRemoveLevel(Number(h)),delete this._levels[h];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(h,S,C,z){var ue=Math.floor(h/2),Se=Math.floor(S/2),Be=C-1,Qe=new ae(+ue,+Se);Qe.z=+Be;var Xe=this._tileCoordsToKey(Qe),ot=this._tiles[Xe];return ot&&ot.active?(ot.retain=!0,!0):(ot&&ot.loaded&&(ot.retain=!0),Be>z?this._retainParent(ue,Se,Be,z):!1)},_retainChildren:function(h,S,C,z){for(var ue=2*h;ue<2*h+2;ue++)for(var Se=2*S;Se<2*S+2;Se++){var Be=new ae(ue,Se);Be.z=C+1;var Qe=this._tileCoordsToKey(Be),Xe=this._tiles[Qe];if(Xe&&Xe.active){Xe.retain=!0;continue}else Xe&&Xe.loaded&&(Xe.retain=!0);C+1<z&&this._retainChildren(ue,Se,C+1,z)}},_resetView:function(h){var S=h&&(h.pinch||h.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),S,S)},_animateZoom:function(h){this._setView(h.center,h.zoom,!0,h.noUpdate)},_clampZoom:function(h){var S=this.options;return S.minNativeZoom!==void 0&&h<S.minNativeZoom?S.minNativeZoom:S.maxNativeZoom!==void 0&&S.maxNativeZoom<h?S.maxNativeZoom:h},_setView:function(h,S,C,z){var ue=Math.round(S);this.options.maxZoom!==void 0&&ue>this.options.maxZoom||this.options.minZoom!==void 0&&ue<this.options.minZoom?ue=void 0:ue=this._clampZoom(ue);var Se=this.options.updateWhenZooming&&ue!==this._tileZoom;(!z||Se)&&(this._tileZoom=ue,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),ue!==void 0&&this._update(h),C||this._pruneTiles(),this._noPrune=!!C),this._setZoomTransforms(h,S)},_setZoomTransforms:function(h,S){for(var C in this._levels)this._setZoomTransform(this._levels[C],h,S)},_setZoomTransform:function(h,S,C){var z=this._map.getZoomScale(C,h.zoom),ue=h.origin.multiplyBy(z).subtract(this._map._getNewPixelOrigin(S,C)).round();$e.any3d?Jo(h.el,ue,z):$r(h.el,ue)},_resetGrid:function(){var h=this._map,S=h.options.crs,C=this._tileSize=this.getTileSize(),z=this._tileZoom,ue=this._map.getPixelWorldBounds(this._tileZoom);ue&&(this._globalTileRange=this._pxBoundsToTileRange(ue)),this._wrapX=S.wrapLng&&!this.options.noWrap&&[Math.floor(h.project([0,S.wrapLng[0]],z).x/C.x),Math.ceil(h.project([0,S.wrapLng[1]],z).x/C.y)],this._wrapY=S.wrapLat&&!this.options.noWrap&&[Math.floor(h.project([S.wrapLat[0],0],z).y/C.x),Math.ceil(h.project([S.wrapLat[1],0],z).y/C.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(h){var S=this._map,C=S._animatingZoom?Math.max(S._animateToZoom,S.getZoom()):S.getZoom(),z=S.getZoomScale(C,this._tileZoom),ue=S.project(h,this._tileZoom).floor(),Se=S.getSize().divideBy(z*2);return new oe(ue.subtract(Se),ue.add(Se))},_update:function(h){var S=this._map;if(S){var C=this._clampZoom(S.getZoom());if(h===void 0&&(h=S.getCenter()),this._tileZoom!==void 0){var z=this._getTiledPixelBounds(h),ue=this._pxBoundsToTileRange(z),Se=ue.getCenter(),Be=[],Qe=this.options.keepBuffer,Xe=new oe(ue.getBottomLeft().subtract([Qe,-Qe]),ue.getTopRight().add([Qe,-Qe]));if(!(isFinite(ue.min.x)&&isFinite(ue.min.y)&&isFinite(ue.max.x)&&isFinite(ue.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ot in this._tiles){var yt=this._tiles[ot].coords;(yt.z!==this._tileZoom||!Xe.contains(new ae(yt.x,yt.y)))&&(this._tiles[ot].current=!1)}if(Math.abs(C-this._tileZoom)>1){this._setView(h,C);return}for(var Tt=ue.min.y;Tt<=ue.max.y;Tt++)for(var Lt=ue.min.x;Lt<=ue.max.x;Lt++){var Tn=new ae(Lt,Tt);if(Tn.z=this._tileZoom,!!this._isValidTile(Tn)){var en=this._tiles[this._tileCoordsToKey(Tn)];en?en.current=!0:Be.push(Tn)}}if(Be.sort(function($n,ou){return $n.distanceTo(Se)-ou.distanceTo(Se)}),Be.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var fi=document.createDocumentFragment();for(Lt=0;Lt<Be.length;Lt++)this._addTile(Be[Lt],fi);this._level.el.appendChild(fi)}}}},_isValidTile:function(h){var S=this._map.options.crs;if(!S.infinite){var C=this._globalTileRange;if(!S.wrapLng&&(h.x<C.min.x||h.x>C.max.x)||!S.wrapLat&&(h.y<C.min.y||h.y>C.max.y))return!1}if(!this.options.bounds)return!0;var z=this._tileCoordsToBounds(h);return Z(this.options.bounds).overlaps(z)},_keyToBounds:function(h){return this._tileCoordsToBounds(this._keyToTileCoords(h))},_tileCoordsToNwSe:function(h){var S=this._map,C=this.getTileSize(),z=h.scaleBy(C),ue=z.add(C),Se=S.unproject(z,h.z),Be=S.unproject(ue,h.z);return[Se,Be]},_tileCoordsToBounds:function(h){var S=this._tileCoordsToNwSe(h),C=new Y(S[0],S[1]);return this.options.noWrap||(C=this._map.wrapLatLngBounds(C)),C},_tileCoordsToKey:function(h){return h.x+":"+h.y+":"+h.z},_keyToTileCoords:function(h){var S=h.split(":"),C=new ae(+S[0],+S[1]);return C.z=+S[2],C},_removeTile:function(h){var S=this._tiles[h];S&&(Jt(S.el),delete this._tiles[h],this.fire("tileunload",{tile:S.el,coords:this._keyToTileCoords(h)}))},_initTile:function(h){Nt(h,"leaflet-tile");var S=this.getTileSize();h.style.width=S.x+"px",h.style.height=S.y+"px",h.onselectstart=d,h.onmousemove=d,$e.ielt9&&this.options.opacity<1&&ui(h,this.options.opacity)},_addTile:function(h,S){var C=this._getTilePos(h),z=this._tileCoordsToKey(h),ue=this.createTile(this._wrapCoords(h),o(this._tileReady,this,h));this._initTile(ue),this.createTile.length<2&&j(o(this._tileReady,this,h,null,ue)),$r(ue,C),this._tiles[z]={el:ue,coords:h,current:!0},S.appendChild(ue),this.fire("tileloadstart",{tile:ue,coords:h})},_tileReady:function(h,S,C){S&&this.fire("tileerror",{error:S,tile:C,coords:h});var z=this._tileCoordsToKey(h);C=this._tiles[z],C&&(C.loaded=+new Date,this._map._fadeAnimated?(ui(C.el,0),O(this._fadeFrame),this._fadeFrame=j(this._updateOpacity,this)):(C.active=!0,this._pruneTiles()),S||(Nt(C.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:C.el,coords:h})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),$e.ielt9||!this._map._fadeAnimated?j(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(h){return h.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(h){var S=new ae(this._wrapX?f(h.x,this._wrapX):h.x,this._wrapY?f(h.y,this._wrapY):h.y);return S.z=h.z,S},_pxBoundsToTileRange:function(h){var S=this.getTileSize();return new oe(h.min.unscaleBy(S).floor(),h.max.unscaleBy(S).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var h in this._tiles)if(!this._tiles[h].loaded)return!1;return!0}});function OB(h){return new Il(h)}var au=Il.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(h,S){this._url=h,S=v(this,S),S.detectRetina&&$e.retina&&S.maxZoom>0?(S.tileSize=Math.floor(S.tileSize/2),S.zoomReverse?(S.zoomOffset--,S.minZoom=Math.min(S.maxZoom,S.minZoom+1)):(S.zoomOffset++,S.maxZoom=Math.max(S.minZoom,S.maxZoom-1)),S.minZoom=Math.max(0,S.minZoom)):S.zoomReverse?S.minZoom=Math.min(S.maxZoom,S.minZoom):S.maxZoom=Math.max(S.minZoom,S.maxZoom),typeof S.subdomains=="string"&&(S.subdomains=S.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(h,S){return this._url===h&&S===void 0&&(S=!0),this._url=h,S||this.redraw(),this},createTile:function(h,S){var C=document.createElement("img");return Pt(C,"load",o(this._tileOnLoad,this,S,C)),Pt(C,"error",o(this._tileOnError,this,S,C)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(C.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(C.referrerPolicy=this.options.referrerPolicy),C.alt="",C.src=this.getTileUrl(h),C},getTileUrl:function(h){var S={r:$e.retina?"@2x":"",s:this._getSubdomain(h),x:h.x,y:h.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var C=this._globalTileRange.max.y-h.y;this.options.tms&&(S.y=C),S["-y"]=C}return m(this._url,i(S,this.options))},_tileOnLoad:function(h,S){$e.ielt9?setTimeout(o(h,this,null,S),0):h(null,S)},_tileOnError:function(h,S,C){var z=this.options.errorTileUrl;z&&S.getAttribute("src")!==z&&(S.src=z),h(C,S)},_onTileRemove:function(h){h.tile.onload=null},_getZoomForUrl:function(){var h=this._tileZoom,S=this.options.maxZoom,C=this.options.zoomReverse,z=this.options.zoomOffset;return C&&(h=S-h),h+z},_getSubdomain:function(h){var S=Math.abs(h.x+h.y)%this.options.subdomains.length;return this.options.subdomains[S]},_abortLoading:function(){var h,S;for(h in this._tiles)if(this._tiles[h].coords.z!==this._tileZoom&&(S=this._tiles[h].el,S.onload=d,S.onerror=d,!S.complete)){S.src=T;var C=this._tiles[h].coords;Jt(S),delete this._tiles[h],this.fire("tileabort",{tile:S,coords:C})}},_removeTile:function(h){var S=this._tiles[h];if(S)return S.el.setAttribute("src",T),Il.prototype._removeTile.call(this,h)},_tileReady:function(h,S,C){if(!(!this._map||C&&C.getAttribute("src")===T))return Il.prototype._tileReady.call(this,h,S,C)}});function zx(h,S){return new au(h,S)}var Wx=au.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(h,S){this._url=h;var C=i({},this.defaultWmsParams);for(var z in S)z in this.options||(C[z]=S[z]);S=v(this,S);var ue=S.detectRetina&&$e.retina?2:1,Se=this.getTileSize();C.width=Se.x*ue,C.height=Se.y*ue,this.wmsParams=C},onAdd:function(h){this._crs=this.options.crs||h.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var S=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[S]=this._crs.code,au.prototype.onAdd.call(this,h)},getTileUrl:function(h){var S=this._tileCoordsToNwSe(h),C=this._crs,z=he(C.project(S[0]),C.project(S[1])),ue=z.min,Se=z.max,Be=(this._wmsVersion>=1.3&&this._crs===jx?[ue.y,ue.x,Se.y,Se.x]:[ue.x,ue.y,Se.x,Se.y]).join(","),Qe=au.prototype.getTileUrl.call(this,h);return Qe+_(this.wmsParams,Qe,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Be},setParams:function(h,S){return i(this.wmsParams,h),S||this.redraw(),this}});function PB(h,S){return new Wx(h,S)}au.WMS=Wx,zx.wms=PB;var Ra=Ni.extend({options:{padding:.1},initialize:function(h){v(this,h),l(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Nt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var h={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(h.zoomanim=this._onAnimZoom),h},_onAnimZoom:function(h){this._updateTransform(h.center,h.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(h,S){var C=this._map.getZoomScale(S,this._zoom),z=this._map.getSize().multiplyBy(.5+this.options.padding),ue=this._map.project(this._center,S),Se=z.multiplyBy(-C).add(ue).subtract(this._map._getNewPixelOrigin(h,S));$e.any3d?Jo(this._container,Se,C):$r(this._container,Se)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var h in this._layers)this._layers[h]._reset()},_onZoomEnd:function(){for(var h in this._layers)this._layers[h]._project()},_updatePaths:function(){for(var h in this._layers)this._layers[h]._update()},_update:function(){var h=this.options.padding,S=this._map.getSize(),C=this._map.containerPointToLayerPoint(S.multiplyBy(-h)).round();this._bounds=new oe(C,C.add(S.multiplyBy(1+h*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Gx=Ra.extend({options:{tolerance:0},getEvents:function(){var h=Ra.prototype.getEvents.call(this);return h.viewprereset=this._onViewPreReset,h},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ra.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var h=this._container=document.createElement("canvas");Pt(h,"mousemove",this._onMouseMove,this),Pt(h,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Pt(h,"mouseout",this._handleMouseOut,this),h._leaflet_disable_events=!0,this._ctx=h.getContext("2d")},_destroyContainer:function(){O(this._redrawRequest),delete this._ctx,Jt(this._container),ar(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var h;this._redrawBounds=null;for(var S in this._layers)h=this._layers[S],h._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ra.prototype._update.call(this);var h=this._bounds,S=this._container,C=h.getSize(),z=$e.retina?2:1;$r(S,h.min),S.width=z*C.x,S.height=z*C.y,S.style.width=C.x+"px",S.style.height=C.y+"px",$e.retina&&this._ctx.scale(2,2),this._ctx.translate(-h.min.x,-h.min.y),this.fire("update")}},_reset:function(){Ra.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(h){this._updateDashArray(h),this._layers[l(h)]=h;var S=h._order={layer:h,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=S),this._drawLast=S,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(h){this._requestRedraw(h)},_removePath:function(h){var S=h._order,C=S.next,z=S.prev;C?C.prev=z:this._drawLast=z,z?z.next=C:this._drawFirst=C,delete h._order,delete this._layers[l(h)],this._requestRedraw(h)},_updatePath:function(h){this._extendRedrawBounds(h),h._project(),h._update(),this._requestRedraw(h)},_updateStyle:function(h){this._updateDashArray(h),this._requestRedraw(h)},_updateDashArray:function(h){if(typeof h.options.dashArray=="string"){var S=h.options.dashArray.split(/[, ]+/),C=[],z,ue;for(ue=0;ue<S.length;ue++){if(z=Number(S[ue]),isNaN(z))return;C.push(z)}h.options._dashArray=C}else h.options._dashArray=h.options.dashArray},_requestRedraw:function(h){this._map&&(this._extendRedrawBounds(h),this._redrawRequest=this._redrawRequest||j(this._redraw,this))},_extendRedrawBounds:function(h){if(h._pxBounds){var S=(h.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new oe,this._redrawBounds.extend(h._pxBounds.min.subtract([S,S])),this._redrawBounds.extend(h._pxBounds.max.add([S,S]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var h=this._redrawBounds;if(h){var S=h.getSize();this._ctx.clearRect(h.min.x,h.min.y,S.x,S.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var h,S=this._redrawBounds;if(this._ctx.save(),S){var C=S.getSize();this._ctx.beginPath(),this._ctx.rect(S.min.x,S.min.y,C.x,C.y),this._ctx.clip()}this._drawing=!0;for(var z=this._drawFirst;z;z=z.next)h=z.layer,(!S||h._pxBounds&&h._pxBounds.intersects(S))&&h._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(h,S){if(this._drawing){var C,z,ue,Se,Be=h._parts,Qe=Be.length,Xe=this._ctx;if(Qe){for(Xe.beginPath(),C=0;C<Qe;C++){for(z=0,ue=Be[C].length;z<ue;z++)Se=Be[C][z],Xe[z?"lineTo":"moveTo"](Se.x,Se.y);S&&Xe.closePath()}this._fillStroke(Xe,h)}}},_updateCircle:function(h){if(!(!this._drawing||h._empty())){var S=h._point,C=this._ctx,z=Math.max(Math.round(h._radius),1),ue=(Math.max(Math.round(h._radiusY),1)||z)/z;ue!==1&&(C.save(),C.scale(1,ue)),C.beginPath(),C.arc(S.x,S.y/ue,z,0,Math.PI*2,!1),ue!==1&&C.restore(),this._fillStroke(C,h)}},_fillStroke:function(h,S){var C=S.options;C.fill&&(h.globalAlpha=C.fillOpacity,h.fillStyle=C.fillColor||C.color,h.fill(C.fillRule||"evenodd")),C.stroke&&C.weight!==0&&(h.setLineDash&&h.setLineDash(S.options&&S.options._dashArray||[]),h.globalAlpha=C.opacity,h.lineWidth=C.weight,h.strokeStyle=C.color,h.lineCap=C.lineCap,h.lineJoin=C.lineJoin,h.stroke())},_onClick:function(h){for(var S=this._map.mouseEventToLayerPoint(h),C,z,ue=this._drawFirst;ue;ue=ue.next)C=ue.layer,C.options.interactive&&C._containsPoint(S)&&(!(h.type==="click"||h.type==="preclick")||!this._map._draggableMoved(C))&&(z=C);this._fireEvent(z?[z]:!1,h)},_onMouseMove:function(h){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var S=this._map.mouseEventToLayerPoint(h);this._handleMouseHover(h,S)}},_handleMouseOut:function(h){var S=this._hoveredLayer;S&&(Nr(this._container,"leaflet-interactive"),this._fireEvent([S],h,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(h,S){if(!this._mouseHoverThrottled){for(var C,z,ue=this._drawFirst;ue;ue=ue.next)C=ue.layer,C.options.interactive&&C._containsPoint(S)&&(z=C);z!==this._hoveredLayer&&(this._handleMouseOut(h),z&&(Nt(this._container,"leaflet-interactive"),this._fireEvent([z],h,"mouseover"),this._hoveredLayer=z)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,h),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(h,S,C){this._map._fireDOMEvent(S,C||S.type,h)},_bringToFront:function(h){var S=h._order;if(S){var C=S.next,z=S.prev;if(C)C.prev=z;else return;z?z.next=C:C&&(this._drawFirst=C),S.prev=this._drawLast,this._drawLast.next=S,S.next=null,this._drawLast=S,this._requestRedraw(h)}},_bringToBack:function(h){var S=h._order;if(S){var C=S.next,z=S.prev;if(z)z.next=C;else return;C?C.prev=z:z&&(this._drawLast=z),S.prev=null,S.next=this._drawFirst,this._drawFirst.prev=S,this._drawFirst=S,this._requestRedraw(h)}}});function Kx(h){return $e.canvas?new Gx(h):null}var Ol=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(h){return document.createElement("<lvml:"+h+' class="lvml">')}}catch{}return function(h){return document.createElement("<"+h+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),DB={_initContainer:function(){this._container=Ft("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ra.prototype._update.call(this),this.fire("update"))},_initPath:function(h){var S=h._container=Ol("shape");Nt(S,"leaflet-vml-shape "+(this.options.className||"")),S.coordsize="1 1",h._path=Ol("path"),S.appendChild(h._path),this._updateStyle(h),this._layers[l(h)]=h},_addPath:function(h){var S=h._container;this._container.appendChild(S),h.options.interactive&&h.addInteractiveTarget(S)},_removePath:function(h){var S=h._container;Jt(S),h.removeInteractiveTarget(S),delete this._layers[l(h)]},_updateStyle:function(h){var S=h._stroke,C=h._fill,z=h.options,ue=h._container;ue.stroked=!!z.stroke,ue.filled=!!z.fill,z.stroke?(S||(S=h._stroke=Ol("stroke")),ue.appendChild(S),S.weight=z.weight+"px",S.color=z.color,S.opacity=z.opacity,z.dashArray?S.dashStyle=g(z.dashArray)?z.dashArray.join(" "):z.dashArray.replace(/( *, *)/g," "):S.dashStyle="",S.endcap=z.lineCap.replace("butt","flat"),S.joinstyle=z.lineJoin):S&&(ue.removeChild(S),h._stroke=null),z.fill?(C||(C=h._fill=Ol("fill")),ue.appendChild(C),C.color=z.fillColor||z.color,C.opacity=z.fillOpacity):C&&(ue.removeChild(C),h._fill=null)},_updateCircle:function(h){var S=h._point.round(),C=Math.round(h._radius),z=Math.round(h._radiusY||C);this._setPath(h,h._empty()?"M0 0":"AL "+S.x+","+S.y+" "+C+","+z+" 0,"+65535*360)},_setPath:function(h,S){h._path.v=S},_bringToFront:function(h){Js(h._container)},_bringToBack:function(h){eu(h._container)}},xp=$e.vml?Ol:U,Pl=Ra.extend({_initContainer:function(){this._container=xp("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=xp("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Jt(this._container),ar(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ra.prototype._update.call(this);var h=this._bounds,S=h.getSize(),C=this._container;(!this._svgSize||!this._svgSize.equals(S))&&(this._svgSize=S,C.setAttribute("width",S.x),C.setAttribute("height",S.y)),$r(C,h.min),C.setAttribute("viewBox",[h.min.x,h.min.y,S.x,S.y].join(" ")),this.fire("update")}},_initPath:function(h){var S=h._path=xp("path");h.options.className&&Nt(S,h.options.className),h.options.interactive&&Nt(S,"leaflet-interactive"),this._updateStyle(h),this._layers[l(h)]=h},_addPath:function(h){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(h._path),h.addInteractiveTarget(h._path)},_removePath:function(h){Jt(h._path),h.removeInteractiveTarget(h._path),delete this._layers[l(h)]},_updatePath:function(h){h._project(),h._update()},_updateStyle:function(h){var S=h._path,C=h.options;S&&(C.stroke?(S.setAttribute("stroke",C.color),S.setAttribute("stroke-opacity",C.opacity),S.setAttribute("stroke-width",C.weight),S.setAttribute("stroke-linecap",C.lineCap),S.setAttribute("stroke-linejoin",C.lineJoin),C.dashArray?S.setAttribute("stroke-dasharray",C.dashArray):S.removeAttribute("stroke-dasharray"),C.dashOffset?S.setAttribute("stroke-dashoffset",C.dashOffset):S.removeAttribute("stroke-dashoffset")):S.setAttribute("stroke","none"),C.fill?(S.setAttribute("fill",C.fillColor||C.color),S.setAttribute("fill-opacity",C.fillOpacity),S.setAttribute("fill-rule",C.fillRule||"evenodd")):S.setAttribute("fill","none"))},_updatePoly:function(h,S){this._setPath(h,re(h._parts,S))},_updateCircle:function(h){var S=h._point,C=Math.max(Math.round(h._radius),1),z=Math.max(Math.round(h._radiusY),1)||C,ue="a"+C+","+z+" 0 1,0 ",Se=h._empty()?"M0 0":"M"+(S.x-C)+","+S.y+ue+C*2+",0 "+ue+-C*2+",0 ";this._setPath(h,Se)},_setPath:function(h,S){h._path.setAttribute("d",S)},_bringToFront:function(h){Js(h._path)},_bringToBack:function(h){eu(h._path)}});$e.vml&&Pl.include(DB);function Zx(h){return $e.svg||$e.vml?new Pl(h):null}Ut.include({getRenderer:function(h){var S=h.options.renderer||this._getPaneRenderer(h.options.pane)||this.options.renderer||this._renderer;return S||(S=this._renderer=this._createRenderer()),this.hasLayer(S)||this.addLayer(S),S},_getPaneRenderer:function(h){if(h==="overlayPane"||h===void 0)return!1;var S=this._paneRenderers[h];return S===void 0&&(S=this._createRenderer({pane:h}),this._paneRenderers[h]=S),S},_createRenderer:function(h){return this.options.preferCanvas&&Kx(h)||Zx(h)}});var Yx=nu.extend({initialize:function(h,S){nu.prototype.initialize.call(this,this._boundsToLatLngs(h),S)},setBounds:function(h){return this.setLatLngs(this._boundsToLatLngs(h))},_boundsToLatLngs:function(h){return h=Z(h),[h.getSouthWest(),h.getNorthWest(),h.getNorthEast(),h.getSouthEast()]}});function NB(h,S){return new Yx(h,S)}Pl.create=xp,Pl.pointsToPath=re,Ta.geometryToLayer=gp,Ta.coordsToLatLng=yy,Ta.coordsToLatLngs=_p,Ta.latLngToCoords=gy,Ta.latLngsToCoords=bp,Ta.getFeature=iu,Ta.asFeature=vp,Ut.mergeOptions({boxZoom:!0});var Qx=Ji.extend({initialize:function(h){this._map=h,this._container=h._container,this._pane=h._panes.overlayPane,this._resetStateTimeout=0,h.on("unload",this._destroy,this)},addHooks:function(){Pt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ar(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Jt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(h){if(!h.shiftKey||h.which!==1&&h.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),wl(),Jm(),this._startPoint=this._map.mouseEventToContainerPoint(h),Pt(document,{contextmenu:rs,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(h){this._moved||(this._moved=!0,this._box=Ft("div","leaflet-zoom-box",this._container),Nt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(h);var S=new oe(this._point,this._startPoint),C=S.getSize();$r(this._box,S.min),this._box.style.width=C.x+"px",this._box.style.height=C.y+"px"},_finish:function(){this._moved&&(Jt(this._box),Nr(this._container,"leaflet-crosshair")),El(),ey(),ar(document,{contextmenu:rs,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(h){if(!(h.which!==1&&h.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var S=new Y(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(S).fire("boxzoomend",{boxZoomBounds:S})}},_onKeyDown:function(h){h.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ut.addInitHook("addHandler","boxZoom",Qx),Ut.mergeOptions({doubleClickZoom:!0});var Xx=Ji.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(h){var S=this._map,C=S.getZoom(),z=S.options.zoomDelta,ue=h.originalEvent.shiftKey?C-z:C+z;S.options.doubleClickZoom==="center"?S.setZoom(ue):S.setZoomAround(h.containerPoint,ue)}});Ut.addInitHook("addHandler","doubleClickZoom",Xx),Ut.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Jx=Ji.extend({addHooks:function(){if(!this._draggable){var h=this._map;this._draggable=new io(h._mapPane,h._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),h.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),h.on("zoomend",this._onZoomEnd,this),h.whenReady(this._onZoomEnd,this))}Nt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Nr(this._map._container,"leaflet-grab"),Nr(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var h=this._map;if(h._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var S=Z(this._map.options.maxBounds);this._offsetLimit=he(this._map.latLngToContainerPoint(S.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(S.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;h.fire("movestart").fire("dragstart"),h.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(h){if(this._map.options.inertia){var S=this._lastTime=+new Date,C=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(C),this._times.push(S),this._prunePositions(S)}this._map.fire("move",h).fire("drag",h)},_prunePositions:function(h){for(;this._positions.length>1&&h-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var h=this._map.getSize().divideBy(2),S=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=S.subtract(h).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(h,S){return h-(h-S)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var h=this._draggable._newPos.subtract(this._draggable._startPos),S=this._offsetLimit;h.x<S.min.x&&(h.x=this._viscousLimit(h.x,S.min.x)),h.y<S.min.y&&(h.y=this._viscousLimit(h.y,S.min.y)),h.x>S.max.x&&(h.x=this._viscousLimit(h.x,S.max.x)),h.y>S.max.y&&(h.y=this._viscousLimit(h.y,S.max.y)),this._draggable._newPos=this._draggable._startPos.add(h)}},_onPreDragWrap:function(){var h=this._worldWidth,S=Math.round(h/2),C=this._initialWorldOffset,z=this._draggable._newPos.x,ue=(z-S+C)%h+S-C,Se=(z+S+C)%h-S-C,Be=Math.abs(ue+C)<Math.abs(Se+C)?ue:Se;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Be},_onDragEnd:function(h){var S=this._map,C=S.options,z=!C.inertia||h.noInertia||this._times.length<2;if(S.fire("dragend",h),z)S.fire("moveend");else{this._prunePositions(+new Date);var ue=this._lastPos.subtract(this._positions[0]),Se=(this._lastTime-this._times[0])/1e3,Be=C.easeLinearity,Qe=ue.multiplyBy(Be/Se),Xe=Qe.distanceTo([0,0]),ot=Math.min(C.inertiaMaxSpeed,Xe),yt=Qe.multiplyBy(ot/Xe),Tt=ot/(C.inertiaDeceleration*Be),Lt=yt.multiplyBy(-Tt/2).round();!Lt.x&&!Lt.y?S.fire("moveend"):(Lt=S._limitOffset(Lt,S.options.maxBounds),j(function(){S.panBy(Lt,{duration:Tt,easeLinearity:Be,noMoveStart:!0,animate:!0})}))}}});Ut.addInitHook("addHandler","dragging",Jx),Ut.mergeOptions({keyboard:!0,keyboardPanDelta:80});var eT=Ji.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(h){this._map=h,this._setPanDelta(h.options.keyboardPanDelta),this._setZoomDelta(h.options.zoomDelta)},addHooks:function(){var h=this._map._container;h.tabIndex<=0&&(h.tabIndex="0"),Pt(h,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ar(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var h=document.body,S=document.documentElement,C=h.scrollTop||S.scrollTop,z=h.scrollLeft||S.scrollLeft;this._map._container.focus(),window.scrollTo(z,C)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(h){var S=this._panKeys={},C=this.keyCodes,z,ue;for(z=0,ue=C.left.length;z<ue;z++)S[C.left[z]]=[-1*h,0];for(z=0,ue=C.right.length;z<ue;z++)S[C.right[z]]=[h,0];for(z=0,ue=C.down.length;z<ue;z++)S[C.down[z]]=[0,h];for(z=0,ue=C.up.length;z<ue;z++)S[C.up[z]]=[0,-1*h]},_setZoomDelta:function(h){var S=this._zoomKeys={},C=this.keyCodes,z,ue;for(z=0,ue=C.zoomIn.length;z<ue;z++)S[C.zoomIn[z]]=h;for(z=0,ue=C.zoomOut.length;z<ue;z++)S[C.zoomOut[z]]=-h},_addHooks:function(){Pt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ar(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(h){if(!(h.altKey||h.ctrlKey||h.metaKey)){var S=h.keyCode,C=this._map,z;if(S in this._panKeys){if(!C._panAnim||!C._panAnim._inProgress)if(z=this._panKeys[S],h.shiftKey&&(z=V(z).multiplyBy(3)),C.options.maxBounds&&(z=C._limitOffset(V(z),C.options.maxBounds)),C.options.worldCopyJump){var ue=C.wrapLatLng(C.unproject(C.project(C.getCenter()).add(z)));C.panTo(ue)}else C.panBy(z)}else if(S in this._zoomKeys)C.setZoom(C.getZoom()+(h.shiftKey?3:1)*this._zoomKeys[S]);else if(S===27&&C._popup&&C._popup.options.closeOnEscapeKey)C.closePopup();else return;rs(h)}}});Ut.addInitHook("addHandler","keyboard",eT),Ut.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var tT=Ji.extend({addHooks:function(){Pt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ar(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(h){var S=Tx(h),C=this._map.options.wheelDebounceTime;this._delta+=S,this._lastMousePos=this._map.mouseEventToContainerPoint(h),this._startTime||(this._startTime=+new Date);var z=Math.max(C-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),z),rs(h)},_performZoom:function(){var h=this._map,S=h.getZoom(),C=this._map.options.zoomSnap||0;h._stop();var z=this._delta/(this._map.options.wheelPxPerZoomLevel*4),ue=4*Math.log(2/(1+Math.exp(-Math.abs(z))))/Math.LN2,Se=C?Math.ceil(ue/C)*C:ue,Be=h._limitZoom(S+(this._delta>0?Se:-Se))-S;this._delta=0,this._startTime=null,Be&&(h.options.scrollWheelZoom==="center"?h.setZoom(S+Be):h.setZoomAround(this._lastMousePos,S+Be))}});Ut.addInitHook("addHandler","scrollWheelZoom",tT);var CB=600;Ut.mergeOptions({tapHold:$e.touchNative&&$e.safari&&$e.mobile,tapTolerance:15});var rT=Ji.extend({addHooks:function(){Pt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ar(this._map._container,"touchstart",this._onDown,this)},_onDown:function(h){if(clearTimeout(this._holdTimeout),h.touches.length===1){var S=h.touches[0];this._startPos=this._newPos=new ae(S.clientX,S.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(Pt(document,"touchend",on),Pt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",S))},this),CB),Pt(document,"touchend touchcancel contextmenu",this._cancel,this),Pt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function h(){ar(document,"touchend",on),ar(document,"touchend touchcancel",h)},_cancel:function(){clearTimeout(this._holdTimeout),ar(document,"touchend touchcancel contextmenu",this._cancel,this),ar(document,"touchmove",this._onMove,this)},_onMove:function(h){var S=h.touches[0];this._newPos=new ae(S.clientX,S.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(h,S){var C=new MouseEvent(h,{bubbles:!0,cancelable:!0,view:window,screenX:S.screenX,screenY:S.screenY,clientX:S.clientX,clientY:S.clientY});C._simulated=!0,S.target.dispatchEvent(C)}});Ut.addInitHook("addHandler","tapHold",rT),Ut.mergeOptions({touchZoom:$e.touch,bounceAtZoomLimits:!0});var nT=Ji.extend({addHooks:function(){Nt(this._map._container,"leaflet-touch-zoom"),Pt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Nr(this._map._container,"leaflet-touch-zoom"),ar(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(h){var S=this._map;if(!(!h.touches||h.touches.length!==2||S._animatingZoom||this._zooming)){var C=S.mouseEventToContainerPoint(h.touches[0]),z=S.mouseEventToContainerPoint(h.touches[1]);this._centerPoint=S.getSize()._divideBy(2),this._startLatLng=S.containerPointToLatLng(this._centerPoint),S.options.touchZoom!=="center"&&(this._pinchStartLatLng=S.containerPointToLatLng(C.add(z)._divideBy(2))),this._startDist=C.distanceTo(z),this._startZoom=S.getZoom(),this._moved=!1,this._zooming=!0,S._stop(),Pt(document,"touchmove",this._onTouchMove,this),Pt(document,"touchend touchcancel",this._onTouchEnd,this),on(h)}},_onTouchMove:function(h){if(!(!h.touches||h.touches.length!==2||!this._zooming)){var S=this._map,C=S.mouseEventToContainerPoint(h.touches[0]),z=S.mouseEventToContainerPoint(h.touches[1]),ue=C.distanceTo(z)/this._startDist;if(this._zoom=S.getScaleZoom(ue,this._startZoom),!S.options.bounceAtZoomLimits&&(this._zoom<S.getMinZoom()&&ue<1||this._zoom>S.getMaxZoom()&&ue>1)&&(this._zoom=S._limitZoom(this._zoom)),S.options.touchZoom==="center"){if(this._center=this._startLatLng,ue===1)return}else{var Se=C._add(z)._divideBy(2)._subtract(this._centerPoint);if(ue===1&&Se.x===0&&Se.y===0)return;this._center=S.unproject(S.project(this._pinchStartLatLng,this._zoom).subtract(Se),this._zoom)}this._moved||(S._moveStart(!0,!1),this._moved=!0),O(this._animRequest);var Be=o(S._move,S,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=j(Be,this,!0),on(h)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,O(this._animRequest),ar(document,"touchmove",this._onTouchMove,this),ar(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ut.addInitHook("addHandler","touchZoom",nT),Ut.BoxZoom=Qx,Ut.DoubleClickZoom=Xx,Ut.Drag=Jx,Ut.Keyboard=eT,Ut.ScrollWheelZoom=tT,Ut.TapHold=rT,Ut.TouchZoom=nT,r.Bounds=oe,r.Browser=$e,r.CRS=A,r.Canvas=Gx,r.Circle=my,r.CircleMarker=yp,r.Class=Q,r.Control=Di,r.DivIcon=Vx,r.DivOverlay=ea,r.DomEvent=Q8,r.DomUtil=Z8,r.Draggable=io,r.Evented=le,r.FeatureGroup=Sa,r.GeoJSON=Ta,r.GridLayer=Il,r.Handler=Ji,r.Icon=ru,r.ImageOverlay=wp,r.LatLng=ee,r.LatLngBounds=Y,r.Layer=Ni,r.LayerGroup=tu,r.LineUtil=fB,r.Map=Ut,r.Marker=mp,r.Mixin=iB,r.Path=ao,r.Point=ae,r.PolyUtil=aB,r.Polygon=nu,r.Polyline=xa,r.Popup=Ep,r.PosAnimation=Rx,r.Projection=cB,r.Rectangle=Yx,r.Renderer=Ra,r.SVG=Pl,r.SVGOverlay=Hx,r.TileLayer=au,r.Tooltip=Sp,r.Transformation=R,r.Util=q,r.VideoOverlay=Ux,r.bind=o,r.bounds=he,r.canvas=Kx,r.circle=bB,r.circleMarker=_B,r.control=Tl,r.divIcon=IB,r.extend=i,r.featureGroup=mB,r.geoJSON=$x,r.geoJson=EB,r.gridLayer=OB,r.icon=yB,r.imageOverlay=SB,r.latLng=P,r.latLngBounds=Z,r.layerGroup=pB,r.map=X8,r.marker=gB,r.point=V,r.polygon=wB,r.polyline=vB,r.popup=RB,r.rectangle=NB,r.setOptions=v,r.stamp=l,r.svg=Zx,r.svgOverlay=TB,r.tileLayer=zx,r.tooltip=AB,r.transformation=w,r.version=n,r.videoOverlay=xB;var LB=window.L;r.noConflict=function(){return window.L=LB,this},window.L=r})}(Kd,Kd.exports)),Kd.exports}var G8=Iee();const Oee=Bh(G8),Pee=zB({__proto__:null,default:Oee},[G8]);var Vn={},xw={},iM;function Dee(){return iM||(iM=1,function(e,t){if(e.setImmediate)return;var r=1,n={},i=!1,a=e.document,o;function s(m){typeof m!="function"&&(m=new Function(""+m));for(var g=new Array(arguments.length-1),E=0;E<g.length;E++)g[E]=arguments[E+1];var T={callback:m,args:g};return n[r]=T,o(r),r++}function l(m){delete n[m]}function u(m){var g=m.callback,E=m.args;switch(E.length){case 0:g();break;case 1:g(E[0]);break;case 2:g(E[0],E[1]);break;case 3:g(E[0],E[1],E[2]);break;default:g.apply(t,E);break}}function f(m){if(i)setTimeout(f,0,m);else{var g=n[m];if(g){i=!0;try{u(g)}finally{l(m),i=!1}}}}function d(){o=function(m){ze.nextTick(function(){f(m)})}}function c(){if(e.postMessage&&!e.importScripts){var m=!0,g=e.onmessage;return e.onmessage=function(){m=!1},e.postMessage("","*"),e.onmessage=g,m}}function p(){var m="setImmediate$"+Math.random()+"$",g=function(E){E.source===e&&typeof E.data=="string"&&E.data.indexOf(m)===0&&f(+E.data.slice(m.length))};e.addEventListener?e.addEventListener("message",g,!1):e.attachEvent("onmessage",g),o=function(E){e.postMessage(m+E,"*")}}function b(){var m=new MessageChannel;m.port1.onmessage=function(g){var E=g.data;f(E)},o=function(g){m.port2.postMessage(g)}}function v(){var m=a.documentElement;o=function(g){var E=a.createElement("script");E.onreadystatechange=function(){f(g),E.onreadystatechange=null,m.removeChild(E),E=null},m.appendChild(E)}}function _(){o=function(m){setTimeout(f,0,m)}}var y=Object.getPrototypeOf&&Object.getPrototypeOf(e);y=y&&y.setTimeout?y:e,{}.toString.call(e.process)==="[object process]"?d():c()?p():e.MessageChannel?b():a&&"onreadystatechange"in a.createElement("script")?v():_(),y.setImmediate=s,y.clearImmediate=l}(typeof self>"u"?typeof xt>"u"?xw:xt:self)),xw}var aM;function Nee(){if(aM)return Vn;aM=1;var e=typeof xt<"u"&&xt||typeof self<"u"&&self||window,t=Function.prototype.apply;Vn.setTimeout=function(){return new r(t.call(setTimeout,e,arguments),clearTimeout)},Vn.setInterval=function(){return new r(t.call(setInterval,e,arguments),clearInterval)},Vn.clearTimeout=Vn.clearInterval=function(n){n&&n.close()};function r(n,i){this._id=n,this._clearFn=i}return r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(e,this._id)},Vn.enroll=function(n,i){clearTimeout(n._idleTimeoutId),n._idleTimeout=i},Vn.unenroll=function(n){clearTimeout(n._idleTimeoutId),n._idleTimeout=-1},Vn._unrefActive=Vn.active=function(n){clearTimeout(n._idleTimeoutId);var i=n._idleTimeout;i>=0&&(n._idleTimeoutId=setTimeout(function(){n._onTimeout&&n._onTimeout()},i))},Dee(),Vn.setImmediate=typeof self<"u"&&self.setImmediate||typeof xt<"u"&&xt.setImmediate||Vn.setImmediate,Vn.clearImmediate=typeof self<"u"&&self.clearImmediate||typeof xt<"u"&&xt.clearImmediate||Vn.clearImmediate,Vn}var Cee=Nee();typeof globalThis<"u"&&!globalThis.process&&(globalThis.process=ze,globalThis.setImmediate=Cee.setImmediate);p5(Ree).mount("#app");
